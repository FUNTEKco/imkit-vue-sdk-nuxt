(function(yt,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(yt=typeof globalThis<"u"?globalThis:yt||self,u(yt["IMKIT Vue SDK"]={},yt.Vue))})(this,function(yt,u){"use strict";var vTe=Object.defineProperty;var wO=yt=>{throw TypeError(yt)};var yTe=(yt,u,Vn)=>u in yt?vTe(yt,u,{enumerable:!0,configurable:!0,writable:!0,value:Vn}):yt[u]=Vn;var Ye=(yt,u,Vn)=>yTe(yt,typeof u!="symbol"?u+"":u,Vn),SO=(yt,u,Vn)=>u.has(yt)||wO("Cannot "+Vn);var qs=(yt,u,Vn)=>(SO(yt,u,"read from private field"),Vn?Vn.call(yt):u.get(yt)),dg=(yt,u,Vn)=>u.has(yt)?wO("Cannot add the same private member more than once"):u instanceof WeakSet?u.add(yt):u.set(yt,Vn),Sa=(yt,u,Vn,mo)=>(SO(yt,u,"write to private field"),mo?mo.call(yt,Vn):u.set(yt,Vn),Vn);var iT=(yt,u,Vn,mo)=>({set _(hg){Sa(yt,u,hg,Vn)},get _(){return qs(yt,u,mo)}});var zi,Tl,El;var Vn=document.createElement("style");Vn.textContent=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.static{position:static}.\\!absolute{position:absolute!important}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-1{bottom:-.25rem}.-right-1{right:-.25rem}.-right-2{right:-.5rem}.-top-10{top:-2.5rem}.-top-2{top:-.5rem}.bottom-0{bottom:0}.bottom-16{bottom:4rem}.bottom-2{bottom:.5rem}.bottom-\\[110\\%\\]{bottom:110%}.left-0{left:0}.left-2{left:.5rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-14{right:3.5rem}.right-2{right:.5rem}.right-2\\.5{right:.625rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-2{top:.5rem}.top-\\[-40px\\]{top:-40px}.top-\\[calc\\(50\\%_\\+_28px\\)\\]{top:calc(50% + 28px)}.z-10{z-index:10}.col-span-2{grid-column:span 2 / span 2}.row-span-2{grid-row:span 2 / span 2}.-m-2{margin:-.5rem}.m-2{margin:.5rem}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.-mx-3{margin-left:-.75rem;margin-right:-.75rem}.-my-2{margin-top:-.5rem;margin-bottom:-.5rem}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-\\[0\\.0625rem\\]{margin-bottom:.0625rem}.mb-\\[40px\\]{margin-bottom:40px}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-0\\.5{margin-right:.125rem}.mr-1{margin-right:.25rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-\\[0\\.0625rem\\]{margin-top:.0625rem}.\\!block{display:block!important}.block{display:block}.\\!flex{display:flex!important}.grid{display:grid}.contents{display:contents}.hidden{display:none}.\\!h-10{height:2.5rem!important}.\\!h-7{height:1.75rem!important}.\\!h-9{height:2.25rem!important}.\\!h-\\[26px\\]{height:26px!important}.\\!h-\\[30px\\]{height:30px!important}.\\!h-\\[34px\\]{height:34px!important}.\\!h-\\[38px\\]{height:38px!important}.\\!h-\\[50px\\]{height:50px!important}.\\!h-full{height:100%!important}.h-1{height:.25rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[120\\%\\]{height:120%}.h-\\[150px\\]{height:150px}.h-\\[2\\.8rem\\]{height:2.8rem}.h-\\[250px\\]{height:250px}.h-\\[300px\\]{height:300px}.h-\\[34px\\]{height:34px}.h-\\[50px\\]{height:50px}.h-\\[50vh\\]{height:50vh}.h-\\[59px\\]{height:59px}.h-\\[60px\\]{height:60px}.h-dvh{height:100dvh}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.\\!min-h-0\\.5{min-height:.125rem!important}.min-h-11{min-height:2.75rem}.min-h-\\[66px\\]{min-height:66px}.\\!w-10{width:2.5rem!important}.\\!w-7{width:1.75rem!important}.\\!w-9{width:2.25rem!important}.\\!w-\\[26px\\]{width:26px!important}.\\!w-\\[30px\\]{width:30px!important}.\\!w-\\[34px\\]{width:34px!important}.\\!w-\\[38px\\]{width:38px!important}.\\!w-\\[50px\\]{width:50px!important}.w-0{width:0px}.w-0\\.5{width:.125rem}.w-1{width:.25rem}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-12{width:3rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-4\\/5{width:80%}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[100px\\]{width:100px}.w-\\[120px\\]{width:120px}.w-\\[160px\\]{width:160px}.w-\\[2\\.8rem\\]{width:2.8rem}.w-\\[235px\\]{width:235px}.w-\\[250px\\]{width:250px}.w-\\[260px\\]{width:260px}.w-\\[300px\\]{width:300px}.w-\\[30px\\]{width:30px}.w-\\[34px\\]{width:34px}.w-\\[350px\\]{width:350px}.w-\\[360px\\]{width:360px}.w-\\[386px\\]{width:386px}.w-\\[40\\%\\]{width:40%}.w-\\[50px\\]{width:50px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-16{min-width:4rem}.min-w-5{min-width:1.25rem}.min-w-\\[200px\\]{min-width:200px}.min-w-\\[300px\\]{min-width:300px}.min-w-\\[380px\\]{min-width:380px}.max-w-\\[360px\\]{max-width:360px}.max-w-\\[420px\\]{max-width:420px}.max-w-\\[70\\%\\]{max-width:70%}.max-w-full{max-width:100%}.flex-shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.basis-0{flex-basis:0px}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-px{gap:1px}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.\\!rounded-none{border-radius:0!important}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-l-xl{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-xl{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.rounded-tl-xl{border-top-left-radius:.75rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.\\!bg-gray-400{--tw-bg-opacity: 1 !important;background-color:rgb(156 163 175 / var(--tw-bg-opacity))!important}.\\!bg-white{--tw-bg-opacity: 1 !important;background-color:rgb(255 255 255 / var(--tw-bg-opacity))!important}.bg-amber-400{--tw-bg-opacity: 1;background-color:rgb(251 191 36 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity))}.bg-blue-200{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-500{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-opacity-30{--tw-bg-opacity: .3}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-85{--tw-bg-opacity: .85}.bg-opacity-90{--tw-bg-opacity: .9}.fill-blue-300{fill:#93c5fd}.fill-blue-400{fill:#60a5fa}.fill-current{fill:currentColor}.fill-gray-100{fill:#f3f4f6}.fill-gray-600{fill:#4b5563}.fill-slate-500{fill:#64748b}.fill-slate-700{fill:#334155}.fill-zinc-100{fill:#f4f4f5}.stroke-slate-700{stroke:#334155}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-\\[3px\\]{padding:3px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-0\\.5{padding-bottom:.125rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.\\!text-3xl{font-size:1.875rem!important;line-height:2.25rem!important}.\\!text-base{font-size:1rem!important;line-height:1.5rem!important}.\\!text-lg{font-size:1.125rem!important;line-height:1.75rem!important}.text-\\[150px\\]{font-size:150px}.text-\\[50px\\]{font-size:50px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.leading-none{line-height:1}.text-\\[\\#444444\\]{--tw-text-opacity: 1;color:rgb(68 68 68 / var(--tw-text-opacity))}.text-\\[\\#60A5FA\\]{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity))}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-zinc-600{--tw-text-opacity: 1;color:rgb(82 82 91 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.placeholder-gray-400::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.placeholder-gray-400::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.opacity-0{opacity:0}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:transform:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-blue-200:hover{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-red-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity))}.hover\\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-red-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity))}.focus\\:ring-opacity-50:focus{--tw-ring-opacity: .5}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-200:disabled{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:flex{display:flex}.group:hover .group-hover\\:border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.dark\\:divide-zinc-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(63 63 70 / var(--tw-divide-opacity))}.dark\\:border-gray-500:is(.dark *){--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}.dark\\:border-zinc-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(39 39 42 / var(--tw-border-opacity))}.dark\\:\\!bg-zinc-800:is(.dark *){--tw-bg-opacity: 1 !important;background-color:rgb(39 39 42 / var(--tw-bg-opacity))!important}.dark\\:bg-blue-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity))}.dark\\:bg-red-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(153 27 27 / var(--tw-bg-opacity))}.dark\\:bg-slate-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark\\:bg-transparent:is(.dark *){background-color:transparent}.dark\\:bg-zinc-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\\:bg-zinc-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.dark\\:bg-zinc-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.dark\\:fill-sky-700:is(.dark *){fill:#0369a1}.dark\\:fill-slate-300:is(.dark *){fill:#cbd5e1}.dark\\:fill-slate-400:is(.dark *){fill:#94a3b8}.dark\\:fill-zinc-600:is(.dark *){fill:#52525b}.dark\\:stroke-slate-300:is(.dark *){stroke:#cbd5e1}.dark\\:text-blue-100:is(.dark *){--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity))}.dark\\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.dark\\:text-gray-700:is(.dark *){--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.dark\\:text-red-100:is(.dark *){--tw-text-opacity: 1;color:rgb(254 226 226 / var(--tw-text-opacity))}.dark\\:text-slate-300:is(.dark *){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark\\:text-zinc-100:is(.dark *){--tw-text-opacity: 1;color:rgb(244 244 245 / var(--tw-text-opacity))}.dark\\:hover\\:bg-blue-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.dark\\:hover\\:bg-red-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-white:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.hover\\:dark\\:text-gray-900:is(.dark *):hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.dark\\:disabled\\:bg-gray-700:disabled:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.dark\\:disabled\\:text-gray-500:disabled:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.group:hover .group-hover\\:dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}@media (min-width: 640px){.sm\\:relative{position:relative}.sm\\:flex{display:flex}.sm\\:\\!hidden{display:none!important}.sm\\:hidden{display:none}.sm\\:h-\\[200px\\]{height:200px}.sm\\:h-\\[350px\\]{height:350px}.sm\\:w-1\\/4{width:25%}.sm\\:w-3\\/4{width:75%}.sm\\:w-\\[300px\\]{width:300px}.sm\\:w-\\[450px\\]{width:450px}.sm\\:min-w-\\[300px\\]{min-width:300px}.sm\\:max-w-\\[60\\%\\]{max-width:60%}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\\:hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.group:hover .sm\\:group-hover\\:flex{display:flex}.sm\\:hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.vfm--fixed{position:fixed}.vfm--absolute{position:absolute}.vfm--inset{top:0;right:0;bottom:0;left:0}.vfm--overlay{z-index:-1;background-color:#00000080}.vfm--prevent-none{pointer-events:none}.vfm--prevent-auto{pointer-events:auto}.vfm--outline-none:focus{outline:none}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.vfm-fade-enter-active{animation:fade-in .3s ease}.vfm-fade-leave-active{animation:fade-out .3s ease}.vfm-bounce-back{transition-property:transform;transition-duration:.3s}.vfm-slide-up-enter-active,.vfm-slide-up-leave-active,.vfm-slide-down-enter-active,.vfm-slide-down-leave-active{transition:transform .3s ease}.vfm-slide-down-enter-from,.vfm-slide-down-leave-to{transform:translateY(100vh)!important}.vfm-slide-up-enter-from,.vfm-slide-up-leave-to{transform:translateY(-100vh)!important}.vfm-slide-right-enter-active,.vfm-slide-right-leave-active,.vfm-slide-left-enter-active,.vfm-slide-left-leave-active{transition:transform .3s ease}.vfm-slide-right-enter-from,.vfm-slide-right-leave-to{transform:translate(100vw)!important}.vfm-slide-left-enter-from,.vfm-slide-left-leave-to{transform:translate(-100vw)!important}.vfm-swipe-banner-back,.vfm-swipe-banner-forward{position:fixed;top:0;bottom:0;width:27px;z-index:10}.vfm-swipe-banner-back{left:0}.vfm-swipe-banner-forward{right:0}.multiline-ellipsis[data-v-dcfc20b1]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.ellipsis[data-v-dcfc20b1]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.multiline-ellipsis[data-v-5248b347]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}[data-v-b091599d] .mapdiv>div>div{border-top-left-radius:12px!important;border-top-right-radius:12px!important;overflow:hidden}@keyframes bounce-40e5e96c{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.animate-bounce-1[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .1s}.animate-bounce-2[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .2s}.animate-bounce-3[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .3s}a[data-v-cd9e46d9]{color:#42b983}label[data-v-cd9e46d9]{margin:0 .5em;font-weight:700}code[data-v-cd9e46d9]{background-color:#eee;padding:2px 4px;border-radius:4px;color:#304455}.multiline-ellipsis[data-v-5db3707c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.v-enter-active[data-v-c9c51bc0],.v-leave-active[data-v-c9c51bc0]{transition:opacity .2s ease-in-out}.v-enter-from[data-v-c9c51bc0],.v-leave-to[data-v-c9c51bc0]{opacity:0}[data-v-c9c51bc0] .mapdiv>div>div{border-top-left-radius:8px!important;border-top-right-radius:8px!important;overflow:hidden}.volumes[data-v-d7ca8ae1]{display:flex;height:100%;flex-direction:row-reverse;align-items:center;gap:.125rem;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.volumes[data-v-d7ca8ae1]::-webkit-scrollbar{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.flex{display:flex}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}html{transition-duration:.25s;transition-property:background-color;transition-timing-function:ease-in-out}html.dark{color:#e5e7eb;background-color:#22272e}.rotate-enter-active[data-v-dc349f35],.rotate-leave-active[data-v-dc349f35]{transition:all .25s ease-out}.rotate-enter-from[data-v-dc349f35]{opacity:0;transform:rotate(270deg)}.rotate-leave-to[data-v-dc349f35]{opacity:0;transform:rotate(180deg)}[data-v-bc1904e7] .v3-body-inner{scrollbar-color:#393d3f rgba(0,0,0,.1);scrollbar-width:thin}[data-v-bc1904e7] .v3-body-inner::-webkit-scrollbar{width:8px}[data-v-bc1904e7] .v3-body-inner::-webkit-scrollbar-track{background-color:transparent}[data-v-bc1904e7] .v3-body-inner::-webkit-scrollbar-thumb{display:none;background:#0000004d;border-radius:5px}[data-v-bc1904e7] .v3-body-inner:hover::-webkit-scrollbar-thumb{display:block}[data-v-bc1904e7] .v3-emoji-picker{height:320px;width:280px;background:#fff;color:#000;box-shadow:0 2px 10px #0003;border-radius:10px;margin:0 auto;box-sizing:border-box;display:flex;flex-direction:column;text-align:left}[data-v-bc1904e7] .v3-emoji-picker *{box-sizing:border-box}[data-v-bc1904e7] .v3-emoji-picker .v3-header{padding:15px 15px 13px;border-bottom:1px solid #ddd}[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups{display:flex}[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups .v3-group{flex-grow:1;padding:0;margin:0;border:none;background:none;font-size:24px;cursor:pointer;position:relative;display:block;opacity:.7;transition:.2s}[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups .v3-group:first-child,[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups .v3-group:last-child{flex-grow:0}[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups .v3-group:hover{opacity:1}[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups .v3-group span{display:flex;align-items:center;justify-content:center}[data-v-bc1904e7] .v3-emoji-picker .v3-header .v3-groups .v3-group span img{display:block;width:1em;height:auto}[data-v-bc1904e7] .v3-emoji-picker .v3-spacing{height:11px}[data-v-bc1904e7] .v3-emoji-picker .v3-search input{width:100%;display:block;height:26px;padding:0 10px;border:1px solid #ccc;border-radius:3px;font-size:12px;transition:.2s}[data-v-bc1904e7] .v3-emoji-picker .v3-search input:focus{outline:none;border-color:#000}[data-v-bc1904e7] .v3-emoji-picker .v3-body{padding:0 0 15px 11px;min-height:0;flex-grow:1}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner{flex-grow:1;min-height:0;overflow-y:auto;overflow-x:hidden;height:100%;padding-right:11px}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5{margin:0;top:0;background:#fff;padding:7px 0 3px 4px}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5.v3-sticky{position:sticky}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis{display:flex;font-size:18px;flex-wrap:wrap}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button{cursor:pointer;border:none;background:none;margin:0;text-align:center;display:flex;align-items:center;justify-content:center;flex-basis:12.5%;max-width:12.5%;flex-grow:1;padding:0;font-size:22px}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button span{display:inline-block;padding-left:1px}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button:hover{background:#f7f7f7}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button img{max-width:100%;padding:4px}[data-v-bc1904e7] .v3-emoji-picker .v3-body .v3-body-inner.is-mac .v3-emojis button{font-family:"Apple Color Emoji"}[data-v-bc1904e7] .v3-emoji-picker .v3-footer{font-size:14px;border-top:1px solid #dddddd;padding:15px;display:flex;align-items:center;justify-content:space-between;position:relative}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone,[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-foot-left{display:flex;align-items:center}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone img,[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-foot-left img{width:20px;display:block}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone>span:first-child,[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-foot-left>span:first-child{margin-right:6px}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-foot-left>span.v3-text{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone{border:none;padding:0;background:none;cursor:pointer}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone>span{display:inline-flex;vertical-align:top}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone .v3-text{font-size:13px}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone .v3-icon{padding-bottom:3px}[data-v-bc1904e7] .v3-emoji-picker .v3-footer .v3-tone .is-mac span{font-family:"Apple Color Emoji"}[data-v-bc1904e7] .v3-skin-tones{position:absolute;background:#fff;height:100%;width:60%;top:0;left:0;display:flex;align-items:center;justify-content:flex-end;padding:0 15px;opacity:0;visibility:hidden;transition:.2s;border-radius:0 0 10px 10px}[data-v-bc1904e7] .v3-skin-tones.v3-is-open{opacity:1;visibility:visible}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone{display:inline-block;height:15px;width:25px;border:none;padding:0;cursor:pointer;transition:0ms}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone:hover{transform:scale(1.1);transition:.2s}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone-neutral{color:#ffd225;background-color:#ffd225}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone-1f3fb{color:#ffdfbd;background-color:#ffdfbd}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone-1f3fc{color:#e9c197;background-color:#e9c197}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone-1f3fd{color:#c88e62;background-color:#c88e62}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone-1f3fe{color:#a86637;background-color:#a86637}[data-v-bc1904e7] .v3-skin-tones .v3-skin-tone-1f3ff{color:#60463a;background-color:#60463a}[data-v-bc1904e7] .v3-input-emoji-picker *{box-sizing:border-box}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root{position:relative}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-input,[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{width:100%;height:40px;border:1px solid #999;padding-left:15px}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{min-height:80px;resize:vertical}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea+.v3-input-picker-wrap .v3-input-picker-icon{top:auto;bottom:5px}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon{display:inline-flex;position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:24px;border:none;background:none;padding:0 5px;cursor:pointer}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon img{display:block;width:1em;height:1em}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-emoji-picker{opacity:0;visibility:hidden;transition:.2s}[data-v-bc1904e7] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap.v3-picker-is-open .v3-emoji-picker{opacity:1;visibility:visible;z-index:999}.multiline-ellipsis[data-v-bc1904e7]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}@keyframes bg-4b24a960{0% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 0%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); } 50% { --tw-bg-opacity: 1; background-color: rgb(229 231 235 / var(--tw-bg-opacity)); } 50%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(82 82 91 / var(--tw-bg-opacity)); } 100% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 100%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); }}.loading[data-v-4b24a960]{animation:bg-4b24a960 2s infinite}@keyframes bg-13165148{0%{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}}@keyframes bg-dark-13165148{0%{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.dark .loading[data-v-13165148]{animation:bg-dark-13165148 2s infinite}.loading[data-v-13165148]{animation:bg-13165148 2s infinite}.slide-fade-enter-from[data-v-13165148]{transform:translateY(20px);opacity:0}.slide-fade-enter-active[data-v-13165148]{transition:all .15s ease-in-out}.slide-fade-enter-to[data-v-13165148],.slide-fade-leave-from[data-v-13165148]{transform:translateY(0);opacity:1}.slide-fade-leave-active[data-v-13165148]{transition:all .15s ease-in-out}.slide-fade-leave-to[data-v-13165148]{transform:translateY(20px);opacity:0}
`,document.head.appendChild(Vn),new TextEncoder;const mo=new TextDecoder,hg=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},NO=t=>{let e=t;e instanceof Uint8Array&&(e=mo.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return hg(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class MO extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class go extends MO{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function OO(t){return typeof t=="object"&&t!==null}function LO(t){if(!OO(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const RO=NO;function BO(t){if(typeof t!="string")throw new go("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new go("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new go("Invalid JWT");if(!e)throw new go("JWTs must contain a payload");let r;try{r=RO(e)}catch{throw new go("Failed to base64url decode the payload")}let i;try{i=JSON.parse(mo.decode(r))}catch{throw new go("Failed to parse the decoded payload as JSON")}if(!LO(i))throw new go("Invalid JWT Claims Set");return i}function pg(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function bo(t){return typeof t=="function"?t():u.unref(t)}const mg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const PO=Object.prototype.toString,sT=t=>PO.call(t)==="[object Object]",Ll=()=>{},gg=FO();function FO(){var t,e;return mg&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const aT={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function UO(t){return u.getCurrentInstance()}function jO(...t){if(t.length!==1)return u.toRef(...t);const e=t[0];return typeof e=="function"?u.readonly(u.customRef(()=>({get:e,set:Ll}))):u.ref(e)}function HO(t,e){UO()&&u.onUnmounted(t,e)}function oT(t){var e;const n=bo(t);return(e=n==null?void 0:n.$el)!=null?e:n}const zO=mg?window:void 0;function Ki(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=zO):[e,n,r,i]=t,!e)return Ll;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(f=>f()),s.length=0},o=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[oT(e),bo(i)],([f,c])=>{if(a(),!f)return;const h=sT(c)?{...c}:c;s.push(...n.flatMap(p=>r.map(m=>o(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),a()};return pg(d),d}const VO=500,WO=10;function GO(t,e,n){var r,i;const s=u.computed(()=>oT(t));let a,o,l,d=!1;function f(){a&&(clearTimeout(a),a=void 0),o=void 0,l=void 0,d=!1}function c(y){var x,w,I;const[k,S,B]=[l,o,d];if(f(),!(n!=null&&n.onMouseUp)||!S||!k||(x=n==null?void 0:n.modifiers)!=null&&x.self&&y.target!==s.value)return;(w=n==null?void 0:n.modifiers)!=null&&w.prevent&&y.preventDefault(),(I=n==null?void 0:n.modifiers)!=null&&I.stop&&y.stopPropagation();const M=y.x-S.x,D=y.y-S.y,L=Math.sqrt(M*M+D*D);n.onMouseUp(y.timeStamp-k,L,B)}function h(y){var x,w,I,k;(x=n==null?void 0:n.modifiers)!=null&&x.self&&y.target!==s.value||(f(),(w=n==null?void 0:n.modifiers)!=null&&w.prevent&&y.preventDefault(),(I=n==null?void 0:n.modifiers)!=null&&I.stop&&y.stopPropagation(),o={x:y.x,y:y.y},l=y.timeStamp,a=setTimeout(()=>{d=!0,e(y)},(k=n==null?void 0:n.delay)!=null?k:VO))}function p(y){var x,w,I,k;if((x=n==null?void 0:n.modifiers)!=null&&x.self&&y.target!==s.value||!o||(n==null?void 0:n.distanceThreshold)===!1)return;(w=n==null?void 0:n.modifiers)!=null&&w.prevent&&y.preventDefault(),(I=n==null?void 0:n.modifiers)!=null&&I.stop&&y.stopPropagation();const S=y.x-o.x,B=y.y-o.y;Math.sqrt(S*S+B*B)>=((k=n==null?void 0:n.distanceThreshold)!=null?k:WO)&&f()}const m={capture:(r=n==null?void 0:n.modifiers)==null?void 0:r.capture,once:(i=n==null?void 0:n.modifiers)==null?void 0:i.once},g=[Ki(s,"pointerdown",h,m),Ki(s,"pointermove",p,m),Ki(s,["pointerup","pointerleave"],c,m)];return()=>g.forEach(y=>y())}function YO(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function QO(t){return typeof t=="function"?t():u.unref(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function KO(t){var e;const n=QO(t);return(e=n==null?void 0:n.$el)!=null?e:n}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var lT=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],sh=lT.join(","),uT=typeof Element>"u",vo=uT?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ah=!uT&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},oh=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",a=s||n&&e&&t(e.parentNode);return a},XO=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},cT=function(e,n,r){if(oh(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(sh));return n&&vo.call(e,sh)&&i.unshift(e),i=i.filter(r),i},dT=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var a=s.shift();if(!oh(a,!1))if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,d=t(l,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else{var f=vo.call(a,sh);f&&r.filter(a)&&(n||!e.includes(a))&&i.push(a);var c=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),h=!oh(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&h){var p=t(c===!0?a.children:c.children,!0,r);r.flatten?i.push.apply(i,p):i.push({scopeParent:a,candidates:p})}else s.unshift.apply(s,a.children)}}return i},fT=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},yo=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||XO(e))&&!fT(e)?0:e.tabIndex},ZO=function(e,n){var r=yo(e);return r<0&&n&&!fT(e)?0:r},JO=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},hT=function(e){return e.tagName==="INPUT"},qO=function(e){return hT(e)&&e.type==="hidden"},$O=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},eL=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},tL=function(e){if(!e.name)return!0;var n=e.form||ah(e),r=function(o){return n.querySelectorAll('input[type="radio"][name="'+o+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=eL(i,e.form);return!s||s===e},nL=function(e){return hT(e)&&e.type==="radio"},rL=function(e){return nL(e)&&!tL(e)},iL=function(e){var n,r=e&&ah(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var a,o,l;for(s=!!((a=i)!==null&&a!==void 0&&(o=a.ownerDocument)!==null&&o!==void 0&&o.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var d,f,c;r=ah(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return s},pT=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},sL=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=vo.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(vo.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var o=e;e;){var l=e.parentElement,d=ah(e);if(l&&!l.shadowRoot&&i(l)===!0)return pT(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=o}if(iL(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return pT(e);return!1},aL=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return vo.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},lh=function(e,n){return!(n.disabled||oh(n)||qO(n)||sL(n,e)||$O(n)||aL(n))},bg=function(e,n){return!(rL(n)||yo(n)<0||!lh(e,n))},oL=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},lL=function t(e){var n=[],r=[];return e.forEach(function(i,s){var a=!!i.scopeParent,o=a?i.scopeParent:i,l=ZO(o,a),d=a?t(i.candidates):o;l===0?a?n.push.apply(n,d):n.push(o):r.push({documentOrder:s,tabIndex:l,item:i,isScope:a,content:d})}),r.sort(JO).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},uL=function(e,n){n=n||{};var r;return n.getShadowRoot?r=dT([e],n.includeContainer,{filter:bg.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:oL}):r=cT(e,n.includeContainer,bg.bind(null,n)),lL(r)},cL=function(e,n){n=n||{};var r;return n.getShadowRoot?r=dT([e],n.includeContainer,{filter:lh.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=cT(e,n.includeContainer,lh.bind(null,n)),r},Rl=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return vo.call(e,sh)===!1?!1:bg(n,e)},dL=lT.concat("iframe").join(","),vg=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return vo.call(e,dL)===!1?!1:lh(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function mT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(n),!0).forEach(function(r){fL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fL(t,e,n){return e=pL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pL(t){var e=hL(t,"string");return typeof e=="symbol"?e:String(e)}var bT={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},mL=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},gL=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Oc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},bL=function(e){return Oc(e)&&!e.shiftKey},vL=function(e){return Oc(e)&&e.shiftKey},vT=function(e){return setTimeout(e,0)},yT=function(e,n){var r=-1;return e.every(function(i,s){return n(i)?(r=s,!1):!0}),r},Lc=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},uh=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},yL=[],_L=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||yL,s=gT({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:bL,isKeyBackward:vL},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,l=function(U,F,H){return U&&U[F]!==void 0?U[F]:s[H||F]},d=function(U,F){var H=typeof(F==null?void 0:F.composedPath)=="function"?F.composedPath():void 0;return a.containerGroups.findIndex(function(K){var P=K.container,W=K.tabbableNodes;return P.contains(U)||(H==null?void 0:H.includes(P))||W.find(function(ie){return ie===U})})},f=function(U){var F=s[U];if(typeof F=="function"){for(var H=arguments.length,K=new Array(H>1?H-1:0),P=1;P<H;P++)K[P-1]=arguments[P];F=F.apply(void 0,K)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(U,"` was specified but was not a node, or did not return a node"))}var W=F;if(typeof F=="string"&&(W=r.querySelector(F),!W))throw new Error("`".concat(U,"` as selector refers to no known node"));return W},c=function(){var U=f("initialFocus");if(U===!1)return!1;if(U===void 0||!vg(U,s.tabbableOptions))if(d(r.activeElement)>=0)U=r.activeElement;else{var F=a.tabbableGroups[0],H=F&&F.firstTabbableNode;U=H||f("fallbackFocus")}if(!U)throw new Error("Your focus-trap needs to have at least one focusable element");return U},h=function(){if(a.containerGroups=a.containers.map(function(U){var F=uL(U,s.tabbableOptions),H=cL(U,s.tabbableOptions),K=F.length>0?F[0]:void 0,P=F.length>0?F[F.length-1]:void 0,W=H.find(function(N){return Rl(N)}),ie=H.slice().reverse().find(function(N){return Rl(N)}),Q=!!F.find(function(N){return yo(N)>0});return{container:U,tabbableNodes:F,focusableNodes:H,posTabIndexesFound:Q,firstTabbableNode:K,lastTabbableNode:P,firstDomTabbableNode:W,lastDomTabbableNode:ie,nextTabbableNode:function(E){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,G=F.indexOf(E);return G<0?j?H.slice(H.indexOf(E)+1).find(function(X){return Rl(X)}):H.slice(0,H.indexOf(E)).reverse().find(function(X){return Rl(X)}):F[G+(j?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(U){return U.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(U){return U.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function z(U){var F=U.activeElement;if(F)return F.shadowRoot&&F.shadowRoot.activeElement!==null?z(F.shadowRoot):F},m=function z(U){if(U!==!1&&U!==p(document)){if(!U||!U.focus){z(c());return}U.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=U,mL(U)&&U.select()}},g=function(U){var F=f("setReturnFocus",U);return F||(F===!1?!1:U)},v=function(U){var F=U.target,H=U.event,K=U.isBackward,P=K===void 0?!1:K;F=F||uh(H),h();var W=null;if(a.tabbableGroups.length>0){var ie=d(F,H),Q=ie>=0?a.containerGroups[ie]:void 0;if(ie<0)P?W=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:W=a.tabbableGroups[0].firstTabbableNode;else if(P){var N=yT(a.tabbableGroups,function(ce){var re=ce.firstTabbableNode;return F===re});if(N<0&&(Q.container===F||vg(F,s.tabbableOptions)&&!Rl(F,s.tabbableOptions)&&!Q.nextTabbableNode(F,!1))&&(N=ie),N>=0){var E=N===0?a.tabbableGroups.length-1:N-1,j=a.tabbableGroups[E];W=yo(F)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else Oc(H)||(W=Q.nextTabbableNode(F,!1))}else{var G=yT(a.tabbableGroups,function(ce){var re=ce.lastTabbableNode;return F===re});if(G<0&&(Q.container===F||vg(F,s.tabbableOptions)&&!Rl(F,s.tabbableOptions)&&!Q.nextTabbableNode(F))&&(G=ie),G>=0){var X=G===a.tabbableGroups.length-1?0:G+1,Z=a.tabbableGroups[X];W=yo(F)>=0?Z.firstTabbableNode:Z.firstDomTabbableNode}else Oc(H)||(W=Q.nextTabbableNode(F))}}else W=f("fallbackFocus");return W},y=function(U){var F=uh(U);if(!(d(F,U)>=0)){if(Lc(s.clickOutsideDeactivates,U)){o.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Lc(s.allowOutsideClick,U)||U.preventDefault()}},x=function(U){var F=uh(U),H=d(F,U)>=0;if(H||F instanceof Document)H&&(a.mostRecentlyFocusedNode=F);else{U.stopImmediatePropagation();var K,P=!0;if(a.mostRecentlyFocusedNode)if(yo(a.mostRecentlyFocusedNode)>0){var W=d(a.mostRecentlyFocusedNode),ie=a.containerGroups[W].tabbableNodes;if(ie.length>0){var Q=ie.findIndex(function(N){return N===a.mostRecentlyFocusedNode});Q>=0&&(s.isKeyForward(a.recentNavEvent)?Q+1<ie.length&&(K=ie[Q+1],P=!1):Q-1>=0&&(K=ie[Q-1],P=!1))}}else a.containerGroups.some(function(N){return N.tabbableNodes.some(function(E){return yo(E)>0})})||(P=!1);else P=!1;P&&(K=v({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),m(K||a.mostRecentlyFocusedNode||c())}a.recentNavEvent=void 0},w=function(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=U;var H=v({event:U,isBackward:F});H&&(Oc(U)&&U.preventDefault(),m(H))},I=function(U){if(gL(U)&&Lc(s.escapeDeactivates,U)!==!1){U.preventDefault(),o.deactivate();return}(s.isKeyForward(U)||s.isKeyBackward(U))&&w(U,s.isKeyBackward(U))},k=function(U){var F=uh(U);d(F,U)>=0||Lc(s.clickOutsideDeactivates,U)||Lc(s.allowOutsideClick,U)||(U.preventDefault(),U.stopImmediatePropagation())},S=function(){if(a.active)return bT.activateTrap(i,o),a.delayInitialFocusTimer=s.delayInitialFocus?vT(function(){m(c())}):m(c()),r.addEventListener("focusin",x,!0),r.addEventListener("mousedown",y,{capture:!0,passive:!1}),r.addEventListener("touchstart",y,{capture:!0,passive:!1}),r.addEventListener("click",k,{capture:!0,passive:!1}),r.addEventListener("keydown",I,{capture:!0,passive:!1}),o},B=function(){if(a.active)return r.removeEventListener("focusin",x,!0),r.removeEventListener("mousedown",y,!0),r.removeEventListener("touchstart",y,!0),r.removeEventListener("click",k,!0),r.removeEventListener("keydown",I,!0),o},M=function(U){var F=U.some(function(H){var K=Array.from(H.removedNodes);return K.some(function(P){return P===a.mostRecentlyFocusedNode})});F&&m(c())},D=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(M):void 0,L=function(){D&&(D.disconnect(),a.active&&!a.paused&&a.containers.map(function(U){D.observe(U,{subtree:!0,childList:!0})}))};return o={get active(){return a.active},get paused(){return a.paused},activate:function(U){if(a.active)return this;var F=l(U,"onActivate"),H=l(U,"onPostActivate"),K=l(U,"checkCanFocusTrap");K||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,F==null||F();var P=function(){K&&h(),S(),L(),H==null||H()};return K?(K(a.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(U){if(!a.active)return this;var F=gT({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},U);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,B(),a.active=!1,a.paused=!1,L(),bT.deactivateTrap(i,o);var H=l(F,"onDeactivate"),K=l(F,"onPostDeactivate"),P=l(F,"checkCanReturnFocus"),W=l(F,"returnFocus","returnFocusOnDeactivate");H==null||H();var ie=function(){vT(function(){W&&m(g(a.nodeFocusedBeforeActivation)),K==null||K()})};return W&&P?(P(g(a.nodeFocusedBeforeActivation)).then(ie,ie),this):(ie(),this)},pause:function(U){if(a.paused||!a.active)return this;var F=l(U,"onPause"),H=l(U,"onPostPause");return a.paused=!0,F==null||F(),B(),L(),H==null||H(),this},unpause:function(U){if(!a.paused||!a.active)return this;var F=l(U,"onUnpause"),H=l(U,"onPostUnpause");return a.paused=!1,F==null||F(),h(),S(),L(),H==null||H(),this},updateContainerElements:function(U){var F=[].concat(U).filter(Boolean);return a.containers=F.map(function(H){return typeof H=="string"?r.querySelector(H):H}),a.active&&h(),L(),this}},o.updateContainerElements(e),o};function TL(t,e={}){let n;const{immediate:r,...i}=e,s=u.ref(!1),a=u.ref(!1),o=c=>n&&n.activate(c),l=c=>n&&n.deactivate(c),d=()=>{n&&(n.pause(),a.value=!0)},f=()=>{n&&(n.unpause(),a.value=!1)};return u.watch(()=>KO(t),c=>{c&&(n=_L(c,{...i,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),r&&o())},{flush:"post"}),YO(()=>l()),{hasFocus:s,isPaused:a,activate:o,deactivate:l,pause:d,unpause:f}}const EL=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Rc=()=>{};function ch(t,e,n){return t>n?n:t<e?e:t}const yg=t=>typeof t=="string";function _g(t,e){var n;const r=((n=Bc(t,e))==null?void 0:n[0])||e;t.push(r)}function Bc(t,e){const n=t.indexOf(e);if(n!==-1)return t.splice(n,1)}function _T(t){return Object.entries(t)}const AL={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function TT(t=!1){const e=u.ref(t),n=u.ref(e.value?0:void 0);return[e,n,{beforeEnter(){n.value=1},afterEnter(){n.value=0},beforeLeave(){n.value=3},afterLeave(){n.value=2}}]}function xL(t,e){const{modelValueLocal:n,onEntering:r,onEnter:i,onLeaving:s,onLeave:a}=e,o=u.ref(n.value),[l,d,f]=TT(o.value),[c,h,p]=TT(o.value),m=u.computed(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),g=u.computed(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),v=u.computed(()=>(t.hideOverlay||h.value===2)&&d.value===2);u.watch(v,w=>{w&&(o.value=!1)}),u.watch(d,w=>{if(w===1){if(!o.value)return;r==null||r()}else if(w===0){if(!o.value)return;i==null||i()}else w===3?s==null||s():w===2&&(a==null||a())});async function y(){o.value=!0,await u.nextTick(),l.value=!0,c.value=!0}function x(){l.value=!1,c.value=!1}return{visible:o,contentVisible:l,contentListeners:f,contentTransition:m,overlayVisible:c,overlayListeners:p,overlayTransition:g,enterTransition:y,leaveTransition:x}}function CL(t,e,n){const{vfmRootEl:r,vfmContentEl:i,visible:s,modelValueLocal:a}=n,o=u.ref();function l(){s.value&&t.escToClose&&(a.value=!1)}function d(c){o.value=c==null?void 0:c.target}function f(){var c;o.value===r.value&&(t.clickToClose?a.value=!1:((c=i.value)==null||c.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:f,onMousedown:d}}function wL(t,e,n){let r=!1;const{open:i,close:s}=n,a=u.ref(!1),o={get value(){return a.value},set value(d){l(d)}};function l(d){(d?i():s())?(a.value=d,d!==t.modelValue&&e("update:modelValue",d)):(r=!0,e("update:modelValue",!d),u.nextTick(()=>{r=!1}))}return u.watch(()=>t.modelValue,d=>{r||(o.value=!!d)}),{modelValueLocal:o}}function SL(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:n}=e,{hasFocus:r,activate:i,deactivate:s}=TL(n,t.focusTrap);function a(){requestAnimationFrame(()=>{i()})}function o(){r.value&&s()}return{focus:a,blur:o}}let Tg=!1;if(typeof window<"u"){const t={get passive(){Tg=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const ET=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let ka=[],dh=!1,fh=0,AT=-1,Pc,Fc;const kL=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},IL=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),DL=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},NL=(t,e)=>{let n=!1;return DL(t).forEach(r=>{kL(r)&&IL(r,e)&&(n=!0)}),n},xT=t=>ka.some(()=>NL(t,-fh)),Eg=t=>{const e=t||window.event;return xT(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},ML=t=>{if(Fc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){const r=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Fc=document.body.style.paddingRight,document.body.style.paddingRight=`${r+n}px`}}Pc===void 0&&(Pc=document.body.style.overflow,document.body.style.overflow="hidden")},OL=()=>{Fc!==void 0&&(document.body.style.paddingRight=Fc,Fc=void 0),Pc!==void 0&&(document.body.style.overflow=Pc,Pc=void 0)},LL=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,RL=(t,e)=>(fh=t.targetTouches[0].clientY-AT,xT(t.target)?!1:e&&e.scrollTop===0&&fh>0||LL(e)&&fh<0?Eg(t):(t.stopPropagation(),!0)),BL=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(ka.some(r=>r.targetElement===t))return;const n={targetElement:t,options:e||{}};ka=[...ka,n],ET?(t.ontouchstart=r=>{r.targetTouches.length===1&&(AT=r.targetTouches[0].clientY)},t.ontouchmove=r=>{r.targetTouches.length===1&&RL(r,t)},dh||(document.addEventListener("touchmove",Eg,Tg?{passive:!1}:void 0),dh=!0)):ML(e)},PL=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}ka=ka.filter(e=>e.targetElement!==t),ET?(t.ontouchstart=null,t.ontouchmove=null,dh&&ka.length===0&&(document.removeEventListener("touchmove",Eg,Tg?{passive:!1}:void 0),dh=!1)):ka.length||OL()};function FL(t,e){const{lockScrollEl:n,modelValueLocal:r}=e;let i;u.watch(n,o=>{o&&(i=o)},{immediate:!0}),u.watch(()=>t.lockScroll,o=>{o?a():s()}),u.onBeforeUnmount(()=>{s()});function s(){i&&PL(i)}function a(){r.value&&t.lockScroll&&i&&BL(i,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:o=>{for(;o&&o!==document.body;){if(o.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;o=o.parentElement}return!1}})}return{enableBodyScroll:s,disableBodyScroll:a}}function UL(t){const e=u.ref();function n(i){var s;e.value=(s=t.zIndexFn)==null?void 0:s.call(t,{index:i<=-1?0:i})}function r(){e.value=void 0}return{zIndex:e,refreshZIndex:n,resetZIndex:r}}const Ag={beforeMount(t,{value:e},{transition:n}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,n&&e?n.beforeEnter(t):Uc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Uc(t,!0),r.enter(t)):r.leave(t,()=>{Uc(t,!1)}):Uc(t,e))},beforeUnmount(t,{value:e}){Uc(t,e)}};function Uc(t,e){t.style.visibility=e?t._vov:"hidden"}const CT=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:n}=t;return{x:e,y:n}}else{const{clientX:e,clientY:n}=t.targetTouches[0];return{x:e,y:n}}};function jL(t){if(!t)return!1;let e=!1;const n={get passive(){return e=!0,!1}};return t.addEventListener("x",Rc,n),t.removeEventListener("x",Rc),e}function HL(t,{threshold:e=0,onSwipeStart:n,onSwipe:r,onSwipeEnd:i,passive:s=!0}){const a=u.reactive({x:0,y:0}),o=u.reactive({x:0,y:0}),l=u.computed(()=>a.x-o.x),d=u.computed(()=>a.y-o.y),{max:f,abs:c}=Math,h=u.computed(()=>f(c(l.value),c(d.value))>=e),p=u.ref(!1),m=u.computed(()=>h.value?c(l.value)>c(d.value)?l.value>0?"left":"right":d.value>0?"up":"down":"none"),g=(B,M)=>{a.x=B,a.y=M},v=(B,M)=>{o.x=B,o.y=M};let y,x;function w(B){y.capture&&!y.passive&&B.preventDefault();const{x:M,y:D}=CT(B);g(M,D),v(M,D),n==null||n(B),x=[Ki(t,"mousemove",I,y),Ki(t,"touchmove",I,y),Ki(t,"mouseup",k,y),Ki(t,"touchend",k,y),Ki(t,"touchcancel",k,y)]}function I(B){const{x:M,y:D}=CT(B);v(M,D),!p.value&&h.value&&(p.value=!0),p.value&&(r==null||r(B))}function k(B){p.value&&(i==null||i(B,m.value)),p.value=!1,x.forEach(M=>M())}let S=[];return u.onMounted(()=>{const B=jL(window==null?void 0:window.document);s?y=B?{passive:!0}:{capture:!1}:y=B?{passive:!1,capture:!0}:{capture:!0},S=[Ki(t,"mousedown",w,y),Ki(t,"touchstart",w,y)]}),{isSwiping:p,direction:m,coordsStart:a,coordsEnd:o,lengthX:l,lengthY:d,stop:()=>{S.forEach(B=>B()),x.forEach(B=>B())}}}function zL(t,e){const{vfmContentEl:n,modelValueLocal:r}=e,i=.1,s=300,a=u.ref(),o=u.computed(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?a.value:n.value}),l=u.ref(0),d=u.ref(!0);let f=Rc,c=!0,h,p=!1;const{lengthX:m,lengthY:g,direction:v,isSwiping:y}=HL(o,{threshold:t.threshold,onSwipeStart(k){f=Ki(document,"selectionchange",()=>{var S;d.value=(S=window.getSelection())==null?void 0:S.isCollapsed}),h=new Date().getTime(),p=I(k==null?void 0:k.target)},onSwipe(){var k,S,B,M;if(p&&d.value&&v.value===t.swipeToClose){if(v.value==="up"){const D=ch(Math.abs(g.value||0),0,((k=o.value)==null?void 0:k.offsetHeight)||0)-(t.threshold||0);l.value=D}else if(v.value==="down"){const D=ch(Math.abs(g.value||0),0,((S=o.value)==null?void 0:S.offsetHeight)||0)-(t.threshold||0);l.value=-D}else if(v.value==="right"){const D=ch(Math.abs(m.value||0),0,((B=o.value)==null?void 0:B.offsetWidth)||0)-(t.threshold||0);l.value=-D}else if(v.value==="left"){const D=ch(Math.abs(m.value||0),0,((M=o.value)==null?void 0:M.offsetWidth)||0)-(t.threshold||0);l.value=D}}},onSwipeEnd(k,S){if(f(),!d.value){d.value=!0;return}const B=new Date().getTime(),M=S===t.swipeToClose,D=(()=>{var z,U;if(S==="up"||S==="down")return Math.abs((g==null?void 0:g.value)||0)>i*(((z=o.value)==null?void 0:z.offsetHeight)||0);if(S==="left"||S==="right")return Math.abs((m==null?void 0:m.value)||0)>i*(((U=o.value)==null?void 0:U.offsetWidth)||0)})(),L=B-h<=s;if(c&&p&&M&&(D||L)){r.value=!1;return}l.value=0}}),x=u.computed(()=>{if(t.swipeToClose==="none")return;const k=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!y.value},style:{transform:`${k}(${-l.value}px)`}}});u.watch(()=>d.value,k=>{k||(l.value=0)}),u.watch(()=>r.value,k=>{k&&(l.value=0)}),u.watch(()=>l.value,(k,S)=>{switch(t.swipeToClose){case"down":case"right":c=k<S;break;case"up":case"left":c=k>S;break}});function w(k){t.preventNavigationGestures&&k.preventDefault()}function I(k){const S=k==null?void 0:k.tagName;if(!S||["INPUT","TEXTAREA"].includes(S))return!1;const B=(()=>{switch(t.swipeToClose){case"up":return(k==null?void 0:k.scrollTop)+(k==null?void 0:k.clientHeight)===(k==null?void 0:k.scrollHeight);case"left":return(k==null?void 0:k.scrollLeft)+(k==null?void 0:k.clientWidth)===(k==null?void 0:k.scrollWidth);case"down":return(k==null?void 0:k.scrollTop)===0;case"right":return(k==null?void 0:k.scrollLeft)===0;default:return!1}})();return k===o.value?B:B&&I(k==null?void 0:k.parentElement)}return{vfmContentEl:n,swipeBannerEl:a,bindSwipe:x,onTouchStartSwipeBanner:w}}const wT=Symbol("vfm");let _o;const VL=t=>_o=t,WL={install:Rc,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:u.ref([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},GL=()=>u.getCurrentInstance()&&u.inject(wT,WL)||_o;function YL(){const t=u.shallowReactive([]),e=u.shallowReactive([]),n=u.shallowReactive([]),r=u.shallowReactive([]),i=u.ref([]),s=u.markRaw({install(a){a.provide(wT,s),a.config.globalProperties.$vfm=s},modals:t,openedModals:e,openedModalOverlays:n,dynamicModals:r,modalsContainers:i,get(a){return t.find(o=>{var l,d;return((d=(l=jc(o))==null?void 0:l.value.modalId)==null?void 0:d.value)===a})},toggle(a,o){var l;const d=s.get(a);return(l=jc(d))==null?void 0:l.value.toggle(o)},open(a){return s.toggle(a,!0)},close(a){return s.toggle(a,!1)},closeAll(){return Promise.allSettled(e.reduce((a,o)=>{const l=jc(o),d=l==null?void 0:l.value.toggle(!1);return d&&a.push(d),a},[]))}});return VL(s),s}function jc(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const QL=u.defineComponent({inheritAttrs:!1}),_s=u.defineComponent({...QL,__name:"VueFinalModal",props:AL,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=u.useAttrs(),a=u.getCurrentInstance(),{modals:o,openedModals:l,openedModalOverlays:d}=kr(),f=u.ref(),c=u.ref(),{focus:h,blur:p}=SL(r,{focusEl:f}),{zIndex:m,refreshZIndex:g,resetZIndex:v}=UL(r),{modelValueLocal:y}=wL(r,i,{open:E,close:j}),{enableBodyScroll:x,disableBodyScroll:w}=FL(r,{lockScrollEl:f,modelValueLocal:y});let I=Rc;const{visible:k,contentVisible:S,contentListeners:B,contentTransition:M,overlayVisible:D,overlayListeners:L,overlayTransition:z,enterTransition:U,leaveTransition:F}=xL(r,{modelValueLocal:y,onEntering(){u.nextTick(()=>{w(),h()})},onEnter(){i("opened"),I("opened")},onLeave(){Bc(l,a),v(),x(),i("closed"),I("closed")}}),{onEsc:H,onMouseupRoot:K,onMousedown:P}=CL(r,i,{vfmRootEl:f,vfmContentEl:c,visible:k,modelValueLocal:y}),{swipeBannerEl:W,bindSwipe:ie,onTouchStartSwipeBanner:Q}=zL(r,{vfmContentEl:c,modelValueLocal:y}),N=u.computed(()=>a?l.indexOf(a):-1);u.watch([()=>r.zIndexFn,N],()=>{k.value&&g(N.value)}),u.onMounted(()=>{_g(o,a)}),r.modelValue&&(y.value=!0);function E(){let me=!1;return i("beforeOpen",{stop:()=>me=!0}),me?!1:(_g(l,a),_g(d,a),X(),U(),!0)}function j(){let me=!1;return i("beforeClose",{stop:()=>me=!0}),me?!1:(Bc(d,a),X(),p(),F(),!0)}function G(){y.value=!1}u.onBeforeUnmount(()=>{x(),Bc(o,a),Bc(l,a),p(),X()});async function X(){await u.nextTick();const me=d.filter(de=>{var Te;const Ae=jc(de);return(Ae==null?void 0:Ae.value.overlayBehavior.value)==="auto"&&!((Te=Ae==null?void 0:Ae.value.hideOverlay)!=null&&Te.value)});me.forEach((de,Te)=>{const Ae=jc(de);Ae!=null&&Ae.value&&(Ae.value.overlayVisible.value=Te===me.length-1)})}const Z=u.toRef(()=>r.modalId),ce=u.toRef(()=>r.hideOverlay),re=u.toRef(()=>r.overlayBehavior),pe=u.computed(()=>({modalId:Z,hideOverlay:ce,overlayBehavior:re,overlayVisible:D,toggle(me){return new Promise(de=>{I=EL(Ae=>de(Ae));const Te=typeof me=="boolean"?me:!y.value;y.value=Te})}}));return e({modalExposed:pe}),(me,de)=>(u.openBlock(),u.createBlock(u.Teleport,{to:me.teleportTo?me.teleportTo:void 0,disabled:!me.teleportTo},[me.displayDirective!=="if"||u.unref(k)?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0},u.unref(s),{ref_key:"vfmRootEl",ref:f,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":me.background==="interactive"}],style:{zIndex:u.unref(m)},role:"dialog","aria-modal":"true",onKeydown:de[7]||(de[7]=u.withKeys(()=>u.unref(H)(),["esc"])),onMouseup:de[8]||(de[8]=u.withModifiers(()=>u.unref(K)(),["self"])),onMousedown:de[9]||(de[9]=u.withModifiers(Te=>u.unref(P)(Te),["self"]))}),[ce.value?u.createCommentVNode("",!0):(u.openBlock(),u.createBlock(u.Transition,u.mergeProps({key:0},u.unref(z),u.toHandlers(u.unref(L))),{default:u.withCtx(()=>[me.displayDirective!=="if"||u.unref(D)?u.withDirectives((u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",me.overlayClass]),style:u.normalizeStyle(me.overlayStyle),"aria-hidden":"true"},null,6)),[[u.vShow,me.displayDirective!=="show"||u.unref(D)],[u.unref(Ag),me.displayDirective!=="visible"||u.unref(D)]]):u.createCommentVNode("",!0)]),_:1},16)),u.createVNode(u.Transition,u.mergeProps(u.unref(M),u.toHandlers(u.unref(B))),{default:u.withCtx(()=>[me.displayDirective!=="if"||u.unref(S)?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0,ref_key:"vfmContentEl",ref:c,class:["vfm__content vfm--outline-none",[me.contentClass,{"vfm--prevent-auto":me.background==="interactive"}]],style:me.contentStyle,tabindex:"0"},u.unref(ie),{onMousedown:de[6]||(de[6]=()=>u.unref(P)())}),[u.renderSlot(me.$slots,"default",u.normalizeProps(u.guardReactiveProps({close:G}))),me.showSwipeBanner?(u.openBlock(),u.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:W,class:"vfm-swipe-banner-container",onTouchstart:de[2]||(de[2]=Te=>u.unref(Q)(Te))},[u.renderSlot(me.$slots,"swipe-banner",{},()=>[u.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:de[0]||(de[0]=Te=>me.swipeToClose==="left"&&Te.preventDefault())},null,32),u.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:de[1]||(de[1]=Te=>me.swipeToClose==="right"&&Te.preventDefault())},null,32)])],544)):!me.showSwipeBanner&&me.preventNavigationGestures?(u.openBlock(),u.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:de[5]||(de[5]=Te=>u.unref(Q)(Te))},[u.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:de[3]||(de[3]=Te=>me.swipeToClose==="left"&&Te.preventDefault())},null,32),u.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:de[4]||(de[4]=Te=>me.swipeToClose==="right"&&Te.preventDefault())},null,32)],32)):u.createCommentVNode("",!0)],16)),[[u.vShow,me.displayDirective!=="show"||u.unref(S)],[u.unref(Ag),me.displayDirective!=="visible"||u.unref(S)]]):u.createCommentVNode("",!0)]),_:3},16)],16)),[[u.vShow,me.displayDirective!=="show"||u.unref(k)],[u.unref(Ag),me.displayDirective!=="visible"||u.unref(k)]]):u.createCommentVNode("",!0)],8,["to","disabled"]))}});function kr(){const t=GL();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function ST(t,e=_s){const{component:n,slots:r,...i}=t,s=typeof r>"u"?{}:Object.fromEntries(_T(r).map(([a,o])=>yg(o)?[a,o]:hh(o)?[a,{...o,component:u.markRaw(o.component)}]:[a,u.markRaw(o)]));return{...i,component:u.markRaw(n||e),slots:s}}function Xi(t){const e=u.reactive({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...ST(t)});HO(()=>{e!=null&&e.keepAlive||o()}),e.modelValue===!0&&(_o?_o==null||_o.dynamicModals.push(e):u.nextTick(()=>{const l=kr();l==null||l.dynamicModals.push(e)}));async function n(){let l;return _o?l=_o:(await u.nextTick(),l=kr()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(o(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(d=>{e.resolveOpened=()=>d("opened")}))}function r(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function i(l){const{slots:d,...f}=ST(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),s(e,f),d&&_T(d).forEach(([c,h])=>{const p=e.slots[c];yg(p)?e.slots[c]=h:hh(p)&&hh(h)?s(p,h):e.slots[c]=h})}function s(l,d){d.component&&(l.component=d.component),d.attrs&&a(l.attrs,d.attrs)}function a(l,d){return Object.entries(d).forEach(([f,c])=>{l[f]=c}),l}function o(){const l=kr(),d=l.dynamicModals.indexOf(e);d!==-1&&l.dynamicModals.splice(d,1)}return{options:e,open:n,close:r,patchOptions:i,destroy:o}}function hh(t){return typeof t=="object"&&t!==null?"component"in t:!1}const KL=["innerHTML"],XL=u.defineComponent({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:n}=kr(),r=Symbol("ModalsContainer"),i=u.computed(()=>{var o;return r===((o=e.value)==null?void 0:o[0])});e.value.push(r),u.onBeforeUnmount(()=>{e.value=e.value.filter(o=>o!==r)});function s(o){var l,d,f;(d=(l=n[o])==null?void 0:l.resolveClosed)==null||d.call(l),(f=n[o])!=null&&f.keepAlive||n.splice(o,1)}function a(o){var l,d;(d=(l=n[o])==null?void 0:l.resolveOpened)==null||d.call(l)}return(o,l)=>i.value?(u.openBlock(!0),u.createElementBlock(u.Fragment,{key:0},u.renderList(u.unref(n),(d,f)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(d.component),u.mergeProps({key:d.id},{displayDirective:d!=null&&d.keepAlive?"show":void 0,...typeof d.attrs=="object"?d.attrs:{}},{modelValue:d.modelValue,"onUpdate:modelValue":c=>d.modelValue=c,onClosed:()=>s(f),onOpened:()=>a(f)}),u.createSlots({_:2},[u.renderList(d.slots,(c,h)=>({name:h,fn:u.withCtx(()=>[u.unref(yg)(c)?(u.openBlock(),u.createElementBlock("div",{key:0,innerHTML:c},null,8,KL)):u.unref(hh)(c)?(u.openBlock(),u.createBlock(u.resolveDynamicComponent(c.component),u.normalizeProps(u.mergeProps({key:1},c.attrs)),null,16)):(u.openBlock(),u.createBlock(u.resolveDynamicComponent(c),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):u.createCommentVNode("",!0)}}),kT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVR4nO3aP0oEMRSA8SfiFl7CPu1AgpV51ovmLeQK9v45gF7Aq6jXEO/gegy1WBlhQZHNvEJQNt8P0kw1fMyEhEQEAAAAAAAAALCtaq27Ue0qqT19jry4HJ/99Xv9C6HWWVK7T2qrbyOXW+ldqHUWc3n4EUdtFdXeh/l8X3oVGnHW41AXB9Kj4IgT1Z5FZEd6ExxxUi6vUe1YOp2Q7ybjHJ0W6U0gzmbEaSBOA3EaiNNAnAbiNAzD2Z5nEZjUTqRHSe2GOA0plxdWyA0xl+XmL6i8dbmF+CqpXfOLNTBJOyNN7th7/90GIk0jkgORHIjkQCQHIjkQyYFjn986OMxl2eXB4RpHzw5cXnDg+ovDeFkq5XKRcnkcR1Q75wIVAAAAAAAAAMg2+AByUSBd2KYVoQAAAABJRU5ErkJggg==",ph="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAExElEQVR4nO2bS4hcRRSGa4yOGkUMKKKiID6yUbIRH7iI7hSiQWV0IwYXtn2rbj9OtaMBF/+5PTPEGNQZIQufCxUkAQVFRIwustfBx8ZkY1ATVCRO8DE+xiinOyNOcuvenqT71u2Z+uBup/7+63XqnDNKBQKBQCAQCAQCPqjVpi6MbTKmCc9py3uM5a8M4bCxOGos/6otftCEWW35DU08bpq4fmxs9xq1kgEwGhMeEEM08d/G8j/L+3BIE+8wFteolQSA041lYwhfL9+UE79j5u6qNtrr1bCjW8mNhvizfhiTYtQfhniqVps5Uw0hI8Zyo/MjBmDOEqMsf6IJV6lhYWxs9xpD/PKgjVnyEQ7HzeQWVXYqlefP0MRv97hFvjGWd8aW7zfUvi7aum2drLxKBWvNOC6JKLlNbjBN+MBYLOT/PfwSUbJRlZgRQ3g1f7Z5b9xK7gBwWq9/uNKcvFjOG0OYy1lJczG1N6gyEls8ln1W4LuohXtOZYx6feoiiY1yTDpwbDWW7Lay+DNj+c9GduKyfo1nLGzWttMWb6kyxTna4tOMGX231dpxTr/H1YTbDfG8e9zkblUGIoLOWjmDMGcRicyztppE78onAEZdEbKcOfU6Lh+0Bk28PeOmfFj5JM6cweTe4kIL7E/XgS/ldlW+0N2XeOpVXqQOyQw4J6qR3Kx8pSy041UucU7BckbkyZG+1flZ5QPdxH2OZf2tj9yNthw5zsLPi9bSQZJdjmW9U3mgE213E27HT9hRL4Gjdpw/8rYqXMyiJuJ9pTmHjKRJU8RUW7hWeUIi6DRNEeFBD2L4pzQxjQbOV54wlmcc275RuBhN/FeaGHl6FC7mP02YdBj0RPFiLH5LE0P09NnKE8biKUdc9njxYoi/TxPzCE1eqjyhLV5yxEJR8WIIs6mz1cKtyhMSwTtis02Fi9GOxJUkzgoX03mTYa1r29fH21cXLkhLxTN9Oe/xknZpJnem6iE+6EOPknKwYzkvSFRbuB5XJYXwuvJW3rE45Lg1porUIulcZ3aR+CHlC92plafO2pwk2IvSYSxecGz3I7UazlO+qDba610pDznEi9AQE25wFgwIzyjfGMu7HNGrnEd2kGNXLC5wN0VgIW5NXKF8U+2uIkcNHgtSfRjEuNK0YAgfuieHZ1RZMFL1dAklnpfc9QCymR+5x8QBrXGuKgu17mx+nDGbEo9slwR7f1pqsnuNdDPZrMpG7dGJK7XFj9kmYb8k2E+m0iAlJE38oiuLcNw475Wyb6hKuEm6LHrq6bEc5QWUnU4Pi7skCNQWv+f93aEwKaJkY24XxtKtt88Qv6kJ09riSfk6UTHxXtfbauhNiqm9QQ7KU/lx/fpKa1K0dds6V464b5/cVs1ks5gwlCYJ0mXR/9XUaX2ZWbzK5ccPtUkARqWRwFmW6XW7WD4iz4e0CHnoTVpEalRSDjbEX6QX+k44xA9qy6/Jqzzv4bliTPr/OSWGmSZvkdKMJNfl65aRselk2ntXnEkD61uyeCfHpPe3AGep1QqCSfkEk3ogmNQD4eDun0nTajVTyzfpZ69Nn6U3iXh+Of9DsupM0hav+NZWNpOmZVvJyhFzSpXHLhFy5qzucycQCAQCgUBA9ca/01SgfkYyM0gAAAAASUVORK5CYII=",ZL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvElEQVR4nO1cW48URRSu9RovaLzj/fIo6i/wEqLogyjqim8aXOLA1JlZp07vAuLDqQZWWGETffQV77jqA08mxEeioiAIRh4gogmy6Bq5bVYwYE7PoBG3q3unq7p6ZvtLOtnsTFd1f3Pq3OqcEqJEiRIlSpQoUaJEB6FnaUD3gNIvgtJrJdInEmmXVLQfFP0OSCel0n82/9b7+DNQ+uPWdxfxvTyGmMmoLF93pUTqA9QfgtJjgPpMlksiHZKKPuAfpV6nK8QMQQ9g+JhE/b5EmshKooHcCVD0XrVBj3al5BLRedVG+IREvc0ViQZyd1UVvbBw4abzRTcAMJwHSN/nTeT/iFV6j8TwYdGpqDTW3AiKNvomcgpiN1dx9a2ikwBIT0rU477Ji70U/SEDelYUHUR0kVT0BiCdbkNyTkmkrYD0ek3pxRLp/lqw+s7qirVXVSpvXcgX/83/qzXCB6LvKL2e7+F7p08snZZKj/C4oohgVwWQPp8WiUiToPRHshEukJIub3fuvsHhWTWkpyTSaDTm9KR1C98vioT+/qEbpKLt0yDykERawRJn+1l4TFD6lWn5toq+XhrQ9aI4ZOq96YjUR6TSgVIjl7h+rkqFLgWkAVB0NKXK2eudVF7maSVTIm2CQbop72dcotbczGolraR6W/5sgFLqzBMcDgrPaIW5J9LoVC+GqmnNEx/uR9lYNUcUBJxEkagPpPAANuT6YIA0P8k1kkrvKaIDzQGHRPo20aVqhAty1ElRGs0gmfo7pehqUVDwswHS7gQDOi4HaLbzh4nSbWbJ/Lm/n24TBQcbSFZJCSrrnRwSHWYDJC3pTI6UQOnlU138mY05QK2615xGpNNVFc4VrlJwiVkjZc+agyJtkBxtax4OYZPUF7+7sA3ZoOeS/ExhEXkRyuCQ1Uxq2Gtzvtak+hvDCx5lYyU6lNCm5ddHDKTusJr5522LBEMUWJvMA6GMGtIys30I51mbjPeADDpmzEVsDjkTGsX+poSKLYvfTMvFh2ycNRIOADkTypBIK00ejJU4vxUDx5E56SIFx6g16BGJtG6qiz8Tjhx+Uz6VN/ucOvK2LXsRwEUW8e+r3806fo9Jr+QW7+aIakDPGOzFL5msPUcS8TqFTmbZtih0RYthjypTJBjVGsUv962iSyFRf+lEj3IxlsH3XC+6FFLpEcOyH8oy8KcGCe0TXQqp9EuG9x5te2BQeqdhYCsZH5/Zpti5A3owIQxtD6Z8oQxW3271LQrg2J8FF1PEqzra3/bApnIa1xl58EhoBelagw79te2Bo6rhmIF511N0KaH1+psXG1TdZNsDl4Rqy4SWS/6M1SVvMkpLXqY72h54pholn24TeCTUmdtkzry4dezBJ6EGx57rpDoy9AS/hDoKPZEW+UqOgE9CDckRGejn2x446m6Ll9BTLkv/wBOhnL4DpL/i5q4HdHeW8Xu42jhucC7DFl1GKKiwN94g0cHM28lRu58LBV1QQk0ZNis7nwl61NkmHXggNNqkM4TbmfTnTNxGBtSvxtsMOm7NZnAjqmHZj3GRgJWJPBc6SKTD8YKj37Y2GXf1xivqyOIPig4nFDh5bXhH67UA3CHRrcVi9WV0C6A+Zlju2623iXNvpOkXtG3xIUdCo9MhjO8WPi0cFdwa69JrSi/uNEKNcXtTUHY6O8SA+82Nk6M+0Tr/oyNqm6oDdF+KkvCHhEsYSxuxc5oWWt0sSU0LG/PqnjC31SDtLnJbDcBr13AflVEwkH7Lpa2GUQ3Cxzu18QsigYhPnJ9d6rkXwhlzhviPM3yAC85EQcA6ExT9lPjcSg/n/nDcYMqNpsmk0oRN65/Fmqc82ugzb6c8cGxrdPjxP8SOsgOd9zNGTnuSn/nvitrmvUSTm/bTHkAAqI9xt4WL2P9cBMH6y1rhZGwEdI7e/KFeH7pOFAFMalpJhaa0HuZjLFx4Aq06+ZWmRMdUkun9NIeY5b8l7Uu0iJ3knVUuw85yXl20baHCXk4Om/KZcTrT+zI3GiqkDe0cMxTt4yj6gu9nA8IRSrVBd7HEcR0VX/w3/48/i4yM0iPNDbX4PaCEY4aGiegCUXQA0nx2jKf/kvlc/GzsS4tOghyg2c2j2tqRVodkKr3Zh7dhDVUVzuUWad9EcnTkPNGRI3r4uEtQ9JUfIrvouMspDmSdx9uxqY78aXtZ03HeA3LVwlhI9A0Oz2LJ4XY/7lDLTiQd5B+Kt3oL6wblCdlYNYcJ5mKs1gkLO5oHWOtx9i2jq1kAvI/3eKLvKD3E92QtjylRokSJEiVKlCgh8sbfxQL1rY5eoTYAAAAASUVORK5CYII=",JL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVR4nM2ZX0hTYRTA1z8o6KEiooiiCCEqiCDqxTLopR6Dbnf3nO/u7l8XSvLBhx58UZo+JEEYmUYDzQ3MhCDC6bb2FqSNVIikt0gTaTMlMPpj+cU37/Squ/d+d5uuAwf2sLPz4/z7vu/M4ShQBEHYAADbZVneL0nSYUmSylwu115FUbY51lIkSdqJiJcB4C4ixhHxIwD8RERqpgAwAwAfEPEFANwihFwQBGFLUaBqa2vXI+IlDWjWCgY5lUEjYich5HQhETsFAMPFgkJj2OeiKO6zBQcAPgD4vdpwuKhTiHiOCw4Rr68hGNVF8ockSeVWaS1HxD+lAMR5TRNCduWEq6io2AgAIyWEo1okQ0Z1J5caDucB/yLikVy1N1BqOFyEvLcEThTFA4g4Z2VYV1dHn3Z306amJkoI4Xbodrvpo2CQPunqotXV1TyAE+yE0qdXtTIK1NfTVDpN05OTGY3H49Tlclk6U1WVDg0PL9h9Hh+nN6qqLO0IIcf16W2zMujp6VlwwgupLoPLamtrqyWgJEnX9ICDVgZt7e0rHKVNII3gmAYCAZ7SeKBP8TeeOnqTTHJBqiZwLBOctRvPwAmCsJW32D0eD33d35/TcSKRyED6/X46ODSU8zvRWIzKsszbySPZ9O7hBWTq8/kMI/kykTCOXCRiq/MRcTR7vJXZAcxGsn9gICdIoZHTRXA6A+h0Ok/YBbQDGc0DTtPZbIOczQeQBzKaP1xGFUXZzGrwTL4/4DdpCH3jFASYb4qt4NKFQ87m3SS8cOnCIKcygIqi7LZjaDaEe/v6uIe5lQLAJ9uDmkXu7eCgaUN4TBrHTiQB4L3+qJu2MvB6vdxD2GcyzGOxGNfABoCoHjBpZRAKhXI6jPT25nRoBtnQ0MATxfv620wwn+tWxADOCrKlpYUnglf1gF6e2/SXVMr22erz+WhSBzk6NkYrKyst7ZxO59EFQLbs0R4rpkY1NTU0HA7T242N3N2I8wOXNjc308cdHVy3ae2isG75o+mVHaerrHdyvequ/AdglC0ORFE8ZLTnW/VlEVpr0GEksiyfRMRfJYQbFwRhhyGgNhPdPG/kYisAzLAAmcLp6pHwbE+xeHATbB/psCOEkGNr0NlziBg23GhxRvM8ADxj+7sign1FxIdLhnGhwm49AHCRLcI14HfaZtSwqQDgOyKmtLO+EwBushu8qqqbigbGI8wh+yuCEHKQ7ZvZ5xUnQZ7yD8zfzl1rwXkSAAAAAElFTkSuQmCC",IT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR4nO2bsWtUQRDGV1AxWCoWWgsS7ULgbufI2RxWNlraqq34F7ybiYgaYqVFsBP/AEWFgJWQUtBCkICW0Sg2ejeTa3RlL57cJXfcnXkvu++9+cG0B/vdt9/uzts1RlEURVEURVGmYTZxh4H4rkX5DCjfLcqDBeqcnupHioxFvgMkbrD4F5A8raHUTdnpOod2CjRQb2vE1+uJO2LKyBhxXK8syRdAbs7f/nHMlIlJBYKeUMgdS/y4lnRmTRmYViDoyymL/AqQLxrnDpii8v8CSZ+r5F1hcyoNgaBXKJs+p+rJz+OmKKQqEBUwp7IQCP45in/nPqcyFYh251Rl2c2YPLFfAkFec2rfBaLBnAJqnTUxE0ogyEtOBReI+lxFvA7EN6LKqdCiwPD66rsMNuGTofWJVSDXn1PVpHVOBaKx028tSE6FdgnEnlN+FYEIBj51oWxakqSatE5kLdDH4IPdm6O2AOVRZvsp22xfCz3IdBzVnQmrVWxfSD2ngPgSkLwA4g8WuR18sHt1Fcp7S+2rmfWnKstuxu9BasRzfuXwh0x/frIkKxbluSV5M0GzP3hZlG9+P1W5xadMCBpL7mg16ZypLsqCbcoVS3wTUO4D8RNAfh2LI//up5bmVtwhEyONSIT0Ipk808hYSD/lTJ5plFWgRiRTDJDvlXPgND6kvTj1xB1MZeAVXeYHsciXAeVlLP94VBvF7iaQwg8q2qOGJf6Ua7dkfVjVdscYcuiY9f1tmOVHmDVtudIOUbRpL6Mco599IIZ8mYTQ2QL66VmGu0UvL8jIfNHrLzTMMXqByuUuXyYhk00d6iVOV4jrdZOQjmNEL5LDLmH0KYIrfL5MwrT5Ml/C51AbY8Qp94O6kU8yUZ7B4tZ5U3b8o167LdJG91EvyUN91KsoiqIoiqIoZps/5GTgdqN3Zd0AAAAASUVORK5CYII=",DT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVR4nO2bv4vUUBDHn6DicaViobUgnp292lnZaGmrtuJfoOV5B1ZaiJ34BygqCFaC5YEWCyIoy2XfzOzOxEIQ3MYbye3q/Yomuyb3XpL5wLQL893J900mb5wzDMMwDMMwjFno9fSwR74HKAjEKSA/GDCfmulH2oxHXgYS3R4e+adHfobIF1zXmVSO6D/iPaLc7Pf7R1wXKRBHt6pKCEjuev/tqOsSZQWCrRh74ieI6RnXBeYQSH/7FCC/8SSXVfWAayvzCgTbA+VDa32qEoHoj08NM58CgGOuLVQpELTRp2oSSKc+tdF4n6pTIMjxqSRJFlyT2DeBqKE+td8CwS6fIvq65GImoEDaCJ8KLRDsjE8w5FtR+VQEoujeqpJRNmVYFzkRWp8oBYK9PnXWBKKCqiJ5F8SnIqgSjdqnNk8RCp70XP2UR75DRMdrFQhQPodO9j/jh0d5XFs/BcA3IkiygoriDU/yGmB0qXKfQkyvAMpLT/zRo3xvgVg9GPL12uZTSZIsZD0IopzLTo7sJXNzHk3yCFBeeJK1EsP+4OFJOOunkiQ96UJARIsAchqRzwPItQHybSC574mfepK3EVXkGIhX11QPuRihaITkVddkqGYhs0fONRnqqkAUyyOGvNLNxKmESSOvqOrBShJP7JjfCeLoKpC8iugfj6dRnDaB2vSo7VXDo3wJnVzUL6s27iggggrQqAdmESSsZcJGrpQrjA3tIa9a7LOPxOEvZQjuLWifnrXAX+zyAuzyF7v+QjkVYxeopHn+UoaazHdslzipBdfrylBJxaBdJNccf7FVBGi7v5RhVn/xnVuHQoYCcbq9UPe3lUxAfj4guei6znSpd3lSSZwC8UNb6jUMwzAMwzAMN+EXe4XJ/lKRL1IAAAAASUVORK5CYII=";function qL(){return NT().__VUE_DEVTOOLS_GLOBAL_HOOK__}function NT(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const $L=typeof Proxy=="function",e9="devtools-plugin:setup",t9="plugin:settings:set";let Bl,xg;function n9(){var t;return Bl!==void 0||(typeof window<"u"&&window.performance?(Bl=!0,xg=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Bl=!0,xg=globalThis.perf_hooks.performance):Bl=!1),Bl}function r9(){return n9()?xg.now():Date.now()}class i9{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return r9()}},n&&n.on(t9,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(d=>{this.targetQueue.push({method:o,args:l,resolve:d})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function MT(t,e){const n=t,r=NT(),i=qL(),s=$L&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(e9,t,e);else{const a=s?new i9(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var OT="store";function rn(t){return t===void 0&&(t=null),u.inject(t!==null?t:OT)}function To(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function s9(t){return t!==null&&typeof t=="object"}function a9(t){return t&&typeof t.then=="function"}function Zi(t,e){if(!t)throw new Error("[vuex] "+e)}function o9(t,e){return function(){return t(e)}}function LT(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function RT(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;mh(t,n,[],t._modules.root,!0),Cg(t,n,e)}function Cg(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},o={},l=u.effectScope(!0);l.run(function(){To(s,function(d,f){a[f]=o9(d,t),o[f]=u.computed(function(){return a[f]()}),Object.defineProperty(t.getters,f,{get:function(){return o[f].value},enumerable:!0})})}),t._state=u.reactive({data:e}),t._scope=l,t.strict&&f9(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function mh(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a]&&process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate namespace "+a+" for the namespaced module "+n.join("/")),t._modulesNamespaceMap[a]=r),!s&&!i){var o=wg(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){process.env.NODE_ENV!=="production"&&l in o&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+n.join(".")+'"'),o[l]=r.state})}var d=r.context=l9(t,a,n);r.forEachMutation(function(f,c){var h=a+c;u9(t,h,f,d)}),r.forEachAction(function(f,c){var h=f.root?c:a+c,p=f.handler||f;c9(t,h,p,d)}),r.forEachGetter(function(f,c){var h=a+c;d9(t,h,f,d)}),r.forEachChild(function(f,c){mh(t,e,n.concat(c),f,i)})}function l9(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,o){var l=gh(s,a,o),d=l.payload,f=l.options,c=l.type;if((!f||!f.root)&&(c=e+c,process.env.NODE_ENV!=="production"&&!t._actions[c])){console.error("[vuex] unknown local action type: "+l.type+", global type: "+c);return}return t.dispatch(c,d)},commit:r?t.commit:function(s,a,o){var l=gh(s,a,o),d=l.payload,f=l.options,c=l.type;if((!f||!f.root)&&(c=e+c,process.env.NODE_ENV!=="production"&&!t._mutations[c])){console.error("[vuex] unknown local mutation type: "+l.type+", global type: "+c);return}t.commit(c,d,f)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return BT(t,e)}},state:{get:function(){return wg(t.state,n)}}}),i}function BT(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function u9(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function c9(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return a9(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function d9(t,e,n,r){if(t._wrappedGetters[e]){process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate getter key: "+e);return}t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)}}function f9(t){u.watch(function(){return t._state.data},function(){process.env.NODE_ENV!=="production"&&Zi(t._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function wg(t,e){return e.reduce(function(n,r){return n[r]},t)}function gh(t,e,n){return s9(t)&&t.type&&(n=e,e=t,t=t.type),process.env.NODE_ENV!=="production"&&Zi(typeof t=="string","expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:n}}var h9="vuex bindings",PT="vuex:mutations",Sg="vuex:actions",Pl="vuex",p9=0;function m9(t,e){MT({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[h9]},function(n){n.addTimelineLayer({id:PT,label:"Vuex Mutations",color:FT}),n.addTimelineLayer({id:Sg,label:"Vuex Actions",color:FT}),n.addInspector({id:Pl,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Pl)if(r.filter){var i=[];zT(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[HT(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Pl){var i=r.nodeId;BT(e,i),r.state=v9(_9(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Pl){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Pl),n.sendInspectorState(Pl),n.addTimelineEvent({layerId:PT,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=p9++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Sg,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Sg,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var FT=8702998,g9=6710886,b9=16777215,UT={label:"namespaced",textColor:b9,backgroundColor:g9};function jT(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function HT(t,e){return{id:e||"root",label:jT(e),tags:t.namespaced?[UT]:[],children:Object.keys(t._children).map(function(n){return HT(t._children[n],e+n+"/")})}}function zT(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[UT]:[]}),Object.keys(e._children).forEach(function(i){zT(t,e._children[i],n,r+i+"/")})}function v9(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=y9(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?jT(a):a,editable:!1,value:kg(function(){return s[a]})}})}return i}function y9(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=kg(function(){return t[n]})}else e[n]=kg(function(){return t[n]})}),e}function _9(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function kg(t){try{return t()}catch(e){return e}}var Ji=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},VT={namespaced:{configurable:!0}};VT.namespaced.get=function(){return!!this._rawModule.namespaced},Ji.prototype.addChild=function(e,n){this._children[e]=n},Ji.prototype.removeChild=function(e){delete this._children[e]},Ji.prototype.getChild=function(e){return this._children[e]},Ji.prototype.hasChild=function(e){return e in this._children},Ji.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Ji.prototype.forEachChild=function(e){To(this._children,e)},Ji.prototype.forEachGetter=function(e){this._rawModule.getters&&To(this._rawModule.getters,e)},Ji.prototype.forEachAction=function(e){this._rawModule.actions&&To(this._rawModule.actions,e)},Ji.prototype.forEachMutation=function(e){this._rawModule.mutations&&To(this._rawModule.mutations,e)},Object.defineProperties(Ji.prototype,VT);var Eo=function(e){this.register([],e,!1)};Eo.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)},Eo.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")},Eo.prototype.update=function(e){WT([],this.root,e)},Eo.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0),process.env.NODE_ENV!=="production"&&QT(e,n);var s=new Ji(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&To(n.modules,function(o,l){i.register(e.concat(l),o,r)})},Eo.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);if(!i){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to unregister module '"+r+"', which is not registered");return}i.runtime&&n.removeChild(r)},Eo.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function WT(t,e,n){if(process.env.NODE_ENV!=="production"&&QT(t,n),e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r)){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");return}WT(t.concat(r),e.getChild(r),n.modules[r])}}var GT={assert:function(t){return typeof t=="function"},expected:"function"},T9={assert:function(t){return typeof t=="function"||typeof t=="object"&&typeof t.handler=="function"},expected:'function or object with "handler" function'},YT={getters:GT,mutations:GT,actions:T9};function QT(t,e){Object.keys(YT).forEach(function(n){if(e[n]){var r=YT[n];To(e[n],function(i,s){Zi(r.assert(i),E9(t,n,s,i,r.expected))})}})}function E9(t,e,n,r,i){var s=e+" should be "+i+' but "'+e+"."+n+'"';return t.length>0&&(s+=' in module "'+t.join(".")+'"'),s+=" is "+JSON.stringify(r)+".",s}function A9(t){return new Vr(t)}var Vr=function t(e){var n=this;e===void 0&&(e={}),process.env.NODE_ENV!=="production"&&(Zi(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),Zi(this instanceof t,"store must be called with the new operator."));var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Eo(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,o=this,l=o.dispatch,d=o.commit;this.dispatch=function(h,p){return l.call(a,h,p)},this.commit=function(h,p,m){return d.call(a,h,p,m)},this.strict=i;var f=this._modules.root.state;mh(this,f,[],this._modules.root),Cg(this,f),r.forEach(function(c){return c(n)})},Ig={state:{configurable:!0}};Vr.prototype.install=function(e,n){e.provide(n||OT,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:process.env.NODE_ENV!=="production"||!1;r&&m9(e,this)},Ig.state.get=function(){return this._state.data},Ig.state.set=function(t){process.env.NODE_ENV!=="production"&&Zi(!1,"use store.replaceState() to explicit replace store state.")},Vr.prototype.commit=function(e,n,r){var i=this,s=gh(e,n,r),a=s.type,o=s.payload,l=s.options,d={type:a,payload:o},f=this._mutations[a];if(!f){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown mutation type: "+a);return}this._withCommit(function(){f.forEach(function(h){h(o)})}),this._subscribers.slice().forEach(function(c){return c(d,i.state)}),process.env.NODE_ENV!=="production"&&l&&l.silent&&console.warn("[vuex] mutation type: "+a+". Silent option has been removed. Use the filter functionality in the vue-devtools")},Vr.prototype.dispatch=function(e,n){var r=this,i=gh(e,n),s=i.type,a=i.payload,o={type:s,payload:a},l=this._actions[s];if(!l){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown action type: "+s);return}try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(o,r.state)})}catch(f){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in before action subscribers: "),console.error(f))}var d=l.length>1?Promise.all(l.map(function(f){return f(a)})):l[0](a);return new Promise(function(f,c){d.then(function(h){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(o,r.state)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in after action subscribers: "),console.error(p))}f(h)},function(h){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(o,r.state,h)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in error action subscribers: "),console.error(p))}c(h)})})},Vr.prototype.subscribe=function(e,n){return LT(e,this._subscribers,n)},Vr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return LT(r,this._actionSubscribers,n)},Vr.prototype.watch=function(e,n,r){var i=this;return process.env.NODE_ENV!=="production"&&Zi(typeof e=="function","store.watch only accepts a function."),u.watch(function(){return e(i.state,i.getters)},n,Object.assign({},r))},Vr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})},Vr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&(Zi(Array.isArray(e),"module path must be a string or an Array."),Zi(e.length>0,"cannot register the root module by using registerModule.")),this._modules.register(e,n),mh(this,this.state,e,this._modules.get(e),r.preserveState),Cg(this,this.state)},Vr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&Zi(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var r=wg(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),RT(this)},Vr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&Zi(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},Vr.prototype.hotUpdate=function(e){this._modules.update(e),RT(this,!0)},Vr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n},Object.defineProperties(Vr.prototype,Ig);const On=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},x9={},C9={viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",class:"text-zinc-600 dark:text-zinc-100"},w9=[u.createElementVNode("circle",{cx:"25",cy:"25",r:"23",class:"fill-zinc-100 dark:fill-zinc-600"},null,-1),u.createElementVNode("path",{d:`M33.71,32.29L26.42,25l7.29-7.29c0.39-0.39,0.39-1.03,0-1.42c-0.39-0.39-1.03-0.39-1.42,0L25,23.58l-7.29-7.29
        c-0.39-0.39-1.03-0.39-1.42,0c-0.39,0.39-0.39,1.03,0,1.42L23.58,25l-7.29,7.29c-0.39,0.39-0.39,1.03,0,1.42
        C16.49,33.9,16.74,34,17,34s0.51-0.1,0.71-0.29L25,26.42l7.29,7.29C32.49,33.9,32.74,34,33,34s0.51-0.1,0.71-0.29
        C34.1,33.32,34.1,32.68,33.71,32.29z`,class:"fill-current"},null,-1)];function S9(t,e){return u.openBlock(),u.createElementBlock("svg",C9,w9)}const Fl=On(x9,[["render",S9]]),k9={class:"relative"},I9=["src"],D9={key:1,class:"flex h-[300px] w-[300px] items-center justify-center bg-gray-200 text-[150px] font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300"},KT=u.defineComponent({__name:"AvatarModal",props:{url:{},name:{}},setup(t){const e=kr(),n=t,r=u.ref(!1);r.value=n.url.length===0;const i=()=>{r.value=!0};return(s,a)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl overflow-hidden flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",k9,[u.createElementVNode("button",{class:"absolute right-2 top-2 ml-auto flex items-center justify-center rounded-full",onClick:a[0]||(a[0]=o=>u.unref(e).closeAll())},[u.createVNode(Fl,{class:"h-7 w-7"})]),r.value?(u.openBlock(),u.createElementBlock("div",D9,u.toDisplayString(s.name&&s.name.length>0?s.name.charAt(0).toUpperCase():""),1)):(u.openBlock(),u.createElementBlock("img",{key:0,src:s.url,class:"h-[300px] w-[300px] object-cover",onError:i},null,40,I9))])]),_:1}))}}),N9=["src"],gr=u.defineComponent({__name:"AvatarView",props:{url:{},name:{}},setup(t){const e=t,n=u.ref(!1);n.value=e.url.length===0;const r=()=>{n.value=!0};u.watch(()=>[e.url,e.name],()=>{n.value=!1});const i=()=>{const{open:s}=Xi({component:KT,attrs:{url:e.url,name:e.name}});s()};return(s,a)=>n.value?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex h-[50px] w-[50px] cursor-pointer items-center justify-center rounded-2xl bg-gray-200 text-xl font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300",onClick:u.withModifiers(i,["stop"])},u.toDisplayString(s.name&&s.name.length>0?s.name.charAt(0).toUpperCase():""),1)):(u.openBlock(),u.createElementBlock("img",{key:0,src:s.url,class:"h-[50px] w-[50px] cursor-pointer rounded-2xl object-cover",onError:r,onClick:u.withModifiers(i,["stop"])},null,40,N9))}});function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){R9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L9(t,e,n){return e&&O9(t.prototype,e),t}function R9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t){return P9(t)||F9(t)||U9(t)||j9()}function P9(t){if(Array.isArray(t))return Dg(t)}function F9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U9(t,e){if(t){if(typeof t=="string")return Dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(t,e)}}function Dg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ul={FRONT:"FRONT",BEHIND:"BEHIND"},Ao={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},ZT=2,H9=function(){function t(e,n){M9(this,t),this.init(e,n)}return L9(t,[{key:"init",value:function(n,r){this.param=n,this.callUpdate=r,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=Ao.INIT,this.offset=0,this.direction="",this.range=Object.create(null),n&&this.checkRange(0,n.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var n=Object.create(null);return n.start=this.range.start,n.end=this.range.end,n.padFront=this.range.padFront,n.padBehind=this.range.padBehind,n}},{key:"isBehind",value:function(){return this.direction===Ul.BEHIND}},{key:"isFront",value:function(){return this.direction===Ul.FRONT}},{key:"getOffset",value:function(n){return(n<1?0:this.getIndexOffset(n))+this.param.slotHeaderSize}},{key:"updateParam",value:function(n,r){var i=this;this.param&&n in this.param&&(n==="uniqueIds"&&this.sizes.forEach(function(s,a){r.includes(a)||i.sizes.delete(a)}),this.param[n]=r)}},{key:"saveSize",value:function(n,r){this.sizes.set(n,r),this.calcType===Ao.INIT?(this.fixedSizeValue=r,this.calcType=Ao.FIXED):this.calcType===Ao.FIXED&&this.fixedSizeValue!==r&&(this.calcType=Ao.DYNAMIC,delete this.fixedSizeValue),this.calcType!==Ao.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=B9(this.sizes.values()).reduce(function(i,s){return i+s},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var n=this.range.start;this.isFront()?n=n-ZT:this.isBehind()&&(n=n+ZT),n=Math.max(n,0),this.updateRange(this.range.start,this.getEndByStart(n))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(n){this.direction=n<this.offset?Ul.FRONT:Ul.BEHIND,this.offset=n,this.param&&(this.direction===Ul.FRONT?this.handleFront():this.direction===Ul.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var n=this.getScrollOvers();if(!(n>this.range.start)){var r=Math.max(n-this.param.buffer,0);this.checkRange(r,this.getEndByStart(r))}}},{key:"handleBehind",value:function(){var n=this.getScrollOvers();n<this.range.start+this.param.buffer||this.checkRange(n,this.getEndByStart(n))}},{key:"getScrollOvers",value:function(){var n=this.offset-this.param.slotHeaderSize;if(n<=0)return 0;if(this.isFixedType())return Math.floor(n/this.fixedSizeValue);for(var r=0,i=0,s=0,a=this.param.uniqueIds.length;r<=a;){if(i=r+Math.floor((a-r)/2),s=this.getIndexOffset(i),s===n)return i;s<n?r=i+1:s>n&&(a=i-1)}return r>0?--r:0}},{key:"getIndexOffset",value:function(n){if(!n)return 0;for(var r=0,i=0,s=0;s<n;s++)i=this.sizes.get(this.param.uniqueIds[s]),r=r+(typeof i=="number"?i:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,n-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),r}},{key:"isFixedType",value:function(){return this.calcType===Ao.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(n,r){var i=this.param.keeps,s=this.param.uniqueIds.length;s<=i?(n=0,r=this.getLastIndex()):r-n<i-1&&(n=r-i+1),this.range.start!==n&&this.updateRange(n,r)}},{key:"updateRange",value:function(n,r){this.range.start=n,this.range.end=r,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(n){var r=n+this.param.keeps-1,i=Math.min(r,this.getLastIndex());return i}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var n=this.range.end,r=this.getLastIndex();return this.isFixedType()?(r-n)*this.fixedSizeValue:this.lastCalcIndex===r?this.getIndexOffset(r)-this.getIndexOffset(n):(r-n)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),t}(),z9={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},V9={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},W9={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},JT=function(e,n,r){var i=null,s=u.computed(function(){return e.horizontal?"offsetWidth":"offsetHeight"}),a=function(){return n.value?n.value[s.value]:0},o=function(){var d=e.event,f=e.uniqueKey,c=e.hasInitial;r(d,f,a(),c)};u.onMounted(function(){typeof ResizeObserver<"u"&&(i=new ResizeObserver(function(){o()}),n.value&&i.observe(n.value))}),u.onUpdated(function(){o()}),u.onUnmounted(function(){i&&(i.disconnect(),i=null)})},G9=u.defineComponent({name:"VirtualListItem",props:V9,emits:["itemResize"],setup:function(e,n){var r=n.emit,i=u.ref(null);return JT(e,i,r),function(){var s=e.tag,a=e.component,o=e.extraProps,l=o===void 0?{}:o,d=e.index,f=e.source,c=e.scopedSlots,h=c===void 0?{}:c,p=e.uniqueKey,m=bh(bh({},l),{},{source:f,index:d});return u.createVNode(s,{key:p,ref:i},{default:function(){return[u.createVNode(a,bh(bh({},m),{},{scopedSlots:h}),null)]}})}}}),qT=u.defineComponent({name:"VirtualListSlot",props:W9,emits:["slotResize"],setup:function(e,n){var r=n.slots,i=n.emit,s=u.ref(null);return JT(e,s,i),function(){var a,o=e.tag,l=e.uniqueKey;return u.createVNode(o,{ref:s,key:l},{default:function(){return[(a=r.default)===null||a===void 0?void 0:a.call(r)]}})}}}),Hc;(function(t){t.ITEM="itemResize",t.SLOT="slotResize"})(Hc||(Hc={}));var jl;(function(t){t.HEADER="thead",t.FOOTER="tfoot"})(jl||(jl={}));var vh=u.defineComponent({name:"VirtualList",props:z9,setup:function(e,n){var r=n.emit,i=n.slots,s=n.expose,a=e.direction==="horizontal",o=a?"scrollLeft":"scrollTop",l=u.ref(null),d=u.ref(),f=u.ref(null),c;u.watch(function(){return e.dataSources.length},function(){c.updateParam("uniqueIds",x()),c.handleDataSourcesChange()}),u.watch(function(){return e.keeps},function(F){c.updateParam("keeps",F),c.handleSlotSizeChange()}),u.watch(function(){return e.start},function(F){k(F)}),u.watch(function(){return e.offset},function(F){return S(F)});var h=function(H){return c.sizes.get(H)},p=function(){return e.pageMode?document.documentElement[o]||document.body[o]:d.value?Math.ceil(d.value[o]):0},m=function(){var H=a?"clientWidth":"clientHeight";return e.pageMode?document.documentElement[H]||document.body[H]:d.value?Math.ceil(d.value[H]):0},g=function(){var H=a?"scrollWidth":"scrollHeight";return e.pageMode?document.documentElement[H]||document.body[H]:d.value?Math.ceil(d.value[H]):0},v=function(H,K,P,W){r("scroll",W,c.getRange()),c.isFront()&&e.dataSources.length&&H-e.topThreshold<=0?r("totop"):c.isBehind()&&H+K+e.bottomThreshold>=P&&r("tobottom")},y=function(H){var K=p(),P=m(),W=g();K<0||K+P>W+1||!W||(c.handleScroll(K),v(K,P,W,H))},x=function(){var H=e.dataKey,K=e.dataSources,P=K===void 0?[]:K;return P.map(function(W){return typeof H=="function"?H(W):W[H]})},w=function(H){l.value=H},I=function(){c=new H9({slotHeaderSize:0,slotFooterSize:0,keeps:e.keeps,estimateSize:e.estimateSize,buffer:Math.round(e.keeps/3),uniqueIds:x()},w),l.value=c.getRange()},k=function(H){if(H>=e.dataSources.length-1)L();else{var K=c.getOffset(H);S(K)}},S=function(H){e.pageMode?(document.body[o]=H,document.documentElement[o]=H):d.value&&(d.value[o]=H)},B=function(){for(var H=[],K=l.value,P=K.start,W=K.end,ie=e.dataSources,Q=e.dataKey,N=e.itemClass,E=e.itemTag,j=e.itemStyle,G=e.extraProps,X=e.dataComponent,Z=e.itemScopedSlots,ce=P;ce<=W;ce++){var re=ie[ce];if(re){var pe=typeof Q=="function"?Q(re):re[Q];typeof pe=="string"||typeof pe=="number"?H.push(u.createVNode(G9,{index:ce,tag:E,event:Hc.ITEM,horizontal:a,uniqueKey:pe,source:re,extraProps:G,component:X,scopedSlots:Z,style:j,class:"".concat(N).concat(e.itemClassAdd?" "+e.itemClassAdd(ce):""),onItemResize:M},null)):console.warn("Cannot get the data-key '".concat(Q,"' from data-sources."))}else console.warn("Cannot get the index '".concat(ce,"' from data-sources."))}return H},M=function(H,K){c.saveSize(H,K),r("resized",H,K)},D=function(H,K,P){H===jl.HEADER?c.updateParam("slotHeaderSize",K):H===jl.FOOTER&&c.updateParam("slotFooterSize",K),P&&c.handleSlotSizeChange()},L=function F(){if(f.value){var H=f.value[a?"offsetLeft":"offsetTop"];S(H),setTimeout(function(){p()+m()<g()&&F()},3)}},z=function(){if(d.value){var H=d.value.getBoundingClientRect(),K=d.value.ownerDocument.defaultView,P=a?H.left+K.pageXOffset:H.top+K.pageYOffset;c.updateParam("slotHeaderSize",P)}},U=function(){return c.sizes.size};return u.onBeforeMount(function(){I()}),u.onActivated(function(){S(c.offset)}),u.onMounted(function(){e.start?k(e.start):e.offset&&S(e.offset),e.pageMode&&(z(),document.addEventListener("scroll",y,{passive:!1}))}),u.onUnmounted(function(){c.destroy(),e.pageMode&&document.removeEventListener("scroll",y)}),s({scrollToBottom:L,getSizes:U,getSize:h,getOffset:p,getScrollSize:g,getClientSize:m,scrollToOffset:S,scrollToIndex:k}),function(){var F=e.pageMode,H=e.rootTag,K=e.wrapTag,P=e.wrapClass,W=e.wrapStyle,ie=e.headerTag,Q=e.headerClass,N=e.headerStyle,E=e.footerTag,j=e.footerClass,G=e.footerStyle,X=l.value,Z=X.padFront,ce=X.padBehind,re={padding:a?"0px ".concat(ce,"px 0px ").concat(Z,"px"):"".concat(Z,"px 0px ").concat(ce,"px")},pe=W?Object.assign({},W,re):re,me=i.header,de=i.footer;return u.createVNode(H,{ref:d,onScroll:!F&&y},{default:function(){return[me&&u.createVNode(qT,{class:Q,style:N,tag:ie,event:Hc.SLOT,uniqueKey:jl.HEADER,onSlotResize:D},{default:function(){return[me()]}}),u.createVNode(K,{class:P,style:pe},{default:function(){return[B()]}}),de&&u.createVNode(qT,{class:j,style:G,tag:E,event:Hc.SLOT,uniqueKey:jl.FOOTER,onSlotResize:D},{default:function(){return[de()]}}),u.createVNode("div",{ref:f,style:{width:a?"0px":"100%",height:a?"100%":"0px"}},null)]}})}}});const Y9="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20id='Layer'%20height='512'%20viewBox='0%200%2024%2024'%20width='512'%20version='1.1'%20sodipodi:docname='unsend-message.svg'%20inkscape:version='1.2%20(dc2aeda,%202022-05-15)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1053'%20/%3e%3csodipodi:namedview%20id='namedview1051'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='1.7128906'%20inkscape:cx='256'%20inkscape:cy='256.58381'%20inkscape:window-width='1390'%20inkscape:window-height='847'%20inkscape:window-x='1828'%20inkscape:window-y='70'%20inkscape:window-maximized='0'%20inkscape:current-layer='Layer'%20/%3e%3cpath%20id='chat-dots-times'%20d='m13.745%2020.847a.749.749%200%200%201%20-.654.835%209.688%209.688%200%200%201%20-5.165-.835%201.189%201.189%200%200%200%20-.875-.025l-2.489.836a1.77%201.77%200%200%201%20-.557.091%201.76%201.76%200%200%201%20-1.664-2.308l.841-2.5a1.181%201.181%200%200%200%20-.027-.858%209.746%209.746%200%201%201%2018.595-4.083%208.936%208.936%200%200%201%20-.065%201.09.75.75%200%201%201%20-1.489-.181%207.585%207.585%200%200%200%20.054-.909%208.249%208.249%200%201%200%20-15.737%203.442%202.68%202.68%200%200%201%20.094%201.963l-.843%202.512a.24.24%200%200%200%20.064.255.244.244%200%200%200%20.257.064l2.5-.839a2.681%202.681%200%200%201%201.981.093%208.159%208.159%200%200%200%204.347.7.756.756%200%200%201%20.832.657zm7.785-4.377a.749.749%200%200%200%20-1.06%200l-1.47%201.469-1.47-1.469a.75.75%200%200%200%20-1.06%201.06l1.469%201.47-1.469%201.47a.75.75%200%201%200%201.06%201.06l1.47-1.469%201.47%201.469a.75.75%200%200%200%201.06-1.06l-1.469-1.47%201.469-1.47a.749.749%200%200%200%200-1.06zm-9.52-5.47a1.005%201.005%200%201%200%20.01%200zm5.01%201a1%201%200%200%200%20-1-1h-.01a1%201%200%201%200%201.01%201zm-9.01-1a1.005%201.005%200%201%200%20.01%200z'%20fill='rgb(0,0,0)'%20style='fill:%234b5563;fill-opacity:1'%20/%3e%3c/svg%3e",$T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR4nO2ZS0oDQRCGBwT1AD5AfN1E0KhJV1QSuzSuYqqCiOBar6AHiBHBA3gLieglfIsLcRPduFBQesKYjijCTLckWB/MIh3yd1X13wn8CQJBEP4vs8vFcUDaB6Q7hfwGyO9xHxV+nu4AqaryNOa9+OwizSjk5yRFw0+P5idYKqW8Tt5b8dhsIotro14aaNgmOnq6zGB5EhG7k2giYnd2kaZA89Wntua9wAcNrzY2McW71M6aJprDuXEjurLWB8hH0Wv7wiad/FeMnn2xg6TMFXgQkC+MYLRmezXwALjUV0iHX8U6qwFNjx3dAHwjJg38AsgJWIiFYgBiIQuxUAxALGQhFooBiIUsxEIxALGQhVgoBiAW+mUaHZVKqNZiu8I1zbe+ciFYKqWsoV0nFlSa7yPB+QINhZsgVa0I8Mps6iKZyyBPtyRzSJXkDSDXmsVSIVzL01gYwPrMRpHqTrJRhbxtebLWctTemqC6iRgDFywsr46A5pdm4Eob0XtmQuaYTYbp4v8BFepQxXkqDci71nRe7SY6golisRc0nbVMTdOJwvJKOlcejr6d2prp3PqAQj71eHGPvDeRTm/2KKQd+044eTSdmwg/+CvCi420BZqPze9E/AtMD4B0kMZS/58VLwhC0FZ8ALiaxMwFZ/dcAAAAAElFTkSuQmCC",eE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR4nO2Xu4sUQRCHC8HHJYqgiAgmXqKpkQgqIjjTtRss9m/v9MBzqpbB9TA08MUECv4DcslhaCSYGZkoCAZiYCCoaGRwoKKooIi6K+OB2w4LB+exsyX9wUQzDPV1PbqbKBKpj2RmZqOD3GpCJ8li8OzlIUP7DF1MkO0ho8H3GdpzkFNkNfgUnTmyQBKDr4kkrnxNJP/ZyveHPl7eM+Q1Qx8x5KaDXuRjeujg7OyGWgUcZL4SbG9Zmb/E9Kvzcoe9TAOYGN8MYPnHQT8w9ErjeL6lbokeQ7vhN3yiu5lxckfa1v0OmbKX6wx9OlxEPjP0cpKcXT9WEsNoIN/JkAsMfTYkIy9cWw7QuEuUFEWxhpG1nNfHFYkfzsul8v3YS5SUgaZeOw76riJye2QT618lSprTuo293q1MrPtHkG8iKxJLZSVXK5m4V2smVnIfSNGZc15+huVUV08suindvZL/NCCnK+V0nqzdiRlybSAh38s9hSxRlD0RNraX5yPd7FaDo618+9LBsIZSWi0Y2g0EPpbHFLJWSg7y5M9U8lKQNRyydiDw1lwvFL8bWl4OplLWIms4L0W4uZE1mtDJQODT3jxfS9bgoIwakH1kDYYsBDe5c2QN5+XMYBrpDbJGis7h4GjxgKyRTOW7glPqK7JGgmxrIPCGrAFgIhilX8gaANYFAt/IGogCkUgkQiPgF1+GFsoZdsMBAAAAAElFTkSuQmCC";var Yt;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(Yt||(Yt={}));function Q9(t){return t.type===Yt.Tag||t.type===Yt.Script||t.type===Yt.Style}const K9=Yt.Root,X9=Yt.Text,Z9=Yt.Directive,J9=Yt.Comment,q9=Yt.Script,$9=Yt.Style,eR=Yt.Tag,tR=Yt.CDATA,nR=Yt.Doctype;let tE=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Vc(this,e)}};class Ng extends tE{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}let zc=class extends Ng{constructor(){super(...arguments),this.type=Yt.Text}get nodeType(){return 3}},Mg=class extends Ng{constructor(){super(...arguments),this.type=Yt.Comment}get nodeType(){return 8}},Og=class extends Ng{constructor(e,n){super(n),this.name=e,this.type=Yt.Directive}get nodeType(){return 1}};class Lg extends tE{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class nE extends Lg{constructor(){super(...arguments),this.type=Yt.CDATA}get nodeType(){return 4}}let xo=class extends Lg{constructor(){super(...arguments),this.type=Yt.Root}get nodeType(){return 9}},Rg=class extends Lg{constructor(e,n,r=[],i=e==="script"?Yt.Script:e==="style"?Yt.Style:Yt.Tag){super(r),this.name=e,this.attribs=n,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var n,r;return{name:e,value:this.attribs[e],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}};function Tt(t){return Q9(t)}function yh(t){return t.type===Yt.CDATA}function Ts(t){return t.type===Yt.Text}function _h(t){return t.type===Yt.Comment}function Bg(t){return t.type===Yt.Directive}function Ia(t){return t.type===Yt.Root}function $n(t){return Object.prototype.hasOwnProperty.call(t,"children")}function Vc(t,e=!1){let n;if(Ts(t))n=new zc(t.data);else if(_h(t))n=new Mg(t.data);else if(Tt(t)){const r=e?Pg(t.children):[],i=new Rg(t.name,{...t.attribs},r);r.forEach(s=>s.parent=i),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=i}else if(yh(t)){const r=e?Pg(t.children):[],i=new nE(r);r.forEach(s=>s.parent=i),n=i}else if(Ia(t)){const r=e?Pg(t.children):[],i=new xo(r);r.forEach(s=>s.parent=i),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(Bg(t)){const r=new Og(t.name,t.data);t["x-name"]!=null&&(r["x-name"]=t["x-name"],r["x-publicId"]=t["x-publicId"],r["x-systemId"]=t["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function Pg(t){const e=t.map(n=>Vc(n,!0));for(let n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}const rE={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class rR{constructor(e,n,r){this.dom=[],this.root=new xo(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=rE),typeof e=="object"&&(n=e,e=void 0),this.callback=e??null,this.options=n??rE,this.elementCB=r??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new xo(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,n){const r=this.options.xmlMode?Yt.Tag:void 0,i=new Rg(e,n,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(e){const{lastNode:n}=this;if(n&&n.type===Yt.Text)n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new zc(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===Yt.Comment){this.lastNode.data+=e;return}const n=new Mg(e);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const e=new zc(""),n=new nE([e]);this.addNode(n),e.parent=n,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,n){const r=new Og(e,n);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),n.children.push(e),r&&(e.prev=r,r.next=e),e.parent=n,this.lastNode=null}}const $s=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),iE=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Fg;const iR=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ug=(Fg=String.fromCodePoint)!==null&&Fg!==void 0?Fg:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function sR(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=iR.get(t))!==null&&e!==void 0?e:t}var er;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(er||(er={}));const aR=32;var Es;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Es||(Es={}));function jg(t){return t>=er.ZERO&&t<=er.NINE}function oR(t){return t>=er.UPPER_A&&t<=er.UPPER_F||t>=er.LOWER_A&&t<=er.LOWER_F}function lR(t){return t>=er.UPPER_A&&t<=er.UPPER_Z||t>=er.LOWER_A&&t<=er.LOWER_Z||jg(t)}function uR(t){return t===er.EQUALS||lR(t)}var tr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(tr||(tr={}));var As;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(As||(As={}));class sE{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=tr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=As.Strict}startEntity(e){this.decodeMode=e,this.state=tr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case tr.EntityStart:return e.charCodeAt(n)===er.NUM?(this.state=tr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=tr.NamedEntity,this.stateNamedEntity(e,n));case tr.NumericStart:return this.stateNumericStart(e,n);case tr.NumericDecimal:return this.stateNumericDecimal(e,n);case tr.NumericHex:return this.stateNumericHex(e,n);case tr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|aR)===er.LOWER_X?(this.state=tr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=tr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(jg(i)||oR(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(jg(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===er.SEMI)this.consumed+=1;else if(this.decodeMode===As.Strict)return 0;return this.emitCodePoint(sR(this.result),this.consumed),this.errors&&(e!==er.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Es.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=oE(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===As.Attribute&&(s===0||uR(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Es.VALUE_LENGTH)>>14,s!==0){if(a===er.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==As.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Es.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Es.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case tr.NamedEntity:return this.result!==0&&(this.decodeMode!==As.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case tr.NumericDecimal:return this.emitNumericEntity(0,2);case tr.NumericHex:return this.emitNumericEntity(0,3);case tr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case tr.EntityStart:return 0}}}function aE(t){let e="";const n=new sE(t,r=>e+=Ug(r));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){e+=i.slice(a,o),n.startEntity(s);const d=n.write(i,o+1);if(d<0){a=o+n.end();break}a=o+d,o=d===0?a+1:a}const l=e+i.slice(a);return e="",l}}function oE(t,e,n,r){const i=(e&Es.BRANCH_LENGTH)>>7,s=e&Es.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:t[n+l]-1}let a=n,o=a+i-1;for(;a<=o;){const l=a+o>>>1,d=t[l];if(d<r)a=l+1;else if(d>r)o=l-1;else return t[l+i]}return-1}aE($s),aE(iE);const lE=/["&'<>$\x80-\uFFFF]/g,cR=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),dR=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function uE(t){let e="",n=0,r;for(;(r=lE.exec(t))!==null;){const i=r.index,s=t.charCodeAt(i),a=cR.get(s);a!==void 0?(e+=t.substring(n,i)+a,n=i+1):(e+=`${t.substring(n,i)}&#x${dR(t,i).toString(16)};`,n=lE.lastIndex+=+((s&64512)===55296))}return e+t.substr(n)}function cE(t,e){return function(r){let i,s=0,a="";for(;i=t.exec(r);)s!==i.index&&(a+=r.substring(s,i.index)),a+=e.get(i[0].charCodeAt(0)),s=i.index+1;return a+r.substring(s)}}const dE=cE(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),fE=cE(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),fR=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),hR=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),pR=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function mR(t){return t.replace(/"/g,"&quot;")}function gR(t,e){var n;if(!t)return;const r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?mR:e.xmlMode||e.encodeEntities!=="utf8"?uE:dE;return Object.keys(t).map(i=>{var s,a;const o=(s=t[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(a=hR.get(i))!==null&&a!==void 0?a:i),!e.emptyAttrs&&!e.xmlMode&&o===""?i:`${i}="${r(o)}"`}).join(" ")}const hE=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Th(t,e={}){const n="length"in t?t:[t];let r="";for(let i=0;i<n.length;i++)r+=bR(n[i],e);return r}function bR(t,e){switch(t.type){case K9:return Th(t.children,e);case nR:case Z9:return TR(t);case J9:return xR(t);case tR:return AR(t);case q9:case $9:case eR:return _R(t,e);case X9:return ER(t,e)}}const vR=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),yR=new Set(["svg","math"]);function _R(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=fR.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&vR.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&yR.has(t.name)&&(e={...e,xmlMode:"foreign"});let r=`<${t.name}`;const i=gR(t.attribs,e);return i&&(r+=` ${i}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&hE.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=Th(t.children,e)),(e.xmlMode||!hE.has(t.name))&&(r+=`</${t.name}>`)),r}function TR(t){return`<${t.data}>`}function ER(t,e){var n;let r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&pR.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?uE(r):fE(r)),r}function AR(t){return`<![CDATA[${t.children[0].data}]]>`}function xR(t){return`<!--${t.data}-->`}function pE(t,e){return Th(t,e)}function CR(t,e){return $n(t)?t.children.map(n=>pE(n,e)).join(""):""}function Eh(t){return Array.isArray(t)?t.map(Eh).join(""):Tt(t)?t.name==="br"?`
`:Eh(t.children):yh(t)?Eh(t.children):Ts(t)?t.data:""}function Hl(t){return Array.isArray(t)?t.map(Hl).join(""):$n(t)&&!_h(t)?Hl(t.children):Ts(t)?t.data:""}function Ah(t){return Array.isArray(t)?t.map(Ah).join(""):$n(t)&&(t.type===Yt.Tag||yh(t))?Ah(t.children):Ts(t)?t.data:""}function xh(t){return $n(t)?t.children:[]}function mE(t){return t.parent||null}function gE(t){const e=mE(t);if(e!=null)return xh(e);const n=[t];let{prev:r,next:i}=t;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;i!=null;)n.push(i),{next:i}=i;return n}function wR(t,e){var n;return(n=t.attribs)===null||n===void 0?void 0:n[e]}function SR(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function kR(t){return t.name}function Hg(t){let{next:e}=t;for(;e!==null&&!Tt(e);)({next:e}=e);return e}function zg(t){let{prev:e}=t;for(;e!==null&&!Tt(e);)({prev:e}=e);return e}function Co(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,n=e.lastIndexOf(t);n>=0&&e.splice(n,1)}t.next=null,t.prev=null,t.parent=null}function IR(t,e){const n=e.prev=t.prev;n&&(n.next=e);const r=e.next=t.next;r&&(r.prev=e);const i=e.parent=t.parent;if(i){const s=i.children;s[s.lastIndexOf(t)]=e,t.parent=null}}function DR(t,e){if(Co(e),e.next=null,e.parent=t,t.children.push(e)>1){const n=t.children[t.children.length-2];n.next=e,e.prev=n}else e.prev=null}function NR(t,e){Co(e);const{parent:n}=t,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){const i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)}function MR(t,e){if(Co(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const n=t.children[1];n.prev=e,e.next=n}else e.next=null}function OR(t,e){Co(e);const{parent:n}=t;if(n){const r=n.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}function Ch(t,e,n=!0,r=1/0){return Vg(t,Array.isArray(e)?e:[e],n,r)}function Vg(t,e,n,r){const i=[],s=[e],a=[0];for(;;){if(a[0]>=s[0].length){if(a.length===1)return i;s.shift(),a.shift();continue}const o=s[0][a[0]++];if(t(o)&&(i.push(o),--r<=0))return i;n&&$n(o)&&o.children.length>0&&(a.unshift(0),s.unshift(o.children))}}function LR(t,e){return e.find(t)}function Wg(t,e,n=!0){let r=null;for(let i=0;i<e.length&&!r;i++){const s=e[i];if(Tt(s))t(s)?r=s:n&&s.children.length>0&&(r=Wg(t,s.children,!0));else continue}return r}function bE(t,e){return e.some(n=>Tt(n)&&(t(n)||bE(t,n.children)))}function RR(t,e){const n=[],r=[e],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return n;r.shift(),i.shift();continue}const s=r[0][i[0]++];Tt(s)&&(t(s)&&n.push(s),s.children.length>0&&(i.unshift(0),r.unshift(s.children)))}}const wh={tag_name(t){return typeof t=="function"?e=>Tt(e)&&t(e.name):t==="*"?Tt:e=>Tt(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>Ts(e)&&t(e.data):e=>Ts(e)&&e.data===t}};function vE(t,e){return typeof e=="function"?n=>Tt(n)&&e(n.attribs[t]):n=>Tt(n)&&n.attribs[t]===e}function BR(t,e){return n=>t(n)||e(n)}function yE(t){const e=Object.keys(t).map(n=>{const r=t[n];return Object.prototype.hasOwnProperty.call(wh,n)?wh[n](r):vE(n,r)});return e.length===0?null:e.reduce(BR)}function PR(t,e){const n=yE(t);return n?n(e):!0}function FR(t,e,n,r=1/0){const i=yE(t);return i?Ch(i,e,n,r):[]}function UR(t,e,n=!0){return Array.isArray(e)||(e=[e]),Wg(vE("id",t),e,n)}function zl(t,e,n=!0,r=1/0){return Ch(wh.tag_name(t),e,n,r)}function jR(t,e,n=!0,r=1/0){return Ch(wh.tag_type(t),e,n,r)}function HR(t){let e=t.length;for(;--e>=0;){const n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0){t.splice(e,1);continue}for(let r=n.parent;r;r=r.parent)if(t.includes(r)){t.splice(e,1);break}}return t}var wi;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(wi||(wi={}));function _E(t,e){const n=[],r=[];if(t===e)return 0;let i=$n(t)?t:t.parent;for(;i;)n.unshift(i),i=i.parent;for(i=$n(e)?e:e.parent;i;)r.unshift(i),i=i.parent;const s=Math.min(n.length,r.length);let a=0;for(;a<s&&n[a]===r[a];)a++;if(a===0)return wi.DISCONNECTED;const o=n[a-1],l=o.children,d=n[a],f=r[a];return l.indexOf(d)>l.indexOf(f)?o===e?wi.FOLLOWING|wi.CONTAINED_BY:wi.FOLLOWING:o===t?wi.PRECEDING|wi.CONTAINS:wi.PRECEDING}function Vl(t){return t=t.filter((e,n,r)=>!r.includes(e,n+1)),t.sort((e,n)=>{const r=_E(e,n);return r&wi.PRECEDING?-1:r&wi.FOLLOWING?1:0}),t}function zR(t){const e=Sh(QR,t);return e?e.name==="feed"?VR(e):WR(e):null}function VR(t){var e;const n=t.children,r={type:"atom",items:zl("entry",n).map(a=>{var o;const{children:l}=a,d={media:TE(l)};Wr(d,"id","id",l),Wr(d,"title","title",l);const f=(o=Sh("link",l))===null||o===void 0?void 0:o.attribs.href;f&&(d.link=f);const c=Da("summary",l)||Da("content",l);c&&(d.description=c);const h=Da("updated",l);return h&&(d.pubDate=new Date(h)),d})};Wr(r,"id","id",n),Wr(r,"title","title",n);const i=(e=Sh("link",n))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),Wr(r,"description","subtitle",n);const s=Da("updated",n);return s&&(r.updated=new Date(s)),Wr(r,"author","email",n,!0),r}function WR(t){var e,n;const r=(n=(e=Sh("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&n!==void 0?n:[],i={type:t.name.substr(0,3),id:"",items:zl("item",t.children).map(a=>{const{children:o}=a,l={media:TE(o)};Wr(l,"id","guid",o),Wr(l,"title","title",o),Wr(l,"link","link",o),Wr(l,"description","description",o);const d=Da("pubDate",o)||Da("dc:date",o);return d&&(l.pubDate=new Date(d)),l})};Wr(i,"title","title",r),Wr(i,"link","link",r),Wr(i,"description","description",r);const s=Da("lastBuildDate",r);return s&&(i.updated=new Date(s)),Wr(i,"author","managingEditor",r,!0),i}const GR=["url","type","lang"],YR=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function TE(t){return zl("media:content",t).map(e=>{const{attribs:n}=e,r={medium:n.medium,isDefault:!!n.isDefault};for(const i of GR)n[i]&&(r[i]=n[i]);for(const i of YR)n[i]&&(r[i]=parseInt(n[i],10));return n.expression&&(r.expression=n.expression),r})}function Sh(t,e){return zl(t,e,!0,1)[0]}function Da(t,e,n=!1){return Hl(zl(t,e,n,1)).trim()}function Wr(t,e,n,r,i=!1){const s=Da(n,r,i);s&&(t[e]=s)}function QR(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const kh=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return wi},append:NR,appendChild:DR,compareDocumentPosition:_E,existsOne:bE,filter:Ch,find:Vg,findAll:RR,findOne:Wg,findOneChild:LR,getAttributeValue:wR,getChildren:xh,getElementById:UR,getElements:FR,getElementsByTagName:zl,getElementsByTagType:jR,getFeed:zR,getInnerHTML:CR,getName:kR,getOuterHTML:pE,getParent:mE,getSiblings:gE,getText:Eh,hasAttrib:SR,hasChildren:$n,innerText:Ah,isCDATA:yh,isComment:_h,isDocument:Ia,isTag:Tt,isText:Ts,nextElementSibling:Hg,prepend:OR,prependChild:MR,prevElementSibling:zg,removeElement:Co,removeSubsets:HR,replaceElement:IR,testElement:PR,textContent:Hl,uniqueSort:Vl},Symbol.toStringTag,{value:"Module"})),KR={_useHtmlParser2:!1};function Gg(t,e){if(!t)return e??KR;const n={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,t.xml!==!0&&Object.assign(n,t.xml)):t.xmlMode&&(n._useHtmlParser2=!0),n}function EE(t,e,n){return t?t(e??t._root.children,null,void 0,n).toString():""}function XR(t,e){return typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function ZR(t,e){const n=XR(t)?(e=t,void 0):t,r={...this===null||this===void 0?void 0:this._options,...Gg(e)};return EE(this,n,r)}function JR(t){const e={...this._options,xmlMode:!0};return EE(this,t,e)}function Wc(t){const e=t??(this?this.root():[]);let n="";for(let r=0;r<e.length;r++)n+=Hl(e[r]);return n}function qR(t,e,n=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(n=e);const r=this.load(t,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function $R(){return this(this._root)}function AE(t,e){if(e===t)return!1;let n=e;for(;n&&n!==n.parent;)if(n=n.parent,n===t)return!0;return!1}function eB(t){return this.root().extract(t)}function tB(t,e){if(!xE(t)||!xE(e))return;let n=t.length;const r=+e.length;for(let i=0;i<r;i++)t[n++]=e[i];return t.length=n,t}function xE(t){if(Array.isArray(t))return!0;if(typeof t!="object"||t===null||!("length"in t)||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}const nB=Object.freeze(Object.defineProperty({__proto__:null,contains:AE,extract:eB,html:ZR,merge:tB,parseHTML:qR,root:$R,text:Wc,xml:JR},Symbol.toStringTag,{value:"Module"}));function ea(t){return t.cheerio!=null}function rB(t){return t.replace(/[._-](\w|$)/g,(e,n)=>n.toUpperCase())}function iB(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function Tn(t,e){const n=t.length;for(let r=0;r<n;r++)e(t[r],r);return t}var wo;(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(wo||(wo={}));function Yg(t){const e=t.indexOf("<");if(e<0||e>t.length-3)return!1;const n=t.charCodeAt(e+1);return(n>=wo.LowerA&&n<=wo.LowerZ||n>=wo.UpperA&&n<=wo.UpperZ||n===wo.Exclamation)&&t.includes(">",e+2)}const Gc=Object.prototype.hasOwnProperty,Yc=/\s+/,Qg="data-",Kg=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,sB=/^{[^]*}$|^\[[^]*]$/;function Ih(t,e,n){var r;if(!(!t||!Tt(t))){if((r=t.attribs)!==null&&r!==void 0||(t.attribs={}),!e)return t.attribs;if(Gc.call(t.attribs,e))return!n&&Kg.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return Wc(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function Wl(t,e,n){n===null?kE(t,e):t.attribs[e]=`${n}`}function aB(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return Tn(this,(n,r)=>{Tt(n)&&Wl(n,t,e.call(n,r,n.attribs[t]))})}return Tn(this,n=>{if(Tt(n))if(typeof t=="object")for(const r of Object.keys(t)){const i=t[r];Wl(n,r,i)}else Wl(n,t,e)})}return arguments.length>1?this:Ih(this[0],t,this.options.xmlMode)}function CE(t,e,n){return e in t?t[e]:!n&&Kg.test(e)?Ih(t,e,!1)!==void 0:Ih(t,e,n)}function Xg(t,e,n,r){e in t?t[e]=n:Wl(t,e,!r&&Kg.test(e)?n?"":null:`${n}`)}function oB(t,e){var n;if(typeof t=="string"&&e===void 0){const r=this[0];if(!r||!Tt(r))return;switch(t){case"style":{const i=this.css(),s=Object.keys(i);for(let a=0;a<s.length;a++)i[a]=s[a];return i.length=s.length,i}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const i=(n=r.attribs)===null||n===void 0?void 0:n[t];return typeof URL<"u"&&(t==="href"&&(r.tagName==="a"||r.tagName==="link")||t==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&i!==void 0&&this.options.baseURI?new URL(i,this.options.baseURI).href:i}case"innerText":return Ah(r);case"textContent":return Hl(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return CE(r,t,this.options.xmlMode)}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new TypeError("Bad combination of arguments.");return Tn(this,(r,i)=>{Tt(r)&&Xg(r,t,e.call(r,i,CE(r,t,this.options.xmlMode)),this.options.xmlMode)})}return Tn(this,r=>{if(Tt(r))if(typeof t=="object")for(const i of Object.keys(t)){const s=t[i];Xg(r,i,s,this.options.xmlMode)}else Xg(r,t,e,this.options.xmlMode)})}}function wE(t,e,n){var r;(r=t.data)!==null&&r!==void 0||(t.data={}),typeof e=="object"?Object.assign(t.data,e):typeof e=="string"&&n!==void 0&&(t.data[e]=n)}function lB(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(Qg))continue;const n=rB(e.slice(Qg.length));Gc.call(t.data,n)||(t.data[n]=SE(t.attribs[e]))}return t.data}function uB(t,e){const n=Qg+iB(e),r=t.data;if(Gc.call(r,e))return r[e];if(Gc.call(t.attribs,n))return r[e]=SE(t.attribs[n])}function SE(t){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;const e=Number(t);if(t===String(e))return e;if(sB.test(t))try{return JSON.parse(t)}catch{}return t}function cB(t,e){var n;const r=this[0];if(!r||!Tt(r))return;const i=r;return(n=i.data)!==null&&n!==void 0||(i.data={}),t==null?lB(i):typeof t=="object"||e!==void 0?(Tn(this,s=>{Tt(s)&&(typeof t=="object"?wE(s,t):wE(s,t,e))}),this):uB(i,t)}function dB(t){const e=arguments.length===0,n=this[0];if(!n||!Tt(n))return e?void 0:this;switch(n.name){case"textarea":return this.text(t);case"select":{const r=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");const i=typeof t=="object"?t:[t];for(const s of i)this.find(`option[value="${s}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(i=>Wc(i.children)):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function kE(t,e){!t.attribs||!Gc.call(t.attribs,e)||delete t.attribs[e]}function Dh(t){return t?t.trim().split(Yc):[]}function fB(t){const e=Dh(t);for(const n of e)Tn(this,r=>{Tt(r)&&kE(r,n)});return this}function hB(t){return this.toArray().some(e=>{const n=Tt(e)&&e.attribs.class;let r=-1;if(n&&t.length>0)for(;(r=n.indexOf(t,r+1))>-1;){const i=r+t.length;if((r===0||Yc.test(n[r-1]))&&(i===n.length||Yc.test(n[i])))return!0}return!1})}function IE(t){if(typeof t=="function")return Tn(this,(r,i)=>{if(Tt(r)){const s=r.attribs.class||"";IE.call([r],t.call(r,i,s))}});if(!t||typeof t!="string")return this;const e=t.split(Yc),n=this.length;for(let r=0;r<n;r++){const i=this[r];if(!Tt(i))continue;const s=Ih(i,"class",!1);if(s){let a=` ${s} `;for(const o of e){const l=`${o} `;a.includes(` ${l}`)||(a+=l)}Wl(i,"class",a.trim())}else Wl(i,"class",e.join(" ").trim())}return this}function DE(t){if(typeof t=="function")return Tn(this,(i,s)=>{Tt(i)&&DE.call([i],t.call(i,s,i.attribs.class||""))});const e=Dh(t),n=e.length,r=arguments.length===0;return Tn(this,i=>{if(Tt(i))if(r)i.attribs.class="";else{const s=Dh(i.attribs.class);let a=!1;for(let o=0;o<n;o++){const l=s.indexOf(e[o]);l>=0&&(s.splice(l,1),a=!0,o--)}a&&(i.attribs.class=s.join(" "))}})}function NE(t,e){if(typeof t=="function")return Tn(this,(a,o)=>{Tt(a)&&NE.call([a],t.call(a,o,a.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;const n=t.split(Yc),r=n.length,i=typeof e=="boolean"?e?1:-1:0,s=this.length;for(let a=0;a<s;a++){const o=this[a];if(!Tt(o))continue;const l=Dh(o.attribs.class);for(let d=0;d<r;d++){const f=l.indexOf(n[d]);i>=0&&f<0?l.push(n[d]):i<=0&&f>=0&&l.splice(f,1)}o.attribs.class=l.join(" ")}return this}const pB=Object.freeze(Object.defineProperty({__proto__:null,addClass:IE,attr:aB,data:cB,hasClass:hB,prop:oB,removeAttr:fB,removeClass:DE,toggleClass:NE,val:dB},Symbol.toStringTag,{value:"Module"}));var ft;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(ft||(ft={}));var Kn;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(Kn||(Kn={}));const ME=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,mB=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,gB=new Map([[126,Kn.Element],[94,Kn.Start],[36,Kn.End],[42,Kn.Any],[33,Kn.Not],[124,Kn.Hyphen]]),bB=new Set(["has","not","matches","is","where","host","host-context"]);function Qc(t){switch(t.type){case ft.Adjacent:case ft.Child:case ft.Descendant:case ft.Parent:case ft.Sibling:case ft.ColumnCombinator:return!0;default:return!1}}const vB=new Set(["contains","icontains"]);function yB(t,e,n){const r=parseInt(e,16)-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Kc(t){return t.replace(mB,yB)}function Zg(t){return t===39||t===34}function OE(t){return t===32||t===9||t===10||t===12||t===13}function Nh(t){const e=[],n=LE(e,`${t}`,0);if(n<t.length)throw new Error(`Unmatched selector: ${t.slice(n)}`);return e}function LE(t,e,n){let r=[];function i(h){const p=e.slice(n+h).match(ME);if(!p)throw new Error(`Expected name, found ${e.slice(n)}`);const[m]=p;return n+=h+m.length,Kc(m)}function s(h){for(n+=h;n<e.length&&OE(e.charCodeAt(n));)n++}function a(){n+=1;const h=n;let p=1;for(;p>0&&n<e.length;n++)e.charCodeAt(n)===40&&!o(n)?p++:e.charCodeAt(n)===41&&!o(n)&&p--;if(p)throw new Error("Parenthesis not matched");return Kc(e.slice(h,n-1))}function o(h){let p=0;for(;e.charCodeAt(--h)===92;)p++;return(p&1)===1}function l(){if(r.length>0&&Qc(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function d(h){if(r.length>0&&r[r.length-1].type===ft.Descendant){r[r.length-1].type=h;return}l(),r.push({type:h})}function f(h,p){r.push({type:ft.Attribute,name:h,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function c(){if(r.length&&r[r.length-1].type===ft.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");t.push(r)}if(s(0),e.length===n)return n;e:for(;n<e.length;){const h=e.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==ft.Descendant)&&(l(),r.push({type:ft.Descendant})),s(1);break}case 62:{d(ft.Child),s(1);break}case 60:{d(ft.Parent),s(1);break}case 126:{d(ft.Sibling),s(1);break}case 43:{d(ft.Adjacent),s(1);break}case 46:{f("class",Kn.Element);break}case 35:{f("id",Kn.Equals);break}case 91:{s(1);let p,m=null;e.charCodeAt(n)===124?p=i(1):e.startsWith("*|",n)?(m="*",p=i(2)):(p=i(0),e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==61&&(m=p,p=i(1))),s(0);let g=Kn.Exists;const v=gB.get(e.charCodeAt(n));if(v){if(g=v,e.charCodeAt(n+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(n)===61&&(g=Kn.Equals,s(1));let y="",x=null;if(g!=="exists"){if(Zg(e.charCodeAt(n))){const k=e.charCodeAt(n);let S=n+1;for(;S<e.length&&(e.charCodeAt(S)!==k||o(S));)S+=1;if(e.charCodeAt(S)!==k)throw new Error("Attribute value didn't end");y=Kc(e.slice(n+1,S)),n=S+1}else{const k=n;for(;n<e.length&&(!OE(e.charCodeAt(n))&&e.charCodeAt(n)!==93||o(n));)n+=1;y=Kc(e.slice(k,n))}s(0);const I=e.charCodeAt(n)|32;I===115?(x=!1,s(1)):I===105&&(x=!0,s(1))}if(e.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const w={type:ft.Attribute,name:p,action:g,value:y,namespace:m,ignoreCase:x};r.push(w);break}case 58:{if(e.charCodeAt(n+1)===58){r.push({type:ft.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(n)===40?a():null});continue}const p=i(1).toLowerCase();let m=null;if(e.charCodeAt(n)===40)if(bB.has(p)){if(Zg(e.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(m=[],n=LE(m,e,n+1),e.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);n+=1}else{if(m=a(),vB.has(p)){const g=m.charCodeAt(0);g===m.charCodeAt(m.length-1)&&Zg(g)&&(m=m.slice(1,-1))}m=Kc(m)}r.push({type:ft.Pseudo,name:p,data:m});break}case 44:{c(),r=[],s(1);break}default:{if(e.startsWith("/*",n)){const g=e.indexOf("*/",n+2);if(g<0)throw new Error("Comment was not terminated");n=g+2,r.length===0&&s(0);break}let p=null,m;if(h===42)n+=1,m="*";else if(h===124){if(m="",e.charCodeAt(n+1)===124){d(ft.ColumnCombinator),s(2);break}}else if(ME.test(e.slice(n)))m=i(0);else break e;e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==124&&(p=m,e.charCodeAt(n+1)===42?(m="*",n+=2):m=i(1)),r.push(m==="*"?{type:ft.Universal,namespace:p}:{type:ft.Tag,name:m,namespace:p})}}}return c(),n}var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _B(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Mh={trueFunc:function(){return!0},falseFunc:function(){return!1}};const Nt=or(Mh),RE=new Map([[ft.Universal,50],[ft.Tag,30],[ft.Attribute,1],[ft.Pseudo,0]]);function Jg(t){return!RE.has(t.type)}const TB=new Map([[Kn.Exists,10],[Kn.Equals,8],[Kn.Not,7],[Kn.Start,6],[Kn.End,6],[Kn.Any,5]]);function EB(t){const e=t.map(BE);for(let n=1;n<t.length;n++){const r=e[n];if(!(r<0))for(let i=n-1;i>=0&&r<e[i];i--){const s=t[i+1];t[i+1]=t[i],t[i]=s,e[i+1]=e[i],e[i]=r}}}function BE(t){var e,n;let r=(e=RE.get(t.type))!==null&&e!==void 0?e:-1;return t.type===ft.Attribute?(r=(n=TB.get(t.action))!==null&&n!==void 0?n:4,t.action===Kn.Equals&&t.name==="id"&&(r=9),t.ignoreCase&&(r>>=1)):t.type===ft.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?r=0:Array.isArray(t.data)?(r=Math.min(...t.data.map(i=>Math.min(...i.map(BE)))),r<0&&(r=0)):r=2:r=3),r}const AB=/[-[\]{}()*+?.,\\^$|#\s]/g;function PE(t){return t.replace(AB,"\\$&")}const xB=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function So(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&xB.has(t.name)}const CB={equals(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;return So(e,n)?(s=s.toLowerCase(),a=>{const o=r.getAttributeValue(a,i);return o!=null&&o.length===s.length&&o.toLowerCase()===s&&t(a)}):a=>r.getAttributeValue(a,i)===s&&t(a)},hyphen(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;const a=s.length;return So(e,n)?(s=s.toLowerCase(),function(l){const d=r.getAttributeValue(l,i);return d!=null&&(d.length===a||d.charAt(a)==="-")&&d.substr(0,a).toLowerCase()===s&&t(l)}):function(l){const d=r.getAttributeValue(l,i);return d!=null&&(d.length===a||d.charAt(a)==="-")&&d.substr(0,a)===s&&t(l)}},element(t,e,n){const{adapter:r}=n,{name:i,value:s}=e;if(/\s/.test(s))return Nt.falseFunc;const a=new RegExp(`(?:^|\\s)${PE(s)}(?:$|\\s)`,So(e,n)?"i":"");return function(l){const d=r.getAttributeValue(l,i);return d!=null&&d.length>=s.length&&a.test(d)&&t(l)}},exists(t,{name:e},{adapter:n}){return r=>n.hasAttrib(r,e)&&t(r)},start(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;const a=s.length;return a===0?Nt.falseFunc:So(e,n)?(s=s.toLowerCase(),o=>{const l=r.getAttributeValue(o,i);return l!=null&&l.length>=a&&l.substr(0,a).toLowerCase()===s&&t(o)}):o=>{var l;return!!(!((l=r.getAttributeValue(o,i))===null||l===void 0)&&l.startsWith(s))&&t(o)}},end(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;const a=-s.length;return a===0?Nt.falseFunc:So(e,n)?(s=s.toLowerCase(),o=>{var l;return((l=r.getAttributeValue(o,i))===null||l===void 0?void 0:l.substr(a).toLowerCase())===s&&t(o)}):o=>{var l;return!!(!((l=r.getAttributeValue(o,i))===null||l===void 0)&&l.endsWith(s))&&t(o)}},any(t,e,n){const{adapter:r}=n,{name:i,value:s}=e;if(s==="")return Nt.falseFunc;if(So(e,n)){const a=new RegExp(PE(s),"i");return function(l){const d=r.getAttributeValue(l,i);return d!=null&&d.length>=s.length&&a.test(d)&&t(l)}}return a=>{var o;return!!(!((o=r.getAttributeValue(a,i))===null||o===void 0)&&o.includes(s))&&t(a)}},not(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;return s===""?a=>!!r.getAttributeValue(a,i)&&t(a):So(e,n)?(s=s.toLowerCase(),a=>{const o=r.getAttributeValue(a,i);return(o==null||o.length!==s.length||o.toLowerCase()!==s)&&t(a)}):a=>r.getAttributeValue(a,i)!==s&&t(a)}},wB=new Set([9,10,12,13,32]),FE=48,SB=57;function kB(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,n=0,r=s(),i=a();if(e<t.length&&t.charAt(e)==="n"&&(e++,n=r*(i??1),o(),e<t.length?(r=s(),o(),i=a()):r=i=0),i===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[n,r*i];function s(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function a(){const l=e;let d=0;for(;e<t.length&&t.charCodeAt(e)>=FE&&t.charCodeAt(e)<=SB;)d=d*10+(t.charCodeAt(e)-FE),e++;return e===l?null:d}function o(){for(;e<t.length&&wB.has(t.charCodeAt(e));)e++}}function IB(t){const e=t[0],n=t[1]-1;if(n<0&&e<=0)return Nt.falseFunc;if(e===-1)return s=>s<=n;if(e===0)return s=>s===n;if(e===1)return n<0?Nt.trueFunc:s=>s>=n;const r=Math.abs(e),i=(n%r+r)%r;return e>1?s=>s>=n&&s%r===i:s=>s<=n&&s%r===i}function Oh(t){return IB(kB(t))}function Lh(t,e){return n=>{const r=e.getParent(n);return r!=null&&e.isTag(r)&&t(n)}}const qg={contains(t,e,{adapter:n}){return function(i){return t(i)&&n.getText(i).includes(e)}},icontains(t,e,{adapter:n}){const r=e.toLowerCase();return function(s){return t(s)&&n.getText(s).toLowerCase().includes(r)}},"nth-child"(t,e,{adapter:n,equals:r}){const i=Oh(e);return i===Nt.falseFunc?Nt.falseFunc:i===Nt.trueFunc?Lh(t,n):function(a){const o=n.getSiblings(a);let l=0;for(let d=0;d<o.length&&!r(a,o[d]);d++)n.isTag(o[d])&&l++;return i(l)&&t(a)}},"nth-last-child"(t,e,{adapter:n,equals:r}){const i=Oh(e);return i===Nt.falseFunc?Nt.falseFunc:i===Nt.trueFunc?Lh(t,n):function(a){const o=n.getSiblings(a);let l=0;for(let d=o.length-1;d>=0&&!r(a,o[d]);d--)n.isTag(o[d])&&l++;return i(l)&&t(a)}},"nth-of-type"(t,e,{adapter:n,equals:r}){const i=Oh(e);return i===Nt.falseFunc?Nt.falseFunc:i===Nt.trueFunc?Lh(t,n):function(a){const o=n.getSiblings(a);let l=0;for(let d=0;d<o.length;d++){const f=o[d];if(r(a,f))break;n.isTag(f)&&n.getName(f)===n.getName(a)&&l++}return i(l)&&t(a)}},"nth-last-of-type"(t,e,{adapter:n,equals:r}){const i=Oh(e);return i===Nt.falseFunc?Nt.falseFunc:i===Nt.trueFunc?Lh(t,n):function(a){const o=n.getSiblings(a);let l=0;for(let d=o.length-1;d>=0;d--){const f=o[d];if(r(a,f))break;n.isTag(f)&&n.getName(f)===n.getName(a)&&l++}return i(l)&&t(a)}},root(t,e,{adapter:n}){return r=>{const i=n.getParent(r);return(i==null||!n.isTag(i))&&t(r)}},scope(t,e,n,r){const{equals:i}=n;return!r||r.length===0?qg.root(t,e,n):r.length===1?s=>i(r[0],s)&&t(s):s=>r.includes(s)&&t(s)},hover:$g("isHovered"),visited:$g("isVisited"),active:$g("isActive")};function $g(t){return function(n,r,{adapter:i}){const s=i[t];return typeof s!="function"?Nt.falseFunc:function(o){return s(o)&&n(o)}}}const UE={empty(t,{adapter:e}){return!e.getChildren(t).some(n=>e.isTag(n)||e.getText(n)!=="")},"first-child"(t,{adapter:e,equals:n}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const r=e.getSiblings(t).find(i=>e.isTag(i));return r!=null&&n(t,r)},"last-child"(t,{adapter:e,equals:n}){const r=e.getSiblings(t);for(let i=r.length-1;i>=0;i--){if(n(t,r[i]))return!0;if(e.isTag(r[i]))break}return!1},"first-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),i=e.getName(t);for(let s=0;s<r.length;s++){const a=r[s];if(n(t,a))return!0;if(e.isTag(a)&&e.getName(a)===i)break}return!1},"last-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),i=e.getName(t);for(let s=r.length-1;s>=0;s--){const a=r[s];if(n(t,a))return!0;if(e.isTag(a)&&e.getName(a)===i)break}return!1},"only-of-type"(t,{adapter:e,equals:n}){const r=e.getName(t);return e.getSiblings(t).every(i=>n(t,i)||!e.isTag(i)||e.getName(i)!==r)},"only-child"(t,{adapter:e,equals:n}){return e.getSiblings(t).every(r=>n(t,r)||!e.isTag(r))}};function jE(t,e,n,r){if(n===null){if(t.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const DB={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},HE={};function NB(t,e){return t===Nt.falseFunc?Nt.falseFunc:n=>e.isTag(n)&&t(n)}function zE(t,e){const n=e.getSiblings(t);if(n.length<=1)return[];const r=n.indexOf(t);return r<0||r===n.length-1?[]:n.slice(r+1).filter(e.isTag)}function e1(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const t1=(t,e,n,r,i)=>{const s=i(e,e1(n),r);return s===Nt.trueFunc?t:s===Nt.falseFunc?Nt.falseFunc:a=>s(a)&&t(a)},n1={is:t1,matches:t1,where:t1,not(t,e,n,r,i){const s=i(e,e1(n),r);return s===Nt.falseFunc?t:s===Nt.trueFunc?Nt.falseFunc:a=>!s(a)&&t(a)},has(t,e,n,r,i){const{adapter:s}=n,a=e1(n);a.relativeSelector=!0;const o=e.some(f=>f.some(Jg))?[HE]:void 0,l=i(e,a,o);if(l===Nt.falseFunc)return Nt.falseFunc;const d=NB(l,s);if(o&&l!==Nt.trueFunc){const{shouldTestNextSiblings:f=!1}=l;return c=>{if(!t(c))return!1;o[0]=c;const h=s.getChildren(c),p=f?[...h,...zE(c,s)]:h;return s.existsOne(d,p)}}return f=>t(f)&&s.existsOne(d,s.getChildren(f))}};function MB(t,e,n,r,i){var s;const{name:a,data:o}=e;if(Array.isArray(o)){if(!(a in n1))throw new Error(`Unknown pseudo-class :${a}(${o})`);return n1[a](t,o,n,r,i)}const l=(s=n.pseudos)===null||s===void 0?void 0:s[a],d=typeof l=="string"?l:DB[a];if(typeof d=="string"){if(o!=null)throw new Error(`Pseudo ${a} doesn't have any arguments`);const f=Nh(d);return n1.is(t,f,n,r,i)}if(typeof l=="function")return jE(l,a,o,1),f=>l(f,o)&&t(f);if(a in qg)return qg[a](t,o,n,r);if(a in UE){const f=UE[a];return jE(f,a,o,2),c=>f(c,n,o)&&t(c)}throw new Error(`Unknown pseudo-class :${a}`)}function r1(t,e){const n=e.getParent(t);return n&&e.isTag(n)?n:null}function OB(t,e,n,r,i){const{adapter:s,equals:a}=n;switch(e.type){case ft.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case ft.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case ft.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),CB[e.action](t,e,n)}case ft.Pseudo:return MB(t,e,n,r,i);case ft.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=e;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(d){return s.getName(d)===o&&t(d)}}case ft.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(d){let f=d;for(;f=r1(f,s);)if(t(f))return!0;return!1};const o=new WeakSet;return function(d){let f=d;for(;f=r1(f,s);)if(!o.has(f)){if(s.isTag(f)&&t(f))return!0;o.add(f)}return!1}}case"_flexibleDescendant":return function(l){let d=l;do if(t(d))return!0;while(d=r1(d,s));return!1};case ft.Parent:return function(l){return s.getChildren(l).some(d=>s.isTag(d)&&t(d))};case ft.Child:return function(l){const d=s.getParent(l);return d!=null&&s.isTag(d)&&t(d)};case ft.Sibling:return function(l){const d=s.getSiblings(l);for(let f=0;f<d.length;f++){const c=d[f];if(a(l,c))break;if(s.isTag(c)&&t(c))return!0}return!1};case ft.Adjacent:return s.prevElementSibling?function(l){const d=s.prevElementSibling(l);return d!=null&&t(d)}:function(l){const d=s.getSiblings(l);let f;for(let c=0;c<d.length;c++){const h=d[c];if(a(l,h))break;s.isTag(h)&&(f=h)}return!!f&&t(f)};case ft.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function VE(t){return t.type===ft.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(VE)))}const LB={type:ft.Descendant},RB={type:"_flexibleDescendant"},BB={type:ft.Pseudo,name:"scope",data:null};function PB(t,{adapter:e},n){const r=!!(n!=null&&n.every(i=>{const s=e.isTag(i)&&e.getParent(i);return i===HE||s&&e.isTag(s)}));for(const i of t){if(!(i.length>0&&Jg(i[0])&&i[0].type!==ft.Descendant))if(r&&!i.some(VE))i.unshift(LB);else continue;i.unshift(BB)}}function WE(t,e,n){var r;t.forEach(EB),n=(r=e.context)!==null&&r!==void 0?r:n;const i=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(e.relativeSelector!==!1)PB(t,e,s);else if(t.some(l=>l.length>0&&Jg(l[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const o=t.map(l=>{if(l.length>=2){const[d,f]=l;d.type!==ft.Pseudo||d.name!=="scope"||(i&&f.type===ft.Descendant?l[1]=RB:(f.type===ft.Adjacent||f.type===ft.Sibling)&&(a=!0))}return FB(l,e,s)}).reduce(UB,Nt.falseFunc);return o.shouldTestNextSiblings=a,o}function FB(t,e,n){var r;return t.reduce((i,s)=>i===Nt.falseFunc?Nt.falseFunc:OB(i,s,e,n,WE),(r=e.rootFunc)!==null&&r!==void 0?r:Nt.trueFunc)}function UB(t,e){return e===Nt.falseFunc||t===Nt.trueFunc?t:t===Nt.falseFunc||e===Nt.trueFunc?e:function(r){return t(r)||e(r)}}const GE=(t,e)=>t===e,jB={adapter:kh,equals:GE};function HB(t){var e,n,r,i;const s=t??jB;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=kh),(n=s.equals)!==null&&n!==void 0||(s.equals=(i=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:GE),s}function zB(t){return function(n,r,i){const s=HB(r);return t(n,s,i)}}const i1=zB(WE);function YE(t,e,n=!1){return n&&(t=VB(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function VB(t,e){const n=Array.isArray(t)?t.slice(0):[t],r=n.length;for(let i=0;i<r;i++){const s=zE(n[i],e);n.push(...s)}return n}const WB=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Rh(t){return t.type!=="pseudo"?!1:WB.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(Rh)):!1}function GB(t,e,n){const r=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function YB(t){for(;t.parent;)t=t.parent;return t}function s1(t){const e=[],n=[];for(const r of t)r.some(Rh)?e.push(r):n.push(r);return[n,e]}const QB={type:ft.Universal,namespace:null},KB={type:ft.Pseudo,name:"scope",data:null};function QE(t,e,n={}){return KE([t],e,n)}function KE(t,e,n={}){if(typeof e=="function")return t.some(e);const[r,i]=s1(Nh(e));return r.length>0&&t.some(i1(r,n))||i.some(s=>JE(s,t,n).length>0)}function XB(t,e,n,r){const i=typeof n=="string"?parseInt(n,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<e.length?[i<0?e[e.length+i]:e[i]]:[];case"gt":return isFinite(i)?e.slice(i+1):[];case"even":return e.filter((s,a)=>a%2===0);case"odd":return e.filter((s,a)=>a%2===1);case"not":{const s=new Set(ZE(n,e,r));return e.filter(a=>!s.has(a))}}}function XE(t,e,n={}){return ZE(Nh(t),e,n)}function ZE(t,e,n){if(e.length===0)return[];const[r,i]=s1(t);let s;if(r.length){const a=o1(e,r,n);if(i.length===0)return a;a.length&&(s=new Set(a))}for(let a=0;a<i.length&&(s==null?void 0:s.size)!==e.length;a++){const o=i[a];if((s?e.filter(f=>Tt(f)&&!s.has(f)):e).length===0)break;const d=JE(o,e,n);if(d.length)if(s)d.forEach(f=>s.add(f));else{if(a===i.length-1)return d;s=new Set(d)}}return typeof s<"u"?s.size===e.length?e:e.filter(a=>s.has(a)):[]}function JE(t,e,n){var r;if(t.some(Qc)){const i=(r=n.root)!==null&&r!==void 0?r:YB(e[0]),s={...n,context:e,relativeSelector:!1};return t.push(KB),Bh(i,t,s,!0,e.length)}return Bh(e,t,n,!1,e.length)}function ZB(t,e,n={},r=1/0){if(typeof t=="function")return qE(e,t);const[i,s]=s1(Nh(t)),a=s.map(o=>Bh(e,o,n,!0,r));return i.length&&a.push(a1(e,i,n,r)),a.length===0?[]:a.length===1?a[0]:Vl(a.reduce((o,l)=>[...o,...l]))}function Bh(t,e,n,r,i){const s=e.findIndex(Rh),a=e.slice(0,s),o=e[s],l=e.length-1===s?i:1/0,d=GB(o.name,o.data,l);if(d===0)return[];const c=(a.length===0&&!Array.isArray(t)?xh(t).filter(Tt):a.length===0?(Array.isArray(t)?t:[t]).filter(Tt):r||a.some(Qc)?a1(t,[a],n,d):o1(t,[a],n)).slice(0,d);let h=XB(o.name,c,o.data,n);if(h.length===0||e.length===s+1)return h;const p=e.slice(s+1),m=p.some(Qc);if(m){if(Qc(p[0])){const{type:g}=p[0];(g===ft.Sibling||g===ft.Adjacent)&&(h=YE(h,kh,!0)),p.unshift(QB)}n={...n,relativeSelector:!1,rootFunc:g=>h.includes(g)}}else n.rootFunc&&n.rootFunc!==Mh.trueFunc&&(n={...n,rootFunc:Mh.trueFunc});return p.some(Rh)?Bh(h,p,n,!1,i):m?a1(h,[p],n,i):o1(h,[p],n)}function a1(t,e,n,r){const i=i1(e,n,t);return qE(t,i,r)}function qE(t,e,n=1/0){const r=YE(t,kh,e.shouldTestNextSiblings);return Vg(i=>Tt(i)&&e(i),r,!0,n)}function o1(t,e,n){const r=(Array.isArray(t)?t:[t]).filter(Tt);if(r.length===0)return r;const i=i1(e,n);return i===Mh.trueFunc?r:r.filter(i)}const JB=/^\s*[+~]/;function qB(t){if(!t)return this._make([]);if(typeof t!="string"){const e=ea(t)?t.toArray():[t],n=this.toArray();return this._make(e.filter(r=>n.some(i=>AE(i,r))))}return this._findBySelector(t,Number.POSITIVE_INFINITY)}function $B(t,e){var n;const r=this.toArray(),i=JB.test(t)?r:this.children().toArray(),s={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(ZB(t,i,s,e))}function l1(t){return function(e,...n){return function(r){var i;let s=t(e,this);return r&&(s=d1(s,r,this.options.xmlMode,(i=this._root)===null||i===void 0?void 0:i[0])),this._make(this.length>1&&s.length>1?n.reduce((a,o)=>o(a),s):s)}}}const Xc=l1((t,e)=>{let n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);i.length>0&&(n=n.concat(i))}return n}),u1=l1((t,e)=>{const n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);i!==null&&n.push(i)}return n});function c1(t,...e){let n=null;const r=l1((i,s)=>{const a=[];return Tn(s,o=>{for(let l;(l=i(o))&&!(n!=null&&n(l,a.length));o=l)a.push(l)}),a})(t,...e);return function(i,s){n=typeof i=="string"?o=>QE(o,i,this.options):i?Zc(i):null;const a=r.call(this,s);return n=null,a}}function Gl(t){return t.length>1?Array.from(new Set(t)):t}const eP=u1(({parent:t})=>t&&!Ia(t)?t:null,Gl),tP=Xc(t=>{const e=[];for(;t.parent&&!Ia(t.parent);)e.push(t.parent),t=t.parent;return e},Vl,t=>t.reverse()),nP=c1(({parent:t})=>t&&!Ia(t)?t:null,Vl,t=>t.reverse());function rP(t){var e;const n=[];if(!t)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},i=typeof t=="string"?s=>QE(s,t,r):Zc(t);return Tn(this,s=>{for(s&&!Ia(s)&&!Tt(s)&&(s=s.parent);s&&Tt(s);){if(i(s,0)){n.includes(s)||n.push(s);break}s=s.parent}}),this._make(n)}const iP=u1(t=>Hg(t)),sP=Xc(t=>{const e=[];for(;t.next;)t=t.next,Tt(t)&&e.push(t);return e},Gl),aP=c1(t=>Hg(t),Gl),oP=u1(t=>zg(t)),lP=Xc(t=>{const e=[];for(;t.prev;)t=t.prev,Tt(t)&&e.push(t);return e},Gl),uP=c1(t=>zg(t),Gl),cP=Xc(t=>gE(t).filter(e=>Tt(e)&&e!==t),Vl),dP=Xc(t=>xh(t).filter(Tt),Gl);function fP(){const t=this.toArray().reduce((e,n)=>$n(n)?e.concat(n.children):e,[]);return this._make(t)}function hP(t){let e=0;const n=this.length;for(;e<n&&t.call(this[e],e,this[e])!==!1;)++e;return this}function pP(t){let e=[];for(let n=0;n<this.length;n++){const r=this[n],i=t.call(r,n,r);i!=null&&(e=e.concat(i))}return this._make(e)}function Zc(t){return typeof t=="function"?(e,n)=>t.call(e,n,e):ea(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function mP(t){var e;return this._make(d1(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function d1(t,e,n,r){return typeof e=="string"?XE(e,t,{xmlMode:n,root:r}):t.filter(Zc(e))}function gP(t){const e=this.toArray();return typeof t=="string"?KE(e.filter(Tt),t,this.options):t?e.some(Zc(t)):!1}function bP(t){let e=this.toArray();if(typeof t=="string"){const n=new Set(XE(t,e,this.options));e=e.filter(r=>!n.has(r))}else{const n=Zc(t);e=e.filter((r,i)=>!n(r,i))}return this._make(e)}function vP(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,n)=>this._make(n).find(t).length>0)}function yP(){return this.length>1?this._make(this[0]):this}function _P(){return this.length>0?this._make(this[this.length-1]):this}function TP(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function EP(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function AP(){return Array.prototype.slice.call(this)}function xP(t){let e,n;return t==null?(e=this.parent().children(),n=this[0]):typeof t=="string"?(e=this._make(t),n=this[0]):(e=this,n=ea(t)?t[0]:t),Array.prototype.indexOf.call(e,n)}function CP(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function wP(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function SP(t,e){const n=this._make(t,e),r=Vl([...this.get(),...n.get()]);return this._make(r)}function kP(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}const IP=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:$B,add:SP,addBack:kP,children:dP,closest:rP,contents:fP,each:hP,end:wP,eq:TP,filter:mP,filterArray:d1,find:qB,first:yP,get:EP,has:vP,index:xP,is:gP,last:_P,map:pP,next:iP,nextAll:sP,nextUntil:aP,not:bP,parent:eP,parents:tP,parentsUntil:nP,prev:oP,prevAll:lP,prevUntil:uP,siblings:cP,slice:CP,toArray:AP},Symbol.toStringTag,{value:"Module"}));function DP(t){return function(n,r,i,s){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return t(n,r,i,s);const a=n;if(!Array.isArray(a)&&Ia(a))return a;const o=new xo([]);return ko(a,o),o}}function ko(t,e){const n=Array.isArray(t)?t:[t];e?e.children=n:e=null;for(let r=0;r<n.length;r++){const i=n[r];i.parent&&i.parent.children!==n&&Co(i),e?(i.prev=n[r-1]||null,i.next=n[r+1]||null):i.prev=i.next=null,i.parent=e}return e}function NP(t,e){if(t==null)return[];if(typeof t=="string")return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(t.length===1)return this._makeDomArray(t[0],e);const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(typeof i=="object"){if(i==null)continue;if(!("length"in i)){n.push(e?Vc(i,!0):i);continue}}n.push(...this._makeDomArray(i,e))}return n}return[e?Vc(t,!0):t]}function $E(t){return function(...e){const n=this.length-1;return Tn(this,(r,i)=>{if(!$n(r))return;const s=typeof e[0]=="function"?e[0].call(r,i,this._render(r.children)):e,a=this._makeDomArray(s,i<n);t(a,r.children,r)})}}function Na(t,e,n,r,i){var s,a;const o=[e,n,...r],l=e===0?null:t[e-1],d=e+n>=t.length?null:t[e+n];for(let f=0;f<r.length;++f){const c=r[f],h=c.parent;if(h){const m=h.children.indexOf(c);m>-1&&(h.children.splice(m,1),i===h&&e>m&&o[0]--)}c.parent=i,c.prev&&(c.prev.next=(s=c.next)!==null&&s!==void 0?s:null),c.next&&(c.next.prev=(a=c.prev)!==null&&a!==void 0?a:null),c.prev=f===0?l:r[f-1],c.next=f===r.length-1?d:r[f+1]}return l&&(l.next=r[0]),d&&(d.prev=r[r.length-1]),t.splice(...o)}function MP(t){return(ea(t)?t:this._make(t)).append(this),this}function OP(t){return(ea(t)?t:this._make(t)).prepend(this),this}const LP=$E((t,e,n)=>{Na(e,e.length,0,t,n)}),RP=$E((t,e,n)=>{Na(e,0,0,t,n)});function eA(t){return function(e){const n=this.length-1,r=this.parents().last();for(let i=0;i<this.length;i++){const s=this[i],a=typeof e=="function"?e.call(s,i,s):typeof e=="string"&&!Yg(e)?r.find(e).clone():e,[o]=this._makeDomArray(a,i<n);if(!o||!$n(o))continue;let l=o,d=0;for(;d<l.children.length;){const f=l.children[d];Tt(f)?(l=f,d=0):d++}t(s,l,[o])}return this}}const BP=eA((t,e,n)=>{const{parent:r}=t;if(!r)return;const i=r.children,s=i.indexOf(t);ko([t],e),Na(i,s,0,n,r)}),PP=eA((t,e,n)=>{$n(t)&&(ko(t.children,e),ko(n,t))});function FP(t){return this.parent(t).not("body").each((e,n)=>{this._make(n).replaceWith(n.children)}),this}function UP(t){const e=this[0];if(e){const n=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e);let r;for(let s=0;s<n.length;s++)n[s].type==="tag"&&(r=n[s]);let i=0;for(;r&&i<r.children.length;){const s=r.children[i];s.type==="tag"?(r=s,i=0):i++}r&&this._make(r).append(this)}return this}function jP(...t){const e=this.length-1;return Tn(this,(n,r)=>{if(!$n(n)||!n.parent)return;const i=n.parent.children,s=i.indexOf(n);if(s<0)return;const a=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,o=this._makeDomArray(a,r<e);Na(i,s+1,0,o,n.parent)})}function HP(t){typeof t=="string"&&(t=this._make(t)),this.remove();const e=[];for(const n of this._makeDomArray(t)){const r=this.clone().toArray(),{parent:i}=n;if(!i)continue;const s=i.children,a=s.indexOf(n);a<0||(Na(s,a+1,0,r,i),e.push(...r))}return this._make(e)}function zP(...t){const e=this.length-1;return Tn(this,(n,r)=>{if(!$n(n)||!n.parent)return;const i=n.parent.children,s=i.indexOf(n);if(s<0)return;const a=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,o=this._makeDomArray(a,r<e);Na(i,s,0,o,n.parent)})}function VP(t){const e=this._make(t);this.remove();const n=[];return Tn(e,r=>{const i=this.clone().toArray(),{parent:s}=r;if(!s)return;const a=s.children,o=a.indexOf(r);o<0||(Na(a,o,0,i,s),n.push(...i))}),this._make(n)}function WP(t){const e=t?this.filter(t):this;return Tn(e,n=>{Co(n),n.prev=n.next=n.parent=null}),this}function GP(t){return Tn(this,(e,n)=>{const{parent:r}=e;if(!r)return;const i=r.children,s=typeof t=="function"?t.call(e,n,e):t,a=this._makeDomArray(s);ko(a,null);const o=i.indexOf(e);Na(i,o,1,a,r),a.includes(e)||(e.parent=e.prev=e.next=null)})}function YP(){return Tn(this,t=>{if($n(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}})}function QP(t){if(t===void 0){const e=this[0];return!e||!$n(e)?null:this._render(e.children)}return Tn(this,e=>{if(!$n(e))return;for(const r of e.children)r.next=r.prev=r.parent=null;const n=ea(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;ko(n,e)})}function KP(){return this._render(this)}function XP(t){return t===void 0?Wc(this):typeof t=="function"?Tn(this,(e,n)=>this._make(e).text(t.call(e,n,Wc([e])))):Tn(this,e=>{if(!$n(e))return;for(const r of e.children)r.next=r.prev=r.parent=null;const n=new zc(`${t}`);ko(n,e)})}function ZP(){const t=Array.prototype.map.call(this.get(),n=>Vc(n,!0)),e=new xo(t);for(const n of t)n.parent=e;return this._make(t)}const JP=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:NP,after:jP,append:LP,appendTo:MP,before:zP,clone:ZP,empty:YP,html:QP,insertAfter:HP,insertBefore:VP,prepend:RP,prependTo:OP,remove:WP,replaceWith:GP,text:XP,toString:KP,unwrap:FP,wrap:BP,wrapAll:UP,wrapInner:PP},Symbol.toStringTag,{value:"Module"}));function qP(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return Tn(this,(n,r)=>{Tt(n)&&tA(n,t,e,r)});if(this.length!==0)return nA(this[0],t)}function tA(t,e,n,r){if(typeof e=="string"){const i=nA(t),s=typeof n=="function"?n.call(t,r,i[e]):n;s===""?delete i[e]:s!=null&&(i[e]=s),t.attribs.style=$P(i)}else if(typeof e=="object"){const i=Object.keys(e);for(let s=0;s<i.length;s++){const a=i[s];tA(t,a,e[a],s)}}}function nA(t,e){if(!t||!Tt(t))return;const n=e7(t.attribs.style);if(typeof e=="string")return n[e];if(Array.isArray(e)){const r={};for(const i of e)n[i]!=null&&(r[i]=n[i]);return r}return n}function $P(t){return Object.keys(t).reduce((e,n)=>`${e}${e?" ":""}${n}: ${t[n]};`,"")}function e7(t){if(t=(t||"").trim(),!t)return{};const e={};let n;for(const r of t.split(";")){const i=r.indexOf(":");if(i<1||i===r.length-1){const s=r.trimEnd();s.length>0&&n!==void 0&&(e[n]+=`;${s}`)}else n=r.slice(0,i).trim(),e[n]=r.slice(i+1).trim()}return e}const t7=Object.freeze(Object.defineProperty({__proto__:null,css:qP},Symbol.toStringTag,{value:"Module"})),rA="input,select,textarea,keygen",n7=/%20/g,iA=/\r?\n/g;function r7(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(n7,"+")}function i7(){return this.map((t,e)=>{const n=this._make(e);return Tt(e)&&e.name==="form"?n.find(rA).toArray():n.filter(rA).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var n;const r=this._make(e),i=r.attr("name"),s=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(s)?s.map(a=>({name:i,value:a.replace(iA,`\r
`)})):{name:i,value:s.replace(iA,`\r
`)}}).toArray()}const s7=Object.freeze(Object.defineProperty({__proto__:null,serialize:r7,serializeArray:i7},Symbol.toStringTag,{value:"Module"}));function a7(t){var e;return typeof t=="string"?{selector:t,value:"textContent"}:{selector:t.selector,value:(e=t.value)!==null&&e!==void 0?e:"textContent"}}function o7(t){const e={};for(const n in t){const r=t[n],i=Array.isArray(r),{selector:s,value:a}=a7(i?r[0]:r),o=typeof a=="function"?a:typeof a=="string"?l=>this._make(l).prop(a):l=>this._make(l).extract(a);if(i)e[n]=this._findBySelector(s,Number.POSITIVE_INFINITY).map((l,d)=>o(d,n,e)).get();else{const l=this._findBySelector(s,1);e[n]=l.length>0?o(l[0],n,e):void 0}}return e}const l7=Object.freeze(Object.defineProperty({__proto__:null,extract:o7},Symbol.toStringTag,{value:"Module"}));class Jc{constructor(e,n,r){if(this.length=0,this.options=r,this._root=n,e){for(let i=0;i<e.length;i++)this[i]=e[i];this.length=e.length}}}Jc.prototype.cheerio="[cheerio object]",Jc.prototype.splice=Array.prototype.splice,Jc.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(Jc.prototype,pB,IP,JP,t7,s7,l7);function u7(t,e){return function n(r,i,s=!0){if(r==null)throw new Error("cheerio.load() expects a string");const a=Gg(i),o=t(r,a,s,null);class l extends Jc{_make(c,h){const p=d(c,h);return p.prevObject=this,p}_parse(c,h,p,m){return t(c,h,p,m)}_render(c){return e(c,this.options)}}function d(f,c,h=o,p){if(f&&ea(f))return f;const m=Gg(p,a),g=typeof h=="string"?[t(h,m,!1,null)]:"length"in h?h:[h],v=ea(g)?g:new l(g,null,m);if(v._root=v,!f)return new l(void 0,v,m);const y=typeof f=="string"&&Yg(f)?t(f,m,!1,null).children:c7(f)?[f]:Array.isArray(f)?f:void 0,x=new l(y,v,m);if(y)return x;if(typeof f!="string")throw new TypeError("Unexpected type of selector");let w=f;const I=c?typeof c=="string"?Yg(c)?new l([t(c,m,!1,null)],v,m):(w=`${c} ${w}`,v):ea(c)?c:new l(Array.isArray(c)?c:[c],v,m):v;return I?I.find(w):x}return Object.assign(d,nB,{load:n,_root:o,_options:a,fn:l.prototype,prototype:l.prototype}),d}}function c7(t){return!!t.name||t.type==="root"||t.type==="text"||t.type==="comment"}const d7=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),gn="�";var J;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.NUMBER_SIGN=35]="NUMBER_SIGN",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",t[t.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_F=102]="LATIN_SMALL_F",t[t.LATIN_SMALL_X=120]="LATIN_SMALL_X",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",t[t.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(J=J||(J={}));const Gr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function sA(t){return t>=55296&&t<=57343}function f7(t){return t>=56320&&t<=57343}function h7(t,e){return(t-55296)*1024+9216+e}function aA(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function oA(t){return t>=64976&&t<=65007||d7.has(t)}var Ie;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ie=Ie||(Ie={}));const p7=65536;class m7{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=p7,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:n,col:r,offset:i}=this;return{code:e,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(f7(n))return this.pos++,this._addGap(),h7(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,J.EOF;return this._err(Ie.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,J.EOF;const r=this.html.charCodeAt(n);return r===J.CARRIAGE_RETURN?J.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,J.EOF;let e=this.html.charCodeAt(this.pos);return e===J.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,J.LINE_FEED):e===J.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,sA(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===J.LINE_FEED||e===J.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){aA(e)?this._err(Ie.controlCharacterInInputStream):oA(e)&&this._err(Ie.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ft;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Ft=Ft||(Ft={}));function lA(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}var Me;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Me=Me||(Me={}));var Ma;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Ma=Ma||(Ma={}));var Yr;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Yr=Yr||(Yr={}));var _e;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(_e=_e||(_e={}));var T;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SECTION=94]="SECTION",t[t.SELECT=95]="SELECT",t[t.SOURCE=96]="SOURCE",t[t.SMALL=97]="SMALL",t[t.SPAN=98]="SPAN",t[t.STRIKE=99]="STRIKE",t[t.STRONG=100]="STRONG",t[t.STYLE=101]="STYLE",t[t.SUB=102]="SUB",t[t.SUMMARY=103]="SUMMARY",t[t.SUP=104]="SUP",t[t.TABLE=105]="TABLE",t[t.TBODY=106]="TBODY",t[t.TEMPLATE=107]="TEMPLATE",t[t.TEXTAREA=108]="TEXTAREA",t[t.TFOOT=109]="TFOOT",t[t.TD=110]="TD",t[t.TH=111]="TH",t[t.THEAD=112]="THEAD",t[t.TITLE=113]="TITLE",t[t.TR=114]="TR",t[t.TRACK=115]="TRACK",t[t.TT=116]="TT",t[t.U=117]="U",t[t.UL=118]="UL",t[t.SVG=119]="SVG",t[t.VAR=120]="VAR",t[t.WBR=121]="WBR",t[t.XMP=122]="XMP"})(T=T||(T={}));const g7=new Map([[_e.A,T.A],[_e.ADDRESS,T.ADDRESS],[_e.ANNOTATION_XML,T.ANNOTATION_XML],[_e.APPLET,T.APPLET],[_e.AREA,T.AREA],[_e.ARTICLE,T.ARTICLE],[_e.ASIDE,T.ASIDE],[_e.B,T.B],[_e.BASE,T.BASE],[_e.BASEFONT,T.BASEFONT],[_e.BGSOUND,T.BGSOUND],[_e.BIG,T.BIG],[_e.BLOCKQUOTE,T.BLOCKQUOTE],[_e.BODY,T.BODY],[_e.BR,T.BR],[_e.BUTTON,T.BUTTON],[_e.CAPTION,T.CAPTION],[_e.CENTER,T.CENTER],[_e.CODE,T.CODE],[_e.COL,T.COL],[_e.COLGROUP,T.COLGROUP],[_e.DD,T.DD],[_e.DESC,T.DESC],[_e.DETAILS,T.DETAILS],[_e.DIALOG,T.DIALOG],[_e.DIR,T.DIR],[_e.DIV,T.DIV],[_e.DL,T.DL],[_e.DT,T.DT],[_e.EM,T.EM],[_e.EMBED,T.EMBED],[_e.FIELDSET,T.FIELDSET],[_e.FIGCAPTION,T.FIGCAPTION],[_e.FIGURE,T.FIGURE],[_e.FONT,T.FONT],[_e.FOOTER,T.FOOTER],[_e.FOREIGN_OBJECT,T.FOREIGN_OBJECT],[_e.FORM,T.FORM],[_e.FRAME,T.FRAME],[_e.FRAMESET,T.FRAMESET],[_e.H1,T.H1],[_e.H2,T.H2],[_e.H3,T.H3],[_e.H4,T.H4],[_e.H5,T.H5],[_e.H6,T.H6],[_e.HEAD,T.HEAD],[_e.HEADER,T.HEADER],[_e.HGROUP,T.HGROUP],[_e.HR,T.HR],[_e.HTML,T.HTML],[_e.I,T.I],[_e.IMG,T.IMG],[_e.IMAGE,T.IMAGE],[_e.INPUT,T.INPUT],[_e.IFRAME,T.IFRAME],[_e.KEYGEN,T.KEYGEN],[_e.LABEL,T.LABEL],[_e.LI,T.LI],[_e.LINK,T.LINK],[_e.LISTING,T.LISTING],[_e.MAIN,T.MAIN],[_e.MALIGNMARK,T.MALIGNMARK],[_e.MARQUEE,T.MARQUEE],[_e.MATH,T.MATH],[_e.MENU,T.MENU],[_e.META,T.META],[_e.MGLYPH,T.MGLYPH],[_e.MI,T.MI],[_e.MO,T.MO],[_e.MN,T.MN],[_e.MS,T.MS],[_e.MTEXT,T.MTEXT],[_e.NAV,T.NAV],[_e.NOBR,T.NOBR],[_e.NOFRAMES,T.NOFRAMES],[_e.NOEMBED,T.NOEMBED],[_e.NOSCRIPT,T.NOSCRIPT],[_e.OBJECT,T.OBJECT],[_e.OL,T.OL],[_e.OPTGROUP,T.OPTGROUP],[_e.OPTION,T.OPTION],[_e.P,T.P],[_e.PARAM,T.PARAM],[_e.PLAINTEXT,T.PLAINTEXT],[_e.PRE,T.PRE],[_e.RB,T.RB],[_e.RP,T.RP],[_e.RT,T.RT],[_e.RTC,T.RTC],[_e.RUBY,T.RUBY],[_e.S,T.S],[_e.SCRIPT,T.SCRIPT],[_e.SECTION,T.SECTION],[_e.SELECT,T.SELECT],[_e.SOURCE,T.SOURCE],[_e.SMALL,T.SMALL],[_e.SPAN,T.SPAN],[_e.STRIKE,T.STRIKE],[_e.STRONG,T.STRONG],[_e.STYLE,T.STYLE],[_e.SUB,T.SUB],[_e.SUMMARY,T.SUMMARY],[_e.SUP,T.SUP],[_e.TABLE,T.TABLE],[_e.TBODY,T.TBODY],[_e.TEMPLATE,T.TEMPLATE],[_e.TEXTAREA,T.TEXTAREA],[_e.TFOOT,T.TFOOT],[_e.TD,T.TD],[_e.TH,T.TH],[_e.THEAD,T.THEAD],[_e.TITLE,T.TITLE],[_e.TR,T.TR],[_e.TRACK,T.TRACK],[_e.TT,T.TT],[_e.U,T.U],[_e.UL,T.UL],[_e.SVG,T.SVG],[_e.VAR,T.VAR],[_e.WBR,T.WBR],[_e.XMP,T.XMP]]);function Ph(t){var e;return(e=g7.get(t))!==null&&e!==void 0?e:T.UNKNOWN}const He=T,b7={[Me.HTML]:new Set([He.ADDRESS,He.APPLET,He.AREA,He.ARTICLE,He.ASIDE,He.BASE,He.BASEFONT,He.BGSOUND,He.BLOCKQUOTE,He.BODY,He.BR,He.BUTTON,He.CAPTION,He.CENTER,He.COL,He.COLGROUP,He.DD,He.DETAILS,He.DIR,He.DIV,He.DL,He.DT,He.EMBED,He.FIELDSET,He.FIGCAPTION,He.FIGURE,He.FOOTER,He.FORM,He.FRAME,He.FRAMESET,He.H1,He.H2,He.H3,He.H4,He.H5,He.H6,He.HEAD,He.HEADER,He.HGROUP,He.HR,He.HTML,He.IFRAME,He.IMG,He.INPUT,He.LI,He.LINK,He.LISTING,He.MAIN,He.MARQUEE,He.MENU,He.META,He.NAV,He.NOEMBED,He.NOFRAMES,He.NOSCRIPT,He.OBJECT,He.OL,He.P,He.PARAM,He.PLAINTEXT,He.PRE,He.SCRIPT,He.SECTION,He.SELECT,He.SOURCE,He.STYLE,He.SUMMARY,He.TABLE,He.TBODY,He.TD,He.TEMPLATE,He.TEXTAREA,He.TFOOT,He.TH,He.THEAD,He.TITLE,He.TR,He.TRACK,He.UL,He.WBR,He.XMP]),[Me.MATHML]:new Set([He.MI,He.MO,He.MN,He.MS,He.MTEXT,He.ANNOTATION_XML]),[Me.SVG]:new Set([He.TITLE,He.FOREIGN_OBJECT,He.DESC]),[Me.XLINK]:new Set,[Me.XML]:new Set,[Me.XMLNS]:new Set};function uA(t){return t===He.H1||t===He.H2||t===He.H3||t===He.H4||t===He.H5||t===He.H6}const v7=new Set([_e.STYLE,_e.SCRIPT,_e.XMP,_e.IFRAME,_e.NOEMBED,_e.NOFRAMES,_e.PLAINTEXT]);function y7(t,e){return v7.has(t)||e&&t===_e.NOSCRIPT}const _7=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var $;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",t[t.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",t[t.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",t[t.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",t[t.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",t[t.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})($||($={}));const Qr={DATA:$.DATA,RCDATA:$.RCDATA,RAWTEXT:$.RAWTEXT,SCRIPT_DATA:$.SCRIPT_DATA,PLAINTEXT:$.PLAINTEXT,CDATA_SECTION:$.CDATA_SECTION};function qc(t){return t>=J.DIGIT_0&&t<=J.DIGIT_9}function $c(t){return t>=J.LATIN_CAPITAL_A&&t<=J.LATIN_CAPITAL_Z}function T7(t){return t>=J.LATIN_SMALL_A&&t<=J.LATIN_SMALL_Z}function Oa(t){return T7(t)||$c(t)}function f1(t){return Oa(t)||qc(t)}function cA(t){return t>=J.LATIN_CAPITAL_A&&t<=J.LATIN_CAPITAL_F}function dA(t){return t>=J.LATIN_SMALL_A&&t<=J.LATIN_SMALL_F}function E7(t){return qc(t)||cA(t)||dA(t)}function Fh(t){return t+32}function fA(t){return t===J.SPACE||t===J.LINE_FEED||t===J.TABULATION||t===J.FORM_FEED}function A7(t){return t===J.EQUALS_SIGN||f1(t)}function hA(t){return fA(t)||t===J.SOLIDUS||t===J.GREATER_THAN_SIGN}let x7=class{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=$.DATA,this.returnState=$.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new m7(n),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,n){this.state=e,this._callState(n)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ft.START_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ft.END_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Ft.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Ft.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(lA(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ie.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Ph(e.tagName),e.type===Ft.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Ie.endTagWithAttributes),e.selfClosing&&this._err(Ie.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Ft.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ft.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ft.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Ft.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(e,n)}_emitCodePoint(e){const n=fA(e)?Ft.WHITESPACE_CHARACTER:e===J.NULL?Ft.NULL_CHARACTER:Ft.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Ft.CHARACTER,e)}_matchNamedCharacterReference(e){let n=null,r=0,i=!1;for(let s=0,a=$s[0];s>=0&&(s=oE($s,a,s+1,e),!(s<0));e=this._consume()){r+=1,a=$s[s];const o=a&Es.VALUE_LENGTH;if(o){const l=(o>>14)-1;if(e!==J.SEMICOLON&&this._isCharacterReferenceInAttribute()&&A7(this.preprocessor.peek(1))?(n=[J.AMPERSAND],s+=l):(n=l===0?[$s[s]&~Es.VALUE_LENGTH]:l===1?[$s[++s]]:[$s[++s],$s[++s]],r=0,i=e!==J.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Ie.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===$.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===$.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===$.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case $.DATA:{this._stateData(e);break}case $.RCDATA:{this._stateRcdata(e);break}case $.RAWTEXT:{this._stateRawtext(e);break}case $.SCRIPT_DATA:{this._stateScriptData(e);break}case $.PLAINTEXT:{this._statePlaintext(e);break}case $.TAG_OPEN:{this._stateTagOpen(e);break}case $.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case $.TAG_NAME:{this._stateTagName(e);break}case $.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case $.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case $.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case $.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case $.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case $.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case $.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case $.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case $.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case $.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case $.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case $.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case $.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case $.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case $.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case $.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case $.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case $.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case $.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case $.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case $.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case $.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case $.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case $.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case $.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case $.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case $.BOGUS_COMMENT:{this._stateBogusComment(e);break}case $.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case $.COMMENT_START:{this._stateCommentStart(e);break}case $.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case $.COMMENT:{this._stateComment(e);break}case $.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case $.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case $.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case $.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case $.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case $.COMMENT_END:{this._stateCommentEnd(e);break}case $.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case $.DOCTYPE:{this._stateDoctype(e);break}case $.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case $.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case $.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case $.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case $.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case $.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case $.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case $.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case $.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case $.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case $.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case $.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case $.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case $.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case $.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case $.CDATA_SECTION:{this._stateCdataSection(e);break}case $.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case $.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case $.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case $.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case $.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case $.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case $.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case $.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case $.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case $.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case J.LESS_THAN_SIGN:{this.state=$.TAG_OPEN;break}case J.AMPERSAND:{this.returnState=$.DATA,this.state=$.CHARACTER_REFERENCE;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitCodePoint(e);break}case J.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case J.AMPERSAND:{this.returnState=$.RCDATA,this.state=$.CHARACTER_REFERENCE;break}case J.LESS_THAN_SIGN:{this.state=$.RCDATA_LESS_THAN_SIGN;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(gn);break}case J.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case J.LESS_THAN_SIGN:{this.state=$.RAWTEXT_LESS_THAN_SIGN;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(gn);break}case J.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_LESS_THAN_SIGN;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(gn);break}case J.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(gn);break}case J.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Oa(e))this._createStartTagToken(),this.state=$.TAG_NAME,this._stateTagName(e);else switch(e){case J.EXCLAMATION_MARK:{this.state=$.MARKUP_DECLARATION_OPEN;break}case J.SOLIDUS:{this.state=$.END_TAG_OPEN;break}case J.QUESTION_MARK:{this._err(Ie.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=$.BOGUS_COMMENT,this._stateBogusComment(e);break}case J.EOF:{this._err(Ie.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ie.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=$.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Oa(e))this._createEndTagToken(),this.state=$.TAG_NAME,this._stateTagName(e);else switch(e){case J.GREATER_THAN_SIGN:{this._err(Ie.missingEndTagName),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ie.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=$.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this.state=$.BEFORE_ATTRIBUTE_NAME;break}case J.SOLIDUS:{this.state=$.SELF_CLOSING_START_TAG;break}case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentTagToken();break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.tagName+=gn;break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint($c(e)?Fh(e):e)}}_stateRcdataLessThanSign(e){e===J.SOLIDUS?this.state=$.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=$.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Oa(e)?(this.state=$.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=$.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=$.BEFORE_ATTRIBUTE_NAME,!1;case J.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=$.SELF_CLOSING_START_TAG,!1;case J.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=$.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===J.SOLIDUS?this.state=$.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=$.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Oa(e)?(this.state=$.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=$.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case J.SOLIDUS:{this.state=$.SCRIPT_DATA_END_TAG_OPEN;break}case J.EXCLAMATION_MARK:{this.state=$.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=$.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Oa(e)?(this.state=$.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===J.HYPHEN_MINUS?(this.state=$.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===J.HYPHEN_MINUS?(this.state=$.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case J.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(gn);break}case J.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case J.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_ESCAPED,this._emitChars(gn);break}case J.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case J.HYPHEN_MINUS:{this._emitChars("-");break}case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case J.GREATER_THAN_SIGN:{this.state=$.SCRIPT_DATA,this._emitChars(">");break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_ESCAPED,this._emitChars(gn);break}case J.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===J.SOLIDUS?this.state=$.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Oa(e)?(this._emitChars("<"),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Oa(e)?(this.state=$.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Gr.SCRIPT,!1)&&hA(this.preprocessor.peek(Gr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Gr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case J.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(gn);break}case J.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case J.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gn);break}case J.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case J.HYPHEN_MINUS:{this._emitChars("-");break}case J.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case J.GREATER_THAN_SIGN:{this.state=$.SCRIPT_DATA,this._emitChars(">");break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gn);break}case J.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===J.SOLIDUS?(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Gr.SCRIPT,!1)&&hA(this.preprocessor.peek(Gr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Gr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=$.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.SOLIDUS:case J.GREATER_THAN_SIGN:case J.EOF:{this.state=$.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case J.EQUALS_SIGN:{this._err(Ie.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=$.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=$.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:case J.SOLIDUS:case J.GREATER_THAN_SIGN:case J.EOF:{this._leaveAttrName(),this.state=$.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case J.EQUALS_SIGN:{this._leaveAttrName(),this.state=$.BEFORE_ATTRIBUTE_VALUE;break}case J.QUOTATION_MARK:case J.APOSTROPHE:case J.LESS_THAN_SIGN:{this._err(Ie.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.name+=gn;break}default:this.currentAttr.name+=String.fromCodePoint($c(e)?Fh(e):e)}}_stateAfterAttributeName(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.SOLIDUS:{this.state=$.SELF_CLOSING_START_TAG;break}case J.EQUALS_SIGN:{this.state=$.BEFORE_ATTRIBUTE_VALUE;break}case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentTagToken();break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=$.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.QUOTATION_MARK:{this.state=$.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case J.APOSTROPHE:{this.state=$.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case J.GREATER_THAN_SIGN:{this._err(Ie.missingAttributeValue),this.state=$.DATA,this.emitCurrentTagToken();break}default:this.state=$.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case J.QUOTATION_MARK:{this.state=$.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case J.AMPERSAND:{this.returnState=$.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=$.CHARACTER_REFERENCE;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.value+=gn;break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case J.APOSTROPHE:{this.state=$.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case J.AMPERSAND:{this.returnState=$.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=$.CHARACTER_REFERENCE;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.value+=gn;break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this._leaveAttrValue(),this.state=$.BEFORE_ATTRIBUTE_NAME;break}case J.AMPERSAND:{this.returnState=$.ATTRIBUTE_VALUE_UNQUOTED,this.state=$.CHARACTER_REFERENCE;break}case J.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$.DATA,this.emitCurrentTagToken();break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.value+=gn;break}case J.QUOTATION_MARK:case J.APOSTROPHE:case J.LESS_THAN_SIGN:case J.EQUALS_SIGN:case J.GRAVE_ACCENT:{this._err(Ie.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this._leaveAttrValue(),this.state=$.BEFORE_ATTRIBUTE_NAME;break}case J.SOLIDUS:{this._leaveAttrValue(),this.state=$.SELF_CLOSING_START_TAG;break}case J.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$.DATA,this.emitCurrentTagToken();break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this._err(Ie.missingWhitespaceBetweenAttributes),this.state=$.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case J.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=$.DATA,this.emitCurrentTagToken();break}case J.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this._err(Ie.unexpectedSolidusInTag),this.state=$.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentComment(n);break}case J.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.data+=gn;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Gr.DASH_DASH,!0)?(this._createCommentToken(Gr.DASH_DASH.length+1),this.state=$.COMMENT_START):this._consumeSequenceIfMatch(Gr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Gr.DOCTYPE.length+1),this.state=$.DOCTYPE):this._consumeSequenceIfMatch(Gr.CDATA_START,!0)?this.inForeignNode?this.state=$.CDATA_SECTION:(this._err(Ie.cdataInHtmlContent),this._createCommentToken(Gr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=$.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ie.incorrectlyOpenedComment),this._createCommentToken(2),this.state=$.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case J.HYPHEN_MINUS:{this.state=$.COMMENT_START_DASH;break}case J.GREATER_THAN_SIGN:{this._err(Ie.abruptClosingOfEmptyComment),this.state=$.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=$.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case J.HYPHEN_MINUS:{this.state=$.COMMENT_END;break}case J.GREATER_THAN_SIGN:{this._err(Ie.abruptClosingOfEmptyComment),this.state=$.DATA,this.emitCurrentComment(n);break}case J.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=$.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case J.HYPHEN_MINUS:{this.state=$.COMMENT_END_DASH;break}case J.LESS_THAN_SIGN:{n.data+="<",this.state=$.COMMENT_LESS_THAN_SIGN;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.data+=gn;break}case J.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case J.EXCLAMATION_MARK:{n.data+="!",this.state=$.COMMENT_LESS_THAN_SIGN_BANG;break}case J.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=$.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===J.HYPHEN_MINUS?this.state=$.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=$.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===J.HYPHEN_MINUS?this.state=$.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=$.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==J.GREATER_THAN_SIGN&&e!==J.EOF&&this._err(Ie.nestedComment),this.state=$.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case J.HYPHEN_MINUS:{this.state=$.COMMENT_END;break}case J.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=$.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentComment(n);break}case J.EXCLAMATION_MARK:{this.state=$.COMMENT_END_BANG;break}case J.HYPHEN_MINUS:{n.data+="-";break}case J.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=$.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case J.HYPHEN_MINUS:{n.data+="--!",this.state=$.COMMENT_END_DASH;break}case J.GREATER_THAN_SIGN:{this._err(Ie.incorrectlyClosedComment),this.state=$.DATA,this.emitCurrentComment(n);break}case J.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=$.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_NAME;break}case J.GREATER_THAN_SIGN:{this.state=$.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case J.EOF:{this._err(Ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingWhitespaceBeforeDoctypeName),this.state=$.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if($c(e))this._createDoctypeToken(String.fromCharCode(Fh(e))),this.state=$.DOCTYPE_NAME;else switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.NULL:{this._err(Ie.unexpectedNullCharacter),this._createDoctypeToken(gn),this.state=$.DOCTYPE_NAME;break}case J.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=$.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this.state=$.AFTER_DOCTYPE_NAME;break}case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.name+=gn;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint($c(e)?Fh(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Gr.PUBLIC,!1)?this.state=$.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Gr.SYSTEM,!1)?this.state=$.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ie.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case J.QUOTATION_MARK:{this._err(Ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case J.APOSTROPHE:{this._err(Ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case J.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.QUOTATION_MARK:{n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case J.APOSTROPHE:{n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case J.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case J.QUOTATION_MARK:{this.state=$.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.publicId+=gn;break}case J.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case J.APOSTROPHE:{this.state=$.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.publicId+=gn;break}case J.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this.state=$.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case J.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.QUOTATION_MARK:{this._err(Ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case J.APOSTROPHE:{this._err(Ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.QUOTATION_MARK:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case J.APOSTROPHE:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case J.QUOTATION_MARK:{this._err(Ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case J.APOSTROPHE:{this._err(Ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case J.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.QUOTATION_MARK:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case J.APOSTROPHE:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case J.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case J.QUOTATION_MARK:{this.state=$.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.systemId+=gn;break}case J.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case J.APOSTROPHE:{this.state=$.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter),n.systemId+=gn;break}case J.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case J.SPACE:case J.LINE_FEED:case J.TABULATION:case J.FORM_FEED:break;case J.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case J.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case J.NULL:{this._err(Ie.unexpectedNullCharacter);break}case J.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case J.RIGHT_SQUARE_BRACKET:{this.state=$.CDATA_SECTION_BRACKET;break}case J.EOF:{this._err(Ie.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===J.RIGHT_SQUARE_BRACKET?this.state=$.CDATA_SECTION_END:(this._emitChars("]"),this.state=$.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case J.GREATER_THAN_SIGN:{this.state=$.DATA;break}case J.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=$.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===J.NUMBER_SIGN?this.state=$.NUMERIC_CHARACTER_REFERENCE:f1(e)?(this.state=$.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(J.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const n=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(J.AMPERSAND),this.state=$.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){f1(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===J.SEMICOLON&&this._err(Ie.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===J.LATIN_SMALL_X||e===J.LATIN_CAPITAL_X?this.state=$.HEXADEMICAL_CHARACTER_REFERENCE_START:qc(e)?(this.state=$.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(Ie.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(J.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(J.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){E7(e)?(this.state=$.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(Ie.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(J.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(J.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){cA(e)?this.charRefCode=this.charRefCode*16+e-55:dA(e)?this.charRefCode=this.charRefCode*16+e-87:qc(e)?this.charRefCode=this.charRefCode*16+e-48:e===J.SEMICOLON?this.state=$.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Ie.missingSemicolonAfterCharacterReference),this.state=$.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){qc(e)?this.charRefCode=this.charRefCode*10+e-48:e===J.SEMICOLON?this.state=$.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Ie.missingSemicolonAfterCharacterReference),this.state=$.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===J.NULL)this._err(Ie.nullCharacterReference),this.charRefCode=J.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Ie.characterReferenceOutsideUnicodeRange),this.charRefCode=J.REPLACEMENT_CHARACTER;else if(sA(this.charRefCode))this._err(Ie.surrogateCharacterReference),this.charRefCode=J.REPLACEMENT_CHARACTER;else if(oA(this.charRefCode))this._err(Ie.noncharacterCharacterReference);else if(aA(this.charRefCode)||this.charRefCode===J.CARRIAGE_RETURN){this._err(Ie.controlCharacterReference);const n=_7.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}};const pA=new Set([T.DD,T.DT,T.LI,T.OPTGROUP,T.OPTION,T.P,T.RB,T.RP,T.RT,T.RTC]),mA=new Set([...pA,T.CAPTION,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]),Uh=new Map([[T.APPLET,Me.HTML],[T.CAPTION,Me.HTML],[T.HTML,Me.HTML],[T.MARQUEE,Me.HTML],[T.OBJECT,Me.HTML],[T.TABLE,Me.HTML],[T.TD,Me.HTML],[T.TEMPLATE,Me.HTML],[T.TH,Me.HTML],[T.ANNOTATION_XML,Me.MATHML],[T.MI,Me.MATHML],[T.MN,Me.MATHML],[T.MO,Me.MATHML],[T.MS,Me.MATHML],[T.MTEXT,Me.MATHML],[T.DESC,Me.SVG],[T.FOREIGN_OBJECT,Me.SVG],[T.TITLE,Me.SVG]]),C7=[T.H1,T.H2,T.H3,T.H4,T.H5,T.H6],w7=[T.TR,T.TEMPLATE,T.HTML],S7=[T.TBODY,T.TFOOT,T.THEAD,T.TEMPLATE,T.HTML],k7=[T.TABLE,T.TEMPLATE,T.HTML],I7=[T.TD,T.TH];class D7{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=T.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===T.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Me.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Me.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(n<0?0:n)}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(C7,Me.HTML)}popUntilTableCellPopped(){this.popUntilPopped(I7,Me.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(k7,Me.HTML)}clearBackToTableBodyContext(){this.clearBackTo(S7,Me.HTML)}clearBackToTableRowContext(){this.clearBackTo(w7,Me.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===T.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===T.HTML}hasInScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===e&&i===Me.HTML)return!0;if(Uh.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e],r=this.treeAdapter.getNamespaceURI(this.items[e]);if(uA(n)&&r===Me.HTML)return!0;if(Uh.get(n)===r)return!1}return!0}hasInListItemScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===e&&i===Me.HTML)return!0;if((r===T.UL||r===T.OL)&&i===Me.HTML||Uh.get(r)===i)return!1}return!0}hasInButtonScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===e&&i===Me.HTML)return!0;if(r===T.BUTTON&&i===Me.HTML||Uh.get(r)===i)return!1}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Me.HTML){if(r===e)return!0;if(r===T.TABLE||r===T.TEMPLATE||r===T.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===Me.HTML){if(n===T.TBODY||n===T.THEAD||n===T.TFOOT)return!0;if(n===T.TABLE||n===T.HTML)return!1}}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Me.HTML){if(r===e)return!0;if(r!==T.OPTION&&r!==T.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;pA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;mA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&mA.has(this.currentTagId);)this.pop()}}const h1=3;var qi;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(qi=qi||(qi={}));const gA={type:qi.Marker};class N7{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===qi.Marker)break;const{element:d}=l;if(this.treeAdapter.getTagName(d)===s&&this.treeAdapter.getNamespaceURI(d)===a){const f=this.treeAdapter.getAttrList(d);f.length===i&&r.push({idx:o,attrs:f})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<h1)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<h1)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=h1&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(gA)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:qi.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:qi.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(gA);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===qi.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===qi.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===qi.Element&&n.element===e)}}function bA(t){return{nodeName:"#text",value:t,parentNode:null}}const Io={createDocument(){return{nodeName:"#document",mode:Yr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Io.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Io.isTextNode(n)){n.value+=e;return}}Io.appendChild(t,bA(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Io.isTextNode(r)?r.value+=e:Io.insertBefore(t,bA(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},vA="html",M7="about:legacy-compat",O7="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",yA=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],L7=[...yA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],R7=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),_A=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],B7=[..._A,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function TA(t,e){return e.some(n=>t.startsWith(n))}function P7(t){return t.name===vA&&t.publicId===null&&(t.systemId===null||t.systemId===M7)}function F7(t){if(t.name!==vA)return Yr.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===O7)return Yr.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),R7.has(n))return Yr.QUIRKS;let r=e===null?L7:yA;if(TA(n,r))return Yr.QUIRKS;if(r=e===null?_A:B7,TA(n,r))return Yr.LIMITED_QUIRKS}return Yr.NO_QUIRKS}const EA={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},U7="definitionurl",j7="definitionURL",H7=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),z7=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Me.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Me.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Me.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Me.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Me.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Me.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Me.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Me.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Me.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Me.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Me.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Me.XMLNS}]]),V7=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),W7=new Set([T.B,T.BIG,T.BLOCKQUOTE,T.BODY,T.BR,T.CENTER,T.CODE,T.DD,T.DIV,T.DL,T.DT,T.EM,T.EMBED,T.H1,T.H2,T.H3,T.H4,T.H5,T.H6,T.HEAD,T.HR,T.I,T.IMG,T.LI,T.LISTING,T.MENU,T.META,T.NOBR,T.OL,T.P,T.PRE,T.RUBY,T.S,T.SMALL,T.SPAN,T.STRONG,T.STRIKE,T.SUB,T.SUP,T.TABLE,T.TT,T.U,T.UL,T.VAR]);function G7(t){const e=t.tagID;return e===T.FONT&&t.attrs.some(({name:r})=>r===Ma.COLOR||r===Ma.SIZE||r===Ma.FACE)||W7.has(e)}function AA(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===U7){t.attrs[e].name=j7;break}}function xA(t){for(let e=0;e<t.attrs.length;e++){const n=H7.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function p1(t){for(let e=0;e<t.attrs.length;e++){const n=z7.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function Y7(t){const e=V7.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Ph(t.tagName))}function Q7(t,e){return e===Me.MATHML&&(t===T.MI||t===T.MO||t===T.MN||t===T.MS||t===T.MTEXT)}function K7(t,e,n){if(e===Me.MATHML&&t===T.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Ma.ENCODING){const i=n[r].value.toLowerCase();return i===EA.TEXT_HTML||i===EA.APPLICATION_XML}}return e===Me.SVG&&(t===T.FOREIGN_OBJECT||t===T.DESC||t===T.TITLE)}function X7(t,e,n,r){return(!r||r===Me.HTML)&&K7(t,e,n)||(!r||r===Me.MATHML)&&Q7(t,e)}const Z7="hidden",J7=8,q7=3;var le;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(le||(le={}));const $7={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},CA=new Set([T.TABLE,T.TBODY,T.TFOOT,T.THEAD,T.TR]),wA={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Io,onParseError:null};let SA=class{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=le.INITIAL,this.originalInsertionMode=le.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...wA,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new x7(this.options,this),this.activeFormattingElements=new N7(this.treeAdapter),this.fragmentContextID=r?Ph(this.treeAdapter.getTagName(r)):T.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new D7(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...wA,...n};e??(e=r.treeAdapter.createElement(_e.TEMPLATE,Me.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Me.HTML,[]),s=new this(r,i,e);return s.fragmentContextID===T.TEMPLATE&&s.tmplInsertionModeStack.unshift(le.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const s=(i=e.location)!==null&&i!==void 0?i:$7,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(e,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(e,n){const r=e===this.document||this.treeAdapter.getNamespaceURI(e)===Me.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Me.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=le.TEXT}switchToPlaintextParsing(){this.insertionMode=le.TEXT,this.originalInsertionMode=le.IN_BODY,this.tokenizer.state=Qr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===_e.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Me.HTML))switch(this.fragmentContextID){case T.TITLE:case T.TEXTAREA:{this.tokenizer.state=Qr.RCDATA;break}case T.STYLE:case T.XMP:case T.IFRAME:case T.NOEMBED:case T.NOFRAMES:case T.NOSCRIPT:{this.tokenizer.state=Qr.RAWTEXT;break}case T.SCRIPT:{this.tokenizer.state=Qr.SCRIPT_DATA;break}case T.PLAINTEXT:{this.tokenizer.state=Qr.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Me.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Me.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(_e.HTML,Me.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,T.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:d,endOffset:f}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:d,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),s=n.type===Ft.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===T.SVG&&this.treeAdapter.getTagName(n)===_e.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Me.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===T.MGLYPH||e.tagID===T.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Me.HTML)}_processToken(e){switch(e.type){case Ft.CHARACTER:{this.onCharacter(e);break}case Ft.NULL_CHARACTER:{this.onNullCharacter(e);break}case Ft.COMMENT:{this.onComment(e);break}case Ft.DOCTYPE:{this.onDoctype(e);break}case Ft.START_TAG:{this._processStartTag(e);break}case Ft.END_TAG:{this.onEndTag(e);break}case Ft.EOF:{this.onEof(e);break}case Ft.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return X7(e,i,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===qi.Marker||this.openElements.contains(i.element)),r=n<0?e-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=le.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(T.P),this.openElements.popUntilTagNamePopped(T.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case T.TR:{this.insertionMode=le.IN_ROW;return}case T.TBODY:case T.THEAD:case T.TFOOT:{this.insertionMode=le.IN_TABLE_BODY;return}case T.CAPTION:{this.insertionMode=le.IN_CAPTION;return}case T.COLGROUP:{this.insertionMode=le.IN_COLUMN_GROUP;return}case T.TABLE:{this.insertionMode=le.IN_TABLE;return}case T.BODY:{this.insertionMode=le.IN_BODY;return}case T.FRAMESET:{this.insertionMode=le.IN_FRAMESET;return}case T.SELECT:{this._resetInsertionModeForSelect(e);return}case T.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case T.HTML:{this.insertionMode=this.headElement?le.AFTER_HEAD:le.BEFORE_HEAD;return}case T.TD:case T.TH:{if(e>0){this.insertionMode=le.IN_CELL;return}break}case T.HEAD:{if(e>0){this.insertionMode=le.IN_HEAD;return}break}}this.insertionMode=le.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===T.TEMPLATE)break;if(r===T.TABLE){this.insertionMode=le.IN_SELECT_IN_TABLE;return}}this.insertionMode=le.IN_SELECT}_isElementCausesFosterParenting(e){return CA.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case T.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Me.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case T.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return b7[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){IU(this,e);return}switch(this.insertionMode){case le.INITIAL:{ed(this,e);break}case le.BEFORE_HTML:{td(this,e);break}case le.BEFORE_HEAD:{nd(this,e);break}case le.IN_HEAD:{rd(this,e);break}case le.IN_HEAD_NO_SCRIPT:{id(this,e);break}case le.AFTER_HEAD:{sd(this,e);break}case le.IN_BODY:case le.IN_CAPTION:case le.IN_CELL:case le.IN_TEMPLATE:{IA(this,e);break}case le.TEXT:case le.IN_SELECT:case le.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case le.IN_TABLE:case le.IN_TABLE_BODY:case le.IN_ROW:{v1(this,e);break}case le.IN_TABLE_TEXT:{PA(this,e);break}case le.IN_COLUMN_GROUP:{zh(this,e);break}case le.AFTER_BODY:{Gh(this,e);break}case le.AFTER_AFTER_BODY:{Yh(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){kU(this,e);return}switch(this.insertionMode){case le.INITIAL:{ed(this,e);break}case le.BEFORE_HTML:{td(this,e);break}case le.BEFORE_HEAD:{nd(this,e);break}case le.IN_HEAD:{rd(this,e);break}case le.IN_HEAD_NO_SCRIPT:{id(this,e);break}case le.AFTER_HEAD:{sd(this,e);break}case le.TEXT:{this._insertCharacters(e);break}case le.IN_TABLE:case le.IN_TABLE_BODY:case le.IN_ROW:{v1(this,e);break}case le.IN_COLUMN_GROUP:{zh(this,e);break}case le.AFTER_BODY:{Gh(this,e);break}case le.AFTER_AFTER_BODY:{Yh(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){g1(this,e);return}switch(this.insertionMode){case le.INITIAL:case le.BEFORE_HTML:case le.BEFORE_HEAD:case le.IN_HEAD:case le.IN_HEAD_NO_SCRIPT:case le.AFTER_HEAD:case le.IN_BODY:case le.IN_TABLE:case le.IN_CAPTION:case le.IN_COLUMN_GROUP:case le.IN_TABLE_BODY:case le.IN_ROW:case le.IN_CELL:case le.IN_SELECT:case le.IN_SELECT_IN_TABLE:case le.IN_TEMPLATE:case le.IN_FRAMESET:case le.AFTER_FRAMESET:{g1(this,e);break}case le.IN_TABLE_TEXT:{ld(this,e);break}case le.AFTER_BODY:{aF(this,e);break}case le.AFTER_AFTER_BODY:case le.AFTER_AFTER_FRAMESET:{oF(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case le.INITIAL:{lF(this,e);break}case le.BEFORE_HEAD:case le.IN_HEAD:case le.IN_HEAD_NO_SCRIPT:case le.AFTER_HEAD:{this._err(e,Ie.misplacedDoctype);break}case le.IN_TABLE_TEXT:{ld(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Ie.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?DU(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case le.INITIAL:{ed(this,e);break}case le.BEFORE_HTML:{uF(this,e);break}case le.BEFORE_HEAD:{dF(this,e);break}case le.IN_HEAD:{$i(this,e);break}case le.IN_HEAD_NO_SCRIPT:{pF(this,e);break}case le.AFTER_HEAD:{gF(this,e);break}case le.IN_BODY:{br(this,e);break}case le.IN_TABLE:{Yl(this,e);break}case le.IN_TABLE_TEXT:{ld(this,e);break}case le.IN_CAPTION:{fU(this,e);break}case le.IN_COLUMN_GROUP:{y1(this,e);break}case le.IN_TABLE_BODY:{Vh(this,e);break}case le.IN_ROW:{Wh(this,e);break}case le.IN_CELL:{mU(this,e);break}case le.IN_SELECT:{jA(this,e);break}case le.IN_SELECT_IN_TABLE:{bU(this,e);break}case le.IN_TEMPLATE:{yU(this,e);break}case le.AFTER_BODY:{TU(this,e);break}case le.IN_FRAMESET:{EU(this,e);break}case le.AFTER_FRAMESET:{xU(this,e);break}case le.AFTER_AFTER_BODY:{wU(this,e);break}case le.AFTER_AFTER_FRAMESET:{SU(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?NU(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case le.INITIAL:{ed(this,e);break}case le.BEFORE_HTML:{cF(this,e);break}case le.BEFORE_HEAD:{fF(this,e);break}case le.IN_HEAD:{hF(this,e);break}case le.IN_HEAD_NO_SCRIPT:{mF(this,e);break}case le.AFTER_HEAD:{bF(this,e);break}case le.IN_BODY:{Hh(this,e);break}case le.TEXT:{nU(this,e);break}case le.IN_TABLE:{ad(this,e);break}case le.IN_TABLE_TEXT:{ld(this,e);break}case le.IN_CAPTION:{hU(this,e);break}case le.IN_COLUMN_GROUP:{pU(this,e);break}case le.IN_TABLE_BODY:{_1(this,e);break}case le.IN_ROW:{UA(this,e);break}case le.IN_CELL:{gU(this,e);break}case le.IN_SELECT:{HA(this,e);break}case le.IN_SELECT_IN_TABLE:{vU(this,e);break}case le.IN_TEMPLATE:{_U(this,e);break}case le.AFTER_BODY:{VA(this,e);break}case le.IN_FRAMESET:{AU(this,e);break}case le.AFTER_FRAMESET:{CU(this,e);break}case le.AFTER_AFTER_BODY:{Yh(this,e);break}}}onEof(e){switch(this.insertionMode){case le.INITIAL:{ed(this,e);break}case le.BEFORE_HTML:{td(this,e);break}case le.BEFORE_HEAD:{nd(this,e);break}case le.IN_HEAD:{rd(this,e);break}case le.IN_HEAD_NO_SCRIPT:{id(this,e);break}case le.AFTER_HEAD:{sd(this,e);break}case le.IN_BODY:case le.IN_TABLE:case le.IN_CAPTION:case le.IN_COLUMN_GROUP:case le.IN_TABLE_BODY:case le.IN_ROW:case le.IN_CELL:case le.IN_SELECT:case le.IN_SELECT_IN_TABLE:{RA(this,e);break}case le.TEXT:{rU(this,e);break}case le.IN_TABLE_TEXT:{ld(this,e);break}case le.IN_TEMPLATE:{zA(this,e);break}case le.AFTER_BODY:case le.IN_FRAMESET:case le.AFTER_FRAMESET:case le.AFTER_AFTER_BODY:case le.AFTER_AFTER_FRAMESET:{b1(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===J.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case le.IN_HEAD:case le.IN_HEAD_NO_SCRIPT:case le.AFTER_HEAD:case le.TEXT:case le.IN_COLUMN_GROUP:case le.IN_SELECT:case le.IN_SELECT_IN_TABLE:case le.IN_FRAMESET:case le.AFTER_FRAMESET:{this._insertCharacters(e);break}case le.IN_BODY:case le.IN_CAPTION:case le.IN_CELL:case le.IN_TEMPLATE:case le.AFTER_BODY:case le.AFTER_AFTER_BODY:case le.AFTER_AFTER_FRAMESET:{kA(this,e);break}case le.IN_TABLE:case le.IN_TABLE_BODY:case le.IN_ROW:{v1(this,e);break}case le.IN_TABLE_TEXT:{BA(this,e);break}}}};function eF(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):LA(t,e),n}function tF(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(r<0?0:r),t.activeFormattingElements.removeEntry(e)),n}function nF(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let s=0,a=i;a!==n;s++,a=i){i=t.openElements.getCommonAncestor(a);const o=t.activeFormattingElements.getElementEntry(a),l=o&&s>=q7;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=rF(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(a,r),r=a)}return r}function rF(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function iF(t,e,n){const r=t.treeAdapter.getTagName(e),i=Ph(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);i===T.TEMPLATE&&s===Me.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function sF(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,i.tagID)}function m1(t,e){for(let n=0;n<J7;n++){const r=eF(t,e);if(!r)break;const i=tF(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const s=nF(t,i,r.element),a=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),a&&iF(t,a,s),sF(t,i,r)}}function g1(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function aF(t,e){t._appendCommentNode(e,t.openElements.items[0])}function oF(t,e){t._appendCommentNode(e,t.document)}function b1(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&t._setEndLocation(s,e)}}}}function lF(t,e){t._setDocumentType(e);const n=e.forceQuirks?Yr.QUIRKS:F7(e);P7(e)||t._err(e,Ie.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=le.BEFORE_HTML}function ed(t,e){t._err(e,Ie.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Yr.QUIRKS),t.insertionMode=le.BEFORE_HTML,t._processToken(e)}function uF(t,e){e.tagID===T.HTML?(t._insertElement(e,Me.HTML),t.insertionMode=le.BEFORE_HEAD):td(t,e)}function cF(t,e){const n=e.tagID;(n===T.HTML||n===T.HEAD||n===T.BODY||n===T.BR)&&td(t,e)}function td(t,e){t._insertFakeRootElement(),t.insertionMode=le.BEFORE_HEAD,t._processToken(e)}function dF(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.HEAD:{t._insertElement(e,Me.HTML),t.headElement=t.openElements.current,t.insertionMode=le.IN_HEAD;break}default:nd(t,e)}}function fF(t,e){const n=e.tagID;n===T.HEAD||n===T.BODY||n===T.HTML||n===T.BR?nd(t,e):t._err(e,Ie.endTagWithoutMatchingOpenElement)}function nd(t,e){t._insertFakeElement(_e.HEAD,T.HEAD),t.headElement=t.openElements.current,t.insertionMode=le.IN_HEAD,t._processToken(e)}function $i(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:{t._appendElement(e,Me.HTML),e.ackSelfClosing=!0;break}case T.TITLE:{t._switchToTextParsing(e,Qr.RCDATA);break}case T.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Qr.RAWTEXT):(t._insertElement(e,Me.HTML),t.insertionMode=le.IN_HEAD_NO_SCRIPT);break}case T.NOFRAMES:case T.STYLE:{t._switchToTextParsing(e,Qr.RAWTEXT);break}case T.SCRIPT:{t._switchToTextParsing(e,Qr.SCRIPT_DATA);break}case T.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=le.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(le.IN_TEMPLATE);break}case T.HEAD:{t._err(e,Ie.misplacedStartTagForHeadElement);break}default:rd(t,e)}}function hF(t,e){switch(e.tagID){case T.HEAD:{t.openElements.pop(),t.insertionMode=le.AFTER_HEAD;break}case T.BODY:case T.BR:case T.HTML:{rd(t,e);break}case T.TEMPLATE:{Do(t,e);break}default:t._err(e,Ie.endTagWithoutMatchingOpenElement)}}function Do(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==T.TEMPLATE&&t._err(e,Ie.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Ie.endTagWithoutMatchingOpenElement)}function rd(t,e){t.openElements.pop(),t.insertionMode=le.AFTER_HEAD,t._processToken(e)}function pF(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.BASEFONT:case T.BGSOUND:case T.HEAD:case T.LINK:case T.META:case T.NOFRAMES:case T.STYLE:{$i(t,e);break}case T.NOSCRIPT:{t._err(e,Ie.nestedNoscriptInHead);break}default:id(t,e)}}function mF(t,e){switch(e.tagID){case T.NOSCRIPT:{t.openElements.pop(),t.insertionMode=le.IN_HEAD;break}case T.BR:{id(t,e);break}default:t._err(e,Ie.endTagWithoutMatchingOpenElement)}}function id(t,e){const n=e.type===Ft.EOF?Ie.openElementsLeftAfterEof:Ie.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=le.IN_HEAD,t._processToken(e)}function gF(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.BODY:{t._insertElement(e,Me.HTML),t.framesetOk=!1,t.insertionMode=le.IN_BODY;break}case T.FRAMESET:{t._insertElement(e,Me.HTML),t.insertionMode=le.IN_FRAMESET;break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{t._err(e,Ie.abandonedHeadElementChild),t.openElements.push(t.headElement,T.HEAD),$i(t,e),t.openElements.remove(t.headElement);break}case T.HEAD:{t._err(e,Ie.misplacedStartTagForHeadElement);break}default:sd(t,e)}}function bF(t,e){switch(e.tagID){case T.BODY:case T.HTML:case T.BR:{sd(t,e);break}case T.TEMPLATE:{Do(t,e);break}default:t._err(e,Ie.endTagWithoutMatchingOpenElement)}}function sd(t,e){t._insertFakeElement(_e.BODY,T.BODY),t.insertionMode=le.IN_BODY,jh(t,e)}function jh(t,e){switch(e.type){case Ft.CHARACTER:{IA(t,e);break}case Ft.WHITESPACE_CHARACTER:{kA(t,e);break}case Ft.COMMENT:{g1(t,e);break}case Ft.START_TAG:{br(t,e);break}case Ft.END_TAG:{Hh(t,e);break}case Ft.EOF:{RA(t,e);break}}}function kA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function IA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function vF(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function yF(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function _F(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Me.HTML),t.insertionMode=le.IN_FRAMESET)}function TF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML)}function EF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),uA(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Me.HTML)}function AF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function xF(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),n||(t.formElement=t.openElements.current))}function CF(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===T.LI&&i===T.LI||(n===T.DD||n===T.DT)&&(i===T.DD||i===T.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==T.ADDRESS&&i!==T.DIV&&i!==T.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML)}function wF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),t.tokenizer.state=Qr.PLAINTEXT}function SF(t,e){t.openElements.hasInScope(T.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.framesetOk=!1}function kF(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(_e.A);n&&(m1(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function IF(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function DF(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(T.NOBR)&&(m1(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Me.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function NF(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function MF(t,e){t.treeAdapter.getDocumentMode(t.document)!==Yr.QUIRKS&&t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),t.framesetOk=!1,t.insertionMode=le.IN_TABLE}function DA(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Me.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function NA(t){const e=lA(t,Ma.TYPE);return e!=null&&e.toLowerCase()===Z7}function OF(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Me.HTML),NA(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function LF(t,e){t._appendElement(e,Me.HTML),e.ackSelfClosing=!0}function RF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._appendElement(e,Me.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function BF(t,e){e.tagName=_e.IMG,e.tagID=T.IMG,DA(t,e)}function PF(t,e){t._insertElement(e,Me.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Qr.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=le.TEXT}function FF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Qr.RAWTEXT)}function UF(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Qr.RAWTEXT)}function MA(t,e){t._switchToTextParsing(e,Qr.RAWTEXT)}function jF(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===le.IN_TABLE||t.insertionMode===le.IN_CAPTION||t.insertionMode===le.IN_TABLE_BODY||t.insertionMode===le.IN_ROW||t.insertionMode===le.IN_CELL?le.IN_SELECT_IN_TABLE:le.IN_SELECT}function HF(t,e){t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML)}function zF(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Me.HTML)}function VF(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(T.RTC),t._insertElement(e,Me.HTML)}function WF(t,e){t._reconstructActiveFormattingElements(),AA(e),p1(e),e.selfClosing?t._appendElement(e,Me.MATHML):t._insertElement(e,Me.MATHML),e.ackSelfClosing=!0}function GF(t,e){t._reconstructActiveFormattingElements(),xA(e),p1(e),e.selfClosing?t._appendElement(e,Me.SVG):t._insertElement(e,Me.SVG),e.ackSelfClosing=!0}function OA(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML)}function br(t,e){switch(e.tagID){case T.I:case T.S:case T.B:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.SMALL:case T.STRIKE:case T.STRONG:{IF(t,e);break}case T.A:{kF(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{EF(t,e);break}case T.P:case T.DL:case T.OL:case T.UL:case T.DIV:case T.DIR:case T.NAV:case T.MAIN:case T.MENU:case T.ASIDE:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.DETAILS:case T.ADDRESS:case T.ARTICLE:case T.SECTION:case T.SUMMARY:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{TF(t,e);break}case T.LI:case T.DD:case T.DT:{CF(t,e);break}case T.BR:case T.IMG:case T.WBR:case T.AREA:case T.EMBED:case T.KEYGEN:{DA(t,e);break}case T.HR:{RF(t,e);break}case T.RB:case T.RTC:{zF(t,e);break}case T.RT:case T.RP:{VF(t,e);break}case T.PRE:case T.LISTING:{AF(t,e);break}case T.XMP:{FF(t,e);break}case T.SVG:{GF(t,e);break}case T.HTML:{vF(t,e);break}case T.BASE:case T.LINK:case T.META:case T.STYLE:case T.TITLE:case T.SCRIPT:case T.BGSOUND:case T.BASEFONT:case T.TEMPLATE:{$i(t,e);break}case T.BODY:{yF(t,e);break}case T.FORM:{xF(t,e);break}case T.NOBR:{DF(t,e);break}case T.MATH:{WF(t,e);break}case T.TABLE:{MF(t,e);break}case T.INPUT:{OF(t,e);break}case T.PARAM:case T.TRACK:case T.SOURCE:{LF(t,e);break}case T.IMAGE:{BF(t,e);break}case T.BUTTON:{SF(t,e);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{NF(t,e);break}case T.IFRAME:{UF(t,e);break}case T.SELECT:{jF(t,e);break}case T.OPTION:case T.OPTGROUP:{HF(t,e);break}case T.NOEMBED:{MA(t,e);break}case T.FRAMESET:{_F(t,e);break}case T.TEXTAREA:{PF(t,e);break}case T.NOSCRIPT:{t.options.scriptingEnabled?MA(t,e):OA(t,e);break}case T.PLAINTEXT:{wF(t,e);break}case T.COL:case T.TH:case T.TD:case T.TR:case T.HEAD:case T.FRAME:case T.TBODY:case T.TFOOT:case T.THEAD:case T.CAPTION:case T.COLGROUP:break;default:OA(t,e)}}function YF(t,e){if(t.openElements.hasInScope(T.BODY)&&(t.insertionMode=le.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function QF(t,e){t.openElements.hasInScope(T.BODY)&&(t.insertionMode=le.AFTER_BODY,VA(t,e))}function KF(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function XF(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(T.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(T.FORM):n&&t.openElements.remove(n))}function ZF(t){t.openElements.hasInButtonScope(T.P)||t._insertFakeElement(_e.P,T.P),t._closePElement()}function JF(t){t.openElements.hasInListItemScope(T.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(T.LI),t.openElements.popUntilTagNamePopped(T.LI))}function qF(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function $F(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function eU(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function tU(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(_e.BR,T.BR),t.openElements.pop(),t.framesetOk=!1}function LA(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const s=t.openElements.items[i],a=t.openElements.tagIDs[i];if(r===a&&(r!==T.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(s,a))break}}function Hh(t,e){switch(e.tagID){case T.A:case T.B:case T.I:case T.S:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.NOBR:case T.SMALL:case T.STRIKE:case T.STRONG:{m1(t,e);break}case T.P:{ZF(t);break}case T.DL:case T.UL:case T.OL:case T.DIR:case T.DIV:case T.NAV:case T.PRE:case T.MAIN:case T.MENU:case T.ASIDE:case T.BUTTON:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.ADDRESS:case T.ARTICLE:case T.DETAILS:case T.SECTION:case T.SUMMARY:case T.LISTING:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{KF(t,e);break}case T.LI:{JF(t);break}case T.DD:case T.DT:{qF(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{$F(t);break}case T.BR:{tU(t);break}case T.BODY:{YF(t,e);break}case T.HTML:{QF(t,e);break}case T.FORM:{XF(t);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{eU(t,e);break}case T.TEMPLATE:{Do(t,e);break}default:LA(t,e)}}function RA(t,e){t.tmplInsertionModeStack.length>0?zA(t,e):b1(t,e)}function nU(t,e){var n;e.tagID===T.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function rU(t,e){t._err(e,Ie.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function v1(t,e){if(CA.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=le.IN_TABLE_TEXT,e.type){case Ft.CHARACTER:{PA(t,e);break}case Ft.WHITESPACE_CHARACTER:{BA(t,e);break}}else od(t,e)}function iU(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Me.HTML),t.insertionMode=le.IN_CAPTION}function sU(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Me.HTML),t.insertionMode=le.IN_COLUMN_GROUP}function aU(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(_e.COLGROUP,T.COLGROUP),t.insertionMode=le.IN_COLUMN_GROUP,y1(t,e)}function oU(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Me.HTML),t.insertionMode=le.IN_TABLE_BODY}function lU(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(_e.TBODY,T.TBODY),t.insertionMode=le.IN_TABLE_BODY,Vh(t,e)}function uU(t,e){t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function cU(t,e){NA(e)?t._appendElement(e,Me.HTML):od(t,e),e.ackSelfClosing=!0}function dU(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Me.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Yl(t,e){switch(e.tagID){case T.TD:case T.TH:case T.TR:{lU(t,e);break}case T.STYLE:case T.SCRIPT:case T.TEMPLATE:{$i(t,e);break}case T.COL:{aU(t,e);break}case T.FORM:{dU(t,e);break}case T.TABLE:{uU(t,e);break}case T.TBODY:case T.TFOOT:case T.THEAD:{oU(t,e);break}case T.INPUT:{cU(t,e);break}case T.CAPTION:{iU(t,e);break}case T.COLGROUP:{sU(t,e);break}default:od(t,e)}}function ad(t,e){switch(e.tagID){case T.TABLE:{t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode());break}case T.TEMPLATE:{Do(t,e);break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:od(t,e)}}function od(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,jh(t,e),t.fosterParentingEnabled=n}function BA(t,e){t.pendingCharacterTokens.push(e)}function PA(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function ld(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)od(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const FA=new Set([T.CAPTION,T.COL,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]);function fU(t,e){const n=e.tagID;FA.has(n)?t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=le.IN_TABLE,Yl(t,e)):br(t,e)}function hU(t,e){const n=e.tagID;switch(n){case T.CAPTION:case T.TABLE:{t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=le.IN_TABLE,n===T.TABLE&&ad(t,e));break}case T.BODY:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:Hh(t,e)}}function y1(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.COL:{t._appendElement(e,Me.HTML),e.ackSelfClosing=!0;break}case T.TEMPLATE:{$i(t,e);break}default:zh(t,e)}}function pU(t,e){switch(e.tagID){case T.COLGROUP:{t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=le.IN_TABLE);break}case T.TEMPLATE:{Do(t,e);break}case T.COL:break;default:zh(t,e)}}function zh(t,e){t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=le.IN_TABLE,t._processToken(e))}function Vh(t,e){switch(e.tagID){case T.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Me.HTML),t.insertionMode=le.IN_ROW;break}case T.TH:case T.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(_e.TR,T.TR),t.insertionMode=le.IN_ROW,Wh(t,e);break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE,Yl(t,e));break}default:Yl(t,e)}}function _1(t,e){const n=e.tagID;switch(e.tagID){case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE);break}case T.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE,ad(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:case T.TR:break;default:ad(t,e)}}function Wh(t,e){switch(e.tagID){case T.TH:case T.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Me.HTML),t.insertionMode=le.IN_CELL,t.activeFormattingElements.insertMarker();break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE_BODY,Vh(t,e));break}default:Yl(t,e)}}function UA(t,e){switch(e.tagID){case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE_BODY);break}case T.TABLE:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE_BODY,_1(t,e));break}case T.TBODY:case T.TFOOT:case T.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(T.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=le.IN_TABLE_BODY,_1(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:break;default:ad(t,e)}}function mU(t,e){const n=e.tagID;FA.has(n)?(t.openElements.hasInTableScope(T.TD)||t.openElements.hasInTableScope(T.TH))&&(t._closeTableCell(),Wh(t,e)):br(t,e)}function gU(t,e){const n=e.tagID;switch(n){case T.TD:case T.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=le.IN_ROW);break}case T.TABLE:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),UA(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:break;default:Hh(t,e)}}function jA(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._insertElement(e,Me.HTML);break}case T.OPTGROUP:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Me.HTML);break}case T.INPUT:case T.KEYGEN:case T.TEXTAREA:case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),e.tagID!==T.SELECT&&t._processStartTag(e));break}case T.SCRIPT:case T.TEMPLATE:{$i(t,e);break}}}function HA(t,e){switch(e.tagID){case T.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===T.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===T.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop();break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop();break}case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode());break}case T.TEMPLATE:{Do(t,e);break}}}function bU(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t._processStartTag(e)):jA(t,e)}function vU(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t.onEndTag(e)):HA(t,e)}function yU(t,e){switch(e.tagID){case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{$i(t,e);break}case T.CAPTION:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.tmplInsertionModeStack[0]=le.IN_TABLE,t.insertionMode=le.IN_TABLE,Yl(t,e);break}case T.COL:{t.tmplInsertionModeStack[0]=le.IN_COLUMN_GROUP,t.insertionMode=le.IN_COLUMN_GROUP,y1(t,e);break}case T.TR:{t.tmplInsertionModeStack[0]=le.IN_TABLE_BODY,t.insertionMode=le.IN_TABLE_BODY,Vh(t,e);break}case T.TD:case T.TH:{t.tmplInsertionModeStack[0]=le.IN_ROW,t.insertionMode=le.IN_ROW,Wh(t,e);break}default:t.tmplInsertionModeStack[0]=le.IN_BODY,t.insertionMode=le.IN_BODY,br(t,e)}}function _U(t,e){e.tagID===T.TEMPLATE&&Do(t,e)}function zA(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):b1(t,e)}function TU(t,e){e.tagID===T.HTML?br(t,e):Gh(t,e)}function VA(t,e){var n;if(e.tagID===T.HTML){if(t.fragmentContext||(t.insertionMode=le.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===T.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else Gh(t,e)}function Gh(t,e){t.insertionMode=le.IN_BODY,jh(t,e)}function EU(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.FRAMESET:{t._insertElement(e,Me.HTML);break}case T.FRAME:{t._appendElement(e,Me.HTML),e.ackSelfClosing=!0;break}case T.NOFRAMES:{$i(t,e);break}}}function AU(t,e){e.tagID===T.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==T.FRAMESET&&(t.insertionMode=le.AFTER_FRAMESET))}function xU(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.NOFRAMES:{$i(t,e);break}}}function CU(t,e){e.tagID===T.HTML&&(t.insertionMode=le.AFTER_AFTER_FRAMESET)}function wU(t,e){e.tagID===T.HTML?br(t,e):Yh(t,e)}function Yh(t,e){t.insertionMode=le.IN_BODY,jh(t,e)}function SU(t,e){switch(e.tagID){case T.HTML:{br(t,e);break}case T.NOFRAMES:{$i(t,e);break}}}function kU(t,e){e.chars=gn,t._insertCharacters(e)}function IU(t,e){t._insertCharacters(e),t.framesetOk=!1}function WA(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Me.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function DU(t,e){if(G7(e))WA(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Me.MATHML?AA(e):r===Me.SVG&&(Y7(e),xA(e)),p1(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function NU(t,e){if(e.tagID===T.P||e.tagID===T.BR){WA(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Me.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}const MU=new Set([_e.AREA,_e.BASE,_e.BASEFONT,_e.BGSOUND,_e.BR,_e.COL,_e.EMBED,_e.FRAME,_e.HR,_e.IMG,_e.INPUT,_e.KEYGEN,_e.LINK,_e.META,_e.PARAM,_e.SOURCE,_e.TRACK,_e.WBR]);function OU(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Me.HTML&&MU.has(e.treeAdapter.getTagName(t))}const LU={treeAdapter:Io,scriptingEnabled:!0};function RU(t,e){const n={...LU,...e};return GA(t,n)}function BU(t,e){let n="";const r=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===_e.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Me.HTML?e.treeAdapter.getTemplateContent(t):t,i=e.treeAdapter.getChildNodes(r);if(i)for(const s of i)n+=GA(s,e);return n}function GA(t,e){return e.treeAdapter.isElementNode(t)?PU(t,e):e.treeAdapter.isTextNode(t)?UU(t,e):e.treeAdapter.isCommentNode(t)?jU(t,e):e.treeAdapter.isDocumentTypeNode(t)?HU(t,e):""}function PU(t,e){const n=e.treeAdapter.getTagName(t);return`<${n}${FU(t,e)}>${OU(t,e)?"":`${BU(t,e)}</${n}>`}`}function FU(t,{treeAdapter:e}){let n="";for(const r of e.getAttrList(t)){if(n+=" ",!r.namespace)n+=r.name;else switch(r.namespace){case Me.XML:{n+=`xml:${r.name}`;break}case Me.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Me.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}n+=`="${dE(r.value)}"`}return n}function UU(t,e){const{treeAdapter:n}=e,r=n.getTextNodeContent(t),i=n.getParentNode(t),s=i&&n.isElementNode(i)&&n.getTagName(i);return s&&n.getNamespaceURI(i)===Me.HTML&&y7(s,e.scriptingEnabled)?r:fE(r)}function jU(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function HU(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function zU(t,e){return SA.parse(t,e)}function VU(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);const r=SA.getFragmentParser(t,n);return r.tokenizer.write(e,!0),r.getFragment()}function YA(t){return new zc(t)}function QA(t){const e=t.includes('"')?"'":'"';return e+t+e}function WU(t,e,n){let r="!DOCTYPE ";return t&&(r+=t),e?r+=` PUBLIC ${QA(e)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${QA(n)}`),r}const Ql={isCommentNode:_h,isElementNode:Tt,isTextNode:Ts,createDocument(){const t=new xo([]);return t["x-mode"]=Yr.NO_QUIRKS,t},createDocumentFragment(){return new xo([])},createElement(t,e,n){const r=Object.create(null),i=Object.create(null),s=Object.create(null);for(let o=0;o<n.length;o++){const l=n[o].name;r[l]=n[o].value,i[l]=n[o].namespace,s[l]=n[o].prefix}const a=new Rg(t,r,[]);return a.namespace=e,a["x-attribsNamespace"]=i,a["x-attribsPrefix"]=s,a},createCommentNode(t){return new Mg(t)},appendChild(t,e){const n=t.children[t.children.length-1];n&&(n.next=e,e.prev=n),t.children.push(e),e.parent=t},insertBefore(t,e,n){const r=t.children.indexOf(n),{prev:i}=n;i&&(i.next=e,e.prev=i),n.prev=e,e.next=n,t.children.splice(r,0,e),e.parent=t},setTemplateContent(t,e){Ql.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,n,r){const i=WU(e,n,r);let s=t.children.find(a=>Bg(a)&&a.name==="!doctype");s?s.data=i??null:(s=new Og("!doctype",i),Ql.appendChild(t,s)),s["x-name"]=e??void 0,s["x-publicId"]=n??void 0,s["x-systemId"]=r??void 0},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:n,next:r}=t;t.prev=null,t.next=null,n&&(n.next=r),r&&(r.prev=n),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const n=t.children[t.children.length-1];n&&Ts(n)?n.data+=e:Ql.appendChild(t,YA(e))},insertTextBefore(t,e,n){const r=t.children[t.children.indexOf(n)-1];r&&Ts(r)?r.data+=e:Ql.insertBefore(t,YA(e),n)},adoptAttributes(t,e){for(let n=0;n<e.length;n++){const r=e[n].name;typeof t.attribs[r]>"u"&&(t.attribs[r]=e[n].value,t["x-attribsNamespace"][r]=e[n].namespace,t["x-attribsPrefix"][r]=e[n].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return Bg(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function GU(t,e,n,r){var i;return(i=e.treeAdapter)!==null&&i!==void 0||(e.treeAdapter=Ql),e.scriptingEnabled!==!1&&(e.scriptingEnabled=!0),n?zU(t,e):VU(r,t,e)}const YU={treeAdapter:Ql};function QU(t){const e="length"in t?t:[t];for(let r=0;r<e.length;r+=1){const i=e[r];Ia(i)&&Array.prototype.splice.call(e,r,1,...i.children)}let n="";for(let r=0;r<e.length;r+=1){const i=e[r];n+=RU(i,YU)}return n}var mt;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(mt||(mt={}));var Ue;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Ue||(Ue={}));function ta(t){return t===mt.Space||t===mt.NewLine||t===mt.Tab||t===mt.FormFeed||t===mt.CarriageReturn}function Qh(t){return t===mt.Slash||t===mt.Gt||ta(t)}function KU(t){return t>=mt.LowerA&&t<=mt.LowerZ||t>=mt.UpperA&&t<=mt.UpperZ}var xs;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(xs||(xs={}));const lr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class XU{constructor({xmlMode:e=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=Ue.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Ue.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=n,this.entityDecoder=new sE(e?iE:$s,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=Ue.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ue.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===mt.Lt||!this.decodeEntities&&this.fastForwardTo(mt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Ue.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===mt.Amp&&this.startEntity()}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Qh(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Ue.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===mt.Gt||ta(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===lr.TitleEnd?this.decodeEntities&&e===mt.Amp&&this.startEntity():this.fastForwardTo(mt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===mt.Lt)}stateCDATASequence(e){e===lr.Cdata[this.sequenceIndex]?++this.sequenceIndex===lr.Cdata.length&&(this.state=Ue.InCommentLike,this.currentSequence=lr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Ue.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===lr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Ue.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Qh(e):KU(e)}startSpecial(e,n){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=n,this.state=Ue.SpecialStartSequence}stateBeforeTagName(e){if(e===mt.ExclamationMark)this.state=Ue.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===mt.Questionmark)this.state=Ue.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const n=e|32;this.sectionStart=this.index,this.xmlMode?this.state=Ue.InTagName:n===lr.ScriptEnd[2]?this.state=Ue.BeforeSpecialS:n===lr.TitleEnd[2]?this.state=Ue.BeforeSpecialT:this.state=Ue.InTagName}else e===mt.Slash?this.state=Ue.BeforeClosingTagName:(this.state=Ue.Text,this.stateText(e))}stateInTagName(e){Qh(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){ta(e)||(e===mt.Gt?this.state=Ue.Text:(this.state=this.isTagStartChar(e)?Ue.InClosingTagName:Ue.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===mt.Gt||ta(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ue.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.state=Ue.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===mt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Ue.InSpecialTag,this.sequenceIndex=0):this.state=Ue.Text,this.sectionStart=this.index+1):e===mt.Slash?this.state=Ue.InSelfClosingTag:ta(e)||(this.state=Ue.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===mt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Ue.Text,this.sectionStart=this.index+1,this.isSpecial=!1):ta(e)||(this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===mt.Eq||Qh(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Ue.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===mt.Eq?this.state=Ue.BeforeAttributeValue:e===mt.Slash||e===mt.Gt?(this.cbs.onattribend(xs.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e)):ta(e)||(this.cbs.onattribend(xs.NoValue,this.sectionStart),this.state=Ue.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===mt.DoubleQuote?(this.state=Ue.InAttributeValueDq,this.sectionStart=this.index+1):e===mt.SingleQuote?(this.state=Ue.InAttributeValueSq,this.sectionStart=this.index+1):ta(e)||(this.sectionStart=this.index,this.state=Ue.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,n){e===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===mt.DoubleQuote?xs.Double:xs.Single,this.index+1),this.state=Ue.BeforeAttributeName):this.decodeEntities&&e===mt.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,mt.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,mt.SingleQuote)}stateInAttributeValueNoQuotes(e){ta(e)||e===mt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(xs.Unquoted,this.index),this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===mt.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===mt.OpeningSquareBracket?(this.state=Ue.CDATASequence,this.sequenceIndex=0):this.state=e===mt.Dash?Ue.BeforeComment:Ue.InDeclaration}stateInDeclaration(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Ue.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Ue.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===mt.Dash?(this.state=Ue.InCommentLike,this.currentSequence=lr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Ue.InDeclaration}stateInSpecialComment(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Ue.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const n=e|32;n===lr.ScriptEnd[3]?this.startSpecial(lr.ScriptEnd,4):n===lr.StyleEnd[3]?this.startSpecial(lr.StyleEnd,4):(this.state=Ue.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){const n=e|32;n===lr.TitleEnd[3]?this.startSpecial(lr.TitleEnd,4):n===lr.TextareaEnd[3]?this.startSpecial(lr.TextareaEnd,4):(this.state=Ue.InTagName,this.stateInTagName(e))}startEntity(){this.baseState=this.state,this.state=Ue.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?As.Strict:this.baseState===Ue.Text||this.baseState===Ue.InSpecialTag?As.Legacy:As.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Ue.Text||this.state===Ue.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Ue.InAttributeValueDq||this.state===Ue.InAttributeValueSq||this.state===Ue.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Ue.Text:{this.stateText(e);break}case Ue.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case Ue.InSpecialTag:{this.stateInSpecialTag(e);break}case Ue.CDATASequence:{this.stateCDATASequence(e);break}case Ue.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case Ue.InAttributeName:{this.stateInAttributeName(e);break}case Ue.InCommentLike:{this.stateInCommentLike(e);break}case Ue.InSpecialComment:{this.stateInSpecialComment(e);break}case Ue.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case Ue.InTagName:{this.stateInTagName(e);break}case Ue.InClosingTagName:{this.stateInClosingTagName(e);break}case Ue.BeforeTagName:{this.stateBeforeTagName(e);break}case Ue.AfterAttributeName:{this.stateAfterAttributeName(e);break}case Ue.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case Ue.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case Ue.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case Ue.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case Ue.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case Ue.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case Ue.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case Ue.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case Ue.InDeclaration:{this.stateInDeclaration(e);break}case Ue.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case Ue.BeforeComment:{this.stateBeforeComment(e);break}case Ue.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case Ue.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Ue.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===Ue.InCommentLike?this.currentSequence===lr.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Ue.InTagName||this.state===Ue.BeforeAttributeName||this.state===Ue.BeforeAttributeValue||this.state===Ue.AfterAttributeName||this.state===Ue.InAttributeName||this.state===Ue.InAttributeValueSq||this.state===Ue.InAttributeValueDq||this.state===Ue.InAttributeValueNq||this.state===Ue.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){this.baseState!==Ue.Text&&this.baseState!==Ue.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}const Kl=new Set(["input","option","optgroup","select","button","datalist","textarea"]),sn=new Set(["p"]),KA=new Set(["thead","tbody"]),XA=new Set(["dd","dt"]),ZA=new Set(["rt","rp"]),ZU=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",sn],["h1",sn],["h2",sn],["h3",sn],["h4",sn],["h5",sn],["h6",sn],["select",Kl],["input",Kl],["output",Kl],["button",Kl],["datalist",Kl],["textarea",Kl],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",XA],["dt",XA],["address",sn],["article",sn],["aside",sn],["blockquote",sn],["details",sn],["div",sn],["dl",sn],["fieldset",sn],["figcaption",sn],["figure",sn],["footer",sn],["form",sn],["header",sn],["hr",sn],["main",sn],["nav",sn],["ol",sn],["pre",sn],["section",sn],["table",sn],["ul",sn],["rt",ZA],["rp",ZA],["tbody",KA],["tfoot",KA]]),JU=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),JA=new Set(["math","svg"]),qA=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),qU=/\s|\//;let $U=class{constructor(e,n={}){var r,i,s,a,o,l;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=n.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=n.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((a=n.Tokenizer)!==null&&a!==void 0?a:XU)(this.options,this),this.foreignContext=[!this.htmlMode],(l=(o=this.cbs).onparserinit)===null||l===void 0||l.call(o,this)}ontext(e,n){var r,i;const s=this.getSlice(e,n);this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=n}ontextentity(e,n){var r,i;this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,Ug(e)),this.startIndex=n}isVoidElement(e){return this.htmlMode&&JU.has(e)}onopentagname(e,n){this.endIndex=n;let r=this.getSlice(e,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var n,r,i,s;this.openTagStart=this.startIndex,this.tagname=e;const a=this.htmlMode&&ZU.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[0]);){const o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(JA.has(e)?this.foreignContext.unshift(!0):qA.has(e)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,n){var r,i,s,a,o,l,d,f;this.endIndex=n;let c=this.getSlice(e,n);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),this.htmlMode&&(JA.has(c)||qA.has(c))&&this.foreignContext.shift(),this.isVoidElement(c))this.htmlMode&&c==="br"&&((a=(s=this.cbs).onopentagname)===null||a===void 0||a.call(s,"br"),(l=(o=this.cbs).onopentag)===null||l===void 0||l.call(o,"br",{},!0),(f=(d=this.cbs).onclosetag)===null||f===void 0||f.call(d,"br",!1));else{const h=this.stack.indexOf(c);if(h!==-1)for(let p=0;p<=h;p++){const m=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,m,p!==h)}else this.htmlMode&&c==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var n,r;const i=this.tagname;this.endOpenTag(e),this.stack[0]===i&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,i,!e),this.stack.shift())}onattribname(e,n){this.startIndex=e;const r=this.getSlice(e,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,n){this.attribvalue+=this.getSlice(e,n)}onattribentity(e){this.attribvalue+=Ug(e)}onattribend(e,n){var r,i;this.endIndex=n,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===xs.Double?'"':e===xs.Single?"'":e===xs.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const n=e.search(qU);let r=n<0?e:e.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=n+1}oncomment(e,n,r){var i,s,a,o;this.endIndex=n,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(e,n-r)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=n+1}oncdata(e,n,r){var i,s,a,o,l,d,f,c,h,p;this.endIndex=n;const m=this.getSlice(e,n-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,m),(d=(l=this.cbs).oncdataend)===null||d===void 0||d.call(l)):((c=(f=this.cbs).oncomment)===null||c===void 0||c.call(f,`[CDATA[${m}]]`),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=n+1}onend(){var e,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(e=this.cbs).onend)===null||n===void 0||n.call(e)}reset(){var e,n,r,i;(n=(e=this.cbs).onreset)===null||n===void 0||n.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,n){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function ej(t,e){const n=new rR(void 0,e);return new $U(n,e).end(t),n.root}const tj=DP((t,e,n,r)=>e._useHtmlParser2?ej(t,e):GU(t,e,n,r)),nj=u7(tj,(t,e)=>e._useHtmlParser2?Th(t,e):QU(t));var $A={exports:{}};/*!
 * Autolinker.js
 * v4.0.0
 *
 * Copyright(c) 2024 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */(function(t,e){(function(n,r){t.exports=r()})(It,function(){var n="4.0.0";function r(ae){return ae===void 0}function i(ae){return typeof ae=="boolean"}function s(ae,te){for(var fe in te)te.hasOwnProperty(fe)&&r(ae[fe])&&(ae[fe]=te[fe]);return ae}function a(ae,te,fe){var Ce;return ae.length>te&&(fe==null?(fe="&hellip;",Ce=3):Ce=fe.length,ae=ae.substring(0,te-Ce)+fe),ae}function o(ae,te){for(var fe=ae.length-1;fe>=0;fe--)ae[fe]===te&&ae.splice(fe,1)}function l(ae,te){for(var fe=ae.length-1;fe>=0;fe--)te(ae[fe])===!0&&ae.splice(fe,1)}function d(ae){throw new Error("Unhandled case for value: '".concat(ae,"'"))}var f=/[A-Za-z]/,c=/[\d]/,h=/\s/,p=/['"]/,m=/[\x00-\x1F\x7F]/,g=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,v=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source,y=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,x=g+v+y,w=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,I=x+w,k=new RegExp("[".concat(I,"]")),S=function(){function ae(te){te===void 0&&(te={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=te.tagName||"",this.attrs=te.attrs||{},this.innerHTML=te.innerHtml||te.innerHTML||""}return ae.prototype.setTagName=function(te){return this.tagName=te,this},ae.prototype.getTagName=function(){return this.tagName||""},ae.prototype.setAttr=function(te,fe){var Ce=this.getAttrs();return Ce[te]=fe,this},ae.prototype.getAttr=function(te){return this.getAttrs()[te]},ae.prototype.setAttrs=function(te){return Object.assign(this.getAttrs(),te),this},ae.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},ae.prototype.setClass=function(te){return this.setAttr("class",te)},ae.prototype.addClass=function(te){for(var fe=this.getClass(),Ce=fe?fe.split(h):[],ot=te.split(h),gt;gt=ot.shift();)Ce.indexOf(gt)===-1&&Ce.push(gt);return this.getAttrs().class=Ce.join(" "),this},ae.prototype.removeClass=function(te){for(var fe=this.getClass(),Ce=fe?fe.split(h):[],ot=te.split(h),gt;Ce.length&&(gt=ot.shift());){var Gt=Ce.indexOf(gt);Gt!==-1&&Ce.splice(Gt,1)}return this.getAttrs().class=Ce.join(" "),this},ae.prototype.getClass=function(){return this.getAttrs().class||""},ae.prototype.hasClass=function(te){return(" "+this.getClass()+" ").indexOf(" "+te+" ")!==-1},ae.prototype.setInnerHTML=function(te){return this.innerHTML=te,this},ae.prototype.setInnerHtml=function(te){return this.setInnerHTML(te)},ae.prototype.getInnerHTML=function(){return this.innerHTML||""},ae.prototype.getInnerHtml=function(){return this.getInnerHTML()},ae.prototype.toAnchorString=function(){var te=this.getTagName(),fe=this.buildAttrsStr();return fe=fe?" "+fe:"",["<",te,fe,">",this.getInnerHtml(),"</",te,">"].join("")},ae.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var te=this.getAttrs(),fe=[];for(var Ce in te)te.hasOwnProperty(Ce)&&fe.push(Ce+'="'+te[Ce]+'"');return fe.join(" ")},ae}();function B(ae,te,fe){var Ce,ot;fe==null?(fe="&hellip;",ot=3,Ce=8):(ot=fe.length,Ce=fe.length);var gt=function(Mn){var jn={},en=Mn,tn=en.match(/^([a-z]+):\/\//i);return tn&&(jn.scheme=tn[1],en=en.substr(tn[0].length)),tn=en.match(/^(.*?)(?=(\?|#|\/|$))/i),tn&&(jn.host=tn[1],en=en.substr(tn[0].length)),tn=en.match(/^\/(.*?)(?=(\?|#|$))/i),tn&&(jn.path=tn[1],en=en.substr(tn[0].length)),tn=en.match(/^\?(.*?)(?=(#|$))/i),tn&&(jn.query=tn[1],en=en.substr(tn[0].length)),tn=en.match(/^#(.*?)$/i),tn&&(jn.fragment=tn[1]),jn},Gt=function(Mn){var jn="";return Mn.scheme&&Mn.host&&(jn+=Mn.scheme+"://"),Mn.host&&(jn+=Mn.host),Mn.path&&(jn+="/"+Mn.path),Mn.query&&(jn+="?"+Mn.query),Mn.fragment&&(jn+="#"+Mn.fragment),jn},Un=function(Mn,jn){var en=jn/2,tn=Math.ceil(en),fo=-1*Math.floor(en),Xs="";return fo<0&&(Xs=Mn.substr(fo)),Mn.substr(0,tn)+fe+Xs};if(ae.length<=te)return ae;var St=te-ot,Pt=gt(ae);if(Pt.query){var je=Pt.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);je&&(Pt.query=Pt.query.substr(0,je[1].length),ae=Gt(Pt))}if(ae.length<=te||(Pt.host&&(Pt.host=Pt.host.replace(/^www\./,""),ae=Gt(Pt)),ae.length<=te))return ae;var dt="";if(Pt.host&&(dt+=Pt.host),dt.length>=St)return Pt.host.length==te?(Pt.host.substr(0,te-ot)+fe).substr(0,St+Ce):Un(dt,St).substr(0,St+Ce);var Ve="";if(Pt.path&&(Ve+="/"+Pt.path),Pt.query&&(Ve+="?"+Pt.query),Ve)if((dt+Ve).length>=St){if((dt+Ve).length==te)return(dt+Ve).substr(0,te);var jt=St-dt.length;return(dt+Un(Ve,jt)).substr(0,St+Ce)}else dt+=Ve;if(Pt.fragment){var lt="#"+Pt.fragment;if((dt+lt).length>=St){if((dt+lt).length==te)return(dt+lt).substr(0,te);var Yi=St-dt.length;return(dt+Un(lt,Yi)).substr(0,St+Ce)}else dt+=lt}if(Pt.scheme&&Pt.host){var vs=Pt.scheme+"://";if((dt+vs).length<St)return(vs+dt).substr(0,te)}if(dt.length<=te)return dt;var xa="";return St>0&&(xa=dt.substr(-1*Math.floor(St/2))),(dt.substr(0,Math.ceil(St/2))+fe+xa).substr(0,St+Ce)}function M(ae,te,fe){if(ae.length<=te)return ae;var Ce,ot;fe==null?(fe="&hellip;",Ce=8,ot=3):(Ce=fe.length,ot=fe.length);var gt=te-ot,Gt="";return gt>0&&(Gt=ae.substr(-1*Math.floor(gt/2))),(ae.substr(0,Math.ceil(gt/2))+fe+Gt).substr(0,gt+Ce)}function D(ae,te,fe){return a(ae,te,fe)}var L=function(){function ae(te){te===void 0&&(te={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=te.newWindow||!1,this.truncate=te.truncate||{},this.className=te.className||""}return ae.prototype.build=function(te){return new S({tagName:"a",attrs:this.createAttrs(te),innerHtml:this.processAnchorText(te.getAnchorText())})},ae.prototype.createAttrs=function(te){var fe={href:te.getAnchorHref()},Ce=this.createCssClass(te);return Ce&&(fe.class=Ce),this.newWindow&&(fe.target="_blank",fe.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<te.getAnchorText().length&&(fe.title=te.getAnchorHref()),fe},ae.prototype.createCssClass=function(te){var fe=this.className;if(fe){for(var Ce=[fe],ot=te.getCssClassSuffixes(),gt=0,Gt=ot.length;gt<Gt;gt++)Ce.push(fe+"-"+ot[gt]);return Ce.join(" ")}else return""},ae.prototype.processAnchorText=function(te){return te=this.doTruncate(te),te},ae.prototype.doTruncate=function(te){var fe=this.truncate;if(!fe||!fe.length)return te;var Ce=fe.length,ot=fe.location;return ot==="smart"?B(te,Ce):ot==="middle"?M(te,Ce):D(te,Ce)},ae}(),z=function(ae,te){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,Ce){fe.__proto__=Ce}||function(fe,Ce){for(var ot in Ce)Object.prototype.hasOwnProperty.call(Ce,ot)&&(fe[ot]=Ce[ot])},z(ae,te)};function U(ae,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");z(ae,te);function fe(){this.constructor=ae}ae.prototype=te===null?Object.create(te):(fe.prototype=te.prototype,new fe)}var F=function(){return F=Object.assign||function(te){for(var fe,Ce=1,ot=arguments.length;Ce<ot;Ce++){fe=arguments[Ce];for(var gt in fe)Object.prototype.hasOwnProperty.call(fe,gt)&&(te[gt]=fe[gt])}return te},F.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var H=function(){function ae(te){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=te.tagBuilder,this.matchedText=te.matchedText,this.offset=te.offset}return ae.prototype.getMatchedText=function(){return this.matchedText},ae.prototype.setOffset=function(te){this.offset=te},ae.prototype.getOffset=function(){return this.offset},ae.prototype.getCssClassSuffixes=function(){return[this.type]},ae.prototype.buildTag=function(){return this.tagBuilder.build(this)},ae}(),K="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermögensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)",P=new RegExp("^"+K+"$"),W=/[\/?#]/,ie=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,Q=/[?!:,.;^]/,N=/https?:\/\//i,E=new RegExp("^"+N.source,"i"),j=new RegExp(Q.source+"$"),G=/^(javascript|vbscript):/i,X=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Z=/^(?:\/\/)?([^/#?:]+)/;function ce(ae){return k.test(ae)}function re(ae){return k.test(ae)||c.test(ae)||ae==="+"||ae==="-"||ae==="."}function pe(ae){return k.test(ae)}function me(ae){return ae==="_"||pe(ae)}function de(ae){return k.test(ae)||ie.test(ae)||Q.test(ae)}function Te(ae){return W.test(ae)}function Ae(ae){return P.test(ae.toLowerCase())}function Le(ae){if(G.test(ae))return!1;var te=ae.match(X);if(!te)return!1;var fe=!!te[1],Ce=te[2];return fe?!0:!(Ce.indexOf(".")===-1||!f.test(Ce))}function ge(ae){var te=ae.match(Z);if(!te)return!1;var fe=te[0],Ce=fe.split(".");if(Ce.length<2)return!1;var ot=Ce[Ce.length-1];return!!Ae(ot)}var Pe=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,qe=/[:/?#]/;function ue(ae){var te=ae.split(qe,1)[0];return Pe.test(te)}var ye=/^(https?:\/\/)?(www\.)?/i,Be=/^\/\//,V=function(ae){U(te,ae);function te(fe){var Ce=ae.call(this,fe)||this;return Ce.type="url",Ce.url="",Ce.urlMatchType="scheme",Ce.protocolRelativeMatch=!1,Ce.stripPrefix={scheme:!0,www:!0},Ce.stripTrailingSlash=!0,Ce.decodePercentEncoding=!0,Ce.protocolPrepended=!1,Ce.urlMatchType=fe.urlMatchType,Ce.url=fe.url,Ce.protocolRelativeMatch=fe.protocolRelativeMatch,Ce.stripPrefix=fe.stripPrefix,Ce.stripTrailingSlash=fe.stripTrailingSlash,Ce.decodePercentEncoding=fe.decodePercentEncoding,Ce}return te.prototype.getType=function(){return"url"},te.prototype.getUrlMatchType=function(){return this.urlMatchType},te.prototype.getUrl=function(){var fe=this.url;return!this.protocolRelativeMatch&&this.urlMatchType!=="scheme"&&!this.protocolPrepended&&(fe=this.url="http://"+fe,this.protocolPrepended=!0),fe},te.prototype.getAnchorHref=function(){var fe=this.getUrl();return fe.replace(/&amp;/g,"&")},te.prototype.getAnchorText=function(){var fe=this.getMatchedText();return this.protocolRelativeMatch&&(fe=we(fe)),this.stripPrefix.scheme&&(fe=Y(fe)),this.stripPrefix.www&&(fe=he(fe)),this.stripTrailingSlash&&(fe=Re(fe)),this.decodePercentEncoding&&(fe=ze(fe)),fe},te}(H);function Y(ae){return ae.replace(E,"")}function he(ae){return ae.replace(ye,"$1")}function we(ae){return ae.replace(Be,"")}function Re(ae){return ae.charAt(ae.length-1)==="/"&&(ae=ae.slice(0,-1)),ae}function ze(ae){var te=ae.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(te)}catch{return te}}var rt=/^mailto:/i,Ee=new RegExp("[".concat(I,"!#$%&'*+/=?^_`{|}~-]"));function Oe(ae){return k.test(ae)}function nt(ae){return Ee.test(ae)}function _t(ae){var te=ae.split(".").pop()||"";return Ae(te)}var Ot=function(ae){U(te,ae);function te(fe){var Ce=ae.call(this,fe)||this;return Ce.type="email",Ce.email="",Ce.email=fe.email,Ce}return te.prototype.getType=function(){return"email"},te.prototype.getEmail=function(){return this.email},te.prototype.getAnchorHref=function(){return"mailto:"+this.email},te.prototype.getAnchorText=function(){return this.email},te}(H);function st(ae){return ae==="_"||k.test(ae)}function qt(ae){return ae.length<=140}var Mt=["twitter","facebook","instagram","tiktok"],wn=function(ae){U(te,ae);function te(fe){var Ce=ae.call(this,fe)||this;return Ce.type="hashtag",Ce.serviceName="twitter",Ce.hashtag="",Ce.serviceName=fe.serviceName,Ce.hashtag=fe.hashtag,Ce}return te.prototype.getType=function(){return"hashtag"},te.prototype.getServiceName=function(){return this.serviceName},te.prototype.getHashtag=function(){return this.hashtag},te.prototype.getAnchorHref=function(){var fe=this.serviceName,Ce=this.hashtag;switch(fe){case"twitter":return"https://twitter.com/hashtag/"+Ce;case"facebook":return"https://www.facebook.com/hashtag/"+Ce;case"instagram":return"https://instagram.com/explore/tags/"+Ce;case"tiktok":return"https://www.tiktok.com/tag/"+Ce;default:throw d(fe),new Error("Invalid hashtag service: ".concat(fe))}},te.prototype.getAnchorText=function(){return"#"+this.hashtag},te.prototype.getCssClassSuffixes=function(){var fe=ae.prototype.getCssClassSuffixes.call(this),Ce=this.getServiceName();return Ce&&fe.push(Ce),fe},te}(H),Dn={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},gs=/[-\w.]/;function Ys(ae){return gs.test(ae)}function Qs(ae,te){var fe=Dn[te];return fe.test(ae)}var bs=["twitter","instagram","soundcloud","tiktok"],Ks=function(ae){U(te,ae);function te(fe){var Ce=ae.call(this,fe)||this;return Ce.type="mention",Ce.serviceName="twitter",Ce.mention="",Ce.mention=fe.mention,Ce.serviceName=fe.serviceName,Ce}return te.prototype.getType=function(){return"mention"},te.prototype.getMention=function(){return this.mention},te.prototype.getServiceName=function(){return this.serviceName},te.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},te.prototype.getAnchorText=function(){return"@"+this.mention},te.prototype.getCssClassSuffixes=function(){var fe=ae.prototype.getCssClassSuffixes.call(this),Ce=this.getServiceName();return Ce&&fe.push(Ce),fe},te}(H),hr=/[-. ]/,pr=/[-. ()]/,Vi=/[,;]/,Ti=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/,_n=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/,Ei=new RegExp("^".concat(Ti.source,"|").concat(_n.source,"$"));function Fr(ae){return hr.test(ae)}function Al(ae){return Vi.test(ae)}function xl(ae){var te=ae.charAt(0)==="+"||pr.test(ae);return te&&Ei.test(ae)}var Nn=function(ae){U(te,ae);function te(fe){var Ce=ae.call(this,fe)||this;return Ce.type="phone",Ce.number="",Ce.plusSign=!1,Ce.number=fe.number,Ce.plusSign=fe.plusSign,Ce}return te.prototype.getType=function(){return"phone"},te.prototype.getPhoneNumber=function(){return this.number},te.prototype.getNumber=function(){return this.getPhoneNumber()},te.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},te.prototype.getAnchorText=function(){return this.matchedText},te}(H);function Ur(ae,te){for(var fe=te.tagBuilder,Ce=te.stripPrefix,ot=te.stripTrailingSlash,gt=te.decodePercentEncoding,Gt=te.hashtagServiceName,Un=te.mentionServiceName,St=[],Pt=ae.length,je=[],dt=0;dt<Pt;dt++){var Ve=ae.charAt(dt);if(je.length===0)vs(Ve);else for(var jt=je.length-1;jt>=0;jt--){var lt=je[jt];switch(lt.state){case 11:fo(lt,Ve);break;case 12:Xs(lt,Ve);break;case 0:xa(lt,Ve);break;case 1:Mn(lt,Ve);break;case 2:jn(lt,Ve);break;case 3:en(lt,Ve);break;case 4:tn(lt,Ve);break;case 5:Cl(lt,Ve);break;case 6:jr(lt,Ve);break;case 7:Zf(lt,Ve);break;case 13:ho(lt,Ve);break;case 14:Ca(lt,Ve);break;case 8:po(lt,Ve);break;case 9:Zs(lt,Ve);break;case 10:wl(lt,Ve);break;case 15:xc(lt,Ve);break;case 16:Sl(lt,Ve);break;case 17:Jf(lt,Ve);break;case 18:Hr(lt,Ve);break;case 19:di(lt,Ve);break;case 20:mr(lt,Ve);break;case 21:Cc(lt,Ve);break;case 22:Ci(lt,Ve);break;case 23:wc(lt,Ve);break;case 24:Ge(lt,Ve);break;case 25:J0(lt,Ve);break;case 26:B_(lt,Ve);break;case 27:Sc(lt,Ve);break;case 28:kl(lt,Ve);break;case 29:q0(lt,Ve);break;case 30:P_(lt,Ve);break;case 31:F_(lt,Ve);break;case 32:eg(lt,Ve);break;case 33:U_(lt,Ve);break;case 34:tg(lt,Ve);break;case 35:j_(lt,Ve);break;case 36:H_(lt,Ve);break;case 37:$0(lt,Ve);break;case 38:z_(lt,Ve);break;case 39:V_(lt,Ve);break;case 40:W_(lt,Ve);break;case 41:G_(lt,Ve);break;default:d(lt.state)}}}for(var Yi=je.length-1;Yi>=0;Yi--)je.forEach(function(be){return ln(be)});return St;function vs(be){if(be==="#")je.push(Kt(dt,28));else if(be==="@")je.push(R_(dt,30));else if(be==="/")je.push(Wi(dt,11));else if(be==="+")je.push(co(dt,37));else if(be==="(")je.push(co(dt,32));else{if(c.test(be)&&(je.push(co(dt,38)),je.push(ci(dt,13))),Oe(be)){var Se=be.toLowerCase()==="m"?15:22;je.push(uo(dt,Se))}ce(be)&&je.push(xi(dt,0)),k.test(be)&&je.push(Wi(dt,5))}}function xa(be,Se){Se===":"?be.state=2:Se==="-"?be.state=1:re(Se)||o(je,be)}function Mn(be,Se){Se==="-"||(Se==="/"?(o(je,be),je.push(Wi(dt,11))):re(Se)?be.state=0:o(je,be))}function jn(be,Se){Se==="/"?be.state=3:Se==="."?o(je,be):pe(Se)?(be.state=5,ce(Se)&&je.push(xi(dt,0))):o(je,be)}function en(be,Se){Se==="/"?be.state=4:de(Se)?(be.state=10,be.acceptStateReached=!0):ln(be)}function tn(be,Se){Se==="/"?be.state=10:pe(Se)?(be.state=5,be.acceptStateReached=!0):o(je,be)}function fo(be,Se){Se==="/"?be.state=12:o(je,be)}function Xs(be,Se){pe(Se)?be.state=5:o(je,be)}function Cl(be,Se){Se==="."?be.state=7:Se==="-"?be.state=6:Se===":"?be.state=8:Te(Se)?be.state=10:me(Se)||ln(be)}function jr(be,Se){Se==="-"||(Se==="."?ln(be):pe(Se)?be.state=5:ln(be))}function Zf(be,Se){Se==="."?ln(be):pe(Se)?(be.state=5,be.acceptStateReached=!0):ln(be)}function ho(be,Se){Se==="."?be.state=14:Se===":"?be.state=8:c.test(Se)||(Te(Se)?be.state=10:k.test(Se)?o(je,be):ln(be))}function Ca(be,Se){c.test(Se)?(be.octetsEncountered++,be.octetsEncountered===4&&(be.acceptStateReached=!0),be.state=13):ln(be)}function po(be,Se){c.test(Se)?be.state=9:ln(be)}function Zs(be,Se){c.test(Se)||(Te(Se)?be.state=10:ln(be))}function wl(be,Se){de(Se)||ln(be)}function xc(be,Se){Se.toLowerCase()==="a"?be.state=16:Ci(be,Se)}function Sl(be,Se){Se.toLowerCase()==="i"?be.state=17:Ci(be,Se)}function Jf(be,Se){Se.toLowerCase()==="l"?be.state=18:Ci(be,Se)}function Hr(be,Se){Se.toLowerCase()==="t"?be.state=19:Ci(be,Se)}function di(be,Se){Se.toLowerCase()==="o"?be.state=20:Ci(be,Se)}function mr(be,Se){Se.toLowerCase()===":"?be.state=21:Ci(be,Se)}function Cc(be,Se){nt(Se)?be.state=22:o(je,be)}function Ci(be,Se){Se==="."?be.state=23:Se==="@"?be.state=24:nt(Se)?be.state=22:o(je,be)}function wc(be,Se){Se==="."||Se==="@"?o(je,be):nt(Se)?be.state=22:o(je,be)}function Ge(be,Se){pe(Se)?be.state=25:o(je,be)}function J0(be,Se){Se==="."?be.state=27:Se==="-"?be.state=26:me(Se)||ln(be)}function B_(be,Se){Se==="-"||Se==="."?ln(be):me(Se)?be.state=25:ln(be)}function Sc(be,Se){Se==="."||Se==="-"?ln(be):pe(Se)?(be.state=25,be.acceptStateReached=!0):ln(be)}function kl(be,Se){st(Se)?(be.state=29,be.acceptStateReached=!0):o(je,be)}function q0(be,Se){st(Se)||ln(be)}function P_(be,Se){Ys(Se)?(be.state=31,be.acceptStateReached=!0):o(je,be)}function F_(be,Se){Ys(Se)||(k.test(Se)?o(je,be):ln(be))}function $0(be,Se){c.test(Se)?be.state=38:(o(je,be),vs(Se))}function eg(be,Se){c.test(Se)?be.state=33:o(je,be),vs(Se)}function U_(be,Se){c.test(Se)?be.state=34:o(je,be)}function tg(be,Se){c.test(Se)?be.state=35:o(je,be)}function j_(be,Se){Se===")"?be.state=36:o(je,be)}function H_(be,Se){c.test(Se)?be.state=38:Fr(Se)?be.state=39:o(je,be)}function z_(be,Se){be.acceptStateReached=!0,Al(Se)?be.state=40:Se==="#"?be.state=41:c.test(Se)||(Se==="("?be.state=32:Fr(Se)?be.state=39:(ln(be),ce(Se)&&je.push(xi(dt,0))))}function V_(be,Se){c.test(Se)?be.state=38:Se==="("?be.state=32:(ln(be),vs(Se))}function W_(be,Se){Al(Se)||(Se==="#"?be.state=41:c.test(Se)?be.state=38:ln(be))}function G_(be,Se){Al(Se)?be.state=40:c.test(Se)?o(je,be):ln(be)}function ln(be){if(o(je,be),!!be.acceptStateReached){var Se=be.startIdx,Xt=ae.slice(be.startIdx,dt);if(Xt=Ai(Xt),be.type==="url"){var Y_=ae.charAt(be.startIdx-1);if(Y_==="@")return;var Il=be.matchType;if(Il==="scheme"){var qf=N.exec(Xt);if(qf&&(Se=Se+qf.index,Xt=Xt.slice(qf.index)),!Le(Xt))return}else if(Il==="tld"){if(!ge(Xt))return}else if(Il==="ipV4"){if(!ue(Xt))return}else d(Il);St.push(new V({tagBuilder:fe,matchedText:Xt,offset:Se,urlMatchType:Il,url:Xt,protocolRelativeMatch:Xt.slice(0,2)==="//",stripPrefix:Ce,stripTrailingSlash:ot,decodePercentEncoding:gt}))}else if(be.type==="email")_t(Xt)&&St.push(new Ot({tagBuilder:fe,matchedText:Xt,offset:Se,email:Xt.replace(rt,"")}));else if(be.type==="hashtag")qt(Xt)&&St.push(new wn({tagBuilder:fe,matchedText:Xt,offset:Se,serviceName:Gt,hashtag:Xt.slice(1)}));else if(be.type==="mention")Qs(Xt,Un)&&St.push(new Ks({tagBuilder:fe,matchedText:Xt,offset:Se,serviceName:Un,mention:Xt.slice(1)}));else if(be.type==="phone"){if(Xt=Xt.replace(/ +$/g,""),xl(Xt)){var Q_=Xt.replace(/[^0-9,;#]/g,"");St.push(new Nn({tagBuilder:fe,matchedText:Xt,offset:Se,number:Q_,plusSign:Xt.charAt(0)==="+"}))}}else d(be)}}}var ar=/[\(\{\[]/,Qn=/[\)\}\]]/,Wt={")":"(","}":"{","]":"["};function Ai(ae){for(var te={"(":0,"{":0,"[":0},fe=0;fe<ae.length;fe++){var Ce=ae.charAt(fe);ar.test(Ce)?te[Ce]++:Qn.test(Ce)&&te[Wt[Ce]]--}for(var ot=ae.length-1,gt;ot>=0;)if(gt=ae.charAt(ot),Qn.test(gt)){var Gt=Wt[gt];if(te[Gt]<0)te[Gt]++,ot--;else break}else if(j.test(gt))ot--;else break;return ae.slice(0,ot+1)}function xi(ae,te){return{type:"url",startIdx:ae,state:te,acceptStateReached:!1,matchType:"scheme"}}function Wi(ae,te){return{type:"url",startIdx:ae,state:te,acceptStateReached:!1,matchType:"tld"}}function ci(ae,te){return{type:"url",startIdx:ae,state:te,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}function uo(ae,te){return{type:"email",startIdx:ae,state:te,acceptStateReached:!1}}function Kt(ae,te){return{type:"hashtag",startIdx:ae,state:te,acceptStateReached:!1}}function R_(ae,te){return{type:"mention",startIdx:ae,state:te,acceptStateReached:!1}}function co(ae,te){return{type:"phone",startIdx:ae,state:te,acceptStateReached:!1}}function Ec(ae,te){for(var fe=te.onOpenTag,Ce=te.onCloseTag,ot=te.onText,gt=te.onComment,Gt=te.onDoctype,Un=new Gi,St=0,Pt=ae.length,je=0,dt=0,Ve=Un;St<Pt;){var jt=ae.charAt(St);switch(je){case 0:lt(jt);break;case 1:Yi(jt);break;case 2:xa(jt);break;case 3:vs(jt);break;case 4:Mn(jt);break;case 5:jn(jt);break;case 6:en(jt);break;case 7:tn(jt);break;case 8:fo(jt);break;case 9:Xs(jt);break;case 10:Cl(jt);break;case 11:jr(jt);break;case 12:Zf(jt);break;case 13:ho();break;case 14:Ca(jt);break;case 15:po(jt);break;case 16:Zs(jt);break;case 17:wl(jt);break;case 18:xc(jt);break;case 19:Sl(jt);break;case 20:Jf(jt);break;default:d(je)}St++}dt<St&&Cc();function lt(Ge){Ge==="<"&&di()}function Yi(Ge){Ge==="!"?je=13:Ge==="/"?(je=2,Ve=new Gi(F(F({},Ve),{isClosing:!0}))):Ge==="<"?di():f.test(Ge)?(je=3,Ve=new Gi(F(F({},Ve),{isOpening:!0}))):(je=0,Ve=Un)}function vs(Ge){h.test(Ge)?(Ve=new Gi(F(F({},Ve),{name:Ci()})),je=4):Ge==="<"?di():Ge==="/"?(Ve=new Gi(F(F({},Ve),{name:Ci()})),je=12):Ge===">"?(Ve=new Gi(F(F({},Ve),{name:Ci()})),mr()):!f.test(Ge)&&!c.test(Ge)&&Ge!==":"&&Hr()}function xa(Ge){Ge===">"?Hr():f.test(Ge)?je=3:Hr()}function Mn(Ge){h.test(Ge)||(Ge==="/"?je=12:Ge===">"?mr():Ge==="<"?di():Ge==="="||p.test(Ge)||m.test(Ge)?Hr():je=5)}function jn(Ge){h.test(Ge)?je=6:Ge==="/"?je=12:Ge==="="?je=7:Ge===">"?mr():Ge==="<"?di():p.test(Ge)&&Hr()}function en(Ge){h.test(Ge)||(Ge==="/"?je=12:Ge==="="?je=7:Ge===">"?mr():Ge==="<"?di():p.test(Ge)?Hr():je=5)}function tn(Ge){h.test(Ge)||(Ge==='"'?je=8:Ge==="'"?je=9:/[>=`]/.test(Ge)?Hr():Ge==="<"?di():je=10)}function fo(Ge){Ge==='"'&&(je=11)}function Xs(Ge){Ge==="'"&&(je=11)}function Cl(Ge){h.test(Ge)?je=4:Ge===">"?mr():Ge==="<"&&di()}function jr(Ge){h.test(Ge)?je=4:Ge==="/"?je=12:Ge===">"?mr():Ge==="<"?di():(je=4,wc())}function Zf(Ge){Ge===">"?(Ve=new Gi(F(F({},Ve),{isClosing:!0})),mr()):je=4}function ho(Ge){ae.substr(St,2)==="--"?(St+=2,Ve=new Gi(F(F({},Ve),{type:"comment"})),je=14):ae.substr(St,7).toUpperCase()==="DOCTYPE"?(St+=7,Ve=new Gi(F(F({},Ve),{type:"doctype"})),je=20):Hr()}function Ca(Ge){Ge==="-"?je=15:Ge===">"?Hr():je=16}function po(Ge){Ge==="-"?je=18:Ge===">"?Hr():je=16}function Zs(Ge){Ge==="-"&&(je=17)}function wl(Ge){Ge==="-"?je=18:je=16}function xc(Ge){Ge===">"?mr():Ge==="!"?je=19:Ge==="-"||(je=16)}function Sl(Ge){Ge==="-"?je=17:Ge===">"?mr():je=16}function Jf(Ge){Ge===">"?mr():Ge==="<"&&di()}function Hr(){je=0,Ve=Un}function di(){je=1,Ve=new Gi({idx:St})}function mr(){var Ge=ae.slice(dt,Ve.idx);Ge&&ot(Ge,dt),Ve.type==="comment"?gt(Ve.idx):Ve.type==="doctype"?Gt(Ve.idx):(Ve.isOpening&&fe(Ve.name,Ve.idx),Ve.isClosing&&Ce(Ve.name,Ve.idx)),Hr(),dt=St+1}function Cc(){var Ge=ae.slice(dt,St);ot(Ge,dt),dt=St+1}function Ci(){var Ge=Ve.idx+(Ve.isClosing?2:1);return ae.slice(Ge,St).toLowerCase()}function wc(){St--}}var Gi=function(){function ae(te){te===void 0&&(te={}),this.idx=te.idx!==void 0?te.idx:-1,this.type=te.type||"tag",this.name=te.name||"",this.isOpening=!!te.isOpening,this.isClosing=!!te.isClosing}return ae}(),Aa=function(){function ae(te){te===void 0&&(te={}),this.version=ae.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=dn(te.urls),this.email=i(te.email)?te.email:this.email,this.phone=i(te.phone)?te.phone:this.phone,this.hashtag=te.hashtag||this.hashtag,this.mention=te.mention||this.mention,this.newWindow=i(te.newWindow)?te.newWindow:this.newWindow,this.stripPrefix=Z0(te.stripPrefix),this.stripTrailingSlash=i(te.stripTrailingSlash)?te.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=i(te.decodePercentEncoding)?te.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=te.sanitizeHtml||!1;var fe=this.mention;if(fe!==!1&&bs.indexOf(fe)===-1)throw new Error("invalid `mention` cfg '".concat(fe,"' - see docs"));var Ce=this.hashtag;if(Ce!==!1&&Mt.indexOf(Ce)===-1)throw new Error("invalid `hashtag` cfg '".concat(Ce,"' - see docs"));this.truncate=Ac(te.truncate),this.className=te.className||this.className,this.replaceFn=te.replaceFn||this.replaceFn,this.context=te.context||this}return ae.link=function(te,fe){var Ce=new ae(fe);return Ce.link(te)},ae.parse=function(te,fe){var Ce=new ae(fe);return Ce.parse(te)},ae.prototype.parse=function(te){var fe=this,Ce=["a","style","script"],ot=0,gt=[];return Ec(te,{onOpenTag:function(Gt){Ce.indexOf(Gt)>=0&&ot++},onText:function(Gt,Un){if(ot===0){var St=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,Pt=Gt.split(St),je=Un;Pt.forEach(function(dt,Ve){if(Ve%2===0){var jt=fe.parseText(dt,je);gt.push.apply(gt,jt)}je+=dt.length})}},onCloseTag:function(Gt){Ce.indexOf(Gt)>=0&&(ot=Math.max(ot-1,0))},onComment:function(Gt){},onDoctype:function(Gt){}}),gt=this.compactMatches(gt),gt=this.removeUnwantedMatches(gt),gt},ae.prototype.compactMatches=function(te){te.sort(function(St,Pt){return St.getOffset()-Pt.getOffset()});for(var fe=0;fe<te.length-1;){var Ce=te[fe],ot=Ce.getOffset(),gt=Ce.getMatchedText().length,Gt=ot+gt;if(fe+1<te.length){if(te[fe+1].getOffset()===ot){var Un=te[fe+1].getMatchedText().length>gt?fe:fe+1;te.splice(Un,1);continue}if(te[fe+1].getOffset()<Gt){te.splice(fe+1,1);continue}}fe++}return te},ae.prototype.removeUnwantedMatches=function(te){return this.hashtag||l(te,function(fe){return fe.getType()==="hashtag"}),this.email||l(te,function(fe){return fe.getType()==="email"}),this.phone||l(te,function(fe){return fe.getType()==="phone"}),this.mention||l(te,function(fe){return fe.getType()==="mention"}),this.urls.schemeMatches||l(te,function(fe){return fe.getType()==="url"&&fe.getUrlMatchType()==="scheme"}),this.urls.tldMatches||l(te,function(fe){return fe.getType()==="url"&&fe.getUrlMatchType()==="tld"}),this.urls.ipV4Matches||l(te,function(fe){return fe.getType()==="url"&&fe.getUrlMatchType()==="ipV4"}),te},ae.prototype.parseText=function(te,fe){fe===void 0&&(fe=0),fe=fe||0;for(var Ce=Ur(te,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),ot=0,gt=Ce.length;ot<gt;ot++)Ce[ot].setOffset(fe+Ce[ot].getOffset());return Ce},ae.prototype.link=function(te){if(!te)return"";this.sanitizeHtml&&(te=te.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var fe=this.parse(te),Ce=[],ot=0,gt=0,Gt=fe.length;gt<Gt;gt++){var Un=fe[gt];Ce.push(te.substring(ot,Un.getOffset())),Ce.push(this.createMatchReturnVal(Un)),ot=Un.getOffset()+Un.getMatchedText().length}return Ce.push(te.substring(ot)),Ce.join("")},ae.prototype.createMatchReturnVal=function(te){var fe;if(this.replaceFn&&(fe=this.replaceFn.call(this.context,te)),typeof fe=="string")return fe;if(fe===!1)return te.getMatchedText();if(fe instanceof S)return fe.toAnchorString();var Ce=te.buildTag();return Ce.toAnchorString()},ae.prototype.getTagBuilder=function(){var te=this.tagBuilder;return te||(te=this.tagBuilder=new L({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),te},ae.version=n,ae}();function dn(ae){return ae==null&&(ae=!0),i(ae)?{schemeMatches:ae,tldMatches:ae,ipV4Matches:ae}:{schemeMatches:i(ae.schemeMatches)?ae.schemeMatches:!0,tldMatches:i(ae.tldMatches)?ae.tldMatches:!0,ipV4Matches:i(ae.ipV4Matches)?ae.ipV4Matches:!0}}function Z0(ae){return ae==null&&(ae=!0),i(ae)?{scheme:ae,www:ae}:{scheme:i(ae.scheme)?ae.scheme:!0,www:i(ae.www)?ae.www:!0}}function Ac(ae){return typeof ae=="number"?{length:ae,location:"end"}:s(ae||{},{length:Number.POSITIVE_INFINITY,location:"end"})}return Aa})})($A);var rj=$A.exports;const ij=or(rj);class La{constructor(e){Ye(this,"id");Ye(this,"nickname");Ye(this,"avatarUrl");Ye(this,"country");Ye(this,"city");Ye(this,"clientType");Ye(this,"memberIds");const{_id:n,nickname:r,avatarUrl:i,country:s,city:a,clientType:o,members:l}=e;this.id=n,this.nickname=r??n,this.avatarUrl=i,this.country=s??null,this.city=a??null,this.clientType=o??null,this.memberIds={},l==null||l.forEach(d=>{this.memberIds[d._id]=!0})}}var ex={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(It,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",d="day",f="week",c="month",h="quarter",p="year",m="date",g="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var K=["th","st","nd","rd"],P=H%100;return"["+H+(K[(P-20)%10]||K[P]||K[0])+"]"}},w=function(H,K,P){var W=String(H);return!W||W.length>=K?H:""+Array(K+1-W.length).join(P)+H},I={s:w,z:function(H){var K=-H.utcOffset(),P=Math.abs(K),W=Math.floor(P/60),ie=P%60;return(K<=0?"+":"-")+w(W,2,"0")+":"+w(ie,2,"0")},m:function H(K,P){if(K.date()<P.date())return-H(P,K);var W=12*(P.year()-K.year())+(P.month()-K.month()),ie=K.clone().add(W,c),Q=P-ie<0,N=K.clone().add(W+(Q?-1:1),c);return+(-(W+(P-ie)/(Q?ie-N:N-ie))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:c,y:p,w:f,d,D:m,h:l,m:o,s:a,ms:s,Q:h}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},k="en",S={};S[k]=x;var B="$isDayjsObject",M=function(H){return H instanceof U||!(!H||!H[B])},D=function H(K,P,W){var ie;if(!K)return k;if(typeof K=="string"){var Q=K.toLowerCase();S[Q]&&(ie=Q),P&&(S[Q]=P,ie=Q);var N=K.split("-");if(!ie&&N.length>1)return H(N[0])}else{var E=K.name;S[E]=K,ie=E}return!W&&ie&&(k=ie),ie||!W&&k},L=function(H,K){if(M(H))return H.clone();var P=typeof K=="object"?K:{};return P.date=H,P.args=arguments,new U(P)},z=I;z.l=D,z.i=M,z.w=function(H,K){return L(H,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var U=function(){function H(P){this.$L=D(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[B]=!0}var K=H.prototype;return K.parse=function(P){this.$d=function(W){var ie=W.date,Q=W.utc;if(ie===null)return new Date(NaN);if(z.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var N=ie.match(v);if(N){var E=N[2]-1||0,j=(N[7]||"0").substring(0,3);return Q?new Date(Date.UTC(N[1],E,N[3]||1,N[4]||0,N[5]||0,N[6]||0,j)):new Date(N[1],E,N[3]||1,N[4]||0,N[5]||0,N[6]||0,j)}}return new Date(ie)}(P),this.init()},K.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},K.$utils=function(){return z},K.isValid=function(){return this.$d.toString()!==g},K.isSame=function(P,W){var ie=L(P);return this.startOf(W)<=ie&&ie<=this.endOf(W)},K.isAfter=function(P,W){return L(P)<this.startOf(W)},K.isBefore=function(P,W){return this.endOf(W)<L(P)},K.$g=function(P,W,ie){return z.u(P)?this[W]:this.set(ie,P)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(P,W){var ie=this,Q=!!z.u(W)||W,N=z.p(P),E=function(me,de){var Te=z.w(ie.$u?Date.UTC(ie.$y,de,me):new Date(ie.$y,de,me),ie);return Q?Te:Te.endOf(d)},j=function(me,de){return z.w(ie.toDate()[me].apply(ie.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(de)),ie)},G=this.$W,X=this.$M,Z=this.$D,ce="set"+(this.$u?"UTC":"");switch(N){case p:return Q?E(1,0):E(31,11);case c:return Q?E(1,X):E(0,X+1);case f:var re=this.$locale().weekStart||0,pe=(G<re?G+7:G)-re;return E(Q?Z-pe:Z+(6-pe),X);case d:case m:return j(ce+"Hours",0);case l:return j(ce+"Minutes",1);case o:return j(ce+"Seconds",2);case a:return j(ce+"Milliseconds",3);default:return this.clone()}},K.endOf=function(P){return this.startOf(P,!1)},K.$set=function(P,W){var ie,Q=z.p(P),N="set"+(this.$u?"UTC":""),E=(ie={},ie[d]=N+"Date",ie[m]=N+"Date",ie[c]=N+"Month",ie[p]=N+"FullYear",ie[l]=N+"Hours",ie[o]=N+"Minutes",ie[a]=N+"Seconds",ie[s]=N+"Milliseconds",ie)[Q],j=Q===d?this.$D+(W-this.$W):W;if(Q===c||Q===p){var G=this.clone().set(m,1);G.$d[E](j),G.init(),this.$d=G.set(m,Math.min(this.$D,G.daysInMonth())).$d}else E&&this.$d[E](j);return this.init(),this},K.set=function(P,W){return this.clone().$set(P,W)},K.get=function(P){return this[z.p(P)]()},K.add=function(P,W){var ie,Q=this;P=Number(P);var N=z.p(W),E=function(X){var Z=L(Q);return z.w(Z.date(Z.date()+Math.round(X*P)),Q)};if(N===c)return this.set(c,this.$M+P);if(N===p)return this.set(p,this.$y+P);if(N===d)return E(1);if(N===f)return E(7);var j=(ie={},ie[o]=r,ie[l]=i,ie[a]=n,ie)[N]||1,G=this.$d.getTime()+P*j;return z.w(G,this)},K.subtract=function(P,W){return this.add(-1*P,W)},K.format=function(P){var W=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||g;var Q=P||"YYYY-MM-DDTHH:mm:ssZ",N=z.z(this),E=this.$H,j=this.$m,G=this.$M,X=ie.weekdays,Z=ie.months,ce=ie.meridiem,re=function(de,Te,Ae,Le){return de&&(de[Te]||de(W,Q))||Ae[Te].slice(0,Le)},pe=function(de){return z.s(E%12||12,de,"0")},me=ce||function(de,Te,Ae){var Le=de<12?"AM":"PM";return Ae?Le.toLowerCase():Le};return Q.replace(y,function(de,Te){return Te||function(Ae){switch(Ae){case"YY":return String(W.$y).slice(-2);case"YYYY":return z.s(W.$y,4,"0");case"M":return G+1;case"MM":return z.s(G+1,2,"0");case"MMM":return re(ie.monthsShort,G,Z,3);case"MMMM":return re(Z,G);case"D":return W.$D;case"DD":return z.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return re(ie.weekdaysMin,W.$W,X,2);case"ddd":return re(ie.weekdaysShort,W.$W,X,3);case"dddd":return X[W.$W];case"H":return String(E);case"HH":return z.s(E,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return me(E,j,!0);case"A":return me(E,j,!1);case"m":return String(j);case"mm":return z.s(j,2,"0");case"s":return String(W.$s);case"ss":return z.s(W.$s,2,"0");case"SSS":return z.s(W.$ms,3,"0");case"Z":return N}return null}(de)||N.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(P,W,ie){var Q,N=this,E=z.p(W),j=L(P),G=(j.utcOffset()-this.utcOffset())*r,X=this-j,Z=function(){return z.m(N,j)};switch(E){case p:Q=Z()/12;break;case c:Q=Z();break;case h:Q=Z()/3;break;case f:Q=(X-G)/6048e5;break;case d:Q=(X-G)/864e5;break;case l:Q=X/i;break;case o:Q=X/r;break;case a:Q=X/n;break;default:Q=X}return ie?Q:z.a(Q)},K.daysInMonth=function(){return this.endOf(c).$D},K.$locale=function(){return S[this.$L]},K.locale=function(P,W){if(!P)return this.$L;var ie=this.clone(),Q=D(P,W,!0);return Q&&(ie.$L=Q),ie},K.clone=function(){return z.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},H}(),F=U.prototype;return L.prototype=F,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",d],["$M",c],["$y",p],["$D",m]].forEach(function(H){F[H[1]]=function(K){return this.$g(K,H[0],H[1])}}),L.extend=function(H,K){return H.$i||(H(K,U,L),H.$i=!0),L},L.locale=D,L.isDayjs=M,L.unix=function(H){return L(1e3*H)},L.en=S[k],L.Ls=S,L.p={},L})})(ex);var sj=ex.exports;const Ln=or(sj);var T1={exports:{}},E1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function n(i){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},n(i)}function r(i){var s=typeof i=="string"||i instanceof String;if(!s){var a=n(i);throw i===null?a="null":a==="object"&&(a=i.constructor.name),new TypeError("Expected a string but received a ".concat(a))}}t.exports=e.default,t.exports.default=e.default})(E1,E1.exports);var A1=E1.exports,x1={exports:{}},C1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var s in i)typeof r[s]>"u"&&(r[s]=i[s]);return r}t.exports=e.default,t.exports.default=e.default})(C1,C1.exports);var tx=C1.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(A1),r=i(tx);function i(o){return o&&o.__esModule?o:{default:o}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(o,l){(0,n.default)(o),l=(0,r.default)(l,s),l.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),l.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var d=o.split("."),f=d[d.length-1];return l.require_tld&&(d.length<2||!l.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/\s/.test(f))||!l.allow_numeric_tld&&/^\d+$/.test(f)?!1:d.every(function(c){return!(c.length>63&&!l.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(c)||/[\uff01-\uff5e]/.test(c)||/^-|-$/.test(c)||!l.allow_underscores&&/_/.test(c))})}t.exports=e.default,t.exports.default=e.default})(x1,x1.exports);var aj=x1.exports,w1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=r(A1);function r(f){return f&&f.__esModule?f:{default:f}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(i,"[.]){3}").concat(i),a=new RegExp("^".concat(s,"$")),o="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(o,":){7}(?:").concat(o,"|:)|")+"(?:".concat(o,":){6}(?:").concat(s,"|:").concat(o,"|:)|")+"(?:".concat(o,":){5}(?::").concat(s,"|(:").concat(o,"){1,2}|:)|")+"(?:".concat(o,":){4}(?:(:").concat(o,"){0,1}:").concat(s,"|(:").concat(o,"){1,3}|:)|")+"(?:".concat(o,":){3}(?:(:").concat(o,"){0,2}:").concat(s,"|(:").concat(o,"){1,4}|:)|")+"(?:".concat(o,":){2}(?:(:").concat(o,"){0,3}:").concat(s,"|(:").concat(o,"){1,5}|:)|")+"(?:".concat(o,":){1}(?:(:").concat(o,"){0,4}:").concat(s,"|(:").concat(o,"){1,6}|:)|")+"(?::((?::".concat(o,"){0,5}:").concat(s,"|(?::").concat(o,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function d(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,n.default)(f),c=String(c),c?c==="4"?a.test(f):c==="6"?l.test(f):!1:d(f,4)||d(f,6)}t.exports=e.default,t.exports.default=e.default})(w1,w1.exports);var oj=w1.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=a(A1),r=a(aj),i=a(oj),s=a(tx);function a(x){return x&&x.__esModule?x:{default:x}}function o(x,w){return h(x)||c(x,w)||d(x,w)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(x,w){if(x){if(typeof x=="string")return f(x,w);var I=Object.prototype.toString.call(x).slice(8,-1);if(I==="Object"&&x.constructor&&(I=x.constructor.name),I==="Map"||I==="Set")return Array.from(x);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return f(x,w)}}function f(x,w){(w==null||w>x.length)&&(w=x.length);for(var I=0,k=new Array(w);I<w;I++)k[I]=x[I];return k}function c(x,w){var I=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(I!=null){var k,S,B,M,D=[],L=!0,z=!1;try{if(B=(I=I.call(x)).next,w!==0)for(;!(L=(k=B.call(I)).done)&&(D.push(k.value),D.length!==w);L=!0);}catch(U){z=!0,S=U}finally{try{if(!L&&I.return!=null&&(M=I.return(),Object(M)!==M))return}finally{if(z)throw S}}return D}}function h(x){if(Array.isArray(x))return x}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},m=/^\[([^\]]+)\](?::([0-9]+))?$/;function g(x){return Object.prototype.toString.call(x)==="[object RegExp]"}function v(x,w){for(var I=0;I<w.length;I++){var k=w[I];if(x===k||g(k)&&k.test(x))return!0}return!1}function y(x,w){if((0,n.default)(x),!x||/[\s<>]/.test(x)||x.indexOf("mailto:")===0||(w=(0,s.default)(w,p),w.validate_length&&x.length>=2083)||!w.allow_fragments&&x.includes("#")||!w.allow_query_components&&(x.includes("?")||x.includes("&")))return!1;var I,k,S,B,M,D,L,z;if(L=x.split("#"),x=L.shift(),L=x.split("?"),x=L.shift(),L=x.split("://"),L.length>1){if(I=L.shift().toLowerCase(),w.require_valid_protocol&&w.protocols.indexOf(I)===-1)return!1}else{if(w.require_protocol)return!1;if(x.slice(0,2)==="//"){if(!w.allow_protocol_relative_urls)return!1;L[0]=x.slice(2)}}if(x=L.join("://"),x==="")return!1;if(L=x.split("/"),x=L.shift(),x===""&&!w.require_host)return!0;if(L=x.split("@"),L.length>1){if(w.disallow_auth||L[0]===""||(k=L.shift(),k.indexOf(":")>=0&&k.split(":").length>2))return!1;var U=k.split(":"),F=o(U,2),H=F[0],K=F[1];if(H===""&&K==="")return!1}B=L.join("@"),D=null,z=null;var P=B.match(m);if(P?(S="",z=P[1],D=P[2]||null):(L=B.split(":"),S=L.shift(),L.length&&(D=L.join(":"))),D!==null&&D.length>0){if(M=parseInt(D,10),!/^[0-9]+$/.test(D)||M<=0||M>65535)return!1}else if(w.require_port)return!1;return w.host_whitelist?v(S,w.host_whitelist):S===""&&!w.require_host?!0:!(!(0,i.default)(S)&&!(0,r.default)(S,w)&&(!z||!(0,i.default)(z,6))||(S=S||z,w.host_blacklist&&v(S,w.host_blacklist)))}t.exports=e.default,t.exports.default=e.default})(T1,T1.exports);var lj=T1.exports;const uj=or(lj),Cs=Object.create(null);Cs.open="0",Cs.close="1",Cs.ping="2",Cs.pong="3",Cs.message="4",Cs.upgrade="5",Cs.noop="6";const Kh=Object.create(null);Object.keys(Cs).forEach(t=>{Kh[Cs[t]]=t});const S1={type:"error",data:"parser error"},nx=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",rx=typeof ArrayBuffer=="function",ix=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,k1=({type:t,data:e},n,r)=>nx&&e instanceof Blob?n?r(e):sx(e,r):rx&&(e instanceof ArrayBuffer||ix(e))?n?r(e):sx(new Blob([e]),r):r(Cs[t]+(e||"")),sx=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function ax(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let I1;function cj(t,e){if(nx&&t.data instanceof Blob)return t.data.arrayBuffer().then(ax).then(e);if(rx&&(t.data instanceof ArrayBuffer||ix(t.data)))return e(ax(t.data));k1(t,!1,n=>{I1||(I1=new TextEncoder),e(I1.encode(n))})}const ox="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ud=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ox.length;t++)ud[ox.charCodeAt(t)]=t;const dj=t=>{let e=t.length*.75,n=t.length,r,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(r=0;r<n;r+=4)s=ud[t.charCodeAt(r)],a=ud[t.charCodeAt(r+1)],o=ud[t.charCodeAt(r+2)],l=ud[t.charCodeAt(r+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|o>>2,f[i++]=(o&3)<<6|l&63;return d},fj=typeof ArrayBuffer=="function",D1=(t,e)=>{if(typeof t!="string")return{type:"message",data:lx(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:hj(t.substring(1),e)}:Kh[n]?t.length>1?{type:Kh[n],data:t.substring(1)}:{type:Kh[n]}:S1},hj=(t,e)=>{if(fj){const n=dj(t);return lx(n,e)}else return{base64:!0,data:t}},lx=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},ux="",pj=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,a)=>{k1(s,!1,o=>{r[a]=o,++i===n&&e(r.join(ux))})})},mj=(t,e)=>{const n=t.split(ux),r=[];for(let i=0;i<n.length;i++){const s=D1(n[i],e);if(r.push(s),s.type==="error")break}return r};function gj(){return new TransformStream({transform(t,e){cj(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let N1;function Xh(t){return t.reduce((e,n)=>e+n.length,0)}function Zh(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function bj(t,e){N1||(N1=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(r===0){if(Xh(n)<1)break;const l=Zh(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Xh(n)<2)break;const l=Zh(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Xh(n)<8)break;const l=Zh(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){o.enqueue(S1);break}i=f*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Xh(n)<i)break;const l=Zh(n,i);o.enqueue(D1(s?l:N1.decode(l),e)),r=0}if(i===0||i>t){o.enqueue(S1);break}}}})}const cx=4;function Wn(t){if(t)return vj(t)}function vj(t){for(var e in Wn.prototype)t[e]=Wn.prototype[e];return t}Wn.prototype.on=Wn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Wn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Wn.prototype.off=Wn.prototype.removeListener=Wn.prototype.removeAllListeners=Wn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this},Wn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this},Wn.prototype.emitReserved=Wn.prototype.emit,Wn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Wn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Si=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function dx(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const yj=Si.setTimeout,_j=Si.clearTimeout;function Jh(t,e){e.useNativeTimers?(t.setTimeoutFn=yj.bind(Si),t.clearTimeoutFn=_j.bind(Si)):(t.setTimeoutFn=Si.setTimeout.bind(Si),t.clearTimeoutFn=Si.clearTimeout.bind(Si))}const Tj=1.33;function Ej(t){return typeof t=="string"?Aj(t):Math.ceil((t.byteLength||t.size)*Tj)}function Aj(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function xj(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Cj(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class wj extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class M1 extends Wn{constructor(e){super(),this.writable=!1,Jh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new wj(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=D1(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=xj(e);return n.length?"?"+n:""}}const fx="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),O1=64,Sj={};let hx=0,qh=0,px;function mx(t){let e="";do e=fx[t%O1]+e,t=Math.floor(t/O1);while(t>0);return e}function gx(){const t=mx(+new Date);return t!==px?(hx=0,px=t):t+"."+mx(hx++)}for(;qh<O1;qh++)Sj[fx[qh]]=qh;let bx=!1;try{bx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const kj=bx;function vx(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||kj))return new XMLHttpRequest}catch{}if(!e)try{return new Si[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ETe(){}function Ij(){}const Dj=function(){return new vx({xdomain:!1}).responseType!=null}();class Nj extends M1{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const n=e&&e.forceBase64;this.supportsBinary=Dj&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};mj(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,pj(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=gx()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Xl(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Xl=class fg extends Wn{constructor(e,n){super(),Jh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=dx(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new vx(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=fg.requestsCount++,fg.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Ij,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete fg.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(Xl.requestsCount=0,Xl.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",yx);else if(typeof addEventListener=="function"){const t="onpagehide"in Si?"pagehide":"unload";addEventListener(t,yx,!1)}}function yx(){for(let t in Xl.requests)Xl.requests.hasOwnProperty(t)&&Xl.requests[t].abort()}const L1=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),$h=Si.WebSocket||Si.MozWebSocket,_x=!0,Mj="arraybuffer",Tx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Oj extends M1{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=Tx?{}:dx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=_x&&!Tx?n?new $h(e,n):new $h(e):new $h(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;k1(r,this.supportsBinary,s=>{const a={};try{_x&&this.ws.send(s)}catch{}i&&L1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=gx()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!$h}}class Lj extends M1{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=bj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=gj();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const s=()=>{r.read().then(({done:o,value:l})=>{o||(this.onPacket(l),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this.writer.write(r).then(()=>{i&&L1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Rj={websocket:Oj,webtransport:Lj,polling:Nj},Bj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function R1(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Bj.exec(t||""),s={},a=14;for(;a--;)s[Pj[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Fj(s,s.path),s.queryKey=Uj(s,s.query),s}function Fj(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Uj(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let Ex=class Nc extends Wn{constructor(e,n={}){super(),this.binaryType=Mj,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=R1(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=R1(n.host).host),Jh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Cj(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=cx,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Rj[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Nc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;Nc.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",c=>{if(!r)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Nc.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function s(){r||(r=!0,f(),n.close(),n=null)}const a=c=>{const h=new Error("probe error: "+c);h.transport=n.name,s(),this.emitReserved("upgradeError",h)};function o(){a("transport closed")}function l(){a("socket closed")}function d(c){n&&c.name!==n.name&&s()}const f=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",o),this.off("close",l),this.off("upgrading",d)};n.once("open",i),n.once("error",a),n.once("close",o),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Nc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Ej(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Nc.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};Ex.protocol=cx;function jj(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=R1(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Hj=typeof ArrayBuffer=="function",zj=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ax=Object.prototype.toString,Vj=typeof Blob=="function"||typeof Blob<"u"&&Ax.call(Blob)==="[object BlobConstructor]",Wj=typeof File=="function"||typeof File<"u"&&Ax.call(File)==="[object FileConstructor]";function B1(t){return Hj&&(t instanceof ArrayBuffer||zj(t))||Vj&&t instanceof Blob||Wj&&t instanceof File}function ep(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(ep(t[n]))return!0;return!1}if(B1(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ep(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ep(t[n]))return!0;return!1}function Gj(t){const e=[],n=t.data,r=t;return r.data=P1(n,e),r.attachments=e.length,{packet:r,buffers:e}}function P1(t,e){if(!t)return t;if(B1(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=P1(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=P1(t[r],e));return n}return t}function Yj(t,e){return t.data=F1(t.data,e),delete t.attachments,t}function F1(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=F1(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=F1(t[n],e));return t}const Qj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Kj=5;var Bt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Bt||(Bt={}));class Xj{constructor(e){this.replacer=e}encode(e){return(e.type===Bt.EVENT||e.type===Bt.ACK)&&ep(e)?this.encodeAsBinary({type:e.type===Bt.EVENT?Bt.BINARY_EVENT:Bt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Bt.BINARY_EVENT||e.type===Bt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Gj(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function xx(t){return Object.prototype.toString.call(t)==="[object Object]"}class U1 extends Wn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Bt.BINARY_EVENT;r||n.type===Bt.BINARY_ACK?(n.type=r?Bt.EVENT:Bt.ACK,this.reconstructor=new Zj(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(B1(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Bt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Bt.BINARY_EVENT||r.type===Bt.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(s,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(U1.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Bt.CONNECT:return xx(n);case Bt.DISCONNECT:return n===void 0;case Bt.CONNECT_ERROR:return typeof n=="string"||xx(n);case Bt.EVENT:case Bt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Qj.indexOf(n[0])===-1);case Bt.ACK:case Bt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zj{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Yj(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Jj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:U1,Encoder:Xj,get PacketType(){return Bt},protocol:Kj},Symbol.toStringTag,{value:"Module"}));function es(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const qj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cx extends Wn{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[es(e,"open",this.onopen.bind(this)),es(e,"packet",this.onpacket.bind(this)),es(e,"error",this.onerror.bind(this)),es(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(qj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Bt.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,o=n.pop();this._registerAckCallback(a,o),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i),a=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(a,o)=>a?i(a):r(o);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Bt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Bt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Bt.EVENT:case Bt.BINARY_EVENT:this.onevent(e);break;case Bt.ACK:case Bt.BINARY_ACK:this.onack(e);break;case Bt.DISCONNECT:this.ondisconnect();break;case Bt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Bt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Bt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Zl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Zl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0},Zl.prototype.reset=function(){this.attempts=0},Zl.prototype.setMin=function(t){this.ms=t},Zl.prototype.setMax=function(t){this.max=t},Zl.prototype.setJitter=function(t){this.jitter=t};class j1 extends Wn{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Jh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Zl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Jj;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ex(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=es(n,"open",function(){r.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=es(n,"error",s);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(es(e,"ping",this.onping.bind(this)),es(e,"data",this.ondata.bind(this)),es(e,"error",this.onerror.bind(this)),es(e,"close",this.onclose.bind(this)),es(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){L1(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Cx(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const cd={};function dd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=jj(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=cd[i]&&s in cd[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return o?l=new j1(r,e):(cd[i]||(cd[i]=new j1(r,e)),l=cd[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(dd,{Manager:j1,Socket:Cx,io:dd,connect:dd});function wx(t,e){return function(){return t.apply(e,arguments)}}const{toString:$j}=Object.prototype,{getPrototypeOf:H1}=Object,tp=(t=>e=>{const n=$j.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ts=t=>(t=t.toLowerCase(),e=>tp(e)===t),np=t=>e=>typeof e===t,{isArray:Jl}=Array,fd=np("undefined");function eH(t){return t!==null&&!fd(t)&&t.constructor!==null&&!fd(t.constructor)&&fi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Sx=ts("ArrayBuffer");function tH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Sx(t.buffer),e}const nH=np("string"),fi=np("function"),kx=np("number"),rp=t=>t!==null&&typeof t=="object",rH=t=>t===!0||t===!1,ip=t=>{if(tp(t)!=="object")return!1;const e=H1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iH=ts("Date"),sH=ts("File"),aH=ts("Blob"),oH=ts("FileList"),lH=t=>rp(t)&&fi(t.pipe),uH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fi(t.append)&&((e=tp(t))==="formdata"||e==="object"&&fi(t.toString)&&t.toString()==="[object FormData]"))},cH=ts("URLSearchParams"),[dH,fH,hH,pH]=["ReadableStream","Request","Response","Headers"].map(ts),mH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Jl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function Ix(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const No=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dx=t=>!fd(t)&&t!==No;function z1(){const{caseless:t}=Dx(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ix(e,i)||i;ip(e[s])&&ip(r)?e[s]=z1(e[s],r):ip(r)?e[s]=z1({},r):Jl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hd(arguments[r],n);return e}const gH=(t,e,n,{allOwnKeys:r}={})=>(hd(e,(i,s)=>{n&&fi(i)?t[s]=wx(i,n):t[s]=i},{allOwnKeys:r}),t),bH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},yH=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&H1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},_H=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},TH=t=>{if(!t)return null;if(Jl(t))return t;let e=t.length;if(!kx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&H1(Uint8Array)),AH=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},xH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},CH=ts("HTMLFormElement"),wH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Nx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),SH=ts("RegExp"),Mx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hd(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},kH=t=>{Mx(t,(e,n)=>{if(fi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IH=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Jl(t)?r(t):r(String(t).split(e)),n},DH=()=>{},NH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,V1="abcdefghijklmnopqrstuvwxyz",Ox="0123456789",Lx={DIGIT:Ox,ALPHA:V1,ALPHA_DIGIT:V1+V1.toUpperCase()+Ox},MH=(t=16,e=Lx.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function OH(t){return!!(t&&fi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const LH=t=>{const e=new Array(10),n=(r,i)=>{if(rp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Jl(r)?[]:{};return hd(r,(a,o)=>{const l=n(a,i+1);!fd(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},RH=ts("AsyncFunction"),BH=t=>t&&(rp(t)||fi(t))&&fi(t.then)&&fi(t.catch),Rx=((t,e)=>t?setImmediate:e?((n,r)=>(No.addEventListener("message",({source:i,data:s})=>{i===No&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),No.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fi(No.postMessage)),PH=typeof queueMicrotask<"u"?queueMicrotask.bind(No):typeof process<"u"&&process.nextTick||Rx,De={isArray:Jl,isArrayBuffer:Sx,isBuffer:eH,isFormData:uH,isArrayBufferView:tH,isString:nH,isNumber:kx,isBoolean:rH,isObject:rp,isPlainObject:ip,isReadableStream:dH,isRequest:fH,isResponse:hH,isHeaders:pH,isUndefined:fd,isDate:iH,isFile:sH,isBlob:aH,isRegExp:SH,isFunction:fi,isStream:lH,isURLSearchParams:cH,isTypedArray:EH,isFileList:oH,forEach:hd,merge:z1,extend:gH,trim:mH,stripBOM:bH,inherits:vH,toFlatObject:yH,kindOf:tp,kindOfTest:ts,endsWith:_H,toArray:TH,forEachEntry:AH,matchAll:xH,isHTMLForm:CH,hasOwnProperty:Nx,hasOwnProp:Nx,reduceDescriptors:Mx,freezeMethods:kH,toObjectSet:IH,toCamelCase:wH,noop:DH,toFiniteNumber:NH,findKey:Ix,global:No,isContextDefined:Dx,ALPHABET:Lx,generateString:MH,isSpecCompliantForm:OH,toJSONObject:LH,isAsyncFn:RH,isThenable:BH,setImmediate:Rx,asap:PH};function kt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}De.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Bx=kt.prototype,Px={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Px[t]={value:t}}),Object.defineProperties(kt,Px),Object.defineProperty(Bx,"isAxiosError",{value:!0}),kt.from=(t,e,n,r,i,s)=>{const a=Object.create(Bx);return De.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),kt.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const FH=null;function W1(t){return De.isPlainObject(t)||De.isArray(t)}function Fx(t){return De.endsWith(t,"[]")?t.slice(0,-2):t}function Ux(t,e,n){return t?t.concat(e).map(function(i,s){return i=Fx(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function UH(t){return De.isArray(t)&&!t.some(W1)}const jH=De.toFlatObject(De,{},null,function(e){return/^is[A-Z]/.test(e)});function sp(t,e,n){if(!De.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=De.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!De.isUndefined(v[g])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(e);if(!De.isFunction(i))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(De.isDate(m))return m.toISOString();if(!l&&De.isBlob(m))throw new kt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(m)||De.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,g,v){let y=m;if(m&&!v&&typeof m=="object"){if(De.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(De.isArray(m)&&UH(m)||(De.isFileList(m)||De.endsWith(g,"[]"))&&(y=De.toArray(m)))return g=Fx(g),y.forEach(function(w,I){!(De.isUndefined(w)||w===null)&&e.append(a===!0?Ux([g],I,s):a===null?g:g+"[]",d(w))}),!1}return W1(m)?!0:(e.append(Ux(v,g,s),d(m)),!1)}const c=[],h=Object.assign(jH,{defaultVisitor:f,convertValue:d,isVisitable:W1});function p(m,g){if(!De.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));c.push(m),De.forEach(m,function(y,x){(!(De.isUndefined(y)||y===null)&&i.call(e,y,De.isString(x)?x.trim():x,g,h))===!0&&p(y,g?g.concat(x):[x])}),c.pop()}}if(!De.isObject(t))throw new TypeError("data must be an object");return p(t),e}function jx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function G1(t,e){this._pairs=[],t&&sp(t,this,e)}const Hx=G1.prototype;Hx.append=function(e,n){this._pairs.push([e,n])},Hx.toString=function(e){const n=e?function(r){return e.call(this,r,jx)}:jx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function HH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zx(t,e,n){if(!e)return t;const r=n&&n.encode||HH,i=n&&n.serialize;let s;if(i?s=i(e,n):s=De.isURLSearchParams(e)?e.toString():new G1(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Vx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){De.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Wx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zH={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:G1,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Y1=typeof window<"u"&&typeof document<"u",VH=(t=>Y1&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),WH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GH=Y1&&window.location.href||"http://localhost",ns={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Y1,hasStandardBrowserEnv:VH,hasStandardBrowserWebWorkerEnv:WH,origin:GH},Symbol.toStringTag,{value:"Module"})),...zH};function YH(t,e){return sp(t,new ns.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ns.isNode&&De.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function QH(t){return De.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KH(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Gx(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&De.isArray(i)?i.length:a,l?(De.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!De.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&De.isArray(i[a])&&(i[a]=KH(i[a])),!o)}if(De.isFormData(t)&&De.isFunction(t.entries)){const n={};return De.forEachEntry(t,(r,i)=>{e(QH(r),i,n,0)}),n}return null}function XH(t,e,n){if(De.isString(t))try{return(e||JSON.parse)(t),De.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const pd={transitional:Wx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=De.isObject(e);if(s&&De.isHTMLForm(e)&&(e=new FormData(e)),De.isFormData(e))return i?JSON.stringify(Gx(e)):e;if(De.isArrayBuffer(e)||De.isBuffer(e)||De.isStream(e)||De.isFile(e)||De.isBlob(e)||De.isReadableStream(e))return e;if(De.isArrayBufferView(e))return e.buffer;if(De.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return YH(e,this.formSerializer).toString();if((o=De.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),XH(e)):e}],transformResponse:[function(e){const n=this.transitional||pd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(De.isResponse(e)||De.isReadableStream(e))return e;if(e&&De.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?kt.from(o,kt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ns.classes.FormData,Blob:ns.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],t=>{pd.headers[t]={}});const ZH=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JH=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&ZH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Yx=Symbol("internals");function md(t){return t&&String(t).trim().toLowerCase()}function ap(t){return t===!1||t==null?t:De.isArray(t)?t.map(ap):String(t)}function qH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const $H=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Q1(t,e,n,r,i){if(De.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!De.isString(e)){if(De.isString(r))return e.indexOf(r)!==-1;if(De.isRegExp(r))return r.test(e)}}function ez(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function tz(t,e){const n=De.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Kr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,d){const f=md(l);if(!f)throw new Error("header name must be a non-empty string");const c=De.findKey(i,f);(!c||i[c]===void 0||d===!0||d===void 0&&i[c]!==!1)&&(i[c||l]=ap(o))}const a=(o,l)=>De.forEach(o,(d,f)=>s(d,f,l));if(De.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(De.isString(e)&&(e=e.trim())&&!$H(e))a(JH(e),n);else if(De.isHeaders(e))for(const[o,l]of e.entries())s(l,o,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=md(e),e){const r=De.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return qH(i);if(De.isFunction(n))return n.call(this,i,r);if(De.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=md(e),e){const r=De.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Q1(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=md(a),a){const o=De.findKey(r,a);o&&(!n||Q1(r,r[o],o,n))&&(delete r[o],i=!0)}}return De.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Q1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return De.forEach(this,(i,s)=>{const a=De.findKey(r,s);if(a){n[a]=ap(i),delete n[s];return}const o=e?ez(s):String(s).trim();o!==s&&delete n[s],n[o]=ap(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return De.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&De.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Yx]=this[Yx]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=md(a);r[o]||(tz(i,a),r[o]=!0)}return De.isArray(e)?e.forEach(s):s(e),this}};Kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),De.reduceDescriptors(Kr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}}),De.freezeMethods(Kr);function K1(t,e){const n=this||pd,r=e||n,i=Kr.from(r.headers);let s=r.data;return De.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Qx(t){return!!(t&&t.__CANCEL__)}function ql(t,e,n){kt.call(this,t??"canceled",kt.ERR_CANCELED,e,n),this.name="CanceledError"}De.inherits(ql,kt,{__CANCEL__:!0});function Kx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=r[s];a||(a=d),n[i]=l,r[i]=d;let c=s,h=0;for(;c!==i;)h+=n[c++],c=c%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const p=f&&d-f;return p?Math.round(h*1e3/p):void 0}}function iz(t,e){let n=0,r=1e3/e,i,s;const a=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),c=f-n;c>=r?a(d,f):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},r-c)))},()=>i&&a(i)]}const op=(t,e,n=3)=>{let r=0;const i=rz(50,250);return iz(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,d=i(l),f=a<=o;r=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:d||void 0,estimated:d&&o&&f?(o-a)/d:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(c)},n)},Xx=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Zx=t=>(...e)=>De.asap(()=>t(...e)),sz=ns.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const o=De.isString(a)?i(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),az=ns.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];De.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),De.isString(r)&&a.push("path="+r),De.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Jx(t,e){return t&&!oz(e)?lz(t,e):e}const qx=t=>t instanceof Kr?{...t}:t;function Mo(t,e){e=e||{};const n={};function r(d,f,c){return De.isPlainObject(d)&&De.isPlainObject(f)?De.merge.call({caseless:c},d,f):De.isPlainObject(f)?De.merge({},f):De.isArray(f)?f.slice():f}function i(d,f,c){if(De.isUndefined(f)){if(!De.isUndefined(d))return r(void 0,d,c)}else return r(d,f,c)}function s(d,f){if(!De.isUndefined(f))return r(void 0,f)}function a(d,f){if(De.isUndefined(f)){if(!De.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function o(d,f,c){if(c in e)return r(d,f);if(c in t)return r(void 0,d)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(d,f)=>i(qx(d),qx(f),!0)};return De.forEach(Object.keys(Object.assign({},t,e)),function(f){const c=l[f]||i,h=c(t[f],e[f],f);De.isUndefined(h)&&c!==o||(n[f]=h)}),n}const $x=t=>{const e=Mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Kr.from(a),e.url=zx(Jx(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(De.isFormData(n)){if(ns.hasStandardBrowserEnv||ns.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[d,...f]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(ns.hasStandardBrowserEnv&&(r&&De.isFunction(r)&&(r=r(e)),r||r!==!1&&sz(e.url))){const d=i&&s&&az.read(s);d&&a.set(i,d)}return e},uz=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(n,r){const i=$x(t);let s=i.data;const a=Kr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:d}=i,f,c,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const w=Kr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:t,request:v};Kx(function(B){n(B),g()},function(B){r(B),g()},k),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(r(new kt("Request aborted",kt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||Wx;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new kt(I,k.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&De.forEach(a.toJSON(),function(I,k){v.setRequestHeader(k,I)}),De.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),d&&([h,m]=op(d,!0),v.addEventListener("progress",h)),l&&v.upload&&([c,p]=op(l),v.upload.addEventListener("progress",c),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(f=w=>{v&&(r(!w||w.type?new ql(null,t,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const x=nz(i.url);if(x&&ns.protocols.indexOf(x)===-1){r(new kt("Unsupported protocol "+x+":",kt.ERR_BAD_REQUEST,t));return}v.send(s||null)})},cz=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,a();const d=l instanceof Error?l:this.reason;n.abort(d instanceof kt?d:new ql(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{i(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:o}=n;return o.unsubscribe=a,[o,()=>{s&&clearTimeout(s),s=null}]},dz=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},fz=async function*(t,e,n){for await(const r of t)yield*dz(ArrayBuffer.isView(r)?r:await n(String(r)),e)},e3=(t,e,n,r,i)=>{const s=fz(t,e,i);let a=0,o,l=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:c}=await s.next();if(f){l(),d.close();return}let h=c.byteLength;if(n){let p=a+=h;n(p)}d.enqueue(new Uint8Array(c))}catch(f){throw l(f),f}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},lp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",t3=lp&&typeof ReadableStream=="function",X1=lp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),n3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hz=t3&&n3(()=>{let t=!1;const e=new Request(ns.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),r3=64*1024,Z1=t3&&n3(()=>De.isReadableStream(new Response("").body)),up={stream:Z1&&(t=>t.body)};lp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!up[e]&&(up[e]=De.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,r)})})})(new Response);const pz=async t=>{if(t==null)return 0;if(De.isBlob(t))return t.size;if(De.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(De.isArrayBufferView(t)||De.isArrayBuffer(t))return t.byteLength;if(De.isURLSearchParams(t)&&(t=t+""),De.isString(t))return(await X1(t)).byteLength},mz=async(t,e)=>{const n=De.toFiniteNumber(t.getContentLength());return n??pz(e)},J1={http:FH,xhr:uz,fetch:lp&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:d,headers:f,withCredentials:c="same-origin",fetchOptions:h}=$x(t);d=d?(d+"").toLowerCase():"text";let[p,m]=i||s||a?cz([i,s],a):[],g,v;const y=()=>{!g&&setTimeout(()=>{p&&p.unsubscribe()}),g=!0};let x;try{if(l&&hz&&n!=="get"&&n!=="head"&&(x=await mz(f,r))!==0){let S=new Request(e,{method:"POST",body:r,duplex:"half"}),B;if(De.isFormData(r)&&(B=S.headers.get("content-type"))&&f.setContentType(B),S.body){const[M,D]=Xx(x,op(Zx(l)));r=e3(S.body,r3,M,D,X1)}}De.isString(c)||(c=c?"include":"omit"),v=new Request(e,{...h,signal:p,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:c});let w=await fetch(v);const I=Z1&&(d==="stream"||d==="response");if(Z1&&(o||I)){const S={};["status","statusText","headers"].forEach(L=>{S[L]=w[L]});const B=De.toFiniteNumber(w.headers.get("content-length")),[M,D]=o&&Xx(B,op(Zx(o),!0))||[];w=new Response(e3(w.body,r3,M,()=>{D&&D(),I&&y()},X1),S)}d=d||"text";let k=await up[De.findKey(up,d)||"text"](w,t);return!I&&y(),m&&m(),await new Promise((S,B)=>{Kx(S,B,{data:k,headers:Kr.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:v})})}catch(w){throw y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,t,v),{cause:w.cause||w}):kt.from(w,w&&w.code,t,v)}})};De.forEach(J1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const i3=t=>`- ${t}`,gz=t=>De.isFunction(t)||t===null||t===!1,s3={getAdapter:t=>{t=De.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!gz(n)&&(r=J1[(a=String(n)).toLowerCase()],r===void 0))throw new kt(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(i3).join(`
`):" "+i3(s[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:J1};function q1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ql(null,t)}function a3(t){return q1(t),t.headers=Kr.from(t.headers),t.data=K1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),s3.getAdapter(t.adapter||pd.adapter)(t).then(function(r){return q1(t),r.data=K1.call(t,t.transformResponse,r),r.headers=Kr.from(r.headers),r},function(r){return Qx(r)||(q1(t),r&&r.response&&(r.response.data=K1.call(t,t.transformResponse,r.response),r.response.headers=Kr.from(r.response.headers))),Promise.reject(r)})}const o3="1.7.4",$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const l3={};$1.transitional=function(e,n,r){function i(s,a){return"[Axios v"+o3+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new kt(i(a," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!l3[a]&&(l3[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};function bz(t,e,n){if(typeof t!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new kt("option "+s+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const eb={assertOptions:bz,validators:$1},Ra=eb.validators;let Oo=class{constructor(e){this.defaults=e,this.interceptors={request:new Vx,response:new Vx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&eb.assertOptions(r,{silentJSONParsing:Ra.transitional(Ra.boolean),forcedJSONParsing:Ra.transitional(Ra.boolean),clarifyTimeoutError:Ra.transitional(Ra.boolean)},!1),i!=null&&(De.isFunction(i)?n.paramsSerializer={serialize:i}:eb.assertOptions(i,{encode:Ra.function,serialize:Ra.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&De.merge(s.common,s[n.method]);s&&De.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Kr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,c=0,h;if(!l){const m=[a3.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,d),h=m.length,f=Promise.resolve(n);c<h;)f=f.then(m[c++],m[c++]);return f}h=o.length;let p=n;for(c=0;c<h;){const m=o[c++],g=o[c++];try{p=m(p)}catch(v){g.call(this,v);break}}try{f=a3.call(this,p)}catch(m){return Promise.reject(m)}for(c=0,h=d.length;c<h;)f=f.then(d[c++],d[c++]);return f}getUri(e){e=Mo(this.defaults,e);const n=Jx(e.baseURL,e.url);return zx(n,e.params,e.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(e){Oo.prototype[e]=function(n,r){return this.request(Mo(r||{},{method:e,url:n,data:(r||{}).data}))}}),De.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(Mo(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Oo.prototype[e]=n(),Oo.prototype[e+"Form"]=n(!0)});let vz=class kO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new ql(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new kO(function(i){e=i}),cancel:e}}};function yz(t){return function(n){return t.apply(null,n)}}function _z(t){return De.isObject(t)&&t.isAxiosError===!0}const tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tb).forEach(([t,e])=>{tb[e]=t});function u3(t){const e=new Oo(t),n=wx(Oo.prototype.request,e);return De.extend(n,Oo.prototype,e,{allOwnKeys:!0}),De.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return u3(Mo(t,i))},n}const fn=u3(pd);fn.Axios=Oo,fn.CanceledError=ql,fn.CancelToken=vz,fn.isCancel=Qx,fn.VERSION=o3,fn.toFormData=sp,fn.AxiosError=kt,fn.Cancel=fn.CanceledError,fn.all=function(e){return Promise.all(e)},fn.spread=yz,fn.isAxiosError=_z,fn.mergeConfig=Mo,fn.AxiosHeaders=Kr,fn.formToJSON=t=>Gx(De.isHTMLForm(t)?new FormData(t):t),fn.getAdapter=s3.getAdapter,fn.HttpStatusCode=tb,fn.default=fn;const{Axios:ITe,AxiosError:DTe,CanceledError:NTe,isCancel:MTe,CancelToken:OTe,VERSION:LTe,all:RTe,Cancel:BTe,isAxiosError:PTe,spread:FTe,toFormData:UTe,AxiosHeaders:c3,HttpStatusCode:jTe,formToJSON:HTe,getAdapter:zTe,mergeConfig:VTe}=fn;var d3={},f3={},nb={},gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.createTimeAwareMapObserver=void 0;var Tz=function(t){var e=new Map;return{create:function(n,r){var i=setTimeout(function(){r(n)},t);e.set(n,i)},cancel:function(n){if(e.has(n)){var r=e.get(n);e.delete(n),clearTimeout(r)}}}};gd.createTimeAwareMapObserver=Tz,Object.defineProperty(nb,"__esModule",{value:!0});var Ez=gd;function Az(t){var e=new Map,n=(0,Ez.createTimeAwareMapObserver)(t.timeToClear);function r(d){var f=e.get(d);return f||null}function i(d){return e.delete(d),n.cancel(d),!0}function s(){return e.size}function a(d){return e.has(d)}function o(){return Array.from(e.keys())}function l(d,f){return e.set(d,f),n.create(d,i),!0}return{keys:o,size:s,has:a,get:r,set:l,remove:i}}nb.default=Az;var rb={},cp={};Object.defineProperty(cp,"__esModule",{value:!0}),cp.LRULinkedList=void 0;var h3=function(){function t(e,n){this.next=null,this.data=n,this.id=e,this.prev=null}return t}(),xz=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var n=this.remove(e.id);if(n){var r=this.addNodeToHead(n.id,n.data);return r}return null},t.prototype.addNodeToHead=function(e,n){if(this.positions.has(e)){var r=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=n,r}if(this.HEAD){var i=this.HEAD,s=new h3(e,n);return s.next=i,s.prev=null,i.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new h3(e,n);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var n=this.positions.get(e);if(!n)return null;var r=n.prev,i=n.next;return r&&i?(r.next=i,i.prev=r,this.positions.delete(e),this.size--,n):r&&!i?(r.next=null,this.TAIL=r,this.positions.delete(e),this.size--,n):!r&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,n):!r&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,n):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,n=this.TAIL,r=1;r<=e;r++)this.positions.delete(n.id),this.size--,n=n.prev;n.next=null,this.TAIL=n},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var n=this.positions.get(e);if(n){var r=this.moveToHead(n);return r?r.data:null}return null},t}();cp.LRULinkedList=xz,Object.defineProperty(rb,"__esModule",{value:!0});var Cz=cp;function wz(t){var e=new Cz.LRULinkedList(t);function n(l){var d=e.get(l);return d||null}function r(l){return e.remove(l),!0}function i(l){return e.has(l)}function s(){return e.size}function a(){return e.keys()}function o(l,d){return e.addNodeToHead(l,d),!0}return{keys:a,size:s,get:n,set:o,remove:r,has:i}}rb.default=wz;var ib={},dp={};Object.defineProperty(dp,"__esModule",{value:!0}),dp.MRULinkedList=void 0;var fp=function(){function t(e,n){this.next=null,this.data=n,this.id=e,this.prev=null}return t}(),Sz=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.mruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.moveToTail=function(e){var n=this.remove(e.id);if(n){var r=this.addNodeToTail(n.id,n.data);return r}return null},t.prototype.moveToHead=function(e){var n=this.remove(e.id);if(n){var r=this.addNodeToHead(n.id,n.data);return r}return null},t.prototype.addNodeToHead=function(e,n){if(this.positions.has(e)){var r=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=n,r}if(this.HEAD){var i=this.HEAD,s=new fp(e,n);return s.next=i,s.prev=null,i.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new fp(e,n);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.addNodeToTail=function(e,n){if(this.positions.has(e)){var r=this.moveToTail(this.positions.get(e));return this.positions.get(e).data=n,r}if(this.TAIL){var i=this.TAIL,s=new fp(e,n);return s.prev=i,s.next=null,i.next=s,this.TAIL=s,this.positions.set(e,s),this.size++,s}else{var a=new fp(e,n);return this.TAIL=a,this.HEAD||(this.HEAD=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var n=this.positions.get(e);if(!n)return null;var r=n.prev,i=n.next;return r&&i?(r.next=i,i.prev=r,this.positions.delete(e),this.size--,n):r&&!i?(r.next=null,this.TAIL=r,this.positions.delete(e),this.size--,n):!r&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,n):!r&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,n):null},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,n=this.TAIL,r=1;r<=e;r++)this.positions.delete(n.id),this.size--,n=n.prev;n.next=null,this.TAIL=n},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var n=this.positions.get(e);if(n){var r=this.moveToTail(n);return r?r.data:null}return null},t}();dp.MRULinkedList=Sz,Object.defineProperty(ib,"__esModule",{value:!0});var kz=dp;function Iz(t){var e=new kz.MRULinkedList(t);function n(l){var d=e.get(l);return d||null}function r(l){return e.remove(l),!0}function i(l){return e.has(l)}function s(){return e.size}function a(){return e.keys()}function o(l,d){return e.addNodeToHead(l,d),!0}return{keys:a,size:s,has:i,get:n,set:o,remove:r}}ib.default=Iz;var sb={},hp={};Object.defineProperty(hp,"__esModule",{value:!0}),hp.TLRULinkedList=void 0;var Dz=gd,p3=function(){function t(e,n){this.next=null,this.data=n,this.id=e,this.prev=null}return t}(),Nz=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize,this.timer=(0,Dz.createTimeAwareMapObserver)(e.timeToClear)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var n=this.remove(e.id);if(n){var r=this.addNodeToHead(n.id,n.data);return r}return null},t.prototype.addNodeToHead=function(e,n){if(this.positions.has(e)){var r=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=n,r}var i=this.remove.bind(this);if(this.timer.create(e,i),this.HEAD){var s=this.HEAD,a=new p3(e,n);return a.next=s,a.prev=null,s.prev=a,this.HEAD=a,this.positions.set(e,a),this.size++,a}else{var o=new p3(e,n);return this.HEAD=o,this.TAIL||(this.TAIL=o),this.positions.set(e,o),this.size++,o}},t.prototype.remove=function(e){if(!this.HEAD)return null;var n=this.positions.get(e);if(!n)return null;var r=n.prev,i=n.next;return r&&i?(r.next=i,i.prev=r,this.positions.delete(e),this.timer.cancel(e),this.size--,n):r&&!i?(r.next=null,this.TAIL=r,this.positions.delete(e),this.timer.cancel(e),this.size--,n):!r&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.timer.cancel(e),this.size--,n):!r&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.timer.cancel(e),this.size--,n):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,n=this.TAIL,r=1;r<=e;r++)this.positions.delete(n.id),this.timer.cancel(n.id),this.size--,n=n.prev;n.next=null,this.TAIL=n},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var n=this.positions.get(e);if(n){var r=this.moveToHead(n);return r?r.data:null}return null},t}();hp.TLRULinkedList=Nz,Object.defineProperty(sb,"__esModule",{value:!0});var Mz=hp;function Oz(t){var e=new Mz.TLRULinkedList(t);function n(l){var d=e.get(l);return d||null}function r(l){return e.remove(l),!0}function i(l){return e.has(l)}function s(){return e.size}function a(){return e.keys()}function o(l,d){return e.addNodeToHead(l,d),!0}return{keys:a,size:s,get:n,set:o,remove:r,has:i}}sb.default=Oz,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0;var e=nb,n=rb,r=ib,i=sb;t.defaultConfig={strategy:"lru",policy:"lru",timeToClear:72e5,lruSize:500,mruSize:500};function s(a){var o={};typeof a=="object"&&(o=a);var l=Object.assign({},t.defaultConfig,o);switch(l.policy){case"timeout":return(0,e.default)(l);case"lru":return(0,n.default)(l);case"mru":return(0,r.default)(l);case"tlru":return(0,i.default)(l);default:throw new Error(l.policy+" is not a supported policy.")}}t.default=s}(f3),Object.defineProperty(d3,"__esModule",{value:!0});var Lz=f3,m3=d3.default=Lz.default;class g3{constructor(e=null){Ye(this,"head");Ye(this,"tail");Ye(this,"main");Ye(this,"length");this.head=e,this.tail=e,this.main=e,this.length=e?1:0}numberOfMessages(){let e=0,n=this.head;for(;n;)e+=n.length,n=n.next;return e}concate(e){var n;(n=this.main)==null||n.concate(e)}unshift(e){var n;(n=this.main)==null||n.unshift(e)}insert(e){if(this.length===0){this.head=this.tail=this.main=e,this.length=1;return}if(e.length===0)return;let n=this.tail;for(;n&&n.head.createdAt>e.head.createdAt;)n=n.prev;n?(n===this.tail&&(this.tail=e),e.next=n.next,e.next&&(e.next.prev=e),n.next=e,e.prev=n):(e.next=this.head,e.next&&(e.next.prev=e),this.head=e),this.main=e,this.length++}merge(){if(this.length<=1)return;let e=this.tail;for(;e;){if(e.prev&&e.canCombine(e.prev)){e.combine(e.prev),e.prev===this.main&&(this.main=e),e.prev=e.prev.prev,e.prev?e.prev.next=e:this.head=e,this.length--;break}e=e.prev}e&&this.merge()}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,n=this.head;for(;n;){if(n.prev&&n.prev.next!==n||n.next&&n.next.prev!==n)return!1;e++,n=n.next}return e===this.length}}var ki=(t=>(t.RoomName="roomName",t.RoomMember="roomMember",t.RoomPrefTags="roomPrefTags",t.RoomPrefFolder="roomPrefFolder",t.RoomTags="roomTags",t))(ki||{});const b3={count:0,config:{},uid:"",axios:fn,isRequesting:{},socket:dd({autoConnect:!1}),imageCache:m3(),translationCache:m3(),users:{},rooms:{},sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,uploadProgresses:{},downloadProgresses:{},linkPreviews:{},actionMenuRoomId:"",folders:{},sortedFolderIds:[],roomIdsInFolders:{},selectedRoomIdsForCreateFolder:{},selectedFolderId:"",searchKeyword:"",searchType:ki.RoomName,searchRooms:{},roomTag:"",deliveringMessages:new Map,processingMessages:new Map,selectedRoomId:"",messageMultiList:new g3,numberOfTotalMessages:-1,replyId:"",navigationTargetId:"",isRoomInfoVisible:!1,isTyping:{},isSearchInRoomMode:!1,messageSearchKeyword:"",blockedUsers:{}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},y3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=s>>2,c=(s&3)<<4|o>>4;let h=(o&15)<<2|d>>6,p=d&63;l||(p=64,a||(h=64)),r.push(n[f],n[c],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||d==null||c==null)throw new Bz;const h=s<<2|o>>4;if(r.push(h),d!==64){const p=o<<4&240|d>>2;if(r.push(p),c!==64){const m=d<<6&192|c;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pz=function(t){const e=v3(t);return y3.encodeByteArray(e,!0)},_3=function(t){return Pz(t).replace(/\./g,"")},Fz=function(t){try{return y3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=()=>Uz().__FIREBASE_DEFAULTS__,Hz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fz(t[1]);return e&&JSON.parse(e)},Vz=()=>{try{return jz()||Hz()||zz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T3=()=>{var t;return(t=Vz())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function E3(){try{return typeof indexedDB=="object"}catch{return!1}}function A3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Gz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="FirebaseError";class $l extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yz,Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pp.prototype.create)}}class pp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Qz(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new $l(i,o,r)}}function Qz(t,e){return t.replace(Kz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Kz=/\{\$([^}]+)}/g;function ab(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(x3(s)&&x3(a)){if(!ab(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){return t&&t._delegate?t._delegate:t}let Ba=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jz(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zz(t){return t===Lo?void 0:t}function Jz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(hn||(hn={}));const $z={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},eV=hn.INFO,tV={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},nV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rV{constructor(e){this.name=e,this._logLevel=eV,this._logHandler=nV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$z[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const iV=(t,e)=>e.some(n=>t instanceof n);let w3,S3;function sV(){return w3||(w3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return S3||(S3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k3=new WeakMap,ob=new WeakMap,I3=new WeakMap,lb=new WeakMap,ub=new WeakMap;function oV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(na(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&k3.set(n,t)}).catch(()=>{}),ub.set(e,t),e}function lV(t){if(ob.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ob.set(t,e)}let cb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ob.get(t);if(e==="objectStoreNames")return t.objectStoreNames||I3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uV(t){cb=t(cb)}function cV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(db(this),e,...n);return I3.set(r,e.sort?e.sort():[e]),na(r)}:aV().includes(t)?function(...e){return t.apply(db(this),e),na(k3.get(this))}:function(...e){return na(t.apply(db(this),e))}}function dV(t){return typeof t=="function"?cV(t):(t instanceof IDBTransaction&&lV(t),iV(t,sV())?new Proxy(t,cb):t)}function na(t){if(t instanceof IDBRequest)return oV(t);if(lb.has(t))return lb.get(t);const e=dV(t);return e!==t&&(lb.set(t,e),ub.set(e,t)),e}const db=t=>ub.get(t);function mp(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=na(a);return r&&a.addEventListener("upgradeneeded",l=>{r(na(a.result),l.oldVersion,l.newVersion,na(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}function fb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),na(n).then(()=>{})}const fV=["get","getKey","getAll","getAllKeys","count"],hV=["put","add","delete","clear"],hb=new Map;function D3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hb.get(e))return hb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fV.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),i&&l.done]))[0]};return hb.set(e,s),s}uV(t=>({...t,get:(e,n,r)=>D3(e,n)||t.get(e,n,r),has:(e,n)=>!!D3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pb="@firebase/app",N3="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new rV("@firebase/app"),gV="@firebase/app-compat",bV="@firebase/analytics-compat",vV="@firebase/analytics",yV="@firebase/app-check-compat",_V="@firebase/app-check",TV="@firebase/auth",EV="@firebase/auth-compat",AV="@firebase/database",xV="@firebase/database-compat",CV="@firebase/functions",wV="@firebase/functions-compat",SV="@firebase/installations",kV="@firebase/installations-compat",IV="@firebase/messaging",DV="@firebase/messaging-compat",NV="@firebase/performance",MV="@firebase/performance-compat",OV="@firebase/remote-config",LV="@firebase/remote-config-compat",RV="@firebase/storage",BV="@firebase/storage-compat",PV="@firebase/firestore",FV="@firebase/vertexai-preview",UV="@firebase/firestore-compat",jV="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="[DEFAULT]",HV={[pb]:"fire-core",[gV]:"fire-core-compat",[vV]:"fire-analytics",[bV]:"fire-analytics-compat",[_V]:"fire-app-check",[yV]:"fire-app-check-compat",[TV]:"fire-auth",[EV]:"fire-auth-compat",[AV]:"fire-rtdb",[xV]:"fire-rtdb-compat",[CV]:"fire-fn",[wV]:"fire-fn-compat",[SV]:"fire-iid",[kV]:"fire-iid-compat",[IV]:"fire-fcm",[DV]:"fire-fcm-compat",[NV]:"fire-perf",[MV]:"fire-perf-compat",[OV]:"fire-rc",[LV]:"fire-rc-compat",[RV]:"fire-gcs",[BV]:"fire-gcs-compat",[PV]:"fire-fst",[UV]:"fire-fst-compat",[FV]:"fire-vertex","fire-js":"fire-js",[jV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Map,zV=new Map,gb=new Map;function M3(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ro(t){const e=t.name;if(gb.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;gb.set(e,t);for(const n of gp.values())M3(n,t);for(const n of zV.values())M3(n,t);return!0}function bb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pa=new pp("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pa.create("app-deleted",{appName:this._name})}}function O3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pa.create("bad-app-name",{appName:String(i)});if(n||(n=T3()),!n)throw Pa.create("no-options");const s=gp.get(i);if(s){if(ab(n,s.options)&&ab(r,s.config))return s;throw Pa.create("duplicate-app",{appName:i})}const a=new qz(i);for(const l of gb.values())a.addComponent(l);const o=new WV(n,r,a);return gp.set(i,o),o}function GV(t=mb){const e=gp.get(t);if(!e&&t===mb&&T3())return O3();if(!e)throw Pa.create("no-app",{appName:t});return e}function Fa(t,e,n){var r;let i=(r=HV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(o.join(" "));return}Ro(new Ba(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="firebase-heartbeat-database",QV=1,bd="firebase-heartbeat-store";let vb=null;function L3(){return vb||(vb=mp(YV,QV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pa.create("idb-open",{originalErrorMessage:t.message})})),vb}async function KV(t){try{const n=(await L3()).transaction(bd),r=await n.objectStore(bd).get(B3(t));return await n.done,r}catch(e){if(e instanceof $l)ra.warn(e.message);else{const n=Pa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(n.message)}}}async function R3(t,e){try{const r=(await L3()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,B3(t)),await r.done}catch(n){if(n instanceof $l)ra.warn(n.message);else{const r=Pa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function B3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=1024,ZV=30*24*60*60*1e3;class JV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $V(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P3();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=ZV}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ra.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P3(),{heartbeatsToSend:r,unsentEntries:i}=qV(this._heartbeatsCache.heartbeats),s=_3(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ra.warn(n),""}}}function P3(){return new Date().toISOString().substring(0,10)}function qV(t,e=XV){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),F3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),F3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E3()?A3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F3(t){return _3(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){Ro(new Ba("platform-logger",e=>new pV(e),"PRIVATE")),Ro(new Ba("heartbeat",e=>new JV(e),"PRIVATE")),Fa(pb,N3,t),Fa(pb,N3,"esm2017"),Fa("fire-js","")}eW("");const U3="@firebase/installations",yb="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=1e4,H3=`w:${yb}`,z3="FIS_v2",tW="https://firebaseinstallations.googleapis.com/v1",nW=60*60*1e3,rW="installations",iW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bo=new pp(rW,iW,sW);function V3(t){return t instanceof $l&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3({projectId:t}){return`${tW}/projects/${t}/installations`}function G3(t){return{token:t.token,requestStatus:2,expiresIn:oW(t.expiresIn),creationTime:Date.now()}}async function Y3(t,e){const r=(await e.json()).error;return Bo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Q3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function aW(t,{refreshToken:e}){const n=Q3(t);return n.append("Authorization",lW(e)),n}async function K3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function oW(t){return Number(t.replace("s","000"))}function lW(t){return`${z3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=W3(t),i=Q3(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:n,authVersion:z3,appId:t.appId,sdkVersion:H3},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await K3(()=>fetch(r,o));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:G3(d.authToken)}}else throw await Y3("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=/^[cdef][\w-]{21}$/,_b="";function fW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=hW(t);return dW.test(n)?n:_b}catch{return _b}}function hW(t){return cW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Map;function J3(t,e){const n=bp(t);q3(n,e),pW(n,e)}function q3(t,e){const n=Z3.get(t);if(n)for(const r of n)r(e)}function pW(t,e){const n=mW();n&&n.postMessage({key:t,fid:e}),gW()}let Po=null;function mW(){return!Po&&"BroadcastChannel"in self&&(Po=new BroadcastChannel("[Firebase] FID Change"),Po.onmessage=t=>{q3(t.data.key,t.data.fid)}),Po}function gW(){Z3.size===0&&Po&&(Po.close(),Po=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW="firebase-installations-database",vW=1,Fo="firebase-installations-store";let Tb=null;function Eb(){return Tb||(Tb=mp(bW,vW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fo)}}})),Tb}async function vp(t,e){const n=bp(t),i=(await Eb()).transaction(Fo,"readwrite"),s=i.objectStore(Fo),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&J3(t,e.fid),e}async function $3(t){const e=bp(t),r=(await Eb()).transaction(Fo,"readwrite");await r.objectStore(Fo).delete(e),await r.done}async function yp(t,e){const n=bp(t),i=(await Eb()).transaction(Fo,"readwrite"),s=i.objectStore(Fo),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&J3(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t){let e;const n=await yp(t.appConfig,r=>{const i=yW(r),s=_W(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===_b?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yW(t){const e=t||{fid:fW(),registrationStatus:0};return tC(e)}function _W(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Bo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=TW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:EW(t)}:{installationEntry:e}}async function TW(t,e){try{const n=await uW(t,e);return vp(t.appConfig,n)}catch(n){throw V3(n)&&n.customData.serverCode===409?await $3(t.appConfig):await vp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function EW(t){let e=await eC(t.appConfig);for(;e.registrationStatus===1;)await X3(100),e=await eC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ab(t);return r||n}return e}function eC(t){return yp(t,e=>{if(!e)throw Bo.create("installation-not-found");return tC(e)})}function tC(t){return AW(t)?{fid:t.fid,registrationStatus:0}:t}function AW(t){return t.registrationStatus===1&&t.registrationTime+j3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW({appConfig:t,heartbeatServiceProvider:e},n){const r=CW(t,n),i=aW(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:H3,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await K3(()=>fetch(r,o));if(l.ok){const d=await l.json();return G3(d)}else throw await Y3("Generate Auth Token",l)}function CW(t,{fid:e}){return`${W3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(t,e=!1){let n;const r=await yp(t.appConfig,s=>{if(!rC(s))throw Bo.create("not-registered");const a=s.authToken;if(!e&&kW(a))return s;if(a.requestStatus===1)return n=wW(t,e),s;{if(!navigator.onLine)throw Bo.create("app-offline");const o=DW(s);return n=SW(t,o),o}});return n?await n:r.authToken}async function wW(t,e){let n=await nC(t.appConfig);for(;n.authToken.requestStatus===1;)await X3(100),n=await nC(t.appConfig);const r=n.authToken;return r.requestStatus===0?xb(t,e):r}function nC(t){return yp(t,e=>{if(!rC(e))throw Bo.create("not-registered");const n=e.authToken;return NW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function SW(t,e){try{const n=await xW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await vp(t.appConfig,r),n}catch(n){if(V3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $3(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vp(t.appConfig,r)}throw n}}function rC(t){return t!==void 0&&t.registrationStatus===2}function kW(t){return t.requestStatus===2&&!IW(t)}function IW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+nW}function DW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function NW(t){return t.requestStatus===1&&t.requestTime+j3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ab(e);return r?r.catch(console.error):xb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e=!1){const n=t;return await LW(n),(await xb(n,e)).token}async function LW(t){const{registrationPromise:e}=await Ab(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){if(!t||!t.options)throw Cb("App Configuration");if(!t.name)throw Cb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cb(t){return Bo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="installations",BW="installations-internal",PW=t=>{const e=t.getProvider("app").getImmediate(),n=RW(e),r=bb(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FW=t=>{const e=t.getProvider("app").getImmediate(),n=bb(e,iC).getImmediate();return{getId:()=>MW(n),getToken:i=>OW(n,i)}};function UW(){Ro(new Ba(iC,PW,"PUBLIC")),Ro(new Ba(BW,FW,"PRIVATE"))}UW(),Fa(U3,yb),Fa(U3,yb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="/firebase-messaging-sw.js",HW="/firebase-cloud-messaging-push-scope",sC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zW="https://fcmregistrations.googleapis.com/v1",aC="google.c.a.c_id",VW="google.c.a.c_l",WW="google.c.a.ts",GW="google.c.a.e";var oC;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(oC||(oC={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var vd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(vd||(vd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function YW(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="fcm_token_details_db",QW=5,lC="fcm_token_object_Store";async function KW(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(wb))return null;let e=null;return(await mp(wb,QW,{upgrade:async(r,i,s,a)=>{var o;if(i<2||!r.objectStoreNames.contains(lC))return;const l=a.objectStore(lC),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(i===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(o=f.createTime)!==null&&o!==void 0?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:ia(f.vapidKey)}}}else if(i===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ia(f.auth),p256dh:ia(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ia(f.vapidKey)}}}else if(i===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ia(f.auth),p256dh:ia(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ia(f.vapidKey)}}}}}})).close(),await fb(wb),await fb("fcm_vapid_details_db"),await fb("undefined"),XW(e)?e:null}function XW(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW="firebase-messaging-database",JW=1,yd="firebase-messaging-store";let Sb=null;function uC(){return Sb||(Sb=mp(ZW,JW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yd)}}})),Sb}async function qW(t){const e=cC(t),r=await(await uC()).transaction(yd).objectStore(yd).get(e);if(r)return r;{const i=await KW(t.appConfig.senderId);if(i)return await kb(t,i),i}}async function kb(t,e){const n=cC(t),i=(await uC()).transaction(yd,"readwrite");return await i.objectStore(yd).put(e,n),await i.done,e}function cC({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ir=new pp("messaging","Messaging",$W);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e){const n=await Db(t),r=dC(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Ib(t.appConfig),i)).json()}catch(a){throw Ir.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ir.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Ir.create("token-subscribe-no-token");return s.token}async function tG(t,e){const n=await Db(t),r=dC(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Ib(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Ir.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Ir.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Ir.create("token-update-no-token");return s.token}async function nG(t,e){const r={method:"DELETE",headers:await Db(t)};try{const s=await(await fetch(`${Ib(t.appConfig)}/${e}`,r)).json();if(s.error){const a=s.error.message;throw Ir.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw Ir.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Ib({projectId:t}){return`${zW}/projects/${t}/registrations`}async function Db({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function dC({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sC&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=7*24*60*60*1e3;async function iG(t){const e=await aG(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ia(e.getKey("auth")),p256dh:ia(e.getKey("p256dh"))},r=await qW(t.firebaseDependencies);if(r){if(oG(r.subscriptionOptions,n))return Date.now()>=r.createTime+rG?sG(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await nG(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return fC(t.firebaseDependencies,n)}else return fC(t.firebaseDependencies,n)}async function sG(t,e){try{const n=await tG(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await kb(t.firebaseDependencies,r),n}catch(n){throw n}}async function fC(t,e){const r={token:await eG(t,e),createTime:Date.now(),subscriptionOptions:e};return await kb(t,r),r.token}async function aG(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:YW(e)})}function oG(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return lG(e,t),uG(e,t),cG(e,t),e}function lG(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function uG(t,e){e.data&&(t.data=e.data)}function cG(t,e){var n,r,i,s,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const o=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;o&&(t.fcmOptions.link=o);const l=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){return typeof t=="object"&&!!t&&aC in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pC("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pC("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function pC(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(t){if(!t||!t.options)throw Nb("App Configuration Object");if(!t.name)throw Nb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Nb(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Nb(t){return Ir.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=fG(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pG(t){try{t.swRegistration=await navigator.serviceWorker.register(jW,{scope:HW}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ir.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e){if(!e&&!t.swRegistration&&await pG(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ir.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gG(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sC)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t,e){if(!navigator)throw Ir.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ir.create("permission-blocked");return await gG(t,e==null?void 0:e.vapidKey),await mG(t,e==null?void 0:e.serviceWorkerRegistration),iG(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(t,e,n){const r=vG(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[aC],message_name:n[VW],message_time:n[WW],message_device_time:Math.floor(Date.now()/1e3)})}function vG(t){switch(t){case vd.NOTIFICATION_CLICKED:return"notification_open";case vd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yG(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===vd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(hC(n)):t.onMessageHandler.next(hC(n)));const r=n.data;dG(r)&&r[GW]==="1"&&await bG(t,n.messageType,r)}const gC="@firebase/messaging",bC="0.12.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=t=>{const e=new hG(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>yG(e,n)),e},TG=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>mC(e,r)}};function EG(){Ro(new Ba("messaging",_G,"PUBLIC")),Ro(new Ba("messaging-internal",TG,"PRIVATE")),Fa(gC,bC),Fa(gC,bC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AG(){try{await A3()}catch{return!1}return typeof window<"u"&&E3()&&Gz()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t=GV()){return AG().then(e=>{if(!e)throw Ir.create("unsupported-browser")},e=>{throw Ir.create("indexed-db-unsupported")}),bb(C3(t),"messaging").getImmediate()}async function CG(t,e){return t=C3(t),mC(t,e)}EG();var ws=(t=>(t.FetchRooms="/rooms",t.Search="/search",t.Subscribe="/me/subscribe",t.Unsubscribe="/me/unsubscribe",t))(ws||{});class eu{constructor(e,n,r){Ye(this,"id");Ye(this,"name");Ye(this,"roomIds");this.id=e,this.name=n,this.roomIds=r}get payload(){return{children:this.roomIds.map(e=>({id:e,type:"room"}))}}}var Xe=(t=>(t.increment="increment",t.fetchRooms="fetchRooms",t.fetchRoom="fetchRoom",t.loadMessages="loadMessages",t.updateLastRead="updateLastRead",t.handleMessageFromSocket="handleMessageFromSocket",t.handleRoomFromSocket="handleRoomFromSocket",t.handleLastReadFromSocket="handleLastReadFromSocket",t.sendMessage="sendMessage",t.recallMessage="recallMessage",t.uploadMedia="uploadMedia",t.fetchLinkPreview="fetchLinkPreview",t.handleLinkPreviews="handleLinkPreviews",t.fetchVideoBlob="fetchVideoBlob",t.navigateToMessage="navigateToMessage",t.uploadImage="uploadImage",t.updateRoomPrefs="updateRoomPrefs",t.fetchPrefs="fetchPrefs",t.updatePref="updatePref",t.deletePref="deletePref",t.updateFolder="updateFolder",t.removeFolder="removeFolder",t.handlePrefChangeFromSocket="handlePrefChangeFromSocket",t.handlePrefDeleteFromSocket="handlePrefDeleteFromSocket",t.aggregateRoomsAndFolders="aggregateRoomsAndFolders",t.removeMembers="removeMembers",t.handleTypingFromSocket="handleTypingFromSocket",t.insertUnreadMessage="insertUnreadMessage",t.translate="translate",t.searchRooms="searchRooms",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.removeRoomFromFolder="removeRoomFromFolder",t.addRoomToFolder="addRoomToFolder",t.fetchRoomsInFolders="fetchRoomsInFolders",t.batchSendMessage="batchSendMessage",t.toggleNotification="toggleNotification",t.removeRoom="removeRoom",t.translateMessage="translateMessage",t.blockUser="blockUser",t.unblockUser="unblockUser",t.getBlockList="getBlockList",t.quickReply="quickReply",t))(Xe||{}),Qe=(t=>(t.increment="increment",t.setState="setState",t.updateField="updateField",t.deleteField="deleteField",t.updateRoom="updateRoom",t.updateLastRead="updateLastRead",t.pushMessage="pushMessage",t.replaceMessage="replaceMessage",t.clearChatRoom="clearChatRoom",t.deleteRoom="deleteRoom",t.setMap="setMap",t.deleteMap="deleteMap",t.insertMessageLinkedList="insertMessageLinkedList",t.concateMessageLinkedList="concateMessageLinkedList",t.unshiftMessageLinkedList="unshiftMessageLinkedList",t))(Qe||{});class wG{constructor(e){Ye(this,"head");Ye(this,"tail");Ye(this,"length");Ye(this,"map");Ye(this,"messageGroups");Ye(this,"firstMessageOfDate");Ye(this,"prev",null);Ye(this,"next",null);this.head=null,this.tail=null,this.length=0,this.map=new Map,this.messageGroups=new Map,this.firstMessageOfDate=new Map;const n=r=>{const i=En.fromRaw(r);return i?[i].concat(n(r.reply)):[]};for(const r of e.reverse()){const i=En.fromRaw(r);i&&this.append(i);for(const s of n(r.reply))this.map.set(s.id,s)}}append(e){if(!this.contains(e.id)){if(this.tail){let n=this.tail;for(;n&&n.createdAt>e.createdAt;)n=n.prev;n?(n===this.tail&&(this.tail=e),e.next=n.next,n.next=e,e.prev=n):(e.next=this.head,this.head=e),e.next&&(e.next.prev=e)}else this.head=this.tail=e;this.map.set(e.id,e),this.length++,this.insertMessageToGroup(e)}}insertMessageToGroup(e){if(e.isSystem)return;if(this.messageGroups.has(e.groupId)){const r=this.messageGroups.get(e.groupId);if(r){let i=!1;for(let s=r.length-1;s>=0;s--)if(r[s].createdAt<e.createdAt){s==r.length-1?r.push(e):r.splice(s+1,0,e),i=!0;break}i||r.unshift(e)}}else this.messageGroups.set(e.groupId,[e]);const n=this.firstMessageOfDate.get(e.dateId);(!n||n.createdAt>e.createdAt)&&this.firstMessageOfDate.set(e.dateId,e)}remove(e){var i,s;const n=this.finds(e);if(!n)return;n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,this.map.delete(e),this.length--;const r=this.messageGroups.get(n.groupId);if(r){const a=r.indexOf(n);a>=0&&(r.splice(a,1),r.length===0&&this.messageGroups.delete(n.groupId))}((i=this.firstMessageOfDate.get(n.dateId))==null?void 0:i.id)===n.id&&(n.dateId===((s=n.next)==null?void 0:s.dateId)?this.firstMessageOfDate.set(n.dateId,n.next):this.firstMessageOfDate.delete(n.dateId))}replace(e,n){var i;const r=this.finds(e);if(r){r.prev?r.prev.next=n:this.head=n,r.next?r.next.prev=n:this.tail=n,n.prev=r.prev,n.next=r.next,this.map.delete(e),this.map.set(n.id,n);const s=this.messageGroups.get(r.groupId);if(s){const a=s.indexOf(r);a>=0&&(n.isSystem?s.splice(a,1):s[a]=n)}((i=this.firstMessageOfDate.get(r.dateId))==null?void 0:i.id)===r.id&&this.firstMessageOfDate.set(r.dateId,n)}}concate(e){if(e.length!==0){this.tail?(this.tail.next=e.head,e.head&&(e.head.prev=this.tail),this.tail=e.tail):(this.head=e.head,this.tail=e.tail);for(const[n,r]of e.map)this.map.set(n,r);this.length+=e.length;for(const[n,r]of e.messageGroups)if(this.messageGroups.has(n)){if(this.messageGroups.get(n))for(const s of r)this.insertMessageToGroup(s)}else this.messageGroups.set(n,r);for(const[n,r]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(n);i!==void 0?i.createdAt>r.createdAt&&this.firstMessageOfDate.set(n,r):this.firstMessageOfDate.set(n,r)}}}unshift(e){if(e.length!==0){this.head?(this.head.prev=e.tail,e.tail&&(e.tail.next=this.head),this.head=e.head):(this.head=e.head,this.tail=e.tail);for(const[n,r]of e.map)this.map.set(n,r);this.length+=e.length;for(const[n,r]of e.messageGroups)if(this.messageGroups.has(n)){if(this.messageGroups.get(n))for(const s of r)this.insertMessageToGroup(s)}else this.messageGroups.set(n,r);for(const[n,r]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(n);i!==void 0?i.createdAt>r.createdAt&&this.firstMessageOfDate.set(n,r):this.firstMessageOfDate.set(n,r)}}}resetHead(e){if(this.head&&this.head.id===e)return;const n=this.finds(e);if(n){this.head=n,n.prev=null;let r=0,i=n;for(;i;)r++,i=i.next;this.length=r}}resetTail(e){if(this.tail&&this.tail.id===e)return;const n=this.finds(e);if(n){this.tail=n,n.next=null;let r=0,i=n;for(;i;)r++,i=i.prev;this.length=r}}canCombine(e){var n,r;return e.length===0||!e.head||!e.tail?!1:this.contains(e.tail.id)||this.contains(e.head.id)||e.contains(((n=this.head)==null?void 0:n.id)??"")&&e.contains(((r=this.tail)==null?void 0:r.id)??"")}combine(e){var i,s,a,o;if(e.length===0||!e.head||!e.tail)return;const n=this.contains(e.head.id),r=this.contains(e.tail.id);if(!(n&&r)){if(!n&&!r)e.contains(((i=this.head)==null?void 0:i.id)??"")&&e.contains(((s=this.tail)==null?void 0:s.id)??"")&&(this.head=e.head,this.tail=e.tail,this.length=e.length,this.map=e.map);else if(r){const l=(a=this.finds(e.tail.id))==null?void 0:a.next;l?this.resetHead(l.id):(this.head=null,this.tail=null,this.length=0),this.unshift(e)}else if(n){const l=(o=this.finds(e.head.id))==null?void 0:o.prev;l?this.resetTail(l.id):(this.head=null,this.tail=null,this.length=0),this.concate(e)}}}array(){const e=[];let n=this.head;for(;n;)e.push(n),n=n.next;return e}finds(e){const n=this.map.get(e);if(n)return n.next||n.prev||this.head===n&&this.tail===n?n:void 0}contains(e){return this.finds(e)!==void 0}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,n=this.head;for(;n;){if(n.prev&&n.prev.next!==n||n.next&&n.next.prev!==n)return!1;e++,n=n.next}return e===this.length}}/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const rs=typeof window<"u";let hi,Uo;if(process.env.NODE_ENV!=="production"){const t=rs&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(hi=e=>{t.mark(e)},Uo=(e,n,r)=>{t.measure(e,n,r),t.clearMarks(n),t.clearMarks(r)})}const SG=/\{([0-9a-zA-Z]+)\}/g;function Mb(t,...e){return e.length===1&&Ht(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(SG,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const Ss=(t,e=!1)=>e?Symbol.for(t):Symbol(t),kG=(t,e,n)=>IG({l:t,k:e,s:n}),IG=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Xn=t=>typeof t=="number"&&isFinite(t),DG=t=>TC(t)==="[object Date]",Ua=t=>TC(t)==="[object RegExp]",_p=t=>Et(t)&&Object.keys(t).length===0,ur=Object.assign;let vC;const sa=()=>vC||(vC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yC(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const NG=Object.prototype.hasOwnProperty;function Tp(t,e){return NG.call(t,e)}const un=Array.isArray,an=t=>typeof t=="function",Ze=t=>typeof t=="string",Dt=t=>typeof t=="boolean",Ht=t=>t!==null&&typeof t=="object",MG=t=>Ht(t)&&an(t.then)&&an(t.catch),_C=Object.prototype.toString,TC=t=>_C.call(t),Et=t=>{if(!Ht(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},OG=t=>t==null?"":un(t)||Et(t)&&t.toString===_C?JSON.stringify(t,null,2):String(t);function LG(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}const EC=2;function RG(t,e=0,n=t.length){const r=t.split(/\r?\n/);let i=0;const s=[];for(let a=0;a<r.length;a++)if(i+=r[a].length+1,i>=e){for(let o=a-EC;o<=a+EC||n>i;o++){if(o<0||o>=r.length)continue;const l=o+1;s.push(`${l}${" ".repeat(3-String(l).length)}|  ${r[o]}`);const d=r[o].length;if(o===a){const f=e-(i-d)+1,c=Math.max(1,n>i?d-f:n-e);s.push("   |  "+" ".repeat(f)+"^".repeat(c))}else if(o>a){if(n>i){const f=Math.max(Math.min(n-i,d),1);s.push("   |  "+"^".repeat(f))}i+=d+1}}break}return s.join(`
`)}function Ep(t){let e=t;return()=>++e}function Zn(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const AC={};function xC(t){AC[t]||(AC[t]=!0,Zn(t))}function Ob(){const t=new Map;return{events:t,on(n,r){const i=t.get(n);i&&i.push(r)||t.set(n,[r])},off(n,r){const i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit(n,r){(t.get(n)||[]).slice().map(i=>i(r)),(t.get("*")||[]).slice().map(i=>i(n,r))}}}const Ap=t=>!Ht(t)||un(t);function xp(t,e){if(Ap(t)||Ap(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{Ap(r[s])||Ap(i[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function BG(t,e,n){return{line:t,column:e,offset:n}}function Cp(t,e,n){return{start:t,end:e}}const PG=/\{([0-9a-zA-Z]+)\}/g;function CC(t,...e){return e.length===1&&FG(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(PG,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const wC=Object.assign,SC=t=>typeof t=="string",FG=t=>t!==null&&typeof t=="object";function kC(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}const wp={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},UG={[wp.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function jG(t,e,...n){const r=CC(UG[t],...n||[]),i={message:String(r),code:t};return e&&(i.location=e),i}const bt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},HG={[bt.EXPECTED_TOKEN]:"Expected token: '{0}'",[bt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[bt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[bt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[bt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[bt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[bt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[bt.EMPTY_PLACEHOLDER]:"Empty placeholder",[bt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[bt.INVALID_LINKED_FORMAT]:"Invalid linked format",[bt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[bt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[bt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[bt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[bt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[bt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function tu(t,e,n={}){const{domain:r,messages:i,args:s}=n,a=CC((i||HG)[t]||"",...s||[]),o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=r,o}function zG(t){throw t}const VG=/<\/?[\w\s="/.':;#-\/]+>/,WG=t=>VG.test(t),aa=" ",GG="\r",Dr=`
`,YG="\u2028",QG="\u2029";function KG(t){const e=t;let n=0,r=1,i=1,s=0;const a=B=>e[B]===GG&&e[B+1]===Dr,o=B=>e[B]===Dr,l=B=>e[B]===QG,d=B=>e[B]===YG,f=B=>a(B)||o(B)||l(B)||d(B),c=()=>n,h=()=>r,p=()=>i,m=()=>s,g=B=>a(B)||l(B)||d(B)?Dr:e[B],v=()=>g(n),y=()=>g(n+s);function x(){return s=0,f(n)&&(r++,i=0),a(n)&&n++,n++,i++,e[n]}function w(){return a(n+s)&&s++,s++,e[n+s]}function I(){n=0,r=1,i=1,s=0}function k(B=0){s=B}function S(){const B=n+s;for(;B!==n;)x();s=0}return{index:c,line:h,column:p,peekOffset:m,charAt:g,currentChar:v,currentPeek:y,next:x,peek:w,reset:I,resetPeek:k,skipToPeek:S}}const ja=void 0,XG=".",IC="'",ZG="tokenizer";function JG(t,e={}){const n=e.location!==!1,r=KG(t),i=()=>r.index(),s=()=>BG(r.line(),r.column(),r.index()),a=s(),o=i(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},d=()=>l,{onError:f}=e;function c(V,Y,he,...we){const Re=d();if(Y.column+=he,Y.offset+=he,f){const ze=n?Cp(Re.startLoc,Y):null,rt=tu(V,ze,{domain:ZG,args:we});f(rt)}}function h(V,Y,he){V.endLoc=s(),V.currentType=Y;const we={type:Y};return n&&(we.loc=Cp(V.startLoc,V.endLoc)),he!=null&&(we.value=he),we}const p=V=>h(V,14);function m(V,Y){return V.currentChar()===Y?(V.next(),Y):(c(bt.EXPECTED_TOKEN,s(),0,Y),"")}function g(V){let Y="";for(;V.currentPeek()===aa||V.currentPeek()===Dr;)Y+=V.currentPeek(),V.peek();return Y}function v(V){const Y=g(V);return V.skipToPeek(),Y}function y(V){if(V===ja)return!1;const Y=V.charCodeAt(0);return Y>=97&&Y<=122||Y>=65&&Y<=90||Y===95}function x(V){if(V===ja)return!1;const Y=V.charCodeAt(0);return Y>=48&&Y<=57}function w(V,Y){const{currentType:he}=Y;if(he!==2)return!1;g(V);const we=y(V.currentPeek());return V.resetPeek(),we}function I(V,Y){const{currentType:he}=Y;if(he!==2)return!1;g(V);const we=V.currentPeek()==="-"?V.peek():V.currentPeek(),Re=x(we);return V.resetPeek(),Re}function k(V,Y){const{currentType:he}=Y;if(he!==2)return!1;g(V);const we=V.currentPeek()===IC;return V.resetPeek(),we}function S(V,Y){const{currentType:he}=Y;if(he!==8)return!1;g(V);const we=V.currentPeek()===".";return V.resetPeek(),we}function B(V,Y){const{currentType:he}=Y;if(he!==9)return!1;g(V);const we=y(V.currentPeek());return V.resetPeek(),we}function M(V,Y){const{currentType:he}=Y;if(!(he===8||he===12))return!1;g(V);const we=V.currentPeek()===":";return V.resetPeek(),we}function D(V,Y){const{currentType:he}=Y;if(he!==10)return!1;const we=()=>{const ze=V.currentPeek();return ze==="{"?y(V.peek()):ze==="@"||ze==="%"||ze==="|"||ze===":"||ze==="."||ze===aa||!ze?!1:ze===Dr?(V.peek(),we()):U(V,!1)},Re=we();return V.resetPeek(),Re}function L(V){g(V);const Y=V.currentPeek()==="|";return V.resetPeek(),Y}function z(V){const Y=g(V),he=V.currentPeek()==="%"&&V.peek()==="{";return V.resetPeek(),{isModulo:he,hasSpace:Y.length>0}}function U(V,Y=!0){const he=(Re=!1,ze="",rt=!1)=>{const Ee=V.currentPeek();return Ee==="{"?ze==="%"?!1:Re:Ee==="@"||!Ee?ze==="%"?!0:Re:Ee==="%"?(V.peek(),he(Re,"%",!0)):Ee==="|"?ze==="%"||rt?!0:!(ze===aa||ze===Dr):Ee===aa?(V.peek(),he(!0,aa,rt)):Ee===Dr?(V.peek(),he(!0,Dr,rt)):!0},we=he();return Y&&V.resetPeek(),we}function F(V,Y){const he=V.currentChar();return he===ja?ja:Y(he)?(V.next(),he):null}function H(V){const Y=V.charCodeAt(0);return Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57||Y===95||Y===36}function K(V){return F(V,H)}function P(V){const Y=V.charCodeAt(0);return Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57||Y===95||Y===36||Y===45}function W(V){return F(V,P)}function ie(V){const Y=V.charCodeAt(0);return Y>=48&&Y<=57}function Q(V){return F(V,ie)}function N(V){const Y=V.charCodeAt(0);return Y>=48&&Y<=57||Y>=65&&Y<=70||Y>=97&&Y<=102}function E(V){return F(V,N)}function j(V){let Y="",he="";for(;Y=Q(V);)he+=Y;return he}function G(V){v(V);const Y=V.currentChar();return Y!=="%"&&c(bt.EXPECTED_TOKEN,s(),0,Y),V.next(),"%"}function X(V){let Y="";for(;;){const he=V.currentChar();if(he==="{"||he==="}"||he==="@"||he==="|"||!he)break;if(he==="%")if(U(V))Y+=he,V.next();else break;else if(he===aa||he===Dr)if(U(V))Y+=he,V.next();else{if(L(V))break;Y+=he,V.next()}else Y+=he,V.next()}return Y}function Z(V){v(V);let Y="",he="";for(;Y=W(V);)he+=Y;return V.currentChar()===ja&&c(bt.UNTERMINATED_CLOSING_BRACE,s(),0),he}function ce(V){v(V);let Y="";return V.currentChar()==="-"?(V.next(),Y+=`-${j(V)}`):Y+=j(V),V.currentChar()===ja&&c(bt.UNTERMINATED_CLOSING_BRACE,s(),0),Y}function re(V){return V!==IC&&V!==Dr}function pe(V){v(V),m(V,"'");let Y="",he="";for(;Y=F(V,re);)Y==="\\"?he+=me(V):he+=Y;const we=V.currentChar();return we===Dr||we===ja?(c(bt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),we===Dr&&(V.next(),m(V,"'")),he):(m(V,"'"),he)}function me(V){const Y=V.currentChar();switch(Y){case"\\":case"'":return V.next(),`\\${Y}`;case"u":return de(V,Y,4);case"U":return de(V,Y,6);default:return c(bt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,Y),""}}function de(V,Y,he){m(V,Y);let we="";for(let Re=0;Re<he;Re++){const ze=E(V);if(!ze){c(bt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${Y}${we}${V.currentChar()}`);break}we+=ze}return`\\${Y}${we}`}function Te(V){return V!=="{"&&V!=="}"&&V!==aa&&V!==Dr}function Ae(V){v(V);let Y="",he="";for(;Y=F(V,Te);)he+=Y;return he}function Le(V){let Y="",he="";for(;Y=K(V);)he+=Y;return he}function ge(V){const Y=he=>{const we=V.currentChar();return we==="{"||we==="%"||we==="@"||we==="|"||we==="("||we===")"||!we||we===aa?he:(he+=we,V.next(),Y(he))};return Y("")}function Pe(V){v(V);const Y=m(V,"|");return v(V),Y}function qe(V,Y){let he=null;switch(V.currentChar()){case"{":return Y.braceNest>=1&&c(bt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),V.next(),he=h(Y,2,"{"),v(V),Y.braceNest++,he;case"}":return Y.braceNest>0&&Y.currentType===2&&c(bt.EMPTY_PLACEHOLDER,s(),0),V.next(),he=h(Y,3,"}"),Y.braceNest--,Y.braceNest>0&&v(V),Y.inLinked&&Y.braceNest===0&&(Y.inLinked=!1),he;case"@":return Y.braceNest>0&&c(bt.UNTERMINATED_CLOSING_BRACE,s(),0),he=ue(V,Y)||p(Y),Y.braceNest=0,he;default:{let Re=!0,ze=!0,rt=!0;if(L(V))return Y.braceNest>0&&c(bt.UNTERMINATED_CLOSING_BRACE,s(),0),he=h(Y,1,Pe(V)),Y.braceNest=0,Y.inLinked=!1,he;if(Y.braceNest>0&&(Y.currentType===5||Y.currentType===6||Y.currentType===7))return c(bt.UNTERMINATED_CLOSING_BRACE,s(),0),Y.braceNest=0,ye(V,Y);if(Re=w(V,Y))return he=h(Y,5,Z(V)),v(V),he;if(ze=I(V,Y))return he=h(Y,6,ce(V)),v(V),he;if(rt=k(V,Y))return he=h(Y,7,pe(V)),v(V),he;if(!Re&&!ze&&!rt)return he=h(Y,13,Ae(V)),c(bt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,he.value),v(V),he;break}}return he}function ue(V,Y){const{currentType:he}=Y;let we=null;const Re=V.currentChar();switch((he===8||he===9||he===12||he===10)&&(Re===Dr||Re===aa)&&c(bt.INVALID_LINKED_FORMAT,s(),0),Re){case"@":return V.next(),we=h(Y,8,"@"),Y.inLinked=!0,we;case".":return v(V),V.next(),h(Y,9,".");case":":return v(V),V.next(),h(Y,10,":");default:return L(V)?(we=h(Y,1,Pe(V)),Y.braceNest=0,Y.inLinked=!1,we):S(V,Y)||M(V,Y)?(v(V),ue(V,Y)):B(V,Y)?(v(V),h(Y,12,Le(V))):D(V,Y)?(v(V),Re==="{"?qe(V,Y)||we:h(Y,11,ge(V))):(he===8&&c(bt.INVALID_LINKED_FORMAT,s(),0),Y.braceNest=0,Y.inLinked=!1,ye(V,Y))}}function ye(V,Y){let he={type:14};if(Y.braceNest>0)return qe(V,Y)||p(Y);if(Y.inLinked)return ue(V,Y)||p(Y);switch(V.currentChar()){case"{":return qe(V,Y)||p(Y);case"}":return c(bt.UNBALANCED_CLOSING_BRACE,s(),0),V.next(),h(Y,3,"}");case"@":return ue(V,Y)||p(Y);default:{if(L(V))return he=h(Y,1,Pe(V)),Y.braceNest=0,Y.inLinked=!1,he;const{isModulo:Re,hasSpace:ze}=z(V);if(Re)return ze?h(Y,0,X(V)):h(Y,4,G(V));if(U(V))return h(Y,0,X(V));break}}return he}function Be(){const{currentType:V,offset:Y,startLoc:he,endLoc:we}=l;return l.lastType=V,l.lastOffset=Y,l.lastStartLoc=he,l.lastEndLoc=we,l.offset=i(),l.startLoc=s(),r.currentChar()===ja?h(l,14):ye(r,l)}return{nextToken:Be,currentOffset:i,currentPosition:s,context:d}}const qG="parser",$G=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function eY(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function tY(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function i(w,I,k,S,...B){const M=w.currentPosition();if(M.offset+=S,M.column+=S,n){const D=e?Cp(k,M):null,L=tu(I,D,{domain:qG,args:B});n(L)}}function s(w,I,k,S,...B){const M=w.currentPosition();if(M.offset+=S,M.column+=S,r){const D=e?Cp(k,M):null;r(jG(I,D,B))}}function a(w,I,k){const S={type:w};return e&&(S.start=I,S.end=I,S.loc={start:k,end:k}),S}function o(w,I,k,S){e&&(w.end=I,w.loc&&(w.loc.end=k))}function l(w,I){const k=w.context(),S=a(3,k.offset,k.startLoc);return S.value=I,o(S,w.currentOffset(),w.currentPosition()),S}function d(w,I){const k=w.context(),{lastOffset:S,lastStartLoc:B}=k,M=a(5,S,B);return M.index=parseInt(I,10),w.nextToken(),o(M,w.currentOffset(),w.currentPosition()),M}function f(w,I,k){const S=w.context(),{lastOffset:B,lastStartLoc:M}=S,D=a(4,B,M);return D.key=I,k===!0&&(D.modulo=!0),w.nextToken(),o(D,w.currentOffset(),w.currentPosition()),D}function c(w,I){const k=w.context(),{lastOffset:S,lastStartLoc:B}=k,M=a(9,S,B);return M.value=I.replace($G,eY),w.nextToken(),o(M,w.currentOffset(),w.currentPosition()),M}function h(w){const I=w.nextToken(),k=w.context(),{lastOffset:S,lastStartLoc:B}=k,M=a(8,S,B);return I.type!==12?(i(w,bt.UNEXPECTED_EMPTY_LINKED_MODIFIER,k.lastStartLoc,0),M.value="",o(M,S,B),{nextConsumeToken:I,node:M}):(I.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,is(I)),M.value=I.value||"",o(M,w.currentOffset(),w.currentPosition()),{node:M})}function p(w,I){const k=w.context(),S=a(7,k.offset,k.startLoc);return S.value=I,o(S,w.currentOffset(),w.currentPosition()),S}function m(w){const I=w.context(),k=a(6,I.offset,I.startLoc);let S=w.nextToken();if(S.type===9){const B=h(w);k.modifier=B.node,S=B.nextConsumeToken||w.nextToken()}switch(S.type!==10&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(S)),S=w.nextToken(),S.type===2&&(S=w.nextToken()),S.type){case 11:S.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(S)),k.key=p(w,S.value||"");break;case 5:S.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(S)),k.key=f(w,S.value||"");break;case 6:S.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(S)),k.key=d(w,S.value||"");break;case 7:S.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(S)),k.key=c(w,S.value||"");break;default:{i(w,bt.UNEXPECTED_EMPTY_LINKED_KEY,I.lastStartLoc,0);const B=w.context(),M=a(7,B.offset,B.startLoc);return M.value="",o(M,B.offset,B.startLoc),k.key=M,o(k,B.offset,B.startLoc),{nextConsumeToken:S,node:k}}}return o(k,w.currentOffset(),w.currentPosition()),{node:k}}function g(w){const I=w.context(),k=I.currentType===1?w.currentOffset():I.offset,S=I.currentType===1?I.endLoc:I.startLoc,B=a(2,k,S);B.items=[];let M=null,D=null;do{const U=M||w.nextToken();switch(M=null,U.type){case 0:U.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(U)),B.items.push(l(w,U.value||""));break;case 6:U.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(U)),B.items.push(d(w,U.value||""));break;case 4:D=!0;break;case 5:U.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(U)),B.items.push(f(w,U.value||"",!!D)),D&&(s(w,wp.USE_MODULO_SYNTAX,I.lastStartLoc,0,is(U)),D=null);break;case 7:U.value==null&&i(w,bt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,is(U)),B.items.push(c(w,U.value||""));break;case 8:{const F=m(w);B.items.push(F.node),M=F.nextConsumeToken||null;break}}}while(I.currentType!==14&&I.currentType!==1);const L=I.currentType===1?I.lastOffset:w.currentOffset(),z=I.currentType===1?I.lastEndLoc:w.currentPosition();return o(B,L,z),B}function v(w,I,k,S){const B=w.context();let M=S.items.length===0;const D=a(1,I,k);D.cases=[],D.cases.push(S);do{const L=g(w);M||(M=L.items.length===0),D.cases.push(L)}while(B.currentType!==14);return M&&i(w,bt.MUST_HAVE_MESSAGES_IN_PLURAL,k,0),o(D,w.currentOffset(),w.currentPosition()),D}function y(w){const I=w.context(),{offset:k,startLoc:S}=I,B=g(w);return I.currentType===14?B:v(w,k,S,B)}function x(w){const I=JG(w,wC({},t)),k=I.context(),S=a(0,k.offset,k.startLoc);return e&&S.loc&&(S.loc.source=w),S.body=y(I),t.onCacheKey&&(S.cacheKey=t.onCacheKey(w)),k.currentType!==14&&i(I,bt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,w[k.offset]||""),o(S,I.currentOffset(),I.currentPosition()),S}return{parse:x}}function is(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function nY(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function DC(t,e){for(let n=0;n<t.length;n++)Lb(t[n],e)}function Lb(t,e){switch(t.type){case 1:DC(t.cases,e),e.helper("plural");break;case 2:DC(t.items,e);break;case 6:{Lb(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function rY(t,e={}){const n=nY(t);n.helper("normalize"),t.body&&Lb(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function iY(t){const e=t.body;return e.type===2?NC(e):e.cases.forEach(n=>NC(n)),t}function NC(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=kC(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const sY="minifier";function nu(t){switch(t.t=t.type,t.type){case 0:{const e=t;nu(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)nu(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)nu(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;nu(e.key),e.k=e.key,delete e.key,e.modifier&&(nu(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw tu(bt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:sY,args:[t.type]})}delete t.type}const aY="parser";function oY(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=e,a=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const l=()=>o;function d(v,y){o.code+=v}function f(v,y=!0){const x=y?i:"";d(s?x+"  ".repeat(v):x)}function c(v=!0){const y=++o.indentLevel;v&&f(y)}function h(v=!0){const y=--o.indentLevel;v&&f(y)}function p(){f(o.indentLevel)}return{context:l,push:d,indent:c,deindent:h,newline:p,helper:v=>`_${v}`,needIndent:()=>o.needIndent}}function lY(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),ru(t,e.key),e.modifier?(t.push(", "),ru(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function uY(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let s=0;s<i&&(ru(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}function cY(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let s=0;s<i&&(ru(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}}function dY(t,e){e.body?ru(t,e.body):t.push("null")}function ru(t,e){const{helper:n}=t;switch(e.type){case 0:dY(t,e);break;case 1:cY(t,e);break;case 2:uY(t,e);break;case 6:lY(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw tu(bt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:aY,args:[e.type]})}}const fY=(t,e={})=>{const n=SC(e.mode)?e.mode:"normal",r=SC(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],l=oY(t,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${kC(o.map(c=>`${c}: _${c}`),", ")} } = ctx`),l.newline()),l.push("return "),ru(l,t),l.deindent(a),l.push("}"),delete t.helpers;const{code:d,map:f}=l.context();return{ast:t,code:d,map:f?f.toJSON():void 0}};function hY(t,e={}){const n=wC({},e),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,o=tY(n).parse(t);return r?(s&&iY(o),i&&nu(o),{ast:o,code:""}):(rY(o,n),fY(o,n))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function pY(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(sa().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(sa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ha=[];Ha[0]={w:[0],i:[3,0],"[":[4],o:[7]},Ha[1]={w:[1],".":[2],"[":[4],o:[7]},Ha[2]={w:[2],i:[3,0],0:[3,0]},Ha[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Ha[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Ha[5]={"'":[4,0],o:8,l:[5,0]},Ha[6]={'"':[4,0],o:8,l:[6,0]};const mY=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function gY(t){return mY.test(t)}function bY(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function vY(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function yY(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:gY(e)?bY(e):"*"+e}function _Y(t){const e=[];let n=-1,r=0,i=0,s,a,o,l,d,f,c;const h=[];h[0]=()=>{a===void 0?a=o:a+=o},h[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,r=4,h[0]();else{if(i=0,a===void 0||(a=yY(a),a===!1))return!1;h[1]()}};function p(){const m=t[n+1];if(r===5&&m==="'"||r===6&&m==='"')return n++,o="\\"+m,h[0](),!0}for(;r!==null;)if(n++,s=t[n],!(s==="\\"&&p())){if(l=vY(s),c=Ha[r],d=c[l]||c.l||8,d===8||(r=d[0],d[1]!==void 0&&(f=h[d[1]],f&&(o=s,f()===!1))))return;if(r===7)return e}}const MC=new Map;function TY(t,e){return Ht(t)?t[e]:null}function EY(t,e){if(!Ht(t))return null;let n=MC.get(e);if(n||(n=_Y(e),n&&MC.set(e,n)),!n)return null;const r=n.length;let i=t,s=0;for(;s<r;){const a=i[n[s]];if(a===void 0||an(i))return null;i=a,s++}return i}const AY=t=>t,xY=t=>"",CY="text",wY=t=>t.length===0?"":LG(t),SY=OG;function OC(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function kY(t){const e=Xn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Xn(t.named.count)||Xn(t.named.n))?Xn(t.named.count)?t.named.count:Xn(t.named.n)?t.named.n:e:e}function IY(t,e){e.count||(e.count=t),e.n||(e.n=t)}function DY(t={}){const e=t.locale,n=kY(t),r=Ht(t.pluralRules)&&Ze(e)&&an(t.pluralRules[e])?t.pluralRules[e]:OC,i=Ht(t.pluralRules)&&Ze(e)&&an(t.pluralRules[e])?OC:void 0,s=y=>y[r(n,y.length,i)],a=t.list||[],o=y=>a[y],l=t.named||{};Xn(t.pluralIndex)&&IY(n,l);const d=y=>l[y];function f(y){const x=an(t.messages)?t.messages(y):Ht(t.messages)?t.messages[y]:!1;return x||(t.parent?t.parent.message(y):xY)}const c=y=>t.modifiers?t.modifiers[y]:AY,h=Et(t.processor)&&an(t.processor.normalize)?t.processor.normalize:wY,p=Et(t.processor)&&an(t.processor.interpolate)?t.processor.interpolate:SY,m=Et(t.processor)&&Ze(t.processor.type)?t.processor.type:CY,v={list:o,named:d,plural:s,linked:(y,...x)=>{const[w,I]=x;let k="text",S="";x.length===1?Ht(w)?(S=w.modifier||S,k=w.type||k):Ze(w)&&(S=w||S):x.length===2&&(Ze(w)&&(S=w||S),Ze(I)&&(k=I||k));const B=f(y)(v),M=k==="vnode"&&un(B)&&S?B[0]:B;return S?c(S)(M,k):M},message:f,type:m,interpolate:p,normalize:h,values:ur({},a,l)};return v}let _d=null;function NY(t){_d=t}function MY(t,e,n){_d&&_d.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const OY=LY("function:translate");function LY(t){return e=>_d&&_d.emit(t,e)}const LC=wp.__EXTEND_POINT__,jo=Ep(LC),Nr={NOT_FOUND_KEY:LC,FALLBACK_TO_TRANSLATE:jo(),CANNOT_FORMAT_NUMBER:jo(),FALLBACK_TO_NUMBER_FORMAT:jo(),CANNOT_FORMAT_DATE:jo(),FALLBACK_TO_DATE_FORMAT:jo(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:jo(),__EXTEND_POINT__:jo()},RY={[Nr.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[Nr.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[Nr.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[Nr.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[Nr.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[Nr.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[Nr.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function Ho(t,...e){return Mb(RY[t],...e)}const RC=bt.__EXTEND_POINT__,zo=Ep(RC),nr={INVALID_ARGUMENT:RC,INVALID_DATE_ARGUMENT:zo(),INVALID_ISO_DATE_ARGUMENT:zo(),NOT_SUPPORT_NON_STRING_MESSAGE:zo(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:zo(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:zo(),NOT_SUPPORT_LOCALE_TYPE:zo(),__EXTEND_POINT__:zo()};function ks(t){return tu(t,null,process.env.NODE_ENV!=="production"?{messages:BY}:void 0)}const BY={[nr.INVALID_ARGUMENT]:"Invalid arguments",[nr.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[nr.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[nr.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[nr.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[nr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[nr.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function Rb(t,e){return e.locale!=null?BC(e.locale):BC(t.locale)}let Bb;function BC(t){if(Ze(t))return t;if(an(t)){if(t.resolvedOnce&&Bb!=null)return Bb;if(t.constructor.name==="Function"){const e=t();if(MG(e))throw ks(nr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Bb=e}else throw ks(nr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ks(nr.NOT_SUPPORT_LOCALE_TYPE)}function PY(t,e,n){return[...new Set([n,...un(e)?e:Ht(e)?Object.keys(e):Ze(e)?[e]:[n]])]}function PC(t,e,n){const r=Ze(n)?n:iu,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;un(a);)a=FC(s,a,e);const o=un(e)||!Et(e)?e:e.default?e.default:null;a=Ze(o)?[o]:o,un(a)&&FC(s,a,!1),i.__localeChainCache.set(r,s)}return s}function FC(t,e,n){let r=!0;for(let i=0;i<e.length&&Dt(r);i++){const s=e[i];Ze(s)&&(r=FY(t,e[i],n))}return r}function FY(t,e,n){let r;const i=e.split("-");do{const s=i.join("-");r=UY(t,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function UY(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(un(n)||Et(n))&&n[i]&&(r=n[i])}return r}const jY="9.13.1",Sp=-1,iu="en-US",kp="",UC=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function HY(){return{upper:(t,e)=>e==="text"&&Ze(t)?t.toUpperCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ze(t)?t.toLowerCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ze(t)?UC(t):e==="vnode"&&Ht(t)&&"__v_isVNode"in t?UC(t.children):t}}let jC;function HC(t){jC=t}let zC;function zY(t){zC=t}let VC;function VY(t){VC=t}let WC=null;const WY=t=>{WC=t},GY=()=>WC;let GC=null;const YC=t=>{GC=t},YY=()=>GC;let QC=0;function QY(t={}){const e=an(t.onWarn)?t.onWarn:Zn,n=Ze(t.version)?t.version:jY,r=Ze(t.locale)||an(t.locale)?t.locale:iu,i=an(r)?iu:r,s=un(t.fallbackLocale)||Et(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,a=Et(t.messages)?t.messages:{[i]:{}},o=Et(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},l=Et(t.numberFormats)?t.numberFormats:{[i]:{}},d=ur({},t.modifiers||{},HY()),f=t.pluralRules||{},c=an(t.missing)?t.missing:null,h=Dt(t.missingWarn)||Ua(t.missingWarn)?t.missingWarn:!0,p=Dt(t.fallbackWarn)||Ua(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,g=!!t.unresolving,v=an(t.postTranslation)?t.postTranslation:null,y=Et(t.processor)?t.processor:null,x=Dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,I=an(t.messageCompiler)?t.messageCompiler:jC;process.env.NODE_ENV!=="production"&&an(t.messageCompiler)&&xC(Ho(Nr.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const k=an(t.messageResolver)?t.messageResolver:zC||TY,S=an(t.localeFallbacker)?t.localeFallbacker:VC||PY,B=Ht(t.fallbackContext)?t.fallbackContext:void 0,M=t,D=Ht(M.__datetimeFormatters)?M.__datetimeFormatters:new Map,L=Ht(M.__numberFormatters)?M.__numberFormatters:new Map,z=Ht(M.__meta)?M.__meta:{};QC++;const U={version:n,cid:QC,locale:r,fallbackLocale:s,messages:a,modifiers:d,pluralRules:f,missing:c,missingWarn:h,fallbackWarn:p,fallbackFormat:m,unresolving:g,postTranslation:v,processor:y,warnHtmlMessage:x,escapeParameter:w,messageCompiler:I,messageResolver:k,localeFallbacker:S,fallbackContext:B,onWarn:e,__meta:z};return U.datetimeFormats=o,U.numberFormats=l,U.__datetimeFormatters=D,U.__numberFormatters=L,process.env.NODE_ENV!=="production"&&(U.__v_emitter=M.__v_emitter!=null?M.__v_emitter:void 0),(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__)&&MY(U,n,z),U}function Ip(t,e){return t instanceof RegExp?t.test(e):t}function KC(t,e){return t instanceof RegExp?t.test(e):t}function Pb(t,e,n,r,i){const{missing:s,onWarn:a}=t;if(process.env.NODE_ENV!=="production"){const o=t.__v_emitter;o&&o.emit("missing",{locale:n,key:e,type:i,groupId:`${i}:${e}`})}if(s!==null){const o=s(t,n,e,i);return Ze(o)?o:e}else return process.env.NODE_ENV!=="production"&&KC(r,e)&&a(Ho(Nr.NOT_FOUND_KEY,{key:e,locale:n})),e}function Td(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function XC(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function KY(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(XC(t,e[r]))return!0;return!1}function Fb(t){return n=>XY(n,t)}function XY(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const r=n,i=r.c||r.cases;return t.plural(i.reduce((s,a)=>[...s,ZC(t,a)],[]))}else return ZC(t,n)}function ZC(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const r=(e.i||e.items).reduce((i,s)=>[...i,Ub(t,s)],[]);return t.normalize(r)}}function Ub(t,e){const n=e.t||e.type;switch(n){case 3:{const r=e;return r.v||r.value}case 9:{const r=e;return r.v||r.value}case 4:{const r=e;return t.interpolate(t.named(r.k||r.key))}case 5:{const r=e;return t.interpolate(t.list(r.i!=null?r.i:r.index))}case 6:{const r=e,i=r.m||r.modifier;return t.linked(Ub(t,r.k||r.key),i?Ub(t,i):void 0,t.type)}case 7:{const r=e;return r.v||r.value}case 8:{const r=e;return r.v||r.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const ZY="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function JC(t,e){e&&WG(t)&&Zn(Mb(ZY,{source:t}))}const qC=t=>t;let su=Object.create(null);function $C(t){t.code===wp.USE_MODULO_SYNTAX&&Zn(`The use of named interpolation with modulo syntax is deprecated. It will be removed in v10.
reference: https://vue-i18n.intlify.dev/guide/essentials/syntax#rails-i18n-format 
(message compiler warning message: ${t.message})`)}const za=t=>Ht(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function ew(t,e={}){let n=!1;const r=e.onError||zG;return e.onError=i=>{n=!0,r(i)},{...hY(t,e),detectError:n}}const JY=(t,e)=>{if(!Ze(t))throw ks(nr.NOT_SUPPORT_NON_STRING_MESSAGE);process.env.NODE_ENV!=="production"&&(e.onWarn=$C);{const n=Dt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&JC(t,n);const i=(e.onCacheKey||qC)(t),s=su[i];if(s)return s;const{code:a,detectError:o}=ew(t,e),l=new Function(`return ${a}`)();return o?l:su[i]=l}};function qY(t,e){if(process.env.NODE_ENV!=="production"&&(e.onWarn=$C),__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ze(t)){const n=Dt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&JC(t,n);const i=(e.onCacheKey||qC)(t),s=su[i];if(s)return s;const{ast:a,detectError:o}=ew(t,{...e,location:process.env.NODE_ENV!=="production",jit:!0}),l=Fb(a);return o?l:su[i]=l}else{if(process.env.NODE_ENV!=="production"&&!za(t))return Zn(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const n=t.cacheKey;if(n){const r=su[n];return r||(su[n]=Fb(t))}else return Fb(t)}}const tw=()=>"",Ii=t=>an(t);function nw(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:o}=t,[l,d]=jb(...e),f=Dt(d.missingWarn)?d.missingWarn:t.missingWarn,c=Dt(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn,h=Dt(d.escapeParameter)?d.escapeParameter:t.escapeParameter,p=!!d.resolvedMessage,m=Ze(d.default)||Dt(d.default)?Dt(d.default)?s?l:()=>l:d.default:n?s?l:()=>l:"",g=n||m!=="",v=Rb(t,d);h&&$Y(d);let[y,x,w]=p?[l,v,o[v]||{}]:rw(t,l,v,a,c,f),I=y,k=l;if(!p&&!(Ze(I)||za(I)||Ii(I))&&g&&(I=m,k=I),!p&&(!(Ze(I)||za(I)||Ii(I))||!Ze(x)))return i?Sp:l;if(process.env.NODE_ENV!=="production"&&Ze(I)&&t.messageCompiler==null)return Zn(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let S=!1;const B=()=>{S=!0},M=Ii(I)?I:iw(t,l,x,I,k,B);if(S)return I;const D=rQ(t,x,w,d),L=DY(D),z=eQ(t,M,L),U=r?r(z,l):z;if(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const F={timestamp:Date.now(),key:Ze(l)?l:Ii(I)?I.key:"",locale:x||(Ii(I)?I.locale:""),format:Ze(I)?I:Ii(I)?I.source:"",message:U};F.meta=ur({},t.__meta,GY()||{}),OY(F)}return U}function $Y(t){un(t.list)?t.list=t.list.map(e=>Ze(e)?yC(e):e):Ht(t.named)&&Object.keys(t.named).forEach(e=>{Ze(t.named[e])&&(t.named[e]=yC(t.named[e]))})}function rw(t,e,n,r,i,s){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:d}=t,f=d(t,r,n);let c={},h,p=null,m=n,g=null;const v="translate";for(let y=0;y<f.length;y++){if(h=g=f[y],process.env.NODE_ENV!=="production"&&n!==h&&!XC(n,h)&&Ip(i,e)&&o(Ho(Nr.FALLBACK_TO_TRANSLATE,{key:e,target:h})),process.env.NODE_ENV!=="production"&&n!==h){const k=t.__v_emitter;k&&k.emit("fallback",{type:v,key:e,from:m,to:g,groupId:`${v}:${e}`})}c=a[h]||{};let x=null,w,I;if(process.env.NODE_ENV!=="production"&&rs&&(x=window.performance.now(),w="intlify-message-resolve-start",I="intlify-message-resolve-end",hi&&hi(w)),(p=l(c,e))===null&&(p=c[e]),process.env.NODE_ENV!=="production"&&rs){const k=window.performance.now(),S=t.__v_emitter;S&&x&&p&&S.emit("message-resolve",{type:"message-resolve",key:e,message:p,time:k-x,groupId:`${v}:${e}`}),w&&I&&hi&&Uo&&(hi(I),Uo("intlify message resolve",w,I))}if(Ze(p)||za(p)||Ii(p))break;if(!KY(h,f)){const k=Pb(t,e,h,s,v);k!==e&&(p=k)}m=g}return[p,h,c]}function iw(t,e,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Ii(r)){const h=r;return h.locale=h.locale||n,h.key=h.key||e,h}if(a==null){const h=()=>r;return h.locale=n,h.key=e,h}let l=null,d,f;process.env.NODE_ENV!=="production"&&rs&&(l=window.performance.now(),d="intlify-message-compilation-start",f="intlify-message-compilation-end",hi&&hi(d));const c=a(r,tQ(t,n,i,r,o,s));if(process.env.NODE_ENV!=="production"&&rs){const h=window.performance.now(),p=t.__v_emitter;p&&l&&p.emit("message-compilation",{type:"message-compilation",message:r,time:h-l,groupId:`translate:${e}`}),d&&f&&hi&&Uo&&(hi(f),Uo("intlify message compilation",d,f))}return c.locale=n,c.key=e,c.source=r,c}function eQ(t,e,n){let r=null,i,s;process.env.NODE_ENV!=="production"&&rs&&(r=window.performance.now(),i="intlify-message-evaluation-start",s="intlify-message-evaluation-end",hi&&hi(i));const a=e(n);if(process.env.NODE_ENV!=="production"&&rs){const o=window.performance.now(),l=t.__v_emitter;l&&r&&l.emit("message-evaluation",{type:"message-evaluation",value:a,time:o-r,groupId:`translate:${e.key}`}),i&&s&&hi&&Uo&&(hi(s),Uo("intlify message evaluation",i,s))}return a}function jb(...t){const[e,n,r]=t,i={};if(!Ze(e)&&!Xn(e)&&!Ii(e)&&!za(e))throw ks(nr.INVALID_ARGUMENT);const s=Xn(e)?String(e):(Ii(e),e);return Xn(n)?i.plural=n:Ze(n)?i.default=n:Et(n)&&!_p(n)?i.named=n:un(n)&&(i.list=n),Xn(r)?i.plural=r:Ze(r)?i.default=r:Et(r)&&ur(i,r),[s,i]}function tQ(t,e,n,r,i,s){return{locale:e,key:n,warnHtmlMessage:i,onError:a=>{if(s&&s(a),process.env.NODE_ENV!=="production"){const o=nQ(r),l=`Message compilation error: ${a.message}`,d=a.location&&o&&RG(o,a.location.start.offset,a.location.end.offset),f=t.__v_emitter;f&&o&&f.emit("compile-error",{message:o,error:a.message,start:a.location&&a.location.start.offset,end:a.location&&a.location.end.offset,groupId:`translate:${n}`}),console.error(d?`${l}
${d}`:l)}else throw a},onCacheKey:a=>kG(e,n,a)}}function nQ(t){if(Ze(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function rQ(t,e,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:d,fallbackContext:f}=t,h={locale:e,modifiers:i,pluralRules:s,messages:p=>{let m=a(n,p);if(m==null&&f){const[,,g]=rw(f,p,e,o,l,d);m=a(g,p)}if(Ze(m)||za(m)){let g=!1;const y=iw(t,p,e,m,p,()=>{g=!0});return g?tw:y}else return Ii(m)?m:tw}};return t.processor&&(h.processor=t.processor),r.list&&(h.list=r.list),r.named&&(h.named=r.named),Xn(r.plural)&&(h.pluralIndex=r.plural),h}const sw=typeof Intl<"u",aw={dateTimeFormat:sw&&typeof Intl.DateTimeFormat<"u",numberFormat:sw&&typeof Intl.NumberFormat<"u"};function ow(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t;if(process.env.NODE_ENV!=="production"&&!aw.dateTimeFormat)return s(Ho(Nr.CANNOT_FORMAT_DATE)),kp;const[l,d,f,c]=Hb(...e),h=Dt(f.missingWarn)?f.missingWarn:t.missingWarn,p=Dt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,g=Rb(t,f),v=a(t,i,g);if(!Ze(l)||l==="")return new Intl.DateTimeFormat(g,c).format(d);let y={},x,w=null,I=g,k=null;const S="datetime format";for(let D=0;D<v.length;D++){if(x=k=v[D],process.env.NODE_ENV!=="production"&&g!==x&&Ip(p,l)&&s(Ho(Nr.FALLBACK_TO_DATE_FORMAT,{key:l,target:x})),process.env.NODE_ENV!=="production"&&g!==x){const L=t.__v_emitter;L&&L.emit("fallback",{type:S,key:l,from:I,to:k,groupId:`${S}:${l}`})}if(y=n[x]||{},w=y[l],Et(w))break;Pb(t,l,x,h,S),I=k}if(!Et(w)||!Ze(x))return r?Sp:l;let B=`${x}__${l}`;_p(c)||(B=`${B}__${JSON.stringify(c)}`);let M=o.get(B);return M||(M=new Intl.DateTimeFormat(x,ur({},w,c)),o.set(B,M)),m?M.formatToParts(d):M.format(d)}const lw=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Hb(...t){const[e,n,r,i]=t,s={};let a={},o;if(Ze(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw ks(nr.INVALID_ISO_DATE_ARGUMENT);const d=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(d);try{o.toISOString()}catch{throw ks(nr.INVALID_ISO_DATE_ARGUMENT)}}else if(DG(e)){if(isNaN(e.getTime()))throw ks(nr.INVALID_DATE_ARGUMENT);o=e}else if(Xn(e))o=e;else throw ks(nr.INVALID_ARGUMENT);return Ze(n)?s.key=n:Et(n)&&Object.keys(n).forEach(l=>{lw.includes(l)?a[l]=n[l]:s[l]=n[l]}),Ze(r)?s.locale=r:Et(r)&&(a=r),Et(i)&&(a=i),[s.key||"",o,s,a]}function uw(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function cw(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t;if(process.env.NODE_ENV!=="production"&&!aw.numberFormat)return s(Ho(Nr.CANNOT_FORMAT_NUMBER)),kp;const[l,d,f,c]=zb(...e),h=Dt(f.missingWarn)?f.missingWarn:t.missingWarn,p=Dt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,g=Rb(t,f),v=a(t,i,g);if(!Ze(l)||l==="")return new Intl.NumberFormat(g,c).format(d);let y={},x,w=null,I=g,k=null;const S="number format";for(let D=0;D<v.length;D++){if(x=k=v[D],process.env.NODE_ENV!=="production"&&g!==x&&Ip(p,l)&&s(Ho(Nr.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:x})),process.env.NODE_ENV!=="production"&&g!==x){const L=t.__v_emitter;L&&L.emit("fallback",{type:S,key:l,from:I,to:k,groupId:`${S}:${l}`})}if(y=n[x]||{},w=y[l],Et(w))break;Pb(t,l,x,h,S),I=k}if(!Et(w)||!Ze(x))return r?Sp:l;let B=`${x}__${l}`;_p(c)||(B=`${B}__${JSON.stringify(c)}`);let M=o.get(B);return M||(M=new Intl.NumberFormat(x,ur({},w,c)),o.set(B,M)),m?M.formatToParts(d):M.format(d)}const dw=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function zb(...t){const[e,n,r,i]=t,s={};let a={};if(!Xn(e))throw ks(nr.INVALID_ARGUMENT);const o=e;return Ze(n)?s.key=n:Et(n)&&Object.keys(n).forEach(l=>{dw.includes(l)?a[l]=n[l]:s[l]=n[l]}),Ze(r)?s.locale=r:Et(r)&&(a=r),Et(i)&&(a=i),[s.key||"",o,s,a]}function fw(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}pY();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const iQ="9.13.1";function sQ(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(sa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(sa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(sa().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(sa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sa().__INTLIFY_PROD_DEVTOOLS__=!1)}const hw=Nr.__EXTEND_POINT__,oa=Ep(hw),bn={FALLBACK_TO_ROOT:hw,NOT_SUPPORTED_PRESERVE:oa(),NOT_SUPPORTED_FORMATTER:oa(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:oa(),NOT_SUPPORTED_GET_CHOICE_INDEX:oa(),COMPONENT_NAME_LEGACY_COMPATIBLE:oa(),NOT_FOUND_PARENT_SCOPE:oa(),IGNORE_OBJ_FLATTEN:oa(),NOTICE_DROP_ALLOW_COMPOSITION:oa(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:oa()},aQ={[bn.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[bn.NOT_SUPPORTED_PRESERVE]:"Not supported 'preserve'.",[bn.NOT_SUPPORTED_FORMATTER]:"Not supported 'formatter'.",[bn.NOT_SUPPORTED_PRESERVE_DIRECTIVE]:"Not supported 'preserveDirectiveContent'.",[bn.NOT_SUPPORTED_GET_CHOICE_INDEX]:"Not supported 'getChoiceIndex'.",[bn.COMPONENT_NAME_LEGACY_COMPATIBLE]:"Component name legacy compatible: '{name}' -> 'i18n'",[bn.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[bn.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[bn.NOTICE_DROP_ALLOW_COMPOSITION]:"'allowComposition' option will be dropped in the next major version. For more information, please see 👉 https://tinyurl.com/2p97mcze",[bn.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG]:"'translateExistCompatible' option will be dropped in the next major version."};function Xr(t,...e){return Mb(aQ[t],...e)}const pw=nr.__EXTEND_POINT__,Zr=Ep(pw),Ut={UNEXPECTED_RETURN_TYPE:pw,INVALID_ARGUMENT:Zr(),MUST_BE_CALL_SETUP_TOP:Zr(),NOT_INSTALLED:Zr(),NOT_AVAILABLE_IN_LEGACY_MODE:Zr(),REQUIRED_VALUE:Zr(),INVALID_VALUE:Zr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Zr(),NOT_INSTALLED_WITH_PROVIDE:Zr(),UNEXPECTED_ERROR:Zr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Zr(),BRIDGE_SUPPORT_VUE_2_ONLY:Zr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Zr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Zr(),__EXTEND_POINT__:Zr()};function Jn(t,...e){return tu(t,null,process.env.NODE_ENV!=="production"?{messages:oQ,args:e}:void 0)}const oQ={[Ut.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Ut.INVALID_ARGUMENT]:"Invalid argument",[Ut.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Ut.NOT_INSTALLED]:"Need to install with `app.use` function",[Ut.UNEXPECTED_ERROR]:"Unexpected error",[Ut.NOT_AVAILABLE_IN_LEGACY_MODE]:"Not available in legacy mode",[Ut.REQUIRED_VALUE]:"Required in value: {0}",[Ut.INVALID_VALUE]:"Invalid value",[Ut.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Ut.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Ut.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Ut.BRIDGE_SUPPORT_VUE_2_ONLY]:"vue-i18n-bridge support Vue 2.x only",[Ut.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]:"Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode",[Ut.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},Vb=Ss("__translateVNode"),Wb=Ss("__datetimeParts"),Gb=Ss("__numberParts"),Vo=Ss("__enableEmitter"),Ed=Ss("__disableEmitter"),mw=Ss("__setPluralRules"),gw=Ss("__injectWithOption"),Yb=Ss("__dispose");function Ad(t){if(!Ht(t))return t;for(const e in t)if(Tp(t,e))if(!e.includes("."))Ht(t[e])&&Ad(t[e]);else{const n=e.split("."),r=n.length-1;let i=t,s=!1;for(let a=0;a<r;a++){if(n[a]in i||(i[n[a]]={}),!Ht(i[n[a]])){process.env.NODE_ENV!=="production"&&Zn(Xr(bn.IGNORE_OBJ_FLATTEN,{key:n[a]})),s=!0;break}i=i[n[a]]}s||(i[n[r]]=t[e],delete t[e]),Ht(i[n[r]])&&Ad(i[n[r]])}return t}function Dp(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=e,a=Et(n)?n:un(r)?{}:{[t]:{}};if(un(r)&&r.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:d}=o;l?(a[l]=a[l]||{},xp(d,a[l])):xp(d,a)}else Ze(o)&&xp(JSON.parse(o),a)}),i==null&&s)for(const o in a)Tp(a,o)&&Ad(a[o]);return a}function bw(t){return t.type}function vw(t,e,n){let r=Ht(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=Dp(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,r[s])});{if(Ht(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(Ht(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function yw(t){return u.createVNode(u.Text,null,t,0)}const _w="__INTLIFY_META__",Tw=()=>[],lQ=()=>!1;let Ew=0;function Aw(t){return(e,n,r,i)=>t(n,r,u.getCurrentInstance()||void 0,i)}const uQ=()=>{const t=u.getCurrentInstance();let e=null;return t&&(e=bw(t)[_w])?{[_w]:e}:null};function Qb(t={},e){const{__root:n,__injectWithOption:r}=t,i=n===void 0,s=t.flatJson,a=rs?u.ref:u.shallowRef,o=!!t.translateExistCompatible;process.env.NODE_ENV!=="production"&&o&&xC(Xr(bn.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG));let l=Dt(t.inheritLocale)?t.inheritLocale:!0;const d=a(n&&l?n.locale.value:Ze(t.locale)?t.locale:iu),f=a(n&&l?n.fallbackLocale.value:Ze(t.fallbackLocale)||un(t.fallbackLocale)||Et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),c=a(Dp(d.value,t)),h=a(Et(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),p=a(Et(t.numberFormats)?t.numberFormats:{[d.value]:{}});let m=n?n.missingWarn:Dt(t.missingWarn)||Ua(t.missingWarn)?t.missingWarn:!0,g=n?n.fallbackWarn:Dt(t.fallbackWarn)||Ua(t.fallbackWarn)?t.fallbackWarn:!0,v=n?n.fallbackRoot:Dt(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,x=an(t.missing)?t.missing:null,w=an(t.missing)?Aw(t.missing):null,I=an(t.postTranslation)?t.postTranslation:null,k=n?n.warnHtmlMessage:Dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter;const B=n?n.modifiers:Et(t.modifiers)?t.modifiers:{};let M=t.pluralRules||n&&n.pluralRules,D;D=(()=>{i&&YC(null);const Ee={version:iQ,locale:d.value,fallbackLocale:f.value,messages:c.value,modifiers:B,pluralRules:M,missing:w===null?void 0:w,missingWarn:m,fallbackWarn:g,fallbackFormat:y,unresolving:!0,postTranslation:I===null?void 0:I,warnHtmlMessage:k,escapeParameter:S,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Ee.datetimeFormats=h.value,Ee.numberFormats=p.value,Ee.__datetimeFormatters=Et(D)?D.__datetimeFormatters:void 0,Ee.__numberFormatters=Et(D)?D.__numberFormatters:void 0,process.env.NODE_ENV!=="production"&&(Ee.__v_emitter=Et(D)?D.__v_emitter:void 0);const Oe=QY(Ee);return i&&YC(Oe),Oe})(),Td(D,d.value,f.value);function z(){return[d.value,f.value,c.value,h.value,p.value]}const U=u.computed({get:()=>d.value,set:Ee=>{d.value=Ee,D.locale=d.value}}),F=u.computed({get:()=>f.value,set:Ee=>{f.value=Ee,D.fallbackLocale=f.value,Td(D,d.value,Ee)}}),H=u.computed(()=>c.value),K=u.computed(()=>h.value),P=u.computed(()=>p.value);function W(){return an(I)?I:null}function ie(Ee){I=Ee,D.postTranslation=Ee}function Q(){return x}function N(Ee){Ee!==null&&(w=Aw(Ee)),x=Ee,D.missing=w}function E(Ee,Oe){return Ee!=="translate"||!Oe.resolvedMessage}const j=(Ee,Oe,nt,_t,Ot,st)=>{z();let qt;try{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(D.fallbackContext=n?YY():void 0),qt=Ee(D)}finally{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(D.fallbackContext=void 0)}if(nt!=="translate exists"&&Xn(qt)&&qt===Sp||nt==="translate exists"&&!qt){const[Mt,wn]=Oe();if(process.env.NODE_ENV!=="production"&&n&&Ze(Mt)&&E(nt,wn)&&(v&&(Ip(g,Mt)||KC(m,Mt))&&Zn(Xr(bn.FALLBACK_TO_ROOT,{key:Mt,type:nt})),process.env.NODE_ENV!=="production")){const{__v_emitter:Dn}=D;Dn&&v&&Dn.emit("fallback",{type:nt,key:Mt,to:"global",groupId:`${nt}:${Mt}`})}return n&&v?_t(n):Ot(Mt)}else{if(st(qt))return qt;throw Jn(Ut.UNEXPECTED_RETURN_TYPE)}};function G(...Ee){return j(Oe=>Reflect.apply(nw,null,[Oe,...Ee]),()=>jb(...Ee),"translate",Oe=>Reflect.apply(Oe.t,Oe,[...Ee]),Oe=>Oe,Oe=>Ze(Oe))}function X(...Ee){const[Oe,nt,_t]=Ee;if(_t&&!Ht(_t))throw Jn(Ut.INVALID_ARGUMENT);return G(Oe,nt,ur({resolvedMessage:!0},_t||{}))}function Z(...Ee){return j(Oe=>Reflect.apply(ow,null,[Oe,...Ee]),()=>Hb(...Ee),"datetime format",Oe=>Reflect.apply(Oe.d,Oe,[...Ee]),()=>kp,Oe=>Ze(Oe))}function ce(...Ee){return j(Oe=>Reflect.apply(cw,null,[Oe,...Ee]),()=>zb(...Ee),"number format",Oe=>Reflect.apply(Oe.n,Oe,[...Ee]),()=>kp,Oe=>Ze(Oe))}function re(Ee){return Ee.map(Oe=>Ze(Oe)||Xn(Oe)||Dt(Oe)?yw(String(Oe)):Oe)}const me={normalize:re,interpolate:Ee=>Ee,type:"vnode"};function de(...Ee){return j(Oe=>{let nt;const _t=Oe;try{_t.processor=me,nt=Reflect.apply(nw,null,[_t,...Ee])}finally{_t.processor=null}return nt},()=>jb(...Ee),"translate",Oe=>Oe[Vb](...Ee),Oe=>[yw(Oe)],Oe=>un(Oe))}function Te(...Ee){return j(Oe=>Reflect.apply(cw,null,[Oe,...Ee]),()=>zb(...Ee),"number format",Oe=>Oe[Gb](...Ee),Tw,Oe=>Ze(Oe)||un(Oe))}function Ae(...Ee){return j(Oe=>Reflect.apply(ow,null,[Oe,...Ee]),()=>Hb(...Ee),"datetime format",Oe=>Oe[Wb](...Ee),Tw,Oe=>Ze(Oe)||un(Oe))}function Le(Ee){M=Ee,D.pluralRules=M}function ge(Ee,Oe){return j(()=>{if(!Ee)return!1;const nt=Ze(Oe)?Oe:d.value,_t=ue(nt),Ot=D.messageResolver(_t,Ee);return o?Ot!=null:za(Ot)||Ii(Ot)||Ze(Ot)},()=>[Ee],"translate exists",nt=>Reflect.apply(nt.te,nt,[Ee,Oe]),lQ,nt=>Dt(nt))}function Pe(Ee){let Oe=null;const nt=PC(D,f.value,d.value);for(let _t=0;_t<nt.length;_t++){const Ot=c.value[nt[_t]]||{},st=D.messageResolver(Ot,Ee);if(st!=null){Oe=st;break}}return Oe}function qe(Ee){const Oe=Pe(Ee);return Oe??(n?n.tm(Ee)||{}:{})}function ue(Ee){return c.value[Ee]||{}}function ye(Ee,Oe){if(s){const nt={[Ee]:Oe};for(const _t in nt)Tp(nt,_t)&&Ad(nt[_t]);Oe=nt[Ee]}c.value[Ee]=Oe,D.messages=c.value}function Be(Ee,Oe){c.value[Ee]=c.value[Ee]||{};const nt={[Ee]:Oe};if(s)for(const _t in nt)Tp(nt,_t)&&Ad(nt[_t]);Oe=nt[Ee],xp(Oe,c.value[Ee]),D.messages=c.value}function V(Ee){return h.value[Ee]||{}}function Y(Ee,Oe){h.value[Ee]=Oe,D.datetimeFormats=h.value,uw(D,Ee,Oe)}function he(Ee,Oe){h.value[Ee]=ur(h.value[Ee]||{},Oe),D.datetimeFormats=h.value,uw(D,Ee,Oe)}function we(Ee){return p.value[Ee]||{}}function Re(Ee,Oe){p.value[Ee]=Oe,D.numberFormats=p.value,fw(D,Ee,Oe)}function ze(Ee,Oe){p.value[Ee]=ur(p.value[Ee]||{},Oe),D.numberFormats=p.value,fw(D,Ee,Oe)}Ew++,n&&rs&&(u.watch(n.locale,Ee=>{l&&(d.value=Ee,D.locale=Ee,Td(D,d.value,f.value))}),u.watch(n.fallbackLocale,Ee=>{l&&(f.value=Ee,D.fallbackLocale=Ee,Td(D,d.value,f.value))}));const rt={id:Ew,locale:U,fallbackLocale:F,get inheritLocale(){return l},set inheritLocale(Ee){l=Ee,Ee&&n&&(d.value=n.locale.value,f.value=n.fallbackLocale.value,Td(D,d.value,f.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:H,get modifiers(){return B},get pluralRules(){return M||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(Ee){m=Ee,D.missingWarn=m},get fallbackWarn(){return g},set fallbackWarn(Ee){g=Ee,D.fallbackWarn=g},get fallbackRoot(){return v},set fallbackRoot(Ee){v=Ee},get fallbackFormat(){return y},set fallbackFormat(Ee){y=Ee,D.fallbackFormat=y},get warnHtmlMessage(){return k},set warnHtmlMessage(Ee){k=Ee,D.warnHtmlMessage=Ee},get escapeParameter(){return S},set escapeParameter(Ee){S=Ee,D.escapeParameter=Ee},t:G,getLocaleMessage:ue,setLocaleMessage:ye,mergeLocaleMessage:Be,getPostTranslationHandler:W,setPostTranslationHandler:ie,getMissingHandler:Q,setMissingHandler:N,[mw]:Le};return rt.datetimeFormats=K,rt.numberFormats=P,rt.rt=X,rt.te=ge,rt.tm=qe,rt.d=Z,rt.n=ce,rt.getDateTimeFormat=V,rt.setDateTimeFormat=Y,rt.mergeDateTimeFormat=he,rt.getNumberFormat=we,rt.setNumberFormat=Re,rt.mergeNumberFormat=ze,rt[gw]=r,rt[Vb]=de,rt[Wb]=Ae,rt[Gb]=Te,process.env.NODE_ENV!=="production"&&(rt[Vo]=Ee=>{D.__v_emitter=Ee},rt[Ed]=()=>{D.__v_emitter=void 0}),rt}function cQ(t){const e=Ze(t.locale)?t.locale:iu,n=Ze(t.fallbackLocale)||un(t.fallbackLocale)||Et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=an(t.missing)?t.missing:void 0,i=Dt(t.silentTranslationWarn)||Ua(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=Dt(t.silentFallbackWarn)||Ua(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=Dt(t.fallbackRoot)?t.fallbackRoot:!0,o=!!t.formatFallbackMessages,l=Et(t.modifiers)?t.modifiers:{},d=t.pluralizationRules,f=an(t.postTranslation)?t.postTranslation:void 0,c=Ze(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,p=Dt(t.sync)?t.sync:!0;process.env.NODE_ENV!=="production"&&t.formatter&&Zn(Xr(bn.NOT_SUPPORTED_FORMATTER)),process.env.NODE_ENV!=="production"&&t.preserveDirectiveContent&&Zn(Xr(bn.NOT_SUPPORTED_PRESERVE_DIRECTIVE));let m=t.messages;if(Et(t.sharedMessages)){const S=t.sharedMessages;m=Object.keys(S).reduce((M,D)=>{const L=M[D]||(M[D]={});return ur(L,S[D]),M},m||{})}const{__i18n:g,__root:v,__injectWithOption:y}=t,x=t.datetimeFormats,w=t.numberFormats,I=t.flatJson,k=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:m,flatJson:I,datetimeFormats:x,numberFormats:w,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:a,fallbackFormat:o,modifiers:l,pluralRules:d,postTranslation:f,warnHtmlMessage:c,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:k,__i18n:g,__root:v,__injectWithOption:y}}function Kb(t={},e){{const n=Qb(cQ(t)),{__extender:r}=t,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return process.env.NODE_ENV!=="production"&&Zn(Xr(bn.NOT_SUPPORTED_FORMATTER)),{interpolate(){return[]}}},set formatter(s){process.env.NODE_ENV!=="production"&&Zn(Xr(bn.NOT_SUPPORTED_FORMATTER))},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return Dt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=Dt(s)?!s:s},get silentFallbackWarn(){return Dt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=Dt(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return process.env.NODE_ENV!=="production"&&Zn(Xr(bn.NOT_SUPPORTED_PRESERVE_DIRECTIVE)),!0},set preserveDirectiveContent(s){process.env.NODE_ENV!=="production"&&Zn(Xr(bn.NOT_SUPPORTED_PRESERVE_DIRECTIVE))},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,o,l]=s,d={};let f=null,c=null;if(!Ze(a))throw Jn(Ut.INVALID_ARGUMENT);const h=a;return Ze(o)?d.locale=o:un(o)?f=o:Et(o)&&(c=o),un(l)?f=l:Et(l)&&(c=l),Reflect.apply(n.t,n,[h,f||c||{},d])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,o,l]=s,d={plural:1};let f=null,c=null;if(!Ze(a))throw Jn(Ut.INVALID_ARGUMENT);const h=a;return Ze(o)?d.locale=o:Xn(o)?d.plural=o:un(o)?f=o:Et(o)&&(c=o),Ze(l)?d.locale=l:un(l)?f=l:Et(l)&&(c=l),Reflect.apply(n.t,n,[h,f||c||{},d])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return process.env.NODE_ENV!=="production"&&Zn(Xr(bn.NOT_SUPPORTED_GET_CHOICE_INDEX)),-1}};return i.__extender=r,process.env.NODE_ENV!=="production"&&(i.__enableEmitter=s=>{const a=n;a[Vo]&&a[Vo](s)},i.__disableEmitter=()=>{const s=n;s[Ed]&&s[Ed]()}),i}}const Xb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function dQ({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,i)=>[...r,...i.type===u.Fragment?i.children:[i]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},{})}function xw(t){return u.Fragment}const Zb=u.defineComponent({name:"i18n-t",props:ur({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Xn(t)||!isNaN(t)}},Xb),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||ss({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(c=>c!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Ze(t.plural)?+t.plural:t.plural);const o=dQ(e,s),l=i[Vb](t.keypath,o,a),d=ur({},r),f=Ze(t.tag)||Ht(t.tag)?t.tag:xw();return u.h(f,d,l)}}});function fQ(t){return un(t)&&!Ze(t[0])}function Cw(t,e,n,r){const{slots:i,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),Ze(t.format)?a.key=t.format:Ht(t.format)&&(Ze(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((h,p)=>n.includes(p)?ur({},h,{[p]:t.format[p]}):h,{}));const l=r(t.value,a,o);let d=[a.key];un(l)?d=l.map((h,p)=>{const m=i[h.type],g=m?m({[h.type]:h.value,index:p,parts:l}):[h.value];return fQ(g)&&(g[0].key=`${h.type}-${p}`),g}):Ze(l)&&(d=[l]);const f=ur({},s),c=Ze(t.tag)||Ht(t.tag)?t.tag:xw();return u.h(c,f,d)}}const ww=u.defineComponent({name:"i18n-n",props:ur({value:{type:Number,required:!0},format:{type:[String,Object]}},Xb),setup(t,e){const n=t.i18n||ss({useScope:t.scope,__useComponent:!0});return Cw(t,e,dw,(...r)=>n[Gb](...r))}}),Sw=u.defineComponent({name:"i18n-d",props:ur({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Xb),setup(t,e){const n=t.i18n||ss({useScope:t.scope,__useComponent:!0});return Cw(t,e,lw,(...r)=>n[Wb](...r))}});function hQ(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function pQ(t){const e=a=>{const{instance:o,modifiers:l,value:d}=a;if(!o||!o.$)throw Jn(Ut.UNEXPECTED_ERROR);const f=hQ(t,o.$);process.env.NODE_ENV!=="production"&&l.preserve&&Zn(Xr(bn.NOT_SUPPORTED_PRESERVE));const c=kw(d);return[Reflect.apply(f.t,f,[...Iw(c)]),f]};return{created:(a,o)=>{const[l,d]=e(o);rs&&t.global===d&&(a.__i18nWatcher=u.watch(d.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=d,a.textContent=l},unmounted:a=>{rs&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,d=kw(o);a.textContent=Reflect.apply(l.t,l,[...Iw(d)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function kw(t){if(Ze(t))return{path:t};if(Et(t)){if(!("path"in t))throw Jn(Ut.REQUIRED_VALUE,"path");return t}else throw Jn(Ut.INVALID_VALUE)}function Iw(t){const{path:e,locale:n,args:r,choice:i,plural:s}=t,a={},o=r||{};return Ze(n)&&(a.locale=n),Xn(i)&&(a.plural=i),Xn(s)&&(a.plural=s),[e,o,a]}function mQ(t,e,...n){const r=Et(n[0])?n[0]:{},i=!!r.useI18nComponentName,s=Dt(r.globalInstall)?r.globalInstall:!0;process.env.NODE_ENV!=="production"&&s&&i&&Zn(Xr(bn.COMPONENT_NAME_LEGACY_COMPATIBLE,{name:Zb.name})),s&&([i?"i18n":Zb.name,"I18nT"].forEach(a=>t.component(a,Zb)),[ww.name,"I18nN"].forEach(a=>t.component(a,ww)),[Sw.name,"I18nD"].forEach(a=>t.component(a,Sw))),t.directive("t",pQ(e))}const Jb={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},gQ={"vue-i18n-resource-inspector":"Search for scopes ..."},bQ={"vue-i18n-timeline":16764185},Dw="vue-i18n: composer properties";let qb;async function vQ(t,e){return new Promise((n,r)=>{try{MT({id:"vue-devtools-plugin-vue-i18n",label:Jb["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[Dw],app:t},i=>{qb=i,i.on.visitComponentTree(({componentInstance:a,treeNode:o})=>{yQ(a,o,e)}),i.on.inspectComponent(({componentInstance:a,instanceData:o})=>{a.vnode.el&&a.vnode.el.__VUE_I18N__&&o&&(e.mode==="legacy"?a.vnode.el.__VUE_I18N__!==e.global.__composer&&Mw(o,a.vnode.el.__VUE_I18N__):Mw(o,a.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:Jb["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:gQ["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(a=>{a.app===t&&a.inspectorId==="vue-i18n-resource-inspector"&&xQ(a,e)});const s=new Map;i.on.getInspectorState(async a=>{if(a.app===t&&a.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),wQ(a,e),a.nodeId==="global"){if(!s.has(a.app)){const[o]=await i.getComponentInstances(a.app);s.set(a.app,o)}i.highlightElement(s.get(a.app))}else{const o=CQ(a.nodeId,e);o&&i.highlightElement(o)}}),i.on.editInspectorState(a=>{a.app===t&&a.inspectorId==="vue-i18n-resource-inspector"&&kQ(a,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:Jb["vue-i18n-timeline"],color:bQ["vue-i18n-timeline"]}),n(!0)})}catch(i){console.error(i),r(!1)}})}function Nw(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function yQ(t,e,n){const r=n.mode==="composition"?n.global:n.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==r){const i={label:`i18n (${Nw(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function Mw(t,e){const n=Dw;t.state.push({type:n,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:n,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:n,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:n,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:n,key:"messages",editable:!1,value:$b(e.messages.value)}),t.state.push({type:n,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:n,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function $b(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];an(r)&&"source"in r?e[n]=AQ(r):za(r)&&r.loc&&r.loc.source?e[n]=r.loc.source:Ht(r)?e[n]=$b(r):e[n]=r}),e}const _Q={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function TQ(t){return t.replace(/[<>"&]/g,EQ)}function EQ(t){return _Q[t]||t}function AQ(t){return{_custom:{type:"function",display:`<span>ƒ</span> ${t.source?`("${TQ(t.source)}")`:"(?)"}`}}}function xQ(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const n=e.mode==="composition"?e.global:e.global.__composer;for(const[r,i]of e.__instances){const s=e.mode==="composition"?i:i.__composer;n!==s&&t.rootNodes.push({id:s.id.toString(),label:`${Nw(r)} Scope`})}}function CQ(t,e){let n=null;if(t!=="global"){for(const[r,i]of e.__instances.entries())if(i.id.toString()===t){n=r;break}}return n}function Ow(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const n=Array.from(e.__instances.values()).find(r=>r.id.toString()===t);return n?e.mode==="composition"?n:n.__composer:null}}function wQ(t,e){const n=Ow(t.nodeId,e);return n&&(t.state=SQ(n)),null}function SQ(t){const e={},n="Locale related info",r=[{type:n,key:"locale",editable:!0,value:t.locale.value},{type:n,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:n,key:"availableLocales",editable:!1,value:t.availableLocales},{type:n,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[n]=r;const i="Locale messages info",s=[{type:i,key:"messages",editable:!1,value:$b(t.messages.value)}];e[i]=s;{const a="Datetime formats info",o=[{type:a,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[a]=o;const l="Datetime formats info",d=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=d}return e}function xd(t,e){if(qb){let n;e&&"groupId"in e&&(n=e.groupId,delete e.groupId),qb.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:n,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function kQ(t,e){const n=Ow(t.nodeId,e);if(n){const[r]=t.path;r==="locale"&&Ze(t.state.value)?n.locale.value=t.state.value:r==="fallbackLocale"&&(Ze(t.state.value)||un(t.state.value)||Ht(t.state.value))?n.fallbackLocale.value=t.state.value:r==="inheritLocale"&&Dt(t.state.value)&&(n.inheritLocale=t.state.value)}}function IQ(t,e,n){return{beforeCreate(){const r=u.getCurrentInstance();if(!r)throw Jn(Ut.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=Lw(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Kb(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=Lw(t,i);else{this.$i18n=Kb({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&vw(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){if(process.env.NODE_ENV!=="production"&&this.$el&&this.$i18n){const r=this.$i18n;this.$el.__VUE_I18N__=r.__composer;const i=this.__v_emitter=Ob();r.__enableEmitter&&r.__enableEmitter(i),i.on("*",xd)}},unmounted(){const r=u.getCurrentInstance();if(!r)throw Jn(Ut.UNEXPECTED_ERROR);const i=this.$i18n;process.env.NODE_ENV!=="production"&&this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",xd),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function Lw(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[mw](e.pluralizationRules||t.pluralizationRules);const n=Dp(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const DQ=Ss("global-vue-i18n");function NQ(t={},e){const n=__VUE_I18N_LEGACY_API__&&Dt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Dt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[a,o]=MQ(t,n),l=Ss(process.env.NODE_ENV!=="production"?"vue-i18n":"");process.env.NODE_ENV!=="production"&&n&&i&&Zn(Xr(bn.NOTICE_DROP_ALLOW_COMPOSITION));function d(h){return s.get(h)||null}function f(h,p){s.set(h,p)}function c(h){s.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(p,...m){if(process.env.NODE_ENV!=="production"&&(p.__VUE_I18N__=h),p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,h),Et(m[0])){const y=m[0];h.__composerExtend=y.__composerExtend,h.__vueI18nExtend=y.__vueI18nExtend}let g=null;!n&&r&&(g=HQ(p,h.global)),__VUE_I18N_FULL_INSTALL__&&mQ(p,h,...m),__VUE_I18N_LEGACY_API__&&n&&p.mixin(IQ(o,o.__composer,h));const v=p.unmount;if(p.unmount=()=>{g&&g(),h.dispose(),v()},process.env.NODE_ENV!=="production"){if(!await vQ(p,h))throw Jn(Ut.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const x=Ob();if(n){const w=o;w.__enableEmitter&&w.__enableEmitter(x)}else{const w=o;w[Vo]&&w[Vo](x)}x.on("*",xd)}},get global(){return o},dispose(){a.stop()},__instances:s,__getInstance:d,__setInstance:f,__deleteInstance:c};return h}}function ss(t={}){const e=u.getCurrentInstance();if(e==null)throw Jn(Ut.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Jn(Ut.NOT_INSTALLED);const n=OQ(e),r=RQ(n),i=bw(e),s=LQ(t,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw Jn(Ut.NOT_AVAILABLE_IN_LEGACY_MODE);return UQ(e,s,r,t)}if(s==="global")return vw(r,t,i),r;if(s==="parent"){let l=BQ(n,e,t.__useComponent);return l==null&&(process.env.NODE_ENV!=="production"&&Zn(Xr(bn.NOT_FOUND_PARENT_SCOPE)),l=r),l}const a=n;let o=a.__getInstance(e);if(o==null){const l=ur({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),o=Qb(l),a.__composerExtend&&(o[Yb]=a.__composerExtend(o)),FQ(a,e,o),a.__setInstance(e,o)}return o}function MQ(t,e,n){const r=u.effectScope();{const i=__VUE_I18N_LEGACY_API__&&e?r.run(()=>Kb(t)):r.run(()=>Qb(t));if(i==null)throw Jn(Ut.UNEXPECTED_ERROR);return[r,i]}}function OQ(t){{const e=u.inject(t.isCE?DQ:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Jn(t.isCE?Ut.NOT_INSTALLED_WITH_PROVIDE:Ut.UNEXPECTED_ERROR);return e}}function LQ(t,e){return _p(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function RQ(t){return t.mode==="composition"?t.global:t.global.__composer}function BQ(t,e,n=!1){let r=null;const i=e.root;let s=PQ(e,n);for(;s!=null;){const a=t;if(t.mode==="composition")r=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const o=a.__getInstance(s);o!=null&&(r=o.__composer,n&&r&&!r[gw]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function PQ(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function FQ(t,e,n){let r=null;u.onMounted(()=>{if(process.env.NODE_ENV!=="production"&&e.vnode.el){e.vnode.el.__VUE_I18N__=n,r=Ob();const i=n;i[Vo]&&i[Vo](r),r.on("*",xd)}},e),u.onUnmounted(()=>{const i=n;process.env.NODE_ENV!=="production"&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&(r&&r.off("*",xd),i[Ed]&&i[Ed](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const s=i[Yb];s&&(s(),delete i[Yb])},e)}function UQ(t,e,n,r={}){const i=e==="local",s=u.shallowRef(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Jn(Ut.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=Dt(r.inheritLocale)?r.inheritLocale:!Ze(r.locale),o=u.ref(!i||a?n.locale.value:Ze(r.locale)?r.locale:iu),l=u.ref(!i||a?n.fallbackLocale.value:Ze(r.fallbackLocale)||un(r.fallbackLocale)||Et(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:o.value),d=u.ref(Dp(o.value,r)),f=u.ref(Et(r.datetimeFormats)?r.datetimeFormats:{[o.value]:{}}),c=u.ref(Et(r.numberFormats)?r.numberFormats:{[o.value]:{}}),h=i?n.missingWarn:Dt(r.missingWarn)||Ua(r.missingWarn)?r.missingWarn:!0,p=i?n.fallbackWarn:Dt(r.fallbackWarn)||Ua(r.fallbackWarn)?r.fallbackWarn:!0,m=i?n.fallbackRoot:Dt(r.fallbackRoot)?r.fallbackRoot:!0,g=!!r.fallbackFormat,v=an(r.missing)?r.missing:null,y=an(r.postTranslation)?r.postTranslation:null,x=i?n.warnHtmlMessage:Dt(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,I=i?n.modifiers:Et(r.modifiers)?r.modifiers:{},k=r.pluralRules||i&&n.pluralRules;function S(){return[o.value,l.value,d.value,f.value,c.value]}const B=u.computed({get:()=>s.value?s.value.locale.value:o.value,set:ge=>{s.value&&(s.value.locale.value=ge),o.value=ge}}),M=u.computed({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:ge=>{s.value&&(s.value.fallbackLocale.value=ge),l.value=ge}}),D=u.computed(()=>s.value?s.value.messages.value:d.value),L=u.computed(()=>f.value),z=u.computed(()=>c.value);function U(){return s.value?s.value.getPostTranslationHandler():y}function F(ge){s.value&&s.value.setPostTranslationHandler(ge)}function H(){return s.value?s.value.getMissingHandler():v}function K(ge){s.value&&s.value.setMissingHandler(ge)}function P(ge){return S(),ge()}function W(...ge){return s.value?P(()=>Reflect.apply(s.value.t,null,[...ge])):P(()=>"")}function ie(...ge){return s.value?Reflect.apply(s.value.rt,null,[...ge]):""}function Q(...ge){return s.value?P(()=>Reflect.apply(s.value.d,null,[...ge])):P(()=>"")}function N(...ge){return s.value?P(()=>Reflect.apply(s.value.n,null,[...ge])):P(()=>"")}function E(ge){return s.value?s.value.tm(ge):{}}function j(ge,Pe){return s.value?s.value.te(ge,Pe):!1}function G(ge){return s.value?s.value.getLocaleMessage(ge):{}}function X(ge,Pe){s.value&&(s.value.setLocaleMessage(ge,Pe),d.value[ge]=Pe)}function Z(ge,Pe){s.value&&s.value.mergeLocaleMessage(ge,Pe)}function ce(ge){return s.value?s.value.getDateTimeFormat(ge):{}}function re(ge,Pe){s.value&&(s.value.setDateTimeFormat(ge,Pe),f.value[ge]=Pe)}function pe(ge,Pe){s.value&&s.value.mergeDateTimeFormat(ge,Pe)}function me(ge){return s.value?s.value.getNumberFormat(ge):{}}function de(ge,Pe){s.value&&(s.value.setNumberFormat(ge,Pe),c.value[ge]=Pe)}function Te(ge,Pe){s.value&&s.value.mergeNumberFormat(ge,Pe)}const Ae={get id(){return s.value?s.value.id:-1},locale:B,fallbackLocale:M,messages:D,datetimeFormats:L,numberFormats:z,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(ge){s.value&&(s.value.inheritLocale=ge)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:I},get pluralRules(){return s.value?s.value.pluralRules:k},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:h},set missingWarn(ge){s.value&&(s.value.missingWarn=ge)},get fallbackWarn(){return s.value?s.value.fallbackWarn:p},set fallbackWarn(ge){s.value&&(s.value.missingWarn=ge)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(ge){s.value&&(s.value.fallbackRoot=ge)},get fallbackFormat(){return s.value?s.value.fallbackFormat:g},set fallbackFormat(ge){s.value&&(s.value.fallbackFormat=ge)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:x},set warnHtmlMessage(ge){s.value&&(s.value.warnHtmlMessage=ge)},get escapeParameter(){return s.value?s.value.escapeParameter:w},set escapeParameter(ge){s.value&&(s.value.escapeParameter=ge)},t:W,getPostTranslationHandler:U,setPostTranslationHandler:F,getMissingHandler:H,setMissingHandler:K,rt:ie,d:Q,n:N,tm:E,te:j,getLocaleMessage:G,setLocaleMessage:X,mergeLocaleMessage:Z,getDateTimeFormat:ce,setDateTimeFormat:re,mergeDateTimeFormat:pe,getNumberFormat:me,setNumberFormat:de,mergeNumberFormat:Te};function Le(ge){ge.locale.value=o.value,ge.fallbackLocale.value=l.value,Object.keys(d.value).forEach(Pe=>{ge.mergeLocaleMessage(Pe,d.value[Pe])}),Object.keys(f.value).forEach(Pe=>{ge.mergeDateTimeFormat(Pe,f.value[Pe])}),Object.keys(c.value).forEach(Pe=>{ge.mergeNumberFormat(Pe,c.value[Pe])}),ge.escapeParameter=w,ge.fallbackFormat=g,ge.fallbackRoot=m,ge.fallbackWarn=p,ge.missingWarn=h,ge.warnHtmlMessage=x}return u.onBeforeMount(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Jn(Ut.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const ge=s.value=t.proxy.$i18n.__composer;e==="global"?(o.value=ge.locale.value,l.value=ge.fallbackLocale.value,d.value=ge.messages.value,f.value=ge.datetimeFormats.value,c.value=ge.numberFormats.value):i&&Le(ge)}),Ae}const jQ=["locale","fallbackLocale","availableLocales"],Rw=["t","rt","d","n","tm","te"];function HQ(t,e){const n=Object.create(null);return jQ.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Jn(Ut.UNEXPECTED_ERROR);const a=u.isRef(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,i,a)}),t.config.globalProperties.$i18n=n,Rw.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Jn(Ut.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,Rw.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(sQ(),__INTLIFY_JIT_COMPILATION__?HC(qY):HC(JY),zY(EY),VY(PC),process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const t=sa();t.__INTLIFY__=!0,NY(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}process.env.NODE_ENV;var Np=(t=>(t.Direct="direct",t.Group="group",t))(Np||{});class Cd{constructor(e,n){Ye(this,"id");Ye(this,"name");Ye(this,"type");Ye(this,"createdAt");Ye(this,"updatedAt");Ye(this,"memberIds");Ye(this,"isOutgoingGroupSender");Ye(this,"coverUrl");Ye(this,"lastMessage");Ye(this,"numberOfUnread");Ye(this,"lastReadMessageId");Ye(this,"pref");Ye(this,"roomTags");Ye(this,"extra");Ye(this,"muted",!1);Ye(this,"ownerId",null);Ye(this,"description");var x;const{_id:r,name:i,roomType:s,createdTimeMS:a,lastMessage:o,members:l,cover:d,unread:f,memberProperties:c,extParams:h,pref:p,roomTags:m,muted:g,owner:v,description:y}=e;if(this.id=r,this.name=i,this.type=s||"direct",this.createdAt=a,this.lastMessage=En.fromRaw(o),this.updatedAt=((x=this.lastMessage)==null?void 0:x.createdAt)??a,this.memberIds=[],this.isOutgoingGroupSender={},l.forEach(w=>{this.memberIds.push(w._id),w.clientType==="group"&&w.members.some(I=>I._id===n)&&w.members.forEach(I=>{this.isOutgoingGroupSender[I._id]=!0})}),this.coverUrl=d??"",this.numberOfUnread=f??0,this.lastReadMessageId={},this.pref=p,this.roomTags=m??[],this.muted=g,this.description=y??"",c)for(const{client:w,lastRead:I}of c)this.lastReadMessageId[w]=I;try{this.extra=JSON.parse(h)}catch{this.extra={}}s==="custom"&&(this.type=this.extra.roomType),this.ownerId=v?v._id:null}get memberIdsWithoutMeAndMyGroup(){const{state:{imkit:{uid:e,users:n}}}=rn();return this.memberIds.filter(r=>r!==e&&!n[r].memberIds[e])}_displayName(e,n){if(this.type=="group")return`${this.name} (${this.memberIds.length})`;if(this.type=="direct")if(this.extra.guestId){const r=this.extra.guestId;return n[r].nickname??""}else return this.memberIds.filter(r=>r!==e).map(r=>n[r].nickname).join(", ");return""}get displayName(){var r;const{state:{imkit:{uid:e,users:n}}}=rn();if(this.memberIdsWithoutMeAndMyGroup.length===0){const{t:i}=ss();return i("emptyChat")}else{if(this.type=="direct")return(r=this.memberIdsWithoutMeAndMyGroup.map(i=>n[i])[0])==null?void 0:r.nickname;if(this.type=="group")return this.name?this.name:this.memberIds.filter(i=>i!==e).map(i=>n[i].nickname).join(", ")}return""}get avatars(){const{state:{imkit:{uid:e,users:n}}}=rn();return this.memberIdsWithoutMeAndMyGroup.length===0?[{url:n[e].avatarUrl??"",name:n[e].nickname??""}]:this.type=="direct"?this.memberIdsWithoutMeAndMyGroup.map(r=>({url:n[r].avatarUrl??"",name:n[r].nickname??""})):this.type=="group"?this.coverUrl&&this.coverUrl.length>0?[{url:this.coverUrl,name:this.displayName??""}]:this.memberIds.map(r=>n[r]).sort((r,i)=>r.id===e?1:i.id===e?-1:(i.avatarUrl??"").length-(r.avatarUrl??"").length).map(r=>({url:r.avatarUrl??"",name:r.nickname??""})):[{url:"",name:this.displayName??""}]}}function zQ(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Bw(t,e){return new Promise(function(n,r){let i;return VQ(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const VQ=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const d=a+10;let f;switch(s.getUint16(d)){case 18761:f=!0;break;case 19789:f=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(d+2,f)!==42)return n("TIFF header contains invalid version");const c=s.getUint32(d+4,f),h=d+c+2+12*s.getUint16(d+c,f);for(let p=d+c+2;p<h;p+=12)if(s.getUint16(p,f)==274){if(s.getUint16(p+2,f)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,f)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,f);break}return e(i.slice(a,a+2+l))}a+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Mp={},WQ={get exports(){return Mp},set exports(t){Mp=t}};(function(t){var e,n,r={};WQ.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,o=r.bin.readUint,l=0,d={},f=new Uint8Array(i),c=f.length-4;o(f,c)!=101010256;)c--;l=c,l+=4;var h=a(f,l+=4);a(f,l+=2);var p=o(f,l+=2),m=o(f,l+=4);l+=4,l=m;for(var g=0;g<h;g++){o(f,l),l+=4,l+=4,l+=4,o(f,l+=4),p=o(f,l+=4);var v=o(f,l+=4),y=a(f,l+=4),x=a(f,l+2),w=a(f,l+4);l+=6;var I=o(f,l+=8);l+=4,l+=y+x+w,r._readLocal(f,I,d,p,v,s)}return d},r._readLocal=function(i,s,a,o,l,d){var f=r.bin.readUshort,c=r.bin.readUint;c(i,s),f(i,s+=4),f(i,s+=2);var h=f(i,s+=2);c(i,s+=2),c(i,s+=4),s+=4;var p=f(i,s+=8),m=f(i,s+=2);s+=2;var g=r.bin.readUTF8(i,s,p);if(s+=p,s+=m,d)a[g]={size:l,csize:o};else{var v=new Uint8Array(i.buffer,s);if(h==0)a[g]=new Uint8Array(v.buffer.slice(s,s+o));else{if(h!=8)throw"unknown compression method: "+h;var y=new Uint8Array(l);r.inflateRaw(v,y),a[g]=y}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[a]=120,o[a+1]=156,a+=2,a=r.F.deflateRaw(i,o,a,s.level);var l=r.adler(i,0,i.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),o=r.F.deflateRaw(i,a,o,s.level);return new Uint8Array(a.buffer,0,o)},r.encode=function(i,s){s==null&&(s=!1);var a=0,o=r.bin.writeUint,l=r.bin.writeUshort,d={};for(var f in i){var c=!r._noNeed(f)&&!s,h=i[f],p=r.crc.crc(h,0,h.length);d[f]={cpr:c,usize:h.length,crc:p,file:c?r.deflateRaw(h):h}}for(var f in d)a+=d[f].file.length+30+46+2*r.bin.sizeUTF8(f);a+=22;var m=new Uint8Array(a),g=0,v=[];for(var f in d){var y=d[f];v.push(g),g=r._writeHeader(m,g,f,y,0)}var x=0,w=g;for(var f in d)y=d[f],v.push(g),g=r._writeHeader(m,g,f,y,1,v[x++]);var I=g-w;return o(m,g,101010256),g+=4,l(m,g+=4,x),l(m,g+=2,x),o(m,g+=2,I),o(m,g+=4,w),g+=4,g+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,o,l,d){var f=r.bin.writeUint,c=r.bin.writeUshort,h=o.file;return f(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),c(i,s,20),c(i,s+=2,0),c(i,s+=2,o.cpr?8:0),f(i,s+=2,0),f(i,s+=4,o.crc),f(i,s+=4,h.length),f(i,s+=4,o.usize),c(i,s+=4,r.bin.sizeUTF8(a)),c(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,f(i,s+=6,d),s+=4),s+=r.bin.writeUTF8(i,s,a),l==0&&(i.set(h,s),s+=h.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,o){for(var l=0;l<o;l++)i=r.crc.table[255&(i^s[a+l])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var o=1,l=0,d=s,f=s+a;d<f;){for(var c=Math.min(d+5552,f);d<c;)l+=o+=i[d++];o%=65521,l%=65521}return l<<16|o},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},writeASCII:function(i,s,a){for(var o=0;o<a.length;o++)i[s+o]=a.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var o,l="",d=0;d<a;d++)l+="%"+r.bin.pad(i[s+d].toString(16));try{o=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,a)}return o},writeUTF8:function(i,s,a){for(var o=a.length,l=0,d=0;d<o;d++){var f=a.charCodeAt(d);if(!(4294967168&f))i[s+l]=f,l++;else if(!(4294965248&f))i[s+l]=192|f>>6,i[s+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))i[s+l]=224|f>>12,i[s+l+1]=128|f>>6&63,i[s+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";i[s+l]=240|f>>18,i[s+l+1]=128|f>>12&63,i[s+l+2]=128|f>>6&63,i[s+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,a=0,o=0;o<s;o++){var l=i.charCodeAt(o);if(!(4294967168&l))a++;else if(!(4294965248&l))a+=2;else if(!(4294901760&l))a+=3;else{if(4292870144&l)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],d=r.F.U,f=r.F._goodIndex;r.F._hash;var c=r.F._putsE,h=0,p=a<<3,m=0,g=i.length;if(o==0){for(;h<g;)c(s,p,h+(z=Math.min(65535,g-h))==g?1:0),p=r.F._copyExact(i,h,z,s,p+8),h+=z;return p>>>3}var v=d.lits,y=d.strt,x=d.prev,w=0,I=0,k=0,S=0,B=0,M=0;for(g>2&&(y[M=r.F._hash(i,0)]=0),h=0;h<g;h++){if(B=M,h+1<g-2){M=r.F._hash(i,h+1);var D=h+1&32767;x[D]=y[M],y[M]=D}if(m<=h){(w>14e3||I>26697)&&g-h>100&&(m<h&&(v[w]=h-m,w+=2,m=h),p=r.F._writeBlock(h==g-1||m==g?1:0,v,w,S,i,k,h-k,s,p),w=I=S=0,k=h);var L=0;h<g-2&&(L=r.F._bestMatch(i,h,x,B,Math.min(l[2],g-h),l[3]));var z=L>>>16,U=65535&L;if(L!=0){U=65535&L;var F=f(z=L>>>16,d.of0);d.lhst[257+F]++;var H=f(U,d.df0);d.dhst[H]++,S+=d.exb[F]+d.dxb[H],v[w]=z<<23|h-m,v[w+1]=U<<16|F<<8|H,w+=2,m=h+z}else d.lhst[i[h]]++;I++}}for(k==h&&i.length!=0||(m<h&&(v[w]=h-m,w+=2,m=h),p=r.F._writeBlock(1,v,w,S,i,k,h-k,s,p),w=0,I=0,w=I=S=0,k=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,a,o,l,d){var f=32767&s,c=a[f],h=f-c+32768&32767;if(c==f||o!=r.F._hash(i,s-h))return 0;for(var p=0,m=0,g=Math.min(32767,s);h<=g&&--d!=0&&c!=f;){if(p==0||i[s+p]==i[s+p-h]){var v=r.F._howLong(i,s,h);if(v>p){if(m=h,(p=v)>=l)break;h+2<v&&(v=h+2);for(var y=0,x=0;x<v-2;x++){var w=s-h+x+32768&32767,I=w-a[w]+32768&32767;I>y&&(y=I,c=w)}}}h+=(f=c)-(c=a[f])+32768&32767}return p<<16|m},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var o=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-a];)s++;return s-o},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,o,l,d,f,c,h){var p,m,g,v,y,x,w,I,k,S=r.F.U,B=r.F._putsF,M=r.F._putsE;S.lhst[256]++,m=(p=r.F.getTrees())[0],g=p[1],v=p[2],y=p[3],x=p[4],w=p[5],I=p[6],k=p[7];var D=32+(h+3&7?8-(h+3&7):0)+(f<<3),L=o+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),z=o+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);z+=14+3*w+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var U=0;U<286;U++)S.lhst[U]=0;for(U=0;U<30;U++)S.dhst[U]=0;for(U=0;U<19;U++)S.ihst[U]=0;var F=D<L&&D<z?0:L<z?1:2;if(B(c,h,i),B(c,h+1,F),h+=3,F==0){for(;7&h;)h++;h=r.F._copyExact(l,d,f,c,h)}else{var H,K;if(F==1&&(H=S.fltree,K=S.fdtree),F==2){r.F.makeCodes(S.ltree,m),r.F.revCodes(S.ltree,m),r.F.makeCodes(S.dtree,g),r.F.revCodes(S.dtree,g),r.F.makeCodes(S.itree,v),r.F.revCodes(S.itree,v),H=S.ltree,K=S.dtree,M(c,h,y-257),M(c,h+=5,x-1),M(c,h+=5,w-4),h+=4;for(var P=0;P<w;P++)M(c,h+3*P,S.itree[1+(S.ordr[P]<<1)]);h+=3*w,h=r.F._codeTiny(I,S.itree,c,h),h=r.F._codeTiny(k,S.itree,c,h)}for(var W=d,ie=0;ie<a;ie+=2){for(var Q=s[ie],N=Q>>>23,E=W+(8388607&Q);W<E;)h=r.F._writeLit(l[W++],H,c,h);if(N!=0){var j=s[ie+1],G=j>>16,X=j>>8&255,Z=255&j;M(c,h=r.F._writeLit(257+X,H,c,h),N-S.of0[X]),h+=S.exb[X],B(c,h=r.F._writeLit(Z,K,c,h),G-S.df0[Z]),h+=S.dxb[Z],W+=N}}h=r.F._writeLit(256,H,c,h)}return h},r.F._copyExact=function(i,s,a,o,l){var d=l>>>3;return o[d]=a,o[d+1]=a>>>8,o[d+2]=255-o[d],o[d+3]=255-o[d+1],d+=4,o.set(new Uint8Array(i.buffer,s,a),d),l+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),o=[],l=r.F._lenCodes(i.ltree,o),d=[],f=r.F._lenCodes(i.dtree,d),c=0;c<o.length;c+=2)i.ihst[o[c]]++;for(c=0;c<d.length;c+=2)i.ihst[d[c]]++;for(var h=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,a,h,l,f,p,o,d]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*i[1+(o<<1)];return a},r.F._codeTiny=function(i,s,a,o){for(var l=0;l<i.length;l+=2){var d=i[l],f=i[l+1];o=r.F._writeLit(d,s,a,o);var c=d==16?2:d==17?3:7;d>15&&(r.F._putsE(a,o,f,c),o+=c)}return o},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=i[o+1],d=o+3<a?i[o+3]:-1,f=o+5<a?i[o+5]:-1,c=o==0?-1:i[o-1];if(l==0&&d==l&&f==l){for(var h=o+5;h+2<a&&i[h+2]==l;)h+=2;(p=Math.min(h+1-o>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),o+=2*p-2}else if(l==c&&d==l&&f==l){for(h=o+5;h+2<a&&i[h+2]==l;)h+=2;var p=Math.min(h+1-o>>>1,6);s.push(16,p-3),o+=2*p-2}else s.push(l,0)}return a>>>1},r.F._hufTree=function(i,s,a){var o=[],l=i.length,d=s.length,f=0;for(f=0;f<d;f+=2)s[f]=0,s[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&o.push({lit:f,f:i[f]});var c=o.length,h=o.slice(0);if(c==0)return 0;if(c==1){var p=o[0].lit;return h=p==0?1:0,s[1+(p<<1)]=1,s[1+(h<<1)]=1,1}o.sort(function(I,k){return I.f-k.f});var m=o[0],g=o[1],v=0,y=1,x=2;for(o[0]={lit:-1,f:m.f+g.f,l:m,r:g,d:0};y!=c-1;)m=v!=y&&(x==c||o[v].f<o[x].f)?o[v++]:o[x++],g=v!=y&&(x==c||o[v].f<o[x].f)?o[v++]:o[x++],o[y++]={lit:-1,f:m.f+g.f,l:m,r:g};var w=r.F.setDepth(o[y-1],0);for(w>a&&(r.F.restrictDepth(h,a,w),w=a),f=0;f<c;f++)s[1+(h[f].lit<<1)]=h[f].d;return w},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var o=0,l=1<<a-s,d=0;for(i.sort(function(c,h){return h.d==c.d?c.f-h.f:h.d-c.d}),o=0;o<i.length&&i[o].d>s;o++){var f=i[o].d;i[o].d=s,d+=l-(1<<a-f)}for(d>>>=a-s;d>0;)(f=i[o].d)<s?(i[o].d++,d-=1<<s-f-1):o++;for(;o>=0;o--)i[o].d==s&&d<0&&(i[o].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,o){return r.F._putsF(a,o,s[i<<1]),o+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var o=r.F,l=o._bitsF,d=o._bitsE,f=o._decodeTiny,c=o.makeCodes,h=o.codes2map,p=o._get17,m=o.U,g=s==null;g&&(s=new a(i.length>>>2<<3));for(var v,y,x=0,w=0,I=0,k=0,S=0,B=0,M=0,D=0,L=0;x==0;)if(x=l(i,L,1),w=l(i,L+1,2),L+=3,w!=0){if(g&&(s=r.F._check(s,D+(1<<17))),w==1&&(v=m.flmap,y=m.fdmap,B=511,M=31),w==2){I=d(i,L,5)+257,k=d(i,L+5,5)+1,S=d(i,L+10,4)+4,L+=14;for(var z=0;z<38;z+=2)m.itree[z]=0,m.itree[z+1]=0;var U=1;for(z=0;z<S;z++){var F=d(i,L+3*z,3);m.itree[1+(m.ordr[z]<<1)]=F,F>U&&(U=F)}L+=3*S,c(m.itree,U),h(m.itree,U,m.imap),v=m.lmap,y=m.dmap,L=f(m.imap,(1<<U)-1,I+k,i,L,m.ttree);var H=o._copyOut(m.ttree,0,I,m.ltree);B=(1<<H)-1;var K=o._copyOut(m.ttree,I,k,m.dtree);M=(1<<K)-1,c(m.ltree,H),h(m.ltree,H,v),c(m.dtree,K),h(m.dtree,K,y)}for(;;){var P=v[p(i,L)&B];L+=15&P;var W=P>>>4;if(!(W>>>8))s[D++]=W;else{if(W==256)break;var ie=D+W-254;if(W>264){var Q=m.ldef[W-257];ie=D+(Q>>>3)+d(i,L,7&Q),L+=7&Q}var N=y[p(i,L)&M];L+=15&N;var E=N>>>4,j=m.ddef[E],G=(j>>>4)+l(i,L,15&j);for(L+=15&j,g&&(s=r.F._check(s,D+(1<<17)));D<ie;)s[D]=s[D++-G],s[D]=s[D++-G],s[D]=s[D++-G],s[D]=s[D++-G];D=ie}}}else{7&L&&(L+=8-(7&L));var X=4+(L>>>3),Z=i[X-4]|i[X-3]<<8;g&&(s=r.F._check(s,D+Z)),s.set(new a(i.buffer,i.byteOffset+X,Z),D),L=X+Z<<3,D+=Z}return s.length==D?s:s.slice(0,D)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var o=new Uint8Array(Math.max(a<<1,s));return o.set(i,0),o},r.F._decodeTiny=function(i,s,a,o,l,d){for(var f=r.F._bitsE,c=r.F._get17,h=0;h<a;){var p=i[c(o,l)&s];l+=15&p;var m=p>>>4;if(m<=15)d[h]=m,h++;else{var g=0,v=0;m==16?(v=3+f(o,l,2),l+=2,g=d[h-1]):m==17?(v=3+f(o,l,3),l+=3):m==18&&(v=11+f(o,l,7),l+=7);for(var y=h+v;h<y;)d[h]=g,h++}}return l},r.F._copyOut=function(i,s,a,o){for(var l=0,d=0,f=o.length>>>1;d<a;){var c=i[d+s];o[d<<1]=0,o[1+(d<<1)]=c,c>l&&(l=c),d++}for(;d<f;)o[d<<1]=0,o[1+(d<<1)]=0,d++;return l},r.F.makeCodes=function(i,s){for(var a,o,l,d,f=r.F.U,c=i.length,h=f.bl_count,p=0;p<=s;p++)h[p]=0;for(p=1;p<c;p+=2)h[i[p]]++;var m=f.next_code;for(a=0,h[0]=0,o=1;o<=s;o++)a=a+h[o-1]<<1,m[o]=a;for(l=0;l<c;l+=2)(d=i[l+1])!=0&&(i[l]=m[d],m[d]++)},r.F.codes2map=function(i,s,a){for(var o=i.length,l=r.F.U.rev15,d=0;d<o;d+=2)if(i[d+1]!=0)for(var f=d>>1,c=i[d+1],h=f<<4|c,p=s-c,m=i[d]<<p,g=m+(1<<p);m!=g;)a[l[m]>>>15-s]=h,m++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,o=15-s,l=0;l<i.length;l+=2){var d=i[l]<<s-i[l+1];i[l]=a[d]>>>o}},r.F._putsE=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8,i[o+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,d,f){for(;d--!=0;)l.push(0,f)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),o(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var GQ=zQ({__proto__:null,default:Mp},[Mp]);const as=function(){var t={nextZero(f,c){for(;f[c]!=0;)c++;return c},readUshort:(f,c)=>f[c]<<8|f[c+1],writeUshort(f,c,h){f[c]=h>>8&255,f[c+1]=255&h},readUint:(f,c)=>16777216*f[c]+(f[c+1]<<16|f[c+2]<<8|f[c+3]),writeUint(f,c,h){f[c]=h>>24&255,f[c+1]=h>>16&255,f[c+2]=h>>8&255,f[c+3]=255&h},readASCII(f,c,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(f[c+m]);return p},writeASCII(f,c,h){for(let p=0;p<h.length;p++)f[c+p]=h.charCodeAt(p)},readBytes(f,c,h){const p=[];for(let m=0;m<h;m++)p.push(f[c+m]);return p},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,c,h){let p,m="";for(let g=0;g<h;g++)m+=`%${t.pad(f[c+g].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(f,c,h)}return p}};function e(f,c,h,p){const m=c*h,g=s(p),v=Math.ceil(c*g/8),y=new Uint8Array(4*m),x=new Uint32Array(y.buffer),{ctype:w}=p,{depth:I}=p,k=t.readUshort;if(w==6){const Q=m<<2;if(I==8)for(var S=0;S<Q;S+=4)y[S]=f[S],y[S+1]=f[S+1],y[S+2]=f[S+2],y[S+3]=f[S+3];if(I==16)for(S=0;S<Q;S++)y[S]=f[S<<1]}else if(w==2){const Q=p.tabs.tRNS;if(Q==null){if(I==8)for(S=0;S<m;S++){var B=3*S;x[S]=255<<24|f[B+2]<<16|f[B+1]<<8|f[B]}if(I==16)for(S=0;S<m;S++)B=6*S,x[S]=255<<24|f[B+4]<<16|f[B+2]<<8|f[B]}else{var M=Q[0];const N=Q[1],E=Q[2];if(I==8)for(S=0;S<m;S++){var D=S<<2;B=3*S,x[S]=255<<24|f[B+2]<<16|f[B+1]<<8|f[B],f[B]==M&&f[B+1]==N&&f[B+2]==E&&(y[D+3]=0)}if(I==16)for(S=0;S<m;S++)D=S<<2,B=6*S,x[S]=255<<24|f[B+4]<<16|f[B+2]<<8|f[B],k(f,B)==M&&k(f,B+2)==N&&k(f,B+4)==E&&(y[D+3]=0)}}else if(w==3){const Q=p.tabs.PLTE,N=p.tabs.tRNS,E=N?N.length:0;if(I==1)for(var L=0;L<h;L++){var z=L*v,U=L*c;for(S=0;S<c;S++){D=U+S<<2;var F=3*(H=f[z+(S>>3)]>>7-((7&S)<<0)&1);y[D]=Q[F],y[D+1]=Q[F+1],y[D+2]=Q[F+2],y[D+3]=H<E?N[H]:255}}if(I==2)for(L=0;L<h;L++)for(z=L*v,U=L*c,S=0;S<c;S++)D=U+S<<2,F=3*(H=f[z+(S>>2)]>>6-((3&S)<<1)&3),y[D]=Q[F],y[D+1]=Q[F+1],y[D+2]=Q[F+2],y[D+3]=H<E?N[H]:255;if(I==4)for(L=0;L<h;L++)for(z=L*v,U=L*c,S=0;S<c;S++)D=U+S<<2,F=3*(H=f[z+(S>>1)]>>4-((1&S)<<2)&15),y[D]=Q[F],y[D+1]=Q[F+1],y[D+2]=Q[F+2],y[D+3]=H<E?N[H]:255;if(I==8)for(S=0;S<m;S++){var H;D=S<<2,F=3*(H=f[S]),y[D]=Q[F],y[D+1]=Q[F+1],y[D+2]=Q[F+2],y[D+3]=H<E?N[H]:255}}else if(w==4){if(I==8)for(S=0;S<m;S++){D=S<<2;var K=f[P=S<<1];y[D]=K,y[D+1]=K,y[D+2]=K,y[D+3]=f[P+1]}if(I==16)for(S=0;S<m;S++){var P;D=S<<2,K=f[P=S<<2],y[D]=K,y[D+1]=K,y[D+2]=K,y[D+3]=f[P+2]}}else if(w==0)for(M=p.tabs.tRNS?p.tabs.tRNS:-1,L=0;L<h;L++){const Q=L*v,N=L*c;if(I==1)for(var W=0;W<c;W++){var ie=(K=255*(f[Q+(W>>>3)]>>>7-(7&W)&1))==255*M?0:255;x[N+W]=ie<<24|K<<16|K<<8|K}else if(I==2)for(W=0;W<c;W++)ie=(K=85*(f[Q+(W>>>2)]>>>6-((3&W)<<1)&3))==85*M?0:255,x[N+W]=ie<<24|K<<16|K<<8|K;else if(I==4)for(W=0;W<c;W++)ie=(K=17*(f[Q+(W>>>1)]>>>4-((1&W)<<2)&15))==17*M?0:255,x[N+W]=ie<<24|K<<16|K<<8|K;else if(I==8)for(W=0;W<c;W++)ie=(K=f[Q+W])==M?0:255,x[N+W]=ie<<24|K<<16|K<<8|K;else if(I==16)for(W=0;W<c;W++)K=f[Q+(W<<1)],ie=k(f,Q+(W<<1))==M?0:255,x[N+W]=ie<<24|K<<16|K<<8|K}return y}function n(f,c,h,p){const m=s(f),g=Math.ceil(h*m/8),v=new Uint8Array((g+1+f.interlace)*p);return c=f.tabs.CgBI?i(c,v):r(c,v),f.interlace==0?c=a(c,f,0,h,p):f.interlace==1&&(c=function(x,w){const I=w.width,k=w.height,S=s(w),B=S>>3,M=Math.ceil(I*S/8),D=new Uint8Array(k*M);let L=0;const z=[0,0,4,0,2,0,1],U=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],H=[8,8,4,4,2,2,1];let K=0;for(;K<7;){const W=F[K],ie=H[K];let Q=0,N=0,E=z[K];for(;E<k;)E+=W,N++;let j=U[K];for(;j<I;)j+=ie,Q++;const G=Math.ceil(Q*S/8);a(x,w,L,Q,N);let X=0,Z=z[K];for(;Z<k;){let ce=U[K],re=L+X*G<<3;for(;ce<I;){var P;if(S==1&&(P=(P=x[re>>3])>>7-(7&re)&1,D[Z*M+(ce>>3)]|=P<<7-((7&ce)<<0)),S==2&&(P=(P=x[re>>3])>>6-(7&re)&3,D[Z*M+(ce>>2)]|=P<<6-((3&ce)<<1)),S==4&&(P=(P=x[re>>3])>>4-(7&re)&15,D[Z*M+(ce>>1)]|=P<<4-((1&ce)<<2)),S>=8){const pe=Z*M+ce*B;for(let me=0;me<B;me++)D[pe+me]=x[(re>>3)+me]}re+=S,ce+=ie}X++,Z+=W}Q*N!=0&&(L+=N*(1+G)),K+=1}return D}(c,f)),c}function r(f,c){return i(new Uint8Array(f.buffer,2,f.length-6),c)}var i=function(){const f={H:{}};return f.H.N=function(c,h){const p=Uint8Array;let m,g,v=0,y=0,x=0,w=0,I=0,k=0,S=0,B=0,M=0;if(c[0]==3&&c[1]==0)return h||new p(0);const D=f.H,L=D.b,z=D.e,U=D.R,F=D.n,H=D.A,K=D.Z,P=D.m,W=h==null;for(W&&(h=new p(c.length>>>2<<5));v==0;)if(v=L(c,M,1),y=L(c,M+1,2),M+=3,y!=0){if(W&&(h=f.H.W(h,B+(1<<17))),y==1&&(m=P.J,g=P.h,k=511,S=31),y==2){x=z(c,M,5)+257,w=z(c,M+5,5)+1,I=z(c,M+10,4)+4,M+=14;let Q=1;for(var ie=0;ie<38;ie+=2)P.Q[ie]=0,P.Q[ie+1]=0;for(ie=0;ie<I;ie++){const j=z(c,M+3*ie,3);P.Q[1+(P.X[ie]<<1)]=j,j>Q&&(Q=j)}M+=3*I,F(P.Q,Q),H(P.Q,Q,P.u),m=P.w,g=P.d,M=U(P.u,(1<<Q)-1,x+w,c,M,P.v);const N=D.V(P.v,0,x,P.C);k=(1<<N)-1;const E=D.V(P.v,x,w,P.D);S=(1<<E)-1,F(P.C,N),H(P.C,N,m),F(P.D,E),H(P.D,E,g)}for(;;){const Q=m[K(c,M)&k];M+=15&Q;const N=Q>>>4;if(!(N>>>8))h[B++]=N;else{if(N==256)break;{let E=B+N-254;if(N>264){const ce=P.q[N-257];E=B+(ce>>>3)+z(c,M,7&ce),M+=7&ce}const j=g[K(c,M)&S];M+=15&j;const G=j>>>4,X=P.c[G],Z=(X>>>4)+L(c,M,15&X);for(M+=15&X;B<E;)h[B]=h[B++-Z],h[B]=h[B++-Z],h[B]=h[B++-Z],h[B]=h[B++-Z];B=E}}}}else{7&M&&(M+=8-(7&M));const Q=4+(M>>>3),N=c[Q-4]|c[Q-3]<<8;W&&(h=f.H.W(h,B+N)),h.set(new p(c.buffer,c.byteOffset+Q,N),B),M=Q+N<<3,B+=N}return h.length==B?h:h.slice(0,B)},f.H.W=function(c,h){const p=c.length;if(h<=p)return c;const m=new Uint8Array(p<<1);return m.set(c,0),m},f.H.R=function(c,h,p,m,g,v){const y=f.H.e,x=f.H.Z;let w=0;for(;w<p;){const I=c[x(m,g)&h];g+=15&I;const k=I>>>4;if(k<=15)v[w]=k,w++;else{let S=0,B=0;k==16?(B=3+y(m,g,2),g+=2,S=v[w-1]):k==17?(B=3+y(m,g,3),g+=3):k==18&&(B=11+y(m,g,7),g+=7);const M=w+B;for(;w<M;)v[w]=S,w++}}return g},f.H.V=function(c,h,p,m){let g=0,v=0;const y=m.length>>>1;for(;v<p;){const x=c[v+h];m[v<<1]=0,m[1+(v<<1)]=x,x>g&&(g=x),v++}for(;v<y;)m[v<<1]=0,m[1+(v<<1)]=0,v++;return g},f.H.n=function(c,h){const p=f.H.m,m=c.length;let g,v,y,x;const w=p.j;for(var I=0;I<=h;I++)w[I]=0;for(I=1;I<m;I+=2)w[c[I]]++;const k=p.K;for(g=0,w[0]=0,v=1;v<=h;v++)g=g+w[v-1]<<1,k[v]=g;for(y=0;y<m;y+=2)x=c[y+1],x!=0&&(c[y]=k[x],k[x]++)},f.H.A=function(c,h,p){const m=c.length,g=f.H.m.r;for(let v=0;v<m;v+=2)if(c[v+1]!=0){const y=v>>1,x=c[v+1],w=y<<4|x,I=h-x;let k=c[v]<<I;const S=k+(1<<I);for(;k!=S;)p[g[k]>>>15-h]=w,k++}},f.H.l=function(c,h){const p=f.H.m.r,m=15-h;for(let g=0;g<c.length;g+=2){const v=c[g]<<h-c[g+1];c[g]=p[v]>>>m}},f.H.M=function(c,h,p){p<<=7&h;const m=h>>>3;c[m]|=p,c[m+1]|=p>>>8},f.H.I=function(c,h,p){p<<=7&h;const m=h>>>3;c[m]|=p,c[m+1]|=p>>>8,c[m+2]|=p>>>16},f.H.e=function(c,h,p){return(c[h>>>3]|c[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},f.H.b=function(c,h,p){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},f.H.Z=function(c,h){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16)>>>(7&h)},f.H.i=function(c,h){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16|c[3+(h>>>3)]<<24)>>>(7&h)},f.H.m=function(){const c=Uint16Array,h=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=f.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,c.r[h]=(m>>>16|m<<16)>>>17}function p(m,g,v){for(;g--!=0;)m.push(0,v)}for(h=0;h<32;h++)c.q[h]=c.S[h]<<3|c.T[h],c.c[h]=c.p[h]<<4|c.z[h];p(c._,144,8),p(c._,112,9),p(c._,24,7),p(c._,8,8),f.H.n(c._,9),f.H.A(c._,9,c.J),f.H.l(c._,9),p(c.$,32,5),f.H.n(c.$,5),f.H.A(c.$,5,c.h),f.H.l(c.$,5),p(c.Q,19,0),p(c.C,286,0),p(c.D,30,0),p(c.v,320,0)}(),f.H.N}();function s(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function a(f,c,h,p,m){let g=s(c);const v=Math.ceil(p*g/8);let y,x;g=Math.ceil(g/8);let w=f[h],I=0;if(w>1&&(f[h]=[0,0,1][w-2]),w==3)for(I=g;I<v;I++)f[I+1]=f[I+1]+(f[I+1-g]>>>1)&255;for(let k=0;k<m;k++)if(y=h+k*v,x=y+k+1,w=f[x-1],I=0,w==0)for(;I<v;I++)f[y+I]=f[x+I];else if(w==1){for(;I<g;I++)f[y+I]=f[x+I];for(;I<v;I++)f[y+I]=f[x+I]+f[y+I-g]}else if(w==2)for(;I<v;I++)f[y+I]=f[x+I]+f[y+I-v];else if(w==3){for(;I<g;I++)f[y+I]=f[x+I]+(f[y+I-v]>>>1);for(;I<v;I++)f[y+I]=f[x+I]+(f[y+I-v]+f[y+I-g]>>>1)}else{for(;I<g;I++)f[y+I]=f[x+I]+o(0,f[y+I-v],0);for(;I<v;I++)f[y+I]=f[x+I]+o(f[y+I-g],f[y+I-v],f[y+I-g-v])}return f}function o(f,c,h){const p=f+c-h,m=p-f,g=p-c,v=p-h;return m*m<=g*g&&m*m<=v*v?f:g*g<=v*v?c:h}function l(f,c,h){h.width=t.readUint(f,c),c+=4,h.height=t.readUint(f,c),c+=4,h.depth=f[c],c++,h.ctype=f[c],c++,h.compress=f[c],c++,h.filter=f[c],c++,h.interlace=f[c],c++}function d(f,c,h,p,m,g,v,y,x){const w=Math.min(c,m),I=Math.min(h,g);let k=0,S=0;for(let K=0;K<I;K++)for(let P=0;P<w;P++)if(v>=0&&y>=0?(k=K*c+P<<2,S=(y+K)*m+v+P<<2):(k=(-y+K)*c-v+P<<2,S=K*m+P<<2),x==0)p[S]=f[k],p[S+1]=f[k+1],p[S+2]=f[k+2],p[S+3]=f[k+3];else if(x==1){var B=f[k+3]*.00392156862745098,M=f[k]*B,D=f[k+1]*B,L=f[k+2]*B,z=p[S+3]*(1/255),U=p[S]*z,F=p[S+1]*z,H=p[S+2]*z;const W=1-B,ie=B+z*W,Q=ie==0?0:1/ie;p[S+3]=255*ie,p[S+0]=(M+U*W)*Q,p[S+1]=(D+F*W)*Q,p[S+2]=(L+H*W)*Q}else if(x==2)B=f[k+3],M=f[k],D=f[k+1],L=f[k+2],z=p[S+3],U=p[S],F=p[S+1],H=p[S+2],B==z&&M==U&&D==F&&L==H?(p[S]=0,p[S+1]=0,p[S+2]=0,p[S+3]=0):(p[S]=M,p[S+1]=D,p[S+2]=L,p[S+3]=B);else if(x==3){if(B=f[k+3],M=f[k],D=f[k+1],L=f[k+2],z=p[S+3],U=p[S],F=p[S+1],H=p[S+2],B==z&&M==U&&D==F&&L==H)continue;if(B<220&&z>20)return!1}return!0}return{decode:function(c){const h=new Uint8Array(c);let p=8;const m=t,g=m.readUshort,v=m.readUint,y={tabs:{},frames:[]},x=new Uint8Array(h.length);let w,I=0,k=0;const S=[137,80,78,71,13,10,26,10];for(var B=0;B<8;B++)if(h[B]!=S[B])throw"The input is not a PNG file!";for(;p<h.length;){const K=m.readUint(h,p);p+=4;const P=m.readASCII(h,p,4);if(p+=4,P=="IHDR")l(h,p,y);else if(P=="iCCP"){for(var M=p;h[M]!=0;)M++;m.readASCII(h,p,M-p),h[M+1];const W=h.slice(M+2,p+K);let ie=null;try{ie=r(W)}catch{ie=i(W)}y.tabs[P]=ie}else if(P=="CgBI")y.tabs[P]=h.slice(p,p+4);else if(P=="IDAT"){for(B=0;B<K;B++)x[I+B]=h[p+B];I+=K}else if(P=="acTL")y.tabs[P]={num_frames:v(h,p),num_plays:v(h,p+4)},w=new Uint8Array(h.length);else if(P=="fcTL"){k!=0&&((H=y.frames[y.frames.length-1]).data=n(y,w.slice(0,k),H.rect.width,H.rect.height),k=0);const W={x:v(h,p+12),y:v(h,p+16),width:v(h,p+4),height:v(h,p+8)};let ie=g(h,p+22);ie=g(h,p+20)/(ie==0?100:ie);const Q={rect:W,delay:Math.round(1e3*ie),dispose:h[p+24],blend:h[p+25]};y.frames.push(Q)}else if(P=="fdAT"){for(B=0;B<K-4;B++)w[k+B]=h[p+B+4];k+=K-4}else if(P=="pHYs")y.tabs[P]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(P=="cHRM")for(y.tabs[P]=[],B=0;B<8;B++)y.tabs[P].push(m.readUint(h,p+4*B));else if(P=="tEXt"||P=="zTXt"){y.tabs[P]==null&&(y.tabs[P]={});var D=m.nextZero(h,p),L=m.readASCII(h,p,D-p),z=p+K-D-1;if(P=="tEXt")F=m.readASCII(h,D+1,z);else{var U=r(h.slice(D+2,D+2+z));F=m.readUTF8(U,0,U.length)}y.tabs[P][L]=F}else if(P=="iTXt"){y.tabs[P]==null&&(y.tabs[P]={}),D=0,M=p,D=m.nextZero(h,M),L=m.readASCII(h,M,D-M);const W=h[M=D+1];var F;h[M+1],M+=2,D=m.nextZero(h,M),m.readASCII(h,M,D-M),M=D+1,D=m.nextZero(h,M),m.readUTF8(h,M,D-M),z=K-((M=D+1)-p),W==0?F=m.readUTF8(h,M,z):(U=r(h.slice(M,M+z)),F=m.readUTF8(U,0,U.length)),y.tabs[P][L]=F}else if(P=="PLTE")y.tabs[P]=m.readBytes(h,p,K);else if(P=="hIST"){const W=y.tabs.PLTE.length/3;for(y.tabs[P]=[],B=0;B<W;B++)y.tabs[P].push(g(h,p+2*B))}else if(P=="tRNS")y.ctype==3?y.tabs[P]=m.readBytes(h,p,K):y.ctype==0?y.tabs[P]=g(h,p):y.ctype==2&&(y.tabs[P]=[g(h,p),g(h,p+2),g(h,p+4)]);else if(P=="gAMA")y.tabs[P]=m.readUint(h,p)/1e5;else if(P=="sRGB")y.tabs[P]=h[p];else if(P=="bKGD")y.ctype==0||y.ctype==4?y.tabs[P]=[g(h,p)]:y.ctype==2||y.ctype==6?y.tabs[P]=[g(h,p),g(h,p+2),g(h,p+4)]:y.ctype==3&&(y.tabs[P]=h[p]);else if(P=="IEND")break;p+=K,m.readUint(h,p),p+=4}var H;return k!=0&&((H=y.frames[y.frames.length-1]).data=n(y,w.slice(0,k),H.rect.width,H.rect.height)),y.data=n(y,x,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(c){const h=c.width,p=c.height;if(c.tabs.acTL==null)return[e(c.data,h,p,c).buffer];const m=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const g=h*p*4,v=new Uint8Array(g),y=new Uint8Array(g),x=new Uint8Array(g);for(let I=0;I<c.frames.length;I++){const k=c.frames[I],S=k.rect.x,B=k.rect.y,M=k.rect.width,D=k.rect.height,L=e(k.data,M,D,c);if(I!=0)for(var w=0;w<g;w++)x[w]=v[w];if(k.blend==0?d(L,M,D,v,h,p,S,B,0):k.blend==1&&d(L,M,D,v,h,p,S,B,1),m.push(v.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)d(y,M,D,v,h,p,S,B,0);else if(k.dispose==2)for(w=0;w<g;w++)v[w]=x[w]}}return m},_paeth:o,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=as,{_bin:e}=as,n=as._paeth;var r={table:function(){const M=new Uint32Array(256);for(let D=0;D<256;D++){let L=D;for(let z=0;z<8;z++)1&L?L=3988292384^L>>>1:L>>>=1;M[D]=L}return M}(),update(M,D,L,z){for(let U=0;U<z;U++)M=r.table[255&(M^D[L+U])]^M>>>8;return M},crc:(M,D,L)=>4294967295^r.update(4294967295,M,D,L)};function i(M,D,L,z){D[L]+=M[0]*z>>4,D[L+1]+=M[1]*z>>4,D[L+2]+=M[2]*z>>4,D[L+3]+=M[3]*z>>4}function s(M){return Math.max(0,Math.min(255,M))}function a(M,D){const L=M[0]-D[0],z=M[1]-D[1],U=M[2]-D[2],F=M[3]-D[3];return L*L+z*z+U*U+F*F}function o(M,D,L,z,U,F,H){H==null&&(H=1);const K=z.length,P=[];for(var W=0;W<K;W++){const Z=z[W];P.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(W=0;W<K;W++){let Z=4294967295;for(var ie=0,Q=0;Q<K;Q++){var N=a(P[W],P[Q]);Q!=W&&N<Z&&(Z=N,ie=Q)}}const E=new Uint32Array(U.buffer),j=new Int16Array(D*L*4),G=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(W=0;W<G.length;W++)G[W]=255*((G[W]+.5)/16-.5);for(let Z=0;Z<L;Z++)for(let ce=0;ce<D;ce++){var X;W=4*(Z*D+ce),H!=2?X=[s(M[W]+j[W]),s(M[W+1]+j[W+1]),s(M[W+2]+j[W+2]),s(M[W+3]+j[W+3])]:(N=G[4*(3&Z)+(3&ce)],X=[s(M[W]+N),s(M[W+1]+N),s(M[W+2]+N),s(M[W+3]+N)]),ie=0;let re=16777215;for(Q=0;Q<K;Q++){const de=a(X,P[Q]);de<re&&(re=de,ie=Q)}const pe=P[ie],me=[X[0]-pe[0],X[1]-pe[1],X[2]-pe[2],X[3]-pe[3]];H==1&&(ce!=D-1&&i(me,j,W+4,7),Z!=L-1&&(ce!=0&&i(me,j,W+4*D-4,3),i(me,j,W+4*D,5),ce!=D-1&&i(me,j,W+4*D+4,1))),F[W>>2]=ie,E[W>>2]=z[ie]}}function l(M,D,L,z,U){U==null&&(U={});const{crc:F}=r,H=e.writeUint,K=e.writeUshort,P=e.writeASCII;let W=8;const ie=M.frames.length>1;let Q,N=!1,E=33+(ie?20:0);if(U.sRGB!=null&&(E+=13),U.pHYs!=null&&(E+=21),U.iCCP!=null&&(Q=pako.deflate(U.iCCP),E+=21+Q.length+4),M.ctype==3){for(var j=M.plte.length,G=0;G<j;G++)M.plte[G]>>>24!=255&&(N=!0);E+=8+3*j+4+(N?8+1*j+4:0)}for(var X=0;X<M.frames.length;X++)ie&&(E+=38),E+=(pe=M.frames[X]).cimg.length+12,X!=0&&(E+=4);E+=12;const Z=new Uint8Array(E),ce=[137,80,78,71,13,10,26,10];for(G=0;G<8;G++)Z[G]=ce[G];if(H(Z,W,13),W+=4,P(Z,W,"IHDR"),W+=4,H(Z,W,D),W+=4,H(Z,W,L),W+=4,Z[W]=M.depth,W++,Z[W]=M.ctype,W++,Z[W]=0,W++,Z[W]=0,W++,Z[W]=0,W++,H(Z,W,F(Z,W-17,17)),W+=4,U.sRGB!=null&&(H(Z,W,1),W+=4,P(Z,W,"sRGB"),W+=4,Z[W]=U.sRGB,W++,H(Z,W,F(Z,W-5,5)),W+=4),U.iCCP!=null){const me=13+Q.length;H(Z,W,me),W+=4,P(Z,W,"iCCP"),W+=4,P(Z,W,"ICC profile"),W+=11,W+=2,Z.set(Q,W),W+=Q.length,H(Z,W,F(Z,W-(me+4),me+4)),W+=4}if(U.pHYs!=null&&(H(Z,W,9),W+=4,P(Z,W,"pHYs"),W+=4,H(Z,W,U.pHYs[0]),W+=4,H(Z,W,U.pHYs[1]),W+=4,Z[W]=U.pHYs[2],W++,H(Z,W,F(Z,W-13,13)),W+=4),ie&&(H(Z,W,8),W+=4,P(Z,W,"acTL"),W+=4,H(Z,W,M.frames.length),W+=4,H(Z,W,U.loop!=null?U.loop:0),W+=4,H(Z,W,F(Z,W-12,12)),W+=4),M.ctype==3){for(H(Z,W,3*(j=M.plte.length)),W+=4,P(Z,W,"PLTE"),W+=4,G=0;G<j;G++){const me=3*G,de=M.plte[G],Te=255&de,Ae=de>>>8&255,Le=de>>>16&255;Z[W+me+0]=Te,Z[W+me+1]=Ae,Z[W+me+2]=Le}if(W+=3*j,H(Z,W,F(Z,W-3*j-4,3*j+4)),W+=4,N){for(H(Z,W,j),W+=4,P(Z,W,"tRNS"),W+=4,G=0;G<j;G++)Z[W+G]=M.plte[G]>>>24&255;W+=j,H(Z,W,F(Z,W-j-4,j+4)),W+=4}}let re=0;for(X=0;X<M.frames.length;X++){var pe=M.frames[X];ie&&(H(Z,W,26),W+=4,P(Z,W,"fcTL"),W+=4,H(Z,W,re++),W+=4,H(Z,W,pe.rect.width),W+=4,H(Z,W,pe.rect.height),W+=4,H(Z,W,pe.rect.x),W+=4,H(Z,W,pe.rect.y),W+=4,K(Z,W,z[X]),W+=2,K(Z,W,1e3),W+=2,Z[W]=pe.dispose,W++,Z[W]=pe.blend,W++,H(Z,W,F(Z,W-30,30)),W+=4);const me=pe.cimg;H(Z,W,(j=me.length)+(X==0?0:4)),W+=4;const de=W;P(Z,W,X==0?"IDAT":"fdAT"),W+=4,X!=0&&(H(Z,W,re++),W+=4),Z.set(me,W),W+=j,H(Z,W,F(Z,de,W-de)),W+=4}return H(Z,W,0),W+=4,P(Z,W,"IEND"),W+=4,H(Z,W,F(Z,W-4,4)),W+=4,Z.buffer}function d(M,D,L){for(let z=0;z<M.frames.length;z++){const U=M.frames[z];U.rect.width;const F=U.rect.height,H=new Uint8Array(F*U.bpl+F);U.cimg=p(U.img,F,U.bpp,U.bpl,H,D,L)}}function f(M,D,L,z,U){const F=U[0],H=U[1],K=U[2],P=U[3],W=U[4],ie=U[5];let Q=6,N=8,E=255;for(var j=0;j<M.length;j++){const qe=new Uint8Array(M[j]);for(var G=qe.length,X=0;X<G;X+=4)E&=qe[X+3]}const Z=E!=255,ce=function(ue,ye,Be,V,Y,he){const we=[];for(var Re=0;Re<ue.length;Re++){const _t=new Uint8Array(ue[Re]),Ot=new Uint32Array(_t.buffer);var ze;let st=0,qt=0,Mt=ye,wn=Be,Dn=V?1:0;if(Re!=0){const gs=he||V||Re==1||we[Re-2].dispose!=0?1:2;let Ys=0,Qs=1e9;for(let bs=0;bs<gs;bs++){var rt=new Uint8Array(ue[Re-1-bs]);const Ks=new Uint32Array(ue[Re-1-bs]);let hr=ye,pr=Be,Vi=-1,Ti=-1;for(let Ei=0;Ei<Be;Ei++)for(let Fr=0;Fr<ye;Fr++)Ot[Oe=Ei*ye+Fr]!=Ks[Oe]&&(Fr<hr&&(hr=Fr),Fr>Vi&&(Vi=Fr),Ei<pr&&(pr=Ei),Ei>Ti&&(Ti=Ei));Vi==-1&&(hr=pr=Vi=Ti=0),Y&&((1&hr)==1&&hr--,(1&pr)==1&&pr--);const _n=(Vi-hr+1)*(Ti-pr+1);_n<Qs&&(Qs=_n,Ys=bs,st=hr,qt=pr,Mt=Vi-hr+1,wn=Ti-pr+1)}rt=new Uint8Array(ue[Re-1-Ys]),Ys==1&&(we[Re-1].dispose=2),ze=new Uint8Array(Mt*wn*4),t(rt,ye,Be,ze,Mt,wn,-st,-qt,0),Dn=t(_t,ye,Be,ze,Mt,wn,-st,-qt,3)?1:0,Dn==1?h(_t,ye,Be,ze,{x:st,y:qt,width:Mt,height:wn}):t(_t,ye,Be,ze,Mt,wn,-st,-qt,0)}else ze=_t.slice(0);we.push({rect:{x:st,y:qt,width:Mt,height:wn},img:ze,blend:Dn,dispose:0})}if(V)for(Re=0;Re<we.length;Re++){if((nt=we[Re]).blend==1)continue;const _t=nt.rect,Ot=we[Re-1].rect,st=Math.min(_t.x,Ot.x),qt=Math.min(_t.y,Ot.y),Mt={x:st,y:qt,width:Math.max(_t.x+_t.width,Ot.x+Ot.width)-st,height:Math.max(_t.y+_t.height,Ot.y+Ot.height)-qt};we[Re-1].dispose=1,Re-1!=0&&c(ue,ye,Be,we,Re-1,Mt,Y),c(ue,ye,Be,we,Re,Mt,Y)}let Ee=0;if(ue.length!=1)for(var Oe=0;Oe<we.length;Oe++){var nt;Ee+=(nt=we[Oe]).rect.width*nt.rect.height}return we}(M,D,L,F,H,K),re={},pe=[],me=[];if(z!=0){const qe=[];for(X=0;X<ce.length;X++)qe.push(ce[X].img.buffer);const ue=function(Y){let he=0;for(var we=0;we<Y.length;we++)he+=Y[we].byteLength;const Re=new Uint8Array(he);let ze=0;for(we=0;we<Y.length;we++){const rt=new Uint8Array(Y[we]),Ee=rt.length;for(let Oe=0;Oe<Ee;Oe+=4){let nt=rt[Oe],_t=rt[Oe+1],Ot=rt[Oe+2];const st=rt[Oe+3];st==0&&(nt=_t=Ot=0),Re[ze+Oe]=nt,Re[ze+Oe+1]=_t,Re[ze+Oe+2]=Ot,Re[ze+Oe+3]=st}ze+=Ee}return Re.buffer}(qe),ye=g(ue,z);for(X=0;X<ye.plte.length;X++)pe.push(ye.plte[X].est.rgba);let Be=0;for(X=0;X<ce.length;X++){const V=(Te=ce[X]).img.length;var de=new Uint8Array(ye.inds.buffer,Be>>2,V>>2);me.push(de);const Y=new Uint8Array(ye.abuf,Be,V);ie&&o(Te.img,Te.rect.width,Te.rect.height,pe,Y,de),Te.img.set(Y),Be+=V}}else for(j=0;j<ce.length;j++){var Te=ce[j];const qe=new Uint32Array(Te.img.buffer);var Ae=Te.rect.width;for(G=qe.length,de=new Uint8Array(G),me.push(de),X=0;X<G;X++){const ue=qe[X];if(X!=0&&ue==qe[X-1])de[X]=de[X-1];else if(X>Ae&&ue==qe[X-Ae])de[X]=de[X-Ae];else{let ye=re[ue];if(ye==null&&(re[ue]=ye=pe.length,pe.push(ue),pe.length>=300))break;de[X]=ye}}}const Le=pe.length;for(Le<=256&&W==0&&(N=Le<=2?1:Le<=4?2:Le<=16?4:8,N=Math.max(N,P)),j=0;j<ce.length;j++){(Te=ce[j]).rect.x,Te.rect.y,Ae=Te.rect.width;const qe=Te.rect.height;let ue=Te.img;new Uint32Array(ue.buffer);let ye=4*Ae,Be=4;if(Le<=256&&W==0){ye=Math.ceil(N*Ae/8);var ge=new Uint8Array(ye*qe);const V=me[j];for(let Y=0;Y<qe;Y++){X=Y*ye;const he=Y*Ae;if(N==8)for(var Pe=0;Pe<Ae;Pe++)ge[X+Pe]=V[he+Pe];else if(N==4)for(Pe=0;Pe<Ae;Pe++)ge[X+(Pe>>1)]|=V[he+Pe]<<4-4*(1&Pe);else if(N==2)for(Pe=0;Pe<Ae;Pe++)ge[X+(Pe>>2)]|=V[he+Pe]<<6-2*(3&Pe);else if(N==1)for(Pe=0;Pe<Ae;Pe++)ge[X+(Pe>>3)]|=V[he+Pe]<<7-1*(7&Pe)}ue=ge,Q=3,Be=1}else if(Z==0&&ce.length==1){ge=new Uint8Array(Ae*qe*3);const V=Ae*qe;for(X=0;X<V;X++){const Y=3*X,he=4*X;ge[Y]=ue[he],ge[Y+1]=ue[he+1],ge[Y+2]=ue[he+2]}ue=ge,Q=2,Be=3,ye=3*Ae}Te.img=ue,Te.bpl=ye,Te.bpp=Be}return{ctype:Q,depth:N,plte:pe,frames:ce}}function c(M,D,L,z,U,F,H){const K=Uint8Array,P=Uint32Array,W=new K(M[U-1]),ie=new P(M[U-1]),Q=U+1<M.length?new K(M[U+1]):null,N=new K(M[U]),E=new P(N.buffer);let j=D,G=L,X=-1,Z=-1;for(let re=0;re<F.height;re++)for(let pe=0;pe<F.width;pe++){const me=F.x+pe,de=F.y+re,Te=de*D+me,Ae=E[Te];Ae==0||z[U-1].dispose==0&&ie[Te]==Ae&&(Q==null||Q[4*Te+3]!=0)||(me<j&&(j=me),me>X&&(X=me),de<G&&(G=de),de>Z&&(Z=de))}X==-1&&(j=G=X=Z=0),H&&((1&j)==1&&j--,(1&G)==1&&G--),F={x:j,y:G,width:X-j+1,height:Z-G+1};const ce=z[U];ce.rect=F,ce.blend=1,ce.img=new Uint8Array(F.width*F.height*4),z[U-1].dispose==0?(t(W,D,L,ce.img,F.width,F.height,-F.x,-F.y,0),h(N,D,L,ce.img,F)):t(N,D,L,ce.img,F.width,F.height,-F.x,-F.y,0)}function h(M,D,L,z,U){t(M,D,L,z,U.width,U.height,-U.x,-U.y,2)}function p(M,D,L,z,U,F,H){const K=[];let P,W=[0,1,2,3,4];F!=-1?W=[F]:(D*z>5e5||L==1)&&(W=[0]),H&&(P={level:0});const ie=GQ;for(var Q=0;Q<W.length;Q++){for(let j=0;j<D;j++)m(U,M,j,z,L,W[Q]);K.push(ie.deflate(U,P))}let N,E=1e9;for(Q=0;Q<K.length;Q++)K[Q].length<E&&(N=Q,E=K[Q].length);return K[N]}function m(M,D,L,z,U,F){const H=L*z;let K=H+L;if(M[K]=F,K++,F==0)if(z<500)for(var P=0;P<z;P++)M[K+P]=D[H+P];else M.set(new Uint8Array(D.buffer,H,z),K);else if(F==1){for(P=0;P<U;P++)M[K+P]=D[H+P];for(P=U;P<z;P++)M[K+P]=D[H+P]-D[H+P-U]+256&255}else if(L==0){for(P=0;P<U;P++)M[K+P]=D[H+P];if(F==2)for(P=U;P<z;P++)M[K+P]=D[H+P];if(F==3)for(P=U;P<z;P++)M[K+P]=D[H+P]-(D[H+P-U]>>1)+256&255;if(F==4)for(P=U;P<z;P++)M[K+P]=D[H+P]-n(D[H+P-U],0,0)+256&255}else{if(F==2)for(P=0;P<z;P++)M[K+P]=D[H+P]+256-D[H+P-z]&255;if(F==3){for(P=0;P<U;P++)M[K+P]=D[H+P]+256-(D[H+P-z]>>1)&255;for(P=U;P<z;P++)M[K+P]=D[H+P]+256-(D[H+P-z]+D[H+P-U]>>1)&255}if(F==4){for(P=0;P<U;P++)M[K+P]=D[H+P]+256-n(0,D[H+P-z],0)&255;for(P=U;P<z;P++)M[K+P]=D[H+P]+256-n(D[H+P-U],D[H+P-z],D[H+P-U-z])&255}}}function g(M,D){const L=new Uint8Array(M),z=L.slice(0),U=new Uint32Array(z.buffer),F=v(z,D),H=F[0],K=F[1],P=L.length,W=new Uint8Array(P>>2);let ie;if(L.length<2e7)for(var Q=0;Q<P;Q+=4)ie=y(H,N=L[Q]*(1/255),E=L[Q+1]*(1/255),j=L[Q+2]*(1/255),G=L[Q+3]*(1/255)),W[Q>>2]=ie.ind,U[Q>>2]=ie.est.rgba;else for(Q=0;Q<P;Q+=4){var N=L[Q]*.00392156862745098,E=L[Q+1]*(1/255),j=L[Q+2]*(1/255),G=L[Q+3]*(1/255);for(ie=H;ie.left;)ie=x(ie.est,N,E,j,G)<=0?ie.left:ie.right;W[Q>>2]=ie.ind,U[Q>>2]=ie.est.rgba}return{abuf:z.buffer,inds:W,plte:K}}function v(M,D,L){L==null&&(L=1e-4);const z=new Uint32Array(M.buffer),U={i0:0,i1:M.length,bst:null,est:null,tdst:0,left:null,right:null};U.bst=k(M,U.i0,U.i1),U.est=S(U.bst);const F=[U];for(;F.length<D;){let K=0,P=0;for(var H=0;H<F.length;H++)F[H].est.L>K&&(K=F[H].est.L,P=H);if(K<L)break;const W=F[P],ie=w(M,z,W.i0,W.i1,W.est.e,W.est.eMq255);if(W.i0>=ie||W.i1<=ie){W.est.L=0;continue}const Q={i0:W.i0,i1:ie,bst:null,est:null,tdst:0,left:null,right:null};Q.bst=k(M,Q.i0,Q.i1),Q.est=S(Q.bst);const N={i0:ie,i1:W.i1,bst:null,est:null,tdst:0,left:null,right:null};for(N.bst={R:[],m:[],N:W.bst.N-Q.bst.N},H=0;H<16;H++)N.bst.R[H]=W.bst.R[H]-Q.bst.R[H];for(H=0;H<4;H++)N.bst.m[H]=W.bst.m[H]-Q.bst.m[H];N.est=S(N.bst),W.left=Q,W.right=N,F[P]=Q,F.push(N)}for(F.sort((K,P)=>P.bst.N-K.bst.N),H=0;H<F.length;H++)F[H].ind=H;return[U,F]}function y(M,D,L,z,U){if(M.left==null)return M.tdst=function(Q,N,E,j,G){const X=N-Q[0],Z=E-Q[1],ce=j-Q[2],re=G-Q[3];return X*X+Z*Z+ce*ce+re*re}(M.est.q,D,L,z,U),M;const F=x(M.est,D,L,z,U);let H=M.left,K=M.right;F>0&&(H=M.right,K=M.left);const P=y(H,D,L,z,U);if(P.tdst<=F*F)return P;const W=y(K,D,L,z,U);return W.tdst<P.tdst?W:P}function x(M,D,L,z,U){const{e:F}=M;return F[0]*D+F[1]*L+F[2]*z+F[3]*U-M.eMq}function w(M,D,L,z,U,F){for(z-=4;L<z;){for(;I(M,L,U)<=F;)L+=4;for(;I(M,z,U)>F;)z-=4;if(L>=z)break;const H=D[L>>2];D[L>>2]=D[z>>2],D[z>>2]=H,L+=4,z-=4}for(;I(M,L,U)>F;)L-=4;return L+4}function I(M,D,L){return M[D]*L[0]+M[D+1]*L[1]+M[D+2]*L[2]+M[D+3]*L[3]}function k(M,D,L){const z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=[0,0,0,0],F=L-D>>2;for(let H=D;H<L;H+=4){const K=M[H]*.00392156862745098,P=M[H+1]*(1/255),W=M[H+2]*(1/255),ie=M[H+3]*(1/255);U[0]+=K,U[1]+=P,U[2]+=W,U[3]+=ie,z[0]+=K*K,z[1]+=K*P,z[2]+=K*W,z[3]+=K*ie,z[5]+=P*P,z[6]+=P*W,z[7]+=P*ie,z[10]+=W*W,z[11]+=W*ie,z[15]+=ie*ie}return z[4]=z[1],z[8]=z[2],z[9]=z[6],z[12]=z[3],z[13]=z[7],z[14]=z[11],{R:z,m:U,N:F}}function S(M){const{R:D}=M,{m:L}=M,{N:z}=M,U=L[0],F=L[1],H=L[2],K=L[3],P=z==0?0:1/z,W=[D[0]-U*U*P,D[1]-U*F*P,D[2]-U*H*P,D[3]-U*K*P,D[4]-F*U*P,D[5]-F*F*P,D[6]-F*H*P,D[7]-F*K*P,D[8]-H*U*P,D[9]-H*F*P,D[10]-H*H*P,D[11]-H*K*P,D[12]-K*U*P,D[13]-K*F*P,D[14]-K*H*P,D[15]-K*K*P],ie=W,Q=B;let N=[Math.random(),Math.random(),Math.random(),Math.random()],E=0,j=0;if(z!=0)for(let X=0;X<16&&(N=Q.multVec(ie,N),j=Math.sqrt(Q.dot(N,N)),N=Q.sml(1/j,N),!(X!=0&&Math.abs(j-E)<1e-9));X++)E=j;const G=[U*P,F*P,H*P,K*P];return{Cov:W,q:G,e:N,L:E,eMq255:Q.dot(Q.sml(255,G),N),eMq:Q.dot(N,G),rgba:(Math.round(255*G[3])<<24|Math.round(255*G[2])<<16|Math.round(255*G[1])<<8|Math.round(255*G[0])<<0)>>>0}}var B={multVec:(M,D)=>[M[0]*D[0]+M[1]*D[1]+M[2]*D[2]+M[3]*D[3],M[4]*D[0]+M[5]*D[1]+M[6]*D[2]+M[7]*D[3],M[8]*D[0]+M[9]*D[1]+M[10]*D[2]+M[11]*D[3],M[12]*D[0]+M[13]*D[1]+M[14]*D[2]+M[15]*D[3]],dot:(M,D)=>M[0]*D[0]+M[1]*D[1]+M[2]*D[2]+M[3]*D[3],sml:(M,D)=>[M*D[0],M*D[1],M*D[2],M*D[3]]};as.encode=function(D,L,z,U,F,H,K){U==null&&(U=0),K==null&&(K=!1);const P=f(D,L,z,U,[!1,!1,!1,0,K,!1]);return d(P,-1),l(P,L,z,F,H)},as.encodeLL=function(D,L,z,U,F,H,K,P){const W={ctype:0+(U==1?0:2)+(F==0?0:4),depth:H,frames:[]},ie=(U+F)*H,Q=ie*L;for(let N=0;N<D.length;N++)W.frames.push({rect:{x:0,y:0,width:L,height:z},img:new Uint8Array(D[N]),blend:0,dispose:1,bpp:Math.ceil(ie/8),bpl:Math.ceil(Q/8)});return d(W,0,!0),l(W,L,z,K,P)},as.encode.compress=f,as.encode.dither=o,as.quantize=g,as.quantize.getKDtree=v,as.quantize.getNearest=y})();const Pw={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,l=o*r,d=122+l,f=new ArrayBuffer(d),c=new DataView(f),h=1<<20;let p,m,g,v,y=h,x=0,w=0,I=0;function k(M){c.setUint16(w,M,!0),w+=2}function S(M){c.setUint32(w,M,!0),w+=4}function B(M){w+=M}k(19778),S(d),B(4),S(122),S(108),S(n),S(-r>>>0),k(1),k(32),S(3),S(l),S(2835),S(2835),B(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function M(){for(;x<r&&y>0;){for(v=122+x*o,p=0;p<i;)y--,m=a[I++],g=m>>>24,c.setUint32(v+p,m<<8|g),p+=4;x++}I<a.length?(y=h,setTimeout(M,Pw._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Jr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},YQ={[Jr.CHROME]:16384,[Jr.FIREFOX]:11180,[Jr.DESKTOP_SAFARI]:16384,[Jr.IE]:8192,[Jr.IOS]:4096,[Jr.ETC]:8192};const ev=typeof window<"u",Fw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Op=ev&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),QQ=(ev||Fw)&&(Op&&Op.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Uw=(ev||Fw)&&(Op&&Op.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function tv(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const d=new Blob([l],{type:s});d.name=e,d.lastModified=n,r(d)})}function jw(t){return new Promise((e,n)=>{const r=new Uw;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Hw(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Wo(){if(Wo.cachedResult!==void 0)return Wo.cachedResult;let t=Jr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Jr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Jr.IOS:/Safari/i.test(e)?t=Jr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Jr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Jr.IE),Wo.cachedResult=t,Wo.cachedResult}function zw(t,e){const n=Wo(),r=YQ[n];let i=t,s=e,a=i*s;const o=i>s?s/i:i/s;for(;a>r*r;){const l=(r+i)/2,d=(r+s)/2;l<d?(s=d,i=d*o):(s=l*o,i=l),a=i*s}return{width:i,height:s}}function Lp(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Vw(t,e){const{width:n,height:r}=zw(t.width,t.height),[i,s]=Lp(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Rp(){return Rp.cachedResult!==void 0||(Rp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Rp.cachedResult}function Bp(t,e={}){return new Promise(function(n,r){let i,s;var a=function(){try{return s=Vw(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},o=function(l){try{var d=function(f){try{throw f}catch(c){return r(c)}};try{let f;return jw(t).then(function(c){try{return f=c,Hw(f).then(function(h){try{return i=h,function(){try{return a()}catch(p){return r(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(f){d(f)}}catch(f){return r(f)}};try{if(Rp()||[Jr.DESKTOP_SAFARI,Jr.MOBILE_SAFARI].includes(Wo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,a()}catch{return o()}},o)}catch{o()}})}function Pp(t,e,n,r,i=1){return new Promise(function(s,a){let o;if(e==="image/png"){let d,f,c;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),c=as.encode([f.buffer],t.width,t.height,4096*i),o=new Blob([c],{type:e}),o.name=n,o.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};if(e==="image/bmp")return new Promise(f=>Pw.toBlob(t,f)).then((function(f){try{return o=f,o.name=n,o.lastModified=r,d.call(this)}catch(c){return a(c)}}).bind(this),a);{let f=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(c){try{return o=c,o.name=n,o.lastModified=r,f.call(this)}catch(h){return a(h)}}).bind(this),a);{let c;return c=t.toDataURL(e,i),tv(c,n,r).then((function(h){try{return o=h,f.call(this)}catch(p){return a(p)}}).bind(this),a)}}}function l(){return s(o)}})}function Is(t){t.width=0,t.height=0}function au(){return new Promise(function(t,e){let n,r,i,s;return au.cachedResult!==void 0?t(au.cachedResult):tv("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,Bp(n).then(function(o){try{return r=o[1],Pp(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,Is(r),Bp(i).then(function(d){try{return s=d[0],au.cachedResult=s.width===1&&s.height===2,t(au.cachedResult)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function Ww(t){return new Promise((e,n)=>{const r=new Uw;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return e(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const d=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,d);const f=s.getUint16(o,d);o+=2;for(let c=0;c<f;c++)if(s.getUint16(o+12*c,d)==274)return e(s.getUint16(o+12*c+8,d))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Gw(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,a=t;return isFinite(i)&&(n>i||r>i)&&([a,s]=Lp(n,r),n>r?(a.width=i,a.height=r/n*i):(a.width=n/r*i,a.height=i),s.drawImage(t,0,0,a.width,a.height),Is(t)),a}function Yw(t,e){const{width:n}=t,{height:r}=t,[i,s]=Lp(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Is(t),i}function Qw(t,e,n=0){return new Promise(function(r,i){let s,a,o,l,d,f,c,h,p,m,g,v,y,x,w,I,k,S,B,M;function D(z=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=z,e.onProgress(Math.min(s,100))}function L(z){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(z,s),100),e.onProgress(s)}return s=n,a=e.maxIteration||10,o=1024*e.maxSizeMB*1024,D(),Bp(t,e).then((function(z){try{return[,l]=z,D(),d=Gw(l,e),D(),new Promise(function(U,F){var H;if(!(H=e.exifOrientation))return Ww(t).then((function(P){try{return H=P,K.call(this)}catch(W){return F(W)}}).bind(this),F);function K(){return U(H)}return K.call(this)}).then((function(U){try{return f=U,D(),au().then((function(F){try{return c=F?d:Yw(d,f),D(),h=e.initialQuality||1,p=e.fileType||t.type,Pp(c,p,t.name,t.lastModified,h).then((function(H){try{{let P=function(){if(a--&&(w>o||w>y)){let ie,Q;return ie=M?.95*B.width:B.width,Q=M?.95*B.height:B.height,[k,S]=Lp(ie,Q),S.drawImage(B,0,0,ie,Q),h*=p==="image/png"?.85:.95,Pp(k,p,t.name,t.lastModified,h).then(function(N){try{return I=N,Is(B),B=k,w=I.size,L(Math.min(99,Math.floor((x-w)/(x-o)*100))),P}catch(E){return i(E)}},i)}return[1]},W=function(){return Is(B),Is(k),Is(d),Is(c),Is(l),L(100),r(I)};if(m=H,D(),g=m.size>o,v=m.size>t.size,!g&&!v)return L(100),r(m);var K;return y=t.size,x=m.size,w=x,B=c,M=!e.alwaysKeepResolution&&g,(K=(function(ie){for(;ie;){if(ie.then)return void ie.then(K,i);try{if(ie.pop){if(ie.length)return ie.pop()?W.call(this):ie;ie=P}else ie=ie.call(this)}catch(Q){return i(Q)}}}).bind(this))(P)}}catch(P){return i(P)}}).bind(this),i)}catch(H){return i(H)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(U){return i(U)}}).bind(this),i)})}const KQ=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let nv;function XQ(t,e){return new Promise((n,r)=>{nv||(nv=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(KQ));const i=new Worker(nv);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();n(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function vr(t,e){return new Promise(function(n,r){let i,s,a,o,l,d;if(i={...e},a=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{a=p,typeof o=="function"&&o(a)},!(t instanceof Blob||t instanceof QQ))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||d)return Qw(t,i).then((function(p){try{return s=p,h.call(this)}catch(m){return r(m)}}).bind(this),r);var f=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),c=function(p){try{return Qw(t,i).then(function(m){try{return s=m,f()}catch(g){return r(g)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",XQ(t,i).then(function(p){try{return s=p,f()}catch{return c()}},c)}catch{c()}function h(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=Bw(t,s))}catch{}return n(s)}})}vr.getDataUrlFromFile=jw,vr.getFilefromDataUrl=tv,vr.loadImage=Hw,vr.drawImageInCanvas=Vw,vr.drawFileInCanvas=Bp,vr.canvasToFile=Pp,vr.getExifOrientation=Ww,vr.handleMaxWidthOrHeight=Gw,vr.followExifOrientation=Yw,vr.cleanupCanvasMemory=Is,vr.isAutoOrientationInBrowser=au,vr.approximateBelowMaximumCanvasSizeOfBrowser=zw,vr.copyExifWithoutOrientation=Bw,vr.getBrowserName=Wo,vr.version="2.0.2";var ZQ="firebase",JQ="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(ZQ,JQ,"app");let qQ=class{constructor(e){Ye(this,"value");Ye(this,"next");this.value=e}};class $Q{constructor(){dg(this,zi);dg(this,Tl);dg(this,El);this.clear()}enqueue(e){const n=new qQ(e);qs(this,zi)?(qs(this,Tl).next=n,Sa(this,Tl,n)):(Sa(this,zi,n),Sa(this,Tl,n)),iT(this,El)._++}dequeue(){const e=qs(this,zi);if(e)return Sa(this,zi,qs(this,zi).next),iT(this,El)._--,e.value}peek(){if(qs(this,zi))return qs(this,zi).value}clear(){Sa(this,zi,void 0),Sa(this,Tl,void 0),Sa(this,El,0)}get size(){return qs(this,El)}*[Symbol.iterator](){let e=qs(this,zi);for(;e;)yield e.value,e=e.next}}zi=new WeakMap,Tl=new WeakMap,El=new WeakMap;function eK(t){Kw(t);const e=new $Q;let n=0;const r=()=>{n<t&&e.size>0&&(e.dequeue()(),n++)},i=()=>{n--,r()},s=async(l,d,f)=>{const c=(async()=>l(...f))();d(c);try{await c}catch{}i()},a=(l,d,f)=>{new Promise(c=>{e.enqueue(c)}).then(s.bind(void 0,l,d,f)),(async()=>(await Promise.resolve(),n<t&&r()))()},o=(l,...d)=>new Promise(f=>{a(l,f,d)});return Object.defineProperties(o,{activeCount:{get:()=>n},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>t,set(l){Kw(l),t=l,queueMicrotask(()=>{for(;n<t&&e.size>0;)r()})}}}),o}function Kw(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}for(var cr=[],rv=0;rv<256;++rv)cr.push((rv+256).toString(16).slice(1));function tK(t,e=0){return(cr[t[e+0]]+cr[t[e+1]]+cr[t[e+2]]+cr[t[e+3]]+"-"+cr[t[e+4]]+cr[t[e+5]]+"-"+cr[t[e+6]]+cr[t[e+7]]+"-"+cr[t[e+8]]+cr[t[e+9]]+"-"+cr[t[e+10]]+cr[t[e+11]]+cr[t[e+12]]+cr[t[e+13]]+cr[t[e+14]]+cr[t[e+15]]).toLowerCase()}var Fp,nK=new Uint8Array(16);function rK(){if(!Fp&&(Fp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fp(nK)}var iK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Xw={randomUUID:iK};function Up(t,e,n){if(Xw.randomUUID&&!e&&!t)return Xw.randomUUID();t=t||{};var r=t.random||(t.rng||rK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tK(r)}const sK={[Xe.increment]({commit:t}){t(Qe.increment)},async[Xe.fetchRooms]({state:t,commit:e,dispatch:n},{pageSize:r}={pageSize:void 0}){if(t.isRequesting[ws.FetchRooms])return;const{numberOfFetchedRooms:i,uid:s}=t;if(i===t.numberOfTotalRooms&&i>0)return;const a=r!==void 0?r:Math.min(Math.max(30,i),120),{data:{result:o}}=await t.axios.get(ws.FetchRooms,{params:{skip:i,limit:a,q:t.roomTag?`{ "members": "${s}", "roomTags": "${t.roomTag}" }`:`{ "members": "${s}" }`}}),{data:l,totalCount:d}=o,f={},c={};for(const h of l){f[h._id]=new Cd(h,t.uid);for(const p of h.members)c[p.id]||(c[p.id]=new La(p))}e(Qe.updateField,{key:"rooms",value:f}),e(Qe.updateField,{key:"users",value:c}),e(Qe.setState,{numberOfTotalRooms:d,numberOfFetchedRooms:i+a}),n(Xe.aggregateRoomsAndFolders)},async[Xe.handleMessageFromSocket]({state:t,commit:e,dispatch:n},r){let i=t.rooms[r.roomId];if(i){const{id:s,numberOfUnread:a}=i;r.roomId===t.selectedRoomId?(t.processingMessages.has(r.id)||(await n(Xe.handleLinkPreviews,[r]),e(Qe.pushMessage,r)),e(Qe.updateRoom,{id:s,updatedAt:r.createdAt,lastMessage:r,numberOfUnread:0}),n(Xe.updateLastRead,s),e(Qe.setState,{numberOfTotalMessages:t.numberOfTotalMessages+1})):e(Qe.updateRoom,{id:s,updatedAt:r.createdAt,lastMessage:r,numberOfUnread:r.senderId!==t.uid?a+1:a}),n(Xe.aggregateRoomsAndFolders)}else await n(Xe.fetchRoom,r.roomId),i=t.rooms[r.roomId]},async[Xe.loadMessages]({state:t,commit:e,dispatch:n},{roomId:r,beforeMessageId:i,afterMessageId:s,targetMessageId:a}){const o=a?`/rooms/${r}/messages/${a}`:s?`/rooms/${r}/messages/${s}`:`/rooms/${r}/messages`;if(t.isRequesting[o]||t.messageMultiList.numberOfMessages()>=t.numberOfTotalMessages&&t.numberOfTotalMessages!==-1)return;const{data:{result:l}}=await t.axios.get(o,{params:a?{before:15,after:15}:i?{limit:30,beforeMessage:i}:s?{after:30}:{limit:30}}),d={};for(const m of l.data)d[m.sender.id]||(d[m.sender.id]=new La(m.sender));e(Qe.updateField,{key:"users",value:d});const{data:f,totalCount:c}=l;s&&f.shift();const h=new wG(f),p=h.array();return await n(Xe.handleLinkPreviews,p),e(i?Qe.unshiftMessageLinkedList:s?Qe.concateMessageLinkedList:Qe.insertMessageLinkedList,h),c>t.numberOfTotalMessages&&e(Qe.setState,{numberOfTotalMessages:c}),f},async[Xe.fetchRoom]({state:t,commit:e},n){const{data:{result:r}}=await t.axios.get(`/rooms/${n}`),i=new Cd(r,t.uid),s={};s[i.id]=i,e(Qe.updateField,{key:"rooms",value:s});const a={};r.members.flatMap(o=>Array.isArray(o.members)?[...o.members,o]:[o]).forEach(o=>{a[o.id]||(a[o.id]=new La(o))}),e(Qe.updateField,{key:"users",value:a})},async[Xe.updateLastRead]({state:t,commit:e},n){var a;const r=`/rooms/${n}/lastRead`;if(t.isRequesting[r])return;const i=t.rooms[n],{data:{result:s}}=await t.axios.put(r,{message:(a=i.lastMessage)==null?void 0:a.id});s&&e(Qe.updateRoom,{id:n,numberOfUnread:0})},async[Xe.handleRoomFromSocket]({commit:t,dispatch:e},n){const r={};r[n.id]=n,await t(Qe.updateField,{key:"rooms",value:r}),e(Xe.aggregateRoomsAndFolders)},async[Xe.handleLastReadFromSocket]({commit:t},e){t(Qe.updateLastRead,e)},async[Xe.sendMessage]({state:t,commit:e,dispatch:n},r){const{roomId:i}=r;if(!i)return;const s=En.fromPayload(r,t.uid);if(!s)return;if(e(Qe.setMap,{mapName:"deliveringMessages",key:s.id,value:s}),e(Qe.pushMessage,s),r.messageType===at.Image){const{files:l}=r,d=await Promise.all(r.images.map((c,h)=>n(Xe.uploadImage,{image:c,file:l[h]}))),f=[];r.images.forEach((c,h)=>{t.imageCache.set(d[h].thumbnailUrl,c.thumbnailUrl);const{id:p,width:m,height:g}=c;f.push({originalUrl:d[h].originalUrl,thumbnailUrl:d[h].thumbnailUrl,width:m,height:g}),e(Qe.deleteField,{key:"uploadProgresses",value:`${p}-original`}),e(Qe.deleteField,{key:"uploadProgresses",value:`${p}-thumbnail`})}),r.images=f,delete r.files}else if(r.messageType===at.Video){const{file:l,video:d}=r,f=d.thumbnailFile;if(!f)return;const c=await Promise.all([n(Xe.uploadMedia,{id:f.id,file:f.file}),n(Xe.uploadMedia,{id:d.id,file:l})]);r.width=d.width,r.height=d.height,r.duration=d.duration,r.thumbnailUrl=c[0],r.originalUrl=c[1],t.imageCache.set(c[0],d.thumbnailUrl),delete r.file,e(Qe.deleteField,{key:"uploadProgresses",value:d.id})}else if(r.messageType===at.File){const{file:l}=r,d=await n(Xe.uploadMedia,{id:s.id,file:l});r.originalUrl=d,delete r.file,e(Qe.deleteField,{key:"uploadProgresses",value:s.id})}else if(r.messageType===at.Audio){const{file:l}=r,d=await n(Xe.uploadMedia,{id:s.id,file:l});r.originalUrl=d,delete r.file,e(Qe.deleteField,{key:"uploadProgresses",value:s.id})}const{data:{result:a}}=await t.axios.post(`/rooms/${i}/message`,r),o=En.fromRaw(a);if(o)return e(Qe.setMap,{mapName:"processingMessages",key:o.id,value:o}),e(Qe.deleteMap,{mapName:"deliveringMessages",key:s.id}),await n(Xe.handleLinkPreviews,[o]),o.roomId===t.selectedRoomId?e(Qe.replaceMessage,{message:o,targetMessageId:s.id}):e(Qe.updateRoom,{id:o.roomId,updatedAt:o.createdAt,lastMessage:o}),e(Qe.deleteMap,{mapName:"processingMessages",key:o.id}),o},async[Xe.batchSendMessage]({state:t},e){await t.axios.post("/messages/batch",e)},async[Xe.recallMessage]({state:t,commit:e},n){var o;const{roomId:r}=n;if(!r)return;const{data:{result:i}}=await t.axios.post(`/rooms/${r}/message`,n),s=En.fromRaw(i);if(!s)return;const a=t.rooms[`${r}`];a&&((o=a.lastMessage)==null?void 0:o.id)===s.id&&e(Qe.updateRoom,{id:r,lastMessage:s}),e(Qe.replaceMessage,{targetMessageId:s.id,message:s})},async[Xe.uploadMedia]({state:t,commit:e},{id:n,file:r}){const i=new FormData;i.append("file",r);const{data:{result:{_id:s}}}=await t.axios.post("/files/chatserver-upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{const{total:o}=a;o&&e(Qe.updateField,{key:"uploadProgresses",value:{[n]:a.loaded/o}})}});return`${t.config.domain}/files/chatserver-upload/${s}`},async[Xe.uploadImage]({dispatch:t},{image:e,file:n}){if(n.size>1024*1024)try{const i=await vr(n,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),s=await Promise.all([t(Xe.uploadMedia,{id:`${e.id}-original`,file:n}),t(Xe.uploadMedia,{id:`${e.id}-thumbnail`,file:i})]);return{originalUrl:s[0],thumbnailUrl:s[1]}}catch(i){console.error(i)}const r=await t(Xe.uploadMedia,{id:`${e.id}-original`,file:n});return{originalUrl:r,thumbnailUrl:r}},async[Xe.fetchLinkPreview](t,e){const{data:n}=await fn.get(encodeURI(`https://url.imkit.io/?url=${e}`));return n},async[Xe.handleLinkPreviews]({state:t,commit:e,dispatch:n},r){const i=Array.from(new Set(r.flatMap(o=>(o==null?void 0:o.urls)||[]).filter(o=>!t.linkPreviews[o])));if(i.length===0)return;const s={};(await Promise.allSettled(i.map(o=>n(Xe.fetchLinkPreview,o)))).forEach((o,l)=>{o.status==="fulfilled"&&(s[i[l]]=o.value)}),e(Qe.updateField,{key:"linkPreviews",value:s})},async[Xe.fetchVideoBlob]({state:t},e){const{data:n}=await t.axios.get(e,{responseType:"blob"});return n},async[Xe.navigateToMessage]({state:t,commit:e,dispatch:n},r){var i;(i=t.messageMultiList.main)!=null&&i.contains(r)?e(Qe.setState,{navigationTargetId:r}):(await n(Xe.loadMessages,{roomId:t.selectedRoomId,targetMessageId:r}),await e(Qe.setState,{navigationTargetId:r}))},async[Xe.updateRoomPrefs]({state:t,commit:e,dispatch:n},{roomId:r,prefs:i}){await t.axios.post(`/roomPrefs/${r}`,i);const s=t.rooms[r];s&&(e(Qe.updateRoom,{id:r,pref:{...s.pref,...i}}),n(Xe.aggregateRoomsAndFolders))},async[Xe.fetchPrefs]({state:t,commit:e}){const{data:{result:n}}=await t.axios.get("/me/pref"),r={},i=[],s={},a={},o={};for(const l of n)if(l.key==="folders-meta")for(const d of l.data)s[d.key]=d.name,i.push(d.key);else{if(l.key==="blackList")continue;a[l.key]=l.data.children.map(d=>d.id)}for(const l of i){r[l]=new eu(l,s[l],a[l]||[]);for(const d of a[l]||[])o[d]=!0}e(Qe.setState,{folders:r,sortedFolderIds:i,roomIdsInFolders:o})},async[Xe.fetchRoomsInFolders]({state:t,dispatch:e}){const n=Object.keys(t.roomIdsInFolders).length;for(;t.numberOfFetchedRooms<n;)await e(Xe.fetchRooms,{pageSize:200});const r=eK(6),i=Object.keys(t.roomIdsInFolders).filter(s=>!t.rooms[s]).map(s=>r(()=>e(Xe.fetchRoom,s)));await Promise.allSettled(i)},async[Xe.updatePref]({state:t},{key:e,value:n}){return await t.axios.post(`/me/pref/${e}`,n)},async[Xe.deletePref]({state:t},e){return await t.axios.delete(`/me/pref/${e}`)},async[Xe.updateFolder]({state:t,dispatch:e,commit:n},{folderKey:r,name:i}){const s=Object.keys(t.selectedRoomIdsForCreateFolder).filter(o=>t.selectedRoomIdsForCreateFolder[o]);await e(Xe.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(o=>t.folders[o]).filter(o=>!!o&&o.id!==r).map(o=>({key:o.id,name:o.name})).concat([{key:r,name:i}]).sort((o,l)=>o.key.localeCompare(l.key))}),await e(Xe.updatePref,{key:r,value:{children:s.map(o=>({id:o,type:"room"}))}}),t.folders[r]&&n(Qe.updateField,{key:"roomIdsInFolders",value:t.folders[r].roomIds.reduce((o,l)=>(o[l]=!1,o),{})});const a=new eu(r,i,s);n(Qe.updateField,{key:"folders",value:{[r]:a}}),n(Qe.updateField,{key:"roomIdsInFolders",value:s.reduce((o,l)=>(o[l]=!0,o),{})}),n(Qe.setState,{sortedFolderIds:[...new Set([...t.sortedFolderIds,r])],selectedRoomIdsForCreateFolder:{}}),e(Xe.aggregateRoomsAndFolders)},async[Xe.removeFolder]({state:t,dispatch:e},n){await e(Xe.deletePref,n),await e(Xe.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(r=>t.folders[r]).filter(r=>!!r&&r.id!==n).map(r=>({key:r.id,name:r.name}))}),e(Xe.handlePrefDeleteFromSocket)},async[Xe.handlePrefChangeFromSocket]({state:t,commit:e,dispatch:n},r){const{key:i,data:s}=r;if(i==="folders-meta"){const a={},o=[];for(const{key:l,name:d}of s){const f=t.folders[l]||new eu(l,d,[]);a[l]=f,o.push(l)}e(Qe.setState,{folders:a,sortedFolderIds:o})}else{const{id:a,name:o}=t.folders[i];if(a){const l=s.children.map(f=>f.id),d=new eu(a,o,l);e(Qe.updateField,{key:"folders",value:{[i]:d}}),e(Qe.updateField,{key:"roomIdsInFolders",value:l.reduce((f,c)=>(f[c]=!0,f),{})})}}n(Xe.aggregateRoomsAndFolders)},async[Xe.handlePrefDeleteFromSocket]({state:t,commit:e,dispatch:n},r){const i=t.folders[r];if(!i)return;const s={};for(const a of i.roomIds)s[a]=!1;e(Qe.deleteField,{key:"folders",value:r}),e(Qe.updateField,{key:"roomIdsInFolders",value:s}),e(Qe.setState,{sortedFolderIds:t.sortedFolderIds.filter(a=>a!==r)}),n(Xe.aggregateRoomsAndFolders)},async[Xe.aggregateRoomsAndFolders]({state:t,commit:e}){const n=Object.values(t.rooms).filter(r=>{var i;return!t.roomIdsInFolders[r.id]&&r.lastMessage!==null&&!((i=r.pref)!=null&&i.hidden)}).sort((r,i)=>{var s,a,o;return((s=r.pref)==null?void 0:s.sticky)===((a=i.pref)==null?void 0:a.sticky)?i.updatedAt-r.updatedAt:(o=r.pref)!=null&&o.sticky?-1:1});e(Qe.setState,{sortedRooms:n})},async[Xe.removeMembers]({state:t,commit:e},{roomId:n,uids:r}){var s;if(t.rooms[n]&&(await t.axios.post(`/rooms/${n}/delete/members`,{systemMessage:!0,members:r}),r.includes(t.uid))){e(Qe.deleteRoom,n);const a=(s=t.sortedRooms.find(o=>o.numberOfUnread===0))==null?void 0:s.id;a&&e(Qe.setState,{selectedRoomId:a})}},async[Xe.handleTypingFromSocket]({state:t,commit:e},n){const{room:r,sender:i}=n;if(r!==t.selectedRoomId||i===t.uid)return;const s=t.isTyping[i];s!==void 0&&clearTimeout(s);const a=setTimeout(()=>{e(Qe.deleteField,{key:"isTyping",value:i})},6e3);e(Qe.updateField,{key:"isTyping",value:{[i]:a}})},async[Xe.insertUnreadMessage]({state:t,commit:e}){var a;const n=t.rooms[t.selectedRoomId];if(!n)return;const r=n.lastReadMessageId[t.uid];if(!r)return;const i=(a=t.messageMultiList.main)==null?void 0:a.finds(r);if(!i)return;const s=En.fromPayload({roomId:t.selectedRoomId,messageType:at.Announcement,message:"以下為尚未閱讀的訊息",createdAtMS:i.createdAt+1},t.uid);s&&e(Qe.pushMessage,s)},async[Xe.translate]({state:t},e){if(t.translationCache.has(e))return t.translationCache.get(e)||e;let n=navigator.language.split("-")[0];const r={am:"am",ar:"ar",eu:"eu",bn:"bn","en-gb":"en-GB","pt-br":"pt-BR",bg:"bg",ca:"ca",chr:"chr",hr:"hr",cs:"cs",da:"da",nl:"nl",en:"en",et:"et",fil:"fil",fi:"fi",fr:"fr",de:"de",el:"el",gu:"gu",iw:"iw",hi:"hi",hu:"hu",is:"is",id:"id",it:"it",ja:"ja",kn:"kn",ko:"ko",lv:"lv",lt:"lt",ms:"ms",ml:"ml",mr:"mr",no:"no",pl:"pl","pt-pt":"pt-PT",ro:"ro",ru:"ru",sr:"sr","zh-cn":"zh-CN",sk:"sk",sl:"sl",es:"es",sw:"sw",sv:"sv",ta:"ta",te:"te",th:"th","zh-tw":"zh-TW",tr:"tr",ur:"ur",uk:"uk",vi:"vi",cy:"cy"};r[navigator.language.toLowerCase()]&&(n=r[navigator.language.toLowerCase()]);const i=await fetch("https://translation.googleapis.com/language/translate/v2",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({q:e,key:t.config.translationApiKey,target:n}),redirect:"follow"}).then(s=>s.json()).then(s=>{var a;return(a=s.data)==null?void 0:a.translations[0].translatedText});return t.translationCache.set(e,i),i},async[Xe.searchRooms]({state:t,commit:e},n){if(t.isRequesting[ws.Search])return;const r=Object.values(ki),{data:{result:i}}=await t.axios.post(ws.Search,{type:r,keyword:n}),s={},a={},o={};for(const f of r)i[f].forEach(c=>{s[c._id]=new Cd(c,t.uid),o[f]||(o[f]=[]),o[f].push(s[c._id]);for(const h of c.members)a[h.id]||(a[h.id]=new La(h))});for(const f of Object.values(t.folders))f.name.includes(n)&&(o[ki.RoomPrefFolder]||(o[ki.RoomPrefFolder]=[]),o[ki.RoomPrefFolder].push(f));const l=Object.keys(o),d=l.length>0?l[0]:ki.RoomName;e(Qe.updateField,{key:"rooms",value:s}),e(Qe.updateField,{key:"users",value:a}),e(Qe.setState,{searchRooms:o,searchType:d,searchKeyword:n})},async[Xe.subscribe]({state:t}){if(!t.config.firebaseConfig||!t.config.firebaseVapidKey||await Notification.requestPermission()!=="granted")return;const n=O3(t.config.firebaseConfig),r=xG(n),i=await CG(r,{vapidKey:t.config.firebaseVapidKey});if(!i)return;let s=localStorage.getItem("imkit-deviceId");s||(s=Up(),localStorage.setItem("imkit-deviceId",s)),await t.axios.post(ws.Subscribe,{type:"fcm",token:i,deviceId:s})},async[Xe.unsubscribe]({state:t}){let e=localStorage.getItem("imkit-deviceId");e||(e=Up(),localStorage.setItem("imkit-deviceId",e)),await t.axios.post(ws.Unsubscribe,{type:"fcm",deviceId:e})},async[Xe.removeRoomFromFolder]({state:t,commit:e,dispatch:n},r){if(!t.roomIdsInFolders[r])return;const i=t.folders[t.selectedFolderId];if(!i)return;const s=i.id,a=i.roomIds.filter(l=>l!==r);await n(Xe.updatePref,{key:s,value:{children:a.map(l=>({id:l,type:"room"}))}});const o=new eu(s,i.name,a);e(Qe.updateField,{key:"folders",value:{[s]:o}}),e(Qe.updateField,{key:"roomIdsInFolders",value:{[r]:!1}}),n(Xe.aggregateRoomsAndFolders)},async[Xe.addRoomToFolder]({state:t,commit:e,dispatch:n},{roomId:r,folderId:i}){const s=t.folders[i];if(!s)return;const a=Array.from(new Set([...s.roomIds,r]));await n(Xe.updatePref,{key:i,value:{children:a.map(l=>({id:l,type:"room"}))}});const o=new eu(i,s.name,a);e(Qe.updateField,{key:"folders",value:{[i]:o}}),e(Qe.updateField,{key:"roomIdsInFolders",value:{[r]:!0}}),n(Xe.aggregateRoomsAndFolders)},async[Xe.toggleNotification]({state:t,commit:e},n){const r=t.rooms[n];r&&(r.muted?await t.axios.delete(`/me/mute/${n}`):await t.axios.post(`/me/mute/${n}`),e(Qe.updateRoom,{id:n,muted:!r.muted}))},async[Xe.removeRoom]({state:t,commit:e},n){await t.axios.delete(`/rooms/${n}`),e(Qe.deleteRoom,n)},async[Xe.translateMessage]({state:t,commit:e,dispatch:n},r){if(t.config.translationApiKey&&r.type===at.Text&&r.senderId!==t.uid){const i=r.text;try{const s=await n(Xe.translate,i);r.translatedText=s!==i?s:null,e(Qe.replaceMessage,{message:r,targetMessageId:r.id})}catch(s){console.error(s)}}},async[Xe.blockUser]({state:t,commit:e},{roomId:n,uid:r}){await t.axios.post(`/blockStatus/room/${n}/${r}`),e(Qe.updateField,{key:"blockedUsers",value:{[r]:!0}})},async[Xe.unblockUser]({state:t,commit:e},{roomId:n,uid:r}){await t.axios.delete(`/blockStatus/room/${n}/${r}`),e(Qe.deleteField,{key:"blockedUsers",value:r})},async[Xe.getBlockList]({state:t,commit:e},n){const r=await t.axios.get(`/blockStatus/room/${n}`),i={};for(const s of r.data.result.data)s.blockee&&(i[s.blockee.id]=!0);e(Qe.updateField,{key:"blockedUsers",value:i})},async[Xe.quickReply]({state:t,dispatch:e},n){const r={roomId:n.roomId,messageType:"text",message:n.message,reply:t.replyId?t.replyId:null};e(Xe.sendMessage,r)}},aK={doubleCount:t=>t.count*2,roomsInSelectedFolder:t=>{const{selectedFolderId:e}=t,n=t.folders[e];return n?n.roomIds.map(i=>t.rooms[i]).filter(i=>t.roomTag?i&&i.roomTags.includes(t.roomTag):i).sort((i,s)=>{var a,o,l;return((a=i.pref)==null?void 0:a.sticky)===((o=s.pref)==null?void 0:o.sticky)?s.updatedAt-i.updatedAt:(l=i.pref)!=null&&l.sticky?-1:1}):[]}},oK={[Qe.increment](t){t.count++},[Qe.setState](t,e){Object.assign(t,e)},[Qe.updateField](t,e){const{key:n,value:r}=e;Object.assign(t[n],r)},[Qe.deleteField](t,e){const{key:n,value:r}=e;delete t[n][r]},[Qe.updateRoom](t,e){const{id:n}=e,r=t.rooms[n];r&&Object.assign(r,e)},[Qe.updateLastRead](t,e){const{roomId:n,uid:r,messageId:i}=e,s=t.rooms[n];s&&(s.lastReadMessageId[r]=i)},[Qe.pushMessage](t,e){var n;e.roomId===t.selectedRoomId&&((n=t.messageMultiList.main)==null||n.append(e))},[Qe.replaceMessage](t,e){var i,s;const{targetMessageId:n,message:r}=e;n===r.id&&((i=t.messageMultiList.main)!=null&&i.contains(r.id))&&t.messageMultiList.main.remove(r.id),(s=t.messageMultiList.main)==null||s.replace(n,r)},[Qe.clearChatRoom](t){t.messageMultiList=new g3,t.numberOfTotalMessages=-1,t.replyId="",t.navigationTargetId="",t.isTyping={},t.isSearchInRoomMode=!1,t.messageSearchKeyword="",t.blockedUsers={}},[Qe.deleteRoom](t,e){delete t.rooms[e],delete t.roomIdsInFolders[e],delete t.selectedRoomIdsForCreateFolder[e],t.sortedRooms=t.sortedRooms.filter(n=>n.id!==e)},[Qe.setMap](t,e){const{mapName:n,key:r,value:i}=e;t[n].set(r,i)},[Qe.deleteMap](t,e){const{mapName:n,key:r}=e;t[n].delete(r)},[Qe.insertMessageLinkedList](t,e){t.messageMultiList.insert(e),t.messageMultiList.merge()},[Qe.concateMessageLinkedList](t,e){t.messageMultiList.concate(e),t.messageMultiList.merge()},[Qe.unshiftMessageLinkedList](t,e){t.messageMultiList.unshift(e),t.messageMultiList.merge()}},Zw={state:b3,mutations:oK,getters:aK,actions:sK,namespaced:!0},ou=A9({plugins:[],modules:{imkit:Zw}});var Jw={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(It,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,a){var o,l=function(h,p,m){m===void 0&&(m={});var g=new Date(h),v=function(y,x){x===void 0&&(x={});var w=x.timeZoneName||"short",I=y+"|"+w,k=r[I];return k||(k=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[I]=k),k}(p,m);return v.formatToParts(g)},d=function(h,p){for(var m=l(h,p),g=[],v=0;v<m.length;v+=1){var y=m[v],x=y.type,w=y.value,I=n[x];I>=0&&(g[I]=parseInt(w,10))}var k=g[3],S=k===24?0:k,B=g[0]+"-"+g[1]+"-"+g[2]+" "+S+":"+g[4]+":"+g[5]+":000",M=+h;return(a.utc(B).valueOf()-(M-=M%1e3))/6e4},f=s.prototype;f.tz=function(h,p){h===void 0&&(h=o);var m,g=this.utcOffset(),v=this.toDate(),y=v.toLocaleString("en-US",{timeZone:h}),x=Math.round((v-new Date(y))/1e3/60),w=15*-Math.round(v.getTimezoneOffset()/15)-x;if(!Number(w))m=this.utcOffset(0,p);else if(m=a(y,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(w,!0),p){var I=m.utcOffset();m=m.add(g-I,"minute")}return m.$x.$timezone=h,m},f.offsetName=function(h){var p=this.$x.$timezone||a.tz.guess(),m=l(this.valueOf(),p,{timeZoneName:h}).find(function(g){return g.type.toLowerCase()==="timezonename"});return m&&m.value};var c=f.startOf;f.startOf=function(h,p){if(!this.$x||!this.$x.$timezone)return c.call(this,h,p);var m=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(m,h,p).tz(this.$x.$timezone,!0)},a.tz=function(h,p,m){var g=m&&p,v=m||p||o,y=d(+a(),v);if(typeof h!="string")return a(h).tz(v);var x=function(S,B,M){var D=S-60*B*1e3,L=d(D,M);if(B===L)return[D,B];var z=d(D-=60*(L-B)*1e3,M);return L===z?[D,L]:[S-60*Math.min(L,z)*1e3,Math.max(L,z)]}(a.utc(h,g).valueOf(),y,v),w=x[0],I=x[1],k=a(w).utcOffset(I);return k.$x.$timezone=v,k},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(h){o=h}}})})(Jw);var lK=Jw.exports;const uK=or(lK);var qw={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(It,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,a,o){var l=a.prototype;o.utc=function(g){var v={date:g,utc:!0,args:arguments};return new a(v)},l.utc=function(g){var v=o(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),n):v},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),d.call(this,g)};var f=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else f.call(this)};var c=l.utcOffset;l.utcOffset=function(g,v){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?c.call(this):this.$offset;if(typeof g=="string"&&(g=function(k){k===void 0&&(k="");var S=k.match(r);if(!S)return null;var B=(""+S[0]).match(i)||["-",0,0],M=B[0],D=60*+B[1]+ +B[2];return D===0?0:M==="+"?D:-D}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g,w=this;if(v)return w.$offset=x,w.$u=g===0,w;if(g!==0){var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(x+I,n)).$offset=x,w.$x.$localOffset=I}else w=this.utc();return w};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(g,v,y){if(g&&this.$u===g.$u)return m.call(this,g,v,y);var x=this.local(),w=o(g).local();return m.call(x,w,v,y)}}})})(qw);var cK=qw.exports;const dK=or(cK);Ln.extend(dK),Ln.extend(uK);var at=(t=>(t.Text="text",t.Image="image",t.Sticker="sticker",t.Video="video",t.File="file",t.Template="template",t.Flex="flex",t.Location="location",t.Audio="audio",t.Recall="recall",t.JoinRoom="joinRoom",t.LeaveRoom="leaveRoom",t.AddMember="addMember",t.DeleteMember="deleteMember",t.AddMembers="addMembers",t.Announcement="announcement",t.Typing="typing",t))(at||{});class En{constructor(e){Ye(this,"id");Ye(this,"roomId");Ye(this,"senderId");Ye(this,"type");Ye(this,"createdAt");Ye(this,"updatedAt");Ye(this,"groupId");Ye(this,"dateId");Ye(this,"template");Ye(this,"prev",null);Ye(this,"next",null);const{_id:n,room:r,sender:i,messageType:s,createdAtMS:a,updatedAtMS:o,extra:l}=e;this.id=n,this.roomId=r,this.senderId=(i==null?void 0:i._id)||"",s==="line"?this.type=l.type:this.type=s,this.createdAt=a,this.updatedAt=o,this.groupId=`${Ln(a).startOf("minute").unix()}-${this.senderId}`,this.dateId=Ln.tz(a).startOf("day").unix()}_string(e,n){var s,a;const{t:r}=ss();let i=r("message");switch(this.type){case"image":i=r("image");break;case"sticker":i=r("sticker");break;case"video":i=r("video");break;case"file":i=r("file");break;case"location":i=r("location");break;case"audio":i=r("audio");break;case"recall":return this.senderId===e?r("youUnsentMessage"):r("someoneUnsentMessage",[((s=n[this.senderId])==null?void 0:s.nickname)??""])}return this.senderId===e?r("youSent",[i]):r("someoneSent",[((a=n[this.senderId])==null?void 0:a.nickname)??"",i])}get string(){const{state:{imkit:{uid:e,users:n}}}=ou;return this._string(e,n)}get isIncoming(){return!this.isOutgoing}get isOutgoing(){var r;const{state:{imkit:{rooms:e,uid:n}}}=ou;return this.senderId===n||((r=e[this.roomId])==null?void 0:r.isOutgoingGroupSender[this.senderId])}get isSystem(){return new Set(["recall","joinRoom","leaveRoom","addMember","deleteMember","addMembers","announcement"]).has(this.type)}static fromRaw(e){if(!e)return null;switch(e.messageType){case"text":return new jp(e);case"image":return new fK(e);case"sticker":return new $w(e);case"video":return new hK(e);case"file":return new bK(e);case"template":return new pK(e);case"flex":return new mK(e);case"location":return new gK(e);case"audio":return new vK(e);case"announcement":return new jp(e);case"addMember":return new sv(e);case"deleteMember":return new sv(e);case"addMembers":return new sv(e);case"line":switch(e.extra!=="object"&&(e.extra=JSON.parse(e.extra)),e.extra.type){case"sticker":return new $w(e);default:return new En(e)}default:return new En(e)}}static fromPayload(e,n){const r=Date.now(),{roomId:i}=e,s={_id:Up(),room:i,sender:{_id:n},createdAtMS:r,updatedAtMS:r,...e};return En.fromRaw(s)}}const Tc=class Tc extends En{constructor(n){super(n);Ye(this,"text");Ye(this,"translatedText");Ye(this,"replyId");Ye(this,"urls");const{message:r,reply:i}=n;this.text=r??"",this.translatedText=null,this.replyId=(i==null?void 0:i._id)??null;try{this.urls=Array.from(new Set(Tc.autolinker.parse(r).map(s=>typeof s.getUrl=="function"?s.getUrl():"").filter(s=>s!=="")))}catch(s){this.urls=[],console.log(n),console.error(s)}}get string(){return nj(this.html).text()}get html(){return Tc.autolinker.link(this.text.replaceAll(`
`,"<br>"))}static linkfy(n){try{return Tc.autolinker.link(n.replaceAll(`
`,"<br>"))}catch(r){return console.error(r),n}}};Ye(Tc,"autolinker",new ij({className:"underline",email:!1,phone:!1,stripPrefix:!1,stripTrailingSlash:!1,mention:"twitter",replaceFn:function(n){switch(n.getType()){case"url":return!0;case"mention":{if(!ou)return`@${n.getMention()}`;const r=n.getMention(),i=ou.state.imkit.users[r];return i?`<span class="cursor-pointer text-blue-500" data-uid="${r}">@${i.nickname}</span>`:`@${n.getMention()}`}}}}));let jp=Tc;class fK extends En{constructor(n){super(n);Ye(this,"images");const{images:r,width:i,height:s,thumbnailUrl:a,originalUrl:o}=n;r&&r.length>0?this.images=r:this.images=[{id:o,width:i,height:s,thumbnailUrl:a,originalUrl:o}]}}class $w extends En{constructor(n){super(n);Ye(this,"stickerId");Ye(this,"stickerUrl");const{sticker:r,extra:i}=n;r?uj(r)?(this.stickerId="",this.stickerUrl=r):(this.stickerId=r,this.stickerUrl=""):(this.stickerId="",this.stickerUrl=`https://stickershop.line-scdn.net/stickershop/v1/sticker/${i.stickerId}/ios/sticker.png`)}}class hK extends En{constructor(n){super(n);Ye(this,"video");const{id:r,width:i,height:s,thumbnailUrl:a,originalUrl:o,duration:l,thumbnailFile:d,video:f}=n;f?this.video=f:this.video={id:r||o,width:i,height:s,thumbnailUrl:a,originalUrl:o,duration:l,thumbnailFile:d}}}var Go=(t=>(t.Buttons="buttons",t.Confirm="confirm",t.Carousel="carousel",t.ImageCarousel="image_carousel",t))(Go||{});class pK extends En{constructor(n){super(n);Ye(this,"template");Ye(this,"templateType");const{template:r}=n;try{this.template=typeof r=="object"?r:JSON.parse(r);const{type:i}=this.template;this.templateType=i}catch(i){console.log(n),console.error(i),this.template={},this.templateType="buttons"}}}var iv=(t=>(t.Bubble="bubble",t.Carousel="carousel",t))(iv||{});class mK extends En{constructor(n){super(n);Ye(this,"contents");Ye(this,"flexType");const{contents:r}=n;try{this.contents=typeof r=="object"?r:JSON.parse(r);const{type:i}=this.contents;this.flexType=i}catch(i){console.log(n),console.error(i),this.contents={},this.flexType="bubble"}}}class gK extends En{constructor(n){super(n);Ye(this,"address");Ye(this,"latitude");Ye(this,"longitude");const{message:r,latitude:i,longitude:s}=n;this.address=r,this.latitude=i,this.longitude=s}}class sv extends En{constructor(n){super(n);Ye(this,"members");switch(n.messageType){case"addMember":this.members=[new La(n.member)];break;case"deleteMember":this.members=n.extra.members.map(r=>new La(r));break;case"addMembers":this.members=n.extra.invitees.map(r=>new La(r));break;default:this.members=[]}}}class bK extends En{constructor(n){super(n);Ye(this,"url");Ye(this,"mimeType");Ye(this,"fileName");Ye(this,"bytes");Ye(this,"fileExtension");const{originalUrl:r,extra:i}=n;this.url=r;const{mimeType:s,fileName:a,bytes:o,fileExtension:l}=typeof i=="object"?i:JSON.parse(i);this.mimeType=s,this.fileName=a,this.bytes=o,this.fileExtension=l}}class vK extends En{constructor(n){super(n);Ye(this,"url");Ye(this,"mimeType");Ye(this,"fileName");Ye(this,"bytes");Ye(this,"fileExtension");Ye(this,"duration");const{originalUrl:r,extra:i,duration:s}=n;this.url=r;const{mimeType:a,fileName:o,bytes:l,fileExtension:d}=typeof i=="object"?i:JSON.parse(i);this.mimeType=a,this.fileName=o,this.bytes=l,this.fileExtension=d,this.duration=s}}const yK=t=>(u.pushScopeId("data-v-dcfc20b1"),t=t(),u.popScopeId(),t),_K={class:"flex gap-3"},TK={class:"flex flex-col gap-1"},EK={key:0,class:"ml-auto h-10 w-10 rounded object-cover"},AK=["innerHTML"],xK=["innerHTML"],CK=["innerHTML"],wK={key:3,class:"my-1 flex flex-col gap-3"},SK=["onClick"],kK=yK(()=>u.createElementVNode("div",{class:"my-0.5 w-0.5 flex-shrink-0 rounded-full bg-blue-300"},null,-1)),IK={class:"align-center flex grow flex-col justify-center gap-0.5 overflow-hidden"},DK={class:"ellipsis text-sm font-bold"},NK={class:"multiline-ellipsis text-xs"},MK=["src"],Va=On(u.defineComponent({__name:"TextMessageContent",props:{message:{}},setup(t){const e=t,n=rn(),r=u.computed(()=>{var p;return(p=n.state.imkit.messageMultiList.main)==null?void 0:p.map.get(e.message.replyId)}),i=u.computed(()=>{const p=r.value;return p?n.state.imkit.users[p.senderId]:null}),s=u.computed(()=>e.message.isIncoming),a=u.computed(()=>{const{urls:p}=e.message;return p?p.map(m=>n.state.imkit.linkPreviews[m]).filter(m=>m):[]}),o=u.computed(()=>{if(r.value.type===at.Text)return r.value.text;if(r.value.type===at.Image){const{t:p}=ss();return{[at.Text]:p("text"),[at.Image]:p("image"),[at.Video]:p("video"),[at.Sticker]:p("sticker")}[r.value.type]}return""}),l=u.computed(()=>{if(r.value.type===at.Image)return r.value.images[0]}),d=p=>{const m=p.target;if(m.tagName==="SPAN"&&m.dataset.uid){const g=n.state.imkit.users[m.dataset.uid];if(!g)return;const{open:v}=Xi({component:KT,attrs:{url:g.avatarUrl??"",name:g.nickname??""}});v()}},f=u.computed(()=>n.state.imkit.messageSearchKeyword?e.message.html.replace(new RegExp(n.state.imkit.messageSearchKeyword,"ig"),p=>`<span class="bg-amber-400 text-white">${p}</span>`):e.message.html),c=p=>{window.open(p,"_blank")},h=()=>{n.dispatch("imkit/navigateToMessage",e.message.replyId)};return(p,m)=>{const g=u.resolveDirective("src");return u.openBlock(),u.createElementBlock(u.Fragment,null,[r.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer flex-col gap-2",onClick:h},[u.createElementVNode("div",_K,[u.createVNode(gr,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg text-sm",url:i.value.avatarUrl??"",name:i.value.nickname??""},null,8,["url","name"]),u.createElementVNode("div",TK,[u.createElementVNode("div",{class:u.normalizeClass(["text-sm font-bold",[s.value?"text-gray-600":"text-white"]])},u.toDisplayString(i.value.nickname),3),u.createElementVNode("div",{class:u.normalizeClass(["multiline-ellipsis text-xs",[s.value?"text-gray-500 dark:text-gray-300":"text-gray-200"]])},u.toDisplayString(o.value),3)]),l.value?u.withDirectives((u.openBlock(),u.createElementBlock("img",EK,null,512)),[[g,l.value.thumbnailUrl]]):u.createCommentVNode("",!0)]),u.createElementVNode("div",{class:u.normalizeClass(["-mx-2 h-px",[s.value?"bg-gray-200 dark:bg-zinc-600":"bg-blue-300"]])},null,2),u.createElementVNode("div",{class:"break-all",innerHTML:f.value},null,8,AK)])):(u.openBlock(),u.createElementBlock("div",{key:1,class:"break-all",innerHTML:f.value,onClick:d},null,8,xK)),s.value&&p.message.translatedText?(u.openBlock(),u.createElementBlock("div",{key:2,class:"break-all text-gray-400",innerHTML:p.$t("translation")+": "+p.message.translatedText},null,8,CK)):u.createCommentVNode("",!0),a.value.length>0?(u.openBlock(),u.createElementBlock("div",wK,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(a.value,v=>(u.openBlock(),u.createElementBlock("div",{key:v.url,class:"flex cursor-pointer items-stretch justify-center gap-2",onClick:y=>c(v.url)},[kK,u.createElementVNode("div",IK,[u.createElementVNode("div",DK,u.toDisplayString(v.title),1),u.createElementVNode("div",NK,u.toDisplayString(v.description||p.$t("tapOpen")),1)]),v.images.length>0?(u.openBlock(),u.createElementBlock("img",{key:0,src:v.images[0],class:"my-auto h-12 w-12 flex-shrink-0 rounded object-cover"},null,8,MK)):u.createCommentVNode("",!0)],8,SK))),128))])):u.createCommentVNode("",!0)],64)}}}),[["__scopeId","data-v-dcfc20b1"]]);function OK(){return Math.random().toString(16).substring(2)}var av=u.defineComponent({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(t){const e=u.reactive({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),n=`rg-${OK()}`,r=u.ref(0),i=u.ref(0),s=u.ref(null),a=u.computed(()=>t.diameter/2),o=u.computed(()=>t.diameter-t.innerStrokeWidth*2),l=u.computed(()=>Math.PI*o.value),d=u.computed(()=>t.totalSteps===0?0:100/t.totalSteps),f=u.computed(()=>d.value*t.completedSteps),c=u.computed(()=>2*Math.PI/t.totalSteps),h=u.computed(()=>100/t.fps),p=u.computed(()=>t.animateSpeed/h.value),m=u.computed(()=>c.value/p.value),g=u.computed(()=>o.value/2),v=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`})),y=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.strokeWidth}px`,strokeDashoffset:r.value,transition:`stroke-dashoffset ${t.animateSpeed}ms ${t.timingFunc}`})),x=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.innerStrokeWidth}px`})),w=u.computed(()=>({width:`${o.value}px`}));u.watch(()=>[t.diameter,t.totalSteps,t.completedSteps,t.strokeWidth],B,{immediate:!0});function I(M){const L=.5+.5*Math.cos(M),z=.5+.5*Math.sin(M);return{x:L,y:z}}function k(){const M=I(i.value);M.x&&M.y&&(e.fx=M.x,e.fy=M.y)}function S(){return t.isClockwise?1:-1}function B(){r.value=(100-f.value)/100*l.value*S(),s.value&&clearInterval(s.value);const M=(t.completedSteps-1)*c.value;let D=(i.value-M)/m.value;const L=Math.abs(D-p.value)/p.value,z=D<p.value;s.value=setInterval(()=>{if(z&&D>=p.value||!z&&D<p.value){s.value&&clearInterval(s.value);return}i.value=M+m.value*D,k(),D+=z?L:-L},h.value)}return{gradientAnimation:s,innerCircleRadius:g,radialGradientId:n,strokeDashoffset:r,innerCircleStyle:w,containerStyle:v,circumference:l,progressStyle:y,currentAngle:i,strokeStyle:x,gradient:e,radius:a}}});const LK=["width","height"],RK=["id","fx","fy","cx","cy","r"],BK=["stop-color"],PK=["stop-color"],FK=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],UK=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function jK(t,e,n,r,i,s){return u.openBlock(),u.createElementBlock("div",{class:"vrp__wrapper",style:u.normalizeStyle(t.containerStyle)},[u.createElementVNode("div",{class:"vrp__inner",style:u.normalizeStyle(t.innerCircleStyle)},[u.renderSlot(t.$slots,"default")],4),(u.openBlock(),u.createElementBlock("svg",{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("defs",null,[u.createElementVNode("radialGradient",{id:t.radialGradientId,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r},[u.createElementVNode("stop",{offset:"30%","stop-color":t.startColor},null,8,BK),u.createElementVNode("stop",{offset:"100%","stop-color":t.stopColor},null,8,PK)],8,RK)]),u.createElementVNode("circle",{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":t.strokeLinecap,style:u.normalizeStyle(t.strokeStyle)},null,12,FK),u.createElementVNode("circle",{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:`url('#${t.radialGradientId}')`,"stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":t.strokeLinecap,style:u.normalizeStyle(t.progressStyle)},null,12,UK)],8,LK))],4)}function HK(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var zK=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;HK(zK),av.render=jK,av.__scopeId="data-v-6a0cf1f6";var Hp=(()=>{const t=av;return t.install=e=>{e.component("RadialProgressBar",t)},t})();const VK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNklEQVR4nO2Z20sVURTGd9r9IlLmDYxuBEmBURBSkQWF2EsvUUT17EOFb9ZbFIRBQdEfYIUUBNlDd6KgIqOrhWU3MQiiIior7QLlL9Y5a07b0eM5xzPjmYnzgXj2ntnfWt+stfdes8eYLLLIIuMARgILgU3AdmArsBZYBOSaoANYDBwBvhEfH4BGoNIEDUAJcBLotRx+ChwHDgGHgWbgiUtUMzDLBAFAFfBOHfsE7AbKBrl/NrAL+KJjPgPVw+t1f6dWAz/UoRNAYQpjp2rEBL+BLf56G9+RcqBbHdk5RI4RMlZT8hew1HtPo4bG60qzUlLC6h8FPFYRezyws1e5JEXz03bcIp4JNAHfXZOzHVgH1Gn7GpDjgb0c4IpyNnglotqaiJK7rcBV4JUlSFLhDzDXE6MmYrdCOeXhFXlB1qPOylpf4rpeqcIiS2e6zrsBnFbuWpMOgJtKtC/BvKlN+6kNzL1Z7V9Ih2SBkryUyeyph8n7UKg+fEyHpM6rVSgd8G+BGTeUwcuAe0qQmY1JAXSqHzNMspA8tyaYU9DF9otMAHijvhwA1gCjEw2YYy2pnTrRUg+nxwDaXHvXe6B+wHkLTAE69MZTwEQTEAB5wBJgo27KUroI7vSr5YBjevFSplaoFKuMW1ZlkWcXe726e5eaEAAYq+WQoMnp3K8dB02IABQDXzUIFdJxX4UsNyED0BALgr6RCSb7ZExS4K6PZwKCNmn8jPyEMT4Zi8An7nyl75LGa22UhVDIBKXvlsZlbawPoZB5Sv9CGtu0cSaEQuqVvlEaBdYbYFVYhBB9D3LqsBqnc4d2vAWmh0TIUaVukdMXpzMXOG+JWRFUIUQj4YiQTCp33zAJOOcYBs4CG4BpCUtnn4UQdX6+zgknnWRXXxVvQK7e3EXquJGqEBnD0NDSLxJxDBTo0f9F3Wec0nkwXPdRSA/wXE9yamJzYjgxmJBQgayQgCGUEQEeAA/lpSeeEH0hegTcNkEFUQedz2zFbiEqQq4JWk1QQfSI0/lOIstlqbWEFlnXngX+fIC+T935b/+ORSvwoG9kbAQ/EkmICZ8IV5q161840ilBZJL+TJ2F+U/wF9Y5UmVGwaQRAAAAAElFTkSuQmCC",WK={key:0,class:"relative flex items-center justify-center"},GK={class:"max-w-80vw max-h-80vh",alt:""},YK={key:0,class:"max-w-80vw max-h-80vh absolute",alt:""},QK=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),KK={key:1,class:"mt-4 flex gap-4"},XK=u.createElementVNode("img",{class:"h-5 w-5",src:VK},null,-1),ZK=u.defineComponent({__name:"ImageModal",props:{image:{}},setup(t){const e=kr(),n=rn(),r=u.computed(()=>n.state.imkit.downloadProgresses),i=u.computed(()=>n.state.imkit.imageCache),s=a=>{const o=document.createElement("a"),l=i.value.get(a.originalUrl);o.href=l;const d=l.split(";")[0].replace("data:","").split("/")[1];o.download=`download.${d}`,o.click()};return(a,o)=>{const l=u.resolveDirective("src");return u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[a.image?(u.openBlock(),u.createElementBlock("div",WK,[u.withDirectives(u.createElementVNode("img",GK,null,512),[[l,a.image.thumbnailUrl]]),a.image.thumbnailUrl!==a.image.originalUrl?u.withDirectives((u.openBlock(),u.createElementBlock("img",YK,null,512)),[[l,a.image.originalUrl]]):u.createCommentVNode("",!0),(!r.value[a.image.originalUrl]||r.value[a.image.originalUrl]<1)&&a.image.thumbnailUrl!==a.image.originalUrl?(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[QK,u.createVNode(u.unref(Hp),{class:"!absolute",diameter:40,"completed-steps":r.value[a.image.originalUrl]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)])):u.createCommentVNode("",!0),a.image?(u.openBlock(),u.createElementBlock("div",KK,[u.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:o[0]||(o[0]=d=>s(a.image))},[XK,u.createTextVNode(" "+u.toDisplayString(a.$t("download")),1)]),u.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:o[1]||(o[1]=d=>u.unref(e).closeAll())},u.toDisplayString(a.$t("close")),1)])):u.createCommentVNode("",!0)]),_:1})}}}),JK=["onClick"],qK=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),$K=u.defineComponent({__name:"ImageMessageContent",props:{message:{}},setup(t){const e=t,n=rn(),r=u.computed(()=>n.state.imkit.uploadProgresses),i=(a,o)=>{if(e.message.images.length===1){const{width:d,height:f}=o;return d<f?{width:"200px",height:`${200*f/d}px`}:{width:`${200*d/f}px`,height:"200px"}}else return a===e.message.images.length-1&&a%2===0?{width:`${200*2+1}px`,height:"200px"}:{width:"200px",height:"200px"}},s=a=>{const{open:o}=Xi({component:ZK,attrs:{image:a}});o()};return(a,o)=>{const l=u.resolveDirective("src");return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["-mx-3 -my-2 grid gap-px",[a.message.images.length>1?"grid-cols-2":"grid-cols-1"]])},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(a.message.images,(d,f)=>(u.openBlock(),u.createElementBlock("div",{key:d.thumbnailUrl,class:u.normalizeClass(["relative flex items-center justify-center",{"col-span-2":a.message.images.length>1&&f===a.message.images.length-1&&f%2===0}]),onClick:c=>s(d)},[u.withDirectives(u.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:u.normalizeStyle(i(f,d))},null,4),[[l,d.thumbnailUrl]]),d.thumbnailUrl.startsWith("data")?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[qK,u.createVNode(u.unref(Hp),{class:"!absolute",diameter:40,"completed-steps":r.value[`${d.id}-original`]===void 0?(r.value[`${d.id}-original`]+r.value[`${d.id}-thumbnail`])/2*100:r.value[`${d.id}-original`]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)],10,JK))),128))],2)}}}),eX=["src"],eS=u.defineComponent({__name:"StickerMessageContent",props:{message:{}},setup(t){const e=t,n=u.computed(()=>e.message.stickerUrl?e.message.stickerUrl:`/sticker/${e.message.stickerId.split("-")[0]}/${e.message.stickerId}.png`);return(r,i)=>(u.openBlock(),u.createElementBlock("img",{src:n.value,class:"h-32 w-32 border-0 object-contain"},null,8,eX))}}),tS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR4nO3bP68MURzH4RMhNIobEhoJFaFCKRI6Ha/AW9DSKeUqVVqlmkQv8ScUOoVGgUSnQCM8MpFJZJmz17V398zO9ym32nwyO7O/M+eUEhERERERK4Z9OLDq79EcnMIjfPfLB9zA3jJ1OIMv/u41zpUpw0t13VV1B/vL1OCYrXuLS2VKcN6/uzeZGzku2J6PuFrWne0H6j3AkbKu/H+gzidcw66ybiwmUO8xjpd1YrGBOl9xE3vKOrD4QL1XOFvGzs4F6nzDrW6+K2NlZwP13uBiGSPLCdT5gbujG1csL1DvPS6XsbD8QL37OFhaZ3WBxjGuWG2g3sNmxxVtBGp3XNFOoN/HlROlFdoL1Na4os1Avac4nEB1z7E7V1DdlQSqu51AdZsJVJefWMWz3KSHPcGhPOb/lD+KFRk1BmRYrchyx4AsmFVkyXVAFu0H5LVPRV4cDsir54psXmh+TFgE2UBVly14c2QT5xzZBjxHNpLPgaO2bnpHETp4MSfMdA+zdHAanwfi5DhUBydnDtS9w/UcqJvRBcHG7OcREREREVEm5icELZJIi+Y1dAAAAABJRU5ErkJggg==";var wd;typeof window<"u"?wd=window:typeof It<"u"?wd=It:typeof self<"u"?wd=self:wd={};var zp=wd;const se=or(zp),tX=_B(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var nS=typeof It<"u"?It:typeof window<"u"?window:{},nX=tX,Sd;typeof document<"u"?Sd=document:(Sd=nS["__GLOBAL_DOCUMENT_CACHE@4"],Sd||(Sd=nS["__GLOBAL_DOCUMENT_CACHE@4"]=nX));var rS=Sd;const We=or(rS);var rX=iX;function iX(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(i){r=i}return[r,n]}const sX=or(rX);var ov={exports:{}},iS={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(iS);var aX=iS.exports,oX=uX,lX=Object.prototype.toString;function uX(t){if(!t)return!1;var e=lX.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function cX(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=dX(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fX=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(r,i){this.typeToInterceptorsMap_.has(r)||this.typeToInterceptorsMap_.set(r,new Set);var s=this.typeToInterceptorsMap_.get(r);return s.has(i)?!1:(s.add(i),!0)},e.removeInterceptor=function(r,i){var s=this.typeToInterceptorsMap_.get(r);return s&&s.has(i)?(s.delete(i),!0):!1},e.clearInterceptorsByType=function(r){var i=this.typeToInterceptorsMap_.get(r);return i?(this.typeToInterceptorsMap_.delete(r),this.typeToInterceptorsMap_.set(r,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(r){return this.typeToInterceptorsMap_.get(r)||new Set},e.execute=function(r,i){for(var s=this.getForType(r),a=cX(s),o;!(o=a()).done;){var l=o.value;try{i=l(i)}catch{}}return i},t}(),hX=fX,pX=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(r){this.maxAttempts_=r},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(r){this.delayFactor_=r},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(r){this.fuzzFactor_=r},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(r){this.initialDelay_=r},e.createRetry=function(r){var i=r===void 0?{}:r,s=i.maxAttempts,a=i.delayFactor,o=i.fuzzFactor,l=i.initialDelay;return new mX({maxAttempts:s||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),mX=function(){function t(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return r+Math.random()*(i-r)},t}(),gX=pX,bX=zp,vX=function(e,n){return n===void 0&&(n=!1),function(r,i,s){if(r){e(r);return}if(i.statusCode>=400&&i.statusCode<=599){var a=s;if(n)if(bX.TextDecoder){var o=yX(i.headers&&i.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function yX(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var r=n.split("="),i=r[0],s=r[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var _X=vX,aS=zp,TX=aX,EX=oX,oS=hX,AX=gX;Rn.httpHandler=_X,Rn.requestInterceptorsStorage=new oS,Rn.responseInterceptorsStorage=new oS,Rn.retryManager=new AX;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var xX=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(r){var i=r.indexOf(":"),s=r.slice(0,i).trim().toLowerCase(),a=r.slice(i+1).trim();typeof n[s]>"u"?n[s]=a:Array.isArray(n[s])?n[s].push(a):n[s]=[n[s],a]}),n};ov.exports=Rn,ov.exports.default=Rn,Rn.XMLHttpRequest=aS.XMLHttpRequest||kX,Rn.XDomainRequest="withCredentials"in new Rn.XMLHttpRequest?Rn.XMLHttpRequest:aS.XDomainRequest,CX(["get","put","post","patch","head","delete"],function(t){Rn[t==="delete"?"del":t]=function(e,n,r){return n=lS(e,n,r),n.method=t.toUpperCase(),lv(n)}});function CX(t,e){for(var n=0;n<t.length;n++)e(t[n])}function wX(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function lS(t,e,n){var r=t;return EX(e)?(n=e,typeof t=="string"&&(r={uri:t})):r=TX({},e,{uri:t}),r.callback=n,r}function Rn(t,e,n){return e=lS(t,e,n),lv(e)}function lv(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Rn.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},n=Rn.requestInterceptorsStorage.execute(t.requestType,e);t.uri=n.uri,t.headers=n.headers,t.body=n.body,t.metadata=n.metadata,t.retry=n.retry,t.timeout=n.timeout}var r=!1,i=function(k,S,B){r||(r=!0,t.callback(k,S,B))};function s(){d.readyState===4&&!Rn.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var I=void 0;if(d.response?I=d.response:I=d.responseText||SX(d),y)try{I=JSON.parse(I)}catch{}return I}function o(I){if(clearTimeout(x),clearTimeout(t.retryTimeout),I instanceof Error||(I=new Error(""+(I||"Unknown XMLHttpRequest Error"))),I.statusCode=0,!c&&Rn.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=d,lv(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Rn.responseInterceptorsStorage.getIsEnabled()){var k={headers:w.headers||{},body:w.body,responseUrl:d.responseURL,responseType:d.responseType},S=Rn.responseInterceptorsStorage.execute(t.requestType,k);w.body=S.body,w.headers=S.headers}return i(I,w)}function l(){if(!c){var I;clearTimeout(x),clearTimeout(t.retryTimeout),t.useXDR&&d.status===void 0?I=200:I=d.status===1223?204:d.status;var k=w,S=null;if(I!==0?(k={body:a(),statusCode:I,method:p,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(k.headers=xX(d.getAllResponseHeaders()))):S=new Error("Internal XMLHttpRequest Error"),t.requestType&&Rn.responseInterceptorsStorage.getIsEnabled()){var B={headers:k.headers||{},body:k.body,responseUrl:d.responseURL,responseType:d.responseType},M=Rn.responseInterceptorsStorage.execute(t.requestType,B);k.body=M.body,k.headers=M.headers}return i(S,k,k.body)}}var d=t.xhr||null;d||(t.cors||t.useXDR?d=new Rn.XDomainRequest:d=new Rn.XMLHttpRequest);var f,c,h=d.url=t.uri||t.url,p=d.method=t.method||"GET",m=t.body||t.data,g=d.headers=t.headers||{},v=!!t.sync,y=!1,x,w={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:d};if("json"in t&&t.json!==!1&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),m=JSON.stringify(t.json===!0?m:t.json))),d.onreadystatechange=s,d.onload=l,d.onerror=o,d.onprogress=function(){},d.onabort=function(){c=!0,clearTimeout(t.retryTimeout)},d.ontimeout=o,d.open(p,h,!v,t.username,t.password),v||(d.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(x=setTimeout(function(){if(!c){c=!0,d.abort("timeout");var I=new Error("XMLHttpRequest timeout");I.code="ETIMEDOUT",o(I)}},t.timeout)),d.setRequestHeader)for(f in g)g.hasOwnProperty(f)&&d.setRequestHeader(f,g[f]);else if(t.headers&&!wX(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(d),d.send(m||null),d}function SX(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function kX(){}var IX=ov.exports;const uS=or(IX);var cS={exports:{}},dS=rS,uv=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function pi(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}pi.prototype=uv(Error.prototype),pi.prototype.constructor=pi,pi.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function cv(t){function e(r,i,s,a){return(r|0)*3600+(i|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function kd(){this.values=uv(null)}kd.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Id(t,e,n,r){var i=r?t.split(r):[t];for(var s in i)if(typeof i[s]=="string"){var a=i[s].split(n);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function DX(t,e,n){var r=t;function i(){var o=cv(t);if(o===null)throw new pi(pi.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var d=new kd;Id(o,function(f,c){switch(f){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===c){d.set(f,n[h].region);break}break;case"vertical":d.alt(f,c,["rl","lr"]);break;case"line":var p=c.split(","),m=p[0];d.integer(f,m),d.percent(f,m)&&d.set("snapToLines",!1),d.alt(f,m,["auto"]),p.length===2&&d.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=c.split(","),d.percent(f,p[0]),p.length===2&&d.alt("positionAlign",p[1],["start","center","end"]);break;case"size":d.percent(f,c);break;case"align":d.alt(f,c,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=d.get("region",null),l.vertical=d.get("vertical","");try{l.line=d.get("line","auto")}catch{}l.lineAlign=d.get("lineAlign","start"),l.snapToLines=d.get("snapToLines",!0),l.size=d.get("size",100);try{l.align=d.get("align","center")}catch{l.align=d.get("align","middle")}try{l.position=d.get("position","auto")}catch{l.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.substr(0,3)!=="-->")throw new pi(pi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=i(),a(),s(t,e)}var dv=dS.createElement&&dS.createElement("textarea"),NX={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},fS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},MX={v:"title",lang:"lang"},hS={rt:"ruby"};function pS(t,e){function n(){if(!e)return null;function m(v){return e=e.substr(v.length),v}var g=e.match(/^([^<]*)(<[^>]*>?)?/);return m(g[1]?g[1]:g[2])}function r(m){return dv.innerHTML=m,m=dv.textContent,dv.textContent="",m}function i(m,g){return!hS[g.localName]||hS[g.localName]===m.localName}function s(m,g){var v=NX[m];if(!v)return null;var y=t.document.createElement(v),x=MX[m];return x&&g&&(y[x]=g.trim()),y}for(var a=t.document.createElement("div"),o=a,l,d=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),o=o.parentNode);continue}var f=cv(l.substr(1,l.length-2)),c;if(f){c=t.document.createProcessingInstruction("timestamp",f),o.appendChild(c);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(c=s(h[1],h[3]),!c)||!i(o,c))continue;if(h[2]){var p=h[2].split(".");p.forEach(function(m){var g=/^bg_/.test(m),v=g?m.slice(3):m;if(fS.hasOwnProperty(v)){var y=g?"background-color":"color",x=fS[v];c.style[y]=x}}),c.className=p.join(" ")}d.push(h[1]),o.appendChild(c),o=c;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var mS=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function OX(t){for(var e=0;e<mS.length;e++){var n=mS[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function LX(t){var e=[],n="",r;if(!t||!t.childNodes)return"ltr";function i(o,l){for(var d=l.childNodes.length-1;d>=0;d--)o.push(l.childNodes[d])}function s(o){if(!o||!o.length)return null;var l=o.pop(),d=l.textContent||l.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(o.length=0,f[0]):d}if(l.tagName==="ruby")return s(o);if(l.childNodes)return i(o,l),s(o)}for(i(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(r=n.charCodeAt(a),OX(r))return"rtl";return"ltr"}function RX(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)n[i].mode==="showing"&&r++;return++r*-1}function Vp(){}Vp.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Vp.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Wp(t,e,n){Vp.call(this),this.cue=e,this.cueDiv=pS(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:LX(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Wp.prototype=uv(Vp.prototype),Wp.prototype.constructor=Wp;function Mr(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}Mr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},Mr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Mr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Mr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Mr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Mr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*n;return r/(this.height*this.width)},Mr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Mr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n};return i};function BX(t,e,n,r){function i(v,y){for(var x,w=new Mr(v),I=1,k=0;k<y.length;k++){for(;v.overlapsOppositeAxis(n,y[k])||v.within(n)&&v.overlapsAny(r);)v.move(y[k]);if(v.within(n))return v;var S=v.intersectPercentage(n);I>S&&(x=new Mr(v),I=S),v=new Mr(w)}return x||w}var s=new Mr(e),a=e.cue,o=RX(a),l=[];if(a.snapToLines){var d;switch(a.vertical){case"":l=["+y","-y"],d="height";break;case"rl":l=["+x","-x"],d="width";break;case"lr":l=["-x","+x"],d="width";break}var f=s.lineHeight,c=f*Math.round(o),h=n[d]+f,p=l[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/f)*f),o<0&&(c+=a.vertical===""?n.height:n.width,l=l.reverse()),s.move(p,c)}else{var m=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=m/2;break;case"end":o-=m;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Mr(e)}var g=i(s,l);e.move(g.toCSSCompatValues(n))}function lu(){}lu.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},lu.convertCueToDOMTree=function(t,e){return!t||!e?null:pS(t,e)};var PX=.05,FX="sans-serif",UX="1.5%";lu.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=UX,n.appendChild(r);function i(f){for(var c=0;c<f.length;c++)if(f[c].hasBeenReset||!f[c].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=Mr.getSimpleBoxPosition(r),l=Math.round(o.height*PX*100)/100,d={font:l+"px "+FX};(function(){for(var f,c,h=0;h<e.length;h++)c=e[h],f=new Wp(t,c,d),r.appendChild(f.div),BX(t,f,o,a),c.displayState=f.div,a.push(Mr.getSimpleBoxPosition(f))})()},lu.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},lu.Parser.prototype={reportOrThrowError:function(t){if(t instanceof pi)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var f=e.buffer,c=0;c<f.length&&f[c]!=="\r"&&f[c]!==`
`;)++c;var h=f.substr(0,c);return f[c]==="\r"&&++c,f[c]===`
`&&++c,e.buffer=f.substr(c),h}function r(f){var c=new kd;if(Id(f,function(p,m){switch(p){case"id":c.set(p,m);break;case"width":c.percent(p,m);break;case"lines":c.integer(p,m);break;case"regionanchor":case"viewportanchor":var g=m.split(",");if(g.length!==2)break;var v=new kd;if(v.percent("x",g[0]),v.percent("y",g[1]),!v.has("x")||!v.has("y"))break;c.set(p+"X",v.get("x")),c.set(p+"Y",v.get("y"));break;case"scroll":c.alt(p,m,["up"]);break}},/=/,/\s/),c.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=c.get("width",100),h.lines=c.get("lines",3),h.regionAnchorX=c.get("regionanchorX",0),h.regionAnchorY=c.get("regionanchorY",100),h.viewportAnchorX=c.get("viewportanchorX",0),h.viewportAnchorY=c.get("viewportanchorY",100),h.scroll=c.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:c.get("id"),region:h})}}function i(f){var c=new kd;Id(f,function(h,p){switch(h){case"MPEGT":c.integer(h+"S",p);break;case"LOCA":c.set(h+"L",cv(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:c.get("MPEGTS"),LOCAL:c.get("LOCAL")})}function s(f){f.match(/X-TIMESTAMP-MAP/)?Id(f,function(c,h){switch(c){case"X-TIMESTAMP-MAP":i(h);break}},/=/):Id(f,function(c,h){switch(c){case"Region":r(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new pi(pi.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{DX(a,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=a.indexOf("-->")!==-1;if(!a||d&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new pi(pi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var jX=lu,HX="auto",zX={"":1,lr:1,rl:1},VX={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function WX(t){if(typeof t!="string")return!1;var e=zX[t.toLowerCase()];return e?t.toLowerCase():!1}function fv(t){if(typeof t!="string")return!1;var e=VX[t.toLowerCase()];return e?t.toLowerCase():!1}function gS(t,e,n){this.hasBeenReset=!1;var r="",i=!1,s=t,a=e,o=n,l=null,d="",f=!0,c="auto",h="start",p="auto",m="auto",g=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(y){r=""+y}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(y){i=!!y}},startTime:{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number")throw new TypeError("Start time must be set to a number.");s=y,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(y){if(typeof y!="number")throw new TypeError("End time must be set to a number.");a=y,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(y){o=""+y,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(y){l=y,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(y){var x=WX(y);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(y){f=!!y,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return c},set:function(y){if(typeof y!="number"&&y!==HX)throw new SyntaxError("Line: an invalid number or illegal string was specified.");c=y,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(y){var x=fv(y);x?(h=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(y){if(y<0||y>100)throw new Error("Position must be between 0 and 100.");p=y,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(y){var x=fv(y);x?(m=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(y){if(y<0||y>100)throw new Error("Size must be between 0 and 100.");g=y,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(y){var x=fv(y);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=x,this.hasBeenReset=!0}}}),this.displayState=void 0}gS.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var GX=gS,YX={"":!0,up:!0};function QX(t){if(typeof t!="string")return!1;var e=YX[t.toLowerCase()];return e?t.toLowerCase():!1}function Dd(t){return typeof t=="number"&&t>=0&&t<=100}function KX(){var t=100,e=3,n=0,r=100,i=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Dd(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!Dd(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Dd(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!Dd(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!Dd(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=QX(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var XX=KX,la=zp,Yo=cS.exports={WebVTT:jX,VTTCue:GX,VTTRegion:XX};la.vttjs=Yo,la.WebVTT=Yo.WebVTT;var ZX=Yo.VTTCue,JX=Yo.VTTRegion,qX=la.VTTCue,$X=la.VTTRegion;Yo.shim=function(){la.VTTCue=ZX,la.VTTRegion=JX},Yo.restore=function(){la.VTTCue=qX,la.VTTRegion=$X},la.VTTCue||Yo.shim();var eZ=cS.exports;const bS=or(eZ);function Bn(){return Bn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bn.apply(null,arguments)}var vS={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,d,f){if(f=f||{},l=l.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return l;var c=o.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=o.normalizePath(c.path),o.buildURLFromParts(c)}var h=o.parseURL(d);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):d;var p=o.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=i.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var g={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(g.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)g.path=p.path,h.params||(g.params=p.params,h.query||(g.query=p.query));else{var v=p.path,y=v.substring(0,v.lastIndexOf("/")+1)+h.path;g.path=o.normalizePath(y)}return g.path===null&&(g.path=f.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(g)},parseURL:function(l){var d=r.exec(l);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(vS);var tZ=vS.exports;const yS=or(tZ);var _S="http://example.com",Gp=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=se.location&&se.location.href||"");var r=typeof se.URL=="function",i=/^\/\//.test(e),s=!se.location&&!/\/\//i.test(e);if(r?e=new se.URL(e,se.location||_S):/\/\//i.test(e)||(e=yS.buildAbsoluteURL(se.location&&se.location.href||"",e)),r){var a=new URL(n,e);return s?a.href.slice(_S.length):i?a.href.slice(a.protocol.length):a.href}return yS.buildAbsoluteURL(e,n)},hv=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,i){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(i)},e.off=function(r,i){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(i);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var i=this.listeners[r];if(i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=i.length,d=0;d<l;++d)i[d].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(i){r.push(i)})},t}(),nZ=function(e){return se.atob?se.atob(e):Buffer.from(e,"base64").toString("binary")};function rZ(t){for(var e=nZ(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class iZ extends hv{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const sZ="	",pv=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},aZ=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},mi=function(t){const e={};if(!t)return e;const n=t.split(aZ());let r=n.length,i;for(;r--;)n[r]!==""&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class oZ extends hv{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){r=Bn(pv(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(r={type:"tag",tagType:"map"},n[1]){const a=mi(n[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=pv(a.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){if(r={type:"tag",tagType:"stream-inf"},n[1]){if(r.attributes=mi(n[1]),r.attributes.RESOLUTION){const a=r.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),r.attributes.RESOLUTION=o}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=mi(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=mi(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=mi(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:(.*)?$/.exec(s),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=mi(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(sZ)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=mi(n[1]),["DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=pv(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=mi(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=mi(n[1]),["PART-TARGET"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=mi(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(r.attributes.hasOwnProperty(a)){r.attributes[a]=parseInt(r.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[o]=r.attributes[a],delete r.attributes[a]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=mi(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseInt(r.attributes[a],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=mi(n[1]),["ID","CLASS"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=String(r.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=new Date(r.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=/YES/i.test(r.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=r.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in r.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(r.attributes[o]),d=/^\d+(\.\d+)?$/.test(r.attributes[o]);r.attributes[o]=l?r.attributes[o].toString(16):d?parseFloat(r.attributes[o]):String(r.attributes[o])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),n){r={type:"tag",tagType:"content-steering"},r.attributes=mi(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:n,dataParser:r,segment:i}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:n,segment:i}),!0})}addTagMapper({expression:e,map:n}){const r=i=>e.test(i)?n(i):i;this.tagMappers.push(r)}}const lZ=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Wa=function(t){const e={};return Object.keys(t).forEach(function(n){e[lZ(n)]=t[n]}),e},mv=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,l=r&&r*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class uZ extends hv{constructor(){super(),this.lineStream=new iZ,this.parseStream=new oZ,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,n=[];let r={},i,s,a=!1;const o=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let c=0,h=0;const p={};this.on("end",()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&i&&(r.map=i),!r.key&&s&&(r.key=s),!r.timeline&&typeof f=="number"&&(r.timeline=f),this.manifest.preloadSegment=r)}),this.parseStream.on("data",function(m){let g,v;({tag(){({version(){m.version&&(this.manifest.version=m.version)},"allow-cache"(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const y={};"length"in m&&(r.byterange=y,y.length=m.length,"offset"in m||(m.offset=c)),"offset"in m&&(r.byterange=y,y.offset=m.offset),c=y.offset+y.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.title&&(r.title=m.title),m.duration>0&&(r.duration=m.duration),m.duration===0&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){s=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:m.attributes};return}if(m.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:m.attributes.URI};return}if(m.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:rZ(m.attributes.URI.split(",")[1])};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(s.iv=m.attributes.IV)},"media-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,f=m.number},"playlist-type"(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map(){i={},m.uri&&(i.uri=m.uri),m.byterange&&(i.byterange=m.byterange),s&&(i.key=s)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}r.attributes||(r.attributes={}),Bn(r.attributes,m.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const y=this.manifest.mediaGroups[m.attributes.TYPE];y[m.attributes["GROUP-ID"]]=y[m.attributes["GROUP-ID"]]||{},g=y[m.attributes["GROUP-ID"]],v={default:/yes/i.test(m.attributes.DEFAULT)},v.default?v.autoselect=!0:v.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(v.language=m.attributes.LANGUAGE),m.attributes.URI&&(v.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(v.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(v.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(v.forced=/yes/i.test(m.attributes.FORCED)),g[m.attributes.NAME]=v},discontinuity(){f+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),r.dateTimeString=m.dateTimeString,r.dateTimeObject=m.dateTimeObject;const{lastProgramDateTime:y}=this;this.lastProgramDateTime=new Date(m.dateTimeString).getTime(),y===null&&this.manifest.segments.reduceRight((x,w)=>(w.programDateTime=x-w.duration*1e3,w.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration,mv.call(this,this.manifest)},start(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out"(){r.cueOut=m.data},"cue-out-cont"(){r.cueOutCont=m.data},"cue-in"(){r.cueIn=m.data},skip(){this.manifest.skip=Wa(m.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",m.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const y=this.manifest.segments.length,x=Wa(m.attributes);r.parts=r.parts||[],r.parts.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=h),h=x.byterange.offset+x.byterange.length);const w=r.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${w} for segment #${y}`,m.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((I,k)=>{I.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${k} lacks required attribute(s): LAST-PART`})})},"server-control"(){const y=this.manifest.serverControl=Wa(m.attributes);y.hasOwnProperty("canBlockReload")||(y.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),mv.call(this,this.manifest),y.canSkipDateranges&&!y.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const y=this.manifest.segments.length,x=Wa(m.attributes),w=x.type&&x.type==="PART";r.preloadHints=r.preloadHints||[],r.preloadHints.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=w?h:0,w&&(h=x.byterange.offset+x.byterange.length)));const I=r.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${I} for segment #${y}`,m.attributes,["TYPE","URI"]),!!x.type)for(let k=0;k<r.preloadHints.length-1;k++){const S=r.preloadHints[k];S.type&&S.type===x.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${I} for segment #${y} has the same TYPE ${x.type} as preload hint #${k}`})}},"rendition-report"(){const y=Wa(m.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(y);const x=this.manifest.renditionReports.length-1,w=["LAST-MSN","URI"];a&&w.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${x}`,m.attributes,w)},"part-inf"(){this.manifest.partInf=Wa(m.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",m.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),mv.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Wa(m.attributes));const y=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${y}`,m.attributes,["ID","START-DATE"]);const x=this.manifest.dateRanges[y];x.endDate&&x.startDate&&new Date(x.endDate)<new Date(x.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),x.duration&&x.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),x.plannedDuration&&x.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const w=!!x.endOnNext;if(w&&!x.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),w&&(x.duration||x.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),x.duration&&x.endDate){const k=x.startDate.getTime()+x.duration*1e3;this.manifest.dateRanges[y].endDate=new Date(k)}if(!p[x.id])p[x.id]=x;else{for(const k in p[x.id])if(x[k]&&JSON.stringify(p[x.id][k])!==JSON.stringify(x[k])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const I=this.manifest.dateRanges.findIndex(k=>k.id===x.id);this.manifest.dateRanges[I]=Bn(this.manifest.dateRanges[I],x),p[x.id]=Bn(p[x.id],x),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=Wa(m.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",m.attributes,["SERVER-URI"])}}[m.tagType]||o).call(e)},uri(){r.uri=m.uri,n.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),s&&(r.key=s),r.timeline=f,i&&(r.map=i),h=0,this.lastProgramDateTime!==null&&(r.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=r.duration*1e3),r={}},comment(){},custom(){m.segment?(r.custom=r.custom||{},r.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(e)})}warnOnMissingAttributes_(e,n,r){const i=[];r.forEach(function(s){n.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Qo={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},cZ=["video","audio","text"],TS=["Video","Audio","Text"],ES=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,r,i){var s=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Ds=function(e){e===void 0&&(e="");var n=e.split(","),r=[];return n.forEach(function(i){i=i.trim();var s;cZ.forEach(function(a){var o=Qo[a].exec(i.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=i.substring(0,o[1].length),d=i.replace(l,"");r.push({type:l,details:d,mediaType:a})}}),s||r.push({type:i,details:"",mediaType:"unknown"})}),r},dZ=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var r=e.mediaGroups.AUDIO[n];if(!r)return null;for(var i in r){var s=r[i];if(s.default&&s.playlists)return Ds(s.playlists[0].attributes.CODECS)}return null},AS=function(e){return e===void 0&&(e=""),Qo.audio.test(e.trim().toLowerCase())},fZ=function(e){return e===void 0&&(e=""),Qo.text.test(e.trim().toLowerCase())},Nd=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return ES(s.trim())}),r="video";n.length===1&&AS(n[0])?r="audio":n.length===1&&fZ(n[0])&&(r="application");var i="mp4";return n.every(function(s){return Qo.mp4.test(s)})?i="mp4":n.every(function(s){return Qo.webm.test(s)})?i="webm":n.every(function(s){return Qo.ogg.test(s)})&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},Yp=function(e){return e===void 0&&(e=""),se.MediaSource&&se.MediaSource.isTypeSupported&&se.MediaSource.isTypeSupported(Nd(e))||!1},gv=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var r=0;r<TS.length;r++){var i=TS[r];if(Qo["muxer"+i].test(n))return!0}return!1})},xS="mp4a.40.2",hZ="avc1.4d400d",pZ=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,mZ=/^application\/dash\+xml/i,CS=function(e){return pZ.test(e)?"hls":mZ.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},gZ=function(e){return e.toString(2).length},bZ=function(e){return Math.ceil(gZ(e)/8)},wS=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},vZ=function(e){return wS(e)},ut=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!vZ(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},dr=se.BigInt||Number,bv=[dr("0x1"),dr("0x100"),dr("0x10000"),dr("0x1000000"),dr("0x100000000"),dr("0x10000000000"),dr("0x1000000000000"),dr("0x100000000000000"),dr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var yZ=function(e,n){var r=n===void 0?{}:n,i=r.signed,s=i===void 0?!1:i,a=r.le,o=a===void 0?!1:a;e=ut(e);var l=o?"reduce":"reduceRight",d=e[l]?e[l]:Array.prototype[l],f=d.call(e,function(h,p,m){var g=o?m:Math.abs(m+1-e.length);return h+dr(p)*bv[g]},dr(0));if(s){var c=bv[e.length]/dr(2)-dr(1);f=dr(f),f>c&&(f-=c,f-=c,f-=dr(2))}return Number(f)},_Z=function(e,n){var r={},i=r.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=dr(e);for(var a=bZ(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var d=s?l:Math.abs(l+1-o.length);o[d]=Number(e/bv[l]&dr(255)),e<0&&(o[d]=Math.abs(~o[d]),o[d]-=l===0?1:2)}return o},SS=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r},TZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return ut(n[0]);var i=n.reduce(function(o,l,d){return o+(l.byteLength||l.length)},0),s=new Uint8Array(i),a=0;return n.forEach(function(o){o=ut(o),s.set(o,a),a+=o.byteLength}),s},vn=function(e,n,r){var i=r===void 0?{}:r,s=i.offset,a=s===void 0?0:s,o=i.mask,l=o===void 0?[]:o;e=ut(e),n=ut(n);var d=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&d.call(n,function(f,c){var h=l[c]?l[c]&e[a+c]:e[a+c];return f===h})},EZ=function(e,n,r){n.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var o=e.mediaGroups[i][s][a];r(o,i,s,a)}})},AZ=function(e){return se.atob?se.atob(e):Buffer.from(e,"base64").toString("binary")};function xZ(t){for(var e=AZ(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ga={},ua={};function CZ(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];if(e.call(void 0,i,r,t))return i}}function vv(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function wZ(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var kS=vv({HTML:"text/html",isHTML:function(t){return t===kS.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),IS=vv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===IS.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ua.assign=wZ,ua.find=CZ,ua.freeze=vv,ua.MIME_TYPE=kS,ua.NAMESPACE=IS;var DS=ua,Ns=DS.find,Md=DS.NAMESPACE;function SZ(t){return t!==""}function kZ(t){return t?t.split(/[\t\n\f\r ]+/).filter(SZ):[]}function IZ(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function NS(t){if(!t)return[];var e=kZ(t);return Object.keys(e.reduce(IZ,{}))}function DZ(t){return function(e){return t&&t.indexOf(e)!==-1}}function Od(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function qr(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,Od(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var $r={},os=$r.ELEMENT_NODE=1,uu=$r.ATTRIBUTE_NODE=2,Qp=$r.TEXT_NODE=3,MS=$r.CDATA_SECTION_NODE=4,OS=$r.ENTITY_REFERENCE_NODE=5,NZ=$r.ENTITY_NODE=6,LS=$r.PROCESSING_INSTRUCTION_NODE=7,RS=$r.COMMENT_NODE=8,BS=$r.DOCUMENT_NODE=9,PS=$r.DOCUMENT_TYPE_NODE=10,ca=$r.DOCUMENT_FRAGMENT_NODE=11,MZ=$r.NOTATION_NODE=12,yr={},rr={};yr.INDEX_SIZE_ERR=(rr[1]="Index size error",1),yr.DOMSTRING_SIZE_ERR=(rr[2]="DOMString size error",2);var ei=yr.HIERARCHY_REQUEST_ERR=(rr[3]="Hierarchy request error",3);yr.WRONG_DOCUMENT_ERR=(rr[4]="Wrong document",4),yr.INVALID_CHARACTER_ERR=(rr[5]="Invalid character",5),yr.NO_DATA_ALLOWED_ERR=(rr[6]="No data allowed",6),yr.NO_MODIFICATION_ALLOWED_ERR=(rr[7]="No modification allowed",7);var FS=yr.NOT_FOUND_ERR=(rr[8]="Not found",8);yr.NOT_SUPPORTED_ERR=(rr[9]="Not supported",9);var US=yr.INUSE_ATTRIBUTE_ERR=(rr[10]="Attribute in use",10);yr.INVALID_STATE_ERR=(rr[11]="Invalid state",11),yr.SYNTAX_ERR=(rr[12]="Syntax error",12),yr.INVALID_MODIFICATION_ERR=(rr[13]="Invalid modification",13),yr.NAMESPACE_ERR=(rr[14]="Invalid namespace",14),yr.INVALID_ACCESS_ERR=(rr[15]="Invalid access",15);function Pn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,rr[t]),this.message=rr[t],Error.captureStackTrace&&Error.captureStackTrace(this,Pn);return n.code=t,e&&(this.message=this.message+": "+e),n}Pn.prototype=Error.prototype,Od(yr,Pn);function da(){}da.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)du(this[r],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function cu(t,e){this._node=t,this._refresh=e,yv(this)}function yv(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(n4(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var r=n.length;r in t;r++)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];Od(n,t),t._inc=e}}cu.prototype.item=function(t){return yv(this),this[t]||null},qr(cu,da);function Kp(){}function jS(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function HS(t,e,n,r){if(r?e[jS(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&GS(i,t,r),OZ(i,t,n))}}function zS(t,e,n){var r=jS(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(GS(s,t,n),n.ownerElement=null)}}else throw new Pn(FS,new Error(t.tagName+"@"+n))}Kp.prototype={length:0,item:da.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Pn(US);var n=this.getNamedItem(t.nodeName);return HS(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new Pn(US);return n=this.getNamedItemNS(t.namespaceURI,t.localName),HS(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return zS(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return zS(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function VS(){}VS.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new Rd;if(r.implementation=this,r.childNodes=new da,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new Jp;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function $t(){}$t.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Xp(this,t,e)},replaceChild:function(t,e){Xp(this,t,e,XS),e&&this.removeChild(e)},removeChild:function(t){return YS(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return kv(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Qp&&t.nodeType==Qp?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===t)return r}e=e.nodeType==uu?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==uu?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function WS(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Od($r,$t),Od($r,$t.prototype);function Ld(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Ld(t,e))return!0;while(t=t.nextSibling)}function Rd(){this.ownerDocument=this}function OZ(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===Md.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function GS(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===Md.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function _v(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function YS(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,_v(t.ownerDocument,t),e}function LZ(t){return t&&(t.nodeType===$t.DOCUMENT_NODE||t.nodeType===$t.DOCUMENT_FRAGMENT_NODE||t.nodeType===$t.ELEMENT_NODE)}function RZ(t){return t&&(Ms(t)||Tv(t)||fa(t)||t.nodeType===$t.DOCUMENT_FRAGMENT_NODE||t.nodeType===$t.COMMENT_NODE||t.nodeType===$t.PROCESSING_INSTRUCTION_NODE)}function fa(t){return t&&t.nodeType===$t.DOCUMENT_TYPE_NODE}function Ms(t){return t&&t.nodeType===$t.ELEMENT_NODE}function Tv(t){return t&&t.nodeType===$t.TEXT_NODE}function QS(t,e){var n=t.childNodes||[];if(Ns(n,Ms)||fa(e))return!1;var r=Ns(n,fa);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function KS(t,e){var n=t.childNodes||[];function r(s){return Ms(s)&&s!==e}if(Ns(n,r))return!1;var i=Ns(n,fa);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function BZ(t,e,n){if(!LZ(t))throw new Pn(ei,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new Pn(FS,"child not in parent");if(!RZ(e)||fa(e)&&t.nodeType!==$t.DOCUMENT_NODE)throw new Pn(ei,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function PZ(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===$t.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Ms);if(s.length>1||Ns(i,Tv))throw new Pn(ei,"More than one element or text in fragment");if(s.length===1&&!QS(t,n))throw new Pn(ei,"Element in fragment can not be inserted before doctype")}if(Ms(e)&&!QS(t,n))throw new Pn(ei,"Only one element can be added and only after doctype");if(fa(e)){if(Ns(r,fa))throw new Pn(ei,"Only one doctype is allowed");var a=Ns(r,Ms);if(n&&r.indexOf(a)<r.indexOf(n))throw new Pn(ei,"Doctype can only be inserted before an element");if(!n&&a)throw new Pn(ei,"Doctype can not be appended since element is present")}}function XS(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===$t.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Ms);if(s.length>1||Ns(i,Tv))throw new Pn(ei,"More than one element or text in fragment");if(s.length===1&&!KS(t,n))throw new Pn(ei,"Element in fragment can not be inserted before doctype")}if(Ms(e)&&!KS(t,n))throw new Pn(ei,"Only one element can be added and only after doctype");if(fa(e)){if(Ns(r,function(l){return fa(l)&&l!==n}))throw new Pn(ei,"Only one doctype is allowed");var a=Ns(r,Ms);if(n&&r.indexOf(a)<r.indexOf(n))throw new Pn(ei,"Doctype can only be inserted before an element")}}function Xp(t,e,n,r){BZ(t,e,n),t.nodeType===$t.DOCUMENT_NODE&&(r||PZ)(t,e,n);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===ca){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return _v(t.ownerDocument||t,t),e.nodeType==ca&&(e.firstChild=e.lastChild=null),e}function FZ(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,_v(t.ownerDocument,t,e),e}Rd.prototype={nodeName:"#document",nodeType:BS,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ca){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return Xp(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===os&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),YS(this,t)},replaceChild:function(t,e){Xp(this,t,e,XS),t.ownerDocument=this,e&&this.removeChild(e),Ms(t)&&(this.documentElement=t)},importNode:function(t,e){return t4(this,t,e)},getElementById:function(t){var e=null;return Ld(this.documentElement,function(n){if(n.nodeType==os&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=NS(t);return new cu(this,function(n){var r=[];return e.length>0&&Ld(n.documentElement,function(i){if(i!==n&&i.nodeType===os){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=NS(s);a=e.every(DZ(o))}a&&r.push(i)}}}),r})},createElement:function(t){var e=new Ko;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new da;var n=e.attributes=new Kp;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new qp;return t.ownerDocument=this,t.childNodes=new da,t},createTextNode:function(t){var e=new Ev;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Av;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new xv;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new wv;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Zp;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Cv;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Ko,r=e.split(":"),i=n.attributes=new Kp;return n.childNodes=new da,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Zp,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},qr(Rd,$t);function Ko(){this._nsMap={}}Ko.prototype={nodeType:os,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ca?this.insertBefore(t,null):FZ(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new cu(this,function(e){var n=[];return Ld(e,function(r){r!==e&&r.nodeType==os&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new cu(this,function(n){var r=[];return Ld(n,function(i){i!==n&&i.nodeType===os&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}},Rd.prototype.getElementsByTagName=Ko.prototype.getElementsByTagName,Rd.prototype.getElementsByTagNameNS=Ko.prototype.getElementsByTagNameNS,qr(Ko,$t);function Zp(){}Zp.prototype.nodeType=uu,qr(Zp,$t);function Bd(){}Bd.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(rr[ei])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},qr(Bd,$t);function Ev(){}Ev.prototype={nodeName:"#text",nodeType:Qp,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},qr(Ev,Bd);function Av(){}Av.prototype={nodeName:"#comment",nodeType:RS},qr(Av,Bd);function xv(){}xv.prototype={nodeName:"#cdata-section",nodeType:MS},qr(xv,Bd);function Jp(){}Jp.prototype.nodeType=PS,qr(Jp,$t);function ZS(){}ZS.prototype.nodeType=MZ,qr(ZS,$t);function JS(){}JS.prototype.nodeType=NZ,qr(JS,$t);function Cv(){}Cv.prototype.nodeType=OS,qr(Cv,$t);function qp(){}qp.prototype.nodeName="#document-fragment",qp.prototype.nodeType=ca,qr(qp,$t);function wv(){}wv.prototype.nodeType=LS,qr(wv,$t);function qS(){}qS.prototype.serializeToString=function(t,e,n){return $S.call(t,e,n)},$t.prototype.toString=$S;function $S(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return du(this,n,t,e,a),n.join("")}function e4(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===Md.XML||i===Md.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===r)return a.namespace!==i}return!0}function Sv(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,WS),'"')}function du(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case os:var s=t.attributes,a=s.length,y=t.firstChild,o=t.tagName;n=Md.isHTML(t.namespaceURI)||n;var l=o;if(!n&&!t.prefix&&t.namespaceURI){for(var d,f=0;f<s.length;f++)if(s.item(f).name==="xmlns"){d=s.item(f).value;break}if(!d)for(var c=i.length-1;c>=0;c--){var h=i[c];if(h.prefix===""&&h.namespace===t.namespaceURI){d=h.namespace;break}}if(d!==t.namespaceURI)for(var c=i.length-1;c>=0;c--){var h=i[c];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var p=0;p<a;p++){var m=s.item(p);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var p=0;p<a;p++){var m=s.item(p);if(e4(m,n,i)){var g=m.prefix||"",v=m.namespaceURI;Sv(e,g?"xmlns:"+g:"xmlns",v),i.push({prefix:g,namespace:v})}du(m,e,n,r,i)}if(o===l&&e4(t,n,i)){var g=t.prefix||"",v=t.namespaceURI;Sv(e,g?"xmlns:"+g:"xmlns",v),i.push({prefix:g,namespace:v})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;y;)y.data?e.push(y.data):du(y,e,n,r,i.slice()),y=y.nextSibling;else for(;y;)du(y,e,n,r,i.slice()),y=y.nextSibling;e.push("</",l,">")}else e.push("/>");return;case BS:case ca:for(var y=t.firstChild;y;)du(y,e,n,r,i.slice()),y=y.nextSibling;return;case uu:return Sv(e,t.name,t.value);case Qp:return e.push(t.data.replace(/[<&>]/g,WS));case MS:return e.push("<![CDATA[",t.data,"]]>");case RS:return e.push("<!--",t.data,"-->");case PS:var x=t.publicId,w=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),w&&w!="."&&e.push(" ",w),e.push(">");else if(w&&w!=".")e.push(" SYSTEM ",w,">");else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case LS:return e.push("<?",t.target," ",t.data,"?>");case OS:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function t4(t,e,n){var r;switch(e.nodeType){case os:r=e.cloneNode(!1),r.ownerDocument=t;case ca:break;case uu:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(t4(t,i,n)),i=i.nextSibling;return r}function kv(t,e,n){var r=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new da),r.ownerDocument=t,r.nodeType){case os:var a=e.attributes,o=r.attributes=new Kp,l=a.length;o._ownerElement=r;for(var d=0;d<l;d++)r.setAttributeNode(kv(t,a.item(d),!0));break;case uu:n=!0}if(n)for(var f=e.firstChild;f;)r.appendChild(kv(t,f,n)),f=f.nextSibling;return r}function n4(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case os:case ca:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(cu.prototype,"length",{get:function(){return yv(this),this.$$length}}),Object.defineProperty($t.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case os:case ca:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),n4=function(e,n,r){e["$$"+n]=r}}}catch{}Ga.DocumentType=Jp,Ga.DOMException=Pn,Ga.DOMImplementation=VS,Ga.Element=Ko,Ga.Node=$t,Ga.NodeList=da,Ga.XMLSerializer=qS;var $p={},r4={};(function(t){var e=ua.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(r4);var Iv={},Pd=ua.NAMESPACE,Dv=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i4=new RegExp("[\\-\\.0-9"+Dv.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s4=new RegExp("^"+Dv.source+i4.source+"*(?::"+Dv.source+i4.source+"*)?$"),Fd=0,Ya=1,fu=2,Ud=3,hu=4,pu=5,jd=6,em=7;function mu(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,mu)}mu.prototype=new Error,mu.prototype.name=mu.name;function a4(){}a4.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),u4(e,e={}),UZ(t,e,n,r,this.errorHandler),r.endDocument()}};function UZ(t,e,n,r,i){function s(P){if(P>65535){P-=65536;var W=55296+(P>>10),ie=56320+(P&1023);return String.fromCharCode(W,ie)}else return String.fromCharCode(P)}function a(P){var W=P.slice(1,-1);return Object.hasOwnProperty.call(n,W)?n[W]:W.charAt(0)==="#"?s(parseInt(W.substr(1).replace("x","0x"))):(i.error("entity not found:"+P),P)}function o(P){if(P>g){var W=t.substring(g,P).replace(/&#?\w+;/g,a);h&&l(g),r.characters(W,0,P-g),g=P}}function l(P,W){for(;P>=f&&(W=c.exec(t));)d=W.index,f=d+W[0].length,h.lineNumber++;h.columnNumber=P-d+1}for(var d=0,f=0,c=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,p=[{currentNSMap:e}],m={},g=0;;){try{var v=t.indexOf("<",g);if(v<0){if(!t.substr(g).match(/^\s*$/)){var y=r.doc,x=y.createTextNode(t.substr(g));y.appendChild(x),r.currentElement=x}return}switch(v>g&&o(v),t.charAt(v+1)){case"/":var z=t.indexOf(">",v+3),w=t.substring(v+2,z).replace(/[ \t\n\r]+$/g,""),I=p.pop();z<0?(w=t.substring(v+2).replace(/[\s<].*/,""),i.error("end tag name: "+w+" is not complete:"+I.tagName),z=v+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),i.error("end tag name: "+w+" maybe not complete"),z=v+1+w.length);var k=I.localNSMap,S=I.tagName==w,B=S||I.tagName&&I.tagName.toLowerCase()==w.toLowerCase();if(B){if(r.endElement(I.uri,I.localName,w),k)for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&r.endPrefixMapping(M);S||i.fatalError("end tag name: "+w+" is not match the current start tagName:"+I.tagName)}else p.push(I);z++;break;case"?":h&&l(v),z=WZ(t,v,r);break;case"!":h&&l(v),z=VZ(t,v,r,i);break;default:h&&l(v);var D=new c4,L=p[p.length-1].currentNSMap,z=jZ(t,v,D,L,a,i),U=D.length;if(!D.closed&&zZ(t,z,D.tagName,m)&&(D.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),h&&U){for(var F=o4(h,{}),H=0;H<U;H++){var K=D[H];l(K.offset),K.locator=o4(h,{})}r.locator=F,l4(D,r,L)&&p.push(D),r.locator=h}else l4(D,r,L)&&p.push(D);Pd.isHTML(D.uri)&&!D.closed?z=HZ(t,z,D.tagName,a,r):z++}}catch(P){if(P instanceof mu)throw P;i.error("element parse error: "+P),z=-1}z>g?g=z:o(Math.max(v,g)+1)}}function o4(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function jZ(t,e,n,r,i,s){function a(h,p,m){n.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),n.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),m)}for(var o,l,d=++e,f=Fd;;){var c=t.charAt(d);switch(c){case"=":if(f===Ya)o=t.slice(e,d),f=Ud;else if(f===fu)f=Ud;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Ud||f===Ya)if(f===Ya&&(s.warning('attribute value must after "="'),o=t.slice(e,d)),e=d+1,d=t.indexOf(c,e),d>0)l=t.slice(e,d),a(o,l,e-1),f=pu;else throw new Error("attribute value no end '"+c+"' match");else if(f==hu)l=t.slice(e,d),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=d+1,f=pu;else throw new Error('attribute value must after "="');break;case"/":switch(f){case Fd:n.setTagName(t.slice(e,d));case pu:case jd:case em:f=em,n.closed=!0;case hu:case Ya:break;case fu:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==Fd&&n.setTagName(t.slice(e,d)),d;case">":switch(f){case Fd:n.setTagName(t.slice(e,d));case pu:case jd:case em:break;case hu:case Ya:l=t.slice(e,d),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case fu:f===fu&&(l=o),f==hu?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!Pd.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Ud:throw new Error("attribute value missed!!")}return d;case"":c=" ";default:if(c<=" ")switch(f){case Fd:n.setTagName(t.slice(e,d)),f=jd;break;case Ya:o=t.slice(e,d),f=fu;break;case hu:var l=t.slice(e,d);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case pu:f=jd;break}else switch(f){case fu:n.tagName,(!Pd.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=d,f=Ya;break;case pu:s.warning('attribute space is required"'+o+'"!!');case jd:f=Ya,e=d;break;case Ud:f=hu,e=d;break;case em:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function l4(t,e,n){for(var r=t.tagName,i=null,c=t.length;c--;){var s=t[c],a=s.qName,o=s.value,h=a.indexOf(":");if(h>0)var l=s.prefix=a.slice(0,h),d=a.slice(h+1),f=l==="xmlns"&&d;else d=a,l=null,f=a==="xmlns"&&"";s.localName=d,f!==!1&&(i==null&&(i={},u4(n,n={})),n[f]=i[f]=o,s.uri=Pd.XMLNS,e.startPrefixMapping(f,o))}for(var c=t.length;c--;){s=t[c];var l=s.prefix;l&&(l==="xml"&&(s.uri=Pd.XML),l!=="xmlns"&&(s.uri=n[l||""]))}var h=r.indexOf(":");h>0?(l=t.prefix=r.slice(0,h),d=t.localName=r.slice(h+1)):(l=null,d=t.localName=r);var p=t.uri=n[l||""];if(e.startElement(p,d,r,t),t.closed){if(e.endElement(p,d,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=i,!0}function HZ(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),s)}return e+1}function zZ(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function u4(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function VZ(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=GZ(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],d=!1,f=!1;o>3&&(/^public$/i.test(a[2][0])?(d=a[3][0],f=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(f=a[3][0]));var c=a[o-1];return n.startDTD(l,d,f),n.endDTD(),c.index+c[0].length}}return-1}function WZ(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function c4(){this.attributeNames={}}c4.prototype={setTagName:function(t){if(!s4.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!s4.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function GZ(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}Iv.XMLReader=a4,Iv.ParseError=mu;var YZ=ua,QZ=Ga,d4=r4,f4=Iv,KZ=QZ.DOMImplementation,h4=YZ.NAMESPACE,XZ=f4.ParseError,ZZ=f4.XMLReader;function p4(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function m4(t){this.options=t||{locator:{}}}m4.prototype.parseFromString=function(t,e){var n=this.options,r=new ZZ,i=n.domBuilder||new Hd,s=n.errorHandler,a=n.locator,o=n.xmlns||{},l=/\/x?html?$/.test(e),d=l?d4.HTML_ENTITIES:d4.XML_ENTITIES;a&&i.setDocumentLocator(a),r.errorHandler=JZ(s,i,a),r.domBuilder=n.domBuilder||i,l&&(o[""]=h4.HTML),o.xml=o.xml||h4.XML;var f=n.normalizeLineEndings||p4;return t&&typeof t=="string"?r.parse(f(t),o,d):r.errorHandler.error("invalid doc source"),i.doc};function JZ(t,e,n){if(!t){if(e instanceof Hd)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+Nv(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Hd(){this.cdata=!1}function gu(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Hd.prototype={startDocument:function(){this.doc=new KZ().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),a=r.length;tm(this,s),this.currentElement=s,this.locator&&gu(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),n=r.getQName(o),d=i.createAttributeNS(t,n);this.locator&&gu(r.getLocator(o),d),d.value=d.nodeValue=l,s.setAttributeNode(d)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&gu(this.locator,n),tm(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=g4.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&gu(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=g4.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&gu(this.locator,r),tm(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&gu(this.locator,i),tm(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,Nv(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Nv(this.locator))},fatalError:function(t){throw new XZ(t,this.locator)}};function Nv(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function g4(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Hd.prototype[t]=function(){return null}});function tm(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}$p.__DOMHandler=Hd,$p.normalizeLineEndings=p4,$p.DOMParser=m4;var qZ=$p.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const b4=t=>!!t&&typeof t=="object",ir=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):b4(e[r])&&b4(n[r])?e[r]=ir(e[r],n[r]):e[r]=n[r]}),e),{}),v4=t=>Object.keys(t).map(e=>t[e]),$Z=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},bu=t=>t.reduce((e,n)=>e.concat(n),[]),y4=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},eJ=(t,e)=>t.reduce((n,r,i)=>(r[e]&&n.push(i),n),[]),tJ=(t,e)=>v4(t.reduce((n,r)=>(r.forEach(i=>{n[e(i)]=i}),n),{}));var vu={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const zd=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const i={uri:e,resolvedUri:Gp(t||"",e)};if(n||r){const a=(n||r).split("-");let o=se.BigInt?se.BigInt(a[0]):parseInt(a[0],10),l=se.BigInt?se.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let d;typeof l=="bigint"||typeof o=="bigint"?d=se.BigInt(l)-se.BigInt(o)+se.BigInt(1):d=l-o+1,typeof d=="bigint"&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),i.byterange={length:d,offset:o}}return i},nJ=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=se.BigInt(t.offset)+se.BigInt(t.length)-se.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},_4=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),rJ={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:i}=t,s=_4(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,d=_4(t.endNumber),f=(e+n)/1e3,c=r+a,p=f+o-c,m=Math.ceil(p*i/s),g=Math.floor((f-c-l)*i/s),v=Math.floor((f-c)*i/s);return{start:Math.max(0,g),end:typeof d=="number"?d:Math.min(m,v)}}},iJ=t=>e=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:n/r,timeline:i,time:e*n}},Mv=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:i,sourceDuration:s}=t,{start:a,end:o}=rJ[e](t),l=$Z(a,o).map(iJ(t));if(e==="static"){const d=l.length-1,f=typeof i=="number"?i:s;l[d].duration=f-n/r*d}return l},T4=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(vu.NO_BASE_URL);const d=zd({baseUrl:e,source:n.sourceURL,range:n.range}),f=zd({baseUrl:e,source:e,indexRange:i});if(f.map=d,l){const c=Mv(t);c.length&&(f.duration=c[0].duration,f.timeline=c[0].timeline)}else r&&(f.duration=r,f.timeline=s);return f.presentationTime=a||s,f.number=o,[f]},Ov=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,d=e.references.filter(v=>v.referenceType!==1),f=[],c=t.endList?"static":"dynamic",h=t.sidx.timeline;let p=h,m=t.mediaSequence||0,g;typeof e.firstOffset=="bigint"?g=se.BigInt(o)+e.firstOffset:g=o+e.firstOffset;for(let v=0;v<d.length;v++){const y=e.references[v],x=y.referencedSize,w=y.subsegmentDuration;let I;typeof g=="bigint"?I=g+se.BigInt(x)-se.BigInt(1):I=g+x-1;const k=`${g}-${I}`,B=T4({baseUrl:n,timescale:l,timeline:s,periodStart:h,presentationTime:p,number:m,duration:w,sourceDuration:i,indexRange:k,type:c})[0];r&&(B.map=r),f.push(B),typeof g=="bigint"?g+=se.BigInt(x):g+=x,p+=w/l,m++}return t.segments=f,t},sJ=["AUDIO","SUBTITLES"],aJ=1/60,E4=t=>tJ(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),oJ=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},A4=t=>{let e=[];return EZ(t,sJ,(n,r,i,s)=>{e=e.concat(n.playlists||[])}),e},x4=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},lJ=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:l}){return l===r.timeline});const i=oJ(t,r.attributes.NAME);if(!i||r.sidx)return;const s=r.segments[0],a=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<aJ});if(a===-1){x4({playlist:r,mediaSequence:i.mediaSequence+i.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!i.segments.length&&r.timeline>i.timeline||i.segments.length&&r.timeline>i.segments[i.segments.length-1].timeline)&&r.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),x4({playlist:r,mediaSequence:i.segments[a].number})})},uJ=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(A4(t)),r=e.playlists.concat(A4(e));return e.timelineStarts=E4([t.timelineStarts,e.timelineStarts]),lJ({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},nm=t=>t&&t.uri+"-"+nJ(t.byterange),Lv=t=>{const e=t.reduce(function(r,i){return r[i.attributes.baseUrl]||(r[i.attributes.baseUrl]=[]),r[i.attributes.baseUrl].push(i),r},{});let n=[];return Object.values(e).forEach(r=>{const i=v4(r.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(i)}),n.map(r=>(r.discontinuityStarts=eJ(r.segments||[],"discontinuity"),r))},Rv=(t,e)=>{const n=nm(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&Ov(t,r,t.sidx.resolvedUri),t},cJ=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=Rv(t[n],e);return t},dJ=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},fJ=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},hJ=(t,e={},n=!1)=>{let r;const i=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let d=a.attributes.label||"main";if(l&&!a.attributes.label){const c=o?` (${o})`:"";d=`${a.attributes.lang}${c}`}s[d]||(s[d]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const f=Rv(dJ(a,n),e);return s[d].playlists.push(f),typeof r>"u"&&o==="main"&&(r=a,r.default=!0),s},{});if(!r){const s=Object.keys(i)[0];i[s].default=!0}return i},pJ=(t,e={})=>t.reduce((n,r)=>{const i=r.attributes.label||r.attributes.lang||"text";return n[i]||(n[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),n[i].playlists.push(Rv(fJ(r),e)),n},{}),mJ=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:i,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),gJ=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),n&&(i.sidx=n),i},bJ=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",vJ=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",yJ=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",_J=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,i)=>{r.number=i})})},C4=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],TJ=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:d}=t[0].attributes,f=Lv(t.filter(bJ)).map(gJ),c=Lv(t.filter(vJ)),h=Lv(t.filter(yJ)),p=t.map(I=>I.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:cJ(f,r)};d>=0&&(m.minimumUpdatePeriod=d*1e3),e&&(m.locations=e),n&&(m.contentSteering=n),o==="dynamic"&&(m.suggestedPresentationDelay=l),s&&s.length>0&&(m.eventStream=s);const g=m.playlists.length===0,v=c.length?hJ(c,r,g):null,y=h.length?pJ(h,r):null,x=f.concat(C4(v),C4(y)),w=x.map(({timelineStarts:I})=>I);return m.timelineStarts=E4(w),_J(x,m.timelineStarts),v&&(m.mediaGroups.AUDIO.audio=v),y&&(m.mediaGroups.SUBTITLES.subs=y),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=mJ(p)),i?uJ({oldManifest:i,newManifest:m}):m},EJ=(t,e,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,d=(r+i)/1e3,f=s+o,h=d+l-f;return Math.ceil((h*a-e)/n)},w4=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,d=[];let f=-1;for(let c=0;c<e.length;c++){const h=e[c],p=h.d,m=h.r||0,g=h.t||0;f<0&&(f=g),g&&g>f&&(f=g);let v;if(m<0){const w=c+1;w===e.length?n==="dynamic"&&r>0&&i.indexOf("$Number$")>0?v=EJ(t,f,p):v=(s*a-f)/p:v=(e[w].t-f)/p}else v=m+1;const y=o+d.length+v;let x=o+d.length;for(;x<y;)d.push({number:x,duration:p/a,time:f,timeline:l}),f+=p,x++}return d},AJ=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,xJ=t=>(e,n,r,i)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(r?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},S4=(t,e)=>t.replace(AJ,xJ(e)),CJ=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?Mv(t):w4(t,e),wJ=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,i=zd({baseUrl:t.baseUrl,source:S4(r.sourceURL,n),range:r.range});return CJ(t,e).map(a=>{n.Number=a.number,n.Time=a.time;const o=S4(t.media||"",n),l=t.timescale||1,d=t.presentationTimeOffset||0,f=t.periodStart+(a.time-d)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Gp(t.baseUrl||"",o),map:i,number:a.number,presentationTime:f}})},SJ=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,i=zd({baseUrl:n,source:r.sourceURL,range:r.range}),s=zd({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=i,s},kJ=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=t;if(!n&&!e||n&&e)throw new Error(vu.SEGMENT_TIME_UNSPECIFIED);const s=r.map(l=>SJ(t,l));let a;return n&&(a=Mv(t)),e&&(a=w4(t,e)),a.map((l,d)=>{if(s[d]){const f=s[d],c=t.timescale||1,h=t.presentationTimeOffset||0;return f.timeline=l.timeline,f.duration=l.duration,f.number=l.number,f.presentationTime=i+(l.time-h)/c,f}}).filter(l=>l)},IJ=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=wJ,n=ir(t,e.template)):e.base?(r=T4,n=ir(t,e.base)):e.list&&(r=kJ,n=ir(t,e.list));const i={attributes:t};if(!r)return i;const s=r(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return i.attributes=n,i.segments=s,e.base&&n.indexRange&&(i.sidx=s[0],i.segments=[]),i},DJ=t=>t.map(IJ),yn=(t,e)=>y4(t.childNodes).filter(({tagName:n})=>n===e),Vd=t=>t.textContent.trim(),NJ=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),yu=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,d,f,c,h,p]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(d||0)*2592e3+parseFloat(f||0)*86400+parseFloat(c||0)*3600+parseFloat(h||0)*60+parseFloat(p||0)},MJ=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),k4={mediaPresentationDuration(t){return yu(t)},availabilityStartTime(t){return MJ(t)/1e3},minimumUpdatePeriod(t){return yu(t)},suggestedPresentationDelay(t){return yu(t)},type(t){return t},timeShiftBufferDepth(t){return yu(t)},start(t){return yu(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return NJ(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?yu(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Gn=t=>t&&t.attributes?y4(t.attributes).reduce((e,n)=>{const r=k4[n.name]||k4.DEFAULT;return e[n.name]=r(n.value),e},{}):{},OJ={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},rm=(t,e)=>e.length?bu(t.map(function(n){return e.map(function(r){const i=Vd(r),s=Gp(n.baseUrl,i),a=ir(Gn(r),{baseUrl:s});return s!==i&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,Bv=t=>{const e=yn(t,"SegmentTemplate")[0],n=yn(t,"SegmentList")[0],r=n&&yn(n,"SegmentURL").map(c=>ir({tag:"SegmentURL"},Gn(c))),i=yn(t,"SegmentBase")[0],s=n||e,a=s&&yn(s,"SegmentTimeline")[0],o=n||i||e,l=o&&yn(o,"Initialization")[0],d=e&&Gn(e);d&&l?d.initialization=l&&Gn(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});const f={template:d,segmentTimeline:a&&yn(a,"S").map(c=>Gn(c)),list:n&&ir(Gn(n),{segmentUrls:r,initialization:Gn(l)}),base:i&&ir(Gn(i),{initialization:Gn(l)})};return Object.keys(f).forEach(c=>{f[c]||delete f[c]}),f},LJ=(t,e,n)=>r=>{const i=yn(r,"BaseURL"),s=rm(e,i),a=ir(t,Gn(r)),o=Bv(r);return s.map(l=>({segmentInfo:ir(n,o),attributes:ir(a,l)}))},RJ=t=>t.reduce((e,n)=>{const r=Gn(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const i=OJ[r.schemeIdUri];if(i){e[i]={attributes:r};const s=yn(n,"cenc:pssh")[0];if(s){const a=Vd(s);e[i].pssh=a&&xZ(a)}}return e},{}),BJ=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let r,i;return i=n,/^CC\d=/.test(n)?[r,i]=n.split("="):/^CC\d$/.test(n)&&(r=n),{channel:r,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[i,s=""]=n.split("=");r.channel=i,r.language=n,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?r.language=l:o==="er"?r.easyReader=Number(l):o==="war"?r.aspectRatio=Number(l):o==="3D"&&(r["3D"]=Number(l))})}else r.language=n;return r.channel&&(r.channel="SERVICE"+r.channel),r})},PJ=t=>bu(yn(t.node,"EventStream").map(e=>{const n=Gn(e),r=n.schemeIdUri;return yn(e,"Event").map(i=>{const s=Gn(i),a=s.presentationTime||0,o=n.timescale||1,l=s.duration||0,d=a/o+t.attributes.start;return{schemeIdUri:r,value:n.value,id:s.id,start:d,end:d+l/o,messageData:Vd(i)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),FJ=(t,e,n)=>r=>{const i=Gn(r),s=rm(e,yn(r,"BaseURL")),a=yn(r,"Role")[0],o={role:Gn(a)};let l=ir(t,i,o);const d=yn(r,"Accessibility")[0],f=BJ(Gn(d));f&&(l=ir(l,{captionServices:f}));const c=yn(r,"Label")[0];if(c&&c.childNodes.length){const v=c.childNodes[0].nodeValue.trim();l=ir(l,{label:v})}const h=RJ(yn(r,"ContentProtection"));Object.keys(h).length&&(l=ir(l,{contentProtection:h}));const p=Bv(r),m=yn(r,"Representation"),g=ir(n,p);return bu(m.map(LJ(l,s,g)))},UJ=(t,e)=>(n,r)=>{const i=rm(e,yn(n.node,"BaseURL")),s=ir(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=yn(n.node,"AdaptationSet"),o=Bv(n.node);return bu(a.map(FJ(s,i,o)))},jJ=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=ir({serverURL:Vd(t[0])},Gn(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},HJ=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,zJ=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=yn(t,"Period");if(!a.length)throw new Error(vu.INVALID_NUMBER_OF_PERIOD);const o=yn(t,"Location"),l=Gn(t),d=rm([{baseUrl:n}],yn(t,"BaseURL")),f=yn(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=i,o.length&&(l.locations=o.map(Vd));const c=[];return a.forEach((h,p)=>{const m=Gn(h),g=c[p-1];m.start=HJ({attributes:m,priorPeriodAttributes:g?g.attributes:null,mpdType:l.type}),c.push({node:h,attributes:m})}),{locations:l.locations,contentSteeringInfo:jJ(f,s),representationInfo:bu(c.map(UJ(l,d))),eventStream:bu(c.map(PJ))}},I4=t=>{if(t==="")throw new Error(vu.DASH_EMPTY_MANIFEST);const e=new qZ;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(vu.DASH_INVALID_XML);return r},VJ=t=>{const e=yn(t,"UTCTiming")[0];if(!e)return null;const n=Gn(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(vu.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},WJ=(t,e={})=>{const n=zJ(I4(t),e),r=DJ(n.representationInfo);return TJ({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},GJ=t=>VJ(I4(t));var D4=Math.pow(2,32),YJ=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*D4+e.getUint32(4)},QJ={getUint64:YJ,MAX_UINT32:D4},N4=QJ.getUint64,KJ=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=e.getUint32(r),n.firstOffset=e.getUint32(r+4),r+=8):(n.earliestPresentationTime=N4(t.subarray(r)),n.firstOffset=N4(t.subarray(r+8)),r+=16),r+=2;var i=e.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return n},XJ=KJ;const ZJ=or(XJ);var JJ=ut([73,68,51]),qJ=function(e,n){n===void 0&&(n=0),e=ut(e);var r=e[n+5],i=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(r&16)>>4;return s?i+20:i+10},Wd=function t(e,n){return n===void 0&&(n=0),e=ut(e),e.length-n<10||!vn(e,JJ,{offset:n})?n:(n+=qJ(e,n),t(e,n))},M4=function(e){return typeof e=="string"?SS(e):e},$J=function(e){return Array.isArray(e)?e.map(function(n){return M4(n)}):[M4(e)]},eq=function t(e,n,r){r===void 0&&(r=!1),n=$J(n),e=ut(e);var i=[];if(!n.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var d=e.subarray(s+8,l);vn(o,n[0])&&(n.length===1?i.push(d):i.push.apply(i,t(d,n.slice(1),r))),s=l}return i},im={EBML:ut([26,69,223,163]),DocType:ut([66,130]),Segment:ut([24,83,128,103]),SegmentInfo:ut([21,73,169,102]),Tracks:ut([22,84,174,107]),Track:ut([174]),TrackNumber:ut([215]),DefaultDuration:ut([35,227,131]),TrackEntry:ut([174]),TrackType:ut([131]),FlagDefault:ut([136]),CodecID:ut([134]),CodecPrivate:ut([99,162]),VideoTrack:ut([224]),AudioTrack:ut([225]),Cluster:ut([31,67,182,117]),Timestamp:ut([231]),TimestampScale:ut([42,215,177]),BlockGroup:ut([160]),BlockDuration:ut([155]),Block:ut([161]),SimpleBlock:ut([163])},Pv=[128,64,32,16,8,4,2,1],tq=function(e){for(var n=1,r=0;r<Pv.length&&!(e&Pv[r]);r++)n++;return n},sm=function(e,n,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var s=tq(e[n]),a=e.subarray(n,n+s);return r&&(a=Array.prototype.slice.call(e,n,n+s),a[0]^=Pv[s-1]),{length:s,value:yZ(a,{signed:i}),bytes:a}},O4=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?_Z(e):e},nq=function(e){return Array.isArray(e)?e.map(function(n){return O4(n)}):[O4(e)]},rq=function t(e,n,r){if(r>=n.length)return n.length;var i=sm(n,r,!1);if(vn(e.bytes,i.bytes))return r;var s=sm(n,r+i.length);return t(e,n,r+s.length+s.value+i.length)},L4=function t(e,n){n=nq(n),e=ut(e);var r=[];if(!n.length)return r;for(var i=0;i<e.length;){var s=sm(e,i,!1),a=sm(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=rq(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,d=e.subarray(o,l);vn(n[0],s.bytes)&&(n.length===1?r.push(d):r=r.concat(t(d,n.slice(1))));var f=s.length+a.length+d.length;i+=f}return r},iq=ut([0,0,0,1]),sq=ut([0,0,1]),aq=ut([0,0,3]),oq=function(e){for(var n=[],r=1;r<e.length-2;)vn(e.subarray(r,r+3),aq)&&(n.push(r+2),r++),r++;if(n.length===0)return e;var i=e.length-n.length,s=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),s[r]=e[a];return s},R4=function(e,n,r,i){e=ut(e),r=[].concat(r);for(var s=0,a,o=0;s<e.length&&(o<i||a);){var l=void 0;if(vn(e.subarray(s),iq)?l=4:vn(e.subarray(s),sq)&&(l=3),!l){s++;continue}if(o++,a)return oq(e.subarray(a,s));var d=void 0;n==="h264"?d=e[s+l]&31:n==="h265"&&(d=e[s+l]>>1&63),r.indexOf(d)!==-1&&(a=s+l),s+=l+(n==="h264"?1:2)}return e.subarray(0,0)},lq=function(e,n,r){return R4(e,"h264",n,r)},uq=function(e,n,r){return R4(e,"h265",n,r)},Or={webm:ut([119,101,98,109]),matroska:ut([109,97,116,114,111,115,107,97]),flac:ut([102,76,97,67]),ogg:ut([79,103,103,83]),ac3:ut([11,119]),riff:ut([82,73,70,70]),avi:ut([65,86,73]),wav:ut([87,65,86,69]),"3gp":ut([102,116,121,112,51,103]),mp4:ut([102,116,121,112]),fmp4:ut([115,116,121,112]),mov:ut([102,116,121,112,113,116]),moov:ut([109,111,111,118]),moof:ut([109,111,111,102])},_u={aac:function(e){var n=Wd(e);return vn(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Wd(e);return vn(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=L4(e,[im.EBML,im.DocType])[0];return vn(n,Or.webm)},mkv:function(e){var n=L4(e,[im.EBML,im.DocType])[0];return vn(n,Or.matroska)},mp4:function(e){if(_u["3gp"](e)||_u.mov(e))return!1;if(vn(e,Or.mp4,{offset:4})||vn(e,Or.fmp4,{offset:4})||vn(e,Or.moof,{offset:4})||vn(e,Or.moov,{offset:4}))return!0},mov:function(e){return vn(e,Or.mov,{offset:4})},"3gp":function(e){return vn(e,Or["3gp"],{offset:4})},ac3:function(e){var n=Wd(e);return vn(e,Or.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Wd(e);return vn(e,Or.flac,{offset:n})},ogg:function(e){return vn(e,Or.ogg)},avi:function(e){return vn(e,Or.riff)&&vn(e,Or.avi,{offset:8})},wav:function(e){return vn(e,Or.riff)&&vn(e,Or.wav,{offset:8})},h264:function(e){return lq(e,7,3).length},h265:function(e){return uq(e,[32,33],3).length}},Fv=Object.keys(_u).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Fv.forEach(function(t){var e=_u[t];_u[t]=function(n){return e(ut(n))}});var cq=_u,Uv=function(e){e=ut(e);for(var n=0;n<Fv.length;n++){var r=Fv[n];if(cq[r](e))return r}return""},dq=function(e){return eq(e,["moof"]).length>0},jv=9e4,Hv,zv,am,Vv,B4,P4,F4;Hv=function(t){return t*jv},zv=function(t,e){return t*e},am=function(t){return t/jv},Vv=function(t,e){return t/e},B4=function(t,e){return Hv(Vv(t,e))},P4=function(t,e){return zv(am(t),e)},F4=function(t,e,n){return am(n?t:t-e)};var Xo={ONE_SECOND_IN_TS:jv,secondsToVideoTs:Hv,secondsToAudioTs:zv,videoTsToSeconds:am,audioTsToSeconds:Vv,audioTsToVideoTs:B4,videoTsToAudioTs:P4,metadataTsToSeconds:F4};/**
 * @license
 * Video.js 8.17.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Wv="8.17.3";const ha={},Qa=function(t,e){return ha[t]=ha[t]||[],e&&(ha[t]=ha[t].concat(e)),ha[t]},fq=function(t,e){Qa(t,e)},U4=function(t,e){const n=Qa(t).indexOf(e);return n<=-1?!1:(ha[t]=ha[t].slice(),ha[t].splice(n,1),!0)},hq=function(t,e){Qa(t,[].concat(e).map(n=>{const r=(...i)=>(U4(t,r),n(...i));return r}))},om={prefixed:!0},lm=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],j4=lm[0];let Gd;for(let t=0;t<lm.length;t++)if(lm[t][1]in We){Gd=lm[t];break}if(Gd){for(let t=0;t<Gd.length;t++)om[j4[t]]=Gd[t];om.prefixed=Gd[0]!==j4[0]}let ti=[];const pq=(t,e,n)=>(r,i,s)=>{const a=e.levels[i],o=new RegExp(`^(${a})$`);let l=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),n&&(l=`%c${t}`,s.unshift(n)),s.unshift(l+":"),ti){ti.push([].concat(s));const f=ti.length-1e3;ti.splice(0,f>0?f:0)}if(!se.console)return;let d=se.console[r];!d&&r==="debug"&&(d=se.console.info||se.console.log),!(!d||!a||!o.test(r))&&d[Array.isArray(s)?"apply":"call"](se.console,s)};function Gv(t,e=":",n=""){let r="info",i;function s(...a){i("log",r,a)}return i=pq(t,s,n),s.createLogger=(a,o,l)=>{const d=o!==void 0?o:e,f=l!==void 0?l:n,c=`${t} ${d} ${a}`;return Gv(c,d,f)},s.createNewLogger=(a,o,l)=>Gv(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},s.history=()=>ti?[].concat(ti):[],s.history.filter=a=>(ti||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ti&&(ti.length=0)},s.history.disable=()=>{ti!==null&&(ti.length=0,ti=null)},s.history.enable=()=>{ti===null&&(ti=[])},s.error=(...a)=>i("error",r,a),s.warn=(...a)=>i("warn",r,a),s.debug=(...a)=>i("debug",r,a),s}const Lt=Gv("VIDEOJS"),H4=Lt.createLogger,mq=Object.prototype.toString,z4=function(t){return Os(t)?Object.keys(t):[]};function Tu(t,e){z4(t).forEach(n=>e(t[n],n))}function V4(t,e,n=0){return z4(t).reduce((r,i)=>e(r,t[i],i),n)}function Os(t){return!!t&&typeof t=="object"}function Eu(t){return Os(t)&&mq.call(t)==="[object Object]"&&t.constructor===Object}function on(...t){const e={};return t.forEach(n=>{n&&Tu(n,(r,i)=>{if(!Eu(r)){e[i]=r;return}Eu(e[i])||(e[i]={}),e[i]=on(e[i],r)})}),e}function W4(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function um(t,e,n,r=!0){const i=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return i(a),a}};return r&&(s.set=i),Object.defineProperty(t,e,s)}var gq=Object.freeze({__proto__:null,each:Tu,reduce:V4,isObject:Os,isPlain:Eu,merge:on,values:W4,defineLazyProperty:um});let Yv=!1,G4=null,Ls=!1,Y4,Q4=!1,Au=!1,xu=!1,Rs=!1,Qv=null,cm=null;const bq=!!(se.cast&&se.cast.framework&&se.cast.framework.CastReceiverContext);let K4=null,dm=!1,fm=!1,hm=!1,pm=!1,mm=!1,gm=!1,Kv=!1;const Yd=!!(Cu()&&("ontouchstart"in se||se.navigator.maxTouchPoints||se.DocumentTouch&&se.document instanceof se.DocumentTouch)),Ka=se.navigator&&se.navigator.userAgentData;if(Ka&&Ka.platform&&Ka.brands&&(Ls=Ka.platform==="Android",Au=!!Ka.brands.find(t=>t.brand==="Microsoft Edge"),xu=!!Ka.brands.find(t=>t.brand==="Chromium"),Rs=!Au&&xu,Qv=cm=(Ka.brands.find(t=>t.brand==="Chromium")||{}).version||null,fm=Ka.platform==="Windows"),!xu){const t=se.navigator&&se.navigator.userAgent||"";Yv=/iPod/i.test(t),G4=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ls=/Android/i.test(t),Y4=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),Q4=/Firefox/i.test(t),Au=/Edg/i.test(t),xu=/Chrome/i.test(t)||/CriOS/i.test(t),Rs=!Au&&xu,Qv=cm=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),K4=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),mm=/Tizen/i.test(t),gm=/Web0S/i.test(t),Kv=mm||gm,dm=/Safari/i.test(t)&&!Rs&&!Ls&&!Au&&!Kv,fm=/Windows/i.test(t),hm=/iPad/i.test(t)||dm&&Yd&&!/iPhone/i.test(t),pm=/iPhone/i.test(t)&&!hm}const Lr=pm||hm||Yv,bm=(dm||Lr)&&!Rs;var X4=Object.freeze({__proto__:null,get IS_IPOD(){return Yv},get IOS_VERSION(){return G4},get IS_ANDROID(){return Ls},get ANDROID_VERSION(){return Y4},get IS_FIREFOX(){return Q4},get IS_EDGE(){return Au},get IS_CHROMIUM(){return xu},get IS_CHROME(){return Rs},get CHROMIUM_VERSION(){return Qv},get CHROME_VERSION(){return cm},IS_CHROMECAST_RECEIVER:bq,get IE_VERSION(){return K4},get IS_SAFARI(){return dm},get IS_WINDOWS(){return fm},get IS_IPAD(){return hm},get IS_IPHONE(){return pm},get IS_TIZEN(){return mm},get IS_WEBOS(){return gm},get IS_SMART_TV(){return Kv},TOUCH_ENABLED:Yd,IS_IOS:Lr,IS_ANY_SAFARI:bm});function Z4(t){return typeof t=="string"&&!!t.trim()}function vq(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Cu(){return We===se.document}function wu(t){return Os(t)&&t.nodeType===1}function J4(){try{return se.parent!==se.self}catch{return!0}}function q4(t){return function(e,n){if(!Z4(e))return We[t](null);Z4(n)&&(n=We.querySelector(n));const r=wu(n)?n:We;return r[t]&&r[t](e)}}function vt(t="div",e={},n={},r){const i=We.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Xa(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){i.setAttribute(s,n[s])}),r&&Zv(i,r),i}function Xa(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Xv(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Qd(t,e){return vq(e),t.classList.contains(e)}function Zo(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function vm(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(Lt.warn("removeClass was called with an element that doesn't exist"),null)}function $4(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function ek(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function Za(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let i=r.length-1;i>=0;i--){const s=r[i].name;let a=r[i].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function tk(t,e){return t.getAttribute(e)}function Su(t,e,n){t.setAttribute(e,n)}function ym(t,e){t.removeAttribute(e)}function nk(){We.body.focus(),We.onselectstart=function(){return!1}}function rk(){We.onselectstart=function(){return!0}}function ku(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(Iu(t,"height"))),n.width||(n.width=parseFloat(Iu(t,"width"))),n}}function Kd(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,i=0;for(;t.offsetParent&&t!==We[om.fullscreenElement];)r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:r,top:i,width:e,height:n}}function _m(t,e){const n={x:0,y:0};if(Lr){let f=t;for(;f&&f.nodeName.toLowerCase()!=="html";){const c=Iu(f,"transform");if(/^matrix/.test(c)){const h=c.slice(7,-1).split(/,\s/).map(Number);n.x+=h[4],n.y+=h[5]}else if(/^matrix3d/.test(c)){const h=c.slice(9,-1).split(/,\s/).map(Number);n.x+=h[12],n.y+=h[13]}if(f.assignedSlot&&f.assignedSlot.parentElement&&se.WebKitCSSMatrix){const h=se.getComputedStyle(f.assignedSlot.parentElement).transform,p=new se.WebKitCSSMatrix(h);n.x+=p.m41,n.y+=p.m42}f=f.parentNode||f.host}}const r={},i=Kd(e.target),s=Kd(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-i.top),d=e.offsetX-(s.left-i.left);return e.changedTouches&&(d=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Lr&&(d-=n.x,l-=n.y)),r.y=1-Math.max(0,Math.min(1,l/o)),r.x=Math.max(0,Math.min(1,d/a)),r}function ik(t){return Os(t)&&t.nodeType===3}function Tm(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function sk(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),wu(e)||ik(e))return e;if(typeof e=="string"&&/\S/.test(e))return We.createTextNode(e)}).filter(e=>e)}function Zv(t,e){return sk(e).forEach(n=>t.appendChild(n)),t}function ak(t,e){return Zv(Tm(t),e)}function Xd(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Ja=q4("querySelector"),ok=q4("querySelectorAll");function Iu(t,e){if(!t||!e)return"";if(typeof se.getComputedStyle=="function"){let n;try{n=se.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function lk(t){[...We.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(i=>i.cssText).join(""),r=We.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const r=We.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var uk=Object.freeze({__proto__:null,isReal:Cu,isEl:wu,isInFrame:J4,createEl:vt,textContent:Xa,prependTo:Xv,hasClass:Qd,addClass:Zo,removeClass:vm,toggleClass:$4,setAttributes:ek,getAttributes:Za,getAttribute:tk,setAttribute:Su,removeAttribute:ym,blockTextSelection:nk,unblockTextSelection:rk,getBoundingClientRect:ku,findPosition:Kd,getPointerPosition:_m,isTextNode:ik,emptyEl:Tm,normalizeContent:sk,appendContent:Zv,insertContent:ak,isSingleLeftClick:Xd,$:Ja,$$:ok,computedStyle:Iu,copyStyleSheetsToWindow:lk});let ck=!1,Jv;const yq=function(){if(Jv.options.autoSetup===!1)return;const t=Array.prototype.slice.call(We.getElementsByTagName("video")),e=Array.prototype.slice.call(We.getElementsByTagName("audio")),n=Array.prototype.slice.call(We.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Jv(a);else{qv(1);break}}else ck||qv(1)};function qv(t,e){Cu()&&(e&&(Jv=e),se.setTimeout(yq,t))}function $v(){ck=!0,se.removeEventListener("load",$v)}Cu()&&(We.readyState==="complete"?$v():se.addEventListener("load",$v));const dk=function(t){const e=We.createElement("style");return e.className=t,e},fk=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Rr=new WeakMap;let _q=3;function Di(){return _q++}function hk(t,e){if(!Rr.has(t))return;const n=Rr.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Rr.delete(t)}function e2(t,e,n,r){n.forEach(function(i){t(e,i,r)})}function Em(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||se.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in r)i.includes(s)||s==="returnValue"&&r.preventDefault||(t[s]=r[s]);if(t.target||(t.target=t.srcElement||We),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const s=We.documentElement,a=We.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Am;const Tq=function(){if(typeof Am!="boolean"){Am=!1;try{const t=Object.defineProperty({},"passive",{get(){Am=!0}});se.addEventListener("test",null,t),se.removeEventListener("test",null,t)}catch{}}return Am},Eq=["touchstart","touchmove"];function gi(t,e,n){if(Array.isArray(e))return e2(gi,t,e,n);Rr.has(t)||Rr.set(t,{});const r=Rr.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=Di()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(i,s){if(r.disabled)return;i=Em(i);const a=r.handlers[i.type];if(a){const o=a.slice(0);for(let l=0,d=o.length;l<d&&!i.isImmediatePropagationStopped();l++)try{o[l].call(t,i,s)}catch(f){Lt.error(f)}}}),r.handlers[e].length===1)if(t.addEventListener){let i=!1;Tq()&&Eq.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function _r(t,e,n){if(!Rr.has(t))return;const r=Rr.get(t);if(!r.handlers)return;if(Array.isArray(e))return e2(_r,t,e,n);const i=function(a,o){r.handlers[o]=[],hk(a,o)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(t,a);return}const s=r.handlers[e];if(s){if(!n){i(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);hk(t,e)}}function Du(t,e,n){const r=Rr.has(t)?Rr.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Em(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&e.bubbles===!0)Du.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Rr.has(e.target)||Rr.set(e.target,{});const s=Rr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function xm(t,e,n){if(Array.isArray(e))return e2(xm,t,e,n);const r=function(){_r(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Di(),gi(t,e,r)}function t2(t,e,n){const r=function(){_r(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Di(),gi(t,e,r)}var Aq=Object.freeze({__proto__:null,fixEvent:Em,on:gi,off:_r,trigger:Du,one:xm,any:t2});const Ni=30,cn=function(t,e,n){e.guid||(e.guid=Di());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},Bs=function(t,e){let n=se.performance.now();return function(...i){const s=se.performance.now();s-n>=e&&(t(...i),n=s)}},pk=function(t,e,n,r=se){let i;const s=()=>{r.clearTimeout(i),i=null},a=function(){const o=this,l=arguments;let d=function(){i=null,d=null,n||t.apply(o,l)};!i&&n&&t.apply(o,l),r.clearTimeout(i),i=r.setTimeout(d,e)};return a.cancel=s,a};var xq=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Ni,bind_:cn,throttle:Bs,debounce:pk});let Zd;class bi{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},gi(this,e,n),this.addEventListener=r}off(e,n){_r(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},xm(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},t2(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=Em(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),Du(this,e)}queueTrigger(e){Zd||(Zd=new Map);const n=e.type||e;let r=Zd.get(this);r||(r=new Map,Zd.set(this,r));const i=r.get(n);r.delete(n),se.clearTimeout(i);const s=se.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,Zd.delete(this)),this.trigger(e)},0);r.set(n,s)}}bi.prototype.allowedEvents_={},bi.prototype.addEventListener=bi.prototype.on,bi.prototype.removeEventListener=bi.prototype.off,bi.prototype.dispatchEvent=bi.prototype.trigger;const Cm=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,pa=t=>t instanceof bi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),Cq=(t,e)=>{pa(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},n2=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,wm=(t,e,n)=>{if(!t||!t.nodeName&&!pa(t))throw new Error(`Invalid target for ${Cm(e)}#${n}; must be a DOM node or evented object.`)},mk=(t,e,n)=>{if(!n2(t))throw new Error(`Invalid event type for ${Cm(e)}#${n}; must be a non-empty string or array.`)},gk=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${Cm(e)}#${n}; must be a function.`)},r2=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,a;return r?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(i=e[0],s=e[1],a=e[2]),wm(i,t,n),mk(s,t,n),gk(a,t,n),a=cn(t,a),{isTargetingSelf:r,target:i,type:s,listener:a}},Jo=(t,e,n,r)=>{wm(t,t,e),t.nodeName?Aq[e](t,n,r):t[e](n,r)},wq={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=r2(this,t,"on");if(Jo(n,"on",r,i),!e){const s=()=>this.off(n,r,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,Jo(this,"on","dispose",s),Jo(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=r2(this,t,"one");if(e)Jo(n,"one",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,Jo(n,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=r2(this,t,"any");if(e)Jo(n,"any",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,Jo(n,"any",r,s)}},off(t,e,n){if(!t||n2(t))_r(this.eventBusEl_,t,e);else{const r=t,i=e;wm(r,this,"off"),mk(i,this,"off"),gk(n,this,"off"),n=cn(this,n),this.off("dispose",n),r.nodeName?(_r(r,i,n),_r(r,"dispose",n)):pa(r)&&(r.off(i,n),r.off("dispose",n))}},trigger(t,e){wm(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!n2(n))throw new Error(`Invalid event type for ${Cm(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Du(this.eventBusEl_,t,e)}};function i2(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=vt("span",{className:"vjs-event-bus"});return Object.assign(t,wq),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Rr.has(r)&&Rr.delete(r)}),se.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const Sq={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Tu(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&pa(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function bk(t,e){return Object.assign(t,Sq),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&pa(t)&&t.on("statechanged",t.handleStateChanged),t}const Jd=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Sn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},vk=function(t,e){return Sn(t)===Sn(e)};var kq=Object.freeze({__proto__:null,toLowerCase:Jd,toTitleCase:Sn,titleCaseEquals:vk});class Ne{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=on({},this.options_),n=this.options_=on(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Di()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),n.evented!==!1&&(i2(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),bk(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,n){}off(e,n){}one(e,n){}any(e,n){}trigger(e,n){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=on(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return vt(e,n,r)}localize(e,n,r=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],o=i&&i.split("-")[0],l=s&&s[o];let d=r;return a&&a[e]?d=a[e]:l&&l[e]&&(d=l[e]),n&&(d=d.replace(/\{(\d+)\}/g,function(f,c){const h=n[c-1];let p=h;return typeof h>"u"&&(p=f),p})),d}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,i)=>r.concat(i),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",i=vt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=We.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=We.createElementNS(r,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?n.replaceChild(i,n.querySelector(".vjs-icon-placeholder")):n.appendChild(i),this.iconIsSet_=!0,i}addChild(e,n={},r=this.children_.length){let i,s;if(typeof e=="string"){s=Sn(e);const a=n.componentClass||s;n.name=s;const o=Ne.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;i=new o(this.player_||this,n)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&Sn(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[Jd(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:wu(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Sn(e.name())]=null,this.childNameIndex_[Jd(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=a=>{const o=a.name;let l=a.opts;if(n[o]!==void 0&&(l=n[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const d=this.addChild(o,l);d&&(this[o]=d)};let i;const s=Ne.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Ne.getComponent(a.opts.componentClass||Sn(a.name));return o&&!s.isTech(o)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Ja(e,n||this.contentEl())}$$(e,n){return ok(e,n||this.contentEl())}hasClass(e){return Qd(this.el_,e)}addClass(...e){Zo(this.el_,...e)}removeClass(...e){vm(this.el_,...e)}toggleClass(e,n){$4(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return tk(this.el_,e)}setAttribute(e,n){Su(this.el_,e,n)}removeAttribute(e){ym(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+Sn(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Iu(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${Sn(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,i=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=se.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const l=o.touches[0].pageX-n.pageX,d=o.touches[0].pageY-n.pageY;Math.sqrt(l*l+d*d)>r&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&se.performance.now()-e<i&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=cn(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(i){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=cn(this,e),this.clearTimersOnDispose_(),r=se.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),se.clearTimeout(e)),e}setInterval(e,n){e=cn(this,e),this.clearTimersOnDispose_();const r=se.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),se.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=cn(this,e),n=se.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),n=cn(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),se.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,i)=>this[n](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(s){const a=se.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function r(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||se.getComputedStyle(s).height==="0px"||se.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(We.documentElement.clientWidth||se.innerWidth)||a.y<0||a.y>(We.documentElement.clientHeight||se.innerHeight))return!1;let o=We.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=Ne.getComponent("Tech"),i=r&&r.isTech(n),s=Ne===n||Ne.prototype.isPrototypeOf(n.prototype);if(i||!s){let o;throw i?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=Sn(e),Ne.components_||(Ne.components_={});const a=Ne.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(d=>o[d]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Ne.components_[e]=n,Ne.components_[Jd(e)]=n,n}static getComponent(e){if(!(!e||!Ne.components_))return Ne.components_[e]}}Ne.registerComponent("Component",Ne);function Iq(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function yk(t,e,n,r){return Iq(t,r,n.length-1),n[r][e]}function s2(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:yk.bind(null,"start",0,t),end:yk.bind(null,"end",1,t)},se.Symbol&&se.Symbol.iterator&&(e[se.Symbol.iterator]=()=>(t||[]).values()),e}function ls(t,e){return Array.isArray(t)?s2(t):t===void 0||e===void 0?s2():s2([[t,e]])}const _k=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n};let a2=_k;function Tk(t){a2=t}function Ek(){a2=_k}function qo(t,e=t){return a2(t,e)}var Dq=Object.freeze({__proto__:null,createTimeRanges:ls,createTimeRange:ls,setFormatTime:Tk,resetFormatTime:Ek,formatTime:qo});function Ak(t,e){let n=0,r,i;if(!e)return 0;(!t||!t.length)&&(t=ls(0,0));for(let s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e}function An(t){if(t instanceof An)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Os(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=An.defaultMessages[this.code]||"")}An.prototype.code=0,An.prototype.message="",An.prototype.status=null,An.prototype.metadata=null,An.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],An.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},An.MEDIA_ERR_CUSTOM=0,An.prototype.MEDIA_ERR_CUSTOM=0,An.MEDIA_ERR_ABORTED=1,An.prototype.MEDIA_ERR_ABORTED=1,An.MEDIA_ERR_NETWORK=2,An.prototype.MEDIA_ERR_NETWORK=2,An.MEDIA_ERR_DECODE=3,An.prototype.MEDIA_ERR_DECODE=3,An.MEDIA_ERR_SRC_NOT_SUPPORTED=4,An.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,An.MEDIA_ERR_ENCRYPTED=5,An.prototype.MEDIA_ERR_ENCRYPTED=5;function qd(t){return t!=null&&typeof t.then=="function"}function Ps(t){qd(t)&&t.then(null,e=>{})}const o2=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,r,i)=>(t[r]&&(n[r]=t[r]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})};var xk={textTracksToJson:function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=o2(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return n.indexOf(i)===-1}).map(o2))},jsonToTextTracks:function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(i=>r.addCue(i))}),e.textTracks()},trackToJson_:o2};const l2="vjs-modal-dialog";class Nu extends Ne{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=vt("div",{className:`${l2}-content`},{role:"document"}),this.descEl_=vt("p",{className:`${l2}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Xa(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${l2} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,i=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),ak(n,e),this.trigger("modalfill"),i?r.insertBefore(n,i):r.appendChild(n);const s=this.getChild("closeButton");s&&r.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),Tm(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=We.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let i;for(let s=0;s<n.length;s++)if(r===n[s]){i=s;break}We.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof se.HTMLAnchorElement||n instanceof se.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof se.HTMLInputElement||n instanceof se.HTMLSelectElement||n instanceof se.HTMLTextAreaElement||n instanceof se.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof se.HTMLIFrameElement||n instanceof se.HTMLObjectElement||n instanceof se.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}Nu.prototype.options_={pauseOnOpen:!0,temporary:!0},Ne.registerComponent("ModalDialog",Nu);class Mu extends bi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},pa(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}Mu.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Mu.prototype.allowedEvents_)Mu.prototype["on"+t]=null;const u2=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class Nq extends Mu{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){u2(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&u2(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,u2(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const c2=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class Mq extends Mu{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){c2(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&c2(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,c2(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Ck extends Mu{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Oq{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Sm{constructor(e){Sm.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<i)for(r=n;r<i;r++)s.call(this,r)}getCueById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}const Lq={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Rq={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Bq={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},wk={disabled:"disabled",hidden:"hidden",showing:"showing"};class d2 extends bi{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Di(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const i in n)Object.defineProperty(this,i,{get(){return n[i]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(i){i!==r&&(r=i,this.trigger("labelchange"))}})}}const f2=function(t){return new URL(t,We.baseURI)},Sk=function(t){return new URL(t,We.baseURI).href},h2=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},km=function(t,e=se.location){return f2(t).origin!==e.origin};var Pq=Object.freeze({__proto__:null,parseUrl:f2,getAbsoluteURL:Sk,getFileExtension:h2,isCrossOrigin:km});const kk=function(t,e){const n=new se.WebVTT.Parser(se,se.vttjs,se.WebVTT.StringDecoder()),r=[];n.oncue=function(i){e.addCue(i)},n.onparsingerror=function(i){r.push(i)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(se.console&&se.console.groupCollapsed&&se.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(i=>Lt.error(i)),se.console&&se.console.groupEnd&&se.console.groupEnd()),n.flush()},Ik=function(t,e){const n={uri:t},r=km(t);r&&(n.cors=r);const i=e.tech_.crossOrigin()==="use-credentials";i&&(n.withCredentials=i),uS(n,cn(this,function(s,a,o){if(s)return Lt.error(s,a);e.loaded_=!0,typeof se.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Lt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return kk(o,e)}):kk(o,e)}))};class $d extends d2{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=on(e,{kind:Bq[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=wk[n.mode]||"disabled";const i=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Sm(this.cues_),a=new Sm(this.activeCues_);let o=!1;this.timeupdateHandler=cn(this,function(d={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return r},set(d){wk[d]&&r!==d&&(r=d,!this.preload_&&r!=="disabled"&&this.cues.length===0&&Ik(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const d=this.tech_.currentTime(),f=[];for(let c=0,h=this.cues.length;c<h;c++){const p=this.cues[c];p.startTime<=d&&p.endTime>=d&&f.push(p)}if(o=!1,f.length!==this.activeCues_.length)o=!0;else for(let c=0;c<f.length;c++)this.activeCues_.indexOf(f[c])===-1&&(o=!0);return this.activeCues_=f,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&Ik(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new se.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}$d.prototype.allowedEvents_={cuechange:"cuechange"};class Dk extends d2{constructor(e={}){const n=on(e,{kind:Rq[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class Nk extends d2{constructor(e={}){const n=on(e,{kind:Lq[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class ma extends bi{constructor(e={}){super();let n;const r=new $d(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=ma.NONE,r.addEventListener("loadeddata",()=>{n=ma.LOADED,this.trigger({type:"load",target:this})})}}ma.prototype.allowedEvents_={load:"load"},ma.NONE=0,ma.LOADING=1,ma.LOADED=2,ma.ERROR=3;const Mi={audio:{ListClass:Nq,TrackClass:Dk,capitalName:"Audio"},video:{ListClass:Mq,TrackClass:Nk,capitalName:"Video"},text:{ListClass:Ck,TrackClass:$d,capitalName:"Text"}};Object.keys(Mi).forEach(function(t){Mi[t].getterName=`${t}Tracks`,Mi[t].privateName=`${t}Tracks_`});const Ou={remoteText:{ListClass:Ck,TrackClass:$d,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Oq,TrackClass:ma,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Br=Object.assign({},Mi,Ou);Ou.names=Object.keys(Ou),Mi.names=Object.keys(Mi),Br.names=[].concat(Ou.names).concat(Mi.names);function Fq(t,e,n,r,i={}){const s=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;const a=new Br.text.TrackClass(i);return s.addTrack(a),a}class wt extends Ne{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Br.names.forEach(r=>{const i=Br[r];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Br.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(cn(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return ls(0,0)}bufferedPercent(){return Ak(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Mi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let i=r.length;for(;i--;){const s=r[i];n==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new An(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?ls(0,0):ls()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Mi.names.forEach(e=>{const n=Mi[e],r=()=>{this.trigger(`${e}trackchange`)},i=this[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),this.on("dispose",()=>{i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!se.WebVTT)if(We.body.contains(this.el())){if(!this.options_["vtt.js"]&&Eu(bS)&&Object.keys(bS).length>0){this.trigger("vttjsloaded");return}const e=We.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),se.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=o=>e.addTrack(o.track),i=o=>e.removeTrack(o.track);n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return Fq(this,e,n,r)}createRemoteTextTrack(e){const n=on(e,{tech:this});return new Ou.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Di();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return wt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof wt||e instanceof wt||e===wt}static registerTech(e,n){if(wt.techs_||(wt.techs_={}),!wt.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!wt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!wt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Sn(e),wt.techs_[e]=n,wt.techs_[Jd(e)]=n,e!=="Tech"&&wt.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(wt.techs_&&wt.techs_[e])return wt.techs_[e];if(e=Sn(e),se&&se.videojs&&se.videojs[e])return Lt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),se.videojs[e]}}}Br.names.forEach(function(t){const e=Br[t];wt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),wt.prototype.featuresVolumeControl=!0,wt.prototype.featuresMuteControl=!0,wt.prototype.featuresFullscreenResize=!1,wt.prototype.featuresPlaybackRate=!1,wt.prototype.featuresProgressEvents=!1,wt.prototype.featuresSourceset=!1,wt.prototype.featuresTimeupdateEvents=!1,wt.prototype.featuresNativeTextTracks=!1,wt.prototype.featuresVideoFrameCallback=!1,wt.withSourceHandlers=function(t){t.registerSourceHandler=function(n,r){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),r===void 0&&(r=i.length),i.splice(r,0,n)},t.canPlayType=function(n){const r=t.sourceHandlers||[];let i;for(let s=0;s<r.length;s++)if(i=r[s].canPlayType(n),i)return i;return""},t.selectSourceHandler=function(n,r){const i=t.sourceHandlers||[];let s;for(let a=0;a<i.length;a++)if(s=i[a].canHandleSource(n,r),s)return i[a];return null},t.canPlaySource=function(n,r){const i=t.selectSourceHandler(n,r);return i?i.canHandleSource(n,r):""},["seekable","seeking","duration"].forEach(function(n){const r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let r=t.selectSourceHandler(n,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:Lt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ne.registerComponent("Tech",wt),wt.registerTech("Tech",wt),wt.defaultTechOrder_=[];const $o={},Im={},Dm={};function Uq(t,e){$o[t]=$o[t]||[],$o[t].push(e)}function jq(t,e,n){t.setTimeout(()=>el(e,$o[e.type],n,t),1)}function Hq(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function zq(t,e,n){return t.reduceRight(p2(n),e[n]())}function Vq(t,e,n,r){return e[n](t.reduce(p2(n),r))}function Mk(t,e,n,r=null){const i="call"+Sn(n),s=t.reduce(p2(i),r),a=s===Dm,o=a?null:e[n](s);return Yq(t,n,o,a),o}const Wq={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Gq={setCurrentTime:1,setMuted:1,setVolume:1},Ok={play:1,pause:1};function p2(t){return(e,n)=>e===Dm?Dm:n[t]?n[t](e):e}function Yq(t,e,n,r){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](r,n)}}function Qq(t){Im.hasOwnProperty(t.id())&&delete Im[t.id()]}function Kq(t,e){const n=Im[t.id()];let r=null;if(n==null)return r=e(t),Im[t.id()]=[[e,r]],r;for(let i=0;i<n.length;i++){const[s,a]=n[i];s===e&&(r=a)}return r===null&&(r=e(t),n.push([e,r])),r}function el(t={},e=[],n,r,i=[],s=!1){const[a,...o]=e;if(typeof a=="string")el(t,$o[a],n,r,i,s);else if(a){const l=Kq(r,a);if(!l.setSource)return i.push(l),el(t,o,n,r,i,s);l.setSource(Object.assign({},t),function(d,f){if(d)return el(t,o,n,r,i,s);i.push(l),el(f,t.type===f.type?o:$o[f.type],n,r,i,s)})}else o.length?el(t,o,n,r,i,s):s?n(t,i):el(t,$o["*"],n,r,i,!0)}const Xq={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Nm=function(t=""){const e=h2(t);return Xq[e.toLowerCase()]||""},Zq=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(i=>i.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let i=0;i<r.length;i++){const s=r[i];if(s.type&&s.src&&s.src===e)return s.type}return Nm(e)},Lk=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=Lk(n),Array.isArray(n)?e=e.concat(n):Os(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[Rk({src:t})]:Os(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[Rk(t)]:t=[];return t};function Rk(t){if(!t.type){const e=Nm(t.src);e&&(t.type=e)}return t}var Jq=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const Bk=mm?10009:gm?461:8,Lu={codes:{play:415,pause:19,ff:417,rw:412,back:Bk},names:{415:"play",19:"pause",417:"ff",412:"rw",[Bk]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},Pk=5;class qq extends bi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(Lu.isEventKey(n,"play")||Lu.isEventKey(n,"pause")||Lu.isEventKey(n,"ff")||Lu.isEventKey(n,"rw")){n.preventDefault();const r=Lu.getEventName(n);this.performMediaAction_(r)}else Lu.isEventKey(n,"Back")&&e.target&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+Pk);break;case"rw":this.userSeek_(this.player_.currentTime()-Pk);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let r=null;const i=this.getCurrentComponent(e.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!n)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function r(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&r(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){n.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?r(i.children_):i.hasOwnProperty("items")&&i.items.length>0?r(i.items):this.findSuitableDOMChild(i)&&n.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{n.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const d=o.getBoundingClientRect(),f={x:d.x,y:d.y,width:d.width,height:d.height,top:d.top,right:d.right,bottom:d.bottom,left:d.left},c={x:d.left+d.width/2,y:d.top+d.height/2,width:0,height:0,top:d.top+d.height/2,right:d.left+d.width/2,bottom:d.top+d.height/2,left:d.left+d.width/2};return{boundingClientRect:f,center:c}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:d=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let i=0;i<r.children.length;i++){const s=r.children[i],a=n(s);if(a)return a}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),i=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(r.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,r){let i=1/0,s=null;for(const a of n){const o=a.getPositions().center,l=this.calculateDistance_(e,o,r);l<i&&(i=l,s=a)}return s}isInDirection_(e,n,r){switch(r){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,r){const i=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);let a;switch(r){case"right":case"left":a=i+s*100;break;case"up":a=s*2+i*.5;break;case"down":a=s*5+i;break;default:a=i+s}return a}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class $q extends Ne{constructor(e,n,r){const i=on({createEl:!1},n);if(super(e,i,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=Sn(a[s]);let l=wt.getTech(o);if(o||(l=Ne.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}Ne.registerComponent("MediaLoader",$q);class Mm extends Ne{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&Lt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const i=vt(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=vt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,Xa(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ne.registerComponent("ClickableComponent",Mm);class m2 extends Mm{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return vt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(vt("picture",{className:"vjs-poster",tabIndex:-1},{},vt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ps(this.player_.play()):this.player_.pause())}}m2.prototype.crossorigin=m2.prototype.crossOrigin,Ne.registerComponent("PosterImage",m2);const Oi="#222",Fk="#ccc",e$={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function g2(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ef(t,e,n){try{t.style[e]=n}catch{return}}function Uk(t){return t?`${t}px`:""}class t$ extends Ne{constructor(e,n,r){super(e,n,r);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(cn(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=se.screen.orientation||se,o=se.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let d=0;d<l.length;d++)this.player_.addRemoteTextTrack(l[d],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let i,s,a;for(let o=0;o<n.length;o++){const l=n[o];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?a=l:a||(a=l):r&&!r.enabled?(a=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof se.WebVTT=="function"&&se.WebVTT.processCues(se,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let r=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?r=a:i=a)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!se.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(r-i)>.1&&(r>i?s=Math.round((e-n*i)/2):a=Math.round((n-e/i)/2)),ef(this.el_,"insetInline",Uk(s)),ef(this.el_,"insetBlock",Uk(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let i=r.length;for(;i--;){const s=r[i];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&ef(a.firstChild,"color",g2(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&ef(a.firstChild,"backgroundColor",g2(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?ef(a,"backgroundColor",g2(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Oi}, 2px 2px 4px ${Oi}, 2px 2px 5px ${Oi}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Oi}, 2px 2px ${Oi}, 3px 3px ${Oi}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${Fk}, 0 1px ${Fk}, -1px -1px ${Oi}, 0 -1px ${Oi}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Oi}, 0 0 4px ${Oi}, 0 0 4px ${Oi}, 0 0 4px ${Oi}`)),n.fontPercent&&n.fontPercent!==1){const o=se.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=e$[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof se.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s)n.push(i.activeCues[s])}se.WebVTT.processCues(se,n,this.el_);for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;Zo(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:r)),i.language&&Su(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}Ne.registerComponent("TextTrackDisplay",t$);class n$ extends Ne{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=vt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ne.registerComponent("LoadingSpinner",n$);class Tr extends Mm{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const i=vt(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,n={}){const r=this.constructor.name;return Lt.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),Ne.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Ne.registerComponent("Button",Tr);class jk extends Tr{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ps(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();qd(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}jk.prototype.controlText_="Play Video",Ne.registerComponent("BigPlayButton",jk);class r$ extends Tr{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ne.registerComponent("CloseButton",r$);class Hk extends Tr{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ps(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}Hk.prototype.controlText_="Play",Ne.registerComponent("PlayToggle",Hk);class Ru extends Ne{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=vt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return n.appendChild(r),this.contentEl_=vt("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=qo(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,Lt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=We.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Ru.prototype.labelText_="Time",Ru.prototype.controlText_="Time",Ne.registerComponent("TimeDisplay",Ru);class b2 extends Ru{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}b2.prototype.labelText_="Current Time",b2.prototype.controlText_="Current Time",Ne.registerComponent("CurrentTimeDisplay",b2);class v2 extends Ru{constructor(e,n){super(e,n);const r=i=>this.updateContent(i);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}v2.prototype.labelText_="Duration",v2.prototype.controlText_="Duration",Ne.registerComponent("DurationDisplay",v2);class i$ extends Ne{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}Ne.registerComponent("TimeDivider",i$);class y2 extends Ru{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(vt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}y2.prototype.labelText_="Remaining Time",y2.prototype.controlText_="Remaining Time",Ne.registerComponent("RemainingTimeDisplay",y2);class s$ extends Ne{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=vt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(vt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(We.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ne.registerComponent("LiveDisplay",s$);class zk extends Tr{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=vt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}zk.prototype.controlText_="Seek to live, currently playing live",Ne.registerComponent("SeekToLive",zk);function tf(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var a$=Object.freeze({__proto__:null,clamp:tf});class _2 extends Ne{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Rs&&e.preventDefault(),nk(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;rk(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(tf(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=_m(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,i=n&&n.horizontalSeek;r?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ne.registerComponent("Slider",_2);const T2=(t,e)=>tf(t/e*100,0,100).toFixed(2)+"%";class o$ extends Ne{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=vt("span",{className:"vjs-control-text"}),r=vt("span",{textContent:this.localize("Loaded")}),i=We.createTextNode(": ");return this.percentageEl_=vt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),i=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=T2(s,i);this.percent_!==o&&(this.el_.style.width=o,Xa(this.percentageEl_,o),this.percent_=o);for(let l=0;l<r.length;l++){const d=r.start(l),f=r.end(l);let c=a[l];c||(c=this.el_.appendChild(vt()),a[l]=c),!(c.dataset.start===d&&c.dataset.end===f)&&(c.dataset.start=d,c.dataset.end=f,c.style.left=T2(d,s),c.style.width=T2(f-d,s))}for(let l=a.length;l>r.length;l--)this.el_.removeChild(a[l-1]);a.length=r.length})}}Ne.registerComponent("LoadProgressBar",o$);class l$ extends Ne{constructor(e,n){super(e,n),this.update=Bs(cn(this,this.update),Ni)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const i=Kd(this.el_),s=ku(this.player_.el()),a=e.width*n;if(!s||!i)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let d=i.width/2;o<d?d+=d-o:l<d&&(d=l),d<0?d=0:d>i.width&&(d=i.width),d=Math.round(d),this.el_.style.right=`-${d}px`,this.write(r)}write(e){Xa(this.el_,e)}updateTime(e,n,r,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-n*o;s=(l<1?"":"-")+qo(l,o)}else s=qo(r,a);this.update(e,n,s),i&&i()})}}Ne.registerComponent("TimeTooltip",l$);class E2 extends Ne{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Bs(cn(this,this.update),Ni)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const r=this.getChild("timeTooltip");if(!r)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,n,i)}}E2.prototype.options_={children:[]},!Lr&&!Ls&&E2.prototype.options_.children.push("timeTooltip"),Ne.registerComponent("PlayProgressBar",E2);class Vk extends Ne{constructor(e,n){super(e,n),this.update=Bs(cn(this,this.update),Ni)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}Vk.prototype.options_={children:["timeTooltip"]},Ne.registerComponent("MouseTimeDisplay",Vk);const Om=5,Wk=12;class A2 extends _2{constructor(e,n){super(e,n),this.setEventHandlers_()}setEventHandlers_(){this.update_=cn(this,this.update),this.update=Bs(this.update_,Ni),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in We&&"visibilityState"in We&&this.on(We,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){We.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ni))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(We.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[qo(r,s),qo(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(ku(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Xd(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Xd(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=i*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(r=a+i*s.liveWindow(),r>=o&&(r=o),r<=a&&(r=a+.1),r===1/0)return}this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ps(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Om)}stepBack(){this.userSeek_(this.player_.currentTime()-Om)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Om*Wk)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Om*Wk)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in We&&"visibilityState"in We&&this.off(We,"visibilitychange",this.toggleVisibility_),super.dispose()}}A2.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!Lr&&!Ls&&A2.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ne.registerComponent("SeekBar",A2);class Gk extends Ne{constructor(e,n){super(e,n),this.handleMouseMove=Bs(cn(this,this.handleMouseMove),Ni),this.throttledHandleMouseSeek=Bs(cn(this,this.handleMouseSeek),Ni),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay");if(!r&&!i)return;const s=n.el(),a=Kd(s);let o=_m(s,e).x;o=tf(o,0,1),i&&i.update(a,o),r&&r.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ps(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Gk.prototype.options_={children:["seekBar"]},Ne.registerComponent("ProgressControl",Gk);class Yk extends Tr{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){We.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in se?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof We.exitPictureInPicture=="function"&&super.show()}}Yk.prototype.controlText_="Picture-in-Picture",Ne.registerComponent("PictureInPictureToggle",Yk);class Qk extends Tr{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),We[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Qk.prototype.controlText_="Fullscreen",Ne.registerComponent("FullscreenToggle",Qk);const u$=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class c$ extends Ne{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ne.registerComponent("VolumeLevel",c$);class d$ extends Ne{constructor(e,n){super(e,n),this.update=Bs(cn(this,this.update),Ni)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,i){if(!r){const s=ku(this.el_),a=ku(this.player_.el()),o=e.width*n;if(!a||!s)return;const l=e.left-a.left+o,d=e.width-o+(a.right-e.right);let f=s.width/2;l<f?f+=f-l:d<f&&(f=d),f<0?f=0:f>s.width&&(f=s.width),this.el_.style.right=`-${f}px`}this.write(`${i}%`)}write(e){Xa(this.el_,e)}updateVolume(e,n,r,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,i.toFixed(0)),s&&s()})}}Ne.registerComponent("VolumeLevelTooltip",d$);class Kk extends Ne{constructor(e,n){super(e,n),this.update=Bs(cn(this,this.update),Ni)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const i=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,i,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}Kk.prototype.options_={children:["volumeLevelTooltip"]},Ne.registerComponent("MouseVolumeLevelDisplay",Kk);class Lm extends _2{constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Xd(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),i=ku(r),s=this.vertical();let a=_m(r,e);a=s?a.y:a.x,a=tf(a,0,1),n.update(i,a,s)}Xd(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Lm.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!Lr&&!Ls&&Lm.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Lm.prototype.playerEvent="volumechange",Ne.registerComponent("VolumeBar",Lm);class Xk extends Ne{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Eu(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),u$(this,e),this.throttledHandleMouseMove=Bs(cn(this,this.handleMouseMove),Ni),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}Xk.prototype.options_={children:["volumeBar"]},Ne.registerComponent("VolumeControl",Xk);const f$=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Zk extends Tr{constructor(e,n){super(e,n),f$(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Lr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),vm(this.el_,[0,1,2,3].reduce((r,i)=>r+`${i?" ":""}vjs-vol-${i}`,"")),Zo(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}Zk.prototype.controlText_="Mute",Ne.registerComponent("MuteToggle",Zk);class Jk extends Ne{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Eu(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),gi(We,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),_r(We,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}Jk.prototype.options_={children:["muteToggle","volumeControl"]},Ne.registerComponent("VolumePanel",Jk);class qk extends Tr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;n+this.skipTime<=i?s=n+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}qk.prototype.controlText_="Skip Forward",Ne.registerComponent("SkipForward",qk);class $k extends Tr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()&&r.seekableStart();let s;i&&n-this.skipTime<=i?s=i:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}$k.prototype.controlText_="Skip Backward",Ne.registerComponent("SkipBackward",$k);class eI extends Ne{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof Ne&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ne&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=vt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),gi(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||We.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(i=>i.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}Ne.registerComponent("Menu",eI);class x2 extends Ne{constructor(e,n={}){super(e,n),this.menuButton_=new Tr(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=Tr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),gi(We,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new eI(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=vt("li",{className:"vjs-menu-title",textContent:Sn(this.options_.title),tabIndex:-1}),r=new Ne(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=Tr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),_r(We,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Lr&&J4())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ne.registerComponent("MenuButton",x2);class C2 extends x2{constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const i=cn(this,this.update);r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),r.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i),r.removeEventListener("labelchange",i)})}}Ne.registerComponent("TrackButton",C2);class nf extends Mm{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),s=vt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ne.registerComponent("MenuItem",nf);class rf extends nf{constructor(e,n){const r=n.track,i=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof se.Event!="object")try{o=new se.Event("change")}catch{}o||(o=We.createEvent("Event"),o.initEvent("change",!0,!0)),i.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let i=0;i<r.length;i++){const s=r[i];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ne.registerComponent("TextTrackMenuItem",rf);class tI extends rf{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ne.registerComponent("OffTextTrackMenuItem",tI);class Bu extends C2{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=rf){let r;this.label_&&(r=`${this.label_} off`),e.push(new tI(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}Ne.registerComponent("TextTrackButton",Bu);class nI extends nf{constructor(e,n){const r=n.track,i=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=s&&s<i.endTime,super(e,n),this.track=r,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ne.registerComponent("ChaptersTrackMenuItem",nI);class w2 extends Bu{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Sn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,i=n.length;r<i;r++){const s=n[r],a=new nI(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}w2.prototype.kind_="chapters",w2.prototype.controlText_="Chapters",Ne.registerComponent("ChaptersButton",w2);class S2 extends Bu{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const i=e.textTracks(),s=cn(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}S2.prototype.kind_="descriptions",S2.prototype.controlText_="Descriptions",Ne.registerComponent("DescriptionsButton",S2);class k2 extends Bu{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}k2.prototype.kind_="subtitles",k2.prototype.controlText_="Subtitles",Ne.registerComponent("SubtitlesButton",k2);class I2 extends rf{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ne.registerComponent("CaptionSettingsMenuItem",I2);class D2 extends Bu{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new I2(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}D2.prototype.kind_="captions",D2.prototype.controlText_="Captions",Ne.registerComponent("CaptionsButton",D2);class rI extends rf{createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(vt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Ne.registerComponent("SubsCapsMenuItem",rI);class N2 extends Bu{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Sn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new I2(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,rI),e}}N2.prototype.kinds_=["captions","subtitles"],N2.prototype.controlText_="Subtitles",Ne.registerComponent("SubsCapsButton",N2);class iI extends nf{constructor(e,n){const r=n.track,i=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(vt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ne.registerComponent("AudioTrackMenuItem",iI);class sI extends C2{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];e.push(new iI(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}sI.prototype.controlText_="Audio Track",Ne.registerComponent("AudioTrackButton",sI);class M2 extends nf{constructor(e,n){const r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=i===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}M2.prototype.contentElType="button",Ne.registerComponent("PlaybackRateMenuItem",M2);class aI extends x2{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=vt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new M2(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}aI.prototype.controlText_="Playback Rate",Ne.registerComponent("PlaybackRateMenuButton",aI);class oI extends Ne{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}Ne.registerComponent("Spacer",oI);class h$ extends oI{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}Ne.registerComponent("CustomControlSpacer",h$);class lI extends Ne{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}lI.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},Ne.registerComponent("ControlBar",lI);class uI extends Nu{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}uI.prototype.options_=Object.assign({},Nu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ne.registerComponent("ErrorDisplay",uI);class cI extends Ne{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),vt("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Di()}`)+"-"+n[1].replace(/\W+/g,""),i=vt("option",{id:r,value:this.localize(n[0]),textContent:n[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),i}))}}Ne.registerComponent("TextTrackSelect",cI);class tl extends Ne{constructor(e,n={}){super(e,n);const r=vt("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const i=this.options_.selects;for(const s of i){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let d=null;const f=`vjs_select_${Di()}`;if(this.options_.type==="colors"){d=vt("span",{className:o});const h=vt("label",{id:l,className:"vjs-label",textContent:a.label});h.setAttribute("for",f),d.appendChild(h)}const c=new cI(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:f,labelId:l});this.addChild(c),this.options_.type==="colors"&&(d.appendChild(c.el()),this.el().appendChild(d))}}createEl(){return vt("fieldset",{className:this.options_.className})}}Ne.registerComponent("TextTrackFieldset",tl);class dI extends Ne{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new tl(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new tl(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new tl(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return vt("div",{className:"vjs-track-settings-colors"})}}Ne.registerComponent("TextTrackSettingsColors",dI);class fI extends Ne{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new tl(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new tl(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new tl(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return vt("div",{className:"vjs-track-settings-font"})}}Ne.registerComponent("TextTrackSettingsFont",fI);class hI extends Ne{constructor(e,n={}){super(e,n);const r=this.localize("restore all settings to the default values"),i=new Tr(e,{controlText:r,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new Tr(e,{controlText:r,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return vt("div",{className:"vjs-track-settings-controls"})}}Ne.registerComponent("TrackSettingsControls",hI);const O2="vjs-text-track-settings",pI=["#000","Black"],mI=["#00F","Blue"],gI=["#0FF","Cyan"],bI=["#0F0","Green"],vI=["#F0F","Magenta"],yI=["#F00","Red"],_I=["#FFF","White"],TI=["#FF0","Yellow"],L2=["1","Opaque"],R2=["0.5","Semi-Transparent"],EI=["0","Transparent"],qa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[pI,_I,yI,bI,mI,TI,vI,gI],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[L2,R2,EI],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_I,pI,yI,bI,mI,TI,vI,gI],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[L2,R2],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[EI,R2,L2],className:"vjs-window-opacity vjs-opacity"}};qa.windowColor.options=qa.backgroundColor.options;function AI(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function p$(t,e){const n=t.options[t.options.selectedIndex].value;return AI(n,e)}function m$(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(AI(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class g$ extends Nu{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=vt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new dI(e,{textTrackComponentid:this.id_,selectConfigs:qa,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new fI(e,{textTrackComponentid:this.id_,selectConfigs:qa,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const i=new hI(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Tu(qa,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return V4(qa,(e,n,r)=>{const i=p$(this.$(n.selector),n.parser);return i!==void 0&&(e[r]=i),e},{})}setValues(e){Tu(qa,(n,r)=>{m$(this.$(n.selector),e[r],n.parser)})}setDefaults(){Tu(qa,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(se.localStorage.getItem(O2))}catch(n){Lt.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?se.localStorage.setItem(O2,JSON.stringify(e)):se.localStorage.removeItem(O2)}catch(n){Lt.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Ne.registerComponent("TextTrackSettings",g$);class b$ extends Ne{constructor(e,n){let r=n.ResizeObserver||se.ResizeObserver;n.ResizeObserver===null&&(r=!1);const i=on({createEl:!r,reportTouchActivity:!1},n);super(e,i),this.ResizeObserver=n.ResizeObserver||se.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=pk(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){_r(this,"resize",s),_r(this,"unload",a),a=null};gi(this.el_.contentWindow,"unload",a),gi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ne.registerComponent("ResizeManager",b$);const v$={trackingThreshold:20,liveTolerance:15};class y$ extends Ne{constructor(e,n){const r=on(v$,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(se.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ni),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ne.registerComponent("LiveTracker",y$);class _$ extends Ne{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:vt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Di()}`}),description:vt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Di()}`})},vt("div",{className:"vjs-title-bar"},{},W4(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],o=r[i];Tm(a),s&&Xa(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ne.registerComponent("TitleBar",_$);const T$={initialDisplay:4e3,position:[],takeFocus:!1};class E$ extends Tr{constructor(e,n){n=on(T$,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=vt("button",{},{type:"button",class:this.buildCSSClass()},vt("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Ne.registerComponent("TransientButton",E$);const B2=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let i="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(i=r[0]),t.triggerSourceset(i),!0):!1},A$=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=We.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=We.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",se.Element.prototype.appendChild.call(this,n),this.innerHTML}}),xI=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},x$=t=>xI([t.el(),se.HTMLMediaElement.prototype,se.Element.prototype,A$],"innerHTML"),CI=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=x$(t),i=s=>(...a)=>{const o=s.apply(e,a);return B2(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=i(n[s]))}),Object.defineProperty(e,"innerHTML",on(r,{set:i(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},C$=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Sk(se.Element.prototype.getAttribute.call(this,"src")):""},set(t){return se.Element.prototype.setAttribute.call(this,"src",t),t}}),w$=t=>xI([t.el(),se.HTMLMediaElement.prototype,C$],"src"),S$=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=w$(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",on(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=r.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=i.call(e);return B2(t)||(t.triggerSourceset(""),CI(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):B2(t)||CI(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class et extends wt{constructor(e,n){super(e,n);const r=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&km(l.src)&&(i=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&Lt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Yd||pm)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),et.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){S$(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const i=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",i)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(i=>{this.el()[`${r}Tracks`].removeEventListener(i,this[`${r}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Mi[e],r=this.el()[n.getterName],i=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:o=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[Ou.remoteText.getterName]().trigger(l)},addtrack(o){i.addTrack(o.track)},removetrack(o){i.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<i.length;l++){let d=!1;for(let f=0;f<r.length;f++)if(r[f]===i[l]){d=!0;break}d||o.push(i[l])}for(;o.length;)i.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];r.addEventListener(o,l),this.on("dispose",d=>r.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Mi.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),et.disposeMediaElement(e),e=r}else{e=We.createElement("video");const r=this.options_.tag&&Za(this.options_.tag),i=on({},r);(!Yd||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,ek(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Su(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const i=n[r],s=this.options_[i];typeof s<"u"&&(s?Su(e,i,i):ym(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const i=function(){r=!0};this.on("loadstart",i);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&bm?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){Lt(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Ls&&Rs&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ps(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){et.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=We.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),se.performance&&(e.creationTime=se.performance.now()),e}}um(et,"TEST_VID",function(){if(!Cu())return;const t=We.createElement("video"),e=We.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}),et.isSupported=function(){try{et.TEST_VID.volume=.5}catch{return!1}return!!(et.TEST_VID&&et.TEST_VID.canPlayType)},et.canPlayType=function(t){return et.TEST_VID.canPlayType(t)},et.canPlaySource=function(t,e){return et.canPlayType(t.type)},et.canControlVolume=function(){try{const t=et.TEST_VID.volume;et.TEST_VID.volume=t/2+.1;const e=t!==et.TEST_VID.volume;return e&&Lr?(se.setTimeout(()=>{et&&et.prototype&&(et.prototype.featuresVolumeControl=t!==et.TEST_VID.volume)}),!1):e}catch{return!1}},et.canMuteVolume=function(){try{const t=et.TEST_VID.muted;return et.TEST_VID.muted=!t,et.TEST_VID.muted?Su(et.TEST_VID,"muted","muted"):ym(et.TEST_VID,"muted","muted"),t!==et.TEST_VID.muted}catch{return!1}},et.canControlPlaybackRate=function(){if(Ls&&Rs&&cm<58)return!1;try{const t=et.TEST_VID.playbackRate;return et.TEST_VID.playbackRate=t/2+.1,t!==et.TEST_VID.playbackRate}catch{return!1}},et.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(We.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(We.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(We.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(We.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},et.supportsNativeTextTracks=function(){return bm||Lr&&Rs},et.supportsNativeVideoTracks=function(){return!!(et.TEST_VID&&et.TEST_VID.videoTracks)},et.supportsNativeAudioTracks=function(){return!!(et.TEST_VID&&et.TEST_VID.audioTracks)},et.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){um(et.prototype,t,()=>et[e](),!0)}),et.prototype.featuresVolumeControl=et.canControlVolume(),et.prototype.movingMediaElementInDOM=!Lr,et.prototype.featuresFullscreenResize=!0,et.prototype.featuresProgressEvents=!0,et.prototype.featuresTimeupdateEvents=!0,et.prototype.featuresVideoFrameCallback=!!(et.TEST_VID&&et.TEST_VID.requestVideoFrameCallback),et.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}},et.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){et.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){et.prototype["set"+Sn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){et.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){et.prototype["set"+Sn(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){et.prototype[t]=function(){return this.el_[t]()}}),wt.withSourceHandlers(et),et.nativeSourceHandler={},et.nativeSourceHandler.canPlayType=function(t){try{return et.TEST_VID.canPlayType(t)}catch{return""}},et.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return et.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=h2(t.src);return et.nativeSourceHandler.canPlayType(`video/${n}`)}return""},et.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},et.nativeSourceHandler.dispose=function(){},et.registerSourceHandler(et.nativeSourceHandler),wt.registerTech("Html5",et);const wI=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],P2={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},F2=["tiny","xsmall","small","medium","large","xlarge","huge"],Rm={};F2.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Rm[t]=`vjs-layout-${e}`});const k$={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class pn extends Ne{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${Di()}`,n=Object.assign(pn.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=H4(this.id_),this.fsApi_=om,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Za(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=pn.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),i2(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(gi(We,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=on(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const o=new se.DOMParser().parseFromString(Jq,"image/svg+xml");if(o.querySelector("parsererror"))Lt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const d=o.documentElement;d.style.display="none",this.el_.appendChild(d),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new qq(this),this.addClass("vjs-spatial-navigation-enabled")),Yd&&this.addClass("vjs-touch-enabled"),Lr||this.addClass("vjs-workinghover"),pn.players[this.id_]=this;const s=Wv.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),_r(We,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),_r(We,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),pn.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Qq(this),Br.names.forEach(e=>{const n=Br[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:i||(n=this.el_=super.createEl("div"));const s=Za(e);if(i){for(n=this.el_=e,e=this.tag=We.createElement("video");n.children.length;)e.appendChild(n.firstChild);Qd(n,"video-js")||Zo(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",Rs&&fm&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||n.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>X4[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),se.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=dk("vjs-styles-dimensions");const l=Ja(".vjs-styles-defaults"),d=Ja("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const d=o.item(l);Zo(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),Xv(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Lt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const i=parseFloat(n);if(isNaN(i)){Lt.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,pa(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Cq(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(se.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(o>=0&&(d.width=o),l>=0&&(d.height=l));return}let e,n,r,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),fk(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${n}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=Sn(e),i=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(wt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Br.names.forEach(l=>{const d=Br[l];a[d.getterName]=this[d.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=wt.getTech(e);if(!o)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(cn(this,this.handleTechReady_),!0),xk.jsonToTextTracks(this.textTracksJson_||[],this.tech_),wI.forEach(l=>{this.on(this.tech_,l,d=>this[`handleTech${Sn(l)}_`](d))}),Object.keys(P2).forEach(l=>{this.on(this.tech_,l,d=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${P2[l]}_`].bind(this),event:d});return}this[`handleTech${P2[l]}_`](d)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,d)=>this.handleTechFullscreenChange_(l,d)),this.on(this.tech_,"fullscreenerror",(l,d)=>this.handleTechFullscreenError_(l,d)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&Xv(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Br.names.forEach(e=>{const n=Br[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=xk.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Lt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Wv}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(qd(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),qd(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!qd(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=Zq(this,n)),this.cache_.source=on({},e,{src:n,type:r});const i=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const d=Za(a[l]);s.push(d),d.src&&d.src===n&&o.push(d.src)}o.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=()=>{}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ps(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let i=We[this.fsApi_.fullscreenElement]===r;!i&&r.matches&&(i=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in Gq)return Vq(this.middleware_,this.tech_,e,n);if(e in Ok)return Mk(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw Lt(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Wq)return zq(this.middleware_,this.tech_,e);if(e in Ok)return Mk(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(Lt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(Lt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(Lt(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ps){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(bm||Lr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||ls(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=ls(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=ls(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Ak(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,i)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),r()}function o(d,f){s(),i(f)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(r,i))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),n()}function a(l,d){i(),r(d)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=We[this.fsApi_.exitFullscreen]();return e&&Ps(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=We.documentElement.style.overflow,gi(We,"keydown",this.boundFullWindowOnEscKey_),We.documentElement.style.overflow="hidden",Zo(We.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,_r(We,"keydown",this.boundFullWindowOnEscKey_),We.documentElement.style.overflow=this.docOrigOverflow,vm(We.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&se.documentPictureInPicture){const e=We.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(vt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),se.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(lk(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const i=r.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in We&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(se.documentPictureInPicture&&se.documentPictureInPicture.window)return se.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in We)return We.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:i=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=Ne.getComponent("FullscreenToggle");We[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ne.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ne.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,i=this.options_.techOrder;r<i.length;r++){const s=i[r];let a=wt.getTech(s);if(a||(a=Ne.getComponent(s)),!a){Lt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,wt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(Lt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(o,l,d){let f;return o.some(c=>l.some(h=>{if(f=d(c,h),f)return!0})),f};let i;const s=o=>(l,d)=>o(d,l),a=([o,l],d)=>{if(l.canPlaySource(d,this.options_[o.toLowerCase()]))return{source:d,tech:o}};return this.options_.sourceOrder?i=r(e,n,s(a)):i=r(n,e,a),i||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=Lk(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),jq(this,r[0],(i,s)=>{if(this.middleware_=s,n||(this.cache_.sources=r),this.updateSourceCaches_(i),this.src_(i)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Hq(s,this.tech_)}),r.length>1){const i=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?vk(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ps(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),pa(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),n&&n.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Qa("beforeerror").forEach(n=>{const r=n(this,e);if(!(Os(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new An(e),this.addClass("vjs-error"),Lt.error(`(CODE:${this.error_.code} ${An.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Qa("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const i=cn(this,this.reportUserActivity),s=function(c){(c.screenX!==n||c.screenY!==r)&&(n=c.screenX,r=c.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(c){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Lr&&!Ls&&(l.on("mouseenter",function(c){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(c){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let d;const f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);const c=this.options_.inactivityTimeout;c<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},c))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(i=>{i!==n&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),pa(this)&&this.trigger("languagechange"))}languages(){return on(pn.prototype.options_.languages,this.languages_)}toJSON(){const e=on(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let i=n[r];i=on(i),i.player=void 0,e.tracks[r]=i}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new Nu(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<F2.length;r++){const i=F2[r],s=this.breakpoints_[i];if(n<=s){if(e===i)return;e&&this.removeClass(Rm[e]),this.addClass(Rm[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},k$,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Rm[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=on(e);const{artist:i,artwork:s,description:a,poster:o,src:l,textTracks:d,title:f}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:Nm(o)}]),r&&this.crossOrigin(r),l&&this.src(l),o&&this.poster(o),Array.isArray(d)&&d.forEach(c=>this.addRemoteTextTrack(c,!1)),this.titleBar&&this.titleBar.update({title:f,description:a||i||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:n,textTracks:r};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:Nm(i.poster)}]),i}return on(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=Za(e),i=r["data-setup"];if(Qd(e,"vjs-fill")&&(r.fill=!0),Qd(e,"vjs-fluid")&&(r.fluid=!0),i!==null){const[s,a]=sX(i||"{}");s&&Lt.error(s),Object.assign(r,a)}if(Object.assign(n,r),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],d=l.nodeName.toLowerCase();d==="source"?n.sources.push(Za(l)):d==="track"&&n.tracks.push(Za(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Br.names.forEach(function(t){const e=Br[t];pn.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),pn.prototype.crossorigin=pn.prototype.crossOrigin,pn.players={};const sf=se.navigator;pn.prototype.options_={techOrder:wt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:sf&&(sf.languages&&sf.languages[0]||sf.userLanguage||sf.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1},wI.forEach(function(t){pn.prototype[`handleTech${Sn(t)}_`]=function(){return this.trigger(t)}}),Ne.registerComponent("Player",pn);const Bm="plugin",Pu="activePlugins_",Fu={},Pm=t=>Fu.hasOwnProperty(t),Fm=t=>Pm(t)?Fu[t]:void 0,SI=(t,e)=>{t[Pu]=t[Pu]||{},t[Pu][e]=!0},Um=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},I$=function(t,e){const n=function(){Um(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return SI(this,t),Um(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},kI=(t,e)=>(e.prototype.name=t,function(...n){Um(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,Um(this,r.getEventHash()),r});class ni{constructor(e){if(this.constructor===ni)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),i2(this),delete this.trigger,bk(this,this.constructor.defaultState),SI(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return Du(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Pu][e]=!1,this.player=this.state=null,n[e]=kI(e,Fu[e])}static isBasic(e){const n=typeof e=="string"?Fm(e):e;return typeof n=="function"&&!ni.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Pm(e))Lt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(pn.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return Fu[e]=n,e!==Bm&&(ni.isBasic(n)?pn.prototype[e]=I$(e,n):pn.prototype[e]=kI(e,n)),n}static deregisterPlugin(e){if(e===Bm)throw new Error("Cannot de-register base plugin.");Pm(e)&&(delete Fu[e],delete pn.prototype[e])}static getPlugins(e=Object.keys(Fu)){let n;return e.forEach(r=>{const i=Fm(r);i&&(n=n||{},n[r]=i)}),n}static getPluginVersion(e){const n=Fm(e);return n&&n.VERSION||""}}ni.getPlugin=Fm,ni.BASE_PLUGIN_NAME=Bm,ni.registerPlugin(Bm,ni),pn.prototype.usingPlugin=function(t){return!!this[Pu]&&this[Pu][t]===!0},pn.prototype.hasPlugin=function(t){return!!Pm(t)};function D$(t,e){let n=!1;return function(...r){return n||Lt.warn(t),n=!0,e.apply(this,r)}}function us(t,e,n,r){return D$(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var N$={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const II=t=>t.indexOf("#")===0?t.slice(1):t;function xe(t,e,n){let r=xe.getPlayer(t);if(r)return e&&Lt.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const i=typeof t=="string"?Ja("#"+II(t)):t;if(!wu(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in i?i.getRootNode()instanceof se.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!a.contains(i))&&Lt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Qa("beforesetup").forEach(l=>{const d=l(i,on(e));if(!Os(d)||Array.isArray(d)){Lt.error("please return an object in beforesetup hooks");return}e=on(e,d)});const o=Ne.getComponent("Player");return r=new o(i,e,n),Qa("setup").forEach(l=>l(r)),r}if(xe.hooks_=ha,xe.hooks=Qa,xe.hook=fq,xe.hookOnce=hq,xe.removeHook=U4,se.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Cu()){let t=Ja(".vjs-styles-defaults");if(!t){t=dk("vjs-styles-defaults");const e=Ja("head");e&&e.insertBefore(t,e.firstChild),fk(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}qv(1,xe),xe.VERSION=Wv,xe.options=pn.prototype.options_,xe.getPlayers=()=>pn.players,xe.getPlayer=t=>{const e=pn.players;let n;if(typeof t=="string"){const r=II(t),i=e[r];if(i)return i;n=Ja("#"+r)}else n=t;if(wu(n)){const{player:r,playerId:i}=n;if(r||e[i])return r||e[i]}},xe.getAllPlayers=()=>Object.keys(pn.players).map(t=>pn.players[t]).filter(Boolean),xe.players=pn.players,xe.getComponent=Ne.getComponent,xe.registerComponent=(t,e)=>(wt.isTech(e)&&Lt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Ne.registerComponent.call(Ne,t,e)),xe.getTech=wt.getTech,xe.registerTech=wt.registerTech,xe.use=Uq,Object.defineProperty(xe,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(xe.middleware,"TERMINATOR",{value:Dm,writeable:!1,enumerable:!0}),xe.browser=X4,xe.obj=gq,xe.mergeOptions=us(9,"videojs.mergeOptions","videojs.obj.merge",on),xe.defineLazyProperty=us(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",um),xe.bind=us(9,"videojs.bind","native Function.prototype.bind",cn),xe.registerPlugin=ni.registerPlugin,xe.deregisterPlugin=ni.deregisterPlugin,xe.plugin=(t,e)=>(Lt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ni.registerPlugin(t,e)),xe.getPlugins=ni.getPlugins,xe.getPlugin=ni.getPlugin,xe.getPluginVersion=ni.getPluginVersion,xe.addLanguage=function(t,e){return t=(""+t).toLowerCase(),xe.options.languages=on(xe.options.languages,{[t]:e}),xe.options.languages[t]},xe.log=Lt,xe.createLogger=H4,xe.time=Dq,xe.createTimeRange=us(9,"videojs.createTimeRange","videojs.time.createTimeRanges",ls),xe.createTimeRanges=us(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",ls),xe.formatTime=us(9,"videojs.formatTime","videojs.time.formatTime",qo),xe.setFormatTime=us(9,"videojs.setFormatTime","videojs.time.setFormatTime",Tk),xe.resetFormatTime=us(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Ek),xe.parseUrl=us(9,"videojs.parseUrl","videojs.url.parseUrl",f2),xe.isCrossOrigin=us(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",km),xe.EventTarget=bi,xe.any=t2,xe.on=gi,xe.one=xm,xe.off=_r,xe.trigger=Du,xe.xhr=uS,xe.TextTrack=$d,xe.AudioTrack=Dk,xe.VideoTrack=Nk,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{xe[t]=function(){return Lt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),uk[t].apply(null,arguments)}}),xe.computedStyle=us(9,"videojs.computedStyle","videojs.dom.computedStyle",Iu),xe.dom=uk,xe.fn=xq,xe.num=a$,xe.str=kq,xe.url=Pq,xe.Error=N$;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class M${constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class jm extends xe.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new M$(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const i=this[n];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}jm.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in jm.prototype.allowedEvents_)jm.prototype["on"+t]=null;var DI="4.1.0";const O$=function(t,e){const n=t.qualityLevels,r=new jm,i=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>r,t.qualityLevels.VERSION=DI,r},NI=function(t){return O$(this,xe.obj.merge({},t))};xe.registerPlugin("qualityLevels",NI),NI.VERSION=DI;/*! @name @videojs/http-streaming @version 3.13.2 @license Apache-2.0 */const ri=Gp,Hm=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Li=t=>xe.log.debug?xe.log.debug.bind(xe,"VHS:",`${t} >`):function(){};function Zt(...t){const e=xe.obj||xe;return(e.merge||e.mergeOptions).apply(e,t)}function fr(...t){const e=xe.time||xe;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function L$(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),i=t.end(n);e+=`${r} --> ${i}. Duration (${i-r})
`}return e}const Fs=1/30,Us=Fs*3,MI=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return fr(n)},Uu=function(t,e){return MI(t,function(n,r){return n-Us<=e&&r+Us>=e})},zm=function(t,e){return MI(t,function(n){return n-Fs>=e})},R$=function(t){if(t.length<2)return fr();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),i=t.start(n);e.push([r,i])}return fr(e)},B$=function(t,e){let n=null,r=null,i=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return fr();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,d){return l.time-d.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(n=s[o].time)):s[o].type==="end"&&(i--,i===1&&(r=s[o].time)),n!==null&&r!==null&&(a.push([n,r]),n=null,r=null);return fr(a)},OI=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},P$=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},nl=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},F$=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},U2=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},j2=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const i=t.start(r),s=t.end(r);if(!(e>s)){if(e>i&&e<=s){n+=s-e;continue}n+=s-i}}return n},H2=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},z2=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:r,partIndex:s,part:i,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),LI=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},RI=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},BI=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=LI(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},U$=function(t,e){let n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],typeof i.end<"u")return{result:n+i.end,precise:!0};if(n+=H2(t,i),typeof i.start<"u")return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},j$=function(t,e){let n=0,r,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(r=t.segments[i],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=H2(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},PI=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=U$(t,e);if(r.precise)return r.result;const i=j$(t,e);return i.precise?i.result:r.result+n},FI=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return se.Infinity}return PI(t,e,n)},af=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let i=0;if(n>r&&([n,r]=[r,n]),n<0){for(let s=n;s<Math.min(0,r);s++)i+=t;n=0}for(let s=n;s<r;s++)i+=e[s].duration;return i},UI=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return FI(t);if(e===null)return null;e=e||0;let i=PI(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:BI(null,t),i-=r),Math.max(0,i)},H$=function(t,e,n){const i=e||0;let s=UI(t,e,!0,n);return s===null?fr():(s<i&&(s=i),fr(i,s))},z$=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:i,exactManifestTimings:s}){let a=e-i;const o=z2(t);let l=0;for(let d=0;d<o.length;d++){const f=o[d];if(n===f.segmentIndex&&!(typeof r=="number"&&typeof f.partIndex=="number"&&r!==f.partIndex)){l=d;break}}if(a<0){if(l>0)for(let d=l-1;d>=0;d--){const f=o[d];if(a+=f.duration,s){if(a<0)continue}else if(a+Fs<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i-af({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:d})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let d=l;d<0;d++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let d=l;d<o.length;d++){const f=o[d];a-=f.duration;const c=f.duration>Fs,h=a===0,p=c&&a+Fs>=0;if(!((h||p)&&d!==o.length-1)){if(s){if(a>0)continue}else if(a-Fs>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i+af({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:d})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},jI=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},V2=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Vm=function(t){const e=jI(t);return!t.disabled&&!e},V$=function(t){return t.disabled},W$=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},HI=function(t,e){return e.attributes&&e.attributes[t]},G$=function(t,e,n,r=0){return HI("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},W2=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>Vm(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},G2=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),zI=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const i in n){for(const s in n[i])if(r=e(n[i][s]),r)break;if(r)break}return!!r},of=t=>{if(!t||!t.playlists||!t.playlists.length)return zI(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(s=>AS(s))||zI(t,s=>G2(n,s))))return!1}return!0};var ii={liveEdgeDelay:BI,duration:FI,seekable:H$,getMediaInfoForTime:z$,isEnabled:Vm,isDisabled:V$,isExcluded:jI,isIncompatible:V2,playlistEnd:UI,isAes:W$,hasAttribute:HI,estimateSegmentRequestTime:G$,isLowestEnabledRendition:W2,isAudioOnly:of,playlistMatch:G2,segmentDurationWithParts:H2};const{log:VI}=xe,ju=(t,e)=>`${t}-${e}`,WI=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,Y$=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:i=[],llhls:s})=>{const a=new uZ;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(d=>a.addParser(d)),i.forEach(d=>a.addTagMapper(d)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(d){o.hasOwnProperty(d)&&delete o[d]}),o.segments&&o.segments.forEach(function(d){["parts","preloadHints"].forEach(function(f){d.hasOwnProperty(f)&&delete d[f]})})),!o.targetDuration){let d=10;o.segments&&o.segments.length&&(d=o.segments.reduce((f,c)=>Math.max(f,c.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${d}`}),o.targetDuration=d}const l=LI(o);if(l.length&&!o.partTargetDuration){const d=l.reduce((f,c)=>Math.max(f,c.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${d}`}),VI.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=d}return o},Hu=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const i in t.mediaGroups[n][r]){const s=t.mediaGroups[n][r][i];e(s,n,r,i)}})},GI=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},Q$=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];GI({playlist:n,id:ju(e,n.uri)}),n.resolvedUri=ri(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||VI.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},K$=t=>{Hu(t,e=>{e.uri&&(e.resolvedUri=ri(t.uri,e.uri))})},X$=(t,e)=>{const n=ju(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:se.location.href,resolvedUri:se.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},YI=(t,e,n=WI)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const r=of(t);Hu(t,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(r&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const d=t.playlists[l];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===a)return}i.playlists=[Bn({},i)]}i.playlists.forEach(function(l,d){const f=n(s,a,o,l),c=ju(d,f);l.uri?l.resolvedUri=l.resolvedUri||ri(t.uri,l.uri):(l.uri=d===0?f:c,l.resolvedUri=l.uri),l.id=l.id||c,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),Q$(t),K$(t)};class QI{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,i)=>{if(!this.processedDateRanges_.has(i)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const i=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&i[r.classListIndex+1]?r.endTime=i[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,i)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const KI=22,rl=({requestType:t,request:e,error:n,parseFailure:r})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=i&&!s||r;if(n&&s)a.error=Bn({},n),a.errorType=xe.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=xe.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=xe.Error.NetworkRequestTimeout;else if(o){const l=r?xe.Error.NetworkBodyParserFailed:xe.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:Z$}=xe,J$=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let i=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],a=RI(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&i--}n._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new se.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){n.hasOwnProperty(i)&&r.searchParams.set(i,n[i])}),t=r.toString()}return t},q$=(t,e)=>{if(!t)return e;const n=Zt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=Zt(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},$$=(t,e,n)=>{const r=t.slice(),i=e.slice();n=n||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=r[o+n],d=i[o];l?(a=l.map||a,s.push(q$(l,d))):(a&&!d.map&&(d.map=a),s.push(d))}return s},XI=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=ri(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=ri(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=ri(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=ri(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=ri(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=ri(e,n.uri))})},ZI=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},JI=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Y2=(t,e,n=JI)=>{const r=Zt(t,{}),i=r.playlists[e.id];if(!i||n(i,e))return null;e.segments=ZI(e);const s=Zt(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=$$(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{XI(a,s.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,Hu(t,(a,o,l,d)=>{if(a.playlists)for(let f=0;f<a.playlists.length;f++)e.id===a.playlists[f].id&&(a.playlists[f]=s)}),r},Q2=(t,e)=>{const n=t.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],s=i&&i.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},qI=(t,e,n)=>{if(!t)return;const r=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=i.attributes;r.push({id:i.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:n,renditions:r}};class zu extends Z${constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Li("PlaylistLoader");const{withCredentials:i=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=i,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new QI,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=ri(this.main.uri,e.uri);this.llhls&&(n=J$(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:i,id:s}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:rl({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{return Y$({onwarn:({message:r})=>this.logger_(`m3u8-parser warn for ${e}: ${r}`),oninfo:({message:r})=>this.logger_(`m3u8-parser info for ${e}: ${r}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(r){this.error=r,this.error.metadata={errorType:xe.Error.StreamingHlsPlaylistParserError,error:r}}}haveMetadata({playlistString:e,playlistObject:n,url:r,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:s});const a=n||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),GI({playlist:a,uri:r,id:i});const o=Y2(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Q2(this.media(),!!o)),s.parsedPlaylist=qI(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),se.clearTimeout(this.mediaUpdateTimeout),se.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new QI,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(se.clearTimeout(this.finalRenditionTimeout),n){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=se.setTimeout(this.media.bind(this,e,!1),o);return}const r=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Q2(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Hm(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=se.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=se.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=se.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:rl({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=Hm(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=qI(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,YI(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=ZI(r),r.segments.forEach(i=>{XI(i,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||se.location.href;this.main=X$(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,i=e.ID;let s=r.playlists.length;for(;s--;){const a=r.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(n){const d=this.createCloneURI_(a.resolvedUri,e),f=ju(i,d),c=this.createCloneAttributes_(i,a.attributes),h=this.createClonePlaylist_(a,f,e,c);r.playlists[s]=h,r.playlists[f]=h,r.playlists[d]=h}else r.playlists.splice(s,1);delete r.playlists[l],delete r.playlists[o]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][i])){for(const a in r.mediaGroups[s])if(a===i){for(const o in r.mediaGroups[s][a])r.mediaGroups[s][a][o].playlists.forEach((d,f)=>{const c=r.playlists[d.id],h=c.id,p=c.resolvedUri;delete r.playlists[h],delete r.playlists[p]});delete r.mediaGroups[s][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,i=r.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),a=ju(e.ID,s),o=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,a,e,o);r.playlists[i]=l,r.playlists[a]=l,r.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][n]))for(const a in i.mediaGroups[s]){if(a===r)i.mediaGroups[s][n]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][n][o]=Bn({},l);const d=i.mediaGroups[s][n][o],f=this.createCloneURI_(l.resolvedUri,e);d.resolvedUri=f,d.uri=f,d.playlists=[],l.playlists.forEach((c,h)=>{const p=i.playlists[c.id],m=WI(s,n,o),g=ju(n,m);if(p&&!i.playlists[g]){const v=this.createClonePlaylist_(p,g,e),y=v.resolvedUri;i.playlists[g]=v,i.playlists[y]=v}d.playlists[h]=this.createClonePlaylist_(c,g,e)})}}})}createClonePlaylist_(e,n,r,i){const s=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:s,uri:s,id:n};return e.segments&&(a.segments=[]),i&&(a.attributes=i),Zt(e,a)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const i=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))r.searchParams.set(s,i[s]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{n[i]&&(r[i]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes.keyId;i&&n.add(i.toLowerCase())}return n}}}const K2=function(t,e,n,r){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),r(e,t)},eee=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},tee=(t,e,n,r)=>{!t||!t.size||t.forEach(i=>{i(e,n,r)})},$I=function(){const t=function e(n,r){n=Zt({timeout:45e3},n);const i=e.beforeRequest||xe.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||xe.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||xe.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(xe.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=xe.Vhs.xhr.original===!0?xe.xhr:xe.Vhs.xhr,l=eee(s,n);s.delete(i);const d=o(l||n,function(c,h){return tee(a,d,c,h),K2(d,c,h,r)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=n.uri,d.requestType=n.requestType,d.requestTime=Date.now(),d};return t.original=!0,t},nee=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=se.BigInt(t.offset)+se.BigInt(t.length)-se.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},X2=function(t){const e={};return t.byterange&&(e.Range=nee(t.byterange)),e},ree=function(t,e){return t.start(e)+"-"+t.end(e)},iee=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},see=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},e6=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];wS(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},Wm=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},t6=function(t){return t.resolvedUri},n6=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",i,s;for(let a=0;a<e.length/n;a++)i=e.slice(a*n,a*n+n).map(iee).join(""),s=e.slice(a*n,a*n+n).map(see).join(""),r+=i+" "+s+`
`;return r};var aee=Object.freeze({__proto__:null,createTransferableMessage:e6,initSegmentId:Wm,segmentKeyId:t6,hexDump:n6,tagDump:({bytes:t})=>n6(t),textRanges:t=>{let e="",n;for(n=0;n<t.length;n++)e+=ree(t,n)+" ";return e}});const r6=.25,oee=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+n,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},lee=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,uee=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];const d=new Date(e.segments[l+1].dateTimeObject);if(n<d)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?lee(i.videoTimingInfo):i.duration+i.duration*r6,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(r=i),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:ii.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},cee=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+i.duration*r6)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},dee=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const i=n.getTime();return(r.getTime()-i)/1e3},fee=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},hee=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=cee(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const i={mediaSeconds:e},s=oee(e,r.segment);return s&&(i.programDateTime=s.toISOString()),n(null,i)},i6=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!fee(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=uee(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,d=dee(l.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});r(o.estimatedStart+d),s.one("seeked",()=>{i6({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:i,tech:s,callback:a})});return}const f=l.start+d,c=()=>a(null,s.currentTime());s.one("seeked",c),i&&s.pause(),r(f)},Z2=(t,e)=>{if(t.readyState===4)return e()},pee=(t,e,n,r)=>{let i=[],s,a=!1;const o=function(c,h,p,m){return h.abort(),a=!0,n(c,h,p,m)},l=function(c,h){if(a)return;if(c)return c.metadata=rl({requestType:r,request:h,error:c}),o(c,h,"",i);const p=h.responseText.substring(i&&i.byteLength||0,h.responseText.length);if(i=TZ(i,SS(p,!0)),s=s||Wd(i),i.length<10||s&&i.length<s+2)return Z2(h,()=>o(c,h,"",i));const m=Uv(i);return m==="ts"&&i.length<188?Z2(h,()=>o(c,h,"",i)):!m&&i.length<376?Z2(h,()=>o(c,h,"",i)):o(null,h,m,i)},f=e({uri:t,beforeSend(c){c.overrideMimeType("text/plain; charset=x-user-defined"),c.addEventListener("progress",function({total:h,loaded:p}){return K2(c,null,{statusCode:c.status},l)})}},function(c,h){return K2(f,c,h,l)});return f},{EventTarget:mee}=xe,s6=function(t,e){if(!JI(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],i=e.segments[n];if(r.uri!==i.uri)return!1;if(!r.byterange&&!i.byterange)continue;const s=r.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},gee=(t,e,n,r)=>{const i=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${i}`},bee=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:i})=>{const s=WJ(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:i});return YI(s,e,gee),s},vee=(t,e)=>{Hu(t,(n,r,i,s)=>{s in e.mediaGroups[r][i]||delete t.mediaGroups[r][i][s]})},yee=(t,e,n)=>{let r=!0,i=Zt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=nm(a.sidx);n&&n[l]&&n[l].sidx&&Ov(a,n[l].sidx,a.sidx.resolvedUri)}const o=Y2(i,a,s6);o&&(i=o,r=!1)}return Hu(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const d=s.playlists[0].id,f=Y2(i,s.playlists[0],s6);f&&(i=f,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[d],r=!1)}}),vee(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:i},_ee=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,a6=(t,e)=>{const n={};for(const r in t){const s=t[r].sidx;if(s){const a=nm(s);if(!e[a])break;const o=e[a].sidxInfo;_ee(o,s)&&(n[a]=e[a])}}return n},Tee=(t,e)=>{let r=a6(t.playlists,e);return Hu(t,(i,s,a,o)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;r=Zt(r,a6(l,e))}}),r};class J2 extends mee{constructor(e,n,r={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Li("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const i=e.sidx&&nm(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=se.setTimeout(()=>r(!1),0);return}const s=Hm(e.sidx.resolvedUri),a=(l,d)=>{if(this.requestErrored_(l,d,n))return;const f=this.mainPlaylistLoader_.sidxMapping_,{requestType:c}=d;let h;try{h=ZJ(ut(d.response).subarray(8))}catch(p){p.metadata=rl({requestType:c,request:d,parseFailure:!0}),this.requestErrored_(p,d,n);return}return f[i]={sidxInfo:e.sidx,sidx:h},Ov(e,h,e.sidx.resolvedUri),r(!0)},o="dash-sidx";this.request=pee(s,this.vhs_.xhr,(l,d,f,c)=>{if(l)return a(l,d);if(!f||f!=="mp4"){const m=f||"unknown";return a({status:d.status,message:`Unsupported ${m} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},d)}const{offset:h,length:p}=e.sidx.byterange;if(c.length>=p+h)return a(l,{response:c.subarray(h,h+p),status:d.status,uri:d.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:X2({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},se.clearTimeout(this.minimumUpdatePeriodTimeout_),se.clearTimeout(this.mediaRequest_),se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,i=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(se.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=se.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=se.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,i)=>{if(r){const{requestType:a}=i;r.metadata=rl({requestType:a,request:i,error:r})}if(this.requestErrored_(r,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Hm(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const n=GJ(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:ri(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,i)=>{if(!this.request)return;if(r){const{requestType:a}=i;return this.error.metadata=rl({requestType:a,request:i,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;n.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=bee({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:xe.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(r=yee(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:s,endList:a}=r,o=[];r.playlists.forEach(d=>{o.push({id:d.id,bandwidth:d.attributes.BANDWIDTH,resolution:d.attributes.RESOLUTION,codecs:d.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(se.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=se.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Tee(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=se.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},Q2(this.media(),!!r)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes["cenc:default_KID"];i&&n.add(i.replace(/-/g,"").toLowerCase())}return n}}}var sr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Eee=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},o6=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},Aee=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},l6=function(t){return function(){const e=Aee(t),n=o6(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},u6=function(t){return`var browserWorkerPolyFill = ${o6.toString()};
browserWorkerPolyFill(self);
`+t},c6=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},xee=u6(c6(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var b={};this.on=function(_,C){b[_]||(b[_]=[]),b[_]=b[_].concat(C)},this.off=function(_,C){var A;return b[_]?(A=b[_].indexOf(C),b[_]=b[_].slice(),b[_].splice(A,1),A>-1):!1},this.trigger=function(_){var C,A,O,R;if(C=b[_],!!C)if(arguments.length===2)for(O=C.length,A=0;A<O;++A)C[A].call(this,arguments[1]);else{for(R=[],A=arguments.length,A=1;A<arguments.length;++A)R.push(arguments[A]);for(O=C.length,A=0;A<O;++A)C[A].apply(this,R)}},this.dispose=function(){b={}}}};e.prototype.pipe=function(b){return this.on("data",function(_){b.push(_)}),this.on("done",function(_){b.flush(_)}),this.on("partialdone",function(_){b.partialFlush(_)}),this.on("endedtimeline",function(_){b.endTimeline(_)}),this.on("reset",function(_){b.reset(_)}),b},e.prototype.push=function(b){this.trigger("data",b)},e.prototype.flush=function(b){this.trigger("done",b)},e.prototype.partialFlush=function(b){this.trigger("partialdone",b)},e.prototype.endTimeline=function(b){this.trigger("endedtimeline",b)},e.prototype.reset=function(b){this.trigger("reset",b)};var n=e,r=Math.pow(2,32),i=function(b){var _=new DataView(b.buffer,b.byteOffset,b.byteLength),C;return _.getBigUint64?(C=_.getBigUint64(0),C<Number.MAX_SAFE_INTEGER?Number(C):C):_.getUint32(0)*r+_.getUint32(4)},s={getUint64:i,MAX_UINT32:r},a=s.MAX_UINT32,o,l,d,f,c,h,p,m,g,v,y,x,w,I,k,S,B,M,D,L,z,U,F,H,K,P,W,ie,Q,N,E,j,G,X,Z,ce;(function(){var b;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(b in F)F.hasOwnProperty(b)&&(F[b]=[b.charCodeAt(0),b.charCodeAt(1),b.charCodeAt(2),b.charCodeAt(3)]);H=new Uint8Array([105,115,111,109]),P=new Uint8Array([97,118,99,49]),K=new Uint8Array([0,0,0,1]),W=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ie=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Q={video:W,audio:ie},j=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0]),G=new Uint8Array([0,0,0,0,0,0,0,0]),X=G,Z=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ce=G,N=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(b){var _=[],C=0,A,O,R;for(A=1;A<arguments.length;A++)_.push(arguments[A]);for(A=_.length;A--;)C+=_[A].byteLength;for(O=new Uint8Array(C+8),R=new DataView(O.buffer,O.byteOffset,O.byteLength),R.setUint32(0,O.byteLength),O.set(b,4),A=0,C=8;A<_.length;A++)O.set(_[A],C),C+=_[A].byteLength;return O},l=function(){return o(F.dinf,o(F.dref,j))},d=function(b){return o(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,b.audioobjecttype<<3|b.samplingfrequencyindex>>>1,b.samplingfrequencyindex<<7|b.channelcount<<3,6,1,2]))},f=function(){return o(F.ftyp,H,K,H,P)},S=function(b){return o(F.hdlr,Q[b])},c=function(b){return o(F.mdat,b)},k=function(b){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,b.duration>>>24&255,b.duration>>>16&255,b.duration>>>8&255,b.duration&255,85,196,0,0]);return b.samplerate&&(_[12]=b.samplerate>>>24&255,_[13]=b.samplerate>>>16&255,_[14]=b.samplerate>>>8&255,_[15]=b.samplerate&255),o(F.mdhd,_)},I=function(b){return o(F.mdia,k(b),S(b.type),p(b))},h=function(b){return o(F.mfhd,new Uint8Array([0,0,0,0,(b&4278190080)>>24,(b&16711680)>>16,(b&65280)>>8,b&255]))},p=function(b){return o(F.minf,b.type==="video"?o(F.vmhd,N):o(F.smhd,E),l(),M(b))},m=function(b,_){for(var C=[],A=_.length;A--;)C[A]=L(_[A]);return o.apply(null,[F.moof,h(b)].concat(C))},g=function(b){for(var _=b.length,C=[];_--;)C[_]=x(b[_]);return o.apply(null,[F.moov,y(4294967295)].concat(C).concat(v(b)))},v=function(b){for(var _=b.length,C=[];_--;)C[_]=z(b[_]);return o.apply(null,[F.mvex].concat(C))},y=function(b){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(b&4278190080)>>24,(b&16711680)>>16,(b&65280)>>8,b&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(F.mvhd,_)},B=function(b){var _=b.samples||[],C=new Uint8Array(4+_.length),A,O;for(O=0;O<_.length;O++)A=_[O].flags,C[O+4]=A.dependsOn<<4|A.isDependedOn<<2|A.hasRedundancy;return o(F.sdtp,C)},M=function(b){return o(F.stbl,D(b),o(F.stts,ce),o(F.stsc,X),o(F.stsz,Z),o(F.stco,G))},function(){var b,_;D=function(C){return o(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),C.type==="video"?b(C):_(C))},b=function(C){var A=C.sps||[],O=C.pps||[],R=[],q=[],ee,ne;for(ee=0;ee<A.length;ee++)R.push((A[ee].byteLength&65280)>>>8),R.push(A[ee].byteLength&255),R=R.concat(Array.prototype.slice.call(A[ee]));for(ee=0;ee<O.length;ee++)q.push((O[ee].byteLength&65280)>>>8),q.push(O[ee].byteLength&255),q=q.concat(Array.prototype.slice.call(O[ee]));if(ne=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(C.width&65280)>>8,C.width&255,(C.height&65280)>>8,C.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(F.avcC,new Uint8Array([1,C.profileIdc,C.profileCompatibility,C.levelIdc,255].concat([A.length],R,[O.length],q))),o(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],C.sarRatio){var oe=C.sarRatio[0],ve=C.sarRatio[1];ne.push(o(F.pasp,new Uint8Array([(oe&4278190080)>>24,(oe&16711680)>>16,(oe&65280)>>8,oe&255,(ve&4278190080)>>24,(ve&16711680)>>16,(ve&65280)>>8,ve&255])))}return o.apply(null,ne)},_=function(C){return o(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(C.channelcount&65280)>>8,C.channelcount&255,(C.samplesize&65280)>>8,C.samplesize&255,0,0,0,0,(C.samplerate&65280)>>8,C.samplerate&255,0,0]),d(C))}}(),w=function(b){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(b.id&4278190080)>>24,(b.id&16711680)>>16,(b.id&65280)>>8,b.id&255,0,0,0,0,(b.duration&4278190080)>>24,(b.duration&16711680)>>16,(b.duration&65280)>>8,b.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(b.width&65280)>>8,b.width&255,0,0,(b.height&65280)>>8,b.height&255,0,0]);return o(F.tkhd,_)},L=function(b){var _,C,A,O,R,q,ee;return _=o(F.tfhd,new Uint8Array([0,0,0,58,(b.id&4278190080)>>24,(b.id&16711680)>>16,(b.id&65280)>>8,b.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),q=Math.floor(b.baseMediaDecodeTime/a),ee=Math.floor(b.baseMediaDecodeTime%a),C=o(F.tfdt,new Uint8Array([1,0,0,0,q>>>24&255,q>>>16&255,q>>>8&255,q&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee&255])),R=92,b.type==="audio"?(A=U(b,R),o(F.traf,_,C,A)):(O=B(b),A=U(b,O.length+R),o(F.traf,_,C,A,O))},x=function(b){return b.duration=b.duration||4294967295,o(F.trak,w(b),I(b))},z=function(b){var _=new Uint8Array([0,0,0,0,(b.id&4278190080)>>24,(b.id&16711680)>>16,(b.id&65280)>>8,b.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return b.type!=="video"&&(_[_.length-1]=0),o(F.trex,_)},function(){var b,_,C;C=function(A,O){var R=0,q=0,ee=0,ne=0;return A.length&&(A[0].duration!==void 0&&(R=1),A[0].size!==void 0&&(q=2),A[0].flags!==void 0&&(ee=4),A[0].compositionTimeOffset!==void 0&&(ne=8)),[0,0,R|q|ee|ne,1,(A.length&4278190080)>>>24,(A.length&16711680)>>>16,(A.length&65280)>>>8,A.length&255,(O&4278190080)>>>24,(O&16711680)>>>16,(O&65280)>>>8,O&255]},_=function(A,O){var R,q,ee,ne,oe,ve;for(ne=A.samples||[],O+=20+16*ne.length,ee=C(ne,O),q=new Uint8Array(ee.length+ne.length*16),q.set(ee),R=ee.length,ve=0;ve<ne.length;ve++)oe=ne[ve],q[R++]=(oe.duration&4278190080)>>>24,q[R++]=(oe.duration&16711680)>>>16,q[R++]=(oe.duration&65280)>>>8,q[R++]=oe.duration&255,q[R++]=(oe.size&4278190080)>>>24,q[R++]=(oe.size&16711680)>>>16,q[R++]=(oe.size&65280)>>>8,q[R++]=oe.size&255,q[R++]=oe.flags.isLeading<<2|oe.flags.dependsOn,q[R++]=oe.flags.isDependedOn<<6|oe.flags.hasRedundancy<<4|oe.flags.paddingValue<<1|oe.flags.isNonSyncSample,q[R++]=oe.flags.degradationPriority&61440,q[R++]=oe.flags.degradationPriority&15,q[R++]=(oe.compositionTimeOffset&4278190080)>>>24,q[R++]=(oe.compositionTimeOffset&16711680)>>>16,q[R++]=(oe.compositionTimeOffset&65280)>>>8,q[R++]=oe.compositionTimeOffset&255;return o(F.trun,q)},b=function(A,O){var R,q,ee,ne,oe,ve;for(ne=A.samples||[],O+=20+8*ne.length,ee=C(ne,O),R=new Uint8Array(ee.length+ne.length*8),R.set(ee),q=ee.length,ve=0;ve<ne.length;ve++)oe=ne[ve],R[q++]=(oe.duration&4278190080)>>>24,R[q++]=(oe.duration&16711680)>>>16,R[q++]=(oe.duration&65280)>>>8,R[q++]=oe.duration&255,R[q++]=(oe.size&4278190080)>>>24,R[q++]=(oe.size&16711680)>>>16,R[q++]=(oe.size&65280)>>>8,R[q++]=oe.size&255;return o(F.trun,R)},U=function(A,O){return A.type==="audio"?b(A,O):_(A,O)}}();var re={ftyp:f,mdat:c,moof:m,moov:g,initSegment:function(b){var _=f(),C=g(b),A;return A=new Uint8Array(_.byteLength+C.byteLength),A.set(_),A.set(C,_.byteLength),A}},pe=function(b){var _,C,A=[],O=[];for(O.byteLength=0,O.nalCount=0,O.duration=0,A.byteLength=0,_=0;_<b.length;_++)C=b[_],C.nalUnitType==="access_unit_delimiter_rbsp"?(A.length&&(A.duration=C.dts-A.dts,O.byteLength+=A.byteLength,O.nalCount+=A.length,O.duration+=A.duration,O.push(A)),A=[C],A.byteLength=C.data.byteLength,A.pts=C.pts,A.dts=C.dts):(C.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(A.keyFrame=!0),A.duration=C.dts-A.dts,A.byteLength+=C.data.byteLength,A.push(C));return O.length&&(!A.duration||A.duration<=0)&&(A.duration=O[O.length-1].duration),O.byteLength+=A.byteLength,O.nalCount+=A.length,O.duration+=A.duration,O.push(A),O},me=function(b){var _,C,A=[],O=[];for(A.byteLength=0,A.nalCount=0,A.duration=0,A.pts=b[0].pts,A.dts=b[0].dts,O.byteLength=0,O.nalCount=0,O.duration=0,O.pts=b[0].pts,O.dts=b[0].dts,_=0;_<b.length;_++)C=b[_],C.keyFrame?(A.length&&(O.push(A),O.byteLength+=A.byteLength,O.nalCount+=A.nalCount,O.duration+=A.duration),A=[C],A.nalCount=C.length,A.byteLength=C.byteLength,A.pts=C.pts,A.dts=C.dts,A.duration=C.duration):(A.duration+=C.duration,A.nalCount+=C.length,A.byteLength+=C.byteLength,A.push(C));return O.length&&A.duration<=0&&(A.duration=O[O.length-1].duration),O.byteLength+=A.byteLength,O.nalCount+=A.nalCount,O.duration+=A.duration,O.push(A),O},de=function(b){var _;return!b[0][0].keyFrame&&b.length>1&&(_=b.shift(),b.byteLength-=_.byteLength,b.nalCount-=_.nalCount,b[0][0].dts=_.dts,b[0][0].pts=_.pts,b[0][0].duration+=_.duration),b},Te=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Ae=function(b,_){var C=Te();return C.dataOffset=_,C.compositionTimeOffset=b.pts-b.dts,C.duration=b.duration,C.size=4*b.length,C.size+=b.byteLength,b.keyFrame&&(C.flags.dependsOn=2,C.flags.isNonSyncSample=0),C},Le=function(b,_){var C,A,O,R,q,ee=_||0,ne=[];for(C=0;C<b.length;C++)for(R=b[C],A=0;A<R.length;A++)q=R[A],O=Ae(q,ee),ee+=O.size,ne.push(O);return ne},ge=function(b){var _,C,A,O,R,q,ee=0,ne=b.byteLength,oe=b.nalCount,ve=ne+4*oe,ke=new Uint8Array(ve),$e=new DataView(ke.buffer);for(_=0;_<b.length;_++)for(O=b[_],C=0;C<O.length;C++)for(R=O[C],A=0;A<R.length;A++)q=R[A],$e.setUint32(ee,q.data.byteLength),ee+=4,ke.set(q.data,ee),ee+=q.data.byteLength;return ke},Pe=function(b,_){var C,A=_||0,O=[];return C=Ae(b,A),O.push(C),O},qe=function(b){var _,C,A=0,O=b.byteLength,R=b.length,q=O+4*R,ee=new Uint8Array(q),ne=new DataView(ee.buffer);for(_=0;_<b.length;_++)C=b[_],ne.setUint32(A,C.data.byteLength),A+=4,ee.set(C.data,A),A+=C.data.byteLength;return ee},ue={groupNalsIntoFrames:pe,groupFramesIntoGops:me,extendFirstKeyFrame:de,generateSampleTable:Le,concatenateNalData:ge,generateSampleTableForFrame:Pe,concatenateNalDataForFrame:qe},ye=[33,16,5,32,164,27],Be=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],V=function(b){for(var _=[];b--;)_.push(0);return _},Y=function(b){return Object.keys(b).reduce(function(_,C){return _[C]=new Uint8Array(b[C].reduce(function(A,O){return A.concat(O)},[])),_},{})},he,we=function(){if(!he){var b={96e3:[ye,[227,64],V(154),[56]],88200:[ye,[231],V(170),[56]],64e3:[ye,[248,192],V(240),[56]],48e3:[ye,[255,192],V(268),[55,148,128],V(54),[112]],44100:[ye,[255,192],V(268),[55,163,128],V(84),[112]],32e3:[ye,[255,192],V(268),[55,234],V(226),[112]],24e3:[ye,[255,192],V(268),[55,255,128],V(268),[111,112],V(126),[224]],16e3:[ye,[255,192],V(268),[55,255,128],V(268),[111,255],V(269),[223,108],V(195),[1,192]],12e3:[Be,V(268),[3,127,248],V(268),[6,255,240],V(268),[13,255,224],V(268),[27,253,128],V(259),[56]],11025:[Be,V(268),[3,127,248],V(268),[6,255,240],V(268),[13,255,224],V(268),[27,255,192],V(268),[55,175,128],V(108),[112]],8e3:[Be,V(268),[3,121,16],V(47),[7]]};he=Y(b)}return he},Re=9e4,ze,rt,Ee,Oe,nt,_t,Ot;ze=function(b){return b*Re},rt=function(b,_){return b*_},Ee=function(b){return b/Re},Oe=function(b,_){return b/_},nt=function(b,_){return ze(Oe(b,_))},_t=function(b,_){return rt(Ee(b),_)},Ot=function(b,_,C){return Ee(C?b:b-_)};var st={ONE_SECOND_IN_TS:Re,secondsToVideoTs:ze,secondsToAudioTs:rt,videoTsToSeconds:Ee,audioTsToSeconds:Oe,audioTsToVideoTs:nt,videoTsToAudioTs:_t,metadataTsToSeconds:Ot},qt=we,Mt=st,wn=function(b){var _,C,A=0;for(_=0;_<b.length;_++)C=b[_],A+=C.data.byteLength;return A},Dn=function(b,_,C,A){var O,R=0,q=0,ee=0,ne=0,oe,ve,ke;if(_.length&&(O=Mt.audioTsToVideoTs(b.baseMediaDecodeTime,b.samplerate),R=Math.ceil(Mt.ONE_SECOND_IN_TS/(b.samplerate/1024)),C&&A&&(q=O-Math.max(C,A),ee=Math.floor(q/R),ne=ee*R),!(ee<1||ne>Mt.ONE_SECOND_IN_TS/2))){for(oe=qt()[b.samplerate],oe||(oe=_[0].data),ve=0;ve<ee;ve++)ke=_[0],_.splice(0,0,{data:oe,dts:ke.dts-R,pts:ke.pts-R});return b.baseMediaDecodeTime-=Math.floor(Mt.videoTsToAudioTs(ne,b.samplerate)),ne}},gs=function(b,_,C){return _.minSegmentDts>=C?b:(_.minSegmentDts=1/0,b.filter(function(A){return A.dts>=C?(_.minSegmentDts=Math.min(_.minSegmentDts,A.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},Ys=function(b){var _,C,A=[];for(_=0;_<b.length;_++)C=b[_],A.push({size:C.data.byteLength,duration:1024});return A},Qs=function(b){var _,C,A=0,O=new Uint8Array(wn(b));for(_=0;_<b.length;_++)C=b[_],O.set(C.data,A),A+=C.data.byteLength;return O},bs={prefixWithSilence:Dn,trimAdtsFramesByEarliestDts:gs,generateSampleTable:Ys,concatenateFrameData:Qs},Ks=st.ONE_SECOND_IN_TS,hr=function(b,_){typeof _.pts=="number"&&(b.timelineStartInfo.pts===void 0&&(b.timelineStartInfo.pts=_.pts),b.minSegmentPts===void 0?b.minSegmentPts=_.pts:b.minSegmentPts=Math.min(b.minSegmentPts,_.pts),b.maxSegmentPts===void 0?b.maxSegmentPts=_.pts:b.maxSegmentPts=Math.max(b.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(b.timelineStartInfo.dts===void 0&&(b.timelineStartInfo.dts=_.dts),b.minSegmentDts===void 0?b.minSegmentDts=_.dts:b.minSegmentDts=Math.min(b.minSegmentDts,_.dts),b.maxSegmentDts===void 0?b.maxSegmentDts=_.dts:b.maxSegmentDts=Math.max(b.maxSegmentDts,_.dts))},pr=function(b){delete b.minSegmentDts,delete b.maxSegmentDts,delete b.minSegmentPts,delete b.maxSegmentPts},Vi=function(b,_){var C,A,O=b.minSegmentDts;return _||(O-=b.timelineStartInfo.dts),C=b.timelineStartInfo.baseMediaDecodeTime,C+=O,C=Math.max(0,C),b.type==="audio"&&(A=b.samplerate/Ks,C*=A,C=Math.floor(C)),C},Ti={clearDtsInfo:pr,calculateTrackBaseMediaDecodeTime:Vi,collectDtsInfo:hr},_n=4,Ei=128,Fr=function(b){for(var _=0,C={payloadType:-1,payloadSize:0},A=0,O=0;_<b.byteLength&&b[_]!==Ei;){for(;b[_]===255;)A+=255,_++;for(A+=b[_++];b[_]===255;)O+=255,_++;if(O+=b[_++],!C.payload&&A===_n){var R=String.fromCharCode(b[_+3],b[_+4],b[_+5],b[_+6]);if(R==="GA94"){C.payloadType=A,C.payloadSize=O,C.payload=b.subarray(_,_+O);break}else C.payload=void 0}_+=O,A=0,O=0}return C},Al=function(b){return b.payload[0]!==181||(b.payload[1]<<8|b.payload[2])!==49||String.fromCharCode(b.payload[3],b.payload[4],b.payload[5],b.payload[6])!=="GA94"||b.payload[7]!==3?null:b.payload.subarray(8,b.payload.length-1)},xl=function(b,_){var C=[],A,O,R,q;if(!(_[0]&64))return C;for(O=_[0]&31,A=0;A<O;A++)R=A*3,q={type:_[R+2]&3,pts:b},_[R+2]&4&&(q.ccData=_[R+3]<<8|_[R+4],C.push(q));return C},Nn=function(b){for(var _=b.byteLength,C=[],A=1,O,R;A<_-2;)b[A]===0&&b[A+1]===0&&b[A+2]===3?(C.push(A+2),A+=2):A++;if(C.length===0)return b;O=_-C.length,R=new Uint8Array(O);var q=0;for(A=0;A<O;q++,A++)q===C[0]&&(q++,C.shift()),R[A]=b[q];return R},Ur={parseSei:Fr,parseUserData:Al,parseCaptionPackets:xl,discardEmulationPreventionBytes:Nn,USER_DATA_REGISTERED_ITU_T_T35:_n},ar=n,Qn=Ur,Wt=function(b){b=b||{},Wt.prototype.init.call(this),this.parse708captions_=typeof b.parse708captions=="boolean"?b.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new dn(0,0),new dn(0,1),new dn(1,0),new dn(1,1)],this.parse708captions_&&(this.cc708Stream_=new Kt({captionServices:b.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Wt.prototype=new ar,Wt.prototype.push=function(b){var _,C,A;if(b.nalUnitType==="sei_rbsp"&&(_=Qn.parseSei(b.escapedRBSP),!!_.payload&&_.payloadType===Qn.USER_DATA_REGISTERED_ITU_T_T35&&(C=Qn.parseUserData(_),!!C))){if(b.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(b.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}A=Qn.parseCaptionPackets(b.pts,C),this.captionPackets_=this.captionPackets_.concat(A),this.latestDts_!==b.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=b.dts}},Wt.prototype.flushCCStreams=function(b){this.ccStreams_.forEach(function(_){return b==="flush"?_.flush():_.partialFlush()},this)},Wt.prototype.flushStream=function(b){if(!this.captionPackets_.length){this.flushCCStreams(b);return}this.captionPackets_.forEach(function(_,C){_.presortIndex=C}),this.captionPackets_.sort(function(_,C){return _.pts===C.pts?_.presortIndex-C.presortIndex:_.pts-C.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(b)},Wt.prototype.flush=function(){return this.flushStream("flush")},Wt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Wt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(b){b.reset()})},Wt.prototype.dispatchCea608Packet=function(b){this.setsTextOrXDSActive(b)?this.activeCea608Channel_[b.type]=null:this.setsChannel1Active(b)?this.activeCea608Channel_[b.type]=0:this.setsChannel2Active(b)&&(this.activeCea608Channel_[b.type]=1),this.activeCea608Channel_[b.type]!==null&&this.ccStreams_[(b.type<<1)+this.activeCea608Channel_[b.type]].push(b)},Wt.prototype.setsChannel1Active=function(b){return(b.ccData&30720)===4096},Wt.prototype.setsChannel2Active=function(b){return(b.ccData&30720)===6144},Wt.prototype.setsTextOrXDSActive=function(b){return(b.ccData&28928)===256||(b.ccData&30974)===4138||(b.ccData&30974)===6186},Wt.prototype.dispatchCea708Packet=function(b){this.parse708captions_&&this.cc708Stream_.push(b)};var Ai={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},xi=function(b){var _=Ai[b]||b;return b&4096&&b===_?"":String.fromCharCode(_)},Wi=function(b){return 32<=b&&b<=127||160<=b&&b<=255},ci=function(b){this.windowNum=b,this.reset()};ci.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ci.prototype.getText=function(){return this.rows.join(`
`)},ci.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ci.prototype.newLine=function(b){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(b),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ci.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ci.prototype.addText=function(b){this.rows[this.rowIdx]+=b},ci.prototype.backspace=function(){if(!this.isEmpty()){var b=this.rows[this.rowIdx];this.rows[this.rowIdx]=b.substr(0,b.length-1)}};var uo=function(b,_,C){this.serviceNum=b,this.text="",this.currentWindow=new ci(-1),this.windows=[],this.stream=C,typeof _=="string"&&this.createTextDecoder(_)};uo.prototype.init=function(b,_){this.startPts=b;for(var C=0;C<8;C++)this.windows[C]=new ci(C),typeof _=="function"&&(this.windows[C].beforeRowOverflow=_)},uo.prototype.setCurrentWindow=function(b){this.currentWindow=this.windows[b]},uo.prototype.createTextDecoder=function(b){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(b)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+b+" encoding. "+_})}};var Kt=function(b){b=b||{},Kt.prototype.init.call(this);var _=this,C=b.captionServices||{},A={},O;Object.keys(C).forEach(R=>{O=C[R],/^SERVICE/.test(R)&&(A[R]=O.encoding)}),this.serviceEncodings=A,this.current708Packet=null,this.services={},this.push=function(R){R.type===3?(_.new708Packet(),_.add708Bytes(R)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(R))}};Kt.prototype=new ar,Kt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Kt.prototype.add708Bytes=function(b){var _=b.ccData,C=_>>>8,A=_&255;this.current708Packet.ptsVals.push(b.pts),this.current708Packet.data.push(C),this.current708Packet.data.push(A)},Kt.prototype.push708Packet=function(){var b=this.current708Packet,_=b.data,C=null,A=null,O=0,R=_[O++];for(b.seq=R>>6,b.sizeCode=R&63;O<_.length;O++)R=_[O++],C=R>>5,A=R&31,C===7&&A>0&&(R=_[O++],C=R),this.pushServiceBlock(C,O,A),A>0&&(O+=A-1)},Kt.prototype.pushServiceBlock=function(b,_,C){var A,O=_,R=this.current708Packet.data,q=this.services[b];for(q||(q=this.initService(b,O));O<_+C&&O<R.length;O++)A=R[O],Wi(A)?O=this.handleText(O,q):A===24?O=this.multiByteCharacter(O,q):A===16?O=this.extendedCommands(O,q):128<=A&&A<=135?O=this.setCurrentWindow(O,q):152<=A&&A<=159?O=this.defineWindow(O,q):A===136?O=this.clearWindows(O,q):A===140?O=this.deleteWindows(O,q):A===137?O=this.displayWindows(O,q):A===138?O=this.hideWindows(O,q):A===139?O=this.toggleWindows(O,q):A===151?O=this.setWindowAttributes(O,q):A===144?O=this.setPenAttributes(O,q):A===145?O=this.setPenColor(O,q):A===146?O=this.setPenLocation(O,q):A===143?q=this.reset(O,q):A===8?q.currentWindow.backspace():A===12?q.currentWindow.clearText():A===13?q.currentWindow.pendingNewLine=!0:A===14?q.currentWindow.clearText():A===141&&O++},Kt.prototype.extendedCommands=function(b,_){var C=this.current708Packet.data,A=C[++b];return Wi(A)&&(b=this.handleText(b,_,{isExtended:!0})),b},Kt.prototype.getPts=function(b){return this.current708Packet.ptsVals[Math.floor(b/2)]},Kt.prototype.initService=function(b,_){var A="SERVICE"+b,C=this,A,O;return A in this.serviceEncodings&&(O=this.serviceEncodings[A]),this.services[b]=new uo(b,O,C),this.services[b].init(this.getPts(_),function(R){C.flushDisplayed(R,C.services[b])}),this.services[b]},Kt.prototype.handleText=function(b,_,C){var A=C&&C.isExtended,O=C&&C.isMultiByte,R=this.current708Packet.data,q=A?4096:0,ee=R[b],ne=R[b+1],oe=_.currentWindow,ve,ke;function $e(Fe){return Fe.map(pt=>("0"+(pt&255).toString(16)).slice(-2)).join("")}if(O?(ke=[ee,ne],b++):ke=[ee],_.textDecoder_&&!A)ve=_.textDecoder_.decode(new Uint8Array(ke));else if(O){const Fe=$e(ke);ve=String.fromCharCode(parseInt(Fe,16))}else ve=xi(q|ee);return oe.pendingNewLine&&!oe.isEmpty()&&oe.newLine(this.getPts(b)),oe.pendingNewLine=!1,oe.addText(ve),b},Kt.prototype.multiByteCharacter=function(b,_){var C=this.current708Packet.data,A=C[b+1],O=C[b+2];return Wi(A)&&Wi(O)&&(b=this.handleText(++b,_,{isMultiByte:!0})),b},Kt.prototype.setCurrentWindow=function(b,_){var C=this.current708Packet.data,A=C[b],O=A&7;return _.setCurrentWindow(O),b},Kt.prototype.defineWindow=function(b,_){var C=this.current708Packet.data,A=C[b],O=A&7;_.setCurrentWindow(O);var R=_.currentWindow;return A=C[++b],R.visible=(A&32)>>5,R.rowLock=(A&16)>>4,R.columnLock=(A&8)>>3,R.priority=A&7,A=C[++b],R.relativePositioning=(A&128)>>7,R.anchorVertical=A&127,A=C[++b],R.anchorHorizontal=A,A=C[++b],R.anchorPoint=(A&240)>>4,R.rowCount=A&15,A=C[++b],R.columnCount=A&63,A=C[++b],R.windowStyle=(A&56)>>3,R.penStyle=A&7,R.virtualRowCount=R.rowCount+1,b},Kt.prototype.setWindowAttributes=function(b,_){var C=this.current708Packet.data,A=C[b],O=_.currentWindow.winAttr;return A=C[++b],O.fillOpacity=(A&192)>>6,O.fillRed=(A&48)>>4,O.fillGreen=(A&12)>>2,O.fillBlue=A&3,A=C[++b],O.borderType=(A&192)>>6,O.borderRed=(A&48)>>4,O.borderGreen=(A&12)>>2,O.borderBlue=A&3,A=C[++b],O.borderType+=(A&128)>>5,O.wordWrap=(A&64)>>6,O.printDirection=(A&48)>>4,O.scrollDirection=(A&12)>>2,O.justify=A&3,A=C[++b],O.effectSpeed=(A&240)>>4,O.effectDirection=(A&12)>>2,O.displayEffect=A&3,b},Kt.prototype.flushDisplayed=function(b,_){for(var C=[],A=0;A<8;A++)_.windows[A].visible&&!_.windows[A].isEmpty()&&C.push(_.windows[A].getText());_.endPts=b,_.text=C.join(`

`),this.pushCaption(_),_.startPts=b},Kt.prototype.pushCaption=function(b){b.text!==""&&(this.trigger("data",{startPts:b.startPts,endPts:b.endPts,text:b.text,stream:"cc708_"+b.serviceNum}),b.text="",b.startPts=b.endPts)},Kt.prototype.displayWindows=function(b,_){var C=this.current708Packet.data,A=C[++b],O=this.getPts(b);this.flushDisplayed(O,_);for(var R=0;R<8;R++)A&1<<R&&(_.windows[R].visible=1);return b},Kt.prototype.hideWindows=function(b,_){var C=this.current708Packet.data,A=C[++b],O=this.getPts(b);this.flushDisplayed(O,_);for(var R=0;R<8;R++)A&1<<R&&(_.windows[R].visible=0);return b},Kt.prototype.toggleWindows=function(b,_){var C=this.current708Packet.data,A=C[++b],O=this.getPts(b);this.flushDisplayed(O,_);for(var R=0;R<8;R++)A&1<<R&&(_.windows[R].visible^=1);return b},Kt.prototype.clearWindows=function(b,_){var C=this.current708Packet.data,A=C[++b],O=this.getPts(b);this.flushDisplayed(O,_);for(var R=0;R<8;R++)A&1<<R&&_.windows[R].clearText();return b},Kt.prototype.deleteWindows=function(b,_){var C=this.current708Packet.data,A=C[++b],O=this.getPts(b);this.flushDisplayed(O,_);for(var R=0;R<8;R++)A&1<<R&&_.windows[R].reset();return b},Kt.prototype.setPenAttributes=function(b,_){var C=this.current708Packet.data,A=C[b],O=_.currentWindow.penAttr;return A=C[++b],O.textTag=(A&240)>>4,O.offset=(A&12)>>2,O.penSize=A&3,A=C[++b],O.italics=(A&128)>>7,O.underline=(A&64)>>6,O.edgeType=(A&56)>>3,O.fontStyle=A&7,b},Kt.prototype.setPenColor=function(b,_){var C=this.current708Packet.data,A=C[b],O=_.currentWindow.penColor;return A=C[++b],O.fgOpacity=(A&192)>>6,O.fgRed=(A&48)>>4,O.fgGreen=(A&12)>>2,O.fgBlue=A&3,A=C[++b],O.bgOpacity=(A&192)>>6,O.bgRed=(A&48)>>4,O.bgGreen=(A&12)>>2,O.bgBlue=A&3,A=C[++b],O.edgeRed=(A&48)>>4,O.edgeGreen=(A&12)>>2,O.edgeBlue=A&3,b},Kt.prototype.setPenLocation=function(b,_){var C=this.current708Packet.data,A=C[b],O=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,A=C[++b],O.row=A&15,A=C[++b],O.column=A&63,b},Kt.prototype.reset=function(b,_){var C=this.getPts(b);return this.flushDisplayed(C,_),this.initService(_.serviceNum,b)};var R_={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},co=function(b){return b===null?"":(b=R_[b]||b,String.fromCharCode(b))},Ec=14,Gi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Aa=function(){for(var b=[],_=Ec+1;_--;)b.push({text:"",indent:0,offset:0});return b},dn=function(b,_){dn.prototype.init.call(this),this.field_=b||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(C){var A,O,R,q,ee;if(A=C.ccData&32639,A===this.lastControlCode_){this.lastControlCode_=null;return}if((A&61440)===4096?this.lastControlCode_=A:A!==this.PADDING_&&(this.lastControlCode_=null),R=A>>>8,q=A&255,A!==this.PADDING_)if(A===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(A===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(C.pts),this.flushDisplayed(C.pts),O=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=O,this.startPts_=C.pts;else if(A===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(C.pts);else if(A===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(C.pts);else if(A===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(C.pts);else if(A===this.CARRIAGE_RETURN_)this.clearFormatting(C.pts),this.flushDisplayed(C.pts),this.shiftRowsUp_(),this.startPts_=C.pts;else if(A===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(A===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(C.pts),this.displayed_=Aa();else if(A===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Aa();else if(A===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(C.pts),this.displayed_=Aa()),this.mode_="paintOn",this.startPts_=C.pts;else if(this.isSpecialCharacter(R,q))R=(R&3)<<8,ee=co(R|q),this[this.mode_](C.pts,ee),this.column_++;else if(this.isExtCharacter(R,q))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),R=(R&3)<<8,ee=co(R|q),this[this.mode_](C.pts,ee),this.column_++;else if(this.isMidRowCode(R,q))this.clearFormatting(C.pts),this[this.mode_](C.pts," "),this.column_++,(q&14)===14&&this.addFormatting(C.pts,["i"]),(q&1)===1&&this.addFormatting(C.pts,["u"]);else if(this.isOffsetControlCode(R,q)){const oe=q&3;this.nonDisplayed_[this.row_].offset=oe,this.column_+=oe}else if(this.isPAC(R,q)){var ne=Gi.indexOf(A&7968);if(this.mode_==="rollUp"&&(ne-this.rollUpRows_+1<0&&(ne=this.rollUpRows_-1),this.setRollUp(C.pts,ne)),ne!==this.row_&&ne>=0&&ne<=14&&(this.clearFormatting(C.pts),this.row_=ne),q&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(C.pts,["u"]),(A&16)===16){const oe=(A&14)>>1;this.column_=oe*4,this.nonDisplayed_[this.row_].indent+=oe}this.isColorPAC(q)&&(q&14)===14&&this.addFormatting(C.pts,["i"])}else this.isNormalChar(R)&&(q===0&&(q=null),ee=co(R),ee+=co(q),this[this.mode_](C.pts,ee),this.column_+=ee.length)}};dn.prototype=new ar,dn.prototype.flushDisplayed=function(b){const _=A=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+A+"."})},C=[];this.displayed_.forEach((A,O)=>{if(A&&A.text&&A.text.length){try{A.text=A.text.trim()}catch{_(O)}A.text.length&&C.push({text:A.text,line:O+1,position:10+Math.min(70,A.indent*10)+A.offset*2.5})}else A==null&&_(O)}),C.length&&this.trigger("data",{startPts:this.startPts_,endPts:b,content:C,stream:this.name_})},dn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Aa(),this.nonDisplayed_=Aa(),this.lastControlCode_=null,this.column_=0,this.row_=Ec,this.rollUpRows_=2,this.formatting_=[]},dn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},dn.prototype.isSpecialCharacter=function(b,_){return b===this.EXT_&&_>=48&&_<=63},dn.prototype.isExtCharacter=function(b,_){return(b===this.EXT_+1||b===this.EXT_+2)&&_>=32&&_<=63},dn.prototype.isMidRowCode=function(b,_){return b===this.EXT_&&_>=32&&_<=47},dn.prototype.isOffsetControlCode=function(b,_){return b===this.OFFSET_&&_>=33&&_<=35},dn.prototype.isPAC=function(b,_){return b>=this.BASE_&&b<this.BASE_+8&&_>=64&&_<=127},dn.prototype.isColorPAC=function(b){return b>=64&&b<=79||b>=96&&b<=127},dn.prototype.isNormalChar=function(b){return b>=32&&b<=127},dn.prototype.setRollUp=function(b,_){if(this.mode_!=="rollUp"&&(this.row_=Ec,this.mode_="rollUp",this.flushDisplayed(b),this.nonDisplayed_=Aa(),this.displayed_=Aa()),_!==void 0&&_!==this.row_)for(var C=0;C<this.rollUpRows_;C++)this.displayed_[_-C]=this.displayed_[this.row_-C],this.displayed_[this.row_-C]={text:"",indent:0,offset:0};_===void 0&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},dn.prototype.addFormatting=function(b,_){this.formatting_=this.formatting_.concat(_);var C=_.reduce(function(A,O){return A+"<"+O+">"},"");this[this.mode_](b,C)},dn.prototype.clearFormatting=function(b){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(C,A){return C+"</"+A+">"},"");this.formatting_=[],this[this.mode_](b,_)}},dn.prototype.popOn=function(b,_){var C=this.nonDisplayed_[this.row_].text;C+=_,this.nonDisplayed_[this.row_].text=C},dn.prototype.rollUp=function(b,_){var C=this.displayed_[this.row_].text;C+=_,this.displayed_[this.row_].text=C},dn.prototype.shiftRowsUp_=function(){var b;for(b=0;b<this.topRow_;b++)this.displayed_[b]={text:"",indent:0,offset:0};for(b=this.row_+1;b<Ec+1;b++)this.displayed_[b]={text:"",indent:0,offset:0};for(b=this.topRow_;b<this.row_;b++)this.displayed_[b]=this.displayed_[b+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},dn.prototype.paintOn=function(b,_){var C=this.displayed_[this.row_].text;C+=_,this.displayed_[this.row_].text=C};var Z0={CaptionStream:Wt,Cea608Stream:dn,Cea708Stream:Kt},Ac={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ae=n,te=8589934592,fe=4294967296,Ce="shared",ot=function(b,_){var C=1;for(b>_&&(C=-1);Math.abs(_-b)>fe;)b+=C*te;return b},gt=function(b){var _,C;gt.prototype.init.call(this),this.type_=b||Ce,this.push=function(A){if(A.type==="metadata"){this.trigger("data",A);return}this.type_!==Ce&&A.type!==this.type_||(C===void 0&&(C=A.dts),A.dts=ot(A.dts,C),A.pts=ot(A.pts,C),_=A.dts,this.trigger("data",A))},this.flush=function(){C=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){C=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};gt.prototype=new ae;var Gt={TimestampRolloverStream:gt,handleRollover:ot},Un=(b,_,C)=>{if(!b)return-1;for(var A=C;A<b.length;A++)if(b[A]===_)return A;return-1},St={typedArrayIndexOf:Un},Pt=St.typedArrayIndexOf,je={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},dt=function(b,_,C){var A,O="";for(A=_;A<C;A++)O+="%"+("00"+b[A].toString(16)).slice(-2);return O},Ve=function(b,_,C){return decodeURIComponent(dt(b,_,C))},jt=function(b,_,C){return unescape(dt(b,_,C))},lt=function(b){return b[0]<<21|b[1]<<14|b[2]<<7|b[3]},Yi={APIC:function(b){var _=1,C,A,O="-->";b.data[0]===je.Utf8&&(C=Pt(b.data,0,_),!(C<0)&&(b.mimeType=jt(b.data,_,C),_=C+1,b.pictureType=b.data[_],_++,A=Pt(b.data,0,_),!(A<0)&&(b.description=Ve(b.data,_,A),_=A+1,b.mimeType===O?b.url=jt(b.data,_,b.data.length):b.pictureData=b.data.subarray(_,b.data.length))))},"T*":function(b){b.data[0]===je.Utf8&&(b.value=Ve(b.data,1,b.data.length).replace(/\0*$/,""),b.values=b.value.split("\0"))},TXXX:function(b){var _;b.data[0]===je.Utf8&&(_=Pt(b.data,0,1),_!==-1&&(b.description=Ve(b.data,1,_),b.value=Ve(b.data,_+1,b.data.length).replace(/\0*$/,""),b.data=b.value))},"W*":function(b){b.url=jt(b.data,0,b.data.length).replace(/\0.*$/,"")},WXXX:function(b){var _;b.data[0]===je.Utf8&&(_=Pt(b.data,0,1),_!==-1&&(b.description=Ve(b.data,1,_),b.url=jt(b.data,_+1,b.data.length).replace(/\0.*$/,"")))},PRIV:function(b){var _;for(_=0;_<b.data.length;_++)if(b.data[_]===0){b.owner=jt(b.data,0,_);break}b.privateData=b.data.subarray(_+1),b.data=b.privateData}},vs=function(b){var _,C,A=10,O=0,R=[];if(!(b.length<10||b[0]!==73||b[1]!==68||b[2]!==51)){O=lt(b.subarray(6,10)),O+=10;var q=b[5]&64;q&&(A+=4,A+=lt(b.subarray(10,14)),O-=lt(b.subarray(16,20)));do{if(_=lt(b.subarray(A+4,A+8)),_<1)break;C=String.fromCharCode(b[A],b[A+1],b[A+2],b[A+3]);var ee={id:C,data:b.subarray(A+10,A+_+10)};ee.key=ee.id,Yi[ee.id]?Yi[ee.id](ee):ee.id[0]==="T"?Yi["T*"](ee):ee.id[0]==="W"&&Yi["W*"](ee),R.push(ee),A+=10,A+=_}while(A<O);return R}},xa={parseId3Frames:vs,parseSyncSafeInteger:lt,frameParsers:Yi},Mn=n,jn=Ac,en=xa,tn;tn=function(b){var _={descriptor:b&&b.descriptor},C=0,A=[],O=0,R;if(tn.prototype.init.call(this),this.dispatchType=jn.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(R=0;R<_.descriptor.length;R++)this.dispatchType+=("00"+_.descriptor[R].toString(16)).slice(-2);this.push=function(q){var ee,ne,oe,ve,ke,$e;if(q.type==="timed-metadata"){if(q.dataAlignmentIndicator&&(O=0,A.length=0),A.length===0&&(q.data.length<10||q.data[0]!==73||q.data[1]!==68||q.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(A.push(q),O+=q.data.byteLength,A.length===1&&(C=en.parseSyncSafeInteger(q.data.subarray(6,10)),C+=10),!(O<C)){for(ee={data:new Uint8Array(C),frames:[],pts:A[0].pts,dts:A[0].dts},ke=0;ke<C;)ee.data.set(A[0].data.subarray(0,C-ke),ke),ke+=A[0].data.byteLength,O-=A[0].data.byteLength,A.shift();ne=10,ee.data[5]&64&&(ne+=4,ne+=en.parseSyncSafeInteger(ee.data.subarray(10,14)),C-=en.parseSyncSafeInteger(ee.data.subarray(16,20)));do{if(oe=en.parseSyncSafeInteger(ee.data.subarray(ne+4,ne+8)),oe<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if($e=String.fromCharCode(ee.data[ne],ee.data[ne+1],ee.data[ne+2],ee.data[ne+3]),ve={id:$e,data:ee.data.subarray(ne+10,ne+oe+10)},ve.key=ve.id,en.frameParsers[ve.id]?en.frameParsers[ve.id](ve):ve.id[0]==="T"?en.frameParsers["T*"](ve):ve.id[0]==="W"&&en.frameParsers["W*"](ve),ve.owner==="com.apple.streaming.transportStreamTimestamp"){var Fe=ve.data,pt=(Fe[3]&1)<<30|Fe[4]<<22|Fe[5]<<14|Fe[6]<<6|Fe[7]>>>2;pt*=4,pt+=Fe[7]&3,ve.timeStamp=pt,ee.pts===void 0&&ee.dts===void 0&&(ee.pts=ve.timeStamp,ee.dts=ve.timeStamp),this.trigger("timestamp",ve)}ee.frames.push(ve),ne+=10,ne+=oe}while(ne<C);this.trigger("data",ee)}}}},tn.prototype=new Mn;var fo=tn,Xs=n,Cl=Z0,jr=Ac,Zf=Gt.TimestampRolloverStream,ho,Ca,po,Zs=188,wl=71;ho=function(){var b=new Uint8Array(Zs),_=0;ho.prototype.init.call(this),this.push=function(C){var A=0,O=Zs,R;for(_?(R=new Uint8Array(C.byteLength+_),R.set(b.subarray(0,_)),R.set(C,_),_=0):R=C;O<R.byteLength;){if(R[A]===wl&&R[O]===wl){this.trigger("data",R.subarray(A,O)),A+=Zs,O+=Zs;continue}A++,O++}A<R.byteLength&&(b.set(R.subarray(A),0),_=R.byteLength-A)},this.flush=function(){_===Zs&&b[0]===wl&&(this.trigger("data",b),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},ho.prototype=new Xs,Ca=function(){var b,_,C,A;Ca.prototype.init.call(this),A=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,b=function(O,R){var q=0;R.payloadUnitStartIndicator&&(q+=O[q]+1),R.type==="pat"?_(O.subarray(q),R):C(O.subarray(q),R)},_=function(O,R){R.section_number=O[7],R.last_section_number=O[8],A.pmtPid=(O[10]&31)<<8|O[11],R.pmtPid=A.pmtPid},C=function(O,R){var q,ee,ne,oe;if(O[5]&1){for(A.programMapTable={video:null,audio:null,"timed-metadata":{}},q=(O[1]&15)<<8|O[2],ee=3+q-4,ne=(O[10]&15)<<8|O[11],oe=12+ne;oe<ee;){var ve=O[oe],ke=(O[oe+1]&31)<<8|O[oe+2];ve===jr.H264_STREAM_TYPE&&A.programMapTable.video===null?A.programMapTable.video=ke:ve===jr.ADTS_STREAM_TYPE&&A.programMapTable.audio===null?A.programMapTable.audio=ke:ve===jr.METADATA_STREAM_TYPE&&(A.programMapTable["timed-metadata"][ke]=ve),oe+=((O[oe+3]&15)<<8|O[oe+4])+5}R.programMapTable=A.programMapTable}},this.push=function(O){var R={},q=4;if(R.payloadUnitStartIndicator=!!(O[1]&64),R.pid=O[1]&31,R.pid<<=8,R.pid|=O[2],(O[3]&48)>>>4>1&&(q+=O[q]+1),R.pid===0)R.type="pat",b(O.subarray(q),R),this.trigger("data",R);else if(R.pid===this.pmtPid)for(R.type="pmt",b(O.subarray(q),R),this.trigger("data",R);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([O,q,R]):this.processPes_(O,q,R)},this.processPes_=function(O,R,q){q.pid===this.programMapTable.video?q.streamType=jr.H264_STREAM_TYPE:q.pid===this.programMapTable.audio?q.streamType=jr.ADTS_STREAM_TYPE:q.streamType=this.programMapTable["timed-metadata"][q.pid],q.type="pes",q.data=O.subarray(R),this.trigger("data",q)}},Ca.prototype=new Xs,Ca.STREAM_TYPES={h264:27,adts:15},po=function(){var b=this,_=!1,C={data:[],size:0},A={data:[],size:0},O={data:[],size:0},R,q=function(ne,oe){var ve;const ke=ne[0]<<16|ne[1]<<8|ne[2];oe.data=new Uint8Array,ke===1&&(oe.packetLength=6+(ne[4]<<8|ne[5]),oe.dataAlignmentIndicator=(ne[6]&4)!==0,ve=ne[7],ve&192&&(oe.pts=(ne[9]&14)<<27|(ne[10]&255)<<20|(ne[11]&254)<<12|(ne[12]&255)<<5|(ne[13]&254)>>>3,oe.pts*=4,oe.pts+=(ne[13]&6)>>>1,oe.dts=oe.pts,ve&64&&(oe.dts=(ne[14]&14)<<27|(ne[15]&255)<<20|(ne[16]&254)<<12|(ne[17]&255)<<5|(ne[18]&254)>>>3,oe.dts*=4,oe.dts+=(ne[18]&6)>>>1)),oe.data=ne.subarray(9+ne[8]))},ee=function(ne,oe,ve){var ke=new Uint8Array(ne.size),$e={type:oe},Fe=0,pt=0,Ct=!1,qn;if(!(!ne.data.length||ne.size<9)){for($e.trackId=ne.data[0].pid,Fe=0;Fe<ne.data.length;Fe++)qn=ne.data[Fe],ke.set(qn.data,pt),pt+=qn.data.byteLength;q(ke,$e),Ct=oe==="video"||$e.packetLength<=ne.size,(ve||Ct)&&(ne.size=0,ne.data.length=0),Ct&&b.trigger("data",$e)}};po.prototype.init.call(this),this.push=function(ne){({pat:function(){},pes:function(){var oe,ve;switch(ne.streamType){case jr.H264_STREAM_TYPE:oe=C,ve="video";break;case jr.ADTS_STREAM_TYPE:oe=A,ve="audio";break;case jr.METADATA_STREAM_TYPE:oe=O,ve="timed-metadata";break;default:return}ne.payloadUnitStartIndicator&&ee(oe,ve,!0),oe.data.push(ne),oe.size+=ne.data.byteLength},pmt:function(){var oe={type:"metadata",tracks:[]};R=ne.programMapTable,R.video!==null&&oe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&oe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),_=!0,b.trigger("data",oe)}})[ne.type]()},this.reset=function(){C.size=0,C.data.length=0,A.size=0,A.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ee(C,"video"),ee(A,"audio"),ee(O,"timed-metadata")},this.flush=function(){if(!_&&R){var ne={type:"metadata",tracks:[]};R.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),b.trigger("data",ne)}_=!1,this.flushStreams_(),this.trigger("done")}},po.prototype=new Xs;var xc={PAT_PID:0,MP2T_PACKET_LENGTH:Zs,TransportPacketStream:ho,TransportParseStream:Ca,ElementaryStream:po,TimestampRolloverStream:Zf,CaptionStream:Cl.CaptionStream,Cea608Stream:Cl.Cea608Stream,Cea708Stream:Cl.Cea708Stream,MetadataStream:fo};for(var Sl in jr)jr.hasOwnProperty(Sl)&&(xc[Sl]=jr[Sl]);var Jf=xc,Hr=n,di=st.ONE_SECOND_IN_TS,mr,Cc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];mr=function(b){var _,C=0;mr.prototype.init.call(this),this.skipWarn_=function(A,O){this.trigger("log",{level:"warn",message:`adts skiping bytes ${A} to ${O} in frame ${C} outside syncword`})},this.push=function(A){var O=0,R,q,ee,ne,oe;if(b||(C=0),A.type==="audio"){_&&_.length?(ee=_,_=new Uint8Array(ee.byteLength+A.data.byteLength),_.set(ee),_.set(A.data,ee.byteLength)):_=A.data;for(var ve;O+7<_.length;){if(_[O]!==255||(_[O+1]&246)!==240){typeof ve!="number"&&(ve=O),O++;continue}if(typeof ve=="number"&&(this.skipWarn_(ve,O),ve=null),q=(~_[O+1]&1)*2,R=(_[O+3]&3)<<11|_[O+4]<<3|(_[O+5]&224)>>5,ne=((_[O+6]&3)+1)*1024,oe=ne*di/Cc[(_[O+2]&60)>>>2],_.byteLength-O<R)break;this.trigger("data",{pts:A.pts+C*oe,dts:A.dts+C*oe,sampleCount:ne,audioobjecttype:(_[O+2]>>>6&3)+1,channelcount:(_[O+2]&1)<<2|(_[O+3]&192)>>>6,samplerate:Cc[(_[O+2]&60)>>>2],samplingfrequencyindex:(_[O+2]&60)>>>2,samplesize:16,data:_.subarray(O+7+q,O+R)}),C++,O+=R}typeof ve=="number"&&(this.skipWarn_(ve,O),ve=null),_=_.subarray(O)}},this.flush=function(){C=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},mr.prototype=new Hr;var Ci=mr,wc;wc=function(b){var _=b.byteLength,C=0,A=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+A},this.loadWord=function(){var O=b.byteLength-_,R=new Uint8Array(4),q=Math.min(4,_);if(q===0)throw new Error("no bytes available");R.set(b.subarray(O,O+q)),C=new DataView(R.buffer).getUint32(0),A=q*8,_-=q},this.skipBits=function(O){var R;A>O?(C<<=O,A-=O):(O-=A,R=Math.floor(O/8),O-=R*8,_-=R,this.loadWord(),C<<=O,A-=O)},this.readBits=function(O){var R=Math.min(A,O),q=C>>>32-R;return A-=R,A>0?C<<=R:_>0&&this.loadWord(),R=O-R,R>0?q<<R|this.readBits(R):q},this.skipLeadingZeros=function(){var O;for(O=0;O<A;++O)if(C&2147483648>>>O)return C<<=O,A-=O,O;return this.loadWord(),O+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var O=this.skipLeadingZeros();return this.readBits(O+1)-1},this.readExpGolomb=function(){var O=this.readUnsignedExpGolomb();return 1&O?1+O>>>1:-1*(O>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Ge=wc,J0=n,B_=Ge,Sc,kl,q0;kl=function(){var b=0,_,C;kl.prototype.init.call(this),this.push=function(A){var O;C?(O=new Uint8Array(C.byteLength+A.data.byteLength),O.set(C),O.set(A.data,C.byteLength),C=O):C=A.data;for(var R=C.byteLength;b<R-3;b++)if(C[b+2]===1){_=b+5;break}for(;_<R;)switch(C[_]){case 0:if(C[_-1]!==0){_+=2;break}else if(C[_-2]!==0){_++;break}b+3!==_-2&&this.trigger("data",C.subarray(b+3,_-2));do _++;while(C[_]!==1&&_<R);b=_-2,_+=3;break;case 1:if(C[_-1]!==0||C[_-2]!==0){_+=3;break}this.trigger("data",C.subarray(b+3,_-2)),b=_-2,_+=3;break;default:_+=3;break}C=C.subarray(b),_-=b,b=0},this.reset=function(){C=null,b=0,this.trigger("reset")},this.flush=function(){C&&C.byteLength>3&&this.trigger("data",C.subarray(b+3)),C=null,b=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},kl.prototype=new J0,q0={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Sc=function(){var b=new kl,_,C,A,O,R,q,ee;Sc.prototype.init.call(this),_=this,this.push=function(ne){ne.type==="video"&&(C=ne.trackId,A=ne.pts,O=ne.dts,b.push(ne))},b.on("data",function(ne){var oe={trackId:C,pts:A,dts:O,data:ne,nalUnitTypeCode:ne[0]&31};switch(oe.nalUnitTypeCode){case 5:oe.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:oe.nalUnitType="sei_rbsp",oe.escapedRBSP=R(ne.subarray(1));break;case 7:oe.nalUnitType="seq_parameter_set_rbsp",oe.escapedRBSP=R(ne.subarray(1)),oe.config=q(oe.escapedRBSP);break;case 8:oe.nalUnitType="pic_parameter_set_rbsp";break;case 9:oe.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",oe)}),b.on("done",function(){_.trigger("done")}),b.on("partialdone",function(){_.trigger("partialdone")}),b.on("reset",function(){_.trigger("reset")}),b.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){b.flush()},this.partialFlush=function(){b.partialFlush()},this.reset=function(){b.reset()},this.endTimeline=function(){b.endTimeline()},ee=function(ne,oe){var ve=8,ke=8,$e,Fe;for($e=0;$e<ne;$e++)ke!==0&&(Fe=oe.readExpGolomb(),ke=(ve+Fe+256)%256),ve=ke===0?ve:ke},R=function(ne){for(var oe=ne.byteLength,ve=[],ke=1,$e,Fe;ke<oe-2;)ne[ke]===0&&ne[ke+1]===0&&ne[ke+2]===3?(ve.push(ke+2),ke+=2):ke++;if(ve.length===0)return ne;$e=oe-ve.length,Fe=new Uint8Array($e);var pt=0;for(ke=0;ke<$e;pt++,ke++)pt===ve[0]&&(pt++,ve.shift()),Fe[ke]=ne[pt];return Fe},q=function(ne){var oe=0,ve=0,ke=0,$e=0,Fe,pt,Ct,qn,Qi,Ml,TO,EO,AO,rT,xO,zn=[1,1],CO,Ol;if(Fe=new B_(ne),pt=Fe.readUnsignedByte(),qn=Fe.readUnsignedByte(),Ct=Fe.readUnsignedByte(),Fe.skipUnsignedExpGolomb(),q0[pt]&&(Qi=Fe.readUnsignedExpGolomb(),Qi===3&&Fe.skipBits(1),Fe.skipUnsignedExpGolomb(),Fe.skipUnsignedExpGolomb(),Fe.skipBits(1),Fe.readBoolean()))for(xO=Qi!==3?8:12,Ol=0;Ol<xO;Ol++)Fe.readBoolean()&&(Ol<6?ee(16,Fe):ee(64,Fe));if(Fe.skipUnsignedExpGolomb(),Ml=Fe.readUnsignedExpGolomb(),Ml===0)Fe.readUnsignedExpGolomb();else if(Ml===1)for(Fe.skipBits(1),Fe.skipExpGolomb(),Fe.skipExpGolomb(),TO=Fe.readUnsignedExpGolomb(),Ol=0;Ol<TO;Ol++)Fe.skipExpGolomb();if(Fe.skipUnsignedExpGolomb(),Fe.skipBits(1),EO=Fe.readUnsignedExpGolomb(),AO=Fe.readUnsignedExpGolomb(),rT=Fe.readBits(1),rT===0&&Fe.skipBits(1),Fe.skipBits(1),Fe.readBoolean()&&(oe=Fe.readUnsignedExpGolomb(),ve=Fe.readUnsignedExpGolomb(),ke=Fe.readUnsignedExpGolomb(),$e=Fe.readUnsignedExpGolomb()),Fe.readBoolean()&&Fe.readBoolean()){switch(CO=Fe.readUnsignedByte(),CO){case 1:zn=[1,1];break;case 2:zn=[12,11];break;case 3:zn=[10,11];break;case 4:zn=[16,11];break;case 5:zn=[40,33];break;case 6:zn=[24,11];break;case 7:zn=[20,11];break;case 8:zn=[32,11];break;case 9:zn=[80,33];break;case 10:zn=[18,11];break;case 11:zn=[15,11];break;case 12:zn=[64,33];break;case 13:zn=[160,99];break;case 14:zn=[4,3];break;case 15:zn=[3,2];break;case 16:zn=[2,1];break;case 255:{zn=[Fe.readUnsignedByte()<<8|Fe.readUnsignedByte(),Fe.readUnsignedByte()<<8|Fe.readUnsignedByte()];break}}zn&&zn[0]/zn[1]}return{profileIdc:pt,levelIdc:Ct,profileCompatibility:qn,width:(EO+1)*16-oe*2-ve*2,height:(2-rT)*(AO+1)*16-ke*2-$e*2,sarRatio:zn}}},Sc.prototype=new J0;var P_={H264Stream:Sc,NalByteStream:kl},F_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],$0=function(b,_){var C=b[_+6]<<21|b[_+7]<<14|b[_+8]<<7|b[_+9],A=b[_+5],O=(A&16)>>4;return C=C>=0?C:0,O?C+20:C+10},eg=function(b,_){return b.length-_<10||b[_]!==73||b[_+1]!==68||b[_+2]!==51?_:(_+=$0(b,_),eg(b,_))},U_=function(b){var _=eg(b,0);return b.length>=_+2&&(b[_]&255)===255&&(b[_+1]&240)===240&&(b[_+1]&22)===16},tg=function(b){return b[0]<<21|b[1]<<14|b[2]<<7|b[3]},j_=function(b,_,C){var A,O="";for(A=_;A<C;A++)O+="%"+("00"+b[A].toString(16)).slice(-2);return O},H_=function(b,_,C){return unescape(j_(b,_,C))},z_=function(b,_){var C=(b[_+5]&224)>>5,A=b[_+4]<<3,O=b[_+3]&6144;return O|A|C},V_=function(b,_){return b[_]===73&&b[_+1]===68&&b[_+2]===51?"timed-metadata":b[_]&!0&&(b[_+1]&240)===240?"audio":null},W_=function(b){for(var _=0;_+5<b.length;){if(b[_]!==255||(b[_+1]&246)!==240){_++;continue}return F_[(b[_+2]&60)>>>2]}return null},G_=function(b){var _,C,A,O;_=10,b[5]&64&&(_+=4,_+=tg(b.subarray(10,14)));do{if(C=tg(b.subarray(_+4,_+8)),C<1)return null;if(O=String.fromCharCode(b[_],b[_+1],b[_+2],b[_+3]),O==="PRIV"){A=b.subarray(_+10,_+C+10);for(var R=0;R<A.byteLength;R++)if(A[R]===0){var q=H_(A,0,R);if(q==="com.apple.streaming.transportStreamTimestamp"){var ee=A.subarray(R+1),ne=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;return ne*=4,ne+=ee[7]&3,ne}break}}_+=10,_+=C}while(_<b.byteLength);return null},ln={isLikelyAacData:U_,parseId3TagSize:$0,parseAdtsSize:z_,parseType:V_,parseSampleRate:W_,parseAacTimestamp:G_},be=n,Se=ln,Xt;Xt=function(){var b=new Uint8Array,_=0;Xt.prototype.init.call(this),this.setTimestamp=function(C){_=C},this.push=function(C){var A=0,O=0,R,q,ee,ne;for(b.length?(ne=b.length,b=new Uint8Array(C.byteLength+ne),b.set(b.subarray(0,ne)),b.set(C,ne)):b=C;b.length-O>=3;){if(b[O]===73&&b[O+1]===68&&b[O+2]===51){if(b.length-O<10||(A=Se.parseId3TagSize(b,O),O+A>b.length))break;q={type:"timed-metadata",data:b.subarray(O,O+A)},this.trigger("data",q),O+=A;continue}else if((b[O]&255)===255&&(b[O+1]&240)===240){if(b.length-O<7||(A=Se.parseAdtsSize(b,O),O+A>b.length))break;ee={type:"audio",data:b.subarray(O,O+A),pts:_,dts:_},this.trigger("data",ee),O+=A;continue}O++}R=b.length-O,R>0?b=b.subarray(O):b=new Uint8Array},this.reset=function(){b=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){b=new Uint8Array,this.trigger("endedtimeline")}},Xt.prototype=new be;var Y_=Xt,Il=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],qf=Il,Q_=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],p_e=Q_,ng=n,$f=re,eh=ue,rg=bs,ys=Ti,wa=Jf,ig=st,q8=Ci,m_e=P_.H264Stream,g_e=Y_,b_e=ln.isLikelyAacData,v_e=st.ONE_SECOND_IN_TS,K_=qf,X_=p_e,th,kc,sg,Dl,y_e=function(b,_){_.stream=b,this.trigger("log",_)},$8=function(b,_){for(var C=Object.keys(_),A=0;A<C.length;A++){var O=C[A];O==="headOfPipeline"||!_[O].on||_[O].on("log",y_e.bind(b,O))}},eO=function(b,_){var C;if(b.length!==_.length)return!1;for(C=0;C<b.length;C++)if(b[C]!==_[C])return!1;return!0},Z_=function(b,_,C,A,O,R){var q=C-_,ee=A-_,ne=O-C;return{start:{dts:b,pts:b+q},end:{dts:b+ee,pts:b+ne},prependedContentDuration:R,baseMediaDecodeTime:b}};kc=function(b,_){var C=[],A,O=0,R=0,q=1/0;_=_||{},A=_.firstSequenceNumber||0,kc.prototype.init.call(this),this.push=function(ee){ys.collectDtsInfo(b,ee),b&&K_.forEach(function(ne){b[ne]=ee[ne]}),C.push(ee)},this.setEarliestDts=function(ee){O=ee},this.setVideoBaseMediaDecodeTime=function(ee){q=ee},this.setAudioAppendStart=function(ee){R=ee},this.flush=function(){var ee,ne,oe,ve,ke,$e,Fe;if(C.length===0){this.trigger("done","AudioSegmentStream");return}ee=rg.trimAdtsFramesByEarliestDts(C,b,O),b.baseMediaDecodeTime=ys.calculateTrackBaseMediaDecodeTime(b,_.keepOriginalTimestamps),Fe=rg.prefixWithSilence(b,ee,R,q),b.samples=rg.generateSampleTable(ee),oe=$f.mdat(rg.concatenateFrameData(ee)),C=[],ne=$f.moof(A,[b]),ve=new Uint8Array(ne.byteLength+oe.byteLength),A++,ve.set(ne),ve.set(oe,ne.byteLength),ys.clearDtsInfo(b),ke=Math.ceil(v_e*1024/b.samplerate),ee.length&&($e=ee.length*ke,this.trigger("segmentTimingInfo",Z_(ig.audioTsToVideoTs(b.baseMediaDecodeTime,b.samplerate),ee[0].dts,ee[0].pts,ee[0].dts+$e,ee[0].pts+$e,Fe||0)),this.trigger("timingInfo",{start:ee[0].pts,end:ee[0].pts+$e})),this.trigger("data",{track:b,boxes:ve}),this.trigger("done","AudioSegmentStream")},this.reset=function(){ys.clearDtsInfo(b),C=[],this.trigger("reset")}},kc.prototype=new ng,th=function(b,_){var C,A=[],O=[],R,q;_=_||{},C=_.firstSequenceNumber||0,th.prototype.init.call(this),delete b.minPTS,this.gopCache_=[],this.push=function(ee){ys.collectDtsInfo(b,ee),ee.nalUnitType==="seq_parameter_set_rbsp"&&!R&&(R=ee.config,b.sps=[ee.data],X_.forEach(function(ne){b[ne]=R[ne]},this)),ee.nalUnitType==="pic_parameter_set_rbsp"&&!q&&(q=ee.data,b.pps=[ee.data]),A.push(ee)},this.flush=function(){for(var ee,ne,oe,ve,ke,$e,Fe=0,pt,Ct;A.length&&A[0].nalUnitType!=="access_unit_delimiter_rbsp";)A.shift();if(A.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ee=eh.groupNalsIntoFrames(A),oe=eh.groupFramesIntoGops(ee),oe[0][0].keyFrame||(ne=this.getGopForFusion_(A[0],b),ne?(Fe=ne.duration,oe.unshift(ne),oe.byteLength+=ne.byteLength,oe.nalCount+=ne.nalCount,oe.pts=ne.pts,oe.dts=ne.dts,oe.duration+=ne.duration):oe=eh.extendFirstKeyFrame(oe)),O.length){var qn;if(_.alignGopsAtEnd?qn=this.alignGopsAtEnd_(oe):qn=this.alignGopsAtStart_(oe),!qn){this.gopCache_.unshift({gop:oe.pop(),pps:b.pps,sps:b.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),A=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}ys.clearDtsInfo(b),oe=qn}ys.collectDtsInfo(b,oe),b.samples=eh.generateSampleTable(oe),ke=$f.mdat(eh.concatenateNalData(oe)),b.baseMediaDecodeTime=ys.calculateTrackBaseMediaDecodeTime(b,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",oe.map(function(Qi){return{pts:Qi.pts,dts:Qi.dts,byteLength:Qi.byteLength}})),pt=oe[0],Ct=oe[oe.length-1],this.trigger("segmentTimingInfo",Z_(b.baseMediaDecodeTime,pt.dts,pt.pts,Ct.dts+Ct.duration,Ct.pts+Ct.duration,Fe)),this.trigger("timingInfo",{start:oe[0].pts,end:oe[oe.length-1].pts+oe[oe.length-1].duration}),this.gopCache_.unshift({gop:oe.pop(),pps:b.pps,sps:b.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),A=[],this.trigger("baseMediaDecodeTime",b.baseMediaDecodeTime),this.trigger("timelineStartInfo",b.timelineStartInfo),ve=$f.moof(C,[b]),$e=new Uint8Array(ve.byteLength+ke.byteLength),C++,$e.set(ve),$e.set(ke,ve.byteLength),this.trigger("data",{track:b,boxes:$e}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),A=[],this.gopCache_.length=0,O.length=0,this.trigger("reset")},this.resetStream_=function(){ys.clearDtsInfo(b),R=void 0,q=void 0},this.getGopForFusion_=function(ee){var ne=45e3,oe=1e4,ve=1/0,ke,$e,Fe,pt,Ct;for(Ct=0;Ct<this.gopCache_.length;Ct++)pt=this.gopCache_[Ct],Fe=pt.gop,!(!(b.pps&&eO(b.pps[0],pt.pps[0]))||!(b.sps&&eO(b.sps[0],pt.sps[0])))&&(Fe.dts<b.timelineStartInfo.dts||(ke=ee.dts-Fe.dts-Fe.duration,ke>=-oe&&ke<=ne&&(!$e||ve>ke)&&($e=pt,ve=ke)));return $e?$e.gop:null},this.alignGopsAtStart_=function(ee){var ne,oe,ve,ke,$e,Fe,pt,Ct;for($e=ee.byteLength,Fe=ee.nalCount,pt=ee.duration,ne=oe=0;ne<O.length&&oe<ee.length&&(ve=O[ne],ke=ee[oe],ve.pts!==ke.pts);){if(ke.pts>ve.pts){ne++;continue}oe++,$e-=ke.byteLength,Fe-=ke.nalCount,pt-=ke.duration}return oe===0?ee:oe===ee.length?null:(Ct=ee.slice(oe),Ct.byteLength=$e,Ct.duration=pt,Ct.nalCount=Fe,Ct.pts=Ct[0].pts,Ct.dts=Ct[0].dts,Ct)},this.alignGopsAtEnd_=function(ee){var ne,oe,ve,ke,$e,Fe;for(ne=O.length-1,oe=ee.length-1,$e=null,Fe=!1;ne>=0&&oe>=0;){if(ve=O[ne],ke=ee[oe],ve.pts===ke.pts){Fe=!0;break}if(ve.pts>ke.pts){ne--;continue}ne===O.length-1&&($e=oe),oe--}if(!Fe&&$e===null)return null;var pt;if(Fe?pt=oe:pt=$e,pt===0)return ee;var Ct=ee.slice(pt),qn=Ct.reduce(function(Qi,Ml){return Qi.byteLength+=Ml.byteLength,Qi.duration+=Ml.duration,Qi.nalCount+=Ml.nalCount,Qi},{byteLength:0,duration:0,nalCount:0});return Ct.byteLength=qn.byteLength,Ct.duration=qn.duration,Ct.nalCount=qn.nalCount,Ct.pts=Ct[0].pts,Ct.dts=Ct[0].dts,Ct},this.alignGopsWith=function(ee){O=ee}},th.prototype=new ng,Dl=function(b,_){this.numberOfTracks=0,this.metadataStream=_,b=b||{},typeof b.remux<"u"?this.remuxTracks=!!b.remux:this.remuxTracks=!0,typeof b.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=b.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Dl.prototype.init.call(this),this.push=function(C){if(C.content||C.text)return this.pendingCaptions.push(C);if(C.frames)return this.pendingMetadata.push(C);this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,C.track.type==="video"&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),C.track.type==="audio"&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))}},Dl.prototype=new ng,Dl.prototype.flush=function(b){var _=0,C={captions:[],captionStreams:{},metadata:[],info:{}},A,O,R,q=0,ee;if(this.pendingTracks.length<this.numberOfTracks){if(b!=="VideoSegmentStream"&&b!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(q=this.videoTrack.timelineStartInfo.pts,X_.forEach(function(ne){C.info[ne]=this.videoTrack[ne]},this)):this.audioTrack&&(q=this.audioTrack.timelineStartInfo.pts,K_.forEach(function(ne){C.info[ne]=this.audioTrack[ne]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?C.type=this.pendingTracks[0].type:C.type="combined",this.emittedTracks+=this.pendingTracks.length,R=$f.initSegment(this.pendingTracks),C.initSegment=new Uint8Array(R.byteLength),C.initSegment.set(R),C.data=new Uint8Array(this.pendingBytes),ee=0;ee<this.pendingBoxes.length;ee++)C.data.set(this.pendingBoxes[ee],_),_+=this.pendingBoxes[ee].byteLength;for(ee=0;ee<this.pendingCaptions.length;ee++)A=this.pendingCaptions[ee],A.startTime=ig.metadataTsToSeconds(A.startPts,q,this.keepOriginalTimestamps),A.endTime=ig.metadataTsToSeconds(A.endPts,q,this.keepOriginalTimestamps),C.captionStreams[A.stream]=!0,C.captions.push(A);for(ee=0;ee<this.pendingMetadata.length;ee++)O=this.pendingMetadata[ee],O.cueTime=ig.metadataTsToSeconds(O.pts,q,this.keepOriginalTimestamps),C.metadata.push(O);for(C.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",C),ee=0;ee<C.captions.length;ee++)A=C.captions[ee],this.trigger("caption",A);for(ee=0;ee<C.metadata.length;ee++)O=C.metadata[ee],this.trigger("id3Frame",O)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Dl.prototype.setRemux=function(b){this.remuxTracks=b},sg=function(b){var _=this,C=!0,A,O;sg.prototype.init.call(this),b=b||{},this.baseMediaDecodeTime=b.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="aac",R.metadataStream=new wa.MetadataStream,R.aacStream=new g_e,R.audioTimestampRolloverStream=new wa.TimestampRolloverStream("audio"),R.timedMetadataTimestampRolloverStream=new wa.TimestampRolloverStream("timed-metadata"),R.adtsStream=new q8,R.coalesceStream=new Dl(b,R.metadataStream),R.headOfPipeline=R.aacStream,R.aacStream.pipe(R.audioTimestampRolloverStream).pipe(R.adtsStream),R.aacStream.pipe(R.timedMetadataTimestampRolloverStream).pipe(R.metadataStream).pipe(R.coalesceStream),R.metadataStream.on("timestamp",function(q){R.aacStream.setTimestamp(q.timeStamp)}),R.aacStream.on("data",function(q){q.type!=="timed-metadata"&&q.type!=="audio"||R.audioSegmentStream||(O=O||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new kc(O,b),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream),_.trigger("trackinfo",{hasAudio:!!O,hasVideo:!!A}))}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),$8(this,R)},this.setupTsPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="ts",R.metadataStream=new wa.MetadataStream,R.packetStream=new wa.TransportPacketStream,R.parseStream=new wa.TransportParseStream,R.elementaryStream=new wa.ElementaryStream,R.timestampRolloverStream=new wa.TimestampRolloverStream,R.adtsStream=new q8,R.h264Stream=new m_e,R.captionStream=new wa.CaptionStream(b),R.coalesceStream=new Dl(b,R.metadataStream),R.headOfPipeline=R.packetStream,R.packetStream.pipe(R.parseStream).pipe(R.elementaryStream).pipe(R.timestampRolloverStream),R.timestampRolloverStream.pipe(R.h264Stream),R.timestampRolloverStream.pipe(R.adtsStream),R.timestampRolloverStream.pipe(R.metadataStream).pipe(R.coalesceStream),R.h264Stream.pipe(R.captionStream).pipe(R.coalesceStream),R.elementaryStream.on("data",function(q){var ee;if(q.type==="metadata"){for(ee=q.tracks.length;ee--;)!A&&q.tracks[ee].type==="video"?(A=q.tracks[ee],A.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!O&&q.tracks[ee].type==="audio"&&(O=q.tracks[ee],O.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);A&&!R.videoSegmentStream&&(R.coalesceStream.numberOfTracks++,R.videoSegmentStream=new th(A,b),R.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),R.videoSegmentStream.on("timelineStartInfo",function(ne){O&&!b.keepOriginalTimestamps&&(O.timelineStartInfo=ne,R.audioSegmentStream.setEarliestDts(ne.dts-_.baseMediaDecodeTime))}),R.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),R.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),R.videoSegmentStream.on("baseMediaDecodeTime",function(ne){O&&R.audioSegmentStream.setVideoBaseMediaDecodeTime(ne)}),R.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),R.h264Stream.pipe(R.videoSegmentStream).pipe(R.coalesceStream)),O&&!R.audioSegmentStream&&(R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new kc(O,b),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!O,hasVideo:!!A})}}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("id3Frame",function(q){q.dispatchType=R.metadataStream.dispatchType,_.trigger("id3Frame",q)}),R.coalesceStream.on("caption",this.trigger.bind(this,"caption")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),$8(this,R)},this.setBaseMediaDecodeTime=function(R){var q=this.transmuxPipeline_;b.keepOriginalTimestamps||(this.baseMediaDecodeTime=R),O&&(O.timelineStartInfo.dts=void 0,O.timelineStartInfo.pts=void 0,ys.clearDtsInfo(O),q.audioTimestampRolloverStream&&q.audioTimestampRolloverStream.discontinuity()),A&&(q.videoSegmentStream&&(q.videoSegmentStream.gopCache_=[]),A.timelineStartInfo.dts=void 0,A.timelineStartInfo.pts=void 0,ys.clearDtsInfo(A),q.captionStream.reset()),q.timestampRolloverStream&&q.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(R){O&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(R)},this.setRemux=function(R){var q=this.transmuxPipeline_;b.remux=R,q&&q.coalesceStream&&q.coalesceStream.setRemux(R)},this.alignGopsWith=function(R){A&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(R)},this.getLogTrigger_=function(R){var q=this;return function(ee){ee.stream=R,q.trigger("log",ee)}},this.push=function(R){if(C){var q=b_e(R);q&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!q&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(R)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},sg.prototype=new ng;var __e={Transmuxer:sg,VideoSegmentStream:th,AudioSegmentStream:kc,AUDIO_PROPERTIES:K_,VIDEO_PROPERTIES:X_,generateSegmentTimingInfo:Z_},T_e=function(b){return b>>>0},E_e=function(b){return("00"+b.toString(16)).slice(-2)},ag={toUnsigned:T_e,toHexString:E_e},A_e=function(b){var _="";return _+=String.fromCharCode(b[0]),_+=String.fromCharCode(b[1]),_+=String.fromCharCode(b[2]),_+=String.fromCharCode(b[3]),_},tO=A_e,x_e=ag.toUnsigned,C_e=tO,nO=function(b,_){var C=[],A,O,R,q,ee;if(!_.length)return null;for(A=0;A<b.byteLength;)O=x_e(b[A]<<24|b[A+1]<<16|b[A+2]<<8|b[A+3]),R=C_e(b.subarray(A+4,A+8)),q=O>1?A+O:b.byteLength,R===_[0]&&(_.length===1?C.push(b.subarray(A+8,q)):(ee=nO(b.subarray(A+8,q),_.slice(1)),ee.length&&(C=C.concat(ee)))),A=q;return C},rO=nO,w_e=ag.toUnsigned,S_e=s.getUint64,k_e=function(b){var _={version:b[0],flags:new Uint8Array(b.subarray(1,4))};return _.version===1?_.baseMediaDecodeTime=S_e(b.subarray(4)):_.baseMediaDecodeTime=w_e(b[4]<<24|b[5]<<16|b[6]<<8|b[7]),_},iO=k_e,I_e=function(b){return{isLeading:(b[0]&12)>>>2,dependsOn:b[0]&3,isDependedOn:(b[1]&192)>>>6,hasRedundancy:(b[1]&48)>>>4,paddingValue:(b[1]&14)>>>1,isNonSyncSample:b[1]&1,degradationPriority:b[2]<<8|b[3]}},D_e=I_e,sO=D_e,N_e=function(b){var _={version:b[0],flags:new Uint8Array(b.subarray(1,4)),samples:[]},C=new DataView(b.buffer,b.byteOffset,b.byteLength),A=_.flags[2]&1,O=_.flags[2]&4,R=_.flags[1]&1,q=_.flags[1]&2,ee=_.flags[1]&4,ne=_.flags[1]&8,oe=C.getUint32(4),ve=8,ke;for(A&&(_.dataOffset=C.getInt32(ve),ve+=4),O&&oe&&(ke={flags:sO(b.subarray(ve,ve+4))},ve+=4,R&&(ke.duration=C.getUint32(ve),ve+=4),q&&(ke.size=C.getUint32(ve),ve+=4),ne&&(_.version===1?ke.compositionTimeOffset=C.getInt32(ve):ke.compositionTimeOffset=C.getUint32(ve),ve+=4),_.samples.push(ke),oe--);oe--;)ke={},R&&(ke.duration=C.getUint32(ve),ve+=4),q&&(ke.size=C.getUint32(ve),ve+=4),ee&&(ke.flags=sO(b.subarray(ve,ve+4)),ve+=4),ne&&(_.version===1?ke.compositionTimeOffset=C.getInt32(ve):ke.compositionTimeOffset=C.getUint32(ve),ve+=4),_.samples.push(ke);return _},aO=N_e,M_e=function(b){var _=new DataView(b.buffer,b.byteOffset,b.byteLength),C={version:b[0],flags:new Uint8Array(b.subarray(1,4)),trackId:_.getUint32(4)},A=C.flags[2]&1,O=C.flags[2]&2,R=C.flags[2]&8,q=C.flags[2]&16,ee=C.flags[2]&32,ne=C.flags[0]&65536,oe=C.flags[0]&131072,ve;return ve=8,A&&(ve+=4,C.baseDataOffset=_.getUint32(12),ve+=4),O&&(C.sampleDescriptionIndex=_.getUint32(ve),ve+=4),R&&(C.defaultSampleDuration=_.getUint32(ve),ve+=4),q&&(C.defaultSampleSize=_.getUint32(ve),ve+=4),ee&&(C.defaultSampleFlags=_.getUint32(ve)),ne&&(C.durationIsEmpty=!0),!A&&oe&&(C.baseDataOffsetIsMoof=!0),C},oO=M_e,nh;typeof window<"u"?nh=window:typeof t<"u"?nh=t:typeof self<"u"?nh=self:nh={};var lO=nh,O_e=Ur.discardEmulationPreventionBytes,L_e=Z0.CaptionStream,rh=rO,R_e=iO,B_e=aO,P_e=oO,uO=lO,F_e=function(b,_){for(var C=b,A=0;A<_.length;A++){var O=_[A];if(C<O.size)return O;C-=O.size}return null},U_e=function(b,_,C){var A=new DataView(b.buffer,b.byteOffset,b.byteLength),O={logs:[],seiNals:[]},R,q,ee,ne;for(q=0;q+4<b.length;q+=ee)if(ee=A.getUint32(q),q+=4,!(ee<=0))switch(b[q]&31){case 6:var oe=b.subarray(q+1,q+1+ee),ve=F_e(q,_);if(R={nalUnitType:"sei_rbsp",size:ee,data:oe,escapedRBSP:O_e(oe),trackId:C},ve)R.pts=ve.pts,R.dts=ve.dts,ne=ve;else if(ne)R.pts=ne.pts,R.dts=ne.dts;else{O.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+q+" for trackId "+C+". See mux.js#223."});break}O.seiNals.push(R);break}return O},j_e=function(b,_,C){var A=_,O=C.defaultSampleDuration||0,R=C.defaultSampleSize||0,q=C.trackId,ee=[];return b.forEach(function(ne){var oe=B_e(ne),ve=oe.samples;ve.forEach(function(ke){ke.duration===void 0&&(ke.duration=O),ke.size===void 0&&(ke.size=R),ke.trackId=q,ke.dts=A,ke.compositionTimeOffset===void 0&&(ke.compositionTimeOffset=0),typeof A=="bigint"?(ke.pts=A+uO.BigInt(ke.compositionTimeOffset),A+=uO.BigInt(ke.duration)):(ke.pts=A+ke.compositionTimeOffset,A+=ke.duration)}),ee=ee.concat(ve)}),ee},H_e=function(b,_){var C=rh(b,["moof","traf"]),A=rh(b,["mdat"]),O={},R=[];return A.forEach(function(q,ee){var ne=C[ee];R.push({mdat:q,traf:ne})}),R.forEach(function(q){var ee=q.mdat,ne=q.traf,oe=rh(ne,["tfhd"]),ve=P_e(oe[0]),ke=ve.trackId,$e=rh(ne,["tfdt"]),Fe=$e.length>0?R_e($e[0]).baseMediaDecodeTime:0,pt=rh(ne,["trun"]),Ct,qn;_===ke&&pt.length>0&&(Ct=j_e(pt,Fe,ve),qn=U_e(ee,Ct,ke),O[ke]||(O[ke]={seiNals:[],logs:[]}),O[ke].seiNals=O[ke].seiNals.concat(qn.seiNals),O[ke].logs=O[ke].logs.concat(qn.logs))}),O},z_e=function(b,_,C){var A;if(_===null)return null;A=H_e(b,_);var O=A[_]||{};return{seiNals:O.seiNals,logs:O.logs,timescale:C}},V_e=function(){var b=!1,_,C,A,O,R,q;this.isInitialized=function(){return b},this.init=function(ee){_=new L_e,b=!0,q=ee?ee.isPartial:!1,_.on("data",function(ne){ne.startTime=ne.startPts/O,ne.endTime=ne.endPts/O,R.captions.push(ne),R.captionStreams[ne.stream]=!0}),_.on("log",function(ne){R.logs.push(ne)})},this.isNewInit=function(ee,ne){return ee&&ee.length===0||ne&&typeof ne=="object"&&Object.keys(ne).length===0?!1:A!==ee[0]||O!==ne[A]},this.parse=function(ee,ne,oe){var ve;if(this.isInitialized()){if(!ne||!oe)return null;if(this.isNewInit(ne,oe))A=ne[0],O=oe[A];else if(A===null||!O)return C.push(ee),null}else return null;for(;C.length>0;){var ke=C.shift();this.parse(ke,ne,oe)}return ve=z_e(ee,A,O),ve&&ve.logs&&(R.logs=R.logs.concat(ve.logs)),ve===null||!ve.seiNals?R.logs.length?{logs:R.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ve.seiNals),this.flushStream(),R)},this.pushNals=function(ee){if(!this.isInitialized()||!ee||ee.length===0)return null;ee.forEach(function(ne){_.push(ne)})},this.flushStream=function(){if(!this.isInitialized())return null;q?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){R.captions=[],R.captionStreams={},R.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){C=[],A=null,O=null,R?this.clearParsedCaptions():R={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},W_e=V_e,G_e=function(b){for(var _=0,C=String.fromCharCode(b[_]),A="";C!=="\0";)A+=C,_++,C=String.fromCharCode(b[_]);return A+=C,A},Y_e={uint8ToCString:G_e},og=Y_e.uint8ToCString,Q_e=s.getUint64,K_e=function(b){var _=4,C=b[0],A,O,R,q,ee,ne,oe,ve;if(C===0){A=og(b.subarray(_)),_+=A.length,O=og(b.subarray(_)),_+=O.length;var ke=new DataView(b.buffer);R=ke.getUint32(_),_+=4,ee=ke.getUint32(_),_+=4,ne=ke.getUint32(_),_+=4,oe=ke.getUint32(_),_+=4}else if(C===1){var ke=new DataView(b.buffer);R=ke.getUint32(_),_+=4,q=Q_e(b.subarray(_)),_+=8,ne=ke.getUint32(_),_+=4,oe=ke.getUint32(_),_+=4,A=og(b.subarray(_)),_+=A.length,O=og(b.subarray(_)),_+=O.length}ve=new Uint8Array(b.subarray(_,b.byteLength));var $e={scheme_id_uri:A,value:O,timescale:R||1,presentation_time:q,presentation_time_delta:ee,event_duration:ne,id:oe,message_data:ve};return Z_e(C,$e)?$e:void 0},X_e=function(b,_,C,A){return b||b===0?b/_:A+C/_},Z_e=function(b,_){var C=_.scheme_id_uri!=="\0",A=b===0&&cO(_.presentation_time_delta)&&C,O=b===1&&cO(_.presentation_time)&&C;return!(b>1)&&A||O},cO=function(b){return b!==void 0||b!==null},J_e={parseEmsgBox:K_e,scaleTime:X_e},lg=ag.toUnsigned,ih=ag.toHexString,Hn=rO,Ic=tO,J_=J_e,q_e=oO,$_e=aO,eTe=iO,tTe=s.getUint64,dO,fO,hO,pO,mO,q_,gO,$_=lO,nTe=xa.parseId3Frames;dO=function(b){var _={},C=Hn(b,["moov","trak"]);return C.reduce(function(A,O){var R,q,ee,ne,oe;return R=Hn(O,["tkhd"])[0],!R||(q=R[0],ee=q===0?12:20,ne=lg(R[ee]<<24|R[ee+1]<<16|R[ee+2]<<8|R[ee+3]),oe=Hn(O,["mdia","mdhd"])[0],!oe)?null:(q=oe[0],ee=q===0?12:20,A[ne]=lg(oe[ee]<<24|oe[ee+1]<<16|oe[ee+2]<<8|oe[ee+3]),A)},_)},fO=function(b,_){var C;C=Hn(_,["moof","traf"]);var A=C.reduce(function(O,R){var q=Hn(R,["tfhd"])[0],ee=lg(q[4]<<24|q[5]<<16|q[6]<<8|q[7]),ne=b[ee]||9e4,oe=Hn(R,["tfdt"])[0],ve=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),ke;oe[0]===1?ke=tTe(oe.subarray(4,12)):ke=ve.getUint32(4);let $e;return typeof ke=="bigint"?$e=ke/$_.BigInt(ne):typeof ke=="number"&&!isNaN(ke)&&($e=ke/ne),$e<Number.MAX_SAFE_INTEGER&&($e=Number($e)),$e<O&&(O=$e),O},1/0);return typeof A=="bigint"||isFinite(A)?A:0},hO=function(b,_){var C=Hn(_,["moof","traf"]),A=0,O=0,R;if(C&&C.length){var q=Hn(C[0],["tfhd"])[0],ee=Hn(C[0],["trun"])[0],ne=Hn(C[0],["tfdt"])[0];if(q){var oe=q_e(q);R=oe.trackId}if(ne){var ve=eTe(ne);A=ve.baseMediaDecodeTime}if(ee){var ke=$_e(ee);ke.samples&&ke.samples.length&&(O=ke.samples[0].compositionTimeOffset||0)}}var $e=b[R]||9e4;typeof A=="bigint"&&(O=$_.BigInt(O),$e=$_.BigInt($e));var Fe=(A+O)/$e;return typeof Fe=="bigint"&&Fe<Number.MAX_SAFE_INTEGER&&(Fe=Number(Fe)),Fe},pO=function(b){var _=Hn(b,["moov","trak"]),C=[];return _.forEach(function(A){var O=Hn(A,["mdia","hdlr"]),R=Hn(A,["tkhd"]);O.forEach(function(q,ee){var ne=Ic(q.subarray(8,12)),oe=R[ee],ve,ke,$e;ne==="vide"&&(ve=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),ke=ve.getUint8(0),$e=ke===0?ve.getUint32(12):ve.getUint32(20),C.push($e))})}),C},q_=function(b){var _=b[0],C=_===0?12:20;return lg(b[C]<<24|b[C+1]<<16|b[C+2]<<8|b[C+3])},mO=function(b){var _=Hn(b,["moov","trak"]),C=[];return _.forEach(function(A){var O={},R=Hn(A,["tkhd"])[0],q,ee;R&&(q=new DataView(R.buffer,R.byteOffset,R.byteLength),ee=q.getUint8(0),O.id=ee===0?q.getUint32(12):q.getUint32(20));var ne=Hn(A,["mdia","hdlr"])[0];if(ne){var oe=Ic(ne.subarray(8,12));oe==="vide"?O.type="video":oe==="soun"?O.type="audio":O.type=oe}var ve=Hn(A,["mdia","minf","stbl","stsd"])[0];if(ve){var ke=ve.subarray(8);O.codec=Ic(ke.subarray(4,8));var $e=Hn(ke,[O.codec])[0],Fe,pt;$e&&(/^[asm]vc[1-9]$/i.test(O.codec)?(Fe=$e.subarray(78),pt=Ic(Fe.subarray(4,8)),pt==="avcC"&&Fe.length>11?(O.codec+=".",O.codec+=ih(Fe[9]),O.codec+=ih(Fe[10]),O.codec+=ih(Fe[11])):O.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(O.codec)?(Fe=$e.subarray(28),pt=Ic(Fe.subarray(4,8)),pt==="esds"&&Fe.length>20&&Fe[19]!==0?(O.codec+="."+ih(Fe[19]),O.codec+="."+ih(Fe[20]>>>2&63).replace(/^0/,"")):O.codec="mp4a.40.2"):O.codec=O.codec.toLowerCase())}var Ct=Hn(A,["mdia","mdhd"])[0];Ct&&(O.timescale=q_(Ct)),C.push(O)}),C},gO=function(b,_=0){var C=Hn(b,["emsg"]);return C.map(A=>{var O=J_.parseEmsgBox(new Uint8Array(A)),R=nTe(O.message_data);return{cueTime:J_.scaleTime(O.presentation_time,O.timescale,O.presentation_time_delta,_),duration:J_.scaleTime(O.event_duration,O.timescale),frames:R}})};var eT={findBox:Hn,parseType:Ic,timescale:dO,startTime:fO,compositionStartTime:hO,videoTrackIds:pO,tracks:mO,getTimescaleFromMediaHeader:q_,getEmsgID3:gO},tT=Ac,bO=function(b){var _=b[1]&31;return _<<=8,_|=b[2],_},ug=function(b){return!!(b[1]&64)},cg=function(b){var _=0;return(b[3]&48)>>>4>1&&(_+=b[4]+1),_},rTe=function(b,_){var C=bO(b);return C===0?"pat":C===_?"pmt":_?"pes":null},iTe=function(b){var _=ug(b),C=4+cg(b);return _&&(C+=b[C]+1),(b[C+10]&31)<<8|b[C+11]},sTe=function(b){var _={},C=ug(b),A=4+cg(b);if(C&&(A+=b[A]+1),!!(b[A+5]&1)){var O,R,q;O=(b[A+1]&15)<<8|b[A+2],R=3+O-4,q=(b[A+10]&15)<<8|b[A+11];for(var ee=12+q;ee<R;){var ne=A+ee;_[(b[ne+1]&31)<<8|b[ne+2]]=b[ne],ee+=((b[ne+3]&15)<<8|b[ne+4])+5}return _}},aTe=function(b,_){var C=bO(b),A=_[C];switch(A){case tT.H264_STREAM_TYPE:return"video";case tT.ADTS_STREAM_TYPE:return"audio";case tT.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},oTe=function(b){var _=ug(b);if(!_)return null;var C=4+cg(b);if(C>=b.byteLength)return null;var A=null,O;return O=b[C+7],O&192&&(A={},A.pts=(b[C+9]&14)<<27|(b[C+10]&255)<<20|(b[C+11]&254)<<12|(b[C+12]&255)<<5|(b[C+13]&254)>>>3,A.pts*=4,A.pts+=(b[C+13]&6)>>>1,A.dts=A.pts,O&64&&(A.dts=(b[C+14]&14)<<27|(b[C+15]&255)<<20|(b[C+16]&254)<<12|(b[C+17]&255)<<5|(b[C+18]&254)>>>3,A.dts*=4,A.dts+=(b[C+18]&6)>>>1)),A},nT=function(b){switch(b){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},lTe=function(b){for(var _=4+cg(b),C=b.subarray(_),A=0,O=0,R=!1,q;O<C.byteLength-3;O++)if(C[O+2]===1){A=O+5;break}for(;A<C.byteLength;)switch(C[A]){case 0:if(C[A-1]!==0){A+=2;break}else if(C[A-2]!==0){A++;break}O+3!==A-2&&(q=nT(C[O+3]&31),q==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0));do A++;while(C[A]!==1&&A<C.length);O=A-2,A+=3;break;case 1:if(C[A-1]!==0||C[A-2]!==0){A+=3;break}q=nT(C[O+3]&31),q==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0),O=A-2,A+=3;break;default:A+=3;break}return C=C.subarray(O),A-=O,O=0,C&&C.byteLength>3&&(q=nT(C[O+3]&31),q==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0)),R},uTe={parseType:rTe,parsePat:iTe,parsePmt:sTe,parsePayloadUnitStartIndicator:ug,parsePesType:aTe,parsePesTime:oTe,videoPacketContainsKeyFrame:lTe},vO=Ac,Dc=Gt.handleRollover,nn={};nn.ts=uTe,nn.aac=ln;var Nl=st.ONE_SECOND_IN_TS,zr=188,Js=71,cTe=function(b,_){for(var C=0,A=zr,O,R;A<b.byteLength;){if(b[C]===Js&&b[A]===Js){switch(O=b.subarray(C,A),R=nn.ts.parseType(O,_.pid),R){case"pat":_.pid=nn.ts.parsePat(O);break;case"pmt":var q=nn.ts.parsePmt(O);_.table=_.table||{},Object.keys(q).forEach(function(ee){_.table[ee]=q[ee]});break}C+=zr,A+=zr;continue}C++,A++}},yO=function(b,_,C){for(var A=0,O=zr,R,q,ee,ne,oe,ve=!1;O<=b.byteLength;){if(b[A]===Js&&(b[O]===Js||O===b.byteLength)){switch(R=b.subarray(A,O),q=nn.ts.parseType(R,_.pid),q){case"pes":ee=nn.ts.parsePesType(R,_.table),ne=nn.ts.parsePayloadUnitStartIndicator(R),ee==="audio"&&ne&&(oe=nn.ts.parsePesTime(R),oe&&(oe.type="audio",C.audio.push(oe),ve=!0));break}if(ve)break;A+=zr,O+=zr;continue}A++,O++}for(O=b.byteLength,A=O-zr,ve=!1;A>=0;){if(b[A]===Js&&(b[O]===Js||O===b.byteLength)){switch(R=b.subarray(A,O),q=nn.ts.parseType(R,_.pid),q){case"pes":ee=nn.ts.parsePesType(R,_.table),ne=nn.ts.parsePayloadUnitStartIndicator(R),ee==="audio"&&ne&&(oe=nn.ts.parsePesTime(R),oe&&(oe.type="audio",C.audio.push(oe),ve=!0));break}if(ve)break;A-=zr,O-=zr;continue}A--,O--}},dTe=function(b,_,C){for(var A=0,O=zr,R,q,ee,ne,oe,ve,ke,$e,Fe=!1,pt={data:[],size:0};O<b.byteLength;){if(b[A]===Js&&b[O]===Js){switch(R=b.subarray(A,O),q=nn.ts.parseType(R,_.pid),q){case"pes":if(ee=nn.ts.parsePesType(R,_.table),ne=nn.ts.parsePayloadUnitStartIndicator(R),ee==="video"&&(ne&&!Fe&&(oe=nn.ts.parsePesTime(R),oe&&(oe.type="video",C.video.push(oe),Fe=!0)),!C.firstKeyFrame)){if(ne&&pt.size!==0){for(ve=new Uint8Array(pt.size),ke=0;pt.data.length;)$e=pt.data.shift(),ve.set($e,ke),ke+=$e.byteLength;if(nn.ts.videoPacketContainsKeyFrame(ve)){var Ct=nn.ts.parsePesTime(ve);Ct?(C.firstKeyFrame=Ct,C.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}pt.size=0}pt.data.push(R),pt.size+=R.byteLength}break}if(Fe&&C.firstKeyFrame)break;A+=zr,O+=zr;continue}A++,O++}for(O=b.byteLength,A=O-zr,Fe=!1;A>=0;){if(b[A]===Js&&b[O]===Js){switch(R=b.subarray(A,O),q=nn.ts.parseType(R,_.pid),q){case"pes":ee=nn.ts.parsePesType(R,_.table),ne=nn.ts.parsePayloadUnitStartIndicator(R),ee==="video"&&ne&&(oe=nn.ts.parsePesTime(R),oe&&(oe.type="video",C.video.push(oe),Fe=!0));break}if(Fe)break;A-=zr,O-=zr;continue}A--,O--}},fTe=function(b,_){if(b.audio&&b.audio.length){var C=_;(typeof C>"u"||isNaN(C))&&(C=b.audio[0].dts),b.audio.forEach(function(R){R.dts=Dc(R.dts,C),R.pts=Dc(R.pts,C),R.dtsTime=R.dts/Nl,R.ptsTime=R.pts/Nl})}if(b.video&&b.video.length){var A=_;if((typeof A>"u"||isNaN(A))&&(A=b.video[0].dts),b.video.forEach(function(R){R.dts=Dc(R.dts,A),R.pts=Dc(R.pts,A),R.dtsTime=R.dts/Nl,R.ptsTime=R.pts/Nl}),b.firstKeyFrame){var O=b.firstKeyFrame;O.dts=Dc(O.dts,A),O.pts=Dc(O.pts,A),O.dtsTime=O.dts/Nl,O.ptsTime=O.pts/Nl}}},hTe=function(b){for(var _=!1,C=0,A=null,O=null,R=0,q=0,ee;b.length-q>=3;){var ne=nn.aac.parseType(b,q);switch(ne){case"timed-metadata":if(b.length-q<10){_=!0;break}if(R=nn.aac.parseId3TagSize(b,q),R>b.length){_=!0;break}O===null&&(ee=b.subarray(q,q+R),O=nn.aac.parseAacTimestamp(ee)),q+=R;break;case"audio":if(b.length-q<7){_=!0;break}if(R=nn.aac.parseAdtsSize(b,q),R>b.length){_=!0;break}A===null&&(ee=b.subarray(q,q+R),A=nn.aac.parseSampleRate(ee)),C++,q+=R;break;default:q++;break}if(_)return null}if(A===null||O===null)return null;var oe=Nl/A,ve={audio:[{type:"audio",dts:O,pts:O},{type:"audio",dts:O+C*1024*oe,pts:O+C*1024*oe}]};return ve},pTe=function(b){var _={pid:null,table:null},C={};cTe(b,_);for(var A in _.table)if(_.table.hasOwnProperty(A)){var O=_.table[A];switch(O){case vO.H264_STREAM_TYPE:C.video=[],dTe(b,_,C),C.video.length===0&&delete C.video;break;case vO.ADTS_STREAM_TYPE:C.audio=[],yO(b,_,C),C.audio.length===0&&delete C.audio;break}}return C},mTe=function(b,_){var C=nn.aac.isLikelyAacData(b),A;return C?A=hTe(b):A=pTe(b),!A||!A.audio&&!A.video?null:(fTe(A,_),A)},gTe={inspect:mTe,parseAudioPes_:yO};const bTe=function(b,_){_.on("data",function(C){const A=C.initSegment;C.initSegment={data:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength};const O=C.data;C.data=O.buffer,b.postMessage({action:"data",segment:C,byteOffset:O.byteOffset,byteLength:O.byteLength},[C.data])}),_.on("done",function(C){b.postMessage({action:"done"})}),_.on("gopInfo",function(C){b.postMessage({action:"gopInfo",gopInfo:C})}),_.on("videoSegmentTimingInfo",function(C){const A={start:{decode:st.videoTsToSeconds(C.start.dts),presentation:st.videoTsToSeconds(C.start.pts)},end:{decode:st.videoTsToSeconds(C.end.dts),presentation:st.videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:st.videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(A.prependedContentDuration=st.videoTsToSeconds(C.prependedContentDuration)),b.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:A})}),_.on("audioSegmentTimingInfo",function(C){const A={start:{decode:st.videoTsToSeconds(C.start.dts),presentation:st.videoTsToSeconds(C.start.pts)},end:{decode:st.videoTsToSeconds(C.end.dts),presentation:st.videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:st.videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(A.prependedContentDuration=st.videoTsToSeconds(C.prependedContentDuration)),b.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:A})}),_.on("id3Frame",function(C){b.postMessage({action:"id3Frame",id3Frame:C})}),_.on("caption",function(C){b.postMessage({action:"caption",caption:C})}),_.on("trackinfo",function(C){b.postMessage({action:"trackinfo",trackInfo:C})}),_.on("audioTimingInfo",function(C){b.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:st.videoTsToSeconds(C.start),end:st.videoTsToSeconds(C.end)}})}),_.on("videoTimingInfo",function(C){b.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:st.videoTsToSeconds(C.start),end:st.videoTsToSeconds(C.end)}})}),_.on("log",function(C){b.postMessage({action:"log",log:C})})};class _O{constructor(_,C){this.options=C||{},this.self=_,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new __e.Transmuxer(this.options),bTe(this.self,this.transmuxer)}pushMp4Captions(_){this.captionParser||(this.captionParser=new W_e,this.captionParser.init());const C=new Uint8Array(_.data,_.byteOffset,_.byteLength),A=this.captionParser.parse(C,_.trackIds,_.timescales);this.self.postMessage({action:"mp4Captions",captions:A&&A.captions||[],logs:A&&A.logs||[],data:C.buffer},[C.buffer])}probeMp4StartTime({timescales:_,data:C}){const A=eT.startTime(_,C);this.self.postMessage({action:"probeMp4StartTime",startTime:A,data:C},[C.buffer])}probeMp4Tracks({data:_}){const C=eT.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:C,data:_},[_.buffer])}probeEmsgID3({data:_,offset:C}){const A=eT.getEmsgID3(_,C);this.self.postMessage({action:"probeEmsgID3",id3Frames:A,emsgData:_},[_.buffer])}probeTs({data:_,baseStartTime:C}){const A=typeof C=="number"&&!isNaN(C)?C*st.ONE_SECOND_IN_TS:void 0,O=gTe.inspect(_,A);let R=null;O&&(R={hasVideo:O.video&&O.video.length===2||!1,hasAudio:O.audio&&O.audio.length===2||!1},R.hasVideo&&(R.videoStart=O.video[0].ptsTime),R.hasAudio&&(R.audioStart=O.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:R,data:_},[_.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(_){const C=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.transmuxer.push(C)}reset(){this.transmuxer.reset()}setTimestampOffset(_){const C=_.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(st.secondsToVideoTs(C)))}setAudioAppendStart(_){this.transmuxer.setAudioAppendStart(Math.ceil(st.secondsToVideoTs(_.appendStart)))}setRemux(_){this.transmuxer.setRemux(_.remux)}flush(_){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(_){this.transmuxer.alignGopsWith(_.gopsToAlignWith.slice())}}self.onmessage=function(b){if(b.data.action==="init"&&b.data.options){this.messageHandlers=new _O(self,b.data.options);return}this.messageHandlers||(this.messageHandlers=new _O(self)),b.data&&b.data.action&&b.data.action!=="init"&&this.messageHandlers[b.data.action]&&this.messageHandlers[b.data.action](b.data)}}));var Cee=l6(xee);const wee=(t,e,n)=>{const{type:r,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:d}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const f=t.data.segment.boxes||{data:t.data.segment.data},c={type:r,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(c.videoFrameDtsTime=l),typeof d<"u"&&(c.videoFramePtsTime=d),n(c)},See=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},kee=(t,e)=>{e.gopInfo=t.data.gopInfo},d6=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:c,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:g,onTransmuxerLog:v,isEndOfTimeline:y,segment:x,triggerSegmentEventFn:w}=t,I={buffer:[]};let k=y;const S=M=>{e.currentTransmux===t&&(M.data.action==="data"&&wee(M,I,a),M.data.action==="trackinfo"&&o(M.data.trackInfo),M.data.action==="gopInfo"&&kee(M,I),M.data.action==="audioTimingInfo"&&l(M.data.audioTimingInfo),M.data.action==="videoTimingInfo"&&d(M.data.videoTimingInfo),M.data.action==="videoSegmentTimingInfo"&&f(M.data.videoSegmentTimingInfo),M.data.action==="audioSegmentTimingInfo"&&c(M.data.audioSegmentTimingInfo),M.data.action==="id3Frame"&&h([M.data.id3Frame],M.data.id3Frame.dispatchType),M.data.action==="caption"&&p(M.data.caption),M.data.action==="endedtimeline"&&(k=!1,g()),M.data.action==="log"&&v(M.data.log),M.data.type==="transmuxed"&&(k||(e.onmessage=null,See({transmuxedData:I,callback:m}),f6(e))))},B=()=>{const M={message:"Received an error message from the transmuxer worker",metadata:{errorType:xe.Error.StreamingFailedToTransmuxSegment,segmentInfo:il({segment:x})}};m(null,M)};if(e.onmessage=S,e.onerror=B,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const M=n instanceof ArrayBuffer?n:n.buffer,D=n instanceof ArrayBuffer?0:n.byteOffset;w({type:"segmenttransmuxingstart",segment:x}),e.postMessage({action:"push",data:M,byteOffset:D,byteLength:n.byteLength},[M])}y&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},f6=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():d6(t.currentTransmux))},h6=(t,e)=>{t.postMessage({action:e}),f6(t)},p6=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,h6(e,t);return}e.transmuxQueue.push(h6.bind(null,e,t))},Iee=t=>{p6("reset",t)},Dee=t=>{p6("endTimeline",t)},m6=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,d6(t);return}t.transmuxer.transmuxQueue.push(t)};var q2={reset:Iee,endTimeline:Dee,transmux:m6,createTransmuxer:t=>{const e=new Cee;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e}};const lf=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,i=Bn({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;i.byteOffset=a?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},js={FAILURE:2,TIMEOUT:-101,ABORTED:-102},$2=t=>{t.forEach(e=>{e.abort()})},Nee=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),Mee=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},ey=(t,e)=>{const{requestType:n}=e,r=rl({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:js.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:js.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:js.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:js.FAILURE,xhr:e,metadata:r}:null},g6=(t,e,n,r)=>(i,s)=>{const a=s.response,o=ey(i,s);if(o)return n(o,t);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:js.FAILURE,xhr:s},t);const l=new DataView(a),d=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let c=0;c<e.length;c++)e[c].bytes=d;const f={uri:s.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:f}),n(null,t)},b6=(t,e)=>{const n=Uv(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,i=n||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${r}`,code:js.FAILURE,metadata:{mediaType:i}})}lf({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:i})=>(t.map.bytes=i,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},Oee=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(r,i)=>{const s=ey(r,i);if(s)return e(s,t);const a=new Uint8Array(i.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,b6(t,function(o){if(o)return o.xhr=i,o.status=i.status,e(o,t);e(null,t)})},Lee=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:r})=>(i,s)=>{const a=ey(i,s);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const o=n==="arraybuffer"||!s.responseText?s.response:Eee(s.responseText.substring(t.lastReachedChar||0));return t.stats=Nee(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},Ree=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{const m=t.map&&t.map.tracks||{},g=!!(m.audio&&m.video);let v=r.bind(null,t,"audio","start");const y=r.bind(null,t,"audio","end");let x=r.bind(null,t,"video","start");const w=r.bind(null,t,"video","end"),I=()=>m6({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:g,onData:k=>{k.type=k.type==="combined"?"video":k.type,f(t,k)},onTrackInfo:k=>{n&&(g&&(k.isMuxed=!0),n(t,k))},onAudioTimingInfo:k=>{v&&typeof k.start<"u"&&(v(k.start),v=null),y&&typeof k.end<"u"&&y(k.end)},onVideoTimingInfo:k=>{x&&typeof k.start<"u"&&(x(k.start),x=null),w&&typeof k.end<"u"&&w(k.end)},onVideoSegmentTimingInfo:k=>{const S={pts:{start:k.start.presentation,end:k.end.presentation},dts:{start:k.start.decode,end:k.end.decode}};p({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:S}),i(k)},onAudioSegmentTimingInfo:k=>{const S={pts:{start:k.start.pts,end:k.end.pts},dts:{start:k.start.dts,end:k.end.dts}};p({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:S}),s(k)},onId3:(k,S)=>{a(t,k,S)},onCaptions:k=>{o(t,[k])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:h,onDone:(k,S)=>{c&&(k.type=k.type==="combined"?"video":k.type,p({type:"segmenttransmuxingcomplete",segment:t}),c(S,t,k))},segment:t,triggerSegmentEventFn:p});lf({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:k=>{t.bytes=e=k.data;const S=k.result;S&&(n(t,{hasAudio:S.hasAudio,hasVideo:S.hasVideo,isMuxed:g}),n=null),I()}})},v6=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=new Uint8Array(e);if(dq(m)){t.isFmp4=!0;const{tracks:g}=t.map,v={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(v.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(v.videoCodec=g.video.codec),g.video&&g.audio&&(v.isMuxed=!0),n(t,v);const y=(x,w)=>{f(t,{data:m,type:v.hasAudio&&!v.isMuxed?"audio":"video"}),w&&w.length&&a(t,w),x&&x.length&&o(t,x),c(null,t,{})};lf({action:"probeMp4StartTime",timescales:t.map.timescales,data:m,transmuxer:t.transmuxer,callback:({data:x,startTime:w})=>{e=x.buffer,t.bytes=m=x,v.hasAudio&&!v.isMuxed&&r(t,"audio","start",w),v.hasVideo&&r(t,"video","start",w),lf({action:"probeEmsgID3",data:m,transmuxer:t.transmuxer,offset:w,callback:({emsgData:I,id3Frames:k})=>{if(e=I.buffer,t.bytes=m=I,!g.video||!I.byteLength||!t.transmuxer){y(void 0,k);return}lf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:m,timescales:t.map.timescales,trackIds:[g.video.id],callback:S=>{e=S.data.buffer,t.bytes=m=S.data,S.logs.forEach(function(B){h(Zt(B,{stream:"mp4CaptionParser"}))}),y(S.captions,k)}})}})}});return}if(!t.transmuxer){c(null,t,{});return}if(typeof t.container>"u"&&(t.container=Uv(m)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),c(null,t,{});return}Ree({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})},y6=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r,segment:i,doneFn:s},a){const o=d=>{if(d.data.source===t){r.removeEventListener("message",o);const f=d.data.decrypted;a(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};r.onerror=()=>{const d="An error occurred in the decryption worker",f=il({segment:i}),c={message:d,metadata:{error:new Error(d),errorType:xe.Error.StreamingFailedToDecryptSegment,segmentInfo:f,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(c,i)},r.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(e6({source:t,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},Bee=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{p({type:"segmentdecryptionstart"}),y6({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:c},m=>{e.bytes=m,p({type:"segmentdecryptioncomplete",segment:e}),v6({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})})},Pee=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=0,g=!1;return(v,y)=>{if(!g){if(v)return g=!0,$2(t),c(v,y);if(m+=1,m===t.length){const x=function(){if(y.encryptedBytes)return Bee({decryptionWorker:e,segment:y,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p});v6({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return p({type:"segmentdecryptionstart",segment:y}),y6({decryptionWorker:e,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:c},w=>{y.map.bytes=w,p({type:"segmentdecryptioncomplete",segment:y}),b6(y,I=>{if(I)return $2(t),c(I,y);x()})});x()}}}},Fee=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},Uee=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f})=>c=>{if(!c.target.aborted)return t.stats=Zt(t.stats,Mee(c)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(c,t)},jee=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:v,triggerSegmentEventFn:y})=>{const x=[],w=Pee({activeXhrs:x,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:v,triggerSegmentEventFn:y});if(r.key&&!r.key.bytes){const M=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&M.push(r.map.key);const D=Zt(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),L=g6(r,M,w,y),z={uri:r.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:z});const U=t(D,L);x.push(U)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const U=Zt(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),F=g6(r,[r.map.key],w,y),H={uri:r.map.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:H});const K=t(U,F);x.push(K)}const D=Zt(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:X2(r.map),requestType:"segment-media-initialization"}),L=Oee({segment:r,finishProcessingFn:w,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const z=t(D,L);x.push(z)}const I=Zt(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:X2(r),requestType:"segment"}),k=Lee({segment:r,finishProcessingFn:w,responseType:I.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const S=t(I,k);S.addEventListener("progress",Uee({segment:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),x.push(S);const B={};return x.forEach(M=>{M.addEventListener("loadend",Fee({loadendState:B,abortFn:i}))}),()=>$2(x)},Hee=Li("CodecUtils"),zee=function(t){const e=t.attributes||{};if(e.CODECS)return Ds(e.CODECS)},_6=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},Vee=(t,e)=>{if(!_6(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1},Gm=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:i})=>{e[n]=e[n]||[],e[n].push(ES(`${r}${i}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){Hee(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},T6=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},uf=function(t,e){const n=e.attributes||{},r=Gm(zee(e)||[]);if(_6(t,e)&&!r.audio&&!Vee(t,e)){const i=Gm(dZ(t,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},Ym=Li("PlaylistSelector"),E6=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},Qm=function(t,e){if(!t)return"";const n=se.getComputedStyle(t);return n?n[e]:""},Vu=function(t,e){const n=t.slice();t.sort(function(r,i){const s=e(r,i);return s===0?n.indexOf(r)-n.indexOf(i):s})},ty=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||se.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||se.Number.MAX_VALUE,n-r},Wee=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||se.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||se.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let A6=function(t,e,n,r,i,s){if(!t)return;const a={bandwidth:e,width:n,height:r,limitRenditionByPlayerDimensions:i};let o=t.playlists;ii.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(k=>{let S;const B=k.attributes&&k.attributes.RESOLUTION&&k.attributes.RESOLUTION.width,M=k.attributes&&k.attributes.RESOLUTION&&k.attributes.RESOLUTION.height;return S=k.attributes&&k.attributes.BANDWIDTH,S=S||se.Number.MAX_VALUE,{bandwidth:S,width:B,height:M,playlist:k}});Vu(l,(k,S)=>k.bandwidth-S.bandwidth),l=l.filter(k=>!ii.isIncompatible(k.playlist));let d=l.filter(k=>ii.isEnabled(k.playlist));d.length||(d=l.filter(k=>!ii.isDisabled(k.playlist)));const f=d.filter(k=>k.bandwidth*sr.BANDWIDTH_VARIANCE<e);let c=f[f.length-1];const h=f.filter(k=>k.bandwidth===c.bandwidth)[0];if(i===!1){const k=h||d[0]||l[0];if(k&&k.playlist){let S="sortedPlaylistReps";return h&&(S="bandwidthBestRep"),d[0]&&(S="enabledPlaylistReps"),Ym(`choosing ${E6(k)} using ${S} with options`,a),k.playlist}return Ym("could not choose a playlist with options",a),null}const p=f.filter(k=>k.width&&k.height);Vu(p,(k,S)=>k.width-S.width);const m=p.filter(k=>k.width===n&&k.height===r);c=m[m.length-1];const g=m.filter(k=>k.bandwidth===c.bandwidth)[0];let v,y,x;g||(v=p.filter(k=>k.width>n||k.height>r),y=v.filter(k=>k.width===v[0].width&&k.height===v[0].height),c=y[y.length-1],x=y.filter(k=>k.bandwidth===c.bandwidth)[0]);let w;if(s.leastPixelDiffSelector){const k=p.map(S=>(S.pixelDiff=Math.abs(S.width-n)+Math.abs(S.height-r),S));Vu(k,(S,B)=>S.pixelDiff===B.pixelDiff?B.bandwidth-S.bandwidth:S.pixelDiff-B.pixelDiff),w=k[0]}const I=w||x||g||h||d[0]||l[0];if(I&&I.playlist){let k="sortedPlaylistReps";return w?k="leastPixelDiffRep":x?k="resolutionPlusOneRep":g?k="resolutionBestRep":h?k="bandwidthBestRep":d[0]&&(k="enabledPlaylistReps"),Ym(`choosing ${E6(I)} using ${k} with options`,a),I.playlist}return Ym("could not choose a playlist with options",a),null};const x6=function(){let t=this.useDevicePixelRatio&&se.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),A6(this.playlists.main,this.systemBandwidth,parseInt(Qm(this.tech_.el(),"width"),10)*t,parseInt(Qm(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},Gee=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&se.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),A6(this.playlists.main,e,parseInt(Qm(this.tech_.el(),"width"),10)*r,parseInt(Qm(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)}},Yee=function(t){const{main:e,currentTime:n,bandwidth:r,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,d=e.playlists.filter(m=>!ii.isIncompatible(m));let f=d.filter(ii.isEnabled);f.length||(f=d.filter(m=>!ii.isDisabled(m)));const h=f.filter(ii.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const v=l.getSyncPoint(m,i,o,n)?1:2,x=ii.estimateSegmentRequestTime(s,r,m)*v-a;return{playlist:m,rebufferingImpact:x}}),p=h.filter(m=>m.rebufferingImpact<=0);return Vu(p,(m,g)=>ty(g.playlist,m.playlist)),p.length?p[0]:(Vu(h,(m,g)=>m.rebufferingImpact-g.rebufferingImpact),h[0]||null)},Qee=function(){const t=this.playlists.main.playlists.filter(ii.isEnabled);return Vu(t,(n,r)=>ty(n,r)),t.filter(n=>!!uf(this.playlists.main,n).video)[0]||null},Kee=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function C6(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const Xee=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const i=e.textTracks().getTrackById(r);if(i)t[n]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,l=!1;const d=s[r];d&&(a=d.label,o=d.language,l=d.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:a,language:o},!1).track}}},Zee=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=se.WebKitDataCue||se.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new r(i.startTime+n,i.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new r(i.startTime+n,i.endTime+n,i.text))})},Jee=function(t){Object.defineProperties(t.frame,{id:{get(){return xe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return xe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return xe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},qee=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const i=se.WebKitDataCue||se.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(f=>{const c=f.cueTime+n;typeof c!="number"||se.isNaN(c)||c<0||!(c<1/0)||!f.frames||!f.frames.length||f.frames.forEach(h=>{const p=new i(c,c,h.value||h.url||h.data||"");p.frame=h,p.value=h,Jee(p),s.addCue(p)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let f=0;f<a.length;f++)a[f]&&o.push(a[f]);const l=o.reduce((f,c)=>{const h=f[c.startTime]||[];return h.push(c),f[c.startTime]=h,f},{}),d=Object.keys(l).sort((f,c)=>Number(f)-Number(c));d.forEach((f,c)=>{const h=l[f],p=isFinite(r)?r:f,m=Number(d[c+1])||p;h.forEach(g=>{g.endTime=m})})},$ee={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},ete=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),tte=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=se.WebKitDataCue||se.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(ete.has(s))continue;const a=new r(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:$ee[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}i.processDateRange()})},w6=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,xe.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},cf=function(t,e,n){let r,i;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime>=t&&i.endTime<=e&&n.removeCue(i)},nte=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const i=e[r],s=`${i.startTime}-${i.endTime}-${i.text}`;n[s]?t.removeCue(i):n[s]=i}},rte=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*Xo.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)},ite=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)},ste=(t,e,n,r)=>{const i=Math.ceil((e-r)*Xo.ONE_SECOND_IN_TS),s=Math.ceil((n-r)*Xo.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},ate=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(s!==r[i]||t[s]!==e[s])return!1}return!0},ote=function(t,e,n){e=e||[];const r=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(r.push(s),i+=a.duration,i>n))return s}return r.length===0?0:r[r.length-1]},df=1,lte=500,S6=t=>typeof t=="number"&&isFinite(t),Km=1/60,ute=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,cte=(t,e,n)=>{let r=e-sr.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const i=e-n;return Math.min(i,r)},Wu=t=>{const{startOfSegment:e,duration:n,segment:r,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:d,timeline:f}=t,c=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const p=typeof d=="number",m=t.segment.uri?"segment":"pre-segment",g=p?RI({preloadSegment:r})-1:0;return`${m} [${s+l}/${s+c}]`+(p?` part [${d}/${g}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(p?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${f}] selected by [${h}] playlist [${a}]`},k6=t=>`${t}TimingInfo`,dte=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:i})=>!i&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,I6=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:i})=>{if(e===n)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(r==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},D6=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),r=e&&n,i=r&&e.to!==n.to;return!!(r&&e.from!==-1&&n.from!==-1&&i)},N6=t=>{t&&(t.pause(),t.resetEverything(),t.load())},fte=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:i,end:s}=r;let a;typeof i=="bigint"||typeof s=="bigint"?a=se.BigInt(s)-se.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},M6=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Fs:!1,hte=(t,e)=>{if(e!=="hls")return null;const n=fte({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,i=M6({segmentDuration:n,maxDuration:r*2}),s=M6({segmentDuration:n,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},il=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:n,isMediaInitialization:r}};class ny extends xe.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Li(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(Bn({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(Bn({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return q2.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&se.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,se.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&q2.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return fr();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:i}=e;if(r&&n&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=Wm(e);let i=this.initSegments_[r];return n&&!i&&e.bytes&&(this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,n=!1){if(!e)return null;const r=t6(e);let i=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!i&&e.bytes&&(this.keyCache_[r]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e)return;const r=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${U2(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(se.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&q2.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},i=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&r()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=ste(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)cf(e,n,this.inbandTextTracks_[o]);cf(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&se.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=se.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&se.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=se.setTimeout(this.monitorBufferTick_.bind(this),lte)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:il({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const i=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!i||!i.parts||r+1===i.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=U2(e)||0,r=j2(e,this.currentTime_()),i=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=ote(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],p=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:n,h.parts&&h.parts[p+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=p+1):o.mediaIndex=this.mediaIndex+1}else{let h,p,m;const g=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${g}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const v=this.getSyncInfoFromMediaSequenceSync_(g);if(!v){const y="No sync info found while using media sequence sync";return this.error({message:y,metadata:{errorType:xe.Error.StreamingFailedToSelectNextSegment,error:new Error(y)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${v.start} --> ${v.end})`),h=v.segmentIndex,p=v.partIndex,m=v.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const v=ii.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:g,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=v.segmentIndex,p=v.partIndex,m=v.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${g}`:`currentTime ${g}`,o.mediaIndex=h,o.startOfSegment=m,o.partIndex=p,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let d=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!d)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,d=l.parts[0]);const f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&d&&!f&&!d.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],p=h.parts&&h.parts.length&&h.parts[h.parts.length-1];p&&p.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const c=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&c&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const i=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:d}=e,f=r.segments[i],c=typeof o=="number"&&f.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||f.resolvedUri,mediaIndex:i,partIndex:c?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:c&&c.duration||f.duration,segment:f,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:n},p=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:p});const m=U2(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(h.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=rte(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return dte(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,i=this.pendingSegment_.duration,s=ii.estimateSegmentRequestTime(i,r,this.playlist_,e.bytesReceived),a=P$(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=Yee({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const d=s-a-o.rebufferingImpact;let f=.5;a<=Fs&&(f=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||d<f)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*sr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Wu(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:r,hasVideo:i}=n,s={segmentInfo:il({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},ate(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,n,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=k6(n);s[a]=s[a]||{},s[a][r]=i,this.logger_(`timinginfo: ${n} - ${r} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+i),o.endTime=Math.max(o.endTime,a.endTime+i),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:d}=s[a],f=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),Xee(f,this.vhs_.tech_,a),cf(o,l,f[a]),Zee({captionArray:d,inbandTextTracks:f,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()&&I6({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})?(D6(this.timelineChangeController_)&&N6(this),!1):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:i,isMuxed:s}=n;return i&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo?!1:I6({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})?(D6(this.timelineChangeController_)&&N6(this),!1):!0}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[k6(n.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==r.mediaIndex||i.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:i}){if(r){const s=Wm(r);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+nl(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+nl(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,d=a.length?a.start(0):0,f=a.length?a.end(a.length-1):0;if(l-o<=df&&f-d<=df){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${nl(s).join(", ")}, video buffer: ${nl(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const h=this.currentTime_()-df;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${df}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=se.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},df*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},i){if(i){if(i.code===KI){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:xe.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i,bytes:s}){if(!s){const o=[i];let l=i.byteLength;r&&(o.unshift(r),l+=r.byteLength),s=Kee({bytes:l,segments:o})}const a={segmentInfo:il({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,i[s].transmuxedPresentationStart=r.start.presentation,i[s].transmuxedDecodeStart=r.start.decode,i[s].transmuxedPresentationEnd=r.end.presentation,i[s].transmuxedDecodeEnd=r.end.decode,i[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:i}=n;if(!i||!i.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const n=Bn({},e,{forceTimestampOffset:!0});Bn(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||i&&s;this.logger_(`Requesting
${C6(e.uri)}
${Wu(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=jee({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:d})=>{this.logger_(`${Wu(e)} logged from transmuxer stream ${d} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:d,trackInfo:f,timingInfo:c})=>{const p={segmentInfo:il({segment:l})};d&&(p.keyInfo=d),f&&(p.trackInfo=f),c&&(p.timingInfo=c),this.trigger({type:o,metadata:p})}})}trimBackBuffer_(e){const n=cte(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===n.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=l}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<Km){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Km}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===js.ABORTED)return;if(this.pause(),e.code===js.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),i.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=ite(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const d=n.segments[r-1];return r===0||!d||typeof d.start>"u"||d.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:i,isMuxed:s}=n,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=ute(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),i=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:il({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=hte(e,this.sourceType_);if(n&&(n.severity==="warn"?xe.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Wu(e)}`);return}this.logger_(`Appended ${Wu(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,i=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Wu(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Km){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Km}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(i-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,i=n.end;if(!S6(r)||!S6(i))return;cf(r,i,this.segmentMetadataTrack_);const s=se.WebKitDataCue||se.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:i},o=JSON.stringify(a),l=new s(r,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function ga(){}const O6=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},pte=["video","audio"],ry=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},mte=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},Gu=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),Gu("audio",e),Gu("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||ry(t,e))){if(r.type!==t){if(n=mte(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,Gu(t,e);return}}},L6=(t,e)=>{const n=e[`${t}Buffer`],r=O6(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Hs=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,vi={appendBuffer:(t,e,n)=>(r,i)=>{const s=i[`${r}Buffer`];if(Hs(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===KI?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),i.queuePending[r]=null,n(a)}}},remove:(t,e)=>(n,r)=>{const i=r[`${n}Buffer`];if(Hs(r.mediaSource,i)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{i.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];Hs(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){xe.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){xe.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Hs(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){xe.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=O6(t),i=Nd(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",n[`on${r}UpdateEnd_`]),s.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(L6(t,e),!!Hs(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){xe.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],i=Nd(t);if(!Hs(n.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:t}};n.trigger({type:"codecschange",metadata:l}),n.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(i),n.codecs[e]=t}catch(d){l.errorType=xe.Error.StreamingCodecsChangeError,l.error=d,d.metadata=l,n.error_=d,n.trigger("error"),xe.log.warn(`Failed to changeType on ${e}Buffer`,d)}}},yi=({type:t,sourceUpdater:e,action:n,doneFn:r,name:i})=>{e.queue.push({type:t,action:n,doneFn:r,name:i}),Gu(t,e)},R6=(t,e)=>n=>{const r=e[`${t}Buffered`](),i=L$(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Gu(t,e)};class B6 extends xe.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Gu("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Li("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=R6("video",this),this.onAudioUpdateEnd_=R6("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){yi({type:"mediaSource",sourceUpdater:this,action:vi.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){yi({type:e,sourceUpdater:this,action:vi.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){xe.log.error("removeSourceBuffer is not supported!");return}yi({type:"mediaSource",sourceUpdater:this,action:vi.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!xe.browser.IS_FIREFOX&&se.MediaSource&&se.MediaSource.prototype&&typeof se.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return se.SourceBuffer&&se.SourceBuffer.prototype&&typeof se.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){xe.log.error("changeType is not supported!");return}yi({type:e,sourceUpdater:this,action:vi.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(yi({type:i,sourceUpdater:this,action:vi.appendBuffer(s,r||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Hs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:fr()}videoBuffered(){return Hs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:fr()}buffered(){const e=Hs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Hs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():B$(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=ga){yi({type:"mediaSource",sourceUpdater:this,action:vi.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=ga){typeof e!="string"&&(e=void 0),yi({type:"mediaSource",sourceUpdater:this,action:vi.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=ga){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}yi({type:"audio",sourceUpdater:this,action:vi.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=ga){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}yi({type:"video",sourceUpdater:this,action:vi.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!(ry("audio",this)||ry("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(yi({type:"audio",sourceUpdater:this,action:vi.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(yi({type:"video",sourceUpdater:this,action:vi.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&yi({type:"audio",sourceUpdater:this,action:vi.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&yi({type:"video",sourceUpdater:this,action:vi.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),pte.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>L6(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const P6=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),gte=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},F6=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class bte extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class vte extends ny{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return fr();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return fr([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=Wm(e);let i=this.initSegments_[r];if(n&&!i&&e.bytes){const s=F6.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(F6,e.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){cf(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===js.TIMEOUT&&this.handleTimeout_(),e.code===js.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=n.map.bytes),i.bytes=n.bytes,typeof se.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:xe.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new se.VTTCue(a.startTime,a.endTime,a.text):a)}),nte(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let n,r=!1;if(typeof se.WebVTT!="function")throw new bte;typeof se.TextDecoder=="function"?n=new se.TextDecoder("utf8"):(n=se.WebVTT.StringDecoder(),r=!0);const i=new se.WebVTT.Parser(se,se.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{xe.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=P6(a)),i.parse(a)}let s=e.bytes;r&&(s=P6(s)),i.parse(s),i.flush()}updateTimeMapping_(e,n,r){const i=e.segment;if(!n)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/Xo.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(d=>{const f=d.endTime-d.startTime,c=s===0?d.startTime+l:this.handleRollover_(d.startTime+l,n.time);d.startTime=Math.max(c,0),d.endTime=Math.max(c+f,0)}),!r.syncInfo){const d=e.cues[0].startTime,f=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(d,f-i.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*Xo.ONE_SECOND_IN_TS;const i=n*Xo.ONE_SECOND_IN_TS;let s;for(i<r?s=-8589934592:s=8589934592;Math.abs(r-i)>4294967296;)r+=s;return r/Xo.ONE_SECOND_IN_TS}}const yte=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},_te=function(t,e,n=0){if(!t.segments)return;let r=n,i;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(i||(i=yte(e,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new se.VTTCue(r,r+a.duration,a.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new se.VTTCue(r,r+a.duration,""),i.adStartTime=r-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}r+=a.duration}};class U6{constructor({start:e,end:n,segmentIndex:r,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Tte{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class j6{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(r,i),!!this.isReliable_)return this.updateStorage_(i,r,this.calculateBaseTime_(r,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const i of r)if(i.isInRange(e))return i}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,r){const i=new Map;let s=`
`,a=r,o=n;this.start_=a,e.forEach((l,d)=>{const f=this.storage_.get(o),c=a,h=c+l.duration,p=!!(f&&f.segmentSyncInfo&&f.segmentSyncInfo.isAppended),m=new U6({start:c,end:h,appended:p,segmentIndex:d});l.syncInfo=m;let g=a;const v=(l.parts||[]).map((y,x)=>{const w=g,I=g+y.duration,k=!!(f&&f.partsSyncInfo&&f.partsSyncInfo[x]&&f.partsSyncInfo[x].isAppended),S=new U6({start:w,end:I,appended:k,segmentIndex:d,partIndex:x});return g=I,s+=`Media Sequence: ${o}.${x} | Range: ${w} --> ${I} | Appended: ${k}
`,y.syncInfo=S,S});i.set(o,new Tte(m,v)),s+=`${C6(l.resolvedUri)} | Media Sequence: ${o} | Range: ${c} --> ${h} | Appended: ${p}
`,o++,a=h}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,n){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:n:0}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class H6 extends j6{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n){if(!this.storage_.size){const r=this.parent_.getSyncInfoForMediaSequence(e);return r?r.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n)}}const Ete=86400,iy=[{name:"VOD",run:(t,e,n,r,i)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,i,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=z2(e);i=i||0;for(let l=0;l<o.length;l++){const d=e.endList||i===0?l:o.length-(l+1),f=o[d],c=f.segment,h=t.timelineToDatetimeMappings[c.timeline];if(!h||!c.dateTimeObject)continue;let m=c.dateTimeObject.getTime()/1e3+h;if(c.parts&&typeof f.partIndex=="number")for(let v=0;v<f.partIndex;v++)m+=c.parts[v].duration;const g=Math.abs(i-m);if(a!==null&&(g===0||a<g))break;a=g,s={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return s}},{name:"Segment",run:(t,e,n,r,i)=>{let s=null,a=null;i=i||0;const o=z2(e);for(let l=0;l<o.length;l++){const d=e.endList||i===0?l:o.length-(l+1),f=o[d],c=f.segment,h=f.part&&f.part.start||c&&c.start;if(c.timeline===r&&typeof h<"u"){const p=Math.abs(i-h);if(a!==null&&a<p)break;(!s||a===null||a>=p)&&(a=p,s={time:h,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,r,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],d=e.discontinuitySequence+o+1,f=t.discontinuities[d];if(f){const c=Math.abs(i-f.time);if(a!==null&&a<c)break;(!s||a===null||a>=c)&&(a=c,s={time:f.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,r,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Ate extends xe.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new j6,r=new H6(n),i=new H6(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:i},this.logger_=Li("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,i,s){if(n!==1/0)return iy.find(({name:l})=>l==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,r,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:d}=o,{segmentIndex:f,time:c}=l;if(f<0)continue;const h=e.segments[f],p=c,m=p+h.duration;if(this.logger_(`Strategy: ${d}. Current time: ${i}. selected segment: ${f}. Time: [${p} -> ${m}]}`),i>=p&&i<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+af({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,i,s){const a=[];for(let o=0;o<iy.length;o++){const l=iy[o],d=l.run(this,e,n,r,i,s);d&&(d.strategy=l.name,a.push({strategy:l.name,syncPoint:d}))}return a}selectSyncPoint_(e,n){let r=e[0].syncPoint,i=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<i&&(i=o,r=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>Ete){xe.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let i=r-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),i=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=n.end+a.mapping;else if(a)o=n.start+a.mapping,l=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let i=0;i<n.discontinuityStarts.length;i++){const s=n.discontinuityStarts[i],a=n.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let d;o<0?d=r.start-af({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):d=r.end+af({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:d,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class xte extends xe.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Cte=u6(c6(function(){var t=function(){function g(){this.listeners={}}var v=g.prototype;return v.on=function(x,w){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(w)},v.off=function(x,w){if(!this.listeners[x])return!1;var I=this.listeners[x].indexOf(w);return this.listeners[x]=this.listeners[x].slice(0),this.listeners[x].splice(I,1),I>-1},v.trigger=function(x){var w=this.listeners[x];if(w)if(arguments.length===2)for(var I=w.length,k=0;k<I;++k)w[k].call(this,arguments[1]);else for(var S=Array.prototype.slice.call(arguments,1),B=w.length,M=0;M<B;++M)w[M].apply(this,S)},v.dispose=function(){this.listeners={}},v.pipe=function(x){this.on("data",function(w){x.push(w)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const n=function(){const g=[[[],[],[],[],[]],[[],[],[],[],[]]],v=g[0],y=g[1],x=v[4],w=y[4];let I,k,S;const B=[],M=[];let D,L,z,U,F,H;for(I=0;I<256;I++)M[(B[I]=I<<1^(I>>7)*283)^I]=I;for(k=S=0;!x[k];k^=D||1,S=M[S]||1)for(U=S^S<<1^S<<2^S<<3^S<<4,U=U>>8^U&255^99,x[k]=U,w[U]=k,z=B[L=B[D=B[k]]],H=z*16843009^L*65537^D*257^k*16843008,F=B[U]*257^U*16843008,I=0;I<4;I++)v[I][k]=F=F<<24^F>>>8,y[I][U]=H=H<<24^H>>>8;for(I=0;I<5;I++)v[I]=v[I].slice(0),y[I]=y[I].slice(0);return g};let r=null;class i{constructor(v){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let y,x,w;const I=this._tables[0][4],k=this._tables[1],S=v.length;let B=1;if(S!==4&&S!==6&&S!==8)throw new Error("Invalid aes key size");const M=v.slice(0),D=[];for(this._key=[M,D],y=S;y<4*S+28;y++)w=M[y-1],(y%S===0||S===8&&y%S===4)&&(w=I[w>>>24]<<24^I[w>>16&255]<<16^I[w>>8&255]<<8^I[w&255],y%S===0&&(w=w<<8^w>>>24^B<<24,B=B<<1^(B>>7)*283)),M[y]=M[y-S]^w;for(x=0;y;x++,y--)w=M[x&3?y:y-4],y<=4||x<4?D[x]=w:D[x]=k[0][I[w>>>24]]^k[1][I[w>>16&255]]^k[2][I[w>>8&255]]^k[3][I[w&255]]}decrypt(v,y,x,w,I,k){const S=this._key[1];let B=v^S[0],M=w^S[1],D=x^S[2],L=y^S[3],z,U,F;const H=S.length/4-2;let K,P=4;const W=this._tables[1],ie=W[0],Q=W[1],N=W[2],E=W[3],j=W[4];for(K=0;K<H;K++)z=ie[B>>>24]^Q[M>>16&255]^N[D>>8&255]^E[L&255]^S[P],U=ie[M>>>24]^Q[D>>16&255]^N[L>>8&255]^E[B&255]^S[P+1],F=ie[D>>>24]^Q[L>>16&255]^N[B>>8&255]^E[M&255]^S[P+2],L=ie[L>>>24]^Q[B>>16&255]^N[M>>8&255]^E[D&255]^S[P+3],P+=4,B=z,M=U,D=F;for(K=0;K<4;K++)I[(3&-K)+k]=j[B>>>24]<<24^j[M>>16&255]<<16^j[D>>8&255]<<8^j[L&255]^S[P++],z=B,B=M,M=D,D=L,L=z}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(v){this.jobs.push(v),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},o=function(g,v,y){const x=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),w=new i(Array.prototype.slice.call(v)),I=new Uint8Array(g.byteLength),k=new Int32Array(I.buffer);let S,B,M,D,L,z,U,F,H;for(S=y[0],B=y[1],M=y[2],D=y[3],H=0;H<x.length;H+=4)L=a(x[H]),z=a(x[H+1]),U=a(x[H+2]),F=a(x[H+3]),w.decrypt(L,z,U,F,k,H),k[H]=a(k[H]^S),k[H+1]=a(k[H+1]^B),k[H+2]=a(k[H+2]^M),k[H+3]=a(k[H+3]^D),S=L,B=z,M=U,D=F;return I};class l{constructor(v,y,x,w){const I=l.STEP,k=new Int32Array(v.buffer),S=new Uint8Array(v.byteLength);let B=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(k.subarray(B,B+I),y,x,S)),B=I;B<k.length;B+=I)x=new Uint32Array([a(k[B-4]),a(k[B-3]),a(k[B-2]),a(k[B-1])]),this.asyncStream_.push(this.decryptChunk_(k.subarray(B,B+I),y,x,S));this.asyncStream_.push(function(){w(null,e(S))})}static get STEP(){return 32e3}decryptChunk_(v,y,x,w){return function(){const I=o(v,y,x);w.set(I,v.byteOffset)}}}var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof d<"u"?f=d:typeof self<"u"?f=self:f={};var c=f,h=function(v){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(v):v&&v.buffer instanceof ArrayBuffer},p=c.BigInt||Number;p("0x1"),p("0x100"),p("0x10000"),p("0x1000000"),p("0x100000000"),p("0x10000000000"),p("0x1000000000000"),p("0x100000000000000"),p("0x10000000000000000"),function(){var g=new Uint16Array([65484]),v=new Uint8Array(g.buffer,g.byteOffset,g.byteLength);return v[0]===255?"big":v[0]===204?"little":"unknown"}();const m=function(g){const v={};return Object.keys(g).forEach(y=>{const x=g[y];h(x)?v[y]={bytes:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength}:v[y]=x}),v};self.onmessage=function(g){const v=g.data,y=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),x=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),w=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new l(y,x,w,function(I,k){self.postMessage(m({source:v.source,decrypted:k}),[k.buffer])})}}));var wte=l6(Cte);const Ste=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},z6=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},sy=(t,e)=>{e.activePlaylistLoader=t,t.load()},kte=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,z6(n,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&r.resetEverything();return}n.resyncLoader(),sy(a.playlistLoader,i)}},Ite=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},Dte=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,d=s.lastTrack_;if(!(d&&a&&d.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,z6(r,s),!!o)){if(o.isMainPlaylist){if(!a||!d||a.id===d.id)return;const f=e.vhs.playlistController_,c=f.selectPlaylist();if(f.media()===c)return;s.logger_(`track change. Switching main audio from ${d.id} to ${a.id}`),n.pause(),i.resetEverything(),f.fastQualityChange_(c);return}if(t==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}r.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){sy(o.playlistLoader,s);return}r.track&&r.track(a),r.resetEverything(),sy(o.playlistLoader,s)}},Xm={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,i=n.activeTrack(),s=n.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=n.tracks[a];if(i===o){r({error:{message:"Problem encountered loading the default audio track."}});return}xe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;xe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},V6={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:i,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",Xm[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",Xm[t](t,n))}},Nte={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:d}},mainPlaylistLoader:f}=e,c=of(f.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},c&&(a[t].main.default.playlists=f.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const p in a[t][h]){let m=a[t][h][p],g;if(c?(d(`AUDIO group '${h}' label '${p}' is a main playlist`),m.isMainPlaylist=!0,g=null):r==="vhs-json"&&m.playlists?g=new zu(m.playlists[0],n,s):m.resolvedUri?g=new zu(m.resolvedUri,n,s):m.playlists&&r==="dash"?g=new J2(m.playlists[0],n,s,f):g=null,m=Zt({id:p,playlistLoader:g},m),V6[t](t,m.playlistLoader,e),o[h].push(m),typeof l[p]>"u"){const v=new xe.AudioTrack({id:p,kind:Ste(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=v}}}i.on("error",Xm[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:i,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:d}},mainPlaylistLoader:f}=e;for(const c in o[t]){l[c]||(l[c]=[]);for(const h in o[t][c]){if(!r.options_.useForcedSubtitles&&o[t][c][h].forced)continue;let p=o[t][c][h],m;if(i==="hls")m=new zu(p.resolvedUri,r,a);else if(i==="dash"){if(!p.playlists.filter(v=>v.excludeUntil!==1/0).length)return;m=new J2(p.playlists[0],r,a,f)}else i==="vhs-json"&&(m=new zu(p.playlists?p.playlists[0]:p.resolvedUri,r,a));if(p=Zt({id:h,playlistLoader:m},p),V6[t](t,p.playlistLoader,e),l[c].push(p),typeof d[h]>"u"){const g=n.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;d[h]=g}}}s.on("error",Xm[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const a in r[t]){i[a]||(i[a]=[]);for(const o in r[t][a]){const l=r[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const d=n.options_.vhs&&n.options_.vhs.captionServices||{};let f={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(d[f.instreamId]&&(f=Zt(f,d[f.instreamId])),f.default===void 0&&delete f.default,i[a].push(Zt({id:o},l)),typeof s[o]>"u"){const c=n.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;s[o]=c}}}}},W6=(t,e)=>{for(let n=0;n<t.length;n++)if(G2(e,t[n])||t[n].playlists&&W6(t[n].playlists,e))return!0;return!1},Mte=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:i}}}=e,s=r.media();if(!s)return null;let a=null;s.attributes[t]&&(a=i[s.attributes[t]]);const o=Object.keys(i);if(!a)if(t==="AUDIO"&&o.length>1&&of(e.main))for(let l=0;l<o.length;l++){const d=i[o[l]];if(W6(d,s)){a=d;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(l=>l.id===n.id)[0]||null},Ote={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},Lte=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},Rte=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(d=>{Nte[d](d,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(d=>{e[d].activeGroup=Mte(d,t),e[d].activeTrack=Ote[d](d,t),e[d].onGroupChanged=kte(d,t),e[d].onGroupChanging=Ite(d,t),e[d].onTrackChanged=Dte(d,t),e[d].getActiveGroup=Lte(d,t)});const o=e.AUDIO.activeGroup();if(o){const d=(o.filter(c=>c.default)[0]||o[0]).id;e.AUDIO.tracks[d].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const d in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[d])},Bte=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ga,activeTrack:ga,getActiveGroup:ga,onGroupChanged:ga,onTrackChanged:ga,lastTrack_:null,logger_:Li(`MediaGroups[${e}]`)}}),t};class G6{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=ri(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class Pte extends xe.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new G6,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Li("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=ri(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const d=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${d} seconds.`),this.startTTLTimeout_(parseInt(d,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let o;try{o=JSON.parse(this.request_.responseText)}catch(d){const f={errorType:xe.Error.StreamingContentSteeringParserError,error:d};this.trigger({type:"error",metadata:f})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new se.URL(e),r=new se.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(se.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new se.URL(e),r=this.getPathway(),i=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,r)}if(i){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,i)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!n(i))return i}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=se.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){se.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new G6}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(ri(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Fte=10;let ba;const Ute=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],jte=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Hte=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!r)return xe.log.warn("We received no playlist to switch to. Please check your stream."),!1;const d=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return l(`${d} as current playlist is not set`),!0;if(r.id===t.id)return!1;const f=!!Uu(e,n).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${d} as current playlist is live`),!0);const c=j2(e,n),h=o?sr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:sr.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${d} as duration < max low water line (${a} < ${h})`),!0;const p=r.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!o||c<s)){let g=`${d} as next bandwidth < current bandwidth (${p} < ${m})`;return o&&(g+=` and forwardBuffer < bufferHighWaterLine (${c} < ${s})`),l(g),!0}if((!o||p>m)&&c>=i){let g=`${d} as forwardBuffer >= bufferLowWaterLine (${c} >= ${i})`;return o&&(g+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(g),!0}return l(`not ${d} as no switching criteria met`),!1};class zte extends xe.EventTarget{constructor(e){super();const{src:n,withCredentials:r,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:d,sourceType:f,cacheEncryptionKeys:c,bufferBasedABR:h,leastPixelDiffSelector:p,captionServices:m}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:g}=e;(g===null||typeof g>"u")&&(g=1/0),ba=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!p,this.withCredentials=r,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=f,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=g,this.enableLowInitialPlaylist=d,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:g,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Bte(),this.mediaSource=new se.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=fr(),this.hasPlayed_=!1,this.syncController_=new Ate(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new wte,this.sourceUpdater_=new B6(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new xte,this.keyStatusMap_=new Map;const v={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:c,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new J2(n,this.vhs_,Zt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new zu(n,this.vhs_,Zt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new ny(Zt(v,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new ny(Zt(v,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new vte(Zt(v,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((w,I)=>{function k(){i.off("vttjserror",S),w()}function S(){i.off("vttjsloaded",k),I()}i.one("vttjsloaded",k),i.one("vttjserror",S),i.addWebVttScript_()})}),e);const y=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new Pte(this.vhs_.xhr,y),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Ute.forEach(w=>{this[w+"_"]=jte.bind(this,w)}),this.logger_=Li("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const x=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(x,()=>{const w=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-w,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${n}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,i=this.contentSteeringController_.getPathway();if(r&&i){const a=(r.length?r[0].playlists:r.playlists).filter(o=>o.attributes.serviceLocation===i);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=se.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(se.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,i=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=r.main||i.length&&r[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return n;const a=[];for(const o in r)if(r[o][s.label]){const l=r[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let d=0;d<e.playlists.length;d++){const f=e.playlists[d];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===o&&a.push(f)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;W2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),Rte({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;W2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,r=>{this.player_.trigger(Bn({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let i=!0;const s=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const o in r.AUDIO[a])r.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ba.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return Hte({buffered:a,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Fte}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,i=>{this.player_.trigger(Bn({},i))}),this.audioSegmentLoader_.on(r,i=>{this.player_.trigger(Bn({},i))}),this.subtitleSegmentLoader_.on(r,i=>{this.player_.trigger(Bn({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let i=r;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(r+s,n.start(0)):i=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const i=ba.Playlist.playlistEnd(e,r),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-s<=Us;const o=a.end(a.length-1);return o-s<=Us&&i-o<=Us}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(Vm),a=s.length===1&&s[0]===e;if(i.length===1&&r!==1/0)return xe.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),g=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},g);return}let p=!1;i.forEach(m=>{if(m===e)return;const g=m.excludeUntil;typeof g<"u"&&g!==1/0&&(p=!0,delete m.excludeUntil)}),p&&(xe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+r*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const d=n.internal?this.logger_:xe.log.warn,f=n.message?" "+n.message:"";d(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const c=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=c;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],i=e==="all";(i||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&r.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&r.push(o)}),r.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=Uu(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ba.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let n=this.mainPlaylistLoader_.media();if(!n)return;let r=this.syncController_.getExpiredTime(n,this.duration());if(r===null)return;const i=this.mainPlaylistLoader_.main,s=ba.Playlist.seekable(n,r,ba.Playlist.liveEdgeDelay(i,n));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(n,this.duration()),r===null||(e=ba.Playlist.seekable(n,r,ba.Playlist.liveEdgeDelay(i,n)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=fr([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${OI(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const n=this.tech_.buffered();let r=ba.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=uf(this.main(),n),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=r.video||e.main.videoCodec||hZ),e.main.isMuxed&&(i.video+=`,${r.audio||e.main.audioCodec||xS}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||xS,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(d,f)=>d?Yp(f):gv(f),o={};let l;if(["video","audio"].forEach(function(d){if(i.hasOwnProperty(d)&&!a(e[d].isFmp4,i[d])){const f=e[d].isFmp4?"browser":"muxer";o[f]=o[f]||[],o[f].push(i[d]),d==="audio"&&(l=f)}}),s&&l&&n.attributes.AUDIO){const d=n.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===d&&f!==n&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${d} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const d=Object.keys(o).reduce((f,c)=>(f&&(f+=", "),f+=`${c} does not support codec(s): "${o[c].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:d},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const d=[];if(["video","audio"].forEach(f=>{const c=(Ds(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,h=(Ds(i[f]||"")[0]||{}).type;c&&h&&c.toLowerCase()!==h.toLowerCase()&&d.push(`"${this.sourceUpdater_.codecs[f]}" -> "${i[f]}"`)}),d.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${d.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const i=e[r];if(n.indexOf(i.id)!==-1)return;n.push(i.id);const s=uf(this.main,i),a=[];s.audio&&!gv(s.audio)&&!Yp(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!gv(s.video)&&!Yp(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,i=Gm(Ds(e)),s=T6(i),a=i.video&&Ds(i.video)[0]||null,o=i.audio&&Ds(i.audio)[0]||null;Object.keys(r).forEach(l=>{const d=r[l];if(n.indexOf(d.id)!==-1||d.excludeUntil===1/0)return;n.push(d.id);const f=[],c=uf(this.mainPlaylistLoader_.main,d),h=T6(c);if(!(!c.audio&&!c.video)){if(h!==s&&f.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const p=c.video&&Ds(c.video)[0]||null,m=c.audio&&Ds(c.audio)[0]||null;p&&a&&p.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`video codec "${p.type}" !== "${a.type}"`),m&&o&&m.type.toLowerCase()!==o.type.toLowerCase()&&f.push(`audio codec "${m.type}" !== "${o.type}"`)}f.length&&(d.excludeUntil=1/0,this.logger_(`excluding ${d.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),_te(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=sr.GOAL_BUFFER_LENGTH,r=sr.GOAL_BUFFER_LENGTH_RATE,i=Math.max(n,sr.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=sr.BUFFER_LOW_WATER_LINE,r=sr.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(n,sr.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,sr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return sr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){w6(this.inbandTextTracks_,"com.apple.streaming",this.tech_),tte({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();w6(this.inbandTextTracks_,e,this.tech_),qee({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:i,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,r=>{this.trigger(Bn({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of n.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,i=new Set;let s=!1;Object.keys(r).forEach(a=>{const o=r[a],l=this.pathwayAttribute_(o),d=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!d&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const c=!o.excludeUntil&&o.excludeUntil!==1/0;!i.has(o.id)&&d&&c&&(i.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||i&&i.size){for(const[a,o]of r.entries())i.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of i.entries()){const l=r.get(a);if(!l){n.filter(f=>f.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(f=>{this.mainPlaylistLoader_.addClonePathway(o,f)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,i=n["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==i[s])return!1;for(const s in i)if(r[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=this.mainPlaylistLoader_.getKeyIdSet(r);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=r.lastExcludeReason_===n&&r.excludeUntil===1/0;o?o&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===n;i&&s&&(delete r.excludeUntil,xe.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const s=(typeof e=="string"?e:gte(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Vte=(t,e,n)=>r=>{const i=t.main.playlists[e],s=V2(i),a=Vm(i);if(typeof r>"u")return a;r?delete i.disabled:i.disabled=!0;const o={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return r!==a&&!s&&(n(i),r?t.trigger({type:"renditionenabled",metadata:o}):t.trigger({type:"renditiondisabled",metadata:o})),r};class Wte{constructor(e,n,r){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=uf(i.main(),n),this.playlist=n,this.id=r,this.enabled=Vte(e.playlists,n.id,s)}}const Gte=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=of(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!V2(r)).map((r,i)=>new Wte(t,r,r.id)):[]}},Y6=["seeking","seeked","pause","playing","error"];class Yte extends xe.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Li("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(f=>{l[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},a[`${f}SegmentLoader_`].on("appendsdone",l[f].updateend),a[`${f}SegmentLoader_`].on("playlistupdate",l[f].reset),this.tech_.on(["seeked","seeking"],l[f].reset)});const d=f=>{["main","audio"].forEach(c=>{a[`${c}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=()=>d("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(Y6,s),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(Y6,s),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(f=>{a[`${f}SegmentLoader_`].off("appendsdone",l[f].updateend),a[`${f}SegmentLoader_`].off("playlistupdate",l[f].reset),this.tech_.off(["seeked","seeking"],l[f].reset)}),this.checkCurrentTimeTimeout_&&se.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&se.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=se.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],i=r.buffered_(),s=F$(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:nl(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+Us>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(fr([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),r=this.tech_.currentTime(),i=this.afterSeekableWindow_(n,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,r)){const m=n.start(0);s=m+(m===n.end(0)?0:Us)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${OI(n)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,d=a.videoBuffer?a.videoBuffered():null,f=this.media(),c=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-Fs)*2,h=[l,d];for(let m=0;m<h.length;m++){if(!h[m])continue;if(j2(h[m],r)<c)return!1}const p=zm(o,r);return p.length===0?!1:(s=p.start(0)+Us,this.logger_(`Buffered region starts (${p.start(0)})  just beyond seek point (${r}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=Uu(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=zm(i,n);return a.length>0?(this.logger_(`Stopped at ${n} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Us;const a=!r.endList,o=typeof r.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+r.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let i;if(e.length&&n.length){const s=Uu(e,r-3),a=Uu(e,r),o=Uu(n,r);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else zm(e,r).length||(i=this.gapFromVideoUnderflow_(e,r));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),i=zm(n,r);if(this.resetTimeUpdate_(),i.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Fs);const s={gapInfo:{from:r,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const r=R$(e);for(let i=0;i<r.length;i++){const s=r.start(i),a=r.end(i);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const Qte={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},Q6=function(t,e){let n=0,r=0;const i=Zt(Qte,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},a=function(f){f!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){xe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),i.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},d=function(f){l(),Q6(t,f)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=d},Kte=function(t){Q6(this,t)};var K6="3.13.2",Xte="7.0.3",Zte="1.3.0",Jte="7.1.0",qte="4.0.1";const xn={PlaylistLoader:zu,Playlist:ii,utils:aee,STANDARD_PLAYLIST_SELECTOR:x6,INITIAL_PLAYLIST_SELECTOR:Qee,lastBandwidthSelector:x6,movingAverageBandwidthSelector:Gee,comparePlaylistBandwidth:ty,comparePlaylistResolution:Wee,xhr:$I()};Object.keys(sr).forEach(t=>{Object.defineProperty(xn,t,{get(){return xe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),sr[t]},set(e){if(xe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){xe.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}sr[t]=e}})});const X6="videojs-vhs",Z6=function(t,e){const n=e.media();let r=-1;for(let i=0;i<t.length;i++)if(t[i].id===n.id){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},$te=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),Z6(t,e.playlists)};xn.canPlaySource=function(){return xe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const ene=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=Gm(Ds(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const i=Nd(r.video),s=Nd(r.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return Zt(t,a)},tne=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const i=e.reduce((s,a)=>{const o=r.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&n.push(i),n},[]),nne=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=n?r.concat([n]):r,s=tne(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((d,f)=>{t.tech_.one("keysessioncreated",d)})),a.push(new Promise((d,f)=>{t.eme.initializeMediaKeys({keySystems:l},c=>{if(c){f(c);return}d()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},rne=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const i=ene(e,n,r);return i?(t.currentSource().keySystems=i,i&&!t.eme?(xe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},J6=()=>{if(!se.localStorage)return null;const t=se.localStorage.getItem(X6);if(!t)return null;try{return JSON.parse(t)}catch{return null}},ine=t=>{if(!se.localStorage)return!1;let e=J6();e=e?Zt(e,t):t;try{se.localStorage.setItem(X6,JSON.stringify(e))}catch{return!1}return e},sne=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,q6=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},$6=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},eD=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},tD=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};xn.supportsNativeHls=function(){if(!We||!We.createElement)return!1;const t=We.createElement("video");return xe.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}(),xn.supportsNativeDash=function(){return!We||!We.createElement||!xe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(We.createElement("video").canPlayType("application/dash+xml"))}(),xn.supportsTypeNatively=t=>t==="hls"?xn.supportsNativeHls:t==="dash"?xn.supportsNativeDash:!1,xn.isSupported=function(){return xe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},xn.xhr.onRequest=function(t){q6(xn.xhr,t)},xn.xhr.onResponse=function(t){$6(xn.xhr,t)},xn.xhr.offRequest=function(t){eD(xn.xhr,t)},xn.xhr.offResponse=function(t){tD(xn.xhr,t)};const ane=xe.getComponent("Component");class nD extends ane{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=Li("VhsHandler"),n.options_&&n.options_.playerId){const i=xe.getPlayer(n.options_.playerId);this.player_=i}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(We,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=We.fullscreenElement||We.webkitFullscreenElement||We.mozFullScreenElement||We.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Zt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=J6();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=sr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===sr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=sne(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=xn,this.options_.sourceType=CS(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new zte(this.options_);const r=Zt({liveRangeSafeTimeDelta:Us},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Yte(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=xe.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?xn.movingAverageBandwidthSelector(.55):xn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=xn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=se.navigator.connection||se.navigator.mozConnection||se.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){xe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>nl(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>nl(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&ine({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Gte(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=se.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),nne({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=rne({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=xe.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{$te(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{Z6(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":K6,"mux.js":Xte,"mpd-parser":Zte,"m3u8-parser":Jte,"aes-decrypter":qte}}version(){return this.constructor.version()}canChangeType(){return B6.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&se.URL.revokeObjectURL&&(se.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return hee({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,i=2){return i6({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{q6(this.xhr,e)},this.xhr.onResponse=e=>{$6(this.xhr,e)},this.xhr.offRequest=e=>{eD(this.xhr,e)},this.xhr.offResponse=e=>{tD(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,i=>{this.player_.trigger(Bn({},i))})}),n.forEach(r=>{this.playbackWatcher_.on(r,i=>{this.player_.trigger(Bn({},i))})})}}const Zm={name:"videojs-http-streaming",VERSION:K6,canHandleSource(t,e={}){const n=Zt(xe.options,e);return Zm.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=Zt(xe.options,n);return e.vhs=new nD(t,e,r),e.vhs.xhr=$I(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=CS(t);if(!n)return"";const r=Zm.getOverrideNative(e);return!xn.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(xe.browser.IS_ANY_SAFARI||xe.browser.IS_IOS),{overrideNative:r=n}=e;return r}};Yp("avc1.4d400d,mp4a.40.2")&&xe.getTech("Html5").registerSourceHandler(Zm,0),xe.VhsHandler=nD,xe.VhsSourceHandler=Zm,xe.Vhs=xn,xe.use||xe.registerComponent("Vhs",xn),xe.options.vhs=xe.options.vhs||{},(!xe.getPlugin||!xe.getPlugin("reloadSourceOnError"))&&xe.registerPlugin("reloadSourceOnError",Kte);const one=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),lne=u.createElementVNode("img",{class:"pointer-events-none absolute",src:tS,width:"24",height:"24"},null,-1),une={class:"absolute bottom-2 right-2 rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},cne=u.defineComponent({__name:"VideoMessageContent",props:{message:{}},setup(t){const e=t,n=`vp-${Math.random()}`,r=u.ref(),i=u.ref(),s=u.ref(!1),a=()=>{const{width:c,height:h}=e.message.video;return c<h?{width:"200px",height:`${200*h/c}px`}:{width:`${200*c/h}px`,height:"200px"}},o=rn(),l=async()=>{if(s.value)return;s.value=!0;const f=await o.dispatch("imkit/fetchVideoBlob",e.message.video.originalUrl);r.value&&(r.value.src=URL.createObjectURL(f)),i.value=xe(n)},d=u.computed(()=>o.state.imkit.uploadProgresses);return(f,c)=>{const h=u.resolveDirective("src");return u.openBlock(),u.createElementBlock("div",{class:"relative -m-2 flex cursor-pointer items-center justify-center",style:u.normalizeStyle(a()),onClick:l},[u.withDirectives(u.createElementVNode("video",{ref_key:"videoPlayer",ref:r,id:n,class:"video-js vjs-default-skin absolute inset-0 h-full w-full",controls:"",preload:"auto",autoplay:""},null,512),[[u.vShow,s.value]]),s.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[u.withDirectives(u.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:u.normalizeStyle(a())},null,4),[[h,f.message.video.thumbnailUrl]]),f.message.video.thumbnailUrl.startsWith("data")?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[one,u.createVNode(u.unref(Hp),{class:"!absolute",diameter:40,"completed-steps":d.value[f.message.video.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[lne,u.createElementVNode("div",une,u.toDisplayString(Math.floor(f.message.video.duration/60))+":"+u.toDisplayString(`${Math.floor(f.message.video.duration%60)}`.padStart(2,"0")),1)],64))],64))],4)}}}),dne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR4nO3aMUpDQRSF4VmI1m5HtLCxkMxxA86JazAz2Ygi2LkgbVWMpQpKFCyihSZ33r0x58As4GP+F17gpaRp2sbs6GS6nUu7RGlPYHuzPrm029HJdDdFwYL1vgd0Af2Sx5MDb2/6uNnO2FBodMr4C8n6HAqN/re6t4gG62tmPfyX4PT52MRBYwBwKDQGAodBY0BwCDQGBruj4QB2RcMJ7IaGI9gFDWfwfMes+z+9kXX5w4HOYJyebS2LBuvN2oEz6/Uq6LUDY4BH4k/zBglM3bDtECBbPcPUj5bdECBbJU0lbTcEyFZJU0nbDQGyVdJU0nZDgGyVNJW03RAgWyVNJW03BMhWSVNJ2w0BslXSVNJ2Q4BslTSVtN2wcUmXvh+XrnJyaY/2YNarsGDWc3PwaDzZyaU9eOO+ndLufvupxHJfxZd2AdaZO5R1Nr/ZblhN01LEvQM/68r6Ex4bqgAAAABJRU5ErkJggg==",rD=t=>(u.pushScopeId("data-v-5248b347"),t=t(),u.popScopeId(),t),fne=rD(()=>u.createElementVNode("img",{class:"w-8 object-contain",src:dne},null,-1)),hne={class:"flex flex-col gap-0.5 font-normal"},pne={class:"break-all text-base"},mne=rD(()=>u.createElementVNode("div",{class:"absolute inset-0 -m-2 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1)),gne=On(u.defineComponent({__name:"FileMessageContent",props:{message:{}},setup(t){const e=rn(),n=t,r=u.computed(()=>n.message.isIncoming),i=u.computed(()=>e.state.imkit.uploadProgresses),s=u.computed(()=>{const o=n.message.bytes;return o<1e3?o+"B":o<1e3*1e3?(o/1e3).toFixed(1)+"KB":o<1e3*1e3*1e3?(o/1e3/1e3).toFixed(1)+"MB":(o/1e3/1e3/1e3).toFixed(1)+"GB"}),a=async()=>{try{const{url:o,fileName:l,fileExtension:d}=n.message,f=await e.state.imkit.axios.get(o,{responseType:"arraybuffer",onDownloadProgress:p=>{const{total:m}=p;m&&e.commit("imkit/updateField",{key:"downloadProgresses",value:{[o]:p.loaded/m}})}}),c=btoa(new Uint8Array(f.data).reduce((p,m)=>p+String.fromCharCode(m),"")),h=document.createElement("a");h.href=`data:${f.headers["content-type"]};base64,${c}`,h.download=`${l}.${d}`,h.click()}catch(o){console.error(o)}};return(o,l)=>(u.openBlock(),u.createElementBlock("div",{class:"relative flex cursor-pointer items-center justify-center gap-2",onClick:a},[fne,u.createElementVNode("div",hne,[u.createElementVNode("div",pne,u.toDisplayString(o.message.fileName)+"."+u.toDisplayString(o.message.fileExtension),1),u.createElementVNode("div",{class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value}])},u.toDisplayString(o.$t("fileSize"))+": "+u.toDisplayString(s.value),3)]),o.message.url===""?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[mne,u.createVNode(u.unref(Hp),{class:"!absolute",diameter:40,"completed-steps":i.value[o.message.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-5248b347"]]),zs=t=>{if(console.log(t),t.type==="uri")return window.open(t.uri,"_blank");(t.type==="message"||t.type==="text")&&ou&&ou.dispatch("imkit/quickReply",t)},bne={class:"w-[235px] cursor-pointer overflow-hidden text-base"},vne=["src"],yne={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},_ne=["onClick"],Tne=u.defineComponent({__name:"TemplateMessageButtonsContent",props:{message:{}},setup(t){const e=t,n=u.computed(()=>e.message.isIncoming),r=u.computed(()=>!n.value);return(i,s)=>{var a;return u.openBlock(),u.createElementBlock("div",bne,[i.message.template.thumbnailImageUrl?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["object-cover text-gray-900 dark:text-gray-200",{"object-contain":i.message.template.imageSize==="contain"}]),style:u.normalizeStyle({"background-color":i.message.template.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:i.message.template.thumbnailImageUrl,onClick:s[0]||(s[0]=o=>u.unref(zs)(i.message.template.defaultAction))},null,14,vne)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:s[1]||(s[1]=o=>u.unref(zs)(i.message.template.defaultAction))},[u.createElementVNode("div",null,u.toDisplayString((a=i.message.template.title)==null?void 0:a.substring(0,40)),1),i.message.template.text?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":n.value,"text-gray-100":r.value}])},u.toDisplayString(!i.message.template.thumbnailImageUrl&&!i.message.template.title?i.message.template.text.substring(0,160):i.message.template.text.substring(0,60)),3)):u.createCommentVNode("",!0)]),i.message.template.actions.length>0?(u.openBlock(),u.createElementBlock("div",yne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.actions,o=>(u.openBlock(),u.createElementBlock("div",{key:o.label,class:u.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500 dark:text-slate-300":n.value,"text-slate-100":r.value}]),onClick:l=>u.unref(zs)(o)},u.toDisplayString(o.label),11,_ne))),128))])):u.createCommentVNode("",!0)])}}}),Ene={class:"w-[250px] overflow-hidden text-base"},Ane={class:"p-3"},xne={class:"flex divide-x border-t"},Cne=["onClick"],wne=u.defineComponent({__name:"TemplateMessageConfirmContent",props:{message:{}},setup(t){const e=t,n=u.computed(()=>e.message.isIncoming),r=u.computed(()=>!n.value);return(i,s)=>(u.openBlock(),u.createElementBlock("div",Ene,[u.createElementVNode("div",Ane,u.toDisplayString(i.message.template.text.substring(0,240)),1),u.createElementVNode("div",xne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.actions.slice(0,2),a=>(u.openBlock(),u.createElementBlock("div",{key:a.label,class:u.normalizeClass(["flex grow cursor-pointer items-center justify-center p-2",{"text-slate-500":n.value,"text-slate-100":r.value}]),onClick:o=>u.unref(zs)(a)},u.toDisplayString(a.label),11,Cne))),128))])]))}}),Sne={class:"flex cursor-pointer gap-2 overflow-auto text-base"},kne=["src","onClick"],Ine=["onClick"],Dne={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},Nne=["onClick"],Mne=u.defineComponent({__name:"TemplateMessageCarouselContent",props:{message:{}},setup(t){const e=t,n=u.computed(()=>e.message.isIncoming),r=u.computed(()=>!n.value);return(i,s)=>(u.openBlock(),u.createElementBlock("div",Sne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.columns,(a,o)=>{var l;return u.openBlock(),u.createElementBlock("div",{key:o,class:u.normalizeClass(["w-[235px] cursor-pointer overflow-hidden rounded-xl text-base",[n.value?"bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-200":"bg-blue-400 text-white"]])},[a.thumbnailImageUrl?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:u.normalizeStyle({"background-color":a.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:a.thumbnailImageUrl,onClick:d=>u.unref(zs)(a.defaultAction)},null,14,kne)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:d=>u.unref(zs)(a.defaultAction)},[u.createElementVNode("div",null,u.toDisplayString((l=a.title)==null?void 0:l.substring(0,40)),1),a.text?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":n.value,"text-gray-100":r.value}])},u.toDisplayString(!a.thumbnailImageUrl&&!a.title?a.text.substring(0,160):a.text.substring(0,60)),3)):u.createCommentVNode("",!0)],8,Ine),a.actions.length>0&&a.openQuickReply?(u.openBlock(),u.createElementBlock("div",Dne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(a.actions,d=>(u.openBlock(),u.createElementBlock("div",{key:d.label,class:u.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500 dark:text-slate-300":n.value,"text-slate-100":r.value}]),onClick:f=>u.unref(zs)({type:d.type,roomId:e.message.roomId,message:d.label,uri:d.uri})},u.toDisplayString(d.label),11,Nne))),128))])):u.createCommentVNode("",!0)],2)}),128))]))}}),One={class:"flex cursor-pointer gap-2 overflow-auto text-base"},Lne=["src","onClick"],Rne=u.defineComponent({__name:"TemplateMessageImageCarouselContent",props:{message:{}},setup(t){return(e,n)=>(u.openBlock(),u.createElementBlock("div",One,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.message.template.columns,(r,i)=>(u.openBlock(),u.createElementBlock("img",{key:i,src:r.imageUrl,class:"h-[250px] w-[250px] rounded-xl object-cover",onClick:s=>u.unref(zs)(r.action)},null,8,Lne))),128))]))}}),Bne=u.defineComponent({__name:"TemplateMessageContent",props:{message:{}},setup(t){const e={[Go.Buttons]:Tne,[Go.Confirm]:wne,[Go.Carousel]:Mne,[Go.ImageCarousel]:Rne};return(n,r)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[n.message.templateType]),{message:n.message},null,8,["message"]))}}),Pne=u.defineComponent({__name:"FlexMessageBoxComponent",props:{content:{}},setup(t){const e=n=>({none:"0",xs:"2px",sm:"4px",md:"8px",lg:"12px",xl:"16px",xxl:"20px"})[n]??n;return(n,r)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["flex",{"flex-col":n.content.layout==="vertical","flex-row":n.content.layout==="horizontal","flex-row items-baseline":n.content.layout==="baseline"}]),style:u.normalizeStyle({backgroundColor:n.content.backgroundColor??"#00000000",borderColor:n.content.borderColor,borderWidth:n.content.borderWidth,borderRadius:n.content.cornerRadius,width:n.content.width,maxWidth:n.content.maxWidth,height:n.content.height,maxHeight:n.content.maxHeight})},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(n.content.contents,(i,s)=>(u.openBlock(),u.createBlock(ff,{key:s,content:i,style:u.normalizeStyle(n.content.layout==="vertical"?{marginTop:i.margin?e(i.margin):s===0?0:e(n.content.spacing)}:{marginLeft:i.margin?e(i.margin):s===0?0:e(n.content.spacing)})},null,8,["content","style"]))),128))],6))}}),Fne=u.defineComponent({__name:"FlexMessageButtonComponent",props:{content:{}},setup(t){const e=t,n=u.computed(()=>e.content.style==="primary"?"#ffffff":e.content.style==="secondary"?"#000000":e.content.color||"#42659a"),r=u.computed(()=>e.content.style==="primary"?e.content.color||"#17c950":e.content.style==="secondary"?e.content.color||"#dcdfe5":"");return(i,s)=>(u.openBlock(),u.createElementBlock("button",{class:u.normalizeClass([[i.content.size==="md"?"h-52px":"h-10"],"rounded-lg"]),style:u.normalizeStyle({color:n.value,backgroundColor:r.value}),onClick:s[0]||(s[0]=a=>u.unref(zs)(i.content.action))},u.toDisplayString(i.content.action.label),7))}}),Une=["src"],jne=u.defineComponent({__name:"FlexMessageImageComponent",props:{content:{}},setup(t){const e=t,n=u.computed(()=>e.content.aspectRatio?e.content.aspectRatio.replace(":","/"):"1/1");return(r,i)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["w-full overflow-hidden bg-gray-300",[r.content.aspectMode==="cover"?"object-cover":"object-contain"]]),style:u.normalizeStyle({"aspect-ratio":n.value})},[u.createElementVNode("img",{class:"h-full w-full",src:r.content.url},null,8,Une)],6))}}),Hne=["src"],zne=u.defineComponent({__name:"FlexMessageVideoComponent",props:{content:{}},setup(t){return(e,n)=>(u.openBlock(),u.createElementBlock("video",{src:e.content.url},null,8,Hne))}}),Vne=u.defineComponent({__name:"FlexMessageIconComponent",props:{content:{}},setup(t){const e=t,n=u.computed(()=>{const r=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[r]??"16px"});return(r,i)=>(u.openBlock(),u.createElementBlock("span",{style:u.normalizeStyle({overflow:"hidden",background:"no-repeat center",backgroundSize:"contain",backgroundImage:"url("+r.content.url+")",width:n.value,height:n.value})},null,4))}}),Wne=u.defineComponent({__name:"FlexMessageTextComponent",props:{content:{}},setup(t){const e=t,n=u.computed(()=>{const r=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[r]??"16px"});return(r,i)=>(u.openBlock(),u.createElementBlock("div",{class:"basis-0",style:u.normalizeStyle({flexGrow:r.content.flex??0})},[u.createElementVNode("p",{class:u.normalizeClass([r.content.weight==="bold"?"font-bold":"font-normal",r.content.wrap?"overflow-hidden overflow-clip whitespace-normal break-words":"overflow-hidden truncate whitespace-nowrap"]),style:u.normalizeStyle({fontSize:n.value,color:r.content.color,"text-size-adjust":"100%"})},u.toDisplayString(r.content.text),7)],4))}}),Gne=u.defineComponent({__name:"FlexMessageSpanComponent",props:{content:{}},setup(t){return(e,n)=>(u.openBlock(),u.createElementBlock("span",null,u.toDisplayString(e.content.text),1))}}),Yne=u.defineComponent({__name:"FlexMessageSeparatorComponent",props:{content:{}},setup(t){return(e,n)=>(u.openBlock(),u.createElementBlock("div"))}}),ff=u.defineComponent({__name:"FlexMessageComponent",props:{content:{}},setup(t){const e={box:Pne,button:Fne,image:jne,video:zne,icon:Vne,text:Wne,span:Gne,separator:Yne},n=t,r=u.computed(()=>n.content.type);return(i,s)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[r.value]),{content:i.content},null,8,["content"]))}}),iD=u.defineComponent({__name:"FlexMessageBubbleComponent",props:{content:{}},setup(t){const e=t,n=u.computed(()=>e.content.header),r=u.computed(()=>e.content.hero),i=u.computed(()=>e.content.body),s=u.computed(()=>e.content.footer),a=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.header}),o=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.hero}),l=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.body}),d=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.footer}),f=u.computed(()=>{switch(e.content.size){case"nano":return"10px";case"micro":return"13px";case"kilo":return s.value?"13px 13px 17px 13px":"13px";case"mega":return s.value?"19px 20px 10px 20px":"20px";case"giga":return s.value?"19px 20px 10px 20px":"20px";default:return"20px"}});return(c,h)=>{var p,m,g,v,y,x,w,I,k,S,B,M;return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["overflow-hidden rounded-xl bg-gray-100 text-[#444444] dark:bg-zinc-700",{"w-[120px]":c.content.size==="nano","w-[160px]":c.content.size==="micro","w-[260px]":c.content.size==="kilo","w-[300px]":c.content.size==="mega"||!c.content.size,"w-[386px]":c.content.size==="giga"}])},[n.value?(u.openBlock(),u.createBlock(ff,{key:0,content:n.value,style:u.normalizeStyle({backgroundColor:(p=a.value)==null?void 0:p.backgroundColor,borderBottom:(m=a.value)!=null&&m.separator?`1px solid ${(g=a.value)==null?void 0:g.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0),r.value?(u.openBlock(),u.createBlock(ff,{key:1,content:r.value,style:u.normalizeStyle({backgroundColor:(v=o.value)==null?void 0:v.backgroundColor,borderBottom:(y=o.value)!=null&&y.separator?`1px solid ${(x=o.value)==null?void 0:x.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0),i.value?(u.openBlock(),u.createBlock(ff,{key:2,content:i.value,style:u.normalizeStyle({backgroundColor:(w=l.value)==null?void 0:w.backgroundColor,borderBottom:(I=l.value)!=null&&I.separator?`1px solid ${(k=l.value)==null?void 0:k.separatorColor}`:"none",padding:f.value})},null,8,["content","style"])):u.createCommentVNode("",!0),s.value?(u.openBlock(),u.createBlock(ff,{key:3,content:s.value,class:"p-2.5",style:u.normalizeStyle({backgroundColor:(S=d.value)==null?void 0:S.backgroundColor,borderBottom:(B=d.value)!=null&&B.separator?`1px solid ${(M=d.value)==null?void 0:M.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0)],2)}}}),Qne=u.defineComponent({__name:"FlexMessageBubbleContent",props:{message:{}},setup(t){return(e,n)=>(u.openBlock(),u.createBlock(iD,{content:e.message.contents},null,8,["content"]))}}),Kne={class:"flex items-start gap-2 overflow-auto"},Xne=u.defineComponent({__name:"FlexMessageCarouselContent",props:{message:{}},setup(t){return(e,n)=>(u.openBlock(),u.createElementBlock("div",Kne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.message.contents.contents,(r,i)=>(u.openBlock(),u.createBlock(iD,{key:i,content:r},null,8,["content"]))),128))]))}}),Zne=u.defineComponent({__name:"FlexMessageContent",props:{message:{}},setup(t){const e={[iv.Bubble]:Qne,[iv.Carousel]:Xne};return(n,r)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[n.message.flexType]),{message:n.message},null,8,["message"]))}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".mapdiv[data-v-d05fc6bc]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Jne=Object.defineProperty,qne=(t,e,n)=>e in t?Jne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sD=(t,e,n)=>(qne(t,typeof e!="symbol"?e+"":e,n),n);const sl=Symbol("map"),al=Symbol("api"),ay=Symbol("marker"),oy=Symbol("markerCluster"),Jm=Symbol("CustomMarker"),aD=Symbol("mapTilesLoaded"),Yu=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function $ne(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{d(r.next(f))}catch(c){a(c)}}function l(f){try{d(r.throw(f))}catch(c){a(c)}}function d(f){f.done?s(f.value):i(f.value).then(o,l)}d((r=r.apply(t,[])).next())})}var ere=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const oD="__googleMapsScriptId";var Qu;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Qu||(Qu={}));let tre=class Mc{constructor({apiKey:e,authReferrerPolicy:n,channel:r,client:i,id:s=oD,language:a,libraries:o=[],mapIds:l,nonce:d,region:f,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=r,this.client=i,this.id=s||oD,this.language=a,this.libraries=o,this.mapIds=l,this.nonce=d,this.region=f,this.retries=c,this.url=h,this.version=p,Mc.instance){if(!ere(this.options,Mc.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Mc.instance.options)}`);return Mc.instance}Mc.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Qu.FAILURE:this.done?Qu.SUCCESS:this.loading?Qu.LOADING:Qu.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(s=>!r[s]&&delete r[s]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(s=>{let a,o,l,d="The Google Maps JavaScript API",f="google",c="importLibrary",h="__ib__",p=document,m=window;m=m[f]||(m[f]={});const g=m.maps||(m.maps={}),v=new Set,y=new URLSearchParams,x=()=>a||(a=new Promise((w,I)=>$ne(this,void 0,void 0,function*(){var k;yield o=p.createElement("script"),o.id=this.id,y.set("libraries",[...v]+"");for(l in s)y.set(l.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),s[l]);y.set("callback",f+".maps."+h),o.src=this.url+"?"+y,g[h]=w,o.onerror=()=>a=I(Error(d+" could not load.")),o.nonce=this.nonce||((k=p.querySelector("script[nonce]"))===null||k===void 0?void 0:k.nonce)||"",p.head.append(o)})));g[c]?console.warn(d+" only loads once. Ignoring:",s):g[c]=(w,...I)=>v.add(w)&&x().then(()=>g[c](w,...I))})(r);const i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{const a=new ErrorEvent("error",{error:s});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}};function nre(t){return class extends t.OverlayView{constructor(e){super(),sD(this,"element"),sD(this,"opts");const{element:n,...r}=e;this.element=n,this.opts=r,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof t.LatLng?this.opts.position:new t.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||Number(e.style.opacity)>.01)}onAdd(){if(!this.element)return;const e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const e=this.getProjection(),n=e==null?void 0:e.fromLatLngToDivPixel(this.getPosition());if(n){this.element.style.position="absolute";const r=this.element.offsetHeight,i=this.element.offsetWidth;let s,a;switch(this.opts.anchorPoint){case"TOP_CENTER":s=n.x-i/2,a=n.y;break;case"BOTTOM_CENTER":s=n.x-i/2,a=n.y-r;break;case"LEFT_CENTER":s=n.x,a=n.y-r/2;break;case"RIGHT_CENTER":s=n.x-i,a=n.y-r/2;break;case"TOP_LEFT":s=n.x,a=n.y;break;case"TOP_RIGHT":s=n.x-i,a=n.y;break;case"BOTTOM_LEFT":s=n.x,a=n.y-r;break;case"BOTTOM_RIGHT":s=n.x-i,a=n.y-r;break;default:s=n.x-i/2,a=n.y-r/2}this.element.style.left=s+"px",this.element.style.top=a+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(e){const{element:n,...r}=e;this.element=n,this.opts=r,this.draw()}}}let lD;const uD=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],rre=u.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:uD,setup(t,{emit:e}){const n=u.ref(),r=u.ref(!1),i=u.ref(),s=u.ref(),a=u.ref(!1);u.provide(sl,i),u.provide(al,s),u.provide(aD,a);const o=()=>{const c={...t};Object.keys(c).forEach(m=>{c[m]===void 0&&delete c[m]});const h=m=>{var g;return m?{position:(g=s.value)==null?void 0:g.ControlPosition[m]}:{}},p={scaleControlOptions:t.scaleControlStyle?{style:t.scaleControlStyle}:{},panControlOptions:h(t.panControlPosition),zoomControlOptions:h(t.zoomControlPosition),rotateControlOptions:h(t.rotateControlPosition),streetViewControlOptions:h(t.streetViewControlPosition),fullscreenControlOptions:h(t.fullscreenControlPosition),disableDefaultUI:t.disableDefaultUi};return{...c,...p}},l=u.watch([s,i],([c,h])=>{const p=c,m=h;p&&m&&(p.event.addListenerOnce(m,"tilesloaded",()=>{a.value=!0}),setTimeout(l,0))},{immediate:!0}),d=()=>{try{const{apiKey:c,region:h,version:p,language:m,libraries:g,nonce:v}=t;lD=new tre({apiKey:c,region:h,version:p,language:m,libraries:g,nonce:v})}catch(c){console.error(c)}},f=c=>{s.value=u.markRaw(c.maps),i.value=u.markRaw(new c.maps.Map(n.value,o()));const h=nre(s.value);s.value[Jm]=h,uD.forEach(m=>{var g;(g=i.value)==null||g.addListener(m,v=>e(m,v))}),r.value=!0;const p=Object.keys(t).filter(m=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(m)).map(m=>u.toRef(t,m));u.watch([()=>t.center,()=>t.zoom,...p],([m,g],[v,y])=>{var x,w,I;const{center:k,zoom:S,...B}=o();(x=i.value)==null||x.setOptions(B),g!==void 0&&g!==y&&((w=i.value)==null||w.setZoom(g));const M=!v||m.lng!==v.lng||m.lat!==v.lat;m&&M&&((I=i.value)==null||I.panTo(m))})};return u.onMounted(()=>{t.apiPromise&&t.apiPromise instanceof Promise?t.apiPromise.then(f):(d(),lD.load().then(f))}),u.onBeforeUnmount(()=>{var c;a.value=!1,i.value&&((c=s.value)==null||c.event.clearInstanceListeners(i.value))}),{mapRef:n,ready:r,map:i,api:s,mapTilesLoaded:a}}}),ire=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},sre={ref:"mapRef",class:"mapdiv"};function are(t,e,n,r,i,s){return u.openBlock(),u.createElementBlock("div",null,[u.createElementVNode("div",sre,null,512),u.renderSlot(t.$slots,"default",u.normalizeProps(u.guardReactiveProps({ready:t.ready,map:t.map,api:t.api,mapTilesLoaded:t.mapTilesLoaded})),void 0,!0)])}const cD=ire(rre,[["render",are],["__scopeId","data-v-d05fc6bc"]]);function ore(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lre=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const va=ore(lre),dD=["click","drag","dragend","dragstart","gmp-click"];u.defineComponent({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:dD,setup(t,{emit:e,expose:n,slots:r}){const i=u.toRef(t,"options"),s=u.toRef(t,"pinOptions"),a=u.ref(),o=u.inject(sl,u.ref()),l=u.inject(al,u.ref()),d=u.inject(oy,u.ref()),f=u.computed(()=>!!(d.value&&l.value&&a.value instanceof google.maps.marker.AdvancedMarkerElement));return u.watch([o,i,s],async(c,[h,p,m])=>{var g,v,y;const x=!va(i.value,p)||!va(s.value,m)||o.value!==h;if(!o.value||!l.value||!x)return;const{AdvancedMarkerElement:w,PinElement:I}=l.value.marker;if(a.value){const{map:k,content:S,...B}=i.value;Object.assign(a.value,{content:s.value?new I(s.value).element:S,...B}),f.value&&((g=d.value)==null||g.removeMarker(a.value),(v=d.value)==null||v.addMarker(a.value))}else s.value&&(i.value.content=new I(s.value).element),a.value=u.markRaw(new w(i.value)),f.value?(y=d.value)==null||y.addMarker(a.value):a.value.map=o.value,dD.forEach(k=>{var S;(S=a.value)==null||S.addListener(k,B=>e(k,B))})},{immediate:!0}),u.onBeforeUnmount(()=>{var c,h;a.value&&((c=l.value)==null||c.event.clearInstanceListeners(a.value),f.value?(h=d.value)==null||h.removeMarker(a.value):a.value.map=null)}),u.provide(ay,a),n({marker:a}),()=>{var c;return(c=r.default)==null?void 0:c.call(r)}}});const ure=t=>t==="Marker",cre=t=>t===Jm,Ku=(t,e,n,r)=>{const i=u.ref(),s=u.inject(sl,u.ref()),a=u.inject(al,u.ref()),o=u.inject(oy,u.ref()),l=u.computed(()=>!!(o.value&&a.value&&(i.value instanceof a.value.Marker||i.value instanceof a.value[Jm])));return u.watch([s,n],(d,[f,c])=>{var h,p,m;const g=!va(n.value,c)||s.value!==f;!s.value||!a.value||!g||(i.value?(i.value.setOptions(n.value),l.value&&((h=o.value)==null||h.removeMarker(i.value),(p=o.value)==null||p.addMarker(i.value))):(ure(t)?i.value=u.markRaw(new a.value[t](n.value)):cre(t)?i.value=u.markRaw(new a.value[t](n.value)):i.value=u.markRaw(new a.value[t]({...n.value,map:s.value})),l.value?(m=o.value)==null||m.addMarker(i.value):i.value.setMap(s.value),e.forEach(v=>{var y;(y=i.value)==null||y.addListener(v,x=>r(v,x))})))},{immediate:!0}),u.onBeforeUnmount(()=>{var d,f;i.value&&((d=a.value)==null||d.event.clearInstanceListeners(i.value),l.value?(f=o.value)==null||f.removeMarker(i.value):i.value.setMap(null))}),i},fD=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],hD=u.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:fD,setup(t,{emit:e,expose:n,slots:r}){const i=u.toRef(t,"options"),s=Ku("Marker",fD,i,e);return u.provide(ay,s),n({marker:s}),()=>{var a;return(a=r.default)==null?void 0:a.call(r)}}});u.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:Yu,setup(t,{emit:e}){const n=u.toRef(t,"options");return{polyline:Ku("Polyline",Yu,n,e)}},render:()=>null}),u.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:Yu,setup(t,{emit:e}){const n=u.toRef(t,"options");return{polygon:Ku("Polygon",Yu,n,e)}},render:()=>null});const pD=Yu.concat(["bounds_changed"]);u.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:pD,setup(t,{emit:e}){const n=u.toRef(t,"options");return{rectangle:Ku("Rectangle",pD,n,e)}},render:()=>null});const mD=Yu.concat(["center_changed","radius_changed"]);u.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:mD,setup(t,{emit:e}){const n=u.toRef(t,"options");return{circle:Ku("Circle",mD,n,e)}},render:()=>null}),u.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(t,{emit:e}){const n=u.ref(null),r=u.inject(sl,u.ref()),i=u.inject(al,u.ref()),s=u.inject(aD,u.ref(!1)),a=u.watch([s,i,n],([d,f,c])=>{f&&d&&c&&(o(t.position),e("content:loaded"),setTimeout(a,0))},{immediate:!0}),o=d=>{if(r.value&&i.value&&n.value){const f=i.value.ControlPosition[d];r.value.controls[f].push(n.value)}},l=d=>{if(r.value&&i.value){let f=null;const c=i.value.ControlPosition[d];r.value.controls[c].forEach((h,p)=>{h===n.value&&(f=p)}),f!==null&&r.value.controls[c].removeAt(f)}};return u.onBeforeUnmount(()=>l(t.position)),u.watch(()=>t.position,(d,f)=>{l(f),o(d)}),u.watch(()=>t.index,d=>{d&&n.value&&(n.value.index=t.index)}),{controlRef:n}}});const gD=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"];u.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...gD,"update:modelValue"],setup(t,{slots:e,emit:n,expose:r}){const i=u.ref(),s=u.ref(),a=u.inject(sl,u.ref()),o=u.inject(al,u.ref()),l=u.inject(ay,u.ref());let d,f=t.modelValue;const c=u.computed(()=>{var g;return(g=e.default)==null?void 0:g.call(e).some(v=>v.type!==u.Comment)}),h=g=>{f=g,n("update:modelValue",g)},p=g=>{i.value&&(i.value.open({map:a.value,anchor:l.value,...g}),h(!0))},m=()=>{i.value&&(i.value.close(),h(!1))};return u.onMounted(()=>{u.watch([a,()=>t.options],([g,v],[y,x])=>{var w;const I=!va(v,x)||a.value!==y;a.value&&o.value&&I&&(i.value?(i.value.setOptions({...v,content:c.value?s.value:v.content}),l.value||p()):(i.value=u.markRaw(new o.value.InfoWindow({...v,content:c.value?s.value:v.content})),l.value&&(d=l.value.addListener("click",()=>{p()})),(!l.value||f)&&p(),gD.forEach(k=>{var S;(S=i.value)==null||S.addListener(k,B=>n(k,B))}),(w=i.value)==null||w.addListener("closeclick",()=>h(!1))))},{immediate:!0}),u.watch(()=>t.modelValue,g=>{g!==f&&(g?p():m())})}),u.onBeforeUnmount(()=>{var g;d&&d.remove(),i.value&&((g=o.value)==null||g.event.clearInstanceListeners(i.value),m())}),r({infoWindow:i,open:p,close:m}),{infoWindow:i,infoWindowRef:s,hasSlotContent:c,open:p,close:m}}});const bD=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ly=1,hf=8;let dre=class IO{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==ly)throw new Error(`Got v${i} data when expected v${ly}.`);const s=bD[r&15];if(!s)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new IO(o,a,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=bD.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-o%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,hf,e),this.coords=new this.ArrayType(this.data,hf+o+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(hf+a+o+l),this.ids=new this.IndexArrayType(this.data,hf,e),this.coords=new this.ArrayType(this.data,hf+o+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ly<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return uy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:a,nodeSize:o}=this,l=[0,s.length-1,0],d=[];for(;l.length;){const f=l.pop()||0,c=l.pop()||0,h=l.pop()||0;if(c-h<=o){for(let v=h;v<=c;v++){const y=a[2*v],x=a[2*v+1];y>=e&&y<=r&&x>=n&&x<=i&&d.push(s[v])}continue}const p=h+c>>1,m=a[2*p],g=a[2*p+1];m>=e&&m<=r&&g>=n&&g<=i&&d.push(s[p]),(f===0?e<=m:n<=g)&&(l.push(h),l.push(p-1),l.push(1-f)),(f===0?r>=m:i>=g)&&(l.push(p+1),l.push(c),l.push(1-f))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:a}=this,o=[0,i.length-1,0],l=[],d=r*r;for(;o.length;){const f=o.pop()||0,c=o.pop()||0,h=o.pop()||0;if(c-h<=a){for(let v=h;v<=c;v++)yD(s[2*v],s[2*v+1],e,n)<=d&&l.push(i[v]);continue}const p=h+c>>1,m=s[2*p],g=s[2*p+1];yD(m,g,e,n)<=d&&l.push(i[p]),(f===0?e-r<=m:n-r<=g)&&(o.push(h),o.push(p-1),o.push(1-f)),(f===0?e+r>=m:n+r>=g)&&(o.push(p+1),o.push(c),o.push(1-f))}return l}};function uy(t,e,n,r,i,s){if(i-r<=n)return;const a=r+i>>1;vD(t,e,a,r,i,s),uy(t,e,n,r,a-1,1-s),uy(t,e,n,a+1,i,1-s)}function vD(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const d=i-r+1,f=n-r+1,c=Math.log(d),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(d-h)/d)*(f-d/2<0?-1:1),m=Math.max(r,Math.floor(n-f*h/d+p)),g=Math.min(i,Math.floor(n+(d-f)*h/d+p));vD(t,e,n,m,g,s)}const a=e[2*n+s];let o=r,l=i;for(pf(t,e,r,n),e[2*i+s]>a&&pf(t,e,r,i);o<l;){for(pf(t,e,o,l),o++,l--;e[2*o+s]<a;)o++;for(;e[2*l+s]>a;)l--}e[2*r+s]===a?pf(t,e,r,l):(l++,pf(t,e,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function pf(t,e,n,r){cy(t,n,r),cy(e,2*n,2*r),cy(e,2*n+1,2*r+1)}function cy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yD(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const fre={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},_D=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ol=2,$a=3,dy=4,eo=5,TD=6;let ED=class{constructor(e){this.options=Object.assign(Object.create(fre),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const a=[];for(let l=0;l<e.length;l++){const d=e[l];if(!d.geometry)continue;const[f,c]=d.geometry.coordinates,h=_D(qm(f)),p=_D($m(c));a.push(h,p,1/0,l,-1,1),this.options.reduce&&a.push(0)}let o=this.trees[i+1]=this._createTree(a);n&&console.timeEnd(s);for(let l=i;l>=r;l--){const d=+Date.now();o=this.trees[l]=this._createTree(this._cluster(o,l)),n&&console.log("z%d: %d clusters in %dms",l,o.numItems,+Date.now()-d)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const c=this.getClusters([r,i,180,a],n),h=this.getClusters([-180,i,s,a],n);return c.concat(h)}const o=this.trees[this._limitZoom(n)],l=o.range(qm(r),$m(a),qm(s),$m(i)),d=o.data,f=[];for(const c of l){const h=this.stride*c;f.push(d[h+eo]>1?AD(d,h,this.clusterProps):this.points[d[h+$a]])}return f}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const a=s.data;if(n*this.stride>=a.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=a[n*this.stride],d=a[n*this.stride+1],f=s.within(l,d,o),c=[];for(const h of f){const p=h*this.stride;a[p+dy]===e&&c.push(a[p+eo]>1?AD(a,p,this.clusterProps):this.points[a[p+$a]])}if(c.length===0)throw new Error(i);return c}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,d=(r-l)/s,f=(r+1+l)/s,c={features:[]};return this._addTileFeatures(i.range((n-l)/s,d,(n+1+l)/s,f),i.data,n,r,s,c),n===0&&this._addTileFeatures(i.range(1-l/s,d,1,f),i.data,s,r,s,c),n===s-1&&this._addTileFeatures(i.range(0,d,l/s,f),i.data,-1,r,s,c),c.features.length?c:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const a=this.getChildren(n);for(const o of a){const l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(o),e.length===r)break}return s}_createTree(e){const n=new dre(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,a){for(const o of e){const l=o*this.stride,d=n[l+eo]>1;let f,c,h;if(d)f=xD(n,l,this.clusterProps),c=n[l],h=n[l+1];else{const g=this.points[n[l+$a]];f=g.properties;const[v,y]=g.geometry.coordinates;c=qm(v),h=$m(y)}const p={type:1,geometry:[[Math.round(this.options.extent*(c*s-r)),Math.round(this.options.extent*(h*s-i))]],tags:f};let m;d||this.options.generateId?m=n[l+$a]:m=this.points[n[l+$a]].id,m!==void 0&&(p.id=m),a.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:a}=this.options,o=r/(i*Math.pow(2,n)),l=e.data,d=[],f=this.stride;for(let c=0;c<l.length;c+=f){if(l[c+ol]<=n)continue;l[c+ol]=n;const h=l[c],p=l[c+1],m=e.within(l[c],l[c+1],o),g=l[c+eo];let v=g;for(const y of m){const x=y*f;l[x+ol]>n&&(v+=l[x+eo])}if(v>g&&v>=a){let y=h*g,x=p*g,w,I=-1;const k=((c/f|0)<<5)+(n+1)+this.points.length;for(const S of m){const B=S*f;if(l[B+ol]<=n)continue;l[B+ol]=n;const M=l[B+eo];y+=l[B]*M,x+=l[B+1]*M,l[B+dy]=k,s&&(w||(w=this._map(l,c,!0),I=this.clusterProps.length,this.clusterProps.push(w)),s(w,this._map(l,B)))}l[c+dy]=k,d.push(y/v,x/v,1/0,k,-1,v),s&&d.push(I)}else{for(let y=0;y<f;y++)d.push(l[c+y]);if(v>1)for(const y of m){const x=y*f;if(!(l[x+ol]<=n)){l[x+ol]=n;for(let w=0;w<f;w++)d.push(l[x+w])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+eo]>1){const a=this.clusterProps[e[n+TD]];return r?Object.assign({},a):a}const i=this.points[e[n+$a]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}};function AD(t,e,n){return{type:"Feature",id:t[e+$a],properties:xD(t,e,n),geometry:{type:"Point",coordinates:[hre(t[e]),pre(t[e+1])]}}}function xD(t,e,n){const r=t[e+eo],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+TD],a=s===-1?{}:Object.assign({},n[s]);return Object.assign(a,{cluster:!0,cluster_id:t[e+$a],point_count:r,point_count_abbreviated:i})}function qm(t){return t/360+.5}function $m(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function hre(t){return(t-.5)*360}function pre(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function fy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}let Er=class{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}};class mf{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Er.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Er.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Er.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const mre=(t,e,n,r)=>{const i=CD(t.getBounds(),e,r);return n.filter(s=>i.contains(Er.getPosition(s)))},CD=(t,e,n)=>{const{northEast:r,southWest:i}=gre(t,e),s=bre({northEast:r,southWest:i},n);return vre(s,e)},wD=(t,e,n)=>{const r=CD(t,e,n),i=r.getNorthEast(),s=r.getSouthWest();return[s.lng(),s.lat(),i.lng(),i.lat()]},gre=(t,e)=>({northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}),bre=({northEast:t,southWest:e},n)=>(t.x+=n,t.y-=n,e.x-=n,e.y+=n,{northEast:t,southWest:e}),vre=({northEast:t,southWest:e},n)=>{const r=n.fromDivPixelToLatLng(e),i=n.fromDivPixelToLatLng(t);return new google.maps.LatLngBounds(r,i)};let SD=class{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return _re(e)}},yre=class extends SD{constructor(e){var{viewportPadding:n=60}=e,r=fy(e,["viewportPadding"]);super(r),this.viewportPadding=60,this.viewportPadding=n}calculate({markers:e,map:n,mapCanvasProjection:r}){return n.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:mre(n,r,e,this.viewportPadding),map:n,mapCanvasProjection:r})}}};const _re=t=>t.map(e=>new mf({position:Er.getPosition(e),markers:[e]}));let Tre=class extends SD{constructor(e){var{maxZoom:n,radius:r=60}=e,i=fy(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new ED(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!va(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const a=Er.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!va(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new mf({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new mf({markers:[i],position:Er.getPosition(i)})}},Ere=class extends yre{constructor(e){var{maxZoom:n,radius:r=60,viewportPadding:i=60}=e,s=fy(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:n,viewportPadding:i}),this.superCluster=new ED(Object.assign({maxZoom:this.maxZoom,radius:r},s)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const n={zoom:Math.round(e.map.getZoom()),view:wD(e.map.getBounds(),e.mapCanvasProjection,this.viewportPadding)};let r=!va(this.state,n);if(!va(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const a=Er.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return r&&(this.clusters=this.cluster(e),this.state=n),{clusters:this.clusters,changed:r}}cluster({map:e,mapCanvasProjection:n}){const r={zoom:Math.round(e.getZoom()),view:wD(e.getBounds(),n,this.viewportPadding)};return this.superCluster.getClusters(r.view,r.zoom).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new mf({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new mf({markers:[i],position:Er.getPosition(i)})}},Are=class{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,a)=>s+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}},xre=class{render({count:e,position:n},r,i){const s=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,o=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Er.isAdvancedMarkerAvailable(i)){const d=document.createElement("div");d.innerHTML=s;const f=d.firstElementChild;f.setAttribute("transform","translate(0 25)");const c={map:i,position:n,zIndex:o,title:a,content:f};return new google.maps.marker.AdvancedMarkerElement(c)}const l={position:n,zIndex:o,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}};function Cre(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}let wre=class DO{constructor(){Cre(DO,google.maps.OverlayView)}};var Xu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Xu||(Xu={}));const Sre=(t,e,n)=>{n.fitBounds(e.bounds)};let kre=class extends wre{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new Tre(r),renderer:s=new xre,onClusterClick:a=Sre}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=a,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(Er.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Xu.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const a of n)a.markers.length==1&&i.add(a.markers[0]);const s=[];for(const a of this.clusters)a.marker!=null&&(a.markers.length==1?i.has(a.marker)||Er.setMap(a.marker,null):s.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(a=>Er.setMap(a,null)))}google.maps.event.trigger(this,Xu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Er.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Are(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Er.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Xu.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Er.setMap(r.marker,n)})}};const kD=Object.values(Xu);u.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:kD,setup(t,{emit:e,expose:n,slots:r}){const i=u.ref(),s=u.inject(sl,u.ref()),a=u.inject(al,u.ref());return u.provide(oy,i),u.watch(s,()=>{s.value&&(i.value=u.markRaw(new kre({map:s.value,algorithm:new Ere(t.options.algorithmOptions??{}),...t.options})),kD.forEach(o=>{var l;(l=i.value)==null||l.addListener(o,d=>e(o,d))}))},{immediate:!0}),u.onBeforeUnmount(()=>{var o;i.value&&((o=a.value)==null||o.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),n({markerCluster:i}),()=>{var o;return(o=r.default)==null?void 0:o.call(r)}}}),u.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(t,{slots:e,emit:n,expose:r}){const i=u.ref(),s=u.computed(()=>{var l;return(l=e.default)==null?void 0:l.call(e).some(d=>d.type!==u.Comment)}),a=u.computed(()=>({...t.options,element:i.value})),o=Ku(Jm,[],a,n);return r({customMarker:o}),{customMarkerRef:i,customMarker:o,hasSlotContent:s}}}),u.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=u.ref(),n=u.inject(sl,u.ref()),r=u.inject(al,u.ref());return u.watch([n,()=>t.options],([i,s],[a,o])=>{var l;const d=!va(s,o)||n.value!==a;if(n.value&&r.value&&d){const f=structuredClone(s);if(f.data&&!(f.data instanceof r.value.MVCArray)){const c=r.value.LatLng;f.data=(l=f.data)==null?void 0:l.map(h=>h instanceof c||"location"in h&&(h.location instanceof c||h.location===null)?h:"location"in h?{...h,location:new c(h.location)}:new c(h))}e.value?e.value.setOptions(f):e.value=u.markRaw(new r.value.visualization.HeatmapLayer({...f,map:n.value}))}},{immediate:!0}),u.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const Ire=t=>(u.pushScopeId("data-v-b091599d"),t=t(),u.popScopeId(),t),Dre={class:"w-[250px] p-2 underline sm:w-[300px]"},Nre=Ire(()=>u.createElementVNode("div",{class:"absolute inset-0"},null,-1)),Mre=On(u.defineComponent({__name:"LocationMessageContent",props:{message:{}},setup(t){const e=t,r=rn().state.imkit.config.mapApiKey,i=u.computed(()=>({lat:e.message.latitude,lng:e.message.longitude})),s=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e.message.address}`,"_blank")};return(a,o)=>(u.openBlock(),u.createElementBlock("div",{class:"relative -mx-3 -my-2 flex cursor-pointer flex-col",onClick:s},[u.createVNode(u.unref(cD),{"api-key":u.unref(r),center:i.value,zoom:15,disableDefaultUi:!0,class:"h-[150px] w-[250px] sm:h-[200px] sm:w-[300px]"},{default:u.withCtx(()=>[u.createVNode(u.unref(hD),{options:{position:i.value}},null,8,["options"])]),_:1},8,["api-key","center"]),u.createElementVNode("div",Dre,u.toDisplayString(a.message.address),1),Nre]))}}),[["__scopeId","data-v-b091599d"]]),Ore="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVR4nO2bPYsUQRCGG1E0MRAFTQSNTjRSQxE0M9NfoGCwOv3O3k7XKpxR9e7hdyRGlxoan2B+4AcamBmYGKhgZqAmoitzB87eMh93595uz877QCcbLQ9dNV3V1cYQQgghhBBCpswV1T3Anf3T/h/BYZP+Cev0uXX+N8QPIPoFzt9qtx/tNk0HiZ6C+B9rYtYv6/z7OOmdMU0GTt/myRmSlO6qx1dv3t9rmkbcXTxaJmfdcvrROr1gmkSc9M5uWFAm6kljEjm6em7TglYl+a+R08tm1sFWBWW7aTmSxcNmVsH/ClqT9A3iO6q6w8waGIegLOxWrnf6c2aWwDgFpUcC0Z9w6lutpV1mFsCYBQ2Jehd1+6dN3cE2CVqV5PwvK3ovre9MXcE2ChpaHyLXO2/qCCYjKC1+/1jnl2pXrmBigv6F3Web9C6auoAJCxpK4k9bogdM6GBKgmpTrmCagrL1LNhyBWEICrdcQSiCsrBbiUWPmVBAaIJCK1cQoKBMlH9pb+ghCpJSSa9VdSd3kBRLikUvUZCU7CLnH1KQlOUjfUBBwhAbbO1cpK+YpKXwPPRifv72QX7mhQfFwcZDiqXGoCDXsFhF8c5huwP54cSGGYq/UGy5Ir9sYNMe+eUCr31QnIR5cYj8cOLVM4qTMIcXEHo/eRyAA1TlcASvAg5xVsAx4Ao4SF7BtY4e2UT7s3lPEVKs+DcV1y7NfcyS0pb+Sev0e4EcPodKaXf1+MiDuk9WdIEP6kZIhUQLd/eN/k4IIYQQQggxDeMvr6MHGaopSLgAAAAASUVORK5CYII=",Lre="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO2bzy5DQRTGJ8GaDQ+ANZ4FXbDxZ9HoGTc1p01scA5SGmshfQLBAu+gkYgXYqEyjUhEae/0Ti/y/ZJZ3vnO/e733d0xBgAAAAAAgFhsVGSCKrJoK1L8cpwsJ9XDqaw1ycm0v7uz5v5CktTGTd6IyLBlObEsL5a19f2RV8t6WS7LWL+a/g7r9PpnPW2R02fr9NjPaPKCnDa6DfrpOG32M3Cx2Bgh1od0mnJm8oDKMveejN6H9V+WZTVYk2U9rZ6fsVSVGTNorJO99MO2B74N1SSndyGaxLqb7dv3MizreZBBTh5DNf2zgQadm1///+EPg55CNf2zQQY5bZhBQzAIBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAb1lyDGKkKUZRZyemMGvcziZMcMmk13MBuyDmW3dCVU0zpd+zPrUCE1I5b7fhbq2huOTpsp03Nq8kJEhoml3l5/7PIVifWiuF0fzWIlk1iueqjyM7EcFQpXQyZvkqQ2XqrIfKcFW2JdKm3JZNaa/k5/dydNP8uvWOoFAAAAAADm3/IGGLsxyp+ApQ8AAAAASUVORK5CYII=",Rre="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nO3bTy5DYRSG8ZuosU5qAWWMtZQJE38GVkGHiHGj6QoEA+yBSJpuiIFXGtesvPee77sp+vwS057zPcXsFAUAAADQFEmrknYkHc/42ZO01sDM9fKzZ83cltTJPTOyZEvSpaQ3/exd0o2kdoaZbUl38l4lnU93zPPa2LIj1fOcsrCkZUkvNWde5X119WW3yt+Mug4SZh4F5k133Mj7+mrL9hXzkDDzMTjzNO/rqy07DC47Tpg5Ds4c5n19M/9/vkwSZk4UM8r7+mrLjoLLEsggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZBDIIJBBIINABoEMAhkEMghkEMggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZCxMoGFw2YU5RegHl72fwzHLSd7XV1t2M3gOtZ8w8/DPnEMF/8yeEg/qWuVRXh2DYl70ufBFef7ovsVrSSuZTjJvK4SZ7nQmaSnPa9OW7kjqfXNguyup28DMbvnZs2b2fsVRLwAAAIp/6wPxkEFCV8mUxgAAAABJRU5ErkJggg==";var ID={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var h=this||n;if(c=parseFloat(c),h.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(h._volume=c,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),g=0;g<m.length;g++){var v=h._howls[p]._soundById(m[g]);v&&v._node&&(v._node.volume=v._volume*c)}return h}return h._volume},mute:function(c){var h=this||n;h.ctx||f(),h._muted=c,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c?0:h._volume,n.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),g=0;g<m.length;g++){var v=h._howls[p]._soundById(m[g]);v&&v._node&&(v._node.muted=c?!0:v._muted)}return h},stop:function(){for(var c=this||n,h=0;h<c._howls.length;h++)c._howls[h].stop();return c},unload:function(){for(var c=this||n,h=c._howls.length-1;h>=0;h--)c._howls[h].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var h=new Audio;h.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return c}if(!h||typeof h.canPlayType!="function")return c;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=c._navigator?c._navigator.userAgent:"",g=m.match(/OPR\/(\d+)/g),v=g&&parseInt(g[0].split("/")[1],10)<33,y=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),w=y&&x&&parseInt(x[1],10)<15;return c._codecs={mp3:!!(!v&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!w&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!w&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var h=function(p){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,c._releaseHtml5Audio(m)}catch{c.noAudio=!0;break}for(var g=0;g<c._howls.length;g++)if(!c._howls[g]._webAudio)for(var v=c._howls[g]._getSoundIds(),y=0;y<v.length;y++){var x=c._howls[g]._soundById(v[y]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}c._autoResume();var w=c.ctx.createBufferSource();w.buffer=c._scratchBuffer,w.connect(c.ctx.destination),typeof w.start>"u"?w.noteOn(0):w.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),w.onended=function(){w.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var I=0;I<c._howls.length;I++)c._howls[I]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var h=this||n;return c._unlocked&&h._html5AudioPool.push(c),h},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var h=0;h<c._howls.length;h++)if(c._howls[h]._webAudio){for(var p=0;p<c._howls[h]._sounds.length;p++)if(!c._howls[h]._sounds[p]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var m=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(m,m)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var h=0;h<c._howls.length;h++)c._howls[h]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var h=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(c)};r.prototype={init:function(c){var h=this;return n.ctx||f(),h._autoplay=c.autoplay||!1,h._format=typeof c.format!="string"?c.format:[c.format],h._html5=c.html5||!1,h._muted=c.mute||!1,h._loop=c.loop||!1,h._pool=c.pool||5,h._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,h._rate=c.rate||1,h._sprite=c.sprite||{},h._src=typeof c.src!="string"?c.src:[c.src],h._volume=c.volume!==void 0?c.volume:1,h._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=c.onend?[{fn:c.onend}]:[],h._onfade=c.onfade?[{fn:c.onfade}]:[],h._onload=c.onload?[{fn:c.onload}]:[],h._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],h._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],h._onpause=c.onpause?[{fn:c.onpause}]:[],h._onplay=c.onplay?[{fn:c.onplay}]:[],h._onstop=c.onstop?[{fn:c.onstop}]:[],h._onmute=c.onmute?[{fn:c.onmute}]:[],h._onvolume=c.onvolume?[{fn:c.onvolume}]:[],h._onrate=c.onrate?[{fn:c.onrate}]:[],h._onseek=c.onseek?[{fn:c.onseek}]:[],h._onunlock=c.onunlock?[{fn:c.onunlock}]:[],h._onresume=[],h._webAudio=n.usingWebAudio&&!h._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var c=this,h=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var p=0;p<c._src.length;p++){var m,g;if(c._format&&c._format[p])m=c._format[p];else{if(g=c._src[p],typeof g!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(g),m||(m=/\.([^.]+)$/.exec(g.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&n.codecs(m)){h=c._src[p];break}}if(!h){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=h,c._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&a(c),c},play:function(c,h){var p=this,m=null;if(typeof c=="number")m=c,c=null;else{if(typeof c=="string"&&p._state==="loaded"&&!p._sprite[c])return null;if(typeof c>"u"&&(c="__default",!p._playLock)){for(var g=0,v=0;v<p._sounds.length;v++)p._sounds[v]._paused&&!p._sounds[v]._ended&&(g++,m=p._sounds[v]._id);g===1?c=null:m=null}}var y=m?p._soundById(m):p._inactiveSound();if(!y)return null;if(m&&!c&&(c=y._sprite||"__default"),p._state!=="loaded"){y._sprite=c,y._ended=!1;var x=y._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(m&&!y._paused)return h||p._loadQueue("play"),y._id;p._webAudio&&n._autoResume();var w=Math.max(0,y._seek>0?y._seek:p._sprite[c][0]/1e3),I=Math.max(0,(p._sprite[c][0]+p._sprite[c][1])/1e3-w),k=I*1e3/Math.abs(y._rate),S=p._sprite[c][0]/1e3,B=(p._sprite[c][0]+p._sprite[c][1])/1e3;y._sprite=c,y._ended=!1;var M=function(){y._paused=!1,y._seek=w,y._start=S,y._stop=B,y._loop=!!(y._loop||p._sprite[c][2])};if(w>=B){p._ended(y);return}var D=y._node;if(p._webAudio){var L=function(){p._playLock=!1,M(),p._refreshBuffer(y);var H=y._muted||p._muted?0:y._volume;D.gain.setValueAtTime(H,n.ctx.currentTime),y._playStart=n.ctx.currentTime,typeof D.bufferSource.start>"u"?y._loop?D.bufferSource.noteGrainOn(0,w,86400):D.bufferSource.noteGrainOn(0,w,I):y._loop?D.bufferSource.start(0,w,86400):D.bufferSource.start(0,w,I),k!==1/0&&(p._endTimers[y._id]=setTimeout(p._ended.bind(p,y),k)),h||setTimeout(function(){p._emit("play",y._id),p._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?L():(p._playLock=!0,p.once("resume",L),p._clearTimer(y._id))}else{var z=function(){D.currentTime=w,D.muted=y._muted||p._muted||n._muted||D.muted,D.volume=y._volume*n.volume(),D.playbackRate=y._rate;try{var H=D.play();if(H&&typeof Promise<"u"&&(H instanceof Promise||typeof H.then=="function")?(p._playLock=!0,M(),H.then(function(){p._playLock=!1,D._unlocked=!0,h?p._loadQueue():p._emit("play",y._id)}).catch(function(){p._playLock=!1,p._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):h||(p._playLock=!1,M(),p._emit("play",y._id)),D.playbackRate=y._rate,D.paused){p._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||y._loop?p._endTimers[y._id]=setTimeout(p._ended.bind(p,y),k):(p._endTimers[y._id]=function(){p._ended(y),D.removeEventListener("ended",p._endTimers[y._id],!1)},D.addEventListener("ended",p._endTimers[y._id],!1))}catch(K){p._emit("playerror",y._id,K)}};D.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(D.src=p._src,D.load());var U=window&&window.ejecta||!D.readyState&&n._navigator.isCocoonJS;if(D.readyState>=3||U)z();else{p._playLock=!0,p._state="loading";var F=function(){p._state="loaded",z(),D.removeEventListener(n._canPlayEvent,F,!1)};D.addEventListener(n._canPlayEvent,F,!1),p._clearTimer(y._id)}}return y._id},pause:function(c){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(c)}}),h;for(var p=h._getSoundIds(c),m=0;m<p.length;m++){h._clearTimer(p[m]);var g=h._soundById(p[m]);if(g&&!g._paused&&(g._seek=h.seek(p[m]),g._rateSeek=0,g._paused=!0,h._stopFade(p[m]),g._node))if(h._webAudio){if(!g._node.bufferSource)continue;typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||g._node.duration===1/0)&&g._node.pause();arguments[1]||h._emit("pause",g?g._id:null)}return h},stop:function(c,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(c)}}),p;for(var m=p._getSoundIds(c),g=0;g<m.length;g++){p._clearTimer(m[g]);var v=p._soundById(m[g]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,p._stopFade(m[g]),v._node&&(p._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),p._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&p._clearSound(v._node))),h||p._emit("stop",v._id))}return p},mute:function(c,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(c,h)}}),p;if(typeof h>"u")if(typeof c=="boolean")p._muted=c;else return p._muted;for(var m=p._getSoundIds(h),g=0;g<m.length;g++){var v=p._soundById(m[g]);v&&(v._muted=c,v._interval&&p._stopFade(v._id),p._webAudio&&v._node?v._node.gain.setValueAtTime(c?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:c),p._emit("mute",v._id))}return p},volume:function(){var c=this,h=arguments,p,m;if(h.length===0)return c._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var g=c._getSoundIds(),v=g.indexOf(h[0]);v>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var y;if(typeof p<"u"&&p>=0&&p<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,h)}}),c;typeof m>"u"&&(c._volume=p),m=c._getSoundIds(m);for(var x=0;x<m.length;x++)y=c._soundById(m[x]),y&&(y._volume=p,h[2]||c._stopFade(m[x]),c._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(p,n.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=p*n.volume()),c._emit("volume",y._id))}else return y=m?c._soundById(m):c._sounds[0],y?y._volume:0;return c},fade:function(c,h,p,m){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(c,h,p,m)}}),g;c=Math.min(Math.max(0,parseFloat(c)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),g.volume(c,m);for(var v=g._getSoundIds(m),y=0;y<v.length;y++){var x=g._soundById(v[y]);if(x){if(m||g._stopFade(v[y]),g._webAudio&&!x._muted){var w=n.ctx.currentTime,I=w+p/1e3;x._volume=c,x._node.gain.setValueAtTime(c,w),x._node.gain.linearRampToValueAtTime(h,I)}g._startFadeInterval(x,c,h,p,v[y],typeof m>"u")}}return g},_startFadeInterval:function(c,h,p,m,g,v){var y=this,x=h,w=p-h,I=Math.abs(w/.01),k=Math.max(4,I>0?m/I:m),S=Date.now();c._fadeTo=p,c._interval=setInterval(function(){var B=(Date.now()-S)/m;S=Date.now(),x+=w*B,x=Math.round(x*100)/100,w<0?x=Math.max(p,x):x=Math.min(p,x),y._webAudio?c._volume=x:y.volume(x,c._id,!0),v&&(y._volume=x),(p<h&&x<=p||p>h&&x>=p)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,y.volume(p,c._id),y._emit("fade",c._id))},k)},_stopFade:function(c){var h=this,p=h._soundById(c);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,c),p._fadeTo=null,h._emit("fade",c)),h},loop:function(){var c=this,h=arguments,p,m,g;if(h.length===0)return c._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],c._loop=p;else return g=c._soundById(parseInt(h[0],10)),g?g._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var v=c._getSoundIds(m),y=0;y<v.length;y++)g=c._soundById(v[y]),g&&(g._loop=p,c._webAudio&&g._node&&g._node.bufferSource&&(g._node.bufferSource.loop=p,p&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop,c.playing(v[y])&&(c.pause(v[y],!0),c.play(v[y],!0)))));return c},rate:function(){var c=this,h=arguments,p,m;if(h.length===0)m=c._sounds[0]._id;else if(h.length===1){var g=c._getSoundIds(),v=g.indexOf(h[0]);v>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var y;if(typeof p=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,h)}}),c;typeof m>"u"&&(c._rate=p),m=c._getSoundIds(m);for(var x=0;x<m.length;x++)if(y=c._soundById(m[x]),y){c.playing(m[x])&&(y._rateSeek=c.seek(m[x]),y._playStart=c._webAudio?n.ctx.currentTime:y._playStart),y._rate=p,c._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(p,n.ctx.currentTime):y._node&&(y._node.playbackRate=p);var w=c.seek(m[x]),I=(c._sprite[y._sprite][0]+c._sprite[y._sprite][1])/1e3-w,k=I*1e3/Math.abs(y._rate);(c._endTimers[m[x]]||!y._paused)&&(c._clearTimer(m[x]),c._endTimers[m[x]]=setTimeout(c._ended.bind(c,y),k)),c._emit("rate",y._id)}}else return y=c._soundById(m),y?y._rate:c._rate;return c},seek:function(){var c=this,h=arguments,p,m;if(h.length===0)c._sounds.length&&(m=c._sounds[0]._id);else if(h.length===1){var g=c._getSoundIds(),v=g.indexOf(h[0]);v>=0?m=parseInt(h[0],10):c._sounds.length&&(m=c._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,h)}}),c;var y=c._soundById(m);if(y)if(typeof p=="number"&&p>=0){var x=c.playing(m);x&&c.pause(m,!0),y._seek=p,y._ended=!1,c._clearTimer(m),!c._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=p);var w=function(){x&&c.play(m,!0),c._emit("seek",m)};if(x&&!c._webAudio){var I=function(){c._playLock?setTimeout(I,0):w()};setTimeout(I,0)}else w()}else if(c._webAudio){var k=c.playing(m)?n.ctx.currentTime-y._playStart:0,S=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(S+k*Math.abs(y._rate))}else return y._node.currentTime;return c},playing:function(c){var h=this;if(typeof c=="number"){var p=h._soundById(c);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(c){var h=this,p=h._duration,m=h._soundById(c);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var c=this,h=c._sounds,p=0;p<h.length;p++)h[p]._paused||c.stop(h[p]._id),c._webAudio||(c._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(n._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),n._releaseHtml5Audio(h[p]._node)),delete h[p]._node,c._clearTimer(h[p]._id);var m=n._howls.indexOf(c);m>=0&&n._howls.splice(m,1);var g=!0;for(p=0;p<n._howls.length;p++)if(n._howls[p]._src===c._src||c._src.indexOf(n._howls[p]._src)>=0){g=!1;break}return s&&g&&delete s[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,h,p,m){var g=this,v=g["_on"+c];return typeof h=="function"&&v.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),g},off:function(c,h,p){var m=this,g=m["_on"+c],v=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(v=0;v<g.length;v++){var y=p===g[v].id;if(h===g[v].fn&&y||!h&&y){g.splice(v,1);break}}else if(c)m["_on"+c]=[];else{var x=Object.keys(m);for(v=0;v<x.length;v++)x[v].indexOf("_on")===0&&Array.isArray(m[x[v]])&&(m[x[v]]=[])}return m},once:function(c,h,p){var m=this;return m.on(c,h,p,1),m},_emit:function(c,h,p){for(var m=this,g=m["_on"+c],v=g.length-1;v>=0;v--)(!g[v].id||g[v].id===h||c==="load")&&(setTimeout((function(y){y.call(this,h,p)}).bind(m,g[v].fn),0),g[v].once&&m.off(c,g[v].fn,g[v].id));return m._loadQueue(c),m},_loadQueue:function(c){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===c&&(h._queue.shift(),h._loadQueue()),c||p.action()}return h},_ended:function(c){var h=this,p=c._sprite;if(!h._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(h._ended.bind(h,c),100),h;var m=!!(c._loop||h._sprite[p][2]);if(h._emit("end",c._id),!h._webAudio&&m&&h.stop(c._id,!0).play(c._id),h._webAudio&&m){h._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var g=(c._stop-c._start)*1e3/Math.abs(c._rate);h._endTimers[c._id]=setTimeout(h._ended.bind(h,c),g)}return h._webAudio&&!m&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,h._clearTimer(c._id),h._cleanBuffer(c._node),n._autoSuspend()),!h._webAudio&&!m&&h.stop(c._id,!0),h},_clearTimer:function(c){var h=this;if(h._endTimers[c]){if(typeof h._endTimers[c]!="function")clearTimeout(h._endTimers[c]);else{var p=h._soundById(c);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[c],!1)}delete h._endTimers[c]}return h},_soundById:function(c){for(var h=this,p=0;p<h._sounds.length;p++)if(c===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var c=this;c._drain();for(var h=0;h<c._sounds.length;h++)if(c._sounds[h]._ended)return c._sounds[h].reset();return new i(c)},_drain:function(){var c=this,h=c._pool,p=0,m=0;if(!(c._sounds.length<h)){for(m=0;m<c._sounds.length;m++)c._sounds[m]._ended&&p++;for(m=c._sounds.length-1;m>=0;m--){if(p<=h)return;c._sounds[m]._ended&&(c._webAudio&&c._sounds[m]._node&&c._sounds[m]._node.disconnect(0),c._sounds.splice(m,1),p--)}}},_getSoundIds:function(c){var h=this;if(typeof c>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[c]},_refreshBuffer:function(c){var h=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=s[h._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),h},_cleanBuffer:function(c){var h=this,p=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return h;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),p))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,h},_clearSound:function(c){var h=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);h||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,h._sounds.push(c),c.create(),c},create:function(){var c=this,h=c._parent,p=n._muted||c._muted||c._parent._muted?0:c._volume;return h._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(p,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=h._src,c._node.preload=h._preload===!0?"auto":h._preload,c._node.volume=p*n.volume(),c._node.load()),c},reset:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,h=c._parent;h._duration=Math.ceil(c._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,h=c._parent;h._duration===1/0&&(h._duration=Math.ceil(c._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},a=function(c){var h=c._src;if(s[h]){c._duration=s[h].duration,d(c);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),g=0;g<p.length;++g)m[g]=p.charCodeAt(g);l(m.buffer,c)}else{var v=new XMLHttpRequest;v.open(c._xhr.method,h,!0),v.withCredentials=c._xhr.withCredentials,v.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(y){v.setRequestHeader(y,c._xhr.headers[y])}),v.onload=function(){var y=(v.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}l(v.response,c)},v.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[h],c.load())},o(v)}},o=function(c){try{c.send()}catch{c.onerror()}},l=function(c,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(g){g&&h._sounds.length>0?(s[h._src]=g,d(h,g)):p()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(m).catch(p):n.ctx.decodeAudioData(c,m,p)},d=function(c,h){h&&!c._duration&&(c._duration=h.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),h=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(c&&p&&p<9){var m=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!m&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof It<"u"?(It.HowlerGlobal=e,It.Howler=n,It.Howl=r,It.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,a,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(r=typeof r!="number"?d[1]:r,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,a=typeof a!="number"?d[4]:a,o=typeof o!="number"?d[5]:o,typeof n=="number")l._orientation=[n,r,i,s,a,o],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,i,s,a,o);else return d;return l},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var a=i._getSoundIds(r),o=0;o<a.length;o++){var l=i._soundById(a[o]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,i,s)}}),a;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")a._pos=[n,r,i];else return a._pos;for(var o=a._getSoundIds(s),l=0;l<o.length;l++){var d=a._soundById(o[l]);if(d)if(typeof n=="number")d._pos=[n,r,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(n,r,i)),a._emit("pos",d._id);else return d._pos}return a},Howl.prototype.orientation=function(n,r,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,i,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,i=typeof i!="number"?a._orientation[2]:i,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,i];else return a._orientation;for(var o=a._getSoundIds(s),l=0;l<o.length;l++){var d=a._soundById(o[l]);if(d)if(typeof n=="number")d._orientation=[n,r,i],d._node&&(d._panner||(d._pos||(d._pos=a._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,i)),a._emit("orientation",d._id);else return d._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var o=n._getSoundIds(s),l=0;l<o.length;l++)if(a=n._soundById(o[l]),a){var d=a._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var f=a._panner;f||(a._pos||(a._pos=n._pos||[0,0,-.5]),e(a,"spatial"),f=a._panner),f.coneInnerAngle=d.coneInnerAngle,f.coneOuterAngle=d.coneOuterAngle,f.coneOuterGain=d.coneOuterGain,f.distanceModel=d.distanceModel,f.maxDistance=d.maxDistance,f.refDistance=d.refDistance,f.rolloffFactor=d.rolloffFactor,f.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(ID);const Bre={key:0,src:Ore,width:"24",height:"24"},Pre={key:1,src:tS,width:"24",height:"24"},Fre={key:1,class:"flex h-5 items-center justify-center"},Ure=[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)],jre={key:0,src:Lre,width:"24",height:"24"},Hre={key:1,src:Rre,width:"24",height:"24"},zre={class:"rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},Vre=u.defineComponent({__name:"AudioMessageContent",props:{message:{}},setup(t){const e=t,n=rn(),r=u.ref(0),i=u.ref(),s=u.ref(0),a=u.ref(),o=u.computed(()=>e.message.isIncoming),l=()=>{i.value&&(s.value=i.value.seek()/i.value.duration()*100,i.value.playing()&&requestAnimationFrame(l))},d=async()=>{var c,h;switch(r.value){case 0:{const p=new ID.Howl({src:e.message.url,format:["m4a","mp3","wav","aac","webm"],onload:()=>{p.play(),r.value=3},onplay:()=>{requestAnimationFrame(l)},onend:()=>{r.value=2},onloaderror:(m,g)=>console.log(2,m,g),xhr:{headers:{"IM-Authorization":n.state.imkit.config.token,"IM-Client-Key":n.state.imkit.config.clientKey}}});i.value=p,r.value=1;break}case 2:case 4:(c=i.value)==null||c.play(),r.value=3;break;case 3:(h=i.value)==null||h.pause(),r.value=4;break}},f=async c=>{if(!i.value||!a.value)return;const{x:h,width:p}=a.value.getBoundingClientRect();s.value=(c.clientX-h)/p*100,i.value.seek(i.value.duration()*s.value/100)};return(c,h)=>(u.openBlock(),u.createElementBlock(u.Fragment,null,[u.createElementVNode("div",{class:u.normalizeClass(["pointer-events-none absolute bottom-0 left-0 top-0",[o.value?"bg-gray-300":"bg-blue-300"]]),style:u.normalizeStyle({width:`${s.value}%`})},null,6),u.createElementVNode("div",{ref_key:"container",ref:a,class:"relative -m-2 flex w-[250px] items-center justify-between p-3",onClick:f},[u.createElementVNode("button",{onClick:u.withModifiers(d,["stop"])},[new Set([0,2,4]).has(r.value)?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[o.value?(u.openBlock(),u.createElementBlock("img",Bre)):(u.openBlock(),u.createElementBlock("img",Pre))],64)):r.value===1?(u.openBlock(),u.createElementBlock("div",Fre,[(u.openBlock(),u.createElementBlock("svg",{class:u.normalizeClass(["h-5 w-5 animate-spin",[o.value?"fill-gray-100 text-gray-400":"fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700"]]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ure,2))])):r.value===3?(u.openBlock(),u.createElementBlock(u.Fragment,{key:2},[o.value?(u.openBlock(),u.createElementBlock("img",jre)):(u.openBlock(),u.createElementBlock("img",Hre))],64)):u.createCommentVNode("",!0)]),u.createElementVNode("div",zre,u.toDisplayString(Math.floor(c.message.duration/60))+":"+u.toDisplayString(`${Math.floor(c.message.duration%60)}`.padStart(2,"0")),1)],512)],64))}}),Wre={class:"flex items-center justify-center"},Gre={class:"my-3 rounded-lg bg-gray-100 px-2 py-1.5 text-sm text-gray-700 dark:bg-zinc-700 dark:text-gray-200 dark:text-gray-300"},Yre=u.defineComponent({__name:"SystemMessageContent",props:{message:{}},setup(t){const e=t,n=rn(),r=u.computed(()=>n.state.imkit.users),{t:i}=ss(),s=u.computed(()=>{const a=r.value[e.message.senderId].nickname;switch(e.message.type){case at.Recall:return e.message.senderId===n.state.imkit.uid?i("youUnsentMessage"):i("someoneUnsentMessage",[a]);case at.JoinRoom:return i("someoneJoinedTheChat",[a]);case at.LeaveRoom:return i("someoneLeftTheChat",[a]);case at.AddMember:return i("someoneInvited",[a,e.message.members.map(o=>o.nickname).join(", ")]);case at.DeleteMember:return i("someoneKicked",[a,e.message.members.map(o=>o.nickname).join(", ")]);case at.AddMembers:return i("someoneInvited",[a,e.message.members.map(o=>o.nickname).join(", ")]);case at.Announcement:return e.message.text;default:return""}});return(a,o)=>(u.openBlock(),u.createElementBlock("div",Wre,[u.createElementVNode("div",Gre,u.toDisplayString(s.value),1)]))}}),Qre={},Kre={class:"flex h-4 items-center"};function Xre(t,e){return u.openBlock(),u.createElementBlock("div",Kre,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(3,n=>u.createElementVNode("div",{key:n,class:u.normalizeClass(["mr-0.5 h-1 w-1 rounded-full bg-gray-400",[`animate-bounce-${n}`]])},null,2)),64))])}const Zre=On(Qre,[["render",Xre],["__scopeId","data-v-40e5e96c"]]);class ll extends Error{}class Jre extends ll{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class qre extends ll{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class $re extends ll{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Zu extends ll{}class DD extends ll{constructor(e){super(`Invalid unit ${e}`)}}class Ar extends ll{}class to extends ll{constructor(){super("Zone is an abstract class")}}const Je="numeric",cs="short",_i="long",e0={year:Je,month:Je,day:Je},ND={year:Je,month:cs,day:Je},eie={year:Je,month:cs,day:Je,weekday:cs},MD={year:Je,month:_i,day:Je},OD={year:Je,month:_i,day:Je,weekday:_i},LD={hour:Je,minute:Je},RD={hour:Je,minute:Je,second:Je},BD={hour:Je,minute:Je,second:Je,timeZoneName:cs},PD={hour:Je,minute:Je,second:Je,timeZoneName:_i},FD={hour:Je,minute:Je,hourCycle:"h23"},UD={hour:Je,minute:Je,second:Je,hourCycle:"h23"},jD={hour:Je,minute:Je,second:Je,hourCycle:"h23",timeZoneName:cs},HD={hour:Je,minute:Je,second:Je,hourCycle:"h23",timeZoneName:_i},zD={year:Je,month:Je,day:Je,hour:Je,minute:Je},VD={year:Je,month:Je,day:Je,hour:Je,minute:Je,second:Je},WD={year:Je,month:cs,day:Je,hour:Je,minute:Je},GD={year:Je,month:cs,day:Je,hour:Je,minute:Je,second:Je},tie={year:Je,month:cs,day:Je,weekday:cs,hour:Je,minute:Je},YD={year:Je,month:_i,day:Je,hour:Je,minute:Je,timeZoneName:cs},QD={year:Je,month:_i,day:Je,hour:Je,minute:Je,second:Je,timeZoneName:cs},KD={year:Je,month:_i,day:Je,weekday:_i,hour:Je,minute:Je,timeZoneName:_i},XD={year:Je,month:_i,day:Je,weekday:_i,hour:Je,minute:Je,second:Je,timeZoneName:_i};class gf{get type(){throw new to}get name(){throw new to}get ianaName(){return this.name}get isUniversal(){throw new to}offsetName(e,n){throw new to}formatOffset(e,n){throw new to}offset(e){throw new to}equals(e){throw new to}get isValid(){throw new to}}let hy=null;class t0 extends gf{static get instance(){return hy===null&&(hy=new t0),hy}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return _N(e,n,r)}formatOffset(e,n){return _f(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let n0={};function nie(t){return n0[t]||(n0[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),n0[t]}const rie={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function iie(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,l,d,f]=r;return[a,i,s,o,l,d,f]}function sie(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],o=rie[s];s==="era"?r[o]=a:At(o)||(r[o]=parseInt(a,10))}return r}let r0={};class ya extends gf{static create(e){return r0[e]||(r0[e]=new ya(e)),r0[e]}static resetCache(){r0={},n0={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ya.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return _N(e,n,r,this.name)}formatOffset(e,n){return _f(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=nie(this.name);let[i,s,a,o,l,d,f]=r.formatToParts?sie(r,n):iie(r,n);o==="BC"&&(i=-Math.abs(i)+1);const h=l0({year:i,month:s,day:a,hour:l===24?0:l,minute:d,second:f,millisecond:0});let p=+n;const m=p%1e3;return p-=m>=0?m:1e3+m,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ZD={};function aie(t,e={}){const n=JSON.stringify([t,e]);let r=ZD[n];return r||(r=new Intl.ListFormat(t,e),ZD[n]=r),r}let py={};function my(t,e={}){const n=JSON.stringify([t,e]);let r=py[n];return r||(r=new Intl.DateTimeFormat(t,e),py[n]=r),r}let gy={};function oie(t,e={}){const n=JSON.stringify([t,e]);let r=gy[n];return r||(r=new Intl.NumberFormat(t,e),gy[n]=r),r}let by={};function lie(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=by[i];return s||(s=new Intl.RelativeTimeFormat(t,e),by[i]=s),s}let bf=null;function uie(){return bf||(bf=new Intl.DateTimeFormat().resolvedOptions().locale,bf)}let JD={};function cie(t){let e=JD[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,JD[t]=e}return e}function die(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=my(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);r=my(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function fie(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function hie(t){const e=[];for(let n=1;n<=12;n++){const r=xt.utc(2009,n,1);e.push(t(r))}return e}function pie(t){const e=[];for(let n=1;n<=7;n++){const r=xt.utc(2016,11,13+n);e.push(t(r))}return e}function i0(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function mie(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class gie{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=oie(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Cy(e,3);return Yn(n,this.padTo)}}}class bie{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&ya.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=my(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class vie{constructor(e,n,r){this.opts={style:"long",...r},!n&&gN()&&(this.rtf=lie(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):Hie(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const yie={firstDay:1,minimalDays:4,weekend:[6,7]};class Jt{static fromOpts(e){return Jt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const a=e||kn.defaultLocale,o=a||(s?"en-US":uie()),l=n||kn.defaultNumberingSystem,d=r||kn.defaultOutputCalendar,f=Ay(i)||kn.defaultWeekSettings;return new Jt(o,l,d,f,a)}static resetCache(){bf=null,py={},gy={},by={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Jt.create(e,n,r,i)}constructor(e,n,r,i,s){const[a,o,l]=die(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=fie(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=mie(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Jt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ay(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return i0(this,e,AN,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=hie(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return i0(this,e,wN,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=pie(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return i0(this,void 0,()=>SN,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xt.utc(2016,11,13,9),xt.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return i0(this,e,kN,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[xt.utc(-40,1,1),xt.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new gie(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new bie(e,this.intl,n)}relFormatter(e={}){return new vie(this.intl,this.isEnglish(),e)}listFormatter(e={}){return aie(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:bN()?cie(this.locale):yie}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let vy=null;class Pr extends gf{static get utcInstance(){return vy===null&&(vy=new Pr(0)),vy}static instance(e){return e===0?Pr.utcInstance:new Pr(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Pr(u0(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${_f(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${_f(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return _f(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class _ie extends gf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function no(t,e){if(At(t)||t===null)return e;if(t instanceof gf)return t;if(wie(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?t0.instance:n==="utc"||n==="gmt"?Pr.utcInstance:Pr.parseSpecifier(n)||ya.create(t)}else return ro(t)?Pr.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new _ie(t)}const yy={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},qD={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Tie=yy.hanidec.replace(/[\[|\]]/g,"").split("");function Eie(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(yy.hanidec)!==-1)e+=Tie.indexOf(t[n]);else for(const i in qD){const[s,a]=qD[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}let Ju={};function Aie(){Ju={}}function ds({numberingSystem:t},e=""){const n=t||"latn";return Ju[n]||(Ju[n]={}),Ju[n][e]||(Ju[n][e]=new RegExp(`${yy[n]}${e}`)),Ju[n][e]}let $D=()=>Date.now(),eN="system",tN=null,nN=null,rN=null,iN=60,sN,aN=null;class kn{static get now(){return $D}static set now(e){$D=e}static set defaultZone(e){eN=e}static get defaultZone(){return no(eN,t0.instance)}static get defaultLocale(){return tN}static set defaultLocale(e){tN=e}static get defaultNumberingSystem(){return nN}static set defaultNumberingSystem(e){nN=e}static get defaultOutputCalendar(){return rN}static set defaultOutputCalendar(e){rN=e}static get defaultWeekSettings(){return aN}static set defaultWeekSettings(e){aN=Ay(e)}static get twoDigitCutoffYear(){return iN}static set twoDigitCutoffYear(e){iN=e%100}static get throwOnInvalid(){return sN}static set throwOnInvalid(e){sN=e}static resetCaches(){Jt.resetCache(),ya.resetCache(),xt.resetCache(),Aie()}}class fs{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const oN=[0,31,59,90,120,151,181,212,243,273,304,334],lN=[0,31,60,91,121,152,182,213,244,274,305,335];function Ri(t,e){return new fs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function _y(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function uN(t,e,n){return n+(vf(t)?lN:oN)[e-1]}function cN(t,e){const n=vf(t)?lN:oN,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function Ty(t,e){return(t-e+7)%7+1}function s0(t,e=4,n=1){const{year:r,month:i,day:s}=t,a=uN(r,i,s),o=Ty(_y(r,i,s),n);let l=Math.floor((a-o+14-e)/7),d;return l<1?(d=r-1,l=yf(d,e,n)):l>yf(r,e,n)?(d=r+1,l=1):d=r,{weekYear:d,weekNumber:l,weekday:o,...d0(t)}}function dN(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,a=Ty(_y(r,1,e),n),o=$u(r);let l=i*7+s-a-7+e,d;l<1?(d=r-1,l+=$u(d)):l>o?(d=r+1,l-=$u(r)):d=r;const{month:f,day:c}=cN(d,l);return{year:d,month:f,day:c,...d0(t)}}function Ey(t){const{year:e,month:n,day:r}=t,i=uN(e,n,r);return{year:e,ordinal:i,...d0(t)}}function fN(t){const{year:e,ordinal:n}=t,{month:r,day:i}=cN(e,n);return{year:e,month:r,day:i,...d0(t)}}function hN(t,e){if(!At(t.localWeekday)||!At(t.localWeekNumber)||!At(t.localWeekYear)){if(!At(t.weekday)||!At(t.weekNumber)||!At(t.weekYear))throw new Zu("Cannot mix locale-based week fields with ISO-based week fields");return At(t.localWeekday)||(t.weekday=t.localWeekday),At(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),At(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function xie(t,e=4,n=1){const r=a0(t.weekYear),i=Bi(t.weekNumber,1,yf(t.weekYear,e,n)),s=Bi(t.weekday,1,7);return r?i?s?!1:Ri("weekday",t.weekday):Ri("week",t.weekNumber):Ri("weekYear",t.weekYear)}function Cie(t){const e=a0(t.year),n=Bi(t.ordinal,1,$u(t.year));return e?n?!1:Ri("ordinal",t.ordinal):Ri("year",t.year)}function pN(t){const e=a0(t.year),n=Bi(t.month,1,12),r=Bi(t.day,1,o0(t.year,t.month));return e?n?r?!1:Ri("day",t.day):Ri("month",t.month):Ri("year",t.year)}function mN(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=Bi(e,0,23)||e===24&&n===0&&r===0&&i===0,a=Bi(n,0,59),o=Bi(r,0,59),l=Bi(i,0,999);return s?a?o?l?!1:Ri("millisecond",i):Ri("second",r):Ri("minute",n):Ri("hour",e)}function At(t){return typeof t>"u"}function ro(t){return typeof t=="number"}function a0(t){return typeof t=="number"&&t%1===0}function wie(t){return typeof t=="string"}function Sie(t){return Object.prototype.toString.call(t)==="[object Date]"}function gN(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function bN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function kie(t){return Array.isArray(t)?t:[t]}function vN(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function Iie(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function qu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ay(t){if(t==null)return null;if(typeof t!="object")throw new Ar("Week settings must be an object");if(!Bi(t.firstDay,1,7)||!Bi(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Bi(e,1,7)))throw new Ar("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Bi(t,e,n){return a0(t)&&t>=e&&t<=n}function Die(t,e){return t-e*Math.floor(t/e)}function Yn(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function io(t){if(!(At(t)||t===null||t===""))return parseInt(t,10)}function ul(t){if(!(At(t)||t===null||t===""))return parseFloat(t)}function xy(t){if(!(At(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Cy(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function vf(t){return t%4===0&&(t%100!==0||t%400===0)}function $u(t){return vf(t)?366:365}function o0(t,e){const n=Die(e-1,12)+1,r=t+(e-n)/12;return n===2?vf(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function l0(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function yN(t,e,n){return-Ty(_y(t,1,e),n)+e-1}function yf(t,e=4,n=1){const r=yN(t,e,n),i=yN(t+1,e,n);return($u(t)-r+i)/7}function wy(t){return t>99?t:t>kn.twoDigitCutoffYear?1900+t:2e3+t}function _N(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function u0(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function TN(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ar(`Invalid unit value ${t}`);return e}function c0(t,e){const n={};for(const r in t)if(qu(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=TN(i)}return n}function _f(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Yn(n,2)}:${Yn(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Yn(n,2)}${Yn(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function d0(t){return Iie(t,["hour","minute","second","millisecond"])}const Nie=["January","February","March","April","May","June","July","August","September","October","November","December"],EN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Mie=["J","F","M","A","M","J","J","A","S","O","N","D"];function AN(t){switch(t){case"narrow":return[...Mie];case"short":return[...EN];case"long":return[...Nie];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const xN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],CN=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Oie=["M","T","W","T","F","S","S"];function wN(t){switch(t){case"narrow":return[...Oie];case"short":return[...CN];case"long":return[...xN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const SN=["AM","PM"],Lie=["Before Christ","Anno Domini"],Rie=["BC","AD"],Bie=["B","A"];function kN(t){switch(t){case"narrow":return[...Bie];case"short":return[...Rie];case"long":return[...Lie];default:return null}}function Pie(t){return SN[t.hour<12?0:1]}function Fie(t,e){return wN(e)[t.weekday-1]}function Uie(t,e){return AN(e)[t.month-1]}function jie(t,e){return kN(e)[t.year<0?0:1]}function Hie(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,d=i[t],f=r?l?d[1]:d[2]||d[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function IN(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const zie={D:e0,DD:ND,DDD:MD,DDDD:OD,t:LD,tt:RD,ttt:BD,tttt:PD,T:FD,TT:UD,TTT:jD,TTTT:HD,f:zD,ff:WD,fff:YD,ffff:KD,F:VD,FF:GD,FFF:QD,FFFF:XD};class xr{static create(e,n={}){return new xr(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return zie[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Yn(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(p,m)=>this.loc.extract(e,p,m),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>r?Pie(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,m)=>r?Uie(e,p):s(m?{month:p}:{month:p,day:"numeric"},"month"),d=(p,m)=>r?Fie(e,p):s(m?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const m=xr.macroTokenToFormatOpts(p);return m?this.formatWithSystemDefault(e,m):p},c=p=>r?jie(e,p):s({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return IN(xr.parseFormat(n),h)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>d=>{const f=r(d);return f?this.num(l.get(f),d.length):d},s=xr.parseFormat(n),a=s.reduce((l,{literal:d,val:f})=>d?l:l.concat(f),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return IN(s,i(o))}}const DN=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ec(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function tc(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,o,l]=s(e,i);return[{...n,...a},o||r,l]},[{},null,1]).slice(0,2)}function nc(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function NN(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=io(e[n+i]);return[r,null,n+i]}}const MN=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vie=`(?:${MN.source}?(?:\\[(${DN.source})\\])?)?`,Sy=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ON=RegExp(`${Sy.source}${Vie}`),ky=RegExp(`(?:T${ON.source})?`),Wie=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Gie=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Yie=/(\d{4})-?(\d{3})/,Qie=NN("weekYear","weekNumber","weekDay"),Kie=NN("year","ordinal"),Xie=/(\d{4})-(\d\d)-(\d\d)/,LN=RegExp(`${Sy.source} ?(?:${MN.source}|(${DN.source}))?`),Zie=RegExp(`(?: ${LN.source})?`);function rc(t,e,n){const r=t[e];return At(r)?n:io(r)}function Jie(t,e){return[{year:rc(t,e),month:rc(t,e+1,1),day:rc(t,e+2,1)},null,e+3]}function ic(t,e){return[{hours:rc(t,e,0),minutes:rc(t,e+1,0),seconds:rc(t,e+2,0),milliseconds:xy(t[e+3])},null,e+4]}function Tf(t,e){const n=!t[e]&&!t[e+1],r=u0(t[e+1],t[e+2]),i=n?null:Pr.instance(r);return[{},i,e+3]}function Ef(t,e){const n=t[e]?ya.create(t[e]):null;return[{},n,e+1]}const qie=RegExp(`^T?${Sy.source}$`),$ie=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ese(t){const[e,n,r,i,s,a,o,l,d]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(p,m=!1)=>p!==void 0&&(m||p&&f)?-p:p;return[{years:h(ul(n)),months:h(ul(r)),weeks:h(ul(i)),days:h(ul(s)),hours:h(ul(a)),minutes:h(ul(o)),seconds:h(ul(l),l==="-0"),milliseconds:h(xy(d),c)}]}const tse={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Iy(t,e,n,r,i,s,a){const o={year:e.length===2?wy(io(e)):io(e),month:EN.indexOf(n)+1,day:io(r),hour:io(i),minute:io(s)};return a&&(o.second=io(a)),t&&(o.weekday=t.length>3?xN.indexOf(t)+1:CN.indexOf(t)+1),o}const nse=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function rse(t){const[,e,n,r,i,s,a,o,l,d,f,c]=t,h=Iy(e,i,r,n,s,a,o);let p;return l?p=tse[l]:d?p=0:p=u0(f,c),[h,new Pr(p)]}function ise(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const sse=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ase=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ose=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function RN(t){const[,e,n,r,i,s,a,o]=t;return[Iy(e,i,r,n,s,a,o),Pr.utcInstance]}function lse(t){const[,e,n,r,i,s,a,o]=t;return[Iy(e,o,n,r,i,s,a),Pr.utcInstance]}const use=ec(Wie,ky),cse=ec(Gie,ky),dse=ec(Yie,ky),fse=ec(ON),BN=tc(Jie,ic,Tf,Ef),hse=tc(Qie,ic,Tf,Ef),pse=tc(Kie,ic,Tf,Ef),mse=tc(ic,Tf,Ef);function gse(t){return nc(t,[use,BN],[cse,hse],[dse,pse],[fse,mse])}function bse(t){return nc(ise(t),[nse,rse])}function vse(t){return nc(t,[sse,RN],[ase,RN],[ose,lse])}function yse(t){return nc(t,[$ie,ese])}const _se=tc(ic);function Tse(t){return nc(t,[qie,_se])}const Ese=ec(Xie,Zie),Ase=ec(LN),xse=tc(ic,Tf,Ef);function Cse(t){return nc(t,[Ese,BN],[Ase,xse])}const PN="Invalid Duration",FN={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wse={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...FN},Pi=146097/400,sc=146097/4800,Sse={years:{quarters:4,months:12,weeks:Pi/7,days:Pi,hours:Pi*24,minutes:Pi*24*60,seconds:Pi*24*60*60,milliseconds:Pi*24*60*60*1e3},quarters:{months:3,weeks:Pi/28,days:Pi/4,hours:Pi*24/4,minutes:Pi*24*60/4,seconds:Pi*24*60*60/4,milliseconds:Pi*24*60*60*1e3/4},months:{weeks:sc/7,days:sc,hours:sc*24,minutes:sc*24*60,seconds:sc*24*60*60,milliseconds:sc*24*60*60*1e3},...FN},cl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],kse=cl.slice(0).reverse();function so(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new zt(r)}function UN(t,e){let n=e.milliseconds??0;for(const r of kse.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function jN(t,e){const n=UN(t,e)<0?-1:1;cl.reduceRight((r,i)=>{if(At(e[i]))return r;if(r){const s=e[r]*n,a=t[i][r],o=Math.floor(s/a);e[i]+=o*n,e[r]-=o*a*n}return i},null),cl.reduce((r,i)=>{if(At(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function Ise(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class zt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?Sse:wse;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Jt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return zt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new Ar(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new zt({values:c0(e,zt.normalizeUnit),loc:Jt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ro(e))return zt.fromMillis(e);if(zt.isDuration(e))return e;if(typeof e=="object")return zt.fromObject(e);throw new Ar(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=yse(e);return r?zt.fromObject(r,n):zt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=Tse(e);return r?zt.fromObject(r,n):zt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new Ar("need to specify a reason the Duration is invalid");const r=e instanceof fs?e:new fs(e,n);if(kn.throwOnInvalid)throw new $re(r);return new zt({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new DD(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?xr.create(this.loc,r).formatDurationFromString(this,e):PN}toHuman(e={}){if(!this.isValid)return PN;const n=cl.map(r=>{const i=this.values[r];return At(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Cy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},xt.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?UN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=zt.fromDurationLike(e),r={};for(const i of cl)(qu(n.values,i)||qu(this.values,i))&&(r[i]=n.get(i)+this.get(i));return so(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=zt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=TN(e(this.values[r],r));return so(this,{values:n},!0)}get(e){return this[zt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...c0(e,zt.normalizeUnit)};return so(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return so(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return jN(this.matrix,e),so(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Ise(this.normalize().shiftToAll().toObject());return so(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>zt.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of cl)if(e.indexOf(a)>=0){s=a;let o=0;for(const d in r)o+=this.matrix[d][a]*r[d],r[d]=0;ro(i[a])&&(o+=i[a]);const l=Math.trunc(o);n[a]=l,r[a]=(o*1e3-l*1e3)/1e3}else ro(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return jN(this.matrix,n),so(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return so(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of cl)if(!n(this.values[r],e.values[r]))return!1;return!0}}const ac="Invalid Interval";function Dse(t,e){return!t||!t.isValid?In.invalid("missing or invalid start"):!e||!e.isValid?In.invalid("missing or invalid end"):e<t?In.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class In{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new Ar("need to specify a reason the Interval is invalid");const r=e instanceof fs?e:new fs(e,n);if(kn.throwOnInvalid)throw new qre(r);return new In({invalid:r})}static fromDateTimes(e,n){const r=xf(e),i=xf(n),s=Dse(r,i);return s??new In({start:r,end:i})}static after(e,n){const r=zt.fromDurationLike(n),i=xf(e);return In.fromDateTimes(i,i.plus(r))}static before(e,n){const r=zt.fromDurationLike(n),i=xf(e);return In.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=xt.fromISO(r,n),a=s.isValid}catch{a=!1}let o,l;try{o=xt.fromISO(i,n),l=o.isValid}catch{l=!1}if(a&&l)return In.fromDateTimes(s,o);if(a){const d=zt.fromISO(i,n);if(d.isValid)return In.after(s,d)}else if(l){const d=zt.fromISO(r,n);if(d.isValid)return In.before(o,d)}}return In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?In.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(xf).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(In.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){const n=zt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(In.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:In.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return In.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,d)=>l.time-d.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(In.fromDateTimes(n,l.time)),n=null);return In.merge(i)}difference(...e){return In.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:ac}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=e0,n={}){return this.isValid?xr.create(this.s.loc.clone(n),e).formatInterval(this):ac}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ac}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ac}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ac}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:ac}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):zt.invalid(this.invalidReason)}mapEndpoints(e){return In.fromDateTimes(e(this.s),e(this.e))}}class f0{static hasDST(e=kn.defaultZone){const n=xt.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return ya.isValidZone(e)}static normalizeZone(e){return no(e,kn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Jt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Jt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Jt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Jt.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Jt.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Jt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Jt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Jt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Jt.create(n,null,"gregory").eras(e)}static features(){return{relative:gN(),localeWeek:bN()}}}function HN(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(zt.fromMillis(r).as("days"))}function Nse(t,e,n){const r=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const f=HN(l,d);return(f-f%7)/7}],["days",HN]],i={},s=t;let a,o;for(const[l,d]of r)n.indexOf(l)>=0&&(a=l,i[l]=d(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function Mse(t,e,n,r){let[i,s,a,o]=Nse(t,e,n);const l=e-i,d=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);d.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=zt.fromObject(s,r);return d.length>0?zt.fromMillis(l,r).shiftTo(...d).plus(f):f}const Ose="missing Intl.DateTimeFormat.formatToParts support";function Qt(t,e=n=>n){return{regex:t,deser:([n])=>e(Eie(n))}}const zN="[  ]",VN=new RegExp(zN,"g");function Lse(t){return t.replace(/\./g,"\\.?").replace(VN,zN)}function WN(t){return t.replace(/\./g,"").replace(VN," ").toLowerCase()}function hs(t,e){return t===null?null:{regex:RegExp(t.map(Lse).join("|")),deser:([n])=>t.findIndex(r=>WN(n)===WN(r))+e}}function GN(t,e){return{regex:t,deser:([,n,r])=>u0(n,r),groups:e}}function h0(t){return{regex:t,deser:([e])=>e}}function Rse(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Bse(t,e){const n=ds(e),r=ds(e,"{2}"),i=ds(e,"{3}"),s=ds(e,"{4}"),a=ds(e,"{6}"),o=ds(e,"{1,2}"),l=ds(e,"{1,3}"),d=ds(e,"{1,6}"),f=ds(e,"{1,9}"),c=ds(e,"{2,4}"),h=ds(e,"{4,6}"),p=v=>({regex:RegExp(Rse(v.val)),deser:([y])=>y,literal:!0}),g=(v=>{if(t.literal)return p(v);switch(v.val){case"G":return hs(e.eras("short"),0);case"GG":return hs(e.eras("long"),0);case"y":return Qt(d);case"yy":return Qt(c,wy);case"yyyy":return Qt(s);case"yyyyy":return Qt(h);case"yyyyyy":return Qt(a);case"M":return Qt(o);case"MM":return Qt(r);case"MMM":return hs(e.months("short",!0),1);case"MMMM":return hs(e.months("long",!0),1);case"L":return Qt(o);case"LL":return Qt(r);case"LLL":return hs(e.months("short",!1),1);case"LLLL":return hs(e.months("long",!1),1);case"d":return Qt(o);case"dd":return Qt(r);case"o":return Qt(l);case"ooo":return Qt(i);case"HH":return Qt(r);case"H":return Qt(o);case"hh":return Qt(r);case"h":return Qt(o);case"mm":return Qt(r);case"m":return Qt(o);case"q":return Qt(o);case"qq":return Qt(r);case"s":return Qt(o);case"ss":return Qt(r);case"S":return Qt(l);case"SSS":return Qt(i);case"u":return h0(f);case"uu":return h0(o);case"uuu":return Qt(n);case"a":return hs(e.meridiems(),0);case"kkkk":return Qt(s);case"kk":return Qt(c,wy);case"W":return Qt(o);case"WW":return Qt(r);case"E":case"c":return Qt(n);case"EEE":return hs(e.weekdays("short",!1),1);case"EEEE":return hs(e.weekdays("long",!1),1);case"ccc":return hs(e.weekdays("short",!0),1);case"cccc":return hs(e.weekdays("long",!0),1);case"Z":case"ZZ":return GN(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return GN(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return h0(/[a-z_+-/]{1,256}?/i);case" ":return h0(/[^\S\n\r]/);default:return p(v)}})(t)||{invalidReason:Ose};return g.token=t,g}const Pse={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Fse(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=Pse[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Use(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function jse(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(qu(n,a)){const o=n[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function Hse(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return At(t.z)||(n=ya.create(t.z)),At(t.Z)||(n||(n=new Pr(t.Z)),r=t.Z),At(t.q)||(t.M=(t.q-1)*3+1),At(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),At(t.u)||(t.S=xy(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}let Dy=null;function zse(){return Dy||(Dy=xt.fromMillis(1555555555555)),Dy}function Vse(t,e){if(t.literal)return t;const n=xr.macroTokenToFormatOpts(t.val),r=XN(n,e);return r==null||r.includes(void 0)?t:r}function YN(t,e){return Array.prototype.concat(...t.map(n=>Vse(n,e)))}class QN{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=YN(xr.parseFormat(n),e),this.units=this.tokens.map(r=>Bse(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=Use(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=jse(e,this.regex,this.handlers),[i,s,a]=r?Hse(r):[null,null,void 0];if(qu(r,"a")&&qu(r,"H"))throw new Zu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function KN(t,e,n){return new QN(t,n).explainFromTokens(e)}function Wse(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=KN(t,e,n);return[r,i,s,a]}function XN(t,e){if(!t)return null;const r=xr.create(e,t).dtFormatter(zse()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>Fse(a,t,s))}const Ny="Invalid DateTime",ZN=864e13;function Af(t){return new fs("unsupported zone",`the zone "${t.name}" is not supported`)}function My(t){return t.weekData===null&&(t.weekData=s0(t.c)),t.weekData}function Oy(t){return t.localWeekData===null&&(t.localWeekData=s0(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function dl(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xt({...n,...e,old:n})}function JN(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function p0(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function m0(t,e,n){return JN(l0(t),e,n)}function qN(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,o0(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=zt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=l0(s);let[l,d]=JN(o,n,t.zone);return a!==0&&(l+=a,d=t.zone.offset(l)),{ts:l,o:d}}function oc(t,e,n,r,i,s){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const l=e||o,d=xt.fromObject(t,{...n,zone:l,specificOffset:s});return a?d:d.setZone(o)}else return xt.invalid(new fs("unparsable",`the input "${i}" can't be parsed as ${r}`))}function g0(t,e,n=!0){return t.isValid?xr.create(Jt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ly(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Yn(t.c.year,n?6:4),e?(r+="-",r+=Yn(t.c.month),r+="-",r+=Yn(t.c.day)):(r+=Yn(t.c.month),r+=Yn(t.c.day)),r}function $N(t,e,n,r,i,s){let a=Yn(t.c.hour);return e?(a+=":",a+=Yn(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=Yn(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=Yn(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=Yn(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=Yn(Math.trunc(-t.o/60)),a+=":",a+=Yn(Math.trunc(-t.o%60))):(a+="+",a+=Yn(Math.trunc(t.o/60)),a+=":",a+=Yn(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const e5={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Gse={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Yse={ordinal:1,hour:0,minute:0,second:0,millisecond:0},t5=["year","month","day","hour","minute","second","millisecond"],Qse=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Kse=["year","ordinal","hour","minute","second","millisecond"];function Xse(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new DD(t);return e}function n5(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Xse(t)}}function Zse(t){return v0[t]||(b0===void 0&&(b0=kn.now()),v0[t]=t.offset(b0)),v0[t]}function r5(t,e){const n=no(e.zone,kn.defaultZone);if(!n.isValid)return xt.invalid(Af(n));const r=Jt.fromObject(e);let i,s;if(At(t.year))i=kn.now();else{for(const l of t5)At(t[l])&&(t[l]=e5[l]);const a=pN(t)||mN(t);if(a)return xt.invalid(a);const o=Zse(n);[i,s]=m0(t,o,n)}return new xt({ts:i,zone:n,loc:r,o:s})}function i5(t,e,n){const r=At(n.round)?!0:n.round,i=(a,o)=>(a=Cy(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function s5(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let b0,v0={};class xt{constructor(e){const n=e.zone||kn.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new fs("invalid input"):null)||(n.isValid?null:Af(n));this.ts=At(e.ts)?kn.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=ro(e.o)&&!e.old?e.o:n.offset(this.ts);i=p0(this.ts,o),r=Number.isNaN(i.year)?new fs("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||Jt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new xt({})}static local(){const[e,n]=s5(arguments),[r,i,s,a,o,l,d]=n;return r5({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:d},e)}static utc(){const[e,n]=s5(arguments),[r,i,s,a,o,l,d]=n;return e.zone=Pr.utcInstance,r5({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:d},e)}static fromJSDate(e,n={}){const r=Sie(e)?e.valueOf():NaN;if(Number.isNaN(r))return xt.invalid("invalid input");const i=no(n.zone,kn.defaultZone);return i.isValid?new xt({ts:r,zone:i,loc:Jt.fromObject(n)}):xt.invalid(Af(i))}static fromMillis(e,n={}){if(ro(e))return e<-ZN||e>ZN?xt.invalid("Timestamp out of range"):new xt({ts:e,zone:no(n.zone,kn.defaultZone),loc:Jt.fromObject(n)});throw new Ar(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ro(e))return new xt({ts:e*1e3,zone:no(n.zone,kn.defaultZone),loc:Jt.fromObject(n)});throw new Ar("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=no(n.zone,kn.defaultZone);if(!r.isValid)return xt.invalid(Af(r));const i=Jt.fromObject(n),s=c0(e,n5),{minDaysInFirstWeek:a,startOfWeek:o}=hN(s,i),l=kn.now(),d=At(n.specificOffset)?r.offset(l):n.specificOffset,f=!At(s.ordinal),c=!At(s.year),h=!At(s.month)||!At(s.day),p=c||h,m=s.weekYear||s.weekNumber;if((p||f)&&m)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Zu("Can't mix ordinal dates with month/day");const g=m||s.weekday&&!p;let v,y,x=p0(l,d);g?(v=Qse,y=Gse,x=s0(x,a,o)):f?(v=Kse,y=Yse,x=Ey(x)):(v=t5,y=e5);let w=!1;for(const L of v){const z=s[L];At(z)?w?s[L]=y[L]:s[L]=x[L]:w=!0}const I=g?xie(s,a,o):f?Cie(s):pN(s),k=I||mN(s);if(k)return xt.invalid(k);const S=g?dN(s,a,o):f?fN(s):s,[B,M]=m0(S,d,r),D=new xt({ts:B,zone:r,o:M,loc:i});return s.weekday&&p&&e.weekday!==D.weekday?xt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${D.toISO()}`):D.isValid?D:xt.invalid(D.invalid)}static fromISO(e,n={}){const[r,i]=gse(e);return oc(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=bse(e);return oc(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=vse(e);return oc(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(At(e)||At(n))throw new Ar("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=Jt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,d,f]=Wse(a,e,n);return f?xt.invalid(f):oc(o,l,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return xt.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=Cse(e);return oc(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new Ar("need to specify a reason the DateTime is invalid");const r=e instanceof fs?e:new fs(e,n);if(kn.throwOnInvalid)throw new Jre(r);return new xt({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=XN(e,Jt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return YN(xr.parseFormat(e),Jt.fromObject(n)).map(i=>i.val).join("")}static resetCache(){b0=void 0,v0={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?My(this).weekYear:NaN}get weekNumber(){return this.isValid?My(this).weekNumber:NaN}get weekday(){return this.isValid?My(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Oy(this).weekday:NaN}get localWeekNumber(){return this.isValid?Oy(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Oy(this).weekYear:NaN}get ordinal(){return this.isValid?Ey(this.c).ordinal:NaN}get monthShort(){return this.isValid?f0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?f0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?f0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?f0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=l0(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),o=this.zone.offset(r-s*n);if(a===o)return[this];const l=r-a*n,d=r-o*n,f=p0(l,a),c=p0(d,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[dl(this,{ts:l}),dl(this,{ts:d})]:[this]}get isInLeapYear(){return vf(this.year)}get daysInMonth(){return o0(this.year,this.month)}get daysInYear(){return this.isValid?$u(this.year):NaN}get weeksInWeekYear(){return this.isValid?yf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?yf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=xr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Pr.instance(e),n)}toLocal(){return this.setZone(kn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=no(e,kn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=m0(a,s,e)}return dl(this,{ts:i,zone:e})}else return xt.invalid(Af(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return dl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=c0(e,n5),{minDaysInFirstWeek:r,startOfWeek:i}=hN(n,this.loc),s=!At(n.weekYear)||!At(n.weekNumber)||!At(n.weekday),a=!At(n.ordinal),o=!At(n.year),l=!At(n.month)||!At(n.day),d=o||l,f=n.weekYear||n.weekNumber;if((d||a)&&f)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Zu("Can't mix ordinal dates with month/day");let c;s?c=dN({...s0(this.c,r,i),...n},r,i):At(n.ordinal)?(c={...this.toObject(),...n},At(n.day)&&(c.day=Math.min(o0(c.year,c.month),c.day))):c=fN({...Ey(this.c),...n});const[h,p]=m0(c,this.o,this.zone);return dl(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const n=zt.fromDurationLike(e);return dl(this,qN(this,n))}minus(e){if(!this.isValid)return this;const n=zt.fromDurationLike(e).negate();return dl(this,qN(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=zt.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?xr.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Ny}toLocaleString(e=e0,n={}){return this.isValid?xr.create(this.loc.clone(n),e).formatDateTime(this):Ny}toLocaleParts(e={}){return this.isValid?xr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=Ly(this,a);return o+="T",o+=$N(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?Ly(this,e==="extended"):null}toISOWeekDate(){return g0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+$N(this,a==="extended",n,e,r,s):null}toRFC2822(){return g0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return g0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ly(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),g0(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ny}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return zt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=kie(n).map(zt.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,d=Mse(o,l,s,i);return a?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(xt.now(),e,n)}until(e){return this.isValid?In.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||xt.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),i5(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?i5(e.base||xt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(xt.isDateTime))throw new Ar("min requires all arguments be DateTimes");return vN(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(xt.isDateTime))throw new Ar("max requires all arguments be DateTimes");return vN(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=Jt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return KN(a,e,n)}static fromStringExplain(e,n,r={}){return xt.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Jt.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new QN(s,e)}static fromFormatParser(e,n,r={}){if(At(e)||At(n))throw new Ar("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,a=Jt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!a.equals(n.locale))throw new Ar(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${n.locale}`);const{result:o,zone:l,specificOffset:d,invalidReason:f}=n.explainFromTokens(e);return f?xt.invalid(f):oc(o,l,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return e0}static get DATE_MED(){return ND}static get DATE_MED_WITH_WEEKDAY(){return eie}static get DATE_FULL(){return MD}static get DATE_HUGE(){return OD}static get TIME_SIMPLE(){return LD}static get TIME_WITH_SECONDS(){return RD}static get TIME_WITH_SHORT_OFFSET(){return BD}static get TIME_WITH_LONG_OFFSET(){return PD}static get TIME_24_SIMPLE(){return FD}static get TIME_24_WITH_SECONDS(){return UD}static get TIME_24_WITH_SHORT_OFFSET(){return jD}static get TIME_24_WITH_LONG_OFFSET(){return HD}static get DATETIME_SHORT(){return zD}static get DATETIME_SHORT_WITH_SECONDS(){return VD}static get DATETIME_MED(){return WD}static get DATETIME_MED_WITH_SECONDS(){return GD}static get DATETIME_MED_WITH_WEEKDAY(){return tie}static get DATETIME_FULL(){return YD}static get DATETIME_FULL_WITH_SECONDS(){return QD}static get DATETIME_HUGE(){return KD}static get DATETIME_HUGE_WITH_SECONDS(){return XD}}function xf(t){if(xt.isDateTime(t))return t;if(t&&t.valueOf&&ro(t.valueOf()))return xt.fromJSDate(t);if(t&&typeof t=="object")return xt.fromObject(t);throw new Ar(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Jse=(t,e,n=Ln())=>{const r=Ln(t);if(r.isSame(n,"day"))return e("today");if(r.isSame(n.subtract(1,"day"),"day"))return e("yesterday");const i=xt.fromMillis(t);return r.isSame(n,"week")?i.toLocaleString({month:"numeric",day:"numeric",weekday:"short"}):r.isSame(n,"year")?i.toLocaleString({month:"numeric",day:"numeric"}):i.toLocaleString({month:"numeric",day:"numeric",year:"numeric"})},qse=["width","height"],$se=[u.createStaticVNode('<g id="Icon"><path d="m23.25 3.75v7c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-.773l-2.811 1.874c-.23.153-.526.168-.77.037-.244-.13-.396-.384-.396-.661v-1.25h-2.25c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h7c.729 0 1.429.29 1.945.805.515.516.805 1.216.805 1.945zm-1.5 0c0-.332-.132-.649-.366-.884-.235-.234-.552-.366-.884-.366h-7c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h3c.414 0 .75.336.75.75v.599l1.834-1.223c.123-.082.268-.126.416-.126h1c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m11.75 12.482c0-.414.336-.75.75-.75s.75.336.75.75v5.768c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-2.25v1.25c0 .277-.152.531-.396.661-.244.131-.54.116-.77-.037l-2.811-1.874h-.773c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h8c.414 0 .75.336.75.75s-.336.75-.75.75h-8c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h1c.148 0 .293.044.416.126 0 0 1.834 1.223 1.834 1.223v-.599c0-.414.336-.75.75-.75h3c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m17.75 5.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.5c0-.414.336-.75.75-.75s.75.336.75.75z"></path><path d="m14.5 6.5c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h5c.414 0 .75.336.75.75s-.336.75-.75.75z"></path><path d="m17.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 2.623-2.127 4.75-4.75 4.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.795 0 3.25-1.455 3.25-3.25z"></path><path d="m14.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 1.795 1.455 3.25 3.25 3.25.414 0 .75.336.75.75s-.336.75-.75.75c-2.623 0-4.75-2.127-4.75-4.75z"></path><path d="m5.696 17.529c-.153.384-.59.571-.975.417-.384-.153-.571-.59-.417-.975l2-5c.114-.284.389-.471.696-.471s.582.187.696.471l2 5c.154.385-.033.822-.417.975-.385.154-.822-.033-.975-.417l-1.304-3.26z"></path><path d="m6 17c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h2c.414 0 .75.336.75.75s-.336.75-.75.75z"></path></g>',1)],eae={__name:"TranslateSvg",props:{width:{type:[Number,String],default:19},height:{type:[Number,String],default:19}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,"stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},$se,8,qse))}},tae={key:0,class:"mb-2 mt-4 flex items-center justify-center"},nae={class:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600 dark:bg-zinc-700 dark:text-gray-400"},rae={key:3,class:"flex flex-col items-end self-end text-xs text-gray-500 dark:text-gray-300"},iae={key:0},sae={key:5,class:"w-[30px]"},aae={class:"flex max-w-[70%] flex-col items-start sm:max-w-[60%]"},oae={key:0,class:"mb-1 ml-1 text-xs font-medium text-gray-500 dark:text-gray-300"},lae={key:6,class:"self-end text-xs text-gray-500 dark:text-gray-300"},uae=On(u.defineComponent({inheritAttrs:!1,__name:"MessageCell",props:{source:{}},setup(t){const e=t,n=ss(),r=e.source,i={[at.Text]:Va,[at.Image]:$K,[at.Sticker]:eS,[at.Video]:cne,[at.File]:gne,[at.Template]:Bne,[at.Flex]:Zne,[at.Location]:Mre,[at.Audio]:Vre,[at.Recall]:Va,[at.JoinRoom]:Va,[at.LeaveRoom]:Va,[at.AddMember]:Va,[at.DeleteMember]:Va,[at.AddMembers]:Va,[at.Announcement]:Va,[at.Typing]:Zre},s=rn(),a=u.computed(()=>{if(s.state.imkit.uid!==e.source.senderId)return 0;const{rooms:D,uid:L,messageMultiList:z}=s.state.imkit,U=D[e.source.roomId];return U?Object.keys(U.lastReadMessageId).filter(F=>F!==L).map(F=>{var K;const H=U.lastReadMessageId[F];return(K=z.main)==null?void 0:K.finds(H)}).reduce((F,H)=>H&&H.createdAt>=e.source.createdAt?F+1:F,0):0}),o=u.computed(()=>e.source.isIncoming),l=u.computed(()=>!o.value),d=u.computed(()=>{var z;if(r.type===at.Typing)return!0;const L=(((z=s.state.imkit.messageMultiList.main)==null?void 0:z.messageGroups)??new Map).get(r.groupId);return L?L[0].id===r.id:!1}),f=u.computed(()=>{var z;if(r.type===at.Typing)return!0;const L=(((z=s.state.imkit.messageMultiList.main)==null?void 0:z.messageGroups)??new Map).get(r.groupId);return L?L[L.length-1].id===r.id:!1}),c=u.computed(()=>{var D,L;return((L=(D=e.source.template)==null?void 0:D.quickReply)==null?void 0:L.items)||[]}),h=u.ref(!1),p=D=>{h.value=!0,D.preventDefault()},m=()=>{s.commit("imkit/setState",{replyId:e.source.id})},g=()=>{let D="";switch(e.source.type){case at.Text:D=e.source.text;break;case at.Location:D=e.source.address;break}navigator.clipboard.writeText(D)},v=()=>{s.dispatch("imkit/recallMessage",{roomId:e.source.roomId,_id:e.source.id,messageType:"recall"})},y=u.computed(()=>{const D=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;if(e.source.type===at.Text){const L=e.source.text;for(let z=0;z<L.length;z++)if(!D.test(L[z]))return!1;return!0}return!1}),x=u.computed(()=>e.source),w=u.computed(()=>e.source.isSystem),I=u.computed(()=>s.state.imkit.config.styles),k=u.computed(()=>s.state.imkit.config.translationApiKey),S=u.computed(()=>s.state.imkit.users[e.source.senderId]),B=u.computed(()=>{var L,z;return((z=(((L=s.state.imkit.messageMultiList.main)==null?void 0:L.firstMessageOfDate)??new Map).get(e.source.dateId))==null?void 0:z.id)===e.source.id}),M=()=>{s.dispatch("imkit/translateMessage",e.source)};return(D,L)=>{var z,U,F;return u.openBlock(),u.createElementBlock(u.Fragment,null,[B.value?(u.openBlock(),u.createElementBlock("div",tae,[u.createElementVNode("div",nae,u.toDisplayString(u.unref(Jse)(D.source.createdAt,u.unref(n).t)),1)])):u.createCommentVNode("",!0),w.value?(u.openBlock(),u.createBlock(Yre,{key:1,message:D.source},null,8,["message"])):(u.openBlock(),u.createElementBlock("div",{key:2,class:u.normalizeClass(["flex gap-2",[o.value?"justify-start":"justify-end",d.value?"mt-1":"mt-[0.0625rem]",f.value?"mb-1":"mb-[0.0625rem]",c.value.length>0?"mb-[40px]":""]]),onMouseleave:L[1]||(L[1]=H=>h.value=!1),onClick:L[2]||(L[2]=H=>h.value=!1)},[l.value&&h.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:Y9,class:"my-auto h-5 w-5 cursor-pointer",onClick:v})):u.createCommentVNode("",!0),l.value&&h.value?(u.openBlock(),u.createElementBlock("img",{key:1,src:$T,class:"my-auto h-5 w-5 cursor-pointer",onClick:g})):u.createCommentVNode("",!0),l.value&&h.value?(u.openBlock(),u.createElementBlock("img",{key:2,src:eE,class:"my-auto h-5 w-5 cursor-pointer",onClick:m})):u.createCommentVNode("",!0),l.value&&f.value&&!h.value?(u.openBlock(),u.createElementBlock("div",rae,[a.value>0?(u.openBlock(),u.createElementBlock("div",iae,u.toDisplayString(D.$t("read"))+" "+u.toDisplayString(a.value),1)):u.createCommentVNode("",!0),u.createElementVNode("div",null,u.toDisplayString(u.unref(Ln)(D.source.createdAt).format("H:mm")),1)])):u.createCommentVNode("",!0),o.value&&d.value?(u.openBlock(),u.createBlock(gr,{key:4,url:((z=S.value)==null?void 0:z.avatarUrl)??"",name:((U=S.value)==null?void 0:U.nickname)??"",class:"!h-[30px] !w-[30px] rounded-full text-xs"},null,8,["url","name"])):o.value?(u.openBlock(),u.createElementBlock("div",sae)):u.createCommentVNode("",!0),u.createElementVNode("div",aae,[o.value&&d.value?(u.openBlock(),u.createElementBlock("div",oae,u.toDisplayString(((F=S.value)==null?void 0:F.nickname)??""),1)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:u.normalizeClass(["relative overflow-hidden rounded",[o.value?"rounded-r-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100":"rounded-l-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100",l.value&&d.value?"rounded-tr-xl":"",l.value&&f.value?"rounded-br-xl":"",o.value&&d.value?"rounded-tl-xl":"",o.value&&f.value?"rounded-bl-xl":"",[u.unref(at).Sticker,u.unref(at).Image].includes(D.source.type)?"!bg-white dark:!bg-zinc-800":"",y.value?"!bg-white !text-3xl dark:!bg-zinc-800":"",[u.unref(at).Template,u.unref(at).Flex].includes(D.source.type)?"!rounded-none !bg-white dark:!bg-zinc-800":"px-3 py-2",[u.unref(Go).ImageCarousel,u.unref(Go).Carousel].includes(x.value.templateType)?"!rounded-none !bg-white dark:bg-zinc-800":""]]),style:u.normalizeStyle([o.value?I.value.incomingMessageCell:I.value.outgoingMessageCell]),onContextmenu:p,onMouseenter:L[0]||(L[0]=H=>h.value=!0)},[(u.openBlock(),u.createBlock(u.resolveDynamicComponent(i[D.source.type]),{message:u.unref(r)},null,8,["message"]))],38)]),o.value&&f.value&&!h.value&&u.unref(r).type!==u.unref(at).Typing?(u.openBlock(),u.createElementBlock("div",lae,u.toDisplayString(u.unref(Ln)(D.source.createdAt).format("H:mm")),1)):u.createCommentVNode("",!0),o.value&&h.value?(u.openBlock(),u.createElementBlock("div",{key:7,class:u.normalizeClass(["flex items-center justify-center gap-2",{"mt-5":d.value}])},[u.createElementVNode("img",{src:eE,class:u.normalizeClass(["my-auto h-5 w-5 cursor-pointer",d.value?"ml-1":"ml-2"]),onClick:m},null,2),u.createElementVNode("img",{src:$T,class:"my-auto h-5 w-5 cursor-pointer",onClick:g}),k.value?(u.openBlock(),u.createBlock(eae,{key:0,class:"cursor-pointer fill-gray-600",onClick:M})):u.createCommentVNode("",!0)],2)):u.createCommentVNode("",!0)],34))],64)}}}),[["__scopeId","data-v-cd9e46d9"]]),cae={class:"absolute bottom-[110%] right-0 flex h-80 w-80 max-w-full flex-col divide-y overflow-auto rounded-xl border bg-white dark:bg-zinc-800"},dae={class:"grid grow grid-cols-3 items-center justify-center gap-4 overflow-y-auto p-4 sm:grid-cols-4"},fae=["src","onClick"],hae={key:0,class:"flex h-14 w-full flex-shrink-0 gap-4 overflow-x-auto p-3"},pae=["src","onClick"],mae=u.defineComponent({__name:"StickerPanel",emits:["close"],setup(t,{emit:e}){const n=rn(),r=[{name:"FunFunFamily",number:40}],i=u.ref(r[0]),s=u.computed(()=>n.state.imkit.rooms[n.state.imkit.selectedRoomId]),a=e,o=async l=>{const d={roomId:s.value.id,messageType:"sticker",sticker:l};await n.dispatch("imkit/sendMessage",d),a("close")};return(l,d)=>(u.openBlock(),u.createElementBlock("div",cae,[u.createElementVNode("div",dae,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value.number,f=>(u.openBlock(),u.createElementBlock("img",{src:`/sticker/${i.value.name}/${i.value.name}-${f}.png`,key:f,class:"cursor-pointer border-0 object-contain",onClick:c=>o(`${i.value.name}-${f}`)},null,8,fae))),128))]),r.length>1?(u.openBlock(),u.createElementBlock("div",hae,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(r,f=>u.createElementVNode("img",{src:`/sticker/${f.name}/${f.name}-1.png`,key:f.name,class:"h-full cursor-pointer border-0 object-contain",onClick:c=>i.value=f},null,8,pae)),64))])):u.createCommentVNode("",!0)]))}}),a5="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64",o5={recent:"Recently used",smileys_people:"Smiles & People",animals_nature:"Animals & Nature",food_drink:"Food & Drink",activities:"Activities",travel_places:"Travel places",objects:"Objects",symbols:"Symbols",flags:"Flags"},l5="u",y0="n",_0="v",Cf="r",gae={[y0]:["grinning face","grinning"],[l5]:"1f600",[Cf]:"1f600"},T0="neutral",bae=[T0,"1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"],vae={placeholder:"Search emoji",skinTone:"Skin tone"},yae=["light","dark","auto"];var _ae={smileys_people:[{n:["grinning face","grinning"],u:"1f600"},{n:["grinning face with smiling eyes","grin"],u:"1f601"},{n:["face with tears of joy","joy"],u:"1f602"},{n:["rolling on the floor laughing","rolling_on_the_floor_laughing"],u:"1f923"},{n:["smiling face with open mouth","smiley"],u:"1f603"},{n:["smiling face with open mouth and smiling eyes","smile"],u:"1f604"},{n:["smiling face with open mouth and cold sweat","sweat_smile"],u:"1f605"},{n:["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],u:"1f606"},{n:["winking face","wink"],u:"1f609"},{n:["smiling face with smiling eyes","blush"],u:"1f60a"},{n:["face savouring delicious food","yum"],u:"1f60b"},{n:["smiling face with sunglasses","sunglasses"],u:"1f60e"},{n:["smiling face with heart-shaped eyes","heart_eyes"],u:"1f60d"},{n:["face throwing a kiss","kissing_heart"],u:"1f618"},{n:["kissing face","kissing"],u:"1f617"},{n:["kissing face with smiling eyes","kissing_smiling_eyes"],u:"1f619"},{n:["kissing face with closed eyes","kissing_closed_eyes"],u:"1f61a"},{n:["white smiling face","relaxed"],u:"263a-fe0f"},{n:["slightly smiling face","slightly_smiling_face"],u:"1f642"},{n:["hugging face","hugging_face"],u:"1f917"},{n:["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],u:"1f929"},{n:["thinking face","thinking_face"],u:"1f914"},{n:["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],u:"1f928"},{n:["neutral face","neutral_face"],u:"1f610"},{n:["expressionless face","expressionless"],u:"1f611"},{n:["face without mouth","no_mouth"],u:"1f636"},{n:["face with rolling eyes","face_with_rolling_eyes"],u:"1f644"},{n:["smirking face","smirk"],u:"1f60f"},{n:["persevering face","persevere"],u:"1f623"},{n:["disappointed but relieved face","disappointed_relieved"],u:"1f625"},{n:["face with open mouth","open_mouth"],u:"1f62e"},{n:["zipper-mouth face","zipper_mouth_face"],u:"1f910"},{n:["hushed face","hushed"],u:"1f62f"},{n:["sleepy face","sleepy"],u:"1f62a"},{n:["tired face","tired_face"],u:"1f62b"},{n:["sleeping face","sleeping"],u:"1f634"},{n:["relieved face","relieved"],u:"1f60c"},{n:["face with stuck-out tongue","stuck_out_tongue"],u:"1f61b"},{n:["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],u:"1f61c"},{n:["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],u:"1f61d"},{n:["drooling face","drooling_face"],u:"1f924"},{n:["unamused face","unamused"],u:"1f612"},{n:["face with cold sweat","sweat"],u:"1f613"},{n:["pensive face","pensive"],u:"1f614"},{n:["confused face","confused"],u:"1f615"},{n:["upside-down face","upside_down_face"],u:"1f643"},{n:["money-mouth face","money_mouth_face"],u:"1f911"},{n:["astonished face","astonished"],u:"1f632"},{n:["white_frowning_face"],u:"2639-fe0f"},{n:["slightly frowning face","slightly_frowning_face"],u:"1f641"},{n:["confounded face","confounded"],u:"1f616"},{n:["disappointed face","disappointed"],u:"1f61e"},{n:["worried face","worried"],u:"1f61f"},{n:["face with look of triumph","triumph"],u:"1f624"},{n:["crying face","cry"],u:"1f622"},{n:["loudly crying face","sob"],u:"1f62d"},{n:["frowning face with open mouth","frowning"],u:"1f626"},{n:["anguished face","anguished"],u:"1f627"},{n:["fearful face","fearful"],u:"1f628"},{n:["weary face","weary"],u:"1f629"},{n:["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],u:"1f92f"},{n:["grimacing face","grimacing"],u:"1f62c"},{n:["face with open mouth and cold sweat","cold_sweat"],u:"1f630"},{n:["face screaming in fear","scream"],u:"1f631"},{n:["flushed face","flushed"],u:"1f633"},{n:["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],u:"1f92a"},{n:["dizzy face","dizzy_face"],u:"1f635"},{n:["pouting face","rage"],u:"1f621"},{n:["angry face","angry"],u:"1f620"},{n:["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],u:"1f92c"},{n:["face with medical mask","mask"],u:"1f637"},{n:["face with thermometer","face_with_thermometer"],u:"1f912"},{n:["face with head-bandage","face_with_head_bandage"],u:"1f915"},{n:["nauseated face","nauseated_face"],u:"1f922"},{n:["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],u:"1f92e"},{n:["sneezing face","sneezing_face"],u:"1f927"},{n:["smiling face with halo","innocent"],u:"1f607"},{n:["face with cowboy hat","face_with_cowboy_hat"],u:"1f920"},{n:["clown face","clown_face"],u:"1f921"},{n:["lying face","lying_face"],u:"1f925"},{n:["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],u:"1f92b"},{n:["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],u:"1f92d"},{n:["face with monocle","face_with_monocle"],u:"1f9d0"},{n:["nerd face","nerd_face"],u:"1f913"},{n:["smiling face with horns","smiling_imp"],u:"1f608"},{n:["imp"],u:"1f47f"},{n:["japanese ogre","japanese_ogre"],u:"1f479"},{n:["japanese goblin","japanese_goblin"],u:"1f47a"},{n:["skull"],u:"1f480"},{n:["skull_and_crossbones"],u:"2620-fe0f"},{n:["ghost"],u:"1f47b"},{n:["extraterrestrial alien","alien"],u:"1f47d"},{n:["alien monster","space_invader"],u:"1f47e"},{n:["robot face","robot_face"],u:"1f916"},{n:["pile of poo","hankey","poop","shit"],u:"1f4a9"},{n:["smiling cat face with open mouth","smiley_cat"],u:"1f63a"},{n:["grinning cat face with smiling eyes","smile_cat"],u:"1f638"},{n:["cat face with tears of joy","joy_cat"],u:"1f639"},{n:["smiling cat face with heart-shaped eyes","heart_eyes_cat"],u:"1f63b"},{n:["cat face with wry smile","smirk_cat"],u:"1f63c"},{n:["kissing cat face with closed eyes","kissing_cat"],u:"1f63d"},{n:["weary cat face","scream_cat"],u:"1f640"},{n:["crying cat face","crying_cat_face"],u:"1f63f"},{n:["pouting cat face","pouting_cat"],u:"1f63e"},{n:["see-no-evil monkey","see_no_evil"],u:"1f648"},{n:["hear-no-evil monkey","hear_no_evil"],u:"1f649"},{n:["speak-no-evil monkey","speak_no_evil"],u:"1f64a"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{n:["older adult","older_adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{n:["older man","older_man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{n:["older woman","older_woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{n:["male-doctor"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{n:["female-doctor"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{n:["male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{n:["female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{n:["male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{n:["female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{n:["male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{n:["female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{n:["male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{n:["female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{n:["male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{n:["female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{n:["male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{n:["female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{n:["male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{n:["female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{n:["male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{n:["female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{n:["male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{n:["female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{n:["male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{n:["female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{n:["male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{n:["female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{n:["male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{n:["female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{n:["male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{n:["female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{n:["male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{n:["female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{n:["male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{n:["female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{n:["police officer","cop"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{n:["male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{n:["female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{n:["sleuth_or_spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{n:["male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{n:["female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{n:["male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{n:["female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{n:["construction worker","construction_worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{n:["male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{n:["female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{n:["man with turban","man_with_turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{n:["man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{n:["woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{n:["man with gua pi mao","man_with_gua_pi_mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{n:["person with headscarf","person_with_headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{n:["bearded person","bearded_person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{n:["person with blond hair","person_with_blond_hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{n:["blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{n:["blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{n:["man in tuxedo","man_in_tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{n:["bride with veil","bride_with_veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{n:["pregnant woman","pregnant_woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{n:["baby angel","angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{n:["father christmas","santa"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{n:["mother christmas","mrs_claus","mother_christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{n:["female_mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{n:["male_mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{n:["female_fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{n:["male_fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{n:["female_vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{n:["male_vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{n:["female_elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{n:["male_elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{n:["genie"],u:"1f9de"},{n:["female_genie"],u:"1f9de-200d-2640-fe0f"},{n:["male_genie"],u:"1f9de-200d-2642-fe0f"},{n:["zombie"],u:"1f9df"},{n:["female_zombie"],u:"1f9df-200d-2640-fe0f"},{n:["male_zombie"],u:"1f9df-200d-2642-fe0f"},{n:["person frowning","person_frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{n:["man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{n:["woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{n:["person with pouting face","person_with_pouting_face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{n:["man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{n:["woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{n:["face with no good gesture","no_good"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{n:["man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{n:["face with ok gesture","ok_woman"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{n:["man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{n:["information desk person","information_desk_person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{n:["man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{n:["woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{n:["happy person raising one hand","raising_hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{n:["man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{n:["woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{n:["person bowing deeply","bow"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{n:["man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{n:["woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{n:["face palm","face_palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{n:["man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{n:["woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{n:["man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{n:["woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{n:["face massage","massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{n:["man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{n:["man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{n:["pedestrian","walking"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{n:["man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{n:["woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{n:["man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{n:["woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{n:["man dancing","man_dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{n:["woman with bunny ears","dancers"],u:"1f46f"},{n:["man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f"},{n:["woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f"},{n:["person in steamy room","person_in_steamy_room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{n:["woman_in_steamy_room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{n:["man_in_steamy_room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{n:["person climbing","person_climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{n:["woman_climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{n:["man_climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{n:["person in lotus position","person_in_lotus_position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{n:["woman_in_lotus_position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{n:["man_in_lotus_position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{n:["sleeping accommodation","sleeping_accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{n:["man_in_business_suit_levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{n:["speaking_head_in_silhouette"],u:"1f5e3-fe0f"},{n:["bust in silhouette","bust_in_silhouette"],u:"1f464"},{n:["busts in silhouette","busts_in_silhouette"],u:"1f465"},{n:["fencer"],u:"1f93a"},{n:["horse racing","horse_racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{n:["skier"],u:"26f7-fe0f"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{n:["golfer"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{n:["man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{n:["woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{n:["man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{n:["woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{n:["man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{n:["woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{n:["man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{n:["woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{n:["person_with_ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{n:["man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{n:["woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{n:["weight_lifter"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{n:["man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{n:["woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{n:["man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{n:["woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{n:["mountain bicyclist","mountain_bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{n:["man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{n:["woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{n:["racing_car"],u:"1f3ce-fe0f"},{n:["racing_motorcycle"],u:"1f3cd-fe0f"},{n:["person doing cartwheel","person_doing_cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{n:["man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{n:["woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{n:["wrestlers"],u:"1f93c"},{n:["man-wrestling"],u:"1f93c-200d-2642-fe0f"},{n:["woman-wrestling"],u:"1f93c-200d-2640-fe0f"},{n:["water polo","water_polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{n:["man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{n:["man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{n:["man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{n:["woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{n:["man and woman holding hands","couple","man_and_woman_holding_hands"],u:"1f46b"},{n:["two men holding hands","two_men_holding_hands"],u:"1f46c"},{n:["two women holding hands","two_women_holding_hands"],u:"1f46d"},{n:["kiss","couplekiss"],u:"1f48f"},{n:["woman-kiss-man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["man-kiss-man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["woman-kiss-woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{n:["couple with heart","couple_with_heart"],u:"1f491"},{n:["woman-heart-man"],u:"1f469-200d-2764-fe0f-200d-1f468"},{n:["man-heart-man"],u:"1f468-200d-2764-fe0f-200d-1f468"},{n:["woman-heart-woman"],u:"1f469-200d-2764-fe0f-200d-1f469"},{n:["family","man-woman-boy"],u:"1f46a"},{n:["man-woman-boy","family"],u:"1f468-200d-1f469-200d-1f466"},{n:["man-woman-girl"],u:"1f468-200d-1f469-200d-1f467"},{n:["man-woman-girl-boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466"},{n:["man-woman-boy-boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466"},{n:["man-woman-girl-girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467"},{n:["man-man-boy"],u:"1f468-200d-1f468-200d-1f466"},{n:["man-man-girl"],u:"1f468-200d-1f468-200d-1f467"},{n:["man-man-girl-boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466"},{n:["man-man-boy-boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466"},{n:["man-man-girl-girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467"},{n:["woman-woman-boy"],u:"1f469-200d-1f469-200d-1f466"},{n:["woman-woman-girl"],u:"1f469-200d-1f469-200d-1f467"},{n:["woman-woman-girl-boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466"},{n:["woman-woman-boy-boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466"},{n:["woman-woman-girl-girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467"},{n:["man-boy"],u:"1f468-200d-1f466"},{n:["man-boy-boy"],u:"1f468-200d-1f466-200d-1f466"},{n:["man-girl"],u:"1f468-200d-1f467"},{n:["man-girl-boy"],u:"1f468-200d-1f467-200d-1f466"},{n:["man-girl-girl"],u:"1f468-200d-1f467-200d-1f467"},{n:["woman-boy"],u:"1f469-200d-1f466"},{n:["woman-boy-boy"],u:"1f469-200d-1f466-200d-1f466"},{n:["woman-girl"],u:"1f469-200d-1f467"},{n:["woman-girl-boy"],u:"1f469-200d-1f467-200d-1f466"},{n:["woman-girl-girl"],u:"1f469-200d-1f467-200d-1f467"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{n:["flexed biceps","muscle"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{n:["white left pointing backhand index","point_left"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{n:["white right pointing backhand index","point_right"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{n:["white up pointing index","point_up"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{n:["white up pointing backhand index","point_up_2"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{n:["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{n:["white down pointing backhand index","point_down"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{n:["victory hand","v"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{n:["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{n:["raised hand with part between middle and ring fingers","spock-hand"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{n:["sign of the horns","the_horns","sign_of_the_horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{n:["call me hand","call_me_hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{n:["raised_hand_with_fingers_splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{n:["raised hand","hand","raised_hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{n:["ok hand sign","ok_hand"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{n:["thumbs up sign","+1","thumbsup"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{n:["thumbs down sign","-1","thumbsdown"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{n:["raised fist","fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{n:["fisted hand sign","facepunch","punch"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{n:["left-facing fist","left-facing_fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{n:["right-facing fist","right-facing_fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{n:["raised back of hand","raised_back_of_hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{n:["waving hand sign","wave"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{n:["i love you hand sign","i_love_you_hand_sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{n:["writing_hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{n:["clapping hands sign","clap"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{n:["open hands sign","open_hands"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{n:["person raising both hands in celebration","raised_hands"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{n:["palms up together","palms_up_together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{n:["person with folded hands","pray"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{n:["handshake"],u:"1f91d"},{n:["nail polish","nail_care"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{n:["footprints"],u:"1f463"},{n:["eyes"],u:"1f440"},{n:["eye"],u:"1f441-fe0f"},{n:["eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f"},{n:["brain"],u:"1f9e0"},{n:["tongue"],u:"1f445"},{n:["mouth","lips"],u:"1f444"},{n:["kiss mark","kiss"],u:"1f48b"},{n:["heart with arrow","cupid"],u:"1f498"},{n:["heavy black heart","heart"],u:"2764-fe0f"},{n:["beating heart","heartbeat"],u:"1f493"},{n:["broken heart","broken_heart"],u:"1f494"},{n:["two hearts","two_hearts"],u:"1f495"},{n:["sparkling heart","sparkling_heart"],u:"1f496"},{n:["growing heart","heartpulse"],u:"1f497"},{n:["blue heart","blue_heart"],u:"1f499"},{n:["green heart","green_heart"],u:"1f49a"},{n:["yellow heart","yellow_heart"],u:"1f49b"},{n:["orange heart","orange_heart"],u:"1f9e1"},{n:["purple heart","purple_heart"],u:"1f49c"},{n:["black heart","black_heart"],u:"1f5a4"},{n:["heart with ribbon","gift_heart"],u:"1f49d"},{n:["revolving hearts","revolving_hearts"],u:"1f49e"},{n:["heart decoration","heart_decoration"],u:"1f49f"},{n:["heavy_heart_exclamation_mark_ornament"],u:"2763-fe0f"},{n:["love letter","love_letter"],u:"1f48c"},{n:["sleeping symbol","zzz"],u:"1f4a4"},{n:["anger symbol","anger"],u:"1f4a2"},{n:["bomb"],u:"1f4a3"},{n:["collision symbol","boom","collision"],u:"1f4a5"},{n:["splashing sweat symbol","sweat_drops"],u:"1f4a6"},{n:["dash symbol","dash"],u:"1f4a8"},{n:["dizzy symbol","dizzy"],u:"1f4ab"},{n:["speech balloon","speech_balloon"],u:"1f4ac"},{n:["left_speech_bubble"],u:"1f5e8-fe0f"},{n:["right_anger_bubble"],u:"1f5ef-fe0f"},{n:["thought balloon","thought_balloon"],u:"1f4ad"},{n:["hole"],u:"1f573-fe0f"},{n:["eyeglasses"],u:"1f453"},{n:["dark_sunglasses"],u:"1f576-fe0f"},{n:["necktie"],u:"1f454"},{n:["t-shirt","shirt","tshirt"],u:"1f455"},{n:["jeans"],u:"1f456"},{n:["scarf"],u:"1f9e3"},{n:["gloves"],u:"1f9e4"},{n:["coat"],u:"1f9e5"},{n:["socks"],u:"1f9e6"},{n:["dress"],u:"1f457"},{n:["kimono"],u:"1f458"},{n:["bikini"],u:"1f459"},{n:["womans clothes","womans_clothes"],u:"1f45a"},{n:["purse"],u:"1f45b"},{n:["handbag"],u:"1f45c"},{n:["pouch"],u:"1f45d"},{n:["shopping_bags"],u:"1f6cd-fe0f"},{n:["school satchel","school_satchel"],u:"1f392"},{n:["mans shoe","mans_shoe","shoe"],u:"1f45e"},{n:["athletic shoe","athletic_shoe"],u:"1f45f"},{n:["high-heeled shoe","high_heel"],u:"1f460"},{n:["womans sandal","sandal"],u:"1f461"},{n:["womans boots","boot"],u:"1f462"},{n:["crown"],u:"1f451"},{n:["womans hat","womans_hat"],u:"1f452"},{n:["top hat","tophat"],u:"1f3a9"},{n:["graduation cap","mortar_board"],u:"1f393"},{n:["billed cap","billed_cap"],u:"1f9e2"},{n:["helmet_with_white_cross"],u:"26d1-fe0f"},{n:["prayer beads","prayer_beads"],u:"1f4ff"},{n:["lipstick"],u:"1f484"},{n:["ring"],u:"1f48d"},{n:["gem stone","gem"],u:"1f48e"}],animals_nature:[{n:["monkey face","monkey_face"],u:"1f435"},{n:["monkey"],u:"1f412"},{n:["gorilla"],u:"1f98d"},{n:["dog face","dog"],u:"1f436"},{n:["dog","dog2"],u:"1f415"},{n:["poodle"],u:"1f429"},{n:["wolf face","wolf"],u:"1f43a"},{n:["fox face","fox_face"],u:"1f98a"},{n:["cat face","cat"],u:"1f431"},{n:["cat","cat2"],u:"1f408"},{n:["lion face","lion_face"],u:"1f981"},{n:["tiger face","tiger"],u:"1f42f"},{n:["tiger","tiger2"],u:"1f405"},{n:["leopard"],u:"1f406"},{n:["horse face","horse"],u:"1f434"},{n:["horse","racehorse"],u:"1f40e"},{n:["unicorn face","unicorn_face"],u:"1f984"},{n:["zebra face","zebra_face"],u:"1f993"},{n:["deer"],u:"1f98c"},{n:["cow face","cow"],u:"1f42e"},{n:["ox"],u:"1f402"},{n:["water buffalo","water_buffalo"],u:"1f403"},{n:["cow","cow2"],u:"1f404"},{n:["pig face","pig"],u:"1f437"},{n:["pig","pig2"],u:"1f416"},{n:["boar"],u:"1f417"},{n:["pig nose","pig_nose"],u:"1f43d"},{n:["ram"],u:"1f40f"},{n:["sheep"],u:"1f411"},{n:["goat"],u:"1f410"},{n:["dromedary camel","dromedary_camel"],u:"1f42a"},{n:["bactrian camel","camel"],u:"1f42b"},{n:["giraffe face","giraffe_face"],u:"1f992"},{n:["elephant"],u:"1f418"},{n:["rhinoceros"],u:"1f98f"},{n:["mouse face","mouse"],u:"1f42d"},{n:["mouse","mouse2"],u:"1f401"},{n:["rat"],u:"1f400"},{n:["hamster face","hamster"],u:"1f439"},{n:["rabbit face","rabbit"],u:"1f430"},{n:["rabbit","rabbit2"],u:"1f407"},{n:["chipmunk"],u:"1f43f-fe0f"},{n:["hedgehog"],u:"1f994"},{n:["bat"],u:"1f987"},{n:["bear face","bear"],u:"1f43b"},{n:["koala"],u:"1f428"},{n:["panda face","panda_face"],u:"1f43c"},{n:["paw prints","feet","paw_prints"],u:"1f43e"},{n:["turkey"],u:"1f983"},{n:["chicken"],u:"1f414"},{n:["rooster"],u:"1f413"},{n:["hatching chick","hatching_chick"],u:"1f423"},{n:["baby chick","baby_chick"],u:"1f424"},{n:["front-facing baby chick","hatched_chick"],u:"1f425"},{n:["bird"],u:"1f426"},{n:["penguin"],u:"1f427"},{n:["dove_of_peace"],u:"1f54a-fe0f"},{n:["eagle"],u:"1f985"},{n:["duck"],u:"1f986"},{n:["owl"],u:"1f989"},{n:["frog face","frog"],u:"1f438"},{n:["crocodile"],u:"1f40a"},{n:["turtle"],u:"1f422"},{n:["lizard"],u:"1f98e"},{n:["snake"],u:"1f40d"},{n:["dragon face","dragon_face"],u:"1f432"},{n:["dragon"],u:"1f409"},{n:["sauropod"],u:"1f995"},{n:["t-rex"],u:"1f996"},{n:["spouting whale","whale"],u:"1f433"},{n:["whale","whale2"],u:"1f40b"},{n:["dolphin","flipper"],u:"1f42c"},{n:["fish"],u:"1f41f"},{n:["tropical fish","tropical_fish"],u:"1f420"},{n:["blowfish"],u:"1f421"},{n:["shark"],u:"1f988"},{n:["octopus"],u:"1f419"},{n:["spiral shell","shell"],u:"1f41a"},{n:["crab"],u:"1f980"},{n:["shrimp"],u:"1f990"},{n:["squid"],u:"1f991"},{n:["snail"],u:"1f40c"},{n:["butterfly"],u:"1f98b"},{n:["bug"],u:"1f41b"},{n:["ant"],u:"1f41c"},{n:["honeybee","bee"],u:"1f41d"},{n:["lady beetle","beetle"],u:"1f41e"},{n:["cricket"],u:"1f997"},{n:["spider"],u:"1f577-fe0f"},{n:["spider_web"],u:"1f578-fe0f"},{n:["scorpion"],u:"1f982"},{n:["bouquet"],u:"1f490"},{n:["cherry blossom","cherry_blossom"],u:"1f338"},{n:["white flower","white_flower"],u:"1f4ae"},{n:["rosette"],u:"1f3f5-fe0f"},{n:["rose"],u:"1f339"},{n:["wilted flower","wilted_flower"],u:"1f940"},{n:["hibiscus"],u:"1f33a"},{n:["sunflower"],u:"1f33b"},{n:["blossom"],u:"1f33c"},{n:["tulip"],u:"1f337"},{n:["seedling"],u:"1f331"},{n:["evergreen tree","evergreen_tree"],u:"1f332"},{n:["deciduous tree","deciduous_tree"],u:"1f333"},{n:["palm tree","palm_tree"],u:"1f334"},{n:["cactus"],u:"1f335"},{n:["ear of rice","ear_of_rice"],u:"1f33e"},{n:["herb"],u:"1f33f"},{n:["shamrock"],u:"2618-fe0f"},{n:["four leaf clover","four_leaf_clover"],u:"1f340"},{n:["maple leaf","maple_leaf"],u:"1f341"},{n:["fallen leaf","fallen_leaf"],u:"1f342"},{n:["leaf fluttering in wind","leaves"],u:"1f343"}],food_drink:[{n:["grapes"],u:"1f347"},{n:["melon"],u:"1f348"},{n:["watermelon"],u:"1f349"},{n:["tangerine"],u:"1f34a"},{n:["lemon"],u:"1f34b"},{n:["banana"],u:"1f34c"},{n:["pineapple"],u:"1f34d"},{n:["red apple","apple"],u:"1f34e"},{n:["green apple","green_apple"],u:"1f34f"},{n:["pear"],u:"1f350"},{n:["peach"],u:"1f351"},{n:["cherries"],u:"1f352"},{n:["strawberry"],u:"1f353"},{n:["kiwifruit"],u:"1f95d"},{n:["tomato"],u:"1f345"},{n:["coconut"],u:"1f965"},{n:["avocado"],u:"1f951"},{n:["aubergine","eggplant"],u:"1f346"},{n:["potato"],u:"1f954"},{n:["carrot"],u:"1f955"},{n:["ear of maize","corn"],u:"1f33d"},{n:["hot_pepper"],u:"1f336-fe0f"},{n:["cucumber"],u:"1f952"},{n:["broccoli"],u:"1f966"},{n:["mushroom"],u:"1f344"},{n:["peanuts"],u:"1f95c"},{n:["chestnut"],u:"1f330"},{n:["bread"],u:"1f35e"},{n:["croissant"],u:"1f950"},{n:["baguette bread","baguette_bread"],u:"1f956"},{n:["pretzel"],u:"1f968"},{n:["pancakes"],u:"1f95e"},{n:["cheese wedge","cheese_wedge"],u:"1f9c0"},{n:["meat on bone","meat_on_bone"],u:"1f356"},{n:["poultry leg","poultry_leg"],u:"1f357"},{n:["cut of meat","cut_of_meat"],u:"1f969"},{n:["bacon"],u:"1f953"},{n:["hamburger"],u:"1f354"},{n:["french fries","fries"],u:"1f35f"},{n:["slice of pizza","pizza"],u:"1f355"},{n:["hot dog","hotdog"],u:"1f32d"},{n:["sandwich"],u:"1f96a"},{n:["taco"],u:"1f32e"},{n:["burrito"],u:"1f32f"},{n:["stuffed flatbread","stuffed_flatbread"],u:"1f959"},{n:["egg"],u:"1f95a"},{n:["cooking","fried_egg"],u:"1f373"},{n:["shallow pan of food","shallow_pan_of_food"],u:"1f958"},{n:["pot of food","stew"],u:"1f372"},{n:["bowl with spoon","bowl_with_spoon"],u:"1f963"},{n:["green salad","green_salad"],u:"1f957"},{n:["popcorn"],u:"1f37f"},{n:["canned food","canned_food"],u:"1f96b"},{n:["bento box","bento"],u:"1f371"},{n:["rice cracker","rice_cracker"],u:"1f358"},{n:["rice ball","rice_ball"],u:"1f359"},{n:["cooked rice","rice"],u:"1f35a"},{n:["curry and rice","curry"],u:"1f35b"},{n:["steaming bowl","ramen"],u:"1f35c"},{n:["spaghetti"],u:"1f35d"},{n:["roasted sweet potato","sweet_potato"],u:"1f360"},{n:["oden"],u:"1f362"},{n:["sushi"],u:"1f363"},{n:["fried shrimp","fried_shrimp"],u:"1f364"},{n:["fish cake with swirl design","fish_cake"],u:"1f365"},{n:["dango"],u:"1f361"},{n:["dumpling"],u:"1f95f"},{n:["fortune cookie","fortune_cookie"],u:"1f960"},{n:["takeout box","takeout_box"],u:"1f961"},{n:["soft ice cream","icecream"],u:"1f366"},{n:["shaved ice","shaved_ice"],u:"1f367"},{n:["ice cream","ice_cream"],u:"1f368"},{n:["doughnut"],u:"1f369"},{n:["cookie"],u:"1f36a"},{n:["birthday cake","birthday"],u:"1f382"},{n:["shortcake","cake"],u:"1f370"},{n:["pie"],u:"1f967"},{n:["chocolate bar","chocolate_bar"],u:"1f36b"},{n:["candy"],u:"1f36c"},{n:["lollipop"],u:"1f36d"},{n:["custard"],u:"1f36e"},{n:["honey pot","honey_pot"],u:"1f36f"},{n:["baby bottle","baby_bottle"],u:"1f37c"},{n:["glass of milk","glass_of_milk"],u:"1f95b"},{n:["hot beverage","coffee"],u:"2615"},{n:["teacup without handle","tea"],u:"1f375"},{n:["sake bottle and cup","sake"],u:"1f376"},{n:["bottle with popping cork","champagne"],u:"1f37e"},{n:["wine glass","wine_glass"],u:"1f377"},{n:["cocktail glass","cocktail"],u:"1f378"},{n:["tropical drink","tropical_drink"],u:"1f379"},{n:["beer mug","beer"],u:"1f37a"},{n:["clinking beer mugs","beers"],u:"1f37b"},{n:["clinking glasses","clinking_glasses"],u:"1f942"},{n:["tumbler glass","tumbler_glass"],u:"1f943"},{n:["cup with straw","cup_with_straw"],u:"1f964"},{n:["chopsticks"],u:"1f962"},{n:["knife_fork_plate"],u:"1f37d-fe0f"},{n:["fork and knife","fork_and_knife"],u:"1f374"},{n:["spoon"],u:"1f944"},{n:["hocho","knife"],u:"1f52a"},{n:["amphora"],u:"1f3fa"}],activities:[{n:["jack-o-lantern","jack_o_lantern"],u:"1f383"},{n:["christmas tree","christmas_tree"],u:"1f384"},{n:["fireworks"],u:"1f386"},{n:["firework sparkler","sparkler"],u:"1f387"},{n:["sparkles"],u:"2728"},{n:["balloon"],u:"1f388"},{n:["party popper","tada"],u:"1f389"},{n:["confetti ball","confetti_ball"],u:"1f38a"},{n:["tanabata tree","tanabata_tree"],u:"1f38b"},{n:["pine decoration","bamboo"],u:"1f38d"},{n:["japanese dolls","dolls"],u:"1f38e"},{n:["carp streamer","flags"],u:"1f38f"},{n:["wind chime","wind_chime"],u:"1f390"},{n:["moon viewing ceremony","rice_scene"],u:"1f391"},{n:["ribbon"],u:"1f380"},{n:["wrapped present","gift"],u:"1f381"},{n:["reminder_ribbon"],u:"1f397-fe0f"},{n:["admission_tickets"],u:"1f39f-fe0f"},{n:["ticket"],u:"1f3ab"},{n:["medal"],u:"1f396-fe0f"},{n:["trophy"],u:"1f3c6"},{n:["sports medal","sports_medal"],u:"1f3c5"},{n:["first place medal","first_place_medal"],u:"1f947"},{n:["second place medal","second_place_medal"],u:"1f948"},{n:["third place medal","third_place_medal"],u:"1f949"},{n:["soccer ball","soccer"],u:"26bd"},{n:["baseball"],u:"26be"},{n:["basketball and hoop","basketball"],u:"1f3c0"},{n:["volleyball"],u:"1f3d0"},{n:["american football","football"],u:"1f3c8"},{n:["rugby football","rugby_football"],u:"1f3c9"},{n:["tennis racquet and ball","tennis"],u:"1f3be"},{n:["billiards","8ball"],u:"1f3b1"},{n:["bowling"],u:"1f3b3"},{n:["cricket bat and ball","cricket_bat_and_ball"],u:"1f3cf"},{n:["field hockey stick and ball","field_hockey_stick_and_ball"],u:"1f3d1"},{n:["ice hockey stick and puck","ice_hockey_stick_and_puck"],u:"1f3d2"},{n:["table tennis paddle and ball","table_tennis_paddle_and_ball"],u:"1f3d3"},{n:["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],u:"1f3f8"},{n:["boxing glove","boxing_glove"],u:"1f94a"},{n:["martial arts uniform","martial_arts_uniform"],u:"1f94b"},{n:["goal net","goal_net"],u:"1f945"},{n:["direct hit","dart"],u:"1f3af"},{n:["flag in hole","golf"],u:"26f3"},{n:["ice_skate"],u:"26f8-fe0f"},{n:["fishing pole and fish","fishing_pole_and_fish"],u:"1f3a3"},{n:["running shirt with sash","running_shirt_with_sash"],u:"1f3bd"},{n:["ski and ski boot","ski"],u:"1f3bf"},{n:["sled"],u:"1f6f7"},{n:["curling stone","curling_stone"],u:"1f94c"},{n:["video game","video_game"],u:"1f3ae"},{n:["joystick"],u:"1f579-fe0f"},{n:["game die","game_die"],u:"1f3b2"},{n:["black spade suit","spades"],u:"2660-fe0f"},{n:["black heart suit","hearts"],u:"2665-fe0f"},{n:["black diamond suit","diamonds"],u:"2666-fe0f"},{n:["black club suit","clubs"],u:"2663-fe0f"},{n:["playing card black joker","black_joker"],u:"1f0cf"},{n:["mahjong tile red dragon","mahjong"],u:"1f004"},{n:["flower playing cards","flower_playing_cards"],u:"1f3b4"}],travel_places:[{n:["earth globe europe-africa","earth_africa"],u:"1f30d"},{n:["earth globe americas","earth_americas"],u:"1f30e"},{n:["earth globe asia-australia","earth_asia"],u:"1f30f"},{n:["globe with meridians","globe_with_meridians"],u:"1f310"},{n:["world_map"],u:"1f5fa-fe0f"},{n:["silhouette of japan","japan"],u:"1f5fe"},{n:["snow_capped_mountain"],u:"1f3d4-fe0f"},{n:["mountain"],u:"26f0-fe0f"},{n:["volcano"],u:"1f30b"},{n:["mount fuji","mount_fuji"],u:"1f5fb"},{n:["camping"],u:"1f3d5-fe0f"},{n:["beach_with_umbrella"],u:"1f3d6-fe0f"},{n:["desert"],u:"1f3dc-fe0f"},{n:["desert_island"],u:"1f3dd-fe0f"},{n:["national_park"],u:"1f3de-fe0f"},{n:["stadium"],u:"1f3df-fe0f"},{n:["classical_building"],u:"1f3db-fe0f"},{n:["building_construction"],u:"1f3d7-fe0f"},{n:["house_buildings"],u:"1f3d8-fe0f"},{n:["cityscape"],u:"1f3d9-fe0f"},{n:["derelict_house_building"],u:"1f3da-fe0f"},{n:["house building","house"],u:"1f3e0"},{n:["house with garden","house_with_garden"],u:"1f3e1"},{n:["office building","office"],u:"1f3e2"},{n:["japanese post office","post_office"],u:"1f3e3"},{n:["european post office","european_post_office"],u:"1f3e4"},{n:["hospital"],u:"1f3e5"},{n:["bank"],u:"1f3e6"},{n:["hotel"],u:"1f3e8"},{n:["love hotel","love_hotel"],u:"1f3e9"},{n:["convenience store","convenience_store"],u:"1f3ea"},{n:["school"],u:"1f3eb"},{n:["department store","department_store"],u:"1f3ec"},{n:["factory"],u:"1f3ed"},{n:["japanese castle","japanese_castle"],u:"1f3ef"},{n:["european castle","european_castle"],u:"1f3f0"},{n:["wedding"],u:"1f492"},{n:["tokyo tower","tokyo_tower"],u:"1f5fc"},{n:["statue of liberty","statue_of_liberty"],u:"1f5fd"},{n:["church"],u:"26ea"},{n:["mosque"],u:"1f54c"},{n:["synagogue"],u:"1f54d"},{n:["shinto_shrine"],u:"26e9-fe0f"},{n:["kaaba"],u:"1f54b"},{n:["fountain"],u:"26f2"},{n:["tent"],u:"26fa"},{n:["foggy"],u:"1f301"},{n:["night with stars","night_with_stars"],u:"1f303"},{n:["sunrise over mountains","sunrise_over_mountains"],u:"1f304"},{n:["sunrise"],u:"1f305"},{n:["cityscape at dusk","city_sunset"],u:"1f306"},{n:["sunset over buildings","city_sunrise"],u:"1f307"},{n:["bridge at night","bridge_at_night"],u:"1f309"},{n:["hot springs","hotsprings"],u:"2668-fe0f"},{n:["milky way","milky_way"],u:"1f30c"},{n:["carousel horse","carousel_horse"],u:"1f3a0"},{n:["ferris wheel","ferris_wheel"],u:"1f3a1"},{n:["roller coaster","roller_coaster"],u:"1f3a2"},{n:["barber pole","barber"],u:"1f488"},{n:["circus tent","circus_tent"],u:"1f3aa"},{n:["performing arts","performing_arts"],u:"1f3ad"},{n:["frame_with_picture"],u:"1f5bc-fe0f"},{n:["artist palette","art"],u:"1f3a8"},{n:["slot machine","slot_machine"],u:"1f3b0"},{n:["steam locomotive","steam_locomotive"],u:"1f682"},{n:["railway car","railway_car"],u:"1f683"},{n:["high-speed train","bullettrain_side"],u:"1f684"},{n:["high-speed train with bullet nose","bullettrain_front"],u:"1f685"},{n:["train","train2"],u:"1f686"},{n:["metro"],u:"1f687"},{n:["light rail","light_rail"],u:"1f688"},{n:["station"],u:"1f689"},{n:["tram"],u:"1f68a"},{n:["monorail"],u:"1f69d"},{n:["mountain railway","mountain_railway"],u:"1f69e"},{n:["tram car","train"],u:"1f68b"},{n:["bus"],u:"1f68c"},{n:["oncoming bus","oncoming_bus"],u:"1f68d"},{n:["trolleybus"],u:"1f68e"},{n:["minibus"],u:"1f690"},{n:["ambulance"],u:"1f691"},{n:["fire engine","fire_engine"],u:"1f692"},{n:["police car","police_car"],u:"1f693"},{n:["oncoming police car","oncoming_police_car"],u:"1f694"},{n:["taxi"],u:"1f695"},{n:["oncoming taxi","oncoming_taxi"],u:"1f696"},{n:["automobile","car","red_car"],u:"1f697"},{n:["oncoming automobile","oncoming_automobile"],u:"1f698"},{n:["recreational vehicle","blue_car"],u:"1f699"},{n:["delivery truck","truck"],u:"1f69a"},{n:["articulated lorry","articulated_lorry"],u:"1f69b"},{n:["tractor"],u:"1f69c"},{n:["bicycle","bike"],u:"1f6b2"},{n:["scooter"],u:"1f6f4"},{n:["motor scooter","motor_scooter"],u:"1f6f5"},{n:["bus stop","busstop"],u:"1f68f"},{n:["motorway"],u:"1f6e3-fe0f"},{n:["railway_track"],u:"1f6e4-fe0f"},{n:["fuel pump","fuelpump"],u:"26fd"},{n:["police cars revolving light","rotating_light"],u:"1f6a8"},{n:["horizontal traffic light","traffic_light"],u:"1f6a5"},{n:["vertical traffic light","vertical_traffic_light"],u:"1f6a6"},{n:["construction sign","construction"],u:"1f6a7"},{n:["octagonal sign","octagonal_sign"],u:"1f6d1"},{n:["anchor"],u:"2693"},{n:["sailboat","boat"],u:"26f5"},{n:["canoe"],u:"1f6f6"},{n:["speedboat"],u:"1f6a4"},{n:["passenger_ship"],u:"1f6f3-fe0f"},{n:["ferry"],u:"26f4-fe0f"},{n:["motor_boat"],u:"1f6e5-fe0f"},{n:["ship"],u:"1f6a2"},{n:["airplane"],u:"2708-fe0f"},{n:["small_airplane"],u:"1f6e9-fe0f"},{n:["airplane departure","airplane_departure"],u:"1f6eb"},{n:["airplane arriving","airplane_arriving"],u:"1f6ec"},{n:["seat"],u:"1f4ba"},{n:["helicopter"],u:"1f681"},{n:["suspension railway","suspension_railway"],u:"1f69f"},{n:["mountain cableway","mountain_cableway"],u:"1f6a0"},{n:["aerial tramway","aerial_tramway"],u:"1f6a1"},{n:["satellite"],u:"1f6f0-fe0f"},{n:["rocket"],u:"1f680"},{n:["flying saucer","flying_saucer"],u:"1f6f8"},{n:["bellhop_bell"],u:"1f6ce-fe0f"},{n:["door"],u:"1f6aa"},{n:["bed"],u:"1f6cf-fe0f"},{n:["couch_and_lamp"],u:"1f6cb-fe0f"},{n:["toilet"],u:"1f6bd"},{n:["shower"],u:"1f6bf"},{n:["bathtub"],u:"1f6c1"},{n:["hourglass"],u:"231b"},{n:["hourglass with flowing sand","hourglass_flowing_sand"],u:"23f3"},{n:["watch"],u:"231a"},{n:["alarm clock","alarm_clock"],u:"23f0"},{n:["stopwatch"],u:"23f1-fe0f"},{n:["timer_clock"],u:"23f2-fe0f"},{n:["mantelpiece_clock"],u:"1f570-fe0f"},{n:["clock face twelve oclock","clock12"],u:"1f55b"},{n:["clock face twelve-thirty","clock1230"],u:"1f567"},{n:["clock face one oclock","clock1"],u:"1f550"},{n:["clock face one-thirty","clock130"],u:"1f55c"},{n:["clock face two oclock","clock2"],u:"1f551"},{n:["clock face two-thirty","clock230"],u:"1f55d"},{n:["clock face three oclock","clock3"],u:"1f552"},{n:["clock face three-thirty","clock330"],u:"1f55e"},{n:["clock face four oclock","clock4"],u:"1f553"},{n:["clock face four-thirty","clock430"],u:"1f55f"},{n:["clock face five oclock","clock5"],u:"1f554"},{n:["clock face five-thirty","clock530"],u:"1f560"},{n:["clock face six oclock","clock6"],u:"1f555"},{n:["clock face six-thirty","clock630"],u:"1f561"},{n:["clock face seven oclock","clock7"],u:"1f556"},{n:["clock face seven-thirty","clock730"],u:"1f562"},{n:["clock face eight oclock","clock8"],u:"1f557"},{n:["clock face eight-thirty","clock830"],u:"1f563"},{n:["clock face nine oclock","clock9"],u:"1f558"},{n:["clock face nine-thirty","clock930"],u:"1f564"},{n:["clock face ten oclock","clock10"],u:"1f559"},{n:["clock face ten-thirty","clock1030"],u:"1f565"},{n:["clock face eleven oclock","clock11"],u:"1f55a"},{n:["clock face eleven-thirty","clock1130"],u:"1f566"},{n:["new moon symbol","new_moon"],u:"1f311"},{n:["waxing crescent moon symbol","waxing_crescent_moon"],u:"1f312"},{n:["first quarter moon symbol","first_quarter_moon"],u:"1f313"},{n:["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],u:"1f314"},{n:["full moon symbol","full_moon"],u:"1f315"},{n:["waning gibbous moon symbol","waning_gibbous_moon"],u:"1f316"},{n:["last quarter moon symbol","last_quarter_moon"],u:"1f317"},{n:["waning crescent moon symbol","waning_crescent_moon"],u:"1f318"},{n:["crescent moon","crescent_moon"],u:"1f319"},{n:["new moon with face","new_moon_with_face"],u:"1f31a"},{n:["first quarter moon with face","first_quarter_moon_with_face"],u:"1f31b"},{n:["last quarter moon with face","last_quarter_moon_with_face"],u:"1f31c"},{n:["thermometer"],u:"1f321-fe0f"},{n:["black sun with rays","sunny"],u:"2600-fe0f"},{n:["full moon with face","full_moon_with_face"],u:"1f31d"},{n:["sun with face","sun_with_face"],u:"1f31e"},{n:["white medium star","star"],u:"2b50"},{n:["glowing star","star2"],u:"1f31f"},{n:["shooting star","stars"],u:"1f320"},{n:["cloud"],u:"2601-fe0f"},{n:["sun behind cloud","partly_sunny"],u:"26c5"},{n:["thunder_cloud_and_rain"],u:"26c8-fe0f"},{n:["mostly_sunny","sun_small_cloud"],u:"1f324-fe0f"},{n:["barely_sunny","sun_behind_cloud"],u:"1f325-fe0f"},{n:["partly_sunny_rain","sun_behind_rain_cloud"],u:"1f326-fe0f"},{n:["rain_cloud"],u:"1f327-fe0f"},{n:["snow_cloud"],u:"1f328-fe0f"},{n:["lightning","lightning_cloud"],u:"1f329-fe0f"},{n:["tornado","tornado_cloud"],u:"1f32a-fe0f"},{n:["fog"],u:"1f32b-fe0f"},{n:["wind_blowing_face"],u:"1f32c-fe0f"},{n:["cyclone"],u:"1f300"},{n:["rainbow"],u:"1f308"},{n:["closed umbrella","closed_umbrella"],u:"1f302"},{n:["umbrella"],u:"2602-fe0f"},{n:["umbrella with rain drops","umbrella_with_rain_drops"],u:"2614"},{n:["umbrella_on_ground"],u:"26f1-fe0f"},{n:["high voltage sign","zap"],u:"26a1"},{n:["snowflake"],u:"2744-fe0f"},{n:["snowman"],u:"2603-fe0f"},{n:["snowman without snow","snowman_without_snow"],u:"26c4"},{n:["comet"],u:"2604-fe0f"},{n:["fire"],u:"1f525"},{n:["droplet"],u:"1f4a7"},{n:["water wave","ocean"],u:"1f30a"}],objects:[{n:["speaker with cancellation stroke","mute"],u:"1f507"},{n:["speaker"],u:"1f508"},{n:["speaker with one sound wave","sound"],u:"1f509"},{n:["speaker with three sound waves","loud_sound"],u:"1f50a"},{n:["public address loudspeaker","loudspeaker"],u:"1f4e2"},{n:["cheering megaphone","mega"],u:"1f4e3"},{n:["postal horn","postal_horn"],u:"1f4ef"},{n:["bell"],u:"1f514"},{n:["bell with cancellation stroke","no_bell"],u:"1f515"},{n:["musical score","musical_score"],u:"1f3bc"},{n:["musical note","musical_note"],u:"1f3b5"},{n:["multiple musical notes","notes"],u:"1f3b6"},{n:["studio_microphone"],u:"1f399-fe0f"},{n:["level_slider"],u:"1f39a-fe0f"},{n:["control_knobs"],u:"1f39b-fe0f"},{n:["microphone"],u:"1f3a4"},{n:["headphone","headphones"],u:"1f3a7"},{n:["radio"],u:"1f4fb"},{n:["saxophone"],u:"1f3b7"},{n:["guitar"],u:"1f3b8"},{n:["musical keyboard","musical_keyboard"],u:"1f3b9"},{n:["trumpet"],u:"1f3ba"},{n:["violin"],u:"1f3bb"},{n:["drum with drumsticks","drum_with_drumsticks"],u:"1f941"},{n:["mobile phone","iphone"],u:"1f4f1"},{n:["mobile phone with rightwards arrow at left","calling"],u:"1f4f2"},{n:["black telephone","phone","telephone"],u:"260e-fe0f"},{n:["telephone receiver","telephone_receiver"],u:"1f4de"},{n:["pager"],u:"1f4df"},{n:["fax machine","fax"],u:"1f4e0"},{n:["battery"],u:"1f50b"},{n:["electric plug","electric_plug"],u:"1f50c"},{n:["personal computer","computer"],u:"1f4bb"},{n:["desktop_computer"],u:"1f5a5-fe0f"},{n:["printer"],u:"1f5a8-fe0f"},{n:["keyboard"],u:"2328-fe0f"},{n:["three_button_mouse"],u:"1f5b1-fe0f"},{n:["trackball"],u:"1f5b2-fe0f"},{n:["minidisc"],u:"1f4bd"},{n:["floppy disk","floppy_disk"],u:"1f4be"},{n:["optical disc","cd"],u:"1f4bf"},{n:["dvd"],u:"1f4c0"},{n:["movie camera","movie_camera"],u:"1f3a5"},{n:["film_frames"],u:"1f39e-fe0f"},{n:["film_projector"],u:"1f4fd-fe0f"},{n:["clapper board","clapper"],u:"1f3ac"},{n:["television","tv"],u:"1f4fa"},{n:["camera"],u:"1f4f7"},{n:["camera with flash","camera_with_flash"],u:"1f4f8"},{n:["video camera","video_camera"],u:"1f4f9"},{n:["videocassette","vhs"],u:"1f4fc"},{n:["left-pointing magnifying glass","mag"],u:"1f50d"},{n:["right-pointing magnifying glass","mag_right"],u:"1f50e"},{n:["microscope"],u:"1f52c"},{n:["telescope"],u:"1f52d"},{n:["satellite antenna","satellite_antenna"],u:"1f4e1"},{n:["candle"],u:"1f56f-fe0f"},{n:["electric light bulb","bulb"],u:"1f4a1"},{n:["electric torch","flashlight"],u:"1f526"},{n:["izakaya lantern","izakaya_lantern","lantern"],u:"1f3ee"},{n:["notebook with decorative cover","notebook_with_decorative_cover"],u:"1f4d4"},{n:["closed book","closed_book"],u:"1f4d5"},{n:["open book","book","open_book"],u:"1f4d6"},{n:["green book","green_book"],u:"1f4d7"},{n:["blue book","blue_book"],u:"1f4d8"},{n:["orange book","orange_book"],u:"1f4d9"},{n:["books"],u:"1f4da"},{n:["notebook"],u:"1f4d3"},{n:["ledger"],u:"1f4d2"},{n:["page with curl","page_with_curl"],u:"1f4c3"},{n:["scroll"],u:"1f4dc"},{n:["page facing up","page_facing_up"],u:"1f4c4"},{n:["newspaper"],u:"1f4f0"},{n:["rolled_up_newspaper"],u:"1f5de-fe0f"},{n:["bookmark tabs","bookmark_tabs"],u:"1f4d1"},{n:["bookmark"],u:"1f516"},{n:["label"],u:"1f3f7-fe0f"},{n:["money bag","moneybag"],u:"1f4b0"},{n:["banknote with yen sign","yen"],u:"1f4b4"},{n:["banknote with dollar sign","dollar"],u:"1f4b5"},{n:["banknote with euro sign","euro"],u:"1f4b6"},{n:["banknote with pound sign","pound"],u:"1f4b7"},{n:["money with wings","money_with_wings"],u:"1f4b8"},{n:["credit card","credit_card"],u:"1f4b3"},{n:["chart with upwards trend and yen sign","chart"],u:"1f4b9"},{n:["currency exchange","currency_exchange"],u:"1f4b1"},{n:["heavy dollar sign","heavy_dollar_sign"],u:"1f4b2"},{n:["envelope","email"],u:"2709-fe0f"},{n:["e-mail symbol","e-mail"],u:"1f4e7"},{n:["incoming envelope","incoming_envelope"],u:"1f4e8"},{n:["envelope with downwards arrow above","envelope_with_arrow"],u:"1f4e9"},{n:["outbox tray","outbox_tray"],u:"1f4e4"},{n:["inbox tray","inbox_tray"],u:"1f4e5"},{n:["package"],u:"1f4e6"},{n:["closed mailbox with raised flag","mailbox"],u:"1f4eb"},{n:["closed mailbox with lowered flag","mailbox_closed"],u:"1f4ea"},{n:["open mailbox with raised flag","mailbox_with_mail"],u:"1f4ec"},{n:["open mailbox with lowered flag","mailbox_with_no_mail"],u:"1f4ed"},{n:["postbox"],u:"1f4ee"},{n:["ballot_box_with_ballot"],u:"1f5f3-fe0f"},{n:["pencil","pencil2"],u:"270f-fe0f"},{n:["black nib","black_nib"],u:"2712-fe0f"},{n:["lower_left_fountain_pen"],u:"1f58b-fe0f"},{n:["lower_left_ballpoint_pen"],u:"1f58a-fe0f"},{n:["lower_left_paintbrush"],u:"1f58c-fe0f"},{n:["lower_left_crayon"],u:"1f58d-fe0f"},{n:["memo","pencil"],u:"1f4dd"},{n:["briefcase"],u:"1f4bc"},{n:["file folder","file_folder"],u:"1f4c1"},{n:["open file folder","open_file_folder"],u:"1f4c2"},{n:["card_index_dividers"],u:"1f5c2-fe0f"},{n:["calendar","date"],u:"1f4c5"},{n:["tear-off calendar","calendar"],u:"1f4c6"},{n:["spiral_note_pad"],u:"1f5d2-fe0f"},{n:["spiral_calendar_pad"],u:"1f5d3-fe0f"},{n:["card index","card_index"],u:"1f4c7"},{n:["chart with upwards trend","chart_with_upwards_trend"],u:"1f4c8"},{n:["chart with downwards trend","chart_with_downwards_trend"],u:"1f4c9"},{n:["bar chart","bar_chart"],u:"1f4ca"},{n:["clipboard"],u:"1f4cb"},{n:["pushpin"],u:"1f4cc"},{n:["round pushpin","round_pushpin"],u:"1f4cd"},{n:["paperclip"],u:"1f4ce"},{n:["linked_paperclips"],u:"1f587-fe0f"},{n:["straight ruler","straight_ruler"],u:"1f4cf"},{n:["triangular ruler","triangular_ruler"],u:"1f4d0"},{n:["black scissors","scissors"],u:"2702-fe0f"},{n:["card_file_box"],u:"1f5c3-fe0f"},{n:["file_cabinet"],u:"1f5c4-fe0f"},{n:["wastebasket"],u:"1f5d1-fe0f"},{n:["lock"],u:"1f512"},{n:["open lock","unlock"],u:"1f513"},{n:["lock with ink pen","lock_with_ink_pen"],u:"1f50f"},{n:["closed lock with key","closed_lock_with_key"],u:"1f510"},{n:["key"],u:"1f511"},{n:["old_key"],u:"1f5dd-fe0f"},{n:["hammer"],u:"1f528"},{n:["pick"],u:"26cf-fe0f"},{n:["hammer_and_pick"],u:"2692-fe0f"},{n:["hammer_and_wrench"],u:"1f6e0-fe0f"},{n:["dagger_knife"],u:"1f5e1-fe0f"},{n:["crossed_swords"],u:"2694-fe0f"},{n:["pistol","gun"],u:"1f52b"},{n:["bow and arrow","bow_and_arrow"],u:"1f3f9"},{n:["shield"],u:"1f6e1-fe0f"},{n:["wrench"],u:"1f527"},{n:["nut and bolt","nut_and_bolt"],u:"1f529"},{n:["gear"],u:"2699-fe0f"},{n:["compression"],u:"1f5dc-fe0f"},{n:["alembic"],u:"2697-fe0f"},{n:["scales"],u:"2696-fe0f"},{n:["link symbol","link"],u:"1f517"},{n:["chains"],u:"26d3-fe0f"},{n:["syringe"],u:"1f489"},{n:["pill"],u:"1f48a"},{n:["smoking symbol","smoking"],u:"1f6ac"},{n:["coffin"],u:"26b0-fe0f"},{n:["funeral_urn"],u:"26b1-fe0f"},{n:["moyai"],u:"1f5ff"},{n:["oil_drum"],u:"1f6e2-fe0f"},{n:["crystal ball","crystal_ball"],u:"1f52e"},{n:["shopping trolley","shopping_trolley"],u:"1f6d2"}],symbols:[{n:["automated teller machine","atm"],u:"1f3e7"},{n:["put litter in its place symbol","put_litter_in_its_place"],u:"1f6ae"},{n:["potable water symbol","potable_water"],u:"1f6b0"},{n:["wheelchair symbol","wheelchair"],u:"267f"},{n:["mens symbol","mens"],u:"1f6b9"},{n:["womens symbol","womens"],u:"1f6ba"},{n:["restroom"],u:"1f6bb"},{n:["baby symbol","baby_symbol"],u:"1f6bc"},{n:["water closet","wc"],u:"1f6be"},{n:["passport control","passport_control"],u:"1f6c2"},{n:["customs"],u:"1f6c3"},{n:["baggage claim","baggage_claim"],u:"1f6c4"},{n:["left luggage","left_luggage"],u:"1f6c5"},{n:["warning sign","warning"],u:"26a0-fe0f"},{n:["children crossing","children_crossing"],u:"1f6b8"},{n:["no entry","no_entry"],u:"26d4"},{n:["no entry sign","no_entry_sign"],u:"1f6ab"},{n:["no bicycles","no_bicycles"],u:"1f6b3"},{n:["no smoking symbol","no_smoking"],u:"1f6ad"},{n:["do not litter symbol","do_not_litter"],u:"1f6af"},{n:["non-potable water symbol","non-potable_water"],u:"1f6b1"},{n:["no pedestrians","no_pedestrians"],u:"1f6b7"},{n:["no mobile phones","no_mobile_phones"],u:"1f4f5"},{n:["no one under eighteen symbol","underage"],u:"1f51e"},{n:["radioactive_sign"],u:"2622-fe0f"},{n:["biohazard_sign"],u:"2623-fe0f"},{n:["upwards black arrow","arrow_up"],u:"2b06-fe0f"},{n:["north east arrow","arrow_upper_right"],u:"2197-fe0f"},{n:["black rightwards arrow","arrow_right"],u:"27a1-fe0f"},{n:["south east arrow","arrow_lower_right"],u:"2198-fe0f"},{n:["downwards black arrow","arrow_down"],u:"2b07-fe0f"},{n:["south west arrow","arrow_lower_left"],u:"2199-fe0f"},{n:["leftwards black arrow","arrow_left"],u:"2b05-fe0f"},{n:["north west arrow","arrow_upper_left"],u:"2196-fe0f"},{n:["up down arrow","arrow_up_down"],u:"2195-fe0f"},{n:["left right arrow","left_right_arrow"],u:"2194-fe0f"},{n:["leftwards arrow with hook","leftwards_arrow_with_hook"],u:"21a9-fe0f"},{n:["rightwards arrow with hook","arrow_right_hook"],u:"21aa-fe0f"},{n:["arrow pointing rightwards then curving upwards","arrow_heading_up"],u:"2934-fe0f"},{n:["arrow pointing rightwards then curving downwards","arrow_heading_down"],u:"2935-fe0f"},{n:["clockwise downwards and upwards open circle arrows","arrows_clockwise"],u:"1f503"},{n:["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],u:"1f504"},{n:["back with leftwards arrow above","back"],u:"1f519"},{n:["end with leftwards arrow above","end"],u:"1f51a"},{n:["on with exclamation mark with left right arrow above","on"],u:"1f51b"},{n:["soon with rightwards arrow above","soon"],u:"1f51c"},{n:["top with upwards arrow above","top"],u:"1f51d"},{n:["place of worship","place_of_worship"],u:"1f6d0"},{n:["atom_symbol"],u:"269b-fe0f"},{n:["om_symbol"],u:"1f549-fe0f"},{n:["star_of_david"],u:"2721-fe0f"},{n:["wheel_of_dharma"],u:"2638-fe0f"},{n:["yin_yang"],u:"262f-fe0f"},{n:["latin_cross"],u:"271d-fe0f"},{n:["orthodox_cross"],u:"2626-fe0f"},{n:["star_and_crescent"],u:"262a-fe0f"},{n:["peace_symbol"],u:"262e-fe0f"},{n:["menorah with nine branches","menorah_with_nine_branches"],u:"1f54e"},{n:["six pointed star with middle dot","six_pointed_star"],u:"1f52f"},{n:["aries"],u:"2648"},{n:["taurus"],u:"2649"},{n:["gemini"],u:"264a"},{n:["cancer"],u:"264b"},{n:["leo"],u:"264c"},{n:["virgo"],u:"264d"},{n:["libra"],u:"264e"},{n:["scorpius"],u:"264f"},{n:["sagittarius"],u:"2650"},{n:["capricorn"],u:"2651"},{n:["aquarius"],u:"2652"},{n:["pisces"],u:"2653"},{n:["ophiuchus"],u:"26ce"},{n:["twisted rightwards arrows","twisted_rightwards_arrows"],u:"1f500"},{n:["clockwise rightwards and leftwards open circle arrows","repeat"],u:"1f501"},{n:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],u:"1f502"},{n:["black right-pointing triangle","arrow_forward"],u:"25b6-fe0f"},{n:["black right-pointing double triangle","fast_forward"],u:"23e9"},{n:["black_right_pointing_double_triangle_with_vertical_bar"],u:"23ed-fe0f"},{n:["black_right_pointing_triangle_with_double_vertical_bar"],u:"23ef-fe0f"},{n:["black left-pointing triangle","arrow_backward"],u:"25c0-fe0f"},{n:["black left-pointing double triangle","rewind"],u:"23ea"},{n:["black_left_pointing_double_triangle_with_vertical_bar"],u:"23ee-fe0f"},{n:["up-pointing small red triangle","arrow_up_small"],u:"1f53c"},{n:["black up-pointing double triangle","arrow_double_up"],u:"23eb"},{n:["down-pointing small red triangle","arrow_down_small"],u:"1f53d"},{n:["black down-pointing double triangle","arrow_double_down"],u:"23ec"},{n:["double_vertical_bar"],u:"23f8-fe0f"},{n:["black_square_for_stop"],u:"23f9-fe0f"},{n:["black_circle_for_record"],u:"23fa-fe0f"},{n:["eject"],u:"23cf-fe0f"},{n:["cinema"],u:"1f3a6"},{n:["low brightness symbol","low_brightness"],u:"1f505"},{n:["high brightness symbol","high_brightness"],u:"1f506"},{n:["antenna with bars","signal_strength"],u:"1f4f6"},{n:["vibration mode","vibration_mode"],u:"1f4f3"},{n:["mobile phone off","mobile_phone_off"],u:"1f4f4"},{n:["female_sign"],u:"2640-fe0f"},{n:["male_sign"],u:"2642-fe0f"},{n:["medical_symbol","staff_of_aesculapius"],u:"2695-fe0f"},{n:["black universal recycling symbol","recycle"],u:"267b-fe0f"},{n:["fleur_de_lis"],u:"269c-fe0f"},{n:["trident emblem","trident"],u:"1f531"},{n:["name badge","name_badge"],u:"1f4db"},{n:["japanese symbol for beginner","beginner"],u:"1f530"},{n:["heavy large circle","o"],u:"2b55"},{n:["white heavy check mark","white_check_mark"],u:"2705"},{n:["ballot box with check","ballot_box_with_check"],u:"2611-fe0f"},{n:["heavy check mark","heavy_check_mark"],u:"2714-fe0f"},{n:["heavy multiplication x","heavy_multiplication_x"],u:"2716-fe0f"},{n:["cross mark","x"],u:"274c"},{n:["negative squared cross mark","negative_squared_cross_mark"],u:"274e"},{n:["heavy plus sign","heavy_plus_sign"],u:"2795"},{n:["heavy minus sign","heavy_minus_sign"],u:"2796"},{n:["heavy division sign","heavy_division_sign"],u:"2797"},{n:["curly loop","curly_loop"],u:"27b0"},{n:["double curly loop","loop"],u:"27bf"},{n:["part alternation mark","part_alternation_mark"],u:"303d-fe0f"},{n:["eight spoked asterisk","eight_spoked_asterisk"],u:"2733-fe0f"},{n:["eight pointed black star","eight_pointed_black_star"],u:"2734-fe0f"},{n:["sparkle"],u:"2747-fe0f"},{n:["double exclamation mark","bangbang"],u:"203c-fe0f"},{n:["exclamation question mark","interrobang"],u:"2049-fe0f"},{n:["black question mark ornament","question"],u:"2753"},{n:["white question mark ornament","grey_question"],u:"2754"},{n:["white exclamation mark ornament","grey_exclamation"],u:"2755"},{n:["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],u:"2757"},{n:["wavy dash","wavy_dash"],u:"3030-fe0f"},{n:["copyright sign","copyright"],u:"00a9-fe0f"},{n:["registered sign","registered"],u:"00ae-fe0f"},{n:["trade mark sign","tm"],u:"2122-fe0f"},{n:["hash key","hash"],u:"0023-fe0f-20e3"},{n:["keycap_star"],u:"002a-fe0f-20e3"},{n:["keycap 0","zero"],u:"0030-fe0f-20e3"},{n:["keycap 1","one"],u:"0031-fe0f-20e3"},{n:["keycap 2","two"],u:"0032-fe0f-20e3"},{n:["keycap 3","three"],u:"0033-fe0f-20e3"},{n:["keycap 4","four"],u:"0034-fe0f-20e3"},{n:["keycap 5","five"],u:"0035-fe0f-20e3"},{n:["keycap 6","six"],u:"0036-fe0f-20e3"},{n:["keycap 7","seven"],u:"0037-fe0f-20e3"},{n:["keycap 8","eight"],u:"0038-fe0f-20e3"},{n:["keycap 9","nine"],u:"0039-fe0f-20e3"},{n:["keycap ten","keycap_ten"],u:"1f51f"},{n:["hundred points symbol","100"],u:"1f4af"},{n:["input symbol for latin capital letters","capital_abcd"],u:"1f520"},{n:["input symbol for latin small letters","abcd"],u:"1f521"},{n:["input symbol for numbers","1234"],u:"1f522"},{n:["input symbol for symbols","symbols"],u:"1f523"},{n:["input symbol for latin letters","abc"],u:"1f524"},{n:["negative squared latin capital letter a","a"],u:"1f170-fe0f"},{n:["negative squared ab","ab"],u:"1f18e"},{n:["negative squared latin capital letter b","b"],u:"1f171-fe0f"},{n:["squared cl","cl"],u:"1f191"},{n:["squared cool","cool"],u:"1f192"},{n:["squared free","free"],u:"1f193"},{n:["information source","information_source"],u:"2139-fe0f"},{n:["squared id","id"],u:"1f194"},{n:["circled latin capital letter m","m"],u:"24c2-fe0f"},{n:["squared new","new"],u:"1f195"},{n:["squared ng","ng"],u:"1f196"},{n:["negative squared latin capital letter o","o2"],u:"1f17e-fe0f"},{n:["squared ok","ok"],u:"1f197"},{n:["negative squared latin capital letter p","parking"],u:"1f17f-fe0f"},{n:["squared sos","sos"],u:"1f198"},{n:["squared up with exclamation mark","up"],u:"1f199"},{n:["squared vs","vs"],u:"1f19a"},{n:["squared katakana koko","koko"],u:"1f201"},{n:["squared katakana sa","sa"],u:"1f202-fe0f"},{n:["squared cjk unified ideograph-6708","u6708"],u:"1f237-fe0f"},{n:["squared cjk unified ideograph-6709","u6709"],u:"1f236"},{n:["squared cjk unified ideograph-6307","u6307"],u:"1f22f"},{n:["circled ideograph advantage","ideograph_advantage"],u:"1f250"},{n:["squared cjk unified ideograph-5272","u5272"],u:"1f239"},{n:["squared cjk unified ideograph-7121","u7121"],u:"1f21a"},{n:["squared cjk unified ideograph-7981","u7981"],u:"1f232"},{n:["circled ideograph accept","accept"],u:"1f251"},{n:["squared cjk unified ideograph-7533","u7533"],u:"1f238"},{n:["squared cjk unified ideograph-5408","u5408"],u:"1f234"},{n:["squared cjk unified ideograph-7a7a","u7a7a"],u:"1f233"},{n:["circled ideograph congratulation","congratulations"],u:"3297-fe0f"},{n:["circled ideograph secret","secret"],u:"3299-fe0f"},{n:["squared cjk unified ideograph-55b6","u55b6"],u:"1f23a"},{n:["squared cjk unified ideograph-6e80","u6e80"],u:"1f235"},{n:["black small square","black_small_square"],u:"25aa-fe0f"},{n:["white small square","white_small_square"],u:"25ab-fe0f"},{n:["white medium square","white_medium_square"],u:"25fb-fe0f"},{n:["black medium square","black_medium_square"],u:"25fc-fe0f"},{n:["white medium small square","white_medium_small_square"],u:"25fd"},{n:["black medium small square","black_medium_small_square"],u:"25fe"},{n:["black large square","black_large_square"],u:"2b1b"},{n:["white large square","white_large_square"],u:"2b1c"},{n:["large orange diamond","large_orange_diamond"],u:"1f536"},{n:["large blue diamond","large_blue_diamond"],u:"1f537"},{n:["small orange diamond","small_orange_diamond"],u:"1f538"},{n:["small blue diamond","small_blue_diamond"],u:"1f539"},{n:["up-pointing red triangle","small_red_triangle"],u:"1f53a"},{n:["down-pointing red triangle","small_red_triangle_down"],u:"1f53b"},{n:["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],u:"1f4a0"},{n:["radio button","radio_button"],u:"1f518"},{n:["black square button","black_square_button"],u:"1f532"},{n:["white square button","white_square_button"],u:"1f533"},{n:["medium white circle","white_circle"],u:"26aa"},{n:["medium black circle","black_circle"],u:"26ab"},{n:["large red circle","red_circle"],u:"1f534"},{n:["large blue circle","large_blue_circle"],u:"1f535"}],flags:[{n:["chequered flag","checkered_flag"],u:"1f3c1"},{n:["triangular flag on post","triangular_flag_on_post"],u:"1f6a9"},{n:["crossed flags","crossed_flags"],u:"1f38c"},{n:["waving black flag","waving_black_flag"],u:"1f3f4"},{n:["waving_white_flag"],u:"1f3f3-fe0f"},{n:["rainbow-flag"],u:"1f3f3-fe0f-200d-1f308"},{n:["ascension island flag","flag-ac"],u:"1f1e6-1f1e8"},{n:["andorra flag","flag-ad"],u:"1f1e6-1f1e9"},{n:["united arab emirates flag","flag-ae"],u:"1f1e6-1f1ea"},{n:["afghanistan flag","flag-af"],u:"1f1e6-1f1eb"},{n:["antigua & barbuda flag","flag-ag"],u:"1f1e6-1f1ec"},{n:["anguilla flag","flag-ai"],u:"1f1e6-1f1ee"},{n:["albania flag","flag-al"],u:"1f1e6-1f1f1"},{n:["armenia flag","flag-am"],u:"1f1e6-1f1f2"},{n:["angola flag","flag-ao"],u:"1f1e6-1f1f4"},{n:["antarctica flag","flag-aq"],u:"1f1e6-1f1f6"},{n:["argentina flag","flag-ar"],u:"1f1e6-1f1f7"},{n:["american samoa flag","flag-as"],u:"1f1e6-1f1f8"},{n:["austria flag","flag-at"],u:"1f1e6-1f1f9"},{n:["australia flag","flag-au"],u:"1f1e6-1f1fa"},{n:["aruba flag","flag-aw"],u:"1f1e6-1f1fc"},{n:["åland islands flag","flag-ax"],u:"1f1e6-1f1fd"},{n:["azerbaijan flag","flag-az"],u:"1f1e6-1f1ff"},{n:["bosnia & herzegovina flag","flag-ba"],u:"1f1e7-1f1e6"},{n:["barbados flag","flag-bb"],u:"1f1e7-1f1e7"},{n:["bangladesh flag","flag-bd"],u:"1f1e7-1f1e9"},{n:["belgium flag","flag-be"],u:"1f1e7-1f1ea"},{n:["burkina faso flag","flag-bf"],u:"1f1e7-1f1eb"},{n:["bulgaria flag","flag-bg"],u:"1f1e7-1f1ec"},{n:["bahrain flag","flag-bh"],u:"1f1e7-1f1ed"},{n:["burundi flag","flag-bi"],u:"1f1e7-1f1ee"},{n:["benin flag","flag-bj"],u:"1f1e7-1f1ef"},{n:["st. barthélemy flag","flag-bl"],u:"1f1e7-1f1f1"},{n:["bermuda flag","flag-bm"],u:"1f1e7-1f1f2"},{n:["brunei flag","flag-bn"],u:"1f1e7-1f1f3"},{n:["bolivia flag","flag-bo"],u:"1f1e7-1f1f4"},{n:["caribbean netherlands flag","flag-bq"],u:"1f1e7-1f1f6"},{n:["brazil flag","flag-br"],u:"1f1e7-1f1f7"},{n:["bahamas flag","flag-bs"],u:"1f1e7-1f1f8"},{n:["bhutan flag","flag-bt"],u:"1f1e7-1f1f9"},{n:["bouvet island flag","flag-bv"],u:"1f1e7-1f1fb"},{n:["botswana flag","flag-bw"],u:"1f1e7-1f1fc"},{n:["belarus flag","flag-by"],u:"1f1e7-1f1fe"},{n:["belize flag","flag-bz"],u:"1f1e7-1f1ff"},{n:["canada flag","flag-ca"],u:"1f1e8-1f1e6"},{n:["cocos (keeling) islands flag","flag-cc"],u:"1f1e8-1f1e8"},{n:["congo - kinshasa flag","flag-cd"],u:"1f1e8-1f1e9"},{n:["central african republic flag","flag-cf"],u:"1f1e8-1f1eb"},{n:["congo - brazzaville flag","flag-cg"],u:"1f1e8-1f1ec"},{n:["switzerland flag","flag-ch"],u:"1f1e8-1f1ed"},{n:["côte d’ivoire flag","flag-ci"],u:"1f1e8-1f1ee"},{n:["cook islands flag","flag-ck"],u:"1f1e8-1f1f0"},{n:["chile flag","flag-cl"],u:"1f1e8-1f1f1"},{n:["cameroon flag","flag-cm"],u:"1f1e8-1f1f2"},{n:["china flag","cn","flag-cn"],u:"1f1e8-1f1f3"},{n:["colombia flag","flag-co"],u:"1f1e8-1f1f4"},{n:["clipperton island flag","flag-cp"],u:"1f1e8-1f1f5"},{n:["costa rica flag","flag-cr"],u:"1f1e8-1f1f7"},{n:["cuba flag","flag-cu"],u:"1f1e8-1f1fa"},{n:["cape verde flag","flag-cv"],u:"1f1e8-1f1fb"},{n:["curaçao flag","flag-cw"],u:"1f1e8-1f1fc"},{n:["christmas island flag","flag-cx"],u:"1f1e8-1f1fd"},{n:["cyprus flag","flag-cy"],u:"1f1e8-1f1fe"},{n:["czechia flag","flag-cz"],u:"1f1e8-1f1ff"},{n:["germany flag","de","flag-de"],u:"1f1e9-1f1ea"},{n:["diego garcia flag","flag-dg"],u:"1f1e9-1f1ec"},{n:["djibouti flag","flag-dj"],u:"1f1e9-1f1ef"},{n:["denmark flag","flag-dk"],u:"1f1e9-1f1f0"},{n:["dominica flag","flag-dm"],u:"1f1e9-1f1f2"},{n:["dominican republic flag","flag-do"],u:"1f1e9-1f1f4"},{n:["algeria flag","flag-dz"],u:"1f1e9-1f1ff"},{n:["ceuta & melilla flag","flag-ea"],u:"1f1ea-1f1e6"},{n:["ecuador flag","flag-ec"],u:"1f1ea-1f1e8"},{n:["estonia flag","flag-ee"],u:"1f1ea-1f1ea"},{n:["egypt flag","flag-eg"],u:"1f1ea-1f1ec"},{n:["western sahara flag","flag-eh"],u:"1f1ea-1f1ed"},{n:["eritrea flag","flag-er"],u:"1f1ea-1f1f7"},{n:["spain flag","es","flag-es"],u:"1f1ea-1f1f8"},{n:["ethiopia flag","flag-et"],u:"1f1ea-1f1f9"},{n:["european union flag","flag-eu"],u:"1f1ea-1f1fa"},{n:["finland flag","flag-fi"],u:"1f1eb-1f1ee"},{n:["fiji flag","flag-fj"],u:"1f1eb-1f1ef"},{n:["falkland islands flag","flag-fk"],u:"1f1eb-1f1f0"},{n:["micronesia flag","flag-fm"],u:"1f1eb-1f1f2"},{n:["faroe islands flag","flag-fo"],u:"1f1eb-1f1f4"},{n:["france flag","fr","flag-fr"],u:"1f1eb-1f1f7"},{n:["gabon flag","flag-ga"],u:"1f1ec-1f1e6"},{n:["united kingdom flag","gb","uk","flag-gb"],u:"1f1ec-1f1e7"},{n:["grenada flag","flag-gd"],u:"1f1ec-1f1e9"},{n:["georgia flag","flag-ge"],u:"1f1ec-1f1ea"},{n:["french guiana flag","flag-gf"],u:"1f1ec-1f1eb"},{n:["guernsey flag","flag-gg"],u:"1f1ec-1f1ec"},{n:["ghana flag","flag-gh"],u:"1f1ec-1f1ed"},{n:["gibraltar flag","flag-gi"],u:"1f1ec-1f1ee"},{n:["greenland flag","flag-gl"],u:"1f1ec-1f1f1"},{n:["gambia flag","flag-gm"],u:"1f1ec-1f1f2"},{n:["guinea flag","flag-gn"],u:"1f1ec-1f1f3"},{n:["guadeloupe flag","flag-gp"],u:"1f1ec-1f1f5"},{n:["equatorial guinea flag","flag-gq"],u:"1f1ec-1f1f6"},{n:["greece flag","flag-gr"],u:"1f1ec-1f1f7"},{n:["south georgia & south sandwich islands flag","flag-gs"],u:"1f1ec-1f1f8"},{n:["guatemala flag","flag-gt"],u:"1f1ec-1f1f9"},{n:["guam flag","flag-gu"],u:"1f1ec-1f1fa"},{n:["guinea-bissau flag","flag-gw"],u:"1f1ec-1f1fc"},{n:["guyana flag","flag-gy"],u:"1f1ec-1f1fe"},{n:["hong kong sar china flag","flag-hk"],u:"1f1ed-1f1f0"},{n:["heard & mcdonald islands flag","flag-hm"],u:"1f1ed-1f1f2"},{n:["honduras flag","flag-hn"],u:"1f1ed-1f1f3"},{n:["croatia flag","flag-hr"],u:"1f1ed-1f1f7"},{n:["haiti flag","flag-ht"],u:"1f1ed-1f1f9"},{n:["hungary flag","flag-hu"],u:"1f1ed-1f1fa"},{n:["canary islands flag","flag-ic"],u:"1f1ee-1f1e8"},{n:["indonesia flag","flag-id"],u:"1f1ee-1f1e9"},{n:["ireland flag","flag-ie"],u:"1f1ee-1f1ea"},{n:["israel flag","flag-il"],u:"1f1ee-1f1f1"},{n:["isle of man flag","flag-im"],u:"1f1ee-1f1f2"},{n:["india flag","flag-in"],u:"1f1ee-1f1f3"},{n:["british indian ocean territory flag","flag-io"],u:"1f1ee-1f1f4"},{n:["iraq flag","flag-iq"],u:"1f1ee-1f1f6"},{n:["iran flag","flag-ir"],u:"1f1ee-1f1f7"},{n:["iceland flag","flag-is"],u:"1f1ee-1f1f8"},{n:["italy flag","it","flag-it"],u:"1f1ee-1f1f9"},{n:["jersey flag","flag-je"],u:"1f1ef-1f1ea"},{n:["jamaica flag","flag-jm"],u:"1f1ef-1f1f2"},{n:["jordan flag","flag-jo"],u:"1f1ef-1f1f4"},{n:["japan flag","jp","flag-jp"],u:"1f1ef-1f1f5"},{n:["kenya flag","flag-ke"],u:"1f1f0-1f1ea"},{n:["kyrgyzstan flag","flag-kg"],u:"1f1f0-1f1ec"},{n:["cambodia flag","flag-kh"],u:"1f1f0-1f1ed"},{n:["kiribati flag","flag-ki"],u:"1f1f0-1f1ee"},{n:["comoros flag","flag-km"],u:"1f1f0-1f1f2"},{n:["st. kitts & nevis flag","flag-kn"],u:"1f1f0-1f1f3"},{n:["north korea flag","flag-kp"],u:"1f1f0-1f1f5"},{n:["south korea flag","kr","flag-kr"],u:"1f1f0-1f1f7"},{n:["kuwait flag","flag-kw"],u:"1f1f0-1f1fc"},{n:["cayman islands flag","flag-ky"],u:"1f1f0-1f1fe"},{n:["kazakhstan flag","flag-kz"],u:"1f1f0-1f1ff"},{n:["laos flag","flag-la"],u:"1f1f1-1f1e6"},{n:["lebanon flag","flag-lb"],u:"1f1f1-1f1e7"},{n:["st. lucia flag","flag-lc"],u:"1f1f1-1f1e8"},{n:["liechtenstein flag","flag-li"],u:"1f1f1-1f1ee"},{n:["sri lanka flag","flag-lk"],u:"1f1f1-1f1f0"},{n:["liberia flag","flag-lr"],u:"1f1f1-1f1f7"},{n:["lesotho flag","flag-ls"],u:"1f1f1-1f1f8"},{n:["lithuania flag","flag-lt"],u:"1f1f1-1f1f9"},{n:["luxembourg flag","flag-lu"],u:"1f1f1-1f1fa"},{n:["latvia flag","flag-lv"],u:"1f1f1-1f1fb"},{n:["libya flag","flag-ly"],u:"1f1f1-1f1fe"},{n:["morocco flag","flag-ma"],u:"1f1f2-1f1e6"},{n:["monaco flag","flag-mc"],u:"1f1f2-1f1e8"},{n:["moldova flag","flag-md"],u:"1f1f2-1f1e9"},{n:["montenegro flag","flag-me"],u:"1f1f2-1f1ea"},{n:["st. martin flag","flag-mf"],u:"1f1f2-1f1eb"},{n:["madagascar flag","flag-mg"],u:"1f1f2-1f1ec"},{n:["marshall islands flag","flag-mh"],u:"1f1f2-1f1ed"},{n:["macedonia flag","flag-mk"],u:"1f1f2-1f1f0"},{n:["mali flag","flag-ml"],u:"1f1f2-1f1f1"},{n:["myanmar (burma) flag","flag-mm"],u:"1f1f2-1f1f2"},{n:["mongolia flag","flag-mn"],u:"1f1f2-1f1f3"},{n:["macau sar china flag","flag-mo"],u:"1f1f2-1f1f4"},{n:["northern mariana islands flag","flag-mp"],u:"1f1f2-1f1f5"},{n:["martinique flag","flag-mq"],u:"1f1f2-1f1f6"},{n:["mauritania flag","flag-mr"],u:"1f1f2-1f1f7"},{n:["montserrat flag","flag-ms"],u:"1f1f2-1f1f8"},{n:["malta flag","flag-mt"],u:"1f1f2-1f1f9"},{n:["mauritius flag","flag-mu"],u:"1f1f2-1f1fa"},{n:["maldives flag","flag-mv"],u:"1f1f2-1f1fb"},{n:["malawi flag","flag-mw"],u:"1f1f2-1f1fc"},{n:["mexico flag","flag-mx"],u:"1f1f2-1f1fd"},{n:["malaysia flag","flag-my"],u:"1f1f2-1f1fe"},{n:["mozambique flag","flag-mz"],u:"1f1f2-1f1ff"},{n:["namibia flag","flag-na"],u:"1f1f3-1f1e6"},{n:["new caledonia flag","flag-nc"],u:"1f1f3-1f1e8"},{n:["niger flag","flag-ne"],u:"1f1f3-1f1ea"},{n:["norfolk island flag","flag-nf"],u:"1f1f3-1f1eb"},{n:["nigeria flag","flag-ng"],u:"1f1f3-1f1ec"},{n:["nicaragua flag","flag-ni"],u:"1f1f3-1f1ee"},{n:["netherlands flag","flag-nl"],u:"1f1f3-1f1f1"},{n:["norway flag","flag-no"],u:"1f1f3-1f1f4"},{n:["nepal flag","flag-np"],u:"1f1f3-1f1f5"},{n:["nauru flag","flag-nr"],u:"1f1f3-1f1f7"},{n:["niue flag","flag-nu"],u:"1f1f3-1f1fa"},{n:["new zealand flag","flag-nz"],u:"1f1f3-1f1ff"},{n:["oman flag","flag-om"],u:"1f1f4-1f1f2"},{n:["panama flag","flag-pa"],u:"1f1f5-1f1e6"},{n:["peru flag","flag-pe"],u:"1f1f5-1f1ea"},{n:["french polynesia flag","flag-pf"],u:"1f1f5-1f1eb"},{n:["papua new guinea flag","flag-pg"],u:"1f1f5-1f1ec"},{n:["philippines flag","flag-ph"],u:"1f1f5-1f1ed"},{n:["pakistan flag","flag-pk"],u:"1f1f5-1f1f0"},{n:["poland flag","flag-pl"],u:"1f1f5-1f1f1"},{n:["st. pierre & miquelon flag","flag-pm"],u:"1f1f5-1f1f2"},{n:["pitcairn islands flag","flag-pn"],u:"1f1f5-1f1f3"},{n:["puerto rico flag","flag-pr"],u:"1f1f5-1f1f7"},{n:["palestinian territories flag","flag-ps"],u:"1f1f5-1f1f8"},{n:["portugal flag","flag-pt"],u:"1f1f5-1f1f9"},{n:["palau flag","flag-pw"],u:"1f1f5-1f1fc"},{n:["paraguay flag","flag-py"],u:"1f1f5-1f1fe"},{n:["qatar flag","flag-qa"],u:"1f1f6-1f1e6"},{n:["réunion flag","flag-re"],u:"1f1f7-1f1ea"},{n:["romania flag","flag-ro"],u:"1f1f7-1f1f4"},{n:["serbia flag","flag-rs"],u:"1f1f7-1f1f8"},{n:["russia flag","ru","flag-ru"],u:"1f1f7-1f1fa"},{n:["rwanda flag","flag-rw"],u:"1f1f7-1f1fc"},{n:["saudi arabia flag","flag-sa"],u:"1f1f8-1f1e6"},{n:["solomon islands flag","flag-sb"],u:"1f1f8-1f1e7"},{n:["seychelles flag","flag-sc"],u:"1f1f8-1f1e8"},{n:["sudan flag","flag-sd"],u:"1f1f8-1f1e9"},{n:["sweden flag","flag-se"],u:"1f1f8-1f1ea"},{n:["singapore flag","flag-sg"],u:"1f1f8-1f1ec"},{n:["st. helena flag","flag-sh"],u:"1f1f8-1f1ed"},{n:["slovenia flag","flag-si"],u:"1f1f8-1f1ee"},{n:["svalbard & jan mayen flag","flag-sj"],u:"1f1f8-1f1ef"},{n:["slovakia flag","flag-sk"],u:"1f1f8-1f1f0"},{n:["sierra leone flag","flag-sl"],u:"1f1f8-1f1f1"},{n:["san marino flag","flag-sm"],u:"1f1f8-1f1f2"},{n:["senegal flag","flag-sn"],u:"1f1f8-1f1f3"},{n:["somalia flag","flag-so"],u:"1f1f8-1f1f4"},{n:["suriname flag","flag-sr"],u:"1f1f8-1f1f7"},{n:["south sudan flag","flag-ss"],u:"1f1f8-1f1f8"},{n:["são tomé & príncipe flag","flag-st"],u:"1f1f8-1f1f9"},{n:["el salvador flag","flag-sv"],u:"1f1f8-1f1fb"},{n:["sint maarten flag","flag-sx"],u:"1f1f8-1f1fd"},{n:["syria flag","flag-sy"],u:"1f1f8-1f1fe"},{n:["swaziland flag","flag-sz"],u:"1f1f8-1f1ff"},{n:["tristan da cunha flag","flag-ta"],u:"1f1f9-1f1e6"},{n:["turks & caicos islands flag","flag-tc"],u:"1f1f9-1f1e8"},{n:["chad flag","flag-td"],u:"1f1f9-1f1e9"},{n:["french southern territories flag","flag-tf"],u:"1f1f9-1f1eb"},{n:["togo flag","flag-tg"],u:"1f1f9-1f1ec"},{n:["thailand flag","flag-th"],u:"1f1f9-1f1ed"},{n:["tajikistan flag","flag-tj"],u:"1f1f9-1f1ef"},{n:["tokelau flag","flag-tk"],u:"1f1f9-1f1f0"},{n:["timor-leste flag","flag-tl"],u:"1f1f9-1f1f1"},{n:["turkmenistan flag","flag-tm"],u:"1f1f9-1f1f2"},{n:["tunisia flag","flag-tn"],u:"1f1f9-1f1f3"},{n:["tonga flag","flag-to"],u:"1f1f9-1f1f4"},{n:["turkey flag","flag-tr"],u:"1f1f9-1f1f7"},{n:["trinidad & tobago flag","flag-tt"],u:"1f1f9-1f1f9"},{n:["tuvalu flag","flag-tv"],u:"1f1f9-1f1fb"},{n:["taiwan flag","flag-tw"],u:"1f1f9-1f1fc"},{n:["tanzania flag","flag-tz"],u:"1f1f9-1f1ff"},{n:["ukraine flag","flag-ua"],u:"1f1fa-1f1e6"},{n:["uganda flag","flag-ug"],u:"1f1fa-1f1ec"},{n:["u.s. outlying islands flag","flag-um"],u:"1f1fa-1f1f2"},{n:["united nations flag","flag-un"],u:"1f1fa-1f1f3"},{n:["united states flag","us","flag-us"],u:"1f1fa-1f1f8"},{n:["uruguay flag","flag-uy"],u:"1f1fa-1f1fe"},{n:["uzbekistan flag","flag-uz"],u:"1f1fa-1f1ff"},{n:["vatican city flag","flag-va"],u:"1f1fb-1f1e6"},{n:["st. vincent & grenadines flag","flag-vc"],u:"1f1fb-1f1e8"},{n:["venezuela flag","flag-ve"],u:"1f1fb-1f1ea"},{n:["british virgin islands flag","flag-vg"],u:"1f1fb-1f1ec"},{n:["u.s. virgin islands flag","flag-vi"],u:"1f1fb-1f1ee"},{n:["vietnam flag","flag-vn"],u:"1f1fb-1f1f3"},{n:["vanuatu flag","flag-vu"],u:"1f1fb-1f1fa"},{n:["wallis & futuna flag","flag-wf"],u:"1f1fc-1f1eb"},{n:["samoa flag","flag-ws"],u:"1f1fc-1f1f8"},{n:["kosovo flag","flag-xk"],u:"1f1fd-1f1f0"},{n:["yemen flag","flag-ye"],u:"1f1fe-1f1ea"},{n:["mayotte flag","flag-yt"],u:"1f1fe-1f1f9"},{n:["south africa flag","flag-za"],u:"1f1ff-1f1e6"},{n:["zambia flag","flag-zm"],u:"1f1ff-1f1f2"},{n:["zimbabwe flag","flag-zw"],u:"1f1ff-1f1fc"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}]},u5=[{key:"recent",title:"Recently Used",u:"1f551"},{key:"smileys_people",title:"Smiles & People",u:"1f600"},{key:"animals_nature",title:"Animals & Nature",u:"1F431"},{key:"food_drink",title:"Food & Drink",u:"2615"},{key:"activities",title:"Activities",u:"26BD"},{key:"travel_places",title:"Travel & Places",u:"1F697"},{key:"objects",title:"Objects",u:"1F4A1"},{key:"symbols",title:"Symbols",u:"1f4af"},{key:"flags",title:"Flags",u:"1f3f3-fe0f"}];const Tae=(t,e)=>e.some(n=>t instanceof n);let c5,d5;function Eae(){return c5||(c5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aae(){return d5||(d5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f5=new WeakMap,Ry=new WeakMap,h5=new WeakMap,By=new WeakMap,Py=new WeakMap;function xae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ao(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&f5.set(n,t)}).catch(()=>{}),Py.set(e,t),e}function Cae(t){if(Ry.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Ry.set(t,e)}let Fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wae(t){Fy=t(Fy)}function Sae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uy(this),e,...n);return h5.set(r,e.sort?e.sort():[e]),ao(r)}:Aae().includes(t)?function(...e){return t.apply(Uy(this),e),ao(f5.get(this))}:function(...e){return ao(t.apply(Uy(this),e))}}function kae(t){return typeof t=="function"?Sae(t):(t instanceof IDBTransaction&&Cae(t),Tae(t,Eae())?new Proxy(t,Fy):t)}function ao(t){if(t instanceof IDBRequest)return xae(t);if(By.has(t))return By.get(t);const e=kae(t);return e!==t&&(By.set(t,e),Py.set(e,t)),e}const Uy=t=>Py.get(t);function jy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ao(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ao(a.result),l.oldVersion,l.newVersion,ao(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const Iae=["get","getKey","getAll","getAllKeys","count"],Dae=["put","add","delete","clear"],Hy=new Map;function p5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hy.get(e))return Hy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Dae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Iae.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),i&&l.done]))[0]};return Hy.set(e,s),s}wae(t=>({...t,get:(e,n,r)=>p5(e,n)||t.get(e,n,r),has:(e,n)=>!!p5(e,n)||t.has(e,n)}));const zy="EMJ",lc="emojis",Vy=3;async function Nae(){(await jy(zy,Vy,{upgrade(e,n){e.objectStoreNames.contains(lc)||e.createObjectStore(lc,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})).close()}Nae();const Mae={native:!1,hideSearch:!0,hideGroupIcons:!1,hideGroupNames:!1,staticTexts:{},disabledGroups:[],groupNames:{},displayRecent:!1,additionalGroups:{},groupOrder:[],groupIcons:{}};async function Oae(){return await(await jy(zy,Vy)).transaction(lc,"readonly").objectStore(lc).getAll()}function Lae(){const t=u.reactive({search:"",emoji:gae,activeGroup:"",skinTone:T0,options:Mae,additionalGroups:{},recent:[],get emojis(){return{recent:this.recent,...this.options.additionalGroups,..._ae}},get disabled(){let c=Array.isArray(this.options.disabledGroups)?this.options.disabledGroups:[];return this.options.displayRecent||(c=["recent",...c]),c},get groups(){return u5.filter(c=>!this.disabled.includes(c.key))},get orderedGroupKeys(){const c=[...this.options.groupOrder,...Object.keys(this.options.additionalGroups),...u5.map(h=>h.key)];return[...new Set(c)].filter(h=>!this.disabled.includes(h))}});function e(){t.options.displayRecent&&r()}async function n(){var c;let h=await Oae();return Array.isArray(h)&&h.length?h=JSON.parse(((c=h[0])==null?void 0:c.value)||""):h=[],h}function r(){n().then(c=>{t.recent=c,d()})}const i=c=>{t.search=c},s=c=>{t.emoji=c},a=c=>{t.activeGroup=c},o=(c=T0)=>{t.skinTone=c},l=c=>{t.options=Object.assign({},t.options,c),e()};async function d(){(await jy(zy,Vy)).transaction(lc,"readwrite").objectStore(lc).put({id:0,value:JSON.stringify(t.recent)})}const f=c=>{if(t.options.displayRecent!==!0)return;const h=t.recent.findIndex(m=>m.u===c.u);if(h>0&&t.recent.splice(h,1),h===0)return;const p={u:c.u,n:u.toRaw(c.n)};t.recent=[p,...t.recent],t.recent.length>24&&(t.recent.length=24),d()};return{state:u.readonly(t),updateSearch:i,updateEmoji:s,updateActiveGroup:a,updateSkinTone:o,updateOptions:l,updateSelect:f}}var si="top",Fi="bottom",Ui="right",ai="left",Wy="auto",wf=[si,Fi,Ui,ai],uc="start",Sf="end",Rae="clippingParents",m5="viewport",kf="popper",Bae="reference",g5=wf.reduce(function(t,e){return t.concat([e+"-"+uc,e+"-"+Sf])},[]),b5=[].concat(wf,[Wy]).reduce(function(t,e){return t.concat([e,e+"-"+uc,e+"-"+Sf])},[]),Pae="beforeRead",Fae="read",Uae="afterRead",jae="beforeMain",Hae="main",zae="afterMain",Vae="beforeWrite",Wae="write",Gae="afterWrite",Yae=[Pae,Fae,Uae,jae,Hae,zae,Vae,Wae,Gae];function Vs(t){return t?(t.nodeName||"").toLowerCase():null}function ps(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function cc(t){var e=ps(t).Element;return t instanceof e||t instanceof Element}function ji(t){var e=ps(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function v5(t){if(typeof ShadowRoot>"u")return!1;var e=ps(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Qae(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ji(s)||!Vs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Kae(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=a.reduce(function(l,d){return l[d]="",l},{});!ji(i)||!Vs(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Xae={name:"applyStyles",enabled:!0,phase:"write",fn:Qae,effect:Kae,requires:["computeStyles"]};function Ws(t){return t.split("-")[0]}var fl=Math.max,E0=Math.min,dc=Math.round;function fc(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(ji(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(r=dc(n.width)/a||1),s>0&&(i=dc(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Gy(t){var e=fc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function y5(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&v5(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gs(t){return ps(t).getComputedStyle(t)}function Zae(t){return["table","td","th"].indexOf(Vs(t))>=0}function oo(t){return((cc(t)?t.ownerDocument:t.document)||window.document).documentElement}function A0(t){return Vs(t)==="html"?t:t.assignedSlot||t.parentNode||(v5(t)?t.host:null)||oo(t)}function _5(t){return!ji(t)||Gs(t).position==="fixed"?null:t.offsetParent}function Jae(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ji(t)){var r=Gs(t);if(r.position==="fixed")return null}for(var i=A0(t);ji(i)&&["html","body"].indexOf(Vs(i))<0;){var s=Gs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function If(t){for(var e=ps(t),n=_5(t);n&&Zae(n)&&Gs(n).position==="static";)n=_5(n);return n&&(Vs(n)==="html"||Vs(n)==="body"&&Gs(n).position==="static")?e:n||Jae(t)||e}function Yy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Df(t,e,n){return fl(t,E0(e,n))}function qae(t,e,n){var r=Df(t,e,n);return r>n?n:r}function T5(){return{top:0,right:0,bottom:0,left:0}}function E5(t){return Object.assign({},T5(),t)}function A5(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var $ae=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,E5(typeof e!="number"?e:A5(e,wf))};function eoe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Ws(n.placement),l=Yy(o),d=[ai,Ui].indexOf(o)>=0,f=d?"height":"width";if(!(!s||!a)){var c=$ae(i.padding,n),h=Gy(s),p=l==="y"?si:ai,m=l==="y"?Fi:Ui,g=n.rects.reference[f]+n.rects.reference[l]-a[l]-n.rects.popper[f],v=a[l]-n.rects.reference[l],y=If(s),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-v/2,I=c[p],k=x-h[f]-c[m],S=x/2-h[f]/2+w,B=Df(I,S,k),M=l;n.modifiersData[r]=(e={},e[M]=B,e.centerOffset=B-S,e)}}function toe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||y5(e.elements.popper,i)&&(e.elements.arrow=i))}var noe={name:"arrow",enabled:!0,phase:"main",fn:eoe,effect:toe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hc(t){return t.split("-")[1]}var roe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ioe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:dc(e*i)/i||0,y:dc(n*i)/i||0}}function x5(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,c=t.isFixed,h=f===!0?ioe(a):typeof f=="function"?f(a):a,p=h.x,m=p===void 0?0:p,g=h.y,v=g===void 0?0:g,y=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),w=ai,I=si,k=window;if(d){var S=If(n),B="clientHeight",M="clientWidth";if(S===ps(n)&&(S=oo(n),Gs(S).position!=="static"&&o==="absolute"&&(B="scrollHeight",M="scrollWidth")),S=S,i===si||(i===ai||i===Ui)&&s===Sf){I=Fi;var D=c&&k.visualViewport?k.visualViewport.height:S[B];v-=D-r.height,v*=l?1:-1}if(i===ai||(i===si||i===Fi)&&s===Sf){w=Ui;var L=c&&k.visualViewport?k.visualViewport.width:S[M];m-=L-r.width,m*=l?1:-1}}var z=Object.assign({position:o},d&&roe);if(l){var U;return Object.assign({},z,(U={},U[I]=x?"0":"",U[w]=y?"0":"",U.transform=(k.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",U))}return Object.assign({},z,(e={},e[I]=x?v+"px":"",e[w]=y?m+"px":"",e.transform="",e))}function soe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o,d={placement:Ws(e.placement),variation:hc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,x5(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,x5(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var aoe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:soe,data:{}},x0={passive:!0};function ooe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=ps(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",n.update,x0)}),o&&l.addEventListener("resize",n.update,x0),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",n.update,x0)}),o&&l.removeEventListener("resize",n.update,x0)}}var loe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ooe,data:{}},uoe={left:"right",right:"left",bottom:"top",top:"bottom"};function C0(t){return t.replace(/left|right|bottom|top/g,function(e){return uoe[e]})}var coe={start:"end",end:"start"};function C5(t){return t.replace(/start|end/g,function(e){return coe[e]})}function Qy(t){var e=ps(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ky(t){return fc(oo(t)).left+Qy(t).scrollLeft}function doe(t){var e=ps(t),n=oo(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,o=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,o=r.offsetTop)),{width:i,height:s,x:a+Ky(t),y:o}}function foe(t){var e,n=oo(t),r=Qy(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=fl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=fl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+Ky(t),l=-r.scrollTop;return Gs(i||n).direction==="rtl"&&(o+=fl(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function Xy(t){var e=Gs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function w5(t){return["html","body","#document"].indexOf(Vs(t))>=0?t.ownerDocument.body:ji(t)&&Xy(t)?t:w5(A0(t))}function Nf(t,e){var n;e===void 0&&(e=[]);var r=w5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=ps(r),a=i?[s].concat(s.visualViewport||[],Xy(r)?r:[]):r,o=e.concat(a);return i?o:o.concat(Nf(A0(a)))}function Zy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hoe(t){var e=fc(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function S5(t,e){return e===m5?Zy(doe(t)):cc(e)?hoe(e):Zy(foe(oo(t)))}function poe(t){var e=Nf(A0(t)),n=["absolute","fixed"].indexOf(Gs(t).position)>=0,r=n&&ji(t)?If(t):t;return cc(r)?e.filter(function(i){return cc(i)&&y5(i,r)&&Vs(i)!=="body"&&(n?Gs(i).position!=="static":!0)}):[]}function moe(t,e,n){var r=e==="clippingParents"?poe(t):[].concat(e),i=[].concat(r,[n]),s=i[0],a=i.reduce(function(o,l){var d=S5(t,l);return o.top=fl(d.top,o.top),o.right=E0(d.right,o.right),o.bottom=E0(d.bottom,o.bottom),o.left=fl(d.left,o.left),o},S5(t,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function k5(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ws(r):null,s=r?hc(r):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(i){case si:l={x:a,y:e.y-n.height};break;case Fi:l={x:a,y:e.y+e.height};break;case Ui:l={x:e.x+e.width,y:o};break;case ai:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var d=i?Yy(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case uc:l[d]=l[d]-(e[f]/2-n[f]/2);break;case Sf:l[d]=l[d]+(e[f]/2-n[f]/2);break}}return l}function Mf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,a=s===void 0?Rae:s,o=n.rootBoundary,l=o===void 0?m5:o,d=n.elementContext,f=d===void 0?kf:d,c=n.altBoundary,h=c===void 0?!1:c,p=n.padding,m=p===void 0?0:p,g=E5(typeof m!="number"?m:A5(m,wf)),v=f===kf?Bae:kf,y=t.rects.popper,x=t.elements[h?v:f],w=moe(cc(x)?x:x.contextElement||oo(t.elements.popper),a,l),I=fc(t.elements.reference),k=k5({reference:I,element:y,strategy:"absolute",placement:i}),S=Zy(Object.assign({},y,k)),B=f===kf?S:I,M={top:w.top-B.top+g.top,bottom:B.bottom-w.bottom+g.bottom,left:w.left-B.left+g.left,right:B.right-w.right+g.right},D=t.modifiersData.offset;if(f===kf&&D){var L=D[i];Object.keys(M).forEach(function(z){var U=[Ui,Fi].indexOf(z)>=0?1:-1,F=[si,Fi].indexOf(z)>=0?"y":"x";M[z]+=L[F]*U})}return M}function goe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,d=l===void 0?b5:l,f=hc(r),c=f?o?g5:g5.filter(function(m){return hc(m)===f}):wf,h=c.filter(function(m){return d.indexOf(m)>=0});h.length===0&&(h=c);var p=h.reduce(function(m,g){return m[g]=Mf(t,{placement:g,boundary:i,rootBoundary:s,padding:a})[Ws(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function boe(t){if(Ws(t)===Wy)return[];var e=C0(t);return[C5(t),e,C5(e)]}function voe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,d=n.padding,f=n.boundary,c=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,v=e.options.placement,y=Ws(v),x=y===v,w=l||(x||!m?[C0(v)]:boe(v)),I=[v].concat(w).reduce(function(X,Z){return X.concat(Ws(Z)===Wy?goe(e,{placement:Z,boundary:f,rootBoundary:c,padding:d,flipVariations:m,allowedAutoPlacements:g}):Z)},[]),k=e.rects.reference,S=e.rects.popper,B=new Map,M=!0,D=I[0],L=0;L<I.length;L++){var z=I[L],U=Ws(z),F=hc(z)===uc,H=[si,Fi].indexOf(U)>=0,K=H?"width":"height",P=Mf(e,{placement:z,boundary:f,rootBoundary:c,altBoundary:h,padding:d}),W=H?F?Ui:ai:F?Fi:si;k[K]>S[K]&&(W=C0(W));var ie=C0(W),Q=[];if(s&&Q.push(P[U]<=0),o&&Q.push(P[W]<=0,P[ie]<=0),Q.every(function(X){return X})){D=z,M=!1;break}B.set(z,Q)}if(M)for(var N=m?3:1,E=function(Z){var ce=I.find(function(re){var pe=B.get(re);if(pe)return pe.slice(0,Z).every(function(me){return me})});if(ce)return D=ce,"break"},j=N;j>0;j--){var G=E(j);if(G==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}var yoe={name:"flip",enabled:!0,phase:"main",fn:voe,requiresIfExists:["offset"],data:{_skip:!1}};function I5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function D5(t){return[si,Ui,Fi,ai].some(function(e){return t[e]>=0})}function _oe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Mf(e,{elementContext:"reference"}),o=Mf(e,{altBoundary:!0}),l=I5(a,r),d=I5(o,i,s),f=D5(l),c=D5(d);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}var Toe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_oe};function Eoe(t,e,n){var r=Ws(t),i=[ai,si].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[ai,Ui].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function Aoe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=b5.reduce(function(f,c){return f[c]=Eoe(c,e.rects,s),f},{}),o=a[e.placement],l=o.x,d=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}var xoe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Aoe};function Coe(t){var e=t.state,n=t.name;e.modifiersData[n]=k5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var woe={name:"popperOffsets",enabled:!0,phase:"read",fn:Coe,data:{}};function Soe(t){return t==="x"?"y":"x"}function koe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,c=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,v=Mf(e,{boundary:l,rootBoundary:d,padding:c,altBoundary:f}),y=Ws(e.placement),x=hc(e.placement),w=!x,I=Yy(y),k=Soe(I),S=e.modifiersData.popperOffsets,B=e.rects.reference,M=e.rects.popper,D=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,L=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(S){if(s){var F,H=I==="y"?si:ai,K=I==="y"?Fi:Ui,P=I==="y"?"height":"width",W=S[I],ie=W+v[H],Q=W-v[K],N=p?-M[P]/2:0,E=x===uc?B[P]:M[P],j=x===uc?-M[P]:-B[P],G=e.elements.arrow,X=p&&G?Gy(G):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:T5(),ce=Z[H],re=Z[K],pe=Df(0,B[P],X[P]),me=w?B[P]/2-N-pe-ce-L.mainAxis:E-pe-ce-L.mainAxis,de=w?-B[P]/2+N+pe+re+L.mainAxis:j+pe+re+L.mainAxis,Te=e.elements.arrow&&If(e.elements.arrow),Ae=Te?I==="y"?Te.clientTop||0:Te.clientLeft||0:0,Le=(F=z==null?void 0:z[I])!=null?F:0,ge=W+me-Le-Ae,Pe=W+de-Le,qe=Df(p?E0(ie,ge):ie,W,p?fl(Q,Pe):Q);S[I]=qe,U[I]=qe-W}if(o){var ue,ye=I==="x"?si:ai,Be=I==="x"?Fi:Ui,V=S[k],Y=k==="y"?"height":"width",he=V+v[ye],we=V-v[Be],Re=[si,ai].indexOf(y)!==-1,ze=(ue=z==null?void 0:z[k])!=null?ue:0,rt=Re?he:V-B[Y]-M[Y]-ze+L.altAxis,Ee=Re?V+B[Y]+M[Y]-ze-L.altAxis:we,Oe=p&&Re?qae(rt,V,Ee):Df(p?rt:he,V,p?Ee:we);S[k]=Oe,U[k]=Oe-V}e.modifiersData[r]=U}}var Ioe={name:"preventOverflow",enabled:!0,phase:"main",fn:koe,requiresIfExists:["offset"]};function Doe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Noe(t){return t===ps(t)||!ji(t)?Qy(t):Doe(t)}function Moe(t){var e=t.getBoundingClientRect(),n=dc(e.width)/t.offsetWidth||1,r=dc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Ooe(t,e,n){n===void 0&&(n=!1);var r=ji(e),i=ji(e)&&Moe(e),s=oo(e),a=fc(t,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Vs(e)!=="body"||Xy(s))&&(o=Noe(e)),ji(e)?(l=fc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Ky(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Loe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Roe(t){var e=Loe(t);return Yae.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Boe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Poe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var N5={placement:"bottom",modifiers:[],strategy:"absolute"};function M5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Foe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?N5:i;return function(o,l,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},N5,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},c=[],h=!1,p={state:f,setOptions:function(y){var x=typeof y=="function"?y(f.options):y;g(),f.options=Object.assign({},s,f.options,x),f.scrollParents={reference:cc(o)?Nf(o):o.contextElement?Nf(o.contextElement):[],popper:Nf(l)};var w=Roe(Poe([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(I){return I.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var y=f.elements,x=y.reference,w=y.popper;if(M5(x,w)){f.rects={reference:Ooe(x,If(w),f.options.strategy==="fixed"),popper:Gy(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(L){return f.modifiersData[L.name]=Object.assign({},L.data)});for(var I=0;I<f.orderedModifiers.length;I++){if(f.reset===!0){f.reset=!1,I=-1;continue}var k=f.orderedModifiers[I],S=k.fn,B=k.options,M=B===void 0?{}:B,D=k.name;typeof S=="function"&&(f=S({state:f,options:M,name:D,instance:p})||f)}}}},update:Boe(function(){return new Promise(function(v){p.forceUpdate(),v(f)})}),destroy:function(){g(),h=!0}};if(!M5(o,l))return p;p.setOptions(d).then(function(v){!h&&d.onFirstUpdate&&d.onFirstUpdate(v)});function m(){f.orderedModifiers.forEach(function(v){var y=v.name,x=v.options,w=x===void 0?{}:x,I=v.effect;if(typeof I=="function"){var k=I({state:f,name:y,instance:p,options:w}),S=function(){};c.push(k||S)}})}function g(){c.forEach(function(v){return v()}),c=[]}return p}}var Uoe=[loe,woe,aoe,Xae,xoe,yoe,Ioe,noe,Toe],joe=Foe({defaultModifiers:Uoe}),O5="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgOS4zODI4MTMgNCA0IDkuMzgyODEzIDQgMTYgQyA0IDIyLjYxNzE4OCA5LjM4MjgxMyAyOCAxNiAyOCBDIDIyLjYxNzE4OCAyOCAyOCAyMi42MTcxODggMjggMTYgQyAyOCA5LjM4MjgxMyAyMi42MTcxODggNCAxNiA0IFogTSAxNiA2IEMgMjEuNTM1MTU2IDYgMjYgMTAuNDY0ODQ0IDI2IDE2IEMgMjYgMjEuNTM1MTU2IDIxLjUzNTE1NiAyNiAxNiAyNiBDIDEwLjQ2NDg0NCAyNiA2IDIxLjUzNTE1NiA2IDE2IEMgNiAxMC40NjQ4NDQgMTAuNDY0ODQ0IDYgMTYgNiBaIE0gMTEuNSAxMiBDIDEwLjY3MTg3NSAxMiAxMCAxMi42NzE4NzUgMTAgMTMuNSBDIDEwIDE0LjMyODEyNSAxMC42NzE4NzUgMTUgMTEuNSAxNSBDIDEyLjMyODEyNSAxNSAxMyAxNC4zMjgxMjUgMTMgMTMuNSBDIDEzIDEyLjY3MTg3NSAxMi4zMjgxMjUgMTIgMTEuNSAxMiBaIE0gMjAuNSAxMiBDIDE5LjY3MTg3NSAxMiAxOSAxMi42NzE4NzUgMTkgMTMuNSBDIDE5IDE0LjMyODEyNSAxOS42NzE4NzUgMTUgMjAuNSAxNSBDIDIxLjMyODEyNSAxNSAyMiAxNC4zMjgxMjUgMjIgMTMuNSBDIDIyIDEyLjY3MTg3NSAyMS4zMjgxMjUgMTIgMjAuNSAxMiBaIE0gMTAuODEyNSAxOSBMIDkuMDkzNzUgMjAgQyAxMC40NzY1NjMgMjIuMzg2NzE5IDEzLjA0Njg3NSAyNCAxNiAyNCBDIDE4Ljk1MzEyNSAyNCAyMS41MjM0MzggMjIuMzg2NzE5IDIyLjkwNjI1IDIwIEwgMjEuMTg3NSAxOSBDIDIwLjE0ODQzOCAyMC43OTI5NjkgMTguMjI2NTYzIDIyIDE2IDIyIEMgMTMuNzczNDM4IDIyIDExLjg1MTU2MyAyMC43OTI5NjkgMTAuODEyNSAxOSBaIi8+PC9zdmc+";function w0(t){return t.split("-").map(e=>parseInt(e,16)).map(e=>String.fromCodePoint(e)).join("")}function Hoe(t,e,n,r=[]){const i={};return Object.keys(t).forEach(s=>{if(r.includes(s))return;const a=[];t[s].forEach(o=>{var l;if(o[y0][0].includes(e.toLocaleLowerCase())){let d=o[l5];if(n!==T0&&Array.isArray(o[_0])){const f=((l=o[_0])==null?void 0:l.findIndex(c=>c.includes(n)))||-1;f!==-1&&o[_0]&&(d=o[_0][f])}return a.push({...o,[Cf]:d})}}),a.length&&(i[s]=a)}),i}function L5(){var t;return(((t=navigator==null?void 0:navigator.userAgentData)==null?void 0:t.platform)||(navigator==null?void 0:navigator.platform)||"unknown").toUpperCase().indexOf("MAC")!==-1}function R5(t){return t.replace(/^_*(.)|_+(.)/g,(e,n,r)=>n?n.toUpperCase():" "+r.toUpperCase())}var Of=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const zoe=u.defineComponent({name:"Body",emits:{select:t=>!0},setup(){const{state:t,updateEmoji:e,updateSelect:n}=u.inject("store"),r=u.ref(null),i=u.computed(()=>Hoe(t.emojis,t.search,t.skinTone,t.options.disabledGroups)),s=u.getCurrentInstance(),a=u.computed(()=>!t.options.hideGroupNames),o=u.computed(()=>!t.options.disableStickyGroupNames),l=u.toRaw(t.options.groupNames),d=t.orderedGroupKeys;t.options.additionalGroups&&Object.keys(t.options.additionalGroups).map(m=>{t.options.groupNames[m]?l[m]=t.options.groupNames[m]:l[m]=R5(m)});const f=L5()?"is-mac":"";function c(m){e(m)}function h(m){n(m),s==null||s.emit("select",{...m,t:t.skinTone,i:w0(m.r)})}function p(m,g){var v;const y=(v=m==null?void 0:m.target)==null?void 0:v.closest("button");y&&(y.innerHTML=`<span>${w0(g)}</span>`)}return u.watch(()=>t.activeGroup,()=>{var m;const g=(m=r.value)==null?void 0:m.querySelector("#"+t.activeGroup);g&&(g.parentNode.scrollTop=g.offsetTop-g.parentNode.offsetTop)}),{emojis:i,bodyInner:r,EMOJI_REMOTE_SRC:a5,GROUP_NAMES:o5,handleClick:h,handleError:p,handleMouseEnter:c,native:t.options.native,unicodeToEmoji:w0,EMOJI_RESULT_KEY:Cf,EMOJI_NAME_KEY:y0,hasGroupNames:a,isSticky:o,platform:f,groupNames:l,orderedKeys:d}}}),Voe={class:"v3-body"},Woe=["id"],Goe={class:"v3-emojis"},Yoe=["onMouseenter","onClick"],Qoe={key:0},Koe=["src","alt","onError"],Xoe={key:1,class:"v3-no-result"};function Zoe(t,e,n,r,i,s){return u.openBlock(),u.createElementBlock("div",Voe,[u.createElementVNode("div",{ref:"bodyInner",class:u.normalizeClass([t.platform,"v3-body-inner"])},[t.orderedKeys.length?(u.openBlock(!0),u.createElementBlock(u.Fragment,{key:0},u.renderList(t.orderedKeys,a=>(u.openBlock(),u.createElementBlock("div",{id:a,key:a,class:"v3-group"},[t.hasGroupNames?u.withDirectives((u.openBlock(),u.createElementBlock("h5",{key:0,class:u.normalizeClass(t.isSticky?"v3-sticky":"")},u.toDisplayString(t.groupNames[a]),3)),[[u.vShow,t.emojis[a]]]):u.createCommentVNode("",!0),u.withDirectives(u.createElementVNode("div",Goe,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.emojis[a],o=>(u.openBlock(),u.createElementBlock("button",{key:o.r,type:"button",onMouseenter:l=>t.handleMouseEnter(o),onClick:l=>t.handleClick(o)},[t.native?(u.openBlock(),u.createElementBlock("span",Qoe,u.toDisplayString(t.unicodeToEmoji(o.r)),1)):(u.openBlock(),u.createElementBlock("img",{key:1,src:t.EMOJI_REMOTE_SRC+`/${o.r}.png`,alt:o.n[0],onError:l=>t.handleError(l,o.r)},null,40,Koe))],40,Yoe))),128))],512),[[u.vShow,t.emojis[a]]])],8,Woe))),128)):(u.openBlock(),u.createElementBlock("span",Xoe," No emoji has been found! "))],2)])}var Joe=Of(zoe,[["render",Zoe]]),qoe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMi41IDUgQyAxMS40Mjk2ODggNSAxMC41IDUuNjA5Mzc1IDkuOTA2MjUgNi40Mzc1IEMgOS4zMTI1IDcuMjY1NjI1IDkgOC4zMzk4NDQgOSA5LjUgQyA5IDEwLjY2MDE1NiA5LjMxMjUgMTEuNzM0Mzc1IDkuOTA2MjUgMTIuNTYyNSBDIDEwLjUgMTMuMzkwNjI1IDExLjQyOTY4OCAxNCAxMi41IDE0IEMgMTMuNTcwMzEzIDE0IDE0LjUgMTMuMzkwNjI1IDE1LjA5Mzc1IDEyLjU2MjUgQyAxNS42ODc1IDExLjczNDM3NSAxNiAxMC42NjAxNTYgMTYgOS41IEMgMTYgOC4zMzk4NDQgMTUuNjg3NSA3LjI2NTYyNSAxNS4wOTM3NSA2LjQzNzUgQyAxNC41IDUuNjA5Mzc1IDEzLjU3MDMxMyA1IDEyLjUgNSBaIE0gMTYgOS41IEMgMTYgMTAuNjYwMTU2IDE2LjMxMjUgMTEuNzM0Mzc1IDE2LjkwNjI1IDEyLjU2MjUgQyAxNy41IDEzLjM5MDYyNSAxOC40Mjk2ODggMTQgMTkuNSAxNCBDIDIwLjU3MDMxMyAxNCAyMS41IDEzLjM5MDYyNSAyMi4wOTM3NSAxMi41NjI1IEMgMjIuNjg3NSAxMS43MzQzNzUgMjMgMTAuNjYwMTU2IDIzIDkuNSBDIDIzIDguMzM5ODQ0IDIyLjY4NzUgNy4yNjU2MjUgMjIuMDkzNzUgNi40Mzc1IEMgMjEuNSA1LjYwOTM3NSAyMC41NzAzMTMgNSAxOS41IDUgQyAxOC40Mjk2ODggNSAxNy41IDUuNjA5Mzc1IDE2LjkwNjI1IDYuNDM3NSBDIDE2LjMxMjUgNy4yNjU2MjUgMTYgOC4zMzk4NDQgMTYgOS41IFogTSAxMi41IDcgQyAxMi44MTI1IDcgMTMuMTU2MjUgNy4xNTYyNSAxMy40Njg3NSA3LjU5Mzc1IEMgMTMuNzgxMjUgOC4wMzEyNSAxNCA4LjcyNjU2MyAxNCA5LjUgQyAxNCAxMC4yNzM0MzggMTMuNzgxMjUgMTAuOTY4NzUgMTMuNDY4NzUgMTEuNDA2MjUgQyAxMy4xNTYyNSAxMS44NDM3NSAxMi44MTI1IDEyIDEyLjUgMTIgQyAxMi4xODc1IDEyIDExLjg0Mzc1IDExLjg0Mzc1IDExLjUzMTI1IDExLjQwNjI1IEMgMTEuMjE4NzUgMTAuOTY4NzUgMTEgMTAuMjczNDM4IDExIDkuNSBDIDExIDguNzI2NTYzIDExLjIxODc1IDguMDMxMjUgMTEuNTMxMjUgNy41OTM3NSBDIDExLjg0Mzc1IDcuMTU2MjUgMTIuMTg3NSA3IDEyLjUgNyBaIE0gMTkuNSA3IEMgMTkuODEyNSA3IDIwLjE1NjI1IDcuMTU2MjUgMjAuNDY4NzUgNy41OTM3NSBDIDIwLjc4MTI1IDguMDMxMjUgMjEgOC43MjY1NjMgMjEgOS41IEMgMjEgMTAuMjczNDM4IDIwLjc4MTI1IDEwLjk2ODc1IDIwLjQ2ODc1IDExLjQwNjI1IEMgMjAuMTU2MjUgMTEuODQzNzUgMTkuODEyNSAxMiAxOS41IDEyIEMgMTkuMTg3NSAxMiAxOC44NDM3NSAxMS44NDM3NSAxOC41MzEyNSAxMS40MDYyNSBDIDE4LjIxODc1IDEwLjk2ODc1IDE4IDEwLjI3MzQzOCAxOCA5LjUgQyAxOCA4LjcyNjU2MyAxOC4yMTg3NSA4LjAzMTI1IDE4LjUzMTI1IDcuNTkzNzUgQyAxOC44NDM3NSA3LjE1NjI1IDE5LjE4NzUgNyAxOS41IDcgWiBNIDcuNSAxMiBDIDYuNDI5Njg4IDEyIDUuNSAxMi42MDkzNzUgNC45MDYyNSAxMy40Mzc1IEMgNC4zMTI1IDE0LjI2NTYyNSA0IDE1LjMzOTg0NCA0IDE2LjUgQyA0IDE3LjY2MDE1NiA0LjMxMjUgMTguNzM0Mzc1IDQuOTA2MjUgMTkuNTYyNSBDIDUuNSAyMC4zOTA2MjUgNi40Mjk2ODggMjEgNy41IDIxIEMgOC41NzAzMTMgMjEgOS41IDIwLjM5MDYyNSAxMC4wOTM3NSAxOS41NjI1IEMgMTAuNjg3NSAxOC43MzQzNzUgMTEgMTcuNjYwMTU2IDExIDE2LjUgQyAxMSAxNS4zMzk4NDQgMTAuNjg3NSAxNC4yNjU2MjUgMTAuMDkzNzUgMTMuNDM3NSBDIDkuNSAxMi42MDkzNzUgOC41NzAzMTMgMTIgNy41IDEyIFogTSAyNC41IDEyIEMgMjMuNDI5Njg4IDEyIDIyLjUgMTIuNjA5Mzc1IDIxLjkwNjI1IDEzLjQzNzUgQyAyMS4zMTI1IDE0LjI2NTYyNSAyMSAxNS4zMzk4NDQgMjEgMTYuNSBDIDIxIDE3LjY2MDE1NiAyMS4zMTI1IDE4LjczNDM3NSAyMS45MDYyNSAxOS41NjI1IEMgMjIuNSAyMC4zOTA2MjUgMjMuNDI5Njg4IDIxIDI0LjUgMjEgQyAyNS41NzAzMTMgMjEgMjYuNSAyMC4zOTA2MjUgMjcuMDkzNzUgMTkuNTYyNSBDIDI3LjY4NzUgMTguNzM0Mzc1IDI4IDE3LjY2MDE1NiAyOCAxNi41IEMgMjggMTUuMzM5ODQ0IDI3LjY4NzUgMTQuMjY1NjI1IDI3LjA5Mzc1IDEzLjQzNzUgQyAyNi41IDEyLjYwOTM3NSAyNS41NzAzMTMgMTIgMjQuNSAxMiBaIE0gNy41IDE0IEMgNy44MTI1IDE0IDguMTU2MjUgMTQuMTU2MjUgOC40Njg3NSAxNC41OTM3NSBDIDguNzgxMjUgMTUuMDMxMjUgOSAxNS43MjY1NjMgOSAxNi41IEMgOSAxNy4yNzM0MzggOC43ODEyNSAxNy45Njg3NSA4LjQ2ODc1IDE4LjQwNjI1IEMgOC4xNTYyNSAxOC44NDM3NSA3LjgxMjUgMTkgNy41IDE5IEMgNy4xODc1IDE5IDYuODQzNzUgMTguODQzNzUgNi41MzEyNSAxOC40MDYyNSBDIDYuMjE4NzUgMTcuOTY4NzUgNiAxNy4yNzM0MzggNiAxNi41IEMgNiAxNS43MjY1NjMgNi4yMTg3NSAxNS4wMzEyNSA2LjUzMTI1IDE0LjU5Mzc1IEMgNi44NDM3NSAxNC4xNTYyNSA3LjE4NzUgMTQgNy41IDE0IFogTSAyNC41IDE0IEMgMjQuODEyNSAxNCAyNS4xNTYyNSAxNC4xNTYyNSAyNS40Njg3NSAxNC41OTM3NSBDIDI1Ljc4MTI1IDE1LjAzMTI1IDI2IDE1LjcyNjU2MyAyNiAxNi41IEMgMjYgMTcuMjczNDM4IDI1Ljc4MTI1IDE3Ljk2ODc1IDI1LjQ2ODc1IDE4LjQwNjI1IEMgMjUuMTU2MjUgMTguODQzNzUgMjQuODEyNSAxOSAyNC41IDE5IEMgMjQuMTg3NSAxOSAyMy44NDM3NSAxOC44NDM3NSAyMy41MzEyNSAxOC40MDYyNSBDIDIzLjIxODc1IDE3Ljk2ODc1IDIzIDE3LjI3MzQzOCAyMyAxNi41IEMgMjMgMTUuNzI2NTYzIDIzLjIxODc1IDE1LjAzMTI1IDIzLjUzMTI1IDE0LjU5Mzc1IEMgMjMuODQzNzUgMTQuMTU2MjUgMjQuMTg3NSAxNCAyNC41IDE0IFogTSAxNiAxNiBDIDE0LjY2Nzk2OSAxNiAxMy43MzgyODEgMTYuODY3MTg4IDEzLjI4MTI1IDE3LjYyNSBDIDEyLjgyNDIxOSAxOC4zODI4MTMgMTIuNTQ2ODc1IDE5LjAxNTYyNSAxMi4yODEyNSAxOS4yODEyNSBDIDEyLjEyNSAxOS40Mzc1IDExLjE2MDE1NiAxOS44MDA3ODEgMTAuMTU2MjUgMjAuMzEyNSBDIDkuNjUyMzQ0IDIwLjU3MDMxMyA5LjE0NDUzMSAyMC45MTQwNjMgOC43MTg3NSAyMS40Mzc1IEMgOC4yOTI5NjkgMjEuOTYwOTM4IDggMjIuNjg3NSA4IDIzLjUgQyA4IDI1LjQyMTg3NSA5LjU3ODEyNSAyNyAxMS41IDI3IEMgMTIuMzY3MTg4IDI3IDEzLjI2OTUzMSAyNi43MjI2NTYgMTQuMTU2MjUgMjYuNDY4NzUgQyAxNS4wNDI5NjkgMjYuMjE0ODQ0IDE2IDI2IDE2IDI2IEMgMTYgMjYgMTYuOTU3MDMxIDI2LjIxNDg0NCAxNy44NDM3NSAyNi40Njg3NSBDIDE4LjczMDQ2OSAyNi43MjI2NTYgMTkuNjMyODEzIDI3IDIwLjUgMjcgQyAyMi40MjE4NzUgMjcgMjQgMjUuNDIxODc1IDI0IDIzLjUgQyAyNCAyMi43MDcwMzEgMjMuNzA3MDMxIDIxLjk4MDQ2OSAyMy4yODEyNSAyMS40Njg3NSBDIDIyLjg1NTQ2OSAyMC45NTcwMzEgMjIuMzQzNzUgMjAuNjQwNjI1IDIxLjg0Mzc1IDIwLjM3NSBDIDIwLjg0Mzc1IDE5Ljg0Mzc1IDE5Ljg1OTM3NSAxOS40MjE4NzUgMTkuNzE4NzUgMTkuMjgxMjUgQyAxOS40ODA0NjkgMTkuMDQyOTY5IDE5LjIxMDkzOCAxOC4zOTA2MjUgMTguNzUgMTcuNjI1IEMgMTguMjg5MDYzIDE2Ljg1OTM3NSAxNy4zMzk4NDQgMTYgMTYgMTYgWiBNIDE2IDE4IEMgMTYuNjYwMTU2IDE4IDE2LjczNDM3NSAxOC4xNjAxNTYgMTcuMDMxMjUgMTguNjU2MjUgQyAxNy4zMjgxMjUgMTkuMTUyMzQ0IDE3LjU1NDY4OCAxOS45OTIxODggMTguMjgxMjUgMjAuNzE4NzUgQyAxOS4xMDU0NjkgMjEuNTQyOTY5IDIwLjE0ODQzOCAyMS43MjI2NTYgMjAuOTA2MjUgMjIuMTI1IEMgMjEuMjg1MTU2IDIyLjMyODEyNSAyMS41NzgxMjUgMjIuNTQyOTY5IDIxLjc1IDIyLjc1IEMgMjEuOTIxODc1IDIyLjk1NzAzMSAyMiAyMy4xNDg0MzggMjIgMjMuNSBDIDIyIDI0LjMzOTg0NCAyMS4zMzk4NDQgMjUgMjAuNSAyNSBDIDIwLjIxMDkzOCAyNSAxOS4yNzczNDQgMjQuNzc3MzQ0IDE4LjQwNjI1IDI0LjUzMTI1IEMgMTcuNTM1MTU2IDI0LjI4NTE1NiAxNi44MTY0MDYgMjQgMTYgMjQgQyAxNS4xODM1OTQgMjQgMTQuNDY0ODQ0IDI0LjI4NTE1NiAxMy41OTM3NSAyNC41MzEyNSBDIDEyLjcyMjY1NiAyNC43NzczNDQgMTEuNzg5MDYzIDI1IDExLjUgMjUgQyAxMC42NjAxNTYgMjUgMTAgMjQuMzM5ODQ0IDEwIDIzLjUgQyAxMCAyMy4wOTc2NTYgMTAuMDgyMDMxIDIyLjg5MDYyNSAxMC4yNSAyMi42ODc1IEMgMTAuNDE3OTY5IDIyLjQ4NDM3NSAxMC43MjI2NTYgMjIuMjg1MTU2IDExLjA5Mzc1IDIyLjA5Mzc1IEMgMTEuODM5ODQ0IDIxLjcxNDg0NCAxMi44NzUgMjEuNTYyNSAxMy43MTg3NSAyMC43MTg3NSBDIDE0LjQ1MzEyNSAxOS45ODQzNzUgMTQuNjc1NzgxIDE5LjExNzE4OCAxNC45Njg3NSAxOC42MjUgQyAxNS4yNjE3MTkgMTguMTMyODEzIDE1LjMzMjAzMSAxOCAxNiAxOCBaIi8+PC9zdmc+",$oe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSAzIEwgMTEgNyBMIDEzIDcgTCAxMyAzIFogTSAxNSA0IEwgMTUgNyBMIDE3IDcgTCAxNyA0IFogTSA0Ljg3NSA4IEwgNSA5LjA5Mzc1IEwgNi44MTI1IDI2LjMxMjUgQyA2Ljk3MjY1NiAyNy44MzIwMzEgOC4yODUxNTYgMjkgOS44MTI1IDI5IEwgMTkuMTg3NSAyOSBDIDIwLjcxNDg0NCAyOSAyMi4wMjczNDQgMjcuODMyMDMxIDIyLjE4NzUgMjYuMzEyNSBMIDIyLjY1NjI1IDIyIEwgMjUgMjIgQyAyNi42NDQ1MzEgMjIgMjggMjAuNjQ0NTMxIDI4IDE5IEwgMjggMTYgQyAyOCAxNC4zNTU0NjkgMjYuNjQ0NTMxIDEzIDI1IDEzIEwgMjMuNTkzNzUgMTMgTCAyNCA5LjA5Mzc1IEwgMjQuMTI1IDggWiBNIDcuMTI1IDEwIEwgMjEuODc1IDEwIEwgMjAuMTg3NSAyNi4wOTM3NSBDIDIwLjEzMjgxMyAyNi42MTMyODEgMTkuNzA3MDMxIDI3IDE5LjE4NzUgMjcgTCA5LjgxMjUgMjcgQyA5LjI5Mjk2OSAyNyA4Ljg2NzE4OCAyNi42MTMyODEgOC44MTI1IDI2LjA5Mzc1IFogTSAyMy4zNzUgMTUgTCAyNSAxNSBDIDI1LjU2NjQwNiAxNSAyNiAxNS40MzM1OTQgMjYgMTYgTCAyNiAxOSBDIDI2IDE5LjU2NjQwNiAyNS41NjY0MDYgMjAgMjUgMjAgTCAyMi44NDM3NSAyMCBaIi8+PC9zdmc+",ele="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiAzIEMgOC44MzIwMzEgMyAzIDguODMyMDMxIDMgMTYgQyAzIDIzLjE2Nzk2OSA4LjgzMjAzMSAyOSAxNiAyOSBDIDIzLjE2Nzk2OSAyOSAyOSAyMy4xNjc5NjkgMjkgMTYgQyAyOSA4LjgzMjAzMSAyMy4xNjc5NjkgMyAxNiAzIFogTSAxNiA1IEMgMTYuNjAxNTYzIDUgMTcuMTc1NzgxIDUuMDYyNSAxNy43NSA1LjE1NjI1IEwgMTYgNi40MDYyNSBMIDE0LjI1IDUuMTU2MjUgQyAxNC44MjAzMTMgNS4wNjY0MDYgMTUuNDAyMzQ0IDUgMTYgNSBaIE0gMTEuODEyNSA1Ljg0Mzc1IEwgMTUuNDA2MjUgOC40Njg3NSBMIDE2IDguOTA2MjUgTCAxNi41OTM3NSA4LjQ2ODc1IEwgMjAuMTg3NSA1Ljg0Mzc1IEMgMjEuNzg1MTU2IDYuNTA3ODEzIDIzLjE5NTMxMyA3LjUyMzQzOCAyNC4zMTI1IDguODEyNSBMIDIyLjkzNzUgMTMuMDkzNzUgTCAyMi43MTg3NSAxMy43ODEyNSBMIDIzLjMxMjUgMTQuMTg3NSBMIDI2LjkzNzUgMTYuODQzNzUgQyAyNi44MDQ2ODggMTguNjA1NDY5IDI2LjI2NTYyNSAyMC4yNTc4MTMgMjUuNDA2MjUgMjEuNjg3NSBMIDIwLjEyNSAyMS42ODc1IEwgMTkuOTA2MjUgMjIuMzc1IEwgMTguNSAyNi43MTg3NSBDIDE3LjY5OTIxOSAyNi45MDYyNSAxNi44NTkzNzUgMjcgMTYgMjcgQyAxNS4xMDU0NjkgMjcgMTQuMjM4MjgxIDI2Ljg4NjcxOSAxMy40MDYyNSAyNi42ODc1IEwgMTIuMDMxMjUgMjIuNDA2MjUgTCAxMS44MTI1IDIxLjcxODc1IEwgNi41OTM3NSAyMS43MTg3NSBDIDUuNzE4NzUgMjAuMjgxMjUgNS4xOTkyMTkgMTguNjIxMDk0IDUuMDYyNSAxNi44NDM3NSBMIDguNjU2MjUgMTQuMjE4NzUgTCA5LjI1IDEzLjgxMjUgTCA5LjAzMTI1IDEzLjEyNSBMIDcuNjI1IDguODc1IEMgOC43NSA3LjU1NDY4OCAxMC4xODM1OTQgNi41MTU2MjUgMTEuODEyNSA1Ljg0Mzc1IFogTSAxNiAxMC4wOTM3NSBMIDE1LjQwNjI1IDEwLjUzMTI1IEwgMTAuODQzNzUgMTMuODQzNzUgTCAxMC4yODEyNSAxNC4yODEyNSBMIDEwLjUgMTQuOTY4NzUgTCAxMi4yNSAyMC4zMTI1IEwgMTIuNDY4NzUgMjEgTCAxOS41MzEyNSAyMSBMIDE5Ljc1IDIwLjMxMjUgTCAyMS41IDE0Ljk2ODc1IEwgMjEuNzE4NzUgMTQuMjgxMjUgTCAyMS4xNTYyNSAxMy44NDM3NSBMIDE2LjU5Mzc1IDEwLjUzMTI1IFogTSAyNS43NSAxMC45MDYyNSBDIDI2LjI5Njg3NSAxMS45NTMxMjUgMjYuNjU2MjUgMTMuMTAxNTYzIDI2Ljg0Mzc1IDE0LjMxMjUgTCAyNS4wNjI1IDEzLjAzMTI1IFogTSA2LjIxODc1IDEwLjk2ODc1IEwgNi45MDYyNSAxMy4wMzEyNSBMIDUuMTU2MjUgMTQuMzEyNSBDIDUuMzM5ODQ0IDEzLjEyNSA1LjY4NzUgMTIgNi4yMTg3NSAxMC45Njg3NSBaIE0gMTYgMTIuNTkzNzUgTCAxOS4zNzUgMTUuMDMxMjUgTCAxOC4wOTM3NSAxOSBMIDEzLjkwNjI1IDE5IEwgMTIuNjI1IDE1LjAzMTI1IFogTSAyMS41OTM3NSAyMy42ODc1IEwgMjMuODQzNzUgMjMuNjg3NSBDIDIyLjk5MjE4OCAyNC41NjY0MDYgMjIuMDExNzE5IDI1LjI5Mjk2OSAyMC45MDYyNSAyNS44NDM3NSBaIE0gOC4xNTYyNSAyMy43MTg3NSBMIDEwLjM0Mzc1IDIzLjcxODc1IEwgMTEuMDMxMjUgMjUuODEyNSBDIDkuOTYwOTM4IDI1LjI2OTUzMSA4Ljk4ODI4MSAyNC41NjI1IDguMTU2MjUgMjMuNzE4NzUgWiIvPjwvc3ZnPg==",tle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5LjUgNiBDIDguMTc5Njg4IDYgNy4wMDM5MDYgNi44NTkzNzUgNi42MjUgOC4xMjUgTCA1LjI1IDEyLjcxODc1IEwgMy4zMTI1IDEyLjA2MjUgTCAyLjY4NzUgMTMuOTM3NSBMIDQuNjU2MjUgMTQuNTkzNzUgTCA0LjAzMTI1IDE2LjcxODc1IEMgNC4wMDc4MTMgMTYuODA4NTk0IDMuOTk2MDk0IDE2LjkwNjI1IDQgMTcgTCA0IDI0IEMgNCAyNC4wMzEyNSA0IDI0LjA2MjUgNCAyNC4wOTM3NSBMIDQgMjUgQyA0IDI1LjU1MDc4MSA0LjQ0OTIxOSAyNiA1IDI2IEwgOCAyNiBMIDguMzQzNzUgMjUgTCAyMy42NTYyNSAyNSBMIDI0IDI2IEwgMjcgMjYgQyAyNy41NTA3ODEgMjYgMjggMjUuNTUwNzgxIDI4IDI1IEwgMjggMjQuMTU2MjUgQyAyOC4wMDM5MDYgMjQuMTA1NDY5IDI4LjAwMzkwNiAyNC4wNTA3ODEgMjggMjQgTCAyOCAxNyBDIDI4LjAwMzkwNiAxNi45MDYyNSAyNy45OTIxODggMTYuODA4NTk0IDI3Ljk2ODc1IDE2LjcxODc1IEwgMjcuMzQzNzUgMTQuNTkzNzUgTCAyOS4zMTI1IDEzLjkzNzUgTCAyOC42ODc1IDEyLjA2MjUgTCAyNi43NSAxMi43MTg3NSBMIDI1LjM3NSA4LjEyNSBDIDI0Ljk5NjA5NCA2Ljg1OTM3NSAyMy44MjAzMTMgNiAyMi41IDYgWiBNIDkuNSA4IEwgMjIuNSA4IEMgMjIuOTQ1MzEzIDggMjMuMzM5ODQ0IDguMjkyOTY5IDIzLjQ2ODc1IDguNzE4NzUgTCAyNC43NSAxMyBMIDcuMjUgMTMgTCA4LjUzMTI1IDguNzE4NzUgQyA4LjY2MDE1NiA4LjI4OTA2MyA5LjA1NDY4OCA4IDkuNSA4IFogTSA2LjY1NjI1IDE1IEwgMjUuMzQzNzUgMTUgTCAyNiAxNy4xODc1IEwgMjYgMjMgTCA2IDIzIEwgNiAxNy4xODc1IFogTSA4LjUgMTYgQyA3LjY3MTg3NSAxNiA3IDE2LjY3MTg3NSA3IDE3LjUgQyA3IDE4LjMyODEyNSA3LjY3MTg3NSAxOSA4LjUgMTkgQyA5LjMyODEyNSAxOSAxMCAxOC4zMjgxMjUgMTAgMTcuNSBDIDEwIDE2LjY3MTg3NSA5LjMyODEyNSAxNiA4LjUgMTYgWiBNIDIzLjUgMTYgQyAyMi42NzE4NzUgMTYgMjIgMTYuNjcxODc1IDIyIDE3LjUgQyAyMiAxOC4zMjgxMjUgMjIuNjcxODc1IDE5IDIzLjUgMTkgQyAyNC4zMjgxMjUgMTkgMjUgMTguMzI4MTI1IDI1IDE3LjUgQyAyNSAxNi42NzE4NzUgMjQuMzI4MTI1IDE2IDIzLjUgMTYgWiBNIDEyIDE5IEwgMTAuNzUgMjIgTCAxMi45MDYyNSAyMiBMIDEzLjM0Mzc1IDIxIEwgMTguNjU2MjUgMjEgTCAxOS4wOTM3NSAyMiBMIDIxLjI1IDIyIEwgMjAgMTkgWiIvPjwvc3ZnPg==",nle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuMDQyOTY5IDQgNyA4LjA0Mjk2OSA3IDEzIEMgNyAxNC45MTc5NjkgNy44NDM3NSAxNi45MDYyNSA5IDE4LjY4NzUgQyA5Ljg1OTM3NSAyMC4wMTE3MTkgMTAuODg2NzE5IDIxLjIzMDQ2OSAxMiAyMi4xNTYyNSBMIDEyIDI1IEMgMTIgMjYuMDkzNzUgMTIuOTA2MjUgMjcgMTQgMjcgTCAxNSAyOCBMIDE3IDI4IEwgMTggMjcgQyAxOS4wOTM3NSAyNyAyMCAyNi4wOTM3NSAyMCAyNSBMIDIwIDIyLjE1NjI1IEMgMjEuMTEzMjgxIDIxLjIzMDQ2OSAyMi4xNDA2MjUgMjAuMDExNzE5IDIzIDE4LjY4NzUgQyAyNC4xNTYyNSAxNi45MDYyNSAyNSAxNC45MTc5NjkgMjUgMTMgQyAyNSA4LjA0Mjk2OSAyMC45NTcwMzEgNCAxNiA0IFogTSAxNiA2IEMgMTkuODc4OTA2IDYgMjMgOS4xMjEwOTQgMjMgMTMgQyAyMyAxNC4zMDg1OTQgMjIuMzU1NDY5IDE2LjAzNTE1NiAyMS4zNDM3NSAxNy41OTM3NSBDIDIwLjQ0MTQwNiAxOC45ODQzNzUgMTkuMjUzOTA2IDIwLjIyMjY1NiAxOC4xNTYyNSAyMSBMIDEzLjg0Mzc1IDIxIEMgMTIuNzQ2MDk0IDIwLjIyMjY1NiAxMS41NTg1OTQgMTguOTg0Mzc1IDEwLjY1NjI1IDE3LjU5Mzc1IEMgOS42NDQ1MzEgMTYuMDM1MTU2IDkgMTQuMzA4NTk0IDkgMTMgQyA5IDkuMTIxMDk0IDEyLjEyMTA5NCA2IDE2IDYgWiBNIDE0LjI1IDIzIEwgMTcuNzUgMjMgQyAxNy44MjgxMjUgMjMuMDU0Njg4IDE3LjkxMDE1NiAyMy4wOTM3NSAxOCAyMy4xMjUgTCAxOCAyNSBMIDE0IDI1IEwgMTQgMjMuMTI1IEMgMTQuMDg5ODQ0IDIzLjA5Mzc1IDE0LjE3MTg3NSAyMy4wNTQ2ODggMTQuMjUgMjMgWiIvPjwvc3ZnPg==",rle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSA1IEwgMTEgMTEgTCA1IDExIEwgNSAxMyBMIDExIDEzIEwgMTEgMTkgTCA1IDE5IEwgNSAyMSBMIDExIDIxIEwgMTEgMjcgTCAxMyAyNyBMIDEzIDIxIEwgMTkgMjEgTCAxOSAyNyBMIDIxIDI3IEwgMjEgMjEgTCAyNyAyMSBMIDI3IDE5IEwgMjEgMTkgTCAyMSAxMyBMIDI3IDEzIEwgMjcgMTEgTCAyMSAxMSBMIDIxIDUgTCAxOSA1IEwgMTkgMTEgTCAxMyAxMSBMIDEzIDUgWiBNIDEzIDEzIEwgMTkgMTMgTCAxOSAxOSBMIDEzIDE5IFoiLz48L3N2Zz4=",ile="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5IDQgQyA3LjM0NiA0IDYgNS4zNDYgNiA3IEMgNiA4LjMwMTYwOTQgNi44Mzg3NDg2IDkuNDAyMTM5MSA4IDkuODE2NDA2MiBMIDggMTEuMzA0Njg4IEwgOCAyMy4yMDcwMzEgTCA4IDI3LjAyMzQzOCBDIDggMjcuNTYzNDM4IDguNDM2NTYyNSAyOCA4Ljk3NjU2MjUgMjggTCA5LjAyMzQzNzUgMjggQyA5LjU2MzQzNzUgMjggMTAgMjcuNTYzNDM3IDEwIDI3LjAyMzQzOCBMIDEwIDIyLjIyODUxNiBDIDEwLjMzNDcwNyAyMS44Mzk3NTYgMTEuMTM4NDIzIDIxLjA0Njg3NSAxMy40NDUzMTIgMjEuMDQ2ODc1IEMgMTQuNjY5MzEzIDIxLjA0Njg3NSAxNS42NzA0MjIgMjEuNDczNzgxIDE2LjczMjQyMiAyMS45MjU3ODEgQyAxNy43Njk0MjIgMjIuMzY3NzgxIDE4Ljg0MTg5MSAyMi44MjQyMTkgMjAuMDg3ODkxIDIyLjgyNDIxOSBDIDIyLjQ0Njg5MSAyMi44MjQyMTkgMjQuMDQ5Mzc1IDIxLjU4NDY4OCAyNC43MzQzNzUgMjEuMDU0Njg4IEwgMjQuODg2NzE5IDIwLjkzOTQ1MyBDIDI1LjQzNzcxOSAyMC41NDA0NTMgMjYgMTkuOTk2IDI2IDE5IEwgMjYgMTAuNjc1NzgxIEMgMjYgOS43Njc3ODEyIDI1LjIyMTgyOCA5IDI0LjI5ODgyOCA5IEMgMjMuODAzODI4IDkgMjMuNDQwNDA2IDkuMjg2NTkzNyAyMi45NDE0MDYgOS42ODM1OTM4IEMgMjIuMjc5NDA2IDEwLjIwNzU5NCAyMS4yODA4OTEgMTEgMjAuMDg3ODkxIDExIEMgMTkuMjcyODkxIDExIDE4LjQ3NzY4OCAxMC42MTk3MzQgMTcuNTU0Njg4IDEwLjE3NzczNCBDIDE2LjQwMzY4NyA5LjYyNTczNDQgMTUuMDk4MzU5IDkgMTMuNDQzMzU5IDkgQyAxMi4zMDgyNTcgOSAxMS40MjE2ODcgOS4xODgzMzkzIDEwLjcxMjg5MSA5LjQ1NzAzMTIgQyAxMS40ODkwNzEgOC45MTQxODI0IDEyIDguMDE2NzgwMiAxMiA3IEMgMTIgNS4zNDYgMTAuNjU0IDQgOSA0IHogTSA5IDYgQyA5LjU1MiA2IDEwIDYuNDQ5IDEwIDcgQyAxMCA3LjU1MSA5LjU1MiA4IDkgOCBDIDguNDQ4IDggOCA3LjU1MSA4IDcgQyA4IDYuNDQ5IDguNDQ4IDYgOSA2IHogTSAxMy40NDMzNTkgMTEgQyAxNC42NDUzNTkgMTEgMTUuNjM4NDA2IDExLjQ3NjQ2OSAxNi42OTE0MDYgMTEuOTgwNDY5IEMgMTcuNzM2NDA2IDEyLjQ4MjQ2OSAxOC44MTc4OTEgMTMgMjAuMDg3ODkxIDEzIEMgMjEuODQyODkxIDEzIDIzLjE1ODA0NyAxMi4wNTQ0ODQgMjMuOTk4MDQ3IDExLjM5NjQ4NCBMIDIzLjk5ODA0NyAxOS4wNjY0MDYgQyAyMy45OTcwNDcgMTkuMDcwNDA2IDIzLjk1Mjk4NCAxOS4xNDUyNjYgMjMuNzA4OTg0IDE5LjMyMjI2NiBMIDIzLjUwOTc2NiAxOS40NzQ2MDkgQyAyMi45NDI3NjYgMTkuOTEyNjA5IDIxLjc2Mjg5MSAyMC44MjQyMTkgMjAuMDg3ODkxIDIwLjgyNDIxOSBDIDE5LjI0OTg5MSAyMC44MjQyMTkgMTguNDQ2NjI1IDIwLjQ4MjkzNyAxNy41MTU2MjUgMjAuMDg1OTM4IEMgMTYuMzcyNjI1IDE5LjU5NzkzOCAxNS4wNzYzNTkgMTkuMDQ0OTIyIDEzLjQ0MzM1OSAxOS4wNDQ5MjIgQyAxMS44OTEzNTkgMTkuMDQ0OTIyIDEwLjc4NiAxOS4zNTggMTAgMTkuNzUgTCAxMCAxMi4zNjEzMjggQyAxMC4zNDUgMTEuOTA1MzI4IDExLjEzMjM1OSAxMSAxMy40NDMzNTkgMTEgeiIvPjwvc3ZnPg==",sle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuODMyMDMxIDQgOC4xNTIzNDQgNi4xMTMyODEgNiA5LjM0Mzc1IEwgNiA2IEwgNCA2IEwgNCAxMyBMIDExIDEzIEwgMTEgMTEgTCA3LjM3NSAxMSBDIDkuMTAxNTYzIDguMDE5NTMxIDEyLjI5Njg3NSA2IDE2IDYgQyAyMS41MzUxNTYgNiAyNiAxMC40NjQ4NDQgMjYgMTYgQyAyNiAyMS41MzUxNTYgMjEuNTM1MTU2IDI2IDE2IDI2IEMgMTAuNDY0ODQ0IDI2IDYgMjEuNTM1MTU2IDYgMTYgTCA0IDE2IEMgNCAyMi42MTcxODggOS4zODI4MTMgMjggMTYgMjggQyAyMi42MTcxODggMjggMjggMjIuNjE3MTg4IDI4IDE2IEMgMjggOS4zODI4MTMgMjIuNjE3MTg4IDQgMTYgNCBaIE0gMTUgOCBMIDE1IDE3IEwgMjIgMTcgTCAyMiAxNSBMIDE3IDE1IEwgMTcgOCBaIi8+PC9zdmc+Cg==";const ale=u.defineComponent({name:"Header",setup(t){const{state:e,updateSearch:n,updateActiveGroup:r}=u.inject("store"),i=u.computed(()=>!e.options.hideSearch),s=u.computed(()=>!e.options.hideGroupIcons),a=JSON.parse(JSON.stringify(e.orderedGroupKeys)),o=u.computed(()=>e.options.staticTexts.placeholder||""),l=u.computed({get:()=>e.search,set:c=>n(c)}),d=[...e.groups,...Object.keys(e.options.additionalGroups).map(c=>({key:c,title:e.options.groupNames[c]?e.options.groupNames[c]:R5(c)}))],f=[];return a.forEach(c=>{const h=d.findIndex(p=>p.key===c);h!==-1&&(f.push(d[h]),d.splice(h,1))}),{orderedGroups:f,orderedKeys:a,searchValue:l,updateActiveGroup:r,hasSearch:i,hasGroupIcons:s,placeholder:o,icons:{smileys_people:O5,animals_nature:qoe,food_drink:$oe,activities:ele,travel_places:tle,objects:nle,symbols:rle,flags:ile,...e.options.groupIcons,recent:sle}}}}),ole={key:0,class:"v3-header"},lle={key:0,class:"v3-groups"},ule=["onClick"],cle=["title"],dle=["src"],fle={key:1,class:"v3-spacing"},hle={key:2,class:"v3-search"},ple=["placeholder"];function mle(t,e,n,r,i,s){return t.hasGroupIcons||t.hasSearch?(u.openBlock(),u.createElementBlock("div",ole,[t.hasGroupIcons?(u.openBlock(),u.createElementBlock("div",lle,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.orderedGroups,a=>(u.openBlock(),u.createElementBlock("button",{key:a.key,type:"button",class:u.normalizeClass(["v3-group",{"v3-is-hidden":!t.icons[a.key]}]),onClick:o=>t.updateActiveGroup(a.key)},[u.createElementVNode("span",{title:a.title,class:"v3-icon"},[u.createElementVNode("img",{src:t.icons[a.key],alt:""},null,8,dle)],8,cle)],10,ule))),128))])):u.createCommentVNode("",!0),t.hasGroupIcons&&t.hasSearch?(u.openBlock(),u.createElementBlock("div",fle)):u.createCommentVNode("",!0),t.hasSearch?(u.openBlock(),u.createElementBlock("div",hle,[u.withDirectives(u.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.searchValue=a),type:"text",placeholder:t.placeholder},null,8,ple),[[u.vModelText,t.searchValue]])])):u.createCommentVNode("",!0)])):u.createCommentVNode("",!0)}var gle=Of(ale,[["render",mle]]);const ble=u.defineComponent({name:"Header",setup(){const{state:t,updateSkinTone:e}=u.inject("store"),n=u.ref(!1),r=u.ref(!1),i=u.computed(()=>t.skinTone),s=u.computed(()=>t.options.staticTexts.skinTone||"Skin tone"),a=u.computed(()=>!t.options.disableSkinTones),o=L5()?"is-mac":"",l=u.computed(()=>({...t.emoji,src:a5+"/"+t.emoji[Cf]+".png"}));function d(h=!0){n.value=h}function f(){n.value=!n.value}function c(h){e(h),d(!1)}return u.watch(()=>t.emoji,()=>{r.value=!1}),{emoji:l,SKIN_TONES:bae,updateSkinToneState:d,skinTone:n,stateSkinTone:i,selectSkinTone:c,toggleSkinToneState:f,EMOJI_RESULT_KEY:Cf,EMOJI_NAME_KEY:y0,skinToneText:s,hasSkinTones:a,native:t.options.native,unicodeToEmoji:w0,platform:o,hasError:r}}}),vle={class:"v3-foot-left"},yle={key:0},_le=["alt","src"],Tle={class:"v3-text"},Ele={class:"v3-text"},Ale=["onClick"];function xle(t,e,n,r,i,s){return u.openBlock(),u.createElementBlock("div",{class:"v3-footer",onMouseleave:e[2]||(e[2]=a=>t.updateSkinToneState(!1))},[u.createElementVNode("div",vle,[u.createElementVNode("span",{class:u.normalizeClass([t.platform,"v3-icon"])},[t.native||t.hasError?(u.openBlock(),u.createElementBlock("span",yle,u.toDisplayString(t.unicodeToEmoji(t.emoji.r)),1)):(u.openBlock(),u.createElementBlock("img",{key:1,alt:t.unicodeToEmoji(t.emoji.r),src:t.emoji.src,onError:e[0]||(e[0]=a=>t.hasError=!0)},null,40,_le))],2),u.createElementVNode("span",Tle," :"+u.toDisplayString(t.emoji[t.EMOJI_NAME_KEY][1]||t.emoji[t.EMOJI_NAME_KEY][0])+": ",1)]),t.hasSkinTones?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[u.createElementVNode("button",{type:"button",class:"v3-tone",onClick:e[1]||(e[1]=(...a)=>t.toggleSkinToneState&&t.toggleSkinToneState(...a))},[u.createElementVNode("span",Ele,u.toDisplayString(t.skinToneText),1),u.createElementVNode("span",{class:u.normalizeClass(`v3-icon v3-tone-${t.stateSkinTone}`)},null,2)]),u.createElementVNode("div",{class:u.normalizeClass([t.skinTone?"v3-is-open":"","v3-skin-tones"])},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.SKIN_TONES,a=>(u.openBlock(),u.createElementBlock("button",{key:a,type:"button",class:u.normalizeClass(["v3-skin-tone-"+a,"v3-skin-tone"]),onClick:o=>t.selectSkinTone(a)},null,10,Ale))),128))],2)],64)):u.createCommentVNode("",!0)],32)}var Cle=Of(ble,[["render",xle]]);const wle=u.defineComponent({name:"PickerRoot",components:{Header:gle,Body:Joe,Footer:Cle},props:{type:{type:String,default:""},text:{type:String,default:""},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},groupNames:{type:Object,default:()=>({})}},emits:{select:t=>!0,"update:text":t=>!0},setup(t,{emit:e}){const n=u.ref(),r=u.ref(),i=u.ref(),s=u.ref(!1),a=u.ref(t.text),o=t.type==="input"||t.type==="textarea";let l=-1;const{state:d}=u.inject("store"),f=u.computed(()=>d.options.colorTheme);function c(v){if(o){const y=d.options.mode;y==="prepend"?a.value=v.i+a.value:y==="insert"&&l!==-1?(a.value=`${a.value.slice(0,l)}${v.i}${a.value.slice(l)}`,l+=v.i.length):a.value+=v.i,e("update:text",a.value)}e("select",v)}function h(){var v;n.value&&(l=((v=n.value)==null?void 0:v.selectionEnd)||-1)}function p(v){var y;!((y=v.target)!=null&&y.closest(".v3-input-picker-wrap"))&&s.value&&(s.value=!1)}function m(){if(r.value&&i.value&&o){let v=d.options.offset;typeof v!="number"&&(v=6),joe(r.value,i.value,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,v]}}]}),document.body.addEventListener("click",p)}}function g(v){a.value=v.target.value||"",e("update:text",a.value)}return u.onMounted(()=>{m()}),u.onBeforeUnmount(()=>{document.body.removeEventListener("click",p)}),{face:O5,open:s,onSelect:c,input:a,elem:n,updateCursor:h,button:r,picker:i,isInputType:o,onChangeText:g,colorTheme:f}}}),Sle={key:0,class:"v3-input-emoji-picker"},kle={class:"v3-input-picker-root"},Ile=["value"],Dle=["value"],Nle=["src"];function Mle(t,e,n,r,i,s){const a=u.resolveComponent("Header"),o=u.resolveComponent("Body"),l=u.resolveComponent("Footer");return t.isInputType?(u.openBlock(),u.createElementBlock("div",Sle,[u.createElementVNode("div",kle,[t.type==="input"?(u.openBlock(),u.createElementBlock("input",{key:0,ref:"elem",value:t.input,type:"text",class:"v3-emoji-picker-input",onInput:e[0]||(e[0]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[1]||(e[1]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,Ile)):(u.openBlock(),u.createElementBlock("textarea",{key:1,ref:"elem",value:t.input,class:"v3-emoji-picker-textarea",onInput:e[2]||(e[2]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[3]||(e[3]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,Dle)),u.createElementVNode("div",{class:u.normalizeClass(["v3-input-picker-wrap",t.open?"v3-picker-is-open":""])},[u.createElementVNode("button",{ref:"button",type:"button",class:"v3-input-picker-icon",onClick:e[4]||(e[4]=d=>t.open=!t.open)},[u.createElementVNode("img",{src:t.face,alt:""},null,8,Nle)],512),u.createElementVNode("div",{ref:"picker",class:u.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[u.createVNode(a),u.createVNode(o,{onSelect:t.onSelect},null,8,["onSelect"]),u.createVNode(l)],2)],2)])])):(u.openBlock(),u.createElementBlock("div",{key:1,class:u.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[u.createVNode(a),u.createVNode(o,{onSelect:t.onSelect},null,8,["onSelect"]),u.createVNode(l)],2))}var Ole=Of(wle,[["render",Mle]]);const Lle=u.defineComponent({name:"Picker",components:{PickerRoot:Ole},props:{native:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1},hideGroupIcons:{type:Boolean,default:!1},hideGroupNames:{type:Boolean,default:!1},staticTexts:{type:Object,default:()=>({})},disableStickyGroupNames:{type:Boolean,default:!1},disabledGroups:{type:Array,default:()=>[]},groupNames:{type:Object,default:()=>({})},disableSkinTones:{type:Boolean,default:!1},text:{type:String,default:""},mode:{type:String,default:"insert"},offset:{type:Number,default:6},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},pickerType:{type:String,default:""},displayRecent:{type:Boolean,default:!1},theme:{type:String,default:"light"}},emits:{"update:text":t=>!0,select:t=>!0},setup(t,{emit:e}){const n=u.ref(t.text);function r(s){n.value=s||"",e("update:text",n.value)}const i=Lae();return i.updateOptions({native:t.native,hideSearch:t.hideSearch,hideGroupIcons:t.hideGroupIcons,hideGroupNames:t.hideGroupNames,staticTexts:{...vae,...t.staticTexts},disableStickyGroupNames:t.disableStickyGroupNames,disabledGroups:t.disabledGroups,groupNames:{...o5,...t.groupNames},disableSkinTones:t.disableSkinTones,displayRecent:t.displayRecent,additionalGroups:t.additionalGroups,mode:t.mode,offset:t.offset,groupOrder:t.groupOrder,groupIcons:t.groupIcons,colorTheme:yae.includes(t.theme)?t.theme:"light"}),u.provide("store",i),{type:t.pickerType,input:n,onChangeText:r}}});function Rle(t,e,n,r,i,s){const a=u.resolveComponent("picker-root");return u.openBlock(),u.createBlock(a,{type:t.type,text:t.input,onSelect:e[0]||(e[0]=o=>t.$emit("select",o)),"onUpdate:text":t.onChangeText},null,8,["type","text","onUpdate:text"])}var Ble=Of(Lle,[["render",Rle]]);/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function Lf(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{d(r.next(f))}catch(c){a(c)}}function l(f){try{d(r.throw(f))}catch(c){a(c)}}function d(f){f.done?s(f.value):i(f.value).then(o,l)}d((r=r.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Cn{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(n=>{e=n})}dispatch(e){return Lf(this,void 0,void 0,function*(){const n=yield this.lock();try{return yield Promise.resolve(e())}finally{n()}})}}var Jy;function Ple(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const qy=Ple(),$y=(Jy=qy.Buffer)!==null&&Jy!==void 0?Jy:null,Fle=qy.TextEncoder?new qy.TextEncoder:null;function B5(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function Ule(t,e){const n=e.length>>1;for(let r=0;r<n;r++){const i=r<<1;t[r]=B5(e.charCodeAt(i),e.charCodeAt(i+1))}}function jle(t,e){if(t.length!==e.length*2)return!1;for(let n=0;n<e.length;n++){const r=n<<1;if(e[n]!==B5(t.charCodeAt(r),t.charCodeAt(r+1)))return!1}return!0}const P5=87,F5=48;function U5(t,e,n){let r=0;for(let i=0;i<n;i++){let s=e[i]>>>4;t[r++]=s>9?s+P5:s+F5,s=e[i]&15,t[r++]=s>9?s+P5:s+F5}return String.fromCharCode.apply(null,t)}const j5=$y!==null?t=>{if(typeof t=="string"){const e=$y.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if($y.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return Fle.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},H5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rf=new Uint8Array(256);for(let t=0;t<H5.length;t++)Rf[H5.charCodeAt(t)]=t;function Hle(t){let e=Math.floor(t.length*.75);const n=t.length;return t[n-1]==="="&&(e-=1,t[n-2]==="="&&(e-=1)),e}function zle(t){const e=Hle(t),n=t.length,r=new Uint8Array(e);let i=0;for(let s=0;s<n;s+=4){const a=Rf[t.charCodeAt(s)],o=Rf[t.charCodeAt(s+1)],l=Rf[t.charCodeAt(s+2)],d=Rf[t.charCodeAt(s+3)];r[i]=a<<2|o>>4,i+=1,r[i]=(o&15)<<4|l>>2,i+=1,r[i]=(l&3)<<6|d&63,i+=1}return r}const S0=16*1024,Bf=4,Vle=new Cn,e_=new Map;function Wle(t,e){return Lf(this,void 0,void 0,function*(){let n=null,r=null,i=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const s=(S,B=0)=>{r.set(S,B)},a=()=>r,o=()=>n.exports,l=S=>{n.exports.Hash_SetMemorySize(S);const B=n.exports.Hash_GetBuffer(),M=n.exports.memory.buffer;r=new Uint8Array(M,B,S)},d=()=>new DataView(n.exports.memory.buffer).getUint32(n.exports.STATE_SIZE,!0),f=Vle.dispatch(()=>Lf(this,void 0,void 0,function*(){if(!e_.has(t.name)){const B=zle(t.data),M=WebAssembly.compile(B);e_.set(t.name,M)}const S=yield e_.get(t.name);n=yield WebAssembly.instantiate(S,{})})),c=()=>Lf(this,void 0,void 0,function*(){n||(yield f);const S=n.exports.Hash_GetBuffer(),B=n.exports.memory.buffer;r=new Uint8Array(B,S,S0)}),h=(S=null)=>{i=!0,n.exports.Hash_Init(S)},p=S=>{let B=0;for(;B<S.length;){const M=S.subarray(B,B+S0);B+=M.length,r.set(M),n.exports.Hash_Update(M.length)}},m=S=>{if(!i)throw new Error("update() called before init()");const B=j5(S);p(B)},g=new Uint8Array(e*2),v=(S,B=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,n.exports.Hash_Final(B),S==="binary"?r.slice(0,e):U5(g,r,e)},y=()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const S=n.exports.Hash_GetState(),B=d(),M=n.exports.memory.buffer,D=new Uint8Array(M,S,B),L=new Uint8Array(Bf+B);return Ule(L,t.hash),L.set(D,Bf),L},x=S=>{if(!(S instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const B=n.exports.Hash_GetState(),M=d(),D=Bf+M,L=n.exports.memory.buffer;if(S.length!==D)throw new Error(`Bad state length (expected ${D} bytes, got ${S.length})`);if(!jle(t.hash,S.subarray(0,Bf)))throw new Error("This state was written by an incompatible hash implementation");const z=S.subarray(Bf);new Uint8Array(L,B,M).set(z),i=!0},w=S=>typeof S=="string"?S.length<S0/4:S.byteLength<S0;let I=w;switch(t.name){case"argon2":case"scrypt":I=()=>!0;break;case"blake2b":case"blake2s":I=(S,B)=>B<=512&&w(S);break;case"blake3":I=(S,B)=>B===0&&w(S);break;case"xxhash64":case"xxhash3":case"xxhash128":I=()=>!1;break}const k=(S,B=null,M=null)=>{if(!I(S,B))return h(B),m(S),v("hex",M);const D=j5(S);return r.set(D),n.exports.Hash_Calculate(D.length,B,M),U5(g,r,e)};return yield c(),{getMemory:a,writeMemory:s,getExports:o,setMemorySize:l,init:h,update:m,digest:v,save:y,load:x,calculate:k,hashLength:e}})}function Gle(t,e,n){return Lf(this,void 0,void 0,function*(){const r=yield t.lock(),i=yield Wle(e,n);return r(),i})}new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn;var Yle="sha1",Qle="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwkIAAECAwECAAEFBAEBAgIGDgJ/AUHgiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUABApIYXNoX0ZpbmFsAAUNSGFzaF9HZXRTdGF0ZQAGDkhhc2hfQ2FsY3VsYXRlAAcKU1RBVEVfU0laRQMBCpoqCAUAQYAJC68iCgF+An8BfgF/AX4DfwF+AX8Bfkd/QQAgACkDECIBQiCIpyICQRh0IAJBgP4DcUEIdHIgAUIoiKdBgP4DcSABQjiIp3JyIgMgACkDCCIEQiCIpyICQRh0IAJBgP4DcUEIdHIgBEIoiKdBgP4DcSAEQjiIp3JyIgVzIAApAygiBkIgiKciAkEYdCACQYD+A3FBCHRyIAZCKIinQYD+A3EgBkI4iKdyciIHcyAEpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciIIIAApAwAiBKciAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCXMgACkDICIKpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciILcyAAKQMwIgxCIIinIgJBGHQgAkGA/gNxQQh0ciAMQiiIp0GA/gNxIAxCOIincnIiAnNBAXciDXNBAXciDiAFIARCIIinIg9BGHQgD0GA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiEHMgCkIgiKciD0EYdCAPQYD+A3FBCHRyIApCKIinQYD+A3EgCkI4iKdyciIRcyAAKQM4IgSnIg9BGHQgD0GA/gNxQQh0ciAPQQh2QYD+A3EgD0EYdnJyIg9zQQF3IhJzIAcgEXMgEnMgCyAAKQMYIgqnIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyIhNzIA9zIA5zQQF3IgBzQQF3IhRzIA0gD3MgAHMgAiAHcyAOcyAGpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIWIAtzIA1zIApCIIinIhVBGHQgFUGA/gNxQQh0ciAKQiiIp0GA/gNxIApCOIincnIiFyADcyACcyABpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIYIAhzIBZzIARCIIinIhVBGHQgFUGA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiFXNBAXciGXNBAXciGnNBAXciG3NBAXciHHNBAXciHXNBAXciHiASIBVzIBEgF3MgFXMgEyAYcyAMpyIfQRh0IB9BgP4DcUEIdHIgH0EIdkGA/gNxIB9BGHZyciIgcyASc0EBdyIfc0EBdyIhcyAPICBzIB9zIBRzQQF3IiJzQQF3IiNzIBQgIXMgI3MgACAfcyAicyAec0EBdyIkc0EBdyIlcyAdICJzICRzIBwgFHMgHnMgGyAAcyAdcyAaIA5zIBxzIBkgDXMgG3MgFSACcyAacyAgIBZzIBlzICFzQQF3IiZzQQF3IidzQQF3IihzQQF3IilzQQF3IipzQQF3IitzQQF3IixzQQF3Ii0gIyAncyAhIBpzICdzIB8gGXMgJnMgI3NBAXciLnNBAXciL3MgIiAmcyAucyAlc0EBdyIwc0EBdyIxcyAlIC9zIDFzICQgLnMgMHMgLXNBAXciMnNBAXciM3MgLCAwcyAycyArICVzIC1zICogJHMgLHMgKSAecyArcyAoIB1zICpzICcgHHMgKXMgJiAbcyAocyAvc0EBdyI0c0EBdyI1c0EBdyI2c0EBdyI3c0EBdyI4c0EBdyI5c0EBdyI6c0EBdyI7IDEgNXMgLyApcyA1cyAuIChzIDRzIDFzQQF3IjxzQQF3Ij1zIDAgNHMgPHMgM3NBAXciPnNBAXciP3MgMyA9cyA/cyAyIDxzID5zIDtzQQF3IkBzQQF3IkFzIDogPnMgQHMgOSAzcyA7cyA4IDJzIDpzIDcgLXMgOXMgNiAscyA4cyA1ICtzIDdzIDQgKnMgNnMgPXNBAXciQnNBAXciQ3NBAXciRHNBAXciRXNBAXciRnNBAXciR3NBAXciSHNBAXciSSA+IEJzIDwgNnMgQnMgP3NBAXciSnMgQXNBAXciSyA9IDdzIENzIEpzQQF3IkwgRCA5IDIgMSA0ICkgHSAUIB8gFSAWQQAoAoCJASJNQQV3QQAoApCJASJOaiAJakEAKAKMiQEiT0EAKAKIiQEiCXNBACgChIkBIlBxIE9zakGZ84nUBWoiUUEedyJSIANqIFBBHnciAyAFaiBPIAMgCXMgTXEgCXNqIBBqIFFBBXdqQZnzidQFaiIQIFIgTUEedyIFc3EgBXNqIAkgCGogUSADIAVzcSADc2ogEEEFd2pBmfOJ1AVqIlFBBXdqQZnzidQFaiJTIFFBHnciAyAQQR53IghzcSAIc2ogBSAYaiBRIAggUnNxIFJzaiBTQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhhBHnciUmogU0EedyIWIAtqIAggE2ogBSAWIANzcSADc2ogGEEFd2pBmfOJ1AVqIgggUiAFQR53IgtzcSALc2ogAyAXaiAYIAsgFnNxIBZzaiAIQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhMgBUEedyIWIAhBHnciA3NxIANzaiALIBFqIAUgAyBSc3EgUnNqIBNBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiUkEedyILaiACIBNBHnciFWogByADaiARIBUgFnNxIBZzaiBSQQV3akGZ84nUBWoiByALIBFBHnciAnNxIAJzaiAgIBZqIFIgAiAVc3EgFXNqIAdBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiFiARQR53IhUgB0EedyIHc3EgB3NqIA8gAmogESAHIAtzcSALc2ogFkEFd2pBmfOJ1AVqIgtBBXdqQZnzidQFaiIRQR53IgJqIBIgFWogESALQR53Ig8gFkEedyISc3EgEnNqIA0gB2ogCyASIBVzcSAVc2ogEUEFd2pBmfOJ1AVqIg1BBXdqQZnzidQFaiIVQR53Ih8gDUEedyIHcyAZIBJqIA0gAiAPc3EgD3NqIBVBBXdqQZnzidQFaiINc2ogDiAPaiAVIAcgAnNxIAJzaiANQQV3akGZ84nUBWoiAkEFd2pBodfn9gZqIg5BHnciD2ogACAfaiACQR53IgAgDUEedyINcyAOc2ogGiAHaiANIB9zIAJzaiAOQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg5BHnciEiACQR53IhRzICEgDWogDyAAcyACc2ogDkEFd2pBodfn9gZqIgJzaiAbIABqIBQgD3MgDnNqIAJBBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyIOaiAcIBJqIABBHnciDyACQR53IgJzIA1zaiAmIBRqIAIgEnMgAHNqIA1BBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyISIABBHnciFHMgIiACaiAOIA9zIABzaiANQQV3akGh1+f2BmoiAHNqICcgD2ogFCAOcyANc2ogAEEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53Ig5qICggEmogAkEedyIPIABBHnciAHMgDXNqICMgFGogACAScyACc2ogDUEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53IhIgAkEedyIUcyAeIABqIA4gD3MgAnNqIA1BBXdqQaHX5/YGaiIAc2ogLiAPaiAUIA5zIA1zaiAAQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg1BHnciDmogKiAAQR53IgBqIA4gAkEedyIPcyAkIBRqIAAgEnMgAnNqIA1BBXdqQaHX5/YGaiIUc2ogLyASaiAPIABzIA1zaiAUQQV3akGh1+f2BmoiDUEFd2pBodfn9gZqIgAgDUEedyICciAUQR53IhJxIAAgAnFyaiAlIA9qIBIgDnMgDXNqIABBBXdqQaHX5/YGaiINQQV3akHc+e74eGoiDkEedyIPaiA1IABBHnciAGogKyASaiANIAByIAJxIA0gAHFyaiAOQQV3akHc+e74eGoiEiAPciANQR53Ig1xIBIgD3FyaiAwIAJqIA4gDXIgAHEgDiANcXJqIBJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAiAAQR53Ig5yIBJBHnciEnEgAiAOcXJqICwgDWogACASciAPcSAAIBJxcmogAkEFd2pB3Pnu+HhqIgBBBXdqQdz57vh4aiINQR53Ig9qIDwgAkEedyICaiA2IBJqIAAgAnIgDnEgACACcXJqIA1BBXdqQdz57vh4aiISIA9yIABBHnciAHEgEiAPcXJqIC0gDmogDSAAciACcSANIABxcmogEkEFd2pB3Pnu+HhqIgJBBXdqQdz57vh4aiINIAJBHnciDnIgEkEedyIScSANIA5xcmogNyAAaiACIBJyIA9xIAIgEnFyaiANQQV3akHc+e74eGoiAEEFd2pB3Pnu+HhqIgJBHnciD2ogMyANQR53Ig1qID0gEmogACANciAOcSAAIA1xcmogAkEFd2pB3Pnu+HhqIhIgD3IgAEEedyIAcSASIA9xcmogOCAOaiACIAByIA1xIAIgAHFyaiASQQV3akHc+e74eGoiAkEFd2pB3Pnu+HhqIg0gAkEedyIOciASQR53IhJxIA0gDnFyaiBCIABqIAIgEnIgD3EgAiAScXJqIA1BBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyIPaiBDIA5qIAIgAEEedyIUciANQR53Ig1xIAIgFHFyaiA+IBJqIAAgDXIgDnEgACANcXJqIAJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyISIABBHnciDnMgOiANaiAAIA9yIBRxIAAgD3FyaiACQQV3akHc+e74eGoiAHNqID8gFGogAiAOciAPcSACIA5xcmogAEEFd2pB3Pnu+HhqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEogEmogAkEedyIUIABBHnciAHMgDXNqIDsgDmogACAScyACc2ogDUEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig4gAkEedyIScyBFIABqIA8gFHMgAnNqIA1BBXdqQdaDi9N8aiIAc2ogQCAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciD2ogQSAOaiACQR53IhQgAEEedyIAcyANc2ogRiASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzIEIgOHMgRHMgTHNBAXciFSAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEcgFGogEiAPcyANc2ogAEEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEggDmogAkEedyIUIABBHnciAHMgDXNqIEMgOXMgRXMgFXNBAXciGSASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzID8gQ3MgTHMgS3NBAXciGiAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEQgOnMgRnMgGXNBAXciGyAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDyBOajYCkIkBQQAgTyBKIERzIBVzIBpzQQF3IhQgEmogAEEedyIAIA5zIAJzaiANQQV3akHWg4vTfGoiEkEedyIVajYCjIkBQQAgCSBFIDtzIEdzIBtzQQF3IA5qIAJBHnciAiAAcyANc2ogEkEFd2pB1oOL03xqIg1BHndqNgKIiQFBACBQIEAgSnMgS3MgSXNBAXcgAGogDyACcyASc2ogDUEFd2pB1oOL03xqIgBqNgKEiQFBACBNIEwgRXMgGXMgFHNBAXdqIAJqIBUgD3MgDXNqIABBBXdqQdaDi9N8ajYCgIkBCzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqAMBCH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQBBACgCmIkBIAQgA0lqIAFBHXZqNgKYiQECQCADQQN2QT9xIgUgAWpBwABJDQBBwAAgBWsiAkEDcSEGQQAhAwJAIAVBP3NBA0kNACAFQYCJAWohByACQfwAcSEIQQAhAwNAIAcgA2oiBEEcaiAAIANqIgktAAA6AAAgBEEdaiAJQQFqLQAAOgAAIARBHmogCUECai0AADoAACAEQR9qIAlBA2otAAA6AAAgCCADQQRqIgNHDQALCwJAIAZFDQAgACADaiEEIAMgBWpBnIkBaiEDA0AgAyAELQAAOgAAIARBAWohBCADQQFqIQMgBkF/aiIGDQALC0GciQEQASAFQf8AcyEDQQAhBSADIAFPDQADQCAAIAJqEAEgAkH/AGohAyACQcAAaiIEIQIgAyABSQ0ACyAEIQILAkAgASACRg0AIAEgAmshCSAAIAJqIQIgBUGciQFqIQNBACEEA0AgAyACLQAAOgAAIAJBAWohAiADQQFqIQMgCSAEQQFqIgRB/wFxSw0ACwsLCQBBgAkgABADC6YDAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAggAEEAKAKUiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAwgAEEHakEBEAMCQEEAKAKUiQFB+ANxQcADRg0AA0AgAEEAOgAHIABBB2pBARADQQAoApSJAUH4A3FBwANHDQALCyAAQQhqQQgQA0EAQQAoAoCJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AoQJQQBBACgCiIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKICUEAQQAoAoyJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2ApAJIABBEGokAAsGAEGAiQELQwBBAEL+uevF6Y6VmRA3AoiJAUEAQoHGlLqW8ermbzcCgIkBQQBC8MPLngw3ApCJAUEAQQA2ApiJAUGACSAAEAMQBQsLCwEAQYAICwRcAAAA",Kle="6b530c24",Xle={name:Yle,data:Qle,hash:Kle};const Zle=new Cn;let k0=null;function t_(t){if(k0===null)return Gle(Zle,Xle,20).then(e=>(k0=e,k0.calculate(t)));try{const e=k0.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn,new Cn;const n_=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=new Image;i.src=r.result,i.onload=async()=>{e({id:await t_(i.src),width:i.width,height:i.height,thumbnailUrl:i.src,originalUrl:i.src})},i.onerror=()=>n},r.onerror=()=>{n(r.error)},r.readAsDataURL(t)}),Jle=t=>new Promise((e,n)=>{const r=document.createElement("canvas"),i=r.getContext("2d");if(!i){n(new Error("Could not get canvas context"));return}const s=document.createElement("video");s.src=URL.createObjectURL(t),s.autoplay=!0,s.onloadedmetadata=()=>{r.width=s.videoWidth,r.height=s.videoHeight},s.onloadeddata=()=>{i.drawImage(s,0,0,r.width,r.height),r.toBlob(async a=>{if(!a){n(new Error("Could not create blob"));return}const o=new File([a],"snapshot.jpg",{type:"image/jpeg"}),l=new FileReader;l.readAsDataURL(a),l.onloadend=async()=>{e({id:await t_(s.src),width:r.width,height:r.height,duration:s.duration,thumbnailUrl:l.result,originalUrl:"",thumbnailFile:{id:await t_(r.toDataURL()),file:o}})}},"image/jpeg")},s.onerror=()=>n}),I0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSElEQVR4nO1azW9bRRBfia8jggKlfPSAACFF4f8AKkQ/0lYFxAFw6lnHeMYNCRdmbJqkEtAol6KKK4iqd+DAAYFEKyq+BEJUcKINLVAqoCQF0jageXYav33P4a3f87Mj/JNWSuzd2R3v7MxvdtaYAQYYYIAB/qew43wHVOVJIJkFlPct8Ukg+dWS/KMNSH4HlG+A5D2LfLBEsqtQ2b/JrCdYO73BEpNF/sQSL68ol7QByhWL8pElea4wceBG068Yxf13WuRDFuVPXyXXaH9YkrlyeWqj6Rcw8/UWWYD4YoaKhhvyBSCeLBQOX9dTZS3Wh4H4y/aL5ctAfMyiTBWrvA0q9aHi5MxNunBt+nfwWZW3aR8gOR6YdHvFT1ji+3uibIlkFyAvtFnYKYsyoWbuK3fseb5LdxNQTrc3c95i8gQgl+McEhD/bKtcUDPP5KhUeK9FORdnOfqdyQMWuRLrXUneROSbM5/PTm8AkrdilF4uoTxtugmo8o7oGeMlS/xM961KRhtzhXe6RPxYNx3UReeXXixVaw+ZnADID+ucjr/4rTxevy/TicbG5m6IemNeylPZFRSrtUfcnQbkz5j52swmAZJazBnquhm3Q+DMogytmonwcpk3R0wZ+Q3TYwDyETdcwT6+PQPB8roberrhjX1RIL4FiH9xdvnlVEL3Vvm2CDeucsH0CYrI4JzlBWVvHQu0KBMug8qCVGTqTB1GBiTFjgVaks/DCstE4rFY2wrEP1rieYu17Qn6b7fEZ7SpJ046j9JQR+HjphMUK3yPG+R9uLFF+SlEBZH3tO/Le4I+q2fxh8TrpJfuDpMhXh4bm7o16firsBV5ynFWx4wHwgpfVXp3tB/vblW22XfeZy4g+bh1fIlqIz7jAwDKYcecp4wHdFJXEUC5pFlWOOOSS9Ef5r+PQCssyozjaw76jA9gUT4IC6ltNZ6ACu+MUwhIHm/y8sh3JeQnvOep8g4nJr/tK8MAyfeh3anUh7yFNE3WVUz/j/sszuSTzVEfdsLTtx0IkVD8TUM24k23val3QkKc43fOW4h1Evy08bdhdm56t2riaeOx42D/8hIwMnL0GndhqRWOPc9N867wzp4qrHDvq9KZdG1kLZPu1Flla9LIp9ar07Ik33kLAeIPexGWtDSTNiwB8jud7Mwh51xM+40PuHEuxAOID4TXKrM+4wPojWAaUm5Rzqaglmf85tIL+tbj14ETLJd5s7M7V/SSPPEigsyns+TBR+HgRsZJHjSPTzo+BIvylWPWkyYhtDqwku75poc+lQWL8kIaSwwBUMadXT7dbxcAQb7dska9BelYYLk8tRFQ/g6dr7xKHAkAyCXHOy9opSKdUJLXHJM5r4He9EPhPVJ34ldSCy6r83ISCa31mB4DiI+GeQJfyOSaVmGRX4zhwKOmR7AktmsX8S23g1875rOktR6TM9SDR2gpyaeZvw6ASn0opgC+mKfSjVAXLqY1XgLxvV2ZsNSggtFyaQ6eW804loYSP5prKLCrIeFIN7y3XrlGHFSTUQHKsyavJw8Q8/hEaz0a+PXMZ+M3uKRhMEbZy7kpu4JGetfmUQvxvNJQvSQ3ntAxDboYZlCtZ7brZtwOJeIHgPiLeKUbCUdwSY4yE+SsWB/WmxOlp9r07+I+fjD48TTFQz6x1rMl9cZdc1BJoeFAnwlq4G+30Azaoj5+6yceb4KnhyRzkTcYKZoeGUB5NTMG1bVCtTo1p96TvPGypngahvqh8O6dbQWxm2TWkrzbfD58XjOwoAUemE/qd9pH+3acvA8wwAADDGDWP/4FAPVu0JK6ZhcAAAAASUVORK5CYII=",qle={key:0,class:"mb-3 flex gap-2 rounded-lg bg-gray-200 p-2 dark:bg-zinc-600"},$le={class:"flex flex-col gap-1"},eue={class:"text-sm font-bold text-gray-600"},tue={class:"multiline-ellipsis text-xs text-gray-500 dark:text-gray-300"},nue={class:"ml-auto flex flex-shrink-0 gap-2"},rue={key:0},iue={key:1},sue={src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"h-[2.8rem] w-[2.8rem] border-0 object-contain"},aue={key:2,class:"h-10 w-10 rounded object-cover"},oue=On(u.defineComponent({__name:"ReplyMessagePreview",setup(t){const e=rn(),n=u.computed(()=>{var f;const{replyId:d}=e.state.imkit;return(f=e.state.imkit.messageMultiList.main)==null?void 0:f.map.get(d)}),r=u.computed(()=>{const d=n.value;if(d)return e.state.imkit.users[d.senderId]}),i=u.computed(()=>{if(n.value.type===at.Text)return n.value.text;if(n.value.type===at.Image||n.value.type===at.Sticker||n.value.type===at.Video){const{t:d}=ss();return{[at.Image]:d("image"),[at.Video]:d("video"),[at.Sticker]:d("sticker")}[n.value.type]}return""}),s=u.computed(()=>{if(n.value.type===at.Image)return n.value.images[0]}),a=u.computed(()=>n.value),o=u.computed(()=>n.value),l=()=>{e.commit("imkit/setState",{replyId:""})};return(d,f)=>{var h,p,m;const c=u.resolveDirective("src");return n.value?(u.openBlock(),u.createElementBlock("div",qle,[u.createVNode(gr,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg bg-gray-300 text-sm",url:((h=r.value)==null?void 0:h.avatarUrl)??"",name:((p=r.value)==null?void 0:p.nickname)??""},null,8,["url","name"]),u.createElementVNode("div",$le,[u.createElementVNode("div",eue,u.toDisplayString((m=r.value)==null?void 0:m.nickname),1),u.createElementVNode("div",tue,u.toDisplayString(i.value),1)]),u.createElementVNode("div",nue,[n.value.type===u.unref(at).Sticker?(u.openBlock(),u.createElementBlock("div",rue,[u.createVNode(eS,{class:u.normalizeClass({"h-[2.8rem] w-[2.8rem]":!0}),message:a.value},null,8,["message"])])):u.createCommentVNode("",!0),n.value.type===u.unref(at).Video?(u.openBlock(),u.createElementBlock("div",iue,[u.withDirectives(u.createElementVNode("img",sue,null,512),[[c,o.value.video.thumbnailUrl]])])):u.createCommentVNode("",!0),s.value?u.withDirectives((u.openBlock(),u.createElementBlock("img",aue,null,512)),[[c,s.value.thumbnailUrl]]):u.createCommentVNode("",!0),u.createElementVNode("img",{src:I0,class:"h-5 w-5 cursor-pointer text-gray-400",onClick:l})])])):u.createCommentVNode("",!0)}}}),[["__scopeId","data-v-5db3707c"]]),lue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXElEQVR4nO2Zv2sUQRTHH4qKhYWFiljYSqLVFbl9M3aiQbAzWFgGrA0Wlrvz7oKKRLAMWomN9w8o2AdLG7EJgj8awUKy995GRFcWklxiSLxzf8zMMh/49vtlZt/37XcBAoFAIBAIBAL7oyidVsRGGXnUpfQCtBF8kB9TSTaviFcUSb4lwxLF6XloC2gkQuKnSJzuMLpNSPwQfEYvrp1A4gUkfreXyb9OOQHviPMDupddQuJnxTUdy+iW0mnwhW6fz2iSu2j4w2QmN8Ur4DpTcX5YGb6GJAMk/vl/RjeUZPPgKlG8fg4N31ckX0uZHA2rtJje4BLdpfyoNjKHhl8rw7+rMDoaVvIEXEETd5BkWRleq9TkdvW5a9fkve/HNfEtNPK2NpOjYfXewziRMu/vgmdxImVO90exnPgVJ1TmdGXgVZyokorM8EotRjGRG7u+TiwLiT8Wc6N6szS8attcox8KiuSOdXO7xL+inpytxfDF/vC0Mrxq3+QOvYK6p7LeXAvtm82LZ4GmV0UkzqwYNvJt9nF+BJpmZjE9VSwciuRzw+/vEthkqvHr7lCroWu/7o62GjN1XXeXW42qr7uTrcZ+IMmb1rQa44CJ3PS61ZiUznJ+SBn54lerUZJi4fei1aiKKE5PouF1J1uNulDEzyc6XcMvwGc0cWciw73sMvgOjhlRaPjT3CA/CL6DY0YUksTQBjpjRVSNrYaLEYVGXkKbiP4RURHxdWgbaq+IstVq2Isoy61G8xHlUKtRf0Q52mpU/GNu1UoFa4uNsv+27g1nrT1EIBAIBAJghT+Mm9s2KhDbfwAAAABJRU5ErkJggg==",z5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR4nO1Zu24TQRRdAaGg5FHx+AsQfIgFgj5NZOeeSQGi2Y7QWiQKiCaW0iFCAaHhD1JEAoUPIKQiMRKR7Jld4wy66weOsbUzuzO7RvKRrmTJo/U5O/feOXMdBHPMMUdu6ErlfHt5+Z4ieiqBt5LoqyT6KYE4id7nff6O17SAuzoMzwVloy3ETUn0XBEdKkBbxncJrLaq1RuFEz+pVq8p4JUkijIQPxOy94yNEyGuFkI+Ah5KomZe4hPiOAIeeCOuFxcXFPDaA3F9Johe8m+5Jn9JAh+9k8cwrXb4N12RXyiSvPobn3QYXswtoJC0wdTYyEW+TfSoRPKaIxLifibyv5aWriiio7IFSKJmphbLfb5s8moQROtW5Pl0tDqkhNBxvW5MKFkrhM0uRO1a7ZaxgMQeWJD/vburdberO1tb6eQ3N5O13b09rVZWzEUAq0bk2WSxT7EiP0CKiAH54fI9CxFEh2waUwUkrtIiFUYJDUTEjca/axuNyWvrFqkH3EkVwHbXpsDG3+qknZi2JjZIubFdeGKS/9tWD00R4Yw8kjp4ky4A2Ld98FQRp6e9cEBe9brRF5MdyGyVJ4pwRF71UujIRECuS0oiYvyt93cjF3kkKaRKFdApSEDTZwp1vKcQ/Bdxx3MRbzsh3y9Yk3NCuWyjrg6y0YJ1KOJxqgAeOs2slajVbpuZOaKDrGYu9mXmgG/G0zy2rlnsdOzTThM9MyI/kxcaQLWA64ENeCJgWWD+guhFYAsNXJ6FS70CjjPPTXlWWbaASIhKkAc8qyxRwFqQF3wPlcC7oslL4IMOwwu5BQyHu0Q7hZEneu9suDs2Xi+iM605e/OTwLNKT93pR+6CtZybrvMB4yDXFfd5bttB0eDTMbEdpt5pNIgO2B5Yn7A+wCaLh048t2HPzhcPvtmxHelHUwKf+Tu2xOwqZ+Jv1jnmCP5//AFGuxmMzLZJIgAAAABJRU5ErkJggg==";function Pf(t,e,n){var r=n||{},i=r.noTrailing,s=i===void 0?!1:i,a=r.noLeading,o=a===void 0?!1:a,l=r.debounceMode,d=l===void 0?void 0:l,f,c=!1,h=0;function p(){f&&clearTimeout(f)}function m(v){var y=v||{},x=y.upcomingOnly,w=x===void 0?!1:x;p(),c=!w}function g(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];var w=this,I=Date.now()-h;if(c)return;function k(){h=Date.now(),e.apply(w,y)}function S(){f=void 0}!o&&d&&!f&&k(),p(),d===void 0&&I>t?o?(h=Date.now(),s||(f=setTimeout(d?S:k,t))):k():s!==!0&&(f=setTimeout(d?S:k,d===void 0?t-I:t))}return g.cancel=m,g}function r_(t,e,n){var r=n||{},i=r.atBegin,s=i===void 0?!1:i;return Pf(t,e,{debounceMode:s!==!1})}const V5=t=>(u.pushScopeId("data-v-c9c51bc0"),t=t(),u.popScopeId(),t),uue={class:"relative flex justify-center"},cue={key:0,class:"absolute bottom-2 flex items-center gap-1 rounded-full bg-white bg-opacity-85 p-2 text-xs shadow-lg transition duration-150 ease-in-out dark:bg-zinc-800"},due=V5(()=>u.createElementVNode("img",{class:"h-4 w-4",src:z5},null,-1)),fue=["disabled"],hue={key:0,class:"h-10.5 flex w-full items-center justify-center"},pue=[V5(()=>u.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-300 text-gray-200",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],mue={class:"text-base font-semibold"},gue={class:"text-xs"},bue=On(u.defineComponent({__name:"LocationModal",setup(t){class e{constructor(I,k,S=null){Ye(this,"lat");Ye(this,"lng");Ye(this,"address");this.lat=I,this.lng=k,this.address=S}get isValid(){return this.address!==null}}const n=kr(),{t:r}=ss(),i=rn(),s=i.state.imkit.config.mapApiKey,a=u.ref(),o=u.ref(new e(21.30895,-157.826182)),l=u.ref({lat:o.value.lat,lng:o.value.lng}),d=u.computed(()=>({position:{lat:o.value.lat,lng:o.value.lng}})),f=u.ref(""),c=u.ref(!1),h=u.ref(10),p=u.ref(!1),m=u.ref(""),g=()=>new Promise((w,I)=>{c.value=!0,navigator.geolocation.getCurrentPosition(k=>{let{latitude:S,longitude:B}=k.coords;m.value="",c.value=!1,w({lat:S,lng:B})},k=>{switch(c.value=!1,k.code){case k.PERMISSION_DENIED:m.value=r("noAccessLocationPermission");break;case k.POSITION_UNAVAILABLE:m.value=r("locationInfoUnavailable");break;case k.TIMEOUT:m.value=r("requestLocationTimeout");break}I(k)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),v=async(w,I)=>{try{const{data:k}=await fn.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${w},${I}&key=${s}`);if(k.error_message)throw new Error(k.error_message);return k.results[0].formatted_address}catch(k){throw m.value=r("addressUnavailable"),k}},y=Pf(700,async w=>{var I,k;try{if(w===0){const M=(I=a.value)==null?void 0:I.map.getCenter();if(M){const{lat:D,lng:L}=M;o.value=new e(D(),L())}}else if(w===1){const{lat:M,lng:D}=await g();o.value=new e(M,D),h.value=17,(k=a.value)==null||k.map.panTo({lat:M,lng:D})}let{lat:S,lng:B}=o.value;B=((B+180)%360+360)%360-180,S=Math.max(Math.min(S,90),-90),f.value=await v(S,B),o.value=new e(S,B,f.value)}catch(S){console.error(S)}},{noLeading:!1,noTrailing:!1}),x=async()=>{p.value=!0;const w={roomId:i.state.imkit.selectedRoomId,messageType:"location",message:f.value,latitude:d.value.position.lat,longitude:d.value.position.lng};n.closeAll(),await i.dispatch("imkit/sendMessage",w),p.value=!1};return y(1),(w,I)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"flex flex-col bg-white dark:bg-zinc-800 rounded-lg overflow-hidden sm:w-[450px] w-[350px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",uue,[u.createVNode(u.unref(cD),{ref_key:"mapRef",ref:a,"api-key":u.unref(s),center:l.value,zoom:h.value,disableDefaultUi:!0,onCenter_changed:I[0]||(I[0]=k=>u.unref(y)(0)),class:"h-[250px] w-[350px] sm:h-[350px] sm:w-[450px]"},{default:u.withCtx(()=>[u.createVNode(u.unref(hD),{options:d.value},null,8,["options"])]),_:1},8,["api-key","center","zoom"]),u.createElementVNode("button",{class:"absolute right-2 top-2 flex items-center justify-center rounded-full shadow-lg",onClick:I[1]||(I[1]=k=>u.unref(n).closeAll())},[u.createVNode(Fl,{class:"h-9 w-9"})]),u.createElementVNode("button",{class:"absolute bottom-2 right-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:I[2]||(I[2]=k=>u.unref(y)(1))},[u.createElementVNode("img",{class:u.normalizeClass(["h-5 w-5",{"animate-pulse":c.value}]),src:lue},null,2)]),u.createVNode(u.Transition,null,{default:u.withCtx(()=>[m.value?(u.openBlock(),u.createElementBlock("div",cue,[due,u.createTextVNode(" "+u.toDisplayString(m.value),1)])):u.createCommentVNode("",!0)]),_:1})]),u.createElementVNode("button",{class:"disabled:( cursor-not-allowed) m-2 flex flex-col items-center gap-0.5 rounded-lg bg-blue-400 p-2 text-white",disabled:c.value||p.value||!o.value.isValid,onClick:x},[p.value?(u.openBlock(),u.createElementBlock("div",hue,pue)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[u.createElementVNode("div",mue,u.toDisplayString(w.$t("sendCurrentLocation")),1),u.createElementVNode("div",gue,u.toDisplayString(f.value),1)],64))],8,fue)]),_:1}))}}),[["__scopeId","data-v-c9c51bc0"]]),W5="1.77.0",vue=u.defineComponent({__name:"VersionModal",setup(t){const e=kr(),n=()=>{e.closeAll()};return(r,i)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createTextVNode(" IMKIT version: "+u.toDisplayString(u.unref(W5))+" ",1),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg bg-blue-400 text-base text-white",onClick:n},u.toDisplayString(r.$t("confirm")),1)]),_:1}))}});var G5={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(N,E){if(!N)throw"First parameter is required.";E=E||{type:"video"},E=new n(N,E);var j=this;function G(ue){return E.disableLogs||console.log("RecordRTC version: ",j.version),ue&&(E=new n(N,ue)),E.disableLogs||console.log("started recording "+E.type+" stream."),ge?(ge.clearRecordedData(),ge.record(),Te("recording"),j.recordingDuration&&de(),j):(X(function(){j.recordingDuration&&de()}),j)}function X(ue){ue&&(E.initCallback=function(){ue(),ue=E.initCallback=null});var ye=new r(N,E);ge=new ye(N,E),ge.record(),Te("recording"),E.disableLogs||console.log("Initialized recorderType:",ge.constructor.name,"for output-type:",E.type)}function Z(ue){if(ue=ue||function(){},!ge){Le();return}if(j.state==="paused"){j.resumeRecording(),setTimeout(function(){Z(ue)},1);return}j.state!=="recording"&&!E.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',j.state),E.disableLogs||console.log("Stopped recording "+E.type+" stream."),E.type!=="gif"?ge.stop(ye):(ge.stop(),ye()),Te("stopped");function ye(Be){if(!ge){typeof ue.call=="function"?ue.call(j,""):ue("");return}Object.keys(ge).forEach(function(he){typeof ge[he]!="function"&&(j[he]=ge[he])});var V=ge.blob;if(!V)if(Be)ge.blob=V=Be;else throw"Recording failed.";if(V&&!E.disableLogs&&console.log(V.type,"->",y(V.size)),ue){var Y;try{Y=f.createObjectURL(V)}catch{}typeof ue.call=="function"?ue.call(j,Y):ue(Y)}E.autoWriteToDisk&&me(function(he){var we={};we[E.type+"Blob"]=he,H.Store(we)})}}function ce(){if(!ge){Le();return}if(j.state!=="recording"){E.disableLogs||console.warn("Unable to pause the recording. Recording state: ",j.state);return}Te("paused"),ge.pause(),E.disableLogs||console.log("Paused recording.")}function re(){if(!ge){Le();return}if(j.state!=="paused"){E.disableLogs||console.warn("Unable to resume the recording. Recording state: ",j.state);return}Te("recording"),ge.resume(),E.disableLogs||console.log("Resumed recording.")}function pe(ue){postMessage(new FileReaderSync().readAsDataURL(ue))}function me(ue,ye){if(!ue)throw"Pass a callback function over getDataURL.";var Be=ye?ye.blob:(ge||{}).blob;if(!Be){E.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){me(ue,ye)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var V=he(pe);V.onmessage=function(we){ue(we.data)},V.postMessage(Be)}else{var Y=new FileReader;Y.readAsDataURL(Be),Y.onload=function(we){ue(we.target.result)}}function he(we){try{var Re=f.createObjectURL(new Blob([we.toString(),"this.onmessage =  function (eee) {"+we.name+"(eee.data);}"],{type:"application/javascript"})),ze=new Worker(Re);return f.revokeObjectURL(Re),ze}catch{}}}function de(ue){if(ue=ue||0,j.state==="paused"){setTimeout(function(){de(ue)},1e3);return}if(j.state!=="stopped"){if(ue>=j.recordingDuration){Z(j.onRecordingStopped);return}ue+=1e3,setTimeout(function(){de(ue)},1e3)}}function Te(ue){j&&(j.state=ue,typeof j.onStateChanged.call=="function"?j.onStateChanged.call(j,ue):j.onStateChanged(ue))}var Ae='It seems that recorder is destroyed or "startRecording" is not invoked for '+E.type+" recorder.";function Le(){E.disableLogs!==!0&&console.warn(Ae)}var ge,Pe={startRecording:G,stopRecording:Z,pauseRecording:ce,resumeRecording:re,initRecorder:X,setRecordingDuration:function(ue,ye){if(typeof ue>"u")throw"recordingDuration is required.";if(typeof ue!="number")throw"recordingDuration must be a number.";return j.recordingDuration=ue,j.onRecordingStopped=ye||function(){},{onRecordingStopped:function(Be){j.onRecordingStopped=Be}}},clearRecordedData:function(){if(!ge){Le();return}ge.clearRecordedData(),E.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!ge){Le();return}return ge.blob},getDataURL:me,toURL:function(){if(!ge){Le();return}return f.createObjectURL(ge.blob)},getInternalRecorder:function(){return ge},save:function(ue){if(!ge){Le();return}x(ge.blob,ue)},getFromDisk:function(ue){if(!ge){Le();return}e.getFromDisk(E.type,ue)},setAdvertisementArray:function(ue){E.advertisement=[];for(var ye=ue.length,Be=0;Be<ye;Be++)E.advertisement.push({duration:Be,image:ue[Be]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){j.state==="recording"&&!E.disableLogs&&console.warn("Stop an active recorder."),ge&&typeof ge.clearRecordedData=="function"&&ge.clearRecordedData(),ge=null,Te("inactive"),j.blob=null},onStateChanged:function(ue){E.disableLogs||console.log("Recorder state changed:",ue)},state:"inactive",getState:function(){return j.state},destroy:function(){var ue=E.disableLogs;E={disableLogs:!0},j.reset(),Te("destroyed"),Pe=j=null,B.AudioContextConstructor&&(B.AudioContextConstructor.close(),B.AudioContextConstructor=null),E.disableLogs=ue,E.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return j=Pe,Pe;for(var qe in Pe)this[qe]=Pe[qe];return j=this,Pe}e.version="5.6.2",t.exports=e,e.getFromDisk=function(N,E){if(!E)throw"callback is mandatory.";console.log("Getting recorded "+(N==="all"?"blobs":N+" blob ")+" from disk!"),H.Fetch(function(j,G){N!=="all"&&G===N+"Blob"&&E&&E(j),N==="all"&&E&&E(j,G.replace("Blob",""))})},e.writeToDisk=function(N){console.log("Writing recorded blob(s) to disk!"),N=N||{},N.audio&&N.video&&N.gif?N.audio.getDataURL(function(E){N.video.getDataURL(function(j){N.gif.getDataURL(function(G){H.Store({audioBlob:E,videoBlob:j,gifBlob:G})})})}):N.audio&&N.video?N.audio.getDataURL(function(E){N.video.getDataURL(function(j){H.Store({audioBlob:E,videoBlob:j})})}):N.audio&&N.gif?N.audio.getDataURL(function(E){N.gif.getDataURL(function(j){H.Store({audioBlob:E,gifBlob:j})})}):N.video&&N.gif?N.video.getDataURL(function(E){N.gif.getDataURL(function(j){H.Store({videoBlob:E,gifBlob:j})})}):N.audio?N.audio.getDataURL(function(E){H.Store({audioBlob:E})}):N.video?N.video.getDataURL(function(E){H.Store({videoBlob:E})}):N.gif&&N.gif.getDataURL(function(E){H.Store({gifBlob:E})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function n(N,E){return!E.recorderType&&!E.type&&(E.audio&&E.video?E.type="video":E.audio&&!E.video&&(E.type="audio")),E.recorderType&&!E.type&&(E.recorderType===U||E.recorderType===z||typeof Q<"u"&&E.recorderType===Q?E.type="video":E.recorderType===K?E.type="gif":E.recorderType===L?E.type="audio":E.recorderType===D&&(I(N,"audio").length&&I(N,"video").length||!I(N,"audio").length&&I(N,"video").length?E.type="video":I(N,"audio").length&&!I(N,"video").length&&(E.type="audio"))),typeof D<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(E.mimeType||(E.mimeType="video/webm"),E.type||(E.type=E.mimeType.split("/")[0]),E.bitsPerSecond),E.type||(E.mimeType&&(E.type=E.mimeType.split("/")[0]),E.type||(E.type="audio")),E}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function r(N,E){var j;return(m||c||h)&&(j=L),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!m&&(j=D),E.type==="video"&&(m||h)&&(j=U,typeof Q<"u"&&typeof ReadableStream<"u"&&(j=Q)),E.type==="gif"&&(j=K),E.type==="canvas"&&(j=z),M()&&j!==z&&j!==K&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(I(N,"video").length||I(N,"audio").length)&&(E.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(j=D):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(j=D)),N instanceof Array&&N.length&&(j=W),E.recorderType&&(j=E.recorderType),!E.disableLogs&&j&&j.name&&console.log("Using recorderType:",j.name||j.constructor.name),!j&&g&&(j=D),j}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(N){this.addStream=function(E){E&&(N=E)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var E=this.mediaType,j,G=this.mimeType||{audio:null,video:null,gif:null};if(typeof E.audio!="function"&&M()&&!I(N,"audio").length&&(E.audio=!1),typeof E.video!="function"&&M()&&!I(N,"video").length&&(E.video=!1),typeof E.gif!="function"&&M()&&!I(N,"video").length&&(E.gif=!1),!E.audio&&!E.video&&!E.gif)throw"MediaStream must have either audio or video tracks.";if(E.audio&&(j=null,typeof E.audio=="function"&&(j=E.audio),this.audioRecorder=new e(N,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:j,mimeType:G.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),E.video||this.audioRecorder.startRecording()),E.video){j=null,typeof E.video=="function"&&(j=E.video);var X=N;if(M()&&E.audio&&typeof E.audio=="function"){var Z=I(N,"video")[0];p?(X=new v,X.addTrack(Z),j&&j===U&&(j=D)):(X=new v,X.addTrack(Z))}this.videoRecorder=new e(X,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:j,mimeType:G.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),E.audio||this.videoRecorder.startRecording()}if(E.audio&&E.video){var ce=this,re=M()===!0;(E.audio instanceof L&&E.video||E.audio!==!0&&E.video!==!0&&E.audio!==E.video)&&(re=!1),re===!0?(ce.audioRecorder=null,ce.videoRecorder.startRecording()):ce.videoRecorder.initRecorder(function(){ce.audioRecorder.initRecorder(function(){ce.videoRecorder.startRecording(),ce.audioRecorder.startRecording()})})}E.gif&&(j=null,typeof E.gif=="function"&&(j=E.gif),this.gifRecorder=new e(N,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:j,mimeType:G.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(E){E=E||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(j){E(j,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(j){E(j,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(j){E(j,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(E){var j={};return this.audioRecorder&&(j.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(j.video=this.videoRecorder.getBlob()),this.gifRecorder&&(j.gif=this.gifRecorder.getBlob()),E&&E(j),j},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(E){this.getBlob(function(X){X.audio&&X.video?j(X.audio,function(Z){j(X.video,function(ce){E({audio:Z,video:ce})})}):X.audio?j(X.audio,function(Z){E({audio:Z})}):X.video&&j(X.video,function(Z){E({video:Z})})});function j(X,Z){if(typeof Worker<"u"){var ce=G(function(me){postMessage(new FileReaderSync().readAsDataURL(me))});ce.onmessage=function(pe){Z(pe.data)},ce.postMessage(X)}else{var re=new FileReader;re.readAsDataURL(X),re.onload=function(pe){Z(pe.target.result)}}}function G(X){var Z=f.createObjectURL(new Blob([X.toString(),"this.onmessage =  function (eee) {"+X.name+"(eee.data);}"],{type:"application/javascript"})),ce=new Worker(Z),re;if(typeof f<"u")re=f;else if(typeof webkitURL<"u")re=webkitURL;else throw"Neither URL nor webkitURL detected.";return re.revokeObjectURL(Z),ce}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(E){E=E||{audio:!0,video:!0,gif:!0},E.audio&&this.audioRecorder&&this.audioRecorder.save(typeof E.audio=="string"?E.audio:""),E.video&&this.videoRecorder&&this.videoRecorder.save(typeof E.video=="string"?E.video:""),E.gif&&this.gifRecorder&&this.gifRecorder.save(typeof E.gif=="string"?E.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(N){N&&(typeof window<"u"||typeof It>"u"||(It.navigator={userAgent:s,getUserMedia:function(){}},It.console||(It.console={}),(typeof It.console.log>"u"||typeof It.console.error>"u")&&(It.console.error=It.console.log=It.console.log||function(){console.log(arguments)}),typeof document>"u"&&(N.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var E={getContext:function(){return E},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return E},N.HTMLVideoElement=function(){}),typeof location>"u"&&(N.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(N.screen={width:0,height:0}),typeof f>"u"&&(N.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),N.window=It))})(typeof It<"u"?It:null);var a=window.requestAnimationFrame;if(typeof a>"u"){if(typeof webkitRequestAnimationFrame<"u")a=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")a=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")a=msRequestAnimationFrame;else if(typeof a>"u"){var o=0;a=function(N,E){var j=new Date().getTime(),G=Math.max(0,16-(j-o)),X=setTimeout(function(){N(j+G)},G);return o=j+G,X}}}var l=window.cancelAnimationFrame;typeof l>"u"&&(typeof webkitCancelAnimationFrame<"u"?l=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?l=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?l=msCancelAnimationFrame:typeof l>"u"&&(l=function(N){clearTimeout(N)}));var d=window.AudioContext;typeof d>"u"&&(typeof webkitAudioContext<"u"&&(d=webkitAudioContext),typeof mozAudioContext<"u"&&(d=mozAudioContext));var f=window.URL;typeof f>"u"&&typeof webkitURL<"u"&&(f=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var c=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),h=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!h&&!c&&!!navigator.webkitGetUserMedia||w()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);g&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(g=!1,m=!0);var v=window.MediaStream;typeof v>"u"&&typeof webkitMediaStream<"u"&&(v=webkitMediaStream),typeof v<"u"&&typeof v.prototype.stop>"u"&&(v.prototype.stop=function(){this.getTracks().forEach(function(N){N.stop()})});function y(N){var E=1e3,j=["Bytes","KB","MB","GB","TB"];if(N===0)return"0 Bytes";var G=parseInt(Math.floor(Math.log(N)/Math.log(E)),10);return(N/Math.pow(E,G)).toPrecision(3)+" "+j[G]}function x(N,E){if(!N)throw"Blob object is required.";if(!N.type)try{N.type="video/webm"}catch{}var j=(N.type||"video/webm").split("/")[1];if(j.indexOf(";")!==-1&&(j=j.split(";")[0]),E&&E.indexOf(".")!==-1){var G=E.split(".");E=G[0],j=G[1]}var X=(E||Math.round(Math.random()*9999999999)+888888888)+"."+j;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(N,X);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(N,X);var Z=document.createElement("a");Z.href=f.createObjectURL(N),Z.download=X,Z.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(Z),typeof Z.click=="function"?Z.click():(Z.target="_blank",Z.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(Z.href)}function w(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function I(N,E){return!N||!N.getTracks?[]:N.getTracks().filter(function(j){return j.kind===(E||"audio")})}function k(N,E){"srcObject"in E?E.srcObject=N:"mozSrcObject"in E?E.mozSrcObject=N:E.srcObject=N}function S(N,E){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var j=new EBML.Reader,G=new EBML.Decoder,X=EBML.tools,Z=new FileReader;Z.onload=function(ce){var re=G.decode(this.result);re.forEach(function(Te){j.read(Te)}),j.stop();var pe=X.makeMetadataSeekable(j.metadatas,j.duration,j.cues),me=this.result.slice(j.metadataSize),de=new Blob([pe,me],{type:"video/webm"});E(de)},Z.readAsArrayBuffer(N)}typeof e<"u"&&(e.invokeSaveAsDialog=x,e.getTracks=I,e.getSeekableBlob=S,e.bytesToSize=y,e.isElectron=w);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var B={};typeof d<"u"?B.AudioContext=d:typeof webkitAudioContext<"u"&&(B.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=B);function M(){if(p||g||c)return!0;var N=navigator.userAgent,E=""+parseFloat(navigator.appVersion),j=parseInt(navigator.appVersion,10),G,X;return(m||h)&&(G=N.indexOf("Chrome"),E=N.substring(G+7)),(X=E.indexOf(";"))!==-1&&(E=E.substring(0,X)),(X=E.indexOf(" "))!==-1&&(E=E.substring(0,X)),j=parseInt(""+E,10),isNaN(j)&&(E=""+parseFloat(navigator.appVersion),j=parseInt(navigator.appVersion,10)),j>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function D(N,E){var de=this;if(typeof N>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(E=E||{mimeType:"video/webm"},E.type==="audio"){if(I(N,"video").length&&I(N,"audio").length){var j;navigator.mozGetUserMedia?(j=new v,j.addTrack(I(N,"audio")[0])):j=new v(I(N,"audio")),N=j}(!E.mimeType||E.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(E.mimeType=m?"audio/webm":"audio/ogg"),E.mimeType&&E.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(E.mimeType="audio/ogg")}var G=[];this.getArrayOfBlobs=function(){return G},this.record=function(){de.blob=null,de.clearRecordedData(),de.timestamps=[],me=[],G=[];var Te=E;E.disableLogs||console.log("Passing following config over MediaRecorder API.",Te),re&&(re=null),m&&!M()&&(Te="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&Te.mimeType&&(MediaRecorder.isTypeSupported(Te.mimeType)||(E.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Te.mimeType),Te.mimeType=E.type==="audio"?"audio/webm":"video/webm"));try{re=new MediaRecorder(N,Te),E.mimeType=Te.mimeType}catch{re=new MediaRecorder(N)}Te.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in re&&re.canRecordMimeType(Te.mimeType)===!1&&(E.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Te.mimeType)),re.ondataavailable=function(Ae){if(Ae.data&&me.push("ondataavailable: "+y(Ae.data.size)),typeof E.timeSlice=="number"){if(Ae.data&&Ae.data.size&&(G.push(Ae.data),X(),typeof E.ondataavailable=="function")){var Le=E.getNativeBlob?Ae.data:new Blob([Ae.data],{type:Z(Te)});E.ondataavailable(Le)}return}if(!Ae.data||!Ae.data.size||Ae.data.size<100||de.blob){de.recordingCallback&&(de.recordingCallback(new Blob([],{type:Z(Te)})),de.recordingCallback=null);return}de.blob=E.getNativeBlob?Ae.data:new Blob([Ae.data],{type:Z(Te)}),de.recordingCallback&&(de.recordingCallback(de.blob),de.recordingCallback=null)},re.onstart=function(){me.push("started")},re.onpause=function(){me.push("paused")},re.onresume=function(){me.push("resumed")},re.onstop=function(){me.push("stopped")},re.onerror=function(Ae){Ae&&(Ae.name||(Ae.name="UnknownError"),me.push("error: "+Ae),E.disableLogs||(Ae.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",Ae):Ae.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",Te.mimeType,") is not supported.",Ae):Ae.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",Ae):Ae.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",Ae):Ae.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",Ae):Ae.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",Ae):Ae.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",Ae):console.error("MediaRecorder Error",Ae)),function(Le){if(!de.manuallyStopped&&re&&re.state==="inactive"){delete E.timeslice,re.start(10*60*1e3);return}setTimeout(Le,1e3)}(),re.state!=="inactive"&&re.state!=="stopped"&&re.stop())},typeof E.timeSlice=="number"?(X(),re.start(E.timeSlice)):re.start(36e5),E.initCallback&&E.initCallback()},this.timestamps=[];function X(){de.timestamps.push(new Date().getTime()),typeof E.onTimeStamp=="function"&&E.onTimeStamp(de.timestamps[de.timestamps.length-1],de.timestamps)}function Z(Te){return re&&re.mimeType?re.mimeType:Te.mimeType||"video/webm"}this.stop=function(Te){Te=Te||function(){},de.manuallyStopped=!0,re&&(this.recordingCallback=Te,re.state==="recording"&&re.stop(),typeof E.timeSlice=="number"&&setTimeout(function(){de.blob=new Blob(G,{type:Z(E)}),de.recordingCallback(de.blob)},100))},this.pause=function(){re&&re.state==="recording"&&re.pause()},this.resume=function(){re&&re.state==="paused"&&re.resume()},this.clearRecordedData=function(){re&&re.state==="recording"&&de.stop(ce),ce()};function ce(){G=[],re=null,de.timestamps=[]}var re;this.getInternalRecorder=function(){return re};function pe(){if("active"in N){if(!N.active)return!1}else if("ended"in N&&N.ended)return!1;return!0}this.blob=null,this.getState=function(){return re&&re.state||"inactive"};var me=[];this.getAllStates=function(){return me},typeof E.checkForInactiveTracks>"u"&&(E.checkForInactiveTracks=!1);var de=this;(function Te(){if(!(!re||E.checkForInactiveTracks===!1)){if(pe()===!1){E.disableLogs||console.log("MediaStream seems stopped."),de.stop();return}setTimeout(Te,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=D);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function L(N,E){if(!I(N,"audio").length)throw"Your stream has no audio tracks.";E=E||{};var j=this,G=[],X=[],Z=!1,ce=0,re,pe=2,me=E.desiredSampRate;E.leftChannel===!0&&(pe=1),E.numberOfAudioChannels===1&&(pe=1),(!pe||pe<1)&&(pe=2),E.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+pe),typeof E.checkForInactiveTracks>"u"&&(E.checkForInactiveTracks=!0);function de(){if(E.checkForInactiveTracks===!1)return!0;if("active"in N){if(!N.active)return!1}else if("ended"in N&&N.ended)return!1;return!0}this.record=function(){if(de()===!1)throw"Please make sure MediaStream is active.";Be(),Y=ye=!1,Z=!0,typeof E.timeSlice<"u"&&Re()};function Te(ze,rt){function Ee(nt,_t){var Ot=nt.numberOfAudioChannels,st=nt.leftBuffers.slice(0),qt=nt.rightBuffers.slice(0),Mt=nt.sampleRate,wn=nt.internalInterleavedLength,Dn=nt.desiredSampRate;Ot===2&&(st=Qs(st,wn),qt=Qs(qt,wn),Dn&&(st=gs(st,Dn,Mt),qt=gs(qt,Dn,Mt))),Ot===1&&(st=Qs(st,wn),Dn&&(st=gs(st,Dn,Mt))),Dn&&(Mt=Dn);function gs(Nn,Ur,ar){var Qn=Math.round(Nn.length*(Ur/ar)),Wt=[],Ai=Number((Nn.length-1)/(Qn-1));Wt[0]=Nn[0];for(var xi=1;xi<Qn-1;xi++){var Wi=xi*Ai,ci=Number(Math.floor(Wi)).toFixed(),uo=Number(Math.ceil(Wi)).toFixed(),Kt=Wi-ci;Wt[xi]=Ys(Nn[ci],Nn[uo],Kt)}return Wt[Qn-1]=Nn[Nn.length-1],Wt}function Ys(Nn,Ur,ar){return Nn+(Ur-Nn)*ar}function Qs(Nn,Ur){for(var ar=new Float64Array(Ur),Qn=0,Wt=Nn.length,Ai=0;Ai<Wt;Ai++){var xi=Nn[Ai];ar.set(xi,Qn),Qn+=xi.length}return ar}function bs(Nn,Ur){for(var ar=Nn.length+Ur.length,Qn=new Float64Array(ar),Wt=0,Ai=0;Ai<ar;)Qn[Ai++]=Nn[Wt],Qn[Ai++]=Ur[Wt],Wt++;return Qn}function Ks(Nn,Ur,ar){for(var Qn=ar.length,Wt=0;Wt<Qn;Wt++)Nn.setUint8(Ur+Wt,ar.charCodeAt(Wt))}var hr;Ot===2&&(hr=bs(st,qt)),Ot===1&&(hr=st);var pr=hr.length,Vi=44+pr*2,Ti=new ArrayBuffer(Vi),_n=new DataView(Ti);Ks(_n,0,"RIFF"),_n.setUint32(4,36+pr*2,!0),Ks(_n,8,"WAVE"),Ks(_n,12,"fmt "),_n.setUint32(16,16,!0),_n.setUint16(20,1,!0),_n.setUint16(22,Ot,!0),_n.setUint32(24,Mt,!0),_n.setUint32(28,Mt*Ot*2,!0),_n.setUint16(32,Ot*2,!0),_n.setUint16(34,16,!0),Ks(_n,36,"data"),_n.setUint32(40,pr*2,!0);for(var Ei=pr,Fr=44,Al=1,xl=0;xl<Ei;xl++)_n.setInt16(Fr,hr[xl]*(32767*Al),!0),Fr+=2;if(_t)return _t({buffer:Ti,view:_n});postMessage({buffer:Ti,view:_n})}if(ze.noWorker){Ee(ze,function(nt){rt(nt.buffer,nt.view)});return}var Oe=Ae(Ee);Oe.onmessage=function(nt){rt(nt.data.buffer,nt.data.view),f.revokeObjectURL(Oe.workerURL),Oe.terminate()},Oe.postMessage(ze)}function Ae(ze){var rt=f.createObjectURL(new Blob([ze.toString(),";this.onmessage =  function (eee) {"+ze.name+"(eee.data);}"],{type:"application/javascript"})),Ee=new Worker(rt);return Ee.workerURL=rt,Ee}this.stop=function(ze){ze=ze||function(){},Z=!1,Te({desiredSampRate:me,sampleRate:ue,numberOfAudioChannels:pe,internalInterleavedLength:ce,leftBuffers:G,rightBuffers:pe===1?[]:X,noWorker:E.noWorker},function(rt,Ee){j.blob=new Blob([Ee],{type:"audio/wav"}),j.buffer=new ArrayBuffer(Ee.buffer.byteLength),j.view=Ee,j.sampleRate=me||ue,j.bufferSize=qe,j.length=ce,Y=!1,ze&&ze(j.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var Le=e.Storage.AudioContextConstructor,ge=Le.createMediaStreamSource(N),Pe=[0,256,512,1024,2048,4096,8192,16384],qe=typeof E.bufferSize>"u"?4096:E.bufferSize;if(Pe.indexOf(qe)===-1&&(E.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(Pe,null,"	"))),Le.createJavaScriptNode)re=Le.createJavaScriptNode(qe,pe,pe);else if(Le.createScriptProcessor)re=Le.createScriptProcessor(qe,pe,pe);else throw"WebAudio API has no support on this browser.";ge.connect(re),E.bufferSize||(qe=re.bufferSize);var ue=typeof E.sampleRate<"u"?E.sampleRate:Le.sampleRate||44100;(ue<22050||ue>96e3)&&(E.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),E.disableLogs||E.desiredSampRate&&console.log("Desired sample-rate: "+E.desiredSampRate);var ye=!1;this.pause=function(){ye=!0},this.resume=function(){if(de()===!1)throw"Please make sure MediaStream is active.";if(!Z){E.disableLogs||console.log("Seems recording has been restarted."),this.record();return}ye=!1},this.clearRecordedData=function(){E.checkForInactiveTracks=!1,Z&&this.stop(V),V()};function Be(){G=[],X=[],ce=0,Y=!1,Z=!1,ye=!1,Le=null,j.leftchannel=G,j.rightchannel=X,j.numberOfAudioChannels=pe,j.desiredSampRate=me,j.sampleRate=ue,j.recordingLength=ce,we={left:[],right:[],recordingLength:0}}function V(){re&&(re.onaudioprocess=null,re.disconnect(),re=null),ge&&(ge.disconnect(),ge=null),Be()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var Y=!1;function he(ze){if(!ye){if(de()===!1&&(E.disableLogs||console.log("MediaStream seems stopped."),re.disconnect(),Z=!1),!Z){ge&&(ge.disconnect(),ge=null);return}Y||(Y=!0,E.onAudioProcessStarted&&E.onAudioProcessStarted(),E.initCallback&&E.initCallback());var rt=ze.inputBuffer.getChannelData(0),Ee=new Float32Array(rt);if(G.push(Ee),pe===2){var Oe=ze.inputBuffer.getChannelData(1),nt=new Float32Array(Oe);X.push(nt)}ce+=qe,j.recordingLength=ce,typeof E.timeSlice<"u"&&(we.recordingLength+=qe,we.left.push(Ee),pe===2&&we.right.push(nt))}}re.onaudioprocess=he,Le.createMediaStreamDestination?re.connect(Le.createMediaStreamDestination()):re.connect(Le.destination),this.leftchannel=G,this.rightchannel=X,this.numberOfAudioChannels=pe,this.desiredSampRate=me,this.sampleRate=ue,j.recordingLength=ce;var we={left:[],right:[],recordingLength:0};function Re(){!Z||typeof E.ondataavailable!="function"||typeof E.timeSlice>"u"||(we.left.length?(Te({desiredSampRate:me,sampleRate:ue,numberOfAudioChannels:pe,internalInterleavedLength:we.recordingLength,leftBuffers:we.left,rightBuffers:pe===1?[]:we.right},function(ze,rt){var Ee=new Blob([rt],{type:"audio/wav"});E.ondataavailable(Ee),setTimeout(Re,E.timeSlice)}),we={left:[],right:[],recordingLength:0}):setTimeout(Re,E.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=L);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function z(N,E){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";E=E||{},E.frameInterval||(E.frameInterval=10);var j=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(Pe){Pe in document.createElement("canvas")&&(j=!0)});var G=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,X=50,Z=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);G&&Z&&Z[2]&&(X=parseInt(Z[2],10)),G&&X<52&&(j=!1),E.useWhammyRecorder&&(j=!1);var ce,re;if(j)if(E.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),N instanceof HTMLCanvasElement)ce=N;else if(N instanceof CanvasRenderingContext2D)ce=N.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(E.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var pe;this.record=function(){if(pe=!0,j&&!E.useWhammyRecorder){var Pe;"captureStream"in ce?Pe=ce.captureStream(25):"mozCaptureStream"in ce?Pe=ce.mozCaptureStream(25):"webkitCaptureStream"in ce&&(Pe=ce.webkitCaptureStream(25));try{var qe=new v;qe.addTrack(I(Pe,"video")[0]),Pe=qe}catch{}if(!Pe)throw"captureStream API are NOT available.";re=new D(Pe,{mimeType:E.mimeType||"video/webm"}),re.record()}else ge.frames=[],Le=new Date().getTime(),Ae();E.initCallback&&E.initCallback()},this.getWebPImages=function(Pe){if(N.nodeName.toLowerCase()!=="canvas"){Pe();return}var qe=ge.frames.length;ge.frames.forEach(function(ue,ye){var Be=qe-ye;E.disableLogs||console.log(Be+"/"+qe+" frames remaining"),E.onEncodingCallback&&E.onEncodingCallback(Be,qe);var V=ue.image.toDataURL("image/webp",1);ge.frames[ye].image=V}),E.disableLogs||console.log("Generating WebM"),Pe()},this.stop=function(Pe){pe=!1;var qe=this;if(j&&re){re.stop(Pe);return}this.getWebPImages(function(){ge.compile(function(ue){E.disableLogs||console.log("Recording finished!"),qe.blob=ue,qe.blob.forEach&&(qe.blob=new Blob([],{type:"video/webm"})),Pe&&Pe(qe.blob),ge.frames=[]})})};var me=!1;this.pause=function(){if(me=!0,re instanceof D){re.pause();return}},this.resume=function(){if(me=!1,re instanceof D){re.resume();return}pe||this.record()},this.clearRecordedData=function(){pe&&this.stop(de),de()};function de(){ge.frames=[],pe=!1,me=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function Te(){var Pe=document.createElement("canvas"),qe=Pe.getContext("2d");return Pe.width=N.width,Pe.height=N.height,qe.drawImage(N,0,0),Pe}function Ae(){if(me)return Le=new Date().getTime(),setTimeout(Ae,500);if(N.nodeName.toLowerCase()==="canvas"){var Pe=new Date().getTime()-Le;Le=new Date().getTime(),ge.frames.push({image:Te(),duration:Pe}),pe&&setTimeout(Ae,E.frameInterval);return}html2canvas(N,{grabMouse:typeof E.showMousePointer>"u"||E.showMousePointer,onrendered:function(qe){var ue=new Date().getTime()-Le;if(!ue)return setTimeout(Ae,E.frameInterval);Le=new Date().getTime(),ge.frames.push({image:qe.toDataURL("image/webp",1),duration:ue}),pe&&setTimeout(Ae,E.frameInterval)}})}var Le=new Date().getTime(),ge=new F.Video(100)}typeof e<"u"&&(e.CanvasRecorder=z);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function U(N,E){E=E||{},E.frameInterval||(E.frameInterval=10),E.disableLogs||console.log("Using frames-interval:",E.frameInterval),this.record=function(){E.width||(E.width=320),E.height||(E.height=240),E.video||(E.video={width:E.width,height:E.height}),E.canvas||(E.canvas={width:E.width,height:E.height}),pe.width=E.canvas.width||320,pe.height=E.canvas.height||240,me=pe.getContext("2d"),E.video&&E.video instanceof HTMLVideoElement?(de=E.video.cloneNode(),E.initCallback&&E.initCallback()):(de=document.createElement("video"),k(N,de),de.onloadedmetadata=function(){E.initCallback&&E.initCallback()},de.width=E.video.width,de.height=E.video.height),de.muted=!0,de.play(),Te=new Date().getTime(),Ae=new F.Video,E.disableLogs||(console.log("canvas resolutions",pe.width,"*",pe.height),console.log("video width/height",de.width||pe.width,"*",de.height||pe.height)),j(E.frameInterval)};function j(Le){Le=typeof Le<"u"?Le:10;var ge=new Date().getTime()-Te;if(!ge)return setTimeout(j,Le,Le);if(ce)return Te=new Date().getTime(),setTimeout(j,100);Te=new Date().getTime(),de.paused&&de.play(),me.drawImage(de,0,0,pe.width,pe.height),Ae.frames.push({duration:ge,image:pe.toDataURL("image/webp")}),Z||setTimeout(j,Le,Le)}function G(Le){var ge=-1,Pe=Le.length;(function qe(){if(ge++,ge===Pe){Le.callback();return}setTimeout(function(){Le.functionToLoop(qe,ge)},1)})()}function X(Le,ge,Pe,qe,ue){var ye=document.createElement("canvas");ye.width=pe.width,ye.height=pe.height;var Be=ye.getContext("2d"),V=[],Y=Le.length,he={r:0,g:0,b:0},we=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Re=0,ze=0,rt=!1;G({length:Y,functionToLoop:function(Ee,Oe){var nt,_t,Ot,st=function(){!rt&&Ot-nt<=Ot*ze||(rt=!0,V.push(Le[Oe])),Ee()};if(rt)st();else{var qt=new Image;qt.onload=function(){Be.drawImage(qt,0,0,pe.width,pe.height);var Mt=Be.getImageData(0,0,pe.width,pe.height);nt=0,_t=Mt.data.length,Ot=Mt.data.length/4;for(var wn=0;wn<_t;wn+=4){var Dn={r:Mt.data[wn],g:Mt.data[wn+1],b:Mt.data[wn+2]},gs=Math.sqrt(Math.pow(Dn.r-he.r,2)+Math.pow(Dn.g-he.g,2)+Math.pow(Dn.b-he.b,2));gs<=we*Re&&nt++}st()},qt.src=Le[Oe].image}},callback:function(){V=V.concat(Le.slice(Y)),V.length<=0&&V.push(Le[Le.length-1]),ue(V)}})}var Z=!1;this.stop=function(Le){Le=Le||function(){},Z=!0;var ge=this;setTimeout(function(){X(Ae.frames,-1,null,null,function(Pe){Ae.frames=Pe,E.advertisement&&E.advertisement.length&&(Ae.frames=E.advertisement.concat(Ae.frames)),Ae.compile(function(qe){ge.blob=qe,ge.blob.forEach&&(ge.blob=new Blob([],{type:"video/webm"})),Le&&Le(ge.blob)})})},10)};var ce=!1;this.pause=function(){ce=!0},this.resume=function(){ce=!1,Z&&this.record()},this.clearRecordedData=function(){Z||this.stop(re),re()};function re(){Ae.frames=[],Z=!0,ce=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var pe=document.createElement("canvas"),me=pe.getContext("2d"),de,Te,Ae}typeof e<"u"&&(e.WhammyRecorder=U);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var F=function(){function N(G){this.frames=[],this.duration=G||1,this.quality=.8}N.prototype.add=function(G,X){if("canvas"in G&&(G=G.canvas),"toDataURL"in G&&(G=G.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(G))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:G,duration:X||this.duration})};function E(G){var X=f.createObjectURL(new Blob([G.toString(),"this.onmessage =  function (eee) {"+G.name+"(eee.data);}"],{type:"application/javascript"})),Z=new Worker(X);return f.revokeObjectURL(X),Z}function j(G){function X(ue){var ye=ce(ue);if(!ye)return[];for(var Be=3e4,V=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:Pe(ye.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:ye.width,id:176},{data:ye.height,id:186}]}]}]}]}],Y=0,he=0;Y<ue.length;){var we=[],Re=0;do we.push(ue[Y]),Re+=ue[Y].duration,Y++;while(Y<ue.length&&Re<Be);var ze=0,rt={id:524531317,data:Z(he,ze,we)};V[1].data.push(rt),he+=Re}return de(V)}function Z(ue,ye,Be){return[{data:ue,id:231}].concat(Be.map(function(V){var Y=Te({discardable:0,frame:V.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(ye)});return ye+=V.duration,{data:Y,id:163}}))}function ce(ue){if(!ue[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var ye=ue[0].width,Be=ue[0].height,V=ue[0].duration,Y=1;Y<ue.length;Y++)V+=ue[Y].duration;return{duration:V,width:ye,height:Be}}function re(ue){for(var ye=[];ue>0;)ye.push(ue&255),ue=ue>>8;return new Uint8Array(ye.reverse())}function pe(ue){return new Uint8Array(ue.split("").map(function(ye){return ye.charCodeAt(0)}))}function me(ue){var ye=[],Be=ue.length%8?new Array(9-ue.length%8).join("0"):"";ue=Be+ue;for(var V=0;V<ue.length;V+=8)ye.push(parseInt(ue.substr(V,8),2));return new Uint8Array(ye)}function de(ue){for(var ye=[],Be=0;Be<ue.length;Be++){var V=ue[Be].data;typeof V=="object"&&(V=de(V)),typeof V=="number"&&(V=me(V.toString(2))),typeof V=="string"&&(V=pe(V));var Y=V.size||V.byteLength||V.length,he=Math.ceil(Math.ceil(Math.log(Y)/Math.log(2))/8),we=Y.toString(2),Re=new Array(he*7+7+1-we.length).join("0")+we,ze=new Array(he).join("0")+"1"+Re;ye.push(re(ue[Be].id)),ye.push(me(ze)),ye.push(V)}return new Blob(ye,{type:"video/webm"})}function Te(ue){var ye=0;if(ye|=128,ue.trackNum>127)throw"TrackNumber > 127 not supported";var Be=[ue.trackNum|128,ue.timecode>>8,ue.timecode&255,ye].map(function(V){return String.fromCharCode(V)}).join("")+ue.frame;return Be}function Ae(ue){for(var ye=ue.RIFF[0].WEBP[0],Be=ye.indexOf("*"),V=0,Y=[];V<4;V++)Y[V]=ye.charCodeAt(Be+3+V);var he,we,Re;return Re=Y[1]<<8|Y[0],he=Re&16383,Re=Y[3]<<8|Y[2],we=Re&16383,{width:he,height:we,data:ye,riff:ue}}function Le(ue,ye){return parseInt(ue.substr(ye+4,4).split("").map(function(Be){var V=Be.charCodeAt(0).toString(2);return new Array(8-V.length+1).join("0")+V}).join(""),2)}function ge(ue){for(var ye=0,Be={};ye<ue.length;){var V=ue.substr(ye,4),Y=Le(ue,ye),he=ue.substr(ye+4+4,Y);ye+=8+Y,Be[V]=Be[V]||[],V==="RIFF"||V==="LIST"?Be[V].push(ge(he)):Be[V].push(he)}return Be}function Pe(ue){return[].slice.call(new Uint8Array(new Float64Array([ue]).buffer),0).map(function(ye){return String.fromCharCode(ye)}).reverse().join("")}var qe=new X(G.map(function(ue){var ye=Ae(ge(atob(ue.image.slice(23))));return ye.duration=ue.duration,ye}));postMessage(qe)}return N.prototype.compile=function(G){var X=E(j);X.onmessage=function(Z){if(Z.data.error){console.error(Z.data.error);return}G(Z.data)},X.postMessage(this.frames)},{Video:N}}();typeof e<"u"&&(e.Whammy=F);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var H={init:function(){var N=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var E=1,j=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),G,X=indexedDB.open(j,E);function Z(re){re.createObjectStore(N.dataStoreName)}function ce(){var re=G.transaction([N.dataStoreName],"readwrite");N.videoBlob&&re.objectStore(N.dataStoreName).put(N.videoBlob,"videoBlob"),N.gifBlob&&re.objectStore(N.dataStoreName).put(N.gifBlob,"gifBlob"),N.audioBlob&&re.objectStore(N.dataStoreName).put(N.audioBlob,"audioBlob");function pe(me){re.objectStore(N.dataStoreName).get(me).onsuccess=function(de){N.callback&&N.callback(de.target.result,me)}}pe("audioBlob"),pe("videoBlob"),pe("gifBlob")}X.onerror=N.onError,X.onsuccess=function(){if(G=X.result,G.onerror=N.onError,G.setVersion)if(G.version!==E){var re=G.setVersion(E);re.onsuccess=function(){Z(G),ce()}}else ce();else ce()},X.onupgradeneeded=function(re){Z(re.target.result)}},Fetch:function(N){return this.callback=N,this.init(),this},Store:function(N){return this.audioBlob=N.audioBlob,this.videoBlob=N.videoBlob,this.gifBlob=N.gifBlob,this.init(),this},onError:function(N){console.error(JSON.stringify(N,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=H);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function K(N,E){if(typeof GIFEncoder>"u"){var j=document.createElement("script");j.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(j)}E=E||{};var G=N instanceof CanvasRenderingContext2D||N instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(Le.record,1e3);return}if(!pe){setTimeout(Le.record,1e3);return}G||(E.width||(E.width=me.offsetWidth||320),E.height||(E.height=me.offsetHeight||240),E.video||(E.video={width:E.width,height:E.height}),E.canvas||(E.canvas={width:E.width,height:E.height}),ce.width=E.canvas.width||320,ce.height=E.canvas.height||240,me.width=E.video.width||320,me.height=E.video.height||240),Ae=new GIFEncoder,Ae.setRepeat(0),Ae.setDelay(E.frameRate||200),Ae.setQuality(E.quality||10),Ae.start(),typeof E.onGifRecordingStarted=="function"&&E.onGifRecordingStarted();function ge(Pe){if(Le.clearedRecordedData!==!0){if(X)return setTimeout(function(){ge(Pe)},100);de=a(ge),typeof Te===void 0&&(Te=Pe),!(Pe-Te<90)&&(!G&&me.paused&&me.play(),G||re.drawImage(me,0,0,ce.width,ce.height),E.onGifPreview&&E.onGifPreview(ce.toDataURL("image/png")),Ae.addFrame(re),Te=Pe)}}de=a(ge),E.initCallback&&E.initCallback()},this.stop=function(ge){ge=ge||function(){},de&&l(de),this.blob=new Blob([new Uint8Array(Ae.stream().bin)],{type:"image/gif"}),ge(this.blob),Ae.stream().bin=[]};var X=!1;this.pause=function(){X=!0},this.resume=function(){X=!1},this.clearRecordedData=function(){Le.clearedRecordedData=!0,Z()};function Z(){Ae&&(Ae.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var ce=document.createElement("canvas"),re=ce.getContext("2d");G&&(N instanceof CanvasRenderingContext2D?(re=N,ce=re.canvas):N instanceof HTMLCanvasElement&&(re=N.getContext("2d"),ce=N));var pe=!0;if(!G){var me=document.createElement("video");me.muted=!0,me.autoplay=!0,me.playsInline=!0,pe=!1,me.onloadedmetadata=function(){pe=!0},k(N,me),me.play()}var de=null,Te,Ae,Le=this}typeof e<"u"&&(e.GifRecorder=K);function P(N,E){var j="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(V){typeof e<"u"||V&&(typeof window<"u"||typeof It>"u"||(It.navigator={userAgent:j,getUserMedia:function(){}},It.console||(It.console={}),(typeof It.console.log>"u"||typeof It.console.error>"u")&&(It.console.error=It.console.log=It.console.log||function(){console.log(arguments)}),typeof document>"u"&&(V.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var Y={getContext:function(){return Y},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return Y},V.HTMLVideoElement=function(){}),typeof location>"u"&&(V.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(V.screen={width:0,height:0}),typeof me>"u"&&(V.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),V.window=It))})(typeof It<"u"?It:null),E=E||"multi-streams-mixer";var G=[],X=!1,Z=document.createElement("canvas"),ce=Z.getContext("2d");Z.style.opacity=0,Z.style.position="absolute",Z.style.zIndex=-1,Z.style.top="-1000em",Z.style.left="-1000em",Z.className=E,(document.body||document.documentElement).appendChild(Z),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var re=this,pe=window.AudioContext;typeof pe>"u"&&(typeof webkitAudioContext<"u"&&(pe=webkitAudioContext),typeof mozAudioContext<"u"&&(pe=mozAudioContext));var me=window.URL;typeof me>"u"&&typeof webkitURL<"u"&&(me=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var de=window.MediaStream;typeof de>"u"&&typeof webkitMediaStream<"u"&&(de=webkitMediaStream),typeof de<"u"&&typeof de.prototype.stop>"u"&&(de.prototype.stop=function(){this.getTracks().forEach(function(V){V.stop()})});var Te={};typeof pe<"u"?Te.AudioContext=pe:typeof webkitAudioContext<"u"&&(Te.AudioContext=webkitAudioContext);function Ae(V,Y){"srcObject"in Y?Y.srcObject=V:"mozSrcObject"in Y?Y.mozSrcObject=V:Y.srcObject=V}this.startDrawingFrames=function(){Le()};function Le(){if(!X){var V=G.length,Y=!1,he=[];if(G.forEach(function(Re){Re.stream||(Re.stream={}),Re.stream.fullcanvas?Y=Re:he.push(Re)}),Y)Z.width=Y.stream.width,Z.height=Y.stream.height;else if(he.length){Z.width=V>1?he[0].width*2:he[0].width;var we=1;(V===3||V===4)&&(we=2),(V===5||V===6)&&(we=3),(V===7||V===8)&&(we=4),(V===9||V===10)&&(we=5),Z.height=he[0].height*we}else Z.width=re.width||360,Z.height=re.height||240;Y&&Y instanceof HTMLVideoElement&&ge(Y),he.forEach(function(Re,ze){ge(Re,ze)}),setTimeout(Le,re.frameInterval)}}function ge(V,Y){if(!X){var he=0,we=0,Re=V.width,ze=V.height;Y===1&&(he=V.width),Y===2&&(we=V.height),Y===3&&(he=V.width,we=V.height),Y===4&&(we=V.height*2),Y===5&&(he=V.width,we=V.height*2),Y===6&&(we=V.height*3),Y===7&&(he=V.width,we=V.height*3),typeof V.stream.left<"u"&&(he=V.stream.left),typeof V.stream.top<"u"&&(we=V.stream.top),typeof V.stream.width<"u"&&(Re=V.stream.width),typeof V.stream.height<"u"&&(ze=V.stream.height),ce.drawImage(V,he,we,Re,ze),typeof V.stream.onRender=="function"&&V.stream.onRender(ce,he,we,Re,ze,Y)}}function Pe(){X=!1;var V=qe(),Y=ue();return Y&&Y.getTracks().filter(function(he){return he.kind==="audio"}).forEach(function(he){V.addTrack(he)}),N.forEach(function(he){he.fullcanvas}),V}function qe(){Be();var V;"captureStream"in Z?V=Z.captureStream():"mozCaptureStream"in Z?V=Z.mozCaptureStream():re.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var Y=new de;return V.getTracks().filter(function(he){return he.kind==="video"}).forEach(function(he){Y.addTrack(he)}),Z.stream=Y,Y}function ue(){Te.AudioContextConstructor||(Te.AudioContextConstructor=new Te.AudioContext),re.audioContext=Te.AudioContextConstructor,re.audioSources=[],re.useGainNode===!0&&(re.gainNode=re.audioContext.createGain(),re.gainNode.connect(re.audioContext.destination),re.gainNode.gain.value=0);var V=0;if(N.forEach(function(Y){if(Y.getTracks().filter(function(we){return we.kind==="audio"}).length){V++;var he=re.audioContext.createMediaStreamSource(Y);re.useGainNode===!0&&he.connect(re.gainNode),re.audioSources.push(he)}}),!!V)return re.audioDestination=re.audioContext.createMediaStreamDestination(),re.audioSources.forEach(function(Y){Y.connect(re.audioDestination)}),re.audioDestination.stream}function ye(V){var Y=document.createElement("video");return Ae(V,Y),Y.className=E,Y.muted=!0,Y.volume=0,Y.width=V.width||re.width||360,Y.height=V.height||re.height||240,Y.play(),Y}this.appendStreams=function(V){if(!V)throw"First parameter is required.";V instanceof Array||(V=[V]),V.forEach(function(Y){var he=new de;if(Y.getTracks().filter(function(ze){return ze.kind==="video"}).length){var we=ye(Y);we.stream=Y,G.push(we),he.addTrack(Y.getTracks().filter(function(ze){return ze.kind==="video"})[0])}if(Y.getTracks().filter(function(ze){return ze.kind==="audio"}).length){var Re=re.audioContext.createMediaStreamSource(Y);re.audioDestination=re.audioContext.createMediaStreamDestination(),Re.connect(re.audioDestination),he.addTrack(re.audioDestination.stream.getTracks().filter(function(ze){return ze.kind==="audio"})[0])}N.push(he)})},this.releaseStreams=function(){G=[],X=!0,re.gainNode&&(re.gainNode.disconnect(),re.gainNode=null),re.audioSources.length&&(re.audioSources.forEach(function(V){V.disconnect()}),re.audioSources=[]),re.audioDestination&&(re.audioDestination.disconnect(),re.audioDestination=null),re.audioContext&&re.audioContext.close(),re.audioContext=null,ce.clearRect(0,0,Z.width,Z.height),Z.stream&&(Z.stream.stop(),Z.stream=null)},this.resetVideoStreams=function(V){V&&!(V instanceof Array)&&(V=[V]),Be(V)};function Be(V){G=[],V=V||N,V.forEach(function(Y){if(Y.getTracks().filter(function(we){return we.kind==="video"}).length){var he=ye(Y);he.stream=Y,G.push(he)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=Pe}typeof e>"u"&&(t.exports=P);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function W(N,E){N=N||[];var j=this,G,X;E=E||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},E.frameInterval||(E.frameInterval=10),E.video||(E.video={}),E.video.width||(E.video.width=360),E.video.height||(E.video.height=240),this.record=function(){G=new P(N,E.elementClass||"multi-streams-mixer"),Z().length&&(G.frameInterval=E.frameInterval||10,G.width=E.video.width||360,G.height=E.video.height||240,G.startDrawingFrames()),E.previewStream&&typeof E.previewStream=="function"&&E.previewStream(G.getMixedStream()),X=new D(G.getMixedStream(),E),X.record()};function Z(){var ce=[];return N.forEach(function(re){I(re,"video").forEach(function(pe){ce.push(pe)})}),ce}this.stop=function(ce){X&&X.stop(function(re){j.blob=re,ce(re),j.clearRecordedData()})},this.pause=function(){X&&X.pause()},this.resume=function(){X&&X.resume()},this.clearRecordedData=function(){X&&(X.clearRecordedData(),X=null),G&&(G.releaseStreams(),G=null)},this.addStreams=function(ce){if(!ce)throw"First parameter is required.";ce instanceof Array||(ce=[ce]),N.concat(ce),!(!X||!G)&&(G.appendStreams(ce),E.previewStream&&typeof E.previewStream=="function"&&E.previewStream(G.getMixedStream()))},this.resetVideoStreams=function(ce){G&&(ce&&!(ce instanceof Array)&&(ce=[ce]),G.resetVideoStreams(ce))},this.getMixer=function(){return G},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=W);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function ie(N,E){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof N>"u")throw'First argument "MediaStream" is required.';var j=this;j.recordRTC=new e(N,E),this.startRecording=function(){return new Promise(function(G,X){try{j.recordRTC.startRecording(),G()}catch(Z){X(Z)}})},this.stopRecording=function(){return new Promise(function(G,X){try{j.recordRTC.stopRecording(function(Z){if(j.blob=j.recordRTC.getBlob(),!j.blob||!j.blob.size){X("Empty blob.",j.blob);return}G(Z)})}catch(Z){X(Z)}})},this.pauseRecording=function(){return new Promise(function(G,X){try{j.recordRTC.pauseRecording(),G()}catch(Z){X(Z)}})},this.resumeRecording=function(){return new Promise(function(G,X){try{j.recordRTC.resumeRecording(),G()}catch(Z){X(Z)}})},this.getDataURL=function(G){return new Promise(function(X,Z){try{j.recordRTC.getDataURL(function(ce){X(ce)})}catch(ce){Z(ce)}})},this.getBlob=function(){return new Promise(function(G,X){try{G(j.recordRTC.getBlob())}catch(Z){X(Z)}})},this.getInternalRecorder=function(){return new Promise(function(G,X){try{G(j.recordRTC.getInternalRecorder())}catch(Z){X(Z)}})},this.reset=function(){return new Promise(function(G,X){try{G(j.recordRTC.reset())}catch(Z){X(Z)}})},this.destroy=function(){return new Promise(function(G,X){try{G(j.recordRTC.destroy())}catch(Z){X(Z)}})},this.getState=function(){return new Promise(function(G,X){try{G(j.recordRTC.getState())}catch(Z){X(Z)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=ie);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function Q(N,E){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),E=E||{},E.width=E.width||640,E.height=E.height||480,E.frameRate=E.frameRate||30,E.bitrate=E.bitrate||1200,E.realtime=E.realtime||!0;var j;function G(){return new ReadableStream({start:function(me){var de=document.createElement("canvas"),Te=document.createElement("video"),Ae=!0;Te.srcObject=N,Te.muted=!0,Te.height=E.height,Te.width=E.width,Te.volume=0,Te.onplaying=function(){de.width=E.width,de.height=E.height;var Le=de.getContext("2d"),ge=1e3/E.frameRate,Pe=setInterval(function(){if(j&&(clearInterval(Pe),me.close()),Ae&&(Ae=!1,E.onVideoProcessStarted&&E.onVideoProcessStarted()),Le.drawImage(Te,0,0),me._controlledReadableStream.state!=="closed")try{me.enqueue(Le.getImageData(0,0,E.width,E.height))}catch{}},ge)},Te.play()}})}var X;function Z(me,de){if(!E.workerPath&&!de){j=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(Ae){Ae.arrayBuffer().then(function(Le){Z(me,Le)})});return}if(!E.workerPath&&de instanceof ArrayBuffer){var Te=new Blob([de],{type:"text/javascript"});E.workerPath=f.createObjectURL(Te)}E.workerPath||console.error("workerPath parameter is missing."),X=new Worker(E.workerPath),X.postMessage(E.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),X.addEventListener("message",function(Ae){Ae.data==="READY"?(X.postMessage({width:E.width,height:E.height,bitrate:E.bitrate||1200,timebaseDen:E.frameRate||30,realtime:E.realtime}),G().pipeTo(new WritableStream({write:function(Le){if(j){console.error("Got image, but recorder is finished!");return}X.postMessage(Le.data.buffer,[Le.data.buffer])}}))):Ae.data&&(ce||pe.push(Ae.data))})}this.record=function(){pe=[],ce=!1,this.blob=null,Z(N),typeof E.initCallback=="function"&&E.initCallback()};var ce;this.pause=function(){ce=!0},this.resume=function(){ce=!1};function re(me){if(!X){me&&me();return}X.addEventListener("message",function(de){de.data===null&&(X.terminate(),X=null,me&&me())}),X.postMessage(null)}var pe=[];this.stop=function(me){j=!0;var de=this;re(function(){de.blob=new Blob(pe,{type:"video/webm"}),me(de.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){pe=[],ce=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=Q)})(G5);var yue=G5.exports,Y5={};function _ue(t){return t&&t.__esModule?t:{default:t}}var Tue=_ue,i_={exports:{}},Q5;function Eue(){return Q5||(Q5=1,function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(Q,N,E){Q[N]=E.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function c(Q,N,E){return Object.defineProperty(Q,N,{value:E,enumerable:!0,configurable:!0,writable:!0}),Q[N]}try{c({},"")}catch{c=function(N,E,j){return N[E]=j}}function h(Q,N,E,j){var G=N&&N.prototype instanceof w?N:w,X=Object.create(G.prototype),Z=new P(j||[]);return s(X,"_invoke",{value:U(Q,E,Z)}),X}n.wrap=h;function p(Q,N,E){try{return{type:"normal",arg:Q.call(N,E)}}catch(j){return{type:"throw",arg:j}}}var m="suspendedStart",g="suspendedYield",v="executing",y="completed",x={};function w(){}function I(){}function k(){}var S={};c(S,l,function(){return this});var B=Object.getPrototypeOf,M=B&&B(B(W([])));M&&M!==r&&i.call(M,l)&&(S=M);var D=k.prototype=w.prototype=Object.create(S);I.prototype=k,s(D,"constructor",{value:k,configurable:!0}),s(k,"constructor",{value:I,configurable:!0}),I.displayName=c(k,f,"GeneratorFunction");function L(Q){["next","throw","return"].forEach(function(N){c(Q,N,function(E){return this._invoke(N,E)})})}n.isGeneratorFunction=function(Q){var N=typeof Q=="function"&&Q.constructor;return N?N===I||(N.displayName||N.name)==="GeneratorFunction":!1},n.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,k):(Q.__proto__=k,c(Q,f,"GeneratorFunction")),Q.prototype=Object.create(D),Q},n.awrap=function(Q){return{__await:Q}};function z(Q,N){function E(X,Z,ce,re){var pe=p(Q[X],Q,Z);if(pe.type==="throw")re(pe.arg);else{var me=pe.arg,de=me.value;return de&&typeof de=="object"&&i.call(de,"__await")?N.resolve(de.__await).then(function(Te){E("next",Te,ce,re)},function(Te){E("throw",Te,ce,re)}):N.resolve(de).then(function(Te){me.value=Te,ce(me)},function(Te){return E("throw",Te,ce,re)})}}var j;function G(X,Z){function ce(){return new N(function(re,pe){E(X,Z,re,pe)})}return j=j?j.then(ce,ce):ce()}s(this,"_invoke",{value:G})}L(z.prototype),c(z.prototype,d,function(){return this}),n.AsyncIterator=z,n.async=function(Q,N,E,j,G){G===void 0&&(G=Promise);var X=new z(h(Q,N,E,j),G);return n.isGeneratorFunction(N)?X:X.next().then(function(Z){return Z.done?Z.value:X.next()})};function U(Q,N,E){var j=m;return function(X,Z){if(j===v)throw new Error("Generator is already running");if(j===y){if(X==="throw")throw Z;return ie()}for(E.method=X,E.arg=Z;;){var ce=E.delegate;if(ce){var re=F(ce,E);if(re){if(re===x)continue;return re}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(j===m)throw j=y,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);j=v;var pe=p(Q,N,E);if(pe.type==="normal"){if(j=E.done?y:g,pe.arg===x)continue;return{value:pe.arg,done:E.done}}else pe.type==="throw"&&(j=y,E.method="throw",E.arg=pe.arg)}}}function F(Q,N){var E=N.method,j=Q.iterator[E];if(j===a)return N.delegate=null,E==="throw"&&Q.iterator.return&&(N.method="return",N.arg=a,F(Q,N),N.method==="throw")||E!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+E+"' method")),x;var G=p(j,Q.iterator,N.arg);if(G.type==="throw")return N.method="throw",N.arg=G.arg,N.delegate=null,x;var X=G.arg;if(!X)return N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,x;if(X.done)N[Q.resultName]=X.value,N.next=Q.nextLoc,N.method!=="return"&&(N.method="next",N.arg=a);else return X;return N.delegate=null,x}L(D),c(D,f,"Generator"),c(D,l,function(){return this}),c(D,"toString",function(){return"[object Generator]"});function H(Q){var N={tryLoc:Q[0]};1 in Q&&(N.catchLoc=Q[1]),2 in Q&&(N.finallyLoc=Q[2],N.afterLoc=Q[3]),this.tryEntries.push(N)}function K(Q){var N=Q.completion||{};N.type="normal",delete N.arg,Q.completion=N}function P(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(H,this),this.reset(!0)}n.keys=function(Q){var N=Object(Q),E=[];for(var j in N)E.push(j);return E.reverse(),function G(){for(;E.length;){var X=E.pop();if(X in N)return G.value=X,G.done=!1,G}return G.done=!0,G}};function W(Q){if(Q){var N=Q[l];if(N)return N.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length)){var E=-1,j=function G(){for(;++E<Q.length;)if(i.call(Q,E))return G.value=Q[E],G.done=!1,G;return G.value=a,G.done=!0,G};return j.next=j}}return{next:ie}}n.values=W;function ie(){return{value:a,done:!0}}return P.prototype={constructor:P,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(K),!Q)for(var N in this)N.charAt(0)==="t"&&i.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=a)},stop:function(){this.done=!0;var Q=this.tryEntries[0],N=Q.completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var N=this;function E(re,pe){return X.type="throw",X.arg=Q,N.next=re,pe&&(N.method="next",N.arg=a),!!pe}for(var j=this.tryEntries.length-1;j>=0;--j){var G=this.tryEntries[j],X=G.completion;if(G.tryLoc==="root")return E("end");if(G.tryLoc<=this.prev){var Z=i.call(G,"catchLoc"),ce=i.call(G,"finallyLoc");if(Z&&ce){if(this.prev<G.catchLoc)return E(G.catchLoc,!0);if(this.prev<G.finallyLoc)return E(G.finallyLoc)}else if(Z){if(this.prev<G.catchLoc)return E(G.catchLoc,!0)}else if(ce){if(this.prev<G.finallyLoc)return E(G.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Q,N){for(var E=this.tryEntries.length-1;E>=0;--E){var j=this.tryEntries[E];if(j.tryLoc<=this.prev&&i.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var G=j;break}}G&&(Q==="break"||Q==="continue")&&G.tryLoc<=N&&N<=G.finallyLoc&&(G=null);var X=G?G.completion:{};return X.type=Q,X.arg=N,G?(this.method="next",this.next=G.finallyLoc,x):this.complete(X)},complete:function(Q,N){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&N&&(this.next=N),x},finish:function(Q){for(var N=this.tryEntries.length-1;N>=0;--N){var E=this.tryEntries[N];if(E.finallyLoc===Q)return this.complete(E.completion,E.afterLoc),K(E),x}},catch:function(Q){for(var N=this.tryEntries.length-1;N>=0;--N){var E=this.tryEntries[N];if(E.tryLoc===Q){var j=E.completion;if(j.type==="throw"){var G=j.arg;K(E)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(Q,N,E){return this.delegate={iterator:W(Q),resultName:N,nextLoc:E},this.method==="next"&&(this.arg=a),x}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(i_)),i_.exports}var s_,K5;function Aue(){return K5||(K5=1,s_=Eue()),s_}var a_,X5;function xue(){if(X5)return a_;X5=1;function t(n,r,i,s,a,o,l){try{var d=n[o](l),f=d.value}catch(c){i(c);return}d.done?r(f):Promise.resolve(f).then(s,a)}function e(n){return function(){var r=this,i=arguments;return new Promise(function(s,a){var o=n.apply(r,i);function l(f){t(o,s,a,l,d,"next",f)}function d(f){t(o,s,a,l,d,"throw",f)}l(void 0)})}}return a_=e,a_}(function(t){var e=Tue;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=e(Aue()),r=e(xue());function i(a){return s.apply(this,arguments)}function s(){return(s=(0,r.default)(n.default.mark(function a(o){var l,d;return n.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=document.createElement("video"),d=new Promise(function(c,h){l.addEventListener("loadedmetadata",function(){l.duration===1/0?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,c(l.duration),l.currentTime=0}):c(l.duration)}),l.onerror=function(p){return h(p.target.error)}}),l.src=typeof o=="string"||o instanceof String?o:window.URL.createObjectURL(o),f.abrupt("return",d);case 4:case"end":return f.stop()}},a)}))).apply(this,arguments)}})(Y5);const Cue=or(Y5),wue=t=>(u.pushScopeId("data-v-d7ca8ae1"),t=t(),u.popScopeId(),t),Sue={class:"flex grow items-center gap-1"},kue={class:"relative flex h-12 w-0 min-w-0 grow items-center gap-3 rounded-xl bg-gray-100 px-3 dark:bg-zinc-700"},Iue={key:0,class:"flex items-center gap-1 rounded-xl bg-white p-2 text-xs text-gray-600 transition duration-150 ease-in-out dark:bg-zinc-800"},Due=wue(()=>u.createElementVNode("img",{class:"h-4 w-4",src:z5},null,-1)),Nue={class:"volumes"},Mue={class:"ml-auto rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},Oue={key:1,class:"ml-2 mr-1 h-6 w-6 cursor-not-allowed",src:DT},Z5="audio/webm",Lue=180,Rue=On(u.defineComponent({__name:"AudioInput",setup(t){const{t:e}=ss(),n=rn(),r=u.ref(3),i=u.ref(),s=u.ref(),a=u.ref(0),o=u.ref(0),l=u.ref(),d=u.ref(),f=u.reactive([]),c=u.ref(""),h=u.computed(()=>a.value>1),p=async()=>{var g,v;try{switch(r.value){case 3:{r.value=0,f.splice(0),a.value=0,o.value=0,i.value=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),s.value=new yue.RecordRTCPromisesHandler(i.value,{type:"audio",mimeType:Z5});let y=new AudioContext,x=y.createAnalyser();x.fftSize=64,x.smoothingTimeConstant=0,y.createMediaStreamSource(i.value).connect(x),d.value=window.setInterval(()=>{let I=new Uint8Array(x.frequencyBinCount);x.getByteFrequencyData(I);let k=I.reduce((B,M)=>B+M)/I.length;const S=Math.min(1,k/128);f.unshift(S)},100),await s.value.startRecording(),o.value=Date.now(),l.value=window.setInterval(()=>{a.value=(Date.now()-o.value)/1e3,a.value>=Lue&&p()},1e3),r.value=1;break}case 1:r.value=2,await((g=s.value)==null?void 0:g.stopRecording()),(v=i.value)==null||v.getTracks().forEach(y=>y.stop()),clearInterval(l.value),clearInterval(d.value),r.value=3;break;default:break}}catch(y){console.error(y),c.value=e("noAccessMicrophonePermission")}},m=async()=>{var v;r.value!==3&&await p(),f.splice(0),a.value=0,o.value=0;let g=await((v=s.value)==null?void 0:v.getBlob());if(g){const y=await Cue(g),x=new File([g],`${Up()}.webm`),w={roomId:n.state.imkit.selectedRoomId,messageType:"audio",file:x,duration:y,originalUrl:"",extra:{mimeType:Z5,fileName:x.name.split(".").slice(0,-1).join("."),bytes:x.size,fileExtension:x.name.split(".").pop()}};await n.dispatch("imkit/sendMessage",w)}};return u.onUnmounted(()=>{clearInterval(l.value),clearInterval(d.value)}),(g,v)=>(u.openBlock(),u.createElementBlock("div",Sue,[u.createElementVNode("div",kue,[u.createElementVNode("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full border-2 border-gray-300",onClick:p},[u.createElementVNode("div",{class:u.normalizeClass(["h-6 w-6 rounded-full bg-red-500 transition-all duration-200 ease-in",{"h-3.5 w-3.5 rounded":r.value==1,"cursor-not-allowed bg-red-300":c.value}])},null,2)]),u.createVNode(u.Transition,null,{default:u.withCtx(()=>[c.value?(u.openBlock(),u.createElementBlock("div",Iue,[Due,u.createTextVNode(" "+u.toDisplayString(c.value),1)])):u.createCommentVNode("",!0)]),_:1}),u.createElementVNode("div",Nue,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(f,(y,x)=>(u.openBlock(),u.createElementBlock("div",{key:x,class:"!min-h-0.5 w-0.5 flex-shrink-0 rounded bg-gray-400",style:u.normalizeStyle({height:`${y*28}px`})},null,4))),128))]),u.createElementVNode("div",Mue,u.toDisplayString(Math.floor(a.value/60))+":"+u.toDisplayString(`${Math.floor(a.value%60)}`.padStart(2,"0")),1)]),h.value?(u.openBlock(),u.createElementBlock("img",{key:0,class:"ml-2 mr-1 h-6 w-6 cursor-pointer",src:IT,onClick:m})):(u.openBlock(),u.createElementBlock("img",Oue))]))}}),[["__scopeId","data-v-d7ca8ae1"]]),Bue=()=>{const t=window.location.href,e=t.substring(t.indexOf("?"));return new URLSearchParams(e.lastIndexOf("#/")==-1?e:e.substring(0,e.lastIndexOf("#/")))};function Ff(t){var e;const n=bo(t);return(e=n==null?void 0:n.$el)!=null?e:n}const J5=mg?window:void 0;function D0(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=J5):[e,n,r,i]=t,!e)return Ll;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(f=>f()),s.length=0},o=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[Ff(e),bo(i)],([f,c])=>{if(a(),!f)return;const h=sT(c)?{...c}:c;s.push(...n.flatMap(p=>r.map(m=>o(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),a()};return pg(d),d}let q5=!1;function $5(t,e,n={}){const{window:r=J5,ignore:i=[],capture:s=!0,detectIframe:a=!1}=n;if(!r)return Ll;gg&&!q5&&(q5=!0,Array.from(r.document.body.children).forEach(h=>h.addEventListener("click",Ll)),r.document.documentElement.addEventListener("click",Ll));let o=!0;const l=h=>i.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=Ff(p);return m&&(h.target===m||h.composedPath().includes(m))}}),f=[D0(r,"click",h=>{const p=Ff(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(o=!l(h)),!o){o=!0;return}e(h)}},{passive:!0,capture:s}),D0(r,"pointerdown",h=>{const p=Ff(t);o=!l(h)&&!!(p&&!h.composedPath().includes(p))},{passive:!0}),a&&D0(r,"blur",h=>{setTimeout(()=>{var p;const m=Ff(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&e(h)},0)})].filter(Boolean);return()=>f.forEach(h=>h())}const Uf={[aT.mounted](t,e){const n=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=$5(t,e.value,{capture:n});else{const[r,i]=e.value;t.__onClickOutside_stop=$5(t,r,Object.assign({capture:n},i))}},[aT.unmounted](t){t.__onClickOutside_stop()}};function o_(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function eM(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:eM(n)}}function Pue(t){const e=t||window.event,n=e.target;return eM(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const l_=new WeakMap;function Fue(t,e=!1){const n=u.ref(e);let r=null,i="";u.watch(jO(t),o=>{const l=o_(bo(o));if(l){const d=l;if(l_.get(d)||l_.set(d,d.style.overflow),d.style.overflow!=="hidden"&&(i=d.style.overflow),d.style.overflow==="hidden")return n.value=!0;if(n.value)return d.style.overflow="hidden"}},{immediate:!0});const s=()=>{const o=o_(bo(t));!o||n.value||(gg&&(r=D0(o,"touchmove",l=>{Pue(l)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},a=()=>{const o=o_(bo(t));!o||!n.value||(gg&&(r==null||r()),o.style.overflow=i,l_.delete(o),n.value=!1)};return pg(a),u.computed({get(){return n.value},set(o){o?s():a()}})}function Uue(){let t=!1;const e=u.ref(!1);return(n,r)=>{if(e.value=r.value,t)return;t=!0;const i=Fue(n,r.value);u.watch(e,s=>i.value=s)}}Uue();const jue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UMU7DQBCF4ZEo4Aq0nICCKg03oMJpOIOVN1Nlx4UPAJcDypwgdInoiAJaCB3YG7IQ1nmftJJlWWP9XnlFiIiIiIiIiIhoR8D0DPA71XAbr2XIzJqRalio+uvHCot4Tw4j1t8X4M+q4VIOIVaHGG09sYOKtsTYQUSbNSPAl1+HhZe4voleFneQWffOroDmBgjXHdHl7LQlxH4+W3y0bRFbfLT9ILbYaNshtrhowC96TuNx+qww7jq947t+tyYB4I85YtOiw4PsU9u2JzljE6LXdV0f563YUvzqOWN7ou9l3yYTPwd8tomdm02vcs2Os1T9afMPz+K75L8A/LSqqqPcc+PMODv3XCIiIiIiIiIiIiIi+QNvk5r+mltEG0oAAAAASUVORK5CYII=",Hue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR4nO3UMU7DMBiGYUsMcAVWTsDA1IUbdEIsHIlejrKlQ5r8H07SjYqtiCCrRUxNU2ooTt9HsmQp0W+9iWTnAAAAAAAAcKCiqK/MqolZ9Rj2bsikZmTmX6WqDWu9b0buFGL1Hf1Wlv7WnUKshhitHbGDilbP2EFEax273BK2CmvLs2VyF5k6/qyZfy/Llwczf9cRnc6fVo/Yr3eTj9YesclH6wexyUbrgNjkoovC33TdxlJ133dWeLfr9g5n/W5ND5J/jhHbJ1ryU3dMeZ5fxIzdFW3mP7IsO49bsafw1WPGdkf7J3dskq4lP9vENlI9jje7HptVi03sLJzl/ov5fHHZtu1Z7LlhZpgdey4AAAAAAAAAAO4PfAKuTjfhZH9KRQAAAABJRU5ErkJggg==",zue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVR4nO3UMU7DMBTGcSMGOAMbnICBBRZuwES6cIbIn1NFynOG7NwOWOECMBWxgQA91EqA2iRtLCW2vp/k0c/5x5KNISIiIiIiIiIiIiKKz15ZlkdZlu2HHqwzdbaeYabAWn/qnH9yzn8555+LoroKNVtnAfKiswF51LPM2AD/sIz9WYC8AzIbPldmOuvf7HszpqZpDn9/UKjodbHL9Znn+UHYii3pXw8Z3RKr686MDfBngH8NEd0Wq2foWWYKrK3OnZPFhlv5AOqbrhmAXLfEvjknl2ZK7IDo6GKHREcbu0t09LHbRCcTu1IU9UXH673xNda9Jka2/abTuNldo5OI7RudVGxXdJKxK/oY/Y2WRbQPVF9AdQLIra75vD7uvZGIiIiIiIiIiMx632C5/lbO/M2+AAAAAElFTkSuQmCC",Vue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO3UMU7DMBTGcVcd4AxscAIGFli4QSfUhRtxO2CLQJHzPp5TOoHYQBiZhEqgNk0To8bR95MiZcmz/7FkY4iIiIiIiIiIiIiIEuO9n1i7PPLeT/9h9rSePTFDAOAU0EfAeRH3DJSzeLPLmYhbhtmAPoS1Ys3uDND7akPVI6LvgJv3n+vm9azVbEDvzD7leX74e0NxotfHfs/9zLLsIG7FjsJfjxm9KbY+4Vuzb9bqmYi+xohuig1rhLXMEADluYi+bNjoR1E8XW+bIaJXDbFvRaGXZkjQIzq52D7RycZ2iU4+dpfo0cT+ABYXTbd3020cvjUpQsNJj+Zku0aPIrZt9Khit0WPMvbPRbaKrt4TvaDasrY8EdGb8Djnjlt/SEREREREREREZr0vWIQ93o81LZQAAAAASUVORK5CYII=",Wue={class:"flex grow items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Gue={key:0,class:"flex h-6 w-6 items-center justify-center"},Yue=[u.createElementVNode("svg",{class:"h-5 w-5 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1)],Que={key:1,class:"h-5 w-5 cursor-pointer",src:ph},Kue=["placeholder"],Xue={class:"pb-0.5 text-sm font-medium text-gray-500 dark:text-gray-300"},Zue={key:1,width:"20",height:"20",src:Hue,alt:"collapse-arrow"},Jue={key:3,width:"20",height:"20",src:Vue,alt:"expand-arrow"},que=u.defineComponent({__name:"SearchPanel",setup(t){const e=rn(),n=u.ref(""),r=u.ref(0),i=u.ref([]),s=u.ref(!1),a=u.ref(!1),o=async()=>{var p;if(!s.value&&n.value){a.value=!0;const{data:{result:m}}=await e.state.imkit.axios.post(ws.Search,{type:["messages"],room:e.state.imkit.selectedRoomId,keyword:n.value});i.value=((p=m.messages[0])==null?void 0:p.messages)??[],a.value=!1,i.value.length>0?(r.value=i.value.length,await e.commit("imkit/setState",{messageSearchKeyword:n.value}),await e.dispatch("imkit/navigateToMessage",i.value[r.value-1])):r.value=0}},l=p=>{p>0&&p<=i.value.length&&(r.value=p,e.dispatch("imkit/navigateToMessage",i.value[p-1]))},d=Pf(1e3,o),f=r_(500,d,{atBegin:!1}),c=u.computed(()=>e.state.imkit.config.styles);u.watch(n,f);const h=()=>{e.commit("imkit/setState",{isSearchInRoomMode:!1})};return(p,m)=>(u.openBlock(),u.createElementBlock("div",{class:"flex h-[60px] items-center justify-center border-b border-solid p-2 dark:border-zinc-700",style:u.normalizeStyle(c.value.chatRoomHeader)},[u.createElementVNode("div",Wue,[a.value?(u.openBlock(),u.createElementBlock("div",Gue,Yue)):(u.openBlock(),u.createElementBlock("img",Que)),u.withDirectives(u.createElementVNode("input",{class:"h-5 grow bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[0]||(m[0]=g=>n.value=g),placeholder:p.$t("searchInConversation"),onCompositionstart:m[1]||(m[1]=g=>s.value=!0),onCompositionend:m[2]||(m[2]=g=>s.value=!1)},null,40,Kue),[[u.vModelText,n.value]]),!a.value&&n.value.length>0?(u.openBlock(),u.createElementBlock(u.Fragment,{key:2},[u.createElementVNode("div",Xue,u.toDisplayString(r.value)+"/"+u.toDisplayString(i.value.length),1),r.value>1?(u.openBlock(),u.createElementBlock("img",{key:0,class:"cursor-pointer",width:"20",height:"20",src:jue,alt:"collapse-arrow",onClick:m[3]||(m[3]=g=>l(r.value-1))})):(u.openBlock(),u.createElementBlock("img",Zue)),r.value<i.value.length?(u.openBlock(),u.createElementBlock("img",{key:2,class:"cursor-pointer",width:"20",height:"20",src:zue,alt:"expand-arrow",onClick:m[4]||(m[4]=g=>l(r.value+1))})):(u.openBlock(),u.createElementBlock("img",Jue))],64)):u.createCommentVNode("",!0),u.createElementVNode("img",{src:I0,class:"h-5 w-5 cursor-pointer",onClick:m[5]||(m[5]=()=>{u.unref(f).cancel({upcomingOnly:!0}),n.value="",u.unref(d)(),h()})})])],4))}});function _a(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function u_(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}const tM={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},pc="^\\s*",mc="\\s*$",hl="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",pl="([0-9A-Fa-f])",ml="([0-9A-Fa-f]{2})",$ue=new RegExp(`${pc}rgb\\s*\\(${hl},${hl},${hl}\\)${mc}`),ece=new RegExp(`${pc}rgba\\s*\\(${hl},${hl},${hl},${hl}\\)${mc}`),tce=new RegExp(`${pc}#${pl}${pl}${pl}${mc}`),nce=new RegExp(`${pc}#${ml}${ml}${ml}${mc}`),rce=new RegExp(`${pc}#${pl}${pl}${pl}${pl}${mc}`),ice=new RegExp(`${pc}#${ml}${ml}${ml}${ml}${mc}`);function oi(t){return parseInt(t,16)}function Ta(t){try{let e;if(e=nce.exec(t))return[oi(e[1]),oi(e[2]),oi(e[3]),1];if(e=$ue.exec(t))return[Cr(e[1]),Cr(e[5]),Cr(e[9]),1];if(e=ece.exec(t))return[Cr(e[1]),Cr(e[5]),Cr(e[9]),jf(e[13])];if(e=tce.exec(t))return[oi(e[1]+e[1]),oi(e[2]+e[2]),oi(e[3]+e[3]),1];if(e=ice.exec(t))return[oi(e[1]),oi(e[2]),oi(e[3]),jf(oi(e[4])/255)];if(e=rce.exec(t))return[oi(e[1]+e[1]),oi(e[2]+e[2]),oi(e[3]+e[3]),jf(oi(e[4]+e[4])/255)];if(t in tM)return Ta(tM[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function sce(t){return t>1?1:t<0?0:t}function c_(t,e,n,r){return`rgba(${Cr(t)}, ${Cr(e)}, ${Cr(n)}, ${sce(r)})`}function d_(t,e,n,r,i){return Cr((t*e*(1-r)+n*r)/i)}function ht(t,e){Array.isArray(t)||(t=Ta(t)),Array.isArray(e)||(e=Ta(e));const n=t[3],r=e[3],i=jf(n+r-n*r);return c_(d_(t[0],n,e[0],r,i),d_(t[1],n,e[1],r,i),d_(t[2],n,e[2],r,i),i)}function it(t,e){const[n,r,i,s=1]=Array.isArray(t)?t:Ta(t);return e.alpha?c_(n,r,i,e.alpha):c_(n,r,i,s)}function Fn(t,e){const[n,r,i,s=1]=Array.isArray(t)?t:Ta(t),{lightness:a=1,alpha:o=1}=e;return ace([n*a,r*a,i*a,s*o])}function jf(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Cr(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function ace(t){const[e,n,r]=t;return 3 in t?`rgba(${Cr(e)}, ${Cr(n)}, ${Cr(r)}, ${jf(t[3])})`:`rgba(${Cr(e)}, ${Cr(n)}, ${Cr(r)}, 1)`}function N0(t,...e){if(Array.isArray(t))t.forEach(n=>N0(n,...e));else return t(...e)}const nM=new Set;function oce(t,e){const n=`[naive/${t}]: ${e}`;nM.has(n)||(nM.add(n),console.error(n))}function lce(t,e){console.error(`[naive/${t}]: ${e}`)}function rM(t,e){throw new Error(`[naive/${t}]: ${e}`)}function f_(t){return t.some(e=>u.isVNode(e)?!(e.type===u.Comment||e.type===u.Fragment&&!f_(e.children)):!0)?t:null}function gl(t,e){const n=t&&f_(t());return e(n||null)}function h_(t){return!(t&&f_(t()))}const uce=/^(\d|\.)+$/,iM=/(\d|\.)+/;function cce(t,{c:e=1,offset:n=0,attachPx:r=!0}={}){if(typeof t=="number"){const i=(t+n)*e;return i===0?"0":`${i}px`}else if(typeof t=="string")if(uce.test(t)){const i=(Number(t)+n)*e;return r?i===0?"0":`${i}px`:`${i}`}else{const i=iM.exec(t);return i?t.replace(iM,String((Number(i[0])+n)*e)):t}return t}function dce(t){let e=0;for(let n=0;n<t.length;++n)t[n]==="&"&&++e;return e}const sM=/\s*,(?![^(]*\))\s*/g,fce=/\s+/g;function hce(t,e){const n=[];return e.split(sM).forEach(r=>{let i=dce(r);if(i){if(i===1){t.forEach(a=>{n.push(r.replace("&",a))});return}}else{t.forEach(a=>{n.push((a&&a+" ")+r)});return}let s=[r];for(;i--;){const a=[];s.forEach(o=>{t.forEach(l=>{a.push(o.replace("&",l))})}),s=a}s.forEach(a=>n.push(a))}),n}function pce(t,e){const n=[];return e.split(sM).forEach(r=>{t.forEach(i=>{n.push((i&&i+" ")+r)})}),n}function mce(t){let e=[""];return t.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?e=hce(e,n):e=pce(e,n))}),e.join(", ").replace(fce," ")}function aM(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function p_(t){return document.querySelector(`style[cssr-id="${t}"]`)}function gce(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function M0(t){return t?/^\s*@(s|m)/.test(t):!1}const bce=/[A-Z]/g;function oM(t){return t.replace(bce,e=>"-"+e.toLowerCase())}function vce(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(n=>e+`  ${oM(n[0])}: ${n[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function yce(t,e,n){return typeof t=="function"?t({context:e.context,props:n}):t}function lM(t,e,n,r){if(!e)return"";const i=yce(e,n,r);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const s=Object.keys(i);if(s.length===0)return n.config.keepEmptyBlock?t+` {
}`:"";const a=t?[t+" {"]:[];return s.forEach(o=>{const l=i[o];if(o==="raw"){a.push(`
`+l+`
`);return}o=oM(o),l!=null&&a.push(`  ${o}${vce(l)}`)}),t&&a.push("}"),a.join(`
`)}function m_(t,e,n){t&&t.forEach(r=>{if(Array.isArray(r))m_(r,e,n);else if(typeof r=="function"){const i=r(e);Array.isArray(i)?m_(i,e,n):i&&n(i)}else r&&n(r)})}function uM(t,e,n,r,i,s){const a=t.$;let o="";if(!a||typeof a=="string")M0(a)?o=a:e.push(a);else if(typeof a=="function"){const f=a({context:r.context,props:i});M0(f)?o=f:e.push(f)}else if(a.before&&a.before(r.context),!a.$||typeof a.$=="string")M0(a.$)?o=a.$:e.push(a.$);else if(a.$){const f=a.$({context:r.context,props:i});M0(f)?o=f:e.push(f)}const l=mce(e),d=lM(l,t.props,r,i);o?(n.push(`${o} {`),s&&d&&s.insertRule(`${o} {
${d}
}
`)):(s&&d&&s.insertRule(d),!s&&d.length&&n.push(d)),t.children&&m_(t.children,{context:r.context,props:i},f=>{if(typeof f=="string"){const c=lM(l,{raw:f},r,i);s?s.insertRule(c):n.push(c)}else uM(f,e,n,r,i,s)}),e.pop(),o&&n.push("}"),a&&a.after&&a.after(r.context)}function cM(t,e,n,r=!1){const i=[];return uM(t,[],i,e,n,r?t.instance.__styleSheet:void 0),r?"":i.join(`

`)}function g_(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function _ce(t,e,n){const{els:r}=e;if(n===void 0)r.forEach(aM),e.els=[];else{const i=p_(n);i&&r.includes(i)&&(aM(i),e.els=r.filter(s=>s!==i))}}function dM(t,e){t.push(e)}function Tce(t,e,n,r,i,s,a,o,l){if(s&&!l){if(n===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const h=window.__cssrContext;h[n]||(h[n]=!0,cM(e,t,r,s));return}let d;if(n===void 0&&(d=e.render(r),n=g_(d)),l){l.adapter(n,d??e.render(r));return}const f=p_(n);if(f!==null&&!a)return f;const c=f??gce(n);if(d===void 0&&(d=e.render(r)),c.textContent=d,f!==null)return f;if(o){const h=document.head.querySelector(`meta[name="${o}"]`);if(h)return document.head.insertBefore(c,h),dM(e.els,c),c}return i?document.head.insertBefore(c,document.head.querySelector("style, link")):document.head.appendChild(c),dM(e.els,c),c}function Ece(t){return cM(this,this.instance,t)}function Ace(t={}){const{id:e,ssr:n,props:r,head:i=!1,silent:s=!1,force:a=!1,anchorMetaName:o}=t;return Tce(this.instance,this,e,r,i,s,a,o,n)}function xce(t={}){const{id:e}=t;_ce(this.instance,this,e)}const O0=function(t,e,n,r){return{instance:t,$:e,props:n,children:r,els:[],render:Ece,mount:Ace,unmount:xce}},Cce=function(t,e,n,r){return Array.isArray(e)?O0(t,{$:null},null,e):Array.isArray(n)?O0(t,e,null,n):Array.isArray(r)?O0(t,e,n,r):O0(t,e,n,null)};function wce(t={}){let e=null;const n={c:(...r)=>Cce(n,...r),use:(r,...i)=>r.install(n,...i),find:p_,context:{},config:t,get __styleSheet(){if(!e){const r=document.createElement("style");return document.head.appendChild(r),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return n}function Sce(t){let e=".",n="__",r="--",i;if(t){let f=t.blockPrefix;f&&(e=f),f=t.elementPrefix,f&&(n=f),f=t.modifierPrefix,f&&(r=f)}const s={install(f){i=f.c;const c=f.context;c.bem={},c.bem.b=null,c.bem.els=null}};function a(f){let c,h;return{before(p){c=p.bem.b,h=p.bem.els,p.bem.els=null},after(p){p.bem.b=c,p.bem.els=h},$({context:p,props:m}){return f=typeof f=="string"?f:f({context:p,props:m}),p.bem.b=f,`${(m==null?void 0:m.bPrefix)||e}${p.bem.b}`}}}function o(f){let c;return{before(h){c=h.bem.els},after(h){h.bem.els=c},$({context:h,props:p}){return f=typeof f=="string"?f:f({context:h,props:p}),h.bem.els=f.split(",").map(m=>m.trim()),h.bem.els.map(m=>`${(p==null?void 0:p.bPrefix)||e}${h.bem.b}${n}${m}`).join(", ")}}}function l(f){return{$({context:c,props:h}){f=typeof f=="string"?f:f({context:c,props:h});const p=f.split(",").map(v=>v.trim());function m(v){return p.map(y=>`&${(h==null?void 0:h.bPrefix)||e}${c.bem.b}${v!==void 0?`${n}${v}`:""}${r}${y}`).join(", ")}const g=c.bem.els;if(g!==null){if(process.env.NODE_ENV!=="production"&&g.length>=2)throw Error(`[css-render/plugin-bem]: m(${f}) is invalid, using modifier inside multiple elements is not allowed`);return m(g[0])}else return m()}}}function d(f){return{$({context:c,props:h}){f=typeof f=="string"?f:f({context:c,props:h});const p=c.bem.els;if(process.env.NODE_ENV!=="production"&&p!==null&&p.length>=2)throw Error(`[css-render/plugin-bem]: notM(${f}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(h==null?void 0:h.bPrefix)||e}${c.bem.b}${p!==null&&p.length>0?`${n}${p[0]}`:""}${r}${f})`}}}return Object.assign(s,{cB:(...f)=>i(a(f[0]),f[1],f[2]),cE:(...f)=>i(o(f[0]),f[1],f[2]),cM:(...f)=>i(l(f[0]),f[1],f[2]),cNotM:(...f)=>i(d(f[0]),f[1],f[2])}),s}function lo(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,n=>n.toUpperCase()))}lo("abc","def");const kce="n",Ice=`.${kce}-`,Dce="__",Nce="--",fM=wce(),hM=Sce({blockPrefix:Ice,elementPrefix:Dce,modifierPrefix:Nce});fM.use(hM);const{c:wr,find:IEe}=fM,{cB:L0,cE:Rt,cM:ms,cNotM:pM}=hM;function Mce(t,e){return u.watch(t,n=>{n!==void 0&&(e.value=n)}),u.computed(()=>t.value===void 0?e.value:t.value)}function Oce(){const t=u.ref(!1);return u.onMounted(()=>{t.value=!0}),u.readonly(t)}const mM=Symbol("@css-render/vue3-ssr");function Lce(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function Rce(t,e){const n=u.inject(mM,null);if(n===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:r,ids:i}=n;i.has(t)||r!==null&&(i.add(t),r.push(Lce(t,e)))}const Bce=typeof document<"u";function b_(){if(Bce)return;const t=u.inject(mM,null);if(t!==null)return{adapter:Rce,context:t}}const gM="n-form-item";function Pce(t,{defaultSize:e="medium",mergedSize:n,mergedDisabled:r}={}){const i=u.inject(gM,null);u.provide(gM,null);const s=u.computed(n?()=>n(i):()=>{const{size:l}=t;if(l)return l;if(i){const{mergedSize:d}=i;if(d.value!==void 0)return d.value}return e}),a=u.computed(r?()=>r(i):()=>{const{disabled:l}=t;return l!==void 0?l:i?i.disabled.value:!1}),o=u.computed(()=>{const{status:l}=t;return l||(i==null?void 0:i.mergedValidationStatus.value)});return u.onBeforeUnmount(()=>{i&&i.restoreValidation()}),{mergedSizeRef:s,mergedDisabledRef:a,mergedStatusRef:o,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var Fce=typeof global=="object"&&global&&global.Object===Object&&global;const bM=Fce;var Uce=typeof self=="object"&&self&&self.Object===Object&&self,jce=bM||Uce||Function("return this")();const gc=jce;var Hce=gc.Symbol;const R0=Hce;var vM=Object.prototype,zce=vM.hasOwnProperty,Vce=vM.toString,Hf=R0?R0.toStringTag:void 0;function Wce(t){var e=zce.call(t,Hf),n=t[Hf];try{t[Hf]=void 0;var r=!0}catch{}var i=Vce.call(t);return r&&(e?t[Hf]=n:delete t[Hf]),i}var Gce=Object.prototype,Yce=Gce.toString;function Qce(t){return Yce.call(t)}var Kce="[object Null]",Xce="[object Undefined]",yM=R0?R0.toStringTag:void 0;function B0(t){return t==null?t===void 0?Xce:Kce:yM&&yM in Object(t)?Wce(t):Qce(t)}function zf(t){return t!=null&&typeof t=="object"}var Zce=Array.isArray;const v_=Zce;function bl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function _M(t){return t}var Jce="[object AsyncFunction]",qce="[object Function]",$ce="[object GeneratorFunction]",ede="[object Proxy]";function y_(t){if(!bl(t))return!1;var e=B0(t);return e==qce||e==$ce||e==Jce||e==ede}var tde=gc["__core-js_shared__"];const __=tde;var TM=function(){var t=/[^.]+$/.exec(__&&__.keys&&__.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nde(t){return!!TM&&TM in t}var rde=Function.prototype,ide=rde.toString;function sde(t){if(t!=null){try{return ide.call(t)}catch{}try{return t+""}catch{}}return""}var ade=/[\\^$.*+?()[\]{}|]/g,ode=/^\[object .+?Constructor\]$/,lde=Function.prototype,ude=Object.prototype,cde=lde.toString,dde=ude.hasOwnProperty,fde=RegExp("^"+cde.call(dde).replace(ade,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hde(t){if(!bl(t)||nde(t))return!1;var e=y_(t)?fde:ode;return e.test(sde(t))}function pde(t,e){return t==null?void 0:t[e]}function T_(t,e){var n=pde(t,e);return hde(n)?n:void 0}var EM=Object.create,mde=function(){function t(){}return function(e){if(!bl(e))return{};if(EM)return EM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const gde=mde;function bde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function vde(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var yde=800,_de=16,Tde=Date.now;function Ede(t){var e=0,n=0;return function(){var r=Tde(),i=_de-(r-n);if(n=r,i>0){if(++e>=yde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ade(t){return function(){return t}}var xde=function(){try{var t=T_(Object,"defineProperty");return t({},"",{}),t}catch{}}();const P0=xde;var Cde=P0?function(t,e){return P0(t,"toString",{configurable:!0,enumerable:!1,value:Ade(e),writable:!0})}:_M,wde=Ede(Cde);const Sde=wde;var kde=9007199254740991,Ide=/^(?:0|[1-9]\d*)$/;function AM(t,e){var n=typeof t;return e=e??kde,!!e&&(n=="number"||n!="symbol"&&Ide.test(t))&&t>-1&&t%1==0&&t<e}function E_(t,e,n){e=="__proto__"&&P0?P0(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function F0(t,e){return t===e||t!==t&&e!==e}var Dde=Object.prototype,Nde=Dde.hasOwnProperty;function Mde(t,e,n){var r=t[e];(!(Nde.call(t,e)&&F0(r,n))||n===void 0&&!(e in t))&&E_(t,e,n)}function Ode(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),i?E_(n,o,l):Mde(n,o,l)}return n}var xM=Math.max;function Lde(t,e,n){return e=xM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=xM(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),bde(t,this,o)}}function Rde(t,e){return Sde(Lde(t,e,_M),t+"")}var Bde=9007199254740991;function CM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bde}function A_(t){return t!=null&&CM(t.length)&&!y_(t)}function Pde(t,e,n){if(!bl(n))return!1;var r=typeof e;return(r=="number"?A_(n)&&AM(e,n.length):r=="string"&&e in n)?F0(n[e],t):!1}function Fde(t){return Rde(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&Pde(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var Ude=Object.prototype;function wM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ude;return t===n}function jde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Hde="[object Arguments]";function SM(t){return zf(t)&&B0(t)==Hde}var kM=Object.prototype,zde=kM.hasOwnProperty,Vde=kM.propertyIsEnumerable,Wde=SM(function(){return arguments}())?SM:function(t){return zf(t)&&zde.call(t,"callee")&&!Vde.call(t,"callee")};const x_=Wde;function Gde(){return!1}var IM=typeof yt=="object"&&yt&&!yt.nodeType&&yt,DM=IM&&typeof module=="object"&&module&&!module.nodeType&&module,Yde=DM&&DM.exports===IM,NM=Yde?gc.Buffer:void 0,Qde=NM?NM.isBuffer:void 0,Kde=Qde||Gde;const MM=Kde;var Xde="[object Arguments]",Zde="[object Array]",Jde="[object Boolean]",qde="[object Date]",$de="[object Error]",efe="[object Function]",tfe="[object Map]",nfe="[object Number]",rfe="[object Object]",ife="[object RegExp]",sfe="[object Set]",afe="[object String]",ofe="[object WeakMap]",lfe="[object ArrayBuffer]",ufe="[object DataView]",cfe="[object Float32Array]",dfe="[object Float64Array]",ffe="[object Int8Array]",hfe="[object Int16Array]",pfe="[object Int32Array]",mfe="[object Uint8Array]",gfe="[object Uint8ClampedArray]",bfe="[object Uint16Array]",vfe="[object Uint32Array]",mn={};mn[cfe]=mn[dfe]=mn[ffe]=mn[hfe]=mn[pfe]=mn[mfe]=mn[gfe]=mn[bfe]=mn[vfe]=!0,mn[Xde]=mn[Zde]=mn[lfe]=mn[Jde]=mn[ufe]=mn[qde]=mn[$de]=mn[efe]=mn[tfe]=mn[nfe]=mn[rfe]=mn[ife]=mn[sfe]=mn[afe]=mn[ofe]=!1;function yfe(t){return zf(t)&&CM(t.length)&&!!mn[B0(t)]}function _fe(t){return function(e){return t(e)}}var OM=typeof yt=="object"&&yt&&!yt.nodeType&&yt,Vf=OM&&typeof module=="object"&&module&&!module.nodeType&&module,Tfe=Vf&&Vf.exports===OM,C_=Tfe&&bM.process,Efe=function(){try{var t=Vf&&Vf.require&&Vf.require("util").types;return t||C_&&C_.binding&&C_.binding("util")}catch{}}();const LM=Efe;var RM=LM&&LM.isTypedArray,Afe=RM?_fe(RM):yfe;const BM=Afe;function xfe(t,e){var n=v_(t),r=!n&&x_(t),i=!n&&!r&&MM(t),s=!n&&!r&&!i&&BM(t),a=n||r||i||s,o=a?jde(t.length,String):[],l=o.length;for(var d in t)!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||AM(d,l)))&&o.push(d);return o}function Cfe(t,e){return function(n){return t(e(n))}}function wfe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Sfe=Object.prototype,kfe=Sfe.hasOwnProperty;function Ife(t){if(!bl(t))return wfe(t);var e=wM(t),n=[];for(var r in t)r=="constructor"&&(e||!kfe.call(t,r))||n.push(r);return n}function PM(t){return A_(t)?xfe(t):Ife(t)}var Dfe=T_(Object,"create");const Wf=Dfe;function Nfe(){this.__data__=Wf?Wf(null):{},this.size=0}function Mfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ofe="__lodash_hash_undefined__",Lfe=Object.prototype,Rfe=Lfe.hasOwnProperty;function Bfe(t){var e=this.__data__;if(Wf){var n=e[t];return n===Ofe?void 0:n}return Rfe.call(e,t)?e[t]:void 0}var Pfe=Object.prototype,Ffe=Pfe.hasOwnProperty;function Ufe(t){var e=this.__data__;return Wf?e[t]!==void 0:Ffe.call(e,t)}var jfe="__lodash_hash_undefined__";function Hfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wf&&e===void 0?jfe:e,this}function vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vl.prototype.clear=Nfe,vl.prototype.delete=Mfe,vl.prototype.get=Bfe,vl.prototype.has=Ufe,vl.prototype.set=Hfe;function zfe(){this.__data__=[],this.size=0}function U0(t,e){for(var n=t.length;n--;)if(F0(t[n][0],e))return n;return-1}var Vfe=Array.prototype,Wfe=Vfe.splice;function Gfe(t){var e=this.__data__,n=U0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Wfe.call(e,n,1),--this.size,!0}function Yfe(t){var e=this.__data__,n=U0(e,t);return n<0?void 0:e[n][1]}function Qfe(t){return U0(this.__data__,t)>-1}function Kfe(t,e){var n=this.__data__,r=U0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ea(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ea.prototype.clear=zfe,Ea.prototype.delete=Gfe,Ea.prototype.get=Yfe,Ea.prototype.has=Qfe,Ea.prototype.set=Kfe;var Xfe=T_(gc,"Map");const FM=Xfe;function Zfe(){this.size=0,this.__data__={hash:new vl,map:new(FM||Ea),string:new vl}}function Jfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function j0(t,e){var n=t.__data__;return Jfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function qfe(t){var e=j0(this,t).delete(t);return this.size-=e?1:0,e}function $fe(t){return j0(this,t).get(t)}function ehe(t){return j0(this,t).has(t)}function the(t,e){var n=j0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function bc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bc.prototype.clear=Zfe,bc.prototype.delete=qfe,bc.prototype.get=$fe,bc.prototype.has=ehe,bc.prototype.set=the;var nhe=Cfe(Object.getPrototypeOf,Object);const UM=nhe;var rhe="[object Object]",ihe=Function.prototype,she=Object.prototype,jM=ihe.toString,ahe=she.hasOwnProperty,ohe=jM.call(Object);function lhe(t){if(!zf(t)||B0(t)!=rhe)return!1;var e=UM(t);if(e===null)return!0;var n=ahe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jM.call(n)==ohe}function uhe(){this.__data__=new Ea,this.size=0}function che(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function dhe(t){return this.__data__.get(t)}function fhe(t){return this.__data__.has(t)}var hhe=200;function phe(t,e){var n=this.__data__;if(n instanceof Ea){var r=n.__data__;if(!FM||r.length<hhe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bc(r)}return n.set(t,e),this.size=n.size,this}function vc(t){var e=this.__data__=new Ea(t);this.size=e.size}vc.prototype.clear=uhe,vc.prototype.delete=che,vc.prototype.get=dhe,vc.prototype.has=fhe,vc.prototype.set=phe;var HM=typeof yt=="object"&&yt&&!yt.nodeType&&yt,zM=HM&&typeof module=="object"&&module&&!module.nodeType&&module,mhe=zM&&zM.exports===HM,VM=mhe?gc.Buffer:void 0;VM&&VM.allocUnsafe;function ghe(t,e){return t.slice()}var bhe=gc.Uint8Array;const WM=bhe;function vhe(t){var e=new t.constructor(t.byteLength);return new WM(e).set(new WM(t)),e}function yhe(t,e){var n=vhe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function _he(t){return typeof t.constructor=="function"&&!wM(t)?gde(UM(t)):{}}function The(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[++i];if(n(s[l],l,s)===!1)break}return e}}var Ehe=The();const Ahe=Ehe;function w_(t,e,n){(n!==void 0&&!F0(t[e],n)||n===void 0&&!(e in t))&&E_(t,e,n)}function xhe(t){return zf(t)&&A_(t)}function S_(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Che(t){return Ode(t,PM(t))}function whe(t,e,n,r,i,s,a){var o=S_(t,n),l=S_(e,n),d=a.get(l);if(d){w_(t,n,d);return}var f=s?s(o,l,n+"",t,e,a):void 0,c=f===void 0;if(c){var h=v_(l),p=!h&&MM(l),m=!h&&!p&&BM(l);f=l,h||p||m?v_(o)?f=o:xhe(o)?f=vde(o):p?(c=!1,f=ghe(l)):m?(c=!1,f=yhe(l)):f=[]:lhe(l)||x_(l)?(f=o,x_(o)?f=Che(o):(!bl(o)||y_(o))&&(f=_he(l))):c=!1}c&&(a.set(l,f),i(f,l,r,s,a),a.delete(l)),w_(t,n,f)}function GM(t,e,n,r,i){t!==e&&Ahe(e,function(s,a){if(i||(i=new vc),bl(s))whe(t,e,a,n,GM,r,i);else{var o=r?r(S_(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),w_(t,a,o)}},PM)}var She=Fde(function(t,e,n){GM(t,e,n)});const H0=She,z0={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:khe,fontFamily:Ihe,lineHeight:Dhe}=z0,YM=wr("body",`
 margin: 0;
 font-size: ${khe};
 font-family: ${Ihe};
 line-height: ${Dhe};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[wr("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),V0="n-config-provider",W0="naive-ui-style";function Gf(t,e,n,r,i,s){const a=b_(),o=u.inject(V0,null);if(n){const l=()=>{const d=s==null?void 0:s.value;n.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:W0,ssr:a}),o!=null&&o.preflightStyleDisabled||YM.mount({id:"n-global",head:!0,anchorMetaName:W0,ssr:a})};a?l():u.onBeforeMount(l)}return u.computed(()=>{var l;const{theme:{common:d,self:f,peers:c={}}={},themeOverrides:h={},builtinThemeOverrides:p={}}=i,{common:m,peers:g}=h,{common:v=void 0,[t]:{common:y=void 0,self:x=void 0,peers:w={}}={}}=(o==null?void 0:o.mergedThemeRef.value)||{},{common:I=void 0,[t]:k={}}=(o==null?void 0:o.mergedThemeOverridesRef.value)||{},{common:S,peers:B={}}=k,M=H0({},d||y||v||r.common,I,S,m),D=H0((l=f||x||r.self)===null||l===void 0?void 0:l(M),p,k,h);return{common:M,self:D,peers:H0({},r.peers,w,c),peerOverrides:H0({},p.peers,B,g)}})}Gf.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const Nhe="n";function QM(t={},e={defaultBordered:!0}){const n=u.inject(V0,null);return{inlineThemeDisabled:n==null?void 0:n.inlineThemeDisabled,mergedRtlRef:n==null?void 0:n.mergedRtlRef,mergedComponentPropsRef:n==null?void 0:n.mergedComponentPropsRef,mergedBreakpointsRef:n==null?void 0:n.mergedBreakpointsRef,mergedBorderedRef:u.computed(()=>{var r,i;const{bordered:s}=t;return s!==void 0?s:(i=(r=n==null?void 0:n.mergedBorderedRef.value)!==null&&r!==void 0?r:e.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:n?n.mergedClsPrefixRef:u.shallowRef(Nhe),namespaceRef:u.computed(()=>n==null?void 0:n.mergedNamespaceRef.value)}}function Mhe(t,e,n){if(!e){process.env.NODE_ENV!=="production"&&rM("use-style","No style is specified.");return}const r=b_(),i=u.inject(V0,null),s=()=>{const a=n.value;e.mount({id:a===void 0?t:a+t,head:!0,anchorMetaName:W0,props:{bPrefix:a?`.${a}-`:void 0},ssr:r}),i!=null&&i.preflightStyleDisabled||YM.mount({id:"n-global",head:!0,anchorMetaName:W0,ssr:r})};r?s():u.onBeforeMount(s)}function KM(t,e,n,r){var i;n||rM("useThemeClass","cssVarsRef is not passed");const s=(i=u.inject(V0,null))===null||i===void 0?void 0:i.mergedThemeHashRef,a=u.ref(""),o=b_();let l;const d=`__${t}`,f=()=>{let c=d;const h=e?e.value:void 0,p=s==null?void 0:s.value;p&&(c+="-"+p),h&&(c+="-"+h);const{themeOverrides:m,builtinThemeOverrides:g}=r;m&&(c+="-"+g_(JSON.stringify(m))),g&&(c+="-"+g_(JSON.stringify(g))),a.value=c,l=()=>{const v=n.value;let y="";for(const x in v)y+=`${x}: ${v[x]};`;wr(`.${c}`,y).mount({id:c,ssr:o}),l=void 0}};return u.watchEffect(()=>{f()}),{themeClass:a,onRender:()=>{l==null||l()}}}const XM=u.defineComponent({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const n=Oce();return()=>u.h(u.Transition,{name:"icon-switch-transition",appear:n.value},e)}}),{cubicBezierEaseInOut:Ohe}=z0;function G0({originalTransform:t="",left:e=0,top:n=0,transition:r=`all .3s ${Ohe} !important`}={}){return[wr("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:t+" scale(0.75)",left:e,top:n,opacity:0}),wr("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:n,opacity:1}),wr("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:n,transition:r})]}const Lhe=wr([wr("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),wr("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),wr("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),wr("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),L0("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[Rt("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[G0()]),Rt("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[Rt("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),Rt("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[Rt("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[Rt("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),Rt("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[Rt("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),Rt("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[Rt("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),Rt("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[G0({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),Rhe={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},Bhe=u.defineComponent({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},Rhe),setup(t){Mhe("-base-loading",Lhe,u.toRef(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:n,stroke:r,scale:i}=this,s=e/i;return u.h("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},u.h(XM,null,{default:()=>this.show?u.h("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},u.h("div",{class:`${t}-base-loading__container`},u.h("div",{class:`${t}-base-loading__container-layer`},u.h("div",{class:`${t}-base-loading__container-layer-left`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:r}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:s,cy:s,r:e-n/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),u.h("div",{class:`${t}-base-loading__container-layer-patch`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:r}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:s,cy:s,r:e-n/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),u.h("div",{class:`${t}-base-loading__container-layer-right`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:r}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:s,cy:s,r:e-n/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e})))))):u.h("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),tt={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},Phe=Ta(tt.neutralBase),ZM=Ta(tt.neutralInvertBase),Fhe="rgba("+ZM.slice(0,3).join(", ")+", ";function Vt(t){return Fhe+String(t)+")"}function Uhe(t){const e=Array.from(ZM);return e[3]=Number(t),ht(Phe,e)}const jhe=Object.assign(Object.assign({name:"common"},z0),{baseColor:tt.neutralBase,primaryColor:tt.primaryDefault,primaryColorHover:tt.primaryHover,primaryColorPressed:tt.primaryActive,primaryColorSuppl:tt.primarySuppl,infoColor:tt.infoDefault,infoColorHover:tt.infoHover,infoColorPressed:tt.infoActive,infoColorSuppl:tt.infoSuppl,successColor:tt.successDefault,successColorHover:tt.successHover,successColorPressed:tt.successActive,successColorSuppl:tt.successSuppl,warningColor:tt.warningDefault,warningColorHover:tt.warningHover,warningColorPressed:tt.warningActive,warningColorSuppl:tt.warningSuppl,errorColor:tt.errorDefault,errorColorHover:tt.errorHover,errorColorPressed:tt.errorActive,errorColorSuppl:tt.errorSuppl,textColorBase:tt.neutralTextBase,textColor1:Vt(tt.alpha1),textColor2:Vt(tt.alpha2),textColor3:Vt(tt.alpha3),textColorDisabled:Vt(tt.alpha4),placeholderColor:Vt(tt.alpha4),placeholderColorDisabled:Vt(tt.alpha5),iconColor:Vt(tt.alpha4),iconColorDisabled:Vt(tt.alpha5),iconColorHover:Vt(Number(tt.alpha4)*1.25),iconColorPressed:Vt(Number(tt.alpha4)*.8),opacity1:tt.alpha1,opacity2:tt.alpha2,opacity3:tt.alpha3,opacity4:tt.alpha4,opacity5:tt.alpha5,dividerColor:Vt(tt.alphaDivider),borderColor:Vt(tt.alphaBorder),closeIconColorHover:Vt(Number(tt.alphaClose)),closeIconColor:Vt(Number(tt.alphaClose)),closeIconColorPressed:Vt(Number(tt.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:Vt(tt.alpha4),clearColorHover:Fn(Vt(tt.alpha4),{alpha:1.25}),clearColorPressed:Fn(Vt(tt.alpha4),{alpha:.8}),scrollbarColor:Vt(tt.alphaScrollbar),scrollbarColorHover:Vt(tt.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Vt(tt.alphaProgressRail),railColor:Vt(tt.alphaRail),popoverColor:tt.neutralPopover,tableColor:tt.neutralCard,cardColor:tt.neutralCard,modalColor:tt.neutralModal,bodyColor:tt.neutralBody,tagColor:Uhe(tt.alphaTag),avatarColor:Vt(tt.alphaAvatar),invertedColor:tt.neutralBase,inputColor:Vt(tt.alphaInput),codeColor:Vt(tt.alphaCode),tabColor:Vt(tt.alphaTab),actionColor:Vt(tt.alphaAction),tableHeaderColor:Vt(tt.alphaAction),hoverColor:Vt(tt.alphaPending),tableColorHover:Vt(tt.alphaTablePending),tableColorStriped:Vt(tt.alphaTableStriped),pressedColor:Vt(tt.alphaPressed),opacityDisabled:tt.alphaDisabled,inputColorDisabled:Vt(tt.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Ke=jhe,ct={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},Hhe=Ta(ct.neutralBase),JM=Ta(ct.neutralInvertBase),zhe="rgba("+JM.slice(0,3).join(", ")+", ";function qM(t){return zhe+String(t)+")"}function Sr(t){const e=Array.from(JM);return e[3]=Number(t),ht(Hhe,e)}const Vhe=Object.assign(Object.assign({name:"common"},z0),{baseColor:ct.neutralBase,primaryColor:ct.primaryDefault,primaryColorHover:ct.primaryHover,primaryColorPressed:ct.primaryActive,primaryColorSuppl:ct.primarySuppl,infoColor:ct.infoDefault,infoColorHover:ct.infoHover,infoColorPressed:ct.infoActive,infoColorSuppl:ct.infoSuppl,successColor:ct.successDefault,successColorHover:ct.successHover,successColorPressed:ct.successActive,successColorSuppl:ct.successSuppl,warningColor:ct.warningDefault,warningColorHover:ct.warningHover,warningColorPressed:ct.warningActive,warningColorSuppl:ct.warningSuppl,errorColor:ct.errorDefault,errorColorHover:ct.errorHover,errorColorPressed:ct.errorActive,errorColorSuppl:ct.errorSuppl,textColorBase:ct.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:Sr(ct.alpha4),placeholderColor:Sr(ct.alpha4),placeholderColorDisabled:Sr(ct.alpha5),iconColor:Sr(ct.alpha4),iconColorHover:Fn(Sr(ct.alpha4),{lightness:.75}),iconColorPressed:Fn(Sr(ct.alpha4),{lightness:.9}),iconColorDisabled:Sr(ct.alpha5),opacity1:ct.alpha1,opacity2:ct.alpha2,opacity3:ct.alpha3,opacity4:ct.alpha4,opacity5:ct.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:Sr(Number(ct.alphaClose)),closeIconColorHover:Sr(Number(ct.alphaClose)),closeIconColorPressed:Sr(Number(ct.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:Sr(ct.alpha4),clearColorHover:Fn(Sr(ct.alpha4),{lightness:.75}),clearColorPressed:Fn(Sr(ct.alpha4),{lightness:.9}),scrollbarColor:qM(ct.alphaScrollbar),scrollbarColorHover:qM(ct.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Sr(ct.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:ct.neutralPopover,tableColor:ct.neutralCard,cardColor:ct.neutralCard,modalColor:ct.neutralModal,bodyColor:ct.neutralBody,tagColor:"#eee",avatarColor:Sr(ct.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:Sr(ct.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:ct.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),k_=Vhe,Whe={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},$M=t=>{const{textColorDisabled:e,iconColor:n,textColor2:r,fontSizeSmall:i,fontSizeMedium:s,fontSizeLarge:a,fontSizeHuge:o}=t;return Object.assign(Object.assign({},Whe),{fontSizeSmall:i,fontSizeMedium:s,fontSizeLarge:a,fontSizeHuge:o,textColor:e,iconColor:n,extraTextColor:r})},Ghe={name:"Empty",common:k_,self:$M},Yhe=Ghe,Qhe={name:"Empty",common:Ke,self:$M},yl=Qhe,Khe=t=>{const{scrollbarColor:e,scrollbarColorHover:n}=t;return{color:e,colorHover:n}},Xhe={name:"Scrollbar",common:Ke,self:Khe},li=Xhe,Zhe={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},Jhe=t=>{const{borderRadius:e,popoverColor:n,textColor3:r,dividerColor:i,textColor2:s,primaryColorPressed:a,textColorDisabled:o,primaryColor:l,opacityDisabled:d,hoverColor:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p,fontSizeHuge:m,heightSmall:g,heightMedium:v,heightLarge:y,heightHuge:x}=t;return Object.assign(Object.assign({},Zhe),{optionFontSizeSmall:c,optionFontSizeMedium:h,optionFontSizeLarge:p,optionFontSizeHuge:m,optionHeightSmall:g,optionHeightMedium:v,optionHeightLarge:y,optionHeightHuge:x,borderRadius:e,color:n,groupHeaderTextColor:r,actionDividerColor:i,optionTextColor:s,optionTextColorPressed:a,optionTextColorDisabled:o,optionTextColorActive:l,optionOpacityDisabled:d,optionCheckColor:l,optionColorPending:f,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:f,actionTextColor:s,loadingColor:l})},qhe={name:"InternalSelectMenu",common:Ke,peers:{Scrollbar:li,Empty:yl},self:Jhe},Yf=qhe,$he={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},epe=t=>{const{boxShadow2:e,popoverColor:n,textColor2:r,borderRadius:i,fontSize:s,dividerColor:a}=t;return Object.assign(Object.assign({},$he),{fontSize:s,borderRadius:i,color:n,dividerColor:a,textColor:r,boxShadow:e})},tpe={name:"Popover",common:Ke,self:epe},_l=tpe,npe={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},rpe={name:"Tag",common:Ke,self(t){const{textColor2:e,primaryColorHover:n,primaryColorPressed:r,primaryColor:i,infoColor:s,successColor:a,warningColor:o,errorColor:l,baseColor:d,borderColor:f,tagColor:c,opacityDisabled:h,closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:g,closeColorHover:v,closeColorPressed:y,borderRadiusSmall:x,fontSizeMini:w,fontSizeTiny:I,fontSizeSmall:k,fontSizeMedium:S,heightMini:B,heightTiny:M,heightSmall:D,heightMedium:L,buttonColor2Hover:z,buttonColor2Pressed:U,fontWeightStrong:F}=t;return Object.assign(Object.assign({},npe),{closeBorderRadius:x,heightTiny:B,heightSmall:M,heightMedium:D,heightLarge:L,borderRadius:x,opacityDisabled:h,fontSizeTiny:w,fontSizeSmall:I,fontSizeMedium:k,fontSizeLarge:S,fontWeightStrong:F,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:d,colorCheckable:"#0000",colorHoverCheckable:z,colorPressedCheckable:U,colorChecked:i,colorCheckedHover:n,colorCheckedPressed:r,border:`1px solid ${f}`,textColor:e,color:c,colorBordered:"#0000",closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:g,closeColorHover:v,closeColorPressed:y,borderPrimary:`1px solid ${it(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:it(i,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:Fn(i,{lightness:.7}),closeIconColorHoverPrimary:Fn(i,{lightness:.7}),closeIconColorPressedPrimary:Fn(i,{lightness:.7}),closeColorHoverPrimary:it(i,{alpha:.16}),closeColorPressedPrimary:it(i,{alpha:.12}),borderInfo:`1px solid ${it(s,{alpha:.3})}`,textColorInfo:s,colorInfo:it(s,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:Fn(s,{alpha:.7}),closeIconColorHoverInfo:Fn(s,{alpha:.7}),closeIconColorPressedInfo:Fn(s,{alpha:.7}),closeColorHoverInfo:it(s,{alpha:.16}),closeColorPressedInfo:it(s,{alpha:.12}),borderSuccess:`1px solid ${it(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:it(a,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:Fn(a,{alpha:.7}),closeIconColorHoverSuccess:Fn(a,{alpha:.7}),closeIconColorPressedSuccess:Fn(a,{alpha:.7}),closeColorHoverSuccess:it(a,{alpha:.16}),closeColorPressedSuccess:it(a,{alpha:.12}),borderWarning:`1px solid ${it(o,{alpha:.3})}`,textColorWarning:o,colorWarning:it(o,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:Fn(o,{alpha:.7}),closeIconColorHoverWarning:Fn(o,{alpha:.7}),closeIconColorPressedWarning:Fn(o,{alpha:.7}),closeColorHoverWarning:it(o,{alpha:.16}),closeColorPressedWarning:it(o,{alpha:.11}),borderError:`1px solid ${it(l,{alpha:.3})}`,textColorError:l,colorError:it(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:Fn(l,{alpha:.7}),closeIconColorHoverError:Fn(l,{alpha:.7}),closeIconColorPressedError:Fn(l,{alpha:.7}),closeColorHoverError:it(l,{alpha:.16}),closeColorPressedError:it(l,{alpha:.12})})}},e8=rpe,ipe={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},spe={name:"InternalSelection",common:Ke,peers:{Popover:_l},self(t){const{borderRadius:e,textColor2:n,textColorDisabled:r,inputColor:i,inputColorDisabled:s,primaryColor:a,primaryColorHover:o,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:c,iconColor:h,iconColorDisabled:p,clearColor:m,clearColorHover:g,clearColorPressed:v,placeholderColor:y,placeholderColorDisabled:x,fontSizeTiny:w,fontSizeSmall:I,fontSizeMedium:k,fontSizeLarge:S,heightTiny:B,heightSmall:M,heightMedium:D,heightLarge:L}=t;return Object.assign(Object.assign({},ipe),{fontSizeTiny:w,fontSizeSmall:I,fontSizeMedium:k,fontSizeLarge:S,heightTiny:B,heightSmall:M,heightMedium:D,heightLarge:L,borderRadius:e,textColor:n,textColorDisabled:r,placeholderColor:y,placeholderColorDisabled:x,color:i,colorDisabled:s,colorActive:it(a,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${o}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${o}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${it(a,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${it(a,{alpha:.4})}`,caretColor:a,arrowColor:h,arrowColorDisabled:p,loadingColor:a,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${it(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${it(l,{alpha:.4})}`,colorActiveWarning:it(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${c}`,borderActiveError:`1px solid ${f}`,borderFocusError:`1px solid ${c}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${it(f,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${it(f,{alpha:.4})}`,colorActiveError:it(f,{alpha:.1}),caretColorError:f,clearColor:m,clearColorHover:g,clearColorPressed:v})}},I_=spe,ape={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},ope={name:"Alert",common:Ke,self(t){const{lineHeight:e,borderRadius:n,fontWeightStrong:r,dividerColor:i,inputColor:s,textColor1:a,textColor2:o,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,infoColorSuppl:p,successColorSuppl:m,warningColorSuppl:g,errorColorSuppl:v,fontSize:y}=t;return Object.assign(Object.assign({},ape),{fontSize:y,lineHeight:e,titleFontWeight:r,borderRadius:n,border:`1px solid ${i}`,color:s,titleTextColor:a,iconColor:o,contentTextColor:o,closeBorderRadius:n,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,borderInfo:`1px solid ${it(p,{alpha:.35})}`,colorInfo:it(p,{alpha:.25}),titleTextColorInfo:a,iconColorInfo:p,contentTextColorInfo:o,closeColorHoverInfo:l,closeColorPressedInfo:d,closeIconColorInfo:f,closeIconColorHoverInfo:c,closeIconColorPressedInfo:h,borderSuccess:`1px solid ${it(m,{alpha:.35})}`,colorSuccess:it(m,{alpha:.25}),titleTextColorSuccess:a,iconColorSuccess:m,contentTextColorSuccess:o,closeColorHoverSuccess:l,closeColorPressedSuccess:d,closeIconColorSuccess:f,closeIconColorHoverSuccess:c,closeIconColorPressedSuccess:h,borderWarning:`1px solid ${it(g,{alpha:.35})}`,colorWarning:it(g,{alpha:.25}),titleTextColorWarning:a,iconColorWarning:g,contentTextColorWarning:o,closeColorHoverWarning:l,closeColorPressedWarning:d,closeIconColorWarning:f,closeIconColorHoverWarning:c,closeIconColorPressedWarning:h,borderError:`1px solid ${it(v,{alpha:.35})}`,colorError:it(v,{alpha:.25}),titleTextColorError:a,iconColorError:v,contentTextColorError:o,closeColorHoverError:l,closeColorPressedError:d,closeIconColorError:f,closeIconColorHoverError:c,closeIconColorPressedError:h})}},lpe=ope,upe={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},cpe=t=>{const{borderRadius:e,railColor:n,primaryColor:r,primaryColorHover:i,primaryColorPressed:s,textColor2:a}=t;return Object.assign(Object.assign({},upe),{borderRadius:e,railColor:n,railColorActive:r,linkColor:it(r,{alpha:.15}),linkTextColor:a,linkTextColorHover:i,linkTextColorPressed:s,linkTextColorActive:r})},dpe={name:"Anchor",common:Ke,self:cpe},fpe=dpe,hpe={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},ppe={name:"Input",common:Ke,self(t){const{textColor2:e,textColor3:n,textColorDisabled:r,primaryColor:i,primaryColorHover:s,inputColor:a,inputColorDisabled:o,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:c,borderRadius:h,lineHeight:p,fontSizeTiny:m,fontSizeSmall:g,fontSizeMedium:v,fontSizeLarge:y,heightTiny:x,heightSmall:w,heightMedium:I,heightLarge:k,clearColor:S,clearColorHover:B,clearColorPressed:M,placeholderColor:D,placeholderColorDisabled:L,iconColor:z,iconColorDisabled:U,iconColorHover:F,iconColorPressed:H}=t;return Object.assign(Object.assign({},hpe),{countTextColorDisabled:r,countTextColor:n,heightTiny:x,heightSmall:w,heightMedium:I,heightLarge:k,fontSizeTiny:m,fontSizeSmall:g,fontSizeMedium:v,fontSizeLarge:y,lineHeight:p,lineHeightTextarea:p,borderRadius:h,iconSize:"16px",groupLabelColor:a,textColor:e,textColorDisabled:r,textDecorationColor:e,groupLabelTextColor:e,caretColor:i,placeholderColor:D,placeholderColorDisabled:L,color:a,colorDisabled:o,colorFocus:it(i,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${s}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${s}`,boxShadowFocus:`0 0 8px 0 ${it(i,{alpha:.3})}`,loadingColor:i,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:it(l,{alpha:.1}),borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 8px 0 ${it(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${c}`,colorFocusError:it(f,{alpha:.1}),borderFocusError:`1px solid ${c}`,boxShadowFocusError:`0 0 8px 0 ${it(f,{alpha:.3})}`,caretColorError:f,clearColor:S,clearColorHover:B,clearColorPressed:M,iconColor:z,iconColorDisabled:U,iconColorHover:F,iconColorPressed:H,suffixTextColor:e})}},Hi=ppe;function mpe(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const gpe={name:"AutoComplete",common:Ke,peers:{InternalSelectMenu:Yf,Input:Hi},self:mpe},bpe=gpe,vpe=t=>{const{borderRadius:e,avatarColor:n,cardColor:r,fontSize:i,heightTiny:s,heightSmall:a,heightMedium:o,heightLarge:l,heightHuge:d,modalColor:f,popoverColor:c}=t;return{borderRadius:e,fontSize:i,border:`2px solid ${r}`,heightTiny:s,heightSmall:a,heightMedium:o,heightLarge:l,heightHuge:d,color:ht(r,n),colorModal:ht(f,n),colorPopover:ht(c,n)}},ype={name:"Avatar",common:Ke,self:vpe},t8=ype,_pe=()=>({gap:"-12px"}),Tpe={name:"AvatarGroup",common:Ke,peers:{Avatar:t8},self:_pe},Epe=Tpe,Ape={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},xpe={name:"BackTop",common:Ke,self(t){const{popoverColor:e,textColor2:n,primaryColorHover:r,primaryColorPressed:i}=t;return Object.assign(Object.assign({},Ape),{color:e,textColor:n,iconColor:n,iconColorHover:r,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},Cpe=xpe,wpe={name:"Badge",common:Ke,self(t){const{errorColorSuppl:e,infoColorSuppl:n,successColorSuppl:r,warningColorSuppl:i,fontFamily:s}=t;return{color:e,colorInfo:n,colorSuccess:r,colorError:e,colorWarning:i,fontSize:"12px",fontFamily:s}}},Spe=wpe,kpe={fontWeightActive:"400"},Ipe=t=>{const{fontSize:e,textColor3:n,textColor2:r,borderRadius:i,buttonColor2Hover:s,buttonColor2Pressed:a}=t;return Object.assign(Object.assign({},kpe),{fontSize:e,itemLineHeight:"1.25",itemTextColor:n,itemTextColorHover:r,itemTextColorPressed:r,itemTextColorActive:r,itemBorderRadius:i,itemColorHover:s,itemColorPressed:a,separatorColor:n})},Dpe={name:"Breadcrumb",common:Ke,self:Ipe},Npe=Dpe,Mpe={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},Ope=t=>{const{heightTiny:e,heightSmall:n,heightMedium:r,heightLarge:i,borderRadius:s,fontSizeTiny:a,fontSizeSmall:o,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,textColor2:c,textColor3:h,primaryColorHover:p,primaryColorPressed:m,borderColor:g,primaryColor:v,baseColor:y,infoColor:x,infoColorHover:w,infoColorPressed:I,successColor:k,successColorHover:S,successColorPressed:B,warningColor:M,warningColorHover:D,warningColorPressed:L,errorColor:z,errorColorHover:U,errorColorPressed:F,fontWeight:H,buttonColor2:K,buttonColor2Hover:P,buttonColor2Pressed:W,fontWeightStrong:ie}=t;return Object.assign(Object.assign({},Mpe),{heightTiny:e,heightSmall:n,heightMedium:r,heightLarge:i,borderRadiusTiny:s,borderRadiusSmall:s,borderRadiusMedium:s,borderRadiusLarge:s,fontSizeTiny:a,fontSizeSmall:o,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:K,colorSecondaryHover:P,colorSecondaryPressed:W,colorTertiary:K,colorTertiaryHover:P,colorTertiaryPressed:W,colorQuaternary:"#0000",colorQuaternaryHover:P,colorQuaternaryPressed:W,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:c,textColorTertiary:h,textColorHover:p,textColorPressed:m,textColorFocus:p,textColorDisabled:c,textColorText:c,textColorTextHover:p,textColorTextPressed:m,textColorTextFocus:p,textColorTextDisabled:c,textColorGhost:c,textColorGhostHover:p,textColorGhostPressed:m,textColorGhostFocus:p,textColorGhostDisabled:c,border:`1px solid ${g}`,borderHover:`1px solid ${p}`,borderPressed:`1px solid ${m}`,borderFocus:`1px solid ${p}`,borderDisabled:`1px solid ${g}`,rippleColor:v,colorPrimary:v,colorHoverPrimary:p,colorPressedPrimary:m,colorFocusPrimary:p,colorDisabledPrimary:v,textColorPrimary:y,textColorHoverPrimary:y,textColorPressedPrimary:y,textColorFocusPrimary:y,textColorDisabledPrimary:y,textColorTextPrimary:v,textColorTextHoverPrimary:p,textColorTextPressedPrimary:m,textColorTextFocusPrimary:p,textColorTextDisabledPrimary:c,textColorGhostPrimary:v,textColorGhostHoverPrimary:p,textColorGhostPressedPrimary:m,textColorGhostFocusPrimary:p,textColorGhostDisabledPrimary:v,borderPrimary:`1px solid ${v}`,borderHoverPrimary:`1px solid ${p}`,borderPressedPrimary:`1px solid ${m}`,borderFocusPrimary:`1px solid ${p}`,borderDisabledPrimary:`1px solid ${v}`,rippleColorPrimary:v,colorInfo:x,colorHoverInfo:w,colorPressedInfo:I,colorFocusInfo:w,colorDisabledInfo:x,textColorInfo:y,textColorHoverInfo:y,textColorPressedInfo:y,textColorFocusInfo:y,textColorDisabledInfo:y,textColorTextInfo:x,textColorTextHoverInfo:w,textColorTextPressedInfo:I,textColorTextFocusInfo:w,textColorTextDisabledInfo:c,textColorGhostInfo:x,textColorGhostHoverInfo:w,textColorGhostPressedInfo:I,textColorGhostFocusInfo:w,textColorGhostDisabledInfo:x,borderInfo:`1px solid ${x}`,borderHoverInfo:`1px solid ${w}`,borderPressedInfo:`1px solid ${I}`,borderFocusInfo:`1px solid ${w}`,borderDisabledInfo:`1px solid ${x}`,rippleColorInfo:x,colorSuccess:k,colorHoverSuccess:S,colorPressedSuccess:B,colorFocusSuccess:S,colorDisabledSuccess:k,textColorSuccess:y,textColorHoverSuccess:y,textColorPressedSuccess:y,textColorFocusSuccess:y,textColorDisabledSuccess:y,textColorTextSuccess:k,textColorTextHoverSuccess:S,textColorTextPressedSuccess:B,textColorTextFocusSuccess:S,textColorTextDisabledSuccess:c,textColorGhostSuccess:k,textColorGhostHoverSuccess:S,textColorGhostPressedSuccess:B,textColorGhostFocusSuccess:S,textColorGhostDisabledSuccess:k,borderSuccess:`1px solid ${k}`,borderHoverSuccess:`1px solid ${S}`,borderPressedSuccess:`1px solid ${B}`,borderFocusSuccess:`1px solid ${S}`,borderDisabledSuccess:`1px solid ${k}`,rippleColorSuccess:k,colorWarning:M,colorHoverWarning:D,colorPressedWarning:L,colorFocusWarning:D,colorDisabledWarning:M,textColorWarning:y,textColorHoverWarning:y,textColorPressedWarning:y,textColorFocusWarning:y,textColorDisabledWarning:y,textColorTextWarning:M,textColorTextHoverWarning:D,textColorTextPressedWarning:L,textColorTextFocusWarning:D,textColorTextDisabledWarning:c,textColorGhostWarning:M,textColorGhostHoverWarning:D,textColorGhostPressedWarning:L,textColorGhostFocusWarning:D,textColorGhostDisabledWarning:M,borderWarning:`1px solid ${M}`,borderHoverWarning:`1px solid ${D}`,borderPressedWarning:`1px solid ${L}`,borderFocusWarning:`1px solid ${D}`,borderDisabledWarning:`1px solid ${M}`,rippleColorWarning:M,colorError:z,colorHoverError:U,colorPressedError:F,colorFocusError:U,colorDisabledError:z,textColorError:y,textColorHoverError:y,textColorPressedError:y,textColorFocusError:y,textColorDisabledError:y,textColorTextError:z,textColorTextHoverError:U,textColorTextPressedError:F,textColorTextFocusError:U,textColorTextDisabledError:c,textColorGhostError:z,textColorGhostHoverError:U,textColorGhostPressedError:F,textColorGhostFocusError:U,textColorGhostDisabledError:z,borderError:`1px solid ${z}`,borderHoverError:`1px solid ${U}`,borderPressedError:`1px solid ${F}`,borderFocusError:`1px solid ${U}`,borderDisabledError:`1px solid ${z}`,rippleColorError:z,waveOpacity:"0.6",fontWeight:H,fontWeightStrong:ie})},Lpe={name:"Button",common:Ke,self(t){const e=Ope(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},ui=Lpe,Rpe={titleFontSize:"22px"},Bpe=t=>{const{borderRadius:e,fontSize:n,lineHeight:r,textColor2:i,textColor1:s,textColorDisabled:a,dividerColor:o,fontWeightStrong:l,primaryColor:d,baseColor:f,hoverColor:c,cardColor:h,modalColor:p,popoverColor:m}=t;return Object.assign(Object.assign({},Rpe),{borderRadius:e,borderColor:ht(h,o),borderColorModal:ht(p,o),borderColorPopover:ht(m,o),textColor:i,titleFontWeight:l,titleTextColor:s,dayTextColor:a,fontSize:n,lineHeight:r,dateColorCurrent:d,dateTextColorCurrent:f,cellColorHover:ht(h,c),cellColorHoverModal:ht(p,c),cellColorHoverPopover:ht(m,c),cellColor:h,cellColorModal:p,cellColorPopover:m,barColor:d})},Ppe={name:"Calendar",common:Ke,peers:{Button:ui},self:Bpe},Fpe=Ppe,Upe=t=>{const{fontSize:e,boxShadow2:n,popoverColor:r,textColor2:i,borderRadius:s,borderColor:a,heightSmall:o,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,dividerColor:p}=t;return{panelFontSize:e,boxShadow:n,color:r,textColor:i,borderRadius:s,border:`1px solid ${a}`,heightSmall:o,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,dividerColor:p}},jpe={name:"ColorPicker",common:Ke,peers:{Input:Hi,Button:ui},self:Upe},Hpe=jpe,zpe={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},Vpe=t=>{const{primaryColor:e,borderRadius:n,lineHeight:r,fontSize:i,cardColor:s,textColor2:a,textColor1:o,dividerColor:l,fontWeightStrong:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,closeColorHover:p,closeColorPressed:m,modalColor:g,boxShadow1:v,popoverColor:y,actionColor:x}=t;return Object.assign(Object.assign({},zpe),{lineHeight:r,color:s,colorModal:g,colorPopover:y,colorTarget:e,colorEmbedded:x,colorEmbeddedModal:x,colorEmbeddedPopover:x,textColor:a,titleTextColor:o,borderColor:l,actionColor:x,titleFontWeight:d,closeColorHover:p,closeColorPressed:m,closeBorderRadius:n,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:v,borderRadius:n})},Wpe={name:"Card",common:Ke,self(t){const e=Vpe(t),{cardColor:n,modalColor:r,popoverColor:i}=t;return e.colorEmbedded=n,e.colorEmbeddedModal=r,e.colorEmbeddedPopover=i,e}},n8=Wpe,Gpe=t=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),Ype={name:"Carousel",common:Ke,self:Gpe},Qpe=Ype,Kpe={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},Xpe=t=>{const{baseColor:e,inputColorDisabled:n,cardColor:r,modalColor:i,popoverColor:s,textColorDisabled:a,borderColor:o,primaryColor:l,textColor2:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,borderRadiusSmall:p,lineHeight:m}=t;return Object.assign(Object.assign({},Kpe),{labelLineHeight:m,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,borderRadius:p,color:e,colorChecked:l,colorDisabled:n,colorDisabledChecked:n,colorTableHeader:r,colorTableHeaderModal:i,colorTableHeaderPopover:s,checkMarkColor:e,checkMarkColorDisabled:a,checkMarkColorDisabledChecked:a,border:`1px solid ${o}`,borderDisabled:`1px solid ${o}`,borderDisabledChecked:`1px solid ${o}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${it(l,{alpha:.3})}`,textColor:d,textColorDisabled:a})},Zpe={name:"Checkbox",common:Ke,self(t){const{cardColor:e}=t,n=Xpe(t);return n.color="#0000",n.checkMarkColor=e,n}},yc=Zpe,Jpe=t=>{const{borderRadius:e,boxShadow2:n,popoverColor:r,textColor2:i,textColor3:s,primaryColor:a,textColorDisabled:o,dividerColor:l,hoverColor:d,fontSizeMedium:f,heightMedium:c}=t;return{menuBorderRadius:e,menuColor:r,menuBoxShadow:n,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:s,optionHeight:c,optionFontSize:f,optionColorHover:d,optionTextColor:i,optionTextColorActive:a,optionTextColorDisabled:o,optionCheckMarkColor:a,loadingColor:a,columnWidth:"180px"}},qpe={name:"Cascader",common:Ke,peers:{InternalSelectMenu:Yf,InternalSelection:I_,Scrollbar:li,Checkbox:yc,Empty:Yhe},self:Jpe},$pe=qpe,eme={name:"Code",common:Ke,self(t){const{textColor2:e,fontSize:n,fontWeightStrong:r,textColor3:i}=t;return{textColor:e,fontSize:n,fontWeightStrong:r,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:i}}},r8=eme,tme=t=>{const{fontWeight:e,textColor1:n,textColor2:r,textColorDisabled:i,dividerColor:s,fontSize:a}=t;return{titleFontSize:a,titleFontWeight:e,dividerColor:s,titleTextColor:n,titleTextColorDisabled:i,fontSize:a,textColor:r,arrowColor:r,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},nme={name:"Collapse",common:Ke,self:tme},rme=nme,ime=t=>{const{cubicBezierEaseInOut:e}=t;return{bezier:e}},sme={name:"CollapseTransition",common:Ke,self:ime},ame=sme,ome={name:"Popselect",common:Ke,peers:{Popover:_l,InternalSelectMenu:Yf}},i8=ome;function lme(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const ume={name:"Select",common:Ke,peers:{InternalSelection:I_,InternalSelectMenu:Yf},self:lme},s8=ume,cme={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},dme=t=>{const{textColor2:e,primaryColor:n,primaryColorHover:r,primaryColorPressed:i,inputColorDisabled:s,textColorDisabled:a,borderColor:o,borderRadius:l,fontSizeTiny:d,fontSizeSmall:f,fontSizeMedium:c,heightTiny:h,heightSmall:p,heightMedium:m}=t;return Object.assign(Object.assign({},cme),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${o}`,buttonBorderHover:`1px solid ${o}`,buttonBorderPressed:`1px solid ${o}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:r,itemTextColorPressed:i,itemTextColorActive:n,itemTextColorDisabled:a,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:s,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${n}`,itemBorderDisabled:`1px solid ${o}`,itemBorderRadius:l,itemSizeSmall:h,itemSizeMedium:p,itemSizeLarge:m,itemFontSizeSmall:d,itemFontSizeMedium:f,itemFontSizeLarge:c,jumperFontSizeSmall:d,jumperFontSizeMedium:f,jumperFontSizeLarge:c,jumperTextColor:e,jumperTextColorDisabled:a})},fme={name:"Pagination",common:Ke,peers:{Select:s8,Input:Hi,Popselect:i8},self(t){const{primaryColor:e,opacity3:n}=t,r=it(e,{alpha:Number(n)}),i=dme(t);return i.itemBorderActive=`1px solid ${r}`,i.itemBorderDisabled="1px solid #0000",i}},a8=fme,hme={padding:"8px 14px"},pme={name:"Tooltip",common:Ke,peers:{Popover:_l},self(t){const{borderRadius:e,boxShadow2:n,popoverColor:r,textColor2:i}=t;return Object.assign(Object.assign({},hme),{borderRadius:e,boxShadow:n,color:r,textColor:i})}},Y0=pme,mme={name:"Ellipsis",common:Ke,peers:{Tooltip:Y0}},o8=mme,gme={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},bme={name:"Radio",common:Ke,self(t){const{borderColor:e,primaryColor:n,baseColor:r,textColorDisabled:i,inputColorDisabled:s,textColor2:a,opacityDisabled:o,borderRadius:l,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:c,heightSmall:h,heightMedium:p,heightLarge:m,lineHeight:g}=t;return Object.assign(Object.assign({},gme),{labelLineHeight:g,buttonHeightSmall:h,buttonHeightMedium:p,buttonHeightLarge:m,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:c,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${it(n,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:s,colorActive:"#0000",textColor:a,textColorDisabled:i,dotColorActive:n,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:n,buttonBorderColorHover:n,buttonColor:"#0000",buttonColorActive:n,buttonTextColor:a,buttonTextColorActive:r,buttonTextColorHover:n,opacityDisabled:o,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${it(n,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${n}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},l8=bme,vme={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},yme=t=>{const{primaryColor:e,textColor2:n,dividerColor:r,hoverColor:i,popoverColor:s,invertedColor:a,borderRadius:o,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:c,heightSmall:h,heightMedium:p,heightLarge:m,heightHuge:g,textColor3:v,opacityDisabled:y}=t;return Object.assign(Object.assign({},vme),{optionHeightSmall:h,optionHeightMedium:p,optionHeightLarge:m,optionHeightHuge:g,borderRadius:o,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:c,optionTextColor:n,optionTextColorHover:n,optionTextColorActive:e,optionTextColorChildActive:e,color:s,dividerColor:r,suffixColor:n,prefixColor:n,optionColorHover:i,optionColorActive:it(e,{alpha:.1}),groupHeaderTextColor:v,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:a,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:y})},_me={name:"Dropdown",common:Ke,peers:{Popover:_l},self(t){const{primaryColorSuppl:e,primaryColor:n,popoverColor:r}=t,i=yme(t);return i.colorInverted=r,i.optionColorActive=it(n,{alpha:.15}),i.optionColorActiveInverted=e,i.optionColorHoverInverted=e,i}},D_=_me,Tme={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},Eme=t=>{const{cardColor:e,modalColor:n,popoverColor:r,textColor2:i,textColor1:s,tableHeaderColor:a,tableColorHover:o,iconColor:l,primaryColor:d,fontWeightStrong:f,borderRadius:c,lineHeight:h,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:g,dividerColor:v,heightSmall:y,opacityDisabled:x,tableColorStriped:w}=t;return Object.assign(Object.assign({},Tme),{actionDividerColor:v,lineHeight:h,borderRadius:c,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:g,borderColor:ht(e,v),tdColorHover:ht(e,o),tdColorStriped:ht(e,w),thColor:ht(e,a),thColorHover:ht(ht(e,a),o),tdColor:e,tdTextColor:i,thTextColor:s,thFontWeight:f,thButtonColorHover:o,thIconColor:l,thIconColorActive:d,borderColorModal:ht(n,v),tdColorHoverModal:ht(n,o),tdColorStripedModal:ht(n,w),thColorModal:ht(n,a),thColorHoverModal:ht(ht(n,a),o),tdColorModal:n,borderColorPopover:ht(r,v),tdColorHoverPopover:ht(r,o),tdColorStripedPopover:ht(r,w),thColorPopover:ht(r,a),thColorHoverPopover:ht(ht(r,a),o),tdColorPopover:r,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:d,loadingSize:y,opacityLoading:x})},Ame={name:"DataTable",common:Ke,peers:{Button:ui,Checkbox:yc,Radio:l8,Pagination:a8,Scrollbar:li,Empty:yl,Popover:_l,Ellipsis:o8,Dropdown:D_},self(t){const e=Eme(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},xme=Ame,u8=t=>{const{textColorBase:e,opacity1:n,opacity2:r,opacity3:i,opacity4:s,opacity5:a}=t;return{color:e,opacity1Depth:n,opacity2Depth:r,opacity3Depth:i,opacity4Depth:s,opacity5Depth:a}},Cme={name:"Icon",common:k_,self:u8},wme=Cme,Sme={name:"Icon",common:Ke,self:u8},kme=Sme,Ime=L0("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[ms("color-transition",{transition:"color .3s var(--n-bezier)"}),ms("depth",{color:"var(--n-color)"},[wr("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),wr("svg",{height:"1em",width:"1em"})]),Dme=Object.assign(Object.assign({},Gf.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),c8=u.defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:Dme,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=QM(t),r=Gf("Icon","-icon",Ime,wme,t,e),i=u.computed(()=>{const{depth:a}=t,{common:{cubicBezierEaseInOut:o},self:l}=r.value;if(a!==void 0){const{color:d,[`opacity${a}Depth`]:f}=l;return{"--n-bezier":o,"--n-color":d,"--n-opacity":f}}return{"--n-bezier":o,"--n-color":"","--n-opacity":""}}),s=n?KM("icon",u.computed(()=>`${t.depth||"d"}`),i,t):void 0;return{mergedClsPrefix:e,mergedStyle:u.computed(()=>{const{size:a,color:o}=t;return{fontSize:cce(a),color:o}}),cssVars:n?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{$parent:e,depth:n,mergedClsPrefix:r,component:i,onRender:s,themeClass:a}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&lce("icon","don't wrap `n-icon` inside `n-icon`"),s==null||s(),u.h("i",u.mergeProps(this.$attrs,{role:"img",class:[`${r}-icon`,a,{[`${r}-icon--depth`]:n,[`${r}-icon--color-transition`]:n!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?u.h(i):this.$slots)}}),Nme={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},Mme=t=>{const{popoverColor:e,textColor2:n,primaryColor:r,hoverColor:i,dividerColor:s,opacityDisabled:a,boxShadow2:o,borderRadius:l,iconColor:d,iconColorDisabled:f}=t;return Object.assign(Object.assign({},Nme),{panelColor:e,panelBoxShadow:o,panelDividerColor:s,itemTextColor:n,itemTextColorActive:r,itemColorHover:i,itemOpacityDisabled:a,itemBorderRadius:l,borderRadius:l,iconColor:d,iconColorDisabled:f})},Ome={name:"TimePicker",common:Ke,peers:{Scrollbar:li,Button:ui,Input:Hi},self:Mme},d8=Ome,Lme={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},Rme=t=>{const{hoverColor:e,fontSize:n,textColor2:r,textColorDisabled:i,popoverColor:s,primaryColor:a,borderRadiusSmall:o,iconColor:l,iconColorDisabled:d,textColor1:f,dividerColor:c,boxShadow2:h,borderRadius:p,fontWeightStrong:m}=t;return Object.assign(Object.assign({},Lme),{itemFontSize:n,calendarDaysFontSize:n,calendarTitleFontSize:n,itemTextColor:r,itemTextColorDisabled:i,itemTextColorActive:s,itemTextColorCurrent:a,itemColorIncluded:it(a,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:a,itemBorderRadius:o,panelColor:s,panelTextColor:r,arrowColor:l,calendarTitleTextColor:f,calendarTitleColorHover:e,calendarDaysTextColor:r,panelHeaderDividerColor:c,calendarDaysDividerColor:c,calendarDividerColor:c,panelActionDividerColor:c,panelBoxShadow:h,panelBorderRadius:p,calendarTitleFontWeight:m,scrollItemBorderRadius:p,iconColor:l,iconColorDisabled:d})},Bme={name:"DatePicker",common:Ke,peers:{Input:Hi,Button:ui,TimePicker:d8,Scrollbar:li},self(t){const{popoverColor:e,hoverColor:n,primaryColor:r}=t,i=Rme(t);return i.itemColorDisabled=ht(e,n),i.itemColorIncluded=it(r,{alpha:.15}),i.itemColorHover=ht(e,n),i}},Pme=Bme,Fme={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},Ume=t=>{const{tableHeaderColor:e,textColor2:n,textColor1:r,cardColor:i,modalColor:s,popoverColor:a,dividerColor:o,borderRadius:l,fontWeightStrong:d,lineHeight:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p}=t;return Object.assign(Object.assign({},Fme),{lineHeight:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p,titleTextColor:r,thColor:ht(i,e),thColorModal:ht(s,e),thColorPopover:ht(a,e),thTextColor:r,thFontWeight:d,tdTextColor:n,tdColor:i,tdColorModal:s,tdColorPopover:a,borderColor:ht(i,o),borderColorModal:ht(s,o),borderColorPopover:ht(a,o),borderRadius:l})},jme={name:"Descriptions",common:Ke,self:Ume},Hme=jme,zme={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},Vme=t=>{const{textColor1:e,textColor2:n,modalColor:r,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeColorHover:o,closeColorPressed:l,infoColor:d,successColor:f,warningColor:c,errorColor:h,primaryColor:p,dividerColor:m,borderRadius:g,fontWeightStrong:v,lineHeight:y,fontSize:x}=t;return Object.assign(Object.assign({},zme),{fontSize:x,lineHeight:y,border:`1px solid ${m}`,titleTextColor:e,textColor:n,color:r,closeColorHover:o,closeColorPressed:l,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeBorderRadius:g,iconColor:p,iconColorInfo:d,iconColorSuccess:f,iconColorWarning:c,iconColorError:h,borderRadius:g,titleFontWeight:v})},Wme={name:"Dialog",common:Ke,peers:{Button:ui},self:Vme},f8=Wme,Gme=t=>{const{modalColor:e,textColor2:n,boxShadow3:r}=t;return{color:e,textColor:n,boxShadow:r}},Yme={name:"Modal",common:Ke,peers:{Scrollbar:li,Dialog:f8,Card:n8},self:Gme},Qme=Yme,Kme=t=>{const{textColor1:e,dividerColor:n,fontWeightStrong:r}=t;return{textColor:e,color:n,fontWeight:r}},Xme={name:"Divider",common:Ke,self:Kme},Zme=Xme,Jme=t=>{const{modalColor:e,textColor1:n,textColor2:r,boxShadow3:i,lineHeight:s,fontWeightStrong:a,dividerColor:o,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,borderRadius:p,primaryColorHover:m}=t;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:r,titleTextColor:n,titleFontSize:"18px",titleFontWeight:a,boxShadow:i,lineHeight:s,headerBorderBottom:`1px solid ${o}`,footerBorderTop:`1px solid ${o}`,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:d,closeBorderRadius:p,resizableTriggerColorHover:m}},qme={name:"Drawer",common:Ke,peers:{Scrollbar:li},self:Jme},$me=qme,e0e={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},t0e={name:"DynamicInput",common:Ke,peers:{Input:Hi,Button:ui},self(){return e0e}},n0e=t0e,r0e={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},i0e={name:"Space",self(){return r0e}},h8=i0e,s0e={name:"DynamicTags",common:Ke,peers:{Input:Hi,Button:ui,Tag:e8,Space:h8},self(){return{inputWidth:"64px"}}},a0e=s0e,o0e={name:"Element",common:Ke},l0e=o0e,u0e={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},c0e=t=>{const{heightSmall:e,heightMedium:n,heightLarge:r,textColor1:i,errorColor:s,warningColor:a,lineHeight:o,textColor3:l}=t;return Object.assign(Object.assign({},u0e),{blankHeightSmall:e,blankHeightMedium:n,blankHeightLarge:r,lineHeight:o,labelTextColor:i,asteriskColor:s,feedbackTextColorError:s,feedbackTextColorWarning:a,feedbackTextColor:l})},d0e={name:"Form",common:Ke,self:c0e},f0e=d0e,h0e={name:"GradientText",common:Ke,self(t){const{primaryColor:e,successColor:n,warningColor:r,errorColor:i,infoColor:s,primaryColorSuppl:a,successColorSuppl:o,warningColorSuppl:l,errorColorSuppl:d,infoColorSuppl:f,fontWeightStrong:c}=t;return{fontWeight:c,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:a,colorStartInfo:s,colorEndInfo:f,colorStartWarning:r,colorEndWarning:l,colorStartError:i,colorEndError:d,colorStartSuccess:n,colorEndSuccess:o}}},p0e=h0e,m0e=t=>{const{primaryColor:e,baseColor:n}=t;return{color:e,iconColor:n}},g0e={name:"IconWrapper",common:Ke,self:m0e},b0e=g0e,v0e={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},y0e=t=>{const{textColor2:e,successColor:n,infoColor:r,warningColor:i,errorColor:s,popoverColor:a,closeIconColor:o,closeIconColorHover:l,closeIconColorPressed:d,closeColorHover:f,closeColorPressed:c,textColor1:h,textColor3:p,borderRadius:m,fontWeightStrong:g,boxShadow2:v,lineHeight:y,fontSize:x}=t;return Object.assign(Object.assign({},v0e),{borderRadius:m,lineHeight:y,fontSize:x,headerFontWeight:g,iconColor:e,iconColorSuccess:n,iconColorInfo:r,iconColorWarning:i,iconColorError:s,color:a,textColor:e,closeIconColor:o,closeIconColorHover:l,closeIconColorPressed:d,closeBorderRadius:m,closeColorHover:f,closeColorPressed:c,headerTextColor:h,descriptionTextColor:p,actionTextColor:e,boxShadow:v})},_0e={name:"Notification",common:Ke,peers:{Scrollbar:li},self:y0e},T0e=_0e,E0e={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},A0e=t=>{const{textColor2:e,closeIconColor:n,closeIconColorHover:r,closeIconColorPressed:i,infoColor:s,successColor:a,errorColor:o,warningColor:l,popoverColor:d,boxShadow2:f,primaryColor:c,lineHeight:h,borderRadius:p,closeColorHover:m,closeColorPressed:g}=t;return Object.assign(Object.assign({},E0e),{closeBorderRadius:p,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:d,colorInfo:d,colorSuccess:d,colorError:d,colorWarning:d,colorLoading:d,boxShadow:f,boxShadowInfo:f,boxShadowSuccess:f,boxShadowError:f,boxShadowWarning:f,boxShadowLoading:f,iconColor:e,iconColorInfo:s,iconColorSuccess:a,iconColorWarning:l,iconColorError:o,iconColorLoading:c,closeColorHover:m,closeColorPressed:g,closeIconColor:n,closeIconColorHover:r,closeIconColorPressed:i,closeColorHoverInfo:m,closeColorPressedInfo:g,closeIconColorInfo:n,closeIconColorHoverInfo:r,closeIconColorPressedInfo:i,closeColorHoverSuccess:m,closeColorPressedSuccess:g,closeIconColorSuccess:n,closeIconColorHoverSuccess:r,closeIconColorPressedSuccess:i,closeColorHoverError:m,closeColorPressedError:g,closeIconColorError:n,closeIconColorHoverError:r,closeIconColorPressedError:i,closeColorHoverWarning:m,closeColorPressedWarning:g,closeIconColorWarning:n,closeIconColorHoverWarning:r,closeIconColorPressedWarning:i,closeColorHoverLoading:m,closeColorPressedLoading:g,closeIconColorLoading:n,closeIconColorHoverLoading:r,closeIconColorPressedLoading:i,loadingColor:c,lineHeight:h,borderRadius:p})},x0e={name:"Message",common:Ke,self:A0e},C0e=x0e,w0e={name:"ButtonGroup",common:Ke},S0e=w0e,k0e={name:"InputNumber",common:Ke,peers:{Button:ui,Input:Hi},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}},I0e=k0e,D0e={name:"Layout",common:Ke,peers:{Scrollbar:li},self(t){const{textColor2:e,bodyColor:n,popoverColor:r,cardColor:i,dividerColor:s,scrollbarColor:a,scrollbarColorHover:o}=t;return{textColor:e,textColorInverted:e,color:n,colorEmbedded:n,headerColor:i,headerColorInverted:i,footerColor:i,footerColorInverted:i,headerBorderColor:s,headerBorderColorInverted:s,footerBorderColor:s,footerBorderColorInverted:s,siderBorderColor:s,siderBorderColorInverted:s,siderColor:i,siderColorInverted:i,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:r,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:ht(n,a),siderToggleBarColorHover:ht(n,o),__invertScrollbar:"false"}}},N0e=D0e,M0e=t=>{const{textColor2:e,cardColor:n,modalColor:r,popoverColor:i,dividerColor:s,borderRadius:a,fontSize:o,hoverColor:l}=t;return{textColor:e,color:n,colorHover:l,colorModal:r,colorHoverModal:ht(r,l),colorPopover:i,colorHoverPopover:ht(i,l),borderColor:s,borderColorModal:ht(r,s),borderColorPopover:ht(i,s),borderRadius:a,fontSize:o}},O0e={name:"List",common:Ke,self:M0e},L0e=O0e,R0e={name:"LoadingBar",common:Ke,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}},B0e=R0e,P0e={name:"Log",common:Ke,peers:{Scrollbar:li,Code:r8},self(t){const{textColor2:e,inputColor:n,fontSize:r,primaryColor:i}=t;return{loaderFontSize:r,loaderTextColor:e,loaderColor:n,loaderBorder:"1px solid #0000",loadingColor:i}}},F0e=P0e,U0e={name:"Mention",common:Ke,peers:{InternalSelectMenu:Yf,Input:Hi},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}},j0e=U0e;function H0e(t,e,n,r){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:n,itemTextColorChildActiveInverted:n,itemTextColorChildActiveHoverInverted:n,itemTextColorActiveInverted:n,itemTextColorActiveHoverInverted:n,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:n,itemTextColorChildActiveHorizontalInverted:n,itemTextColorChildActiveHoverHorizontalInverted:n,itemTextColorActiveHorizontalInverted:n,itemTextColorActiveHoverHorizontalInverted:n,itemIconColorInverted:t,itemIconColorHoverInverted:n,itemIconColorActiveInverted:n,itemIconColorActiveHoverInverted:n,itemIconColorChildActiveInverted:n,itemIconColorChildActiveHoverInverted:n,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:n,itemIconColorActiveHorizontalInverted:n,itemIconColorActiveHoverHorizontalInverted:n,itemIconColorChildActiveHorizontalInverted:n,itemIconColorChildActiveHoverHorizontalInverted:n,arrowColorInverted:t,arrowColorHoverInverted:n,arrowColorActiveInverted:n,arrowColorActiveHoverInverted:n,arrowColorChildActiveInverted:n,arrowColorChildActiveHoverInverted:n,groupTextColorInverted:r}}const z0e=t=>{const{borderRadius:e,textColor3:n,primaryColor:r,textColor2:i,textColor1:s,fontSize:a,dividerColor:o,hoverColor:l,primaryColorHover:d}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:n,itemColorHover:l,itemColorActive:it(r,{alpha:.1}),itemColorActiveHover:it(r,{alpha:.1}),itemColorActiveCollapsed:it(r,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:r,itemTextColorActiveHover:r,itemTextColorChildActive:r,itemTextColorChildActiveHover:r,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:d,itemTextColorActiveHorizontal:r,itemTextColorActiveHoverHorizontal:r,itemTextColorChildActiveHorizontal:r,itemTextColorChildActiveHoverHorizontal:r,itemIconColor:s,itemIconColorHover:s,itemIconColorActive:r,itemIconColorActiveHover:r,itemIconColorChildActive:r,itemIconColorChildActiveHover:r,itemIconColorCollapsed:s,itemIconColorHorizontal:s,itemIconColorHoverHorizontal:d,itemIconColorActiveHorizontal:r,itemIconColorActiveHoverHorizontal:r,itemIconColorChildActiveHorizontal:r,itemIconColorChildActiveHoverHorizontal:r,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:r,arrowColorActiveHover:r,arrowColorChildActive:r,arrowColorChildActiveHover:r,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:a,dividerColor:o},H0e("#BBB",r,"#FFF","#AAA"))},V0e={name:"Menu",common:Ke,peers:{Tooltip:Y0,Dropdown:D_},self(t){const{primaryColor:e,primaryColorSuppl:n}=t,r=z0e(t);return r.itemColorActive=it(e,{alpha:.15}),r.itemColorActiveHover=it(e,{alpha:.15}),r.itemColorActiveCollapsed=it(e,{alpha:.15}),r.itemColorActiveInverted=n,r.itemColorActiveHoverInverted=n,r.itemColorActiveCollapsedInverted=n,r}},W0e=V0e,G0e={titleFontSize:"18px",backSize:"22px"};function Y0e(t){const{textColor1:e,textColor2:n,textColor3:r,fontSize:i,fontWeightStrong:s,primaryColorHover:a,primaryColorPressed:o}=t;return Object.assign(Object.assign({},G0e),{titleFontWeight:s,fontSize:i,titleTextColor:e,backColor:n,backColorHover:a,backColorPressed:o,subtitleTextColor:r})}const Q0e={name:"PageHeader",common:Ke,self:Y0e},K0e={iconSize:"22px"},X0e=t=>{const{fontSize:e,warningColor:n}=t;return Object.assign(Object.assign({},K0e),{fontSize:e,iconColor:n})},Z0e={name:"Popconfirm",common:Ke,peers:{Button:ui,Popover:_l},self:X0e},J0e=Z0e,q0e=t=>{const{infoColor:e,successColor:n,warningColor:r,errorColor:i,textColor2:s,progressRailColor:a,fontSize:o,fontWeight:l}=t;return{fontSize:o,fontSizeCircle:"28px",fontWeightCircle:l,railColor:a,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:n,iconColorWarning:r,iconColorError:i,textColorCircle:s,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:s,fillColor:e,fillColorInfo:e,fillColorSuccess:n,fillColorWarning:r,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},$0e={name:"Progress",common:Ke,self(t){const e=q0e(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},p8=$0e,ege={name:"Rate",common:Ke,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},tge=ege,nge={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},rge=t=>{const{textColor2:e,textColor1:n,errorColor:r,successColor:i,infoColor:s,warningColor:a,lineHeight:o,fontWeightStrong:l}=t;return Object.assign(Object.assign({},nge),{lineHeight:o,titleFontWeight:l,titleTextColor:n,textColor:e,iconColorError:r,iconColorSuccess:i,iconColorInfo:s,iconColorWarning:a})},ige={name:"Result",common:Ke,self:rge},sge=ige,age={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},oge={name:"Slider",common:Ke,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:n,modalColor:r,primaryColorSuppl:i,popoverColor:s,textColor2:a,cardColor:o,borderRadius:l,fontSize:d,opacityDisabled:f}=t;return Object.assign(Object.assign({},age),{fontSize:d,markFontSize:d,railColor:n,railColorHover:n,fillColor:i,fillColorHover:i,opacityDisabled:f,handleColor:"#FFF",dotColor:o,dotColorModal:r,dotColorPopover:s,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:s,indicatorBoxShadow:e,indicatorTextColor:a,indicatorBorderRadius:l,dotBorder:`2px solid ${n}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}},lge=oge,uge=t=>{const{opacityDisabled:e,heightTiny:n,heightSmall:r,heightMedium:i,heightLarge:s,heightHuge:a,primaryColor:o,fontSize:l}=t;return{fontSize:l,textColor:o,sizeTiny:n,sizeSmall:r,sizeMedium:i,sizeLarge:s,sizeHuge:a,color:o,opacitySpinning:e}},cge={name:"Spin",common:Ke,self:uge},dge=cge,fge=t=>{const{textColor2:e,textColor3:n,fontSize:r,fontWeight:i}=t;return{labelFontSize:r,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:n,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}},hge={name:"Statistic",common:Ke,self:fge},pge=hge,mge={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},gge=t=>{const{fontWeightStrong:e,baseColor:n,textColorDisabled:r,primaryColor:i,errorColor:s,textColor1:a,textColor2:o}=t;return Object.assign(Object.assign({},mge),{stepHeaderFontWeight:e,indicatorTextColorProcess:n,indicatorTextColorWait:r,indicatorTextColorFinish:i,indicatorTextColorError:s,indicatorBorderColorProcess:i,indicatorBorderColorWait:r,indicatorBorderColorFinish:i,indicatorBorderColorError:s,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:r,splitorColorWait:r,splitorColorFinish:i,splitorColorError:r,headerTextColorProcess:a,headerTextColorWait:r,headerTextColorFinish:r,headerTextColorError:s,descriptionTextColorProcess:o,descriptionTextColorWait:r,descriptionTextColorFinish:r,descriptionTextColorError:s})},bge={name:"Steps",common:Ke,self:gge},vge=bge,m8={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},yge={name:"Switch",common:Ke,self(t){const{primaryColorSuppl:e,opacityDisabled:n,borderRadius:r,primaryColor:i,textColor2:s,baseColor:a}=t;return Object.assign(Object.assign({},m8),{iconColor:a,textColor:s,loadingColor:e,opacityDisabled:n,railColor:"rgba(255, 255, 255, .20)",railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 8px 0 ${it(i,{alpha:.3})}`})}},_ge=yge,Tge=t=>{const{primaryColor:e,opacityDisabled:n,borderRadius:r,textColor3:i}=t;return Object.assign(Object.assign({},m8),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:n,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 0 2px ${it(e,{alpha:.2})}`})},Ege={name:"Switch",common:k_,self:Tge},Age=Ege,xge={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},Cge=t=>{const{dividerColor:e,cardColor:n,modalColor:r,popoverColor:i,tableHeaderColor:s,tableColorStriped:a,textColor1:o,textColor2:l,borderRadius:d,fontWeightStrong:f,lineHeight:c,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m}=t;return Object.assign(Object.assign({},xge),{fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,lineHeight:c,borderRadius:d,borderColor:ht(n,e),borderColorModal:ht(r,e),borderColorPopover:ht(i,e),tdColor:n,tdColorModal:r,tdColorPopover:i,tdColorStriped:ht(n,a),tdColorStripedModal:ht(r,a),tdColorStripedPopover:ht(i,a),thColor:ht(n,s),thColorModal:ht(r,s),thColorPopover:ht(i,s),thTextColor:o,tdTextColor:l,thFontWeight:f})},wge={name:"Table",common:Ke,self:Cge},Sge=wge,kge={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},Ige=t=>{const{textColor2:e,primaryColor:n,textColorDisabled:r,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeColorHover:o,closeColorPressed:l,tabColor:d,baseColor:f,dividerColor:c,fontWeight:h,textColor1:p,borderRadius:m,fontSize:g,fontWeightStrong:v}=t;return Object.assign(Object.assign({},kge),{colorSegment:d,tabFontSizeCard:g,tabTextColorLine:p,tabTextColorActiveLine:n,tabTextColorHoverLine:n,tabTextColorDisabledLine:r,tabTextColorSegment:p,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:r,tabTextColorBar:p,tabTextColorActiveBar:n,tabTextColorHoverBar:n,tabTextColorDisabledBar:r,tabTextColorCard:p,tabTextColorHoverCard:p,tabTextColorActiveCard:n,tabTextColorDisabledCard:r,barColor:n,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeColorHover:o,closeColorPressed:l,closeBorderRadius:m,tabColor:d,tabColorSegment:f,tabBorderColor:c,tabFontWeightActive:h,tabFontWeight:h,tabBorderRadius:m,paneTextColor:e,fontWeightStrong:v})},Dge={name:"Tabs",common:Ke,self(t){const e=Ige(t),{inputColor:n}=t;return e.colorSegment=n,e.tabColorSegment=n,e}},Nge=Dge,Mge=t=>{const{textColor1:e,textColor2:n,fontWeightStrong:r,fontSize:i}=t;return{fontSize:i,titleTextColor:e,textColor:n,titleFontWeight:r}},Oge={name:"Thing",common:Ke,self:Mge},Lge=Oge,Rge={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},Bge={name:"Timeline",common:Ke,self(t){const{textColor3:e,infoColorSuppl:n,errorColorSuppl:r,successColorSuppl:i,warningColorSuppl:s,textColor1:a,textColor2:o,railColor:l,fontWeightStrong:d,fontSize:f}=t;return Object.assign(Object.assign({},Rge),{contentFontSize:f,titleFontWeight:d,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${n}`,circleBorderError:`2px solid ${r}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${s}`,iconColor:e,iconColorInfo:n,iconColorError:r,iconColorSuccess:i,iconColorWarning:s,titleTextColor:a,contentTextColor:o,metaTextColor:e,lineColor:l})}},Pge=Bge,Fge={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},Uge={name:"Transfer",common:Ke,peers:{Checkbox:yc,Scrollbar:li,Input:Hi,Empty:yl,Button:ui},self(t){const{fontWeight:e,fontSizeLarge:n,fontSizeMedium:r,fontSizeSmall:i,heightLarge:s,heightMedium:a,borderRadius:o,inputColor:l,tableHeaderColor:d,textColor1:f,textColorDisabled:c,textColor2:h,textColor3:p,hoverColor:m,closeColorHover:g,closeColorPressed:v,closeIconColor:y,closeIconColorHover:x,closeIconColorPressed:w,dividerColor:I}=t;return Object.assign(Object.assign({},Fge),{itemHeightSmall:a,itemHeightMedium:a,itemHeightLarge:s,fontSizeSmall:i,fontSizeMedium:r,fontSizeLarge:n,borderRadius:o,dividerColor:I,borderColor:"#0000",listColor:l,headerColor:d,titleTextColor:f,titleTextColorDisabled:c,extraTextColor:p,extraTextColorDisabled:c,itemTextColor:h,itemTextColorDisabled:c,itemColorPending:m,titleFontWeight:e,closeColorHover:g,closeColorPressed:v,closeIconColor:y,closeIconColorHover:x,closeIconColorPressed:w})}},jge=Uge,Hge=t=>{const{borderRadiusSmall:e,hoverColor:n,pressedColor:r,primaryColor:i,textColor3:s,textColor2:a,textColorDisabled:o,fontSize:l}=t;return{fontSize:l,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:n,nodeColorPressed:r,nodeColorActive:it(i,{alpha:.1}),arrowColor:s,nodeTextColor:a,nodeTextColorDisabled:o,loadingColor:i,dropMarkColor:i}},zge={name:"Tree",common:Ke,peers:{Checkbox:yc,Scrollbar:li,Empty:yl},self(t){const{primaryColor:e}=t,n=Hge(t);return n.nodeColorActive=it(e,{alpha:.15}),n}},g8=zge,Vge={name:"TreeSelect",common:Ke,peers:{Tree:g8,Empty:yl,InternalSelection:I_}},Wge=Vge,Gge={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},Yge=t=>{const{primaryColor:e,textColor2:n,borderColor:r,lineHeight:i,fontSize:s,borderRadiusSmall:a,dividerColor:o,fontWeightStrong:l,textColor1:d,textColor3:f,infoColor:c,warningColor:h,errorColor:p,successColor:m,codeColor:g}=t;return Object.assign(Object.assign({},Gge),{aTextColor:e,blockquoteTextColor:n,blockquotePrefixColor:r,blockquoteLineHeight:i,blockquoteFontSize:s,codeBorderRadius:a,liTextColor:n,liLineHeight:i,liFontSize:s,hrColor:o,headerFontWeight:l,headerTextColor:d,pTextColor:n,pTextColor1Depth:d,pTextColor2Depth:n,pTextColor3Depth:f,pLineHeight:i,pFontSize:s,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:c,headerBarColorError:p,headerBarColorWarning:h,headerBarColorSuccess:m,textColor:n,textColor1Depth:d,textColor2Depth:n,textColor3Depth:f,textColorPrimary:e,textColorInfo:c,textColorSuccess:m,textColorWarning:h,textColorError:p,codeTextColor:n,codeColor:g,codeBorder:"1px solid #0000"})},Qge={name:"Typography",common:Ke,self:Yge},Kge=Qge,Xge=t=>{const{iconColor:e,primaryColor:n,errorColor:r,textColor2:i,successColor:s,opacityDisabled:a,actionColor:o,borderColor:l,hoverColor:d,lineHeight:f,borderRadius:c,fontSize:h}=t;return{fontSize:h,lineHeight:f,borderRadius:c,draggerColor:o,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${n}`,itemColorHover:d,itemColorHoverError:it(r,{alpha:.06}),itemTextColor:i,itemTextColorError:r,itemTextColorSuccess:s,itemIconColor:e,itemDisabledOpacity:a,itemBorderImageCardError:`1px solid ${r}`,itemBorderImageCard:`1px solid ${l}`}},Zge={name:"Upload",common:Ke,peers:{Button:ui,Progress:p8},self(t){const{errorColor:e}=t,n=Xge(t);return n.itemColorHoverError=it(e,{alpha:.09}),n}},Jge=Zge,qge={name:"Watermark",common:Ke,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},$ge=qge,e1e={name:"Row",common:Ke},t1e=e1e,n1e={name:"Image",common:Ke,peers:{Tooltip:Y0},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},r1e={extraFontSize:"12px",width:"440px"},i1e={name:"Transfer",common:Ke,peers:{Checkbox:yc,Scrollbar:li,Input:Hi,Empty:yl,Button:ui},self(t){const{iconColorDisabled:e,iconColor:n,fontWeight:r,fontSizeLarge:i,fontSizeMedium:s,fontSizeSmall:a,heightLarge:o,heightMedium:l,heightSmall:d,borderRadius:f,inputColor:c,tableHeaderColor:h,textColor1:p,textColorDisabled:m,textColor2:g,hoverColor:v}=t;return Object.assign(Object.assign({},r1e),{itemHeightSmall:d,itemHeightMedium:l,itemHeightLarge:o,fontSizeSmall:a,fontSizeMedium:s,fontSizeLarge:i,borderRadius:f,borderColor:"#0000",listColor:c,headerColor:h,titleTextColor:p,titleTextColorDisabled:m,extraTextColor:g,filterDividerColor:"#0000",itemTextColor:g,itemTextColorDisabled:m,itemColorPending:v,titleFontWeight:r,iconColor:n,iconColorDisabled:e})}},s1e=i1e,a1e={name:"Skeleton",common:Ke,self(t){const{heightSmall:e,heightMedium:n,heightLarge:r,borderRadius:i}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:i,heightSmall:e,heightMedium:n,heightLarge:r}}},o1e=L0("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[Rt("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),Rt("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),Rt("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),L0("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[G0({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),Rt("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),Rt("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Rt("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),wr("&:focus",[Rt("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),ms("round",[Rt("rail","border-radius: calc(var(--n-rail-height) / 2);",[Rt("button","border-radius: calc(var(--n-button-height) / 2);")])]),pM("disabled",[pM("icon",[ms("rubber-band",[ms("pressed",[Rt("rail",[Rt("button","max-width: var(--n-button-width-pressed);")])]),Rt("rail",[wr("&:active",[Rt("button","max-width: var(--n-button-width-pressed);")])]),ms("active",[ms("pressed",[Rt("rail",[Rt("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),Rt("rail",[wr("&:active",[Rt("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),ms("active",[Rt("rail",[Rt("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),Rt("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[Rt("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[G0()]),Rt("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),ms("active",[Rt("rail","background-color: var(--n-rail-color-active);")]),ms("loading",[Rt("rail",`
 cursor: wait;
 `)]),ms("disabled",[Rt("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),l1e=Object.assign(Object.assign({},Gf.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let Qf;const u1e=u.defineComponent({name:"Switch",props:l1e,setup(t){process.env.NODE_ENV!=="production"&&u.watchEffect(()=>{t.onChange&&oce("switch","`on-change` is deprecated, please use `on-update:value` instead.")}),Qf===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?Qf=CSS.supports("width","max(1px)"):Qf=!1:Qf=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=QM(t),r=Gf("Switch","-switch",o1e,Age,t,e),i=Pce(t),{mergedSizeRef:s,mergedDisabledRef:a}=i,o=u.ref(t.defaultValue),l=u.toRef(t,"value"),d=Mce(l,o),f=u.computed(()=>d.value===t.checkedValue),c=u.ref(!1),h=u.ref(!1),p=u.computed(()=>{const{railStyle:M}=t;if(M)return M({focused:h.value,checked:f.value})});function m(M){const{"onUpdate:value":D,onChange:L,onUpdateValue:z}=t,{nTriggerFormInput:U,nTriggerFormChange:F}=i;D&&N0(D,M),z&&N0(z,M),L&&N0(L,M),o.value=M,U(),F()}function g(){const{nTriggerFormFocus:M}=i;M()}function v(){const{nTriggerFormBlur:M}=i;M()}function y(){t.loading||a.value||(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue))}function x(){h.value=!0,g()}function w(){h.value=!1,v(),c.value=!1}function I(M){t.loading||a.value||M.key===" "&&(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue),c.value=!1)}function k(M){t.loading||a.value||M.key===" "&&(M.preventDefault(),c.value=!0)}const S=u.computed(()=>{const{value:M}=s,{self:{opacityDisabled:D,railColor:L,railColorActive:z,buttonBoxShadow:U,buttonColor:F,boxShadowFocus:H,loadingColor:K,textColor:P,iconColor:W,[lo("buttonHeight",M)]:ie,[lo("buttonWidth",M)]:Q,[lo("buttonWidthPressed",M)]:N,[lo("railHeight",M)]:E,[lo("railWidth",M)]:j,[lo("railBorderRadius",M)]:G,[lo("buttonBorderRadius",M)]:X},common:{cubicBezierEaseInOut:Z}}=r.value;let ce,re,pe;return Qf?(ce=`calc((${E} - ${ie}) / 2)`,re=`max(${E}, ${ie})`,pe=`max(${j}, calc(${j} + ${ie} - ${E}))`):(ce=u_((_a(E)-_a(ie))/2),re=u_(Math.max(_a(E),_a(ie))),pe=_a(E)>_a(ie)?j:u_(_a(j)+_a(ie)-_a(E))),{"--n-bezier":Z,"--n-button-border-radius":X,"--n-button-box-shadow":U,"--n-button-color":F,"--n-button-width":Q,"--n-button-width-pressed":N,"--n-button-height":ie,"--n-height":re,"--n-offset":ce,"--n-opacity-disabled":D,"--n-rail-border-radius":G,"--n-rail-color":L,"--n-rail-color-active":z,"--n-rail-height":E,"--n-rail-width":j,"--n-width":pe,"--n-box-shadow-focus":H,"--n-loading-color":K,"--n-text-color":P,"--n-icon-color":W}}),B=n?KM("switch",u.computed(()=>s.value[0]),S,t):void 0;return{handleClick:y,handleBlur:w,handleFocus:x,handleKeyup:I,handleKeydown:k,mergedRailStyle:p,pressed:c,mergedClsPrefix:e,mergedValue:d,checked:f,mergedDisabled:a,cssVars:n?void 0:S,themeClass:B==null?void 0:B.themeClass,onRender:B==null?void 0:B.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:n,mergedRailStyle:r,onRender:i,$slots:s}=this;i==null||i();const{checked:a,unchecked:o,icon:l,"checked-icon":d,"unchecked-icon":f}=s,c=!(h_(l)&&h_(d)&&h_(f));return u.h("div",{role:"switch","aria-checked":n,class:[`${t}-switch`,this.themeClass,c&&`${t}-switch--icon`,n&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},u.h("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:r},gl(a,h=>gl(o,p=>h||p?u.h("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},u.h("div",{class:`${t}-switch__rail-placeholder`},u.h("div",{class:`${t}-switch__button-placeholder`}),h),u.h("div",{class:`${t}-switch__rail-placeholder`},u.h("div",{class:`${t}-switch__button-placeholder`}),p)):null)),u.h("div",{class:`${t}-switch__button`},gl(l,h=>gl(d,p=>gl(f,m=>u.h(XM,null,{default:()=>this.loading?u.h(Bhe,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(p||h)?u.h("div",{class:`${t}-switch__button-icon`,key:p?"checked-icon":"icon"},p||h):!this.checked&&(m||h)?u.h("div",{class:`${t}-switch__button-icon`,key:m?"unchecked-icon":"icon"},m||h):null})))),gl(a,h=>h&&u.h("div",{key:"checked",class:`${t}-switch__checked`},h)),gl(o,h=>h&&u.h("div",{key:"unchecked",class:`${t}-switch__unchecked`},h)))))}}),c1e=()=>({}),d1e={name:"Equation",common:Ke,self:c1e},f1e=d1e,h1e={name:"dark",common:Ke,Alert:lpe,Anchor:fpe,AutoComplete:bpe,Avatar:t8,AvatarGroup:Epe,BackTop:Cpe,Badge:Spe,Breadcrumb:Npe,Button:ui,ButtonGroup:S0e,Calendar:Fpe,Card:n8,Carousel:Qpe,Cascader:$pe,Checkbox:yc,Code:r8,Collapse:rme,CollapseTransition:ame,ColorPicker:Hpe,DataTable:xme,DatePicker:Pme,Descriptions:Hme,Dialog:f8,Divider:Zme,Drawer:$me,Dropdown:D_,DynamicInput:n0e,DynamicTags:a0e,Element:l0e,Empty:yl,Ellipsis:o8,Equation:f1e,Form:f0e,GradientText:p0e,Icon:kme,IconWrapper:b0e,Image:n1e,Input:Hi,InputNumber:I0e,LegacyTransfer:s1e,Layout:N0e,List:L0e,LoadingBar:B0e,Log:F0e,Menu:W0e,Mention:j0e,Message:C0e,Modal:Qme,Notification:T0e,PageHeader:Q0e,Pagination:a8,Popconfirm:J0e,Popover:_l,Popselect:i8,Progress:p8,Radio:l8,Rate:tge,Result:sge,Row:t1e,Scrollbar:li,Select:s8,Skeleton:a1e,Slider:lge,Space:h8,Spin:dge,Statistic:pge,Steps:vge,Switch:_ge,Table:Sge,Tabs:Nge,Tag:e8,Thing:Lge,TimePicker:d8,Timeline:Pge,Tooltip:Y0,Transfer:jge,Tree:g8,TreeSelect:Wge,Typography:Kge,Upload:Jge,Watermark:$ge};var b8;const v8=typeof window<"u",p1e=t=>typeof t=="function",m1e=t=>typeof t=="string",g1e=()=>{};v8&&(b8=window==null?void 0:window.navigator)!=null&&b8.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Kf(t){return typeof t=="function"?t():u.unref(t)}function b1e(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const y8=t=>t();function v1e(t=y8){const e=u.ref(!0);function n(){e.value=!1}function r(){e.value=!0}const i=(...s)=>{e.value&&t(...s)};return{isActive:u.readonly(e),pause:n,resume:r,eventFilter:i}}function y1e(t){return t}function _8(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function _1e(t){return typeof t=="function"?u.computed(t):u.ref(t)}function T8(t,e=!0){u.getCurrentInstance()?u.onMounted(t):e?t():u.nextTick(t)}function T1e(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,i=u.isRef(t),s=u.ref(t);function a(o){if(arguments.length)return s.value=o,s.value;{const l=Kf(n);return s.value=s.value===l?Kf(r):l,s.value}}return i?a:[s,a]}var E8=Object.getOwnPropertySymbols,E1e=Object.prototype.hasOwnProperty,A1e=Object.prototype.propertyIsEnumerable,x1e=(t,e)=>{var n={};for(var r in t)E1e.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&E8)for(var r of E8(t))e.indexOf(r)<0&&A1e.call(t,r)&&(n[r]=t[r]);return n};function C1e(t,e,n={}){const r=n,{eventFilter:i=y8}=r,s=x1e(r,["eventFilter"]);return u.watch(t,b1e(i,e),s)}var w1e=Object.defineProperty,S1e=Object.defineProperties,k1e=Object.getOwnPropertyDescriptors,Q0=Object.getOwnPropertySymbols,A8=Object.prototype.hasOwnProperty,x8=Object.prototype.propertyIsEnumerable,C8=(t,e,n)=>e in t?w1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I1e=(t,e)=>{for(var n in e||(e={}))A8.call(e,n)&&C8(t,n,e[n]);if(Q0)for(var n of Q0(e))x8.call(e,n)&&C8(t,n,e[n]);return t},D1e=(t,e)=>S1e(t,k1e(e)),N1e=(t,e)=>{var n={};for(var r in t)A8.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Q0)for(var r of Q0(t))e.indexOf(r)<0&&x8.call(t,r)&&(n[r]=t[r]);return n};function M1e(t,e,n={}){const r=n,{eventFilter:i}=r,s=N1e(r,["eventFilter"]),{eventFilter:a,pause:o,resume:l,isActive:d}=v1e(i);return{stop:C1e(t,e,D1e(I1e({},s),{eventFilter:a})),pause:o,resume:l,isActive:d}}function O1e(t){var e;const n=Kf(t);return(e=n==null?void 0:n.$el)!=null?e:n}const _c=v8?window:void 0;function w8(...t){let e,n,r,i;if(m1e(t[0])||Array.isArray(t[0])?([n,r,i]=t,e=_c):[e,n,r,i]=t,!e)return g1e;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(f=>f()),s.length=0},o=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[O1e(e),Kf(i)],([f,c])=>{a(),f&&s.push(...n.flatMap(h=>r.map(p=>o(f,h,p,c))))},{immediate:!0,flush:"post"}),d=()=>{l(),a()};return _8(d),d}function L1e(t,e=!1){const n=u.ref(),r=()=>n.value=!!t();return r(),T8(r,e),n}function R1e(t,e={}){const{window:n=_c}=e,r=L1e(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=u.ref(!1),a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},o=()=>{r.value&&(a(),i=n.matchMedia(_1e(t).value),s.value=i.matches,"addEventListener"in i?i.addEventListener("change",o):i.addListener(o))};return u.watchEffect(o),_8(()=>a()),s}const N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M_="__vueuse_ssr_handlers__";N_[M_]=N_[M_]||{};const B1e=N_[M_];function S8(t,e){return B1e[t]||e}function P1e(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var F1e=Object.defineProperty,k8=Object.getOwnPropertySymbols,U1e=Object.prototype.hasOwnProperty,j1e=Object.prototype.propertyIsEnumerable,I8=(t,e,n)=>e in t?F1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D8=(t,e)=>{for(var n in e||(e={}))U1e.call(e,n)&&I8(t,n,e[n]);if(k8)for(var n of k8(e))j1e.call(e,n)&&I8(t,n,e[n]);return t};const H1e={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},N8="vueuse-storage";function z1e(t,e,n,r={}){var i;const{flush:s="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:d=!1,shallow:f,window:c=_c,eventFilter:h,onError:p=M=>{console.error(M)}}=r,m=(f?u.shallowRef:u.ref)(e);if(!n)try{n=S8("getDefaultStorage",()=>{var M;return(M=_c)==null?void 0:M.localStorage})()}catch(M){p(M)}if(!n)return m;const g=Kf(e),v=P1e(g),y=(i=r.serializer)!=null?i:H1e[v],{pause:x,resume:w}=M1e(m,()=>I(m.value),{flush:s,deep:a,eventFilter:h});return c&&o&&(w8(c,"storage",B),w8(c,N8,S)),B(),m;function I(M){try{if(M==null)n.removeItem(t);else{const D=y.write(M),L=n.getItem(t);L!==D&&(n.setItem(t,D),c&&c.dispatchEvent(new CustomEvent(N8,{detail:{key:t,oldValue:L,newValue:D,storageArea:n}})))}}catch(D){p(D)}}function k(M){const D=M?M.newValue:n.getItem(t);if(D==null)return l&&g!==null&&n.setItem(t,y.write(g)),g;if(!M&&d){const L=y.read(D);return p1e(d)?d(L,g):v==="object"&&!Array.isArray(L)?D8(D8({},g),L):L}else return typeof D!="string"?D:y.read(D)}function S(M){B(M.detail)}function B(M){if(!(M&&M.storageArea!==n)){if(M&&M.key==null){m.value=g;return}if(!(M&&M.key!==t)){x();try{m.value=k(M)}catch(D){p(D)}finally{M?u.nextTick(w):w()}}}}}function M8(t){return R1e("(prefers-color-scheme: dark)",t)}var V1e=Object.defineProperty,O8=Object.getOwnPropertySymbols,W1e=Object.prototype.hasOwnProperty,G1e=Object.prototype.propertyIsEnumerable,L8=(t,e,n)=>e in t?V1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y1e=(t,e)=>{for(var n in e||(e={}))W1e.call(e,n)&&L8(t,n,e[n]);if(O8)for(var n of O8(e))G1e.call(e,n)&&L8(t,n,e[n]);return t};function Q1e(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:i=_c,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:d}=t,f=Y1e({auto:"",light:"light",dark:"dark"},t.modes||{}),c=M8({window:i}),h=u.computed(()=>c.value?"dark":"light"),p=l||(a==null?u.ref(r):z1e(a,r,s,{window:i,listenToStorageChanges:o})),m=u.computed({get(){return p.value==="auto"&&!d?h.value:p.value},set(x){p.value=x}}),g=S8("updateHTMLAttrs",(x,w,I)=>{const k=i==null?void 0:i.document.querySelector(x);if(k)if(w==="class"){const S=I.split(/\s/g);Object.values(f).flatMap(B=>(B||"").split(/\s/g)).filter(Boolean).forEach(B=>{S.includes(B)?k.classList.add(B):k.classList.remove(B)})}else k.setAttribute(w,I)});function v(x){var w;const I=x==="auto"?h.value:x;g(e,n,(w=f[I])!=null?w:I)}function y(x){t.onChanged?t.onChanged(x,v):v(x)}return u.watch(m,y,{flush:"post",immediate:!0}),d&&u.watch(h,()=>y(m.value),{flush:"post"}),T8(()=>y(m.value)),m}var K1e=Object.defineProperty,X1e=Object.defineProperties,Z1e=Object.getOwnPropertyDescriptors,R8=Object.getOwnPropertySymbols,J1e=Object.prototype.hasOwnProperty,q1e=Object.prototype.propertyIsEnumerable,B8=(t,e,n)=>e in t?K1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$1e=(t,e)=>{for(var n in e||(e={}))J1e.call(e,n)&&B8(t,n,e[n]);if(R8)for(var n of R8(e))q1e.call(e,n)&&B8(t,n,e[n]);return t},ebe=(t,e)=>X1e(t,Z1e(e));function tbe(t={}){const{valueDark:e="dark",valueLight:n="",window:r=_c}=t,i=Q1e(ebe($1e({},t),{onChanged:(a,o)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,a==="dark"):o(a)},modes:{dark:e,light:n}})),s=M8({window:r});return u.computed({get(){return i.value==="dark"},set(a){a===s.value?i.value="auto":i.value=a?"dark":"light"}})}var P8;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(P8||(P8={}));var nbe=Object.defineProperty,F8=Object.getOwnPropertySymbols,rbe=Object.prototype.hasOwnProperty,ibe=Object.prototype.propertyIsEnumerable,U8=(t,e,n)=>e in t?nbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sbe=(t,e)=>{for(var n in e||(e={}))rbe.call(e,n)&&U8(t,n,e[n]);if(F8)for(var n of F8(e))ibe.call(e,n)&&U8(t,n,e[n]);return t};sbe({linear:y1e},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Xf=tbe();T1e(Xf),u.computed(()=>Xf.value?h1e:null);const abe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},obe=u.createElementVNode("path",{d:"M6.76 4.84l-1.8-1.79l-1.41 1.41l1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407l-1.79 1.79l-1.407-1.408zm-1.8 15.115l1.79 1.8l1.41-1.41l-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41l1.79-1.8l-1.41-1.41z",fill:"currentColor"},null,-1),lbe=[obe],ube=u.defineComponent({name:"WbSunnyOutlined",render:function(t,e){return u.openBlock(),u.createElementBlock("svg",abe,lbe)}}),cbe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},dbe=u.createElementVNode("path",{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4c.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7c0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z",fill:"currentColor"},null,-1),fbe=[dbe],hbe=u.defineComponent({name:"DarkModeOutlined",render:function(t,e){return u.openBlock(),u.createElementBlock("svg",cbe,fbe)}}),pbe=u.defineComponent({__name:"switch",props:{round:{type:Boolean,default:!1},darkBackground:{default:"linear-gradient(135deg,#42e695,#3bb2b8)"},lightBackground:{default:""}},setup(t){const e=t,n=({checked:r})=>({background:r?e.darkBackground:e.lightBackground});return(r,i)=>(u.openBlock(),u.createBlock(u.unref(u1e),{round:r.round,"rail-style":n,value:u.unref(Xf),"onUpdate:value":i[0]||(i[0]=s=>u.isRef(Xf)?Xf.value=s:null)},{"checked-icon":u.withCtx(()=>[u.createVNode(u.unref(c8),null,{default:u.withCtx(()=>[u.renderSlot(r.$slots,"dark",{},()=>[u.createVNode(u.unref(hbe))])]),_:3})]),"unchecked-icon":u.withCtx(()=>[u.createVNode(u.unref(c8),null,{default:u.withCtx(()=>[u.renderSlot(r.$slots,"light",{},()=>[u.createVNode(u.unref(ube))])]),_:3})]),_:3},8,["round","value"]))}}),mbe=["width","height"],gbe=[u.createElementVNode("path",{d:"M480 336V160C479.961 126.064 466.463 93.5296 442.467 69.5334C418.47 45.5371 385.936 32.039 352 32H160C126.064 32.039 93.5296 45.5371 69.5334 69.5334C45.5371 93.5296 32.039 126.064 32 160V352C32.039 385.936 45.5371 418.47 69.5334 442.467C93.5296 466.463 126.064 479.961 160 480H320C323.919 480 327.703 478.564 330.634 475.962L474.634 347.962C477.371 345.395 479.105 341.938 479.528 338.21L479.566 338.026C479.756 337.361 479.901 336.684 480 336ZM336 428.07V392C336.014 380.971 340.401 370.398 348.199 362.599C355.998 354.801 366.571 350.414 377.6 350.4H422.304L336 428.07ZM64 352V160C64.028 134.548 74.1512 110.146 92.1486 92.1486C110.146 74.1512 134.548 64.028 160 64H352C377.452 64.028 401.854 74.1512 419.851 92.1486C437.849 110.146 447.972 134.548 448 160V318.4H377.6C358.087 318.422 339.379 326.183 325.581 339.981C311.783 353.779 304.022 372.487 304 392V448H160C134.548 447.972 110.146 437.849 92.1486 419.851C74.1512 401.854 64.028 377.452 64 352Z"},null,-1),u.createElementVNode("path",{d:"M208 176V168C208 157.391 203.786 147.217 196.284 139.716C188.783 132.214 178.609 128 168 128C157.391 128 147.217 132.214 139.716 139.716C132.214 147.217 128 157.391 128 168V176C128 180.243 129.686 184.313 132.686 187.314C135.687 190.314 139.757 192 144 192C148.243 192 152.313 190.314 155.314 187.314C158.314 184.313 160 180.243 160 176V168C160 165.878 160.843 163.843 162.343 162.343C163.843 160.843 165.878 160 168 160C170.122 160 172.157 160.843 173.657 162.343C175.157 163.843 176 165.878 176 168V176C176 180.243 177.686 184.313 180.686 187.314C183.687 190.314 187.757 192 192 192C196.243 192 200.313 190.314 203.314 187.314C206.314 184.313 208 180.243 208 176Z"},null,-1),u.createElementVNode("path",{d:"M320 192C324.243 192 328.313 190.314 331.314 187.314C334.314 184.313 336 180.243 336 176V168C336 165.878 336.843 163.843 338.343 162.343C339.843 160.843 341.878 160 344 160C346.122 160 348.157 160.843 349.657 162.343C351.157 163.843 352 165.878 352 168V176C352 180.243 353.686 184.313 356.686 187.314C359.687 190.314 363.757 192 368 192C372.243 192 376.313 190.314 379.314 187.314C382.314 184.313 384 180.243 384 176V168C384 157.391 379.786 147.217 372.284 139.716C364.783 132.214 354.609 128 344 128C333.391 128 323.217 132.214 315.716 139.716C308.214 147.217 304 157.391 304 168V176C304 180.243 305.686 184.313 308.686 187.314C311.687 190.314 315.757 192 320 192Z"},null,-1),u.createElementVNode("path",{d:"M328 264V240C328 235.757 326.314 231.687 323.314 228.686C320.313 225.686 316.243 224 312 224H200C195.757 224 191.687 225.686 188.686 228.686C185.686 231.687 184 235.757 184 240V264C184 283.096 191.586 301.409 205.088 314.912C218.591 328.414 236.904 336 256 336C275.096 336 293.409 328.414 306.912 314.912C320.414 301.409 328 283.096 328 264ZM216 264V256H296V264C296 274.609 291.786 284.783 284.284 292.284C276.783 299.786 266.609 304 256 304C245.391 304 235.217 299.786 227.716 292.284C220.214 284.783 216 274.609 216 264Z"},null,-1)],bbe={__name:"StickerSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},gbe,8,mbe))}},vbe=["width","height"],ybe=[u.createElementVNode("path",{d:"M256 32C211.697 32 168.389 45.1374 131.552 69.7508C94.7158 94.3642 66.0051 129.348 49.0511 170.279C32.0971 211.21 27.6611 256.248 36.3042 299.7C44.9473 343.152 66.2812 383.065 97.6082 414.392C128.935 445.719 168.848 467.053 212.3 475.696C255.752 484.339 300.791 479.903 341.721 462.949C382.652 445.995 417.636 417.284 442.249 380.448C466.863 343.611 480 300.303 480 256C479.933 196.612 456.312 139.676 414.318 97.682C372.324 55.6883 315.388 32.0669 256 32ZM256 448C218.026 448 180.905 436.739 149.331 415.642C117.756 394.545 93.1473 364.559 78.6152 329.475C64.0832 294.392 60.281 255.787 67.6893 218.543C75.0977 181.298 93.3839 147.087 120.236 120.235C147.087 93.3838 181.298 75.0976 218.543 67.6892C255.787 60.2809 294.392 64.0831 329.475 78.6151C364.559 93.1472 394.545 117.756 415.642 149.331C436.739 180.905 448 218.026 448 256C447.942 306.904 427.695 355.706 391.701 391.7C355.706 427.695 306.904 447.942 256 448Z"},null,-1),u.createElementVNode("path",{d:"M352 268.531C347.757 268.531 343.687 270.217 340.686 273.218C337.686 276.218 336 280.288 336 284.531C336 314.821 302.984 339.469 262.4 339.469H249.6C209.014 339.469 176 314.829 176 284.531C176 280.288 174.314 276.218 171.314 273.218C168.313 270.217 164.243 268.531 160 268.531C155.757 268.531 151.687 270.217 148.686 273.218C145.686 276.218 144 280.288 144 284.531C144 332.469 191.374 371.469 249.6 371.469H262.4C320.627 371.469 368 332.469 368 284.531C368 280.288 366.314 276.218 363.314 273.218C360.313 270.217 356.243 268.531 352 268.531Z"},null,-1),u.createElementVNode("path",{d:"M176 224C180.243 224 184.313 222.314 187.314 219.314C190.314 216.313 192 212.243 192 208V200C192 197.878 192.843 195.843 194.343 194.343C195.843 192.843 197.878 192 200 192C202.122 192 204.157 192.843 205.657 194.343C207.157 195.843 208 197.878 208 200V208C208 212.243 209.686 216.313 212.686 219.314C215.687 222.314 219.757 224 224 224C228.243 224 232.313 222.314 235.314 219.314C238.314 216.313 240 212.243 240 208V200C240 189.391 235.786 179.217 228.284 171.716C220.783 164.214 210.609 160 200 160C189.391 160 179.217 164.214 171.716 171.716C164.214 179.217 160 189.391 160 200V208C160 212.243 161.686 216.313 164.686 219.314C167.687 222.314 171.757 224 176 224Z"},null,-1),u.createElementVNode("path",{d:"M288 224C292.243 224 296.313 222.314 299.314 219.314C302.314 216.313 304 212.243 304 208V200C304 197.878 304.843 195.843 306.343 194.343C307.843 192.843 309.878 192 312 192C314.122 192 316.157 192.843 317.657 194.343C319.157 195.843 320 197.878 320 200V208C320 212.243 321.686 216.313 324.686 219.314C327.687 222.314 331.757 224 336 224C340.243 224 344.313 222.314 347.314 219.314C350.314 216.313 352 212.243 352 208V200C352 189.391 347.786 179.217 340.284 171.716C332.783 164.214 322.609 160 312 160C301.391 160 291.217 164.214 283.716 171.716C276.214 179.217 272 189.391 272 200V208C272 212.243 273.686 216.313 276.686 219.314C279.687 222.314 283.757 224 288 224Z"},null,-1)],_be={__name:"EmojiSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},ybe,8,vbe))}},Tbe=["width","height"],Ebe=[u.createElementVNode("g",{"clip-path":"url(#clip0_4129_855)"},[u.createElementVNode("path",{d:"M87.6177 316.621L87.6236 316.615L352.802 48.4514C352.803 48.4503 352.804 48.4493 352.805 48.4482C374.902 26.3552 413.467 26.3563 435.561 48.4514L436.622 47.3907L435.561 48.4514C458.376 71.2656 458.376 108.383 435.561 131.197L435.555 131.203L180.985 388.774C180.984 388.775 180.983 388.776 180.982 388.777C173.07 396.686 159.194 396.685 151.282 388.774C143.091 380.584 143.091 367.247 151.282 359.055L151.288 359.049L395.235 112.102C395.236 112.101 395.237 112.1 395.238 112.099C398.132 109.202 399.469 104.729 399.469 100.434C399.469 96.1361 398.131 91.6612 395.235 88.7642L394.174 89.8248L395.235 88.7641C388.788 82.3173 378.343 82.3173 371.896 88.7641L371.89 88.7706L127.944 335.718C127.943 335.719 127.942 335.721 127.94 335.722C106.874 356.793 106.875 391.044 127.944 412.112C148.37 432.538 183.929 432.508 204.324 412.112L204.33 412.106L458.9 154.536C458.901 154.535 458.902 154.534 458.903 154.533C494.311 119.121 494.31 60.5257 458.9 25.1141L457.839 26.1747L458.9 25.1141C441.6 7.81479 418.608 -1.50024 394.175 -1.50024C369.742 -1.50024 346.747 7.81473 329.463 25.1135L329.457 25.119L64.2793 293.284C13.9626 343.601 13.9625 425.447 64.2783 475.762C114.595 526.079 196.455 526.079 246.772 475.762L436.683 285.852C443.129 279.406 443.129 268.961 436.683 262.514C430.236 256.067 419.791 256.067 413.344 262.514L223.435 452.424C223.435 452.424 223.434 452.424 223.434 452.424C187.155 488.674 123.897 488.674 87.6177 452.424C50.1805 414.987 50.1805 354.059 87.6177 316.621Z","stroke-width":"3"})],-1)],Abe={__name:"FileSvg",props:{width:{type:[Number,String],default:20},height:{type:[Number,String],default:20}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Ebe,8,Tbe))}},xbe=["width","height"],Cbe=[u.createElementVNode("g",null,[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"m256 439.98c-13.81 0-25-11.19-25-25v-317.96c0-13.81 11.19-25 25-25s25 11.19 25 25v317.96c0 13.81-11.19 25-25 25z"})]),u.createElementVNode("g",null,[u.createElementVNode("path",{d:"m414.98 281h-317.96c-13.81 0-25-11.19-25-25s11.19-25 25-25h317.96c13.81 0 25 11.19 25 25s-11.19 25-25 25z"})])],-1)],wbe={__name:"AddSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,"enable-background":"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Cbe,8,xbe))}},Sbe=["width","height"],kbe=[u.createElementVNode("path",{d:"M255.999 0C153.754 0 70.572 83.182 70.572 185.426C70.572 312.314 236.511 498.593 243.576 506.461C250.212 513.852 261.798 513.839 268.422 506.461C275.487 498.593 441.426 312.314 441.426 185.426C441.424 83.182 358.243 0 255.999 0ZM255.999 469.729C200.152 403.391 103.964 272.512 103.964 185.428C103.964 101.594 172.166 33.392 255.999 33.392C339.832 33.392 408.034 101.594 408.034 185.427C408.033 272.515 311.86 403.37 255.999 469.729Z"},null,-1),u.createElementVNode("path",{d:"M255.999 92.1338C204.557 92.1338 162.707 133.985 162.707 185.427C162.707 236.869 204.558 278.72 255.999 278.72C307.44 278.72 349.29 236.869 349.29 185.427C349.29 133.985 307.44 92.1338 255.999 92.1338ZM255.999 245.328C222.969 245.328 196.099 218.457 196.099 185.427C196.099 152.397 222.97 125.526 255.999 125.526C289.028 125.526 315.899 152.397 315.899 185.427C315.899 218.457 289.028 245.328 255.999 245.328Z"},null,-1)],Ibe={__name:"LocationSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},kbe,8,Sbe))}},Dbe=["width","height"],Nbe=[u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M223.999 48C188.653 48 159.999 76.6538 159.999 112V192V272C159.999 307.346 188.653 336 223.999 336H255.999H287.999C323.345 336 351.999 307.346 351.999 272V192V112C351.999 76.6538 323.345 48 287.999 48H255.999H223.999ZM191.999 112C191.999 94.3272 206.326 80 223.999 80H255.999H287.999C305.672 80 319.999 94.3272 319.999 112V192V272C319.999 289.673 305.672 304 287.999 304H255.999H223.999C206.326 304 191.999 289.673 191.999 272V192V112ZM127.999 224C127.999 215.163 120.836 208 111.999 208C103.162 208 95.999 215.163 95.999 224V272C95.999 342.693 153.306 400 223.999 400H239.999V464H191.999C183.162 464 175.999 471.163 175.999 480C175.999 488.837 183.162 496 191.999 496H255.999H319.999C328.836 496 335.999 488.837 335.999 480C335.999 471.163 328.836 464 319.999 464H271.999V400H287.999C358.692 400 415.999 342.693 415.999 272V224C415.999 215.163 408.836 208 399.999 208C391.162 208 383.999 215.163 383.999 224V272C383.999 325.019 341.018 368 287.999 368H255.999H223.999C170.98 368 127.999 325.019 127.999 272V224Z"},null,-1)],Mbe={__name:"RecordSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(n,r)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Nbe,8,Dbe))}};var j8={exports:{}};(function(t){(()=>{var e={382:(s,a,o)=>{o.r(a),o.d(a,{default:()=>p});var l=o(303),d=o.n(l),f=o(185),c=o.n(f),h=c()(d());h.push([s.id,".atwho-view{color:#000;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.1);min-width:120px;z-index:11110!important}.atwho-ul{list-style:none}.atwho-li{display:block}.atwho-view{border-radius:6px;box-shadow:0 0 10px 0 hsla(211,9%,44%,.5)}.atwho-ul{max-height:135px;padding:0;margin:0}.atwho-li{box-sizing:border-box;height:27px;padding:0 12px;white-space:nowrap;display:flex;align-items:center}.atwho-li span{overflow:hidden;text-overflow:ellipsis}.atwho-cur{background:#5bb8ff;color:#fff}.atwho-wrap{position:relative}.atwho-panel{position:absolute}.atwho-inner{position:relative}.atwho-view{position:absolute;bottom:0;left:-.8em;cursor:default;background-color:hsla(0,0%,100%,.94);min-width:140px;max-width:180px;max-height:200px;overflow-y:auto}.atwho-view::-webkit-scrollbar{width:11px;height:11px}.atwho-view::-webkit-scrollbar-track{background-color:#f5f5f5}.atwho-view::-webkit-scrollbar-thumb{min-height:36px;border:2px solid transparent;border-top:3px solid transparent;border-bottom:3px solid transparent;background-clip:padding-box;border-radius:7px;background-color:#c4c4c4}",""]);const p=h},185:s=>{s.exports=function(a){var o=[];return o.toString=function(){return this.map(function(d){var f="",c=typeof d[5]<"u";return d[4]&&(f+="@supports (".concat(d[4],") {")),d[2]&&(f+="@media ".concat(d[2]," {")),c&&(f+="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {")),f+=a(d),c&&(f+="}"),d[2]&&(f+="}"),d[4]&&(f+="}"),f}).join("")},o.i=function(d,f,c,h,p){typeof d=="string"&&(d=[[null,d,void 0]]);var m={};if(c)for(var g=0;g<this.length;g++){var v=this[g][0];v!=null&&(m[v]=!0)}for(var y=0;y<d.length;y++){var x=[].concat(d[y]);c&&m[x[0]]||(typeof p<"u"&&(typeof x[5]>"u"||(x[1]="@layer".concat(x[5].length>0?" ".concat(x[5]):""," {").concat(x[1],"}")),x[5]=p),f&&(x[2]&&(x[1]="@media ".concat(x[2]," {").concat(x[1],"}")),x[2]=f),h&&(x[4]?(x[1]="@supports (".concat(x[4],") {").concat(x[1],"}"),x[4]=h):x[4]="".concat(h)),o.push(x))}},o}},303:s=>{s.exports=function(a){return a[1]}},66:s=>{(function(){var a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=typeof window<"u",l=o&&window.mozInnerScreenX!=null;function d(f,c,h){if(!o)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var p=h&&h.debug||!1;if(p){var m=document.querySelector("#input-textarea-caret-position-mirror-div");m&&m.parentNode.removeChild(m)}var g=document.createElement("div");g.id="input-textarea-caret-position-mirror-div",document.body.appendChild(g);var v=g.style,y=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,x=f.nodeName==="INPUT";v.whiteSpace="pre-wrap",x||(v.wordWrap="break-word"),v.position="absolute",p||(v.visibility="hidden"),a.forEach(function(k){x&&k==="lineHeight"?v.lineHeight=y.height:v[k]=y[k]}),l?f.scrollHeight>parseInt(y.height)&&(v.overflowY="scroll"):v.overflow="hidden",g.textContent=f.value.substring(0,c),x&&(g.textContent=g.textContent.replace(/\s/g," "));var w=document.createElement("span");w.textContent=f.value.substring(c)||".",g.appendChild(w);var I={top:w.offsetTop+parseInt(y.borderTopWidth),left:w.offsetLeft+parseInt(y.borderLeftWidth),height:parseInt(y.lineHeight)};return p?w.style.backgroundColor="#aaa":document.body.removeChild(g),I}typeof s.exports<"u"?s.exports=d:o&&(window.getCaretCoordinates=d)})()},935:(s,a)=>{a.Z=(o,l)=>{const d=o.__vccOpts||o;for(const[f,c]of l)d[f]=c;return d}},45:(s,a,o)=>{var l=o(382);l.__esModule&&(l=l.default),typeof l=="string"&&(l=[[s.id,l,""]]),l.locals&&(s.exports=l.locals);var d=o(959).Z;d("4780cd2a",l,!0,{sourceMap:!1,shadowMode:!1})},959:(s,a,o)=>{o.d(a,{Z:()=>w});function l(L,z){for(var U=[],F={},H=0;H<z.length;H++){var K=z[H],P=K[0],W=K[1],ie=K[2],Q=K[3],N={id:L+":"+H,css:W,media:ie,sourceMap:Q};F[P]?F[P].parts.push(N):U.push(F[P]={id:P,parts:[N]})}return U}var d=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!d)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var f={},c=d&&(document.head||document.getElementsByTagName("head")[0]),h=null,p=0,m=!1,g=function(){},v=null,y="data-vue-ssr-id",x=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(L,z,U,F){m=U,v=F||{};var H=l(L,z);return I(H),function(P){for(var W=[],ie=0;ie<H.length;ie++){var Q=H[ie],N=f[Q.id];N.refs--,W.push(N)}P?(H=l(L,P),I(H)):H=[];for(var ie=0;ie<W.length;ie++){var N=W[ie];if(N.refs===0){for(var E=0;E<N.parts.length;E++)N.parts[E]();delete f[N.id]}}}}function I(L){for(var z=0;z<L.length;z++){var U=L[z],F=f[U.id];if(F){F.refs++;for(var H=0;H<F.parts.length;H++)F.parts[H](U.parts[H]);for(;H<U.parts.length;H++)F.parts.push(S(U.parts[H]));F.parts.length>U.parts.length&&(F.parts.length=U.parts.length)}else{for(var K=[],H=0;H<U.parts.length;H++)K.push(S(U.parts[H]));f[U.id]={id:U.id,refs:1,parts:K}}}}function k(){var L=document.createElement("style");return L.type="text/css",c.appendChild(L),L}function S(L){var z,U,F=document.querySelector("style["+y+'~="'+L.id+'"]');if(F){if(m)return g;F.parentNode.removeChild(F)}if(x){var H=p++;F=h||(h=k()),z=M.bind(null,F,H,!1),U=M.bind(null,F,H,!0)}else F=k(),z=D.bind(null,F),U=function(){F.parentNode.removeChild(F)};return z(L),function(P){if(P){if(P.css===L.css&&P.media===L.media&&P.sourceMap===L.sourceMap)return;z(L=P)}else U()}}var B=function(){var L=[];return function(z,U){return L[z]=U,L.filter(Boolean).join(`
`)}}();function M(L,z,U,F){var H=U?"":F.css;if(L.styleSheet)L.styleSheet.cssText=B(z,H);else{var K=document.createTextNode(H),P=L.childNodes;P[z]&&L.removeChild(P[z]),P.length?L.insertBefore(K,P[z]):L.appendChild(K)}}function D(L,z){var U=z.css,F=z.media,H=z.sourceMap;if(F&&L.setAttribute("media",F),v.ssrId&&L.setAttribute(y,z.id),H&&(U+=`
/*# sourceURL=`+H.sources[0]+" */",U+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(H))))+" */"),L.styleSheet)L.styleSheet.cssText=U;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(U))}}}},n={};function r(s){var a=n[s];if(a!==void 0)return a.exports;var o=n[s]={id:s,exports:{}};return e[s](o,o.exports,r),o.exports}r.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return r.d(a,{a}),a},r.d=(s,a)=>{for(var o in a)r.o(a,o)&&!r.o(s,o)&&Object.defineProperty(s,o,{enumerable:!0,get:a[o]})},r.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a),r.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.p="";var i={};(()=>{if(r.d(i,{default:()=>Q}),typeof window<"u"){var s=window.document.currentScript,a=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}function o(N,E){if(typeof N!="object")return;if(N.getRangeAt){if(N.rangeCount===0)return;N=N.getRangeAt(0)}if(N.cloneRange){let G=N.cloneRange();G.collapse(!0),N=G.startContainer,N.nodeType===1&&(N=N.childNodes[G.startOffset])}if(!N)return;let j=N;for(;j&&j.nodeType!==1;)j=j.previousSibling;N=j||N.parentNode,N&&l(N,E)}function l(N,E){if(N.scrollIntoViewIfNeeded)N.scrollIntoViewIfNeeded(!1);else{E=E||N.parentElement;const j=N.offsetTop-E.scrollTop;(j<0||j>E.offsetHeight-N.offsetHeight)&&(E.scrollTop=N.offsetTop)}}function d(N){const E=window.getSelection();E&&(E.removeAllRanges(),E.addRange(N))}function f(){const N=window.getSelection();if(N&&N.rangeCount>0)return N.getRangeAt(0)}function c(N,E){return E.map(j=>({at:j,index:N.lastIndexOf(j)})).reduce((j,G)=>j.index>G.index?j:G)}function h(N,E){E=E||window;for(var j={top:N.offsetTop,left:N.offsetLeft},G=N.offsetParent;G!=null&&G!=E;)j.left+=G.offsetLeft,j.top+=G.offsetTop,G=G.offsetParent;return j}function p(N,E){do if(E(N))return N;while(N=N&&N.parentNode)}function m(){const N=f();if(N){const E=N.cloneRange();return E.collapse(!0),E.setStart(E.endContainer,0),E}}const g=u,v={class:"atwho-inner"},y={class:"atwho-view"},x={class:"atwho-ul"},w=["data-index"],I=["textContent"],k={ref:"embeddedItem"};function S(N,E){return(0,g.openBlock)(),(0,g.createElementBlock)("div",{ref:"wrap",class:"atwho-wrap",onCompositionstart:E[2]||(E[2]=(...j)=>N.handleCompositionStart&&N.handleCompositionStart(...j)),onCompositionend:E[3]||(E[3]=(...j)=>N.handleCompositionEnd&&N.handleCompositionEnd(...j)),onInput:E[4]||(E[4]=j=>N.handleInput()),onKeydownCapture:E[5]||(E[5]=(...j)=>N.handleKeyDown&&N.handleKeyDown(...j))},[N.atwho?((0,g.openBlock)(),(0,g.createElementBlock)("div",{key:0,class:"atwho-panel",style:(0,g.normalizeStyle)(N.style)},[(0,g.createElementVNode)("div",v,[(0,g.createElementVNode)("div",y,[(0,g.createElementVNode)("ul",x,[((0,g.openBlock)(!0),(0,g.createElementBlock)(g.Fragment,null,(0,g.renderList)(N.atwho.list,(j,G)=>((0,g.openBlock)(),(0,g.createElementBlock)("li",{class:(0,g.normalizeClass)(["atwho-li",N.isCur(G)&&"atwho-cur"]),key:G,"data-index":G,onMouseenter:E[0]||(E[0]=(...X)=>N.handleItemHover&&N.handleItemHover(...X)),onClick:E[1]||(E[1]=(...X)=>N.handleItemClick&&N.handleItemClick(...X))},[(0,g.renderSlot)(N.$slots,"item",{item:j},()=>[(0,g.createElementVNode)("span",{textContent:(0,g.toDisplayString)(N.itemName(j))},null,8,I)])],42,w))),128))])])])],4)):(0,g.createCommentVNode)("",!0),(0,g.withDirectives)((0,g.createElementVNode)("span",k,[(0,g.renderSlot)(N.$slots,"embeddedItem",{current:N.currentItem})],512),[[g.vShow,!1]]),(0,g.renderSlot)(N.$slots,"default")],544)}r(45);var B=r(935);const M={},F={name:"VueAt",mixins:[(0,B.Z)(M,[["render",S]])],emits:["update:value","at","insert"],props:{value:{type:String,default:null},at:{type:String,default:null},ats:{type:Array,default:()=>["@"]},suffix:{type:String,default:" "},loop:{type:Boolean,default:!0},allowSpaces:{type:Boolean,default:!0},tabSelect:{type:Boolean,default:!1},avoidEmail:{type:Boolean,default:!0},showUnique:{type:Boolean,default:!0},hoverSelect:{type:Boolean,default:!0},members:{type:Array,default:()=>[]},nameKey:{type:String,default:""},filterMatch:{type:Function,default:(N,E,j)=>N.toLowerCase().indexOf(E.toLowerCase())>-1},deleteMatch:{type:Function,default:(N,E,j)=>E===N+j},scrollRef:{type:String,default:""}},data(){return{bindsValue:this.value!=null,customsEmbedded:!1,hasComposition:!1,atwho:null}},computed:{atItems(){return this.at?[this.at]:this.ats},currentItem(){return this.atwho?this.atwho.list[this.atwho.cur]:""},style(){if(this.atwho){const{list:N,cur:E,x:j,y:G}=this.atwho,{wrap:X}=this.$refs;if(X){const Z=h(X),ce=this.scrollRef?document.querySelector(this.scrollRef).scrollLeft:0,re=this.scrollRef?document.querySelector(this.scrollRef).scrollTop:0,pe=j+ce+window.pageXOffset-Z.left+"px",me=G+re+window.pageYOffset-Z.top+"px";return{left:pe,top:me}}}return null}},watch:{"atwho.cur"(N){N!=null&&this.$nextTick(()=>{this.scrollToCur()})},members(){this.handleInput(!0)},value(N,E){this.bindsValue&&this.handleValueUpdate(N)}},mounted(){this.$slots.embeddedItem&&(this.customsEmbedded=!0),this.bindsValue&&this.handleValueUpdate(this.value)},methods:{itemName(N){const{nameKey:E}=this;return E?N[E]:N},isCur(N){return N===this.atwho.cur},handleValueUpdate(N){const E=this.$el.querySelector("[contenteditable]");N!==E.innerHTML&&(E.innerHTML=N,this.dispatchInput())},dispatchInput(){let N=this.$el.querySelector("[contenteditable]"),E=new Event("input",{bubbles:!0});N.dispatchEvent(E)},handleItemHover(N){this.hoverSelect&&this.selectByMouse(N)},handleItemClick(N){this.selectByMouse(N),this.insertItem()},handleDelete(N){const E=m();if(E){if(this.customsEmbedded&&E.endOffset>=1){let de=E.endContainer.childNodes[E.endOffset]||E.endContainer.childNodes[E.endOffset-1];if(!de||de.nodeType===Node.TEXT_NODE&&!/^\s?$/.test(de.data))return;de.nodeType===Node.TEXT_NODE?de.previousSibling&&(de=de.previousSibling):de.previousElementSibling&&(de=de.previousElementSibling);let Te=[].slice.call(de.childNodes);Te=[].reverse.call(Te),Te.unshift(de);let Ae;if([].some.call(Te,Le=>{if(Le.getAttribute&&Le.getAttribute("data-at-embedded")!=null)return Ae=Le,!0}),Ae){N.preventDefault(),N.stopPropagation();const Le=f();Le&&(Le.setStartBefore(Ae),Le.deleteContents(),d(Le),this.handleInput())}return}const{atItems:j,members:G,suffix:X,deleteMatch:Z,itemName:ce}=this,re=E.toString(),{at:pe,index:me}=c(re,j);if(me>-1){const de=re.slice(me+pe.length);if(G.some(Ae=>{const Le=ce(Ae);return Z(Le,de,X)})){N.preventDefault(),N.stopPropagation();const Ae=f();Ae&&(Ae.setStart(Ae.endContainer,me),Ae.deleteContents(),d(Ae),this.handleInput())}}}},handleKeyDown(N){const{atwho:E}=this;if(E){if(N.keyCode===38||N.keyCode===40){N.metaKey||N.ctrlKey||(N.preventDefault(),N.stopPropagation(),this.selectByKeyboard(N));return}if(N.keyCode===13||this.tabSelect&&N.keyCode===9){N.preventDefault(),N.stopPropagation(),this.insertItem();return}if(N.keyCode===27){this.closePanel();return}}(N.keyCode>=48&&N.keyCode<=90||N.keyCode===8)&&setTimeout(()=>{this.handleInput()},50),N.keyCode===8&&this.handleDelete(N)},handleCompositionStart(){this.hasComposition=!0},handleCompositionEnd(){this.hasComposition=!1,this.handleInput()},handleInput(N){if(this.hasComposition)return;const E=this.$el.querySelector("[contenteditable]");this.$emit("update:value",E.innerHTML);const j=m();if(j){const{atItems:G,avoidEmail:X,allowSpaces:Z,showUnique:ce}=this;let re=!0;const pe=j.toString(),{at:me,index:de}=c(pe,G);de<0&&(re=!1);const Te=pe[de-1],Ae=pe.slice(de+me.length,pe.length);if(X&&/^[a-z0-9]$/i.test(Te)&&(re=!1),!Z&&/\s/.test(Ae)&&(re=!1),/^\s/.test(Ae)&&(re=!1),!re)this.closePanel();else{const{members:Le,filterMatch:ge,itemName:Pe}=this;!N&&Ae&&this.$emit("at",Ae);const qe=Le.filter(ue=>{const ye=Pe(ue);return ge(ye,Ae,me)});if(re=!1,qe.length&&(re=!0,!ce)){let ue=qe[0];Ae===Pe(ue)&&(re=!1)}re?this.openPanel(qe,j,de,me):this.closePanel()}}},closePanel(){this.atwho&&(this.atwho=null)},openPanel(N,E,j,G){const X=()=>{const Z=E.cloneRange();Z.setStart(Z.endContainer,j+G.length);const ce=Z.getClientRects()[0];this.atwho={range:E,offset:j,list:N,x:ce.left,y:ce.top-4,cur:0}};this.atwho?X():setTimeout(X,10)},scrollToCur(){let{wrap:N}=this.$refs,{cur:E}=this.atwho;const j=N.querySelector(`.atwho-li[data-index="${E}"]`),G=j.parentElement.parentElement;o(j,G)},selectByMouse(N){const j=+p(N.target,G=>G.getAttribute("data-index")).getAttribute("data-index");this.atwho={...this.atwho,cur:j}},selectByKeyboard(N){const E=N.keyCode===38?-1:1,{cur:j,list:G}=this.atwho,X=this.loop?(j+E+G.length)%G.length:Math.max(0,Math.min(j+E,G.length-1));this.atwho={...this.atwho,cur:X}},insertText(N,E){E.deleteContents();const j=E.endContainer;if(j.nodeType===Node.TEXT_NODE){const G=E.endOffset;j.data=j.data.slice(0,G)+N+j.data.slice(G),E.setEnd(j,G+N.length)}else{const G=document.createTextNode(N);E.insertNode(G),E.setEndAfter(G)}E.collapse(!1),d(E),this.dispatchInput()},insertHtml(N,E){E.deleteContents();const j=E.endContainer,G=document.createElement("span");if(G.appendChild(document.createTextNode(" ")),G.appendChild(this.htmlToElement(N)),G.appendChild(document.createTextNode(" ")),G.setAttribute("data-at-embedded",""),G.setAttribute("contenteditable",!1),j.nodeType===Node.TEXT_NODE){const X=E.endOffset;let Z=j.splitText(X);j.parentNode.insertBefore(G,Z),E.setEndBefore(Z)}else{const X=document.createTextNode(this.suffix);E.insertNode(G),E.setEndAfter(G),E.insertNode(X),E.setEndAfter(X)}E.collapse(!1),d(E)},insertItem(){const{range:N,offset:E,list:j,cur:G}=this.atwho,{suffix:X,atItems:Z,itemName:ce,customsEmbedded:re}=this,pe=N.cloneRange(),me=N.toString(),{at:de,index:Te}=c(me,Z),Ae=re?Te:Te+de.length;pe.setStart(pe.endContainer,Ae),d(pe),d(pe);const Le=j[G];if(re){const ge=this.$refs.embeddedItem.firstElementChild.innerHTML;this.insertHtml(ge,pe)}else{const ge=ce(Le)+X;this.insertText(ge,pe)}o(window.getSelection()),this.$emit("insert",Le),this.handleInput(),o(pe)},htmlToElement(N){const E=document.createElement("template");return N=N.trim(),E.innerHTML=N,E.content.firstChild}}};var H=r(66),K=r.n(H);const Q={extends:F,name:"AtTextarea",emits:["update:value","at","insert"],computed:{style(){if(this.atwho){const{list:N,cur:E,x:j,y:G}=this.atwho,{wrap:X}=this.$refs,Z=this.$el.querySelector("textarea");if(X){const ce=j+Z.offsetLeft-Z.scrollLeft+"px",re=G+Z.offsetTop-Z.scrollTop+"px";return{left:ce,top:re}}}return null}},methods:{handleValueUpdate(N){const E=this.$el.querySelector("textarea");N!==E.value&&(E.value=N,this.dispatchInput())},dispatchInput(){let N=this.$el.querySelector("textarea"),E=new Event("input",{bubbles:!0});N.dispatchEvent(E)},handleDelete(N){const E=this.$el.querySelector("textarea"),j=E.value.slice(0,E.selectionEnd);if(j){const{atItems:G,members:X,suffix:Z,deleteMatch:ce,itemName:re}=this,{at:pe,index:me}=c(j,G);if(me>-1){const de=j.slice(me+pe.length);X.some(Ae=>{const Le=re(Ae);return ce(Le,de,Z)})&&(E.value=E.value.slice(0,me)+E.value.slice(E.selectionEnd-1),E.selectionStart=me+1,E.selectionEnd=me+1,this.handleInput())}}},handleInput(N){if(this.hasComposition)return;const E=this.$el.querySelector("textarea");this.$emit("update:value",E.value);const j=E.value.slice(0,E.selectionEnd);if(j){const{atItems:G,avoidEmail:X,allowSpaces:Z}=this;let ce=!0;const{at:re,index:pe}=c(j,G);pe<0&&(ce=!1);const me=j[pe-1],de=j.slice(pe+re.length,j.length);if(X&&/^[a-z0-9]$/i.test(me)&&(ce=!1),!Z&&/\s/.test(de)&&(ce=!1),/^\s/.test(de)&&(ce=!1),!ce)this.closePanel();else{const{members:Te,filterMatch:Ae,itemName:Le}=this;N||this.$emit("at",de);const ge=Te.filter(Pe=>{const qe=Le(Pe);return Ae(qe,de,re)});ge.length?this.openPanel(ge,de,pe,re,N):this.closePanel()}}else this.closePanel()},openPanel(N,E,j,G){const X=()=>{const Z=this.$el.querySelector("textarea"),ce=j+G.length,re=K()(Z,ce);this.atwho={chunk:E,offset:j,list:N,atEnd:ce,x:re.left,y:re.top-4,cur:0}};this.atwho?X():setTimeout(X,10)},insertText(N,E){const j=E.selectionStart,G=E.selectionEnd;E.value=E.value.slice(0,j)+N+E.value.slice(G);const X=j+N.length;E.selectionStart=X,E.selectionEnd=X,this.dispatchInput()},insertItem(){const{chunk:N,offset:E,list:j,cur:G,atEnd:X}=this.atwho,{suffix:Z,atItems:ce,itemName:re}=this,pe=this.$el.querySelector("textarea"),me=pe.value.slice(0,X),{at:de,index:Te}=c(me,ce),Ae=Te+de.length;pe.selectionStart=Ae,pe.focus();const Le=j[G],ge=re(Le)+Z;this.insertText(ge,pe),this.$emit("insert",Le),this.handleInput()}}}})(),t.exports=i.default})()})(j8);var Obe=j8.exports;const Lbe=or(Obe),H8=t=>(u.pushScopeId("data-v-bc1904e7"),t=t(),u.popScopeId(),t),Rbe={key:1,class:"relative h-10 w-10"},Bbe={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100"},Pbe=H8(()=>u.createElementVNode("div",{class:"flex-grow"},null,-1)),Fbe={key:0,slot:"header",class:"flex h-12 w-full items-center justify-center"},Ube=[H8(()=>u.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],jbe={class:"relative flex items-end justify-center gap-3 p-2 pl-3"},Hbe={key:2,class:"absolute bottom-16 left-2 z-10 flex items-stretch gap-1 rounded-lg bg-white p-1.5 text-gray-900 shadow-md dark:bg-zinc-800 dark:text-gray-100"},zbe={class:"text-xs"},Vbe={class:"whitespace-nowrap text-xs"},Wbe={key:4,class:"relative flex grow flex-col items-stretch rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Gbe={key:0,class:"absolute left-[50%] top-[-40px] flex translate-x-[-50%] gap-5"},Ybe=["onClick"],Qbe={class:"flex items-center gap-3 bg-gray-100 dark:bg-zinc-700"},Kbe={class:"flex w-0 min-w-0 grow flex-col items-stretch justify-center gap-3"},Xbe=["disabled","placeholder"],Zbe={key:0,class:"flex gap-3"},Jbe=["src"],qbe=["onClick"],$be=On(u.defineComponent({__name:"ChatRoom",props:{isTestPreview:{type:Boolean},pinchatLink:{}},emits:["send"],setup(t,{emit:e}){const n=e,r=t,i=rn(),{open:s}=Xi({component:bue}),a=u.computed(()=>r.isTestPreview?`Test Bot ${r.pinchatLink.split("_")[0]}`:o.value.displayName),o=u.computed(()=>i.state.imkit.rooms[i.state.imkit.selectedRoomId]),l=u.computed(()=>i.state.imkit.selectedRoomId),d=u.computed(()=>!!i.state.imkit.isRequesting[`/rooms/${i.state.imkit.selectedRoomId}/messages`]),f=u.computed(()=>{var ye;const ue=Object.keys(i.state.imkit.isTyping).map(Be=>new En({_id:Be,messageType:"typing",sender:{_id:Be}}));return((ye=i.state.imkit.messageMultiList.main)==null?void 0:ye.array().concat(ue))??[]}),c=u.computed(()=>Bue().has("roomId")),h=u.computed(()=>f.value.at(-1)),p=u.computed(()=>i.state.imkit.isRoomInfoVisible),m=u.computed(()=>i.state.imkit.navigationTargetId),g=u.ref(null),v=u.ref(""),y=u.ref(!1),x=u.ref(!1),w=u.ref(!1),I=u.ref(!1),k=u.ref(),S=u.ref([]),B=u.ref([]),M=u.ref(!1),D=u.ref(!1),L=u.ref(),z=u.ref(Ln().subtract(5,"second")),U=u.ref(!1),F=u.computed(()=>!0),H=u.computed(()=>{var ue,ye;return(ye=(ue=f.value[f.value.length-1])==null?void 0:ue.template)==null?void 0:ye.quickReply.items}),K=u.computed(()=>i.state.imkit.replyId),P=u.computed(()=>i.state.imkit.config.settings),W=u.computed(()=>i.state.imkit.isSearchInRoomMode),ie=u.computed(()=>i.state.imkit.config.styles),Q=async()=>{const ue=async()=>{if(v.value){const{replyId:Be}=i.state.imkit;let V=v.value.trim(),Y=[];if(V.includes("@"))for(const we of o.value.memberIds){const Re=i.state.imkit.users[we];V.includes(`@${Re.nickname}`)&&(Y.push(Re.id),V=V.replace(`@${Re.nickname}`,`@${Re.id}`))}const he={roomId:o.value.id,messageType:"text",message:V,reply:Be||null,mentions:Y};v.value="",await u.nextTick(),L.value&&(L.value.style.height="auto",L.value.style.height=Math.min(L.value.scrollHeight,64)+"px"),await i.dispatch("imkit/sendMessage",he),i.commit("imkit/setState",{replyId:null})}},ye=async()=>{if(S.value.length>0){const Be={roomId:o.value.id,messageType:"image",images:S.value,files:B.value};S.value=[],B.value=[],await i.dispatch("imkit/sendMessage",Be)}};await Promise.all([ye(),ue()]),n("send")},N=async()=>{var ye,Be;if(f.value.length>=i.state.imkit.numberOfTotalMessages)return;const ue=await i.dispatch("imkit/loadMessages",{roomId:o.value.id,beforeMessageId:(ye=f.value[0])==null?void 0:ye.id});ue&&ue.length>0&&((Be=g.value)==null||Be.scrollToIndex(ue.length))},E=async()=>{var ue;D.value=!1,i.state.imkit.messageMultiList.main!=i.state.imkit.messageMultiList.tail&&await i.dispatch("imkit/loadMessages",{roomId:o.value.id,afterMessageId:(ue=f.value[f.value.length-1])==null?void 0:ue.id})},j=ue=>{v.value+=ue.i,w.value=!1},G=()=>{var ue;(ue=k.value)==null||ue.click()},X=async ue=>{var we;const Be=Array.from(((we=ue==null?void 0:ue.target)==null?void 0:we.files)||[]).filter(Re=>Re.size<2e7);if(Be.length===0||Be.length>10)return;const V=Be.filter(Re=>Re.type.startsWith("image")),Y=Be.filter(Re=>Re.type.startsWith("video")),he=Be.filter(Re=>!Re.type.startsWith("image")&&!Re.type.startsWith("video"));if(V.length>0){const Re=await Promise.all(V.map(n_)),ze={roomId:o.value.id,messageType:"image",images:Re,files:Array.from(Be)};await i.dispatch("imkit/sendMessage",ze)}if(Y.length>0)for(const Re of Y){const ze=await Jle(Re),{width:rt,height:Ee,duration:Oe}=ze,nt={roomId:o.value.id,messageType:"video",video:ze,file:Re,width:rt,height:Ee,duration:Oe};await i.dispatch("imkit/sendMessage",nt)}if(he.length>0)for(const Re of he){const ze={roomId:o.value.id,messageType:"file",file:Re,originalUrl:"",extra:{mimeType:Re.type,fileName:Re.name.split(".").slice(0,-1).join("."),bytes:Re.size,fileExtension:Re.name.split(".").pop()}};await i.dispatch("imkit/sendMessage",ze)}k.value&&(k.value.value="")},Z=async ue=>{const ye=((ue==null?void 0:ue.dataTransfer)||{}).files||[];if(ye.length===0||ye.length>10)return;const Be=await Promise.all(Array.from(ye).map(n_)),V={roomId:o.value.id,messageType:"image",images:Be,files:Array.from(ye)};await i.dispatch("imkit/sendMessage",V)},ce=ue=>{ue.preventDefault()},re=async ue=>{const Be=(ue.clipboardData||{}).files;Be.length===0||Be.length>10||(ue.preventDefault(),S.value=S.value.concat(await Promise.all(Array.from(Be).map(n_))),B.value=B.value.concat(Array.from(Be)))},pe=()=>{i.commit("imkit/setState",{selectedRoomId:""})},me=ue=>{S.value.splice(ue,1),B.value.splice(ue,1)},de=()=>{setTimeout(()=>{y.value=!1},0)},Te=ue=>{!y.value&&ue.keyCode==13&&!ue.shiftKey&&!P.value.sendButtonEnabled&&(ue.preventDefault(),Q())},Ae=()=>{L.value&&(L.value.style.height="auto",L.value.style.height=Math.min(L.value.scrollHeight,64)+"px")},Le=()=>{i.commit("imkit/setState",{isSearchInRoomMode:!0})};u.onMounted(()=>{u.watch(l,async(ue,ye)=>{ue!==ye&&(M.value=!1,i.commit("imkit/clearChatRoom"),Promise.all([i.dispatch("imkit/loadMessages",{roomId:ue}),i.dispatch("imkit/fetchRoom",ue)]).finally(()=>{var Be,V,Y;(((Be=o.value)==null?void 0:Be.numberOfUnread)??0)>0&&(i.dispatch("imkit/updateLastRead",ue),i.dispatch("imkit/insertUnreadMessage")),((V=o.value)==null?void 0:V.ownerId)===i.state.imkit.uid&&i.dispatch("imkit/getBlockList",o.value.id);for(const he of i.state.imkit.deliveringMessages.values())he.roomId===ue&&i.commit("imkit/pushMessage",he);(Y=g.value)==null||Y.scrollToBottom(),M.value=!0}))},{immediate:!0}),u.watch([()=>f.value.length,()=>h.value],([ue],[ye])=>{var Be,V,Y,he,we,Re;((Be=g.value)==null?void 0:Be.getOffset())!==void 0&&(ue-ye>1||(((V=g.value)==null?void 0:V.getOffset())+((Y=g.value)==null?void 0:Y.getClientSize())==((he=g.value)==null?void 0:he.getScrollSize())||((we=f.value[f.value.length-1])==null?void 0:we.senderId)===i.state.imkit.uid?(D.value=!1,(Re=g.value)==null||Re.scrollToBottom()):D.value=!0))}),u.watch(m,ue=>{var Be;if(!ue)return;const ye=f.value.findIndex(V=>V.id===ue);ye!==-1&&((Be=g.value)==null||Be.scrollToIndex(ye)),i.commit("imkit/setState",{navigationTargetId:""})}),u.watch(K,()=>{K.value&&(I.value=!1,setTimeout(()=>{var ue;(ue=L.value)==null||ue.focus()},0))}),u.watch(v,()=>{if(z.value.add(5,"second")>Ln())return;z.value=Ln();const{socket:ue,selectedRoomId:ye}=i.state.imkit;ue.emit("typing",ye)})});const ge=()=>{const{open:ue}=Xi({component:vue});ue()},Pe=u.computed(()=>o.value.memberIds.map(ue=>{var ye;return(ye=i.state.imkit.users[ue])==null?void 0:ye.nickname})),qe=u.computed(()=>{var ue;return((ue=o.value)==null?void 0:ue.ownerId)!==i.state.imkit.uid||o.value.memberIds.length<=1?!1:o.value.memberIds.filter(ye=>ye!==i.state.imkit.uid).reduce((ye,Be)=>ye&&i.state.imkit.blockedUsers[Be],!0)});return(ue,ye)=>{var V;const Be=u.resolveDirective("touch");return o.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex h-dvh flex-col bg-white dark:bg-zinc-800",onDrop:u.withModifiers(Z,["prevent"]),onDragenter:ce,onDragover:ce},[W.value?(u.openBlock(),u.createBlock(que,{key:0})):u.withDirectives((u.openBlock(),u.createElementBlock("div",{key:1,class:"flex h-[60px] select-none items-center gap-3 border-b border-solid px-3 py-2.5 dark:border-zinc-700",style:u.normalizeStyle(ie.value.chatRoomHeader)},[c.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock("img",{key:0,src:kT,class:"flex cursor-pointer sm:!hidden",width:"36",height:"36",onClick:pe})),r.isTestPreview?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[o.value.avatars.length===1?(u.openBlock(),u.createBlock(gr,{key:0,url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",Rbe,[u.createVNode(gr,{url:o.value.avatars[1].url,name:o.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl !text-base"},null,8,["url","name"]),u.createVNode(gr,{url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white !text-base group-hover:border-gray-100 dark:border-zinc-800"},null,8,["url","name"])]))],64)),u.createElementVNode("div",Bbe,u.toDisplayString(a.value),1),Pbe,P.value.showDarkModeSwitch&&!r.isTestPreview?(u.openBlock(),u.createBlock(u.unref(pbe),{key:2,round:""})):u.createCommentVNode("",!0),P.value.searchInRoomEnabled&&!r.isTestPreview?(u.openBlock(),u.createElementBlock("img",{key:3,class:"h-6 w-6 cursor-pointer",src:ph,onClick:Le})):u.createCommentVNode("",!0),o.value.type===u.unref(Np).Group&&P.value.showGroupChatRoomInfoButton||o.value.type===u.unref(Np).Direct&&P.value.showDirectChatRoomInfoButton&&!r.isTestPreview?(u.openBlock(),u.createElementBlock("img",{key:4,src:ZL,class:"h-6 w-6 cursor-pointer",onClick:ye[0]||(ye[0]=Y=>u.unref(i).commit("imkit/setState",{isRoomInfoVisible:!p.value}))})):u.createCommentVNode("",!0)],4)),[[Be,ge,"longtap"]]),u.createVNode(u.unref(vh),{class:u.normalizeClass(["grow overflow-auto p-2",{"opacity-0":!M.value&&!d.value}]),ref_key:"vl",ref:g,"data-key":"id","data-sources":f.value,"data-component":uae,"wrap-class":"flex flex-col","estimated-size":66,keeps:50,onTotop:N,onTobottom:E},{header:u.withCtx(()=>[d.value?(u.openBlock(),u.createElementBlock("div",Fbe,Ube)):u.createCommentVNode("",!0)]),_:1},8,["class","data-sources"]),u.createElementVNode("div",jbe,[D.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"absolute -top-10 flex h-10 w-full cursor-pointer items-center bg-gray-200 bg-opacity-90 px-3 dark:bg-zinc-600",onClick:ye[1]||(ye[1]=(...Y)=>g.value.scrollToBottom&&g.value.scrollToBottom(...Y))},u.toDisplayString((V=o.value.lastMessage)==null?void 0:V.string),1)):u.createCommentVNode("",!0),P.value.locationInputEnabled||P.value.audioInputEnabled?(u.openBlock(),u.createBlock(wbe,{key:1,class:u.normalizeClass(["h-12 w-5 flex-shrink-0 transform cursor-pointer fill-slate-500 object-contain transition dark:fill-slate-400",{"rotate-45":I.value}]),onClick:ye[2]||(ye[2]=()=>{I.value?I.value=!1:U.value=!0})},null,8,["class"])):u.createCommentVNode("",!0),U.value?u.withDirectives((u.openBlock(),u.createElementBlock("div",Hbe,[P.value.locationInputEnabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:ye[3]||(ye[3]=(...Y)=>u.unref(s)&&u.unref(s)(...Y))},[u.createVNode(Ibe,{class:"fill-slate-500 dark:fill-slate-400"}),u.createElementVNode("div",zbe,u.toDisplayString(ue.$t("location")),1)])):u.createCommentVNode("",!0),P.value.audioInputEnabled?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:ye[4]||(ye[4]=()=>{U.value=!1,I.value=!0})},[u.createVNode(Mbe,{class:"fill-slate-500 dark:fill-slate-400"}),u.createElementVNode("div",Vbe,u.toDisplayString(ue.$t("audio")),1)])):u.createCommentVNode("",!0)])),[[u.unref(Uf),()=>{U.value=!1}]]):u.createCommentVNode("",!0),P.value.audioInputEnabled&&I.value?(u.openBlock(),u.createBlock(Rue,{key:3})):(u.openBlock(),u.createElementBlock("div",Wbe,[u.createVNode(oue),F.value?(u.openBlock(),u.createElementBlock("div",Gbe,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(H.value,(Y,he)=>(u.openBlock(),u.createElementBlock("div",{key:he,class:"cursor-pointer rounded-full bg-gray-100 px-2 py-1 text-center text-xs dark:bg-zinc-700",onClick:we=>u.unref(zs)({type:Y.action.type,roomId:l.value,message:Y.action.label})},u.toDisplayString(Y.action.label),9,Ybe))),128))])):u.createCommentVNode("",!0),u.createElementVNode("div",Qbe,[u.createElementVNode("div",Kbe,[u.createVNode(u.unref(Lbe),{members:Pe.value},{default:u.withCtx(()=>[u.withDirectives(u.createElementVNode("textarea",{disabled:qe.value,ref_key:"input",ref:L,type:"text",rows:"1","onUpdate:modelValue":ye[5]||(ye[5]=Y=>v.value=Y),class:u.normalizeClass(["w-full resize-none bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700",{"cursor-not-allowed":qe.value}]),placeholder:ue.$t("TypeMessage"),onCompositionstart:ye[6]||(ye[6]=Y=>y.value=!0),onCompositionend:de,onKeydown:u.withKeys(Te,["enter"]),onInput:Ae,onPaste:re},null,42,Xbe),[[u.vModelText,v.value]])]),_:1},8,["members"]),S.value.length>0?(u.openBlock(),u.createElementBlock("div",Zbe,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(S.value,(Y,he)=>(u.openBlock(),u.createElementBlock("div",{key:`${Y.id}-${he}`,class:"group relative h-12 w-12"},[u.createElementVNode("img",{src:Y.thumbnailUrl,class:"absolute bottom-0 left-0 h-full w-full rounded-lg bg-gray-200 object-cover dark:bg-zinc-600"},null,8,Jbe),u.createElementVNode("img",{src:JL,class:"absolute -right-2 -top-2 hidden h-5 w-5 cursor-pointer group-hover:block",onClick:we=>me(he)},null,8,qbe)]))),128))])):u.createCommentVNode("",!0)]),P.value.stickerInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:0,class:"flex-shrink-0",onClick:ye[7]||(ye[7]=Y=>x.value=!0)},[u.createVNode(bbe,{class:"fill-slate-500 dark:fill-slate-400"})])):u.createCommentVNode("",!0),P.value.emojiInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:1,class:"flex-shrink-0",onClick:ye[8]||(ye[8]=Y=>w.value=!0)},[u.createVNode(_be,{class:"fill-slate-500 dark:fill-slate-400"})])):u.createCommentVNode("",!0),P.value.fileInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:2,class:"flex-shrink-0",onClick:G},[u.createVNode(Abe,{class:"fill-slate-500 dark:fill-slate-400"}),u.createElementVNode("input",{ref_key:"fileInput",ref:k,type:"file",multiple:"true",onChange:X,class:"hidden"},null,544)])):u.createCommentVNode("",!0)]),P.value.stickerInputEnabled&&x.value?u.withDirectives((u.openBlock(),u.createBlock(mae,{key:1,onClose:ye[9]||(ye[9]=()=>{x.value=!1})},null,512)),[[u.unref(Uf),()=>{x.value=!1}]]):u.createCommentVNode("",!0)])),P.value.emojiInputEnabled&&w.value?u.withDirectives((u.openBlock(),u.createBlock(u.unref(Ble),{key:5,class:"absolute bottom-16 right-2.5 overflow-auto",native:!0,onSelect:j},null,512)),[[u.unref(Uf),()=>{w.value=!1}]]):u.createCommentVNode("",!0),I.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:6},[v.value.length>0?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-pointer",{"sm:hidden":!P.value.sendButtonEnabled}]),src:IT,onClick:Q},null,2)):(u.openBlock(),u.createElementBlock("img",{key:1,class:u.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-not-allowed",{"sm:hidden":!P.value.sendButtonEnabled}]),src:DT},null,2))],64))])],32)):u.createCommentVNode("",!0)}}}),[["__scopeId","data-v-bc1904e7"]]);var z8={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(It,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var a=i.prototype,o=a.format;s.en.formats=n,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(c,h){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var v=g&&g.toUpperCase();return m||h[g]||n[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,w){return x||w.slice(1)})})}(l,d===void 0?{}:d);return o.call(this,f)}}})})(z8);var eve=z8.exports;const O_=or(eve),tve={class:"flex flex-col divide-y bg-white dark:divide-zinc-700 dark:bg-zinc-800"},nve={class:"flex h-[59px] items-center gap-4 px-3"},rve={key:1,class:"relative h-10 w-10"},ive={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-200"},sve={class:"flex flex-col gap-4 overflow-auto p-2"},ave={class:"mb-2 text-base text-gray-500 dark:text-gray-300"},ove={class:"flex flex-col gap-3"},lve={class:"relative h-[50px] w-[50px]"},uve={class:"flex flex-col overflow-hidden overflow-ellipsis whitespace-nowrap text-base"},cve={class:"text-base text-gray-900 dark:text-gray-100"},dve={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},fve={key:0,class:"ml-auto"},hve=["onClick"],pve={key:1,class:"ml-auto"},mve=["onClick"],gve={class:"text-gray-500 dark:text-gray-300"},bve={class:"text-gray-500 dark:text-gray-300"},vve=["src"],yve=u.defineComponent({__name:"ChatRoomInfo",setup(t){Ln.extend(O_);const e=rn(),n=u.computed(()=>e.state.imkit.rooms[e.state.imkit.selectedRoomId]),r=u.computed(()=>e.state.imkit.users),i=u.computed(()=>e.state.imkit.uid),s=u.computed(()=>e.state.imkit.config.settings),a=u.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl),o=u.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl+`?roomId=${e.state.imkit.selectedRoomId}`),l=u.computed(()=>n.value.ownerId===i.value),d=u.computed(()=>e.state.imkit.blockedUsers),f=()=>{e.commit("imkit/setState",{isRoomInfoVisible:!1})},c=m=>{e.dispatch("imkit/blockUser",{roomId:n.value.id,uid:m})},h=m=>{e.dispatch("imkit/unblockUser",{roomId:n.value.id,uid:m})},p=u.computed(()=>!!e.state.imkit.isRequesting[`/blockStatus/room/${n.value.id}`]);return(m,g)=>(u.openBlock(),u.createElementBlock("div",tve,[u.createElementVNode("div",nve,[u.createElementVNode("img",{src:kT,class:"cursor-pointer sm:hidden",width:"36",height:"36",onClick:f}),n.value.avatars.length===1?(u.openBlock(),u.createBlock(gr,{key:0,url:n.value.avatars[0].url,name:n.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",rve,[u.createVNode(gr,{url:n.value.avatars[1].url,name:n.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl !text-base"},null,8,["url","name"]),u.createVNode(gr,{url:n.value.avatars[0].url,name:n.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white !text-base group-hover:border-gray-100 dark:border-zinc-800"},null,8,["url","name"])])),u.createElementVNode("div",ive,u.toDisplayString(n.value.displayName),1)]),u.createElementVNode("div",sve,[u.createElementVNode("div",null,[u.createElementVNode("div",ave,u.toDisplayString(m.$t("members")),1),u.createElementVNode("div",ove,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(n.value.memberIds,v=>(u.openBlock(),u.createElementBlock("div",{key:v,class:"flex items-center gap-4"},[u.createElementVNode("div",lve,[u.createVNode(gr,{url:r.value[v].avatarUrl??"",name:r.value[v].nickname,class:"relative h-[50px] w-[50px] text-lg"},null,8,["url","name"])]),u.createElementVNode("div",uve,[u.createElementVNode("div",cve,u.toDisplayString(r.value[v].nickname),1),r.value[v].city&&r.value[v].country?(u.openBlock(),u.createElementBlock("div",dve,u.toDisplayString(r.value[v].city)+", "+u.toDisplayString(r.value[v].country),1)):u.createCommentVNode("",!0)]),l.value&&v!=i.value&&!p.value?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[d.value[v]?(u.openBlock(),u.createElementBlock("div",fve,[u.createElementVNode("button",{onClick:y=>h(v),class:"rounded-md bg-blue-100 px-4 py-2 text-blue-800 transition duration-300 ease-in-out hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 dark:bg-blue-800 dark:text-blue-100 dark:hover:bg-blue-700"},u.toDisplayString(m.$t("unblock")),9,hve)])):(u.openBlock(),u.createElementBlock("div",pve,[u.createElementVNode("button",{onClick:y=>c(v),class:"rounded-md bg-red-100 px-4 py-2 text-red-800 transition duration-300 ease-in-out hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 dark:bg-red-800 dark:text-red-100 dark:hover:bg-red-700"},u.toDisplayString(m.$t("block")),9,mve)]))],64)):u.createCommentVNode("",!0)]))),128))])]),u.createElementVNode("div",null,[u.createElementVNode("div",gve,u.toDisplayString(m.$t("createdAt"))+" "+u.toDisplayString(u.unref(Ln)(n.value.createdAt).format("lll")),1),u.createElementVNode("div",bve,u.toDisplayString(m.$t("updatedAt"))+" "+u.toDisplayString(u.unref(Ln)(n.value.updatedAt).format("lll")),1)]),n.value.type===u.unref(Np).Group&&s.value.showLeaveRoomButton?(u.openBlock(),u.createElementBlock("button",{key:0,class:"w-full rounded-lg border p-2 text-gray-500 dark:text-gray-300",onClick:g[0]||(g[0]=v=>u.unref(e).dispatch("imkit/removeMembers",{roomId:n.value.id,uids:[i.value]}))},u.toDisplayString(m.$t("leaveGroup")),1)):u.createCommentVNode("",!0),a.value?(u.openBlock(),u.createElementBlock("iframe",{key:1,src:o.value,frameborder:"0"},null,8,vve)):u.createCommentVNode("",!0)])]))}}),_ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAbUExURUdwTP///////////////////////////////xb9HQ4AAAAIdFJOUwCAvz5nE+qvkBVomAAAAT1JREFUWMPtl70LwjAQxatWXP0aHHUQOlZxcFRcHIuIriIOHV0ER6ui+bMl2ErvcmlCEKQxb+tLf5RqLu/V85yc7NKkBRS+3docuB1MrRjUM+JuPUD2CWFntM763G1g9wqpGl5nN25PBTsEWEVYv3O7J9gzBZbQWLOk2CD7V4M8ds3ctgT7WL08ltD3OMxhDvsFZjjdlh54Po0tFZhh4ng4/9iRu1XsPlEsbnH+vdMUp+UQp/AIhHQ3y26Y6AvXcayuaqnW3Yim6KqWzUfMDjRGV7VUU3HrFw5Objz6FCapaqn49U4PSxB2KTcmHuZamBgdVmPjGJ6eoRbmF205ObbB2CPSwZY6Xx105Ctj8WtPM3w3w1/SG0NqH/7ZVjacbksPPL8Qi2WYYeJIqpoq3yRVTZmmkqqmym4np5LrBeYgWB5+6q94AAAAAElFTkSuQmCC",Tve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQUlEQVR4nO2bu2sUURSHz4CISlR8pNi4e24S151zx0ez2XMmD1gROxEVEcRHIYJYCPaCna9CBBULK/uUAUX0D1Ax4gpa2EUbg6CkMaiIyjWKSdjsIzs7z/vBVFvsnW9/587cc+8CWCwWi8ViscQL5cpu1PJQaZ5Ad3gk6vHEijwN7VCaZ5WWX+ZCkm/9mg9EPa54UK2uUFqe/5MzT9J3pfkgZB0kvrRYjpX0FyQpzyWlvqBMJ0mp6ipF8rqRnExLUsS3WpGTSUno8R6l5Wc7gjIjqVjkdUg81a6cBZKocgjSCmq+t1w5qZdUcP39ncpJraRcqbwZST4EJSh1khTJeJByUiUJtZzohpxUSCq4I32K+FM3BSVZkjPXwuiunPmSsOSPQlLALpdW/YsnICkMDpbXI/HTMAUh8QNIEoOhSuLZfvKrod6g646sNd29gpbzqPmq0nIbSS6i5tMDJdkVF0mo+VWr4wkCxywKleZHpv3ZJNJTqOUGUjkXjST+gVqueJ63MhQzWPJHkfhZ2wMl+aI0X8uVy2vCkoRa3iqqDIcixoAkZ5p1+JpPklLr18MKGknS8qRDOaZVcrfXq/ZAWKArhwP7ZYmnTTu1G0lCkveo/b0QAU67Xb4m8Z8Z8Hxu2BdqN0kk43nP3wgR4sRREmr+GKdlhBMnSUh8v9kTMpOSUMuMeWhAjHEik0T8eOv2oQIkAAc13wlKkiL+3PTppvmk+V5IEE6YkpKKY9ZggZUb8XRSSihCSfKy0bIkqThBlptZZEIKcYJLEs/mt/lbIG0Ui2O9ZrINJkV8HdIE7hzboLRMBjgXvYO0gAHL+XeZM4qQkq3jWt2b7LTcPDkFaU0OktT+zEkdTdx8AdKYHCSpmc87fgUgvglpTE7uv5yOXgGQ5DJkQM6yJSHxOUhpWS1FW+WGxPsgA8lZVj8JNX8NdXciJnJalpSYvXQMXk5Lksy5RciwnIaSzA5u7LuHfVTZ1OGE3CoLJu65E2HsQ8aT0yBJlbMQZ/rCS85iHLPNDXEmn/dXK80vIpCTDBTJ0aXkmGRB1kHPP27lNKDXq/YokjfzJE3a5NST5FaOocdHzL//uhpZi8VisVgsFosFYs5vllNJQwrDPNkAAAAASUVORK5CYII=",Eve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVR4nO3WPQrCMBiA4W+yh/BcniABFyNIsrsnOPRS/kz1KlJ35SsdOkhtRaGp7wOB0pZ3CGlSEQAAAAAAAAAAJsC5sjA+bU2IZxviXUd77fTZrHrr3WFpQ7zakB6vhvGp0ndm0XOuLPpi3eiQmZx6T3SZvIt1opvce2J9ugwOhnjKvScmxHpEsM69J2OCNsRb7j35uyVtQ3Tf3BSm3pP2QK8GxKrVfr/IvdfQQ7sv+smPwpR7DZ0dXRL6HehG0WwWPh313uCZy6gHAAAAAAAAAID8wBNoenSqsgBAfQAAAABJRU5ErkJggg==",Ave="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO2bz2sUSRTHe6K7/jgIiyxozFQFHZ33OojoOO+NUchRA7q7Fw9ehM0ejR7iwt7UgwcNCOqfkL/Do7/BX+BlYTHir+hZYY3rzsjrnsiYVFfPD2e6OtQXGoaZ7p6qT7/36tWr6iDw8vLy8vLy8vLy8vLyck6l0pF1KqydVkB3NfAHjdzo4fhfI73SwHOjY7QnyLtGdta2KeDHPUJJOOizBp4Jcm050C843xwXgjxKIZ8ZAJz8QlJA9wYIqKGQrgTB8TVBXqSB3g8SUBPSkyLQyW0lGnEe1qDh6EEdwB8U8h0FNB2G4Y8eEFosFuhhsTw+7C0IbVZFD7qypMxdAQcY+4BOeUBoAYR8xwNCW+Cm9x4Q2t3MA0IPqNFLoPYWhB5Qw1sQ9i8X8i6GHlDDWxB6F2tkNR/zMQg9oIa3ILSVLHhRA99QQOeL5doxPcaodh/6KZiYWDsyUtsgZVxZi9NAJzTQ1Xidj/5b9S6mgB4qpD8iGJ32MaxuUcB/KeS/Vx0gBfx4tFw9HHwfFVYNIIX0rzz1zFc9HLWaFwq4ErigrGHo5Qfw/WGobg5ckVuWQ3dLJdqU1uZKpfKDgupRDXRNId9WQO8U8Kf4oHfynQaeVbtqB4MgGFodgID+KZUO/Zy20UKX+axA6MBdF+QauTa3gBTSR40H9trbSb8poOc9WOfzUaRf8wroT0sTC7IrRCPXv8N/1SXB7Gi4zxqOBn4qMSURDvBcH/5zrm1IWQMqhvyLpW0X+ma1QOecB6SQniQ9SYk5JreSeCXTjmgPZLqlvGxOUT4afq/bHo4bgICmjW3SE+vNAZluyn7KFohTps7H39HU0nkygZVrDefNp45u2QGiz0kJoQzLpk63wmlp/2QrpObnyeXnCSSjJaVtMM0Q0M3kJHBlniOuYulDBCkJzpIU8KOV9+UFazKZoXtdNHeiejQB6KuUBz1pg9NMF94Y21I+MO4eoJCOG9sDdN1idV/jSqeSWlLifYFnndrEqSMLqu0zd4RvJ1/Di1JF7BSO1JOkfNKpu8cNkpIkDh7Q9rCiEtpjnWelxZm0IG4GT29tgKazALS1Utlobg8vplpfm5DagbN0v8SbyMZGFSVeHlCiiuXx4UFDyo2LLbOkU3Gxqf+BO6mkag3SHcJpH5IlSLsmDTyb2JGQf+/6vkhTXQ3zrkntqh3sU6IokF53nCg6qKGoTLrSJR9lMtVwURp4xhR/4reDupus7hjbXzSmEHl8G7Ikb0EizZuCaQukQrQU3Ua5Q+BopFsG93rWdTE/a0mB3VgwA16MXcUcT5YBfS3nJiSf9W6mLU7JiZKr4ypkXrTPgQqyiSF+F79nOHWNdCl3o1Y7kgK7OXC36VJI87mPOWmKlp6BZ0x5UnKs4QW5JrejVdCdhiT7jacldEsmm9HoFi8JvY1WMIAvNzPkttzpCzIGFAwMLQUoAAAAAElFTkSuQmCC";var V8={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(It,function(){return function(n,r,i){r.prototype.isYesterday=function(){var s="YYYY-MM-DD",a=i().subtract(1,"day");return this.format(s)===a.format(s)}}})})(V8);var xve=V8.exports;const Cve=or(xve),W8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UQU7CUBSF4bcQGbsVYeAajO90A9wHa5B32YhO3BEkRgYkxggbgDTRxBGa0Nse5XzJnXXQk79pSiIicsGa6fIW5hsUP5w88037bPrrcqnbH8d+XvtsYpFni0k2X//25fu69p0a83Hng1Hqy9DjTnwZrxp8rsZ8nEtdEdZd5VJvzh4oIv8TCH5U30+DuwaCqiocCQRVVTgSCKqqcCQQVFXhSCCoqsKRQFBVhSOBoKoKRwJBVRWOBIKqKhwJBFVVOBIIqqpwJBBUVeFIIKiqwpFAUFWFI4GgqgpHgvl+6Kpfl80/4geX+kwzuNTH8MH3s8V1Nn8feizM3zB/uEp9uJsuRzB/Qqm7/sfWXVu2t7EiIiKSunIEhOq3p0W+CNEAAAAASUVORK5CYII=",wve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAEGAAABBgHN0zO8AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAoNJREFUOI2tlL9PU1EUxz/n9t1XBQelk7+ipChurp1k15TEmJLwQ9sGEwedjDvhD4AJB4mm5UdqpItC4o4TDO4oGgcjWwlGiLS3fcfh+ZpSCgnGM713bs7nfs+55xxRVf6neUcd5F/XbihmSFQHRDkPoMIWyCoSlAvD/kanOGlXmJ0nEfPctMIYYI64L0BYiHn26csM20cCs2+q103DvAeSQAV0RpEVqdmvAOq7pKBpkCdAQuGLENwujMQ3DwGz8ySM59ZDmLz1rZd7keFnx3IUOSvx+pyqDip80bpNzT2gQmtKMc9NR7Crm969VtijWboezdIV/Rdy7Fz57N0FeSfQZ6ybis4MRA/AGFDxrZebmCBoVVQ749ZqZ9xaq29igoCalwMqKPfHF6v9TaBihsJvnemUpkKvQm+7v5BjR1SfAyYwsaEmUFRvAUggy51qdpxJTFbCS0NG1IeXAGw8fM2hMqe7nVsDLgMIdAPkSy5qke971qaWMvzeD+xXH4dRLjYVhllBbQ85qcLTNoxRCRmRwh/ADfVdEuzHpQy/wd6MgnIl9wugOGJ72oGNmksioLDVVKgiHwCM6uBJFSKaDkGy2gQKwRIQqMjjfJGzh2Lgm8C3dv9oiXMgj4GGBI1yE1gY9jcQFoAEfr04OXlwhv1dm/J3barVNzmJ8anPAT0K86/G4p9CwX9H72GZnrpz6wJ9IrKsVS9byLHTKcvREudCmKaBzZi1qWhJHFgO+VL1mmLeC/QB26I6IzFZ2Q/CdjplXFIbmlaRJ0APsAnBnY7LIbLsPAlj3RTKfY5ZXwpznrXPjl1frTa+WO0Px0kHRLmggipsGWRVgkY5qlm7HQn8V/sDpc0NjXW+Pa0AAAAASUVORK5CYII=",Sve={key:0},kve={class:"mb-3 flex items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},Ive=u.createElementVNode("div",null," ",-1),Dve={class:"mb-1 flex items-center justify-between text-xl text-gray-700 dark:text-gray-300"},Nve=["placeholder"],QEe={key:0,class:"mt-1 flex flex-wrap gap-2"},KEe=["onClick"],XEe={class:"overflow-hidden overflow-ellipsis whitespace-nowrap"},Mve={class:"mb-1 mt-3 text-base"},Ove={class:"divide-y rounded bg-gray-100 dark:bg-zinc-800"},Lve={class:"grid grid-cols-6 gap-3 p-4"},Rve=["onClick"],Bve={class:"flex items-center justify-center gap-3 rounded p-3"},Pve=["placeholder"],Fve={class:"mt-5 flex gap-3"},Uve=["disabled"],jve={key:1},Hve={class:"mb-1 mb-5 flex min-w-[380px] items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},zve=u.createElementVNode("div",null," ",-1),Vve={key:0,class:"mt-1 flex flex-wrap gap-2"},Wve=["onClick"],Gve={class:"flex items-center gap-3"},Yve={class:"w-64 overflow-hidden truncate overflow-ellipsis whitespace-nowrap text-base text-black"},Qve={class:"flex items-center gap-3"},Kve=["onClick"],Xve=["onClick"],Zve={class:"mt-3"},Jve=u.createElementVNode("img",{width:"20",height:"20",src:wve},null,-1),qve={class:"text-[#60A5FA]"},$ve={key:2},e2e={class:"mb-2 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},t2e=u.defineComponent({__name:"TagsModal",props:{roomId:{}},setup(t){const e=kr(),n=t,r=rn(),i=u.ref([]),s=u.ref({}),a=u.ref([]),o=u.ref({}),l=u.ref(""),d=u.ref("#60a5fa"),f=u.ref(!0),c=u.ref("edit"),h=u.ref(""),p=u.ref(!1),m=["#f43f5e","#f97316","#f59e0b","#84cc16","#10b981","#06b6d4","#0ea5e9","#6366f1","#8b5cf6","#6b7280","#64748B","#78716c"],g=L=>{r.dispatch("imkit/updateRoomPrefs",{roomId:L,prefs:{tags:i.value,tagColors:s.value}})},v=r.state.imkit.rooms[n.roomId];v.pref&&(i.value=[...v.pref.tags],a.value=[...v.pref.tags],s.value={...v.pref.tagColors},o.value={...v.pref.tagColors},i.value.length>0&&(c.value="list",p.value=!1));const y=()=>{l.value&&(i.value.length>=5||(i.value.includes(l.value)||i.value.push(l.value),d.value.startsWith("#")&&(s.value[l.value]=d.value,l.value="")))},x=()=>{i.value=i.value.filter(L=>L!==h.value),delete s.value[h.value]},w=L=>{h.value=L,c.value="confirmDelete"},I=L=>{l.value=L,d.value=s.value[L]},k=()=>{d.value=d.value.replace(/[^#0-9a-fA-F]/g,""),d.value.charAt(0)!=="#"&&(d.value="#"+d.value)},S=()=>{c.value="edit",f.value=!0,l.value="",d.value="#60a5fa"},B=L=>{c.value="edit",f.value=!1,l.value=L,d.value=s.value[L]},M=()=>{c.value="list",p.value=!1},D=()=>{p.value=!0};return(L,z)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[c.value=="edit"?(u.openBlock(),u.createElementBlock("div",Sve,[u.createElementVNode("div",kve,[Ive,u.createTextVNode(" "+u.toDisplayString(f.value===!0?L.$t("createTag"):L.$t("editTag"))+" ",1),u.createElementVNode("button",{class:"flex items-center justify-center",onClick:z[0]||(z[0]=U=>u.unref(e).closeAll())},[u.createVNode(Fl,{class:"h-7 w-7"})])]),u.createElementVNode("div",Dve,[u.withDirectives(u.createElementVNode("input",{type:"text",class:"w-32 grow rounded-md bg-gray-100 p-2 text-base placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:f.value===!0?L.$t("createTag"):L.$t("editTag"),onInput:z[1]||(z[1]=U=>D()),"onUpdate:modelValue":z[2]||(z[2]=U=>l.value=U)},null,40,Nve),[[u.vModelText,l.value]])]),(i.value.length>0,u.createCommentVNode("",!0)),u.createElementVNode("div",null,[u.createElementVNode("div",Mve,u.toDisplayString(L.$t("chooseColor")),1),u.createElementVNode("div",Ove,[u.createElementVNode("div",Lve,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(m,U=>u.createElementVNode("div",{key:U,class:"h-8 w-12 rounded",style:u.normalizeStyle({backgroundColor:U}),onClick:F=>(d.value=U,D())},null,12,Rve)),64))]),u.createElementVNode("div",Bve,[u.createElementVNode("div",{class:"h-8 w-12 rounded-md bg-white p-2 text-base",style:u.normalizeStyle({backgroundColor:d.value})},"   ",4),u.withDirectives(u.createElementVNode("input",{type:"text",class:"w-50 h-8 grow rounded-md bg-gray-100 p-2 text-base placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:L.$t("inputTagPlaceholder"),maxlength:"7",pattern:"^#[0-9a-fA-F]{6}$","onUpdate:modelValue":z[4]||(z[4]=U=>d.value=U),onInput:z[5]||(z[5]=U=>(D(),k()))},null,40,Pve),[[u.vModelText,d.value]])])])]),u.createElementVNode("div",Fve,[u.createElementVNode("button",{class:"h-10 grow rounded-lg border bg-white text-base text-black dark:bg-transparent dark:text-white",onClick:z[6]||(z[6]=U=>M())},u.toDisplayString(L.$t("cancel")),1),u.createElementVNode("button",{class:"h-10 w-[40%] grow rounded-lg bg-blue-400 text-base text-white disabled:cursor-not-allowed disabled:bg-gray-200 dark:disabled:bg-gray-700 dark:disabled:text-gray-500",disabled:!l.value||!d.value||!p.value,onClick:z[7]||(z[7]=()=>{y(),g(L.roomId),M()})},u.toDisplayString(f.value==!0?L.$t("create"):L.$t("save")),9,Uve)])])):u.createCommentVNode("",!0),c.value=="list"?(u.openBlock(),u.createElementBlock("div",jve,[u.createElementVNode("div",Hve,[zve,u.createTextVNode(" "+u.toDisplayString(L.$t("tag"))+" ",1),u.createElementVNode("button",{class:"flex items-center justify-center",onClick:z[8]||(z[8]=U=>u.unref(e).closeAll())},[u.createVNode(Fl,{class:"h-7 w-7"})])]),i.value.length>0?(u.openBlock(),u.createElementBlock("div",Vve,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value,U=>(u.openBlock(),u.createElementBlock("div",{key:U,class:"flex min-w-[380px] items-center justify-between gap-1 overflow-hidden rounded-md bg-gray-200 p-3 text-base text-white dark:bg-zinc-600",onClick:F=>I(U)},[u.createElementVNode("div",Gve,[u.createElementVNode("div",{class:"circle-shadow h-4 w-4 rounded-full",style:u.normalizeStyle({backgroundColor:s.value[U]})},null,4),u.createElementVNode("div",Yve,u.toDisplayString(U),1)]),u.createElementVNode("div",Qve,[u.createElementVNode("img",{width:"20",height:"20",class:"cursor-pointer",onClick:u.withModifiers(F=>B(U),["stop"]),src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,8,Kve),u.createElementVNode("img",{width:"20",height:"20",src:W8,class:"cursor-pointer",onClick:u.withModifiers(F=>w(U),["stop"])},null,8,Xve)])],8,Wve))),128))])):u.createCommentVNode("",!0),u.createElementVNode("div",Zve,[u.createElementVNode("div",{class:"flex cursor-pointer gap-2",onClick:z[9]||(z[9]=U=>S())},[Jve,u.createElementVNode("div",qve,u.toDisplayString(L.$t("createTag")),1)])])])):u.createCommentVNode("",!0),c.value=="confirmDelete"?(u.openBlock(),u.createElementBlock("div",$ve,[u.createElementVNode("div",e2e,[u.createTextVNode(u.toDisplayString(L.$t("confirmDeleteTag"))+" ",1),u.createElementVNode("button",{class:"ml-2 flex items-center justify-center",onClick:z[10]||(z[10]=U=>M())},[u.createVNode(Fl,{class:"h-7 w-7"})])]),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) mt-3 h-10 w-full grow rounded-lg bg-blue-400 text-base text-white",onClick:z[11]||(z[11]=U=>(x(),g(L.roomId),M()))},u.toDisplayString(L.$t("confirm")),1)])):u.createCommentVNode("",!0)]),_:1}))}}),G8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVR4nO2asUrEQBCGp7PxEbSx8VnEFzG7Bp05sJ05rS18jDsEX8Pn8CxV9ArbkVVEUEJyJrhZ838wXYr92ORLM0QAAAAAGBWVXOwG0evIuo5i3mUC2yqwXYag21SerD12Ff0xrLd1fbVFpRDSzf5W9vO2xZRKIW7wGjcL62t1qntUArGnbPZhXQe2m6OT8/1pCH+JP6UeTUf449NaTkzYXiYlHMUcwgCA/0U1mx9G0fvif0lsq+PZ/KBVOD2Y+7CDDetdq3D2Qw48BOFv5L4R3LDglXZ8w4JoOSrdRO6qotKCSjsqLai0o9JN5K4qKi2otKPSgko7Kt1E7qqi0oJKOyotfSrN/ZdaRjOsz63CaSEk+0GHm0WrcNp+SQshIzhsrwmiD/WZ7tAGq4fLtCNRnuj7mRedZQEAAABAf8UbgvvRyv0JTvIAAAAASUVORK5CYII=",n2e={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},r2e=["onClick"],i2e=u.createElementVNode("img",{width:"30",height:"30",src:G8},null,-1),s2e=u.defineComponent({__name:"AddToFolderModal",props:{roomId:{}},setup(t){const e=kr(),n=t,r=rn(),i=u.computed(()=>r.state.imkit.sortedFolderIds.map(a=>r.state.imkit.folders[a]).filter(a=>a)),s=a=>{n.roomId&&r.dispatch("imkit/addRoomToFolder",{roomId:n.roomId,folderId:a})};return(a,o)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px] relative max-h-80vh overflow-y-auto","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",n2e,[u.createTextVNode(u.toDisplayString(a.$t("addToFolder"))+" ",1),u.createElementVNode("button",{class:"flex items-center justify-center",onClick:o[0]||(o[0]=l=>u.unref(e).closeAll())},[u.createVNode(Fl,{class:"h-7 w-7"})])]),(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value,l=>(u.openBlock(),u.createElementBlock("div",{key:l.id,class:"group relative flex cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:()=>{s(l.id),u.unref(e).closeAll()}},[i2e,u.createTextVNode(" "+u.toDisplayString(l.name),1)],8,r2e))),128))]),_:1}))}}),a2e={},o2e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",class:"fill-slate-700 dark:fill-slate-300"},l2e=[u.createElementVNode("path",{d:"M15.478,15.48c-0.976,0.976-1.468,2.25-1.468,3.528c0,1.278,0.492,2.553,1.468,3.528c1.952,1.952,5.106,1.951,7.058-0.001s1.952-5.106,0-7.058C20.586,13.529,17.431,13.529,15.478,15.48z M20.011,17.001v1h1c0.552,0,1,0.448,1,1v0c0,0.552-0.448,1-1,1h-1v1c0,0.552-0.448,1-1,1h0c-0.552,0-1-0.448-1-1v-1h-1c-0.552,0-1-0.448-1-1v0c0-0.552,0.448-1,1-1h1v-1c0-0.552,0.448-1,1-1h0C19.563,16.002,20.011,16.449,20.011,17.001z"},null,-1),u.createElementVNode("path",{d:"M12,19c0-3.866,3.134-7,7-7c1.075,0,2.09,0.25,3,0.683h0V8c0-1.1-0.9-2-2-2h-7.172c-0.53,0-1.039-0.211-1.414-0.586l-0.828-0.828C10.211,4.211,9.702,4,9.172,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h8.08C12.033,19.673,12,19.34,12,19z"},null,-1)];function u2e(t,e){return u.openBlock(),u.createElementBlock("svg",o2e,l2e)}const Y8=On(a2e,[["render",u2e]]),c2e={},d2e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},f2e=[u.createElementVNode("path",{id:"XMLID_11_",style:{fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:"M20,4H4"},null,-1),u.createElementVNode("path",{d:"M15,3v1H9V3l0.429-0.429C9.795,2.205,10.29,2,10.807,2h2.386c0.517,0,1.012,0.205,1.377,0.571L15,3z"},null,-1),u.createElementVNode("path",{d:"M4.366,7l1.527,13.264C6.025,21.254,6.877,22,7.875,22h8.249c0.998,0,1.85-0.746,1.983-1.745L19.634,7H4.366z"},null,-1)];function h2e(t,e){return u.openBlock(),u.createElementBlock("svg",d2e,f2e)}const p2e=On(c2e,[["render",h2e]]),m2e={},g2e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},b2e=[u.createStaticVNode('<g id="Rounded" class="fill-slate-700 dark:fill-slate-300"><g><path d="M10.69,9.313C9.693,9.801,9,10.815,9,12c0,1.657,1.343,3,3,3c1.185,0,2.199-0.693,2.687-1.69L10.69,9.313z"></path></g><g><path d="M16.155,14.779c-1.033,1.542-2.899,2.478-4.956,2.159c-2.098-0.326-3.811-2.039-4.137-4.137C6.743,10.744,7.68,8.878,9.221,7.845L6.732,5.355c-2.905,1.621-4.677,4.296-5.46,5.706c-0.332,0.598-0.321,1.318,0.004,1.92C2.431,15.119,5.751,20,12,20c2.952,0,5.219-1.092,6.91-2.467L16.155,14.779z"></path><path d="M11.278,7.073C11.515,7.038,11.753,7,12,7c2.761,0,5,2.239,5,5c0,0.247-0.038,0.485-0.073,0.722l3.43,3.43c1.074-1.192,1.86-2.401,2.33-3.205c0.354-0.604,0.354-1.345,0.019-1.96C21.537,8.834,18.219,4,12,4c-1.212,0-2.295,0.199-3.284,0.511L11.278,7.073z"></path></g><line class="stroke-slate-700 dark:stroke-slate-300" style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="4" y1="4" x2="20" y2="20"></line></g>',1)];function v2e(t,e){return u.openBlock(),u.createElementBlock("svg",g2e,b2e)}const y2e=On(m2e,[["render",v2e]]),_2e={},T2e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 30 30",class:"fill-slate-700 dark:fill-slate-300"},E2e=[u.createElementVNode("path",{d:"M29.399,13.199l-4.5-5.999C24.337,6.448,23.439,6,22.5,6H4C2.897,6,2,6.897,2,8v14c0,1.103,0.897,2,2,2h18.5c0.939,0,1.837-0.448,2.399-1.2l4.5-5.999C30.195,15.74,30.195,14.26,29.399,13.199z M25,16.5c-0.828,0-1.5-0.672-1.5-1.5c0-0.828,0.672-1.5,1.5-1.5s1.5,0.672,1.5,1.5C26.5,15.828,25.828,16.5,25,16.5z"},null,-1)];function A2e(t,e){return u.openBlock(),u.createElementBlock("svg",T2e,E2e)}const x2e=On(_2e,[["render",A2e]]),C2e={},w2e={width:"512",height:"512",viewBox:"0 0 512 512",class:"fill-slate-700 dark:fill-slate-300",xmlns:"http://www.w3.org/2000/svg"},S2e=[u.createElementVNode("path",{d:"M138.24 351.289L160.853 373.618L50.9156 483.413C50.9156 483.413 41 494 29.5 483C18 472 28.4445 461.084 28.4445 461.084L138.24 351.289Z"},null,-1),u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M329.102 372.196C330.43 377.518 330.356 383.094 328.885 388.378C327.414 393.663 324.598 398.476 320.711 402.347L278.044 445.013L66.56 234.667L109.227 191.289C113.128 187.45 117.948 184.677 123.226 183.232C128.505 181.788 134.066 181.722 139.378 183.04L219.022 202.951L299.378 122.738L388.978 212.48L308.764 292.551C308.764 292.551 322.133 344.178 329.102 372.196Z"},null,-1),u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M483.556 171.947C483.556 171.947 472.32 183.04 461.227 194.276C455.618 199.804 448.183 203.091 440.32 203.52C435.912 203.734 431.509 203.022 427.394 201.43C423.278 199.838 419.542 197.401 416.427 194.276L317.724 95.7156C313.909 91.946 311.133 87.2553 309.662 82.0976C308.192 76.9399 308.079 71.49 309.333 66.2756C310.582 60.4502 313.497 55.1136 317.724 50.9156C328.818 39.68 340.053 28.4445 340.053 28.4445L483.556 171.947Z"},null,-1)];function k2e(t,e){return u.openBlock(),u.createElementBlock("svg",w2e,S2e)}const I2e=On(C2e,[["render",k2e]]),D2e={},N2e={width:"512",height:"512",viewBox:"0 0 512 512",class:"fill-slate-700 dark:fill-slate-300",xmlns:"http://www.w3.org/2000/svg"},M2e=[u.createStaticVNode('<path d="M138.24 351.289L160.854 373.618L50.9156 483.413C50.9156 483.413 41 494 29.5 483C18 472 28.4445 461.084 28.4445 461.084L138.24 351.289Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M329.102 372.196C330.43 377.518 330.356 383.094 328.885 388.378C327.414 393.663 324.598 398.476 320.711 402.347L278.044 445.013L66.56 234.667L109.227 191.289C113.128 187.45 117.948 184.677 123.226 183.232C128.505 181.788 134.066 181.722 139.378 183.04L219.022 202.951L299.378 122.738L388.978 212.48L308.764 292.551C308.764 292.551 322.133 344.178 329.102 372.196Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M483.556 171.947C483.556 171.947 472.32 183.04 461.227 194.276C455.618 199.804 448.183 203.091 440.32 203.52C435.912 203.734 431.509 203.022 427.394 201.43C423.278 199.838 419.542 197.401 416.427 194.276L317.724 95.7156C313.909 91.946 311.133 87.2553 309.662 82.0976C308.192 76.9399 308.079 71.49 309.333 66.2756C310.582 60.4502 313.497 55.1136 317.724 50.9156C328.818 39.68 340.053 28.4445 340.053 28.4445L483.556 171.947Z"></path><g clip-path="url(#clip0_4859_1096)"><path d="M463.188 394.812L378.812 479.188" class="stroke-slate-700 dark:stroke-slate-300" stroke-width="30" stroke-linecap="round" stroke-linejoin="round"></path><path d="M463.188 479.188L378.812 394.812" class="stroke-slate-700 dark:stroke-slate-300" stroke-width="30" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_4859_1096"><rect width="150" height="150" fill="white" transform="translate(346 362)"></rect></clipPath></defs>',5)];function O2e(t,e){return u.openBlock(),u.createElementBlock("svg",N2e,M2e)}const L2e=On(D2e,[["render",O2e]]),R2e={},B2e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},P2e=[u.createElementVNode("line",{"stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",x1:"32",y1:"20",x2:"42",y2:"30"},null,-1),u.createElementVNode("line",{"stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",x1:"42",y1:"20",x2:"32",y2:"30"},null,-1),u.createElementVNode("path",{d:"M7.01,31.754V18.247c0-0.658,0.143-1.494,0.477-2.287H3c-1.676,0-3.04,1.364-3.04,3.04v12c0,1.676,1.364,3.04,3.04,3.04h4.481C7.151,33.253,7.01,32.415,7.01,31.754z"},null,-1),u.createElementVNode("path",{d:"M24.16,46.992c1.667,0,2.831-1.514,2.831-3.678V6.327c0-2.278-1.456-3.316-2.808-3.316c-0.91,0-1.838,0.433-2.607,1.213l-11.631,11.6c-0.64,0.566-0.934,1.648-0.934,2.422v13.507c0,0.767,0.293,1.841,0.881,2.358L21.51,45.695C22.565,46.768,23.533,46.992,24.16,46.992z"},null,-1)];function F2e(t,e){return u.openBlock(),u.createElementBlock("svg",B2e,P2e)}const U2e=On(R2e,[["render",F2e]]),j2e={},H2e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},z2e=[u.createStaticVNode('<path d="M5,16c-1.654,0-3,1.347-3,3.001V31c0,1.654,1.346,3,3,3h5V16H5z"></path><g><path d="M46,25c0,5.508-2.992,10.318-7.428,12.927l1.124,1.654C44.66,36.609,48,31.194,48,25s-3.34-11.609-8.304-14.581l-1.124,1.654C43.008,14.682,46,19.492,46,25z"></path><path d="M42,25c0-4.135-2.295-7.74-5.676-9.619l-1.13,1.662C38.049,18.554,40,21.552,40,25s-1.951,6.446-4.806,7.957l1.13,1.662C39.705,32.74,42,29.135,42,25z"></path><path d="M31.753,27.893l1.169,1.721C34.727,28.858,36,27.076,36,25s-1.273-3.858-3.078-4.613l-1.169,1.721C33.042,22.444,34,23.607,34,25S33.042,27.556,31.753,27.893z"></path></g><path d="M26.607,2c-0.663,0-1.303,0.279-1.753,0.765L12,16v18l12.854,13.234C25.305,47.721,25.944,48,26.607,48C27.927,48,29,46.927,29,45.607V4.393C29,3.073,27.927,2,26.607,2z"></path>',3)];function V2e(t,e){return u.openBlock(),u.createElementBlock("svg",H2e,z2e)}const W2e=On(j2e,[["render",V2e]]),G2e={class:"relative flex items-center justify-center gap-1.5"},Y2e={class:"relative !h-[50px] !w-[50px] flex-shrink-0"},Q2e={key:2,class:"absolute -bottom-1 -right-1 h-5 w-5 rounded-lg bg-slate-200 p-[3px]",src:Tve},K2e={class:"flex w-0 min-w-0 grow flex-col text-left"},X2e={class:"flex justify-between gap-2"},Z2e={class:"flex items-center justify-center gap-1"},J2e=["innerHTML"],q2e={key:0,width:"14",height:"14",class:"mt-0.5",src:"https://img.icons8.com/ios-filled/50/4b5563/mute--v1.png",alt:"mute--v1"},$2e={class:"whitespace-nowrap text-xs text-gray-500 dark:text-gray-300"},eye={class:"text-xs text-gray-500"},tye=["innerHTML"],nye={key:0,class:"mt-1 flex flex-wrap gap-1"},rye=[u.createElementVNode("img",{width:"20",height:"20",src:Eve},null,-1)],iye={key:0,class:"absolute right-3 top-[calc(50%_+_28px)] z-10 flex flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},sye=u.createElementVNode("img",{width:"24",height:"24",src:Ave},null,-1),aye=u.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){Ln.extend(O_),Ln.extend(Cve);const e=t,n=u.computed(()=>i.state.imkit.config.styles),r=u.computed(()=>{let D=Ln(e.source.updatedAt);return D.isSame(Ln(),"day")?D.format("H:mm"):D.isYesterday()?"Yesterday":D.isSame(Ln(),"week")?D.format("dddd"):D.isSame(Ln(),"year")?D.format("MMM D"):D.format("ll")}),i=rn(),s=u.computed(()=>i.state.imkit.rooms[e.source.id]),a=u.computed(()=>i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===ki.RoomName?s.value.displayName.replaceAll(i.state.imkit.searchKeyword,`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`):s.value.displayName),o=u.computed(()=>{var D;return i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===ki.RoomMember?[`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`,...s.value.memberIds.map(L=>i.state.imkit.users[L]).filter(L=>L).map(L=>L.nickname||L.id).filter(L=>L!==i.state.imkit.searchKeyword)].join(", "):(D=s.value.lastMessage)==null?void 0:D.string}),l=u.computed(()=>i.state.imkit.selectedRoomId===e.source.id),d=u.computed(()=>!!i.state.imkit.roomIdsInFolders[e.source.id]),f=u.computed(()=>i.state.imkit.actionMenuRoomId),c=u.computed(()=>i.state.imkit.searchKeyword),h=u.computed(()=>{var D;return((D=s.value.pref)==null?void 0:D.sticky)??!1}),p=u.computed(()=>i.state.imkit.sortedFolderIds),m=()=>{const{open:D}=Xi({component:t2e,attrs:{roomId:e.source.id}});D(),i.commit("imkit/setState",{actionMenuRoomId:""})},g=()=>{f.value===e.source.id?i.commit("imkit/setState",{actionMenuRoomId:""}):i.commit("imkit/setState",{actionMenuRoomId:e.source.id})},v=()=>{i.commit("imkit/setState",{selectedRoomId:e.source.id,actionMenuRoomId:""})},y=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{sticky:!h.value}})},x=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{hidden:!0}})},w=async()=>{await i.dispatch("imkit/removeRoom",e.source.id)},I=async()=>{await i.dispatch("imkit/removeRoomFromFolder",e.source.id)},k=async()=>{const{open:D}=Xi({component:s2e,attrs:{roomId:e.source.id}});D()},S=u.ref(null);GO(S,()=>{g()},{modifiers:{prevent:!0}});const M=u.computed(()=>i.getters["imkit/roomsInSelectedFolder"]);return(D,L)=>{var z,U;return u.openBlock(),u.createElementBlock("div",G2e,[d.value&&!c.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["absolute left-2 h-[120%] w-1 flex-shrink-0 rounded-full bg-slate-500",{"mt-4 !h-full":M.value[0].id===e.source.id,"mb-4 !h-full":M.value[M.value.length-1].id===e.source.id}])},null,2)):u.createCommentVNode("",!0),u.createElementVNode("div",{ref_key:"roomCellRef",ref:S,class:u.normalizeClass(["group relative flex min-h-[66px] grow cursor-pointer select-none items-center gap-3 rounded-lg p-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700":l.value,"ml-4":d.value&&!c.value}]),onClick:v},[u.createElementVNode("div",Y2e,[s.value.avatars.length===1?(u.openBlock(),u.createBlock(gr,{key:0,url:s.value.avatars[0].url,name:s.value.avatars[0].name,class:"relative"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[u.createVNode(gr,{url:s.value.avatars[1].url,name:s.value.avatars[1].name,class:"absolute right-0 top-0 !h-9 !w-9 text-base"},null,8,["url","name"]),u.createVNode(gr,{url:s.value.avatars[0].url,name:s.value.avatars[0].name,class:u.normalizeClass(["absolute bottom-0 left-0 !h-[38px] !w-[38px] border-2 border-white text-base group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":l.value}])},null,8,["url","name","class"])],64)),h.value?(u.openBlock(),u.createElementBlock("img",Q2e)):u.createCommentVNode("",!0)]),u.createElementVNode("div",K2e,[u.createElementVNode("div",X2e,[u.createElementVNode("div",Z2e,[u.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100",innerHTML:a.value},null,8,J2e),s.value.muted?(u.openBlock(),u.createElementBlock("img",q2e)):u.createCommentVNode("",!0)]),u.createElementVNode("div",$2e,u.toDisplayString(r.value),1)]),u.createElementVNode("div",eye,u.toDisplayString(s.value.description),1),u.createElementVNode("div",{class:u.normalizeClass(["flex items-center justify-between pt-1",{"text-gray-800":s.value.numberOfUnread>0}])},[u.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",innerHTML:o.value},null,8,tye),s.value.numberOfUnread>0&&!l.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 px-1.5 text-center text-xs font-semibold leading-none text-white",style:u.normalizeStyle(n.value.roomListUnreadBadge)},u.toDisplayString(s.value.numberOfUnread>99?"99+":s.value.numberOfUnread),5)):u.createCommentVNode("",!0)],2),(z=s.value.pref)!=null&&z.tags?(u.openBlock(),u.createElementBlock("div",nye,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(((U=s.value.pref)==null?void 0:U.tags)??[],F=>{var H;return u.openBlock(),u.createElementBlock("div",{key:F,class:"overflow-hidden overflow-ellipsis whitespace-nowrap rounded-md bg-blue-400 px-1 py-0.5 text-xs text-white",style:u.normalizeStyle({backgroundColor:(((H=s.value.pref)==null?void 0:H.tagColors)||{})[F]})},u.toDisplayString(F),5)}),128))])):u.createCommentVNode("",!0)]),u.createElementVNode("div",{class:u.normalizeClass(["absolute right-4 hidden h-8 w-8 items-center justify-center rounded-full bg-white shadow-md hover:scale-110 hover:transform hover:transition dark:bg-zinc-800 sm:group-hover:flex",{"!flex":f.value==D.source.id}]),onClick:u.withModifiers(g,["stop"])},rye,2),f.value==D.source.id?u.withDirectives((u.openBlock(),u.createElementBlock("div",iye,[u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(m,["stop"])},[u.createVNode(x2e,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(D.$t("tag")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(y,["stop"])},[h.value?(u.openBlock(),u.createBlock(L2e,{key:0,class:"h-6 w-6"})):(u.openBlock(),u.createBlock(I2e,{key:1,class:"h-6 w-6"})),u.createTextVNode(" "+u.toDisplayString(h.value?D.$t("unpin"):D.$t("pin")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(x,["stop"])},[u.createVNode(y2e,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(D.$t("hide")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(w,["stop"])},[u.createVNode(p2e,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(D.$t("delete")),1)]),d.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(I,["stop"])},[sye,u.createTextVNode(" "+u.toDisplayString(D.$t("removeFromFolder")),1)])):p.value.length>0?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(k,["stop"])},[u.createVNode(Y8,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(D.$t("addToFolder")),1)])):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:L[0]||(L[0]=u.withModifiers(()=>{u.unref(i).commit("imkit/setState",{actionMenuRoomId:""}),u.unref(i).dispatch("imkit/toggleNotification",e.source.id)},["stop"]))},[s.value.muted?(u.openBlock(),u.createBlock(W2e,{key:0,class:"h-6 w-6"})):(u.openBlock(),u.createBlock(U2e,{key:1,class:"h-6 w-6"})),u.createTextVNode(" "+u.toDisplayString(s.value.muted?D.$t("開啟通知"):D.$t("關閉通知")),1)])])),[[u.unref(Uf),()=>{u.unref(i).commit("imkit/setState",{actionMenuRoomId:""})}]]):u.createCommentVNode("",!0)],2)])}}}),oye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVR4nO2Zzy4EQRCH2wUHJ3F1IeLIwZ9n4B1wE9u9i6rhXLWLo+DGKwiReAESBw/AGxAnJEhcSFZmiUhmd3uYpvVMfcnvXl9qZnp+M0oJgiAIgvAvKeFav0Y6MECPBrmeJhr4SgNvak09KjxZvksrmhBHPq9UdrpUKOh4sz+U/SJNKhTMNy7j1sL0XFqmARUCJqPsnwfoUQMfLSzVhoshjJ/i9/HzpzjC2LiV9gsmzA+FEjbIdRG24XtDsmGUS7ou9zBmeGgJghAWRNRpkHfil2/fZ6izAN1roO3YLSHckPU94C9FI28lhfO02YQw3RZMmO+aCPNhjjd8kBAuAc3mVjjimYQwAPVq4Bffw7kPvc4j9TU9mgzSae62C3zS8iw2SJg74YihpXBlZW3Q94Cus7haG2op/LHlS99DOgvwRVvZhjDwhvdBHUUDrVuFdVSd9D2oq5SBJqzCSqkOg3Tte9jsoZvYJY2w0sB7ORDeTSX7LkzT/gfOlnJUnUotHP/IdvG71GOe5oi61XcIuUw0LQs2Qi4TTcuCjXDLRJuyYCPEMtG2LNgIsUy0LQs2QiwT1rJgwwCf+ZZIHeAzlZVSVB2PzzXvMvY8mWUaUy7QSzRqkI7/5ZfNxkx0XIbaiBNZQRAEQRDUb/EGC4sae12sFiYAAAAASUVORK5CYII=",lye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO2aS2gTURSG4/sBilZxI1grghtBaF0VxKXgq6uKgiiIpJ17k2bOGUVX/neS4mPhQtSFuhUXxZVEW3HlxlU3uqgKrlTEF/jAR+ujlZvpxFaCySQzmUkyB84mZM78H+e/987cuYlEHHHE0TJxGFicsnIdhpXtikJqLVqT76DCtHsEYUSQmpCspqKUgjEuWQ0bpr2nZlApT68SrO6FDVUxPGGECG3Vw5J6GjaEd2j1uCpo0UCdLZHD3mBNuycComtKT2NasrobtuBaUxDuVASrp/kozsaegRnjABaWBTZMbAhbrF/Zl8H68nY20Rm2UN/SRGf5DlvZrtCF+pSGle2Kgf+NuMMcvjVjS3MLjGHBeG+QvV0SRpseWDDGU6a9Tes7cvzcMsl41dTABuGQq08STjV1hwVh0NWWYrtXMiabFlgwbgKYW+isia2S1VdPzrAaCZgwmkxiqdYkrFy7YLz2WsNoHGC87KPBtcVJitTDauoYDQFM+Jyi7Batpbd3aJ5k3Kq2lhF1YEHqt2TsdbVIVhdrqWcEBSxYffIJOuPqEIRUrfWMIIAF421/JrtJkjrhZcko0d1rfztr7xCkfkYUWB0oCjXR79jSKyxGAMzXNfotbPbLMUZAwB8MRncRmrBfMn5UXgNjmQxW6GuTjNWC8MwP2MCApdOhL9qGbg1B2CkY38peS+qdIGwsbh4yHvgFGyiwdMbghH70c+voh31J+Pgf2O8znDFHEq77CRs4sHTs+Usyjs7aECT1psT/JlOEg0VHsLL9hq0TsCrASMYxt54zg+P57O5CFWFN7Ktldo8AsHIszjjr1hwYwDrJeDL9+5C2cOFejG5t7SBg6w4sncnskvu2029hjWRcdT9g64/Zeg0PCjYUYOnY90YyeWXBzHuk01guGI+ChA0PmAvQeaLzS4ovBIR80LDhAnNhGbqvOytZXa4HbPjAXFirX9QLNhLAss5pxMAlIu4wN7mlZat9EE9ZuY7QhfqUwsq1lwVOpy8smj7ON9XQSep7RYdaCrZmNdz4wMgnKg19qCt0wTWmYdm7El5Cb6y1RHfd0Ac09UHN0MV7TowZJ8+sTFQTRGhrqPFMyFcNOzMkY7c+uxjJ2dvZMbntecxWEnrJ0sf5wj7676bWojVVJD6OOOJINEP8AR99+lKlJ3IWAAAAAElFTkSuQmCC",uye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2aTU4CQRCFm5W6N7jSiEeAgxjkAO6UmQakaw5QPRCXLlzCRVRAEzd6CfUSSoIrTfET40wbZpA4hdSX1LI7703PvCbhKSUIwtpgzMWW18QDL2iVOEwtaBdI07J95rQJK77Bnm/suwb7wWmmmm60Ccuk9VdOG43zHW3sfdamkg/eVQPML2zWN/iSvYnU87yI6dxqnWz8pFO93tqEFddGvsE3H2xfA3Z9YztZzlgD2D5pcpqefNPJoICKmQV88KC9q5hBmkib43CuE21wjLjpSONXjmZnNBq4Fz1p8lCvX27MXUz3rONp9RRztMFBVHctaBfmL2xi0RECXcUc0hjT3cTi3IX0CyZ+wrajmDMJsu+6vaBVmrtQDIOcMEvklQb5ht1IaIGEFksktEBCy42EFkhosURCCyS03EhogYQWSyS0QELLjYQWSGixREILJLTcSGiBhBZLJLRAQsvN2oWWXrc/xGtBuxAvtNi+Yo5v7G1U9+kZ7q9PqQVwlKjUQoy7i47aEm2sOJoF++joal0l3sQL8OiHlttw0pbhUUybNneGzhJdMzxM8+ByVN9bfiXwj8bgIPWrUg0wT0XNzMWnHN/g0wngdmrDX6ZX6KQNDhY2GymIl6m7yLIgDjiigEr7zSaCriy627Ku/s+GtCS+egRBUP+BT4sLtV3SLOLeAAAAAElFTkSuQmCC",cye={key:1,class:"relative h-[34px] w-[34px] flex-shrink-0"},dye={class:"flex w-0 min-w-0 grow flex-col text-left"},fye={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},hye={key:2,width:"20",height:"20",src:lye},pye={key:3,width:"20",height:"20",src:uye},Q8=u.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){Ln.extend(O_);const e=t,n=rn(),r=u.computed(()=>!!n.state.imkit.selectedRoomIdsForCreateFolder[e.source.id]),i=s=>{const a=new Date;n.commit("imkit/updateField",{key:"selectedRoomIdsForCreateFolder",value:{[e.source.id]:s?a:void 0}})};return(s,a)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["group relative flex min-h-11 w-full cursor-pointer items-center gap-3 rounded-md p-1 px-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700 hover:dark:bg-zinc-700":r.value}]),onClick:a[0]||(a[0]=o=>i(!r.value))},[s.source.avatars.length===1?(u.openBlock(),u.createBlock(gr,{key:0,url:s.source.avatars[0].url,name:s.source.avatars[0].name,class:"!h-[34px] !w-[34px] flex-shrink-0 rounded-xl text-base"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",cye,[u.createVNode(gr,{url:s.source.avatars[1].url,name:s.source.avatars[1].name,class:"rounded-10px absolute right-0 top-0 !h-[26px] !w-[26px] text-base"},null,8,["url","name"]),u.createVNode(gr,{url:s.source.avatars[0].url,name:s.source.avatars[0].name,class:u.normalizeClass(["rounded-10px absolute bottom-0 left-0 !h-7 !w-7 border-2 border-white text-xs group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":r.value}])},null,8,["url","name","class"])])),u.createElementVNode("div",dye,[u.createElementVNode("div",fye,u.toDisplayString(s.source.displayName),1)]),r.value?(u.openBlock(),u.createElementBlock("img",hye)):(u.openBlock(),u.createElementBlock("img",pye))],2))}}),mye={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},gye=["placeholder"],bye={class:"flex items-center justify-center gap-2"},vye=["disabled"],K8=u.defineComponent({__name:"UpdateFolderModal",props:{folderId:{}},setup(t){const e=kr(),n=t,r=rn(),i=u.ref(),s=u.ref(""),a=u.computed(()=>i.value?i.value.roomIds.map(d=>r.state.imkit.rooms[d]).concat(r.state.imkit.sortedRooms).sort((d,f)=>{var c,h,p;return((c=d.pref)==null?void 0:c.sticky)===((h=f.pref)==null?void 0:h.sticky)?f.updatedAt-d.updatedAt:(p=d.pref)!=null&&p.sticky?-1:1}):r.state.imkit.sortedRooms),o=u.computed(()=>s.value.length>0&&Object.keys(r.state.imkit.selectedRoomIdsForCreateFolder).length>0),l=()=>{var d;r.dispatch("imkit/updateFolder",{folderKey:((d=i.value)==null?void 0:d.id)||`folder_${Date.now()}`,name:s.value})};return i.value=r.state.imkit.folders[n.folderId],i.value&&(s.value=i.value.name,r.commit("imkit/setState",{selectedRoomIdsForCreateFolder:i.value.roomIds.reduce((d,f)=>(d[f]=!0,d),{})})),(d,f)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",mye,u.toDisplayString(i.value?d.$t("editFolder"):d.$t("createFolder")),1),u.withDirectives(u.createElementVNode("input",{type:"text",class:"grow rounded-md bg-gray-100 p-2 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:d.$t("folderName"),"onUpdate:modelValue":f[0]||(f[0]=c=>s.value=c)},null,8,gye),[[u.vModelText,s.value]]),u.createVNode(u.unref(vh),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":a.value,"data-component":Q8,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},null,8,["data-sources"]),u.createElementVNode("div",bye,[u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:f[1]||(f[1]=()=>{u.unref(e).closeAll()})},u.toDisplayString(d.$t("cancel")),1),u.createElementVNode("button",{class:u.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!o.value}]),disabled:!o.value,onClick:f[2]||(f[2]=()=>{l(),u.unref(e).closeAll()})},u.toDisplayString(d.$t("confirm")),11,vye)])]),_:1}))}}),yye={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},_ye={class:"flex items-center justify-center gap-2"},Tye=u.defineComponent({__name:"DeleteFolderConfirmModal",props:{folder:{}},setup(t){const e=kr(),n=t,r=rn(),i=s=>{r.dispatch("imkit/removeFolder",s)};return(s,a)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 min-w-[200px] max-w-full rounded-xl p-5 flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",yye,u.toDisplayString(s.$t("confirmToDeleteFolder")),1),u.createElementVNode("div",_ye,[u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 w-[100px] grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:a[0]||(a[0]=()=>{u.unref(e).closeAll()})},u.toDisplayString(s.$t("cancel")),1),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 w-[100px] grow rounded-lg bg-blue-400 text-base text-white",onClick:a[1]||(a[1]=()=>{i(n.folder.id),u.unref(e).closeAll()})},u.toDisplayString(s.$t("confirm")),1)])]),_:1}))}}),Eye={key:0,width:"30",height:"30",src:oye},Aye={key:1,width:"30",height:"30",src:G8},xye={class:"flex flex-col overflow-hidden"},Cye=["innerHTML"],wye={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Sye={key:2,class:"ml-auto flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 text-center text-xs font-semibold leading-none text-white"},kye=[u.createElementVNode("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,-1)],Iye=[u.createElementVNode("img",{width:"20",height:"20",src:W8},null,-1)],Dye=u.defineComponent({__name:"FolderCell",props:{source:{}},setup(t){const e=t,n=rn(),r=u.computed(()=>n.state.imkit.searchKeyword.length>0&&n.state.imkit.searchType===ki.RoomPrefFolder?e.source.name.replaceAll(n.state.imkit.searchKeyword,`<span class="text-blue-400">${n.state.imkit.searchKeyword}</span>`):e.source.name),i=u.computed(()=>n.state.imkit.selectedFolderId),s=u.computed(()=>e.source.roomIds.filter(c=>n.state.imkit.selectedRoomId!==c).reduce((c,h)=>{const p=n.state.imkit.rooms[h];return p?c+p.numberOfUnread:c},0)),a=u.computed(()=>n.state.imkit.roomTag),o=u.computed(()=>e.source.roomIds.map(c=>n.state.imkit.rooms[c]).filter(c=>a.value?c&&c.roomTags.includes(a.value):c).length),l=()=>{n.state.imkit.selectedFolderId===e.source.id?n.commit("imkit/setState",{selectedFolderId:""}):n.commit("imkit/setState",{selectedFolderId:e.source.id})},d=()=>{const{open:c}=Xi({component:Tye,attrs:{folder:e.source}});c()},f=()=>{const{open:c}=Xi({component:K8,attrs:{folderId:e.source.id}});c()};return(c,h)=>(u.openBlock(),u.createElementBlock("div",{class:"group relative flex min-h-[66px] cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:l},[i.value===c.source.id?(u.openBlock(),u.createElementBlock("img",Eye)):(u.openBlock(),u.createElementBlock("img",Aye)),u.createElementVNode("div",xye,[u.createElementVNode("div",{class:"text-basse overflow-hidden overflow-ellipsis whitespace-nowrap text-gray-900 dark:text-gray-100",innerHTML:r.value},null,8,Cye),u.createElementVNode("div",wye,u.toDisplayString(o.value?c.$t("numberOfChatroom",o.value):c.$t("no-chatroom")),1)]),s.value>0?(u.openBlock(),u.createElementBlock("div",Sye,u.toDisplayString(s.value),1)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-14 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:u.withModifiers(f,["stop"])},kye),u.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-4 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:u.withModifiers(d,["stop"])},Iye)]))}}),Nye=u.defineComponent({__name:"RoomListWrapperCell",props:{source:{}},setup(t){return(e,n)=>e.source instanceof u.unref(Cd)?(u.openBlock(),u.createBlock(aye,{key:0,source:e.source},null,8,["source"])):(u.openBlock(),u.createBlock(Dye,{key:1,source:e.source},null,8,["source"]))}}),L_=t=>(u.pushScopeId("data-v-4b24a960"),t=t(),u.popScopeId(),t),Mye={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Oye=["placeholder"],Lye={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Rye=L_(()=>u.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:ph},null,-1)),Bye={class:"grow overflow-hidden"},Pye=["placeholder"],Fye={key:0,slot:"header",class:"flex flex-col gap-1"},Uye=[L_(()=>u.createElementVNode("div",{class:"loading h-[34px] w-[34px] rounded-xl"},null,-1)),L_(()=>u.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[u.createElementVNode("div",{class:"loading h-3 w-full rounded-md"}),u.createElementVNode("div",{class:"loading h-3 w-4/5 rounded-md"})],-1))],jye={class:"flex items-center justify-center gap-2"},Hye=["disabled"],zye=On(u.defineComponent({__name:"MassTextingModal",setup(t){const e=kr(),n=rn(),r=u.ref(""),i=u.computed(()=>n.state.imkit.searchKeyword?n.state.imkit.searchRooms[ki.RoomName]||[]:Object.values(n.state.imkit.rooms).sort((p,m)=>{const g=!!n.state.imkit.selectedRoomIdsForCreateFolder[p.id],v=!!n.state.imkit.selectedRoomIdsForCreateFolder[m.id];return g&&!v?-1:!g&&v?1:g&&v?n.state.imkit.selectedRoomIdsForCreateFolder[p.id]-n.state.imkit.selectedRoomIdsForCreateFolder[m.id]:0})),s=u.computed(()=>r.value.length>0),a=u.ref(""),o=u.ref(!1),d=Pf(1e3,async()=>{a.value!==n.state.imkit.searchKeyword&&(a.value?n.dispatch("imkit/searchRooms",a.value):n.commit("imkit/setState",{searchKeyword:""}))}),f=r_(500,d,{atBegin:!1});u.watch(a,f);const c=u.computed(()=>!!n.state.imkit.isRequesting[ws.Search]),h=async()=>{await n.dispatch("imkit/batchSendMessage",{message:r.value,messageType:"text",paras:Object.keys(n.state.imkit.selectedRoomIdsForCreateFolder).map(p=>({room:p}))}),n.commit("imkit/setState",{selectedRoomIdsForCreateFolder:{},searchKeyword:""})};return(p,m)=>(u.openBlock(),u.createBlock(u.unref(_s),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",Mye,u.toDisplayString(p.$t("massTexting")),1),u.withDirectives(u.createElementVNode("textarea",{rows:"3",class:"grow rounded-md bg-gray-100 p-2 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:p.$t("inputMessage"),"onUpdate:modelValue":m[0]||(m[0]=g=>r.value=g)},null,8,Oye),[[u.vModelText,r.value]]),u.createVNode(u.unref(vh),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":i.value,"data-component":Q8,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},{header:u.withCtx(()=>[u.createElementVNode("div",Lye,[Rye,u.createElementVNode("div",Bye,[u.withDirectives(u.createElementVNode("input",{ref:"searchInput",class:"bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[1]||(m[1]=g=>a.value=g),placeholder:p.$t("search"),onCompositionstart:m[2]||(m[2]=g=>o.value=!0),onCompositionend:m[3]||(m[3]=g=>o.value=!1)},null,40,Pye),[[u.vModelText,a.value]])]),a.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:I0,class:"h-5 w-5 cursor-pointer",onClick:m[4]||(m[4]=()=>{u.unref(f).cancel({upcomingOnly:!0}),a.value="",u.unref(d)()})})):u.createCommentVNode("",!0)]),c.value?(u.openBlock(),u.createElementBlock("div",Fye,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(10,g=>u.createElementVNode("div",{key:g,class:"flex gap-3 p-2"},Uye)),64))])):u.createCommentVNode("",!0)]),_:1},8,["data-sources"]),u.createElementVNode("div",jye,[u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:m[5]||(m[5]=()=>{u.unref(e).closeAll()})},u.toDisplayString(p.$t("cancel")),1),u.createElementVNode("button",{class:u.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!s.value}]),disabled:!s.value,onClick:m[6]||(m[6]=()=>{h(),u.unref(e).closeAll()})},u.toDisplayString(p.$t("confirm")),11,Hye)])]),_:1}))}}),[["__scopeId","data-v-4b24a960"]]),Vye={},Wye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 dark:fill-slate-300"},Gye=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M17.005,15.005H7c-2.754,0-4.995,2.241-4.995,4.995v5c0,2.754,2.241,4.995,4.995,4.995h10.005V15.005z"}),u.createElementVNode("path",{d:"M17.837,40.925c-0.271-0.427-0.704-2.805-0.812-8.93h-0.02H7c-0.123,0-0.243-0.012-0.364-0.018c1.13,3.08,2.197,8.651,2.97,12.7c0.157,0.822,0.635,3.323,3.84,3.323h3.335C19.441,47.999,20,46.368,20,45C20,43.223,19.001,42.08,17.837,40.925z"}),u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M39.852,1.999c-1.485,0-2.395,1.359-3.655,3.241c-2.371,3.542-6.314,9.383-17.202,9.727v15.061c11.029,0.298,14.808,6.388,17.316,10.462C37.564,42.528,38.47,44,40.074,44C41.378,44,43,44,43,23C43,1.999,41.029,1.999,39.852,1.999z"}),u.createElementVNode("path",{d:"M44.977,19.289C44.992,20.467,45,21.699,45,23c0,1.691-0.011,3.263-0.031,4.734c1.752-0.6,2.984-2.2,2.984-4.149C47.954,21.604,46.707,19.928,44.977,19.289z"})])],-1)];function Yye(t,e){return u.openBlock(),u.createElementBlock("svg",Wye,Gye)}const Qye=On(Vye,[["render",Yye]]),K0=t=>(u.pushScopeId("data-v-13165148"),t=t(),u.popScopeId(),t),Kye={class:"relative overflow-auto"},Xye={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Zye=K0(()=>u.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:ph},null,-1)),Jye={class:"grow overflow-hidden"},qye=["placeholder"],$ye={key:0,class:"mb-2 flex items-center gap-2 overflow-auto text-sm text-gray-900 dark:text-gray-200"},e_e=["onClick"],t_e={key:1,slot:"header",class:"flex flex-col gap-1"},n_e=[K0(()=>u.createElementVNode("div",{class:"loading h-[50px] w-[50px] rounded-2xl bg-white dark:bg-zinc-800"},null,-1)),K0(()=>u.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[u.createElementVNode("div",{class:"loading h-5 w-full rounded-md bg-white dark:bg-zinc-800"}),u.createElementVNode("div",{class:"loading h-4 w-4/5 rounded-md bg-white dark:bg-zinc-800"})],-1))],r_e={class:"absolute bottom-0 right-0 flex flex-col items-end gap-2 p-3"},i_e={key:0,class:"transform-gpu flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},s_e=[K0(()=>u.createElementVNode("img",{width:"30",height:"30",src:_ve},null,-1))],a_e=On(u.defineComponent({__name:"RoomList",setup(t){const e=rn(),n=u.ref(""),r=kr(),i=u.ref(!1),s=u.ref(),a=u.computed(()=>e.state.imkit.sortedRooms),o=u.computed(()=>e.state.imkit.sortedFolderIds.map(D=>e.state.imkit.folders[D]).filter(D=>D)),l=u.computed(()=>e.state.imkit.folders[e.state.imkit.selectedFolderId]),d=u.computed(()=>e.state.imkit.searchType),f=u.computed(()=>e.state.imkit.searchKeyword?Object.keys(e.state.imkit.searchRooms):[]),c=u.computed(()=>e.state.imkit.roomTag),h=u.computed(()=>e.state.imkit.config.settings),p=u.computed(()=>{if(e.state.imkit.searchKeyword&&r.modals.length===0){if(d.value===ki.RoomPrefFolder&&l.value){const L=[...e.state.imkit.searchRooms[d.value]],z=l.value.roomIds.map(F=>e.state.imkit.rooms[F]).filter(F=>c.value?F&&F.roomTags.includes(c.value):F),U=L.findIndex(F=>F.id===l.value.id);return U>-1&&L.splice(U+1,0,...z),L}return e.state.imkit.searchRooms[d.value]||[]}const D=[...o.value,...a.value];if(l.value){const L=e.getters["imkit/roomsInSelectedFolder"],z=o.value.findIndex(U=>U.id===l.value.id);z>-1&&D.splice(z+1,0,...L)}return D}),m=u.ref(!1),g=u.ref(!1),v=u.computed(()=>r.modals.length===0&&(i.value||m.value||!!e.state.imkit.isRequesting[ws.Search]&&n.value.length>0)),y=()=>{e.dispatch("imkit/fetchRooms")},x=()=>{g.value=!g.value},w=()=>{const{open:D}=Xi({component:K8});D()},I=()=>{const{open:D}=Xi({component:zye});D()},S=Pf(1e3,async()=>{n.value!==e.state.imkit.searchKeyword&&(n.value?e.dispatch("imkit/searchRooms",n.value):(e.commit("imkit/setState",{sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,folders:{},sortedFolderIds:[],roomIdsInFolders:{},searchKeyword:""}),M()))}),B=r_(500,S,{atBegin:!1});u.watch(n,B),u.watch(a,D=>{if(b3.config.settings.autoSelectRoomWhenLoaded&&!e.state.imkit.selectedRoomId&&document.body.clientWidth>640){const L=Object.values(D).find(z=>z.numberOfUnread===0);L&&e.commit("imkit/setState",{selectedRoomId:L.id})}});const M=async()=>{m.value=!0,await e.dispatch("imkit/fetchPrefs"),await e.dispatch("imkit/fetchRooms"),m.value=!1,await e.dispatch("imkit/fetchRoomsInFolders")};return M(),(D,L)=>(u.openBlock(),u.createElementBlock("div",Kye,[u.createVNode(u.unref(vh),{class:"h-full overflow-auto p-2 transition ease-in-out","data-key":"id","data-sources":p.value,"data-component":Nye,"wrap-class":"flex flex-col gap-1.5","estimated-size":66,keeps:60,onTobottom:y},{header:u.withCtx(()=>[u.createElementVNode("div",Xye,[Zye,u.createElementVNode("div",Jye,[u.withDirectives(u.createElementVNode("input",{ref_key:"searchInput",ref:s,class:"w-full bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":L[0]||(L[0]=z=>n.value=z),placeholder:D.$t("search"),onCompositionstart:L[1]||(L[1]=z=>i.value=!0),onCompositionend:L[2]||(L[2]=z=>i.value=!1)},null,40,qye),[[u.vModelText,n.value]])]),n.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:I0,class:"h-5 w-5 cursor-pointer",onClick:L[3]||(L[3]=()=>{u.unref(B).cancel({upcomingOnly:!0}),n.value="",u.unref(S)()})})):u.createCommentVNode("",!0)]),f.value.length>0&&u.unref(r).modals.length===0?(u.openBlock(),u.createElementBlock("div",$ye,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(f.value,z=>(u.openBlock(),u.createElementBlock("div",{key:z,class:u.normalizeClass(["cursor-pointer whitespace-nowrap rounded-lg p-2 hover:bg-gray-100 hover:dark:bg-white hover:dark:text-gray-900",{"bg-gray-100 font-medium text-gray-800":z===d.value}]),onClick:U=>u.unref(e).commit("imkit/setState",{searchType:z})},u.toDisplayString(D.$t(z)),11,e_e))),128))])):u.createCommentVNode("",!0),v.value?(u.openBlock(),u.createElementBlock("div",t_e,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(20,z=>u.createElementVNode("div",{key:z,class:"flex gap-3 p-2"},n_e)),64))])):u.createCommentVNode("",!0)]),_:1},8,["data-sources"]),u.withDirectives((u.openBlock(),u.createElementBlock("div",r_e,[u.createVNode(u.Transition,{name:"slide-fade"},{default:u.withCtx(()=>[g.value?(u.openBlock(),u.createElementBlock("div",i_e,[h.value.massTextingEnabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:I},[u.createVNode(Qye,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(D.$t("massTexting")),1)])):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:w},[u.createVNode(Y8,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(D.$t("createFolder")),1)])])):u.createCommentVNode("",!0)]),_:1}),u.createElementVNode("button",{class:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-slate-500 shadow-md hover:scale-110 hover:transform hover:transition sm:group-hover:flex",onClick:u.withModifiers(x,["stop"])},s_e)])),[[u.unref(Uf),()=>{g.value=!1}]])]))}}),[["__scopeId","data-v-13165148"]]);function X8(t){return t.type.indexOf("mouse")!==-1?t.clientX:t.touches[0].clientX}function Z8(t){return t.type.indexOf("mouse")!==-1?t.clientY:t.touches[0].clientY}var o_e=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}(),l_e={install:function(t,e){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100,namespace:"touch"},e);function r(g){var v=this.$$touchObj,y=g.type.indexOf("touch")>=0,x=g.type.indexOf("mouse")>=0,w=this;y&&(v.lastTouchStartTime=g.timeStamp),!(x&&v.lastTouchStartTime&&g.timeStamp-v.lastTouchStartTime<350)&&(v.touchStarted||(c(this),v.touchStarted=!0,v.touchMoved=!1,v.swipeOutBounded=!1,v.startX=X8(g),v.startY=Z8(g),v.currentX=0,v.currentY=0,v.touchStartTime=g.timeStamp,v.hasSwipe=d(this,"swipe")||d(this,"swipe.left")||d(this,"swipe.right")||d(this,"swipe.top")||d(this,"swipe.bottom"),d(this,"hold")&&(v.touchHoldTimer=setTimeout(function(){v.touchHoldTimer=null,f(g,w,"hold")},v.options.touchHoldTolerance)),f(g,this,"press")))}function i(g){var v=this.$$touchObj,y=X8(g),x=Z8(g),w=v.currentX!=y||v.currentY!=x;if(v.currentX=y,v.currentY=x,v.touchMoved){if(v.hasSwipe&&!v.swipeOutBounded){var k=v.options.swipeTolerance;v.swipeOutBounded=Math.abs(v.startX-v.currentX)>k&&Math.abs(v.startY-v.currentY)>k}}else{var I=v.options.tapTolerance;v.touchMoved=Math.abs(v.startX-v.currentX)>I||Math.abs(v.startY-v.currentY)>I,v.touchMoved&&(p(v),f(g,this,"drag.once"))}if(d(this,"rollover")&&w){var S=g.timeStamp,B=v.options.rollOverFrequency;(v.touchRollTime==null||S>v.touchRollTime+B)&&(v.touchRollTime=S,f(g,this,"rollover"))}if(d(this,"drag")&&v.touchStarted&&v.touchMoved&&w){var S=g.timeStamp,B=v.options.dragFrequency;(v.touchDragTime==null||S>v.touchDragTime+B)&&(v.touchDragTime=S,f(g,this,"drag"))}}function s(){var g=this.$$touchObj;p(g),h(this),g.touchStarted=g.touchMoved=!1,g.startX=g.startY=0}function a(g){var v=this.$$touchObj,y=g.type.indexOf("touch")>=0,x=g.type.indexOf("mouse")>=0;y&&(v.lastTouchEndTime=g.timeStamp);var w=y&&!v.touchHoldTimer;if(p(v),v.touchStarted=!1,h(this),!(x&&v.lastTouchEndTime&&g.timeStamp-v.lastTouchEndTime<350))if(f(g,this,"release"),v.touchMoved){if(v.hasSwipe&&!v.swipeOutBounded){var I=v.options.swipeTolerance,k,S=Math.abs(v.startY-v.currentY),B=Math.abs(v.startX-v.currentX);(S>I||B>I)&&(S>B?k=v.startY>v.currentY?"top":"bottom":k=v.startX>v.currentX?"left":"right",d(this,"swipe."+k)?f(g,this,"swipe."+k,k):f(g,this,"swipe",k))}}else if(d(this,"longtap")&&g.timeStamp-v.touchStartTime>v.options.longTapTimeInterval)g.cancelable&&g.preventDefault(),f(g,this,"longtap");else if(d(this,"hold")&&w){g.cancelable&&g.preventDefault();return}else f(g,this,"tap")}function o(){c(this)}function l(){h(this)}function d(g,v){var y=g.$$touchObj.callbacks[v];return y!=null&&y.length>0}function f(g,v,y,x){var w=v.$$touchObj,I=w.callbacks[y];if(I==null||I.length===0)return null;for(var k=0;k<I.length;k++){var S=I[k];S.modifiers.stop&&g.stopPropagation(),S.modifiers.prevent&&g.preventDefault(),!(S.modifiers.self&&g.target!==g.currentTarget)&&typeof S.value=="function"&&(x?S.value(x,g):S.value(g))}}function c(g){var v=g.$$touchObj.options.touchClass;v&&g.classList.add(v)}function h(g){var v=g.$$touchObj.options.touchClass;v&&g.classList.remove(v)}function p(g){g&&g.touchHoldTimer&&(clearTimeout(g.touchHoldTimer),g.touchHoldTimer=null)}function m(g,v){var y=g.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return v&&(y.options=Object.assign({},y.options,v)),g.$$touchObj=y,g.$$touchObj}t.directive(n.namespace,{beforeMount:function(g,v){var y=m(g),x=o_e?{passive:!0}:!1,w=v.arg||"tap";switch(w){case"swipe":var I=v.modifiers;if(I.left||I.right||I.top||I.bottom){for(var k in v.modifiers)if(["left","right","top","bottom"].indexOf(k)>=0){var S="swipe."+k;y.callbacks[S]=y.callbacks[S]||[],y.callbacks[S].push(v)}}else y.callbacks.swipe=y.callbacks.swipe||[],y.callbacks.swipe.push(v);break;case"press":case"drag":v.modifiers.disablePassive&&(x=!1);default:y.callbacks[w]=y.callbacks[w]||[],y.callbacks[w].push(v)}y.hasBindTouchEvents||(g.addEventListener("touchstart",r,x),g.addEventListener("touchmove",i,x),g.addEventListener("touchcancel",s),g.addEventListener("touchend",a),y.options.disableClick||(g.addEventListener("mousedown",r),g.addEventListener("mousemove",i),g.addEventListener("mouseup",a),g.addEventListener("mouseenter",o),g.addEventListener("mouseleave",l)),y.hasBindTouchEvents=!0)},unmounted:function(g){p(g.$$touchObj),g.removeEventListener("touchstart",r),g.removeEventListener("touchmove",i),g.removeEventListener("touchcancel",s),g.removeEventListener("touchend",a),g.$$touchObj&&!g.$$touchObj.options.disableClick&&(g.removeEventListener("mousedown",r),g.removeEventListener("mousemove",i),g.removeEventListener("mouseup",a),g.removeEventListener("mouseenter",o),g.removeEventListener("mouseleave",l)),delete g.$$touchObj}}),t.directive(`${n.namespace}-class`,{beforeMount:function(g,v){m(g,{touchClass:v.value})}}),t.directive(`${n.namespace}-options`,{beforeMount:function(g,v){m(g,v.value)}})}};function X0(t,e,n){const{url:r}=e,i=r==null?void 0:r.split("?")[0];if(!i)return;const s={};s[i]=t==0?new Date:null,n.commit("imkit/updateField",{key:"isRequesting",value:s})}const u_e=async t=>{localStorage.getItem("imkit-token")&&(localStorage.removeItem("imkit-token"),window.location.reload())};function c_e(t,e){const{domain:n}=t,r=fn.create({baseURL:n});return r.interceptors.request.use(i=>{X0(0,i,e);const s=new c3({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return i.headers=s,i},i=>{const{config:s}=i;return X0(1,s,e),Promise.reject(i)}),r.interceptors.response.use(i=>{const{config:s}=i;return X0(1,s,e),i},async i=>{const{config:s}=i;if(X0(1,s,e),i.response.status===401){await u_e();const a=new c3({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return s.headers=a,fn.request(s)}return Promise.reject(i)}),r}function d_e(t,e){const{domain:n,clientKey:r,token:i}=t,s=dd(n,{forceBase64:!0,transports:["websocket"]});return s.on("connect",()=>{s.emit("auth2",i,{CLIENT_KEY:r,Authorization:i},a=>{console.log(a)})}),s.on("disconnect",a=>{console.log(a)}),s.on("chat message",a=>{e.dispatch("imkit/handleMessageFromSocket",En.fromRaw(a))}),s.on("room",a=>{const o=new Cd(a,e.state.uid);if(!o.id)return;const l={};for(const d of a.members)l[d.id]||(l[d.id]=new La(d));e.dispatch("imkit/handleRoomFromSocket",o),e.commit("imkit/updateField",{key:"users",value:l})}),s.on("lastRead",a=>{const{roomID:o,memberID:l,messageID:d}=a;e.dispatch("imkit/handleLastReadFromSocket",{roomId:o,uid:l,messageId:d})}),s.on("roomPref",a=>{const{room:o,...l}=a;o&&(e.commit("imkit/updateRoom",{id:o,pref:l}),l.sticky!==void 0&&e.dispatch("imkit/aggregateRoomsAndFolders"))}),s.on("myPrefChange",a=>{e.dispatch("imkit/handlePrefChangeFromSocket",a)}),s.on("myPrefDelete",a=>{e.dispatch("imkit/handlePrefDeleteFromSocket",a)}),s.on("typing",a=>{e.dispatch("imkit/handleTypingFromSocket",a)}),s}const J8={"en-US":{close:"Close",confirm:"Confirm",folderName:"Folder Name",createFolder:"Create Folder",tag:"Tag",inputTag:"Input Tag",inputTagPlaceholder:"Input Tag Color #02B13F",download:"Download",someoneUnsentMessage:"{0} unsent a message",read:"Read",pin:"Pin",unpin:"Unpin",emptyChat:"Empty Chat",members:"Members",createdAt:"Created At",updatedAt:"Updated At",leaveGroup:"Leave Group",text:"Text",image:"Image",video:"Video",sticker:"Sticker",message:"Message",youSent:"{0} sent",someoneSent:"{0} sent a {1}",tapOpen:"Tap here to open the link.",TypeMessage:"Type a message...",isTyping:"{0} is typing...",someoneJoinedTheChat:"{0} joined the chat",someoneLeftTheChat:"{0} left the chat",someoneInvited:"{0} invited {1}",someoneKicked:"{0} kicked {1}",youUnsentMessage:"You unsent a message",fileSize:"File size",file:"File",translation:"Translation",search:"Search",location:"Location",sendCurrentLocation:"Send Current Location",noAccessLocationPermission:"No access location permission.","locationInfoUnavailable.":"Location information is unavailable.",requestLocationTimeout:"The request to get location timed out.",addressUnavailable:"The address is unavailable.",audio:"Audio Message",noAccessMicrophonePermission:"No access microphone permission.",removeFromFolder:"Remove from folder",editFolder:"Edit Folder",addToFolder:"Add to Folder",numberOfChatroom:"{n} Chatrooms","no-chatroom":"No chatroom",roomName:"Room Name",roomMember:"Member",roomPrefTags:"Tag",roomPrefFolder:"Folder",roomTags:"Attribute",massTexting:"Mass Texting",inputMessage:"Input Message",searchInConversation:"Search in Conversation",yesterday:"Yesterday",today:"Today",confirmToDeleteFolder:"Confirm Delete Folder",hide:"Hide",delete:"Delete",cancel:"Cancel",create:"Create",save:"Save",createTag:"Create Tag",confirmDeleteTag:"Confirm Delete Tag?",editTag:"Edit Tag",chooseColor:"Choose Color",block:"Block",unblock:"Unblock"},"zh-TW":{close:"關閉",confirm:"確認",folderName:"資料夾名稱",createFolder:"建立資料夾",tag:"標籤",inputTag:"輸入標籤名稱",inputTagPlaceholder:"請輸入自訂色彩例如 #02B13F",download:"下載",someoneUnsentMessage:"{0} 已收回訊息",read:"已讀",pin:"置頂",unpin:"取消置頂",emptyChat:"沒有成員",members:"成員",createdAt:"創建時間",updatedAt:"更新時間",leaveGroup:"退出群組",text:"文字",image:"圖片",video:"影片",sticker:"貼圖",message:"訊息",youSent:"{0}已傳送",someoneSent:"{0}向您傳送了{1}",tapOpen:"點選此處以開啟此連結。",TypeMessage:"輸入訊息...",isTyping:"{0} 正在輸入...",someoneJoinedTheChat:"{0}加入聊天",someoneLeftTheChat:"{0}離開聊天",someoneInvited:"{0}邀請{1}加入",someoneKicked:"{0}將{1}踢出",youUnsentMessage:"您已收回訊息",fileSize:"檔案大小",file:"檔案",translation:"翻譯",search:"搜尋",location:"位置",sendCurrentLocation:"傳送目前位置",noAccessLocationPermission:"無存取位置權限","locationInfoUnavailable.":"無法取得位置資訊",requestLocationTimeout:"請求位置逾時",addressUnavailable:"無法取得地址",audio:"語音訊息",noAccessMicrophonePermission:"無存取麥克風權限",removeFromFolder:"從資料夾中移除",editFolder:"編輯資料夾",addToFolder:"新增至資料夾",numberOfChatroom:"{n} 個聊天室","no-chatroom":"沒有聊天室",roomName:"聊天室名稱",roomMember:"成員",roomPrefTags:"標籤",roomPrefFolder:"資料夾",roomTags:"屬性",massTexting:"群發訊息",inputMessage:"請輸入訊息內容",searchInConversation:"搜尋對話",yesterday:"昨天",today:"今天",confirmToDeleteFolder:"刪除資料夾？",hide:"隱藏",delete:"刪除",cancel:"取消",create:"建立",save:"儲存",createTag:"建立標籤",confirmDeleteTag:"確認刪除標籤?",editTag:"編輯標籤",chooseColor:"選擇顏色",block:"封鎖",unblock:"解封鎖"},"ja-JP":{close:"閉じる",confirm:"確認",folderName:"フォルダ名",createFolder:"フォルダを作成",tag:"タグ",inputTag:"タグを入力",inputTagPlaceholder:"カスタムカラーを入力してください（例：#02B13F）",download:"ダウンロード",someoneUnsentMessage:"{0}がメッセージを取り消しました",read:"既読",pin:"ピン留め",unpin:"ピン留めを解除",emptyChat:"チャットが空です",members:"メンバー",createdAt:"作成日",updatedAt:"更新日",leaveGroup:"グループを退出",text:"テキスト",image:"画像",video:"ビデオ",sticker:"スティッカー",message:"メッセージ",youSent:"{0}が送信しました",someoneSent:"{0}が{1}を送信しました",tapOpen:"リンクを開くにはこちらをタップしてください。",TypeMessage:"メッセージを入力...",isTyping:"{0}が入力中...",someoneJoinedTheChat:"{0}がチャットに参加しました",someoneLeftTheChat:"{0}がチャットを退出しました",someoneInvited:"{0}が{1}を招待しました",someoneKicked:"{0}が{1}をキックしました",youUnsentMessage:"あなたはメッセージを取り消しました",fileSize:"ファイルサイズ",file:"ファイル",translation:"翻訳",search:"検索",location:"位置",sendCurrentLocation:"現在の位置を送信",noAccessLocationPermission:"位置情報のアクセス許可がありません。","locationInfoUnavailable.":"位置情報を取得できません。",requestLocationTimeout:"位置情報のリクエストがタイムアウトしました。",addressUnavailable:"アドレスが利用できません。",audio:"オーディオメッセージ",noAccessMicrophonePermission:"マイクのアクセス許可がありません。",removeFromFolder:"フォルダから削除",editFolder:"フォルダを編集",addToFolder:"フォルダに追加",numberOfChatroom:"{n}のチャットルーム","no-chatroom":"チャットルームがありません",roomName:"チャットルーム名",roomMember:"メンバー",roomPrefTags:"タグ",roomPrefFolder:"フォルダ",roomTags:"属性",massTexting:"一斉送信",inputMessage:"メッセージを入力",searchInConversation:"チャット内を検索",yesterday:"昨日",today:"今日",confirmToDeleteFolder:"フォルダを削除しますか？",hide:"非表示",delete:"削除",cancel:"キャンセル",create:"作成",save:"保存",createTag:"タグを作成",confirmDeleteTag:"タグを削除してよろしいですか？",editTag:"タグを編集",chooseColor:"色を選択",block:"ブロック",unblock:"ブロック解除​"}},f_e=NQ({legacy:!1,locale:navigator.language in J8?navigator.language:"en-US",messages:J8}),h_e={install:async(t,e)=>{console.log("IMKIT version:",W5);const{store:n,config:r}=e;n.hasModule("imkit")||n.registerModule("imkit",Zw);let i="";try{const{id:o,_id:l}=BO(r.token);i=o||l}catch(o){console.log(o)}const s=c_e(r,n),a=d_e(r,n);n.commit("imkit/setState",{config:r,uid:i,axios:s,socket:a}),t.use(YL()),t.use(f_e),t.use(l_e,{disableClick:!1}),t.directive("src",async(o,l)=>{const{value:d,oldValue:f}=l;if(d.startsWith("data:")){o.src=d;return}const{imageCache:c}=n.state.imkit;if(f===void 0||d!==f){if(c.has(d)){o.src=c.get(d);return}try{o.classList.add("opacity-0");const h=await s.get(d,{responseType:"arraybuffer",onDownloadProgress:g=>{const{total:v}=g;v&&n.commit("imkit/updateField",{key:"downloadProgresses",value:{[d]:g.loaded/v}})}}),p=btoa(new Uint8Array(h.data).reduce((g,v)=>g+String.fromCharCode(v),"")),m=`data:${h.headers["content-type"]};base64,${p}`;c.set(d,m),o.src=m}catch{o.src=d}o.classList.remove("opacity-0")}})}};yt.ChatRoom=$be,yt.ChatRoomInfo=yve,yt.ModalsContainer=XL,yt.RoomList=a_e,yt.default=h_e,Object.defineProperties(yt,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
