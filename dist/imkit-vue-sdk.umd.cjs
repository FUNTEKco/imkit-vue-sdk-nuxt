(function(ut,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(ut=typeof globalThis<"u"?globalThis:ut||self,u(ut["IMKIT Vue SDK"]={},ut.Vue))})(this,function(ut,u){"use strict";var Uue=Object.defineProperty;var jue=(ut,u,pr)=>u in ut?Uue(ut,u,{enumerable:!0,configurable:!0,writable:!0,value:pr}):ut[u]=pr;var Pe=(ut,u,pr)=>(jue(ut,typeof u!="symbol"?u+"":u,pr),pr),$D=(ut,u,pr)=>{if(!u.has(ut))throw TypeError("Cannot "+pr)};var Ts=(ut,u,pr)=>($D(ut,u,"read from private field"),pr?pr.call(ut):u.get(ut)),em=(ut,u,pr)=>{if(u.has(ut))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(ut):u.set(ut,pr)},Ho=(ut,u,pr,Es)=>($D(ut,u,"write to private field"),Es?Es.call(ut,pr):u.set(ut,pr),pr);var Gb=(ut,u,pr,Es)=>({set _(tm){Ho(ut,u,tm,pr)},get _(){return Ts(ut,u,Es)}});var co,Aa,xa;var pr=document.createElement("style");pr.textContent=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.static{position:static}.\\!absolute{position:absolute!important}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-1{bottom:-.25rem}.-right-1{right:-.25rem}.-right-2{right:-.5rem}.-top-10{top:-2.5rem}.-top-2{top:-.5rem}.bottom-0{bottom:0}.bottom-16{bottom:4rem}.bottom-2{bottom:.5rem}.bottom-\\[110\\%\\]{bottom:110%}.left-0{left:0}.left-2{left:.5rem}.right-0{right:0}.right-14{right:3.5rem}.right-2{right:.5rem}.right-2\\.5{right:.625rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-2{top:.5rem}.top-\\[calc\\(50\\%_\\+_28px\\)\\]{top:calc(50% + 28px)}.z-10{z-index:10}.col-span-2{grid-column:span 2 / span 2}.row-span-2{grid-row:span 2 / span 2}.-m-2{margin:-.5rem}.m-2{margin:.5rem}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.-mx-3{margin-left:-.75rem;margin-right:-.75rem}.-my-2{margin-top:-.5rem;margin-bottom:-.5rem}.my-0{margin-top:0;margin-bottom:0}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-\\[0\\.0625rem\\]{margin-bottom:.0625rem}.ml-0{margin-left:0}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-0{margin-right:0}.mr-0\\.5{margin-right:.125rem}.mr-1{margin-right:.25rem}.mt-0{margin-top:0}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-\\[0\\.0625rem\\]{margin-top:.0625rem}.block{display:block}.\\!flex{display:flex!important}.grid{display:grid}.contents{display:contents}.hidden{display:none}.\\!h-10{height:2.5rem!important}.\\!h-7{height:1.75rem!important}.\\!h-9{height:2.25rem!important}.\\!h-\\[26px\\]{height:26px!important}.\\!h-\\[30px\\]{height:30px!important}.\\!h-\\[34px\\]{height:34px!important}.\\!h-\\[38px\\]{height:38px!important}.\\!h-\\[50px\\]{height:50px!important}.\\!h-full{height:100%!important}.h-1{height:.25rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[120\\%\\]{height:120%}.h-\\[150px\\]{height:150px}.h-\\[2\\.8rem\\]{height:2.8rem}.h-\\[250px\\]{height:250px}.h-\\[300px\\]{height:300px}.h-\\[34px\\]{height:34px}.h-\\[38px\\]{height:38px}.h-\\[50px\\]{height:50px}.h-\\[50vh\\]{height:50vh}.h-dvh{height:100dvh}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.\\!min-h-0{min-height:0px!important}.\\!min-h-0\\.5{min-height:.125rem!important}.min-h-11{min-height:2.75rem}.min-h-\\[66px\\]{min-height:66px}.\\!w-10{width:2.5rem!important}.\\!w-7{width:1.75rem!important}.\\!w-9{width:2.25rem!important}.\\!w-\\[26px\\]{width:26px!important}.\\!w-\\[30px\\]{width:30px!important}.\\!w-\\[34px\\]{width:34px!important}.\\!w-\\[38px\\]{width:38px!important}.\\!w-\\[50px\\]{width:50px!important}.w-0{width:0px}.w-0\\.5{width:.125rem}.w-1{width:.25rem}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-12{width:3rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-4\\/5{width:80%}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[120px\\]{width:120px}.w-\\[160px\\]{width:160px}.w-\\[2\\.8rem\\]{width:2.8rem}.w-\\[250px\\]{width:250px}.w-\\[260px\\]{width:260px}.w-\\[300px\\]{width:300px}.w-\\[30px\\]{width:30px}.w-\\[34px\\]{width:34px}.w-\\[350px\\]{width:350px}.w-\\[360px\\]{width:360px}.w-\\[386px\\]{width:386px}.w-\\[38px\\]{width:38px}.w-\\[40\\%\\]{width:40%}.w-\\[50px\\]{width:50px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-16{min-width:4rem}.min-w-5{min-width:1.25rem}.min-w-\\[200px\\]{min-width:200px}.min-w-\\[300px\\]{min-width:300px}.min-w-\\[380px\\]{min-width:380px}.max-w-\\[360px\\]{max-width:360px}.max-w-\\[420px\\]{max-width:420px}.max-w-\\[75\\%\\]{max-width:75%}.max-w-full{max-width:100%}.flex-shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.basis-0{flex-basis:0px}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0{gap:0px}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-px{gap:1px}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.\\!rounded-none{border-radius:0!important}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-l-xl{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-xl{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.rounded-tl-xl{border-top-left-radius:.75rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.\\!bg-gray-400{--tw-bg-opacity: 1 !important;background-color:rgb(156 163 175 / var(--tw-bg-opacity))!important}.\\!bg-white{--tw-bg-opacity: 1 !important;background-color:rgb(255 255 255 / var(--tw-bg-opacity))!important}.bg-amber-400{--tw-bg-opacity: 1;background-color:rgb(251 191 36 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-200{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-500{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-opacity-30{--tw-bg-opacity: .3}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-85{--tw-bg-opacity: .85}.bg-opacity-90{--tw-bg-opacity: .9}.fill-blue-300{fill:#93c5fd}.fill-blue-400{fill:#60a5fa}.fill-gray-100{fill:#f3f4f6}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-\\[3px\\]{padding:3px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-0{padding-bottom:0}.pb-0\\.5{padding-bottom:.125rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.\\!text-3xl{font-size:1.875rem!important;line-height:2.25rem!important}.\\!text-lg{font-size:1.125rem!important;line-height:1.75rem!important}.text-\\[150px\\]{font-size:150px}.text-\\[50px\\]{font-size:50px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.leading-none{line-height:1}.text-\\[\\#444444\\]{--tw-text-opacity: 1;color:rgb(68 68 68 / var(--tw-text-opacity))}.text-\\[\\#60A5FA\\]{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-0{opacity:0}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:transform:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-200:disabled{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:flex{display:flex}.group:hover .group-hover\\:border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.dark\\:divide-zinc-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(63 63 70 / var(--tw-divide-opacity))}.dark\\:border-gray-500:is(.dark *){--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}.dark\\:border-zinc-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(39 39 42 / var(--tw-border-opacity))}.dark\\:\\!bg-zinc-800:is(.dark *){--tw-bg-opacity: 1 !important;background-color:rgb(39 39 42 / var(--tw-bg-opacity))!important}.dark\\:bg-slate-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark\\:bg-zinc-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\\:bg-zinc-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.dark\\:bg-zinc-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.dark\\:fill-sky-700:is(.dark *){fill:#0369a1}.dark\\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.dark\\:text-gray-700:is(.dark *){--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.hover\\:dark\\:bg-white:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.hover\\:dark\\:text-gray-900:is(.dark *):hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.group:hover .group-hover\\:dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}@media (min-width: 640px){.sm\\:relative{position:relative}.sm\\:flex{display:flex}.sm\\:\\!hidden{display:none!important}.sm\\:hidden{display:none}.sm\\:h-\\[200px\\]{height:200px}.sm\\:h-\\[350px\\]{height:350px}.sm\\:w-1\\/4{width:25%}.sm\\:w-3\\/4{width:75%}.sm\\:w-\\[300px\\]{width:300px}.sm\\:w-\\[450px\\]{width:450px}.sm\\:min-w-\\[300px\\]{min-width:300px}.sm\\:max-w-\\[60\\%\\]{max-width:60%}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\\:hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.group:hover .sm\\:group-hover\\:flex{display:flex}.sm\\:hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.vfm--fixed{position:fixed}.vfm--absolute{position:absolute}.vfm--inset{top:0;right:0;bottom:0;left:0}.vfm--overlay{z-index:-1;background-color:#00000080}.vfm--prevent-none{pointer-events:none}.vfm--prevent-auto{pointer-events:auto}.vfm--outline-none:focus{outline:none}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.vfm-fade-enter-active{animation:fade-in .3s ease}.vfm-fade-leave-active{animation:fade-out .3s ease}.vfm-bounce-back{transition-property:transform;transition-duration:.3s}.vfm-slide-up-enter-active,.vfm-slide-up-leave-active,.vfm-slide-down-enter-active,.vfm-slide-down-leave-active{transition:transform .3s ease}.vfm-slide-down-enter-from,.vfm-slide-down-leave-to{transform:translateY(100vh)!important}.vfm-slide-up-enter-from,.vfm-slide-up-leave-to{transform:translateY(-100vh)!important}.vfm-slide-right-enter-active,.vfm-slide-right-leave-active,.vfm-slide-left-enter-active,.vfm-slide-left-leave-active{transition:transform .3s ease}.vfm-slide-right-enter-from,.vfm-slide-right-leave-to{transform:translate(100vw)!important}.vfm-slide-left-enter-from,.vfm-slide-left-leave-to{transform:translate(-100vw)!important}.vfm-swipe-banner-back,.vfm-swipe-banner-forward{position:fixed;top:0;bottom:0;width:27px;z-index:10}.vfm-swipe-banner-back{left:0}.vfm-swipe-banner-forward{right:0}.multiline-ellipsis[data-v-678c7e46]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.ellipsis[data-v-678c7e46]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.multiline-ellipsis[data-v-5248b347]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}[data-v-b091599d] .mapdiv>div>div{border-top-left-radius:12px!important;border-top-right-radius:12px!important;overflow:hidden}@keyframes bounce-40e5e96c{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.animate-bounce-1[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .1s}.animate-bounce-2[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .2s}.animate-bounce-3[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .3s}a[data-v-17e76ed6]{color:#42b983}label[data-v-17e76ed6]{margin:0 .5em;font-weight:700}code[data-v-17e76ed6]{background-color:#eee;padding:2px 4px;border-radius:4px;color:#304455}.multiline-ellipsis[data-v-92935fcf]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.v-enter-active[data-v-6a7605c3],.v-leave-active[data-v-6a7605c3]{transition:opacity .2s ease-in-out}.v-enter-from[data-v-6a7605c3],.v-leave-to[data-v-6a7605c3]{opacity:0}[data-v-6a7605c3] .mapdiv>div>div{border-top-left-radius:8px!important;border-top-right-radius:8px!important;overflow:hidden}.volumes[data-v-d7ca8ae1]{display:flex;height:100%;flex-direction:row-reverse;align-items:center;gap:.125rem;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.volumes[data-v-d7ca8ae1]::-webkit-scrollbar{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.flex{display:flex}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}html{transition-duration:.25s;transition-property:background-color;transition-timing-function:ease-in-out}html.dark{color:#e5e7eb;background-color:#22272e}.rotate-enter-active[data-v-dc349f35],.rotate-leave-active[data-v-dc349f35]{transition:all .25s ease-out}.rotate-enter-from[data-v-dc349f35]{opacity:0;transform:rotate(270deg)}.rotate-leave-to[data-v-dc349f35]{opacity:0;transform:rotate(180deg)}[data-v-7c143efd] .v3-body-inner{scrollbar-color:#393d3f rgba(0,0,0,.1);scrollbar-width:thin}[data-v-7c143efd] .v3-body-inner::-webkit-scrollbar{width:8px}[data-v-7c143efd] .v3-body-inner::-webkit-scrollbar-track{background-color:transparent}[data-v-7c143efd] .v3-body-inner::-webkit-scrollbar-thumb{display:none;background:#0000004d;border-radius:5px}[data-v-7c143efd] .v3-body-inner:hover::-webkit-scrollbar-thumb{display:block}[data-v-7c143efd] .v3-emoji-picker{height:320px;width:280px;background:#fff;color:#000;box-shadow:0 2px 10px #0003;border-radius:10px;margin:0 auto;box-sizing:border-box;display:flex;flex-direction:column;text-align:left}[data-v-7c143efd] .v3-emoji-picker *{box-sizing:border-box}[data-v-7c143efd] .v3-emoji-picker .v3-header{padding:15px 15px 13px;border-bottom:1px solid #ddd}[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups{display:flex}[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups .v3-group{flex-grow:1;padding:0;margin:0;border:none;background:none;font-size:24px;cursor:pointer;position:relative;display:block;opacity:.7;transition:.2s}[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups .v3-group:first-child,[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups .v3-group:last-child{flex-grow:0}[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups .v3-group:hover{opacity:1}[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups .v3-group span{display:flex;align-items:center;justify-content:center}[data-v-7c143efd] .v3-emoji-picker .v3-header .v3-groups .v3-group span img{display:block;width:1em;height:auto}[data-v-7c143efd] .v3-emoji-picker .v3-spacing{height:11px}[data-v-7c143efd] .v3-emoji-picker .v3-search input{width:100%;display:block;height:26px;padding:0 10px;border:1px solid #ccc;border-radius:3px;font-size:12px;transition:.2s}[data-v-7c143efd] .v3-emoji-picker .v3-search input:focus{outline:none;border-color:#000}[data-v-7c143efd] .v3-emoji-picker .v3-body{padding:0 0 15px 11px;min-height:0;flex-grow:1}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner{flex-grow:1;min-height:0;overflow-y:auto;overflow-x:hidden;height:100%;padding-right:11px}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5{margin:0;top:0;background:#fff;padding:7px 0 3px 4px}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5.v3-sticky{position:sticky}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis{display:flex;font-size:18px;flex-wrap:wrap}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button{cursor:pointer;border:none;background:none;margin:0;text-align:center;display:flex;align-items:center;justify-content:center;flex-basis:12.5%;max-width:12.5%;flex-grow:1;padding:0;font-size:22px}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button span{display:inline-block;padding-left:1px}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button:hover{background:#f7f7f7}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button img{max-width:100%;padding:4px}[data-v-7c143efd] .v3-emoji-picker .v3-body .v3-body-inner.is-mac .v3-emojis button{font-family:"Apple Color Emoji"}[data-v-7c143efd] .v3-emoji-picker .v3-footer{font-size:14px;border-top:1px solid #dddddd;padding:15px;display:flex;align-items:center;justify-content:space-between;position:relative}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone,[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-foot-left{display:flex;align-items:center}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone img,[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-foot-left img{width:20px;display:block}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone>span:first-child,[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-foot-left>span:first-child{margin-right:6px}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-foot-left>span.v3-text{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone{border:none;padding:0;background:none;cursor:pointer}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone>span{display:inline-flex;vertical-align:top}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone .v3-text{font-size:13px}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone .v3-icon{padding-bottom:3px}[data-v-7c143efd] .v3-emoji-picker .v3-footer .v3-tone .is-mac span{font-family:"Apple Color Emoji"}[data-v-7c143efd] .v3-skin-tones{position:absolute;background:#fff;height:100%;width:60%;top:0;left:0;display:flex;align-items:center;justify-content:flex-end;padding:0 15px;opacity:0;visibility:hidden;transition:.2s;border-radius:0 0 10px 10px}[data-v-7c143efd] .v3-skin-tones.v3-is-open{opacity:1;visibility:visible}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone{display:inline-block;height:15px;width:25px;border:none;padding:0;cursor:pointer;transition:0ms}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone:hover{transform:scale(1.1);transition:.2s}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone-neutral{color:#ffd225;background-color:#ffd225}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone-1f3fb{color:#ffdfbd;background-color:#ffdfbd}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone-1f3fc{color:#e9c197;background-color:#e9c197}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone-1f3fd{color:#c88e62;background-color:#c88e62}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone-1f3fe{color:#a86637;background-color:#a86637}[data-v-7c143efd] .v3-skin-tones .v3-skin-tone-1f3ff{color:#60463a;background-color:#60463a}[data-v-7c143efd] .v3-input-emoji-picker *{box-sizing:border-box}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root{position:relative}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-input,[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{width:100%;height:40px;border:1px solid #999;padding-left:15px}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{min-height:80px;resize:vertical}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea+.v3-input-picker-wrap .v3-input-picker-icon{top:auto;bottom:5px}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon{display:inline-flex;position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:24px;border:none;background:none;padding:0 5px;cursor:pointer}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon img{display:block;width:1em;height:1em}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-emoji-picker{opacity:0;visibility:hidden;transition:.2s}[data-v-7c143efd] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap.v3-picker-is-open .v3-emoji-picker{opacity:1;visibility:visible;z-index:999}.multiline-ellipsis[data-v-7c143efd]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}@keyframes bg-b3099582{0% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 0%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); } 50% { --tw-bg-opacity: 1; background-color: rgb(229 231 235 / var(--tw-bg-opacity)); } 50%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(82 82 91 / var(--tw-bg-opacity)); } 100% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 100%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); }}.loading[data-v-b3099582]{animation:bg-b3099582 2s infinite}@keyframes bg-7a6876fe{0%{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}}@keyframes bg-dark-7a6876fe{0%{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.dark .loading[data-v-7a6876fe]{animation:bg-dark-7a6876fe 2s infinite}.loading[data-v-7a6876fe]{animation:bg-7a6876fe 2s infinite}.slide-fade-enter-from[data-v-7a6876fe]{transform:translateY(20px);opacity:0}.slide-fade-enter-active[data-v-7a6876fe]{transition:all .15s ease-in-out}.slide-fade-enter-to[data-v-7a6876fe],.slide-fade-leave-from[data-v-7a6876fe]{transform:translateY(0);opacity:1}.slide-fade-leave-active[data-v-7a6876fe]{transition:all .15s ease-in-out}.slide-fade-leave-to[data-v-7a6876fe]{transform:translateY(20px);opacity:0}
`,document.head.appendChild(pr),new TextEncoder;const Es=new TextDecoder,tm=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},WD=t=>{let e=t;e instanceof Uint8Array&&(e=Es.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return tm(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class GD extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}class Cs extends GD{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function QD(t){return typeof t=="object"&&t!==null}function YD(t){if(!QD(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const KD=WD;function XD(t){if(typeof t!="string")throw new Cs("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new Cs("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new Cs("Invalid JWT");if(!e)throw new Cs("JWTs must contain a payload");let n;try{n=KD(e)}catch{throw new Cs("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Es.decode(n))}catch{throw new Cs("Failed to parse the decoded payload as JSON")}if(!YD(i))throw new Cs("Invalid JWT Claims Set");return i}function Id(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function Ss(t){return typeof t=="function"?t():u.unref(t)}const rm=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const JD=Object.prototype.toString,Qb=t=>JD.call(t)==="[object Object]",Ba=()=>{},nm=ZD();function ZD(){var t,e;return rm&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const Yb={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function eM(t){return u.getCurrentInstance()}function tM(...t){if(t.length!==1)return u.toRef(...t);const e=t[0];return typeof e=="function"?u.readonly(u.customRef(()=>({get:e,set:Ba}))):u.ref(e)}function rM(t,e){eM()&&u.onUnmounted(t,e)}function im(t){var e;const r=Ss(t);return(e=r==null?void 0:r.$el)!=null?e:r}const nM=rm?window:void 0;function mi(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=nM):[e,r,n,i]=t,!e)return Ba;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[im(e),Ss(i)],([f,c])=>{if(s(),!f)return;const h=Qb(c)?{...c}:c;o.push(...r.flatMap(p=>n.map(m=>a(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return Id(d),d}const iM=500,oM=10;function sM(t,e,r){var n,i;const o=u.computed(()=>im(t));let s,a;function l(){s&&(clearTimeout(s),s=void 0),a=void 0}function d(m){var y,b,v,x;(y=r==null?void 0:r.modifiers)!=null&&y.self&&m.target!==o.value||(l(),(b=r==null?void 0:r.modifiers)!=null&&b.prevent&&m.preventDefault(),(v=r==null?void 0:r.modifiers)!=null&&v.stop&&m.stopPropagation(),a={x:m.x,y:m.y},s=setTimeout(()=>e(m),(x=r==null?void 0:r.delay)!=null?x:iM))}function f(m){var y,b,v,x;if((y=r==null?void 0:r.modifiers)!=null&&y.self&&m.target!==o.value||!a||(r==null?void 0:r.distanceThreshold)===!1)return;(b=r==null?void 0:r.modifiers)!=null&&b.prevent&&m.preventDefault(),(v=r==null?void 0:r.modifiers)!=null&&v.stop&&m.stopPropagation();const S=m.x-a.x,I=m.y-a.y;Math.sqrt(S*S+I*I)>=((x=r==null?void 0:r.distanceThreshold)!=null?x:oM)&&l()}const c={capture:(n=r==null?void 0:r.modifiers)==null?void 0:n.capture,once:(i=r==null?void 0:r.modifiers)==null?void 0:i.once},h=[mi(o,"pointerdown",d,c),mi(o,"pointermove",f,c),mi(o,["pointerup","pointerleave"],l,c)];return()=>h.forEach(m=>m())}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Kb=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Dd=Kb.join(","),Xb=typeof Element>"u",ks=Xb?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Md=!Xb&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Nd=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=i===""||i==="true",s=o||r&&e&&t(e.parentNode);return s},aM=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},Jb=function(e,r,n){if(Nd(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Dd));return r&&ks.call(e,Dd)&&i.unshift(e),i=i.filter(n),i},Zb=function t(e,r,n){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!Nd(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,d=t(l,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else{var f=ks.call(s,Dd);f&&n.filter(s)&&(r||!e.includes(s))&&i.push(s);var c=s.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(s),h=!Nd(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(c&&h){var p=t(c===!0?s.children:c.children,!0,n);n.flatten?i.push.apply(i,p):i.push({scopeParent:s,candidates:p})}else o.unshift.apply(o,s.children)}}return i},ev=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Is=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||aM(e))&&!ev(e)?0:e.tabIndex},lM=function(e,r){var n=Is(e);return n<0&&r&&!ev(e)?0:n},cM=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},tv=function(e){return e.tagName==="INPUT"},uM=function(e){return tv(e)&&e.type==="hidden"},dM=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},fM=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},hM=function(e){if(!e.name)return!0;var r=e.form||Md(e),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=fM(i,e.form);return!o||o===e},pM=function(e){return tv(e)&&e.type==="radio"},mM=function(e){return pM(e)&&!hM(e)},gM=function(e){var r,n=e&&Md(e),i=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&i;){var d,f,c;n=Md(i),i=(d=n)===null||d===void 0?void 0:d.host,o=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return o},rv=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},yM=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=ks.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(ks.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,d=Md(e);if(l&&!l.shadowRoot&&i(l)===!0)return rv(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=a}if(gM(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return rv(e);return!1},bM=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return ks.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},Od=function(e,r){return!(r.disabled||Nd(r)||uM(r)||yM(r,e)||dM(r)||bM(r))},om=function(e,r){return!(mM(r)||Is(r)<0||!Od(e,r))},vM=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},_M=function t(e){var r=[],n=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=lM(a,s),d=s?t(i.candidates):a;l===0?s?r.push.apply(r,d):r.push(a):n.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:d})}),n.sort(cM).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(r)},wM=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Zb([e],r.includeContainer,{filter:om.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:vM}):n=Jb(e,r.includeContainer,om.bind(null,r)),_M(n)},AM=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Zb([e],r.includeContainer,{filter:Od.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=Jb(e,r.includeContainer,Od.bind(null,r)),n},Ra=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return ks.call(e,Dd)===!1?!1:om(r,e)},xM=Kb.concat("iframe").join(","),sm=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return ks.call(e,xM)===!1?!1:Od(r,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function nv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nv(Object(r),!0).forEach(function(n){TM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TM(t,e,r){return e=CM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EM(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CM(t){var e=EM(t,"string");return typeof e=="symbol"?e:String(e)}var ov={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},SM=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},kM=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},xc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},IM=function(e){return xc(e)&&!e.shiftKey},DM=function(e){return xc(e)&&e.shiftKey},sv=function(e){return setTimeout(e,0)},av=function(e,r){var n=-1;return e.every(function(i,o){return r(i)?(n=o,!1):!0}),n},Tc=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Ld=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},MM=[],NM=function(e,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||MM,o=iv({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:IM,isKeyBackward:DM},r),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(U,F,z){return U&&U[F]!==void 0?U[F]:o[z||F]},d=function(U,F){var z=typeof(F==null?void 0:F.composedPath)=="function"?F.composedPath():void 0;return s.containerGroups.findIndex(function(W){var B=W.container,P=W.tabbableNodes;return B.contains(U)||(z==null?void 0:z.includes(B))||P.find(function(re){return re===U})})},f=function(U){var F=o[U];if(typeof F=="function"){for(var z=arguments.length,W=new Array(z>1?z-1:0),B=1;B<z;B++)W[B-1]=arguments[B];F=F.apply(void 0,W)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(U,"` was specified but was not a node, or did not return a node"))}var P=F;if(typeof F=="string"&&(P=n.querySelector(F),!P))throw new Error("`".concat(U,"` as selector refers to no known node"));return P},c=function(){var U=f("initialFocus");if(U===!1)return!1;if(U===void 0||!sm(U,o.tabbableOptions))if(d(n.activeElement)>=0)U=n.activeElement;else{var F=s.tabbableGroups[0],z=F&&F.firstTabbableNode;U=z||f("fallbackFocus")}if(!U)throw new Error("Your focus-trap needs to have at least one focusable element");return U},h=function(){if(s.containerGroups=s.containers.map(function(U){var F=wM(U,o.tabbableOptions),z=AM(U,o.tabbableOptions),W=F.length>0?F[0]:void 0,B=F.length>0?F[F.length-1]:void 0,P=z.find(function(O){return Ra(O)}),re=z.slice().reverse().find(function(O){return Ra(O)}),H=!!F.find(function(O){return Is(O)>0});return{container:U,tabbableNodes:F,focusableNodes:z,posTabIndexesFound:H,firstTabbableNode:W,lastTabbableNode:B,firstDomTabbableNode:P,lastDomTabbableNode:re,nextTabbableNode:function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=F.indexOf(T);return K<0?V?z.slice(z.indexOf(T)+1).find(function(Y){return Ra(Y)}):z.slice(0,z.indexOf(T)).reverse().find(function(Y){return Ra(Y)}):F[K+(V?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(U){return U.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(U){return U.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function $(U){var F=U.activeElement;if(F)return F.shadowRoot&&F.shadowRoot.activeElement!==null?$(F.shadowRoot):F},m=function $(U){if(U!==!1&&U!==p(document)){if(!U||!U.focus){$(c());return}U.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=U,SM(U)&&U.select()}},y=function(U){var F=f("setReturnFocus",U);return F||(F===!1?!1:U)},b=function(U){var F=U.target,z=U.event,W=U.isBackward,B=W===void 0?!1:W;F=F||Ld(z),h();var P=null;if(s.tabbableGroups.length>0){var re=d(F,z),H=re>=0?s.containerGroups[re]:void 0;if(re<0)B?P=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:P=s.tabbableGroups[0].firstTabbableNode;else if(B){var O=av(s.tabbableGroups,function(ue){var J=ue.firstTabbableNode;return F===J});if(O<0&&(H.container===F||sm(F,o.tabbableOptions)&&!Ra(F,o.tabbableOptions)&&!H.nextTabbableNode(F,!1))&&(O=re),O>=0){var T=O===0?s.tabbableGroups.length-1:O-1,V=s.tabbableGroups[T];P=Is(F)>=0?V.lastTabbableNode:V.lastDomTabbableNode}else xc(z)||(P=H.nextTabbableNode(F,!1))}else{var K=av(s.tabbableGroups,function(ue){var J=ue.lastTabbableNode;return F===J});if(K<0&&(H.container===F||sm(F,o.tabbableOptions)&&!Ra(F,o.tabbableOptions)&&!H.nextTabbableNode(F))&&(K=re),K>=0){var Y=K===s.tabbableGroups.length-1?0:K+1,Q=s.tabbableGroups[Y];P=Is(F)>=0?Q.firstTabbableNode:Q.firstDomTabbableNode}else xc(z)||(P=H.nextTabbableNode(F))}}else P=f("fallbackFocus");return P},v=function(U){var F=Ld(U);if(!(d(F,U)>=0)){if(Tc(o.clickOutsideDeactivates,U)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Tc(o.allowOutsideClick,U)||U.preventDefault()}},x=function(U){var F=Ld(U),z=d(F,U)>=0;if(z||F instanceof Document)z&&(s.mostRecentlyFocusedNode=F);else{U.stopImmediatePropagation();var W,B=!0;if(s.mostRecentlyFocusedNode)if(Is(s.mostRecentlyFocusedNode)>0){var P=d(s.mostRecentlyFocusedNode),re=s.containerGroups[P].tabbableNodes;if(re.length>0){var H=re.findIndex(function(O){return O===s.mostRecentlyFocusedNode});H>=0&&(o.isKeyForward(s.recentNavEvent)?H+1<re.length&&(W=re[H+1],B=!1):H-1>=0&&(W=re[H-1],B=!1))}}else s.containerGroups.some(function(O){return O.tabbableNodes.some(function(T){return Is(T)>0})})||(B=!1);else B=!1;B&&(W=b({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),m(W||s.mostRecentlyFocusedNode||c())}s.recentNavEvent=void 0},S=function(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=U;var z=b({event:U,isBackward:F});z&&(xc(U)&&U.preventDefault(),m(z))},I=function(U){if(kM(U)&&Tc(o.escapeDeactivates,U)!==!1){U.preventDefault(),a.deactivate();return}(o.isKeyForward(U)||o.isKeyBackward(U))&&S(U,o.isKeyBackward(U))},M=function(U){var F=Ld(U);d(F,U)>=0||Tc(o.clickOutsideDeactivates,U)||Tc(o.allowOutsideClick,U)||(U.preventDefault(),U.stopImmediatePropagation())},E=function(){if(s.active)return ov.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?sv(function(){m(c())}):m(c()),n.addEventListener("focusin",x,!0),n.addEventListener("mousedown",v,{capture:!0,passive:!1}),n.addEventListener("touchstart",v,{capture:!0,passive:!1}),n.addEventListener("click",M,{capture:!0,passive:!1}),n.addEventListener("keydown",I,{capture:!0,passive:!1}),a},L=function(){if(s.active)return n.removeEventListener("focusin",x,!0),n.removeEventListener("mousedown",v,!0),n.removeEventListener("touchstart",v,!0),n.removeEventListener("click",M,!0),n.removeEventListener("keydown",I,!0),a},D=function(U){var F=U.some(function(z){var W=Array.from(z.removedNodes);return W.some(function(B){return B===s.mostRecentlyFocusedNode})});F&&m(c())},C=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,R=function(){C&&(C.disconnect(),s.active&&!s.paused&&s.containers.map(function(U){C.observe(U,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(U){if(s.active)return this;var F=l(U,"onActivate"),z=l(U,"onPostActivate"),W=l(U,"checkCanFocusTrap");W||h(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=n.activeElement,F==null||F();var B=function(){W&&h(),E(),R(),z==null||z()};return W?(W(s.containers.concat()).then(B,B),this):(B(),this)},deactivate:function(U){if(!s.active)return this;var F=iv({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},U);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,L(),s.active=!1,s.paused=!1,R(),ov.deactivateTrap(i,a);var z=l(F,"onDeactivate"),W=l(F,"onPostDeactivate"),B=l(F,"checkCanReturnFocus"),P=l(F,"returnFocus","returnFocusOnDeactivate");z==null||z();var re=function(){sv(function(){P&&m(y(s.nodeFocusedBeforeActivation)),W==null||W()})};return P&&B?(B(y(s.nodeFocusedBeforeActivation)).then(re,re),this):(re(),this)},pause:function(U){if(s.paused||!s.active)return this;var F=l(U,"onPause"),z=l(U,"onPostPause");return s.paused=!0,F==null||F(),L(),R(),z==null||z(),this},unpause:function(U){if(!s.paused||!s.active)return this;var F=l(U,"onUnpause"),z=l(U,"onPostUnpause");return s.paused=!1,F==null||F(),h(),E(),R(),z==null||z(),this},updateContainerElements:function(U){var F=[].concat(U).filter(Boolean);return s.containers=F.map(function(z){return typeof z=="string"?n.querySelector(z):z}),s.active&&h(),R(),this}},a.updateContainerElements(e),a};function OM(t,e={}){let r;const{immediate:n,...i}=e,o=u.ref(!1),s=u.ref(!1),a=c=>r&&r.activate(c),l=c=>r&&r.deactivate(c),d=()=>{r&&(r.pause(),s.value=!0)},f=()=>{r&&(r.unpause(),s.value=!1)};return u.watch(()=>im(t),c=>{c&&(r=NM(c,{...i,onActivate(){o.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){o.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&a())},{flush:"post"}),Id(()=>l()),{hasFocus:o,isPaused:s,activate:a,deactivate:l,pause:d,unpause:f}}const LM=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Ec=()=>{};function Bd(t,e,r){return t>r?r:t<e?e:t}const am=t=>typeof t=="string";function lm(t,e){var r;const n=((r=Cc(t,e))==null?void 0:r[0])||e;t.push(n)}function Cc(t,e){const r=t.indexOf(e);if(r!==-1)return t.splice(r,1)}function lv(t){return Object.entries(t)}const BM={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function cv(t=!1){const e=u.ref(t),r=u.ref(e.value?0:void 0);return[e,r,{beforeEnter(){r.value=1},afterEnter(){r.value=0},beforeLeave(){r.value=3},afterLeave(){r.value=2}}]}function RM(t,e){const{modelValueLocal:r,onEntering:n,onEnter:i,onLeaving:o,onLeave:s}=e,a=u.ref(r.value),[l,d,f]=cv(a.value),[c,h,p]=cv(a.value),m=u.computed(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),y=u.computed(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),b=u.computed(()=>(t.hideOverlay||h.value===2)&&d.value===2);u.watch(b,S=>{S&&(a.value=!1)}),u.watch(d,S=>{if(S===1){if(!a.value)return;n==null||n()}else if(S===0){if(!a.value)return;i==null||i()}else S===3?o==null||o():S===2&&(s==null||s())});async function v(){a.value=!0,await u.nextTick(),l.value=!0,c.value=!0}function x(){l.value=!1,c.value=!1}return{visible:a,contentVisible:l,contentListeners:f,contentTransition:m,overlayVisible:c,overlayListeners:p,overlayTransition:y,enterTransition:v,leaveTransition:x}}function PM(t,e,r){const{vfmRootEl:n,vfmContentEl:i,visible:o,modelValueLocal:s}=r,a=u.ref();function l(){o.value&&t.escToClose&&(s.value=!1)}function d(c){a.value=c==null?void 0:c.target}function f(){var c;a.value===n.value&&(t.clickToClose?s.value=!1:((c=i.value)==null||c.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:f,onMousedown:d}}function FM(t,e,r){let n=!1;const{open:i,close:o}=r,s=u.ref(!1),a={get value(){return s.value},set value(d){l(d)}};function l(d){(d?i():o())?(s.value=d,d!==t.modelValue&&e("update:modelValue",d)):(n=!0,e("update:modelValue",!d),u.nextTick(()=>{n=!1}))}return u.watch(()=>t.modelValue,d=>{n||(a.value=!!d)}),{modelValueLocal:a}}function UM(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:r}=e,{hasFocus:n,activate:i,deactivate:o}=OM(r,t.focusTrap);function s(){requestAnimationFrame(()=>{i()})}function a(){n.value&&o()}return{focus:s,blur:a}}let cm=!1;if(typeof window<"u"){const t={get passive(){cm=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const uv=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let qo=[],Rd=!1,Pd=0,dv=-1,Sc,kc;const jM=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},zM=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),$M=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},VM=(t,e)=>{let r=!1;return $M(t).forEach(n=>{jM(n)&&zM(n,e)&&(r=!0)}),r},fv=t=>qo.some(()=>VM(t,-Pd)),um=t=>{const e=t||window.event;return fv(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},HM=t=>{if(kc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(e&&r>0){const n=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);kc=document.body.style.paddingRight,document.body.style.paddingRight=`${n+r}px`}}Sc===void 0&&(Sc=document.body.style.overflow,document.body.style.overflow="hidden")},qM=()=>{kc!==void 0&&(document.body.style.paddingRight=kc,kc=void 0),Sc!==void 0&&(document.body.style.overflow=Sc,Sc=void 0)},WM=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,GM=(t,e)=>(Pd=t.targetTouches[0].clientY-dv,fv(t.target)?!1:e&&e.scrollTop===0&&Pd>0||WM(e)&&Pd<0?um(t):(t.stopPropagation(),!0)),QM=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(qo.some(n=>n.targetElement===t))return;const r={targetElement:t,options:e||{}};qo=[...qo,r],uv?(t.ontouchstart=n=>{n.targetTouches.length===1&&(dv=n.targetTouches[0].clientY)},t.ontouchmove=n=>{n.targetTouches.length===1&&GM(n,t)},Rd||(document.addEventListener("touchmove",um,cm?{passive:!1}:void 0),Rd=!0)):HM(e)},YM=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}qo=qo.filter(e=>e.targetElement!==t),uv?(t.ontouchstart=null,t.ontouchmove=null,Rd&&qo.length===0&&(document.removeEventListener("touchmove",um,cm?{passive:!1}:void 0),Rd=!1)):qo.length||qM()};function KM(t,e){const{lockScrollEl:r,modelValueLocal:n}=e;let i;u.watch(r,a=>{a&&(i=a)},{immediate:!0}),u.watch(()=>t.lockScroll,a=>{a?s():o()}),u.onBeforeUnmount(()=>{o()});function o(){i&&YM(i)}function s(){n.value&&t.lockScroll&&i&&QM(i,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:o,disableBodyScroll:s}}function XM(t){const e=u.ref();function r(i){var o;e.value=(o=t.zIndexFn)==null?void 0:o.call(t,{index:i<=-1?0:i})}function n(){e.value=void 0}return{zIndex:e,refreshZIndex:r,resetZIndex:n}}const dm={beforeMount(t,{value:e},{transition:r}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,r&&e?r.beforeEnter(t):Ic(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ic(t,!0),n.enter(t)):n.leave(t,()=>{Ic(t,!1)}):Ic(t,e))},beforeUnmount(t,{value:e}){Ic(t,e)}};function Ic(t,e){t.style.visibility=e?t._vov:"hidden"}const hv=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:r}=t;return{x:e,y:r}}else{const{clientX:e,clientY:r}=t.targetTouches[0];return{x:e,y:r}}};function JM(t){if(!t)return!1;let e=!1;const r={get passive(){return e=!0,!1}};return t.addEventListener("x",Ec,r),t.removeEventListener("x",Ec),e}function ZM(t,{threshold:e=0,onSwipeStart:r,onSwipe:n,onSwipeEnd:i,passive:o=!0}){const s=u.reactive({x:0,y:0}),a=u.reactive({x:0,y:0}),l=u.computed(()=>s.x-a.x),d=u.computed(()=>s.y-a.y),{max:f,abs:c}=Math,h=u.computed(()=>f(c(l.value),c(d.value))>=e),p=u.ref(!1),m=u.computed(()=>h.value?c(l.value)>c(d.value)?l.value>0?"left":"right":d.value>0?"up":"down":"none"),y=(L,D)=>{s.x=L,s.y=D},b=(L,D)=>{a.x=L,a.y=D};let v,x;function S(L){v.capture&&!v.passive&&L.preventDefault();const{x:D,y:C}=hv(L);y(D,C),b(D,C),r==null||r(L),x=[mi(t,"mousemove",I,v),mi(t,"touchmove",I,v),mi(t,"mouseup",M,v),mi(t,"touchend",M,v),mi(t,"touchcancel",M,v)]}function I(L){const{x:D,y:C}=hv(L);b(D,C),!p.value&&h.value&&(p.value=!0),p.value&&(n==null||n(L))}function M(L){p.value&&(i==null||i(L,m.value)),p.value=!1,x.forEach(D=>D())}let E=[];return u.onMounted(()=>{const L=JM(window==null?void 0:window.document);o?v=L?{passive:!0}:{capture:!1}:v=L?{passive:!1,capture:!0}:{capture:!0},E=[mi(t,"mousedown",S,v),mi(t,"touchstart",S,v)]}),{isSwiping:p,direction:m,coordsStart:s,coordsEnd:a,lengthX:l,lengthY:d,stop:()=>{E.forEach(L=>L()),x.forEach(L=>L())}}}function eN(t,e){const{vfmContentEl:r,modelValueLocal:n}=e,i=.1,o=300,s=u.ref(),a=u.computed(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?s.value:r.value}),l=u.ref(0),d=u.ref(!0);let f=Ec,c=!0,h,p=!1;const{lengthX:m,lengthY:y,direction:b,isSwiping:v}=ZM(a,{threshold:t.threshold,onSwipeStart(M){f=mi(document,"selectionchange",()=>{var E;d.value=(E=window.getSelection())==null?void 0:E.isCollapsed}),h=new Date().getTime(),p=I(M==null?void 0:M.target)},onSwipe(){var M,E,L,D;if(p&&d.value&&b.value===t.swipeToClose){if(b.value==="up"){const C=Bd(Math.abs(y.value||0),0,((M=a.value)==null?void 0:M.offsetHeight)||0)-(t.threshold||0);l.value=C}else if(b.value==="down"){const C=Bd(Math.abs(y.value||0),0,((E=a.value)==null?void 0:E.offsetHeight)||0)-(t.threshold||0);l.value=-C}else if(b.value==="right"){const C=Bd(Math.abs(m.value||0),0,((L=a.value)==null?void 0:L.offsetWidth)||0)-(t.threshold||0);l.value=-C}else if(b.value==="left"){const C=Bd(Math.abs(m.value||0),0,((D=a.value)==null?void 0:D.offsetWidth)||0)-(t.threshold||0);l.value=C}}},onSwipeEnd(M,E){if(f(),!d.value){d.value=!0;return}const L=new Date().getTime(),D=E===t.swipeToClose,C=(()=>{var $,U;if(E==="up"||E==="down")return Math.abs((y==null?void 0:y.value)||0)>i*((($=a.value)==null?void 0:$.offsetHeight)||0);if(E==="left"||E==="right")return Math.abs((m==null?void 0:m.value)||0)>i*(((U=a.value)==null?void 0:U.offsetWidth)||0)})(),R=L-h<=o;if(c&&p&&D&&(C||R)){n.value=!1;return}l.value=0}}),x=u.computed(()=>{if(t.swipeToClose==="none")return;const M=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!v.value},style:{transform:`${M}(${-l.value}px)`}}});u.watch(()=>d.value,M=>{M||(l.value=0)}),u.watch(()=>n.value,M=>{M&&(l.value=0)}),u.watch(()=>l.value,(M,E)=>{switch(t.swipeToClose){case"down":case"right":c=M<E;break;case"up":case"left":c=M>E;break}});function S(M){t.preventNavigationGestures&&M.preventDefault()}function I(M){const E=M==null?void 0:M.tagName;if(!E||["INPUT","TEXTAREA"].includes(E))return!1;const L=(()=>{switch(t.swipeToClose){case"up":return(M==null?void 0:M.scrollTop)+(M==null?void 0:M.clientHeight)===(M==null?void 0:M.scrollHeight);case"left":return(M==null?void 0:M.scrollLeft)+(M==null?void 0:M.clientWidth)===(M==null?void 0:M.scrollWidth);case"down":return(M==null?void 0:M.scrollTop)===0;case"right":return(M==null?void 0:M.scrollLeft)===0;default:return!1}})();return M===a.value?L:L&&I(M==null?void 0:M.parentElement)}return{vfmContentEl:r,swipeBannerEl:s,bindSwipe:x,onTouchStartSwipeBanner:S}}const pv=Symbol("vfm");let Ds;const tN=t=>Ds=t,rN={install:Ec,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:u.ref([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},nN=()=>u.getCurrentInstance()&&u.inject(pv,rN)||Ds;function iN(){const t=u.shallowReactive([]),e=u.shallowReactive([]),r=u.shallowReactive([]),n=u.shallowReactive([]),i=u.ref([]),o=u.markRaw({install(s){s.provide(pv,o),s.config.globalProperties.$vfm=o},modals:t,openedModals:e,openedModalOverlays:r,dynamicModals:n,modalsContainers:i,get(s){return t.find(a=>{var l,d;return((d=(l=Dc(a))==null?void 0:l.value.modalId)==null?void 0:d.value)===s})},toggle(s,a){var l;const d=o.get(s);return(l=Dc(d))==null?void 0:l.value.toggle(a)},open(s){return o.toggle(s,!0)},close(s){return o.toggle(s,!1)},closeAll(){return Promise.allSettled(e.reduce((s,a)=>{const l=Dc(a),d=l==null?void 0:l.value.toggle(!1);return d&&s.push(d),s},[]))}});return tN(o),o}function Dc(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const oN=u.defineComponent({inheritAttrs:!1}),yo=u.defineComponent({...oN,__name:"VueFinalModal",props:BM,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:r}){const n=t,i=r,o=u.useAttrs(),s=u.getCurrentInstance(),{modals:a,openedModals:l,openedModalOverlays:d}=hn(),f=u.ref(),c=u.ref(),{focus:h,blur:p}=UM(n,{focusEl:f}),{zIndex:m,refreshZIndex:y,resetZIndex:b}=XM(n),{modelValueLocal:v}=FM(n,i,{open:T,close:V}),{enableBodyScroll:x,disableBodyScroll:S}=KM(n,{lockScrollEl:f,modelValueLocal:v});let I=Ec;const{visible:M,contentVisible:E,contentListeners:L,contentTransition:D,overlayVisible:C,overlayListeners:R,overlayTransition:$,enterTransition:U,leaveTransition:F}=RM(n,{modelValueLocal:v,onEntering(){u.nextTick(()=>{S(),h()})},onEnter(){i("opened"),I("opened")},onLeave(){Cc(l,s),b(),x(),i("closed"),I("closed")}}),{onEsc:z,onMouseupRoot:W,onMousedown:B}=PM(n,i,{vfmRootEl:f,vfmContentEl:c,visible:M,modelValueLocal:v}),{swipeBannerEl:P,bindSwipe:re,onTouchStartSwipeBanner:H}=eN(n,{vfmContentEl:c,modelValueLocal:v}),O=u.computed(()=>s?l.indexOf(s):-1);u.watch([()=>n.zIndexFn,O],()=>{M.value&&y(O.value)}),u.onMounted(()=>{lm(a,s)}),n.modelValue&&(v.value=!0);function T(){let se=!1;return i("beforeOpen",{stop:()=>se=!0}),se?!1:(lm(l,s),lm(d,s),Y(),U(),!0)}function V(){let se=!1;return i("beforeClose",{stop:()=>se=!0}),se?!1:(Cc(d,s),Y(),p(),F(),!0)}function K(){v.value=!1}u.onBeforeUnmount(()=>{x(),Cc(a,s),Cc(l,s),p(),Y()});async function Y(){await u.nextTick();const se=d.filter(le=>{var ge;const we=Dc(le);return(we==null?void 0:we.value.overlayBehavior.value)==="auto"&&!((ge=we==null?void 0:we.value.hideOverlay)!=null&&ge.value)});se.forEach((le,ge)=>{const we=Dc(le);we!=null&&we.value&&(we.value.overlayVisible.value=ge===se.length-1)})}const Q=u.toRef(()=>n.modalId),ue=u.toRef(()=>n.hideOverlay),J=u.toRef(()=>n.overlayBehavior),oe=u.computed(()=>({modalId:Q,hideOverlay:ue,overlayBehavior:J,overlayVisible:C,toggle(se){return new Promise(le=>{I=LM(we=>le(we));const ge=typeof se=="boolean"?se:!v.value;v.value=ge})}}));return e({modalExposed:oe}),(se,le)=>(u.openBlock(),u.createBlock(u.Teleport,{to:se.teleportTo?se.teleportTo:void 0,disabled:!se.teleportTo},[se.displayDirective!=="if"||u.unref(M)?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0},u.unref(o),{ref_key:"vfmRootEl",ref:f,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":se.background==="interactive"}],style:{zIndex:u.unref(m)},role:"dialog","aria-modal":"true",onKeydown:le[7]||(le[7]=u.withKeys(()=>u.unref(z)(),["esc"])),onMouseup:le[8]||(le[8]=u.withModifiers(()=>u.unref(W)(),["self"])),onMousedown:le[9]||(le[9]=u.withModifiers(ge=>u.unref(B)(ge),["self"]))}),[ue.value?u.createCommentVNode("",!0):(u.openBlock(),u.createBlock(u.Transition,u.mergeProps({key:0},u.unref($),u.toHandlers(u.unref(R))),{default:u.withCtx(()=>[se.displayDirective!=="if"||u.unref(C)?u.withDirectives((u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",se.overlayClass]),style:u.normalizeStyle(se.overlayStyle),"aria-hidden":"true"},null,6)),[[u.vShow,se.displayDirective!=="show"||u.unref(C)],[u.unref(dm),se.displayDirective!=="visible"||u.unref(C)]]):u.createCommentVNode("",!0)]),_:1},16)),u.createVNode(u.Transition,u.mergeProps(u.unref(D),u.toHandlers(u.unref(L))),{default:u.withCtx(()=>[se.displayDirective!=="if"||u.unref(E)?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0,ref_key:"vfmContentEl",ref:c,class:["vfm__content vfm--outline-none",[se.contentClass,{"vfm--prevent-auto":se.background==="interactive"}]],style:se.contentStyle,tabindex:"0"},u.unref(re),{onMousedown:le[6]||(le[6]=()=>u.unref(B)())}),[u.renderSlot(se.$slots,"default",u.normalizeProps(u.guardReactiveProps({close:K}))),se.showSwipeBanner?(u.openBlock(),u.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:P,class:"vfm-swipe-banner-container",onTouchstart:le[2]||(le[2]=ge=>u.unref(H)(ge))},[u.renderSlot(se.$slots,"swipe-banner",{},()=>[u.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:le[0]||(le[0]=ge=>se.swipeToClose==="left"&&ge.preventDefault())},null,32),u.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:le[1]||(le[1]=ge=>se.swipeToClose==="right"&&ge.preventDefault())},null,32)])],544)):!se.showSwipeBanner&&se.preventNavigationGestures?(u.openBlock(),u.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:le[5]||(le[5]=ge=>u.unref(H)(ge))},[u.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:le[3]||(le[3]=ge=>se.swipeToClose==="left"&&ge.preventDefault())},null,32),u.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:le[4]||(le[4]=ge=>se.swipeToClose==="right"&&ge.preventDefault())},null,32)],32)):u.createCommentVNode("",!0)],16)),[[u.vShow,se.displayDirective!=="show"||u.unref(E)],[u.unref(dm),se.displayDirective!=="visible"||u.unref(E)]]):u.createCommentVNode("",!0)]),_:3},16)],16)),[[u.vShow,se.displayDirective!=="show"||u.unref(M)],[u.unref(dm),se.displayDirective!=="visible"||u.unref(M)]]):u.createCommentVNode("",!0)],8,["to","disabled"]))}});function hn(){const t=nN();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function mv(t,e=yo){const{component:r,slots:n,...i}=t,o=typeof n>"u"?{}:Object.fromEntries(lv(n).map(([s,a])=>am(a)?[s,a]:Fd(a)?[s,{...a,component:u.markRaw(a.component)}]:[s,u.markRaw(a)]));return{...i,component:u.markRaw(r||e),slots:o}}function bo(t){const e=u.reactive({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...mv(t)});rM(()=>{e!=null&&e.keepAlive||a()}),e.modelValue===!0&&(Ds?Ds==null||Ds.dynamicModals.push(e):u.nextTick(()=>{const l=hn();l==null||l.dynamicModals.push(e)}));async function r(){let l;return Ds?l=Ds:(await u.nextTick(),l=hn()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(a(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(d=>{e.resolveOpened=()=>d("opened")}))}function n(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function i(l){const{slots:d,...f}=mv(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),o(e,f),d&&lv(d).forEach(([c,h])=>{const p=e.slots[c];am(p)?e.slots[c]=h:Fd(p)&&Fd(h)?o(p,h):e.slots[c]=h})}function o(l,d){d.component&&(l.component=d.component),d.attrs&&s(l.attrs,d.attrs)}function s(l,d){return Object.entries(d).forEach(([f,c])=>{l[f]=c}),l}function a(){const l=hn(),d=l.dynamicModals.indexOf(e);d!==-1&&l.dynamicModals.splice(d,1)}return{options:e,open:r,close:n,patchOptions:i,destroy:a}}function Fd(t){return typeof t=="object"&&t!==null?"component"in t:!1}const sN=["innerHTML"],aN=u.defineComponent({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:r}=hn(),n=Symbol("ModalsContainer"),i=u.computed(()=>{var a;return n===((a=e.value)==null?void 0:a[0])});e.value.push(n),u.onBeforeUnmount(()=>{e.value=e.value.filter(a=>a!==n)});function o(a){var l,d,f;(d=(l=r[a])==null?void 0:l.resolveClosed)==null||d.call(l),(f=r[a])!=null&&f.keepAlive||r.splice(a,1)}function s(a){var l,d;(d=(l=r[a])==null?void 0:l.resolveOpened)==null||d.call(l)}return(a,l)=>i.value?(u.openBlock(!0),u.createElementBlock(u.Fragment,{key:0},u.renderList(u.unref(r),(d,f)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(d.component),u.mergeProps({key:d.id},{displayDirective:d!=null&&d.keepAlive?"show":void 0,...typeof d.attrs=="object"?d.attrs:{}},{modelValue:d.modelValue,"onUpdate:modelValue":c=>d.modelValue=c,onClosed:()=>o(f),onOpened:()=>s(f)}),u.createSlots({_:2},[u.renderList(d.slots,(c,h)=>({name:h,fn:u.withCtx(()=>[u.unref(am)(c)?(u.openBlock(),u.createElementBlock("div",{key:0,innerHTML:c},null,8,sN)):u.unref(Fd)(c)?(u.openBlock(),u.createBlock(u.resolveDynamicComponent(c.component),u.normalizeProps(u.mergeProps({key:1},c.attrs)),null,16)):(u.openBlock(),u.createBlock(u.resolveDynamicComponent(c),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):u.createCommentVNode("",!0)}}),lN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVR4nO3aP0oEMRSA8SfiFl7CPu1AgpV51ovmLeQK9v45gF7Aq6jXEO/gegy1WBlhQZHNvEJQNt8P0kw1fMyEhEQEAAAAAAAAALCtaq27Ue0qqT19jry4HJ/99Xv9C6HWWVK7T2qrbyOXW+ldqHUWc3n4EUdtFdXeh/l8X3oVGnHW41AXB9Kj4IgT1Z5FZEd6ExxxUi6vUe1YOp2Q7ybjHJ0W6U0gzmbEaSBOA3EaiNNAnAbiNAzD2Z5nEZjUTqRHSe2GOA0plxdWyA0xl+XmL6i8dbmF+CqpXfOLNTBJOyNN7th7/90GIk0jkgORHIjkQCQHIjkQyYFjn986OMxl2eXB4RpHzw5cXnDg+ovDeFkq5XKRcnkcR1Q75wIVAAAAAAAAAMg2+AByUSBd2KYVoQAAAABJRU5ErkJggg==",Ud="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAExElEQVR4nO2bS4hcRRSGa4yOGkUMKKKiID6yUbIRH7iI7hSiQWV0IwYXtn2rbj9OtaMBF/+5PTPEGNQZIQufCxUkAQVFRIwustfBx8ZkY1ATVCRO8DE+xiinOyNOcuvenqT71u2Z+uBup/7+63XqnDNKBQKBQCAQCAQCPqjVpi6MbTKmCc9py3uM5a8M4bCxOGos/6otftCEWW35DU08bpq4fmxs9xq1kgEwGhMeEEM08d/G8j/L+3BIE+8wFteolQSA041lYwhfL9+UE79j5u6qNtrr1bCjW8mNhvizfhiTYtQfhniqVps5Uw0hI8Zyo/MjBmDOEqMsf6IJV6lhYWxs9xpD/PKgjVnyEQ7HzeQWVXYqlefP0MRv97hFvjGWd8aW7zfUvi7aum2drLxKBWvNOC6JKLlNbjBN+MBYLOT/PfwSUbJRlZgRQ3g1f7Z5b9xK7gBwWq9/uNKcvFjOG0OYy1lJczG1N6gyEls8ln1W4LuohXtOZYx6feoiiY1yTDpwbDWW7Lay+DNj+c9GduKyfo1nLGzWttMWb6kyxTna4tOMGX231dpxTr/H1YTbDfG8e9zkblUGIoLOWjmDMGcRicyztppE78onAEZdEbKcOfU6Lh+0Bk28PeOmfFj5JM6cweTe4kIL7E/XgS/ldlW+0N2XeOpVXqQOyQw4J6qR3Kx8pSy041UucU7BckbkyZG+1flZ5QPdxH2OZf2tj9yNthw5zsLPi9bSQZJdjmW9U3mgE213E27HT9hRL4Gjdpw/8rYqXMyiJuJ9pTmHjKRJU8RUW7hWeUIi6DRNEeFBD2L4pzQxjQbOV54wlmcc275RuBhN/FeaGHl6FC7mP02YdBj0RPFiLH5LE0P09NnKE8biKUdc9njxYoi/TxPzCE1eqjyhLV5yxEJR8WIIs6mz1cKtyhMSwTtis02Fi9GOxJUkzgoX03mTYa1r29fH21cXLkhLxTN9Oe/xknZpJnem6iE+6EOPknKwYzkvSFRbuB5XJYXwuvJW3rE45Lg1porUIulcZ3aR+CHlC92plafO2pwk2IvSYSxecGz3I7UazlO+qDba610pDznEi9AQE25wFgwIzyjfGMu7HNGrnEd2kGNXLC5wN0VgIW5NXKF8U+2uIkcNHgtSfRjEuNK0YAgfuieHZ1RZMFL1dAklnpfc9QCymR+5x8QBrXGuKgu17mx+nDGbEo9slwR7f1pqsnuNdDPZrMpG7dGJK7XFj9kmYb8k2E+m0iAlJE38oiuLcNw475Wyb6hKuEm6LHrq6bEc5QWUnU4Pi7skCNQWv+f93aEwKaJkY24XxtKtt88Qv6kJ09riSfk6UTHxXtfbauhNiqm9QQ7KU/lx/fpKa1K0dds6V464b5/cVs1ks5gwlCYJ0mXR/9XUaX2ZWbzK5ccPtUkARqWRwFmW6XW7WD4iz4e0CHnoTVpEalRSDjbEX6QX+k44xA9qy6/Jqzzv4bliTPr/OSWGmSZvkdKMJNfl65aRselk2ntXnEkD61uyeCfHpPe3AGep1QqCSfkEk3ogmNQD4eDun0nTajVTyzfpZ69Nn6U3iXh+Of9DsupM0hav+NZWNpOmZVvJyhFzSpXHLhFy5qzucycQCAQCgUBA9ca/01SgfkYyM0gAAAAASUVORK5CYII=",cN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvElEQVR4nO1cW48URRSu9RovaLzj/fIo6i/wEqLogyjqim8aXOLA1JlZp07vAuLDqQZWWGETffQV77jqA08mxEeioiAIRh4gogmy6Bq5bVYwYE7PoBG3q3unq7p6ZvtLOtnsTFd1f3Pq3OqcEqJEiRIlSpQoUaJEB6FnaUD3gNIvgtJrJdInEmmXVLQfFP0OSCel0n82/9b7+DNQ+uPWdxfxvTyGmMmoLF93pUTqA9QfgtJjgPpMlksiHZKKPuAfpV6nK8QMQQ9g+JhE/b5EmshKooHcCVD0XrVBj3al5BLRedVG+IREvc0ViQZyd1UVvbBw4abzRTcAMJwHSN/nTeT/iFV6j8TwYdGpqDTW3AiKNvomcgpiN1dx9a2ikwBIT0rU477Ji70U/SEDelYUHUR0kVT0BiCdbkNyTkmkrYD0ek3pxRLp/lqw+s7qirVXVSpvXcgX/83/qzXCB6LvKL2e7+F7p08snZZKj/C4oohgVwWQPp8WiUiToPRHshEukJIub3fuvsHhWTWkpyTSaDTm9KR1C98vioT+/qEbpKLt0yDykERawRJn+1l4TFD6lWn5toq+XhrQ9aI4ZOq96YjUR6TSgVIjl7h+rkqFLgWkAVB0NKXK2eudVF7maSVTIm2CQbop72dcotbczGolraR6W/5sgFLqzBMcDgrPaIW5J9LoVC+GqmnNEx/uR9lYNUcUBJxEkagPpPAANuT6YIA0P8k1kkrvKaIDzQGHRPo20aVqhAty1ElRGs0gmfo7pehqUVDwswHS7gQDOi4HaLbzh4nSbWbJ/Lm/n24TBQcbSFZJCSrrnRwSHWYDJC3pTI6UQOnlU138mY05QK2615xGpNNVFc4VrlJwiVkjZc+agyJtkBxtax4OYZPUF7+7sA3ZoOeS/ExhEXkRyuCQ1Uxq2Gtzvtak+hvDCx5lYyU6lNCm5ddHDKTusJr5522LBEMUWJvMA6GMGtIys30I51mbjPeADDpmzEVsDjkTGsX+poSKLYvfTMvFh2ycNRIOADkTypBIK00ejJU4vxUDx5E56SIFx6g16BGJtG6qiz8Tjhx+Uz6VN/ucOvK2LXsRwEUW8e+r3806fo9Jr+QW7+aIakDPGOzFL5msPUcS8TqFTmbZtih0RYthjypTJBjVGsUv962iSyFRf+lEj3IxlsH3XC+6FFLpEcOyH8oy8KcGCe0TXQqp9EuG9x5te2BQeqdhYCsZH5/Zpti5A3owIQxtD6Z8oQxW3271LQrg2J8FF1PEqzra3/bApnIa1xl58EhoBelagw79te2Bo6rhmIF511N0KaH1+psXG1TdZNsDl4Rqy4SWS/6M1SVvMkpLXqY72h54pholn24TeCTUmdtkzry4dezBJ6EGx57rpDoy9AS/hDoKPZEW+UqOgE9CDckRGejn2x446m6Ll9BTLkv/wBOhnL4DpL/i5q4HdHeW8Xu42jhucC7DFl1GKKiwN94g0cHM28lRu58LBV1QQk0ZNis7nwl61NkmHXggNNqkM4TbmfTnTNxGBtSvxtsMOm7NZnAjqmHZj3GRgJWJPBc6SKTD8YKj37Y2GXf1xivqyOIPig4nFDh5bXhH67UA3CHRrcVi9WV0C6A+Zlju2623iXNvpOkXtG3xIUdCo9MhjO8WPi0cFdwa69JrSi/uNEKNcXtTUHY6O8SA+82Nk6M+0Tr/oyNqm6oDdF+KkvCHhEsYSxuxc5oWWt0sSU0LG/PqnjC31SDtLnJbDcBr13AflVEwkH7Lpa2GUQ3Cxzu18QsigYhPnJ9d6rkXwhlzhviPM3yAC85EQcA6ExT9lPjcSg/n/nDcYMqNpsmk0oRN65/Fmqc82ugzb6c8cGxrdPjxP8SOsgOd9zNGTnuSn/nvitrmvUSTm/bTHkAAqI9xt4WL2P9cBMH6y1rhZGwEdI7e/KFeH7pOFAFMalpJhaa0HuZjLFx4Aq06+ZWmRMdUkun9NIeY5b8l7Uu0iJ3knVUuw85yXl20baHCXk4Om/KZcTrT+zI3GiqkDe0cMxTt4yj6gu9nA8IRSrVBd7HEcR0VX/w3/48/i4yM0iPNDbX4PaCEY4aGiegCUXQA0nx2jKf/kvlc/GzsS4tOghyg2c2j2tqRVodkKr3Zh7dhDVUVzuUWad9EcnTkPNGRI3r4uEtQ9JUfIrvouMspDmSdx9uxqY78aXtZ03HeA3LVwlhI9A0Oz2LJ4XY/7lDLTiQd5B+Kt3oL6wblCdlYNYcJ5mKs1gkLO5oHWOtx9i2jq1kAvI/3eKLvKD3E92QtjylRokSJEiVKlCgh8sbfxQL1rY5eoTYAAAAASUVORK5CYII=",uN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR4nO2azUrDUBBGhxnvS9SZuhOsBF3bufEp+py1olB/3klt3VgEJaUbqbE0LpJOvgMDWc7HnBvI5BIBAADYwTUd0YSEojNwOtXMT+byWZVmfh5cpUuKyPE4XZjL0rJ8/SiXpZapoGiY8/1W2E2p8x1Fw1ze6wJXU6ZoWF3YTVE0DIEFEw6FQWmB0qEwKC1QOhQGpQVKh8KgtEDp1rFxOtfMt5rlbZeSbVfVozrPhk6jRmG1TMWvO6iuV9MdmTo/tt5802k7P+yXdkKiWVYHGzjLar+996RvgemwlTbneX9eWlkWjRf7Q6eROt+oy0vnNV73yNOTks6oC9iOhikahsCCCYfCoLRA6VAYlBYoHQqD0gKlQ2FQWqB0KNTl9a+Pd4qGOs/qzzFPKRpDp1HNjmzR+G9B19EyFdWSXLN8rKt6jniTdotqZ9yHC+IAAED/5BvYQaHooEGgKAAAAABJRU5ErkJggg==",dN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHZ0lEQVR4nO1ca2xUVRCezuwq4htESvecXcHGRyVRU4O1nbNrIiA+gvFBYsAYjQ+CTyAmovwx0b8mBnzFRyI+iEbRKCogoj9EHjFQ/hBUJKJUNICggKEIrWbuLqE0d07v7rb03tIvOUmzvWfOubMzZ74zZ84CDGIQgxiIMAWoNw4ftI4WGsb11tGfxtG/0izTrtJn8r8HbDOcDycECpAyDqdZxlXW0X/lNMP4rcnjVJgCBAMRhmmSZfqxXMWEtO+to4kwUDCqEYZaptd6QTHd2yumCU6BJGPkVXCuYVzXB8opup3D72oZRkBSlWOL7tAnyunqcolT0qhGGBrJcph+tUzzZX3KFeCikRPgVGnyd6aFrrNMz1umbVEsKVeAIZAU2J7XnDbj8N5IEakAqQzjfcbRb/4oRy9DYqKV84brj4c3w+nlypU+xuEnPtlZpvEQaxQg1UMonwcAWMUIKC7psaJNseZJGcY7dOXg5700eRQr9Fjo7RBXWJ0ht1XiVhrqx8EZhmm7smCvhLjuraweZe7R+tVPgpOzjI9Yh2ss0/6gOVxjGB+W/2n9soz3K+N1Zh2MhrjByKZSCeWaa5kmyFiHGzxu2SrPqOudozal33SIG6yjhYqC5oc9L9bhV85RJWmWZB29oIz5NsQN1mFr2GSF8IU9X3SraGzZOHwoVIajG5SFeh3EDZZpV9hk6xguCH8e10ZVkHW4OkyGMG6lzw6IG4yjg2GTHVGA08Ket0z7IiuIaV+YDJGt8KF2iBuso3/CJishuVoFGUd/h8nIFeAsRaH7IW4wjraGTrYlfUlfuZgppMcqCt0KcYN1uDr05fI0Oex54TnVLtKmhW4OtyBcBXGD1fZI/jDfGsF6Whsa4KQwGcbRi+WMGct9mHH0k9anRBRbKyKKxczBz4rFTYO4wTZDnXXUETbhXD59udZPrENcKHBRWbiDhqvkM81yiuOlrlAU2yFzgTjCOFyphN2Xenss6+h1xXq+gbjCMs5SvtW9WrivBFmGszVaYR3OhLiilmGEkDQlsszurXGswzmKpbbHPoFvHb2lWNEOjVWXgxJ73qEEhAUQdxiXGufhM49VK986fEKXnxoHSYBxuFyzojHj4cyK5TbBMClyUJS/HJKCLKda9G+Znq1Urjdh71J5SBKMwy8VBR2sa4YLy5UnezrLdCjx1nMEQg414mgdLoHyUGMYV2jE0EdEYw3jaIHqElLrE1UO492qHKY3IKmwzVBnmP7SFuxRBTinJxmjr4SR6sIssuO6rYgKyzhD+/aFM/XU3zC9p/ZnnAEDAKjt0XpyNduCd+rKxTVVHmPHB6aQHqvlrMVNcgU4r3ufLMMYSbWGWw4dyrSkL4WBBOPoGQ/DXikHgccWQXgKPZmehoGGXAGGGEcbPevRU0eeFQV4iObGRBVLle1qTAc0PpNpoattS4ot02HFHdvrmtOXwUCG1XNGwWmEdfSLJ2rNghMANYbxU4+rKYQQl0lfSDLqg1IW2ajiHF9qI1eAWi2no5FK6aPJk7FkTBnbVzLTL8gFL4vT5Rvutr50amdiApunCdpa0y1iHZZnPXImB2MdXacOWMalUj8kLBz6BQVIZRzdWtqxd3hebqfv2MYyzu1ZQTjXe2zEtNPTv0N2+pk83XIMjegrNDZCulS2ohQuhb7gVx7GW2McLvbwo8WedQdFdvR50DY5SpJ36BPlZJlurPgyCuOTmtygAIFpc8gLbZb/af1EZkVzcfSD1BX1mmLqgyNimtfVz8tTDh0ukTt1kc3l4WLDtKfLOrJHPlOfL0BtQDqjrGHhrdMwPec7mIysHKNkBj0K2WUdfijnU5JEl2sJUcaSK05BxrCYNZwY+cpDcEiAMy3jIq2IS3VhxmVVKckwvRttIPpDcs1BXriKWmi5gSit4glPAbL5lAvmwvR7REUtrHCydG3PwnFDlum24xIhKoy0kQpFPTRChXX4tcdiNgWhMxnMtkbmKnP2uNqKsqUWC7opbI15J4k3/WTOnlLlfeUL7BJVbFdtO3w/iQoqXg3FD8LfiXaXLdAbvZg2y7UnSAiE9xhHWzwu9kXZQtX6P9dVUbhW/LvP2GkVkPAtAURuI0aIZDdVNIhVTDLEonYGx8L5lOvPiCZflFCN4IpCRE4kVKbKhQ3VaKa0vcHNwDw+KumH3rwG1R1SlBVkIANSiovLKk4vRa+q19N62WowvVqmkrq2zmCvxbhI6L0UUsmlN3mxLEODnF7IDWmpGgtowxQg+VtSFcHJhtRCC/nL41TJ+wQyHH4kxaEVb39Kd1yr3mp036yqxeIJalIZm8nT9dAXqA+sCWf1dAM5pq1N3P64ZBwbiqW78iMlS4Nfa4mrtQRzwyXinv0WaU0TDAuqLxg/Uws4j68LtReTcHhXaV2LDxobIS2FTpIPNo7eLB0UdvaxQraLQrKMj8vCnziWX3cNDM9yujHYWTPOluRb8QcCgou764XhypomdD9IgBUTbLtLn20p/tASri79qMA8kSGyRKZYb3+/3yAGMQioBv8DbuiSacNpv60AAAAASUVORK5CYII=",fN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR4nO2a3WoUMRSAT3Nm1RfQ2t1kaqUqtChiFdvdk1mxVnwBwfcQrUUEr8SfG71U36AUFQUvqxa9EsULaX0D0dpWqVCstsppKyxuMtntj/t3Pggss0km+TY5yWYGQBAEQRCEdWIsnjaE943FD4bwOydNOGUs3jMJDkGrks3DAU1qwlj8nZpIvcgS7IdWQlNU1IRzQTlrSVuc1TZKoHVGDlYsp1RSLoF90OwYq55VK6d0ukEzYxIcWrectRQTDkKzYlZXK9f0+aFJXTR5yHKKSQ3zNU/eu9CsGF7KnaNCDZfnVZecgginoFkxhPNOQRY6/s3L19xxCOehWTGeuLJZ+RseI4LSEUEBRFAAERRABAUQQQFEUAARFEAEBRBBAURQABEUQAQFEEEBRFAAERSg5QRpi4uuDvT0wLZqjlz5oL6s7n7IeQ7tv7nq7j4D230PBKBWaIuzrkbtJthZzaE9H9CX51UjnkP7SVfdXceh3TPiZqBWaMJJV6OySTRQ7WOflacYeciujhw1Uu1jn5iigju/eg+1Qlv12NmoRJ135Y8JT/niSqUptnjS05YL7hGnHkGtMBaveho14S1Danz9gtRzX72a1CvPCLoCtSImHHR2hPBX+wDscpXhV1l8sSuQZnQRulPiz5KrXK6AJ6BW9PVBhhvu6dANXzl+laVKSTMmiayvPkN4y/NDfYEiRFBLjC/wEi5kLRhfOX6VpaI3PUiN+0YO01GAmO9VTUD/r2TzmcMpnRsDgLbQNOWOrKyIvE8inOfPfM0XkEtoM1Y98Nx/WSeZg1APGKuepki6vFX35QDsu6+26gnUCznKHOLA7GnskiZ1brPvyXX6ArMh/GkKmV6oJwzhzZRYsqwtXg9Ntwpp49dlvHJW4981qDc6i7DDWPUuEHDH0gJ3CA7IKTHn7x7sLf8vg3okttBlCKfTO4ALPNp471JpvSv7HMJbvtWqZGpNdxZhD9QzJh8d1YRfK9jbLGmrXvJfhNhGeZbApwCc+DNf4+84T9p0KhE/F9vMEWgEdBId0xY/VbER3FDShB9jyvRBIxET7NWk3my5HKte1/208sHBklcv38HaxsTgIq9WvsO5hiIm6DFWPeTlfhPkLPNKxnVCs2EKmV5t8U5opfOkz5rwdlOKKeMsYK4Q9fMporY4mjKNRjkP5+Uy0KoYj6Bat6tuMCIoHREUQAQFEEEBRFAAERRABAUQQYIgCIIgCAI0Gn8ADIaRj4Vk+wwAAAAASUVORK5CYII=",hN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVR4nM2ZX0hTYRTA1z8o6KEiooiiCCEqiCDqxTLopR6Dbnf3nO/u7l8XSvLBhx58UZo+JEEYmUYDzQ3MhCDC6bb2FqSNVIikt0gTaTMlMPpj+cU37/Squ/d+d5uuAwf2sLPz4/z7vu/M4ShQBEHYAADbZVneL0nSYUmSylwu115FUbY51lIkSdqJiJcB4C4ixhHxIwD8RERqpgAwAwAfEPEFANwihFwQBGFLUaBqa2vXI+IlDWjWCgY5lUEjYich5HQhETsFAMPFgkJj2OeiKO6zBQcAPgD4vdpwuKhTiHiOCw4Rr68hGNVF8ockSeVWaS1HxD+lAMR5TRNCduWEq6io2AgAIyWEo1okQ0Z1J5caDucB/yLikVy1N1BqOFyEvLcEThTFA4g4Z2VYV1dHn3Z306amJkoI4Xbodrvpo2CQPunqotXV1TyAE+yE0qdXtTIK1NfTVDpN05OTGY3H49Tlclk6U1WVDg0PL9h9Hh+nN6qqLO0IIcf16W2zMujp6VlwwgupLoPLamtrqyWgJEnX9ICDVgZt7e0rHKVNII3gmAYCAZ7SeKBP8TeeOnqTTHJBqiZwLBOctRvPwAmCsJW32D0eD33d35/TcSKRyED6/X46ODSU8zvRWIzKsszbySPZ9O7hBWTq8/kMI/kykTCOXCRiq/MRcTR7vJXZAcxGsn9gICdIoZHTRXA6A+h0Ok/YBbQDGc0DTtPZbIOczQeQBzKaP1xGFUXZzGrwTL4/4DdpCH3jFASYb4qt4NKFQ87m3SS8cOnCIKcygIqi7LZjaDaEe/v6uIe5lQLAJ9uDmkXu7eCgaUN4TBrHTiQB4L3+qJu2MvB6vdxD2GcyzGOxGNfABoCoHjBpZRAKhXI6jPT25nRoBtnQ0MATxfv620wwn+tWxADOCrKlpYUnglf1gF6e2/SXVMr22erz+WhSBzk6NkYrKyst7ZxO59EFQLbs0R4rpkY1NTU0HA7T242N3N2I8wOXNjc308cdHVy3ae2isG75o+mVHaerrHdyvequ/AdglC0ORFE8ZLTnW/VlEVpr0GEksiyfRMRfJYQbFwRhhyGgNhPdPG/kYisAzLAAmcLp6pHwbE+xeHATbB/psCOEkGNr0NlziBg23GhxRvM8ADxj+7sign1FxIdLhnGhwm49AHCRLcI14HfaZtSwqQDgOyKmtLO+EwBushu8qqqbigbGI8wh+yuCEHKQ7ZvZ5xUnQZ7yD8zfzl1rwXkSAAAAAElFTkSuQmCC",pN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAknSURBVHgBzVp/bNVXFf+ce7+vrd0KDBBWXkuBVQYdKq4iUH6sMJwCIjMLmYk4p8OpkLj9sQjizHAaN6OLOt2mZsriWIwDzdQIcYFQoIVtSJywIIOulPY9Cgw2oOto+773Hs/9vp/Ae6XlPRiftOn3nvvr3HPPPefcc0u4BEbWYUSxp+dbxkximgziaiGXya9GYWEJ6GTQWwD/ly02c8hsj25FFATO1YlyVYy4HSNLetTdTFgGpgnS0uurfaEhHPsEOkhkn48p+2xHA05ma5eNIaqYjinkqWfk8xO4ikxnBUM2n/dZZZcf3Y5dASUD5zFXPR/F3Z3qm0S0RopDUmOwSIO4Tbb3VQs+oBinLWBQQKi4St4gLN0ic90iu14t3BVlNHkfRI/pNv9nra3oThK9zMX0dKllwvyj8j0oybv8HJCt/Kkhu7m8C8f2/Bt+XzqZF0RC9XOgDxt82Ieep8APC1sfQVzQpSLJ1SasutFqn0BiJ1I7UFkXmgJtG4KGcXRLkxfB5rvtTTiKDwCjZqNSw3uAmR+ghLDl71mR4IKjO/ydUuRgAeFPYZgqVv+S6lpXdgdIFGR5pMisRYN8f7BQ4Rn6y0rhaaSEy/t8Yxd17MQRUT2QLlJLmenjiQ4sxLXV1wbzDjb6afO8iHqdO9BxEk3ylFoWfInFCZPnifTl4MTR7JnQvMM7u4/gGsKYetxojPd34XNKgtQKa2Yo0nq2EMcniDFL5kfXGvMOrQ04Ztl/VHYhliBVktILPSLMEZ0PBSTmw2LMtvQxDlXMwkdFLe8UyzRRLNYRsbAb20eiCesHZlZralB0dhgmE9RiGXaczN1sQ3pDdGtsL5DDyvViFxdTixjBmxE3uzPkZPOtSWMkDO0Tm3Usmn1OCs/Sd0nL3yGw12697E7QNyo66DcR+KtzTpwFZ4epB0UIrs/gxOTQvr2/cqZ+sH2e+TPWJPU9jWgVTlceY+fMbg7mB09STFSdbGCZ32hoyC7JitmYpAi/SjKfAmOIOJ6V5bP0YvTTa4dn6s8J84+lmE8NhRGk8MyYBm921o7rJV6y/GayKGPcpESI1yUJwuBp5JCiYu8LUjMyMZEfBFzOOybGEh28q76+XwGe0gpLEDjfYDAZg/fLV09QZAw2Pi/J0ZeNwplkQbboekUZ3lhMVSz3vFyDhIRF1Q6Eiu1txPxSqhYYH4n0YwH1IguLcakyYXOptdOkf2OaRpNydRep++lveAr9BCNDJy2fbNmMM7L640jvWL+DPumQIShqebMJndL5RLoBW/QT/V6AnDEn7ZMy+HFofjGYR6lNov/O5J6Vu8Jfmpf2tYMJuDNG+JPrI2O5WH9TrvH7A6+/DduU+es4H6/3esU20tDTEtC2+VtGz8TtsEWlU8O9/2vLYjmygCM3mj+Eo6HdRSWxdw9vsW1u77KNX9AFuLBCRj2YOGtJ2LZGtDgD3Y4BQHxGFLHXg2/qc/xLot8qdK2i/zuQC/XwynsxV2tUDaSbSK6lqAONzc0DFPkFyHsBlb76NjT9ZKBjick2veX0BJr9lcgDeauQ+ITpuBxBsNgaiWWQJ/JeAOexi+J1807N5H8GMiBX2tcip/xZfbUZPVRvEPVZFBQKcLfOewHigLo4wYZYxOLqKlDzpuwHs7wWpZK9Kk27bH4feSJvFbKWD6UKxBXdXRifs/F1qJIFT0g1t87u54f8/QDZTamolDGUWP9w+Iwg9Xge3AUmJHXSZlScwu9JbPkS8kT+Z8DHPvKwXb4+C7cHjEUlWv88XG9+PewdHOoYKlceg9FnSK0gxmJK+F65h+wu6sGryBN5LyCyC+fCM9QPlLLuElIqKiL5KNxHRi8+PYQjxcYdE6oUmrsIJdW/W4MebtmTju0vFwWxQtGm2CsS1N3LpB4P7rdxDJdUzfCLYmzi42xo+ZGmIDGVog6px+CyGKqZdKWsuDjnZIxpmYF7wcyoBHUbKm+zrezrR2QP5oq6lLjbR2paRreYz+2w6vHpo/wd6xMV42ox2C9VX5VFfVESUjVBvz4g501nCqWQfoDbt2H3yI+Zu4tu8G61lmrlrjBW7rBavHVUedjlfcjf5UxskvnyuajqjemnhKEFCCwyLnktovPr/YI6Mofje9El4+6Qzx19tZOHk0lezJOLC0/MpEum4z1h8gI/Qs5jD7l4FF7nyZYYSry2yBYX+tUlF5S8+qwRZpM+wWXBW4W81nhmq1i2c8mGIR8lki96SHi8E+nG8viBf1ptv+8SW50uNeIqRP9cWp2A/F18X6isL6ph33w+44w0Wbb3RRvtocy5XdIZIfWI8LUgU7Wk/HvtmVXtDTjtshLNyQq2NLG2FgVXqwtAbPx7hKFQotzTY8y90cbAK6eYHzEVI1WR/hsrWpHx0NEj1mBle6NZLqlGlwJyKY4gJxMfmfiTp8pk1VcSS5z3p5pUmfHaiZ2SqE2DxtahqrhIPyeM1yEZLRCfksTVak/bJ5GRIXGDNaQTpjQ2ZvUduJJ4O1CGdHaP3J06nQ0cNR2Tfa2dofoM0japS/zhivZt/i9E8t2ZwyndYyStkUrXhbSl71TNQjmuJDgdg5HLCCRQXufdoT39snxOQYp5fstXZv7R7ZIvxcVZD9W6G8ckH/kCEvrHxBMNeaskuXr1Lvxyrw7XYWFIs0scD0+SRd//o9l+SZ5YG3N1DZg8d84+554ykzSJyO4Pv6zvEX29Kma10uilSuk/igQzEgO8x3bbxa2NEvD1cfEJFvC27IKN2eVw2bI4SpTGbyuP6ycr5iKMK4jE7exZYXJoUAY7G/9CT69deHT3pdNNKQl3RhAZNIaKxTRPRfzBQ0toXEtW1ws9UlbN73R+RTxkA/LDGKhBVn1N/E9FgnI9EoJ0TlXylU+xMas6Xsn+Mn8hzoss5B2qxBj1LSH/WIrpoIrdQaNDcj72ioTeULDvxlPsA4dIXJGVxw2iCRdUiSWkX5ad8r+3f3/6YA9oAUmaHKhp2lNPSzjs0txX2rE5tTkhO7+yXZt1A30ZzXpIO9sRLbuJ/0Ex6pbNHStiK8tw+wWF7OopMvT19lFmAzYO/N8XLsWU84qjjQrNZrJzxBhMlqugPMgFrzr57owVa3dQVOmhIzvMRlxm/PV/1bNvavTUmq8AAAAASUVORK5CYII=",mN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkjSURBVHgBxVgLcFTVGf7/c3fvbjb7SKJJCJtNlkY6GiGp0Mor0FRsi4727VSrQB0HO9PpiO30RZ1WoE6ltmWYcYYC1qoMVmsdbe1Dh440khALDAgWhHHEkN08DCExu5tkn/eefvfuJuSxG3YFxn9mZ++95z///53//K9zmAqk5maynNacpaqUjZItN5GUnybmOiJZgeEikqQR0wgTnZNEZ1nyWzrza5qinextiQyARxaijwvhrWmyzZFs+zaevwY9n8Qna34zeYSk3sksX0hqqad6D8SC+QLNC+CsxSV+q0XfBO4v4bVkyrCOXx8sOSiZR1lCMUs7SS6XLMuZ2DKRWTINQ+luSsW3BtvjZy6me0aAxna+r7vulpJ+BdaqcX4pE0BxFND+RIIOSYul25kUIWfsfCwaJe6vKFftSenWaaRGKJYmoLoDkxow3T6GE78OWHRzoDKyh/4CtygUYPUSKmLh/p0UtA5MGStwFFb6I2vy6eCB0BHK15/uIMXbWzJPkP4DWBdguSijPAmD/1Z2RH7Z1UXRvAF6FxVVC5t1F9Tfkv4ik1LyixC2sbst8i5dAlWvcM+F3Ieh+FsZ/dh1evXDuFwTOWQG0SRSpgmA5YTq2IPtW4XpDGGjzMpjNlfoh537EufoEincGR+0OeN7FYctBeGLMoF2jc1CdeFFiZfoncm7MhkgtsIz6tqBSd9Ig5N9cI61Xa3hXYP3UIouE432UyIciL/hrnGchB/ejE8OqKt3j6i2CmuidXDwgk+KiRN93a7VCIjVZCQGogRL8UBPW+Qfph0vP8mutqGXYYQfQ/ho+gt/Lz7bdfdEpnEL1ix31pPgp5nZg9cksb452BbZSXRFwI1TOJA45qm1GzpWwigqjHGjo0bdPRxImKDHLIgxfhC/2ek3+ZxMlmy90uAyJINK6DEk0+fTb1xlkeIh2pjGZkZx1cLSGotD+x8e3TB5DMyNuaK1vp7USLmjUeiWVTrryMX8n0BrpH3qYvLlGyNvU3GjwsphDFrhUb0cTy7rPBTrMLaYS+vUHwHq501OwTu6WiPPZl8sMu21ni2k807kQzg334SEvbakxsblavy/E5w7X75xigSSfW6/iprOn8LPpVuVIUR8i/Cu9JZhS7+aFgvrpcSTOVe51LUYQ+sRQuo4YvgxEtmGaKX7hkL5ppKu8Q4oHjbtJGlt9ZLqIqGkhhfgfY7JIflId/vQ8VwCWPAX8GdNK5R/gLA9mSGbEJkdKIBvGsBY8dsAcSgNhXyKOrxYSF2uGis98L+XaIbAQM5yZh4xjf4lhHxhwnBJoXxTqfdILyKXX07PJEWXcqnAEudnZCV1nd6kGUgnbslsQYe0pA6TLs8gb57GtwFJenuhfFmNIOggZYzEUl7Lvib3ewBZJ6XsjrH2mfOto70zCShvLp5VlLLEA22hD9Pv5U4aGXX2Hx7pownWz5dvKvkxT9OUU5S29FH2LXcP4cGDRuDtmG5rOn/gfIQ+RqpsoGLVA6OhDUVv2Wckw4y/cKwW/Rx9zNRXRnFgMes+AsUzXouNUmI0m7kmGs2ruU2FHROmyahsqCw2/nMyRczKn9EhFXGhUMuic6VX23LNO5Ny/tSuxV+Hz975UUF26O5vqp7ovvc01/dz8VRehXos5FiDHBFsnCfIbF+u9igjOVOAFOIn+LsRofXdhQtnsEBuEhoaVUMGWquHjdYuG5M64vAg4l0ZTAFYkDtNAMQVcWmtyiUdDhvL8PmCluIyKpCql7hLYIzytDDKGYgo2j42jq/Gs6RTACjH8pJhzWW5JmLVx9P/VKNaxO1UGLEQxsGJPGkU9AYOSnp2TvWzNO5CfEKQxi14imeG78plek3q2zJ8TEJsq1nmWkt5+KIREN4VrjVSyEdNfpaGjKcoSy4sbyYnS/229JtMktBbhZ20E3h7P/OxofYDT2M2RQmLvQXizZ4NYVYsBW9DDt1U0+T5BKWBTgTLBrBZzSX+Myn3RqHzdnwrTYMSf7tvZfjf2XSo0jUfjtdgIiHuVThy2BTsa/L8DCt7JDPwRFdr6DuUZYWlC0s9zmLtOWzOFw07ZhYF3+TjKG/v4Fg5gNqLXoGuwrcGCJgLBa5x1CRfDElxfyhTXaaSb7kLdZi/Ykpl2tS1P7zRXLVvqacOzdBRMhpWKExwsr5vf6wjm5CyRWVuhy2xmXWxDhodlAehjEaxnu1Rad2Uq1L5ljrnIVMcZEOmpF70ksuD7aEzpr+Fg/GhkloVW8U3GMdAC4lqrzPx1/7+6Y1ltDsaD3cmXvP47HulMDNqldFgZofGXbDiM4LE+mBbaPdocDSele0asnlc9p0AN8+cxfRs8EDYbNHG/Wb2ijKfIlMteDR8KonD09bA/tAGuti5ZCFZ/Va7NymQoqzSzprpZ1E9nuzp8Ud7ZrrWMMjfTHZdc2/ApF8Y7+jAA9KqL+h+PX2InxSFtStc98GHjHOxBRMi6OvuCe6PvEJXkLxN7jWC5c70vY2MSRIPIAaeGBuflFJCnYljbr/9KjazPdmQE251+W0BnA1O0uU/4SE4Xfdip7ZPaJi32D+ofHxwcFDLCtCg4vll+5V4ClcS5jHAjgpye4nfngjNiR+kszmSa6GEFFTjc23Bdv6cM90U/v+ZCDseDJ4KTrpEmgZw+N3hpKNcfVVYaC689TrMNHhu9ki1oaTOeSJ0NtpPl0BVyz0LSkn9PSDda+yS+VHKv0csyuqBgwPTIjxnJai6jRxKyL0FuWvdhXs9RrrQ/4y2fJeW8BzrerMrSnlQ2S1l7qLR6PWKbl2PLfj6+HUeTpGot493jUYeoiO4zchCM5Yqv5/sms91J/zkUQiaNWEohHB7CwpekTLZnkiKs0pqJNLrokT9ORIwsapWFJUozJVSUz6HnPZlpI5GOSFpQ7WRZ38TbA0Z1ys5XSevvq5uqbMirvAj8Mdbse3eKcPGpW8EVo3i/iCZFiqNLFAMfqd5SzaZBsD/TELXf93XPtxPFwm+/BtP3JXU7vPUSl2/H2XtLljPO/X+ORehkuDmn3twCH0Si3i+x7hWyfPG7KO178j83tmeZRYplyEfXAdd16OmeIVxHpZsdOlhvAdwbDxNCp+QGrcnHUOH+/bSCBVI/weQOtLI/Bu6YwAAAABJRU5ErkJggg==",gN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoBSURBVHgBxVoLcBtXFb3vrX62JctyHBPLyv/Xlk8S20qbMIG0DIRvoXEITQpp85lC0gGmlM7QYlroDFOaNEyYacp3IIEwhZYm/ZAOQ6fh0w6pLStOE2pC4k7dxpKcj2OtZMuytHqvd6XVane1tiXHTu+MpdXb+96ee98979731gTeT1kE9ga3+4MUYCGnxEkpj6UlevZCcLAb72ZKGYLA+yANza46gQqbOcBXQQbPoYYQoBy4RDiJA+Fn8N5hQtjvQh3xgfHGuuYGzG12N0kCHAJOrp9IF414lVN+b6RdPJH7WSzX1ABfU/WnmUCfxoe6Su2Ds9IPILSGA1f+Y3afwjUSn79mPaP0mTx4zjnDzw5EuIVZYd4Ijbop44vQp7vQ1b35fgTILALswJwW9wKzcQW4RuAR1K8xzt1KUxpj/VFiFXeEOpLBofNJcSQEo7HI6GA8nOysqxX+xCy0FghZoejjNVTF7h49Cv/Uh9K0h5CvxdnKifAkPqo+18LTnEAbz1Q+EQlGEmP1q1ta57JXS3/Dy9UK0rgEfNmFDvFtrd60zkBjk/sWBP9nQogn18LTGBKPhgLij4ciQ+nx+iYGEimP1/p/DuQOnAkLNtkJpefioWRAqzdtHJAJi2v78xg2TqUpjV7c0xeIPlzqGM5EPIDgz6oNDD5m1JkWA1TCquAxbDhvC3WI3zeokjlNdc1z/a7VsBYsxnG6uyGFX+dUZc69Rp0pN0BDWNXzmKjawp3iboMqafB7vpcR0sclEP7dmKj55hhDFgwjxdl5Sg3w+Z0Inv8c5FUjKzJheRvnlU8YVMlsv/s+fPhDeGkFmYsM58Ag89aCA9ccn9rA4bxRp2jaJisyYRknB7VhkyVsRxQ9L2pVSeNKzwOMww9Qx5FT5aNMYHuMY6aGXU043nUatK8YdaZkBsogLPG2eHYhH35UAA8io2RTpD3+mk6zGayE0L14Vam0hDKj0lHjs696BrKE5XBQT1jaFg5Ei2Iedb/FgD9O8s/NgoetkY7oEa3inA+7PVgv7cd66aZ8G/LoSH/X0CXj869qBswIS2TwnYOmhDUBf5cRfM3ymhrJAbsxU28q9ObBhCSHXLFMegYKhCUawkIbYxVFhG1cWXMvcCYTNv88EY3ehuCf0ypmPW/lu9Hz29QagcMpRuAb0ZPRKEyVAaaEZUjYYDFhG1o8DyB49B5RCUuAb+7rjL1kxJJxwJNI/C8j+HxkvMs4xxDLltOmUnYtlC2JdUlKJizfY5akZMICYfuIxvNYgm6LBKKHDbqCt8X9B+zyFVIAf5mxzJpIMH5mPDxlzYAZYeWY7xuXsDnwyJUYoXwHbk504LNhk/P87YXevIdRy61o6JmJMJVswFiE7RuTsOwRLXj82xo2gM8SFmPeCB73xa0XTwz8T6tb31K/wEpHt2HCezfkFH+LZbVUsgHlEHa2v+Y7CF4lrOL57UbwvlXVtSydJexWTSCfRgPuvnhi8JRWF/fQ1wk09SvOyRq5nPAOufrDEH+hJAPKybCK5x/SEZbzzaFAzJiArEwi+3GcjTrCMn5XJBDTEbbxxlofZDKHMA80K00CpbQ+f3/cPFBuhsWt3yMqeHmpBLgjFCwCL/ha3AfR81rwl5Cw6yJB/WpT11zZAIy9gCV1c6GVv5JKSC/mf405A1dD2Cx4zrf3dYrPahWzhK2A/RgKm9SokQmbsXwhEtQTdvZH67wsJb2Kl/m9MEYjP2a9JH4+1AvJvJ7pDOCS9knU/qW+JB6PsJoMqyyVRvAyYZkdfmLIsD3pNNkQCQ7owNctcy1B8Ee14NEhL6eGxS/1asCbGuD1185GT/5CHkfpq5TEDtMMSzHmtauN2Tove95p5XsYkB1qI88S9msXu6JvaHUbbnJe77ALv8HL5aomwBEupLZf6oYhI96iEMI43ocfC3I9eQYt3ItJypSwSnmgEpYC32SWYVkubDYWkhQ5zxjbGumMBbWKjTdWIGEthxBxk6b5RSuk7+ltH+kHE9FlYm9L3VIg0ptE2ewj858Lz49ugGd0OyHi9Xt24gb1Z7oMizEfMYQNyIT1u3+Pq9jtE2VYmbB2apPDZkWhlR9Lj0ibL/53+AKMIdoZIAJIDzL1pIJfxoOm+w3gocFfcxvG4z7lpGBM8DrC5t00RoYtlbBmonKg/kNV9YzwzxbMgWf7TsR6tMqzVjhnIpbH8Z5VBS/HvAlhJRs8piMswFuckY2R1/UZViHsS1ACYcc1QLDbFiNqT/43PswYy2AVyGo0YH72PoDEMuweI2HlDCsTFmdou6b5NAe6JdwZ7dLqagi7LP9YGIewZqKGkEBhHi+ETxIz5SmjcgboEpU0HEJVsdhfDCq5DKsnbB+T2LZI15VOrWIuw7KyCGsm6gxgCTBLbSXkApJ52KhMKJEKKlB5ZUatXXPbLMNezlCyLtIl6sArGfZ50IHnx1LD6a/3BoZLBi+LOgPoCUuBa5BBsEXn8YxLQcIFhkeFMsCZlYwdqFrtvj/JbcQmpR/DDuu1GTZDhC/2t1/p1o4xd01lg5S0yYRdWHh0aYQd1wAsE+Q3I/kRZxCKa4hBksz6RiXl/8DLTyh6t2GB8SkbVtZQOD3IgsePDUbwM5dXL5aS9GkteJmwowmxdTLgZVFDiNBMr6a9mnH7QqPyYHBQzFiEBzFEQprmKh14gJM4V1uwWtVlWG+La6nVSkrOsGUbQDNEfi8VU34SC+GfM+vQf3ygIzNK16ERRzFT5/XlrB3H/gcIZRvxvdZxbR/fqopGSughTHzaw9ksYUPtI31wFaLNxKTRX/M6fq9U7vQM2fhK8TVx0LTnD4HOODKjwWZJzacCZKQkf+vC+qHL2M60arkMa/0rDqgj7EQZdjIG4DR7MOXzp/JPwSrzp5GA+F2YpGQzbDr9L4z0Rfkx84TtnWTMG0X3gsM+3/mORWLyMihvHXGlJMurGx1hfO1zEsoUOcPi4HhoRW5QmvBEkb+cTojrw+cgAVMkOgMS5xMpt68KT4B5K+T4IZcMN7u8Fb1oxJtQmpDGFa5VFiuV99B+pS1LWCKkdvaflC7DFErRK6bY4pGe6rTDhf5qVgo2B07FrW6fo75qlvXtoUhqTAAf+AhUuee6v42vgvZqPC+LTNid5zsSYZhiMT3Ymrd2niM9HJU3NXcabonoymO4iTmcIvQ0pbh1TEkV3GJdgNP1cXT0Rvk8n2gcg5z6++iQdOel7vIy7FUZIMuiz4B9ZMBzH6b8hxGFDcqXETT2j2EW3QVBSMM0yURHi7htdN+MqwjuvLIv2Eo9iuzihOwJdww+BdMsJQHyrfJV8MzwLZzxVuwgHy7VIUcq8HBLIHIdCGQE1QZx83IcE9mRGLBj8Qn+SWOqpPwX3TeAbXalcwnj1rl4cFsBlCUZ0P4qIpztab8Sg2ss7wER6O4m8rTGygAAAABJRU5ErkJggg==",gv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR4nO2bsWtUQRDGV1AxWCoWWgsS7ULgbufI2RxWNlraqq34F7ybiYgaYqVFsBP/AEWFgJWQUtBCkICW0Sg2ejeTa3RlL57cJXfcnXkvu++9+cG0B/vdt9/uzts1RlEURVEURVGmYTZxh4H4rkX5DCjfLcqDBeqcnupHioxFvgMkbrD4F5A8raHUTdnpOod2CjRQb2vE1+uJO2LKyBhxXK8syRdAbs7f/nHMlIlJBYKeUMgdS/y4lnRmTRmYViDoyymL/AqQLxrnDpii8v8CSZ+r5F1hcyoNgaBXKJs+p+rJz+OmKKQqEBUwp7IQCP45in/nPqcyFYh251Rl2c2YPLFfAkFec2rfBaLBnAJqnTUxE0ogyEtOBReI+lxFvA7EN6LKqdCiwPD66rsMNuGTofWJVSDXn1PVpHVOBaKx028tSE6FdgnEnlN+FYEIBj51oWxakqSatE5kLdDH4IPdm6O2AOVRZvsp22xfCz3IdBzVnQmrVWxfSD2ngPgSkLwA4g8WuR18sHt1Fcp7S+2rmfWnKstuxu9BasRzfuXwh0x/frIkKxbluSV5M0GzP3hZlG9+P1W5xadMCBpL7mg16ZypLsqCbcoVS3wTUO4D8RNAfh2LI//up5bmVtwhEyONSIT0Ipk808hYSD/lTJ5plFWgRiRTDJDvlXPgND6kvTj1xB1MZeAVXeYHsciXAeVlLP94VBvF7iaQwg8q2qOGJf6Ua7dkfVjVdscYcuiY9f1tmOVHmDVtudIOUbRpL6Mco599IIZ8mYTQ2QL66VmGu0UvL8jIfNHrLzTMMXqByuUuXyYhk00d6iVOV4jrdZOQjmNEL5LDLmH0KYIrfL5MwrT5Ml/C51AbY8Qp94O6kU8yUZ7B4tZ5U3b8o167LdJG91EvyUN91KsoiqIoiqIoZps/5GTgdqN3Zd0AAAAASUVORK5CYII=",yv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVR4nO2bv4vUUBDHn6DicaViobUgnp292lnZaGmrtuJfoOV5B1ZaiJ34BygqCFaC5YEWCyIoy2XfzOzOxEIQ3MYbye3q/Yomuyb3XpL5wLQL893J900mb5wzDMMwDMMwjFno9fSwR74HKAjEKSA/GDCfmulH2oxHXgYS3R4e+adHfobIF1zXmVSO6D/iPaLc7Pf7R1wXKRBHt6pKCEjuev/tqOsSZQWCrRh74ieI6RnXBeYQSH/7FCC/8SSXVfWAayvzCgTbA+VDa32qEoHoj08NM58CgGOuLVQpELTRp2oSSKc+tdF4n6pTIMjxqSRJFlyT2DeBqKE+td8CwS6fIvq65GImoEDaCJ8KLRDsjE8w5FtR+VQEoujeqpJRNmVYFzkRWp8oBYK9PnXWBKKCqiJ5F8SnIqgSjdqnNk8RCp70XP2UR75DRMdrFQhQPodO9j/jh0d5XFs/BcA3IkiygoriDU/yGmB0qXKfQkyvAMpLT/zRo3xvgVg9GPL12uZTSZIsZD0IopzLTo7sJXNzHk3yCFBeeJK1EsP+4OFJOOunkiQ96UJARIsAchqRzwPItQHybSC574mfepK3EVXkGIhX11QPuRihaITkVddkqGYhs0fONRnqqkAUyyOGvNLNxKmESSOvqOrBShJP7JjfCeLoKpC8iugfj6dRnDaB2vSo7VXDo3wJnVzUL6s27iggggrQqAdmESSsZcJGrpQrjA3tIa9a7LOPxOEvZQjuLWifnrXAX+zyAuzyF7v+QjkVYxeopHn+UoaazHdslzipBdfrylBJxaBdJNccf7FVBGi7v5RhVn/xnVuHQoYCcbq9UPe3lUxAfj4guei6znSpd3lSSZwC8UNb6jUMwzAMwzAMN+EXe4XJ/lKRL1IAAAAASUVORK5CYII=";function yN(){return bv().__VUE_DEVTOOLS_GLOBAL_HOOK__}function bv(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const bN=typeof Proxy=="function",vN="devtools-plugin:setup",_N="plugin:settings:set";let Pa,fm;function wN(){var t;return Pa!==void 0||(typeof window<"u"&&window.performance?(Pa=!0,fm=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Pa=!0,fm=globalThis.perf_hooks.performance):Pa=!1),Pa}function AN(){return wN()?fm.now():Date.now()}class xN{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const s in e.settings){const a=e.settings[s];n[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return AN()}},r&&r.on(_N,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(d=>{this.targetQueue.push({method:a,args:l,resolve:d})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function vv(t,e){const r=t,n=bv(),i=yN(),o=bN&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(vN,t,e);else{const s=o?new xN(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var _v="store";function Ft(t){return t===void 0&&(t=null),u.inject(t!==null?t:_v)}function Ms(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function TN(t){return t!==null&&typeof t=="object"}function EN(t){return t&&typeof t.then=="function"}function gi(t,e){if(!t)throw new Error("[vuex] "+e)}function CN(t,e){return function(){return t(e)}}function wv(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function Av(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;jd(t,r,[],t._modules.root,!0),hm(t,r,e)}function hm(t,e,r){var n=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=u.effectScope(!0);l.run(function(){Ms(o,function(d,f){s[f]=CN(d,t),a[f]=u.computed(function(){return s[f]()}),Object.defineProperty(t.getters,f,{get:function(){return a[f].value},enumerable:!0})})}),t._state=u.reactive({data:e}),t._scope=l,t.strict&&MN(t),n&&r&&t._withCommit(function(){n.data=null}),i&&i.stop()}function jd(t,e,r,n,i){var o=!r.length,s=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[s]&&process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+r.join("/")),t._modulesNamespaceMap[s]=n),!o&&!i){var a=pm(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit(function(){process.env.NODE_ENV!=="production"&&l in a&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+r.join(".")+'"'),a[l]=n.state})}var d=n.context=SN(t,s,r);n.forEachMutation(function(f,c){var h=s+c;kN(t,h,f,d)}),n.forEachAction(function(f,c){var h=f.root?c:s+c,p=f.handler||f;IN(t,h,p,d)}),n.forEachGetter(function(f,c){var h=s+c;DN(t,h,f,d)}),n.forEachChild(function(f,c){jd(t,e,r.concat(c),f,i)})}function SN(t,e,r){var n=e==="",i={dispatch:n?t.dispatch:function(o,s,a){var l=zd(o,s,a),d=l.payload,f=l.options,c=l.type;if((!f||!f.root)&&(c=e+c,process.env.NODE_ENV!=="production"&&!t._actions[c])){console.error("[vuex] unknown local action type: "+l.type+", global type: "+c);return}return t.dispatch(c,d)},commit:n?t.commit:function(o,s,a){var l=zd(o,s,a),d=l.payload,f=l.options,c=l.type;if((!f||!f.root)&&(c=e+c,process.env.NODE_ENV!=="production"&&!t._mutations[c])){console.error("[vuex] unknown local mutation type: "+l.type+", global type: "+c);return}t.commit(c,d,f)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return xv(t,e)}},state:{get:function(){return pm(t.state,r)}}}),i}function xv(t,e){if(!t._makeLocalGettersCache[e]){var r={},n=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function kN(t,e,r,n){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){r.call(t,n.state,s)})}function IN(t,e,r,n){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},s);return EN(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function DN(t,e,r,n){if(t._wrappedGetters[e]){process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate getter key: "+e);return}t._wrappedGetters[e]=function(o){return r(n.state,n.getters,o.state,o.getters)}}function MN(t){u.watch(function(){return t._state.data},function(){process.env.NODE_ENV!=="production"&&gi(t._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function pm(t,e){return e.reduce(function(r,n){return r[n]},t)}function zd(t,e,r){return TN(t)&&t.type&&(r=e,e=t,t=t.type),process.env.NODE_ENV!=="production"&&gi(typeof t=="string","expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:r}}var NN="vuex bindings",Tv="vuex:mutations",mm="vuex:actions",Fa="vuex",ON=0;function LN(t,e){vv({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[NN]},function(r){r.addTimelineLayer({id:Tv,label:"Vuex Mutations",color:Ev}),r.addTimelineLayer({id:mm,label:"Vuex Actions",color:Ev}),r.addInspector({id:Fa,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(n){if(n.app===t&&n.inspectorId===Fa)if(n.filter){var i=[];Iv(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[kv(e._modules.root,"")]}),r.on.getInspectorState(function(n){if(n.app===t&&n.inspectorId===Fa){var i=n.nodeId;xv(e,i),n.state=PN(UN(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),r.on.editInspectorState(function(n){if(n.app===t&&n.inspectorId===Fa){var i=n.nodeId,o=n.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){n.set(e._state.data,o,n.state.value)})}}),e.subscribe(function(n,i){var o={};n.payload&&(o.payload=n.payload),o.state=i,r.notifyComponentUpdate(),r.sendInspectorTree(Fa),r.sendInspectorState(Fa),r.addTimelineEvent({layerId:Tv,event:{time:Date.now(),title:n.type,data:o}})}),e.subscribeAction({before:function(n,i){var o={};n.payload&&(o.payload=n.payload),n._id=ON++,n._time=Date.now(),o.state=i,r.addTimelineEvent({layerId:mm,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:o}})},after:function(n,i){var o={},s=Date.now()-n._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},n.payload&&(o.payload=n.payload),o.state=i,r.addTimelineEvent({layerId:mm,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:o}})}})})}var Ev=8702998,BN=6710886,RN=16777215,Cv={label:"namespaced",textColor:RN,backgroundColor:BN};function Sv(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function kv(t,e){return{id:e||"root",label:Sv(e),tags:t.namespaced?[Cv]:[],children:Object.keys(t._children).map(function(r){return kv(t._children[r],e+r+"/")})}}function Iv(t,e,r,n){n.includes(r)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[Cv]:[]}),Object.keys(e._children).forEach(function(i){Iv(t,e._children[i],r,n+i+"/")})}function PN(t,e,r){e=r==="root"?e:e[r];var n=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(n.length){var o=FN(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?Sv(s):s,editable:!1,value:gm(function(){return o[s]})}})}return i}function FN(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split("/");if(n.length>1){var i=e,o=n.pop();n.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=gm(function(){return t[r]})}else e[r]=gm(function(){return t[r]})}),e}function UN(t,e){var r=e.split("/").filter(function(n){return n});return r.reduce(function(n,i,o){var s=n[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===r.length-1?s:s._children},e==="root"?t:t.root._children)}function gm(t){try{return t()}catch(e){return e}}var yi=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},Dv={namespaced:{configurable:!0}};Dv.namespaced.get=function(){return!!this._rawModule.namespaced},yi.prototype.addChild=function(e,r){this._children[e]=r},yi.prototype.removeChild=function(e){delete this._children[e]},yi.prototype.getChild=function(e){return this._children[e]},yi.prototype.hasChild=function(e){return e in this._children},yi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},yi.prototype.forEachChild=function(e){Ms(this._children,e)},yi.prototype.forEachGetter=function(e){this._rawModule.getters&&Ms(this._rawModule.getters,e)},yi.prototype.forEachAction=function(e){this._rawModule.actions&&Ms(this._rawModule.actions,e)},yi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ms(this._rawModule.mutations,e)},Object.defineProperties(yi.prototype,Dv);var Ns=function(e){this.register([],e,!1)};Ns.prototype.get=function(e){return e.reduce(function(r,n){return r.getChild(n)},this.root)},Ns.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")},Ns.prototype.update=function(e){Mv([],this.root,e)},Ns.prototype.register=function(e,r,n){var i=this;n===void 0&&(n=!0),process.env.NODE_ENV!=="production"&&Lv(e,r);var o=new yi(r,n);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}r.modules&&Ms(r.modules,function(a,l){i.register(e.concat(l),a,n)})},Ns.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1],i=r.getChild(n);if(!i){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to unregister module '"+n+"', which is not registered");return}i.runtime&&r.removeChild(n)},Ns.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1];return r?r.hasChild(n):!1};function Mv(t,e,r){if(process.env.NODE_ENV!=="production"&&Lv(t,r),e.update(r),r.modules)for(var n in r.modules){if(!e.getChild(n)){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");return}Mv(t.concat(n),e.getChild(n),r.modules[n])}}var Nv={assert:function(t){return typeof t=="function"},expected:"function"},jN={assert:function(t){return typeof t=="function"||typeof t=="object"&&typeof t.handler=="function"},expected:'function or object with "handler" function'},Ov={getters:Nv,mutations:Nv,actions:jN};function Lv(t,e){Object.keys(Ov).forEach(function(r){if(e[r]){var n=Ov[r];Ms(e[r],function(i,o){gi(n.assert(i),zN(t,r,o,i,n.expected))})}})}function zN(t,e,r,n,i){var o=e+" should be "+i+' but "'+e+"."+r+'"';return t.length>0&&(o+=' in module "'+t.join(".")+'"'),o+=" is "+JSON.stringify(n)+".",o}var Nn=function t(e){var r=this;e===void 0&&(e={}),process.env.NODE_ENV!=="production"&&(gi(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),gi(this instanceof t,"store must be called with the new operator."));var n=e.plugins;n===void 0&&(n=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ns(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,d=a.commit;this.dispatch=function(h,p){return l.call(s,h,p)},this.commit=function(h,p,m){return d.call(s,h,p,m)},this.strict=i;var f=this._modules.root.state;jd(this,f,[],this._modules.root),hm(this,f),n.forEach(function(c){return c(r)})},ym={state:{configurable:!0}};Nn.prototype.install=function(e,r){e.provide(r||_v,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:process.env.NODE_ENV!=="production"||!1;n&&LN(e,this)},ym.state.get=function(){return this._state.data},ym.state.set=function(t){process.env.NODE_ENV!=="production"&&gi(!1,"use store.replaceState() to explicit replace store state.")},Nn.prototype.commit=function(e,r,n){var i=this,o=zd(e,r,n),s=o.type,a=o.payload,l=o.options,d={type:s,payload:a},f=this._mutations[s];if(!f){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown mutation type: "+s);return}this._withCommit(function(){f.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(c){return c(d,i.state)}),process.env.NODE_ENV!=="production"&&l&&l.silent&&console.warn("[vuex] mutation type: "+s+". Silent option has been removed. Use the filter functionality in the vue-devtools")},Nn.prototype.dispatch=function(e,r){var n=this,i=zd(e,r),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(!l){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown action type: "+o);return}try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(a,n.state)})}catch(f){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in before action subscribers: "),console.error(f))}var d=l.length>1?Promise.all(l.map(function(f){return f(s)})):l[0](s);return new Promise(function(f,c){d.then(function(h){try{n._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,n.state)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in after action subscribers: "),console.error(p))}f(h)},function(h){try{n._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,n.state,h)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in error action subscribers: "),console.error(p))}c(h)})})},Nn.prototype.subscribe=function(e,r){return wv(e,this._subscribers,r)},Nn.prototype.subscribeAction=function(e,r){var n=typeof e=="function"?{before:e}:e;return wv(n,this._actionSubscribers,r)},Nn.prototype.watch=function(e,r,n){var i=this;return process.env.NODE_ENV!=="production"&&gi(typeof e=="function","store.watch only accepts a function."),u.watch(function(){return e(i.state,i.getters)},r,Object.assign({},n))},Nn.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})},Nn.prototype.registerModule=function(e,r,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&(gi(Array.isArray(e),"module path must be a string or an Array."),gi(e.length>0,"cannot register the root module by using registerModule.")),this._modules.register(e,r),jd(this,this.state,e,this._modules.get(e),n.preserveState),hm(this,this.state)},Nn.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&gi(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var n=pm(r.state,e.slice(0,-1));delete n[e[e.length-1]]}),Av(this)},Nn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&gi(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},Nn.prototype.hotUpdate=function(e){this._modules.update(e),Av(this,!0)},Nn.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r},Object.defineProperties(Nn.prototype,ym);const vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVR4nO3aS04CQRAGYNSLKEGNXmS0K72ZdIWlUsU95mYSjQY16BVcaOIdjIo2LgyRx4D9HOpP2LD5+6OHoemeVksikUgkEolEEjkF0qEydA+G3sDwhcb+Xqyx2G6FNLBjUUh3p93+gfMSQL4F5PHvi541cqcVOLbTdk+NxdDQdc+WQn6fBodHz8Qij+3YnJcppKu/4HDoedifGeZL54VQ9tpzCz2jF2Lt+2Wv7aW46J7tguGn2cX8qrp8FBrr/eoqAqKjY0Oik8GGQEN5vp8U1ifaYhXyS3JYH+jksS7R2WBdoLPD/gedLXYddPbYVdCNwdZZOFhoo7A1Z7pZ2NXRDcDWRzcIa7P4BuXuD0cu2HFj0FAfmz9ab9LPEtRYVMTYLvKSVVZQ2aNhjeVitmiN3Fn3e5kdWjvYcMsGrR3uLiaP1h62UpNFa4/7xsmhdYBN8mTQOuCJQHS0jnD8EQ0Nm3ZcCoaGMRf7S9A3TssQcQeQP2Nhlz7yYOijqqptp2WA/BgTuxhNI+dFJ9g7VoYfJjNt6NrbYwZ17yd2DJOrjkbRV2ASiUQikUgkku9P4AsjhYRlvSHnTwAAAABJRU5ErkJggg==",$N={class:"relative"},VN=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],HN=["src"],qN={key:1,class:"flex h-[300px] w-[300px] items-center justify-center bg-gray-200 text-[150px] font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300"},WN=u.defineComponent({__name:"AvatarModal",props:{url:{},name:{}},setup(t){const e=hn(),r=t,n=u.ref(!1);n.value=r.url.length===0;const i=()=>{n.value=!0};return(o,s)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl overflow-hidden flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",$N,[u.createElementVNode("button",{class:"absolute right-2 top-2 ml-auto flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:s[0]||(s[0]=a=>u.unref(e).closeAll())},VN),n.value?(u.openBlock(),u.createElementBlock("div",qN,u.toDisplayString(o.name&&o.name.length>0?o.name.charAt(0).toUpperCase():""),1)):(u.openBlock(),u.createElementBlock("img",{key:0,src:o.url,class:"h-[300px] w-[300px] object-cover",onError:i},null,40,HN))])]),_:1}))}}),GN=["src"],Wn=u.defineComponent({__name:"AvatarView",props:{url:{},name:{}},setup(t){const e=t,r=u.ref(!1);r.value=e.url.length===0;const n=()=>{r.value=!0};u.watch(()=>[e.url,e.name],()=>{r.value=!1});const i=()=>{const{open:o}=bo({component:WN,attrs:{url:e.url,name:e.name}});o()};return(o,s)=>r.value?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex h-[50px] w-[50px] cursor-pointer items-center justify-center rounded-2xl bg-gray-200 text-xl font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300",onClick:u.withModifiers(i,["stop"])},u.toDisplayString(o.name&&o.name.length>0?o.name.charAt(0).toUpperCase():""),1)):(u.openBlock(),u.createElementBlock("img",{key:0,src:o.url,class:"h-[50px] w-[50px] cursor-pointer rounded-2xl object-cover",onError:n,onClick:u.withModifiers(i,["stop"])},null,40,GN))}});function Bv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bv(Object(r),!0).forEach(function(n){XN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function KN(t,e,r){return e&&YN(t.prototype,e),t}function XN(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JN(t){return ZN(t)||e6(t)||t6(t)||r6()}function ZN(t){if(Array.isArray(t))return bm(t)}function e6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t6(t,e){if(t){if(typeof t=="string")return bm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bm(t,e)}}function bm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ua={FRONT:"FRONT",BEHIND:"BEHIND"},Os={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},Rv=2,n6=function(){function t(e,r){QN(this,t),this.init(e,r)}return KN(t,[{key:"init",value:function(r,n){this.param=r,this.callUpdate=n,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=Os.INIT,this.offset=0,this.direction="",this.range=Object.create(null),r&&this.checkRange(0,r.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var r=Object.create(null);return r.start=this.range.start,r.end=this.range.end,r.padFront=this.range.padFront,r.padBehind=this.range.padBehind,r}},{key:"isBehind",value:function(){return this.direction===Ua.BEHIND}},{key:"isFront",value:function(){return this.direction===Ua.FRONT}},{key:"getOffset",value:function(r){return(r<1?0:this.getIndexOffset(r))+this.param.slotHeaderSize}},{key:"updateParam",value:function(r,n){var i=this;this.param&&r in this.param&&(r==="uniqueIds"&&this.sizes.forEach(function(o,s){n.includes(s)||i.sizes.delete(s)}),this.param[r]=n)}},{key:"saveSize",value:function(r,n){this.sizes.set(r,n),this.calcType===Os.INIT?(this.fixedSizeValue=n,this.calcType=Os.FIXED):this.calcType===Os.FIXED&&this.fixedSizeValue!==n&&(this.calcType=Os.DYNAMIC,delete this.fixedSizeValue),this.calcType!==Os.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=JN(this.sizes.values()).reduce(function(i,o){return i+o},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var r=this.range.start;this.isFront()?r=r-Rv:this.isBehind()&&(r=r+Rv),r=Math.max(r,0),this.updateRange(this.range.start,this.getEndByStart(r))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(r){this.direction=r<this.offset?Ua.FRONT:Ua.BEHIND,this.offset=r,this.param&&(this.direction===Ua.FRONT?this.handleFront():this.direction===Ua.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var r=this.getScrollOvers();if(!(r>this.range.start)){var n=Math.max(r-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}}},{key:"handleBehind",value:function(){var r=this.getScrollOvers();r<this.range.start+this.param.buffer||this.checkRange(r,this.getEndByStart(r))}},{key:"getScrollOvers",value:function(){var r=this.offset-this.param.slotHeaderSize;if(r<=0)return 0;if(this.isFixedType())return Math.floor(r/this.fixedSizeValue);for(var n=0,i=0,o=0,s=this.param.uniqueIds.length;n<=s;){if(i=n+Math.floor((s-n)/2),o=this.getIndexOffset(i),o===r)return i;o<r?n=i+1:o>r&&(s=i-1)}return n>0?--n:0}},{key:"getIndexOffset",value:function(r){if(!r)return 0;for(var n=0,i=0,o=0;o<r;o++)i=this.sizes.get(this.param.uniqueIds[o]),n=n+(typeof i=="number"?i:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,r-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}},{key:"isFixedType",value:function(){return this.calcType===Os.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(r,n){var i=this.param.keeps,o=this.param.uniqueIds.length;o<=i?(r=0,n=this.getLastIndex()):n-r<i-1&&(r=n-i+1),this.range.start!==r&&this.updateRange(r,n)}},{key:"updateRange",value:function(r,n){this.range.start=r,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(r){var n=r+this.param.keeps-1,i=Math.min(n,this.getLastIndex());return i}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var r=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-r)*this.fixedSizeValue:this.lastCalcIndex===n?this.getIndexOffset(n)-this.getIndexOffset(r):(n-r)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),t}(),i6={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},o6={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},s6={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},Pv=function(e,r,n){var i=null,o=u.computed(function(){return e.horizontal?"offsetWidth":"offsetHeight"}),s=function(){return r.value?r.value[o.value]:0},a=function(){var d=e.event,f=e.uniqueKey,c=e.hasInitial;n(d,f,s(),c)};u.onMounted(function(){typeof ResizeObserver<"u"&&(i=new ResizeObserver(function(){a()}),r.value&&i.observe(r.value))}),u.onUpdated(function(){a()}),u.onUnmounted(function(){i&&(i.disconnect(),i=null)})},a6=u.defineComponent({name:"VirtualListItem",props:o6,emits:["itemResize"],setup:function(e,r){var n=r.emit,i=u.ref(null);return Pv(e,i,n),function(){var o=e.tag,s=e.component,a=e.extraProps,l=a===void 0?{}:a,d=e.index,f=e.source,c=e.scopedSlots,h=c===void 0?{}:c,p=e.uniqueKey,m=$d($d({},l),{},{source:f,index:d});return u.createVNode(o,{key:p,ref:i},{default:function(){return[u.createVNode(s,$d($d({},m),{},{scopedSlots:h}),null)]}})}}}),Fv=u.defineComponent({name:"VirtualListSlot",props:s6,emits:["slotResize"],setup:function(e,r){var n=r.slots,i=r.emit,o=u.ref(null);return Pv(e,o,i),function(){var s,a=e.tag,l=e.uniqueKey;return u.createVNode(a,{ref:o,key:l},{default:function(){return[(s=n.default)===null||s===void 0?void 0:s.call(n)]}})}}}),Mc;(function(t){t.ITEM="itemResize",t.SLOT="slotResize"})(Mc||(Mc={}));var ja;(function(t){t.HEADER="thead",t.FOOTER="tfoot"})(ja||(ja={}));var Vd=u.defineComponent({name:"VirtualList",props:i6,setup:function(e,r){var n=r.emit,i=r.slots,o=r.expose,s=e.direction==="horizontal",a=s?"scrollLeft":"scrollTop",l=u.ref(null),d=u.ref(),f=u.ref(null),c;u.watch(function(){return e.dataSources.length},function(){c.updateParam("uniqueIds",x()),c.handleDataSourcesChange()}),u.watch(function(){return e.keeps},function(F){c.updateParam("keeps",F),c.handleSlotSizeChange()}),u.watch(function(){return e.start},function(F){M(F)}),u.watch(function(){return e.offset},function(F){return E(F)});var h=function(z){return c.sizes.get(z)},p=function(){return e.pageMode?document.documentElement[a]||document.body[a]:d.value?Math.ceil(d.value[a]):0},m=function(){var z=s?"clientWidth":"clientHeight";return e.pageMode?document.documentElement[z]||document.body[z]:d.value?Math.ceil(d.value[z]):0},y=function(){var z=s?"scrollWidth":"scrollHeight";return e.pageMode?document.documentElement[z]||document.body[z]:d.value?Math.ceil(d.value[z]):0},b=function(z,W,B,P){n("scroll",P,c.getRange()),c.isFront()&&e.dataSources.length&&z-e.topThreshold<=0?n("totop"):c.isBehind()&&z+W+e.bottomThreshold>=B&&n("tobottom")},v=function(z){var W=p(),B=m(),P=y();W<0||W+B>P+1||!P||(c.handleScroll(W),b(W,B,P,z))},x=function(){var z=e.dataKey,W=e.dataSources,B=W===void 0?[]:W;return B.map(function(P){return typeof z=="function"?z(P):P[z]})},S=function(z){l.value=z},I=function(){c=new n6({slotHeaderSize:0,slotFooterSize:0,keeps:e.keeps,estimateSize:e.estimateSize,buffer:Math.round(e.keeps/3),uniqueIds:x()},S),l.value=c.getRange()},M=function(z){if(z>=e.dataSources.length-1)R();else{var W=c.getOffset(z);E(W)}},E=function(z){e.pageMode?(document.body[a]=z,document.documentElement[a]=z):d.value&&(d.value[a]=z)},L=function(){for(var z=[],W=l.value,B=W.start,P=W.end,re=e.dataSources,H=e.dataKey,O=e.itemClass,T=e.itemTag,V=e.itemStyle,K=e.extraProps,Y=e.dataComponent,Q=e.itemScopedSlots,ue=B;ue<=P;ue++){var J=re[ue];if(J){var oe=typeof H=="function"?H(J):J[H];typeof oe=="string"||typeof oe=="number"?z.push(u.createVNode(a6,{index:ue,tag:T,event:Mc.ITEM,horizontal:s,uniqueKey:oe,source:J,extraProps:K,component:Y,scopedSlots:Q,style:V,class:"".concat(O).concat(e.itemClassAdd?" "+e.itemClassAdd(ue):""),onItemResize:D},null)):console.warn("Cannot get the data-key '".concat(H,"' from data-sources."))}else console.warn("Cannot get the index '".concat(ue,"' from data-sources."))}return z},D=function(z,W){c.saveSize(z,W),n("resized",z,W)},C=function(z,W,B){z===ja.HEADER?c.updateParam("slotHeaderSize",W):z===ja.FOOTER&&c.updateParam("slotFooterSize",W),B&&c.handleSlotSizeChange()},R=function F(){if(f.value){var z=f.value[s?"offsetLeft":"offsetTop"];E(z),setTimeout(function(){p()+m()<y()&&F()},3)}},$=function(){if(d.value){var z=d.value.getBoundingClientRect(),W=d.value.ownerDocument.defaultView,B=s?z.left+W.pageXOffset:z.top+W.pageYOffset;c.updateParam("slotHeaderSize",B)}},U=function(){return c.sizes.size};return u.onBeforeMount(function(){I()}),u.onActivated(function(){E(c.offset)}),u.onMounted(function(){e.start?M(e.start):e.offset&&E(e.offset),e.pageMode&&($(),document.addEventListener("scroll",v,{passive:!1}))}),u.onUnmounted(function(){c.destroy(),e.pageMode&&document.removeEventListener("scroll",v)}),o({scrollToBottom:R,getSizes:U,getSize:h,getOffset:p,getScrollSize:y,getClientSize:m,scrollToOffset:E,scrollToIndex:M}),function(){var F=e.pageMode,z=e.rootTag,W=e.wrapTag,B=e.wrapClass,P=e.wrapStyle,re=e.headerTag,H=e.headerClass,O=e.headerStyle,T=e.footerTag,V=e.footerClass,K=e.footerStyle,Y=l.value,Q=Y.padFront,ue=Y.padBehind,J={padding:s?"0px ".concat(ue,"px 0px ").concat(Q,"px"):"".concat(Q,"px 0px ").concat(ue,"px")},oe=P?Object.assign({},P,J):J,se=i.header,le=i.footer;return u.createVNode(z,{ref:d,onScroll:!F&&v},{default:function(){return[se&&u.createVNode(Fv,{class:H,style:O,tag:re,event:Mc.SLOT,uniqueKey:ja.HEADER,onSlotResize:C},{default:function(){return[se()]}}),u.createVNode(W,{class:B,style:oe},{default:function(){return[L()]}}),le&&u.createVNode(Fv,{class:V,style:K,tag:T,event:Mc.SLOT,uniqueKey:ja.FOOTER,onSlotResize:C},{default:function(){return[le()]}}),u.createVNode("div",{ref:f,style:{width:s?"0px":"100%",height:s?"100%":"0px"}},null)]}})}}});const l6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20id='Layer'%20height='512'%20viewBox='0%200%2024%2024'%20width='512'%20version='1.1'%20sodipodi:docname='unsend-message.svg'%20inkscape:version='1.2%20(dc2aeda,%202022-05-15)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1053'%20/%3e%3csodipodi:namedview%20id='namedview1051'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='1.7128906'%20inkscape:cx='256'%20inkscape:cy='256.58381'%20inkscape:window-width='1390'%20inkscape:window-height='847'%20inkscape:window-x='1828'%20inkscape:window-y='70'%20inkscape:window-maximized='0'%20inkscape:current-layer='Layer'%20/%3e%3cpath%20id='chat-dots-times'%20d='m13.745%2020.847a.749.749%200%200%201%20-.654.835%209.688%209.688%200%200%201%20-5.165-.835%201.189%201.189%200%200%200%20-.875-.025l-2.489.836a1.77%201.77%200%200%201%20-.557.091%201.76%201.76%200%200%201%20-1.664-2.308l.841-2.5a1.181%201.181%200%200%200%20-.027-.858%209.746%209.746%200%201%201%2018.595-4.083%208.936%208.936%200%200%201%20-.065%201.09.75.75%200%201%201%20-1.489-.181%207.585%207.585%200%200%200%20.054-.909%208.249%208.249%200%201%200%20-15.737%203.442%202.68%202.68%200%200%201%20.094%201.963l-.843%202.512a.24.24%200%200%200%20.064.255.244.244%200%200%200%20.257.064l2.5-.839a2.681%202.681%200%200%201%201.981.093%208.159%208.159%200%200%200%204.347.7.756.756%200%200%201%20.832.657zm7.785-4.377a.749.749%200%200%200%20-1.06%200l-1.47%201.469-1.47-1.469a.75.75%200%200%200%20-1.06%201.06l1.469%201.47-1.469%201.47a.75.75%200%201%200%201.06%201.06l1.47-1.469%201.47%201.469a.75.75%200%200%200%201.06-1.06l-1.469-1.47%201.469-1.47a.749.749%200%200%200%200-1.06zm-9.52-5.47a1.005%201.005%200%201%200%20.01%200zm5.01%201a1%201%200%200%200%20-1-1h-.01a1%201%200%201%200%201.01%201zm-9.01-1a1.005%201.005%200%201%200%20.01%200z'%20fill='rgb(0,0,0)'%20style='fill:%234b5563;fill-opacity:1'%20/%3e%3c/svg%3e",Uv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR4nO2ZS0oDQRCGBwT1AD5AfN1E0KhJV1QSuzSuYqqCiOBar6AHiBHBA3gLieglfIsLcRPduFBQesKYjijCTLckWB/MIh3yd1X13wn8CQJBEP4vs8vFcUDaB6Q7hfwGyO9xHxV+nu4AqaryNOa9+OwizSjk5yRFw0+P5idYKqW8Tt5b8dhsIotro14aaNgmOnq6zGB5EhG7k2giYnd2kaZA89Wntua9wAcNrzY2McW71M6aJprDuXEjurLWB8hH0Wv7wiad/FeMnn2xg6TMFXgQkC+MYLRmezXwALjUV0iHX8U6qwFNjx3dAHwjJg38AsgJWIiFYgBiIQuxUAxALGQhFooBiIUsxEIxALGQhVgoBiAW+mUaHZVKqNZiu8I1zbe+ciFYKqWsoV0nFlSa7yPB+QINhZsgVa0I8Mps6iKZyyBPtyRzSJXkDSDXmsVSIVzL01gYwPrMRpHqTrJRhbxtebLWctTemqC6iRgDFywsr46A5pdm4Eob0XtmQuaYTYbp4v8BFepQxXkqDci71nRe7SY6golisRc0nbVMTdOJwvJKOlcejr6d2prp3PqAQj71eHGPvDeRTm/2KKQd+044eTSdmwg/+CvCi420BZqPze9E/AtMD4B0kMZS/58VLwhC0FZ8ALiaxMwFZ/dcAAAAAElFTkSuQmCC",jv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR4nO2Xu4sUQRCHC8HHJYqgiAgmXqKpkQgqIjjTtRss9m/v9MBzqpbB9TA08MUECv4DcslhaCSYGZkoCAZiYCCoaGRwoKKooIi6K+OB2w4LB+exsyX9wUQzDPV1PbqbKBKpj2RmZqOD3GpCJ8li8OzlIUP7DF1MkO0ho8H3GdpzkFNkNfgUnTmyQBKDr4kkrnxNJP/ZyveHPl7eM+Q1Qx8x5KaDXuRjeujg7OyGWgUcZL4SbG9Zmb/E9Kvzcoe9TAOYGN8MYPnHQT8w9ErjeL6lbokeQ7vhN3yiu5lxckfa1v0OmbKX6wx9OlxEPjP0cpKcXT9WEsNoIN/JkAsMfTYkIy9cWw7QuEuUFEWxhpG1nNfHFYkfzsul8v3YS5SUgaZeOw76riJye2QT618lSprTuo293q1MrPtHkG8iKxJLZSVXK5m4V2smVnIfSNGZc15+huVUV08suindvZL/NCCnK+V0nqzdiRlybSAh38s9hSxRlD0RNraX5yPd7FaDo618+9LBsIZSWi0Y2g0EPpbHFLJWSg7y5M9U8lKQNRyydiDw1lwvFL8bWl4OplLWIms4L0W4uZE1mtDJQODT3jxfS9bgoIwakH1kDYYsBDe5c2QN5+XMYBrpDbJGis7h4GjxgKyRTOW7glPqK7JGgmxrIPCGrAFgIhilX8gaANYFAt/IGogCkUgkQiPgF1+GFsoZdsMBAAAAAElFTkSuQmCC";var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var zv={exports:{}};/*!
 * Autolinker.js
 * v4.0.0
 *
 * Copyright(c) 2024 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r="4.0.0";function n(te){return te===void 0}function i(te){return typeof te=="boolean"}function o(te,Z){for(var ae in Z)Z.hasOwnProperty(ae)&&n(te[ae])&&(te[ae]=Z[ae]);return te}function s(te,Z,ae){var be;return te.length>Z&&(ae==null?(ae="&hellip;",be=3):be=ae.length,te=te.substring(0,Z-be)+ae),te}function a(te,Z){for(var ae=te.length-1;ae>=0;ae--)te[ae]===Z&&te.splice(ae,1)}function l(te,Z){for(var ae=te.length-1;ae>=0;ae--)Z(te[ae])===!0&&te.splice(ae,1)}function d(te){throw new Error("Unhandled case for value: '".concat(te,"'"))}var f=/[A-Za-z]/,c=/[\d]/,h=/\s/,p=/['"]/,m=/[\x00-\x1F\x7F]/,y=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,b=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source,v=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,x=y+b+v,S=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,I=x+S,M=new RegExp("[".concat(I,"]")),E=function(){function te(Z){Z===void 0&&(Z={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=Z.tagName||"",this.attrs=Z.attrs||{},this.innerHTML=Z.innerHtml||Z.innerHTML||""}return te.prototype.setTagName=function(Z){return this.tagName=Z,this},te.prototype.getTagName=function(){return this.tagName||""},te.prototype.setAttr=function(Z,ae){var be=this.getAttrs();return be[Z]=ae,this},te.prototype.getAttr=function(Z){return this.getAttrs()[Z]},te.prototype.setAttrs=function(Z){return Object.assign(this.getAttrs(),Z),this},te.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},te.prototype.setClass=function(Z){return this.setAttr("class",Z)},te.prototype.addClass=function(Z){for(var ae=this.getClass(),be=ae?ae.split(h):[],Je=Z.split(h),ot;ot=Je.shift();)be.indexOf(ot)===-1&&be.push(ot);return this.getAttrs().class=be.join(" "),this},te.prototype.removeClass=function(Z){for(var ae=this.getClass(),be=ae?ae.split(h):[],Je=Z.split(h),ot;be.length&&(ot=Je.shift());){var Nt=be.indexOf(ot);Nt!==-1&&be.splice(Nt,1)}return this.getAttrs().class=be.join(" "),this},te.prototype.getClass=function(){return this.getAttrs().class||""},te.prototype.hasClass=function(Z){return(" "+this.getClass()+" ").indexOf(" "+Z+" ")!==-1},te.prototype.setInnerHTML=function(Z){return this.innerHTML=Z,this},te.prototype.setInnerHtml=function(Z){return this.setInnerHTML(Z)},te.prototype.getInnerHTML=function(){return this.innerHTML||""},te.prototype.getInnerHtml=function(){return this.getInnerHTML()},te.prototype.toAnchorString=function(){var Z=this.getTagName(),ae=this.buildAttrsStr();return ae=ae?" "+ae:"",["<",Z,ae,">",this.getInnerHtml(),"</",Z,">"].join("")},te.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var Z=this.getAttrs(),ae=[];for(var be in Z)Z.hasOwnProperty(be)&&ae.push(be+'="'+Z[be]+'"');return ae.join(" ")},te}();function L(te,Z,ae){var be,Je;ae==null?(ae="&hellip;",Je=3,be=8):(Je=ae.length,be=ae.length);var ot=function(hr){var vr={},jt=hr,zt=jt.match(/^([a-z]+):\/\//i);return zt&&(vr.scheme=zt[1],jt=jt.substr(zt[0].length)),zt=jt.match(/^(.*?)(?=(\?|#|\/|$))/i),zt&&(vr.host=zt[1],jt=jt.substr(zt[0].length)),zt=jt.match(/^\/(.*?)(?=(\?|#|$))/i),zt&&(vr.path=zt[1],jt=jt.substr(zt[0].length)),zt=jt.match(/^\?(.*?)(?=(#|$))/i),zt&&(vr.query=zt[1],jt=jt.substr(zt[0].length)),zt=jt.match(/^#(.*?)$/i),zt&&(vr.fragment=zt[1]),vr},Nt=function(hr){var vr="";return hr.scheme&&hr.host&&(vr+=hr.scheme+"://"),hr.host&&(vr+=hr.host),hr.path&&(vr+="/"+hr.path),hr.query&&(vr+="?"+hr.query),hr.fragment&&(vr+="#"+hr.fragment),vr},br=function(hr,vr){var jt=vr/2,zt=Math.ceil(jt),ws=-1*Math.floor(jt),po="";return ws<0&&(po=hr.substr(ws)),hr.substr(0,zt)+ae+po};if(te.length<=Z)return te;var pt=Z-Je,Tt=ot(te);if(Tt.query){var De=Tt.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);De&&(Tt.query=Tt.query.substr(0,De[1].length),te=Nt(Tt))}if(te.length<=Z||(Tt.host&&(Tt.host=Tt.host.replace(/^www\./,""),te=Nt(Tt)),te.length<=Z))return te;var rt="";if(Tt.host&&(rt+=Tt.host),rt.length>=pt)return Tt.host.length==Z?(Tt.host.substr(0,Z-Je)+ae).substr(0,pt+be):br(rt,pt).substr(0,pt+be);var Ne="";if(Tt.path&&(Ne+="/"+Tt.path),Tt.query&&(Ne+="?"+Tt.query),Ne)if((rt+Ne).length>=pt){if((rt+Ne).length==Z)return(rt+Ne).substr(0,Z);var St=pt-rt.length;return(rt+br(Ne,St)).substr(0,pt+be)}else rt+=Ne;if(Tt.fragment){var Ze="#"+Tt.fragment;if((rt+Ze).length>=pt){if((rt+Ze).length==Z)return(rt+Ze).substr(0,Z);var hi=pt-rt.length;return(rt+br(Ze,hi)).substr(0,pt+be)}else rt+=Ze}if(Tt.scheme&&Tt.host){var Pi=Tt.scheme+"://";if((rt+Pi).length<pt)return(Pi+rt).substr(0,Z)}if(rt.length<=Z)return rt;var zo="";return pt>0&&(zo=rt.substr(-1*Math.floor(pt/2))),(rt.substr(0,Math.ceil(pt/2))+ae+zo).substr(0,pt+be)}function D(te,Z,ae){if(te.length<=Z)return te;var be,Je;ae==null?(ae="&hellip;",be=8,Je=3):(be=ae.length,Je=ae.length);var ot=Z-Je,Nt="";return ot>0&&(Nt=te.substr(-1*Math.floor(ot/2))),(te.substr(0,Math.ceil(ot/2))+ae+Nt).substr(0,ot+be)}function C(te,Z,ae){return s(te,Z,ae)}var R=function(){function te(Z){Z===void 0&&(Z={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=Z.newWindow||!1,this.truncate=Z.truncate||{},this.className=Z.className||""}return te.prototype.build=function(Z){return new E({tagName:"a",attrs:this.createAttrs(Z),innerHtml:this.processAnchorText(Z.getAnchorText())})},te.prototype.createAttrs=function(Z){var ae={href:Z.getAnchorHref()},be=this.createCssClass(Z);return be&&(ae.class=be),this.newWindow&&(ae.target="_blank",ae.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<Z.getAnchorText().length&&(ae.title=Z.getAnchorHref()),ae},te.prototype.createCssClass=function(Z){var ae=this.className;if(ae){for(var be=[ae],Je=Z.getCssClassSuffixes(),ot=0,Nt=Je.length;ot<Nt;ot++)be.push(ae+"-"+Je[ot]);return be.join(" ")}else return""},te.prototype.processAnchorText=function(Z){return Z=this.doTruncate(Z),Z},te.prototype.doTruncate=function(Z){var ae=this.truncate;if(!ae||!ae.length)return Z;var be=ae.length,Je=ae.location;return Je==="smart"?L(Z,be):Je==="middle"?D(Z,be):C(Z,be)},te}(),$=function(te,Z){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,be){ae.__proto__=be}||function(ae,be){for(var Je in be)Object.prototype.hasOwnProperty.call(be,Je)&&(ae[Je]=be[Je])},$(te,Z)};function U(te,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");$(te,Z);function ae(){this.constructor=te}te.prototype=Z===null?Object.create(Z):(ae.prototype=Z.prototype,new ae)}var F=function(){return F=Object.assign||function(Z){for(var ae,be=1,Je=arguments.length;be<Je;be++){ae=arguments[be];for(var ot in ae)Object.prototype.hasOwnProperty.call(ae,ot)&&(Z[ot]=ae[ot])}return Z},F.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var z=function(){function te(Z){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=Z.tagBuilder,this.matchedText=Z.matchedText,this.offset=Z.offset}return te.prototype.getMatchedText=function(){return this.matchedText},te.prototype.setOffset=function(Z){this.offset=Z},te.prototype.getOffset=function(){return this.offset},te.prototype.getCssClassSuffixes=function(){return[this.type]},te.prototype.buildTag=function(){return this.tagBuilder.build(this)},te}(),W="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermgensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich||||||||abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)",B=new RegExp("^"+W+"$"),P=/[\/?#]/,re=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,H=/[?!:,.;^]/,O=/https?:\/\//i,T=new RegExp("^"+O.source,"i"),V=new RegExp(H.source+"$"),K=/^(javascript|vbscript):/i,Y=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Q=/^(?:\/\/)?([^/#?:]+)/;function ue(te){return M.test(te)}function J(te){return M.test(te)||c.test(te)||te==="+"||te==="-"||te==="."}function oe(te){return M.test(te)}function se(te){return te==="_"||oe(te)}function le(te){return M.test(te)||re.test(te)||H.test(te)}function ge(te){return P.test(te)}function we(te){return B.test(te.toLowerCase())}function Ie(te){if(K.test(te))return!1;var Z=te.match(Y);if(!Z)return!1;var ae=!!Z[1],be=Z[2];return ae?!0:!(be.indexOf(".")===-1||!f.test(be))}function ce(te){var Z=te.match(Q);if(!Z)return!1;var ae=Z[0],be=ae.split(".");if(be.length<2)return!1;var Je=be[be.length-1];return!!we(Je)}var Ce=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,We=/[:/?#]/;function pe(te){var Z=te.split(We,1)[0];return Ce.test(Z)}var Ee=/^(https?:\/\/)?(www\.)?/i,Fe=/^\/\//,j=function(te){U(Z,te);function Z(ae){var be=te.call(this,ae)||this;return be.type="url",be.url="",be.urlMatchType="scheme",be.protocolRelativeMatch=!1,be.stripPrefix={scheme:!0,www:!0},be.stripTrailingSlash=!0,be.decodePercentEncoding=!0,be.protocolPrepended=!1,be.urlMatchType=ae.urlMatchType,be.url=ae.url,be.protocolRelativeMatch=ae.protocolRelativeMatch,be.stripPrefix=ae.stripPrefix,be.stripTrailingSlash=ae.stripTrailingSlash,be.decodePercentEncoding=ae.decodePercentEncoding,be}return Z.prototype.getType=function(){return"url"},Z.prototype.getUrlMatchType=function(){return this.urlMatchType},Z.prototype.getUrl=function(){var ae=this.url;return!this.protocolRelativeMatch&&this.urlMatchType!=="scheme"&&!this.protocolPrepended&&(ae=this.url="http://"+ae,this.protocolPrepended=!0),ae},Z.prototype.getAnchorHref=function(){var ae=this.getUrl();return ae.replace(/&amp;/g,"&")},Z.prototype.getAnchorText=function(){var ae=this.getMatchedText();return this.protocolRelativeMatch&&(ae=Ae(ae)),this.stripPrefix.scheme&&(ae=q(ae)),this.stripPrefix.www&&(ae=fe(ae)),this.stripTrailingSlash&&(ae=Me(ae)),this.decodePercentEncoding&&(ae=Be(ae)),ae},Z}(z);function q(te){return te.replace(T,"")}function fe(te){return te.replace(Ee,"$1")}function Ae(te){return te.replace(Fe,"")}function Me(te){return te.charAt(te.length-1)==="/"&&(te=te.slice(0,-1)),te}function Be(te){var Z=te.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(Z)}catch{return Z}}var Qe=/^mailto:/i,me=new RegExp("[".concat(I,"!#$%&'*+/=?^_`{|}~-]"));function xe(te){return M.test(te)}function Ge(te){return me.test(te)}function at(te){var Z=te.split(".").pop()||"";return we(Z)}var _t=function(te){U(Z,te);function Z(ae){var be=te.call(this,ae)||this;return be.type="email",be.email="",be.email=ae.email,be}return Z.prototype.getType=function(){return"email"},Z.prototype.getEmail=function(){return this.email},Z.prototype.getAnchorHref=function(){return"mailto:"+this.email},Z.prototype.getAnchorText=function(){return this.email},Z}(z);function Ke(te){return te==="_"||M.test(te)}function Pt(te){return te.length<=140}var vt=["twitter","facebook","instagram","tiktok"],lr=function(te){U(Z,te);function Z(ae){var be=te.call(this,ae)||this;return be.type="hashtag",be.serviceName="twitter",be.hashtag="",be.serviceName=ae.serviceName,be.hashtag=ae.hashtag,be}return Z.prototype.getType=function(){return"hashtag"},Z.prototype.getServiceName=function(){return this.serviceName},Z.prototype.getHashtag=function(){return this.hashtag},Z.prototype.getAnchorHref=function(){var ae=this.serviceName,be=this.hashtag;switch(ae){case"twitter":return"https://twitter.com/hashtag/"+be;case"facebook":return"https://www.facebook.com/hashtag/"+be;case"instagram":return"https://instagram.com/explore/tags/"+be;case"tiktok":return"https://www.tiktok.com/tag/"+be;default:throw d(ae),new Error("Invalid hashtag service: ".concat(ae))}},Z.prototype.getAnchorText=function(){return"#"+this.hashtag},Z.prototype.getCssClassSuffixes=function(){var ae=te.prototype.getCssClassSuffixes.call(this),be=this.getServiceName();return be&&ae.push(be),ae},Z}(z),dr={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},Bi=/[-\w.]/;function uo(te){return Bi.test(te)}function fo(te,Z){var ae=dr[Z];return ae.test(te)}var Ri=["twitter","instagram","soundcloud","tiktok"],ho=function(te){U(Z,te);function Z(ae){var be=te.call(this,ae)||this;return be.type="mention",be.serviceName="twitter",be.mention="",be.mention=ae.mention,be.serviceName=ae.serviceName,be}return Z.prototype.getType=function(){return"mention"},Z.prototype.getMention=function(){return this.mention},Z.prototype.getServiceName=function(){return this.serviceName},Z.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},Z.prototype.getAnchorText=function(){return"@"+this.mention},Z.prototype.getCssClassSuffixes=function(){var ae=te.prototype.getCssClassSuffixes.call(this),be=this.getServiceName();return be&&ae.push(be),ae},Z}(z),Ur=/[-. ]/,jr=/[-. ()]/,ui=/[,;]/,zn=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/,nr=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/,$n=new RegExp("^".concat(zn.source,"|").concat(nr.source,"$"));function ln(te){return Ur.test(te)}function Ta(te){return ui.test(te)}function Ea(te){var Z=te.charAt(0)==="+"||jr.test(te);return Z&&$n.test(te)}var fr=function(te){U(Z,te);function Z(ae){var be=te.call(this,ae)||this;return be.type="phone",be.number="",be.plusSign=!1,be.number=ae.number,be.plusSign=ae.plusSign,be}return Z.prototype.getType=function(){return"phone"},Z.prototype.getPhoneNumber=function(){return this.number},Z.prototype.getNumber=function(){return this.getPhoneNumber()},Z.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},Z.prototype.getAnchorText=function(){return this.matchedText},Z}(z);function cn(te,Z){for(var ae=Z.tagBuilder,be=Z.stripPrefix,Je=Z.stripTrailingSlash,ot=Z.decodePercentEncoding,Nt=Z.hashtagServiceName,br=Z.mentionServiceName,pt=[],Tt=te.length,De=[],rt=0;rt<Tt;rt++){var Ne=te.charAt(rt);if(De.length===0)Pi(Ne);else for(var St=De.length-1;St>=0;St--){var Ze=De[St];switch(Ze.state){case 11:ws(Ze,Ne);break;case 12:po(Ze,Ne);break;case 0:zo(Ze,Ne);break;case 1:hr(Ze,Ne);break;case 2:vr(Ze,Ne);break;case 3:jt(Ze,Ne);break;case 4:zt(Ze,Ne);break;case 5:Ca(Ze,Ne);break;case 6:un(Ze,Ne);break;case 7:_d(Ze,Ne);break;case 13:As(Ze,Ne);break;case 14:$o(Ze,Ne);break;case 8:xs(Ze,Ne);break;case 9:mo(Ze,Ne);break;case 10:Sa(Ze,Ne);break;case 15:pc(Ze,Ne);break;case 16:ka(Ze,Ne);break;case 17:wd(Ze,Ne);break;case 18:dn(Ze,Ne);break;case 19:Mn(Ze,Ne);break;case 20:zr(Ze,Ne);break;case 21:mc(Ze,Ne);break;case 22:qn(Ze,Ne);break;case 23:gc(Ze,Ne);break;case 24:Oe(Ze,Ne);break;case 25:jp(Ze,Ne);break;case 26:Eb(Ze,Ne);break;case 27:yc(Ze,Ne);break;case 28:Ia(Ze,Ne);break;case 29:zp(Ze,Ne);break;case 30:Cb(Ze,Ne);break;case 31:Sb(Ze,Ne);break;case 32:Vp(Ze,Ne);break;case 33:kb(Ze,Ne);break;case 34:Hp(Ze,Ne);break;case 35:Ib(Ze,Ne);break;case 36:Db(Ze,Ne);break;case 37:$p(Ze,Ne);break;case 38:Mb(Ze,Ne);break;case 39:Nb(Ze,Ne);break;case 40:Ob(Ze,Ne);break;case 41:Lb(Ze,Ne);break;default:d(Ze.state)}}}for(var hi=De.length-1;hi>=0;hi--)De.forEach(function(de){return qt(de)});return pt;function Pi(de){if(de==="#")De.push(Lt(rt,28));else if(de==="@")De.push(Tb(rt,30));else if(de==="/")De.push(di(rt,11));else if(de==="+")De.push(_s(rt,37));else if(de==="(")De.push(_s(rt,32));else{if(c.test(de)&&(De.push(_s(rt,38)),De.push(Dn(rt,13))),xe(de)){var ve=de.toLowerCase()==="m"?15:22;De.push(vs(rt,ve))}ue(de)&&De.push(Hn(rt,0)),M.test(de)&&De.push(di(rt,5))}}function zo(de,ve){ve===":"?de.state=2:ve==="-"?de.state=1:J(ve)||a(De,de)}function hr(de,ve){ve==="-"||(ve==="/"?(a(De,de),De.push(di(rt,11))):J(ve)?de.state=0:a(De,de))}function vr(de,ve){ve==="/"?de.state=3:ve==="."?a(De,de):oe(ve)?(de.state=5,ue(ve)&&De.push(Hn(rt,0))):a(De,de)}function jt(de,ve){ve==="/"?de.state=4:le(ve)?(de.state=10,de.acceptStateReached=!0):qt(de)}function zt(de,ve){ve==="/"?de.state=10:oe(ve)?(de.state=5,de.acceptStateReached=!0):a(De,de)}function ws(de,ve){ve==="/"?de.state=12:a(De,de)}function po(de,ve){oe(ve)?de.state=5:a(De,de)}function Ca(de,ve){ve==="."?de.state=7:ve==="-"?de.state=6:ve===":"?de.state=8:ge(ve)?de.state=10:se(ve)||qt(de)}function un(de,ve){ve==="-"||(ve==="."?qt(de):oe(ve)?de.state=5:qt(de))}function _d(de,ve){ve==="."?qt(de):oe(ve)?(de.state=5,de.acceptStateReached=!0):qt(de)}function As(de,ve){ve==="."?de.state=14:ve===":"?de.state=8:c.test(ve)||(ge(ve)?de.state=10:M.test(ve)?a(De,de):qt(de))}function $o(de,ve){c.test(ve)?(de.octetsEncountered++,de.octetsEncountered===4&&(de.acceptStateReached=!0),de.state=13):qt(de)}function xs(de,ve){c.test(ve)?de.state=9:qt(de)}function mo(de,ve){c.test(ve)||(ge(ve)?de.state=10:qt(de))}function Sa(de,ve){le(ve)||qt(de)}function pc(de,ve){ve.toLowerCase()==="a"?de.state=16:qn(de,ve)}function ka(de,ve){ve.toLowerCase()==="i"?de.state=17:qn(de,ve)}function wd(de,ve){ve.toLowerCase()==="l"?de.state=18:qn(de,ve)}function dn(de,ve){ve.toLowerCase()==="t"?de.state=19:qn(de,ve)}function Mn(de,ve){ve.toLowerCase()==="o"?de.state=20:qn(de,ve)}function zr(de,ve){ve.toLowerCase()===":"?de.state=21:qn(de,ve)}function mc(de,ve){Ge(ve)?de.state=22:a(De,de)}function qn(de,ve){ve==="."?de.state=23:ve==="@"?de.state=24:Ge(ve)?de.state=22:a(De,de)}function gc(de,ve){ve==="."||ve==="@"?a(De,de):Ge(ve)?de.state=22:a(De,de)}function Oe(de,ve){oe(ve)?de.state=25:a(De,de)}function jp(de,ve){ve==="."?de.state=27:ve==="-"?de.state=26:se(ve)||qt(de)}function Eb(de,ve){ve==="-"||ve==="."?qt(de):se(ve)?de.state=25:qt(de)}function yc(de,ve){ve==="."||ve==="-"?qt(de):oe(ve)?(de.state=25,de.acceptStateReached=!0):qt(de)}function Ia(de,ve){Ke(ve)?(de.state=29,de.acceptStateReached=!0):a(De,de)}function zp(de,ve){Ke(ve)||qt(de)}function Cb(de,ve){uo(ve)?(de.state=31,de.acceptStateReached=!0):a(De,de)}function Sb(de,ve){uo(ve)||(M.test(ve)?a(De,de):qt(de))}function $p(de,ve){c.test(ve)?de.state=38:(a(De,de),Pi(ve))}function Vp(de,ve){c.test(ve)?de.state=33:a(De,de),Pi(ve)}function kb(de,ve){c.test(ve)?de.state=34:a(De,de)}function Hp(de,ve){c.test(ve)?de.state=35:a(De,de)}function Ib(de,ve){ve===")"?de.state=36:a(De,de)}function Db(de,ve){c.test(ve)?de.state=38:ln(ve)?de.state=39:a(De,de)}function Mb(de,ve){de.acceptStateReached=!0,Ta(ve)?de.state=40:ve==="#"?de.state=41:c.test(ve)||(ve==="("?de.state=32:ln(ve)?de.state=39:(qt(de),ue(ve)&&De.push(Hn(rt,0))))}function Nb(de,ve){c.test(ve)?de.state=38:ve==="("?de.state=32:(qt(de),Pi(ve))}function Ob(de,ve){Ta(ve)||(ve==="#"?de.state=41:c.test(ve)?de.state=38:qt(de))}function Lb(de,ve){Ta(ve)?de.state=40:c.test(ve)?a(De,de):qt(de)}function qt(de){if(a(De,de),!!de.acceptStateReached){var ve=de.startIdx,Bt=te.slice(de.startIdx,rt);if(Bt=Vn(Bt),de.type==="url"){var Bb=te.charAt(de.startIdx-1);if(Bb==="@")return;var Da=de.matchType;if(Da==="scheme"){var Ad=O.exec(Bt);if(Ad&&(ve=ve+Ad.index,Bt=Bt.slice(Ad.index)),!Ie(Bt))return}else if(Da==="tld"){if(!ce(Bt))return}else if(Da==="ipV4"){if(!pe(Bt))return}else d(Da);pt.push(new j({tagBuilder:ae,matchedText:Bt,offset:ve,urlMatchType:Da,url:Bt,protocolRelativeMatch:Bt.slice(0,2)==="//",stripPrefix:be,stripTrailingSlash:Je,decodePercentEncoding:ot}))}else if(de.type==="email")at(Bt)&&pt.push(new _t({tagBuilder:ae,matchedText:Bt,offset:ve,email:Bt.replace(Qe,"")}));else if(de.type==="hashtag")Pt(Bt)&&pt.push(new lr({tagBuilder:ae,matchedText:Bt,offset:ve,serviceName:Nt,hashtag:Bt.slice(1)}));else if(de.type==="mention")fo(Bt,br)&&pt.push(new ho({tagBuilder:ae,matchedText:Bt,offset:ve,serviceName:br,mention:Bt.slice(1)}));else if(de.type==="phone"){if(Bt=Bt.replace(/ +$/g,""),Ea(Bt)){var Rb=Bt.replace(/[^0-9,;#]/g,"");pt.push(new fr({tagBuilder:ae,matchedText:Bt,offset:ve,number:Rb,plusSign:Bt.charAt(0)==="+"}))}}else d(de)}}}var Br=/[\(\{\[]/,Er=/[\)\}\]]/,Mt={")":"(","}":"{","]":"["};function Vn(te){for(var Z={"(":0,"{":0,"[":0},ae=0;ae<te.length;ae++){var be=te.charAt(ae);Br.test(be)?Z[be]++:Er.test(be)&&Z[Mt[be]]--}for(var Je=te.length-1,ot;Je>=0;)if(ot=te.charAt(Je),Er.test(ot)){var Nt=Mt[ot];if(Z[Nt]<0)Z[Nt]++,Je--;else break}else if(V.test(ot))Je--;else break;return te.slice(0,Je+1)}function Hn(te,Z){return{type:"url",startIdx:te,state:Z,acceptStateReached:!1,matchType:"scheme"}}function di(te,Z){return{type:"url",startIdx:te,state:Z,acceptStateReached:!1,matchType:"tld"}}function Dn(te,Z){return{type:"url",startIdx:te,state:Z,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}function vs(te,Z){return{type:"email",startIdx:te,state:Z,acceptStateReached:!1}}function Lt(te,Z){return{type:"hashtag",startIdx:te,state:Z,acceptStateReached:!1}}function Tb(te,Z){return{type:"mention",startIdx:te,state:Z,acceptStateReached:!1}}function _s(te,Z){return{type:"phone",startIdx:te,state:Z,acceptStateReached:!1}}function fc(te,Z){for(var ae=Z.onOpenTag,be=Z.onCloseTag,Je=Z.onText,ot=Z.onComment,Nt=Z.onDoctype,br=new fi,pt=0,Tt=te.length,De=0,rt=0,Ne=br;pt<Tt;){var St=te.charAt(pt);switch(De){case 0:Ze(St);break;case 1:hi(St);break;case 2:zo(St);break;case 3:Pi(St);break;case 4:hr(St);break;case 5:vr(St);break;case 6:jt(St);break;case 7:zt(St);break;case 8:ws(St);break;case 9:po(St);break;case 10:Ca(St);break;case 11:un(St);break;case 12:_d(St);break;case 13:As();break;case 14:$o(St);break;case 15:xs(St);break;case 16:mo(St);break;case 17:Sa(St);break;case 18:pc(St);break;case 19:ka(St);break;case 20:wd(St);break;default:d(De)}pt++}rt<pt&&mc();function Ze(Oe){Oe==="<"&&Mn()}function hi(Oe){Oe==="!"?De=13:Oe==="/"?(De=2,Ne=new fi(F(F({},Ne),{isClosing:!0}))):Oe==="<"?Mn():f.test(Oe)?(De=3,Ne=new fi(F(F({},Ne),{isOpening:!0}))):(De=0,Ne=br)}function Pi(Oe){h.test(Oe)?(Ne=new fi(F(F({},Ne),{name:qn()})),De=4):Oe==="<"?Mn():Oe==="/"?(Ne=new fi(F(F({},Ne),{name:qn()})),De=12):Oe===">"?(Ne=new fi(F(F({},Ne),{name:qn()})),zr()):!f.test(Oe)&&!c.test(Oe)&&Oe!==":"&&dn()}function zo(Oe){Oe===">"?dn():f.test(Oe)?De=3:dn()}function hr(Oe){h.test(Oe)||(Oe==="/"?De=12:Oe===">"?zr():Oe==="<"?Mn():Oe==="="||p.test(Oe)||m.test(Oe)?dn():De=5)}function vr(Oe){h.test(Oe)?De=6:Oe==="/"?De=12:Oe==="="?De=7:Oe===">"?zr():Oe==="<"?Mn():p.test(Oe)&&dn()}function jt(Oe){h.test(Oe)||(Oe==="/"?De=12:Oe==="="?De=7:Oe===">"?zr():Oe==="<"?Mn():p.test(Oe)?dn():De=5)}function zt(Oe){h.test(Oe)||(Oe==='"'?De=8:Oe==="'"?De=9:/[>=`]/.test(Oe)?dn():Oe==="<"?Mn():De=10)}function ws(Oe){Oe==='"'&&(De=11)}function po(Oe){Oe==="'"&&(De=11)}function Ca(Oe){h.test(Oe)?De=4:Oe===">"?zr():Oe==="<"&&Mn()}function un(Oe){h.test(Oe)?De=4:Oe==="/"?De=12:Oe===">"?zr():Oe==="<"?Mn():(De=4,gc())}function _d(Oe){Oe===">"?(Ne=new fi(F(F({},Ne),{isClosing:!0})),zr()):De=4}function As(Oe){te.substr(pt,2)==="--"?(pt+=2,Ne=new fi(F(F({},Ne),{type:"comment"})),De=14):te.substr(pt,7).toUpperCase()==="DOCTYPE"?(pt+=7,Ne=new fi(F(F({},Ne),{type:"doctype"})),De=20):dn()}function $o(Oe){Oe==="-"?De=15:Oe===">"?dn():De=16}function xs(Oe){Oe==="-"?De=18:Oe===">"?dn():De=16}function mo(Oe){Oe==="-"&&(De=17)}function Sa(Oe){Oe==="-"?De=18:De=16}function pc(Oe){Oe===">"?zr():Oe==="!"?De=19:Oe==="-"||(De=16)}function ka(Oe){Oe==="-"?De=17:Oe===">"?zr():De=16}function wd(Oe){Oe===">"?zr():Oe==="<"&&Mn()}function dn(){De=0,Ne=br}function Mn(){De=1,Ne=new fi({idx:pt})}function zr(){var Oe=te.slice(rt,Ne.idx);Oe&&Je(Oe,rt),Ne.type==="comment"?ot(Ne.idx):Ne.type==="doctype"?Nt(Ne.idx):(Ne.isOpening&&ae(Ne.name,Ne.idx),Ne.isClosing&&be(Ne.name,Ne.idx)),dn(),rt=pt+1}function mc(){var Oe=te.slice(rt,pt);Je(Oe,rt),rt=pt+1}function qn(){var Oe=Ne.idx+(Ne.isClosing?2:1);return te.slice(Oe,pt).toLowerCase()}function gc(){pt--}}var fi=function(){function te(Z){Z===void 0&&(Z={}),this.idx=Z.idx!==void 0?Z.idx:-1,this.type=Z.type||"tag",this.name=Z.name||"",this.isOpening=!!Z.isOpening,this.isClosing=!!Z.isClosing}return te}(),jo=function(){function te(Z){Z===void 0&&(Z={}),this.version=te.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=Yt(Z.urls),this.email=i(Z.email)?Z.email:this.email,this.phone=i(Z.phone)?Z.phone:this.phone,this.hashtag=Z.hashtag||this.hashtag,this.mention=Z.mention||this.mention,this.newWindow=i(Z.newWindow)?Z.newWindow:this.newWindow,this.stripPrefix=Up(Z.stripPrefix),this.stripTrailingSlash=i(Z.stripTrailingSlash)?Z.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=i(Z.decodePercentEncoding)?Z.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=Z.sanitizeHtml||!1;var ae=this.mention;if(ae!==!1&&Ri.indexOf(ae)===-1)throw new Error("invalid `mention` cfg '".concat(ae,"' - see docs"));var be=this.hashtag;if(be!==!1&&vt.indexOf(be)===-1)throw new Error("invalid `hashtag` cfg '".concat(be,"' - see docs"));this.truncate=hc(Z.truncate),this.className=Z.className||this.className,this.replaceFn=Z.replaceFn||this.replaceFn,this.context=Z.context||this}return te.link=function(Z,ae){var be=new te(ae);return be.link(Z)},te.parse=function(Z,ae){var be=new te(ae);return be.parse(Z)},te.prototype.parse=function(Z){var ae=this,be=["a","style","script"],Je=0,ot=[];return fc(Z,{onOpenTag:function(Nt){be.indexOf(Nt)>=0&&Je++},onText:function(Nt,br){if(Je===0){var pt=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,Tt=Nt.split(pt),De=br;Tt.forEach(function(rt,Ne){if(Ne%2===0){var St=ae.parseText(rt,De);ot.push.apply(ot,St)}De+=rt.length})}},onCloseTag:function(Nt){be.indexOf(Nt)>=0&&(Je=Math.max(Je-1,0))},onComment:function(Nt){},onDoctype:function(Nt){}}),ot=this.compactMatches(ot),ot=this.removeUnwantedMatches(ot),ot},te.prototype.compactMatches=function(Z){Z.sort(function(pt,Tt){return pt.getOffset()-Tt.getOffset()});for(var ae=0;ae<Z.length-1;){var be=Z[ae],Je=be.getOffset(),ot=be.getMatchedText().length,Nt=Je+ot;if(ae+1<Z.length){if(Z[ae+1].getOffset()===Je){var br=Z[ae+1].getMatchedText().length>ot?ae:ae+1;Z.splice(br,1);continue}if(Z[ae+1].getOffset()<Nt){Z.splice(ae+1,1);continue}}ae++}return Z},te.prototype.removeUnwantedMatches=function(Z){return this.hashtag||l(Z,function(ae){return ae.getType()==="hashtag"}),this.email||l(Z,function(ae){return ae.getType()==="email"}),this.phone||l(Z,function(ae){return ae.getType()==="phone"}),this.mention||l(Z,function(ae){return ae.getType()==="mention"}),this.urls.schemeMatches||l(Z,function(ae){return ae.getType()==="url"&&ae.getUrlMatchType()==="scheme"}),this.urls.tldMatches||l(Z,function(ae){return ae.getType()==="url"&&ae.getUrlMatchType()==="tld"}),this.urls.ipV4Matches||l(Z,function(ae){return ae.getType()==="url"&&ae.getUrlMatchType()==="ipV4"}),Z},te.prototype.parseText=function(Z,ae){ae===void 0&&(ae=0),ae=ae||0;for(var be=cn(Z,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),Je=0,ot=be.length;Je<ot;Je++)be[Je].setOffset(ae+be[Je].getOffset());return be},te.prototype.link=function(Z){if(!Z)return"";this.sanitizeHtml&&(Z=Z.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var ae=this.parse(Z),be=[],Je=0,ot=0,Nt=ae.length;ot<Nt;ot++){var br=ae[ot];be.push(Z.substring(Je,br.getOffset())),be.push(this.createMatchReturnVal(br)),Je=br.getOffset()+br.getMatchedText().length}return be.push(Z.substring(Je)),be.join("")},te.prototype.createMatchReturnVal=function(Z){var ae;if(this.replaceFn&&(ae=this.replaceFn.call(this.context,Z)),typeof ae=="string")return ae;if(ae===!1)return Z.getMatchedText();if(ae instanceof E)return ae.toAnchorString();var be=Z.buildTag();return be.toAnchorString()},te.prototype.getTagBuilder=function(){var Z=this.tagBuilder;return Z||(Z=this.tagBuilder=new R({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),Z},te.version=r,te}();function Yt(te){return te==null&&(te=!0),i(te)?{schemeMatches:te,tldMatches:te,ipV4Matches:te}:{schemeMatches:i(te.schemeMatches)?te.schemeMatches:!0,tldMatches:i(te.tldMatches)?te.tldMatches:!0,ipV4Matches:i(te.ipV4Matches)?te.ipV4Matches:!0}}function Up(te){return te==null&&(te=!0),i(te)?{scheme:te,www:te}:{scheme:i(te.scheme)?te.scheme:!0,www:i(te.www)?te.www:!0}}function hc(te){return typeof te=="number"?{length:te,location:"end"}:o(te||{},{length:Number.POSITIVE_INFINITY,location:"end"})}return jo})})(zv);var u6=zv.exports;const d6=Xr(u6);class Wo{constructor(e){Pe(this,"id");Pe(this,"nickname");Pe(this,"avatarUrl");Pe(this,"country");Pe(this,"city");Pe(this,"clientType");Pe(this,"memberIds");const{_id:r,nickname:n,avatarUrl:i,country:o,city:s,clientType:a,members:l}=e;this.id=r,this.nickname=n??r,this.avatarUrl=i,this.country=o??null,this.city=s??null,this.clientType=a??null,this.memberIds={},l==null||l.forEach(d=>{this.memberIds[d._id]=!0})}}var $v={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",d="day",f="week",c="month",h="quarter",p="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var W=["th","st","nd","rd"],B=z%100;return"["+z+(W[(B-20)%10]||W[B]||W[0])+"]"}},S=function(z,W,B){var P=String(z);return!P||P.length>=W?z:""+Array(W+1-P.length).join(B)+z},I={s:S,z:function(z){var W=-z.utcOffset(),B=Math.abs(W),P=Math.floor(B/60),re=B%60;return(W<=0?"+":"-")+S(P,2,"0")+":"+S(re,2,"0")},m:function z(W,B){if(W.date()<B.date())return-z(B,W);var P=12*(B.year()-W.year())+(B.month()-W.month()),re=W.clone().add(P,c),H=B-re<0,O=W.clone().add(P+(H?-1:1),c);return+(-(P+(B-re)/(H?re-O:O-re))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:c,y:p,w:f,d,D:m,h:l,m:a,s,ms:o,Q:h}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},M="en",E={};E[M]=x;var L="$isDayjsObject",D=function(z){return z instanceof U||!(!z||!z[L])},C=function z(W,B,P){var re;if(!W)return M;if(typeof W=="string"){var H=W.toLowerCase();E[H]&&(re=H),B&&(E[H]=B,re=H);var O=W.split("-");if(!re&&O.length>1)return z(O[0])}else{var T=W.name;E[T]=W,re=T}return!P&&re&&(M=re),re||!P&&M},R=function(z,W){if(D(z))return z.clone();var B=typeof W=="object"?W:{};return B.date=z,B.args=arguments,new U(B)},$=I;$.l=C,$.i=D,$.w=function(z,W){return R(z,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var U=function(){function z(B){this.$L=C(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[L]=!0}var W=z.prototype;return W.parse=function(B){this.$d=function(P){var re=P.date,H=P.utc;if(re===null)return new Date(NaN);if($.u(re))return new Date;if(re instanceof Date)return new Date(re);if(typeof re=="string"&&!/Z$/i.test(re)){var O=re.match(b);if(O){var T=O[2]-1||0,V=(O[7]||"0").substring(0,3);return H?new Date(Date.UTC(O[1],T,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],T,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(re)}(B),this.init()},W.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},W.$utils=function(){return $},W.isValid=function(){return this.$d.toString()!==y},W.isSame=function(B,P){var re=R(B);return this.startOf(P)<=re&&re<=this.endOf(P)},W.isAfter=function(B,P){return R(B)<this.startOf(P)},W.isBefore=function(B,P){return this.endOf(P)<R(B)},W.$g=function(B,P,re){return $.u(B)?this[P]:this.set(re,B)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(B,P){var re=this,H=!!$.u(P)||P,O=$.p(B),T=function(se,le){var ge=$.w(re.$u?Date.UTC(re.$y,le,se):new Date(re.$y,le,se),re);return H?ge:ge.endOf(d)},V=function(se,le){return $.w(re.toDate()[se].apply(re.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(le)),re)},K=this.$W,Y=this.$M,Q=this.$D,ue="set"+(this.$u?"UTC":"");switch(O){case p:return H?T(1,0):T(31,11);case c:return H?T(1,Y):T(0,Y+1);case f:var J=this.$locale().weekStart||0,oe=(K<J?K+7:K)-J;return T(H?Q-oe:Q+(6-oe),Y);case d:case m:return V(ue+"Hours",0);case l:return V(ue+"Minutes",1);case a:return V(ue+"Seconds",2);case s:return V(ue+"Milliseconds",3);default:return this.clone()}},W.endOf=function(B){return this.startOf(B,!1)},W.$set=function(B,P){var re,H=$.p(B),O="set"+(this.$u?"UTC":""),T=(re={},re[d]=O+"Date",re[m]=O+"Date",re[c]=O+"Month",re[p]=O+"FullYear",re[l]=O+"Hours",re[a]=O+"Minutes",re[s]=O+"Seconds",re[o]=O+"Milliseconds",re)[H],V=H===d?this.$D+(P-this.$W):P;if(H===c||H===p){var K=this.clone().set(m,1);K.$d[T](V),K.init(),this.$d=K.set(m,Math.min(this.$D,K.daysInMonth())).$d}else T&&this.$d[T](V);return this.init(),this},W.set=function(B,P){return this.clone().$set(B,P)},W.get=function(B){return this[$.p(B)]()},W.add=function(B,P){var re,H=this;B=Number(B);var O=$.p(P),T=function(Y){var Q=R(H);return $.w(Q.date(Q.date()+Math.round(Y*B)),H)};if(O===c)return this.set(c,this.$M+B);if(O===p)return this.set(p,this.$y+B);if(O===d)return T(1);if(O===f)return T(7);var V=(re={},re[a]=n,re[l]=i,re[s]=r,re)[O]||1,K=this.$d.getTime()+B*V;return $.w(K,this)},W.subtract=function(B,P){return this.add(-1*B,P)},W.format=function(B){var P=this,re=this.$locale();if(!this.isValid())return re.invalidDate||y;var H=B||"YYYY-MM-DDTHH:mm:ssZ",O=$.z(this),T=this.$H,V=this.$m,K=this.$M,Y=re.weekdays,Q=re.months,ue=re.meridiem,J=function(le,ge,we,Ie){return le&&(le[ge]||le(P,H))||we[ge].slice(0,Ie)},oe=function(le){return $.s(T%12||12,le,"0")},se=ue||function(le,ge,we){var Ie=le<12?"AM":"PM";return we?Ie.toLowerCase():Ie};return H.replace(v,function(le,ge){return ge||function(we){switch(we){case"YY":return String(P.$y).slice(-2);case"YYYY":return $.s(P.$y,4,"0");case"M":return K+1;case"MM":return $.s(K+1,2,"0");case"MMM":return J(re.monthsShort,K,Q,3);case"MMMM":return J(Q,K);case"D":return P.$D;case"DD":return $.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return J(re.weekdaysMin,P.$W,Y,2);case"ddd":return J(re.weekdaysShort,P.$W,Y,3);case"dddd":return Y[P.$W];case"H":return String(T);case"HH":return $.s(T,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return se(T,V,!0);case"A":return se(T,V,!1);case"m":return String(V);case"mm":return $.s(V,2,"0");case"s":return String(P.$s);case"ss":return $.s(P.$s,2,"0");case"SSS":return $.s(P.$ms,3,"0");case"Z":return O}return null}(le)||O.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(B,P,re){var H,O=this,T=$.p(P),V=R(B),K=(V.utcOffset()-this.utcOffset())*n,Y=this-V,Q=function(){return $.m(O,V)};switch(T){case p:H=Q()/12;break;case c:H=Q();break;case h:H=Q()/3;break;case f:H=(Y-K)/6048e5;break;case d:H=(Y-K)/864e5;break;case l:H=Y/i;break;case a:H=Y/n;break;case s:H=Y/r;break;default:H=Y}return re?H:$.a(H)},W.daysInMonth=function(){return this.endOf(c).$D},W.$locale=function(){return E[this.$L]},W.locale=function(B,P){if(!B)return this.$L;var re=this.clone(),H=C(B,P,!0);return H&&(re.$L=H),re},W.clone=function(){return $.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},z}(),F=U.prototype;return R.prototype=F,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",d],["$M",c],["$y",p],["$D",m]].forEach(function(z){F[z[1]]=function(W){return this.$g(W,z[0],z[1])}}),R.extend=function(z,W){return z.$i||(z(W,U,R),z.$i=!0),R},R.locale=C,R.isDayjs=D,R.unix=function(z){return R(1e3*z)},R.en=E[M],R.Ls=E,R.p={},R})})($v);var f6=$v.exports;const Dr=Xr(f6);var Vv={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,o,s){var a,l=function(h,p,m){m===void 0&&(m={});var y=new Date(h),b=function(v,x){x===void 0&&(x={});var S=x.timeZoneName||"short",I=v+"|"+S,M=n[I];return M||(M=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:S}),n[I]=M),M}(p,m);return b.formatToParts(y)},d=function(h,p){for(var m=l(h,p),y=[],b=0;b<m.length;b+=1){var v=m[b],x=v.type,S=v.value,I=r[x];I>=0&&(y[I]=parseInt(S,10))}var M=y[3],E=M===24?0:M,L=y[0]+"-"+y[1]+"-"+y[2]+" "+E+":"+y[4]+":"+y[5]+":000",D=+h;return(s.utc(L).valueOf()-(D-=D%1e3))/6e4},f=o.prototype;f.tz=function(h,p){h===void 0&&(h=a);var m=this.utcOffset(),y=this.toDate(),b=y.toLocaleString("en-US",{timeZone:h}),v=Math.round((y-new Date(b))/1e3/60),x=s(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(y.getTimezoneOffset()/15)-v,!0);if(p){var S=x.utcOffset();x=x.add(m-S,"minute")}return x.$x.$timezone=h,x},f.offsetName=function(h){var p=this.$x.$timezone||s.tz.guess(),m=l(this.valueOf(),p,{timeZoneName:h}).find(function(y){return y.type.toLowerCase()==="timezonename"});return m&&m.value};var c=f.startOf;f.startOf=function(h,p){if(!this.$x||!this.$x.$timezone)return c.call(this,h,p);var m=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(m,h,p).tz(this.$x.$timezone,!0)},s.tz=function(h,p,m){var y=m&&p,b=m||p||a,v=d(+s(),b);if(typeof h!="string")return s(h).tz(b);var x=function(E,L,D){var C=E-60*L*1e3,R=d(C,D);if(L===R)return[C,L];var $=d(C-=60*(R-L)*1e3,D);return R===$?[C,R]:[E-60*Math.min(R,$)*1e3,Math.max(R,$)]}(s.utc(h,y).valueOf(),v,b),S=x[0],I=x[1],M=s(S).utcOffset(I);return M.$x.$timezone=b,M},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(h){a=h}}})})(Vv);var h6=Vv.exports;const p6=Xr(h6);/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const bi=typeof window<"u";let On,Ls;if(process.env.NODE_ENV!=="production"){const t=bi&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(On=e=>{t.mark(e)},Ls=(e,r,n)=>{t.measure(e,r,n),t.clearMarks(r),t.clearMarks(n)})}const m6=/\{([0-9a-zA-Z]+)\}/g;function vm(t,...e){return e.length===1&&kt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(m6,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const Ui=(t,e=!1)=>e?Symbol.for(t):Symbol(t),g6=(t,e,r)=>y6({l:t,k:e,s:r}),y6=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Cr=t=>typeof t=="number"&&isFinite(t),b6=t=>Gv(t)==="[object Date]",Go=t=>Gv(t)==="[object RegExp]",Hd=t=>lt(t)&&Object.keys(t).length===0,Rr=Object.assign;let Hv;const _o=()=>Hv||(Hv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qv(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const v6=Object.prototype.hasOwnProperty;function qd(t,e){return v6.call(t,e)}const Wt=Array.isArray,Vt=t=>typeof t=="function",Ue=t=>typeof t=="string",bt=t=>typeof t=="boolean",kt=t=>t!==null&&typeof t=="object",_6=t=>kt(t)&&Vt(t.then)&&Vt(t.catch),Wv=Object.prototype.toString,Gv=t=>Wv.call(t),lt=t=>{if(!kt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},w6=t=>t==null?"":Wt(t)||lt(t)&&t.toString===Wv?JSON.stringify(t,null,2):String(t);function A6(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const Qv=2;function x6(t,e=0,r=t.length){const n=t.split(/\r?\n/);let i=0;const o=[];for(let s=0;s<n.length;s++)if(i+=n[s].length+1,i>=e){for(let a=s-Qv;a<=s+Qv||r>i;a++){if(a<0||a>=n.length)continue;const l=a+1;o.push(`${l}${" ".repeat(3-String(l).length)}|  ${n[a]}`);const d=n[a].length;if(a===s){const f=e-(i-d)+1,c=Math.max(1,r>i?d-f:r-e);o.push("   |  "+" ".repeat(f)+"^".repeat(c))}else if(a>s){if(r>i){const f=Math.max(Math.min(r-i,d),1);o.push("   |  "+"^".repeat(f))}i+=d+1}}break}return o.join(`
`)}function Wd(t){let e=t;return()=>++e}function Sr(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Yv={};function Kv(t){Yv[t]||(Yv[t]=!0,Sr(t))}function _m(){const t=new Map;return{events:t,on(r,n){const i=t.get(r);i&&i.push(n)||t.set(r,[n])},off(r,n){const i=t.get(r);i&&i.splice(i.indexOf(n)>>>0,1)},emit(r,n){(t.get(r)||[]).slice().map(i=>i(n)),(t.get("*")||[]).slice().map(i=>i(r,n))}}}const Gd=t=>!kt(t)||Wt(t);function Qd(t,e){if(Gd(t)||Gd(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(o=>{Gd(n[o])||Gd(i[o])?i[o]=n[o]:r.push({src:n[o],des:i[o]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function T6(t,e,r){return{line:t,column:e,offset:r}}function Yd(t,e,r){return{start:t,end:e}}const E6=/\{([0-9a-zA-Z]+)\}/g;function Xv(t,...e){return e.length===1&&C6(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(E6,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const Jv=Object.assign,Zv=t=>typeof t=="string",C6=t=>t!==null&&typeof t=="object";function e2(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const Kd={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},S6={[Kd.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function k6(t,e,...r){const n=Xv(S6[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const st={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},I6={[st.EXPECTED_TOKEN]:"Expected token: '{0}'",[st.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[st.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[st.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[st.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[st.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[st.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[st.EMPTY_PLACEHOLDER]:"Empty placeholder",[st.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[st.INVALID_LINKED_FORMAT]:"Invalid linked format",[st.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[st.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[st.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[st.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[st.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[st.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function za(t,e,r={}){const{domain:n,messages:i,args:o}=r,s=Xv((i||I6)[t]||"",...o||[]),a=new SyntaxError(String(s));return a.code=t,e&&(a.location=e),a.domain=n,a}function D6(t){throw t}const M6=/<\/?[\w\s="/.':;#-\/]+>/,N6=t=>M6.test(t),wo=" ",O6="\r",Jr=`
`,L6="\u2028",B6="\u2029";function R6(t){const e=t;let r=0,n=1,i=1,o=0;const s=L=>e[L]===O6&&e[L+1]===Jr,a=L=>e[L]===Jr,l=L=>e[L]===B6,d=L=>e[L]===L6,f=L=>s(L)||a(L)||l(L)||d(L),c=()=>r,h=()=>n,p=()=>i,m=()=>o,y=L=>s(L)||l(L)||d(L)?Jr:e[L],b=()=>y(r),v=()=>y(r+o);function x(){return o=0,f(r)&&(n++,i=0),s(r)&&r++,r++,i++,e[r]}function S(){return s(r+o)&&o++,o++,e[r+o]}function I(){r=0,n=1,i=1,o=0}function M(L=0){o=L}function E(){const L=r+o;for(;L!==r;)x();o=0}return{index:c,line:h,column:p,peekOffset:m,charAt:y,currentChar:b,currentPeek:v,next:x,peek:S,reset:I,resetPeek:M,skipToPeek:E}}const Qo=void 0,P6=".",t2="'",F6="tokenizer";function U6(t,e={}){const r=e.location!==!1,n=R6(t),i=()=>n.index(),o=()=>T6(n.line(),n.column(),n.index()),s=o(),a=i(),l={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},d=()=>l,{onError:f}=e;function c(j,q,fe,...Ae){const Me=d();if(q.column+=fe,q.offset+=fe,f){const Be=r?Yd(Me.startLoc,q):null,Qe=za(j,Be,{domain:F6,args:Ae});f(Qe)}}function h(j,q,fe){j.endLoc=o(),j.currentType=q;const Ae={type:q};return r&&(Ae.loc=Yd(j.startLoc,j.endLoc)),fe!=null&&(Ae.value=fe),Ae}const p=j=>h(j,14);function m(j,q){return j.currentChar()===q?(j.next(),q):(c(st.EXPECTED_TOKEN,o(),0,q),"")}function y(j){let q="";for(;j.currentPeek()===wo||j.currentPeek()===Jr;)q+=j.currentPeek(),j.peek();return q}function b(j){const q=y(j);return j.skipToPeek(),q}function v(j){if(j===Qo)return!1;const q=j.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q===95}function x(j){if(j===Qo)return!1;const q=j.charCodeAt(0);return q>=48&&q<=57}function S(j,q){const{currentType:fe}=q;if(fe!==2)return!1;y(j);const Ae=v(j.currentPeek());return j.resetPeek(),Ae}function I(j,q){const{currentType:fe}=q;if(fe!==2)return!1;y(j);const Ae=j.currentPeek()==="-"?j.peek():j.currentPeek(),Me=x(Ae);return j.resetPeek(),Me}function M(j,q){const{currentType:fe}=q;if(fe!==2)return!1;y(j);const Ae=j.currentPeek()===t2;return j.resetPeek(),Ae}function E(j,q){const{currentType:fe}=q;if(fe!==8)return!1;y(j);const Ae=j.currentPeek()===".";return j.resetPeek(),Ae}function L(j,q){const{currentType:fe}=q;if(fe!==9)return!1;y(j);const Ae=v(j.currentPeek());return j.resetPeek(),Ae}function D(j,q){const{currentType:fe}=q;if(!(fe===8||fe===12))return!1;y(j);const Ae=j.currentPeek()===":";return j.resetPeek(),Ae}function C(j,q){const{currentType:fe}=q;if(fe!==10)return!1;const Ae=()=>{const Be=j.currentPeek();return Be==="{"?v(j.peek()):Be==="@"||Be==="%"||Be==="|"||Be===":"||Be==="."||Be===wo||!Be?!1:Be===Jr?(j.peek(),Ae()):U(j,!1)},Me=Ae();return j.resetPeek(),Me}function R(j){y(j);const q=j.currentPeek()==="|";return j.resetPeek(),q}function $(j){const q=y(j),fe=j.currentPeek()==="%"&&j.peek()==="{";return j.resetPeek(),{isModulo:fe,hasSpace:q.length>0}}function U(j,q=!0){const fe=(Me=!1,Be="",Qe=!1)=>{const me=j.currentPeek();return me==="{"?Be==="%"?!1:Me:me==="@"||!me?Be==="%"?!0:Me:me==="%"?(j.peek(),fe(Me,"%",!0)):me==="|"?Be==="%"||Qe?!0:!(Be===wo||Be===Jr):me===wo?(j.peek(),fe(!0,wo,Qe)):me===Jr?(j.peek(),fe(!0,Jr,Qe)):!0},Ae=fe();return q&&j.resetPeek(),Ae}function F(j,q){const fe=j.currentChar();return fe===Qo?Qo:q(fe)?(j.next(),fe):null}function z(j){const q=j.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36}function W(j){return F(j,z)}function B(j){const q=j.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36||q===45}function P(j){return F(j,B)}function re(j){const q=j.charCodeAt(0);return q>=48&&q<=57}function H(j){return F(j,re)}function O(j){const q=j.charCodeAt(0);return q>=48&&q<=57||q>=65&&q<=70||q>=97&&q<=102}function T(j){return F(j,O)}function V(j){let q="",fe="";for(;q=H(j);)fe+=q;return fe}function K(j){b(j);const q=j.currentChar();return q!=="%"&&c(st.EXPECTED_TOKEN,o(),0,q),j.next(),"%"}function Y(j){let q="";for(;;){const fe=j.currentChar();if(fe==="{"||fe==="}"||fe==="@"||fe==="|"||!fe)break;if(fe==="%")if(U(j))q+=fe,j.next();else break;else if(fe===wo||fe===Jr)if(U(j))q+=fe,j.next();else{if(R(j))break;q+=fe,j.next()}else q+=fe,j.next()}return q}function Q(j){b(j);let q="",fe="";for(;q=P(j);)fe+=q;return j.currentChar()===Qo&&c(st.UNTERMINATED_CLOSING_BRACE,o(),0),fe}function ue(j){b(j);let q="";return j.currentChar()==="-"?(j.next(),q+=`-${V(j)}`):q+=V(j),j.currentChar()===Qo&&c(st.UNTERMINATED_CLOSING_BRACE,o(),0),q}function J(j){return j!==t2&&j!==Jr}function oe(j){b(j),m(j,"'");let q="",fe="";for(;q=F(j,J);)q==="\\"?fe+=se(j):fe+=q;const Ae=j.currentChar();return Ae===Jr||Ae===Qo?(c(st.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),Ae===Jr&&(j.next(),m(j,"'")),fe):(m(j,"'"),fe)}function se(j){const q=j.currentChar();switch(q){case"\\":case"'":return j.next(),`\\${q}`;case"u":return le(j,q,4);case"U":return le(j,q,6);default:return c(st.UNKNOWN_ESCAPE_SEQUENCE,o(),0,q),""}}function le(j,q,fe){m(j,q);let Ae="";for(let Me=0;Me<fe;Me++){const Be=T(j);if(!Be){c(st.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${q}${Ae}${j.currentChar()}`);break}Ae+=Be}return`\\${q}${Ae}`}function ge(j){return j!=="{"&&j!=="}"&&j!==wo&&j!==Jr}function we(j){b(j);let q="",fe="";for(;q=F(j,ge);)fe+=q;return fe}function Ie(j){let q="",fe="";for(;q=W(j);)fe+=q;return fe}function ce(j){const q=fe=>{const Ae=j.currentChar();return Ae==="{"||Ae==="%"||Ae==="@"||Ae==="|"||Ae==="("||Ae===")"||!Ae||Ae===wo?fe:(fe+=Ae,j.next(),q(fe))};return q("")}function Ce(j){b(j);const q=m(j,"|");return b(j),q}function We(j,q){let fe=null;switch(j.currentChar()){case"{":return q.braceNest>=1&&c(st.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),j.next(),fe=h(q,2,"{"),b(j),q.braceNest++,fe;case"}":return q.braceNest>0&&q.currentType===2&&c(st.EMPTY_PLACEHOLDER,o(),0),j.next(),fe=h(q,3,"}"),q.braceNest--,q.braceNest>0&&b(j),q.inLinked&&q.braceNest===0&&(q.inLinked=!1),fe;case"@":return q.braceNest>0&&c(st.UNTERMINATED_CLOSING_BRACE,o(),0),fe=pe(j,q)||p(q),q.braceNest=0,fe;default:{let Me=!0,Be=!0,Qe=!0;if(R(j))return q.braceNest>0&&c(st.UNTERMINATED_CLOSING_BRACE,o(),0),fe=h(q,1,Ce(j)),q.braceNest=0,q.inLinked=!1,fe;if(q.braceNest>0&&(q.currentType===5||q.currentType===6||q.currentType===7))return c(st.UNTERMINATED_CLOSING_BRACE,o(),0),q.braceNest=0,Ee(j,q);if(Me=S(j,q))return fe=h(q,5,Q(j)),b(j),fe;if(Be=I(j,q))return fe=h(q,6,ue(j)),b(j),fe;if(Qe=M(j,q))return fe=h(q,7,oe(j)),b(j),fe;if(!Me&&!Be&&!Qe)return fe=h(q,13,we(j)),c(st.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,fe.value),b(j),fe;break}}return fe}function pe(j,q){const{currentType:fe}=q;let Ae=null;const Me=j.currentChar();switch((fe===8||fe===9||fe===12||fe===10)&&(Me===Jr||Me===wo)&&c(st.INVALID_LINKED_FORMAT,o(),0),Me){case"@":return j.next(),Ae=h(q,8,"@"),q.inLinked=!0,Ae;case".":return b(j),j.next(),h(q,9,".");case":":return b(j),j.next(),h(q,10,":");default:return R(j)?(Ae=h(q,1,Ce(j)),q.braceNest=0,q.inLinked=!1,Ae):E(j,q)||D(j,q)?(b(j),pe(j,q)):L(j,q)?(b(j),h(q,12,Ie(j))):C(j,q)?(b(j),Me==="{"?We(j,q)||Ae:h(q,11,ce(j))):(fe===8&&c(st.INVALID_LINKED_FORMAT,o(),0),q.braceNest=0,q.inLinked=!1,Ee(j,q))}}function Ee(j,q){let fe={type:14};if(q.braceNest>0)return We(j,q)||p(q);if(q.inLinked)return pe(j,q)||p(q);switch(j.currentChar()){case"{":return We(j,q)||p(q);case"}":return c(st.UNBALANCED_CLOSING_BRACE,o(),0),j.next(),h(q,3,"}");case"@":return pe(j,q)||p(q);default:{if(R(j))return fe=h(q,1,Ce(j)),q.braceNest=0,q.inLinked=!1,fe;const{isModulo:Me,hasSpace:Be}=$(j);if(Me)return Be?h(q,0,Y(j)):h(q,4,K(j));if(U(j))return h(q,0,Y(j));break}}return fe}function Fe(){const{currentType:j,offset:q,startLoc:fe,endLoc:Ae}=l;return l.lastType=j,l.lastOffset=q,l.lastStartLoc=fe,l.lastEndLoc=Ae,l.offset=i(),l.startLoc=o(),n.currentChar()===Qo?h(l,14):Ee(n,l)}return{nextToken:Fe,currentOffset:i,currentPosition:o,context:d}}const j6="parser",z6=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function $6(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function V6(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(S,I,M,E,...L){const D=S.currentPosition();if(D.offset+=E,D.column+=E,r){const C=e?Yd(M,D):null,R=za(I,C,{domain:j6,args:L});r(R)}}function o(S,I,M,E,...L){const D=S.currentPosition();if(D.offset+=E,D.column+=E,n){const C=e?Yd(M,D):null;n(k6(I,C,L))}}function s(S,I,M){const E={type:S};return e&&(E.start=I,E.end=I,E.loc={start:M,end:M}),E}function a(S,I,M,E){e&&(S.end=I,S.loc&&(S.loc.end=M))}function l(S,I){const M=S.context(),E=s(3,M.offset,M.startLoc);return E.value=I,a(E,S.currentOffset(),S.currentPosition()),E}function d(S,I){const M=S.context(),{lastOffset:E,lastStartLoc:L}=M,D=s(5,E,L);return D.index=parseInt(I,10),S.nextToken(),a(D,S.currentOffset(),S.currentPosition()),D}function f(S,I,M){const E=S.context(),{lastOffset:L,lastStartLoc:D}=E,C=s(4,L,D);return C.key=I,M===!0&&(C.modulo=!0),S.nextToken(),a(C,S.currentOffset(),S.currentPosition()),C}function c(S,I){const M=S.context(),{lastOffset:E,lastStartLoc:L}=M,D=s(9,E,L);return D.value=I.replace(z6,$6),S.nextToken(),a(D,S.currentOffset(),S.currentPosition()),D}function h(S){const I=S.nextToken(),M=S.context(),{lastOffset:E,lastStartLoc:L}=M,D=s(8,E,L);return I.type!==12?(i(S,st.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),D.value="",a(D,E,L),{nextConsumeToken:I,node:D}):(I.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,vi(I)),D.value=I.value||"",a(D,S.currentOffset(),S.currentPosition()),{node:D})}function p(S,I){const M=S.context(),E=s(7,M.offset,M.startLoc);return E.value=I,a(E,S.currentOffset(),S.currentPosition()),E}function m(S){const I=S.context(),M=s(6,I.offset,I.startLoc);let E=S.nextToken();if(E.type===9){const L=h(S);M.modifier=L.node,E=L.nextConsumeToken||S.nextToken()}switch(E.type!==10&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(E)),E=S.nextToken(),E.type===2&&(E=S.nextToken()),E.type){case 11:E.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(E)),M.key=p(S,E.value||"");break;case 5:E.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(E)),M.key=f(S,E.value||"");break;case 6:E.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(E)),M.key=d(S,E.value||"");break;case 7:E.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(E)),M.key=c(S,E.value||"");break;default:{i(S,st.UNEXPECTED_EMPTY_LINKED_KEY,I.lastStartLoc,0);const L=S.context(),D=s(7,L.offset,L.startLoc);return D.value="",a(D,L.offset,L.startLoc),M.key=D,a(M,L.offset,L.startLoc),{nextConsumeToken:E,node:M}}}return a(M,S.currentOffset(),S.currentPosition()),{node:M}}function y(S){const I=S.context(),M=I.currentType===1?S.currentOffset():I.offset,E=I.currentType===1?I.endLoc:I.startLoc,L=s(2,M,E);L.items=[];let D=null,C=null;do{const U=D||S.nextToken();switch(D=null,U.type){case 0:U.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(U)),L.items.push(l(S,U.value||""));break;case 6:U.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(U)),L.items.push(d(S,U.value||""));break;case 4:C=!0;break;case 5:U.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(U)),L.items.push(f(S,U.value||"",!!C)),C&&(o(S,Kd.USE_MODULO_SYNTAX,I.lastStartLoc,0,vi(U)),C=null);break;case 7:U.value==null&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vi(U)),L.items.push(c(S,U.value||""));break;case 8:{const F=m(S);L.items.push(F.node),D=F.nextConsumeToken||null;break}}}while(I.currentType!==14&&I.currentType!==1);const R=I.currentType===1?I.lastOffset:S.currentOffset(),$=I.currentType===1?I.lastEndLoc:S.currentPosition();return a(L,R,$),L}function b(S,I,M,E){const L=S.context();let D=E.items.length===0;const C=s(1,I,M);C.cases=[],C.cases.push(E);do{const R=y(S);D||(D=R.items.length===0),C.cases.push(R)}while(L.currentType!==14);return D&&i(S,st.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(C,S.currentOffset(),S.currentPosition()),C}function v(S){const I=S.context(),{offset:M,startLoc:E}=I,L=y(S);return I.currentType===14?L:b(S,M,E,L)}function x(S){const I=U6(S,Jv({},t)),M=I.context(),E=s(0,M.offset,M.startLoc);return e&&E.loc&&(E.loc.source=S),E.body=v(I),t.onCacheKey&&(E.cacheKey=t.onCacheKey(S)),M.currentType!==14&&i(I,st.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,S[M.offset]||""),a(E,I.currentOffset(),I.currentPosition()),E}return{parse:x}}function vi(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function H6(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:o=>(r.helpers.add(o),o)}}function r2(t,e){for(let r=0;r<t.length;r++)wm(t[r],e)}function wm(t,e){switch(t.type){case 1:r2(t.cases,e),e.helper("plural");break;case 2:r2(t.items,e);break;case 6:{wm(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function q6(t,e={}){const r=H6(t);r.helper("normalize"),t.body&&wm(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function W6(t){const e=t.body;return e.type===2?n2(e):e.cases.forEach(r=>n2(r)),t}function n2(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=e2(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const G6="minifier";function $a(t){switch(t.t=t.type,t.type){case 0:{const e=t;$a(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)$a(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)$a(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;$a(e.key),e.k=e.key,delete e.key,e.modifier&&($a(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw za(st.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:G6,args:[t.type]})}delete t.type}const Q6="parser";function Y6(t,e){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:o}=e,s=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&t.loc&&(a.source=t.loc.source);const l=()=>a;function d(b,v){a.code+=b}function f(b,v=!0){const x=v?i:"";d(o?x+"  ".repeat(b):x)}function c(b=!0){const v=++a.indentLevel;b&&f(v)}function h(b=!0){const v=--a.indentLevel;b&&f(v)}function p(){f(a.indentLevel)}return{context:l,push:d,indent:c,deindent:h,newline:p,helper:b=>`_${b}`,needIndent:()=>a.needIndent}}function K6(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),Va(t,e.key),e.modifier?(t.push(", "),Va(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function X6(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let o=0;o<i&&(Va(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}function J6(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let o=0;o<i&&(Va(t,e.cases[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}}function Z6(t,e){e.body?Va(t,e.body):t.push("null")}function Va(t,e){const{helper:r}=t;switch(e.type){case 0:Z6(t,e);break;case 1:J6(t,e);break;case 2:X6(t,e);break;case 6:K6(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw za(st.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Q6,args:[e.type]})}}const eO=(t,e={})=>{const r=Zv(e.mode)?e.mode:"normal",n=Zv(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,o=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",a=t.helpers||[],l=Y6(t,{mode:r,filename:n,sourceMap:i,breakLineCode:o,needIndent:s});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${e2(a.map(c=>`${c}: _${c}`),", ")} } = ctx`),l.newline()),l.push("return "),Va(l,t),l.deindent(s),l.push("}"),delete t.helpers;const{code:d,map:f}=l.context();return{ast:t,code:d,map:f?f.toJSON():void 0}};function tO(t,e={}){const r=Jv({},e),n=!!r.jit,i=!!r.minify,o=r.optimize==null?!0:r.optimize,a=V6(r).parse(t);return n?(o&&W6(a),i&&$a(a),{ast:a,code:""}):(q6(a,r),eO(a,r))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function rO(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_o().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(_o().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(_o().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Yo=[];Yo[0]={w:[0],i:[3,0],"[":[4],o:[7]},Yo[1]={w:[1],".":[2],"[":[4],o:[7]},Yo[2]={w:[2],i:[3,0],0:[3,0]},Yo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Yo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Yo[5]={"'":[4,0],o:8,l:[5,0]},Yo[6]={'"':[4,0],o:8,l:[6,0]};const nO=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function iO(t){return nO.test(t)}function oO(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function sO(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function aO(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:iO(e)?oO(e):"*"+e}function lO(t){const e=[];let r=-1,n=0,i=0,o,s,a,l,d,f,c;const h=[];h[0]=()=>{s===void 0?s=a:s+=a},h[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,s===void 0||(s=aO(s),s===!1))return!1;h[1]()}};function p(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,h[0](),!0}for(;n!==null;)if(r++,o=t[r],!(o==="\\"&&p())){if(l=sO(o),c=Yo[n],d=c[l]||c.l||8,d===8||(n=d[0],d[1]!==void 0&&(f=h[d[1]],f&&(a=o,f()===!1))))return;if(n===7)return e}}const i2=new Map;function cO(t,e){return kt(t)?t[e]:null}function uO(t,e){if(!kt(t))return null;let r=i2.get(e);if(r||(r=lO(e),r&&i2.set(e,r)),!r)return null;const n=r.length;let i=t,o=0;for(;o<n;){const s=i[r[o]];if(s===void 0||Vt(i))return null;i=s,o++}return i}const dO=t=>t,fO=t=>"",hO="text",pO=t=>t.length===0?"":A6(t),mO=w6;function o2(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function gO(t){const e=Cr(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Cr(t.named.count)||Cr(t.named.n))?Cr(t.named.count)?t.named.count:Cr(t.named.n)?t.named.n:e:e}function yO(t,e){e.count||(e.count=t),e.n||(e.n=t)}function bO(t={}){const e=t.locale,r=gO(t),n=kt(t.pluralRules)&&Ue(e)&&Vt(t.pluralRules[e])?t.pluralRules[e]:o2,i=kt(t.pluralRules)&&Ue(e)&&Vt(t.pluralRules[e])?o2:void 0,o=v=>v[n(r,v.length,i)],s=t.list||[],a=v=>s[v],l=t.named||{};Cr(t.pluralIndex)&&yO(r,l);const d=v=>l[v];function f(v){const x=Vt(t.messages)?t.messages(v):kt(t.messages)?t.messages[v]:!1;return x||(t.parent?t.parent.message(v):fO)}const c=v=>t.modifiers?t.modifiers[v]:dO,h=lt(t.processor)&&Vt(t.processor.normalize)?t.processor.normalize:pO,p=lt(t.processor)&&Vt(t.processor.interpolate)?t.processor.interpolate:mO,m=lt(t.processor)&&Ue(t.processor.type)?t.processor.type:hO,b={list:a,named:d,plural:o,linked:(v,...x)=>{const[S,I]=x;let M="text",E="";x.length===1?kt(S)?(E=S.modifier||E,M=S.type||M):Ue(S)&&(E=S||E):x.length===2&&(Ue(S)&&(E=S||E),Ue(I)&&(M=I||M));const L=f(v)(b),D=M==="vnode"&&Wt(L)&&E?L[0]:L;return E?c(E)(D,M):D},message:f,type:m,interpolate:p,normalize:h,values:Rr({},s,l)};return b}let Nc=null;function vO(t){Nc=t}function _O(t,e,r){Nc&&Nc.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const wO=AO("function:translate");function AO(t){return e=>Nc&&Nc.emit(t,e)}const s2=Kd.__EXTEND_POINT__,Bs=Wd(s2),Zr={NOT_FOUND_KEY:s2,FALLBACK_TO_TRANSLATE:Bs(),CANNOT_FORMAT_NUMBER:Bs(),FALLBACK_TO_NUMBER_FORMAT:Bs(),CANNOT_FORMAT_DATE:Bs(),FALLBACK_TO_DATE_FORMAT:Bs(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Bs(),__EXTEND_POINT__:Bs()},xO={[Zr.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[Zr.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[Zr.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[Zr.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[Zr.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[Zr.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[Zr.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function Rs(t,...e){return vm(xO[t],...e)}const a2=st.__EXTEND_POINT__,Ps=Wd(a2),Mr={INVALID_ARGUMENT:a2,INVALID_DATE_ARGUMENT:Ps(),INVALID_ISO_DATE_ARGUMENT:Ps(),NOT_SUPPORT_NON_STRING_MESSAGE:Ps(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ps(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ps(),NOT_SUPPORT_LOCALE_TYPE:Ps(),__EXTEND_POINT__:Ps()};function ji(t){return za(t,null,process.env.NODE_ENV!=="production"?{messages:TO}:void 0)}const TO={[Mr.INVALID_ARGUMENT]:"Invalid arguments",[Mr.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[Mr.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[Mr.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[Mr.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[Mr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[Mr.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function Am(t,e){return e.locale!=null?l2(e.locale):l2(t.locale)}let xm;function l2(t){if(Ue(t))return t;if(Vt(t)){if(t.resolvedOnce&&xm!=null)return xm;if(t.constructor.name==="Function"){const e=t();if(_6(e))throw ji(Mr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return xm=e}else throw ji(Mr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ji(Mr.NOT_SUPPORT_LOCALE_TYPE)}function EO(t,e,r){return[...new Set([r,...Wt(e)?e:kt(e)?Object.keys(e):Ue(e)?[e]:[r]])]}function c2(t,e,r){const n=Ue(r)?r:Ha,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(n);if(!o){o=[];let s=[r];for(;Wt(s);)s=u2(o,s,e);const a=Wt(e)||!lt(e)?e:e.default?e.default:null;s=Ue(a)?[a]:a,Wt(s)&&u2(o,s,!1),i.__localeChainCache.set(n,o)}return o}function u2(t,e,r){let n=!0;for(let i=0;i<e.length&&bt(n);i++){const o=e[i];Ue(o)&&(n=CO(t,e[i],r))}return n}function CO(t,e,r){let n;const i=e.split("-");do{const o=i.join("-");n=SO(t,o,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function SO(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Wt(r)||lt(r))&&r[i]&&(n=r[i])}return n}const kO="9.13.1",Xd=-1,Ha="en-US",Jd="",d2=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function IO(){return{upper:(t,e)=>e==="text"&&Ue(t)?t.toUpperCase():e==="vnode"&&kt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ue(t)?t.toLowerCase():e==="vnode"&&kt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ue(t)?d2(t):e==="vnode"&&kt(t)&&"__v_isVNode"in t?d2(t.children):t}}let f2;function h2(t){f2=t}let p2;function DO(t){p2=t}let m2;function MO(t){m2=t}let g2=null;const NO=t=>{g2=t},OO=()=>g2;let y2=null;const b2=t=>{y2=t},LO=()=>y2;let v2=0;function BO(t={}){const e=Vt(t.onWarn)?t.onWarn:Sr,r=Ue(t.version)?t.version:kO,n=Ue(t.locale)||Vt(t.locale)?t.locale:Ha,i=Vt(n)?Ha:n,o=Wt(t.fallbackLocale)||lt(t.fallbackLocale)||Ue(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=lt(t.messages)?t.messages:{[i]:{}},a=lt(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},l=lt(t.numberFormats)?t.numberFormats:{[i]:{}},d=Rr({},t.modifiers||{},IO()),f=t.pluralRules||{},c=Vt(t.missing)?t.missing:null,h=bt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,p=bt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,y=!!t.unresolving,b=Vt(t.postTranslation)?t.postTranslation:null,v=lt(t.processor)?t.processor:null,x=bt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter,I=Vt(t.messageCompiler)?t.messageCompiler:f2;process.env.NODE_ENV!=="production"&&Vt(t.messageCompiler)&&Kv(Rs(Zr.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const M=Vt(t.messageResolver)?t.messageResolver:p2||cO,E=Vt(t.localeFallbacker)?t.localeFallbacker:m2||EO,L=kt(t.fallbackContext)?t.fallbackContext:void 0,D=t,C=kt(D.__datetimeFormatters)?D.__datetimeFormatters:new Map,R=kt(D.__numberFormatters)?D.__numberFormatters:new Map,$=kt(D.__meta)?D.__meta:{};v2++;const U={version:r,cid:v2,locale:n,fallbackLocale:o,messages:s,modifiers:d,pluralRules:f,missing:c,missingWarn:h,fallbackWarn:p,fallbackFormat:m,unresolving:y,postTranslation:b,processor:v,warnHtmlMessage:x,escapeParameter:S,messageCompiler:I,messageResolver:M,localeFallbacker:E,fallbackContext:L,onWarn:e,__meta:$};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=C,U.__numberFormatters=R,process.env.NODE_ENV!=="production"&&(U.__v_emitter=D.__v_emitter!=null?D.__v_emitter:void 0),(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__)&&_O(U,r,$),U}function Zd(t,e){return t instanceof RegExp?t.test(e):t}function _2(t,e){return t instanceof RegExp?t.test(e):t}function Tm(t,e,r,n,i){const{missing:o,onWarn:s}=t;if(process.env.NODE_ENV!=="production"){const a=t.__v_emitter;a&&a.emit("missing",{locale:r,key:e,type:i,groupId:`${i}:${e}`})}if(o!==null){const a=o(t,r,e,i);return Ue(a)?a:e}else return process.env.NODE_ENV!=="production"&&_2(n,e)&&s(Rs(Zr.NOT_FOUND_KEY,{key:e,locale:r})),e}function Oc(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function w2(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function RO(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(w2(t,e[n]))return!0;return!1}function Em(t){return r=>PO(r,t)}function PO(t,e){const r=e.b||e.body;if((r.t||r.type)===1){const n=r,i=n.c||n.cases;return t.plural(i.reduce((o,s)=>[...o,A2(t,s)],[]))}else return A2(t,r)}function A2(t,e){const r=e.s||e.static;if(r)return t.type==="text"?r:t.normalize([r]);{const n=(e.i||e.items).reduce((i,o)=>[...i,Cm(t,o)],[]);return t.normalize(n)}}function Cm(t,e){const r=e.t||e.type;switch(r){case 3:{const n=e;return n.v||n.value}case 9:{const n=e;return n.v||n.value}case 4:{const n=e;return t.interpolate(t.named(n.k||n.key))}case 5:{const n=e;return t.interpolate(t.list(n.i!=null?n.i:n.index))}case 6:{const n=e,i=n.m||n.modifier;return t.linked(Cm(t,n.k||n.key),i?Cm(t,i):void 0,t.type)}case 7:{const n=e;return n.v||n.value}case 8:{const n=e;return n.v||n.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const FO="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function x2(t,e){e&&N6(t)&&Sr(vm(FO,{source:t}))}const T2=t=>t;let qa=Object.create(null);function E2(t){t.code===Kd.USE_MODULO_SYNTAX&&Sr(`The use of named interpolation with modulo syntax is deprecated. It will be removed in v10.
reference: https://vue-i18n.intlify.dev/guide/essentials/syntax#rails-i18n-format 
(message compiler warning message: ${t.message})`)}const Ko=t=>kt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function C2(t,e={}){let r=!1;const n=e.onError||D6;return e.onError=i=>{r=!0,n(i)},{...tO(t,e),detectError:r}}const UO=(t,e)=>{if(!Ue(t))throw ji(Mr.NOT_SUPPORT_NON_STRING_MESSAGE);process.env.NODE_ENV!=="production"&&(e.onWarn=E2);{const r=bt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&x2(t,r);const i=(e.onCacheKey||T2)(t),o=qa[i];if(o)return o;const{code:s,detectError:a}=C2(t,e),l=new Function(`return ${s}`)();return a?l:qa[i]=l}};function jO(t,e){if(process.env.NODE_ENV!=="production"&&(e.onWarn=E2),__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ue(t)){const r=bt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&x2(t,r);const i=(e.onCacheKey||T2)(t),o=qa[i];if(o)return o;const{ast:s,detectError:a}=C2(t,{...e,location:process.env.NODE_ENV!=="production",jit:!0}),l=Em(s);return a?l:qa[i]=l}else{if(process.env.NODE_ENV!=="production"&&!Ko(t))return Sr(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const r=t.cacheKey;if(r){const n=qa[r];return n||(qa[r]=Em(t))}else return Em(t)}}const S2=()=>"",Gn=t=>Vt(t);function k2(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=t,[l,d]=Sm(...e),f=bt(d.missingWarn)?d.missingWarn:t.missingWarn,c=bt(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn,h=bt(d.escapeParameter)?d.escapeParameter:t.escapeParameter,p=!!d.resolvedMessage,m=Ue(d.default)||bt(d.default)?bt(d.default)?o?l:()=>l:d.default:r?o?l:()=>l:"",y=r||m!=="",b=Am(t,d);h&&zO(d);let[v,x,S]=p?[l,b,a[b]||{}]:I2(t,l,b,s,c,f),I=v,M=l;if(!p&&!(Ue(I)||Ko(I)||Gn(I))&&y&&(I=m,M=I),!p&&(!(Ue(I)||Ko(I)||Gn(I))||!Ue(x)))return i?Xd:l;if(process.env.NODE_ENV!=="production"&&Ue(I)&&t.messageCompiler==null)return Sr(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let E=!1;const L=()=>{E=!0},D=Gn(I)?I:D2(t,l,x,I,M,L);if(E)return I;const C=qO(t,x,S,d),R=bO(C),$=$O(t,D,R),U=n?n($,l):$;if(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const F={timestamp:Date.now(),key:Ue(l)?l:Gn(I)?I.key:"",locale:x||(Gn(I)?I.locale:""),format:Ue(I)?I:Gn(I)?I.source:"",message:U};F.meta=Rr({},t.__meta,OO()||{}),wO(F)}return U}function zO(t){Wt(t.list)?t.list=t.list.map(e=>Ue(e)?qv(e):e):kt(t.named)&&Object.keys(t.named).forEach(e=>{Ue(t.named[e])&&(t.named[e]=qv(t.named[e]))})}function I2(t,e,r,n,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:d}=t,f=d(t,n,r);let c={},h,p=null,m=r,y=null;const b="translate";for(let v=0;v<f.length;v++){if(h=y=f[v],process.env.NODE_ENV!=="production"&&r!==h&&!w2(r,h)&&Zd(i,e)&&a(Rs(Zr.FALLBACK_TO_TRANSLATE,{key:e,target:h})),process.env.NODE_ENV!=="production"&&r!==h){const M=t.__v_emitter;M&&M.emit("fallback",{type:b,key:e,from:m,to:y,groupId:`${b}:${e}`})}c=s[h]||{};let x=null,S,I;if(process.env.NODE_ENV!=="production"&&bi&&(x=window.performance.now(),S="intlify-message-resolve-start",I="intlify-message-resolve-end",On&&On(S)),(p=l(c,e))===null&&(p=c[e]),process.env.NODE_ENV!=="production"&&bi){const M=window.performance.now(),E=t.__v_emitter;E&&x&&p&&E.emit("message-resolve",{type:"message-resolve",key:e,message:p,time:M-x,groupId:`${b}:${e}`}),S&&I&&On&&Ls&&(On(I),Ls("intlify message resolve",S,I))}if(Ue(p)||Ko(p)||Gn(p))break;if(!RO(h,f)){const M=Tm(t,e,h,o,b);M!==e&&(p=M)}m=y}return[p,h,c]}function D2(t,e,r,n,i,o){const{messageCompiler:s,warnHtmlMessage:a}=t;if(Gn(n)){const h=n;return h.locale=h.locale||r,h.key=h.key||e,h}if(s==null){const h=()=>n;return h.locale=r,h.key=e,h}let l=null,d,f;process.env.NODE_ENV!=="production"&&bi&&(l=window.performance.now(),d="intlify-message-compilation-start",f="intlify-message-compilation-end",On&&On(d));const c=s(n,VO(t,r,i,n,a,o));if(process.env.NODE_ENV!=="production"&&bi){const h=window.performance.now(),p=t.__v_emitter;p&&l&&p.emit("message-compilation",{type:"message-compilation",message:n,time:h-l,groupId:`translate:${e}`}),d&&f&&On&&Ls&&(On(f),Ls("intlify message compilation",d,f))}return c.locale=r,c.key=e,c.source=n,c}function $O(t,e,r){let n=null,i,o;process.env.NODE_ENV!=="production"&&bi&&(n=window.performance.now(),i="intlify-message-evaluation-start",o="intlify-message-evaluation-end",On&&On(i));const s=e(r);if(process.env.NODE_ENV!=="production"&&bi){const a=window.performance.now(),l=t.__v_emitter;l&&n&&l.emit("message-evaluation",{type:"message-evaluation",value:s,time:a-n,groupId:`translate:${e.key}`}),i&&o&&On&&Ls&&(On(o),Ls("intlify message evaluation",i,o))}return s}function Sm(...t){const[e,r,n]=t,i={};if(!Ue(e)&&!Cr(e)&&!Gn(e)&&!Ko(e))throw ji(Mr.INVALID_ARGUMENT);const o=Cr(e)?String(e):(Gn(e),e);return Cr(r)?i.plural=r:Ue(r)?i.default=r:lt(r)&&!Hd(r)?i.named=r:Wt(r)&&(i.list=r),Cr(n)?i.plural=n:Ue(n)?i.default=n:lt(n)&&Rr(i,n),[o,i]}function VO(t,e,r,n,i,o){return{locale:e,key:r,warnHtmlMessage:i,onError:s=>{if(o&&o(s),process.env.NODE_ENV!=="production"){const a=HO(n),l=`Message compilation error: ${s.message}`,d=s.location&&a&&x6(a,s.location.start.offset,s.location.end.offset),f=t.__v_emitter;f&&a&&f.emit("compile-error",{message:a,error:s.message,start:s.location&&s.location.start.offset,end:s.location&&s.location.end.offset,groupId:`translate:${r}`}),console.error(d?`${l}
${d}`:l)}else throw s},onCacheKey:s=>g6(e,r,s)}}function HO(t){if(Ue(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function qO(t,e,r,n){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:d,fallbackContext:f}=t,h={locale:e,modifiers:i,pluralRules:o,messages:p=>{let m=s(r,p);if(m==null&&f){const[,,y]=I2(f,p,e,a,l,d);m=s(y,p)}if(Ue(m)||Ko(m)){let y=!1;const v=D2(t,p,e,m,p,()=>{y=!0});return y?S2:v}else return Gn(m)?m:S2}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Cr(n.plural)&&(h.pluralIndex=n.plural),h}const M2=typeof Intl<"u",N2={dateTimeFormat:M2&&typeof Intl.DateTimeFormat<"u",numberFormat:M2&&typeof Intl.NumberFormat<"u"};function O2(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__datetimeFormatters:a}=t;if(process.env.NODE_ENV!=="production"&&!N2.dateTimeFormat)return o(Rs(Zr.CANNOT_FORMAT_DATE)),Jd;const[l,d,f,c]=km(...e),h=bt(f.missingWarn)?f.missingWarn:t.missingWarn,p=bt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,y=Am(t,f),b=s(t,i,y);if(!Ue(l)||l==="")return new Intl.DateTimeFormat(y,c).format(d);let v={},x,S=null,I=y,M=null;const E="datetime format";for(let C=0;C<b.length;C++){if(x=M=b[C],process.env.NODE_ENV!=="production"&&y!==x&&Zd(p,l)&&o(Rs(Zr.FALLBACK_TO_DATE_FORMAT,{key:l,target:x})),process.env.NODE_ENV!=="production"&&y!==x){const R=t.__v_emitter;R&&R.emit("fallback",{type:E,key:l,from:I,to:M,groupId:`${E}:${l}`})}if(v=r[x]||{},S=v[l],lt(S))break;Tm(t,l,x,h,E),I=M}if(!lt(S)||!Ue(x))return n?Xd:l;let L=`${x}__${l}`;Hd(c)||(L=`${L}__${JSON.stringify(c)}`);let D=a.get(L);return D||(D=new Intl.DateTimeFormat(x,Rr({},S,c)),a.set(L,D)),m?D.formatToParts(d):D.format(d)}const L2=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function km(...t){const[e,r,n,i]=t,o={};let s={},a;if(Ue(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw ji(Mr.INVALID_ISO_DATE_ARGUMENT);const d=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(d);try{a.toISOString()}catch{throw ji(Mr.INVALID_ISO_DATE_ARGUMENT)}}else if(b6(e)){if(isNaN(e.getTime()))throw ji(Mr.INVALID_DATE_ARGUMENT);a=e}else if(Cr(e))a=e;else throw ji(Mr.INVALID_ARGUMENT);return Ue(r)?o.key=r:lt(r)&&Object.keys(r).forEach(l=>{L2.includes(l)?s[l]=r[l]:o[l]=r[l]}),Ue(n)?o.locale=n:lt(n)&&(s=n),lt(i)&&(s=i),[o.key||"",a,o,s]}function B2(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__datetimeFormatters.has(o)&&n.__datetimeFormatters.delete(o)}}function R2(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__numberFormatters:a}=t;if(process.env.NODE_ENV!=="production"&&!N2.numberFormat)return o(Rs(Zr.CANNOT_FORMAT_NUMBER)),Jd;const[l,d,f,c]=Im(...e),h=bt(f.missingWarn)?f.missingWarn:t.missingWarn,p=bt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,y=Am(t,f),b=s(t,i,y);if(!Ue(l)||l==="")return new Intl.NumberFormat(y,c).format(d);let v={},x,S=null,I=y,M=null;const E="number format";for(let C=0;C<b.length;C++){if(x=M=b[C],process.env.NODE_ENV!=="production"&&y!==x&&Zd(p,l)&&o(Rs(Zr.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:x})),process.env.NODE_ENV!=="production"&&y!==x){const R=t.__v_emitter;R&&R.emit("fallback",{type:E,key:l,from:I,to:M,groupId:`${E}:${l}`})}if(v=r[x]||{},S=v[l],lt(S))break;Tm(t,l,x,h,E),I=M}if(!lt(S)||!Ue(x))return n?Xd:l;let L=`${x}__${l}`;Hd(c)||(L=`${L}__${JSON.stringify(c)}`);let D=a.get(L);return D||(D=new Intl.NumberFormat(x,Rr({},S,c)),a.set(L,D)),m?D.formatToParts(d):D.format(d)}const P2=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Im(...t){const[e,r,n,i]=t,o={};let s={};if(!Cr(e))throw ji(Mr.INVALID_ARGUMENT);const a=e;return Ue(r)?o.key=r:lt(r)&&Object.keys(r).forEach(l=>{P2.includes(l)?s[l]=r[l]:o[l]=r[l]}),Ue(n)?o.locale=n:lt(n)&&(s=n),lt(i)&&(s=i),[o.key||"",a,o,s]}function F2(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__numberFormatters.has(o)&&n.__numberFormatters.delete(o)}}rO();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const WO="9.13.1";function GO(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(_o().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(_o().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(_o().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(_o().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_o().__INTLIFY_PROD_DEVTOOLS__=!1)}const U2=Zr.__EXTEND_POINT__,Ao=Wd(U2),er={FALLBACK_TO_ROOT:U2,NOT_SUPPORTED_PRESERVE:Ao(),NOT_SUPPORTED_FORMATTER:Ao(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:Ao(),NOT_SUPPORTED_GET_CHOICE_INDEX:Ao(),COMPONENT_NAME_LEGACY_COMPATIBLE:Ao(),NOT_FOUND_PARENT_SCOPE:Ao(),IGNORE_OBJ_FLATTEN:Ao(),NOTICE_DROP_ALLOW_COMPOSITION:Ao(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:Ao()},QO={[er.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[er.NOT_SUPPORTED_PRESERVE]:"Not supported 'preserve'.",[er.NOT_SUPPORTED_FORMATTER]:"Not supported 'formatter'.",[er.NOT_SUPPORTED_PRESERVE_DIRECTIVE]:"Not supported 'preserveDirectiveContent'.",[er.NOT_SUPPORTED_GET_CHOICE_INDEX]:"Not supported 'getChoiceIndex'.",[er.COMPONENT_NAME_LEGACY_COMPATIBLE]:"Component name legacy compatible: '{name}' -> 'i18n'",[er.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[er.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[er.NOTICE_DROP_ALLOW_COMPOSITION]:"'allowComposition' option will be dropped in the next major version. For more information, please see  https://tinyurl.com/2p97mcze",[er.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG]:"'translateExistCompatible' option will be dropped in the next major version."};function pn(t,...e){return vm(QO[t],...e)}const j2=Mr.__EXTEND_POINT__,mn=Wd(j2),Et={UNEXPECTED_RETURN_TYPE:j2,INVALID_ARGUMENT:mn(),MUST_BE_CALL_SETUP_TOP:mn(),NOT_INSTALLED:mn(),NOT_AVAILABLE_IN_LEGACY_MODE:mn(),REQUIRED_VALUE:mn(),INVALID_VALUE:mn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:mn(),NOT_INSTALLED_WITH_PROVIDE:mn(),UNEXPECTED_ERROR:mn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:mn(),BRIDGE_SUPPORT_VUE_2_ONLY:mn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:mn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:mn(),__EXTEND_POINT__:mn()};function kr(t,...e){return za(t,null,process.env.NODE_ENV!=="production"?{messages:YO,args:e}:void 0)}const YO={[Et.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Et.INVALID_ARGUMENT]:"Invalid argument",[Et.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Et.NOT_INSTALLED]:"Need to install with `app.use` function",[Et.UNEXPECTED_ERROR]:"Unexpected error",[Et.NOT_AVAILABLE_IN_LEGACY_MODE]:"Not available in legacy mode",[Et.REQUIRED_VALUE]:"Required in value: {0}",[Et.INVALID_VALUE]:"Invalid value",[Et.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Et.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Et.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Et.BRIDGE_SUPPORT_VUE_2_ONLY]:"vue-i18n-bridge support Vue 2.x only",[Et.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]:"Must define i18n option or custom block in Composition API with using local scope in Legacy API mode",[Et.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},Dm=Ui("__translateVNode"),Mm=Ui("__datetimeParts"),Nm=Ui("__numberParts"),Fs=Ui("__enableEmitter"),Lc=Ui("__disableEmitter"),z2=Ui("__setPluralRules"),$2=Ui("__injectWithOption"),Om=Ui("__dispose");function Bc(t){if(!kt(t))return t;for(const e in t)if(qd(t,e))if(!e.includes("."))kt(t[e])&&Bc(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,o=!1;for(let s=0;s<n;s++){if(r[s]in i||(i[r[s]]={}),!kt(i[r[s]])){process.env.NODE_ENV!=="production"&&Sr(pn(er.IGNORE_OBJ_FLATTEN,{key:r[s]})),o=!0;break}i=i[r[s]]}o||(i[r[n]]=t[e],delete t[e]),kt(i[r[n]])&&Bc(i[r[n]])}return t}function ef(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:o}=e,s=lt(r)?r:Wt(n)?{}:{[t]:{}};if(Wt(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:d}=a;l?(s[l]=s[l]||{},Qd(d,s[l])):Qd(d,s)}else Ue(a)&&Qd(JSON.parse(a),s)}),i==null&&o)for(const a in s)qd(s,a)&&Bc(s[a]);return s}function V2(t){return t.type}function H2(t,e,r){let n=kt(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=ef(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(o=>{t.mergeLocaleMessage(o,n[o])});{if(kt(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(s=>{t.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(kt(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(s=>{t.mergeNumberFormat(s,e.numberFormats[s])})}}}function q2(t){return u.createVNode(u.Text,null,t,0)}const W2="__INTLIFY_META__",G2=()=>[],KO=()=>!1;let Q2=0;function Y2(t){return(e,r,n,i)=>t(r,n,u.getCurrentInstance()||void 0,i)}const XO=()=>{const t=u.getCurrentInstance();let e=null;return t&&(e=V2(t)[W2])?{[W2]:e}:null};function Lm(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,o=t.flatJson,s=bi?u.ref:u.shallowRef,a=!!t.translateExistCompatible;process.env.NODE_ENV!=="production"&&a&&Kv(pn(er.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG));let l=bt(t.inheritLocale)?t.inheritLocale:!0;const d=s(r&&l?r.locale.value:Ue(t.locale)?t.locale:Ha),f=s(r&&l?r.fallbackLocale.value:Ue(t.fallbackLocale)||Wt(t.fallbackLocale)||lt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),c=s(ef(d.value,t)),h=s(lt(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),p=s(lt(t.numberFormats)?t.numberFormats:{[d.value]:{}});let m=r?r.missingWarn:bt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,y=r?r.fallbackWarn:bt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,b=r?r.fallbackRoot:bt(t.fallbackRoot)?t.fallbackRoot:!0,v=!!t.fallbackFormat,x=Vt(t.missing)?t.missing:null,S=Vt(t.missing)?Y2(t.missing):null,I=Vt(t.postTranslation)?t.postTranslation:null,M=r?r.warnHtmlMessage:bt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter;const L=r?r.modifiers:lt(t.modifiers)?t.modifiers:{};let D=t.pluralRules||r&&r.pluralRules,C;C=(()=>{i&&b2(null);const me={version:WO,locale:d.value,fallbackLocale:f.value,messages:c.value,modifiers:L,pluralRules:D,missing:S===null?void 0:S,missingWarn:m,fallbackWarn:y,fallbackFormat:v,unresolving:!0,postTranslation:I===null?void 0:I,warnHtmlMessage:M,escapeParameter:E,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};me.datetimeFormats=h.value,me.numberFormats=p.value,me.__datetimeFormatters=lt(C)?C.__datetimeFormatters:void 0,me.__numberFormatters=lt(C)?C.__numberFormatters:void 0,process.env.NODE_ENV!=="production"&&(me.__v_emitter=lt(C)?C.__v_emitter:void 0);const xe=BO(me);return i&&b2(xe),xe})(),Oc(C,d.value,f.value);function $(){return[d.value,f.value,c.value,h.value,p.value]}const U=u.computed({get:()=>d.value,set:me=>{d.value=me,C.locale=d.value}}),F=u.computed({get:()=>f.value,set:me=>{f.value=me,C.fallbackLocale=f.value,Oc(C,d.value,me)}}),z=u.computed(()=>c.value),W=u.computed(()=>h.value),B=u.computed(()=>p.value);function P(){return Vt(I)?I:null}function re(me){I=me,C.postTranslation=me}function H(){return x}function O(me){me!==null&&(S=Y2(me)),x=me,C.missing=S}function T(me,xe){return me!=="translate"||!xe.resolvedMessage}const V=(me,xe,Ge,at,_t,Ke)=>{$();let Pt;try{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(C.fallbackContext=r?LO():void 0),Pt=me(C)}finally{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(C.fallbackContext=void 0)}if(Ge!=="translate exists"&&Cr(Pt)&&Pt===Xd||Ge==="translate exists"&&!Pt){const[vt,lr]=xe();if(process.env.NODE_ENV!=="production"&&r&&Ue(vt)&&T(Ge,lr)&&(b&&(Zd(y,vt)||_2(m,vt))&&Sr(pn(er.FALLBACK_TO_ROOT,{key:vt,type:Ge})),process.env.NODE_ENV!=="production")){const{__v_emitter:dr}=C;dr&&b&&dr.emit("fallback",{type:Ge,key:vt,to:"global",groupId:`${Ge}:${vt}`})}return r&&b?at(r):_t(vt)}else{if(Ke(Pt))return Pt;throw kr(Et.UNEXPECTED_RETURN_TYPE)}};function K(...me){return V(xe=>Reflect.apply(k2,null,[xe,...me]),()=>Sm(...me),"translate",xe=>Reflect.apply(xe.t,xe,[...me]),xe=>xe,xe=>Ue(xe))}function Y(...me){const[xe,Ge,at]=me;if(at&&!kt(at))throw kr(Et.INVALID_ARGUMENT);return K(xe,Ge,Rr({resolvedMessage:!0},at||{}))}function Q(...me){return V(xe=>Reflect.apply(O2,null,[xe,...me]),()=>km(...me),"datetime format",xe=>Reflect.apply(xe.d,xe,[...me]),()=>Jd,xe=>Ue(xe))}function ue(...me){return V(xe=>Reflect.apply(R2,null,[xe,...me]),()=>Im(...me),"number format",xe=>Reflect.apply(xe.n,xe,[...me]),()=>Jd,xe=>Ue(xe))}function J(me){return me.map(xe=>Ue(xe)||Cr(xe)||bt(xe)?q2(String(xe)):xe)}const se={normalize:J,interpolate:me=>me,type:"vnode"};function le(...me){return V(xe=>{let Ge;const at=xe;try{at.processor=se,Ge=Reflect.apply(k2,null,[at,...me])}finally{at.processor=null}return Ge},()=>Sm(...me),"translate",xe=>xe[Dm](...me),xe=>[q2(xe)],xe=>Wt(xe))}function ge(...me){return V(xe=>Reflect.apply(R2,null,[xe,...me]),()=>Im(...me),"number format",xe=>xe[Nm](...me),G2,xe=>Ue(xe)||Wt(xe))}function we(...me){return V(xe=>Reflect.apply(O2,null,[xe,...me]),()=>km(...me),"datetime format",xe=>xe[Mm](...me),G2,xe=>Ue(xe)||Wt(xe))}function Ie(me){D=me,C.pluralRules=D}function ce(me,xe){return V(()=>{if(!me)return!1;const Ge=Ue(xe)?xe:d.value,at=pe(Ge),_t=C.messageResolver(at,me);return a?_t!=null:Ko(_t)||Gn(_t)||Ue(_t)},()=>[me],"translate exists",Ge=>Reflect.apply(Ge.te,Ge,[me,xe]),KO,Ge=>bt(Ge))}function Ce(me){let xe=null;const Ge=c2(C,f.value,d.value);for(let at=0;at<Ge.length;at++){const _t=c.value[Ge[at]]||{},Ke=C.messageResolver(_t,me);if(Ke!=null){xe=Ke;break}}return xe}function We(me){const xe=Ce(me);return xe??(r?r.tm(me)||{}:{})}function pe(me){return c.value[me]||{}}function Ee(me,xe){if(o){const Ge={[me]:xe};for(const at in Ge)qd(Ge,at)&&Bc(Ge[at]);xe=Ge[me]}c.value[me]=xe,C.messages=c.value}function Fe(me,xe){c.value[me]=c.value[me]||{};const Ge={[me]:xe};if(o)for(const at in Ge)qd(Ge,at)&&Bc(Ge[at]);xe=Ge[me],Qd(xe,c.value[me]),C.messages=c.value}function j(me){return h.value[me]||{}}function q(me,xe){h.value[me]=xe,C.datetimeFormats=h.value,B2(C,me,xe)}function fe(me,xe){h.value[me]=Rr(h.value[me]||{},xe),C.datetimeFormats=h.value,B2(C,me,xe)}function Ae(me){return p.value[me]||{}}function Me(me,xe){p.value[me]=xe,C.numberFormats=p.value,F2(C,me,xe)}function Be(me,xe){p.value[me]=Rr(p.value[me]||{},xe),C.numberFormats=p.value,F2(C,me,xe)}Q2++,r&&bi&&(u.watch(r.locale,me=>{l&&(d.value=me,C.locale=me,Oc(C,d.value,f.value))}),u.watch(r.fallbackLocale,me=>{l&&(f.value=me,C.fallbackLocale=me,Oc(C,d.value,f.value))}));const Qe={id:Q2,locale:U,fallbackLocale:F,get inheritLocale(){return l},set inheritLocale(me){l=me,me&&r&&(d.value=r.locale.value,f.value=r.fallbackLocale.value,Oc(C,d.value,f.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:z,get modifiers(){return L},get pluralRules(){return D||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(me){m=me,C.missingWarn=m},get fallbackWarn(){return y},set fallbackWarn(me){y=me,C.fallbackWarn=y},get fallbackRoot(){return b},set fallbackRoot(me){b=me},get fallbackFormat(){return v},set fallbackFormat(me){v=me,C.fallbackFormat=v},get warnHtmlMessage(){return M},set warnHtmlMessage(me){M=me,C.warnHtmlMessage=me},get escapeParameter(){return E},set escapeParameter(me){E=me,C.escapeParameter=me},t:K,getLocaleMessage:pe,setLocaleMessage:Ee,mergeLocaleMessage:Fe,getPostTranslationHandler:P,setPostTranslationHandler:re,getMissingHandler:H,setMissingHandler:O,[z2]:Ie};return Qe.datetimeFormats=W,Qe.numberFormats=B,Qe.rt=Y,Qe.te=ce,Qe.tm=We,Qe.d=Q,Qe.n=ue,Qe.getDateTimeFormat=j,Qe.setDateTimeFormat=q,Qe.mergeDateTimeFormat=fe,Qe.getNumberFormat=Ae,Qe.setNumberFormat=Me,Qe.mergeNumberFormat=Be,Qe[$2]=n,Qe[Dm]=le,Qe[Mm]=we,Qe[Nm]=ge,process.env.NODE_ENV!=="production"&&(Qe[Fs]=me=>{C.__v_emitter=me},Qe[Lc]=()=>{C.__v_emitter=void 0}),Qe}function JO(t){const e=Ue(t.locale)?t.locale:Ha,r=Ue(t.fallbackLocale)||Wt(t.fallbackLocale)||lt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=Vt(t.missing)?t.missing:void 0,i=bt(t.silentTranslationWarn)||Go(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=bt(t.silentFallbackWarn)||Go(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,s=bt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=lt(t.modifiers)?t.modifiers:{},d=t.pluralizationRules,f=Vt(t.postTranslation)?t.postTranslation:void 0,c=Ue(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,p=bt(t.sync)?t.sync:!0;process.env.NODE_ENV!=="production"&&t.formatter&&Sr(pn(er.NOT_SUPPORTED_FORMATTER)),process.env.NODE_ENV!=="production"&&t.preserveDirectiveContent&&Sr(pn(er.NOT_SUPPORTED_PRESERVE_DIRECTIVE));let m=t.messages;if(lt(t.sharedMessages)){const E=t.sharedMessages;m=Object.keys(E).reduce((D,C)=>{const R=D[C]||(D[C]={});return Rr(R,E[C]),D},m||{})}const{__i18n:y,__root:b,__injectWithOption:v}=t,x=t.datetimeFormats,S=t.numberFormats,I=t.flatJson,M=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:I,datetimeFormats:x,numberFormats:S,missing:n,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:d,postTranslation:f,warnHtmlMessage:c,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:M,__i18n:y,__root:b,__injectWithOption:v}}function Bm(t={},e){{const r=Lm(JO(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(o){r.locale.value=o},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(o){r.fallbackLocale.value=o},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return process.env.NODE_ENV!=="production"&&Sr(pn(er.NOT_SUPPORTED_FORMATTER)),{interpolate(){return[]}}},set formatter(o){process.env.NODE_ENV!=="production"&&Sr(pn(er.NOT_SUPPORTED_FORMATTER))},get missing(){return r.getMissingHandler()},set missing(o){r.setMissingHandler(o)},get silentTranslationWarn(){return bt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(o){r.missingWarn=bt(o)?!o:o},get silentFallbackWarn(){return bt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(o){r.fallbackWarn=bt(o)?!o:o},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(o){r.fallbackFormat=o},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(o){r.setPostTranslationHandler(o)},get sync(){return r.inheritLocale},set sync(o){r.inheritLocale=o},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){r.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(o){r.escapeParameter=o},get preserveDirectiveContent(){return process.env.NODE_ENV!=="production"&&Sr(pn(er.NOT_SUPPORTED_PRESERVE_DIRECTIVE)),!0},set preserveDirectiveContent(o){process.env.NODE_ENV!=="production"&&Sr(pn(er.NOT_SUPPORTED_PRESERVE_DIRECTIVE))},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...o){const[s,a,l]=o,d={};let f=null,c=null;if(!Ue(s))throw kr(Et.INVALID_ARGUMENT);const h=s;return Ue(a)?d.locale=a:Wt(a)?f=a:lt(a)&&(c=a),Wt(l)?f=l:lt(l)&&(c=l),Reflect.apply(r.t,r,[h,f||c||{},d])},rt(...o){return Reflect.apply(r.rt,r,[...o])},tc(...o){const[s,a,l]=o,d={plural:1};let f=null,c=null;if(!Ue(s))throw kr(Et.INVALID_ARGUMENT);const h=s;return Ue(a)?d.locale=a:Cr(a)?d.plural=a:Wt(a)?f=a:lt(a)&&(c=a),Ue(l)?d.locale=l:Wt(l)?f=l:lt(l)&&(c=l),Reflect.apply(r.t,r,[h,f||c||{},d])},te(o,s){return r.te(o,s)},tm(o){return r.tm(o)},getLocaleMessage(o){return r.getLocaleMessage(o)},setLocaleMessage(o,s){r.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){r.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(r.d,r,[...o])},getDateTimeFormat(o){return r.getDateTimeFormat(o)},setDateTimeFormat(o,s){r.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){r.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(r.n,r,[...o])},getNumberFormat(o){return r.getNumberFormat(o)},setNumberFormat(o,s){r.setNumberFormat(o,s)},mergeNumberFormat(o,s){r.mergeNumberFormat(o,s)},getChoiceIndex(o,s){return process.env.NODE_ENV!=="production"&&Sr(pn(er.NOT_SUPPORTED_GET_CHOICE_INDEX)),-1}};return i.__extender=n,process.env.NODE_ENV!=="production"&&(i.__enableEmitter=o=>{const s=r;s[Fs]&&s[Fs](o)},i.__disableEmitter=()=>{const o=r;o[Lc]&&o[Lc]()}),i}}const Rm={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function ZO({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===u.Fragment?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},{})}function K2(t){return u.Fragment}const Pm=u.defineComponent({name:"i18n-t",props:Rr({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Cr(t)||!isNaN(t)}},Rm),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||_i({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(r).filter(c=>c!=="_"),s={};t.locale&&(s.locale=t.locale),t.plural!==void 0&&(s.plural=Ue(t.plural)?+t.plural:t.plural);const a=ZO(e,o),l=i[Dm](t.keypath,a,s),d=Rr({},n),f=Ue(t.tag)||kt(t.tag)?t.tag:K2();return u.h(f,d,l)}}});function e5(t){return Wt(t)&&!Ue(t[0])}function X2(t,e,r,n){const{slots:i,attrs:o}=e;return()=>{const s={part:!0};let a={};t.locale&&(s.locale=t.locale),Ue(t.format)?s.key=t.format:kt(t.format)&&(Ue(t.format.key)&&(s.key=t.format.key),a=Object.keys(t.format).reduce((h,p)=>r.includes(p)?Rr({},h,{[p]:t.format[p]}):h,{}));const l=n(t.value,s,a);let d=[s.key];Wt(l)?d=l.map((h,p)=>{const m=i[h.type],y=m?m({[h.type]:h.value,index:p,parts:l}):[h.value];return e5(y)&&(y[0].key=`${h.type}-${p}`),y}):Ue(l)&&(d=[l]);const f=Rr({},o),c=Ue(t.tag)||kt(t.tag)?t.tag:K2();return u.h(c,f,d)}}const J2=u.defineComponent({name:"i18n-n",props:Rr({value:{type:Number,required:!0},format:{type:[String,Object]}},Rm),setup(t,e){const r=t.i18n||_i({useScope:t.scope,__useComponent:!0});return X2(t,e,P2,(...n)=>r[Nm](...n))}}),Z2=u.defineComponent({name:"i18n-d",props:Rr({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Rm),setup(t,e){const r=t.i18n||_i({useScope:t.scope,__useComponent:!0});return X2(t,e,L2,(...n)=>r[Mm](...n))}});function t5(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function r5(t){const e=s=>{const{instance:a,modifiers:l,value:d}=s;if(!a||!a.$)throw kr(Et.UNEXPECTED_ERROR);const f=t5(t,a.$);process.env.NODE_ENV!=="production"&&l.preserve&&Sr(pn(er.NOT_SUPPORTED_PRESERVE));const c=e_(d);return[Reflect.apply(f.t,f,[...t_(c)]),f]};return{created:(s,a)=>{const[l,d]=e(a);bi&&t.global===d&&(s.__i18nWatcher=u.watch(d.locale,()=>{a.instance&&a.instance.$forceUpdate()})),s.__composer=d,s.textContent=l},unmounted:s=>{bi&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:a})=>{if(s.__composer){const l=s.__composer,d=e_(a);s.textContent=Reflect.apply(l.t,l,[...t_(d)])}},getSSRProps:s=>{const[a]=e(s);return{textContent:a}}}}function e_(t){if(Ue(t))return{path:t};if(lt(t)){if(!("path"in t))throw kr(Et.REQUIRED_VALUE,"path");return t}else throw kr(Et.INVALID_VALUE)}function t_(t){const{path:e,locale:r,args:n,choice:i,plural:o}=t,s={},a=n||{};return Ue(r)&&(s.locale=r),Cr(i)&&(s.plural=i),Cr(o)&&(s.plural=o),[e,a,s]}function n5(t,e,...r){const n=lt(r[0])?r[0]:{},i=!!n.useI18nComponentName,o=bt(n.globalInstall)?n.globalInstall:!0;process.env.NODE_ENV!=="production"&&o&&i&&Sr(pn(er.COMPONENT_NAME_LEGACY_COMPATIBLE,{name:Pm.name})),o&&([i?"i18n":Pm.name,"I18nT"].forEach(s=>t.component(s,Pm)),[J2.name,"I18nN"].forEach(s=>t.component(s,J2)),[Z2.name,"I18nD"].forEach(s=>t.component(s,Z2))),t.directive("t",r5(e))}const Fm={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},i5={"vue-i18n-resource-inspector":"Search for scopes ..."},o5={"vue-i18n-timeline":16764185},r_="vue-i18n: composer properties";let Um;async function s5(t,e){return new Promise((r,n)=>{try{vv({id:"vue-devtools-plugin-vue-i18n",label:Fm["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[r_],app:t},i=>{Um=i,i.on.visitComponentTree(({componentInstance:s,treeNode:a})=>{a5(s,a,e)}),i.on.inspectComponent(({componentInstance:s,instanceData:a})=>{s.vnode.el&&s.vnode.el.__VUE_I18N__&&a&&(e.mode==="legacy"?s.vnode.el.__VUE_I18N__!==e.global.__composer&&i_(a,s.vnode.el.__VUE_I18N__):i_(a,s.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:Fm["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:i5["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&f5(s,e)});const o=new Map;i.on.getInspectorState(async s=>{if(s.app===t&&s.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),p5(s,e),s.nodeId==="global"){if(!o.has(s.app)){const[a]=await i.getComponentInstances(s.app);o.set(s.app,a)}i.highlightElement(o.get(s.app))}else{const a=h5(s.nodeId,e);a&&i.highlightElement(a)}}),i.on.editInspectorState(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&g5(s,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:Fm["vue-i18n-timeline"],color:o5["vue-i18n-timeline"]}),r(!0)})}catch(i){console.error(i),n(!1)}})}function n_(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function a5(t,e,r){const n=r.mode==="composition"?r.global:r.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==n){const i={label:`i18n (${n_(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function i_(t,e){const r=r_;t.state.push({type:r,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:r,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:r,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:r,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:r,key:"messages",editable:!1,value:jm(e.messages.value)}),t.state.push({type:r,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:r,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function jm(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];Vt(n)&&"source"in n?e[r]=d5(n):Ko(n)&&n.loc&&n.loc.source?e[r]=n.loc.source:kt(n)?e[r]=jm(n):e[r]=n}),e}const l5={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function c5(t){return t.replace(/[<>"&]/g,u5)}function u5(t){return l5[t]||t}function d5(t){return{_custom:{type:"function",display:`<span></span> ${t.source?`("${c5(t.source)}")`:"(?)"}`}}}function f5(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const r=e.mode==="composition"?e.global:e.global.__composer;for(const[n,i]of e.__instances){const o=e.mode==="composition"?i:i.__composer;r!==o&&t.rootNodes.push({id:o.id.toString(),label:`${n_(n)} Scope`})}}function h5(t,e){let r=null;if(t!=="global"){for(const[n,i]of e.__instances.entries())if(i.id.toString()===t){r=n;break}}return r}function o_(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const r=Array.from(e.__instances.values()).find(n=>n.id.toString()===t);return r?e.mode==="composition"?r:r.__composer:null}}function p5(t,e){const r=o_(t.nodeId,e);return r&&(t.state=m5(r)),null}function m5(t){const e={},r="Locale related info",n=[{type:r,key:"locale",editable:!0,value:t.locale.value},{type:r,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:r,key:"availableLocales",editable:!1,value:t.availableLocales},{type:r,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[r]=n;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:jm(t.messages.value)}];e[i]=o;{const s="Datetime formats info",a=[{type:s,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[s]=a;const l="Datetime formats info",d=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=d}return e}function Rc(t,e){if(Um){let r;e&&"groupId"in e&&(r=e.groupId,delete e.groupId),Um.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:r,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function g5(t,e){const r=o_(t.nodeId,e);if(r){const[n]=t.path;n==="locale"&&Ue(t.state.value)?r.locale.value=t.state.value:n==="fallbackLocale"&&(Ue(t.state.value)||Wt(t.state.value)||kt(t.state.value))?r.fallbackLocale.value=t.state.value:n==="inheritLocale"&&bt(t.state.value)&&(r.inheritLocale=t.state.value)}}function y5(t,e,r){return{beforeCreate(){const n=u.getCurrentInstance();if(!n)throw kr(Et.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=e,this===this.$root)this.$i18n=s_(t,o);else{o.__injectWithOption=!0,o.__extender=r.__vueI18nExtend,this.$i18n=Bm(o);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=s_(t,i);else{this.$i18n=Bm({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&H2(e,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,s)=>this.$i18n.te(o,s),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),r.__setInstance(n,this.$i18n)},mounted(){if(process.env.NODE_ENV!=="production"&&this.$el&&this.$i18n){const n=this.$i18n;this.$el.__VUE_I18N__=n.__composer;const i=this.__v_emitter=_m();n.__enableEmitter&&n.__enableEmitter(i),i.on("*",Rc)}},unmounted(){const n=u.getCurrentInstance();if(!n)throw kr(Et.UNEXPECTED_ERROR);const i=this.$i18n;process.env.NODE_ENV!=="production"&&this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",Rc),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function s_(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[z2](e.pluralizationRules||t.pluralizationRules);const r=ef(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const b5=Ui("global-vue-i18n");function v5(t={},e){const r=__VUE_I18N_LEGACY_API__&&bt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=bt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,o=new Map,[s,a]=_5(t,r),l=Ui(process.env.NODE_ENV!=="production"?"vue-i18n":"");process.env.NODE_ENV!=="production"&&r&&i&&Sr(pn(er.NOTICE_DROP_ALLOW_COMPOSITION));function d(h){return o.get(h)||null}function f(h,p){o.set(h,p)}function c(h){o.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(p,...m){if(process.env.NODE_ENV!=="production"&&(p.__VUE_I18N__=h),p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,h),lt(m[0])){const v=m[0];h.__composerExtend=v.__composerExtend,h.__vueI18nExtend=v.__vueI18nExtend}let y=null;!r&&n&&(y=I5(p,h.global)),__VUE_I18N_FULL_INSTALL__&&n5(p,h,...m),__VUE_I18N_LEGACY_API__&&r&&p.mixin(y5(a,a.__composer,h));const b=p.unmount;if(p.unmount=()=>{y&&y(),h.dispose(),b()},process.env.NODE_ENV!=="production"){if(!await s5(p,h))throw kr(Et.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const x=_m();if(r){const S=a;S.__enableEmitter&&S.__enableEmitter(x)}else{const S=a;S[Fs]&&S[Fs](x)}x.on("*",Rc)}},get global(){return a},dispose(){s.stop()},__instances:o,__getInstance:d,__setInstance:f,__deleteInstance:c};return h}}function _i(t={}){const e=u.getCurrentInstance();if(e==null)throw kr(Et.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw kr(Et.NOT_INSTALLED);const r=w5(e),n=x5(r),i=V2(e),o=A5(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw kr(Et.NOT_AVAILABLE_IN_LEGACY_MODE);return S5(e,o,n,t)}if(o==="global")return H2(n,t,i),n;if(o==="parent"){let l=T5(r,e,t.__useComponent);return l==null&&(process.env.NODE_ENV!=="production"&&Sr(pn(er.NOT_FOUND_PARENT_SCOPE)),l=n),l}const s=r;let a=s.__getInstance(e);if(a==null){const l=Rr({},t);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),a=Lm(l),s.__composerExtend&&(a[Om]=s.__composerExtend(a)),C5(s,e,a),s.__setInstance(e,a)}return a}function _5(t,e,r){const n=u.effectScope();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>Bm(t)):n.run(()=>Lm(t));if(i==null)throw kr(Et.UNEXPECTED_ERROR);return[n,i]}}function w5(t){{const e=u.inject(t.isCE?b5:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw kr(t.isCE?Et.NOT_INSTALLED_WITH_PROVIDE:Et.UNEXPECTED_ERROR);return e}}function A5(t,e){return Hd(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function x5(t){return t.mode==="composition"?t.global:t.global.__composer}function T5(t,e,r=!1){let n=null;const i=e.root;let o=E5(e,r);for(;o!=null;){const s=t;if(t.mode==="composition")n=s.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=s.__getInstance(o);a!=null&&(n=a.__composer,r&&n&&!n[$2]&&(n=null))}if(n!=null||i===o)break;o=o.parent}return n}function E5(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function C5(t,e,r){let n=null;u.onMounted(()=>{if(process.env.NODE_ENV!=="production"&&e.vnode.el){e.vnode.el.__VUE_I18N__=r,n=_m();const i=r;i[Fs]&&i[Fs](n),n.on("*",Rc)}},e),u.onUnmounted(()=>{const i=r;process.env.NODE_ENV!=="production"&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&(n&&n.off("*",Rc),i[Lc]&&i[Lc](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const o=i[Om];o&&(o(),delete i[Om])},e)}function S5(t,e,r,n={}){const i=e==="local",o=u.shallowRef(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw kr(Et.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=bt(n.inheritLocale)?n.inheritLocale:!Ue(n.locale),a=u.ref(!i||s?r.locale.value:Ue(n.locale)?n.locale:Ha),l=u.ref(!i||s?r.fallbackLocale.value:Ue(n.fallbackLocale)||Wt(n.fallbackLocale)||lt(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),d=u.ref(ef(a.value,n)),f=u.ref(lt(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),c=u.ref(lt(n.numberFormats)?n.numberFormats:{[a.value]:{}}),h=i?r.missingWarn:bt(n.missingWarn)||Go(n.missingWarn)?n.missingWarn:!0,p=i?r.fallbackWarn:bt(n.fallbackWarn)||Go(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:bt(n.fallbackRoot)?n.fallbackRoot:!0,y=!!n.fallbackFormat,b=Vt(n.missing)?n.missing:null,v=Vt(n.postTranslation)?n.postTranslation:null,x=i?r.warnHtmlMessage:bt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,S=!!n.escapeParameter,I=i?r.modifiers:lt(n.modifiers)?n.modifiers:{},M=n.pluralRules||i&&r.pluralRules;function E(){return[a.value,l.value,d.value,f.value,c.value]}const L=u.computed({get:()=>o.value?o.value.locale.value:a.value,set:ce=>{o.value&&(o.value.locale.value=ce),a.value=ce}}),D=u.computed({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:ce=>{o.value&&(o.value.fallbackLocale.value=ce),l.value=ce}}),C=u.computed(()=>o.value?o.value.messages.value:d.value),R=u.computed(()=>f.value),$=u.computed(()=>c.value);function U(){return o.value?o.value.getPostTranslationHandler():v}function F(ce){o.value&&o.value.setPostTranslationHandler(ce)}function z(){return o.value?o.value.getMissingHandler():b}function W(ce){o.value&&o.value.setMissingHandler(ce)}function B(ce){return E(),ce()}function P(...ce){return o.value?B(()=>Reflect.apply(o.value.t,null,[...ce])):B(()=>"")}function re(...ce){return o.value?Reflect.apply(o.value.rt,null,[...ce]):""}function H(...ce){return o.value?B(()=>Reflect.apply(o.value.d,null,[...ce])):B(()=>"")}function O(...ce){return o.value?B(()=>Reflect.apply(o.value.n,null,[...ce])):B(()=>"")}function T(ce){return o.value?o.value.tm(ce):{}}function V(ce,Ce){return o.value?o.value.te(ce,Ce):!1}function K(ce){return o.value?o.value.getLocaleMessage(ce):{}}function Y(ce,Ce){o.value&&(o.value.setLocaleMessage(ce,Ce),d.value[ce]=Ce)}function Q(ce,Ce){o.value&&o.value.mergeLocaleMessage(ce,Ce)}function ue(ce){return o.value?o.value.getDateTimeFormat(ce):{}}function J(ce,Ce){o.value&&(o.value.setDateTimeFormat(ce,Ce),f.value[ce]=Ce)}function oe(ce,Ce){o.value&&o.value.mergeDateTimeFormat(ce,Ce)}function se(ce){return o.value?o.value.getNumberFormat(ce):{}}function le(ce,Ce){o.value&&(o.value.setNumberFormat(ce,Ce),c.value[ce]=Ce)}function ge(ce,Ce){o.value&&o.value.mergeNumberFormat(ce,Ce)}const we={get id(){return o.value?o.value.id:-1},locale:L,fallbackLocale:D,messages:C,datetimeFormats:R,numberFormats:$,get inheritLocale(){return o.value?o.value.inheritLocale:s},set inheritLocale(ce){o.value&&(o.value.inheritLocale=ce)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(d.value)},get modifiers(){return o.value?o.value.modifiers:I},get pluralRules(){return o.value?o.value.pluralRules:M},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:h},set missingWarn(ce){o.value&&(o.value.missingWarn=ce)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(ce){o.value&&(o.value.missingWarn=ce)},get fallbackRoot(){return o.value?o.value.fallbackRoot:m},set fallbackRoot(ce){o.value&&(o.value.fallbackRoot=ce)},get fallbackFormat(){return o.value?o.value.fallbackFormat:y},set fallbackFormat(ce){o.value&&(o.value.fallbackFormat=ce)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:x},set warnHtmlMessage(ce){o.value&&(o.value.warnHtmlMessage=ce)},get escapeParameter(){return o.value?o.value.escapeParameter:S},set escapeParameter(ce){o.value&&(o.value.escapeParameter=ce)},t:P,getPostTranslationHandler:U,setPostTranslationHandler:F,getMissingHandler:z,setMissingHandler:W,rt:re,d:H,n:O,tm:T,te:V,getLocaleMessage:K,setLocaleMessage:Y,mergeLocaleMessage:Q,getDateTimeFormat:ue,setDateTimeFormat:J,mergeDateTimeFormat:oe,getNumberFormat:se,setNumberFormat:le,mergeNumberFormat:ge};function Ie(ce){ce.locale.value=a.value,ce.fallbackLocale.value=l.value,Object.keys(d.value).forEach(Ce=>{ce.mergeLocaleMessage(Ce,d.value[Ce])}),Object.keys(f.value).forEach(Ce=>{ce.mergeDateTimeFormat(Ce,f.value[Ce])}),Object.keys(c.value).forEach(Ce=>{ce.mergeNumberFormat(Ce,c.value[Ce])}),ce.escapeParameter=S,ce.fallbackFormat=y,ce.fallbackRoot=m,ce.fallbackWarn=p,ce.missingWarn=h,ce.warnHtmlMessage=x}return u.onBeforeMount(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw kr(Et.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const ce=o.value=t.proxy.$i18n.__composer;e==="global"?(a.value=ce.locale.value,l.value=ce.fallbackLocale.value,d.value=ce.messages.value,f.value=ce.datetimeFormats.value,c.value=ce.numberFormats.value):i&&Ie(ce)}),we}const k5=["locale","fallbackLocale","availableLocales"],a_=["t","rt","d","n","tm","te"];function I5(t,e){const r=Object.create(null);return k5.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o)throw kr(Et.UNEXPECTED_ERROR);const s=u.isRef(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,i,s)}),t.config.globalProperties.$i18n=r,a_.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o||!o.value)throw kr(Et.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,o)}),()=>{delete t.config.globalProperties.$i18n,a_.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(GO(),__INTLIFY_JIT_COMPILATION__?h2(jO):h2(UO),DO(uO),MO(c2),process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const t=_o();t.__INTLIFY__=!0,vO(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}process.env.NODE_ENV;var l_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(y){var b={date:y,utc:!0,args:arguments};return new s(b)},l.utc=function(y){var b=a(this.toDate(),{locale:this.$L,utc:!0});return y?b.add(this.utcOffset(),r):b},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var f=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else f.call(this)};var c=l.utcOffset;l.utcOffset=function(y,b){var v=this.$utils().u;if(v(y))return this.$u?0:v(this.$offset)?c.call(this):this.$offset;if(typeof y=="string"&&(y=function(M){M===void 0&&(M="");var E=M.match(n);if(!E)return null;var L=(""+E[0]).match(i)||["-",0,0],D=L[0],C=60*+L[1]+ +L[2];return C===0?0:D==="+"?C:-C}(y),y===null))return this;var x=Math.abs(y)<=16?60*y:y,S=this;if(b)return S.$offset=x,S.$u=y===0,S;if(y!==0){var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(x+I,r)).$offset=x,S.$x.$localOffset=I}else S=this.utc();return S};var h=l.format;l.format=function(y){var b=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,b)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(y,b,v){if(y&&this.$u===y.$u)return m.call(this,y,b,v);var x=this.local(),S=a(y).local();return m.call(x,S,b,v)}}})})(l_);var D5=l_.exports;const M5=Xr(D5);let tf;const N5=new Uint8Array(16);function O5(){if(!tf&&(tf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tf(N5)}const Pr=[];for(let t=0;t<256;++t)Pr.push((t+256).toString(16).slice(1));function L5(t,e=0){return Pr[t[e+0]]+Pr[t[e+1]]+Pr[t[e+2]]+Pr[t[e+3]]+"-"+Pr[t[e+4]]+Pr[t[e+5]]+"-"+Pr[t[e+6]]+Pr[t[e+7]]+"-"+Pr[t[e+8]]+Pr[t[e+9]]+"-"+Pr[t[e+10]]+Pr[t[e+11]]+Pr[t[e+12]]+Pr[t[e+13]]+Pr[t[e+14]]+Pr[t[e+15]]}const c_={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function rf(t,e,r){if(c_.randomUUID&&!e&&!t)return c_.randomUUID();t=t||{};const n=t.random||(t.rng||O5)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,L5(n)}Dr.extend(M5),Dr.extend(p6);var Xe=(t=>(t.Text="text",t.Image="image",t.Sticker="sticker",t.Video="video",t.File="file",t.Template="template",t.Flex="flex",t.Location="location",t.Audio="audio",t.Recall="recall",t.JoinRoom="joinRoom",t.LeaveRoom="leaveRoom",t.AddMember="addMember",t.DeleteMember="deleteMember",t.AddMembers="addMembers",t.Announcement="announcement",t.Typing="typing",t))(Xe||{});class ir{constructor(e){Pe(this,"id");Pe(this,"roomId");Pe(this,"senderId");Pe(this,"type");Pe(this,"createdAt");Pe(this,"updatedAt");Pe(this,"groupId");Pe(this,"dateId");Pe(this,"prev",null);Pe(this,"next",null);const{_id:r,room:n,sender:i,messageType:o,createdAtMS:s,updatedAtMS:a,extra:l}=e;this.id=r,this.roomId=n,this.senderId=(i==null?void 0:i._id)||"",o==="line"?this.type=l.type:this.type=o,this.createdAt=s,this.updatedAt=a,this.groupId=`${Dr(s).startOf("minute").unix()}-${this.senderId}`,this.dateId=Dr.tz(s).startOf("day").unix()}_string(e,r){var o;const{t:n}=_i();let i=n("message");switch(this.type){case"image":i=n("image");break;case"sticker":i=n("sticker");break;case"video":i=n("video");break;case"file":i=n("file");break;case"location":i=n("location");break;case"audio":i=n("audio");break}return this.senderId===e?n("youSent",[i]):n("someoneSent",[((o=r[this.senderId])==null?void 0:o.nickname)??"",i])}get string(){const{state:{imkit:{uid:e,users:r}}}=Ft();return this._string(e,r)}get isIncoming(){return!this.isOutgoing}get isOutgoing(){var n;const{state:{imkit:{rooms:e,uid:r}}}=Ft();return this.senderId===r||((n=e[this.roomId])==null?void 0:n.isOutgoingGroupSender[this.senderId])}get isSystem(){return new Set(["recall","joinRoom","leaveRoom","addMember","deleteMember","addMembers","announcement"]).has(this.type)}static fromRaw(e){if(!e)return null;switch(e.messageType){case"text":return new Pc(e);case"image":return new B5(e);case"sticker":return new u_(e);case"video":return new R5(e);case"file":return new j5(e);case"template":return new P5(e);case"flex":return new F5(e);case"location":return new U5(e);case"audio":return new z5(e);case"announcement":return new Pc(e);case"addMember":return new $m(e);case"deleteMember":return new $m(e);case"addMembers":return new $m(e);case"line":switch(e.extra!=="object"&&(e.extra=JSON.parse(e.extra)),e.extra.type){case"sticker":return new u_(e);default:return new ir(e)}default:return new ir(e)}}static fromPayload(e,r){const n=Date.now(),{roomId:i}=e,o={_id:rf(),room:i,sender:{_id:r},createdAtMS:n,updatedAtMS:n,...e};return ir.fromRaw(o)}}const dc=class dc extends ir{constructor(r){super(r);Pe(this,"text");Pe(this,"translatedText");Pe(this,"replyId");Pe(this,"urls");Pe(this,"html");const{message:n,reply:i}=r;this.text=n??"",this.translatedText=null,this.replyId=(i==null?void 0:i._id)??null;try{this.urls=Array.from(new Set(dc.autolinker.parse(n).map(o=>o.getUrl()))),this.html=dc.autolinker.link(n.replaceAll(`
`,"<br>"))}catch(o){this.urls=[],this.html="",console.log(r),console.error(o)}}get string(){return this.text}static linkfy(r){try{return dc.autolinker.link(r.replaceAll(`
`,"<br>"))}catch(n){return console.error(n),r}}};Pe(dc,"autolinker",new d6({className:"underline",email:!1,phone:!1,stripPrefix:!1,stripTrailingSlash:!1}));let Pc=dc;class B5 extends ir{constructor(r){super(r);Pe(this,"images");const{images:n,width:i,height:o,thumbnailUrl:s,originalUrl:a}=r;n&&n.length>0?this.images=n:this.images=[{id:a,width:i,height:o,thumbnailUrl:s,originalUrl:a}]}}class u_ extends ir{constructor(r){super(r);Pe(this,"stickerId");Pe(this,"stickerUrl");const{sticker:n,extra:i}=r;n?(this.stickerId=n,this.stickerUrl=""):(this.stickerId="",this.stickerUrl=`https://stickershop.line-scdn.net/stickershop/v1/sticker/${i.stickerId}/ios/sticker.png`)}}class R5 extends ir{constructor(r){super(r);Pe(this,"video");const{id:n,width:i,height:o,thumbnailUrl:s,originalUrl:a,duration:l,thumbnailFile:d,video:f}=r;f?this.video=f:this.video={id:n||a,width:i,height:o,thumbnailUrl:s,originalUrl:a,duration:l,thumbnailFile:d}}}var Us=(t=>(t.Buttons="buttons",t.Confirm="confirm",t.Carousel="carousel",t.ImageCarousel="image_carousel",t))(Us||{});class P5 extends ir{constructor(r){super(r);Pe(this,"template");Pe(this,"templateType");const{template:n}=r;try{this.template=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.template;this.templateType=i}catch(i){console.log(r),console.error(i),this.template={},this.templateType="buttons"}}}var zm=(t=>(t.Bubble="bubble",t.Carousel="carousel",t))(zm||{});class F5 extends ir{constructor(r){super(r);Pe(this,"contents");Pe(this,"flexType");const{contents:n}=r;try{this.contents=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.contents;this.flexType=i}catch(i){console.log(r),console.error(i),this.contents={},this.flexType="bubble"}}}class U5 extends ir{constructor(r){super(r);Pe(this,"address");Pe(this,"latitude");Pe(this,"longitude");const{message:n,latitude:i,longitude:o}=r;this.address=n,this.latitude=i,this.longitude=o}}class $m extends ir{constructor(r){super(r);Pe(this,"members");switch(r.messageType){case"addMember":this.members=[new Wo(r.member)];break;case"deleteMember":this.members=r.extra.members.map(n=>new Wo(n));break;case"addMembers":this.members=r.extra.invitees.map(n=>new Wo(n));break;default:this.members=[]}}}class j5 extends ir{constructor(r){super(r);Pe(this,"url");Pe(this,"mimeType");Pe(this,"fileName");Pe(this,"bytes");Pe(this,"fileExtension");const{originalUrl:n,extra:i}=r;this.url=n;const{mimeType:o,fileName:s,bytes:a,fileExtension:l}=typeof i=="object"?i:JSON.parse(i);this.mimeType=o,this.fileName=s,this.bytes=a,this.fileExtension=l}}class z5 extends ir{constructor(r){super(r);Pe(this,"url");Pe(this,"mimeType");Pe(this,"fileName");Pe(this,"bytes");Pe(this,"fileExtension");Pe(this,"duration");const{originalUrl:n,extra:i,duration:o}=r;this.url=n;const{mimeType:s,fileName:a,bytes:l,fileExtension:d}=typeof i=="object"?i:JSON.parse(i);this.mimeType=s,this.fileName=a,this.bytes=l,this.fileExtension=d,this.duration=o}}const $5=t=>(u.pushScopeId("data-v-678c7e46"),t=t(),u.popScopeId(),t),V5={class:"flex gap-3"},H5={class:"flex flex-col gap-1"},q5={key:0,class:"ml-auto h-10 w-10 rounded object-cover"},W5=["innerHTML"],G5=["innerHTML"],Q5=["innerHTML"],Y5={key:3,class:"my-1 flex flex-col gap-3"},K5=["onClick"],X5=$5(()=>u.createElementVNode("div",{class:"my-0.5 w-0.5 flex-shrink-0 rounded-full bg-blue-300"},null,-1)),J5={class:"align-center flex grow flex-col justify-center gap-0.5 overflow-hidden"},Z5={class:"ellipsis text-sm font-bold"},eL={class:"multiline-ellipsis text-xs"},tL=["src"],rL=u.defineComponent({__name:"TextMessageContent",props:{message:{}},setup(t){const e=t,r=Ft(),n=u.computed(()=>{var h;return(h=r.state.imkit.messageMultiList.main)==null?void 0:h.map.get(e.message.replyId)}),i=u.computed(()=>{const h=n.value;return h?r.state.imkit.users[h.senderId]:null}),o=u.computed(()=>e.message.isIncoming),s=u.computed(()=>{const{urls:h}=e.message;return h?h.map(p=>r.state.imkit.linkPreviews[p]).filter(p=>p):[]}),a=u.computed(()=>{if(n.value.type===Xe.Text)return n.value.text;if(n.value.type===Xe.Image){const{t:h}=_i();return{[Xe.Text]:h("text"),[Xe.Image]:h("image"),[Xe.Video]:h("video"),[Xe.Sticker]:h("sticker")}[n.value.type]}return""}),l=u.computed(()=>{if(n.value.type===Xe.Image)return n.value.images[0]}),d=u.computed(()=>r.state.imkit.messageSearchKeyword?e.message.html.replace(new RegExp(r.state.imkit.messageSearchKeyword,"ig"),h=>`<span class="bg-amber-400 text-white">${h}</span>`):e.message.html),f=h=>{window.open(h,"_blank")},c=()=>{r.dispatch("imkit/navigateToMessage",e.message.replyId)};return(h,p)=>{const m=u.resolveDirective("src");return u.openBlock(),u.createElementBlock(u.Fragment,null,[n.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer flex-col gap-2",onClick:c},[u.createElementVNode("div",V5,[u.createVNode(Wn,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg text-sm",url:i.value.avatarUrl??"",name:i.value.nickname??""},null,8,["url","name"]),u.createElementVNode("div",H5,[u.createElementVNode("div",{class:u.normalizeClass(["text-sm font-bold",[o.value?"text-gray-600":"text-white"]])},u.toDisplayString(i.value.nickname),3),u.createElementVNode("div",{class:u.normalizeClass(["multiline-ellipsis text-xs",[o.value?"text-gray-500 dark:text-gray-300":"text-gray-200"]])},u.toDisplayString(a.value),3)]),l.value?u.withDirectives((u.openBlock(),u.createElementBlock("img",q5,null,512)),[[m,l.value.thumbnailUrl]]):u.createCommentVNode("",!0)]),u.createElementVNode("div",{class:u.normalizeClass(["-mx-2 h-px",[o.value?"bg-gray-200 dark:bg-zinc-600":" bg-blue-300"]])},null,2),u.createElementVNode("div",{class:"break-all",innerHTML:d.value},null,8,W5)])):(u.openBlock(),u.createElementBlock("div",{key:1,class:"break-all",innerHTML:d.value},null,8,G5)),o.value&&h.message.translatedText?(u.openBlock(),u.createElementBlock("div",{key:2,class:"break-all text-gray-400",innerHTML:h.$t("translation")+": "+h.message.translatedText},null,8,Q5)):u.createCommentVNode("",!0),s.value.length>0?(u.openBlock(),u.createElementBlock("div",Y5,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(s.value,y=>(u.openBlock(),u.createElementBlock("div",{key:y.url,class:"flex cursor-pointer items-stretch justify-center gap-2",onClick:b=>f(y.url)},[X5,u.createElementVNode("div",J5,[u.createElementVNode("div",Z5,u.toDisplayString(y.title),1),u.createElementVNode("div",eL,u.toDisplayString(y.description||h.$t("tapOpen")),1)]),y.images.length>0?(u.openBlock(),u.createElementBlock("img",{key:0,src:y.images[0],class:"my-auto h-12 w-12 flex-shrink-0 rounded object-cover"},null,8,tL)):u.createCommentVNode("",!0)],8,K5))),128))])):u.createCommentVNode("",!0)],64)}}}),wi=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},Xo=wi(rL,[["__scopeId","data-v-678c7e46"]]);function nL(){return Math.random().toString(16).substring(2)}var Vm=u.defineComponent({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(t){const e=u.reactive({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),r=`rg-${nL()}`,n=u.ref(0),i=u.ref(0),o=u.ref(null),s=u.computed(()=>t.diameter/2),a=u.computed(()=>t.diameter-t.innerStrokeWidth*2),l=u.computed(()=>Math.PI*a.value),d=u.computed(()=>t.totalSteps===0?0:100/t.totalSteps),f=u.computed(()=>d.value*t.completedSteps),c=u.computed(()=>2*Math.PI/t.totalSteps),h=u.computed(()=>100/t.fps),p=u.computed(()=>t.animateSpeed/h.value),m=u.computed(()=>c.value/p.value),y=u.computed(()=>a.value/2),b=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`})),v=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.strokeWidth}px`,strokeDashoffset:n.value,transition:`stroke-dashoffset ${t.animateSpeed}ms ${t.timingFunc}`})),x=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.innerStrokeWidth}px`})),S=u.computed(()=>({width:`${a.value}px`}));u.watch(()=>[t.diameter,t.totalSteps,t.completedSteps,t.strokeWidth],L,{immediate:!0});function I(D){const R=.5+.5*Math.cos(D),$=.5+.5*Math.sin(D);return{x:R,y:$}}function M(){const D=I(i.value);D.x&&D.y&&(e.fx=D.x,e.fy=D.y)}function E(){return t.isClockwise?1:-1}function L(){n.value=(100-f.value)/100*l.value*E(),o.value&&clearInterval(o.value);const D=(t.completedSteps-1)*c.value;let C=(i.value-D)/m.value;const R=Math.abs(C-p.value)/p.value,$=C<p.value;o.value=setInterval(()=>{if($&&C>=p.value||!$&&C<p.value){o.value&&clearInterval(o.value);return}i.value=D+m.value*C,M(),C+=$?R:-R},h.value)}return{gradientAnimation:o,innerCircleRadius:y,radialGradientId:r,strokeDashoffset:n,innerCircleStyle:S,containerStyle:b,circumference:l,progressStyle:v,currentAngle:i,strokeStyle:x,gradient:e,radius:s}}});const iL=["width","height"],oL=["id","fx","fy","cx","cy","r"],sL=["stop-color"],aL=["stop-color"],lL=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],cL=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function uL(t,e,r,n,i,o){return u.openBlock(),u.createElementBlock("div",{class:"vrp__wrapper",style:u.normalizeStyle(t.containerStyle)},[u.createElementVNode("div",{class:"vrp__inner",style:u.normalizeStyle(t.innerCircleStyle)},[u.renderSlot(t.$slots,"default")],4),(u.openBlock(),u.createElementBlock("svg",{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("defs",null,[u.createElementVNode("radialGradient",{id:t.radialGradientId,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r},[u.createElementVNode("stop",{offset:"30%","stop-color":t.startColor},null,8,sL),u.createElementVNode("stop",{offset:"100%","stop-color":t.stopColor},null,8,aL)],8,oL)]),u.createElementVNode("circle",{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":t.strokeLinecap,style:u.normalizeStyle(t.strokeStyle)},null,12,lL),u.createElementVNode("circle",{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:`url('#${t.radialGradientId}')`,"stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":t.strokeLinecap,style:u.normalizeStyle(t.progressStyle)},null,12,cL)],8,iL))],4)}function dL(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var fL=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;dL(fL),Vm.render=uL,Vm.__scopeId="data-v-6a0cf1f6";var nf=(()=>{const t=Vm;return t.install=e=>{e.component("RadialProgressBar",t)},t})();const hL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNklEQVR4nO2Z20sVURTGd9r9IlLmDYxuBEmBURBSkQWF2EsvUUT17EOFb9ZbFIRBQdEfYIUUBNlDd6KgIqOrhWU3MQiiIior7QLlL9Y5a07b0eM5xzPjmYnzgXj2ntnfWt+stfdes8eYLLLIIuMARgILgU3AdmArsBZYBOSaoANYDBwBvhEfH4BGoNIEDUAJcBLotRx+ChwHDgGHgWbgiUtUMzDLBAFAFfBOHfsE7AbKBrl/NrAL+KJjPgPVw+t1f6dWAz/UoRNAYQpjp2rEBL+BLf56G9+RcqBbHdk5RI4RMlZT8hew1HtPo4bG60qzUlLC6h8FPFYRezyws1e5JEXz03bcIp4JNAHfXZOzHVgH1Gn7GpDjgb0c4IpyNnglotqaiJK7rcBV4JUlSFLhDzDXE6MmYrdCOeXhFXlB1qPOylpf4rpeqcIiS2e6zrsBnFbuWpMOgJtKtC/BvKlN+6kNzL1Z7V9Ih2SBkryUyeyph8n7UKg+fEyHpM6rVSgd8G+BGTeUwcuAe0qQmY1JAXSqHzNMspA8tyaYU9DF9otMAHijvhwA1gCjEw2YYy2pnTrRUg+nxwDaXHvXe6B+wHkLTAE69MZTwEQTEAB5wBJgo27KUroI7vSr5YBjevFSplaoFKuMW1ZlkWcXe726e5eaEAAYq+WQoMnp3K8dB02IABQDXzUIFdJxX4UsNyED0BALgr6RCSb7ZExS4K6PZwKCNmn8jPyEMT4Zi8An7nyl75LGa22UhVDIBKXvlsZlbawPoZB5Sv9CGtu0cSaEQuqVvlEaBdYbYFVYhBB9D3LqsBqnc4d2vAWmh0TIUaVukdMXpzMXOG+JWRFUIUQj4YiQTCp33zAJOOcYBs4CG4BpCUtnn4UQdX6+zgknnWRXXxVvQK7e3EXquJGqEBnD0NDSLxJxDBTo0f9F3Wec0nkwXPdRSA/wXE9yamJzYjgxmJBQgayQgCGUEQEeAA/lpSeeEH0hegTcNkEFUQedz2zFbiEqQq4JWk1QQfSI0/lOIstlqbWEFlnXngX+fIC+T935b/+ORSvwoG9kbAQ/EkmICZ8IV5q161840ilBZJL+TJ2F+U/wF9Y5UmVGwaQRAAAAAElFTkSuQmCC",pL={key:0,class:"relative flex items-center justify-center"},mL={class:"max-w-80vw max-h-80vh",alt:""},gL={key:0,class:"max-w-80vw max-h-80vh absolute",alt:""},yL=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),bL={key:1,class:"mt-4 flex gap-4"},vL=u.createElementVNode("img",{class:"h-5 w-5",src:hL},null,-1),_L=u.defineComponent({__name:"ImageModal",props:{image:{}},setup(t){const e=hn(),r=Ft(),n=u.computed(()=>r.state.imkit.downloadProgresses),i=u.computed(()=>r.state.imkit.imageCache),o=s=>{const a=document.createElement("a"),l=i.value.get(s.originalUrl);a.href=l;const d=l.split(";")[0].replace("data:","").split("/")[1];a.download=`download.${d}`,a.click()};return(s,a)=>{const l=u.resolveDirective("src");return u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[s.image?(u.openBlock(),u.createElementBlock("div",pL,[u.withDirectives(u.createElementVNode("img",mL,null,512),[[l,s.image.thumbnailUrl]]),s.image.thumbnailUrl!==s.image.originalUrl?u.withDirectives((u.openBlock(),u.createElementBlock("img",gL,null,512)),[[l,s.image.originalUrl]]):u.createCommentVNode("",!0),(!n.value[s.image.originalUrl]||n.value[s.image.originalUrl]<1)&&s.image.thumbnailUrl!==s.image.originalUrl?(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[yL,u.createVNode(u.unref(nf),{class:"!absolute",diameter:40,"completed-steps":n.value[s.image.originalUrl]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)])):u.createCommentVNode("",!0),s.image?(u.openBlock(),u.createElementBlock("div",bL,[u.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:a[0]||(a[0]=d=>o(s.image))},[vL,u.createTextVNode(" "+u.toDisplayString(s.$t("download")),1)]),u.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:a[1]||(a[1]=d=>u.unref(e).closeAll())},u.toDisplayString(s.$t("close")),1)])):u.createCommentVNode("",!0)]),_:1})}}}),wL=["onClick"],AL=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),xL=u.defineComponent({__name:"ImageMessageContent",props:{message:{}},setup(t){const e=t,r=Ft(),n=u.computed(()=>r.state.imkit.uploadProgresses),i=(s,a)=>{if(e.message.images.length===1){const{width:d,height:f}=a;return d<f?{width:"200px",height:`${200*f/d}px`}:{width:`${200*d/f}px`,height:"200px"}}else return s===e.message.images.length-1&&s%2===0?{width:`${200*2+1}px`,height:"200px"}:{width:"200px",height:"200px"}},o=s=>{const{open:a}=bo({component:_L,attrs:{image:s}});a()};return(s,a)=>{const l=u.resolveDirective("src");return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["-mx-3 -my-2 grid gap-px",[s.message.images.length>1?"grid-cols-2":"grid-cols-1"]])},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(s.message.images,(d,f)=>(u.openBlock(),u.createElementBlock("div",{key:d.thumbnailUrl,class:u.normalizeClass(["relative flex items-center justify-center",{"col-span-2":s.message.images.length>1&&f===s.message.images.length-1&&f%2===0}]),onClick:c=>o(d)},[u.withDirectives(u.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:u.normalizeStyle(i(f,d))},null,4),[[l,d.thumbnailUrl]]),d.thumbnailUrl.startsWith("data")?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[AL,u.createVNode(u.unref(nf),{class:"!absolute",diameter:40,"completed-steps":n.value[`${d.id}-original`]===void 0?(n.value[`${d.id}-original`]+n.value[`${d.id}-thumbnail`])/2*100:n.value[`${d.id}-original`]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)],10,wL))),128))],2)}}}),TL=["src"],d_=u.defineComponent({__name:"StickerMessageContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.stickerUrl?e.message.stickerUrl:`/sticker/${e.message.stickerId.split("-")[0]}/${e.message.stickerId}.png`);return(n,i)=>(u.openBlock(),u.createElementBlock("img",{src:r.value,class:"h-32 w-32 border-0 object-contain"},null,8,TL))}}),f_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR4nO3bP68MURzH4RMhNIobEhoJFaFCKRI6Ha/AW9DSKeUqVVqlmkQv8ScUOoVGgUSnQCM8MpFJZJmz17V398zO9ym32nwyO7O/M+eUEhERERERK4Z9OLDq79EcnMIjfPfLB9zA3jJ1OIMv/u41zpUpw0t13VV1B/vL1OCYrXuLS2VKcN6/uzeZGzku2J6PuFrWne0H6j3AkbKu/H+gzidcw66ybiwmUO8xjpd1YrGBOl9xE3vKOrD4QL1XOFvGzs4F6nzDrW6+K2NlZwP13uBiGSPLCdT5gbujG1csL1DvPS6XsbD8QL37OFhaZ3WBxjGuWG2g3sNmxxVtBGp3XNFOoN/HlROlFdoL1Na4os1Avac4nEB1z7E7V1DdlQSqu51AdZsJVJefWMWz3KSHPcGhPOb/lD+KFRk1BmRYrchyx4AsmFVkyXVAFu0H5LVPRV4cDsir54psXmh+TFgE2UBVly14c2QT5xzZBjxHNpLPgaO2bnpHETp4MSfMdA+zdHAanwfi5DhUBydnDtS9w/UcqJvRBcHG7OcREREREVEm5icELZJIi+Y1dAAAAABJRU5ErkJggg==";var Fc;typeof window<"u"?Fc=window:typeof yt<"u"?Fc=yt:typeof self<"u"?Fc=self:Fc={};var of=Fc;const ne=Xr(of),EL=c6(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var h_=typeof yt<"u"?yt:typeof window<"u"?window:{},CL=EL,Uc;typeof document<"u"?Uc=document:(Uc=h_["__GLOBAL_DOCUMENT_CACHE@4"],Uc||(Uc=h_["__GLOBAL_DOCUMENT_CACHE@4"]=CL));var p_=Uc;const Le=Xr(p_);var Hm={exports:{}};(function(t,e){function r(l){if(l&&typeof l=="object"){var d=l.which||l.keyCode||l.charCode;d&&(l=d)}if(typeof l=="number")return s[l];var f=String(l),c=n[f.toLowerCase()];if(c)return c;var c=i[f.toLowerCase()];if(c)return c;if(f.length===1)return f.charCodeAt(0)}r.isEventKey=function(d,f){if(d&&typeof d=="object"){var c=d.which||d.keyCode||d.charCode;if(c==null)return!1;if(typeof f=="string"){var h=n[f.toLowerCase()];if(h)return h===c;var h=i[f.toLowerCase()];if(h)return h===c}else if(typeof f=="number")return f===c;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var s=e.names=e.title={};for(o in n)s[n[o]]=o;for(var a in i)n[a]=i[a]})(Hm,Hm.exports);var SL=Hm.exports;const dt=Xr(SL);var kL=IL;function IL(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}const DL=Xr(kL);var qm={exports:{}},m_={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(m_);var ML=m_.exports,NL=LL,OL=Object.prototype.toString;function LL(t){if(!t)return!1;var e=OL.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var BL=of,RL=function(e,r){return r===void 0&&(r=!1),function(n,i,o){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var s=o;if(r)if(BL.TextDecoder){var a=PL(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(a).decode(o)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:s});return}e(null,o)}};function PL(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1];return i.trim()==="charset"?o.trim():e},"utf-8")}var FL=RL,g_=of,UL=ML,jL=NL;zi.httpHandler=FL;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var zL=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),o=n.slice(0,i).trim().toLowerCase(),s=n.slice(i+1).trim();typeof r[o]>"u"?r[o]=s:Array.isArray(r[o])?r[o].push(s):r[o]=[r[o],s]}),r};qm.exports=zi,qm.exports.default=zi,zi.XMLHttpRequest=g_.XMLHttpRequest||qL,zi.XDomainRequest="withCredentials"in new zi.XMLHttpRequest?zi.XMLHttpRequest:g_.XDomainRequest,$L(["get","put","post","patch","head","delete"],function(t){zi[t==="delete"?"del":t]=function(e,r,n){return r=y_(e,r,n),r.method=t.toUpperCase(),b_(r)}});function $L(t,e){for(var r=0;r<t.length;r++)e(t[r])}function VL(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function y_(t,e,r){var n=t;return jL(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=UL({},e,{uri:t}),n.callback=r,n}function zi(t,e,r){return e=y_(t,e,r),b_(e)}function b_(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(S,I,M){e||(e=!0,t.callback(S,I,M))};function n(){a.readyState===4&&setTimeout(s,0)}function i(){var x=void 0;if(a.response?x=a.response:x=a.responseText||HL(a),y)try{x=JSON.parse(x)}catch{}return x}function o(x){return clearTimeout(b),x instanceof Error||(x=new Error(""+(x||"Unknown XMLHttpRequest Error"))),x.statusCode=0,r(x,v)}function s(){if(!d){var x;clearTimeout(b),t.useXDR&&a.status===void 0?x=200:x=a.status===1223?204:a.status;var S=v,I=null;return x!==0?(S={body:i(),statusCode:x,method:c,headers:{},url:f,rawRequest:a},a.getAllResponseHeaders&&(S.headers=zL(a.getAllResponseHeaders()))):I=new Error("Internal XMLHttpRequest Error"),r(I,S,S.body)}}var a=t.xhr||null;a||(t.cors||t.useXDR?a=new zi.XDomainRequest:a=new zi.XMLHttpRequest);var l,d,f=a.url=t.uri||t.url,c=a.method=t.method||"GET",h=t.body||t.data,p=a.headers=t.headers||{},m=!!t.sync,y=!1,b,v={body:void 0,headers:{},statusCode:0,method:c,url:f,rawRequest:a};if("json"in t&&t.json!==!1&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),c!=="GET"&&c!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),a.onreadystatechange=n,a.onload=s,a.onerror=o,a.onprogress=function(){},a.onabort=function(){d=!0},a.ontimeout=o,a.open(c,f,!m,t.username,t.password),m||(a.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(b=setTimeout(function(){if(!d){d=!0,a.abort("timeout");var x=new Error("XMLHttpRequest timeout");x.code="ETIMEDOUT",o(x)}},t.timeout)),a.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&a.setRequestHeader(l,p[l]);else if(t.headers&&!VL(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(a),a.send(h||null),a}function HL(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function qL(){}var WL=qm.exports;const v_=Xr(WL);var __={exports:{}},w_=p_,Wm=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ln(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ln.prototype=Wm(Error.prototype),Ln.prototype.constructor=Ln,Ln.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Gm(t){function e(n,i,o,s){return(n|0)*3600+(i|0)*60+(o|0)+(s|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function jc(){this.values=Wm(null)}jc.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function zc(t,e,r,n){var i=n?t.split(n):[t];for(var o in i)if(typeof i[o]=="string"){var s=i[o].split(r);if(s.length===2){var a=s[0].trim(),l=s[1].trim();e(a,l)}}}function GL(t,e,r){var n=t;function i(){var a=Gm(t);if(a===null)throw new Ln(Ln.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function o(a,l){var d=new jc;zc(a,function(f,c){switch(f){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===c){d.set(f,r[h].region);break}break;case"vertical":d.alt(f,c,["rl","lr"]);break;case"line":var p=c.split(","),m=p[0];d.integer(f,m),d.percent(f,m)&&d.set("snapToLines",!1),d.alt(f,m,["auto"]),p.length===2&&d.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=c.split(","),d.percent(f,p[0]),p.length===2&&d.alt("positionAlign",p[1],["start","center","end"]);break;case"size":d.percent(f,c);break;case"align":d.alt(f,c,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=d.get("region",null),l.vertical=d.get("vertical","");try{l.line=d.get("line","auto")}catch{}l.lineAlign=d.get("lineAlign","start"),l.snapToLines=d.get("snapToLines",!0),l.size=d.get("size",100);try{l.align=d.get("align","center")}catch{l.align=d.get("align","middle")}try{l.position=d.get("position","auto")}catch{l.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.substr(0,3)!=="-->")throw new Ln(Ln.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),s(),e.endTime=i(),s(),o(t,e)}var Qm=w_.createElement&&w_.createElement("textarea"),QL={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},A_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},YL={v:"title",lang:"lang"},x_={rt:"ruby"};function T_(t,e){function r(){if(!e)return null;function m(b){return e=e.substr(b.length),b}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return m(y[1]?y[1]:y[2])}function n(m){return Qm.innerHTML=m,m=Qm.textContent,Qm.textContent="",m}function i(m,y){return!x_[y.localName]||x_[y.localName]===m.localName}function o(m,y){var b=QL[m];if(!b)return null;var v=t.document.createElement(b),x=YL[m];return x&&y&&(v[x]=y.trim()),v}for(var s=t.document.createElement("div"),a=s,l,d=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),a=a.parentNode);continue}var f=Gm(l.substr(1,l.length-2)),c;if(f){c=t.document.createProcessingInstruction("timestamp",f),a.appendChild(c);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(c=o(h[1],h[3]),!c)||!i(a,c))continue;if(h[2]){var p=h[2].split(".");p.forEach(function(m){var y=/^bg_/.test(m),b=y?m.slice(3):m;if(A_.hasOwnProperty(b)){var v=y?"background-color":"color",x=A_[b];c.style[v]=x}}),c.className=p.join(" ")}d.push(h[1]),a.appendChild(c),a=c;continue}a.appendChild(t.document.createTextNode(n(l)))}return s}var E_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function KL(t){for(var e=0;e<E_.length;e++){var r=E_[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function XL(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(a,l){for(var d=l.childNodes.length-1;d>=0;d--)a.push(l.childNodes[d])}function o(a){if(!a||!a.length)return null;var l=a.pop(),d=l.textContent||l.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):d}if(l.tagName==="ruby")return o(a);if(l.childNodes)return i(a,l),o(a)}for(i(e,t);r=o(e);)for(var s=0;s<r.length;s++)if(n=r.charCodeAt(s),KL(n))return"rtl";return"ltr"}function JL(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function sf(){}sf.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},sf.prototype.formatStyle=function(t,e){return t===0?0:t+e};function af(t,e,r){sf.call(this),this.cue=e,this.cueDiv=T_(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:XL(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}af.prototype=Wm(sf.prototype),af.prototype.constructor=af;function en(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}en.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},en.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},en.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},en.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},en.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},en.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)},en.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},en.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function ZL(t,e,r,n){function i(b,v){for(var x,S=new en(b),I=1,M=0;M<v.length;M++){for(;b.overlapsOppositeAxis(r,v[M])||b.within(r)&&b.overlapsAny(n);)b.move(v[M]);if(b.within(r))return b;var E=b.intersectPercentage(r);I>E&&(x=new en(b),I=E),b=new en(S)}return x||S}var o=new en(e),s=e.cue,a=JL(s),l=[];if(s.snapToLines){var d;switch(s.vertical){case"":l=["+y","-y"],d="height";break;case"rl":l=["+x","-x"],d="width";break;case"lr":l=["-x","+x"],d="width";break}var f=o.lineHeight,c=f*Math.round(a),h=r[d]+f,p=l[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/f)*f),a<0&&(c+=s.vertical===""?r.height:r.width,l=l.reverse()),o.move(p,c)}else{var m=o.lineHeight/r.height*100;switch(s.lineAlign){case"center":a-=m/2;break;case"end":a-=m;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],o=new en(e)}var y=i(o,l);e.move(y.toCSSCompatValues(r))}function Wa(){}Wa.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Wa.convertCueToDOMTree=function(t,e){return!t||!e?null:T_(t,e)};var e8=.05,t8="sans-serif",r8="1.5%";Wa.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=r8,r.appendChild(n);function i(f){for(var c=0;c<f.length;c++)if(f[c].hasBeenReset||!f[c].displayState)return!0;return!1}if(!i(e)){for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState);return}var s=[],a=en.getSimpleBoxPosition(n),l=Math.round(a.height*e8*100)/100,d={font:l+"px "+t8};(function(){for(var f,c,h=0;h<e.length;h++)c=e[h],f=new af(t,c,d),n.appendChild(f.div),ZL(t,f,a,s),c.displayState=f.div,s.push(en.getSimpleBoxPosition(f))})()},Wa.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},Wa.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ln)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var f=e.buffer,c=0;c<f.length&&f[c]!=="\r"&&f[c]!==`
`;)++c;var h=f.substr(0,c);return f[c]==="\r"&&++c,f[c]===`
`&&++c,e.buffer=f.substr(c),h}function n(f){var c=new jc;if(zc(f,function(p,m){switch(p){case"id":c.set(p,m);break;case"width":c.percent(p,m);break;case"lines":c.integer(p,m);break;case"regionanchor":case"viewportanchor":var y=m.split(",");if(y.length!==2)break;var b=new jc;if(b.percent("x",y[0]),b.percent("y",y[1]),!b.has("x")||!b.has("y"))break;c.set(p+"X",b.get("x")),c.set(p+"Y",b.get("y"));break;case"scroll":c.alt(p,m,["up"]);break}},/=/,/\s/),c.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=c.get("width",100),h.lines=c.get("lines",3),h.regionAnchorX=c.get("regionanchorX",0),h.regionAnchorY=c.get("regionanchorY",100),h.viewportAnchorX=c.get("viewportanchorX",0),h.viewportAnchorY=c.get("viewportanchorY",100),h.scroll=c.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:c.get("id"),region:h})}}function i(f){var c=new jc;zc(f,function(h,p){switch(h){case"MPEGT":c.integer(h+"S",p);break;case"LOCA":c.set(h+"L",Gm(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:c.get("MPEGTS"),LOCAL:c.get("LOCAL")})}function o(f){f.match(/X-TIMESTAMP-MAP/)?zc(f,function(c,h){switch(c){case"X-TIMESTAMP-MAP":i(h);break}},/=/):zc(f,function(c,h){switch(c){case"Region":n(h);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Ln(Ln.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=r(),e.state){case"HEADER":/:/.test(s)?o(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{GL(s,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=s.indexOf("-->")!==-1;if(!s||d&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ln(Ln.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var n8=Wa,i8="auto",o8={"":1,lr:1,rl:1},s8={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function a8(t){if(typeof t!="string")return!1;var e=o8[t.toLowerCase()];return e?t.toLowerCase():!1}function Ym(t){if(typeof t!="string")return!1;var e=s8[t.toLowerCase()];return e?t.toLowerCase():!1}function C_(t,e,r){this.hasBeenReset=!1;var n="",i=!1,o=t,s=e,a=r,l=null,d="",f=!0,c="auto",h="start",p="auto",m="auto",y=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(v){n=""+v}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(v){i=!!v}},startTime:{enumerable:!0,get:function(){return o},set:function(v){if(typeof v!="number")throw new TypeError("Start time must be set to a number.");o=v,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(v){if(typeof v!="number")throw new TypeError("End time must be set to a number.");s=v,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(v){a=""+v,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(v){l=v,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(v){var x=a8(v);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(v){f=!!v,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return c},set:function(v){if(typeof v!="number"&&v!==i8)throw new SyntaxError("Line: an invalid number or illegal string was specified.");c=v,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(v){var x=Ym(v);x?(h=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(v){if(v<0||v>100)throw new Error("Position must be between 0 and 100.");p=v,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(v){var x=Ym(v);x?(m=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(v){if(v<0||v>100)throw new Error("Size must be between 0 and 100.");y=v,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(v){var x=Ym(v);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=x,this.hasBeenReset=!0}}}),this.displayState=void 0}C_.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var l8=C_,c8={"":!0,up:!0};function u8(t){if(typeof t!="string")return!1;var e=c8[t.toLowerCase()];return e?t.toLowerCase():!1}function $c(t){return typeof t=="number"&&t>=0&&t<=100}function d8(){var t=100,e=3,r=0,n=100,i=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!$c(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!$c(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!$c(a))throw new Error("RegionAnchorY must be between 0 and 100.");r=a}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(a){if(!$c(a))throw new Error("ViewportAnchorY must be between 0 and 100.");o=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!$c(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return s},set:function(a){var l=u8(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var f8=d8,xo=of,js=__.exports={WebVTT:n8,VTTCue:l8,VTTRegion:f8};xo.vttjs=js,xo.WebVTT=js.WebVTT;var h8=js.VTTCue,p8=js.VTTRegion,m8=xo.VTTCue,g8=xo.VTTRegion;js.shim=function(){xo.VTTCue=h8,xo.VTTRegion=p8},js.restore=function(){xo.VTTCue=m8,xo.VTTRegion=g8},xo.VTTCue||js.shim();var y8=__.exports;const S_=Xr(y8);function Ai(){return Ai=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ai.apply(this,arguments)}var k_={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,d,f){if(f=f||{},l=l.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return l;var c=a.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=a.normalizePath(c.path),a.buildURLFromParts(c)}var h=a.parseURL(d);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):d;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=i.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(y.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)y.path=p.path,h.params||(y.params=p.params,h.query||(y.query=p.query));else{var b=p.path,v=b.substring(0,b.lastIndexOf("/")+1)+h.path;y.path=a.normalizePath(v)}return y.path===null&&(y.path=f.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(y)},parseURL:function(l){var d=n.exec(l);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(k_);var b8=k_.exports;const I_=Xr(b8);var D_="http://example.com",lf=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=ne.location&&ne.location.href||"");var n=typeof ne.URL=="function",i=/^\/\//.test(e),o=!ne.location&&!/\/\//i.test(e);if(n?e=new ne.URL(e,ne.location||D_):/\/\//i.test(e)||(e=I_.buildAbsoluteURL(ne.location&&ne.location.href||"",e)),n){var s=new URL(r,e);return o?s.href.slice(D_.length):i?s.href.slice(s.protocol.length):s.href}return I_.buildAbsoluteURL(e,r)},Km=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var o=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(o,1),o>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var o=i.length,s=0;s<o;++s)i[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,d=0;d<l;++d)i[d].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),v8=function(e){return ne.atob?ne.atob(e):Buffer.from(e,"base64").toString("binary")};function _8(t){for(var e=v8(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class w8 extends Km{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const A8="	",Xm=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},x8=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},Bn=function(t){const e={};if(!t)return e;const r=t.split(x8());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class T8 extends Km{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((o,s)=>{const a=s(e);return a===e?o:o.concat([a])},[e]).forEach(o=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,o))return;if(o.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:o.slice(1)});return}if(o=o.replace("\r",""),r=/^#EXTM3U/.exec(o),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(o),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(o),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(o),r){n=Ai(Xm(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(o),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(o),r){if(n={type:"tag",tagType:"map"},r[1]){const s=Bn(r[1]);s.URI&&(n.uri=s.URI),s.BYTERANGE&&(n.byterange=Xm(s.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(o),r){if(n={type:"tag",tagType:"stream-inf"},r[1]){if(n.attributes=Bn(r[1]),n.attributes.RESOLUTION){const s=n.attributes.RESOLUTION.split("x"),a={};s[0]&&(a.width=parseInt(s[0],10)),s[1]&&(a.height=parseInt(s[1],10)),n.attributes.RESOLUTION=a}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(o),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=Bn(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(o),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(o),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(o),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(o),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=Bn(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(o),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=Bn(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=Bn(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(A8)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=Bn(r[1]),["DURATION"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/.test(n.attributes[s]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=Xm(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=Bn(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/.test(n.attributes[s]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Bn(r[1]),["PART-TARGET"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Bn(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(n.attributes.hasOwnProperty(s)){n.attributes[s]=parseInt(n.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[s],delete n.attributes[s]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Bn(r[1]),["LAST-MSN","LAST-PART"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseInt(n.attributes[s],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=Bn(r[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!s.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),d=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):d?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(o),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(o),r){n={type:"tag",tagType:"content-steering"},n.attributes=Bn(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:o.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=o=>o),this.customParsers.push(o=>{if(e.exec(o))return this.trigger("data",{type:"custom",data:n(o),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const E8=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Jo=function(t){const e={};return Object.keys(t).forEach(function(r){e[E8(r)]=t[r]}),e},Jm=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=r&&r*3,l=n&&n*2;r&&!e.hasOwnProperty(o)&&(e[o]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[o]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[o]}) to targetDuration * 3 (${a})`}),e[o]=a),n&&!e.hasOwnProperty(s)&&(e[s]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[s]}).`})),n&&e[s]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[s]}) to partTargetDuration * 2 (${l}).`}),e[s]=l)};class C8 extends Km{constructor(){super(),this.lineStream=new w8,this.parseStream=new T8,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,r=[];let n={},i,o,s=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let c=0,h=0;const p={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&i&&(n.map=i),!n.key&&o&&(n.key=o),!n.timeline&&typeof f=="number"&&(n.timeline=f),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(m){let y,b;({tag(){({version(){m.version&&(this.manifest.version=m.version)},"allow-cache"(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const v={};"length"in m&&(n.byterange=v,v.length=m.length,"offset"in m||(m.offset=c)),"offset"in m&&(n.byterange=v,v.offset=m.offset),c=v.offset+v.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.title&&(n.title=m.title),m.duration>0&&(n.duration=m.duration),m.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){o=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:m.attributes};return}if(m.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:m.attributes.URI};return}if(m.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:_8(m.attributes.URI.split(",")[1])};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(o.iv=m.attributes.IV)},"media-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,f=m.number},"playlist-type"(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map(){i={},m.uri&&(i.uri=m.uri),m.byterange&&(i.byterange=m.byterange),o&&(i.key=o)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Ai(n.attributes,m.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const v=this.manifest.mediaGroups[m.attributes.TYPE];v[m.attributes["GROUP-ID"]]=v[m.attributes["GROUP-ID"]]||{},y=v[m.attributes["GROUP-ID"]],b={default:/yes/i.test(m.attributes.DEFAULT)},b.default?b.autoselect=!0:b.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(b.language=m.attributes.LANGUAGE),m.attributes.URI&&(b.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(b.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(b.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(b.forced=/yes/i.test(m.attributes.FORCED)),y[m.attributes.NAME]=b},discontinuity(){f+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),n.dateTimeString=m.dateTimeString,n.dateTimeObject=m.dateTimeObject;const{lastProgramDateTime:v}=this;this.lastProgramDateTime=new Date(m.dateTimeString).getTime(),v===null&&this.manifest.segments.reduceRight((x,S)=>(S.programDateTime=x-S.duration*1e3,S.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration,Jm.call(this,this.manifest)},start(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out"(){n.cueOut=m.data},"cue-out-cont"(){n.cueOutCont=m.data},"cue-in"(){n.cueIn=m.data},skip(){this.manifest.skip=Jo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",m.attributes,["SKIPPED-SEGMENTS"])},part(){s=!0;const v=this.manifest.segments.length,x=Jo(m.attributes);n.parts=n.parts||[],n.parts.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=h),h=x.byterange.offset+x.byterange.length);const S=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${S} for segment #${v}`,m.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((I,M)=>{I.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${M} lacks required attribute(s): LAST-PART`})})},"server-control"(){const v=this.manifest.serverControl=Jo(m.attributes);v.hasOwnProperty("canBlockReload")||(v.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Jm.call(this,this.manifest),v.canSkipDateranges&&!v.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const v=this.manifest.segments.length,x=Jo(m.attributes),S=x.type&&x.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=S?h:0,S&&(h=x.byterange.offset+x.byterange.length)));const I=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${I} for segment #${v}`,m.attributes,["TYPE","URI"]),!!x.type)for(let M=0;M<n.preloadHints.length-1;M++){const E=n.preloadHints[M];E.type&&E.type===x.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${I} for segment #${v} has the same TYPE ${x.type} as preload hint #${M}`})}},"rendition-report"(){const v=Jo(m.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(v);const x=this.manifest.renditionReports.length-1,S=["LAST-MSN","URI"];s&&S.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${x}`,m.attributes,S)},"part-inf"(){this.manifest.partInf=Jo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",m.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Jm.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Jo(m.attributes));const v=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${v}`,m.attributes,["ID","START-DATE"]);const x=this.manifest.dateRanges[v];x.endDate&&x.startDate&&new Date(x.endDate)<new Date(x.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),x.duration&&x.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),x.plannedDuration&&x.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const S=!!x.endOnNext;if(S&&!x.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),S&&(x.duration||x.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),x.duration&&x.endDate){const M=x.startDate.getTime()+x.duration*1e3;this.manifest.dateRanges[v].endDate=new Date(M)}if(!p[x.id])p[x.id]=x;else{for(const M in p[x.id])if(x[M]&&JSON.stringify(p[x.id][M])!==JSON.stringify(x[M])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const I=this.manifest.dateRanges.findIndex(M=>M.id===x.id);this.manifest.dateRanges[I]=Ai(this.manifest.dateRanges[I],x),p[x.id]=Ai(p[x.id],x),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=Jo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",m.attributes,["SERVER-URI"])}}[m.tagType]||a).call(e)},uri(){n.uri=m.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),o&&(n.key=o),n.timeline=f,i&&(n.map=i),h=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){m.segment?(n.custom=n.custom||{},n.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(e)})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(o){r.hasOwnProperty(o)||i.push(o)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var zs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},S8=["video","audio","text"],M_=["Video","Audio","Text"],N_=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var o=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(i).toString(16)).slice(-2);return"avc1."+o+"00"+s})},$i=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var o;S8.forEach(function(s){var a=zs[s].exec(i.toLowerCase());if(!(!a||a.length<=1)){o=s;var l=i.substring(0,a[1].length),d=i.replace(l,"");n.push({type:l,details:d,mediaType:s})}}),o||n.push({type:i,details:"",mediaType:"unknown"})}),n},k8=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var o=n[i];if(o.default&&o.playlists)return $i(o.playlists[0].attributes.CODECS)}return null},O_=function(e){return e===void 0&&(e=""),zs.audio.test(e.trim().toLowerCase())},I8=function(e){return e===void 0&&(e=""),zs.text.test(e.trim().toLowerCase())},Vc=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(o){return N_(o.trim())}),n="video";r.length===1&&O_(r[0])?n="audio":r.length===1&&I8(r[0])&&(n="application");var i="mp4";return r.every(function(o){return zs.mp4.test(o)})?i="mp4":r.every(function(o){return zs.webm.test(o)})?i="webm":r.every(function(o){return zs.ogg.test(o)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},cf=function(e){return e===void 0&&(e=""),ne.MediaSource&&ne.MediaSource.isTypeSupported&&ne.MediaSource.isTypeSupported(Vc(e))||!1},Zm=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<M_.length;n++){var i=M_[n];if(zs["muxer"+i].test(r))return!0}return!1})},L_="mp4a.40.2",D8="avc1.4d400d",M8=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,N8=/^application\/dash\+xml/i,B_=function(e){return M8.test(e)?"hls":N8.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},O8=function(e){return e.toString(2).length},L8=function(e){return Math.ceil(O8(e)/8)},R_=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},B8=function(e){return R_(e)},et=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!B8(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Fr=ne.BigInt||Number,eg=[Fr("0x1"),Fr("0x100"),Fr("0x10000"),Fr("0x1000000"),Fr("0x100000000"),Fr("0x10000000000"),Fr("0x1000000000000"),Fr("0x100000000000000"),Fr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var R8=function(e,r){var n=r===void 0?{}:r,i=n.signed,o=i===void 0?!1:i,s=n.le,a=s===void 0?!1:s;e=et(e);var l=a?"reduce":"reduceRight",d=e[l]?e[l]:Array.prototype[l],f=d.call(e,function(h,p,m){var y=a?m:Math.abs(m+1-e.length);return h+Fr(p)*eg[y]},Fr(0));if(o){var c=eg[e.length]/Fr(2)-Fr(1);f=Fr(f),f>c&&(f-=c,f-=c,f-=Fr(2))}return Number(f)},P8=function(e,r){var n={},i=n.le,o=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Fr(e);for(var s=L8(e),a=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var d=o?l:Math.abs(l+1-a.length);a[d]=Number(e/eg[l]&Fr(255)),e<0&&(a[d]=Math.abs(~a[d]),a[d]-=l===0?1:2)}return a},P_=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},F8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),r.length<=1)return et(r[0]);var i=r.reduce(function(a,l,d){return a+(l.byteLength||l.length)},0),o=new Uint8Array(i),s=0;return r.forEach(function(a){a=et(a),o.set(a,s),s+=a.byteLength}),o},tr=function(e,r,n){var i=n===void 0?{}:n,o=i.offset,s=o===void 0?0:o,a=i.mask,l=a===void 0?[]:a;e=et(e),r=et(r);var d=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&d.call(r,function(f,c){var h=l[c]?l[c]&e[s+c]:e[s+c];return f===h})},U8=function(e,r,n){r.forEach(function(i){for(var o in e.mediaGroups[i])for(var s in e.mediaGroups[i][o]){var a=e.mediaGroups[i][o][s];n(a,i,o,s)}})},j8=function(e){return ne.atob?ne.atob(e):Buffer.from(e,"base64").toString("binary")};function z8(t){for(var e=j8(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var Zo={},To={};function $8(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function tg(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function V8(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var F_=tg({HTML:"text/html",isHTML:function(t){return t===F_.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),U_=tg({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===U_.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});To.assign=V8,To.find=$8,To.freeze=tg,To.MIME_TYPE=F_,To.NAMESPACE=U_;var j_=To,Vi=j_.find,Hc=j_.NAMESPACE;function H8(t){return t!==""}function q8(t){return t?t.split(/[\t\n\f\r ]+/).filter(H8):[]}function W8(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function z_(t){if(!t)return[];var e=q8(t);return Object.keys(e.reduce(W8,{}))}function G8(t){return function(e){return t&&t.indexOf(e)!==-1}}function qc(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function gn(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,qc(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var yn={},xi=yn.ELEMENT_NODE=1,Ga=yn.ATTRIBUTE_NODE=2,uf=yn.TEXT_NODE=3,$_=yn.CDATA_SECTION_NODE=4,V_=yn.ENTITY_REFERENCE_NODE=5,Q8=yn.ENTITY_NODE=6,H_=yn.PROCESSING_INSTRUCTION_NODE=7,q_=yn.COMMENT_NODE=8,W_=yn.DOCUMENT_NODE=9,G_=yn.DOCUMENT_TYPE_NODE=10,Eo=yn.DOCUMENT_FRAGMENT_NODE=11,Y8=yn.NOTATION_NODE=12,$r={},Nr={};$r.INDEX_SIZE_ERR=(Nr[1]="Index size error",1),$r.DOMSTRING_SIZE_ERR=(Nr[2]="DOMString size error",2);var bn=$r.HIERARCHY_REQUEST_ERR=(Nr[3]="Hierarchy request error",3);$r.WRONG_DOCUMENT_ERR=(Nr[4]="Wrong document",4),$r.INVALID_CHARACTER_ERR=(Nr[5]="Invalid character",5),$r.NO_DATA_ALLOWED_ERR=(Nr[6]="No data allowed",6),$r.NO_MODIFICATION_ALLOWED_ERR=(Nr[7]="No modification allowed",7);var Q_=$r.NOT_FOUND_ERR=(Nr[8]="Not found",8);$r.NOT_SUPPORTED_ERR=(Nr[9]="Not supported",9);var Y_=$r.INUSE_ATTRIBUTE_ERR=(Nr[10]="Attribute in use",10);$r.INVALID_STATE_ERR=(Nr[11]="Invalid state",11),$r.SYNTAX_ERR=(Nr[12]="Syntax error",12),$r.INVALID_MODIFICATION_ERR=(Nr[13]="Invalid modification",13),$r.NAMESPACE_ERR=(Nr[14]="Invalid namespace",14),$r.INVALID_ACCESS_ERR=(Nr[15]="Invalid access",15);function mr(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Nr[t]),this.message=Nr[t],Error.captureStackTrace&&Error.captureStackTrace(this,mr);return r.code=t,e&&(this.message=this.message+": "+e),r}mr.prototype=Error.prototype,qc($r,mr);function Co(){}Co.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Ya(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Qa(t,e){this._node=t,this._refresh=e,rg(this)}function rg(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(fw(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];qc(r,t),t._inc=e}}Qa.prototype.item=function(t){return rg(this),this[t]||null},gn(Qa,Co);function df(){}function K_(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function X_(t,e,r,n){if(n?e[K_(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&tw(i,t,n),K8(i,t,r))}}function J_(t,e,r){var n=K_(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(tw(o,t,r),r.ownerElement=null)}}else throw new mr(Q_,new Error(t.tagName+"@"+r))}df.prototype={length:0,item:Co.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new mr(Y_);var r=this.getNamedItem(t.nodeName);return X_(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new mr(Y_);return r=this.getNamedItemNS(t.namespaceURI,t.localName),X_(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return J_(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return J_(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function Z_(){}Z_.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new Gc;if(n.implementation=this,n.childNodes=new Co,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new pf;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Ut(){}Ut.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return ff(this,t,e)},replaceChild:function(t,e){ff(this,t,e,ow),e&&this.removeChild(e)},removeChild:function(t){return rw(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return dg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==uf&&t.nodeType==uf?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==Ga?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Ga?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function ew(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}qc(yn,Ut),qc(yn,Ut.prototype);function Wc(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Wc(t,e))return!0;while(t=t.nextSibling)}function Gc(){this.ownerDocument=this}function K8(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Hc.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function tw(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Hc.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function ng(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o,delete n[n.length]}}}function rw(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,ng(t.ownerDocument,t),e}function X8(t){return t&&(t.nodeType===Ut.DOCUMENT_NODE||t.nodeType===Ut.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ut.ELEMENT_NODE)}function J8(t){return t&&(Hi(t)||ig(t)||So(t)||t.nodeType===Ut.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ut.COMMENT_NODE||t.nodeType===Ut.PROCESSING_INSTRUCTION_NODE)}function So(t){return t&&t.nodeType===Ut.DOCUMENT_TYPE_NODE}function Hi(t){return t&&t.nodeType===Ut.ELEMENT_NODE}function ig(t){return t&&t.nodeType===Ut.TEXT_NODE}function nw(t,e){var r=t.childNodes||[];if(Vi(r,Hi)||So(e))return!1;var n=Vi(r,So);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function iw(t,e){var r=t.childNodes||[];function n(o){return Hi(o)&&o!==e}if(Vi(r,n))return!1;var i=Vi(r,So);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function Z8(t,e,r){if(!X8(t))throw new mr(bn,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new mr(Q_,"child not in parent");if(!J8(e)||So(e)&&t.nodeType!==Ut.DOCUMENT_NODE)throw new mr(bn,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function eB(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ut.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Hi);if(o.length>1||Vi(i,ig))throw new mr(bn,"More than one element or text in fragment");if(o.length===1&&!nw(t,r))throw new mr(bn,"Element in fragment can not be inserted before doctype")}if(Hi(e)&&!nw(t,r))throw new mr(bn,"Only one element can be added and only after doctype");if(So(e)){if(Vi(n,So))throw new mr(bn,"Only one doctype is allowed");var s=Vi(n,Hi);if(r&&n.indexOf(s)<n.indexOf(r))throw new mr(bn,"Doctype can only be inserted before an element");if(!r&&s)throw new mr(bn,"Doctype can not be appended since element is present")}}function ow(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ut.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Hi);if(o.length>1||Vi(i,ig))throw new mr(bn,"More than one element or text in fragment");if(o.length===1&&!iw(t,r))throw new mr(bn,"Element in fragment can not be inserted before doctype")}if(Hi(e)&&!iw(t,r))throw new mr(bn,"Only one element can be added and only after doctype");if(So(e)){if(Vi(n,function(l){return So(l)&&l!==r}))throw new mr(bn,"Only one doctype is allowed");var s=Vi(n,Hi);if(r&&n.indexOf(s)<n.indexOf(r))throw new mr(bn,"Doctype can only be inserted before an element")}}function ff(t,e,r,n){Z8(t,e,r),t.nodeType===Ut.DOCUMENT_NODE&&(n||eB)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Eo){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=r?r.previousSibling:t.lastChild;o.previousSibling=a,s.nextSibling=r,a?a.nextSibling=o:t.firstChild=o,r==null?t.lastChild=s:r.previousSibling=s;do o.parentNode=t;while(o!==s&&(o=o.nextSibling));return ng(t.ownerDocument||t,t),e.nodeType==Eo&&(e.firstChild=e.lastChild=null),e}function tB(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,ng(t.ownerDocument,t,e),e}Gc.prototype={nodeName:"#document",nodeType:W_,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Eo){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return ff(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===xi&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),rw(this,t)},replaceChild:function(t,e){ff(this,t,e,ow),t.ownerDocument=this,e&&this.removeChild(e),Hi(t)&&(this.documentElement=t)},importNode:function(t,e){return dw(this,t,e)},getElementById:function(t){var e=null;return Wc(this.documentElement,function(r){if(r.nodeType==xi&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=z_(t);return new Qa(this,function(r){var n=[];return e.length>0&&Wc(r.documentElement,function(i){if(i!==r&&i.nodeType===xi){var o=i.getAttribute("class");if(o){var s=t===o;if(!s){var a=z_(o);s=e.every(G8(a))}s&&n.push(i)}}}),n})},createElement:function(t){var e=new $s;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Co;var r=e.attributes=new df;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new mf;return t.ownerDocument=this,t.childNodes=new Co,t},createTextNode:function(t){var e=new og;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new sg;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ag;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new cg;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new hf;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new lg;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new $s,n=e.split(":"),i=r.attributes=new df;return r.childNodes=new Co,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new hf,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},gn(Gc,Ut);function $s(){this._nsMap={}}$s.prototype={nodeType:xi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Eo?this.insertBefore(t,null):tB(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Qa(this,function(e){var r=[];return Wc(e,function(n){n!==e&&n.nodeType==xi&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new Qa(this,function(r){var n=[];return Wc(r,function(i){i!==r&&i.nodeType===xi&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}},Gc.prototype.getElementsByTagName=$s.prototype.getElementsByTagName,Gc.prototype.getElementsByTagNameNS=$s.prototype.getElementsByTagNameNS,gn($s,Ut);function hf(){}hf.prototype.nodeType=Ga,gn(hf,Ut);function Qc(){}Qc.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Nr[bn])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}},gn(Qc,Ut);function og(){}og.prototype={nodeName:"#text",nodeType:uf,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},gn(og,Qc);function sg(){}sg.prototype={nodeName:"#comment",nodeType:q_},gn(sg,Qc);function ag(){}ag.prototype={nodeName:"#cdata-section",nodeType:$_},gn(ag,Qc);function pf(){}pf.prototype.nodeType=G_,gn(pf,Ut);function sw(){}sw.prototype.nodeType=Y8,gn(sw,Ut);function aw(){}aw.prototype.nodeType=Q8,gn(aw,Ut);function lg(){}lg.prototype.nodeType=V_,gn(lg,Ut);function mf(){}mf.prototype.nodeName="#document-fragment",mf.prototype.nodeType=Eo,gn(mf,Ut);function cg(){}cg.prototype.nodeType=H_,gn(cg,Ut);function lw(){}lw.prototype.serializeToString=function(t,e,r){return cw.call(t,e,r)},Ut.prototype.toString=cw;function cw(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&i==null){var i=n.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return Ya(this,r,t,e,s),r.join("")}function uw(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Hc.XML||i===Hc.XMLNS)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix===n)return s.namespace!==i}return!0}function ug(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,ew),'"')}function Ya(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case xi:var o=t.attributes,s=o.length,v=t.firstChild,a=t.tagName;r=Hc.isHTML(t.namespaceURI)||r;var l=a;if(!r&&!t.prefix&&t.namespaceURI){for(var d,f=0;f<o.length;f++)if(o.item(f).name==="xmlns"){d=o.item(f).value;break}if(!d)for(var c=i.length-1;c>=0;c--){var h=i[c];if(h.prefix===""&&h.namespace===t.namespaceURI){d=h.namespace;break}}if(d!==t.namespaceURI)for(var c=i.length-1;c>=0;c--){var h=i[c];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var p=0;p<s;p++){var m=o.item(p);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var p=0;p<s;p++){var m=o.item(p);if(uw(m,r,i)){var y=m.prefix||"",b=m.namespaceURI;ug(e,y?"xmlns:"+y:"xmlns",b),i.push({prefix:y,namespace:b})}Ya(m,e,r,n,i)}if(a===l&&uw(t,r,i)){var y=t.prefix||"",b=t.namespaceURI;ug(e,y?"xmlns:"+y:"xmlns",b),i.push({prefix:y,namespace:b})}if(v||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;v;)v.data?e.push(v.data):Ya(v,e,r,n,i.slice()),v=v.nextSibling;else for(;v;)Ya(v,e,r,n,i.slice()),v=v.nextSibling;e.push("</",l,">")}else e.push("/>");return;case W_:case Eo:for(var v=t.firstChild;v;)Ya(v,e,r,n,i.slice()),v=v.nextSibling;return;case Ga:return ug(e,t.name,t.value);case uf:return e.push(t.data.replace(/[<&>]/g,ew));case $_:return e.push("<![CDATA[",t.data,"]]>");case q_:return e.push("<!--",t.data,"-->");case G_:var x=t.publicId,S=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),S&&S!="."&&e.push(" ",S),e.push(">");else if(S&&S!=".")e.push(" SYSTEM ",S,">");else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case H_:return e.push("<?",t.target," ",t.data,"?>");case V_:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function dw(t,e,r){var n;switch(e.nodeType){case xi:n=e.cloneNode(!1),n.ownerDocument=t;case Eo:break;case Ga:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(dw(t,i,r)),i=i.nextSibling;return n}function dg(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o!="object"&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new Co),n.ownerDocument=t,n.nodeType){case xi:var s=e.attributes,a=n.attributes=new df,l=s.length;a._ownerElement=n;for(var d=0;d<l;d++)n.setAttributeNode(dg(t,s.item(d),!0));break;case Ga:r=!0}if(r)for(var f=e.firstChild;f;)n.appendChild(dg(t,f,r)),f=f.nextSibling;return n}function fw(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case xi:case Eo:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Qa.prototype,"length",{get:function(){return rg(this),this.$$length}}),Object.defineProperty(Ut.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case xi:case Eo:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),fw=function(e,r,n){e["$$"+r]=n}}}catch{}Zo.DocumentType=pf,Zo.DOMException=mr,Zo.DOMImplementation=Z_,Zo.Element=$s,Zo.Node=Ut,Zo.NodeList=Co,Zo.XMLSerializer=lw;var gf={},hw={};(function(t){var e=To.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(hw);var fg={},Yc=To.NAMESPACE,hg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,pw=new RegExp("[\\-\\.0-9"+hg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),mw=new RegExp("^"+hg.source+pw.source+"*(?::"+hg.source+pw.source+"*)?$"),Kc=0,es=1,Ka=2,Xc=3,Xa=4,Ja=5,Jc=6,yf=7;function Za(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Za)}Za.prototype=new Error,Za.prototype.name=Za.name;function gw(){}gw.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),vw(e,e={}),rB(t,e,r,n,this.errorHandler),n.endDocument()}};function rB(t,e,r,n,i){function o(B){if(B>65535){B-=65536;var P=55296+(B>>10),re=56320+(B&1023);return String.fromCharCode(P,re)}else return String.fromCharCode(B)}function s(B){var P=B.slice(1,-1);return Object.hasOwnProperty.call(r,P)?r[P]:P.charAt(0)==="#"?o(parseInt(P.substr(1).replace("x","0x"))):(i.error("entity not found:"+B),B)}function a(B){if(B>y){var P=t.substring(y,B).replace(/&#?\w+;/g,s);h&&l(y),n.characters(P,0,B-y),y=B}}function l(B,P){for(;B>=f&&(P=c.exec(t));)d=P.index,f=d+P[0].length,h.lineNumber++;h.columnNumber=B-d+1}for(var d=0,f=0,c=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,p=[{currentNSMap:e}],m={},y=0;;){try{var b=t.indexOf("<",y);if(b<0){if(!t.substr(y).match(/^\s*$/)){var v=n.doc,x=v.createTextNode(t.substr(y));v.appendChild(x),n.currentElement=x}return}switch(b>y&&a(b),t.charAt(b+1)){case"/":var $=t.indexOf(">",b+3),S=t.substring(b+2,$).replace(/[ \t\n\r]+$/g,""),I=p.pop();$<0?(S=t.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+S+" is not complete:"+I.tagName),$=b+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),i.error("end tag name: "+S+" maybe not complete"),$=b+1+S.length);var M=I.localNSMap,E=I.tagName==S,L=E||I.tagName&&I.tagName.toLowerCase()==S.toLowerCase();if(L){if(n.endElement(I.uri,I.localName,S),M)for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&n.endPrefixMapping(D);E||i.fatalError("end tag name: "+S+" is not match the current start tagName:"+I.tagName)}else p.push(I);$++;break;case"?":h&&l(b),$=aB(t,b,n);break;case"!":h&&l(b),$=sB(t,b,n,i);break;default:h&&l(b);var C=new _w,R=p[p.length-1].currentNSMap,$=nB(t,b,C,R,s,i),U=C.length;if(!C.closed&&oB(t,$,C.tagName,m)&&(C.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&U){for(var F=yw(h,{}),z=0;z<U;z++){var W=C[z];l(W.offset),W.locator=yw(h,{})}n.locator=F,bw(C,n,R)&&p.push(C),n.locator=h}else bw(C,n,R)&&p.push(C);Yc.isHTML(C.uri)&&!C.closed?$=iB(t,$,C.tagName,s,n):$++}}catch(B){if(B instanceof Za)throw B;i.error("element parse error: "+B),$=-1}$>y?y=$:a(Math.max(b,y)+1)}}function yw(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function nB(t,e,r,n,i,o){function s(h,p,m){r.attributeNames.hasOwnProperty(h)&&o.fatalError("Attribute "+h+" redefined"),r.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),m)}for(var a,l,d=++e,f=Kc;;){var c=t.charAt(d);switch(c){case"=":if(f===es)a=t.slice(e,d),f=Xc;else if(f===Ka)f=Xc;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Xc||f===es)if(f===es&&(o.warning('attribute value must after "="'),a=t.slice(e,d)),e=d+1,d=t.indexOf(c,e),d>0)l=t.slice(e,d),s(a,l,e-1),f=Ja;else throw new Error("attribute value no end '"+c+"' match");else if(f==Xa)l=t.slice(e,d),s(a,l,e),o.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=d+1,f=Ja;else throw new Error('attribute value must after "="');break;case"/":switch(f){case Kc:r.setTagName(t.slice(e,d));case Ja:case Jc:case yf:f=yf,r.closed=!0;case Xa:case es:break;case Ka:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),f==Kc&&r.setTagName(t.slice(e,d)),d;case">":switch(f){case Kc:r.setTagName(t.slice(e,d));case Ja:case Jc:case yf:break;case Xa:case es:l=t.slice(e,d),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Ka:f===Ka&&(l=a),f==Xa?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!Yc.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case Xc:throw new Error("attribute value missed!!")}return d;case"":c=" ";default:if(c<=" ")switch(f){case Kc:r.setTagName(t.slice(e,d)),f=Jc;break;case es:a=t.slice(e,d),f=Ka;break;case Xa:var l=t.slice(e,d);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case Ja:f=Jc;break}else switch(f){case Ka:r.tagName,(!Yc.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=d,f=es;break;case Ja:o.warning('attribute space is required"'+a+'"!!');case Jc:f=es,e=d;break;case Xc:f=Xa,e=d;break;case yf:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function bw(t,e,r){for(var n=t.tagName,i=null,c=t.length;c--;){var o=t[c],s=o.qName,a=o.value,h=s.indexOf(":");if(h>0)var l=o.prefix=s.slice(0,h),d=s.slice(h+1),f=l==="xmlns"&&d;else d=s,l=null,f=s==="xmlns"&&"";o.localName=d,f!==!1&&(i==null&&(i={},vw(r,r={})),r[f]=i[f]=a,o.uri=Yc.XMLNS,e.startPrefixMapping(f,a))}for(var c=t.length;c--;){o=t[c];var l=o.prefix;l&&(l==="xml"&&(o.uri=Yc.XML),l!=="xmlns"&&(o.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),d=t.localName=n.slice(h+1)):(l=null,d=t.localName=n);var p=t.uri=r[l||""];if(e.startElement(p,d,n,t),t.closed){if(e.endElement(p,d,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function iB(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function oB(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function vw(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function sB(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(r.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,o-e-9),r.endCDATA(),o+3}var s=lB(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],d=!1,f=!1;a>3&&(/^public$/i.test(s[2][0])?(d=s[3][0],f=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var c=s[a-1];return r.startDTD(l,d,f),r.endDTD(),c.index+c[0].length}}return-1}function aB(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function _w(){this.attributeNames={}}_w.prototype={setTagName:function(t){if(!mw.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!mw.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function lB(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}fg.XMLReader=gw,fg.ParseError=Za;var cB=To,uB=Zo,ww=hw,Aw=fg,dB=uB.DOMImplementation,xw=cB.NAMESPACE,fB=Aw.ParseError,hB=Aw.XMLReader;function Tw(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Ew(t){this.options=t||{locator:{}}}Ew.prototype.parseFromString=function(t,e){var r=this.options,n=new hB,i=r.domBuilder||new Zc,o=r.errorHandler,s=r.locator,a=r.xmlns||{},l=/\/x?html?$/.test(e),d=l?ww.HTML_ENTITIES:ww.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=pB(o,i,s),n.domBuilder=r.domBuilder||i,l&&(a[""]=xw.HTML),a.xml=a.xml||xw.XML;var f=r.normalizeLineEndings||Tw;return t&&typeof t=="string"?n.parse(f(t),a,d):n.errorHandler.error("invalid doc source"),i.doc};function pB(t,e,r){if(!t){if(e instanceof Zc)return e;t=e}var n={},i=t instanceof Function;r=r||{};function o(s){var a=t[s];!a&&i&&(a=t.length==2?function(l){t(s,l)}:t),n[s]=a&&function(l){a("[xmldom "+s+"]	"+l+pg(r))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function Zc(){this.cdata=!1}function el(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Zc.prototype={startDocument:function(){this.doc=new dB().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,o=i.createElementNS(t,r||e),s=n.length;bf(this,o),this.currentElement=o,this.locator&&el(this.locator,o);for(var a=0;a<s;a++){var t=n.getURI(a),l=n.getValue(a),r=n.getQName(a),d=i.createAttributeNS(t,r);this.locator&&el(n.getLocator(a),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&el(this.locator,r),bf(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=Cw.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&el(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=Cw.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&el(this.locator,n),bf(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&el(this.locator,i),bf(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,pg(this.locator))},error:function(t){console.error("[xmldom error]	"+t,pg(this.locator))},fatalError:function(t){throw new fB(t,this.locator)}};function pg(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Cw(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Zc.prototype[t]=function(){return null}});function bf(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}gf.__DOMHandler=Zc,gf.normalizeLineEndings=Tw,gf.DOMParser=Ew;var mB=gf.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const Sw=t=>!!t&&typeof t=="object",Or=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):Sw(e[n])&&Sw(r[n])?e[n]=Or(e[n],r[n]):e[n]=r[n]}),e),{}),kw=t=>Object.keys(t).map(e=>t[e]),gB=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},tl=t=>t.reduce((e,r)=>e.concat(r),[]),Iw=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},yB=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),bB=(t,e)=>kw(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var rl={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const eu=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:lf(t||"",e)};if(r||n){const s=(r||n).split("-");let a=ne.BigInt?ne.BigInt(s[0]):parseInt(s[0],10),l=ne.BigInt?ne.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let d;typeof l=="bigint"||typeof a=="bigint"?d=ne.BigInt(l)-ne.BigInt(a)+ne.BigInt(1):d=l-a+1,typeof d=="bigint"&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),i.byterange={length:d,offset:a}}return i},vB=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ne.BigInt(t.offset)+ne.BigInt(t.length)-ne.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},Dw=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),_B={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,o=Dw(t.endNumber),s=e/r;return typeof o=="number"?{start:0,end:o}:typeof i=="number"?{start:0,end:i/s}:{start:0,end:n/s}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,d=Dw(t.endNumber),f=(e+r)/1e3,c=n+s,p=f+a-c,m=Math.ceil(p*i/o),y=Math.floor((f-c-l)*i/o),b=Math.floor((f-c)*i/o);return{start:Math.max(0,y),end:typeof d=="number"?d:Math.min(m,b)}}},wB=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:o=1}=t;return{number:o+e,duration:r/n,timeline:i,time:e*r}},mg=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:o}=t,{start:s,end:a}=_B[e](t),l=gB(s,a).map(wB(t));if(e==="static"){const d=l.length-1,f=typeof i=="number"?i:o;l[d].duration=f-r/n*d}return l},Mw=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:o,presentationTime:s,number:a=0,duration:l}=t;if(!e)throw new Error(rl.NO_BASE_URL);const d=eu({baseUrl:e,source:r.sourceURL,range:r.range}),f=eu({baseUrl:e,source:e,indexRange:i});if(f.map=d,l){const c=mg(t);c.length&&(f.duration=c[0].duration,f.timeline=c[0].timeline)}else n&&(f.duration=n,f.timeline=o);return f.presentationTime=s||o,f.number=a,[f]},gg=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,o=t.timeline||0,s=t.sidx.byterange,a=s.offset+s.length,l=e.timescale,d=e.references.filter(b=>b.referenceType!==1),f=[],c=t.endList?"static":"dynamic",h=t.sidx.timeline;let p=h,m=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=ne.BigInt(a)+e.firstOffset:y=a+e.firstOffset;for(let b=0;b<d.length;b++){const v=e.references[b],x=v.referencedSize,S=v.subsegmentDuration;let I;typeof y=="bigint"?I=y+ne.BigInt(x)-ne.BigInt(1):I=y+x-1;const M=`${y}-${I}`,L=Mw({baseUrl:r,timescale:l,timeline:o,periodStart:h,presentationTime:p,number:m,duration:S,sourceDuration:i,indexRange:M,type:c})[0];n&&(L.map=n),f.push(L),typeof y=="bigint"?y+=ne.BigInt(x):y+=x,p+=S/l,m++}return t.segments=f,t},AB=["AUDIO","SUBTITLES"],xB=1/60,Nw=t=>bB(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),TB=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},Ow=t=>{let e=[];return U8(t,AB,(r,n,i,o)=>{e=e.concat(r.playlists||[])}),e},Lw=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},EB=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:l}){return l===n.timeline});const i=TB(t,n.attributes.NAME);if(!i||n.sidx)return;const o=n.segments[0],s=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-o.presentationTime)<xB});if(s===-1){Lw({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[s].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),Lw({playlist:n,mediaSequence:i.segments[s].number})})},CB=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(Ow(t)),n=e.playlists.concat(Ow(e));return e.timelineStarts=Nw([t.timelineStarts,e.timelineStarts]),EB({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},vf=t=>t&&t.uri+"-"+vB(t.byterange),yg=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=kw(n.reduce((o,s)=>{const a=s.attributes.id+(s.attributes.lang||"");return o[a]?(s.segments&&(s.segments[0]&&(s.segments[0].discontinuity=!0),o[a].segments.push(...s.segments)),s.attributes.contentProtection&&(o[a].attributes.contentProtection=s.attributes.contentProtection)):(o[a]=s,o[a].attributes.timelineStarts=[]),o[a].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),o},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=yB(n.segments||[],"discontinuity"),n))},bg=(t,e)=>{const r=vf(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&gg(t,n,t.sidx.resolvedUri),t},SB=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=bg(t[r],e);return t},kB=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:o},s)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:o,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),r&&(a.sidx=r),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},IB=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const o={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(o.CODECS=t.codecs);const s={attributes:o,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),s},DB=(t,e={},r=!1)=>{let n;const i=t.reduce((o,s)=>{const a=s.attributes.role&&s.attributes.role.value||"",l=s.attributes.lang||"";let d=s.attributes.label||"main";if(l&&!s.attributes.label){const c=a?` (${a})`:"";d=`${s.attributes.lang}${c}`}o[d]||(o[d]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const f=bg(kB(s,r),e);return o[d].playlists.push(f),typeof n>"u"&&a==="main"&&(n=s,n.default=!0),o},{});if(!n){const o=Object.keys(i)[0];i[o].default=!0}return i},MB=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return r[i]||(r[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(bg(IB(n),e)),r},{}),NB=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:o}=n;e[o]={autoselect:!1,default:!1,instreamId:i,language:o},n.hasOwnProperty("aspectRatio")&&(e[o].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[o].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[o]["3D"]=n["3D"])}),e),{}),OB=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},LB=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",BB=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",RB=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",PB=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},Bw=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],FB=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:o})=>{if(!t.length)return{};const{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:d}=t[0].attributes,f=yg(t.filter(LB)).map(OB),c=yg(t.filter(BB)),h=yg(t.filter(RB)),p=t.map(I=>I.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:SB(f,n)};d>=0&&(m.minimumUpdatePeriod=d*1e3),e&&(m.locations=e),r&&(m.contentSteering=r),a==="dynamic"&&(m.suggestedPresentationDelay=l),o&&o.length>0&&(m.eventStream=o);const y=m.playlists.length===0,b=c.length?DB(c,n,y):null,v=h.length?MB(h,n):null,x=f.concat(Bw(b),Bw(v)),S=x.map(({timelineStarts:I})=>I);return m.timelineStarts=Nw(S),PB(x,m.timelineStarts),b&&(m.mediaGroups.AUDIO.audio=b),v&&(m.mediaGroups.SUBTITLES.subs=v),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=NB(p)),i?CB({oldManifest:i,newManifest:m}):m},UB=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,d=(n+i)/1e3,f=o+a,h=d+l-f;return Math.ceil((h*s-e)/r)},Rw=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=t,d=[];let f=-1;for(let c=0;c<e.length;c++){const h=e[c],p=h.d,m=h.r||0,y=h.t||0;f<0&&(f=y),y&&y>f&&(f=y);let b;if(m<0){const S=c+1;S===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?b=UB(t,f,p):b=(o*s-f)/p:b=(e[S].t-f)/p}else b=m+1;const v=a+d.length+b;let x=a+d.length;for(;x<v;)d.push({number:x,duration:p/s,time:f,timeline:l}),f+=p,x++}return d},jB=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,zB=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const o=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,o.length>=i)?o:`${new Array(i-o.length+1).join("0")}${o}`},Pw=(t,e)=>t.replace(jB,zB(e)),$B=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?mg(t):Rw(t,e),VB=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=eu({baseUrl:t.baseUrl,source:Pw(n.sourceURL,r),range:n.range});return $B(t,e).map(s=>{r.Number=s.number,r.Time=s.time;const a=Pw(t.media||"",r),l=t.timescale||1,d=t.presentationTimeOffset||0,f=t.periodStart+(s.time-d)/l;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:lf(t.baseUrl||"",a),map:i,number:s.number,presentationTime:f}})},HB=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=eu({baseUrl:r,source:n.sourceURL,range:n.range}),o=eu({baseUrl:r,source:e.media,range:e.mediaRange});return o.map=i,o},qB=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(rl.SEGMENT_TIME_UNSPECIFIED);const o=n.map(l=>HB(t,l));let s;return r&&(s=mg(t)),e&&(s=Rw(t,e)),s.map((l,d)=>{if(o[d]){const f=o[d],c=t.timescale||1,h=t.presentationTimeOffset||0;return f.timeline=l.timeline,f.duration=l.duration,f.number=l.number,f.presentationTime=i+(l.time-h)/c,f}}).filter(l=>l)},WB=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=VB,r=Or(t,e.template)):e.base?(n=Mw,r=Or(t,e.base)):e.list&&(n=qB,r=Or(t,e.list));const i={attributes:t};if(!n)return i;const o=n(r,e.segmentTimeline);if(r.duration){const{duration:s,timescale:a=1}=r;r.duration=s/a}else o.length?r.duration=o.reduce((s,a)=>Math.max(s,Math.ceil(a.duration)),0):r.duration=0;return i.attributes=r,i.segments=o,e.base&&r.indexRange&&(i.sidx=o[0],i.segments=[]),i},GB=t=>t.map(WB),rr=(t,e)=>Iw(t.childNodes).filter(({tagName:r})=>r===e),tu=t=>t.textContent.trim(),QB=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),nl=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,d,f,c,h,p]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(d||0)*2592e3+parseFloat(f||0)*86400+parseFloat(c||0)*3600+parseFloat(h||0)*60+parseFloat(p||0)},YB=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),Fw={mediaPresentationDuration(t){return nl(t)},availabilityStartTime(t){return YB(t)/1e3},minimumUpdatePeriod(t){return nl(t)},suggestedPresentationDelay(t){return nl(t)},type(t){return t},timeShiftBufferDepth(t){return nl(t)},start(t){return nl(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return QB(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?nl(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Ar=t=>t&&t.attributes?Iw(t.attributes).reduce((e,r)=>{const n=Fw[r.name]||Fw.DEFAULT;return e[r.name]=n(r.value),e},{}):{},KB={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},_f=(t,e)=>e.length?tl(t.map(function(r){return e.map(function(n){const i=tu(n),o=lf(r.baseUrl,i),s=Or(Ar(n),{baseUrl:o});return o!==i&&!s.serviceLocation&&r.serviceLocation&&(s.serviceLocation=r.serviceLocation),s})})):t,vg=t=>{const e=rr(t,"SegmentTemplate")[0],r=rr(t,"SegmentList")[0],n=r&&rr(r,"SegmentURL").map(c=>Or({tag:"SegmentURL"},Ar(c))),i=rr(t,"SegmentBase")[0],o=r||e,s=o&&rr(o,"SegmentTimeline")[0],a=r||i||e,l=a&&rr(a,"Initialization")[0],d=e&&Ar(e);d&&l?d.initialization=l&&Ar(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});const f={template:d,segmentTimeline:s&&rr(s,"S").map(c=>Ar(c)),list:r&&Or(Ar(r),{segmentUrls:n,initialization:Ar(l)}),base:i&&Or(Ar(i),{initialization:Ar(l)})};return Object.keys(f).forEach(c=>{f[c]||delete f[c]}),f},XB=(t,e,r)=>n=>{const i=rr(n,"BaseURL"),o=_f(e,i),s=Or(t,Ar(n)),a=vg(n);return o.map(l=>({segmentInfo:Or(r,a),attributes:Or(s,l)}))},JB=t=>t.reduce((e,r)=>{const n=Ar(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=KB[n.schemeIdUri];if(i){e[i]={attributes:n};const o=rr(r,"cenc:pssh")[0];if(o){const s=tu(o);e[i].pssh=s&&z8(s)}}return e},{}),ZB=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,o=""]=r.split("=");n.channel=i,n.language=r,o.split(",").forEach(s=>{const[a,l]=s.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},eR=t=>tl(rr(t.node,"EventStream").map(e=>{const r=Ar(e),n=r.schemeIdUri;return rr(e,"Event").map(i=>{const o=Ar(i),s=o.presentationTime||0,a=r.timescale||1,l=o.duration||0,d=s/a+t.attributes.start;return{schemeIdUri:n,value:r.value,id:o.id,start:d,end:d+l/a,messageData:tu(i)||o.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),tR=(t,e,r)=>n=>{const i=Ar(n),o=_f(e,rr(n,"BaseURL")),s=rr(n,"Role")[0],a={role:Ar(s)};let l=Or(t,i,a);const d=rr(n,"Accessibility")[0],f=ZB(Ar(d));f&&(l=Or(l,{captionServices:f}));const c=rr(n,"Label")[0];if(c&&c.childNodes.length){const b=c.childNodes[0].nodeValue.trim();l=Or(l,{label:b})}const h=JB(rr(n,"ContentProtection"));Object.keys(h).length&&(l=Or(l,{contentProtection:h}));const p=vg(n),m=rr(n,"Representation"),y=Or(r,p);return tl(m.map(XB(l,o,y)))},rR=(t,e)=>(r,n)=>{const i=_f(e,rr(r.node,"BaseURL")),o=Or(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(o.periodDuration=r.attributes.duration);const s=rr(r.node,"AdaptationSet"),a=vg(r.node);return tl(s.map(tR(o,i,a)))},nR=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=Or({serverURL:tu(t[0])},Ar(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},iR=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,oR=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:o=function(){}}=e,s=rr(t,"Period");if(!s.length)throw new Error(rl.INVALID_NUMBER_OF_PERIOD);const a=rr(t,"Location"),l=Ar(t),d=_f([{baseUrl:r}],rr(t,"BaseURL")),f=rr(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,a.length&&(l.locations=a.map(tu));const c=[];return s.forEach((h,p)=>{const m=Ar(h),y=c[p-1];m.start=iR({attributes:m,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),c.push({node:h,attributes:m})}),{locations:l.locations,contentSteeringInfo:nR(f,o),representationInfo:tl(c.map(rR(l,d))),eventStream:tl(c.map(eR))}},Uw=t=>{if(t==="")throw new Error(rl.DASH_EMPTY_MANIFEST);const e=new mB;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(rl.DASH_INVALID_XML);return n},sR=t=>{const e=rr(t,"UTCTiming")[0];if(!e)return null;const r=Ar(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(rl.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},aR=(t,e={})=>{const r=oR(Uw(t),e),n=GB(r.representationInfo);return FB({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},lR=t=>sR(Uw(t));var jw=Math.pow(2,32),cR=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*jw+e.getUint32(4)},uR={getUint64:cR,MAX_UINT32:jw},zw=uR.getUint64,dR=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=zw(t.subarray(n)),r.firstOffset=zw(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},fR=dR;const hR=Xr(fR);var pR=et([73,68,51]),mR=function(e,r){r===void 0&&(r=0),e=et(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],o=(n&16)>>4;return o?i+20:i+10},ru=function t(e,r){return r===void 0&&(r=0),e=et(e),e.length-r<10||!tr(e,pR,{offset:r})?r:(r+=mR(e,r),t(e,r))},$w=function(e){return typeof e=="string"?P_(e):e},gR=function(e){return Array.isArray(e)?e.map(function(r){return $w(r)}):[$w(e)]},yR=function t(e,r,n){n===void 0&&(n=!1),r=gR(r),e=et(e);var i=[];if(!r.length)return i;for(var o=0;o<e.length;){var s=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,a=e.subarray(o+4,o+8);if(s===0)break;var l=o+s;if(l>e.length){if(n)break;l=e.length}var d=e.subarray(o+8,l);tr(a,r[0])&&(r.length===1?i.push(d):i.push.apply(i,t(d,r.slice(1),n))),o=l}return i},wf={EBML:et([26,69,223,163]),DocType:et([66,130]),Segment:et([24,83,128,103]),SegmentInfo:et([21,73,169,102]),Tracks:et([22,84,174,107]),Track:et([174]),TrackNumber:et([215]),DefaultDuration:et([35,227,131]),TrackEntry:et([174]),TrackType:et([131]),FlagDefault:et([136]),CodecID:et([134]),CodecPrivate:et([99,162]),VideoTrack:et([224]),AudioTrack:et([225]),Cluster:et([31,67,182,117]),Timestamp:et([231]),TimestampScale:et([42,215,177]),BlockGroup:et([160]),BlockDuration:et([155]),Block:et([161]),SimpleBlock:et([163])},_g=[128,64,32,16,8,4,2,1],bR=function(e){for(var r=1,n=0;n<_g.length&&!(e&_g[n]);n++)r++;return r},Af=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var o=bR(e[r]),s=e.subarray(r,r+o);return n&&(s=Array.prototype.slice.call(e,r,r+o),s[0]^=_g[o-1]),{length:o,value:R8(s,{signed:i}),bytes:s}},Vw=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?P8(e):e},vR=function(e){return Array.isArray(e)?e.map(function(r){return Vw(r)}):[Vw(e)]},_R=function t(e,r,n){if(n>=r.length)return r.length;var i=Af(r,n,!1);if(tr(e.bytes,i.bytes))return n;var o=Af(r,n+i.length);return t(e,r,n+o.length+o.value+i.length)},Hw=function t(e,r){r=vR(r),e=et(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var o=Af(e,i,!1),s=Af(e,i+o.length),a=i+o.length+s.length;s.value===127&&(s.value=_R(o,e,a),s.value!==e.length&&(s.value-=a));var l=a+s.value>e.length?e.length:a+s.value,d=e.subarray(a,l);tr(r[0],o.bytes)&&(r.length===1?n.push(d):n=n.concat(t(d,r.slice(1))));var f=o.length+s.length+d.length;i+=f}return n},wR=et([0,0,0,1]),AR=et([0,0,1]),xR=et([0,0,3]),TR=function(e){for(var r=[],n=1;n<e.length-2;)tr(e.subarray(n,n+3),xR)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,o=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),o[n]=e[s];return o},qw=function(e,r,n,i){e=et(e),n=[].concat(n);for(var o=0,s,a=0;o<e.length&&(a<i||s);){var l=void 0;if(tr(e.subarray(o),wR)?l=4:tr(e.subarray(o),AR)&&(l=3),!l){o++;continue}if(a++,s)return TR(e.subarray(s,o));var d=void 0;r==="h264"?d=e[o+l]&31:r==="h265"&&(d=e[o+l]>>1&63),n.indexOf(d)!==-1&&(s=o+l),o+=l+(r==="h264"?1:2)}return e.subarray(0,0)},ER=function(e,r,n){return qw(e,"h264",r,n)},CR=function(e,r,n){return qw(e,"h265",r,n)},tn={webm:et([119,101,98,109]),matroska:et([109,97,116,114,111,115,107,97]),flac:et([102,76,97,67]),ogg:et([79,103,103,83]),ac3:et([11,119]),riff:et([82,73,70,70]),avi:et([65,86,73]),wav:et([87,65,86,69]),"3gp":et([102,116,121,112,51,103]),mp4:et([102,116,121,112]),fmp4:et([115,116,121,112]),mov:et([102,116,121,112,113,116]),moov:et([109,111,111,118]),moof:et([109,111,111,102])},il={aac:function(e){var r=ru(e);return tr(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=ru(e);return tr(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Hw(e,[wf.EBML,wf.DocType])[0];return tr(r,tn.webm)},mkv:function(e){var r=Hw(e,[wf.EBML,wf.DocType])[0];return tr(r,tn.matroska)},mp4:function(e){if(il["3gp"](e)||il.mov(e))return!1;if(tr(e,tn.mp4,{offset:4})||tr(e,tn.fmp4,{offset:4})||tr(e,tn.moof,{offset:4})||tr(e,tn.moov,{offset:4}))return!0},mov:function(e){return tr(e,tn.mov,{offset:4})},"3gp":function(e){return tr(e,tn["3gp"],{offset:4})},ac3:function(e){var r=ru(e);return tr(e,tn.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=ru(e);return tr(e,tn.flac,{offset:r})},ogg:function(e){return tr(e,tn.ogg)},avi:function(e){return tr(e,tn.riff)&&tr(e,tn.avi,{offset:8})},wav:function(e){return tr(e,tn.riff)&&tr(e,tn.wav,{offset:8})},h264:function(e){return ER(e,7,3).length},h265:function(e){return CR(e,[32,33],3).length}},wg=Object.keys(il).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);wg.forEach(function(t){var e=il[t];il[t]=function(r){return e(et(r))}});var SR=il,Ag=function(e){e=et(e);for(var r=0;r<wg.length;r++){var n=wg[r];if(SR[n](e))return n}return""},kR=function(e){return yR(e,["moof"]).length>0},xg=9e4,Tg,Eg,xf,Cg,Ww,Gw,Qw;Tg=function(t){return t*xg},Eg=function(t,e){return t*e},xf=function(t){return t/xg},Cg=function(t,e){return t/e},Ww=function(t,e){return Tg(Cg(t,e))},Gw=function(t,e){return Eg(xf(t),e)},Qw=function(t,e,r){return xf(r?t:t-e)};var Vs={ONE_SECOND_IN_TS:xg,secondsToVideoTs:Tg,secondsToAudioTs:Eg,videoTsToSeconds:xf,audioTsToSeconds:Cg,audioTsToVideoTs:Ww,videoTsToAudioTs:Gw,metadataTsToSeconds:Qw};/**
 * @license
 * Video.js 8.12.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Sg="8.12.0";const ko={},ts=function(t,e){return ko[t]=ko[t]||[],e&&(ko[t]=ko[t].concat(e)),ko[t]},IR=function(t,e){ts(t,e)},Yw=function(t,e){const r=ts(t).indexOf(e);return r<=-1?!1:(ko[t]=ko[t].slice(),ko[t].splice(r,1),!0)},DR=function(t,e){ts(t,[].concat(e).map(r=>{const n=(...i)=>(Yw(t,n),r(...i));return n}))},Tf={prefixed:!0},Ef=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Kw=Ef[0];let nu;for(let t=0;t<Ef.length;t++)if(Ef[t][1]in Le){nu=Ef[t];break}if(nu){for(let t=0;t<nu.length;t++)Tf[Kw[t]]=nu[t];Tf.prefixed=nu[0]!==Kw[0]}let vn=[];const MR=(t,e,r)=>(n,i,o)=>{const s=e.levels[i],a=new RegExp(`^(${s})$`);let l=t;if(n!=="log"&&o.unshift(n.toUpperCase()+":"),r&&(l=`%c${t}`,o.unshift(r)),o.unshift(l+":"),vn){vn.push([].concat(o));const f=vn.length-1e3;vn.splice(0,f>0?f:0)}if(!ne.console)return;let d=ne.console[n];!d&&n==="debug"&&(d=ne.console.info||ne.console.log),!(!d||!s||!a.test(n))&&d[Array.isArray(o)?"apply":"call"](ne.console,o)};function kg(t,e=":",r=""){let n="info",i;const o=function(...s){i("log",n,s)};return i=MR(t,o,r),o.createLogger=(s,a,l)=>{const d=a!==void 0?a:e,f=l!==void 0?l:r,c=`${t} ${d} ${s}`;return kg(c,d,f)},o.createNewLogger=(s,a,l)=>kg(s,a,l),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},o.level=s=>{if(typeof s=="string"){if(!o.levels.hasOwnProperty(s))throw new Error(`"${s}" in not a valid log level`);n=s}return n},o.history=()=>vn?[].concat(vn):[],o.history.filter=s=>(vn||[]).filter(a=>new RegExp(`.*${s}.*`).test(a[0])),o.history.clear=()=>{vn&&(vn.length=0)},o.history.disable=()=>{vn!==null&&(vn.length=0,vn=null)},o.history.enable=()=>{vn===null&&(vn=[])},o.error=(...s)=>i("error",n,s),o.warn=(...s)=>i("warn",n,s),o.debug=(...s)=>i("debug",n,s),o}const wt=kg("VIDEOJS"),Xw=wt.createLogger,NR=Object.prototype.toString,Jw=function(t){return qi(t)?Object.keys(t):[]};function ol(t,e){Jw(t).forEach(r=>e(t[r],r))}function Zw(t,e,r=0){return Jw(t).reduce((n,i)=>e(n,t[i],i),r)}function qi(t){return!!t&&typeof t=="object"}function sl(t){return qi(t)&&NR.call(t)==="[object Object]"&&t.constructor===Object}function Gt(...t){const e={};return t.forEach(r=>{r&&ol(r,(n,i)=>{if(!sl(n)){e[i]=n;return}sl(e[i])||(e[i]={}),e[i]=Gt(e[i],n)})}),e}function eA(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function Cf(t,e,r,n=!0){const i=s=>Object.defineProperty(t,e,{value:s,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const s=r();return i(s),s}};return n&&(o.set=i),Object.defineProperty(t,e,o)}var OR=Object.freeze({__proto__:null,each:ol,reduce:Zw,isObject:qi,isPlain:sl,merge:Gt,values:eA,defineLazyProperty:Cf});let Ig=!1,tA=null,Wi=!1,rA,nA=!1,al=!1,ll=!1,Gi=!1,Dg=null,Sf=null,iA=null,kf=!1,If=!1,Df=!1,Mf=!1,Mg=!1,Ng=!1,Og=!1;const iu=!!(cl()&&("ontouchstart"in ne||ne.navigator.maxTouchPoints||ne.DocumentTouch&&ne.document instanceof ne.DocumentTouch)),rs=ne.navigator&&ne.navigator.userAgentData;if(rs&&rs.platform&&rs.brands&&(Wi=rs.platform==="Android",al=!!rs.brands.find(t=>t.brand==="Microsoft Edge"),ll=!!rs.brands.find(t=>t.brand==="Chromium"),Gi=!al&&ll,Dg=Sf=(rs.brands.find(t=>t.brand==="Chromium")||{}).version||null,If=rs.platform==="Windows"),!ll){const t=ne.navigator&&ne.navigator.userAgent||"";Ig=/iPod/i.test(t),tA=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Wi=/Android/i.test(t),rA=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null}(),nA=/Firefox/i.test(t),al=/Edg/i.test(t),ll=/Chrome/i.test(t)||/CriOS/i.test(t),Gi=!al&&ll,Dg=Sf=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),iA=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),Mg=/Tizen/i.test(t),Ng=/Web0S/i.test(t),Og=Mg||Ng,kf=/Safari/i.test(t)&&!Gi&&!Wi&&!al&&!Og,If=/Windows/i.test(t),Df=/iPad/i.test(t)||kf&&iu&&!/iPhone/i.test(t),Mf=/iPhone/i.test(t)&&!Df}const rn=Mf||Df||Ig,Nf=(kf||rn)&&!Gi;var oA=Object.freeze({__proto__:null,get IS_IPOD(){return Ig},get IOS_VERSION(){return tA},get IS_ANDROID(){return Wi},get ANDROID_VERSION(){return rA},get IS_FIREFOX(){return nA},get IS_EDGE(){return al},get IS_CHROMIUM(){return ll},get IS_CHROME(){return Gi},get CHROMIUM_VERSION(){return Dg},get CHROME_VERSION(){return Sf},get IE_VERSION(){return iA},get IS_SAFARI(){return kf},get IS_WINDOWS(){return If},get IS_IPAD(){return Df},get IS_IPHONE(){return Mf},get IS_TIZEN(){return Mg},get IS_WEBOS(){return Ng},get IS_SMART_TV(){return Og},TOUCH_ENABLED:iu,IS_IOS:rn,IS_ANY_SAFARI:Nf});function sA(t){return typeof t=="string"&&!!t.trim()}function LR(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function cl(){return Le===ne.document}function ul(t){return qi(t)&&t.nodeType===1}function aA(){try{return ne.parent!==ne.self}catch{return!0}}function lA(t){return function(e,r){if(!sA(e))return Le[t](null);sA(r)&&(r=Le.querySelector(r));const n=ul(r)?r:Le;return n[t]&&n[t](e)}}function gt(t="div",e={},r={},n){const i=Le.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(o){const s=e[o];o==="textContent"?ns(i,s):(i[o]!==s||o==="tabIndex")&&(i[o]=s)}),Object.getOwnPropertyNames(r).forEach(function(o){i.setAttribute(o,r[o])}),n&&Bg(i,n),i}function ns(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Lg(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ou(t,e){return LR(e),t.classList.contains(e)}function Hs(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function Of(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(wt.warn("removeClass was called with an element that doesn't exist"),null)}function cA(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function uA(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function is(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const o=n[i].name;let s=n[i].value;r.includes(o)&&(s=s!==null),e[o]=s}}return e}function dA(t,e){return t.getAttribute(e)}function dl(t,e,r){t.setAttribute(e,r)}function Lf(t,e){t.removeAttribute(e)}function fA(){Le.body.focus(),Le.onselectstart=function(){return!1}}function hA(){Le.onselectstart=function(){return!0}}function fl(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(hl(t,"height"))),r.width||(r.width=parseFloat(hl(t,"width"))),r}}function su(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==Le[Tf.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function Bf(t,e){const r={x:0,y:0};if(rn){let f=t;for(;f&&f.nodeName.toLowerCase()!=="html";){const c=hl(f,"transform");if(/^matrix/.test(c)){const h=c.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(c)){const h=c.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}f=f.parentNode}}const n={},i=su(e.target),o=su(t),s=o.width,a=o.height;let l=e.offsetY-(o.top-i.top),d=e.offsetX-(o.left-i.left);return e.changedTouches&&(d=e.changedTouches[0].pageX-o.left,l=e.changedTouches[0].pageY+o.top,rn&&(d-=r.x,l-=r.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,d/s)),n}function pA(t){return qi(t)&&t.nodeType===3}function Rf(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function mA(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),ul(e)||pA(e))return e;if(typeof e=="string"&&/\S/.test(e))return Le.createTextNode(e)}).filter(e=>e)}function Bg(t,e){return mA(e).forEach(r=>t.appendChild(r)),t}function gA(t,e){return Bg(Rf(t),e)}function au(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const os=lA("querySelector"),yA=lA("querySelectorAll");function hl(t,e){if(!t||!e)return"";if(typeof ne.getComputedStyle=="function"){let r;try{r=ne.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function bA(t){[...Le.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=Le.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=Le.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var vA=Object.freeze({__proto__:null,isReal:cl,isEl:ul,isInFrame:aA,createEl:gt,textContent:ns,prependTo:Lg,hasClass:ou,addClass:Hs,removeClass:Of,toggleClass:cA,setAttributes:uA,getAttributes:is,getAttribute:dA,setAttribute:dl,removeAttribute:Lf,blockTextSelection:fA,unblockTextSelection:hA,getBoundingClientRect:fl,findPosition:su,getPointerPosition:Bf,isTextNode:pA,emptyEl:Rf,normalizeContent:mA,appendContent:Bg,insertContent:gA,isSingleLeftClick:au,$:os,$$:yA,computedStyle:hl,copyStyleSheetsToWindow:bA});let _A=!1,Rg;const BR=function(){if(Rg.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Le.getElementsByTagName("video")),e=Array.prototype.slice.call(Le.getElementsByTagName("audio")),r=Array.prototype.slice.call(Le.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,o=n.length;i<o;i++){const s=n[i];if(s&&s.getAttribute)s.player===void 0&&s.getAttribute("data-setup")!==null&&Rg(s);else{Pg(1);break}}else _A||Pg(1)};function Pg(t,e){cl()&&(e&&(Rg=e),ne.setTimeout(BR,t))}function Fg(){_A=!0,ne.removeEventListener("load",Fg)}cl()&&(Le.readyState==="complete"?Fg():ne.addEventListener("load",Fg));const wA=function(t){const e=Le.createElement("style");return e.className=t,e},AA=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var nn=new WeakMap;let RR=3;function Ti(){return RR++}function xA(t,e){if(!nn.has(t))return;const r=nn.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&nn.delete(t)}function Ug(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function Pf(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||ne.event;t={};for(const i in n)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&i!=="path"&&(i==="returnValue"&&n.preventDefault||(t[i]=n[i]));if(t.target||(t.target=t.srcElement||Le),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const i=Le.documentElement,o=Le.body;t.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Ff;const PR=function(){if(typeof Ff!="boolean"){Ff=!1;try{const t=Object.defineProperty({},"passive",{get(){Ff=!0}});ne.addEventListener("test",null,t),ne.removeEventListener("test",null,t)}catch{}}return Ff},FR=["touchstart","touchmove"];function Rn(t,e,r){if(Array.isArray(e))return Ug(Rn,t,e,r);nn.has(t)||nn.set(t,{});const n=nn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=Ti()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,o){if(n.disabled)return;i=Pf(i);const s=n.handlers[i.type];if(s){const a=s.slice(0);for(let l=0,d=a.length;l<d&&!i.isImmediatePropagationStopped();l++)try{a[l].call(t,i,o)}catch(f){wt.error(f)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;PR()&&FR.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Vr(t,e,r){if(!nn.has(t))return;const n=nn.get(t);if(!n.handlers)return;if(Array.isArray(e))return Ug(Vr,t,e,r);const i=function(s,a){n.handlers[a]=[],xA(s,a)};if(e===void 0){for(const s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(t,s);return}const o=n.handlers[e];if(o){if(!r){i(t,e);return}if(r.guid)for(let s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);xA(t,e)}}function pl(t,e,r){const n=nn.has(t)?nn.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Pf(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)pl.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){nn.has(e.target)||nn.set(e.target,{});const o=nn.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function Uf(t,e,r){if(Array.isArray(e))return Ug(Uf,t,e,r);const n=function(){Vr(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ti(),Rn(t,e,n)}function jg(t,e,r){const n=function(){Vr(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ti(),Rn(t,e,n)}var UR=Object.freeze({__proto__:null,fixEvent:Pf,on:Rn,off:Vr,trigger:pl,one:Uf,any:jg});const Qn=30,Qt=function(t,e,r){e.guid||(e.guid=Ti());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},Qi=function(t,e){let r=ne.performance.now();return function(...i){const o=ne.performance.now();o-r>=e&&(t(...i),r=o)}},TA=function(t,e,r,n=ne){let i;const o=()=>{n.clearTimeout(i),i=null},s=function(){const a=this,l=arguments;let d=function(){i=null,d=null,r||t.apply(a,l)};!i&&r&&t.apply(a,l),n.clearTimeout(i),i=n.setTimeout(d,e)};return s.cancel=o,s};var jR=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Qn,bind_:Qt,throttle:Qi,debounce:TA});let lu;class Yn{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Rn(this,e,r),this.addEventListener=n}off(e,r){Vr(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Uf(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},jg(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=Pf(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),pl(this,e)}queueTrigger(e){lu||(lu=new Map);const r=e.type||e;let n=lu.get(this);n||(n=new Map,lu.set(this,n));const i=n.get(r);n.delete(r),ne.clearTimeout(i);const o=ne.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,lu.delete(this)),this.trigger(e)},0);n.set(r,o)}}Yn.prototype.allowedEvents_={},Yn.prototype.addEventListener=Yn.prototype.on,Yn.prototype.removeEventListener=Yn.prototype.off,Yn.prototype.dispatchEvent=Yn.prototype.trigger;const jf=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Io=t=>t instanceof Yn||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),zR=(t,e)=>{Io(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},zg=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,zf=(t,e,r)=>{if(!t||!t.nodeName&&!Io(t))throw new Error(`Invalid target for ${jf(e)}#${r}; must be a DOM node or evented object.`)},EA=(t,e,r)=>{if(!zg(t))throw new Error(`Invalid event type for ${jf(e)}#${r}; must be a non-empty string or array.`)},CA=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${jf(e)}#${r}; must be a function.`)},$g=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,o,s;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[o,s]=e):[i,o,s]=e,zf(i,t,r),EA(o,t,r),CA(s,t,r),s=Qt(t,s),{isTargetingSelf:n,target:i,type:o,listener:s}},qs=(t,e,r,n)=>{zf(t,t,e),t.nodeName?UR[e](t,r,n):t[e](r,n)},$R={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=$g(this,t,"on");if(qs(r,"on",n,i),!e){const o=()=>this.off(r,n,i);o.guid=i.guid;const s=()=>this.off("dispose",o);s.guid=i.guid,qs(this,"on","dispose",o),qs(r,"on","dispose",s)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=$g(this,t,"one");if(e)qs(r,"one",n,i);else{const o=(...s)=>{this.off(r,n,o),i.apply(null,s)};o.guid=i.guid,qs(r,"one",n,o)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=$g(this,t,"any");if(e)qs(r,"any",n,i);else{const o=(...s)=>{this.off(r,n,o),i.apply(null,s)};o.guid=i.guid,qs(r,"any",n,o)}},off(t,e,r){if(!t||zg(t))Vr(this.eventBusEl_,t,e);else{const n=t,i=e;zf(n,this,"off"),EA(i,this,"off"),CA(r,this,"off"),r=Qt(this,r),this.off("dispose",r),n.nodeName?(Vr(n,i,r),Vr(n,"dispose",r)):Io(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){zf(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!zg(r))throw new Error(`Invalid event type for ${jf(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return pl(this.eventBusEl_,t,e)}};function Vg(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=gt("span",{className:"vjs-event-bus"});return Object.assign(t,$R),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&nn.has(n)&&nn.delete(n)}),ne.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const VR={state:{},setState(t){typeof t=="function"&&(t=t());let e;return ol(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&Io(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function SA(t,e){return Object.assign(t,VR),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Io(t)&&t.on("statechanged",t.handleStateChanged),t}const cu=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},cr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},kA=function(t,e){return cr(t)===cr(e)};var HR=Object.freeze({__proto__:null,toLowerCase:cu,toTitleCase:cr,titleCaseEquals:kA});class Te{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Gt({},this.options_),r=this.options_=Gt(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Ti()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(Vg(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),SA(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,r){}off(e,r){}one(e,r){}any(e,r){}trigger(e,r){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Gt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return gt(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[i],a=i&&i.split("-")[0],l=o&&o[a];let d=n;return s&&s[e]?d=s[e]:l&&l[e]&&(d=l[e]),r&&(d=d.replace(/\{(\d+)\}/g,function(f,c){const h=r[c-1];let p=h;return typeof h>"u"&&(p=f),p})),d}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=gt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),o=Le.createElementNS(n,"svg");o.setAttributeNS(null,"viewBox","0 0 512 512");const s=Le.createElementNS(n,"use");return o.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(o),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,o;if(typeof e=="string"){o=cr(e);const s=r.componentClass||o;r.name=o;const a=Te.getComponent(s);if(!a)throw new Error(`Component ${s} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),o=o||i.name&&cr(i.name()),o&&(this.childNameIndex_[o]=i,this.childNameIndex_[cu(o)]=i),typeof i.el=="function"&&i.el()){let s=null;this.children_[n+1]&&(this.children_[n+1].el_?s=this.children_[n+1].el_:ul(this.children_[n+1])&&(s=this.children_[n+1])),this.contentEl().insertBefore(i.el(),s)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[cr(e.name())]=null,this.childNameIndex_[cu(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=s=>{const a=s.name;let l=s.opts;if(r[a]!==void 0&&(l=r[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const d=this.addChild(a,l);d&&(this[a]=d)};let i;const o=Te.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(s){return!i.some(function(a){return typeof a=="string"?s===a:s===a.name})})).map(s=>{let a,l;return typeof s=="string"?(a=s,l=e[a]||this.options_[a]||{}):(a=s.name,l=s),{name:a,opts:l}}).filter(s=>{const a=Te.getComponent(s.opts.componentClass||cr(s.name));return a&&!o.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return os(e,r||this.contentEl())}$$(e,r){return yA(e,r||this.contentEl())}hasClass(e){return ou(this.el_,e)}addClass(...e){Hs(this.el_,...e)}removeClass(...e){Of(this.el_,...e)}toggleClass(e,r){cA(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return dA(this.el_,e)}setAttribute(e,r){dl(this.el_,e,r)}removeAttribute(e){Lf(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],o=i.indexOf("px");return parseInt(o!==-1?i.slice(0,o):this.el_["offset"+cr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=hl(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${cr(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(dt.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let o;this.on("touchstart",function(a){a.touches.length===1&&(r={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=ne.performance.now(),o=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)o=!1;else if(r){const l=a.touches[0].pageX-r.pageX,d=a.touches[0].pageY-r.pageY;Math.sqrt(l*l+d*d)>n&&(o=!1)}});const s=function(){o=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(a){r=null,o===!0&&ne.performance.now()-e<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Qt(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=Qt(this,e),this.clearTimersOnDispose_(),n=ne.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),ne.clearTimeout(e)),e}setInterval(e,r){e=Qt(this,e),this.clearTimersOnDispose_();const n=ne.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),ne.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=Qt(this,e),r=ne.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),r=Qt(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),ne.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=Te.getComponent("Tech"),i=n&&n.isTech(r),o=Te===r||Te.prototype.isPrototypeOf(r.prototype);if(i||!o){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=cr(e),Te.components_||(Te.components_={});const s=Te.getComponent("Player");if(e==="Player"&&s&&s.players){const a=s.players,l=Object.keys(a);if(a&&l.length>0&&l.map(d=>a[d]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Te.components_[e]=r,Te.components_[cu(e)]=r,r}static getComponent(e){if(!(!e||!Te.components_))return Te.components_[e]}}Te.registerComponent("Component",Te);function qR(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function IA(t,e,r,n){return qR(t,n,r.length-1),r[n][e]}function Hg(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:IA.bind(null,"start",0,t),end:IA.bind(null,"end",1,t)},ne.Symbol&&ne.Symbol.iterator&&(e[ne.Symbol.iterator]=()=>(t||[]).values()),e}function Ei(t,e){return Array.isArray(t)?Hg(t):t===void 0||e===void 0?Hg():Hg([[t,e]])}const DA=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||s>0?i+":":"",n=((i||o>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let qg=DA;function MA(t){qg=t}function NA(){qg=DA}function Ws(t,e=t){return qg(t,e)}var WR=Object.freeze({__proto__:null,createTimeRanges:Ei,createTimeRange:Ei,setFormatTime:MA,resetFormatTime:NA,formatTime:Ws});function OA(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=Ei(0,0));for(let o=0;o<t.length;o++)n=t.start(o),i=t.end(o),i>e&&(i=e),r+=i-n;return r/e}function or(t){if(t instanceof or)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:qi(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=or.defaultMessages[this.code]||"")}or.prototype.code=0,or.prototype.message="",or.prototype.status=null,or.prototype.metadata=null,or.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],or.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},or.MEDIA_ERR_CUSTOM=0,or.prototype.MEDIA_ERR_CUSTOM=0,or.MEDIA_ERR_ABORTED=1,or.prototype.MEDIA_ERR_ABORTED=1,or.MEDIA_ERR_NETWORK=2,or.prototype.MEDIA_ERR_NETWORK=2,or.MEDIA_ERR_DECODE=3,or.prototype.MEDIA_ERR_DECODE=3,or.MEDIA_ERR_SRC_NOT_SUPPORTED=4,or.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,or.MEDIA_ERR_ENCRYPTED=5,or.prototype.MEDIA_ERR_ENCRYPTED=5;function uu(t){return t!=null&&typeof t.then=="function"}function Yi(t){uu(t)&&t.then(null,e=>{})}const Wg=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})};var LA={textTracksToJson:function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const o=Wg(i.track);return i.src&&(o.src=i.src),o}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(Wg))},jsonToTextTracks:function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()},trackToJson_:Wg};const Gg="vjs-modal-dialog";class ml extends Te{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=gt("div",{className:`${Gg}-content`},{role:"document"}),this.descEl_=gt("p",{className:`${Gg}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ns(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Gg} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),gA(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const o=this.getChild("closeButton");o&&n.appendChild(o.el_)}empty(){this.trigger("beforemodalempty"),Rf(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Le.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),dt.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!dt.isEventKey(e,"Tab"))return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}Le.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof ne.HTMLAnchorElement||r instanceof ne.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof ne.HTMLInputElement||r instanceof ne.HTMLSelectElement||r instanceof ne.HTMLTextAreaElement||r instanceof ne.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof ne.HTMLIFrameElement||r instanceof ne.HTMLObjectElement||r instanceof ne.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}ml.prototype.options_={pauseOnOpen:!0,temporary:!0},Te.registerComponent("ModalDialog",ml);class gl extends Yn{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Io(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const o=this[n];if(o.id===e){r=o;break}}return r}}gl.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in gl.prototype.allowedEvents_)gl.prototype["on"+t]=null;const Qg=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class GR extends gl{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){Qg(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Qg(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Qg(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Yg=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class QR extends gl{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){Yg(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&Yg(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Yg(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class BA extends gl{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class YR{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class $f{constructor(e){$f.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const o=function(s){""+s in this||Object.defineProperty(this,""+s,{get(){return this.cues_[s]}})};if(r<i)for(n=r;n<i;n++)o.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const o=this[n];if(o.id===e){r=o;break}}return r}}const KR={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},XR={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},JR={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},RA={disabled:"disabled",hidden:"hidden",showing:"showing"};class Kg extends Yn{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Ti(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const Xg=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],r=Le.createElement("a");r.href=t;const n={};for(let i=0;i<e.length;i++)n[e[i]]=r[e[i]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=ne.location.protocol),n.host||(n.host=ne.location.host),n},PA=function(t){if(!t.match(/^https?:\/\//)){const e=Le.createElement("a");e.href=t,t=e.href}return t},Jg=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},Vf=function(t,e=ne.location){const r=Xg(t);return(r.protocol===":"?e.protocol:r.protocol)+r.host!==e.protocol+e.host};var ZR=Object.freeze({__proto__:null,parseUrl:Xg,getAbsoluteURL:PA,getFileExtension:Jg,isCrossOrigin:Vf});const FA=function(t,e){const r=new ne.WebVTT.Parser(ne,ne.vttjs,ne.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(ne.console&&ne.console.groupCollapsed&&ne.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>wt.error(i)),ne.console&&ne.console.groupEnd&&ne.console.groupEnd()),r.flush()},UA=function(t,e){const r={uri:t},n=Vf(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),v_(r,Qt(this,function(o,s,a){if(o)return wt.error(o,s);e.loaded_=!0,typeof ne.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){wt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return FA(a,e)}):FA(a,e)}))};class du extends Kg{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Gt(e,{kind:JR[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=RA[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const o=new $f(this.cues_),s=new $f(this.activeCues_);let a=!1;this.timeupdateHandler=Qt(this,function(d={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(d){RA[d]&&n!==d&&(n=d,!this.preload_&&n!=="disabled"&&this.cues.length===0&&UA(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?o:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return s;const d=this.tech_.currentTime(),f=[];for(let c=0,h=this.cues.length;c<h;c++){const p=this.cues[c];p.startTime<=d&&p.endTime>=d&&f.push(p)}if(a=!1,f.length!==this.activeCues_.length)a=!0;else for(let c=0;c<f.length;c++)this.activeCues_.indexOf(f[c])===-1&&(a=!0);return this.activeCues_=f,s.setCues_(this.activeCues_),s},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&UA(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new ne.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}du.prototype.allowedEvents_={cuechange:"cuechange"};class jA extends Kg{constructor(e={}){const r=Gt(e,{kind:XR[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class zA extends Kg{constructor(e={}){const r=Gt(e,{kind:KR[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class Do extends Yn{constructor(e={}){super();let r;const n=new du(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=Do.NONE,n.addEventListener("loadeddata",()=>{r=Do.LOADED,this.trigger({type:"load",target:this})})}}Do.prototype.allowedEvents_={load:"load"},Do.NONE=0,Do.LOADING=1,Do.LOADED=2,Do.ERROR=3;const Kn={audio:{ListClass:GR,TrackClass:jA,capitalName:"Audio"},video:{ListClass:QR,TrackClass:zA,capitalName:"Video"},text:{ListClass:BA,TrackClass:du,capitalName:"Text"}};Object.keys(Kn).forEach(function(t){Kn[t].getterName=`${t}Tracks`,Kn[t].privateName=`${t}Tracks_`});const yl={remoteText:{ListClass:BA,TrackClass:du,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:YR,TrackClass:Do,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},on=Object.assign({},Kn,yl);yl.names=Object.keys(yl),Kn.names=Object.keys(Kn),on.names=[].concat(yl.names).concat(Kn.names);function eP(t,e,r,n,i={}){const o=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const s=new on.text.TrackClass(i);return o.addTrack(s),s}class ht extends Te{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),on.names.forEach(n=>{const i=on[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new on.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Qt(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Ei(0,0)}bufferedPercent(){return OA(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Kn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const o=n[i];r==="text"&&this.removeRemoteTextTrack(o),n.removeTrack(o)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new or(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Ei(0,0):Ei()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Kn.names.forEach(e=>{const r=Kn[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!ne.WebVTT)if(Le.body.contains(this.el())){if(!this.options_["vtt.js"]&&sl(S_)&&Object.keys(S_).length>0){this.trigger("vttjsloaded");return}const e=Le.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),ne.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=a=>e.addTrack(a.track),i=a=>e.removeTrack(a.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const o=()=>this.trigger("texttrackchange"),s=()=>{o();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",o),l.mode==="showing"&&l.addEventListener("cuechange",o)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",o)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return eP(this,e,r,n)}createRemoteTextTrack(e){const r=Gt(e,{tech:this});return new yl.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Ti();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return ht.canPlayType(e.type)}static isTech(e){return e.prototype instanceof ht||e instanceof ht||e===ht}static registerTech(e,r){if(ht.techs_||(ht.techs_={}),!ht.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!ht.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!ht.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=cr(e),ht.techs_[e]=r,ht.techs_[cu(e)]=r,e!=="Tech"&&ht.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(ht.techs_&&ht.techs_[e])return ht.techs_[e];if(e=cr(e),ne&&ne.videojs&&ne.videojs[e])return wt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),ne.videojs[e]}}}on.names.forEach(function(t){const e=on[t];ht.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),ht.prototype.featuresVolumeControl=!0,ht.prototype.featuresMuteControl=!0,ht.prototype.featuresFullscreenResize=!1,ht.prototype.featuresPlaybackRate=!1,ht.prototype.featuresProgressEvents=!1,ht.prototype.featuresSourceset=!1,ht.prototype.featuresTimeupdateEvents=!1,ht.prototype.featuresNativeTextTracks=!1,ht.prototype.featuresVideoFrameCallback=!1,ht.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let o=0;o<n.length;o++)if(i=n[o].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let o;for(let s=0;s<i.length;s++)if(o=i[s].canHandleSource(r,n),o)return i[s];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:wt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Te.registerComponent("Tech",ht),ht.registerTech("Tech",ht),ht.defaultTechOrder_=[];const Gs={},Zg={},Hf={};function tP(t,e){Gs[t]=Gs[t]||[],Gs[t].push(e)}function rP(t,e,r){t.setTimeout(()=>Qs(e,Gs[e.type],r,t),1)}function nP(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function iP(t,e,r){return t.reduceRight(e0(r),e[r]())}function oP(t,e,r,n){return e[r](t.reduce(e0(r),n))}function $A(t,e,r,n=null){const i="call"+cr(r),o=t.reduce(e0(i),n),s=o===Hf,a=s?null:e[r](o);return lP(t,r,a,s),a}const sP={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},aP={setCurrentTime:1,setMuted:1,setVolume:1},VA={play:1,pause:1};function e0(t){return(e,r)=>e===Hf?Hf:r[t]?r[t](e):e}function lP(t,e,r,n){for(let i=t.length-1;i>=0;i--){const o=t[i];o[e]&&o[e](n,r)}}function cP(t){Zg[t.id()]=null}function uP(t,e){const r=Zg[t.id()];let n=null;if(r==null)return n=e(t),Zg[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[o,s]=r[i];o===e&&(n=s)}return n===null&&(n=e(t),r.push([e,n])),n}function Qs(t={},e=[],r,n,i=[],o=!1){const[s,...a]=e;if(typeof s=="string")Qs(t,Gs[s],r,n,i,o);else if(s){const l=uP(n,s);if(!l.setSource)return i.push(l),Qs(t,a,r,n,i,o);l.setSource(Object.assign({},t),function(d,f){if(d)return Qs(t,a,r,n,i,o);i.push(l),Qs(f,t.type===f.type?a:Gs[f.type],r,n,i,o)})}else a.length?Qs(t,a,r,n,i,o):o?r(t,i):Qs(t,Gs["*"],r,n,i,!0)}const dP={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},qf=function(t=""){const e=Jg(t);return dP[e.toLowerCase()]||""},fP=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const o=n[i];if(o.type&&o.src&&o.src===e)return o.type}return qf(e)},HA=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=HA(r),Array.isArray(r)?e=e.concat(r):qi(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[qA({src:t})]:qi(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[qA(t)]:t=[];return t};function qA(t){if(!t.type){const e=qf(t.src);e&&(t.type=e)}return t}var hP=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class pP extends Te{constructor(e,r,n){const i=Gt({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let o=0,s=r.playerOptions.techOrder;o<s.length;o++){const a=cr(s[o]);let l=ht.getTech(a);if(a||(l=Te.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(r.playerOptions.sources)}}Te.registerComponent("MediaLoader",pP);class Wf extends Te{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&wt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=gt(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=gt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,ns(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){dt.isEventKey(e,"Space")||dt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Te.registerComponent("ClickableComponent",Wf);class t0 extends Wf{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return gt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(gt("picture",{className:"vjs-poster",tabIndex:-1},{},gt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Yi(this.player_.play()):this.player_.pause())}}t0.prototype.crossorigin=t0.prototype.crossOrigin,Te.registerComponent("PosterImage",t0);const Xn="#222",WA="#ccc",mP={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function r0(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function fu(t,e,r){try{t.style[e]=r}catch{return}}function GA(t){return t?`${t}px`:""}class gP extends Te{constructor(e,r,n){super(e,r,n);const i=s=>this.updateDisplay(s),o=s=>{this.updateDisplayOverlay(),this.updateDisplay(s)};e.on("loadstart",s=>this.toggleDisplay(s)),e.on("texttrackchange",i),e.on("loadedmetadata",s=>{this.updateDisplayOverlay(),this.preselectTrack(s)}),e.ready(Qt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",o),e.on("playerresize",o);const s=ne.screen.orientation||ne,a=ne.screen.orientation?"change":"orientationchange";s.addEventListener(a,o),e.on("dispose",()=>s.removeEventListener(a,o));const l=this.options_.playerOptions.tracks||[];for(let d=0;d<l.length;d++)this.player_.addRemoteTextTrack(l[d],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,o,s;for(let a=0;a<r.length;a++){const l=r[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?s=l:s||(s=l):n&&!n.enabled?(s=null,i=null,o=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!o&&(o=l))}s?s.mode="showing":o?o.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof ne.WebVTT=="function"&&ne.WebVTT.processCues(ne,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const s=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}let n=null,i=null,o=e.length;for(;o--;){const s=e[o];s.mode==="showing"&&(s.kind==="descriptions"?n=s:i=s)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!ne.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let o=0,s=0;Math.abs(n-i)>.1&&(n>i?o=Math.round((e-r*i)/2):s=Math.round((r-e/i)/2)),fu(this.el_,"insetInline",GA(o)),fu(this.el_,"insetBlock",GA(s))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const o=n[i];if(!o)continue;const s=o.displayState;if(r.color&&(s.firstChild.style.color=r.color),r.textOpacity&&fu(s.firstChild,"color",r0(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(s.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&fu(s.firstChild,"backgroundColor",r0(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?fu(s,"backgroundColor",r0(r.windowColor,r.windowOpacity)):s.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?s.firstChild.style.textShadow=`2px 2px 3px ${Xn}, 2px 2px 4px ${Xn}, 2px 2px 5px ${Xn}`:r.edgeStyle==="raised"?s.firstChild.style.textShadow=`1px 1px ${Xn}, 2px 2px ${Xn}, 3px 3px ${Xn}`:r.edgeStyle==="depressed"?s.firstChild.style.textShadow=`1px 1px ${WA}, 0 1px ${WA}, -1px -1px ${Xn}, 0 -1px ${Xn}`:r.edgeStyle==="uniform"&&(s.firstChild.style.textShadow=`0 0 4px ${Xn}, 0 0 4px ${Xn}, 0 0 4px ${Xn}, 0 0 4px ${Xn}`)),r.fontPercent&&r.fontPercent!==1){const a=ne.parseFloat(s.style.fontSize);s.style.fontSize=a*r.fontPercent+"px",s.style.height="auto",s.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=mP[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof ne.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let o=0;o<i.activeCues.length;++o)r.push(i.activeCues[o])}ne.WebVTT.processCues(ne,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let o=0;o<i.activeCues.length;++o){const s=i.activeCues[o].displayState;Hs(s,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&dl(s,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}Te.registerComponent("TextTrackDisplay",gP);class yP extends Te{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=gt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Te.registerComponent("LoadingSpinner",yP);class Pn extends Wf{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=gt(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return wt.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),Te.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(dt.isEventKey(e,"Space")||dt.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}Te.registerComponent("Button",Pn);class QA extends Pn{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Yi(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const o=()=>i.focus();uu(r)?r.then(o,()=>{}):this.setTimeout(o,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}QA.prototype.controlText_="Play Video",Te.registerComponent("BigPlayButton",QA);class bP extends Pn{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){dt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Te.registerComponent("CloseButton",bP);class YA extends Pn{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Yi(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}YA.prototype.controlText_="Play",Te.registerComponent("PlayToggle",YA);class bl extends Te{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=gt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return r.appendChild(n),this.contentEl_=gt("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Ws(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,wt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Le.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}bl.prototype.labelText_="Time",bl.prototype.controlText_="Time",Te.registerComponent("TimeDisplay",bl);class n0 extends bl{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}n0.prototype.labelText_="Current Time",n0.prototype.controlText_="Current Time",Te.registerComponent("CurrentTimeDisplay",n0);class i0 extends bl{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}i0.prototype.labelText_="Duration",i0.prototype.controlText_="Duration",Te.registerComponent("DurationDisplay",i0);class vP extends Te{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}Te.registerComponent("TimeDivider",vP);class o0 extends bl{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(gt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}o0.prototype.labelText_="Remaining Time",o0.prototype.controlText_="Remaining Time",Te.registerComponent("RemainingTimeDisplay",o0);class _P extends Te{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=gt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(gt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Le.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Te.registerComponent("LiveDisplay",_P);class KA extends Pn{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=gt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}KA.prototype.controlText_="Seek to live, currently playing live",Te.registerComponent("SeekToLive",KA);function hu(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var wP=Object.freeze({__proto__:null,clamp:hu});class s0 extends Te{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Gi&&e.preventDefault(),fA(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;hA(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(hu(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=Bf(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){dt.isEventKey(e,"Left")||dt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):dt.isEventKey(e,"Right")||dt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Te.registerComponent("Slider",s0);const a0=(t,e)=>hu(t/e*100,0,100).toFixed(2)+"%";class AP extends Te{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=gt("span",{className:"vjs-control-text"}),n=gt("span",{textContent:this.localize("Loaded")}),i=Le.createTextNode(": ");return this.percentageEl_=gt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),s=this.partEls_,a=a0(o,i);this.percent_!==a&&(this.el_.style.width=a,ns(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const d=n.start(l),f=n.end(l);let c=s[l];c||(c=this.el_.appendChild(gt()),s[l]=c),!(c.dataset.start===d&&c.dataset.end===f)&&(c.dataset.start=d,c.dataset.end=f,c.style.left=a0(d,o),c.style.width=a0(f-d,o))}for(let l=s.length;l>n.length;l--)this.el_.removeChild(s[l-1]);s.length=n.length})}}Te.registerComponent("LoadProgressBar",AP);class xP extends Te{constructor(e,r){super(e,r),this.update=Qi(Qt(this,this.update),Qn)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=su(this.el_),o=fl(this.player_.el()),s=e.width*r;if(!o||!i)return;let a=e.left-o.left+s,l=e.width-s+(o.right-e.right);l||(l=e.width-s,a=s);let d=i.width/2;a<d?d+=d-a:l<d&&(d=l),d<0?d=0:d>i.width&&(d=i.width),d=Math.round(d),this.el_.style.right=`-${d}px`,this.write(n)}write(e){ns(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let o;const s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-r*a;o=(l<1?"":"-")+Ws(l,a)}else o=Ws(n,s);this.update(e,r,o),i&&i()})}}Te.registerComponent("TimeTooltip",xP);class l0 extends Te{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=Qi(Qt(this,this.update),Qn)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}l0.prototype.options_={children:[]},!rn&&!Wi&&l0.prototype.options_.children.push("timeTooltip"),Te.registerComponent("PlayProgressBar",l0);class XA extends Te{constructor(e,r){super(e,r),this.update=Qi(Qt(this,this.update),Qn)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}XA.prototype.options_={children:["timeTooltip"]},Te.registerComponent("MouseTimeDisplay",XA);const Gf=5,JA=12;class c0 extends s0{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=Qt(this,this.update),this.update=Qi(this.update_,Qn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Le&&"visibilityState"in Le&&this.on(Le,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Le.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Qn))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Le.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let o=this.player_.duration();i&&i.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==o)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ws(n,o),Ws(o,o)],"{1} of {2}")),this.currentTime_=n,this.duration_=o),this.bar&&this.bar.update(fl(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){au(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!au(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),o=this.player_.liveTracker;if(!o||!o.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){o.seekToLiveEdge();return}const s=o.seekableStart(),a=o.liveCurrentTime();if(n=s+i*o.liveWindow(),n>=a&&(n=a),n<=s&&(n=s+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Yi(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Gf)}stepBack(){this.userSeek_(this.player_.currentTime()-Gf)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(dt.isEventKey(e,"Space")||dt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(dt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(dt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(dt(e))){e.preventDefault(),e.stopPropagation();const n=(dt.codes[dt(e)]-dt.codes[0])*10/100;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else dt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Gf*JA)):dt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Gf*JA)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Le&&"visibilityState"in Le&&this.off(Le,"visibilitychange",this.toggleVisibility_),super.dispose()}}c0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!rn&&!Wi&&c0.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Te.registerComponent("SeekBar",c0);class ZA extends Te{constructor(e,r){super(e,r),this.handleMouseMove=Qi(Qt(this,this.handleMouseMove),Qn),this.throttledHandleMouseSeek=Qi(Qt(this,this.handleMouseSeek),Qn),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const o=r.el(),s=su(o);let a=Bf(o,e).x;a=hu(a,0,1),i&&i.update(s,a),n&&n.update(s,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Yi(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}ZA.prototype.options_={children:["seekBar"]},Te.registerComponent("ProgressControl",ZA);class ex extends Pn{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Le.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in ne?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Le.exitPictureInPicture=="function"&&super.show()}}ex.prototype.controlText_="Picture-in-Picture",Te.registerComponent("PictureInPictureToggle",ex);class tx extends Pn{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Le[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}tx.prototype.controlText_="Fullscreen",Te.registerComponent("FullscreenToggle",tx);const TP=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class EP extends Te{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Te.registerComponent("VolumeLevel",EP);class CP extends Te{constructor(e,r){super(e,r),this.update=Qi(Qt(this,this.update),Qn)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const o=fl(this.el_),s=fl(this.player_.el()),a=e.width*r;if(!s||!o)return;const l=e.left-s.left+a,d=e.width-a+(s.right-e.right);let f=o.width/2;l<f?f+=f-l:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),this.el_.style.right=`-${f}px`}this.write(`${i}%`)}write(e){ns(this.el_,e)}updateVolume(e,r,n,i,o){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),o&&o()})}}Te.registerComponent("VolumeLevelTooltip",CP);class rx extends Te{constructor(e,r){super(e,r),this.update=Qi(Qt(this,this.update),Qn)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}rx.prototype.options_={children:["volumeLevelTooltip"]},Te.registerComponent("MouseVolumeLevelDisplay",rx);class Qf extends s0{constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){au(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=fl(n),o=this.vertical();let s=Bf(n,e);s=o?s.y:s.x,s=hu(s,0,1),r.update(i,s,o)}au(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Qf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!rn&&!Wi&&Qf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Qf.prototype.playerEvent="volumechange",Te.registerComponent("VolumeBar",Qf);class nx extends Te{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||sl(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),TP(this,e),this.throttledHandleMouseMove=Qi(Qt(this,this.handleMouseMove),Qn),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}nx.prototype.options_={children:["volumeBar"]},Te.registerComponent("VolumeControl",nx);const SP=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class ix extends Pn{constructor(e,r){super(e,r),SP(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),rn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),Of(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),Hs(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}ix.prototype.controlText_="Mute",Te.registerComponent("MuteToggle",ix);class ox extends Te{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||sl(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){dt.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Rn(Le,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Vr(Le,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){dt.isEventKey(e,"Esc")&&this.handleMouseOut()}}ox.prototype.options_={children:["muteToggle","volumeControl"]},Te.registerComponent("VolumePanel",ox);class sx extends Pn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let o;r+this.skipTime<=i?o=r+this.skipTime:o=i,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}sx.prototype.controlText_="Skip Forward",Te.registerComponent("SkipForward",sx);class ax extends Pn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let o;i&&r-this.skipTime<=i?o=i:r>=this.skipTime?o=r-this.skipTime:o=0,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}ax.prototype.controlText_="Skip Backward",Te.registerComponent("SkipBackward",ax);class lx extends Te{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof Te&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Te&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=gt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Rn(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Le.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){dt.isEventKey(e,"Left")||dt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(dt.isEventKey(e,"Right")||dt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}Te.registerComponent("Menu",lx);class u0 extends Te{constructor(e,r={}){super(e,r),this.menuButton_=new Pn(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=Pn.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=o=>this.handleClick(o);this.handleMenuKeyUp_=o=>this.handleMenuKeyUp(o),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",o=>this.handleKeyDown(o)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Rn(Le,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",o=>this.handleMouseLeave(o)),this.on("keydown",o=>this.handleSubmenuKeyDown(o))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new lx(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=gt("li",{className:"vjs-menu-title",textContent:cr(this.options_.title),tabIndex:-1}),n=new Te(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Pn.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Vr(Le,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){dt.isEventKey(e,"Esc")||dt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),dt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(dt.isEventKey(e,"Up")||dt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(dt.isEventKey(e,"Esc")||dt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(dt.isEventKey(e,"Esc")||dt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),dt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),rn&&aA())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Te.registerComponent("MenuButton",u0);class d0 extends u0{constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=Qt(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}Te.registerComponent("TrackButton",d0);const kP=["Tab","Esc","Up","Down","Right","Left"];class pu extends Wf{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),o=gt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(o):i.replaceChild(o,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){kP.some(r=>dt.isEventKey(e,r))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Te.registerComponent("MenuItem",pu);class mu extends pu{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const o=(...a)=>{this.handleTracksChange.apply(this,a)},s=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],o),i.addEventListener("change",o),i.addEventListener("selectedlanguagechange",s),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],o),i.removeEventListener("change",o),i.removeEventListener("selectedlanguagechange",s)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof ne.Event!="object")try{a=new ne.Event("change")}catch{}a||(a=Le.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const o=n[i];this.kinds.indexOf(o.kind)!==-1&&(o===r?o.mode!=="showing"&&(o.mode="showing"):o.mode!=="disabled"&&(o.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Te.registerComponent("TextTrackMenuItem",mu);class cx extends mu{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(this.options_.kinds.indexOf(s.kind)>-1&&s.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&s.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Te.registerComponent("OffTextTrackMenuItem",cx);class vl extends d0{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=mu){let n;this.label_&&(n=`${this.label_} off`),e.push(new cx(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let o=0;o<i.length;o++){const s=i[o];if(this.kinds_.indexOf(s.kind)>-1){const a=new r(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${s.kind}-menu-item`),e.push(a)}}return e}}Te.registerComponent("TextTrackButton",vl);class ux extends pu{constructor(e,r){const n=r.track,i=r.cue,o=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=o&&o<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Te.registerComponent("ChaptersTrackMenuItem",ux);class f0 extends vl{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(cr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const o=r[n],s=new ux(this.player_,{track:this.track_,cue:o});e.push(s)}return e}}f0.prototype.kind_="chapters",f0.prototype.controlText_="Chapters",Te.registerComponent("ChaptersButton",f0);class h0 extends vl{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),o=Qt(this,this.handleTracksChange);i.addEventListener("change",o),this.on("dispose",function(){i.removeEventListener("change",o)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(s.kind!==this.kind_&&s.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}h0.prototype.kind_="descriptions",h0.prototype.controlText_="Descriptions",Te.registerComponent("DescriptionsButton",h0);class p0 extends vl{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}p0.prototype.kind_="subtitles",p0.prototype.controlText_="Subtitles",Te.registerComponent("SubtitlesButton",p0);class m0 extends mu{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Te.registerComponent("CaptionSettingsMenuItem",m0);class g0 extends vl{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new m0(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}g0.prototype.kind_="captions",g0.prototype.controlText_="Captions",Te.registerComponent("CaptionsButton",g0);class dx extends mu{createEl(e,r,n){const i=super.createEl(e,r,n),o=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):o.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(gt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Te.registerComponent("SubsCapsMenuItem",dx);class y0 extends vl{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(cr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new m0(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,dx),e}}y0.prototype.kinds_=["captions","subtitles"],y0.prototype.controlText_="Subtitles",Te.registerComponent("SubsCapsButton",y0);class fx extends pu{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const o=(...s)=>{this.handleTracksChange.apply(this,s)};i.addEventListener("change",o),this.on("dispose",()=>{i.removeEventListener("change",o)})}createEl(e,r,n){const i=super.createEl(e,r,n),o=i.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(o.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(gt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Te.registerComponent("AudioTrackMenuItem",fx);class hx extends d0{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new fx(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}hx.prototype.controlText_="Audio Track",Te.registerComponent("AudioTrackButton",hx);class b0 extends pu{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",o=>this.update(o))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}b0.prototype.contentElType="button",Te.registerComponent("PlaybackRateMenuItem",b0);class px extends u0{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=gt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new b0(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}px.prototype.controlText_="Playback Rate",Te.registerComponent("PlaybackRateMenuButton",px);class mx extends Te{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}Te.registerComponent("Spacer",mx);class IP extends mx{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Te.registerComponent("CustomControlSpacer",IP);class gx extends Te{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}gx.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},Te.registerComponent("ControlBar",gx);class yx extends ml{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}yx.prototype.options_=Object.assign({},ml.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Te.registerComponent("ErrorDisplay",yx);const v0="vjs-text-track-settings",bx=["#000","Black"],vx=["#00F","Blue"],_x=["#0FF","Cyan"],wx=["#0F0","Green"],Ax=["#F0F","Magenta"],xx=["#F00","Red"],Tx=["#FFF","White"],Ex=["#FF0","Yellow"],_0=["1","Opaque"],w0=["0.5","Semi-Transparent"],Cx=["0","Transparent"],Ys={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[bx,Tx,xx,wx,vx,Ex,Ax,_x]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[_0,w0,Cx]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Tx,bx,xx,wx,vx,Ex,Ax,_x]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[_0,w0]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[Cx,w0,_0]}};Ys.windowColor.options=Ys.backgroundColor.options;function Sx(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function DP(t,e){const r=t.options[t.options.selectedIndex].value;return Sx(r,e)}function MP(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if(Sx(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class NP extends ml{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=gt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),ol(Ys,n=>{this.on(this.$(n.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,r="",n="label"){const i=Ys[e],o=i.id.replace("%s",this.id_),s=[r,o].join(" ").trim(),a=`vjs_select_${Ti()}`;return[`<${n} id="${o}"${n==="label"?` for="${a}" class="vjs-label"`:""}>`,this.localize(i.label),`</${n}>`,`<select aria-labelledby="${s}" id="${a}">`].concat(i.options.map(l=>{const d=o+"-"+l[1].replace(/\W+/g,"");return[`<option id="${d}" value="${l[0]}" `,`aria-labelledby="${s} ${d}">`,this.localize(l[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return gt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return gt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return gt("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Zw(Ys,(e,r,n)=>{const i=DP(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){ol(Ys,(r,n)=>{MP(this.$(r.selector),e[n],r.parser)})}setDefaults(){ol(Ys,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(ne.localStorage.getItem(v0))}catch(r){wt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?ne.localStorage.setItem(v0,JSON.stringify(e)):ne.localStorage.removeItem(v0)}catch(r){wt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,r=e&&e.subsCapsButton,n=e&&e.captionsButton;r?r.focus():n&&n.focus()}handleLanguagechange(){this.fill()}}Te.registerComponent("TextTrackSettings",NP);class OP extends Te{constructor(e,r){let n=r.ResizeObserver||ne.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=Gt({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||ne.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=TA(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const o=this.debouncedHandler_;let s=this.unloadListener_=function(){Vr(this,"resize",o),Vr(this,"unload",s),s=null};Rn(this.el_.contentWindow,"unload",s),Rn(this.el_.contentWindow,"resize",o)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Te.registerComponent("ResizeManager",OP);const LP={trackingThreshold:20,liveTolerance:15};class BP extends Te{constructor(e,r){const n=Gt(LP,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(ne.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),o=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-o)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Qn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Te.registerComponent("LiveTracker",BP);class RP extends Te{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:gt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Ti()}`}),description:gt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Ti()}`})},gt("div",{className:"vjs-title-bar"},{},eA(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const o=this.state[i],s=this.els[i],a=n[i];Rf(s),o&&ns(s,o),r&&(r.removeAttribute(a),o&&r.setAttribute(a,s.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Te.registerComponent("TitleBar",RP);const A0=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let o=0;o<r.length;o++){const s=r[o].src;s&&n.indexOf(s)===-1&&n.push(s)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},PP=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Le.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Le.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",ne.Element.prototype.appendChild.call(this,r),this.innerHTML}}),kx=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},FP=t=>kx([t.el(),ne.HTMLMediaElement.prototype,ne.Element.prototype,PP],"innerHTML"),Ix=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=FP(t),i=o=>(...s)=>{const a=o.apply(e,s);return A0(t),a};["append","appendChild","insertAdjacentHTML"].forEach(o=>{e[o]&&(r[o]=e[o],e[o]=i(r[o]))}),Object.defineProperty(e,"innerHTML",Gt(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(o=>{e[o]=r[o]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},UP=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?PA(ne.Element.prototype.getAttribute.call(this,"src")):""},set(t){return ne.Element.prototype.setAttribute.call(this,"src",t),t}}),jP=t=>kx([t.el(),ne.HTMLMediaElement.prototype,UP],"src"),zP=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=jP(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Gt(r,{set:o=>{const s=r.set.call(e,o);return t.triggerSourceset(e.src),s}})),e.setAttribute=(o,s)=>{const a=n.call(e,o,s);return/src/i.test(o)&&t.triggerSourceset(e.src),a},e.load=()=>{const o=i.call(e);return A0(t)||(t.triggerSourceset(""),Ix(t)),o},e.currentSrc?t.triggerSourceset(e.currentSrc):A0(t)||Ix(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class He extends ht{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const o=this.el_.childNodes;let s=o.length;const a=[];for(;s--;){const l=o[s];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&Vf(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&wt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(iu||Mf)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),He.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){zP(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let o=0;o<e.length;o++){const s=e[o];s.kind==="metadata"&&r.push({track:s,storedMode:s.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let o=0;o<r.length;o++){const s=r[o];s.track.mode==="disabled"&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=Kn[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const o={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[yl.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},s=function(){const a=[];for(let l=0;l<i.length;l++){let d=!1;for(let f=0;f<n.length;f++)if(n[f]===i[l]){d=!0;break}d||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[r.getterName+"Listeners_"]=o,Object.keys(o).forEach(a=>{const l=o[a];n.addEventListener(a,l),this.on("dispose",d=>n.removeEventListener(a,l))}),this.on("loadstart",s),this.on("dispose",a=>this.off("loadstart",s))}proxyNativeTracks_(){Kn.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),He.disposeMediaElement(e),e=n}else{e=Le.createElement("video");const n=this.options_.tag&&is(this.options_.tag),i=Gt({},n);(!iu||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,uA(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&dl(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],o=this.options_[i];typeof o<"u"&&(o?dl(e,i,i):Lf(e,i),e[i]=o)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const o=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",o),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Nf?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){wt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Wi&&Gi&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Yi(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){He.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Le.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ne.performance&&(e.creationTime=ne.performance.now()),e}}Cf(He,"TEST_VID",function(){if(!cl())return;const t=Le.createElement("video"),e=Le.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}),He.isSupported=function(){try{He.TEST_VID.volume=.5}catch{return!1}return!!(He.TEST_VID&&He.TEST_VID.canPlayType)},He.canPlayType=function(t){return He.TEST_VID.canPlayType(t)},He.canPlaySource=function(t,e){return He.canPlayType(t.type)},He.canControlVolume=function(){try{const t=He.TEST_VID.volume;He.TEST_VID.volume=t/2+.1;const e=t!==He.TEST_VID.volume;return e&&rn?(ne.setTimeout(()=>{He&&He.prototype&&(He.prototype.featuresVolumeControl=t!==He.TEST_VID.volume)}),!1):e}catch{return!1}},He.canMuteVolume=function(){try{const t=He.TEST_VID.muted;return He.TEST_VID.muted=!t,He.TEST_VID.muted?dl(He.TEST_VID,"muted","muted"):Lf(He.TEST_VID,"muted","muted"),t!==He.TEST_VID.muted}catch{return!1}},He.canControlPlaybackRate=function(){if(Wi&&Gi&&Sf<58)return!1;try{const t=He.TEST_VID.playbackRate;return He.TEST_VID.playbackRate=t/2+.1,t!==He.TEST_VID.playbackRate}catch{return!1}},He.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Le.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Le.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Le.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Le.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},He.supportsNativeTextTracks=function(){return Nf||rn&&Gi},He.supportsNativeVideoTracks=function(){return!!(He.TEST_VID&&He.TEST_VID.videoTracks)},He.supportsNativeAudioTracks=function(){return!!(He.TEST_VID&&He.TEST_VID.audioTracks)},He.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Cf(He.prototype,t,()=>He[e](),!0)}),He.prototype.featuresVolumeControl=He.canControlVolume(),He.prototype.movingMediaElementInDOM=!rn,He.prototype.featuresFullscreenResize=!0,He.prototype.featuresProgressEvents=!0,He.prototype.featuresTimeupdateEvents=!0,He.prototype.featuresVideoFrameCallback=!!(He.TEST_VID&&He.TEST_VID.requestVideoFrameCallback),He.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}},He.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){He.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){He.prototype["set"+cr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){He.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){He.prototype["set"+cr(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){He.prototype[t]=function(){return this.el_[t]()}}),ht.withSourceHandlers(He),He.nativeSourceHandler={},He.nativeSourceHandler.canPlayType=function(t){try{return He.TEST_VID.canPlayType(t)}catch{return""}},He.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return He.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=Jg(t.src);return He.nativeSourceHandler.canPlayType(`video/${r}`)}return""},He.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)},He.nativeSourceHandler.dispose=function(){},He.registerSourceHandler(He.nativeSourceHandler),ht.registerTech("Html5",He);const Dx=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],x0={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},T0=["tiny","xsmall","small","medium","large","xlarge","huge"],Yf={};T0.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Yf[t]=`vjs-layout-${e}`});const $P={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Kt extends Te{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${Ti()}`,r=Object.assign(Kt.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const s=e.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=s=>this.documentFullscreenChange_(s),this.boundFullWindowOnEscKey_=s=>this.fullWindowOnEscKey(s),this.boundUpdateStyleEl_=s=>this.updateStyleEl_(s),this.boundApplyInitTime_=s=>this.applyInitTime_(s),this.boundUpdateCurrentBreakpoint_=s=>this.updateCurrentBreakpoint_(s),this.boundHandleTechClick_=s=>this.handleTechClick_(s),this.boundHandleTechDoubleClick_=s=>this.handleTechDoubleClick_(s),this.boundHandleTechTouchStart_=s=>this.handleTechTouchStart_(s),this.boundHandleTechTouchMove_=s=>this.handleTechTouchMove_(s),this.boundHandleTechTouchEnd_=s=>this.handleTechTouchEnd_(s),this.boundHandleTechTap_=s=>this.handleTechTap_(s),this.isFullscreen_=!1,this.log=Xw(this.id_),this.fsApi_=Tf,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&is(e),this.language(this.options_.language),r.languages){const s={};Object.getOwnPropertyNames(r.languages).forEach(function(a){s[a.toLowerCase()]=r.languages[a]}),this.languages_=s}else this.languages_=Kt.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(s=>{if(typeof this[s]!="function")throw new Error(`plugin "${s}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Vg(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Rn(Le,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Gt(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(s=>{this[s](r.plugins[s])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const a=new ne.DOMParser().parseFromString(hP,"image/svg+xml");if(a.querySelector("parsererror"))wt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const d=a.documentElement;d.style.display="none",this.el_.appendChild(d),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),iu&&this.addClass("vjs-touch-enabled"),rn||this.addClass("vjs-workinghover"),Kt.players[this.id_]=this;const o=Sg.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",s=>this.listenForUserActivity_(s)),this.on("keydown",s=>this.handleKeyDown(s)),this.on("languagechange",s=>this.handleLanguagechange(s)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Vr(Le,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Vr(Le,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Kt.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),cP(this),on.names.forEach(e=>{const r=on[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const o=is(e);if(i){for(r=this.el_=e,e=this.tag=Le.createElement("video");r.children.length;)e.appendChild(r.firstChild);ou(r,"video-js")||Hs(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),o.tabindex="-1",Gi&&If&&(e.setAttribute("role","application"),o.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(l){i&&l==="class"||r.setAttribute(l,o[l]),i&&e.setAttribute(l,o[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE"].filter(l=>oA[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),ne.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=wA("vjs-styles-dimensions");const l=os(".vjs-styles-defaults"),d=os("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const d=a.item(l);Hs(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),Lg(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){wt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){wt.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Io(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),zR(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(ne.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(a>=0&&(d.width=a),l>=0&&(d.height=l));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const o=n.split(":"),s=o[1]/o[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/s:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*s,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),AA(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${s*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=cr(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(ht.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let o=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(o=!1);const s={source:r,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};on.names.forEach(l=>{const d=on[l];s[d.getterName]=this[d.privateName]}),Object.assign(s,this.options_[n]),Object.assign(s,this.options_[i]),Object.assign(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);const a=ht.getTech(e);if(!a)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new a(s),this.tech_.ready(Qt(this,this.handleTechReady_),!0),LA.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Dx.forEach(l=>{this.on(this.tech_,l,d=>this[`handleTech${cr(l)}_`](d))}),Object.keys(x0).forEach(l=>{this.on(this.tech_,l,d=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${x0[l]}_`].bind(this),event:d});return}this[`handleTech${x0[l]}_`](d)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,d)=>this.handleTechFullscreenChange_(l,d)),this.on(this.tech_,"fullscreenerror",(l,d)=>this.handleTechFullscreenError_(l,d)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&Lg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){on.names.forEach(e=>{const r=on[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=LA.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&wt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Sg}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const o=()=>{this.muted(i)};this.playTerminatedQueue_.push(o);const s=this.play();if(uu(s))return s.catch(a=>{throw o(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),uu(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!uu(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=fP(this,r)),this.cache_.source=Gt({},e,{src:r,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===r),o=[],s=this.$$("source"),a=[];for(let l=0;l<s.length;l++){const d=is(s[l]);o.push(d),d.src&&d.src===r&&a.push(d.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=o=>this.updateSourceCaches_(o);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],o=>{if(o.type==="sourceset")return;const s=this.techGet_("currentSrc");this.lastSource_.tech=s,this.updateSourceCaches_(s)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Yi(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=Le[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in aP)return oP(this.middleware_,this.tech_,e,r);if(e in VA)return $A(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw wt(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in sP)return iP(this.middleware_,this.tech_,e);if(e in VA)return $A(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(wt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(wt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(wt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Yi){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(Nf||rn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Ei(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Ei(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Ei(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return OA(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function o(){r.off("fullscreenerror",a),r.off("fullscreenchange",s)}function s(){o(),n()}function a(d,f){o(),i(f)}r.one("fullscreenchange",s),r.one("fullscreenerror",a);const l=r.requestFullscreenHelper_(e);l&&(l.then(o,o),l.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",s),e.off("fullscreenchange",o)}function o(){i(),r()}function s(l,d){i(),n(d)}e.one("fullscreenchange",o),e.one("fullscreenerror",s);const a=e.exitFullscreenHelper_();a&&(a.then(i,i),a.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Le[this.fsApi_.exitFullscreen]();return e&&Yi(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Le.documentElement.style.overflow,Rn(Le,"keydown",this.boundFullWindowOnEscKey_),Le.documentElement.style.overflow="hidden",Hs(Le.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){dt.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Vr(Le,"keydown",this.boundFullWindowOnEscKey_),Le.documentElement.style.overflow=this.docOrigOverflow,Of(Le.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&ne.documentPictureInPicture){const e=Le.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(gt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),ne.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(bA(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Le&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(ne.documentPictureInPicture&&ne.documentPictureInPicture.window)return ne.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Le)return Le.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const o=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const s=["button","checkbox","hidden","radio","reset","submit"];return o==="input"?s.indexOf(i.type)===-1:["textarea"].indexOf(o)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=s=>dt.isEventKey(s,"f"),muteKey:i=s=>dt.isEventKey(s,"m"),playPauseKey:o=s=>dt.isEventKey(s,"k")||dt.isEventKey(s,"Space")}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const s=Te.getComponent("FullscreenToggle");Le[this.fsApi_.fullscreenEnabled]!==!1&&s.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Te.getComponent("MuteToggle").prototype.handleClick.call(this,e)):o.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Te.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const o=i[n];let s=ht.getTech(o);if(s||(s=Te.getComponent(o)),!s){wt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`);continue}if(s.isSupported()&&(r=s.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(a=>[a,ht.getTech(a)]).filter(([a,l])=>l?l.isSupported():(wt.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(a,l,d){let f;return a.some(c=>l.some(h=>{if(f=d(c,h),f)return!0})),f};let i;const o=a=>(l,d)=>a(d,l),s=([a,l],d)=>{if(l.canPlaySource(d,this.options_[a.toLowerCase()]))return{source:d,tech:a}};return this.options_.sourceOrder?i=n(e,r,o(s)):i=n(r,e,s),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=HA(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),rP(this,n[0],(i,o)=>{if(this.middleware_=o,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}nP(o,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},o=()=>{this.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",o)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?kA(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Yi(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Io(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:o}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),o&&(o.update(),o.loadProgressBar&&o.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ts("beforeerror").forEach(r=>{const n=r(this,e);if(!(qi(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new or(e),this.addClass("vjs-error"),wt.error(`(CODE:${this.error_.code} ${or.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ts("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=Qt(this,this.reportUserActivity),o=function(c){(c.screenX!==r||c.screenY!==n)&&(r=c.screenX,n=c.screenY,i())},s=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(c){i(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",o),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!rn&&!Wi&&(l.on("mouseenter",function(c){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(c){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let d;const f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);const c=this.options_.inactivityTimeout;c<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},c))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Io(this)&&this.trigger("languagechange"))}languages(){return Gt(Kt.prototype.options_.languages,this.languages_)}toJSON(){const e=Gt(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=Gt(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new ml(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<T0.length;n++){const i=T0[n],o=this.breakpoints_[i];if(r<=o){if(e===i)return;e&&this.removeClass(Yf[e]),this.addClass(Yf[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},$P,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Yf[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Gt(e);const{artist:i,artwork:o,description:s,poster:a,src:l,textTracks:d,title:f}=this.cache_.media;!o&&a&&(this.cache_.media.artwork=[{src:a,type:qf(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(d)&&d.forEach(c=>this.addRemoteTextTrack(c,!1)),this.titleBar&&this.titleBar.update({title:f,description:s||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),o=>({kind:o.kind,label:o.label,language:o.language,src:o.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:qf(i.poster)}]),i}return Gt(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=is(e),i=n["data-setup"];if(ou(e,"vjs-fill")&&(n.fill=!0),ou(e,"vjs-fluid")&&(n.fluid=!0),i!==null){const[o,s]=DL(i||"{}");o&&wt.error(o),Object.assign(n,s)}if(Object.assign(r,n),e.hasChildNodes()){const o=e.childNodes;for(let s=0,a=o.length;s<a;s++){const l=o[s],d=l.nodeName.toLowerCase();d==="source"?r.sources.push(is(l)):d==="track"&&r.tracks.push(is(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}on.names.forEach(function(t){const e=on[t];Kt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Kt.prototype.crossorigin=Kt.prototype.crossOrigin,Kt.players={};const gu=ne.navigator;Kt.prototype.options_={techOrder:ht.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:gu&&(gu.languages&&gu.languages[0]||gu.userLanguage||gu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,enableSmoothSeeking:!1},Dx.forEach(function(t){Kt.prototype[`handleTech${cr(t)}_`]=function(){return this.trigger(t)}}),Te.registerComponent("Player",Kt);const Kf="plugin",_l="activePlugins_",wl={},Xf=t=>wl.hasOwnProperty(t),Jf=t=>Xf(t)?wl[t]:void 0,Mx=(t,e)=>{t[_l]=t[_l]||{},t[_l][e]=!0},Zf=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},VP=function(t,e){const r=function(){Zf(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return Mx(this,t),Zf(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},Nx=(t,e)=>(e.prototype.name=t,function(...r){Zf(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,Zf(this,n.getEventHash()),n});class _n{constructor(e){if(this.constructor===_n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Vg(this),delete this.trigger,SA(this,this.constructor.defaultState),Mx(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return pl(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[_l][e]=!1,this.player=this.state=null,r[e]=Nx(e,wl[e])}static isBasic(e){const r=typeof e=="string"?Jf(e):e;return typeof r=="function"&&!_n.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Xf(e))wt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Kt.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return wl[e]=r,e!==Kf&&(_n.isBasic(r)?Kt.prototype[e]=VP(e,r):Kt.prototype[e]=Nx(e,r)),r}static deregisterPlugin(e){if(e===Kf)throw new Error("Cannot de-register base plugin.");Xf(e)&&(delete wl[e],delete Kt.prototype[e])}static getPlugins(e=Object.keys(wl)){let r;return e.forEach(n=>{const i=Jf(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=Jf(e);return r&&r.VERSION||""}}_n.getPlugin=Jf,_n.BASE_PLUGIN_NAME=Kf,_n.registerPlugin(Kf,_n),Kt.prototype.usingPlugin=function(t){return!!this[_l]&&this[_l][t]===!0},Kt.prototype.hasPlugin=function(t){return!!Xf(t)};function HP(t,e){let r=!1;return function(...n){return r||wt.warn(t),r=!0,e.apply(this,n)}}function Ci(t,e,r,n){return HP(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}var qP={UnsupportedSidxContainer:"unsupported-sidx-container-error",DashManifestSidxParsingError:"dash-manifest-sidx-parsing-error",HlsPlaylistRequestError:"hls-playlist-request-error",SegmentUnsupportedMediaFormat:"segment-unsupported-media-format-error",UnsupportedMediaInitialization:"unsupported-media-initialization-error",SegmentSwitchError:"segment-switch-error",SegmentExceedsSourceBufferQuota:"segment-exceeds-source-buffer-quota-error",SegmentAppendError:"segment-append-error",VttLoadError:"vtt-load-error",VttCueParsingError:"vtt-cue-parsing-error",AdsBeforePrerollError:"ads-before-preroll-error",AdsPrerollError:"ads-preroll-error",AdsMidrollError:"ads-midroll-error",AdsPostrollError:"ads-postroll-error",AdsMacroReplacementFailed:"ads-macro-replacement-failed",AdsResumeContentFailed:"ads-resume-content-failed",EMEFailedToRequestMediaKeySystemAccess:"eme-failed-request-media-key-system-access",EMEFailedToCreateMediaKeys:"eme-failed-create-media-keys",EMEFailedToAttachMediaKeysToVideoElement:"eme-failed-attach-media-keys-to-video",EMEFailedToCreateMediaKeySession:"eme-failed-create-media-key-session",EMEFailedToSetServerCertificate:"eme-failed-set-server-certificate",EMEFailedToGenerateLicenseRequest:"eme-failed-generate-license-request",EMEFailedToUpdateSessionWithReceivedLicenseKeys:"eme-failed-update-session",EMEFailedToCloseSession:"eme-failed-close-session",EMEFailedToRemoveKeysFromSession:"eme-failed-remove-keys",EMEFailedToLoadSessionBySessionId:"eme-failed-load-session"};const Ox=t=>t.indexOf("#")===0?t.slice(1):t;function ye(t,e,r){let n=ye.getPlayer(t);if(n)return e&&wt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?os("#"+Ox(t)):t;if(!ul(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s=("getRootNode"in i?i.getRootNode()instanceof ne.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!s.contains(i))&&wt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),ts("beforesetup").forEach(l=>{const d=l(i,Gt(e));if(!qi(d)||Array.isArray(d)){wt.error("please return an object in beforesetup hooks");return}e=Gt(e,d)});const a=Te.getComponent("Player");return n=new a(i,e,r),ts("setup").forEach(l=>l(n)),n}if(ye.hooks_=ko,ye.hooks=ts,ye.hook=IR,ye.hookOnce=DR,ye.removeHook=Yw,ne.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&cl()){let t=os(".vjs-styles-defaults");if(!t){t=wA("vjs-styles-defaults");const e=os("head");e&&e.insertBefore(t,e.firstChild),AA(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Pg(1,ye),ye.VERSION=Sg,ye.options=Kt.prototype.options_,ye.getPlayers=()=>Kt.players,ye.getPlayer=t=>{const e=Kt.players;let r;if(typeof t=="string"){const n=Ox(t),i=e[n];if(i)return i;r=os("#"+n)}else r=t;if(ul(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}},ye.getAllPlayers=()=>Object.keys(Kt.players).map(t=>Kt.players[t]).filter(Boolean),ye.players=Kt.players,ye.getComponent=Te.getComponent,ye.registerComponent=(t,e)=>(ht.isTech(e)&&wt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Te.registerComponent.call(Te,t,e)),ye.getTech=ht.getTech,ye.registerTech=ht.registerTech,ye.use=tP,Object.defineProperty(ye,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ye.middleware,"TERMINATOR",{value:Hf,writeable:!1,enumerable:!0}),ye.browser=oA,ye.obj=OR,ye.mergeOptions=Ci(9,"videojs.mergeOptions","videojs.obj.merge",Gt),ye.defineLazyProperty=Ci(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Cf),ye.bind=Ci(9,"videojs.bind","native Function.prototype.bind",Qt),ye.registerPlugin=_n.registerPlugin,ye.deregisterPlugin=_n.deregisterPlugin,ye.plugin=(t,e)=>(wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),_n.registerPlugin(t,e)),ye.getPlugins=_n.getPlugins,ye.getPlugin=_n.getPlugin,ye.getPluginVersion=_n.getPluginVersion,ye.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ye.options.languages=Gt(ye.options.languages,{[t]:e}),ye.options.languages[t]},ye.log=wt,ye.createLogger=Xw,ye.time=WR,ye.createTimeRange=Ci(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Ei),ye.createTimeRanges=Ci(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Ei),ye.formatTime=Ci(9,"videojs.formatTime","videojs.time.formatTime",Ws),ye.setFormatTime=Ci(9,"videojs.setFormatTime","videojs.time.setFormatTime",MA),ye.resetFormatTime=Ci(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",NA),ye.parseUrl=Ci(9,"videojs.parseUrl","videojs.url.parseUrl",Xg),ye.isCrossOrigin=Ci(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Vf),ye.EventTarget=Yn,ye.any=jg,ye.on=Rn,ye.one=Uf,ye.off=Vr,ye.trigger=pl,ye.xhr=v_,ye.TextTrack=du,ye.AudioTrack=jA,ye.VideoTrack=zA,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ye[t]=function(){return wt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),vA[t].apply(null,arguments)}}),ye.computedStyle=Ci(9,"videojs.computedStyle","videojs.dom.computedStyle",hl),ye.dom=vA,ye.fn=jR,ye.num=wP,ye.str=HR,ye.url=ZR,ye.Error=qP;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class WP{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class eh extends ye.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new WP(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}eh.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in eh.prototype.allowedEvents_)eh.prototype["on"+t]=null;var Lx="4.1.0";const GP=function(t,e){const r=t.qualityLevels,n=new eh,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=Lx,n},Bx=function(t){return GP(this,ye.obj.merge({},t))};ye.registerPlugin("qualityLevels",Bx),Bx.VERSION=Lx;/*! @name @videojs/http-streaming @version 3.12.1 @license Apache-2.0 */const wn=lf,th=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Jn=t=>ye.log.debug?ye.log.debug.bind(ye,"VHS:",`${t} >`):function(){};function Rt(...t){const e=ye.obj||ye;return(e.merge||e.mergeOptions).apply(e,t)}function Hr(...t){const e=ye.time||ye;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function QP(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const n=t.start(r),i=t.end(r);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const Ki=1/30,Xi=Ki*3,Rx=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return Hr(r)},Al=function(t,e){return Rx(t,function(r,n){return r-Xi<=e&&n+Xi>=e})},rh=function(t,e){return Rx(t,function(r){return r-Ki>=e})},YP=function(t){if(t.length<2)return Hr();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return Hr(e)},KP=function(t,e){let r=null,n=null,i=0;const o=[],s=[];if(!t||!t.length||!e||!e.length)return Hr();let a=t.length;for(;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(a=e.length;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(o.sort(function(l,d){return l.time-d.time}),a=0;a<o.length;a++)o[a].type==="start"?(i++,i===2&&(r=o[a].time)):o[a].type==="end"&&(i--,i===1&&(n=o[a].time)),r!==null&&n!==null&&(s.push([r,n]),r=null,n=null);return Hr(s)},Px=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},XP=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},Ks=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},JP=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},E0=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},C0=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),o=t.end(n);if(!(e>o)){if(e>i&&e<=o){r+=o-e;continue}r+=o-i}}return r},S0=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},k0=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,o){e.push({duration:i.duration,segmentIndex:n,partIndex:o,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),Fx=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Ux=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,o)=>i+(o.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},jx=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=Fx(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},ZP=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=S0(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},eF=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=S0(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},zx=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=ZP(t,e);if(n.precise)return n.result;const i=eF(t,e);return i.precise?i.result:n.result+r},$x=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return ne.Infinity}return zx(t,e,r)},yu=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let o=r;o<Math.min(0,n);o++)i+=t;r=0}for(let o=r;o<n;o++)i+=e[o].duration;return i},Vx=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return $x(t);if(e===null)return null;e=e||0;let i=zx(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:jx(null,t),i-=n),Math.max(0,i)},tF=function(t,e,r){const i=e||0;let o=Vx(t,e,!0,r);return o===null?Hr():(o<i&&(o=i),Hr(i,o))},rF=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:o}){let s=e-i;const a=k0(t);let l=0;for(let d=0;d<a.length;d++){const f=a[d];if(r===f.segmentIndex&&!(typeof n=="number"&&typeof f.partIndex=="number"&&n!==f.partIndex)){l=d;break}}if(s<0){if(l>0)for(let d=l-1;d>=0;d--){const f=a[d];if(s+=f.duration,o){if(s<0)continue}else if(s+Ki<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i-yu({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:d})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let d=l;d<0;d++)if(s-=t.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let d=l;d<a.length;d++){const f=a[d];s-=f.duration;const c=f.duration>Ki,h=s===0,p=c&&s+Ki>=0;if(!((h||p)&&d!==a.length-1)){if(o){if(s>0)continue}else if(s-Ki>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i+yu({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:d})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},Hx=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},I0=function(t){return t.excludeUntil&&t.excludeUntil===1/0},nh=function(t){const e=Hx(t);return!t.disabled&&!e},nF=function(t){return t.disabled},iF=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},qx=function(t,e){return e.attributes&&e.attributes[t]},oF=function(t,e,r,n=0){return qx("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},D0=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>nh(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},M0=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),Wx=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const o in r[i])if(n=e(r[i][o]),n)break;if(n)break}return!!n},bu=t=>{if(!t||!t.playlists||!t.playlists.length)return Wx(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(o=>O_(o))||Wx(t,o=>M0(r,o))))return!1}return!0};var An={liveEdgeDelay:jx,duration:$x,seekable:tF,getMediaInfoForTime:rF,isEnabled:nh,isDisabled:nF,isExcluded:Hx,isIncompatible:I0,playlistEnd:Vx,isAes:iF,hasAttribute:qx,estimateSegmentRequestTime:oF,isLowestEnabledRendition:D0,isAudioOnly:bu,playlistMatch:M0,segmentDurationWithParts:S0};const{log:Gx}=ye,xl=(t,e)=>`${t}-${e}`,Qx=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,sF=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:o})=>{const s=new C8;t&&s.on("warn",t),e&&s.on("info",e),n.forEach(d=>s.addParser(d)),i.forEach(d=>s.addTagMapper(d)),s.push(r),s.end();const a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(d){a.hasOwnProperty(d)&&delete a[d]}),a.segments&&a.segments.forEach(function(d){["parts","preloadHints"].forEach(function(f){d.hasOwnProperty(f)&&delete d[f]})})),!a.targetDuration){let d=10;a.segments&&a.segments.length&&(d=a.segments.reduce((f,c)=>Math.max(f,c.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${d}`}),a.targetDuration=d}const l=Fx(a);if(l.length&&!a.partTargetDuration){const d=l.reduce((f,c)=>Math.max(f,c.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${d}`}),Gx.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=d}return a},Tl=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const o=t.mediaGroups[r][n][i];e(o,r,n,i)}})},Yx=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},aF=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];Yx({playlist:r,id:xl(e,r.uri)}),r.resolvedUri=wn(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||Gx.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},lF=t=>{Tl(t,e=>{e.uri&&(e.resolvedUri=wn(t.uri,e.uri))})},cF=(t,e)=>{const r=xl(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ne.location.href,resolvedUri:ne.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},Kx=(t,e,r=Qx)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const o=`placeholder-uri-${i}`;t.playlists[i].uri=o}const n=bu(t);Tl(t,(i,o,s,a)=>{if(!i.playlists||!i.playlists.length){if(n&&o==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const d=t.playlists[l];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===s)return}i.playlists=[Ai({},i)]}i.playlists.forEach(function(l,d){const f=r(o,s,a,l),c=xl(d,f);l.uri?l.resolvedUri=l.resolvedUri||wn(t.uri,l.uri):(l.uri=d===0?f:c,l.resolvedUri=l.uri),l.id=l.id||c,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),aF(t),lF(t)};class Xx{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,o)=>(i.set(o.id,o),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const o=e[n.class].push(n);n.classListIndex=o-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const{EventTarget:uF}=ye,dF=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const o=n.parts||[],s=Ux(e)-1;s>-1&&s!==o.length-1&&(r._HLS_part=s),(s>-1||o.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new ne.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},fF=(t,e)=>{if(!t)return e;const r=Rt(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=Rt(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},hF=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const o=[];let s;for(let a=0;a<i.length;a++){const l=n[a+r],d=i[a];l?(s=l.map||s,o.push(fF(l,d))):(s&&!d.map&&(d.map=s),o.push(d))}return o},Jx=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=wn(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=wn(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=wn(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=wn(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=wn(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=wn(e,r.uri))})},Zx=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},eT=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,N0=(t,e,r=eT)=>{const n=Rt(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=Zx(e);const o=Rt(i,e);if(o.preloadSegment&&!e.preloadSegment&&delete o.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let s=0;s<e.skip.skippedSegments;s++)e.segments.unshift({skipped:!0})}o.segments=hF(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}o.segments.forEach(s=>{Jx(s,o.resolvedUri)});for(let s=0;s<n.playlists.length;s++)n.playlists[s].id===e.id&&(n.playlists[s]=o);return n.playlists[e.id]=o,n.playlists[e.uri]=o,Tl(t,(s,a,l,d)=>{if(s.playlists)for(let f=0;f<s.playlists.length;f++)e.id===s.playlists[f].id&&(s.playlists[f]=o)}),n},O0=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],o=i&&i.duration||n&&n.duration;return e&&o?o*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class El extends uF{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Jn("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const o=r.options_;this.customTagParsers=o&&o.customTagParsers||[],this.customTagMappers=o&&o.customTagMappers||[],this.llhls=o&&o.llhls,this.dateRangesStorage_=new Xx,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=wn(this.main.uri,e.uri);this.llhls&&(r=dF(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:o}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[o],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:{errorType:ye.Error.HlsPlaylistRequestError}},this.trigger("error")}parseManifest_({url:e,manifestString:r}){return sF({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const o=r||this.parseManifest_({url:n,manifestString:e});o.lastRequest=Date.now(),Yx({playlist:o,uri:n,id:i});const s=N0(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,s?(this.main=s,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(O0(this.media(),!!s)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),ne.clearTimeout(this.mediaUpdateTimeout),ne.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new Xx,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(ne.clearTimeout(this.finalRenditionTimeout),r){const s=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=ne.setTimeout(this.media.bind(this,e,!1),s);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(O0(e,!0)),!!i){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(s,a)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=th(e.resolvedUri,a),s)return this.playlistRequestError(this.request,e,n);this.haveMetadata({playlistString:a.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=ne.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=ne.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=ne.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(e,r)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:{errorType:ye.Error.HlsPlaylistRequestError}},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=th(this.src,r);const n=this.parseManifest_({manifestString:r.responseText,url:this.src});this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,Kx(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=Zx(n),n.segments.forEach(i=>{Jx(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||ne.location.href;this.main=cF(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let o=n.playlists.length;for(;o--;){const s=n.playlists[o];if(s.attributes["PATHWAY-ID"]===i){const a=s.resolvedUri,l=s.id;if(r){const d=this.createCloneURI_(s.resolvedUri,e),f=xl(i,d),c=this.createCloneAttributes_(i,s.attributes),h=this.createClonePlaylist_(s,f,e,c);n.playlists[o]=h,n.playlists[f]=h,n.playlists[d]=h}else n.playlists.splice(o,1);delete n.playlists[l],delete n.playlists[a]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!n.mediaGroups[o]||!n.mediaGroups[o][i])){for(const s in n.mediaGroups[o])if(s===i){for(const a in n.mediaGroups[o][s])n.mediaGroups[o][s][a].playlists.forEach((d,f)=>{const c=n.playlists[d.id],h=c.id,p=c.resolvedUri;delete n.playlists[h],delete n.playlists[p]});delete n.mediaGroups[o][s]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,o=this.createCloneURI_(r.resolvedUri,e),s=xl(e.ID,o),a=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,s,e,a);n.playlists[i]=l,n.playlists[s]=l,n.playlists[o]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!i.mediaGroups[o]||i.mediaGroups[o][r]))for(const s in i.mediaGroups[o]){if(s===n)i.mediaGroups[o][r]={};else continue;for(const a in i.mediaGroups[o][s]){const l=i.mediaGroups[o][s][a];i.mediaGroups[o][r][a]=Ai({},l);const d=i.mediaGroups[o][r][a],f=this.createCloneURI_(l.resolvedUri,e);d.resolvedUri=f,d.uri=f,d.playlists=[],l.playlists.forEach((c,h)=>{const p=i.playlists[c.id],m=Qx(o,r,a),y=xl(r,m);if(p&&!i.playlists[y]){const b=this.createClonePlaylist_(p,y,e),v=b.resolvedUri;i.playlists[y]=b,i.playlists[v]=b}d.playlists[h]=this.createClonePlaylist_(c,y,e)})}}})}createClonePlaylist_(e,r,n,i){const o=this.createCloneURI_(e.resolvedUri,n),s={resolvedUri:o,uri:o,id:r};return e.segments&&(s.segments=[]),i&&(s.attributes=i),Rt(e,s)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const o of Object.keys(i))n.searchParams.set(o,i[o]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const L0=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},pF=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},mF=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},tT=function(){const t=function e(r,n){r=Rt({timeout:45e3},r);const i=e.beforeRequest||ye.Vhs.xhr.beforeRequest,o=e._requestCallbackSet||ye.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||ye.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(ye.log.warn("beforeRequest is deprecated, use onRequest instead."),o.add(i));const a=ye.Vhs.xhr.original===!0?ye.xhr:ye.Vhs.xhr,l=pF(o,r);o.delete(i);const d=a(l||r,function(c,h){return mF(s,d,c,h),L0(d,c,h,n)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=r.uri,d.requestTime=Date.now(),d};return t.original=!0,t},gF=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ne.BigInt(t.offset)+ne.BigInt(t.length)-ne.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},B0=function(t){const e={};return t.byterange&&(e.Range=gF(t.byterange)),e},yF=function(t,e){return t.start(e)+"-"+t.end(e)},bF=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},vF=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},rT=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];R_(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},ih=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},nT=function(t){return t.resolvedUri},iT=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,o;for(let s=0;s<e.length/r;s++)i=e.slice(s*r,s*r+r).map(bF).join(""),o=e.slice(s*r,s*r+r).map(vF).join(""),n+=i+" "+o+`
`;return n};var _F=Object.freeze({__proto__:null,createTransferableMessage:rT,initSegmentId:ih,segmentKeyId:nT,hexDump:iT,tagDump:({bytes:t})=>iT(t),textRanges:t=>{let e="",r;for(r=0;r<t.length;r++)e+=yF(t,r)+" ";return e}});const oT=.25,wF=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,o=t-i;return new Date(e.dateTimeObject.getTime()+o*1e3)},AF=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,xF=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const d=new Date(e.segments[l+1].dateTimeObject);if(r<d)break}const i=e.segments[e.segments.length-1],o=i.dateTimeObject,s=i.videoTimingInfo?AF(i.videoTimingInfo):i.duration+i.duration*oT,a=new Date(o.getTime()+s*1e3);return r>a?null:(r>new Date(o)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:An.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},TF=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let o=0;o<e.segments.length&&(n=e.segments[o],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));o++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*oT)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},EF=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},CF=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},SF=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=TF(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},o=wF(e,n.segment);return o&&(i.programDateTime=o.toISOString()),r(null,i)},sT=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!CF(e))return s({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=xF(t,e);if(!a)return s({message:`${t} was not found in the stream`});const l=a.segment,d=EF(l.dateTimeObject,t);if(a.type==="estimate"){if(r===0)return s({message:`${t} is not buffered yet. Try again`});n(a.estimatedStart+d),o.one("seeked",()=>{sT({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:o,callback:s})});return}const f=l.start+d,c=()=>s(null,o.currentTime());o.one("seeked",c),i&&o.pause(),n(f)},R0=(t,e)=>{if(t.readyState===4)return e()},kF=(t,e,r)=>{let n=[],i,o=!1;const s=function(f,c,h,p){return c.abort(),o=!0,r(f,c,h,p)},a=function(f,c){if(o)return;if(f)return s(f,c,"",n);const h=c.responseText.substring(n&&n.byteLength||0,c.responseText.length);if(n=F8(n,P_(h,!0)),i=i||ru(n),n.length<10||i&&n.length<i+2)return R0(c,()=>s(f,c,"",n));const p=Ag(n);return p==="ts"&&n.length<188?R0(c,()=>s(f,c,"",n)):!p&&n.length<376?R0(c,()=>s(f,c,"",n)):s(null,c,p,n)},d=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:c,loaded:h}){return L0(f,null,{statusCode:f.status},a)})}},function(f,c){return L0(d,f,c,a)});return d},{EventTarget:IF}=ye,aT=function(t,e){if(!eT(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const o=n.byterange,s=i.byterange;if(o&&!s||!o&&s||o.offset!==s.offset||o.length!==s.length)return!1}return!0},DF=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},MF=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const o=aR(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return Kx(o,e,DF),o},NF=(t,e)=>{Tl(t,(r,n,i,o)=>{o in e.mediaGroups[n][i]||delete t.mediaGroups[n][i][o]})},OF=(t,e,r)=>{let n=!0,i=Rt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let o=0;o<e.playlists.length;o++){const s=e.playlists[o];if(s.sidx){const l=vf(s.sidx);r&&r[l]&&r[l].sidx&&gg(s,r[l].sidx,s.sidx.resolvedUri)}const a=N0(i,s,aT);a&&(i=a,n=!1)}return Tl(e,(o,s,a,l)=>{if(o.playlists&&o.playlists.length){const d=o.playlists[0].id,f=N0(i,o.playlists[0],aT);f&&(i=f,l in i.mediaGroups[s][a]||(i.mediaGroups[s][a][l]=o),i.mediaGroups[s][a][l].playlists[0]=i.playlists[d],n=!1)}}),NF(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},LF=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,lT=(t,e)=>{const r={};for(const n in t){const o=t[n].sidx;if(o){const s=vf(o);if(!e[s])break;const a=e[s].sidxInfo;LF(a,o)&&(r[s]=e[s])}}return r},BF=(t,e)=>{let n=lT(t.playlists,e);return Tl(t,(i,o,s,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Rt(n,lT(l,e))}}),n};class P0 extends IF{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:o=!1}=n;if(this.vhs_=r,this.withCredentials=o,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Jn("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&vf(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=ne.setTimeout(()=>n(!1),0);return}const o=th(e.sidx.resolvedUri),s=(a,l)=>{if(this.requestErrored_(a,l,r))return;const d=this.mainPlaylistLoader_.sidxMapping_;let f;try{f=hR(et(l.response).subarray(8))}catch(c){c.metadata={errorType:ye.Error.DashManifestSidxParsingError},this.requestErrored_(c,l,r);return}return d[i]={sidxInfo:e.sidx,sidx:f},gg(e,f,e.sidx.resolvedUri),n(!0)};this.request=kF(o,this.vhs_.xhr,(a,l,d,f)=>{if(a)return s(a,l);if(!d||d!=="mp4"){const p=d||"unknown";return s({status:l.status,message:`Unsupported ${p} container type for sidx segment at URL: ${o}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2,metadata:{errorType:ye.Error.UnsupportedSidxContainer,sidxContainer:p}},l)}const{offset:c,length:h}=e.sidx.byterange;if(f.length>=h+c)return s(a,{response:f.subarray(c,c+h),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:B0({byterange:e.sidx.byterange})},s)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ne.clearTimeout(this.minimumUpdatePeriodTimeout_),ne.clearTimeout(this.mediaRequest_),ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(ne.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ne.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=ne.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,n)=>{if(this.requestErrored_(r,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const i=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=th(this.mainPlaylistLoader_.srcUrl,n),i){this.handleMain_(),this.syncClientServerClock_(()=>e(n,i));return}return e(n,i)})}syncClientServerClock_(e){const r=lR(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:wn(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let o;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?o=this.mainLoaded_:o=Date.parse(i.responseHeaders.date):o=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=o-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let r=MF({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(r=OF(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(ne.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=ne.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=BF(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=ne.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},O0(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var Lr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const RF=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},cT=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},PF=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},uT=function(t){return function(){const e=PF(t),r=cT(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},dT=function(t){return`var browserWorkerPolyFill = ${cT.toString()};
browserWorkerPolyFill(self);
`+t},fT=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},FF=dT(fT(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var g={};this.on=function(_,A){g[_]||(g[_]=[]),g[_]=g[_].concat(A)},this.off=function(_,A){var w;return g[_]?(w=g[_].indexOf(A),g[_]=g[_].slice(),g[_].splice(w,1),w>-1):!1},this.trigger=function(_){var A,w,k,N;if(A=g[_],!!A)if(arguments.length===2)for(k=A.length,w=0;w<k;++w)A[w].call(this,arguments[1]);else{for(N=[],w=arguments.length,w=1;w<arguments.length;++w)N.push(arguments[w]);for(k=A.length,w=0;w<k;++w)A[w].apply(this,N)}},this.dispose=function(){g={}}}};e.prototype.pipe=function(g){return this.on("data",function(_){g.push(_)}),this.on("done",function(_){g.flush(_)}),this.on("partialdone",function(_){g.partialFlush(_)}),this.on("endedtimeline",function(_){g.endTimeline(_)}),this.on("reset",function(_){g.reset(_)}),g},e.prototype.push=function(g){this.trigger("data",g)},e.prototype.flush=function(g){this.trigger("done",g)},e.prototype.partialFlush=function(g){this.trigger("partialdone",g)},e.prototype.endTimeline=function(g){this.trigger("endedtimeline",g)},e.prototype.reset=function(g){this.trigger("reset",g)};var r=e,n=Math.pow(2,32),i=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),A;return _.getBigUint64?(A=_.getBigUint64(0),A<Number.MAX_SAFE_INTEGER?Number(A):A):_.getUint32(0)*n+_.getUint32(4)},o={getUint64:i,MAX_UINT32:n},s=o.MAX_UINT32,a,l,d,f,c,h,p,m,y,b,v,x,S,I,M,E,L,D,C,R,$,U,F,z,W,B,P,re,H,O,T,V,K,Y,Q,ue;(function(){var g;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(g in F)F.hasOwnProperty(g)&&(F[g]=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]);z=new Uint8Array([105,115,111,109]),B=new Uint8Array([97,118,99,49]),W=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),re=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:P,audio:re},V=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),T=new Uint8Array([0,0,0,0,0,0,0,0]),K=new Uint8Array([0,0,0,0,0,0,0,0]),Y=K,Q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ue=K,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(g){var _=[],A=0,w,k,N;for(w=1;w<arguments.length;w++)_.push(arguments[w]);for(w=_.length;w--;)A+=_[w].byteLength;for(k=new Uint8Array(A+8),N=new DataView(k.buffer,k.byteOffset,k.byteLength),N.setUint32(0,k.byteLength),k.set(g,4),w=0,A=8;w<_.length;w++)k.set(_[w],A),A+=_[w].byteLength;return k},l=function(){return a(F.dinf,a(F.dref,V))},d=function(g){return a(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,g.audioobjecttype<<3|g.samplingfrequencyindex>>>1,g.samplingfrequencyindex<<7|g.channelcount<<3,6,1,2]))},f=function(){return a(F.ftyp,z,W,z,B)},E=function(g){return a(F.hdlr,H[g])},c=function(g){return a(F.mdat,g)},M=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,g.duration>>>24&255,g.duration>>>16&255,g.duration>>>8&255,g.duration&255,85,196,0,0]);return g.samplerate&&(_[12]=g.samplerate>>>24&255,_[13]=g.samplerate>>>16&255,_[14]=g.samplerate>>>8&255,_[15]=g.samplerate&255),a(F.mdhd,_)},I=function(g){return a(F.mdia,M(g),E(g.type),p(g))},h=function(g){return a(F.mfhd,new Uint8Array([0,0,0,0,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255]))},p=function(g){return a(F.minf,g.type==="video"?a(F.vmhd,O):a(F.smhd,T),l(),D(g))},m=function(g,_){for(var A=[],w=_.length;w--;)A[w]=R(_[w]);return a.apply(null,[F.moof,h(g)].concat(A))},y=function(g){for(var _=g.length,A=[];_--;)A[_]=x(g[_]);return a.apply(null,[F.moov,v(4294967295)].concat(A).concat(b(g)))},b=function(g){for(var _=g.length,A=[];_--;)A[_]=$(g[_]);return a.apply(null,[F.mvex].concat(A))},v=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(F.mvhd,_)},L=function(g){var _=g.samples||[],A=new Uint8Array(4+_.length),w,k;for(k=0;k<_.length;k++)w=_[k].flags,A[k+4]=w.dependsOn<<4|w.isDependedOn<<2|w.hasRedundancy;return a(F.sdtp,A)},D=function(g){return a(F.stbl,C(g),a(F.stts,ue),a(F.stsc,Y),a(F.stsz,Q),a(F.stco,K))},function(){var g,_;C=function(A){return a(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),A.type==="video"?g(A):_(A))},g=function(A){var w=A.sps||[],k=A.pps||[],N=[],G=[],X,ee;for(X=0;X<w.length;X++)N.push((w[X].byteLength&65280)>>>8),N.push(w[X].byteLength&255),N=N.concat(Array.prototype.slice.call(w[X]));for(X=0;X<k.length;X++)G.push((k[X].byteLength&65280)>>>8),G.push(k[X].byteLength&255),G=G.concat(Array.prototype.slice.call(k[X]));if(ee=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(A.width&65280)>>8,A.width&255,(A.height&65280)>>8,A.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(F.avcC,new Uint8Array([1,A.profileIdc,A.profileCompatibility,A.levelIdc,255].concat([w.length],N,[k.length],G))),a(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],A.sarRatio){var ie=A.sarRatio[0],he=A.sarRatio[1];ee.push(a(F.pasp,new Uint8Array([(ie&4278190080)>>24,(ie&16711680)>>16,(ie&65280)>>8,ie&255,(he&4278190080)>>24,(he&16711680)>>16,(he&65280)>>8,he&255])))}return a.apply(null,ee)},_=function(A){return a(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(A.channelcount&65280)>>8,A.channelcount&255,(A.samplesize&65280)>>8,A.samplesize&255,0,0,0,0,(A.samplerate&65280)>>8,A.samplerate&255,0,0]),d(A))}}(),S=function(g){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,0,(g.duration&4278190080)>>24,(g.duration&16711680)>>16,(g.duration&65280)>>8,g.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(g.width&65280)>>8,g.width&255,0,0,(g.height&65280)>>8,g.height&255,0,0]);return a(F.tkhd,_)},R=function(g){var _,A,w,k,N,G,X;return _=a(F.tfhd,new Uint8Array([0,0,0,58,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(g.baseMediaDecodeTime/s),X=Math.floor(g.baseMediaDecodeTime%s),A=a(F.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255])),N=92,g.type==="audio"?(w=U(g,N),a(F.traf,_,A,w)):(k=L(g),w=U(g,k.length+N),a(F.traf,_,A,w,k))},x=function(g){return g.duration=g.duration||4294967295,a(F.trak,S(g),I(g))},$=function(g){var _=new Uint8Array([0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return g.type!=="video"&&(_[_.length-1]=0),a(F.trex,_)},function(){var g,_,A;A=function(w,k){var N=0,G=0,X=0,ee=0;return w.length&&(w[0].duration!==void 0&&(N=1),w[0].size!==void 0&&(G=2),w[0].flags!==void 0&&(X=4),w[0].compositionTimeOffset!==void 0&&(ee=8)),[0,0,N|G|X|ee,1,(w.length&4278190080)>>>24,(w.length&16711680)>>>16,(w.length&65280)>>>8,w.length&255,(k&4278190080)>>>24,(k&16711680)>>>16,(k&65280)>>>8,k&255]},_=function(w,k){var N,G,X,ee,ie,he;for(ee=w.samples||[],k+=20+16*ee.length,X=A(ee,k),G=new Uint8Array(X.length+ee.length*16),G.set(X),N=X.length,he=0;he<ee.length;he++)ie=ee[he],G[N++]=(ie.duration&4278190080)>>>24,G[N++]=(ie.duration&16711680)>>>16,G[N++]=(ie.duration&65280)>>>8,G[N++]=ie.duration&255,G[N++]=(ie.size&4278190080)>>>24,G[N++]=(ie.size&16711680)>>>16,G[N++]=(ie.size&65280)>>>8,G[N++]=ie.size&255,G[N++]=ie.flags.isLeading<<2|ie.flags.dependsOn,G[N++]=ie.flags.isDependedOn<<6|ie.flags.hasRedundancy<<4|ie.flags.paddingValue<<1|ie.flags.isNonSyncSample,G[N++]=ie.flags.degradationPriority&61440,G[N++]=ie.flags.degradationPriority&15,G[N++]=(ie.compositionTimeOffset&4278190080)>>>24,G[N++]=(ie.compositionTimeOffset&16711680)>>>16,G[N++]=(ie.compositionTimeOffset&65280)>>>8,G[N++]=ie.compositionTimeOffset&255;return a(F.trun,G)},g=function(w,k){var N,G,X,ee,ie,he;for(ee=w.samples||[],k+=20+8*ee.length,X=A(ee,k),N=new Uint8Array(X.length+ee.length*8),N.set(X),G=X.length,he=0;he<ee.length;he++)ie=ee[he],N[G++]=(ie.duration&4278190080)>>>24,N[G++]=(ie.duration&16711680)>>>16,N[G++]=(ie.duration&65280)>>>8,N[G++]=ie.duration&255,N[G++]=(ie.size&4278190080)>>>24,N[G++]=(ie.size&16711680)>>>16,N[G++]=(ie.size&65280)>>>8,N[G++]=ie.size&255;return a(F.trun,N)},U=function(w,k){return w.type==="audio"?g(w,k):_(w,k)}}();var J={ftyp:f,mdat:c,moof:m,moov:y,initSegment:function(g){var _=f(),A=y(g),w;return w=new Uint8Array(_.byteLength+A.byteLength),w.set(_),w.set(A,_.byteLength),w}},oe=function(g){var _,A,w=[],k=[];for(k.byteLength=0,k.nalCount=0,k.duration=0,w.byteLength=0,_=0;_<g.length;_++)A=g[_],A.nalUnitType==="access_unit_delimiter_rbsp"?(w.length&&(w.duration=A.dts-w.dts,k.byteLength+=w.byteLength,k.nalCount+=w.length,k.duration+=w.duration,k.push(w)),w=[A],w.byteLength=A.data.byteLength,w.pts=A.pts,w.dts=A.dts):(A.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(w.keyFrame=!0),w.duration=A.dts-w.dts,w.byteLength+=A.data.byteLength,w.push(A));return k.length&&(!w.duration||w.duration<=0)&&(w.duration=k[k.length-1].duration),k.byteLength+=w.byteLength,k.nalCount+=w.length,k.duration+=w.duration,k.push(w),k},se=function(g){var _,A,w=[],k=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=g[0].pts,w.dts=g[0].dts,k.byteLength=0,k.nalCount=0,k.duration=0,k.pts=g[0].pts,k.dts=g[0].dts,_=0;_<g.length;_++)A=g[_],A.keyFrame?(w.length&&(k.push(w),k.byteLength+=w.byteLength,k.nalCount+=w.nalCount,k.duration+=w.duration),w=[A],w.nalCount=A.length,w.byteLength=A.byteLength,w.pts=A.pts,w.dts=A.dts,w.duration=A.duration):(w.duration+=A.duration,w.nalCount+=A.length,w.byteLength+=A.byteLength,w.push(A));return k.length&&w.duration<=0&&(w.duration=k[k.length-1].duration),k.byteLength+=w.byteLength,k.nalCount+=w.nalCount,k.duration+=w.duration,k.push(w),k},le=function(g){var _;return!g[0][0].keyFrame&&g.length>1&&(_=g.shift(),g.byteLength-=_.byteLength,g.nalCount-=_.nalCount,g[0][0].dts=_.dts,g[0][0].pts=_.pts,g[0][0].duration+=_.duration),g},ge=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},we=function(g,_){var A=ge();return A.dataOffset=_,A.compositionTimeOffset=g.pts-g.dts,A.duration=g.duration,A.size=4*g.length,A.size+=g.byteLength,g.keyFrame&&(A.flags.dependsOn=2,A.flags.isNonSyncSample=0),A},Ie=function(g,_){var A,w,k,N,G,X=_||0,ee=[];for(A=0;A<g.length;A++)for(N=g[A],w=0;w<N.length;w++)G=N[w],k=we(G,X),X+=k.size,ee.push(k);return ee},ce=function(g){var _,A,w,k,N,G,X=0,ee=g.byteLength,ie=g.nalCount,he=ee+4*ie,_e=new Uint8Array(he),$e=new DataView(_e.buffer);for(_=0;_<g.length;_++)for(k=g[_],A=0;A<k.length;A++)for(N=k[A],w=0;w<N.length;w++)G=N[w],$e.setUint32(X,G.data.byteLength),X+=4,_e.set(G.data,X),X+=G.data.byteLength;return _e},Ce=function(g,_){var A,w=_||0,k=[];return A=we(g,w),k.push(A),k},We=function(g){var _,A,w=0,k=g.byteLength,N=g.length,G=k+4*N,X=new Uint8Array(G),ee=new DataView(X.buffer);for(_=0;_<g.length;_++)A=g[_],ee.setUint32(w,A.data.byteLength),w+=4,X.set(A.data,w),w+=A.data.byteLength;return X},pe={groupNalsIntoFrames:oe,groupFramesIntoGops:se,extendFirstKeyFrame:le,generateSampleTable:Ie,concatenateNalData:ce,generateSampleTableForFrame:Ce,concatenateNalDataForFrame:We},Ee=[33,16,5,32,164,27],Fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],j=function(g){for(var _=[];g--;)_.push(0);return _},q=function(g){return Object.keys(g).reduce(function(_,A){return _[A]=new Uint8Array(g[A].reduce(function(w,k){return w.concat(k)},[])),_},{})},fe,Ae=function(){if(!fe){var g={96e3:[Ee,[227,64],j(154),[56]],88200:[Ee,[231],j(170),[56]],64e3:[Ee,[248,192],j(240),[56]],48e3:[Ee,[255,192],j(268),[55,148,128],j(54),[112]],44100:[Ee,[255,192],j(268),[55,163,128],j(84),[112]],32e3:[Ee,[255,192],j(268),[55,234],j(226),[112]],24e3:[Ee,[255,192],j(268),[55,255,128],j(268),[111,112],j(126),[224]],16e3:[Ee,[255,192],j(268),[55,255,128],j(268),[111,255],j(269),[223,108],j(195),[1,192]],12e3:[Fe,j(268),[3,127,248],j(268),[6,255,240],j(268),[13,255,224],j(268),[27,253,128],j(259),[56]],11025:[Fe,j(268),[3,127,248],j(268),[6,255,240],j(268),[13,255,224],j(268),[27,255,192],j(268),[55,175,128],j(108),[112]],8e3:[Fe,j(268),[3,121,16],j(47),[7]]};fe=q(g)}return fe},Me=9e4,Be,Qe,me,xe,Ge,at,_t;Be=function(g){return g*Me},Qe=function(g,_){return g*_},me=function(g){return g/Me},xe=function(g,_){return g/_},Ge=function(g,_){return Be(xe(g,_))},at=function(g,_){return Qe(me(g),_)},_t=function(g,_,A){return me(A?g:g-_)};var Ke={ONE_SECOND_IN_TS:Me,secondsToVideoTs:Be,secondsToAudioTs:Qe,videoTsToSeconds:me,audioTsToSeconds:xe,audioTsToVideoTs:Ge,videoTsToAudioTs:at,metadataTsToSeconds:_t},Pt=Ae,vt=Ke,lr=function(g){var _,A,w=0;for(_=0;_<g.length;_++)A=g[_],w+=A.data.byteLength;return w},dr=function(g,_,A,w){var k,N=0,G=0,X=0,ee=0,ie,he,_e;if(_.length&&(k=vt.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),N=Math.ceil(vt.ONE_SECOND_IN_TS/(g.samplerate/1024)),A&&w&&(G=k-Math.max(A,w),X=Math.floor(G/N),ee=X*N),!(X<1||ee>vt.ONE_SECOND_IN_TS/2))){for(ie=Pt()[g.samplerate],ie||(ie=_[0].data),he=0;he<X;he++)_e=_[0],_.splice(0,0,{data:ie,dts:_e.dts-N,pts:_e.pts-N});return g.baseMediaDecodeTime-=Math.floor(vt.videoTsToAudioTs(ee,g.samplerate)),ee}},Bi=function(g,_,A){return _.minSegmentDts>=A?g:(_.minSegmentDts=1/0,g.filter(function(w){return w.dts>=A?(_.minSegmentDts=Math.min(_.minSegmentDts,w.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},uo=function(g){var _,A,w=[];for(_=0;_<g.length;_++)A=g[_],w.push({size:A.data.byteLength,duration:1024});return w},fo=function(g){var _,A,w=0,k=new Uint8Array(lr(g));for(_=0;_<g.length;_++)A=g[_],k.set(A.data,w),w+=A.data.byteLength;return k},Ri={prefixWithSilence:dr,trimAdtsFramesByEarliestDts:Bi,generateSampleTable:uo,concatenateFrameData:fo},ho=Ke.ONE_SECOND_IN_TS,Ur=function(g,_){typeof _.pts=="number"&&(g.timelineStartInfo.pts===void 0&&(g.timelineStartInfo.pts=_.pts),g.minSegmentPts===void 0?g.minSegmentPts=_.pts:g.minSegmentPts=Math.min(g.minSegmentPts,_.pts),g.maxSegmentPts===void 0?g.maxSegmentPts=_.pts:g.maxSegmentPts=Math.max(g.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(g.timelineStartInfo.dts===void 0&&(g.timelineStartInfo.dts=_.dts),g.minSegmentDts===void 0?g.minSegmentDts=_.dts:g.minSegmentDts=Math.min(g.minSegmentDts,_.dts),g.maxSegmentDts===void 0?g.maxSegmentDts=_.dts:g.maxSegmentDts=Math.max(g.maxSegmentDts,_.dts))},jr=function(g){delete g.minSegmentDts,delete g.maxSegmentDts,delete g.minSegmentPts,delete g.maxSegmentPts},ui=function(g,_){var A,w,k=g.minSegmentDts;return _||(k-=g.timelineStartInfo.dts),A=g.timelineStartInfo.baseMediaDecodeTime,A+=k,A=Math.max(0,A),g.type==="audio"&&(w=g.samplerate/ho,A*=w,A=Math.floor(A)),A},zn={clearDtsInfo:jr,calculateTrackBaseMediaDecodeTime:ui,collectDtsInfo:Ur},nr=4,$n=128,ln=function(g){for(var _=0,A={payloadType:-1,payloadSize:0},w=0,k=0;_<g.byteLength&&g[_]!==$n;){for(;g[_]===255;)w+=255,_++;for(w+=g[_++];g[_]===255;)k+=255,_++;if(k+=g[_++],!A.payload&&w===nr){var N=String.fromCharCode(g[_+3],g[_+4],g[_+5],g[_+6]);if(N==="GA94"){A.payloadType=w,A.payloadSize=k,A.payload=g.subarray(_,_+k);break}else A.payload=void 0}_+=k,w=0,k=0}return A},Ta=function(g){return g.payload[0]!==181||(g.payload[1]<<8|g.payload[2])!==49||String.fromCharCode(g.payload[3],g.payload[4],g.payload[5],g.payload[6])!=="GA94"||g.payload[7]!==3?null:g.payload.subarray(8,g.payload.length-1)},Ea=function(g,_){var A=[],w,k,N,G;if(!(_[0]&64))return A;for(k=_[0]&31,w=0;w<k;w++)N=w*3,G={type:_[N+2]&3,pts:g},_[N+2]&4&&(G.ccData=_[N+3]<<8|_[N+4],A.push(G));return A},fr=function(g){for(var _=g.byteLength,A=[],w=1,k,N;w<_-2;)g[w]===0&&g[w+1]===0&&g[w+2]===3?(A.push(w+2),w+=2):w++;if(A.length===0)return g;k=_-A.length,N=new Uint8Array(k);var G=0;for(w=0;w<k;G++,w++)G===A[0]&&(G++,A.shift()),N[w]=g[G];return N},cn={parseSei:ln,parseUserData:Ta,parseCaptionPackets:Ea,discardEmulationPreventionBytes:fr,USER_DATA_REGISTERED_ITU_T_T35:nr},Br=r,Er=cn,Mt=function(g){g=g||{},Mt.prototype.init.call(this),this.parse708captions_=typeof g.parse708captions=="boolean"?g.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Yt(0,0),new Yt(0,1),new Yt(1,0),new Yt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Lt({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Mt.prototype=new Br,Mt.prototype.push=function(g){var _,A,w;if(g.nalUnitType==="sei_rbsp"&&(_=Er.parseSei(g.escapedRBSP),!!_.payload&&_.payloadType===Er.USER_DATA_REGISTERED_ITU_T_T35&&(A=Er.parseUserData(_),!!A))){if(g.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(g.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}w=Er.parseCaptionPackets(g.pts,A),this.captionPackets_=this.captionPackets_.concat(w),this.latestDts_!==g.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=g.dts}},Mt.prototype.flushCCStreams=function(g){this.ccStreams_.forEach(function(_){return g==="flush"?_.flush():_.partialFlush()},this)},Mt.prototype.flushStream=function(g){if(!this.captionPackets_.length){this.flushCCStreams(g);return}this.captionPackets_.forEach(function(_,A){_.presortIndex=A}),this.captionPackets_.sort(function(_,A){return _.pts===A.pts?_.presortIndex-A.presortIndex:_.pts-A.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(g)},Mt.prototype.flush=function(){return this.flushStream("flush")},Mt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Mt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(g){g.reset()})},Mt.prototype.dispatchCea608Packet=function(g){this.setsTextOrXDSActive(g)?this.activeCea608Channel_[g.type]=null:this.setsChannel1Active(g)?this.activeCea608Channel_[g.type]=0:this.setsChannel2Active(g)&&(this.activeCea608Channel_[g.type]=1),this.activeCea608Channel_[g.type]!==null&&this.ccStreams_[(g.type<<1)+this.activeCea608Channel_[g.type]].push(g)},Mt.prototype.setsChannel1Active=function(g){return(g.ccData&30720)===4096},Mt.prototype.setsChannel2Active=function(g){return(g.ccData&30720)===6144},Mt.prototype.setsTextOrXDSActive=function(g){return(g.ccData&28928)===256||(g.ccData&30974)===4138||(g.ccData&30974)===6186},Mt.prototype.dispatchCea708Packet=function(g){this.parse708captions_&&this.cc708Stream_.push(g)};var Vn={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Hn=function(g){var _=Vn[g]||g;return g&4096&&g===_?"":String.fromCharCode(_)},di=function(g){return 32<=g&&g<=127||160<=g&&g<=255},Dn=function(g){this.windowNum=g,this.reset()};Dn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Dn.prototype.getText=function(){return this.rows.join(`
`)},Dn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Dn.prototype.newLine=function(g){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(g),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Dn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Dn.prototype.addText=function(g){this.rows[this.rowIdx]+=g},Dn.prototype.backspace=function(){if(!this.isEmpty()){var g=this.rows[this.rowIdx];this.rows[this.rowIdx]=g.substr(0,g.length-1)}};var vs=function(g,_,A){this.serviceNum=g,this.text="",this.currentWindow=new Dn(-1),this.windows=[],this.stream=A,typeof _=="string"&&this.createTextDecoder(_)};vs.prototype.init=function(g,_){this.startPts=g;for(var A=0;A<8;A++)this.windows[A]=new Dn(A),typeof _=="function"&&(this.windows[A].beforeRowOverflow=_)},vs.prototype.setCurrentWindow=function(g){this.currentWindow=this.windows[g]},vs.prototype.createTextDecoder=function(g){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(g)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+g+" encoding. "+_})}};var Lt=function(g){g=g||{},Lt.prototype.init.call(this);var _=this,A=g.captionServices||{},w={},k;Object.keys(A).forEach(N=>{k=A[N],/^SERVICE/.test(N)&&(w[N]=k.encoding)}),this.serviceEncodings=w,this.current708Packet=null,this.services={},this.push=function(N){N.type===3?(_.new708Packet(),_.add708Bytes(N)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(N))}};Lt.prototype=new Br,Lt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Lt.prototype.add708Bytes=function(g){var _=g.ccData,A=_>>>8,w=_&255;this.current708Packet.ptsVals.push(g.pts),this.current708Packet.data.push(A),this.current708Packet.data.push(w)},Lt.prototype.push708Packet=function(){var g=this.current708Packet,_=g.data,A=null,w=null,k=0,N=_[k++];for(g.seq=N>>6,g.sizeCode=N&63;k<_.length;k++)N=_[k++],A=N>>5,w=N&31,A===7&&w>0&&(N=_[k++],A=N),this.pushServiceBlock(A,k,w),w>0&&(k+=w-1)},Lt.prototype.pushServiceBlock=function(g,_,A){var w,k=_,N=this.current708Packet.data,G=this.services[g];for(G||(G=this.initService(g,k));k<_+A&&k<N.length;k++)w=N[k],di(w)?k=this.handleText(k,G):w===24?k=this.multiByteCharacter(k,G):w===16?k=this.extendedCommands(k,G):128<=w&&w<=135?k=this.setCurrentWindow(k,G):152<=w&&w<=159?k=this.defineWindow(k,G):w===136?k=this.clearWindows(k,G):w===140?k=this.deleteWindows(k,G):w===137?k=this.displayWindows(k,G):w===138?k=this.hideWindows(k,G):w===139?k=this.toggleWindows(k,G):w===151?k=this.setWindowAttributes(k,G):w===144?k=this.setPenAttributes(k,G):w===145?k=this.setPenColor(k,G):w===146?k=this.setPenLocation(k,G):w===143?G=this.reset(k,G):w===8?G.currentWindow.backspace():w===12?G.currentWindow.clearText():w===13?G.currentWindow.pendingNewLine=!0:w===14?G.currentWindow.clearText():w===141&&k++},Lt.prototype.extendedCommands=function(g,_){var A=this.current708Packet.data,w=A[++g];return di(w)&&(g=this.handleText(g,_,{isExtended:!0})),g},Lt.prototype.getPts=function(g){return this.current708Packet.ptsVals[Math.floor(g/2)]},Lt.prototype.initService=function(g,_){var w="SERVICE"+g,A=this,w,k;return w in this.serviceEncodings&&(k=this.serviceEncodings[w]),this.services[g]=new vs(g,k,A),this.services[g].init(this.getPts(_),function(N){A.flushDisplayed(N,A.services[g])}),this.services[g]},Lt.prototype.handleText=function(g,_,A){var w=A&&A.isExtended,k=A&&A.isMultiByte,N=this.current708Packet.data,G=w?4096:0,X=N[g],ee=N[g+1],ie=_.currentWindow,he,_e;function $e(ke){return ke.map(it=>("0"+(it&255).toString(16)).slice(-2)).join("")}if(k?(_e=[X,ee],g++):_e=[X],_.textDecoder_&&!w)he=_.textDecoder_.decode(new Uint8Array(_e));else if(k){const ke=$e(_e);he=String.fromCharCode(parseInt(ke,16))}else he=Hn(G|X);return ie.pendingNewLine&&!ie.isEmpty()&&ie.newLine(this.getPts(g)),ie.pendingNewLine=!1,ie.addText(he),g},Lt.prototype.multiByteCharacter=function(g,_){var A=this.current708Packet.data,w=A[g+1],k=A[g+2];return di(w)&&di(k)&&(g=this.handleText(++g,_,{isMultiByte:!0})),g},Lt.prototype.setCurrentWindow=function(g,_){var A=this.current708Packet.data,w=A[g],k=w&7;return _.setCurrentWindow(k),g},Lt.prototype.defineWindow=function(g,_){var A=this.current708Packet.data,w=A[g],k=w&7;_.setCurrentWindow(k);var N=_.currentWindow;return w=A[++g],N.visible=(w&32)>>5,N.rowLock=(w&16)>>4,N.columnLock=(w&8)>>3,N.priority=w&7,w=A[++g],N.relativePositioning=(w&128)>>7,N.anchorVertical=w&127,w=A[++g],N.anchorHorizontal=w,w=A[++g],N.anchorPoint=(w&240)>>4,N.rowCount=w&15,w=A[++g],N.columnCount=w&63,w=A[++g],N.windowStyle=(w&56)>>3,N.penStyle=w&7,N.virtualRowCount=N.rowCount+1,g},Lt.prototype.setWindowAttributes=function(g,_){var A=this.current708Packet.data,w=A[g],k=_.currentWindow.winAttr;return w=A[++g],k.fillOpacity=(w&192)>>6,k.fillRed=(w&48)>>4,k.fillGreen=(w&12)>>2,k.fillBlue=w&3,w=A[++g],k.borderType=(w&192)>>6,k.borderRed=(w&48)>>4,k.borderGreen=(w&12)>>2,k.borderBlue=w&3,w=A[++g],k.borderType+=(w&128)>>5,k.wordWrap=(w&64)>>6,k.printDirection=(w&48)>>4,k.scrollDirection=(w&12)>>2,k.justify=w&3,w=A[++g],k.effectSpeed=(w&240)>>4,k.effectDirection=(w&12)>>2,k.displayEffect=w&3,g},Lt.prototype.flushDisplayed=function(g,_){for(var A=[],w=0;w<8;w++)_.windows[w].visible&&!_.windows[w].isEmpty()&&A.push(_.windows[w].getText());_.endPts=g,_.text=A.join(`

`),this.pushCaption(_),_.startPts=g},Lt.prototype.pushCaption=function(g){g.text!==""&&(this.trigger("data",{startPts:g.startPts,endPts:g.endPts,text:g.text,stream:"cc708_"+g.serviceNum}),g.text="",g.startPts=g.endPts)},Lt.prototype.displayWindows=function(g,_){var A=this.current708Packet.data,w=A[++g],k=this.getPts(g);this.flushDisplayed(k,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible=1);return g},Lt.prototype.hideWindows=function(g,_){var A=this.current708Packet.data,w=A[++g],k=this.getPts(g);this.flushDisplayed(k,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible=0);return g},Lt.prototype.toggleWindows=function(g,_){var A=this.current708Packet.data,w=A[++g],k=this.getPts(g);this.flushDisplayed(k,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible^=1);return g},Lt.prototype.clearWindows=function(g,_){var A=this.current708Packet.data,w=A[++g],k=this.getPts(g);this.flushDisplayed(k,_);for(var N=0;N<8;N++)w&1<<N&&_.windows[N].clearText();return g},Lt.prototype.deleteWindows=function(g,_){var A=this.current708Packet.data,w=A[++g],k=this.getPts(g);this.flushDisplayed(k,_);for(var N=0;N<8;N++)w&1<<N&&_.windows[N].reset();return g},Lt.prototype.setPenAttributes=function(g,_){var A=this.current708Packet.data,w=A[g],k=_.currentWindow.penAttr;return w=A[++g],k.textTag=(w&240)>>4,k.offset=(w&12)>>2,k.penSize=w&3,w=A[++g],k.italics=(w&128)>>7,k.underline=(w&64)>>6,k.edgeType=(w&56)>>3,k.fontStyle=w&7,g},Lt.prototype.setPenColor=function(g,_){var A=this.current708Packet.data,w=A[g],k=_.currentWindow.penColor;return w=A[++g],k.fgOpacity=(w&192)>>6,k.fgRed=(w&48)>>4,k.fgGreen=(w&12)>>2,k.fgBlue=w&3,w=A[++g],k.bgOpacity=(w&192)>>6,k.bgRed=(w&48)>>4,k.bgGreen=(w&12)>>2,k.bgBlue=w&3,w=A[++g],k.edgeRed=(w&48)>>4,k.edgeGreen=(w&12)>>2,k.edgeBlue=w&3,g},Lt.prototype.setPenLocation=function(g,_){var A=this.current708Packet.data,w=A[g],k=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,w=A[++g],k.row=w&15,w=A[++g],k.column=w&63,g},Lt.prototype.reset=function(g,_){var A=this.getPts(g);return this.flushDisplayed(A,_),this.initService(_.serviceNum,g)};var Tb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},_s=function(g){return g===null?"":(g=Tb[g]||g,String.fromCharCode(g))},fc=14,fi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],jo=function(){for(var g=[],_=fc+1;_--;)g.push({text:"",indent:0,offset:0});return g},Yt=function(g,_){Yt.prototype.init.call(this),this.field_=g||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(A){var w,k,N,G,X;if(w=A.ccData&32639,w===this.lastControlCode_){this.lastControlCode_=null;return}if((w&61440)===4096?this.lastControlCode_=w:w!==this.PADDING_&&(this.lastControlCode_=null),N=w>>>8,G=w&255,w!==this.PADDING_)if(w===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(w===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(A.pts),this.flushDisplayed(A.pts),k=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=k,this.startPts_=A.pts;else if(w===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(A.pts);else if(w===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(A.pts);else if(w===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(A.pts);else if(w===this.CARRIAGE_RETURN_)this.clearFormatting(A.pts),this.flushDisplayed(A.pts),this.shiftRowsUp_(),this.startPts_=A.pts;else if(w===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(w===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(A.pts),this.displayed_=jo();else if(w===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=jo();else if(w===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(A.pts),this.displayed_=jo()),this.mode_="paintOn",this.startPts_=A.pts;else if(this.isSpecialCharacter(N,G))N=(N&3)<<8,X=_s(N|G),this[this.mode_](A.pts,X),this.column_++;else if(this.isExtCharacter(N,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),N=(N&3)<<8,X=_s(N|G),this[this.mode_](A.pts,X),this.column_++;else if(this.isMidRowCode(N,G))this.clearFormatting(A.pts),this[this.mode_](A.pts," "),this.column_++,(G&14)===14&&this.addFormatting(A.pts,["i"]),(G&1)===1&&this.addFormatting(A.pts,["u"]);else if(this.isOffsetControlCode(N,G)){const ie=G&3;this.nonDisplayed_[this.row_].offset=ie,this.column_+=ie}else if(this.isPAC(N,G)){var ee=fi.indexOf(w&7968);if(this.mode_==="rollUp"&&(ee-this.rollUpRows_+1<0&&(ee=this.rollUpRows_-1),this.setRollUp(A.pts,ee)),ee!==this.row_&&ee>=0&&ee<=14&&(this.clearFormatting(A.pts),this.row_=ee),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(A.pts,["u"]),(w&16)===16){const ie=(w&14)>>1;this.column_=ie*4,this.nonDisplayed_[this.row_].indent+=ie}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(A.pts,["i"])}else this.isNormalChar(N)&&(G===0&&(G=null),X=_s(N),X+=_s(G),this[this.mode_](A.pts,X),this.column_+=X.length)}};Yt.prototype=new Br,Yt.prototype.flushDisplayed=function(g){const _=w=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+w+"."})},A=[];this.displayed_.forEach((w,k)=>{if(w&&w.text&&w.text.length){try{w.text=w.text.trim()}catch{_(k)}w.text.length&&A.push({text:w.text,line:k+1,position:10+Math.min(70,w.indent*10)+w.offset*2.5})}else w==null&&_(k)}),A.length&&this.trigger("data",{startPts:this.startPts_,endPts:g,content:A,stream:this.name_})},Yt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=jo(),this.nonDisplayed_=jo(),this.lastControlCode_=null,this.column_=0,this.row_=fc,this.rollUpRows_=2,this.formatting_=[]},Yt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Yt.prototype.isSpecialCharacter=function(g,_){return g===this.EXT_&&_>=48&&_<=63},Yt.prototype.isExtCharacter=function(g,_){return(g===this.EXT_+1||g===this.EXT_+2)&&_>=32&&_<=63},Yt.prototype.isMidRowCode=function(g,_){return g===this.EXT_&&_>=32&&_<=47},Yt.prototype.isOffsetControlCode=function(g,_){return g===this.OFFSET_&&_>=33&&_<=35},Yt.prototype.isPAC=function(g,_){return g>=this.BASE_&&g<this.BASE_+8&&_>=64&&_<=127},Yt.prototype.isColorPAC=function(g){return g>=64&&g<=79||g>=96&&g<=127},Yt.prototype.isNormalChar=function(g){return g>=32&&g<=127},Yt.prototype.setRollUp=function(g,_){if(this.mode_!=="rollUp"&&(this.row_=fc,this.mode_="rollUp",this.flushDisplayed(g),this.nonDisplayed_=jo(),this.displayed_=jo()),_!==void 0&&_!==this.row_)for(var A=0;A<this.rollUpRows_;A++)this.displayed_[_-A]=this.displayed_[this.row_-A],this.displayed_[this.row_-A]={text:"",indent:0,offset:0};_===void 0&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Yt.prototype.addFormatting=function(g,_){this.formatting_=this.formatting_.concat(_);var A=_.reduce(function(w,k){return w+"<"+k+">"},"");this[this.mode_](g,A)},Yt.prototype.clearFormatting=function(g){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(A,w){return A+"</"+w+">"},"");this.formatting_=[],this[this.mode_](g,_)}},Yt.prototype.popOn=function(g,_){var A=this.nonDisplayed_[this.row_].text;A+=_,this.nonDisplayed_[this.row_].text=A},Yt.prototype.rollUp=function(g,_){var A=this.displayed_[this.row_].text;A+=_,this.displayed_[this.row_].text=A},Yt.prototype.shiftRowsUp_=function(){var g;for(g=0;g<this.topRow_;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.row_+1;g<fc+1;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.topRow_;g<this.row_;g++)this.displayed_[g]=this.displayed_[g+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Yt.prototype.paintOn=function(g,_){var A=this.displayed_[this.row_].text;A+=_,this.displayed_[this.row_].text=A};var Up={CaptionStream:Mt,Cea608Stream:Yt,Cea708Stream:Lt},hc={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},te=r,Z=8589934592,ae=4294967296,be="shared",Je=function(g,_){var A=1;for(g>_&&(A=-1);Math.abs(_-g)>ae;)g+=A*Z;return g},ot=function(g){var _,A;ot.prototype.init.call(this),this.type_=g||be,this.push=function(w){if(w.type==="metadata"){this.trigger("data",w);return}this.type_!==be&&w.type!==this.type_||(A===void 0&&(A=w.dts),w.dts=Je(w.dts,A),w.pts=Je(w.pts,A),_=w.dts,this.trigger("data",w))},this.flush=function(){A=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){A=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ot.prototype=new te;var Nt={TimestampRolloverStream:ot,handleRollover:Je},br=(g,_,A)=>{if(!g)return-1;for(var w=A;w<g.length;w++)if(g[w]===_)return w;return-1},pt={typedArrayIndexOf:br},Tt=pt.typedArrayIndexOf,De={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},rt=function(g,_,A){var w,k="";for(w=_;w<A;w++)k+="%"+("00"+g[w].toString(16)).slice(-2);return k},Ne=function(g,_,A){return decodeURIComponent(rt(g,_,A))},St=function(g,_,A){return unescape(rt(g,_,A))},Ze=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},hi={APIC:function(g){var _=1,A,w,k="-->";g.data[0]===De.Utf8&&(A=Tt(g.data,0,_),!(A<0)&&(g.mimeType=St(g.data,_,A),_=A+1,g.pictureType=g.data[_],_++,w=Tt(g.data,0,_),!(w<0)&&(g.description=Ne(g.data,_,w),_=w+1,g.mimeType===k?g.url=St(g.data,_,g.data.length):g.pictureData=g.data.subarray(_,g.data.length))))},"T*":function(g){g.data[0]===De.Utf8&&(g.value=Ne(g.data,1,g.data.length).replace(/\0*$/,""),g.values=g.value.split("\0"))},TXXX:function(g){var _;g.data[0]===De.Utf8&&(_=Tt(g.data,0,1),_!==-1&&(g.description=Ne(g.data,1,_),g.value=Ne(g.data,_+1,g.data.length).replace(/\0*$/,""),g.data=g.value))},"W*":function(g){g.url=St(g.data,0,g.data.length).replace(/\0.*$/,"")},WXXX:function(g){var _;g.data[0]===De.Utf8&&(_=Tt(g.data,0,1),_!==-1&&(g.description=Ne(g.data,1,_),g.url=St(g.data,_+1,g.data.length).replace(/\0.*$/,"")))},PRIV:function(g){var _;for(_=0;_<g.data.length;_++)if(g.data[_]===0){g.owner=St(g.data,0,_);break}g.privateData=g.data.subarray(_+1),g.data=g.privateData}},Pi=function(g){var _,A,w=10,k=0,N=[];if(!(g.length<10||g[0]!==73||g[1]!==68||g[2]!==51)){k=Ze(g.subarray(6,10)),k+=10;var G=g[5]&64;G&&(w+=4,w+=Ze(g.subarray(10,14)),k-=Ze(g.subarray(16,20)));do{if(_=Ze(g.subarray(w+4,w+8)),_<1)break;A=String.fromCharCode(g[w],g[w+1],g[w+2],g[w+3]);var X={id:A,data:g.subarray(w+10,w+_+10)};X.key=X.id,hi[X.id]?hi[X.id](X):X.id[0]==="T"?hi["T*"](X):X.id[0]==="W"&&hi["W*"](X),N.push(X),w+=10,w+=_}while(w<k);return N}},zo={parseId3Frames:Pi,parseSyncSafeInteger:Ze,frameParsers:hi},hr=r,vr=hc,jt=zo,zt;zt=function(g){var _={descriptor:g&&g.descriptor},A=0,w=[],k=0,N;if(zt.prototype.init.call(this),this.dispatchType=vr.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(N=0;N<_.descriptor.length;N++)this.dispatchType+=("00"+_.descriptor[N].toString(16)).slice(-2);this.push=function(G){var X,ee,ie,he,_e,$e;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(k=0,w.length=0),w.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(w.push(G),k+=G.data.byteLength,w.length===1&&(A=jt.parseSyncSafeInteger(G.data.subarray(6,10)),A+=10),!(k<A)){for(X={data:new Uint8Array(A),frames:[],pts:w[0].pts,dts:w[0].dts},_e=0;_e<A;)X.data.set(w[0].data.subarray(0,A-_e),_e),_e+=w[0].data.byteLength,k-=w[0].data.byteLength,w.shift();ee=10,X.data[5]&64&&(ee+=4,ee+=jt.parseSyncSafeInteger(X.data.subarray(10,14)),A-=jt.parseSyncSafeInteger(X.data.subarray(16,20)));do{if(ie=jt.parseSyncSafeInteger(X.data.subarray(ee+4,ee+8)),ie<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if($e=String.fromCharCode(X.data[ee],X.data[ee+1],X.data[ee+2],X.data[ee+3]),he={id:$e,data:X.data.subarray(ee+10,ee+ie+10)},he.key=he.id,jt.frameParsers[he.id]?jt.frameParsers[he.id](he):he.id[0]==="T"?jt.frameParsers["T*"](he):he.id[0]==="W"&&jt.frameParsers["W*"](he),he.owner==="com.apple.streaming.transportStreamTimestamp"){var ke=he.data,it=(ke[3]&1)<<30|ke[4]<<22|ke[5]<<14|ke[6]<<6|ke[7]>>>2;it*=4,it+=ke[7]&3,he.timeStamp=it,X.pts===void 0&&X.dts===void 0&&(X.pts=he.timeStamp,X.dts=he.timeStamp),this.trigger("timestamp",he)}X.frames.push(he),ee+=10,ee+=ie}while(ee<A);this.trigger("data",X)}}}},zt.prototype=new hr;var ws=zt,po=r,Ca=Up,un=hc,_d=Nt.TimestampRolloverStream,As,$o,xs,mo=188,Sa=71;As=function(){var g=new Uint8Array(mo),_=0;As.prototype.init.call(this),this.push=function(A){var w=0,k=mo,N;for(_?(N=new Uint8Array(A.byteLength+_),N.set(g.subarray(0,_)),N.set(A,_),_=0):N=A;k<N.byteLength;){if(N[w]===Sa&&N[k]===Sa){this.trigger("data",N.subarray(w,k)),w+=mo,k+=mo;continue}w++,k++}w<N.byteLength&&(g.set(N.subarray(w),0),_=N.byteLength-w)},this.flush=function(){_===mo&&g[0]===Sa&&(this.trigger("data",g),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},As.prototype=new po,$o=function(){var g,_,A,w;$o.prototype.init.call(this),w=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,g=function(k,N){var G=0;N.payloadUnitStartIndicator&&(G+=k[G]+1),N.type==="pat"?_(k.subarray(G),N):A(k.subarray(G),N)},_=function(k,N){N.section_number=k[7],N.last_section_number=k[8],w.pmtPid=(k[10]&31)<<8|k[11],N.pmtPid=w.pmtPid},A=function(k,N){var G,X,ee,ie;if(k[5]&1){for(w.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(k[1]&15)<<8|k[2],X=3+G-4,ee=(k[10]&15)<<8|k[11],ie=12+ee;ie<X;){var he=k[ie],_e=(k[ie+1]&31)<<8|k[ie+2];he===un.H264_STREAM_TYPE&&w.programMapTable.video===null?w.programMapTable.video=_e:he===un.ADTS_STREAM_TYPE&&w.programMapTable.audio===null?w.programMapTable.audio=_e:he===un.METADATA_STREAM_TYPE&&(w.programMapTable["timed-metadata"][_e]=he),ie+=((k[ie+3]&15)<<8|k[ie+4])+5}N.programMapTable=w.programMapTable}},this.push=function(k){var N={},G=4;if(N.payloadUnitStartIndicator=!!(k[1]&64),N.pid=k[1]&31,N.pid<<=8,N.pid|=k[2],(k[3]&48)>>>4>1&&(G+=k[G]+1),N.pid===0)N.type="pat",g(k.subarray(G),N),this.trigger("data",N);else if(N.pid===this.pmtPid)for(N.type="pmt",g(k.subarray(G),N),this.trigger("data",N);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([k,G,N]):this.processPes_(k,G,N)},this.processPes_=function(k,N,G){G.pid===this.programMapTable.video?G.streamType=un.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=un.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=k.subarray(N),this.trigger("data",G)}},$o.prototype=new po,$o.STREAM_TYPES={h264:27,adts:15},xs=function(){var g=this,_=!1,A={data:[],size:0},w={data:[],size:0},k={data:[],size:0},N,G=function(ee,ie){var he;const _e=ee[0]<<16|ee[1]<<8|ee[2];ie.data=new Uint8Array,_e===1&&(ie.packetLength=6+(ee[4]<<8|ee[5]),ie.dataAlignmentIndicator=(ee[6]&4)!==0,he=ee[7],he&192&&(ie.pts=(ee[9]&14)<<27|(ee[10]&255)<<20|(ee[11]&254)<<12|(ee[12]&255)<<5|(ee[13]&254)>>>3,ie.pts*=4,ie.pts+=(ee[13]&6)>>>1,ie.dts=ie.pts,he&64&&(ie.dts=(ee[14]&14)<<27|(ee[15]&255)<<20|(ee[16]&254)<<12|(ee[17]&255)<<5|(ee[18]&254)>>>3,ie.dts*=4,ie.dts+=(ee[18]&6)>>>1)),ie.data=ee.subarray(9+ee[8]))},X=function(ee,ie,he){var _e=new Uint8Array(ee.size),$e={type:ie},ke=0,it=0,ct=!1,Ir;if(!(!ee.data.length||ee.size<9)){for($e.trackId=ee.data[0].pid,ke=0;ke<ee.data.length;ke++)Ir=ee.data[ke],_e.set(Ir.data,it),it+=Ir.data.byteLength;G(_e,$e),ct=ie==="video"||$e.packetLength<=ee.size,(he||ct)&&(ee.size=0,ee.data.length=0),ct&&g.trigger("data",$e)}};xs.prototype.init.call(this),this.push=function(ee){({pat:function(){},pes:function(){var ie,he;switch(ee.streamType){case un.H264_STREAM_TYPE:ie=A,he="video";break;case un.ADTS_STREAM_TYPE:ie=w,he="audio";break;case un.METADATA_STREAM_TYPE:ie=k,he="timed-metadata";break;default:return}ee.payloadUnitStartIndicator&&X(ie,he,!0),ie.data.push(ee),ie.size+=ee.data.byteLength},pmt:function(){var ie={type:"metadata",tracks:[]};N=ee.programMapTable,N.video!==null&&ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.video,codec:"avc",type:"video"}),N.audio!==null&&ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.audio,codec:"adts",type:"audio"}),_=!0,g.trigger("data",ie)}})[ee.type]()},this.reset=function(){A.size=0,A.data.length=0,w.size=0,w.data.length=0,this.trigger("reset")},this.flushStreams_=function(){X(A,"video"),X(w,"audio"),X(k,"timed-metadata")},this.flush=function(){if(!_&&N){var ee={type:"metadata",tracks:[]};N.video!==null&&ee.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.video,codec:"avc",type:"video"}),N.audio!==null&&ee.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.audio,codec:"adts",type:"audio"}),g.trigger("data",ee)}_=!1,this.flushStreams_(),this.trigger("done")}},xs.prototype=new po;var pc={PAT_PID:0,MP2T_PACKET_LENGTH:mo,TransportPacketStream:As,TransportParseStream:$o,ElementaryStream:xs,TimestampRolloverStream:_d,CaptionStream:Ca.CaptionStream,Cea608Stream:Ca.Cea608Stream,Cea708Stream:Ca.Cea708Stream,MetadataStream:ws};for(var ka in un)un.hasOwnProperty(ka)&&(pc[ka]=un[ka]);var wd=pc,dn=r,Mn=Ke.ONE_SECOND_IN_TS,zr,mc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];zr=function(g){var _,A=0;zr.prototype.init.call(this),this.skipWarn_=function(w,k){this.trigger("log",{level:"warn",message:`adts skiping bytes ${w} to ${k} in frame ${A} outside syncword`})},this.push=function(w){var k=0,N,G,X,ee,ie;if(g||(A=0),w.type==="audio"){_&&_.length?(X=_,_=new Uint8Array(X.byteLength+w.data.byteLength),_.set(X),_.set(w.data,X.byteLength)):_=w.data;for(var he;k+7<_.length;){if(_[k]!==255||(_[k+1]&246)!==240){typeof he!="number"&&(he=k),k++;continue}if(typeof he=="number"&&(this.skipWarn_(he,k),he=null),G=(~_[k+1]&1)*2,N=(_[k+3]&3)<<11|_[k+4]<<3|(_[k+5]&224)>>5,ee=((_[k+6]&3)+1)*1024,ie=ee*Mn/mc[(_[k+2]&60)>>>2],_.byteLength-k<N)break;this.trigger("data",{pts:w.pts+A*ie,dts:w.dts+A*ie,sampleCount:ee,audioobjecttype:(_[k+2]>>>6&3)+1,channelcount:(_[k+2]&1)<<2|(_[k+3]&192)>>>6,samplerate:mc[(_[k+2]&60)>>>2],samplingfrequencyindex:(_[k+2]&60)>>>2,samplesize:16,data:_.subarray(k+7+G,k+N)}),A++,k+=N}typeof he=="number"&&(this.skipWarn_(he,k),he=null),_=_.subarray(k)}},this.flush=function(){A=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},zr.prototype=new dn;var qn=zr,gc;gc=function(g){var _=g.byteLength,A=0,w=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+w},this.loadWord=function(){var k=g.byteLength-_,N=new Uint8Array(4),G=Math.min(4,_);if(G===0)throw new Error("no bytes available");N.set(g.subarray(k,k+G)),A=new DataView(N.buffer).getUint32(0),w=G*8,_-=G},this.skipBits=function(k){var N;w>k?(A<<=k,w-=k):(k-=w,N=Math.floor(k/8),k-=N*8,_-=N,this.loadWord(),A<<=k,w-=k)},this.readBits=function(k){var N=Math.min(w,k),G=A>>>32-N;return w-=N,w>0?A<<=N:_>0&&this.loadWord(),N=k-N,N>0?G<<N|this.readBits(N):G},this.skipLeadingZeros=function(){var k;for(k=0;k<w;++k)if(A&2147483648>>>k)return A<<=k,w-=k,k;return this.loadWord(),k+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var k=this.skipLeadingZeros();return this.readBits(k+1)-1},this.readExpGolomb=function(){var k=this.readUnsignedExpGolomb();return 1&k?1+k>>>1:-1*(k>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Oe=gc,jp=r,Eb=Oe,yc,Ia,zp;Ia=function(){var g=0,_,A;Ia.prototype.init.call(this),this.push=function(w){var k;A?(k=new Uint8Array(A.byteLength+w.data.byteLength),k.set(A),k.set(w.data,A.byteLength),A=k):A=w.data;for(var N=A.byteLength;g<N-3;g++)if(A[g+2]===1){_=g+5;break}for(;_<N;)switch(A[_]){case 0:if(A[_-1]!==0){_+=2;break}else if(A[_-2]!==0){_++;break}g+3!==_-2&&this.trigger("data",A.subarray(g+3,_-2));do _++;while(A[_]!==1&&_<N);g=_-2,_+=3;break;case 1:if(A[_-1]!==0||A[_-2]!==0){_+=3;break}this.trigger("data",A.subarray(g+3,_-2)),g=_-2,_+=3;break;default:_+=3;break}A=A.subarray(g),_-=g,g=0},this.reset=function(){A=null,g=0,this.trigger("reset")},this.flush=function(){A&&A.byteLength>3&&this.trigger("data",A.subarray(g+3)),A=null,g=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ia.prototype=new jp,zp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},yc=function(){var g=new Ia,_,A,w,k,N,G,X;yc.prototype.init.call(this),_=this,this.push=function(ee){ee.type==="video"&&(A=ee.trackId,w=ee.pts,k=ee.dts,g.push(ee))},g.on("data",function(ee){var ie={trackId:A,pts:w,dts:k,data:ee,nalUnitTypeCode:ee[0]&31};switch(ie.nalUnitTypeCode){case 5:ie.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ie.nalUnitType="sei_rbsp",ie.escapedRBSP=N(ee.subarray(1));break;case 7:ie.nalUnitType="seq_parameter_set_rbsp",ie.escapedRBSP=N(ee.subarray(1)),ie.config=G(ie.escapedRBSP);break;case 8:ie.nalUnitType="pic_parameter_set_rbsp";break;case 9:ie.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",ie)}),g.on("done",function(){_.trigger("done")}),g.on("partialdone",function(){_.trigger("partialdone")}),g.on("reset",function(){_.trigger("reset")}),g.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){g.flush()},this.partialFlush=function(){g.partialFlush()},this.reset=function(){g.reset()},this.endTimeline=function(){g.endTimeline()},X=function(ee,ie){var he=8,_e=8,$e,ke;for($e=0;$e<ee;$e++)_e!==0&&(ke=ie.readExpGolomb(),_e=(he+ke+256)%256),he=_e===0?he:_e},N=function(ee){for(var ie=ee.byteLength,he=[],_e=1,$e,ke;_e<ie-2;)ee[_e]===0&&ee[_e+1]===0&&ee[_e+2]===3?(he.push(_e+2),_e+=2):_e++;if(he.length===0)return ee;$e=ie-he.length,ke=new Uint8Array($e);var it=0;for(_e=0;_e<$e;it++,_e++)it===he[0]&&(it++,he.shift()),ke[_e]=ee[it];return ke},G=function(ee){var ie=0,he=0,_e=0,$e=0,ke,it,ct,Ir,pi,Oa,PD,FD,UD,Wb,jD,wr=[1,1],zD,La;if(ke=new Eb(ee),it=ke.readUnsignedByte(),Ir=ke.readUnsignedByte(),ct=ke.readUnsignedByte(),ke.skipUnsignedExpGolomb(),zp[it]&&(pi=ke.readUnsignedExpGolomb(),pi===3&&ke.skipBits(1),ke.skipUnsignedExpGolomb(),ke.skipUnsignedExpGolomb(),ke.skipBits(1),ke.readBoolean()))for(jD=pi!==3?8:12,La=0;La<jD;La++)ke.readBoolean()&&(La<6?X(16,ke):X(64,ke));if(ke.skipUnsignedExpGolomb(),Oa=ke.readUnsignedExpGolomb(),Oa===0)ke.readUnsignedExpGolomb();else if(Oa===1)for(ke.skipBits(1),ke.skipExpGolomb(),ke.skipExpGolomb(),PD=ke.readUnsignedExpGolomb(),La=0;La<PD;La++)ke.skipExpGolomb();if(ke.skipUnsignedExpGolomb(),ke.skipBits(1),FD=ke.readUnsignedExpGolomb(),UD=ke.readUnsignedExpGolomb(),Wb=ke.readBits(1),Wb===0&&ke.skipBits(1),ke.skipBits(1),ke.readBoolean()&&(ie=ke.readUnsignedExpGolomb(),he=ke.readUnsignedExpGolomb(),_e=ke.readUnsignedExpGolomb(),$e=ke.readUnsignedExpGolomb()),ke.readBoolean()&&ke.readBoolean()){switch(zD=ke.readUnsignedByte(),zD){case 1:wr=[1,1];break;case 2:wr=[12,11];break;case 3:wr=[10,11];break;case 4:wr=[16,11];break;case 5:wr=[40,33];break;case 6:wr=[24,11];break;case 7:wr=[20,11];break;case 8:wr=[32,11];break;case 9:wr=[80,33];break;case 10:wr=[18,11];break;case 11:wr=[15,11];break;case 12:wr=[64,33];break;case 13:wr=[160,99];break;case 14:wr=[4,3];break;case 15:wr=[3,2];break;case 16:wr=[2,1];break;case 255:{wr=[ke.readUnsignedByte()<<8|ke.readUnsignedByte(),ke.readUnsignedByte()<<8|ke.readUnsignedByte()];break}}wr&&wr[0]/wr[1]}return{profileIdc:it,levelIdc:ct,profileCompatibility:Ir,width:(FD+1)*16-ie*2-he*2,height:(2-Wb)*(UD+1)*16-_e*2-$e*2,sarRatio:wr}}},yc.prototype=new jp;var Cb={H264Stream:yc,NalByteStream:Ia},Sb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],$p=function(g,_){var A=g[_+6]<<21|g[_+7]<<14|g[_+8]<<7|g[_+9],w=g[_+5],k=(w&16)>>4;return A=A>=0?A:0,k?A+20:A+10},Vp=function(g,_){return g.length-_<10||g[_]!==73||g[_+1]!==68||g[_+2]!==51?_:(_+=$p(g,_),Vp(g,_))},kb=function(g){var _=Vp(g,0);return g.length>=_+2&&(g[_]&255)===255&&(g[_+1]&240)===240&&(g[_+1]&22)===16},Hp=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},Ib=function(g,_,A){var w,k="";for(w=_;w<A;w++)k+="%"+("00"+g[w].toString(16)).slice(-2);return k},Db=function(g,_,A){return unescape(Ib(g,_,A))},Mb=function(g,_){var A=(g[_+5]&224)>>5,w=g[_+4]<<3,k=g[_+3]&6144;return k|w|A},Nb=function(g,_){return g[_]===73&&g[_+1]===68&&g[_+2]===51?"timed-metadata":g[_]&!0&&(g[_+1]&240)===240?"audio":null},Ob=function(g){for(var _=0;_+5<g.length;){if(g[_]!==255||(g[_+1]&246)!==240){_++;continue}return Sb[(g[_+2]&60)>>>2]}return null},Lb=function(g){var _,A,w,k;_=10,g[5]&64&&(_+=4,_+=Hp(g.subarray(10,14)));do{if(A=Hp(g.subarray(_+4,_+8)),A<1)return null;if(k=String.fromCharCode(g[_],g[_+1],g[_+2],g[_+3]),k==="PRIV"){w=g.subarray(_+10,_+A+10);for(var N=0;N<w.byteLength;N++)if(w[N]===0){var G=Db(w,0,N);if(G==="com.apple.streaming.transportStreamTimestamp"){var X=w.subarray(N+1),ee=(X[3]&1)<<30|X[4]<<22|X[5]<<14|X[6]<<6|X[7]>>>2;return ee*=4,ee+=X[7]&3,ee}break}}_+=10,_+=A}while(_<g.byteLength);return null},qt={isLikelyAacData:kb,parseId3TagSize:$p,parseAdtsSize:Mb,parseType:Nb,parseSampleRate:Ob,parseAacTimestamp:Lb},de=r,ve=qt,Bt;Bt=function(){var g=new Uint8Array,_=0;Bt.prototype.init.call(this),this.setTimestamp=function(A){_=A},this.push=function(A){var w=0,k=0,N,G,X,ee;for(g.length?(ee=g.length,g=new Uint8Array(A.byteLength+ee),g.set(g.subarray(0,ee)),g.set(A,ee)):g=A;g.length-k>=3;){if(g[k]===73&&g[k+1]===68&&g[k+2]===51){if(g.length-k<10||(w=ve.parseId3TagSize(g,k),k+w>g.length))break;G={type:"timed-metadata",data:g.subarray(k,k+w)},this.trigger("data",G),k+=w;continue}else if((g[k]&255)===255&&(g[k+1]&240)===240){if(g.length-k<7||(w=ve.parseAdtsSize(g,k),k+w>g.length))break;X={type:"audio",data:g.subarray(k,k+w),pts:_,dts:_},this.trigger("data",X),k+=w;continue}k++}N=g.length-k,N>0?g=g.subarray(k):g=new Uint8Array},this.reset=function(){g=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){g=new Uint8Array,this.trigger("endedtimeline")}},Bt.prototype=new de;var Bb=Bt,Da=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ad=Da,Rb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Bce=Rb,qp=r,xd=J,Td=pe,Wp=Ri,Fi=zn,Vo=wd,Gp=Ke,pD=qn,Rce=Cb.H264Stream,Pce=Bb,Fce=qt.isLikelyAacData,Uce=Ke.ONE_SECOND_IN_TS,Pb=Ad,Fb=Bce,Ed,bc,Qp,Ma,jce=function(g,_){_.stream=g,this.trigger("log",_)},mD=function(g,_){for(var A=Object.keys(_),w=0;w<A.length;w++){var k=A[w];k==="headOfPipeline"||!_[k].on||_[k].on("log",jce.bind(g,k))}},gD=function(g,_){var A;if(g.length!==_.length)return!1;for(A=0;A<g.length;A++)if(g[A]!==_[A])return!1;return!0},Ub=function(g,_,A,w,k,N){var G=A-_,X=w-_,ee=k-A;return{start:{dts:g,pts:g+G},end:{dts:g+X,pts:g+ee},prependedContentDuration:N,baseMediaDecodeTime:g}};bc=function(g,_){var A=[],w,k=0,N=0,G=1/0;_=_||{},w=_.firstSequenceNumber||0,bc.prototype.init.call(this),this.push=function(X){Fi.collectDtsInfo(g,X),g&&Pb.forEach(function(ee){g[ee]=X[ee]}),A.push(X)},this.setEarliestDts=function(X){k=X},this.setVideoBaseMediaDecodeTime=function(X){G=X},this.setAudioAppendStart=function(X){N=X},this.flush=function(){var X,ee,ie,he,_e,$e,ke;if(A.length===0){this.trigger("done","AudioSegmentStream");return}X=Wp.trimAdtsFramesByEarliestDts(A,g,k),g.baseMediaDecodeTime=Fi.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),ke=Wp.prefixWithSilence(g,X,N,G),g.samples=Wp.generateSampleTable(X),ie=xd.mdat(Wp.concatenateFrameData(X)),A=[],ee=xd.moof(w,[g]),he=new Uint8Array(ee.byteLength+ie.byteLength),w++,he.set(ee),he.set(ie,ee.byteLength),Fi.clearDtsInfo(g),_e=Math.ceil(Uce*1024/g.samplerate),X.length&&($e=X.length*_e,this.trigger("segmentTimingInfo",Ub(Gp.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),X[0].dts,X[0].pts,X[0].dts+$e,X[0].pts+$e,ke||0)),this.trigger("timingInfo",{start:X[0].pts,end:X[0].pts+$e})),this.trigger("data",{track:g,boxes:he}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Fi.clearDtsInfo(g),A=[],this.trigger("reset")}},bc.prototype=new qp,Ed=function(g,_){var A,w=[],k=[],N,G;_=_||{},A=_.firstSequenceNumber||0,Ed.prototype.init.call(this),delete g.minPTS,this.gopCache_=[],this.push=function(X){Fi.collectDtsInfo(g,X),X.nalUnitType==="seq_parameter_set_rbsp"&&!N&&(N=X.config,g.sps=[X.data],Fb.forEach(function(ee){g[ee]=N[ee]},this)),X.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=X.data,g.pps=[X.data]),w.push(X)},this.flush=function(){for(var X,ee,ie,he,_e,$e,ke=0,it,ct;w.length&&w[0].nalUnitType!=="access_unit_delimiter_rbsp";)w.shift();if(w.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(X=Td.groupNalsIntoFrames(w),ie=Td.groupFramesIntoGops(X),ie[0][0].keyFrame||(ee=this.getGopForFusion_(w[0],g),ee?(ke=ee.duration,ie.unshift(ee),ie.byteLength+=ee.byteLength,ie.nalCount+=ee.nalCount,ie.pts=ee.pts,ie.dts=ee.dts,ie.duration+=ee.duration):ie=Td.extendFirstKeyFrame(ie)),k.length){var Ir;if(_.alignGopsAtEnd?Ir=this.alignGopsAtEnd_(ie):Ir=this.alignGopsAtStart_(ie),!Ir){this.gopCache_.unshift({gop:ie.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Fi.clearDtsInfo(g),ie=Ir}Fi.collectDtsInfo(g,ie),g.samples=Td.generateSampleTable(ie),_e=xd.mdat(Td.concatenateNalData(ie)),g.baseMediaDecodeTime=Fi.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",ie.map(function(pi){return{pts:pi.pts,dts:pi.dts,byteLength:pi.byteLength}})),it=ie[0],ct=ie[ie.length-1],this.trigger("segmentTimingInfo",Ub(g.baseMediaDecodeTime,it.dts,it.pts,ct.dts+ct.duration,ct.pts+ct.duration,ke)),this.trigger("timingInfo",{start:ie[0].pts,end:ie[ie.length-1].pts+ie[ie.length-1].duration}),this.gopCache_.unshift({gop:ie.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.trigger("baseMediaDecodeTime",g.baseMediaDecodeTime),this.trigger("timelineStartInfo",g.timelineStartInfo),he=xd.moof(A,[g]),$e=new Uint8Array(he.byteLength+_e.byteLength),A++,$e.set(he),$e.set(_e,he.byteLength),this.trigger("data",{track:g,boxes:$e}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),w=[],this.gopCache_.length=0,k.length=0,this.trigger("reset")},this.resetStream_=function(){Fi.clearDtsInfo(g),N=void 0,G=void 0},this.getGopForFusion_=function(X){var ee=45e3,ie=1e4,he=1/0,_e,$e,ke,it,ct;for(ct=0;ct<this.gopCache_.length;ct++)it=this.gopCache_[ct],ke=it.gop,!(!(g.pps&&gD(g.pps[0],it.pps[0]))||!(g.sps&&gD(g.sps[0],it.sps[0])))&&(ke.dts<g.timelineStartInfo.dts||(_e=X.dts-ke.dts-ke.duration,_e>=-ie&&_e<=ee&&(!$e||he>_e)&&($e=it,he=_e)));return $e?$e.gop:null},this.alignGopsAtStart_=function(X){var ee,ie,he,_e,$e,ke,it,ct;for($e=X.byteLength,ke=X.nalCount,it=X.duration,ee=ie=0;ee<k.length&&ie<X.length&&(he=k[ee],_e=X[ie],he.pts!==_e.pts);){if(_e.pts>he.pts){ee++;continue}ie++,$e-=_e.byteLength,ke-=_e.nalCount,it-=_e.duration}return ie===0?X:ie===X.length?null:(ct=X.slice(ie),ct.byteLength=$e,ct.duration=it,ct.nalCount=ke,ct.pts=ct[0].pts,ct.dts=ct[0].dts,ct)},this.alignGopsAtEnd_=function(X){var ee,ie,he,_e,$e,ke;for(ee=k.length-1,ie=X.length-1,$e=null,ke=!1;ee>=0&&ie>=0;){if(he=k[ee],_e=X[ie],he.pts===_e.pts){ke=!0;break}if(he.pts>_e.pts){ee--;continue}ee===k.length-1&&($e=ie),ie--}if(!ke&&$e===null)return null;var it;if(ke?it=ie:it=$e,it===0)return X;var ct=X.slice(it),Ir=ct.reduce(function(pi,Oa){return pi.byteLength+=Oa.byteLength,pi.duration+=Oa.duration,pi.nalCount+=Oa.nalCount,pi},{byteLength:0,duration:0,nalCount:0});return ct.byteLength=Ir.byteLength,ct.duration=Ir.duration,ct.nalCount=Ir.nalCount,ct.pts=ct[0].pts,ct.dts=ct[0].dts,ct},this.alignGopsWith=function(X){k=X}},Ed.prototype=new qp,Ma=function(g,_){this.numberOfTracks=0,this.metadataStream=_,g=g||{},typeof g.remux<"u"?this.remuxTracks=!!g.remux:this.remuxTracks=!0,typeof g.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=g.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ma.prototype.init.call(this),this.push=function(A){if(A.content||A.text)return this.pendingCaptions.push(A);if(A.frames)return this.pendingMetadata.push(A);this.pendingTracks.push(A.track),this.pendingBytes+=A.boxes.byteLength,A.track.type==="video"&&(this.videoTrack=A.track,this.pendingBoxes.push(A.boxes)),A.track.type==="audio"&&(this.audioTrack=A.track,this.pendingBoxes.unshift(A.boxes))}},Ma.prototype=new qp,Ma.prototype.flush=function(g){var _=0,A={captions:[],captionStreams:{},metadata:[],info:{}},w,k,N,G=0,X;if(this.pendingTracks.length<this.numberOfTracks){if(g!=="VideoSegmentStream"&&g!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,Fb.forEach(function(ee){A.info[ee]=this.videoTrack[ee]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,Pb.forEach(function(ee){A.info[ee]=this.audioTrack[ee]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?A.type=this.pendingTracks[0].type:A.type="combined",this.emittedTracks+=this.pendingTracks.length,N=xd.initSegment(this.pendingTracks),A.initSegment=new Uint8Array(N.byteLength),A.initSegment.set(N),A.data=new Uint8Array(this.pendingBytes),X=0;X<this.pendingBoxes.length;X++)A.data.set(this.pendingBoxes[X],_),_+=this.pendingBoxes[X].byteLength;for(X=0;X<this.pendingCaptions.length;X++)w=this.pendingCaptions[X],w.startTime=Gp.metadataTsToSeconds(w.startPts,G,this.keepOriginalTimestamps),w.endTime=Gp.metadataTsToSeconds(w.endPts,G,this.keepOriginalTimestamps),A.captionStreams[w.stream]=!0,A.captions.push(w);for(X=0;X<this.pendingMetadata.length;X++)k=this.pendingMetadata[X],k.cueTime=Gp.metadataTsToSeconds(k.pts,G,this.keepOriginalTimestamps),A.metadata.push(k);for(A.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",A),X=0;X<A.captions.length;X++)w=A.captions[X],this.trigger("caption",w);for(X=0;X<A.metadata.length;X++)k=A.metadata[X],this.trigger("id3Frame",k)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ma.prototype.setRemux=function(g){this.remuxTracks=g},Qp=function(g){var _=this,A=!0,w,k;Qp.prototype.init.call(this),g=g||{},this.baseMediaDecodeTime=g.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var N={};this.transmuxPipeline_=N,N.type="aac",N.metadataStream=new Vo.MetadataStream,N.aacStream=new Pce,N.audioTimestampRolloverStream=new Vo.TimestampRolloverStream("audio"),N.timedMetadataTimestampRolloverStream=new Vo.TimestampRolloverStream("timed-metadata"),N.adtsStream=new pD,N.coalesceStream=new Ma(g,N.metadataStream),N.headOfPipeline=N.aacStream,N.aacStream.pipe(N.audioTimestampRolloverStream).pipe(N.adtsStream),N.aacStream.pipe(N.timedMetadataTimestampRolloverStream).pipe(N.metadataStream).pipe(N.coalesceStream),N.metadataStream.on("timestamp",function(G){N.aacStream.setTimestamp(G.timeStamp)}),N.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||N.audioSegmentStream||(k=k||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},N.coalesceStream.numberOfTracks++,N.audioSegmentStream=new bc(k,g),N.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),N.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),N.adtsStream.pipe(N.audioSegmentStream).pipe(N.coalesceStream),_.trigger("trackinfo",{hasAudio:!!k,hasVideo:!!w}))}),N.coalesceStream.on("data",this.trigger.bind(this,"data")),N.coalesceStream.on("done",this.trigger.bind(this,"done")),mD(this,N)},this.setupTsPipeline=function(){var N={};this.transmuxPipeline_=N,N.type="ts",N.metadataStream=new Vo.MetadataStream,N.packetStream=new Vo.TransportPacketStream,N.parseStream=new Vo.TransportParseStream,N.elementaryStream=new Vo.ElementaryStream,N.timestampRolloverStream=new Vo.TimestampRolloverStream,N.adtsStream=new pD,N.h264Stream=new Rce,N.captionStream=new Vo.CaptionStream(g),N.coalesceStream=new Ma(g,N.metadataStream),N.headOfPipeline=N.packetStream,N.packetStream.pipe(N.parseStream).pipe(N.elementaryStream).pipe(N.timestampRolloverStream),N.timestampRolloverStream.pipe(N.h264Stream),N.timestampRolloverStream.pipe(N.adtsStream),N.timestampRolloverStream.pipe(N.metadataStream).pipe(N.coalesceStream),N.h264Stream.pipe(N.captionStream).pipe(N.coalesceStream),N.elementaryStream.on("data",function(G){var X;if(G.type==="metadata"){for(X=G.tracks.length;X--;)!w&&G.tracks[X].type==="video"?(w=G.tracks[X],w.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!k&&G.tracks[X].type==="audio"&&(k=G.tracks[X],k.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);w&&!N.videoSegmentStream&&(N.coalesceStream.numberOfTracks++,N.videoSegmentStream=new Ed(w,g),N.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),N.videoSegmentStream.on("timelineStartInfo",function(ee){k&&!g.keepOriginalTimestamps&&(k.timelineStartInfo=ee,N.audioSegmentStream.setEarliestDts(ee.dts-_.baseMediaDecodeTime))}),N.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),N.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),N.videoSegmentStream.on("baseMediaDecodeTime",function(ee){k&&N.audioSegmentStream.setVideoBaseMediaDecodeTime(ee)}),N.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),N.h264Stream.pipe(N.videoSegmentStream).pipe(N.coalesceStream)),k&&!N.audioSegmentStream&&(N.coalesceStream.numberOfTracks++,N.audioSegmentStream=new bc(k,g),N.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),N.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),N.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),N.adtsStream.pipe(N.audioSegmentStream).pipe(N.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!k,hasVideo:!!w})}}),N.coalesceStream.on("data",this.trigger.bind(this,"data")),N.coalesceStream.on("id3Frame",function(G){G.dispatchType=N.metadataStream.dispatchType,_.trigger("id3Frame",G)}),N.coalesceStream.on("caption",this.trigger.bind(this,"caption")),N.coalesceStream.on("done",this.trigger.bind(this,"done")),mD(this,N)},this.setBaseMediaDecodeTime=function(N){var G=this.transmuxPipeline_;g.keepOriginalTimestamps||(this.baseMediaDecodeTime=N),k&&(k.timelineStartInfo.dts=void 0,k.timelineStartInfo.pts=void 0,Fi.clearDtsInfo(k),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),w&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,Fi.clearDtsInfo(w),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(N){k&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(N)},this.setRemux=function(N){var G=this.transmuxPipeline_;g.remux=N,G&&G.coalesceStream&&G.coalesceStream.setRemux(N)},this.alignGopsWith=function(N){w&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(N)},this.getLogTrigger_=function(N){var G=this;return function(X){X.stream=N,G.trigger("log",X)}},this.push=function(N){if(A){var G=Fce(N);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),A=!1}this.transmuxPipeline_.headOfPipeline.push(N)},this.flush=function(){A=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Qp.prototype=new qp;var zce={Transmuxer:Qp,VideoSegmentStream:Ed,AudioSegmentStream:bc,AUDIO_PROPERTIES:Pb,VIDEO_PROPERTIES:Fb,generateSegmentTimingInfo:Ub},$ce=function(g){return g>>>0},Vce=function(g){return("00"+g.toString(16)).slice(-2)},Yp={toUnsigned:$ce,toHexString:Vce},Hce=function(g){var _="";return _+=String.fromCharCode(g[0]),_+=String.fromCharCode(g[1]),_+=String.fromCharCode(g[2]),_+=String.fromCharCode(g[3]),_},yD=Hce,qce=Yp.toUnsigned,Wce=yD,bD=function(g,_){var A=[],w,k,N,G,X;if(!_.length)return null;for(w=0;w<g.byteLength;)k=qce(g[w]<<24|g[w+1]<<16|g[w+2]<<8|g[w+3]),N=Wce(g.subarray(w+4,w+8)),G=k>1?w+k:g.byteLength,N===_[0]&&(_.length===1?A.push(g.subarray(w+8,G)):(X=bD(g.subarray(w+8,G),_.slice(1)),X.length&&(A=A.concat(X)))),w=G;return A},vD=bD,Gce=Yp.toUnsigned,Qce=o.getUint64,Yce=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4))};return _.version===1?_.baseMediaDecodeTime=Qce(g.subarray(4)):_.baseMediaDecodeTime=Gce(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),_},_D=Yce,Kce=function(g){return{isLeading:(g[0]&12)>>>2,dependsOn:g[0]&3,isDependedOn:(g[1]&192)>>>6,hasRedundancy:(g[1]&48)>>>4,paddingValue:(g[1]&14)>>>1,isNonSyncSample:g[1]&1,degradationPriority:g[2]<<8|g[3]}},Xce=Kce,wD=Xce,Jce=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4)),samples:[]},A=new DataView(g.buffer,g.byteOffset,g.byteLength),w=_.flags[2]&1,k=_.flags[2]&4,N=_.flags[1]&1,G=_.flags[1]&2,X=_.flags[1]&4,ee=_.flags[1]&8,ie=A.getUint32(4),he=8,_e;for(w&&(_.dataOffset=A.getInt32(he),he+=4),k&&ie&&(_e={flags:wD(g.subarray(he,he+4))},he+=4,N&&(_e.duration=A.getUint32(he),he+=4),G&&(_e.size=A.getUint32(he),he+=4),ee&&(_.version===1?_e.compositionTimeOffset=A.getInt32(he):_e.compositionTimeOffset=A.getUint32(he),he+=4),_.samples.push(_e),ie--);ie--;)_e={},N&&(_e.duration=A.getUint32(he),he+=4),G&&(_e.size=A.getUint32(he),he+=4),X&&(_e.flags=wD(g.subarray(he,he+4)),he+=4),ee&&(_.version===1?_e.compositionTimeOffset=A.getInt32(he):_e.compositionTimeOffset=A.getUint32(he),he+=4),_.samples.push(_e);return _},AD=Jce,Zce=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),A={version:g[0],flags:new Uint8Array(g.subarray(1,4)),trackId:_.getUint32(4)},w=A.flags[2]&1,k=A.flags[2]&2,N=A.flags[2]&8,G=A.flags[2]&16,X=A.flags[2]&32,ee=A.flags[0]&65536,ie=A.flags[0]&131072,he;return he=8,w&&(he+=4,A.baseDataOffset=_.getUint32(12),he+=4),k&&(A.sampleDescriptionIndex=_.getUint32(he),he+=4),N&&(A.defaultSampleDuration=_.getUint32(he),he+=4),G&&(A.defaultSampleSize=_.getUint32(he),he+=4),X&&(A.defaultSampleFlags=_.getUint32(he)),ee&&(A.durationIsEmpty=!0),!w&&ie&&(A.baseDataOffsetIsMoof=!0),A},xD=Zce,Cd;typeof window<"u"?Cd=window:typeof t<"u"?Cd=t:typeof self<"u"?Cd=self:Cd={};var TD=Cd,eue=cn.discardEmulationPreventionBytes,tue=Up.CaptionStream,Sd=vD,rue=_D,nue=AD,iue=xD,ED=TD,oue=function(g,_){for(var A=g,w=0;w<_.length;w++){var k=_[w];if(A<k.size)return k;A-=k.size}return null},sue=function(g,_,A){var w=new DataView(g.buffer,g.byteOffset,g.byteLength),k={logs:[],seiNals:[]},N,G,X,ee;for(G=0;G+4<g.length;G+=X)if(X=w.getUint32(G),G+=4,!(X<=0))switch(g[G]&31){case 6:var ie=g.subarray(G+1,G+1+X),he=oue(G,_);if(N={nalUnitType:"sei_rbsp",size:X,data:ie,escapedRBSP:eue(ie),trackId:A},he)N.pts=he.pts,N.dts=he.dts,ee=he;else if(ee)N.pts=ee.pts,N.dts=ee.dts;else{k.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+A+". See mux.js#223."});break}k.seiNals.push(N);break}return k},aue=function(g,_,A){var w=_,k=A.defaultSampleDuration||0,N=A.defaultSampleSize||0,G=A.trackId,X=[];return g.forEach(function(ee){var ie=nue(ee),he=ie.samples;he.forEach(function(_e){_e.duration===void 0&&(_e.duration=k),_e.size===void 0&&(_e.size=N),_e.trackId=G,_e.dts=w,_e.compositionTimeOffset===void 0&&(_e.compositionTimeOffset=0),typeof w=="bigint"?(_e.pts=w+ED.BigInt(_e.compositionTimeOffset),w+=ED.BigInt(_e.duration)):(_e.pts=w+_e.compositionTimeOffset,w+=_e.duration)}),X=X.concat(he)}),X},lue=function(g,_){var A=Sd(g,["moof","traf"]),w=Sd(g,["mdat"]),k={},N=[];return w.forEach(function(G,X){var ee=A[X];N.push({mdat:G,traf:ee})}),N.forEach(function(G){var X=G.mdat,ee=G.traf,ie=Sd(ee,["tfhd"]),he=iue(ie[0]),_e=he.trackId,$e=Sd(ee,["tfdt"]),ke=$e.length>0?rue($e[0]).baseMediaDecodeTime:0,it=Sd(ee,["trun"]),ct,Ir;_===_e&&it.length>0&&(ct=aue(it,ke,he),Ir=sue(X,ct,_e),k[_e]||(k[_e]={seiNals:[],logs:[]}),k[_e].seiNals=k[_e].seiNals.concat(Ir.seiNals),k[_e].logs=k[_e].logs.concat(Ir.logs))}),k},cue=function(g,_,A){var w;if(_===null)return null;w=lue(g,_);var k=w[_]||{};return{seiNals:k.seiNals,logs:k.logs,timescale:A}},uue=function(){var g=!1,_,A,w,k,N,G;this.isInitialized=function(){return g},this.init=function(X){_=new tue,g=!0,G=X?X.isPartial:!1,_.on("data",function(ee){ee.startTime=ee.startPts/k,ee.endTime=ee.endPts/k,N.captions.push(ee),N.captionStreams[ee.stream]=!0}),_.on("log",function(ee){N.logs.push(ee)})},this.isNewInit=function(X,ee){return X&&X.length===0||ee&&typeof ee=="object"&&Object.keys(ee).length===0?!1:w!==X[0]||k!==ee[w]},this.parse=function(X,ee,ie){var he;if(this.isInitialized()){if(!ee||!ie)return null;if(this.isNewInit(ee,ie))w=ee[0],k=ie[w];else if(w===null||!k)return A.push(X),null}else return null;for(;A.length>0;){var _e=A.shift();this.parse(_e,ee,ie)}return he=cue(X,w,k),he&&he.logs&&(N.logs=N.logs.concat(he.logs)),he===null||!he.seiNals?N.logs.length?{logs:N.logs,captions:[],captionStreams:[]}:null:(this.pushNals(he.seiNals),this.flushStream(),N)},this.pushNals=function(X){if(!this.isInitialized()||!X||X.length===0)return null;X.forEach(function(ee){_.push(ee)})},this.flushStream=function(){if(!this.isInitialized())return null;G?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){N.captions=[],N.captionStreams={},N.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){A=[],w=null,k=null,N?this.clearParsedCaptions():N={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},due=uue,fue=function(g){for(var _=0,A=String.fromCharCode(g[_]),w="";A!=="\0";)w+=A,_++,A=String.fromCharCode(g[_]);return w+=A,w},hue={uint8ToCString:fue},Kp=hue.uint8ToCString,pue=o.getUint64,mue=function(g){var _=4,A=g[0],w,k,N,G,X,ee,ie,he;if(A===0){w=Kp(g.subarray(_)),_+=w.length,k=Kp(g.subarray(_)),_+=k.length;var _e=new DataView(g.buffer);N=_e.getUint32(_),_+=4,X=_e.getUint32(_),_+=4,ee=_e.getUint32(_),_+=4,ie=_e.getUint32(_),_+=4}else if(A===1){var _e=new DataView(g.buffer);N=_e.getUint32(_),_+=4,G=pue(g.subarray(_)),_+=8,ee=_e.getUint32(_),_+=4,ie=_e.getUint32(_),_+=4,w=Kp(g.subarray(_)),_+=w.length,k=Kp(g.subarray(_)),_+=k.length}he=new Uint8Array(g.subarray(_,g.byteLength));var $e={scheme_id_uri:w,value:k,timescale:N||1,presentation_time:G,presentation_time_delta:X,event_duration:ee,id:ie,message_data:he};return yue(A,$e)?$e:void 0},gue=function(g,_,A,w){return g||g===0?g/_:w+A/_},yue=function(g,_){var A=_.scheme_id_uri!=="\0",w=g===0&&CD(_.presentation_time_delta)&&A,k=g===1&&CD(_.presentation_time)&&A;return!(g>1)&&w||k},CD=function(g){return g!==void 0||g!==null},bue={parseEmsgBox:mue,scaleTime:gue},Xp=Yp.toUnsigned,kd=Yp.toHexString,_r=vD,vc=yD,jb=bue,vue=xD,_ue=AD,wue=_D,Aue=o.getUint64,SD,kD,ID,DD,MD,zb,ND,$b=TD,xue=zo.parseId3Frames;SD=function(g){var _={},A=_r(g,["moov","trak"]);return A.reduce(function(w,k){var N,G,X,ee,ie;return N=_r(k,["tkhd"])[0],!N||(G=N[0],X=G===0?12:20,ee=Xp(N[X]<<24|N[X+1]<<16|N[X+2]<<8|N[X+3]),ie=_r(k,["mdia","mdhd"])[0],!ie)?null:(G=ie[0],X=G===0?12:20,w[ee]=Xp(ie[X]<<24|ie[X+1]<<16|ie[X+2]<<8|ie[X+3]),w)},_)},kD=function(g,_){var A;A=_r(_,["moof","traf"]);var w=A.reduce(function(k,N){var G=_r(N,["tfhd"])[0],X=Xp(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),ee=g[X]||9e4,ie=_r(N,["tfdt"])[0],he=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),_e;ie[0]===1?_e=Aue(ie.subarray(4,12)):_e=he.getUint32(4);let $e;return typeof _e=="bigint"?$e=_e/$b.BigInt(ee):typeof _e=="number"&&!isNaN(_e)&&($e=_e/ee),$e<Number.MAX_SAFE_INTEGER&&($e=Number($e)),$e<k&&(k=$e),k},1/0);return typeof w=="bigint"||isFinite(w)?w:0},ID=function(g,_){var A=_r(_,["moof","traf"]),w=0,k=0,N;if(A&&A.length){var G=_r(A[0],["tfhd"])[0],X=_r(A[0],["trun"])[0],ee=_r(A[0],["tfdt"])[0];if(G){var ie=vue(G);N=ie.trackId}if(ee){var he=wue(ee);w=he.baseMediaDecodeTime}if(X){var _e=_ue(X);_e.samples&&_e.samples.length&&(k=_e.samples[0].compositionTimeOffset||0)}}var $e=g[N]||9e4;typeof w=="bigint"&&(k=$b.BigInt(k),$e=$b.BigInt($e));var ke=(w+k)/$e;return typeof ke=="bigint"&&ke<Number.MAX_SAFE_INTEGER&&(ke=Number(ke)),ke},DD=function(g){var _=_r(g,["moov","trak"]),A=[];return _.forEach(function(w){var k=_r(w,["mdia","hdlr"]),N=_r(w,["tkhd"]);k.forEach(function(G,X){var ee=vc(G.subarray(8,12)),ie=N[X],he,_e,$e;ee==="vide"&&(he=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),_e=he.getUint8(0),$e=_e===0?he.getUint32(12):he.getUint32(20),A.push($e))})}),A},zb=function(g){var _=g[0],A=_===0?12:20;return Xp(g[A]<<24|g[A+1]<<16|g[A+2]<<8|g[A+3])},MD=function(g){var _=_r(g,["moov","trak"]),A=[];return _.forEach(function(w){var k={},N=_r(w,["tkhd"])[0],G,X;N&&(G=new DataView(N.buffer,N.byteOffset,N.byteLength),X=G.getUint8(0),k.id=X===0?G.getUint32(12):G.getUint32(20));var ee=_r(w,["mdia","hdlr"])[0];if(ee){var ie=vc(ee.subarray(8,12));ie==="vide"?k.type="video":ie==="soun"?k.type="audio":k.type=ie}var he=_r(w,["mdia","minf","stbl","stsd"])[0];if(he){var _e=he.subarray(8);k.codec=vc(_e.subarray(4,8));var $e=_r(_e,[k.codec])[0],ke,it;$e&&(/^[asm]vc[1-9]$/i.test(k.codec)?(ke=$e.subarray(78),it=vc(ke.subarray(4,8)),it==="avcC"&&ke.length>11?(k.codec+=".",k.codec+=kd(ke[9]),k.codec+=kd(ke[10]),k.codec+=kd(ke[11])):k.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(k.codec)?(ke=$e.subarray(28),it=vc(ke.subarray(4,8)),it==="esds"&&ke.length>20&&ke[19]!==0?(k.codec+="."+kd(ke[19]),k.codec+="."+kd(ke[20]>>>2&63).replace(/^0/,"")):k.codec="mp4a.40.2"):k.codec=k.codec.toLowerCase())}var ct=_r(w,["mdia","mdhd"])[0];ct&&(k.timescale=zb(ct)),A.push(k)}),A},ND=function(g,_=0){var A=_r(g,["emsg"]);return A.map(w=>{var k=jb.parseEmsgBox(new Uint8Array(w)),N=xue(k.message_data);return{cueTime:jb.scaleTime(k.presentation_time,k.timescale,k.presentation_time_delta,_),duration:jb.scaleTime(k.event_duration,k.timescale),frames:N}})};var Vb={findBox:_r,parseType:vc,timescale:SD,startTime:kD,compositionStartTime:ID,videoTrackIds:DD,tracks:MD,getTimescaleFromMediaHeader:zb,getEmsgID3:ND},Hb=hc,OD=function(g){var _=g[1]&31;return _<<=8,_|=g[2],_},Jp=function(g){return!!(g[1]&64)},Zp=function(g){var _=0;return(g[3]&48)>>>4>1&&(_+=g[4]+1),_},Tue=function(g,_){var A=OD(g);return A===0?"pat":A===_?"pmt":_?"pes":null},Eue=function(g){var _=Jp(g),A=4+Zp(g);return _&&(A+=g[A]+1),(g[A+10]&31)<<8|g[A+11]},Cue=function(g){var _={},A=Jp(g),w=4+Zp(g);if(A&&(w+=g[w]+1),!!(g[w+5]&1)){var k,N,G;k=(g[w+1]&15)<<8|g[w+2],N=3+k-4,G=(g[w+10]&15)<<8|g[w+11];for(var X=12+G;X<N;){var ee=w+X;_[(g[ee+1]&31)<<8|g[ee+2]]=g[ee],X+=((g[ee+3]&15)<<8|g[ee+4])+5}return _}},Sue=function(g,_){var A=OD(g),w=_[A];switch(w){case Hb.H264_STREAM_TYPE:return"video";case Hb.ADTS_STREAM_TYPE:return"audio";case Hb.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},kue=function(g){var _=Jp(g);if(!_)return null;var A=4+Zp(g);if(A>=g.byteLength)return null;var w=null,k;return k=g[A+7],k&192&&(w={},w.pts=(g[A+9]&14)<<27|(g[A+10]&255)<<20|(g[A+11]&254)<<12|(g[A+12]&255)<<5|(g[A+13]&254)>>>3,w.pts*=4,w.pts+=(g[A+13]&6)>>>1,w.dts=w.pts,k&64&&(w.dts=(g[A+14]&14)<<27|(g[A+15]&255)<<20|(g[A+16]&254)<<12|(g[A+17]&255)<<5|(g[A+18]&254)>>>3,w.dts*=4,w.dts+=(g[A+18]&6)>>>1)),w},qb=function(g){switch(g){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Iue=function(g){for(var _=4+Zp(g),A=g.subarray(_),w=0,k=0,N=!1,G;k<A.byteLength-3;k++)if(A[k+2]===1){w=k+5;break}for(;w<A.byteLength;)switch(A[w]){case 0:if(A[w-1]!==0){w+=2;break}else if(A[w-2]!==0){w++;break}k+3!==w-2&&(G=qb(A[k+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0));do w++;while(A[w]!==1&&w<A.length);k=w-2,w+=3;break;case 1:if(A[w-1]!==0||A[w-2]!==0){w+=3;break}G=qb(A[k+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0),k=w-2,w+=3;break;default:w+=3;break}return A=A.subarray(k),w-=k,k=0,A&&A.byteLength>3&&(G=qb(A[k+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0)),N},Due={parseType:Tue,parsePat:Eue,parsePmt:Cue,parsePayloadUnitStartIndicator:Jp,parsePesType:Sue,parsePesTime:kue,videoPacketContainsKeyFrame:Iue},LD=hc,_c=Nt.handleRollover,$t={};$t.ts=Due,$t.aac=qt;var Na=Ke.ONE_SECOND_IN_TS,fn=188,go=71,Mue=function(g,_){for(var A=0,w=fn,k,N;w<g.byteLength;){if(g[A]===go&&g[w]===go){switch(k=g.subarray(A,w),N=$t.ts.parseType(k,_.pid),N){case"pat":_.pid=$t.ts.parsePat(k);break;case"pmt":var G=$t.ts.parsePmt(k);_.table=_.table||{},Object.keys(G).forEach(function(X){_.table[X]=G[X]});break}A+=fn,w+=fn;continue}A++,w++}},BD=function(g,_,A){for(var w=0,k=fn,N,G,X,ee,ie,he=!1;k<=g.byteLength;){if(g[w]===go&&(g[k]===go||k===g.byteLength)){switch(N=g.subarray(w,k),G=$t.ts.parseType(N,_.pid),G){case"pes":X=$t.ts.parsePesType(N,_.table),ee=$t.ts.parsePayloadUnitStartIndicator(N),X==="audio"&&ee&&(ie=$t.ts.parsePesTime(N),ie&&(ie.type="audio",A.audio.push(ie),he=!0));break}if(he)break;w+=fn,k+=fn;continue}w++,k++}for(k=g.byteLength,w=k-fn,he=!1;w>=0;){if(g[w]===go&&(g[k]===go||k===g.byteLength)){switch(N=g.subarray(w,k),G=$t.ts.parseType(N,_.pid),G){case"pes":X=$t.ts.parsePesType(N,_.table),ee=$t.ts.parsePayloadUnitStartIndicator(N),X==="audio"&&ee&&(ie=$t.ts.parsePesTime(N),ie&&(ie.type="audio",A.audio.push(ie),he=!0));break}if(he)break;w-=fn,k-=fn;continue}w--,k--}},Nue=function(g,_,A){for(var w=0,k=fn,N,G,X,ee,ie,he,_e,$e,ke=!1,it={data:[],size:0};k<g.byteLength;){if(g[w]===go&&g[k]===go){switch(N=g.subarray(w,k),G=$t.ts.parseType(N,_.pid),G){case"pes":if(X=$t.ts.parsePesType(N,_.table),ee=$t.ts.parsePayloadUnitStartIndicator(N),X==="video"&&(ee&&!ke&&(ie=$t.ts.parsePesTime(N),ie&&(ie.type="video",A.video.push(ie),ke=!0)),!A.firstKeyFrame)){if(ee&&it.size!==0){for(he=new Uint8Array(it.size),_e=0;it.data.length;)$e=it.data.shift(),he.set($e,_e),_e+=$e.byteLength;if($t.ts.videoPacketContainsKeyFrame(he)){var ct=$t.ts.parsePesTime(he);ct?(A.firstKeyFrame=ct,A.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}it.size=0}it.data.push(N),it.size+=N.byteLength}break}if(ke&&A.firstKeyFrame)break;w+=fn,k+=fn;continue}w++,k++}for(k=g.byteLength,w=k-fn,ke=!1;w>=0;){if(g[w]===go&&g[k]===go){switch(N=g.subarray(w,k),G=$t.ts.parseType(N,_.pid),G){case"pes":X=$t.ts.parsePesType(N,_.table),ee=$t.ts.parsePayloadUnitStartIndicator(N),X==="video"&&ee&&(ie=$t.ts.parsePesTime(N),ie&&(ie.type="video",A.video.push(ie),ke=!0));break}if(ke)break;w-=fn,k-=fn;continue}w--,k--}},Oue=function(g,_){if(g.audio&&g.audio.length){var A=_;(typeof A>"u"||isNaN(A))&&(A=g.audio[0].dts),g.audio.forEach(function(N){N.dts=_c(N.dts,A),N.pts=_c(N.pts,A),N.dtsTime=N.dts/Na,N.ptsTime=N.pts/Na})}if(g.video&&g.video.length){var w=_;if((typeof w>"u"||isNaN(w))&&(w=g.video[0].dts),g.video.forEach(function(N){N.dts=_c(N.dts,w),N.pts=_c(N.pts,w),N.dtsTime=N.dts/Na,N.ptsTime=N.pts/Na}),g.firstKeyFrame){var k=g.firstKeyFrame;k.dts=_c(k.dts,w),k.pts=_c(k.pts,w),k.dtsTime=k.dts/Na,k.ptsTime=k.pts/Na}}},Lue=function(g){for(var _=!1,A=0,w=null,k=null,N=0,G=0,X;g.length-G>=3;){var ee=$t.aac.parseType(g,G);switch(ee){case"timed-metadata":if(g.length-G<10){_=!0;break}if(N=$t.aac.parseId3TagSize(g,G),N>g.length){_=!0;break}k===null&&(X=g.subarray(G,G+N),k=$t.aac.parseAacTimestamp(X)),G+=N;break;case"audio":if(g.length-G<7){_=!0;break}if(N=$t.aac.parseAdtsSize(g,G),N>g.length){_=!0;break}w===null&&(X=g.subarray(G,G+N),w=$t.aac.parseSampleRate(X)),A++,G+=N;break;default:G++;break}if(_)return null}if(w===null||k===null)return null;var ie=Na/w,he={audio:[{type:"audio",dts:k,pts:k},{type:"audio",dts:k+A*1024*ie,pts:k+A*1024*ie}]};return he},Bue=function(g){var _={pid:null,table:null},A={};Mue(g,_);for(var w in _.table)if(_.table.hasOwnProperty(w)){var k=_.table[w];switch(k){case LD.H264_STREAM_TYPE:A.video=[],Nue(g,_,A),A.video.length===0&&delete A.video;break;case LD.ADTS_STREAM_TYPE:A.audio=[],BD(g,_,A),A.audio.length===0&&delete A.audio;break}}return A},Rue=function(g,_){var A=$t.aac.isLikelyAacData(g),w;return A?w=Lue(g):w=Bue(g),!w||!w.audio&&!w.video?null:(Oue(w,_),w)},Pue={inspect:Rue,parseAudioPes_:BD};const Fue=function(g,_){_.on("data",function(A){const w=A.initSegment;A.initSegment={data:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength};const k=A.data;A.data=k.buffer,g.postMessage({action:"data",segment:A,byteOffset:k.byteOffset,byteLength:k.byteLength},[A.data])}),_.on("done",function(A){g.postMessage({action:"done"})}),_.on("gopInfo",function(A){g.postMessage({action:"gopInfo",gopInfo:A})}),_.on("videoSegmentTimingInfo",function(A){const w={start:{decode:Ke.videoTsToSeconds(A.start.dts),presentation:Ke.videoTsToSeconds(A.start.pts)},end:{decode:Ke.videoTsToSeconds(A.end.dts),presentation:Ke.videoTsToSeconds(A.end.pts)},baseMediaDecodeTime:Ke.videoTsToSeconds(A.baseMediaDecodeTime)};A.prependedContentDuration&&(w.prependedContentDuration=Ke.videoTsToSeconds(A.prependedContentDuration)),g.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:w})}),_.on("audioSegmentTimingInfo",function(A){const w={start:{decode:Ke.videoTsToSeconds(A.start.dts),presentation:Ke.videoTsToSeconds(A.start.pts)},end:{decode:Ke.videoTsToSeconds(A.end.dts),presentation:Ke.videoTsToSeconds(A.end.pts)},baseMediaDecodeTime:Ke.videoTsToSeconds(A.baseMediaDecodeTime)};A.prependedContentDuration&&(w.prependedContentDuration=Ke.videoTsToSeconds(A.prependedContentDuration)),g.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:w})}),_.on("id3Frame",function(A){g.postMessage({action:"id3Frame",id3Frame:A})}),_.on("caption",function(A){g.postMessage({action:"caption",caption:A})}),_.on("trackinfo",function(A){g.postMessage({action:"trackinfo",trackInfo:A})}),_.on("audioTimingInfo",function(A){g.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ke.videoTsToSeconds(A.start),end:Ke.videoTsToSeconds(A.end)}})}),_.on("videoTimingInfo",function(A){g.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ke.videoTsToSeconds(A.start),end:Ke.videoTsToSeconds(A.end)}})}),_.on("log",function(A){g.postMessage({action:"log",log:A})})};class RD{constructor(_,A){this.options=A||{},this.self=_,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new zce.Transmuxer(this.options),Fue(this.self,this.transmuxer)}pushMp4Captions(_){this.captionParser||(this.captionParser=new due,this.captionParser.init());const A=new Uint8Array(_.data,_.byteOffset,_.byteLength),w=this.captionParser.parse(A,_.trackIds,_.timescales);this.self.postMessage({action:"mp4Captions",captions:w&&w.captions||[],logs:w&&w.logs||[],data:A.buffer},[A.buffer])}probeMp4StartTime({timescales:_,data:A}){const w=Vb.startTime(_,A);this.self.postMessage({action:"probeMp4StartTime",startTime:w,data:A},[A.buffer])}probeMp4Tracks({data:_}){const A=Vb.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:A,data:_},[_.buffer])}probeEmsgID3({data:_,offset:A}){const w=Vb.getEmsgID3(_,A);this.self.postMessage({action:"probeEmsgID3",id3Frames:w,emsgData:_},[_.buffer])}probeTs({data:_,baseStartTime:A}){const w=typeof A=="number"&&!isNaN(A)?A*Ke.ONE_SECOND_IN_TS:void 0,k=Pue.inspect(_,w);let N=null;k&&(N={hasVideo:k.video&&k.video.length===2||!1,hasAudio:k.audio&&k.audio.length===2||!1},N.hasVideo&&(N.videoStart=k.video[0].ptsTime),N.hasAudio&&(N.audioStart=k.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:N,data:_},[_.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(_){const A=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.transmuxer.push(A)}reset(){this.transmuxer.reset()}setTimestampOffset(_){const A=_.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ke.secondsToVideoTs(A)))}setAudioAppendStart(_){this.transmuxer.setAudioAppendStart(Math.ceil(Ke.secondsToVideoTs(_.appendStart)))}setRemux(_){this.transmuxer.setRemux(_.remux)}flush(_){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(_){this.transmuxer.alignGopsWith(_.gopsToAlignWith.slice())}}self.onmessage=function(g){if(g.data.action==="init"&&g.data.options){this.messageHandlers=new RD(self,g.data.options);return}this.messageHandlers||(this.messageHandlers=new RD(self)),g.data&&g.data.action&&g.data.action!=="init"&&this.messageHandlers[g.data.action]&&this.messageHandlers[g.data.action](g.data)}}));var UF=uT(FF);const jF=(t,e,r)=>{const{type:n,initSegment:i,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:d}=t.data.segment;e.buffer.push({captions:o,captionStreams:s,metadata:a});const f=t.data.segment.boxes||{data:t.data.segment.data},c={type:n,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(c.videoFrameDtsTime=l),typeof d<"u"&&(c.videoFramePtsTime=d),r(c)},zF=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},$F=(t,e)=>{e.gopInfo=t.data.gopInfo},hT=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:c,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:y,onTransmuxerLog:b,isEndOfTimeline:v}=t,x={buffer:[]};let S=v;const I=M=>{e.currentTransmux===t&&(M.data.action==="data"&&jF(M,x,s),M.data.action==="trackinfo"&&a(M.data.trackInfo),M.data.action==="gopInfo"&&$F(M,x),M.data.action==="audioTimingInfo"&&l(M.data.audioTimingInfo),M.data.action==="videoTimingInfo"&&d(M.data.videoTimingInfo),M.data.action==="videoSegmentTimingInfo"&&f(M.data.videoSegmentTimingInfo),M.data.action==="audioSegmentTimingInfo"&&c(M.data.audioSegmentTimingInfo),M.data.action==="id3Frame"&&h([M.data.id3Frame],M.data.id3Frame.dispatchType),M.data.action==="caption"&&p(M.data.caption),M.data.action==="endedtimeline"&&(S=!1,y()),M.data.action==="log"&&b(M.data.log),M.data.type==="transmuxed"&&(S||(e.onmessage=null,zF({transmuxedData:x,callback:m}),pT(e))))};if(e.onmessage=I,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof o<"u"&&e.postMessage({action:"setRemux",remux:o}),r.byteLength){const M=r instanceof ArrayBuffer?r:r.buffer,E=r instanceof ArrayBuffer?0:r.byteOffset;e.postMessage({action:"push",data:M,byteOffset:E,byteLength:r.byteLength},[M])}v&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},pT=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():hT(t.currentTransmux))},mT=(t,e)=>{t.postMessage({action:e}),pT(t)},gT=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,mT(e,t);return}e.transmuxQueue.push(mT.bind(null,e,t))},VF=t=>{gT("reset",t)},HF=t=>{gT("endTimeline",t)},yT=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,hT(t);return}t.transmuxer.transmuxQueue.push(t)};var F0={reset:VF,endTimeline:HF,transmux:yT,createTransmuxer:t=>{const e=new UF;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e}};const vu=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=Ai({},t,{endAction:null,transmuxer:null,callback:null}),o=s=>{s.data.action===r&&(e.removeEventListener("message",o),s.data.data&&(s.data.data=new Uint8Array(s.data.data,t.byteOffset||0,t.byteLength||s.data.data.byteLength),t.data&&(t.data=s.data.data)),n(s.data))};if(e.addEventListener("message",o),t.data){const s=t.data instanceof ArrayBuffer;i.byteOffset=s?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const a=[s?t.data:t.data.buffer];e.postMessage(i,a)}else e.postMessage(i)},Ji={FAILURE:2,TIMEOUT:-101,ABORTED:-102},U0=t=>{t.forEach(e=>{e.abort()})},qF=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),WF=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},j0=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ji.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Ji.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ji.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Ji.FAILURE,xhr:e}:null,bT=(t,e,r)=>(n,i)=>{const o=i.response,s=j0(n,i);if(s)return r(s,t);if(o.byteLength!==16)return r({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Ji.FAILURE,xhr:i},t);const a=new DataView(o),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=l;return r(null,t)},vT=(t,e)=>{const r=Ag(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri,i=r||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:Ji.FAILURE,metadata:{errorType:ye.Error.UnsupportedMediaInitialization,mediaType:i}})}vu({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(o){t.map.tracks=t.map.tracks||{},!t.map.tracks[o.type]&&(t.map.tracks[o.type]=o,typeof o.id=="number"&&o.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[o.id]=o.timescale))}),e(null))})},GF=({segment:t,finishProcessingFn:e})=>(r,n)=>{const i=j0(r,n);if(i)return e(i,t);const o=new Uint8Array(n.response);if(t.map.key)return t.map.encryptedBytes=o,e(null,t);t.map.bytes=o,vT(t,function(s){if(s)return s.xhr=n,s.status=n.status,e(s,t);e(null,t)})},QF=({segment:t,finishProcessingFn:e,responseType:r})=>(n,i)=>{const o=j0(n,i);if(o)return e(o,t);const s=r==="arraybuffer"||!i.responseText?i.response:RF(i.responseText.substring(t.lastReachedChar||0));return t.stats=qF(i),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),e(null,t)},YF=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})=>{const p=t.map&&t.map.tracks||{},m=!!(p.audio&&p.video);let y=n.bind(null,t,"audio","start");const b=n.bind(null,t,"audio","end");let v=n.bind(null,t,"video","start");const x=n.bind(null,t,"video","end"),S=()=>yT({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:I=>{I.type=I.type==="combined"?"video":I.type,f(t,I)},onTrackInfo:I=>{r&&(m&&(I.isMuxed=!0),r(t,I))},onAudioTimingInfo:I=>{y&&typeof I.start<"u"&&(y(I.start),y=null),b&&typeof I.end<"u"&&b(I.end)},onVideoTimingInfo:I=>{v&&typeof I.start<"u"&&(v(I.start),v=null),x&&typeof I.end<"u"&&x(I.end)},onVideoSegmentTimingInfo:I=>{i(I)},onAudioSegmentTimingInfo:I=>{o(I)},onId3:(I,M)=>{s(t,I,M)},onCaptions:I=>{a(t,[I])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:h,onDone:I=>{c&&(I.type=I.type==="combined"?"video":I.type,c(null,t,I))}});vu({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:I=>{t.bytes=e=I.data;const M=I.result;M&&(r(t,{hasAudio:M.hasAudio,hasVideo:M.hasVideo,isMuxed:m}),r=null),S()}})},_T=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})=>{let p=new Uint8Array(e);if(kR(p)){t.isFmp4=!0;const{tracks:m}=t.map,y={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&m.audio.codec!=="enca"&&(y.audioCodec=m.audio.codec),m.video&&m.video.codec&&m.video.codec!=="encv"&&(y.videoCodec=m.video.codec),m.video&&m.audio&&(y.isMuxed=!0),r(t,y);const b=(v,x)=>{f(t,{data:p,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),x&&x.length&&s(t,x),v&&v.length&&a(t,v),c(null,t,{})};vu({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:({data:v,startTime:x})=>{e=v.buffer,t.bytes=p=v,y.hasAudio&&!y.isMuxed&&n(t,"audio","start",x),y.hasVideo&&n(t,"video","start",x),vu({action:"probeEmsgID3",data:p,transmuxer:t.transmuxer,offset:x,callback:({emsgData:S,id3Frames:I})=>{if(e=S.buffer,t.bytes=p=S,!m.video||!S.byteLength||!t.transmuxer){b(void 0,I);return}vu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callback:M=>{e=M.data.buffer,t.bytes=p=M.data,M.logs.forEach(function(E){h(Rt(E,{stream:"mp4CaptionParser"}))}),b(M.captions,I)}})}})}});return}if(!t.transmuxer){c(null,t,{});return}if(typeof t.container>"u"&&(t.container=Ag(p)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),c(null,t,{});return}YF({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})},wT=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n},i){const o=a=>{if(a.data.source===t){n.removeEventListener("message",o);const l=a.data.decrypted;i(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};n.addEventListener("message",o);let s;e.bytes.slice?s=e.bytes.slice():s=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(rT({source:t,encrypted:r,key:s,iv:e.iv}),[r.buffer,s.buffer])},KF=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})=>{wT({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},p=>{e.bytes=p,_T({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})})},XF=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})=>{let p=0,m=!1;return(y,b)=>{if(!m){if(y)return m=!0,U0(t),c(y,b);if(p+=1,p===t.length){const v=function(){if(b.encryptedBytes)return KF({decryptionWorker:e,segment:b,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h});_T({segment:b,bytes:b.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h})};if(b.endOfAllRequests=Date.now(),b.map&&b.map.encryptedBytes&&!b.map.bytes)return wT({decryptionWorker:e,id:b.requestId+"-init",encryptedBytes:b.map.encryptedBytes,key:b.map.key},x=>{b.map.bytes=x,vT(b,S=>{if(S)return U0(t),c(S,b);v()})});v()}}}},JF=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},ZF=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f})=>c=>{if(!c.target.aborted)return t.stats=Rt(t.stats,WF(c)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(c,t)},e9=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:y,onTransmuxerLog:b})=>{const v=[],x=XF({activeXhrs:v,decryptionWorker:r,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:y,onTransmuxerLog:b});if(n.key&&!n.key.bytes){const L=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&L.push(n.map.key);const D=Rt(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),C=bT(n,L,x),R=t(D,C);v.push(R)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const $=Rt(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),U=bT(n,[n.map.key],x),F=t($,U);v.push(F)}const D=Rt(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:B0(n.map),requestType:"segment-media-initialization"}),C=GF({segment:n,finishProcessingFn:x}),R=t(D,C);v.push(R)}const S=Rt(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:B0(n),requestType:"segment"}),I=QF({segment:n,finishProcessingFn:x,responseType:S.responseType}),M=t(S,I);M.addEventListener("progress",ZF({segment:n,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),v.push(M);const E={};return v.forEach(L=>{L.addEventListener("loadend",JF({loadendState:E,abortFn:i}))}),()=>U0(v)},t9=Jn("CodecUtils"),r9=function(t){const e=t.attributes||{};if(e.CODECS)return $i(e.CODECS)},AT=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},n9=(t,e)=>{if(!AT(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},oh=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push(N_(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){t9(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},xT=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},_u=function(t,e){const r=e.attributes||{},n=oh(r9(e)||[]);if(AT(t,e)&&!n.audio&&!n9(t,e)){const i=oh(k8(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},sh=Jn("PlaylistSelector"),TT=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},ah=function(t,e){if(!t)return"";const r=ne.getComputedStyle(t);return r?r[e]:""},Cl=function(t,e){const r=t.slice();t.sort(function(n,i){const o=e(n,i);return o===0?r.indexOf(n)-r.indexOf(i):o})},z0=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||ne.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||ne.Number.MAX_VALUE,r-n},i9=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||ne.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||ne.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let ET=function(t,e,r,n,i,o){if(!t)return;const s={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let a=t.playlists;An.isAudioOnly(t)&&(a=o.getAudioTrackPlaylists_(),s.audioOnly=!0);let l=a.map(M=>{let E;const L=M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.width,D=M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.height;return E=M.attributes&&M.attributes.BANDWIDTH,E=E||ne.Number.MAX_VALUE,{bandwidth:E,width:L,height:D,playlist:M}});Cl(l,(M,E)=>M.bandwidth-E.bandwidth),l=l.filter(M=>!An.isIncompatible(M.playlist));let d=l.filter(M=>An.isEnabled(M.playlist));d.length||(d=l.filter(M=>!An.isDisabled(M.playlist)));const f=d.filter(M=>M.bandwidth*Lr.BANDWIDTH_VARIANCE<e);let c=f[f.length-1];const h=f.filter(M=>M.bandwidth===c.bandwidth)[0];if(i===!1){const M=h||d[0]||l[0];if(M&&M.playlist){let E="sortedPlaylistReps";return h&&(E="bandwidthBestRep"),d[0]&&(E="enabledPlaylistReps"),sh(`choosing ${TT(M)} using ${E} with options`,s),M.playlist}return sh("could not choose a playlist with options",s),null}const p=f.filter(M=>M.width&&M.height);Cl(p,(M,E)=>M.width-E.width);const m=p.filter(M=>M.width===r&&M.height===n);c=m[m.length-1];const y=m.filter(M=>M.bandwidth===c.bandwidth)[0];let b,v,x;y||(b=p.filter(M=>M.width>r||M.height>n),v=b.filter(M=>M.width===b[0].width&&M.height===b[0].height),c=v[v.length-1],x=v.filter(M=>M.bandwidth===c.bandwidth)[0]);let S;if(o.leastPixelDiffSelector){const M=p.map(E=>(E.pixelDiff=Math.abs(E.width-r)+Math.abs(E.height-n),E));Cl(M,(E,L)=>E.pixelDiff===L.pixelDiff?L.bandwidth-E.bandwidth:E.pixelDiff-L.pixelDiff),S=M[0]}const I=S||x||y||h||d[0]||l[0];if(I&&I.playlist){let M="sortedPlaylistReps";return S?M="leastPixelDiffRep":x?M="resolutionPlusOneRep":y?M="resolutionBestRep":h?M="bandwidthBestRep":d[0]&&(M="enabledPlaylistReps"),sh(`choosing ${TT(I)} using ${M} with options`,s),I.playlist}return sh("could not choose a playlist with options",s),null};const CT=function(){let t=this.useDevicePixelRatio&&ne.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),ET(this.playlists.main,this.systemBandwidth,parseInt(ah(this.tech_.el(),"width"),10)*t,parseInt(ah(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},o9=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&ne.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),ET(this.playlists.main,e,parseInt(ah(this.tech_.el(),"width"),10)*n,parseInt(ah(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},s9=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=t,d=e.playlists.filter(m=>!An.isIncompatible(m));let f=d.filter(An.isEnabled);f.length||(f=d.filter(m=>!An.isDisabled(m)));const h=f.filter(An.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const b=l.getSyncPoint(m,i,a,r)?1:2,x=An.estimateSegmentRequestTime(o,n,m)*b-s;return{playlist:m,rebufferingImpact:x}}),p=h.filter(m=>m.rebufferingImpact<=0);return Cl(p,(m,y)=>z0(y.playlist,m.playlist)),p.length?p[0]:(Cl(h,(m,y)=>m.rebufferingImpact-y.rebufferingImpact),h[0]||null)},a9=function(){const t=this.playlists.main.playlists.filter(An.isEnabled);return Cl(t,(r,n)=>z0(r,n)),t.filter(r=>!!_u(this.playlists.main,r).video)[0]||null},l9=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r};function ST(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const c9=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const o=e.options_.vhs&&e.options_.vhs.captionServices||{};let s=r,a=r,l=!1;const d=o[n];d&&(s=d.label,a=d.language,l=d.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:s,language:a},!1).track}}},u9=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=ne.WebKitDataCue||ne.VTTCue;e.forEach(i=>{const o=i.stream;i.content?i.content.forEach(s=>{const a=new n(i.startTime+r,i.endTime+r,s.text);a.line=s.line,a.align="left",a.position=s.position,a.positionAlign="line-left",t[o].addCue(a)}):t[o].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},d9=function(t){Object.defineProperties(t.frame,{id:{get(){return ye.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ye.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ye.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},f9=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=ne.WebKitDataCue||ne.VTTCue,o=t.metadataTrack_;if(!o||(e.forEach(f=>{const c=f.cueTime+r;typeof c!="number"||ne.isNaN(c)||c<0||!(c<1/0)||!f.frames||!f.frames.length||f.frames.forEach(h=>{const p=new i(c,c,h.value||h.url||h.data||"");p.frame=h,p.value=h,d9(p),o.addCue(p)})}),!o.cues||!o.cues.length))return;const s=o.cues,a=[];for(let f=0;f<s.length;f++)s[f]&&a.push(s[f]);const l=a.reduce((f,c)=>{const h=f[c.startTime]||[];return h.push(c),f[c.startTime]=h,f},{}),d=Object.keys(l).sort((f,c)=>Number(f)-Number(c));d.forEach((f,c)=>{const h=l[f],p=isFinite(n)?n:f,m=Number(d[c+1])||p;h.forEach(y=>{y.endTime=m})})},h9={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},p9=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),m9=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=ne.WebKitDataCue||ne.VTTCue;e.forEach(i=>{for(const o of Object.keys(i)){if(p9.has(o))continue;const s=new n(i.startTime,i.endTime,"");s.id=i.id,s.type="com.apple.quicktime.HLS",s.value={key:h9[o],data:i[o]},(o==="scte35Out"||o==="scte35In")&&(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(s)}i.processDateRange()})},kT=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ye.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},wu=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},g9=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],o=`${i.startTime}-${i.endTime}-${i.text}`;r[o]?t.removeCue(i):r[o]=i}},y9=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*Vs.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},b9=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},v9=(t,e,r,n)=>{const i=Math.ceil((e-n)*Vs.ONE_SECOND_IN_TS),o=Math.ceil((r-n)*Vs.ONE_SECOND_IN_TS),s=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=o););if(a===-1)return s;let l=a+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),s.splice(l,a-l+1),s},_9=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i];if(o!==n[i]||t[o]!==e[o])return!1}return!0},IT=22,w9=function(t,e,r){e=e||[];const n=[];let i=0;for(let o=0;o<e.length;o++){const s=e[o];if(t===s.timeline&&(n.push(o),i+=s.duration,i>r))return o}return n.length===0?0:n[n.length-1]},Au=1,A9=500,DT=t=>typeof t=="number"&&isFinite(t),lh=1/60,x9=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,T9=(t,e,r)=>{let n=e-Lr.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},Sl=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:d,timeline:f}=t,c=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const p=typeof d=="number",m=t.segment.uri?"segment":"pre-segment",y=p?Ux({preloadSegment:n})-1:0;return`${m} [${o+l}/${o+c}]`+(p?` part [${d}/${y}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(p?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${f}] selected by [${h}] playlist [${s}]`},MT=t=>`${t}TimingInfo`,E9=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,NT=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const o=t.lastTimelineChange({type:"main"});return!o||o.to!==r}if(n==="main"&&i){const o=t.pendingTimelineChange({type:"audio"});return!(o&&o.to===r)}return!1},C9=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:o}=n;let s;typeof i=="bigint"||typeof o=="bigint"?s=ne.BigInt(o)-ne.BigInt(i):typeof i=="number"&&typeof o=="number"&&(s=o-i),typeof s<"u"&&s>e&&(e=s)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},OT=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Ki:!1,S9=(t,e)=>{if(e!=="hls")return null;const r=C9({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=OT({segmentDuration:r,maxDuration:n*2}),o=OT({segmentDuration:r,maxDuration:n}),s=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||o?{severity:i?"warn":"info",message:s}:null};class $0 extends ye.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Jn(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return F0.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ne.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&F0.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Hr();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=ih(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=nT(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const o={resolvedUri:(i||e).resolvedUri};return i&&(o.bytes=i.bytes),o}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let o=null;if(n&&(n.id?o=n.id:n.uri&&(o=n.uri)),this.logger_(`playlist update [${o} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${E0(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const s=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${s}]`),this.mediaIndex!==null)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=s,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&F0.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let o=1;const s=()=>{o--,o===0&&n()};(i||!this.audioDisabled_)&&(o++,this.sourceUpdater_.removeAudio(e,r,s)),(i||this.loaderType_==="main")&&(this.gopBuffer_=v9(this.gopBuffer_,e,r,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(e,r,s));for(const a in this.inbandTextTracks_)wu(e,r,this.inbandTextTracks_[a]);wu(e,r,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ne.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ne.setTimeout(this.monitorBufferTick_.bind(this),A9)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],o=e+1===r.segments.length,s=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&o&&s}chooseNextRequest_(){const e=this.buffered_(),r=E0(e)||0,n=C0(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,o=n>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||i||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=w9(this.currentTimeline_,s,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const h=s[this.mediaIndex],p=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:r,h.parts&&h.parts[p+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=p+1):a.mediaIndex=this.mediaIndex+1}else{let h,p,m;const y=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const b=this.getSyncInfoFromMediaSequenceSync_(y);if(!b)return this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null;this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${b.start} --> ${b.end})`),h=b.segmentIndex,p=b.partIndex,m=b.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const b=An.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=b.segmentIndex,p=b.partIndex,m=b.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,a.mediaIndex=h,a.startOfSegment=m,a.partIndex=p,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=s[a.mediaIndex];let d=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!d)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,d=l.parts[0]);const f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&d&&!f&&!d.independent)if(a.partIndex===0){const h=s[a.mediaIndex-1],p=h.parts&&h.parts.length&&h.parts[h.parts.length-1];p&&p.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const c=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=s.length-1&&c&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:o,isSyncRequest:s,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:d}=e,f=n.segments[i],c=typeof a=="number"&&f.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||f.resolvedUri,mediaIndex:i,partIndex:c?a:null,isSyncRequest:s,startOfSegment:o,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:c&&c.duration||f.duration,segment:f,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:r},p=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:p});const m=E0(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(h.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=y9(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return E9(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,o=An.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),s=XP(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(o<=s)return;const a=s9({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const d=o-s-a.rebufferingImpact;let f=.5;s<=Ki&&(f=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||d<f)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Lr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Sl(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},_9(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const o=this.pendingSegment_,s=MT(r);o[s]=o[s]||{},o[s][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};r.forEach(s=>{o[s.stream]=o[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=o[s.stream];a.startTime=Math.min(a.startTime,s.startTime+i),a.endTime=Math.max(a.endTime,s.endTime+i),a.captions.push(s)}),Object.keys(o).forEach(s=>{const{startTime:a,endTime:l,captions:d}=o[s],f=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${s}`),c9(f,this.vhs_.tech_,s),wu(a,l,f[s]),u9({captionArray:d,inbandTextTracks:f,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!NT({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:o}=r;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!o&&!e.audioTimingInfo||NT({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[MT(r.type)].start;else{const i=this.getCurrentMediaInfo_(),o=this.loaderType_==="main"&&i&&i.hasVideo;let s;o&&(s=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:s,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const o=ih(n);if(this.activeInitSegmentId_===o)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=o}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ks(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ks(s).join(", "));const a=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,d=s.length?s.start(0):0,f=s.length?s.end(s.length-1):0;if(l-a<=Au&&f-d<=Au){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Ks(o).join(", ")}, video buffer: ${Ks(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0,metadata:{errorType:ye.Error.SegmentExceedsSourceBufferQuota}}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const h=this.currentTime_()-Au;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Au}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=ne.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Au*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===IT){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ye.Error.SegmentAppendError}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:o}){if(!o){const s=[i];let a=i.byteLength;n&&(s.unshift(n),a+=n.byteLength),o=l9({bytes:a,segments:s})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:o}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,o=`${e}TimingInfo`;i[o]||(i[o]={}),i[o].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[o].transmuxedPresentationStart=n.start.presentation,i[o].transmuxedDecodeStart=n.start.decode,i[o].transmuxedPresentationEnd=n.end.presentation,i[o].transmuxedDecodeEnd=n.end.decode,i[o].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const o=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:o,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const r=Ai({},e,{forceTimestampOffset:!0});Ai(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,o=e.timeline!==this.currentTimeline_&&e.timeline>0,s=n||i&&o;this.logger_(`Requesting
${ST(e.uri)}
${Sl(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=e9({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:d})=>{this.logger_(`${Sl(e)} logged from transmuxer stream ${d} as a ${l}: ${a}`)}})}trimBackBuffer_(e){const r=T9(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===r.timeline&&(o.videoTimingInfo?i.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(i.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),r.key){const s=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(r.key),i.key.iv=s}return r.map&&(i.map=this.initSegmentForMap(r.map)),i}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<lh){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${lh}`);return}this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Ji.ABORTED)return;if(this.pause(),e.code===Ji.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=b9(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:o,useVideoTimingInfo:s,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!s)return l.start;const d=r.segments[n-1];return n===0||!d||typeof d.start>"u"||d.end!==i+o?i:a.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0,metadata:{errorType:ye.Error.SegmentUnsupportedMediaFormat}}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:o}=r,s=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&n&&!o;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}s&&e.waitingOnAppends++,a&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=x9(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0,metadata:{errorType:ye.Error.SegmentSwitchError}}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=S9(e,this.sourceType_);if(r&&(r.severity==="warn"?ye.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Sl(e)}`);return}this.logger_(`Appended ${Sl(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,o=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,s=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(o||s){this.logger_(`bad ${o?"segment":"part"} ${Sl(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<lh){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${lh}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!DT(n)||!DT(i))return;wu(n,i,this.segmentMetadataTrack_);const o=ne.WebKitDataCue||ne.VTTCue,s={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=JSON.stringify(s),l=new o(n,i,a);l.value=s,this.segmentMetadataTrack_.addCue(l)}}function Mo(){}const LT=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},k9=["video","audio"],V0=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},I9=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},kl=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),kl("audio",e),kl("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||V0(t,e))){if(n.type!==t){if(r=I9(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,kl(t,e);return}}},BT=(t,e)=>{const r=e[`${t}Buffer`],n=LT(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Zi=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Fn={appendBuffer:(t,e,r)=>(n,i)=>{const o=i[`${n}Buffer`];if(Zi(i.mediaSource,o)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{o.appendBuffer(t)}catch(s){i.logger_(`Error with code ${s.code} `+(s.code===IT?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(s)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(Zi(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];Zi(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){ye.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){ye.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(Zi(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){ye.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=LT(t),i=Vc(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const o=r.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",r[`on${n}UpdateEnd_`]),o.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=o},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(BT(t,e),!!Zi(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){ye.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=Vc(t);if(!Zi(r.mediaSource,n))return;const o=t.substring(0,t.indexOf(".")),s=r.codecs[e];if(s.substring(0,s.indexOf("."))!==o){r.logger_(`changing ${e}Buffer codec from ${r.codecs[e]} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(l){ye.log.warn(`Failed to changeType on ${e}Buffer`,l)}}}},Un=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),kl(t,e)},RT=(t,e)=>r=>{const n=e[`${t}Buffered`](),i=QP(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const o=e.queuePending[t].doneFn;e.queuePending[t]=null,o&&o(e[`${t}Error_`])}kl(t,e)};class PT extends ye.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>kl("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Jn("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=RT("video",this),this.onAudioUpdateEnd_=RT("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Un({type:"mediaSource",sourceUpdater:this,action:Fn.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Un({type:e,sourceUpdater:this,action:Fn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ye.log.error("removeSourceBuffer is not supported!");return}Un({type:"mediaSource",sourceUpdater:this,action:Fn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ye.browser.IS_FIREFOX&&ne.MediaSource&&ne.MediaSource.prototype&&typeof ne.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return ne.SourceBuffer&&ne.SourceBuffer.prototype&&typeof ne.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){ye.log.error("changeType is not supported!");return}Un({type:e,sourceUpdater:this,action:Fn.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:o}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${o.length} until video append`);return}const s=r;if(Un({type:i,sourceUpdater:this,action:Fn.appendBuffer(o,n||{mediaIndex:-1},s),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Zi(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Hr()}videoBuffered(){return Zi(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Hr()}buffered(){const e=Zi(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Zi(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():KP(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=Mo){Un({type:"mediaSource",sourceUpdater:this,action:Fn.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=Mo){typeof e!="string"&&(e=void 0),Un({type:"mediaSource",sourceUpdater:this,action:Fn.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=Mo){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}Un({type:"audio",sourceUpdater:this,action:Fn.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=Mo){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}Un({type:"video",sourceUpdater:this,action:Fn.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(V0("audio",this)||V0("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Un({type:"audio",sourceUpdater:this,action:Fn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Un({type:"video",sourceUpdater:this,action:Fn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Un({type:"audio",sourceUpdater:this,action:Fn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Un({type:"video",sourceUpdater:this,action:Fn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),k9.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>BT(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const FT=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),D9=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},UT=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class M9 extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class N9 extends $0{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Hr();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return Hr([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=ih(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const o=UT.byteLength+e.bytes.byteLength,s=new Uint8Array(o);s.set(e.bytes),s.set(UT,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){wu(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Ji.TIMEOUT&&this.handleTimeout_(),e.code===Ji.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const o=i.segment;if(o.map&&(o.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof ne.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js",metadata:{errorType:ye.Error.VttLoadError}}));return}o.requested=!0;try{this.parseVTTCues_(i)}catch(s){this.stopForError({message:s.message,metadata:{errorType:ye.Error.VttCueParsingError}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach(s=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new ne.VTTCue(s.startTime,s.endTime,s.text):s)}),g9(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof ne.WebVTT!="function")throw new M9;typeof ne.TextDecoder=="function"?r=new ne.TextDecoder("utf8"):(r=ne.WebVTT.StringDecoder(),n=!0);const i=new ne.WebVTT.Parser(ne,ne.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=s=>{e.timestampmap=s},i.onparsingerror=s=>{ye.log.warn("Error encountered when parsing cues: "+s.message)},e.segment.map){let s=e.segment.map.bytes;n&&(s=FT(s)),i.parse(s)}let o=e.bytes;n&&(o=FT(o)),i.parse(o),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:o,LOCAL:s}=e.timestampmap,l=o/Vs.ONE_SECOND_IN_TS-s+r.mapping;if(e.cues.forEach(d=>{const f=d.endTime-d.startTime,c=o===0?d.startTime+l:this.handleRollover_(d.startTime+l,r.time);d.startTime=Math.max(c,0),d.endTime=Math.max(c+f,0)}),!n.syncInfo){const d=e.cues[0].startTime,f=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(d,f-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*Vs.ONE_SECOND_IN_TS;const i=r*Vs.ONE_SECOND_IN_TS;let o;for(i<n?o=-8589934592:o=8589934592;Math.abs(n-i)>4294967296;)n+=o;return n/Vs.ONE_SECOND_IN_TS}}const O9=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},L9=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let o=0;o<t.segments.length;o++){const s=t.segments[o];if(i||(i=O9(e,n+s.duration/2)),i){if("cueIn"in s){i.endTime=n,i.adEndTime=n,n+=s.duration,i=null;continue}if(n<i.endTime){n+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&(i=new ne.VTTCue(n,n+s.duration,s.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(s.cueOut),e.addCue(i)),"cueOutCont"in s){const[a,l]=s.cueOutCont.split("/").map(parseFloat);i=new ne.VTTCue(n,n+s.duration,""),i.adStartTime=n-a,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=s.duration}};class jT{constructor({start:e,end:r,segmentIndex:n,partIndex:i=null,appended:o=!1}){this.start_=e,this.end_=r,this.segmentIndex_=n,this.partIndex_=i,this.appended_=o}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class B9{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class H0{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(r.isInRange(e))return r;return null}updateStorage_(e,r,n){const i=new Map;let o=`
`,s=n,a=r;this.start_=s,e.forEach((l,d)=>{const f=this.storage_.get(a),c=s,h=c+l.duration,p=!!(f&&f.segmentSyncInfo&&f.segmentSyncInfo.isAppended),m=new jT({start:c,end:h,appended:p,segmentIndex:d});l.syncInfo=m;let y=s;const b=(l.parts||[]).map((v,x)=>{const S=y,I=y+v.duration,M=!!(f&&f.partsSyncInfo&&f.partsSyncInfo[x]&&f.partsSyncInfo[x].isAppended),E=new jT({start:S,end:I,appended:M,segmentIndex:d,partIndex:x});return y=I,o+=`Media Sequence: ${a}.${x} | Range: ${S} --> ${I} | Appended: ${M}
`,v.syncInfo=E,E});i.set(a,new B9(m,b)),o+=`${ST(l.resolvedUri)} | Media Sequence: ${a} | Range: ${c} --> ${h} | Appended: ${p}
`,a++,s=h}),this.end_=s,this.storage_=i,this.diagnostics_=o}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}const R9=86400,q0=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,o)=>{const s=t.getMediaSequenceSync(o);if(!s||!s.isReliable)return null;const a=s.getSyncInfoForTime(i);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let o=null,s=null;const a=k0(e);i=i||0;for(let l=0;l<a.length;l++){const d=e.endList||i===0?l:a.length-(l+1),f=a[d],c=f.segment,h=t.timelineToDatetimeMappings[c.timeline];if(!h||!c.dateTimeObject)continue;let m=c.dateTimeObject.getTime()/1e3+h;if(c.parts&&typeof f.partIndex=="number")for(let b=0;b<f.partIndex;b++)m+=c.parts[b].duration;const y=Math.abs(i-m);if(s!==null&&(y===0||s<y))break;s=y,o={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return o}},{name:"Segment",run:(t,e,r,n,i)=>{let o=null,s=null;i=i||0;const a=k0(e);for(let l=0;l<a.length;l++){const d=e.endList||i===0?l:a.length-(l+1),f=a[d],c=f.segment,h=f.part&&f.part.start||c&&c.start;if(c.timeline===n&&typeof h<"u"){const p=Math.abs(i-h);if(s!==null&&s<p)break;(!o||s===null||s>=p)&&(s=p,o={time:h,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return o}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let o=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let s=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],d=e.discontinuitySequence+a+1,f=t.discontinuities[d];if(f){const c=Math.abs(i-f.time);if(s!==null&&s<c)break;(!o||s===null||s>=c)&&(s=c,o={time:f.time,segmentIndex:l,partIndex:null})}}}return o}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class P9 extends ye.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.mediaSequenceStorage_={main:new H0,audio:new H0,vtt:new H0},this.logger_=Jn("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,n,i,o){if(r!==1/0)return q0.find(({name:l})=>l==="VOD").run(this,e,r);const s=this.runStrategies_(e,r,n,i,o);if(!s.length)return null;for(const a of s){const{syncPoint:l,strategy:d}=a,{segmentIndex:f,time:c}=l;if(f<0)continue;const h=e.segments[f],p=c,m=p+h.duration;if(this.logger_(`Strategy: ${d}. Current time: ${i}. selected segment: ${f}. Time: [${p} -> ${m}]}`),i>=p&&i<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(s,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+yu({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,o){const s=[];for(let a=0;a<q0.length;a++){const l=q0[a],d=l.run(this,e,r,n,i,o);d&&(d.strategy=l.name,s.push({strategy:l.name,syncPoint:d}))}return s}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),o=e[0].strategy;for(let s=1;s<e.length;s++){const a=Math.abs(e[s].syncPoint[r.key]-r.value);a<i&&(i=a,n=e[s].syncPoint,o=e[s].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${o}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>R9){ye.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const o=e.segments[i];if(o&&typeof o.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:o.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const o=i.dateTimeObject;i.discontinuity&&r&&o&&(this.timelineToDatetimeMappings[i.timeline]=-(o.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,o=e.part;let s=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")s={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${s.time}] [mapping: ${s.mapping}]`)),a=e.startOfSegment,l=r.end+s.mapping;else if(s)a=r.start+s.mapping,l=r.end+s.mapping;else return!1;return o&&(o.start=a,o.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const o=r.discontinuityStarts[i],s=r.discontinuitySequence+i+1,a=o-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>l){let d;a<0?d=n.start-yu({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:o}):d=n.end+yu({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[s]={time:d,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class F9 extends ye.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const U9=dT(fT(function(){var t=function(){function y(){this.listeners={}}var b=y.prototype;return b.on=function(x,S){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(S)},b.off=function(x,S){if(!this.listeners[x])return!1;var I=this.listeners[x].indexOf(S);return this.listeners[x]=this.listeners[x].slice(0),this.listeners[x].splice(I,1),I>-1},b.trigger=function(x){var S=this.listeners[x];if(S)if(arguments.length===2)for(var I=S.length,M=0;M<I;++M)S[M].call(this,arguments[1]);else for(var E=Array.prototype.slice.call(arguments,1),L=S.length,D=0;D<L;++D)S[D].apply(this,E)},b.dispose=function(){this.listeners={}},b.pipe=function(x){this.on("data",function(S){x.push(S)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],b=y[0],v=y[1],x=b[4],S=v[4];let I,M,E;const L=[],D=[];let C,R,$,U,F,z;for(I=0;I<256;I++)D[(L[I]=I<<1^(I>>7)*283)^I]=I;for(M=E=0;!x[M];M^=C||1,E=D[E]||1)for(U=E^E<<1^E<<2^E<<3^E<<4,U=U>>8^U&255^99,x[M]=U,S[U]=M,$=L[R=L[C=L[M]]],z=$*16843009^R*65537^C*257^M*16843008,F=L[U]*257^U*16843008,I=0;I<4;I++)b[I][M]=F=F<<24^F>>>8,v[I][U]=z=z<<24^z>>>8;for(I=0;I<5;I++)b[I]=b[I].slice(0),v[I]=v[I].slice(0);return y};let n=null;class i{constructor(b){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let v,x,S;const I=this._tables[0][4],M=this._tables[1],E=b.length;let L=1;if(E!==4&&E!==6&&E!==8)throw new Error("Invalid aes key size");const D=b.slice(0),C=[];for(this._key=[D,C],v=E;v<4*E+28;v++)S=D[v-1],(v%E===0||E===8&&v%E===4)&&(S=I[S>>>24]<<24^I[S>>16&255]<<16^I[S>>8&255]<<8^I[S&255],v%E===0&&(S=S<<8^S>>>24^L<<24,L=L<<1^(L>>7)*283)),D[v]=D[v-E]^S;for(x=0;v;x++,v--)S=D[x&3?v:v-4],v<=4||x<4?C[x]=S:C[x]=M[0][I[S>>>24]]^M[1][I[S>>16&255]]^M[2][I[S>>8&255]]^M[3][I[S&255]]}decrypt(b,v,x,S,I,M){const E=this._key[1];let L=b^E[0],D=S^E[1],C=x^E[2],R=v^E[3],$,U,F;const z=E.length/4-2;let W,B=4;const P=this._tables[1],re=P[0],H=P[1],O=P[2],T=P[3],V=P[4];for(W=0;W<z;W++)$=re[L>>>24]^H[D>>16&255]^O[C>>8&255]^T[R&255]^E[B],U=re[D>>>24]^H[C>>16&255]^O[R>>8&255]^T[L&255]^E[B+1],F=re[C>>>24]^H[R>>16&255]^O[L>>8&255]^T[D&255]^E[B+2],R=re[R>>>24]^H[L>>16&255]^O[D>>8&255]^T[C&255]^E[B+3],B+=4,L=$,D=U,C=F;for(W=0;W<4;W++)I[(3&-W)+M]=V[L>>>24]<<24^V[D>>16&255]<<16^V[C>>8&255]<<8^V[R&255]^E[B++],$=L,L=D,D=C,C=R,R=$}}class o extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(b){this.jobs.push(b),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const s=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},a=function(y,b,v){const x=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),S=new i(Array.prototype.slice.call(b)),I=new Uint8Array(y.byteLength),M=new Int32Array(I.buffer);let E,L,D,C,R,$,U,F,z;for(E=v[0],L=v[1],D=v[2],C=v[3],z=0;z<x.length;z+=4)R=s(x[z]),$=s(x[z+1]),U=s(x[z+2]),F=s(x[z+3]),S.decrypt(R,$,U,F,M,z),M[z]=s(M[z]^E),M[z+1]=s(M[z+1]^L),M[z+2]=s(M[z+2]^D),M[z+3]=s(M[z+3]^C),E=R,L=$,D=U,C=F;return I};class l{constructor(b,v,x,S){const I=l.STEP,M=new Int32Array(b.buffer),E=new Uint8Array(b.byteLength);let L=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(M.subarray(L,L+I),v,x,E)),L=I;L<M.length;L+=I)x=new Uint32Array([s(M[L-4]),s(M[L-3]),s(M[L-2]),s(M[L-1])]),this.asyncStream_.push(this.decryptChunk_(M.subarray(L,L+I),v,x,E));this.asyncStream_.push(function(){S(null,e(E))})}static get STEP(){return 32e3}decryptChunk_(b,v,x,S){return function(){const I=a(b,v,x);S.set(I,b.byteOffset)}}}var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof d<"u"?f=d:typeof self<"u"?f=self:f={};var c=f,h=function(b){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(b):b&&b.buffer instanceof ArrayBuffer},p=c.BigInt||Number;p("0x1"),p("0x100"),p("0x10000"),p("0x1000000"),p("0x100000000"),p("0x10000000000"),p("0x1000000000000"),p("0x100000000000000"),p("0x10000000000000000"),function(){var y=new Uint16Array([65484]),b=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return b[0]===255?"big":b[0]===204?"little":"unknown"}();const m=function(y){const b={};return Object.keys(y).forEach(v=>{const x=y[v];h(x)?b[v]={bytes:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength}:b[v]=x}),b};self.onmessage=function(y){const b=y.data,v=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength),x=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),S=new Uint32Array(b.iv.bytes,b.iv.byteOffset,b.iv.byteLength/4);new l(v,x,S,function(I,M){self.postMessage(m({source:b.source,decrypted:M}),[M.buffer])})}}));var j9=uT(U9);const z9=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},zT=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},W0=(t,e)=>{e.activePlaylistLoader=t,t.load()},$9=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,o=i.activeTrack(),s=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(s&&l&&s.id===l.id)&&(i.lastGroup_=s,i.lastTrack_=o,zT(r,i),!(!s||s.isMainPlaylist))){if(!s.playlistLoader){a&&n.resetEverything();return}r.resyncLoader(),W0(s.playlistLoader,i)}},V9=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},H9=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:o}}=e,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&s&&d.id===s.id)&&(o.lastGroup_=a,o.lastTrack_=s,zT(n,o),!!a)){if(a.isMainPlaylist){if(!s||!d||s.id===d.id)return;const f=e.vhs.playlistController_,c=f.selectPlaylist();if(f.media()===c)return;o.logger_(`track change. Switching main audio from ${d.id} to ${s.id}`),r.pause(),i.resetEverything(),f.fastQualityChange_(c);return}if(t==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){W0(a.playlistLoader,o);return}n.track&&n.track(s),n.resetEverything(),W0(a.playlistLoader,o)}},ch={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),o=r.activeGroup(),s=(o.filter(l=>l.default)[0]||o[0]).id,a=r.tracks[s];if(i===a){n({error:{message:"Problem encountered loading the default audio track."}});return}ye.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===a;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;ye.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},$T={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:o}}=r;e.on("loadedmetadata",()=>{const s=e.media();o.playlist(s,i),(!n.paused()||s.endList&&n.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),i),n.paused()||o.load()}),e.on("error",ch[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:o},mediaTypes:{[t]:s}}=r;e.on("loadedmetadata",()=>{const a=e.media();o.playlist(a,i),o.track(s.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),i),n.paused()||o.load()}),e.on("error",ch[t](t,r))}},q9={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[t]:{groups:a,tracks:l,logger_:d}},mainPlaylistLoader:f}=e,c=bu(f.main);(!s[t]||Object.keys(s[t]).length===0)&&(s[t]={main:{default:{default:!0}}},c&&(s[t].main.default.playlists=f.main.playlists));for(const h in s[t]){a[h]||(a[h]=[]);for(const p in s[t][h]){let m=s[t][h][p],y;if(c?(d(`AUDIO group '${h}' label '${p}' is a main playlist`),m.isMainPlaylist=!0,y=null):n==="vhs-json"&&m.playlists?y=new El(m.playlists[0],r,o):m.resolvedUri?y=new El(m.resolvedUri,r,o):m.playlists&&n==="dash"?y=new P0(m.playlists[0],r,o,f):y=null,m=Rt({id:p,playlistLoader:y},m),$T[t](t,m.playlistLoader,e),a[h].push(m),typeof l[p]>"u"){const b=new ye.AudioTrack({id:p,kind:z9(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=b}}}i.on("error",ch[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:d}},mainPlaylistLoader:f}=e;for(const c in a[t]){l[c]||(l[c]=[]);for(const h in a[t][c]){if(!n.options_.useForcedSubtitles&&a[t][c][h].forced)continue;let p=a[t][c][h],m;if(i==="hls")m=new El(p.resolvedUri,n,s);else if(i==="dash"){if(!p.playlists.filter(b=>b.excludeUntil!==1/0).length)return;m=new P0(p.playlists[0],n,s,f)}else i==="vhs-json"&&(m=new El(p.playlists?p.playlists[0]:p.resolvedUri,n,s));if(p=Rt({id:h,playlistLoader:m},p),$T[t](t,p.playlistLoader,e),l[c].push(p),typeof d[h]>"u"){const y=r.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;d[h]=y}}}o.on("error",ch[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:o}}}=e;for(const s in n[t]){i[s]||(i[s]=[]);for(const a in n[t][s]){const l=n[t][s][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const d=r.options_.vhs&&r.options_.vhs.captionServices||{};let f={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(d[f.instreamId]&&(f=Rt(f,d[f.instreamId])),f.default===void 0&&delete f.default,i[s].push(Rt({id:a},l)),typeof o[a]>"u"){const c=r.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[a]=c}}}}},VT=(t,e)=>{for(let r=0;r<t.length;r++)if(M0(e,t[r])||t[r].playlists&&VT(t[r].playlists,e))return!0;return!1},W9=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,o=n.media();if(!o)return null;let s=null;o.attributes[t]&&(s=i[o.attributes[t]]);const a=Object.keys(i);if(!s)if(t==="AUDIO"&&a.length>1&&bu(e.main))for(let l=0;l<a.length;l++){const d=i[a[l]];if(VT(d,o)){s=d;break}}else i.main?s=i.main:a.length===1&&(s=i[a[0]]);return typeof r>"u"?s:r===null||!s?null:s.filter(l=>l.id===r.id)[0]||null},G9={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},Q9=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},Y9=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(d=>{q9[d](d,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:o,main:s}}=t;["AUDIO","SUBTITLES"].forEach(d=>{e[d].activeGroup=W9(d,t),e[d].activeTrack=G9[d](d,t),e[d].onGroupChanged=$9(d,t),e[d].onGroupChanging=V9(d,t),e[d].onTrackChanged=H9(d,t),e[d].getActiveGroup=Q9(d,t)});const a=e.AUDIO.activeGroup();if(a){const d=(a.filter(c=>c.default)[0]||a[0]).id;e.AUDIO.tracks[d].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const d in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[d])},K9=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Mo,activeTrack:Mo,getActiveGroup:Mo,onGroupChanged:Mo,onTrackChanged:Mo,lastTrack_:null,logger_:Jn(`MediaGroups[${e}]`)}}),t};class HT{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=wn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class X9 extends ye.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new HT,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Jn("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=wn(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(i,o)=>{if(i){if(o.status===410){this.logger_(`manifest request 410 ${i}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(o.status===429){const a=o.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${i}.`),this.logger_(`content steering will retry in ${a} seconds.`),this.startTTLTimeout_(parseInt(a,10));return}this.logger_(`manifest failed to load ${i}.`),this.startTTLTimeout_();return}const s=JSON.parse(this.request_.responseText);this.assignSteeringProperties_(s),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new ne.URL(e),n=new ne.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(ne.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new ne.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const o=`_${this.manifestType_}_pathway`;r.searchParams.set(o,n)}if(i){const o=`_${this.manifestType_}_throughput`;r.searchParams.set(o,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const o of i)if(this.availablePathways_.has(o))return o;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=ne.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){ne.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new HT}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(wn(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const J9=10;let No;const Z9=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],e7=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},t7=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!n)return ye.log.warn("We received no playlist to switch to. Please check your stream."),!1;const d=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${d} as current playlist is not set`),!0;if(n.id===t.id)return!1;const f=!!Al(e,r).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${d} as current playlist is live`),!0);const c=C0(e,r),h=a?Lr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Lr.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(`${d} as duration < max low water line (${s} < ${h})`),!0;const p=n.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!a||c<o)){let y=`${d} as next bandwidth < current bandwidth (${p} < ${m})`;return a&&(y+=` and forwardBuffer < bufferHighWaterLine (${c} < ${o})`),l(y),!0}if((!a||p>m)&&c>=i){let y=`${d} as forwardBuffer >= bufferLowWaterLine (${c} >= ${i})`;return a&&(y+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(y),!0}return l(`not ${d} as no switching criteria met`),!1};class r7 extends ye.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:o,externVhs:s,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:d,sourceType:f,cacheEncryptionKeys:c,bufferBasedABR:h,leastPixelDiffSelector:p,captionServices:m}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:y}=e;(y===null||typeof y>"u")&&(y=1/0),No=s,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!p,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.sourceType_=f,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=y,this.enableLowInitialPlaylist=d,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:y,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=K9(),this.mediaSource=new ne.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Hr(),this.hasPlayed_=!1,this.syncController_=new P9(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new j9,this.sourceUpdater_=new PT(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new F9,this.keyStatusMap_=new Map;const b={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:c,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new P0(r,this.vhs_,Rt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new El(r,this.vhs_,Rt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new $0(Rt(b,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new $0(Rt(b,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new N9(Rt(b,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((S,I)=>{function M(){i.off("vttjserror",E),S()}function E(){i.off("vttjsloaded",M),I()}i.one("vttjsloaded",M),i.one("vttjserror",E),i.addWebVttScript_()})}),e);const v=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new X9(this.vhs_.xhr,v),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Z9.forEach(S=>{this[S+"_"]=e7.bind(this,S)}),this.logger_=Jn("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const x=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(x,()=>{const S=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-S,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),o=i&&(i.id||i.uri),s=e&&(e.id||e.uri);o&&o!==s&&(this.logger_(`switch media ${o} -> ${s} from ${r}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})),this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const s=(n.length?n[0].playlists:n.playlists).filter(a=>a.attributes.serviceLocation===i);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=ne.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ne.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let o;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)o=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||i.length&&n[i[0]];for(const l in a)if(a[l].default){o={label:l};break}}if(!o)return r;const s=[];for(const a in n)if(n[a][o.label]){const l=n[a][o.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(e.playlists.length)for(let d=0;d<e.playlists.length;d++){const f=e.playlists[d];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===a&&s.push(f)}}return s.length?s:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),r=e.targetDuration*1.5*1e3;D0(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),Y9({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),r=e.targetDuration*1.5*1e3;D0(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const o=Object.keys(n.AUDIO);for(const s in n.AUDIO)for(const a in n.AUDIO[s])n.AUDIO[s][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),No.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),o.length&&Object.keys(n.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),o=this.bufferHighWaterLine(),s=this.tech_.buffered();return t7({buffered:s,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:J9}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.tech_.setCurrentTime(this.tech_.currentTime())})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const o=e.start.timeOffset;o<0?i=Math.max(n+o,r.start(0)):i=Math.min(n,o)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=No.Playlist.playlistEnd(e,n),o=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-o<=Xi;const a=s.end(s.length-1);return a-o<=Xi&&i-a<=Xi}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,o=i.filter(nh),s=o.length===1&&o[0]===e;if(i.length===1&&n!==1/0)return ye.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},y);return}let p=!1;i.forEach(m=>{if(m===e)return;const y=m.excludeUntil;typeof y<"u"&&y!==1/0&&(p=!0,delete m.excludeUntil)}),p&&(ye.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const d=r.internal?this.logger_:ye.log.warn,f=r.message?" "+r.message:"";d(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const c=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=c;return this.switchMedia_(l,"exclude",s||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const o=[];(i||e==="audio")&&o.push("AUDIO"),(i||e==="subtitle")&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(s=>{const a=this.mediaTypes_[s]&&this.mediaTypes_[s].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(s=>{const a=this[`${s}SegmentLoader_`];a&&(e===s||e==="all")&&n.push(a)}),n.forEach(s=>r.forEach(a=>{typeof s[a]=="function"&&s[a]()}))}setCurrentTime(e){const r=Al(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:No.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,o=No.Playlist.seekable(r,n,No.Playlist.liveEdgeDelay(i,r));if(o.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=No.Playlist.seekable(r,n,No.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let s,a;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>o.end(0)||o.start(0)>e.end(0)?this.seekable_=o:this.seekable_=Hr([[e.start(0)>o.start(0)?e.start(0):o.start(0),e.end(0)<o.end(0)?e.end(0):o.end(0)]]):this.seekable_=o,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===a)&&(this.logger_(`seekable updated [${Px(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=No.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=_u(this.main(),r),i={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||D8),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||L_}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||o)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||L_,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const s=(d,f)=>d?cf(f):Zm(f),a={};let l;if(["video","audio"].forEach(function(d){if(i.hasOwnProperty(d)&&!s(e[d].isFmp4,i[d])){const f=e[d].isFmp4?"browser":"muxer";a[f]=a[f]||[],a[f].push(i[d]),d==="audio"&&(l=f)}}),o&&l&&r.attributes.AUDIO){const d=r.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===d&&f!==r&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${d} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const d=Object.keys(a).reduce((f,c)=>(f&&(f+=", "),f+=`${c} does not support codec(s): "${a[c].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:d},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const d=[];if(["video","audio"].forEach(f=>{const c=($i(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,h=($i(i[f]||"")[0]||{}).type;c&&h&&c.toLowerCase()!==h.toLowerCase()&&d.push(`"${this.sourceUpdater_.codecs[f]}" -> "${i[f]}"`)}),d.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${d.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const o=_u(this.main,i),s=[];o.audio&&!Zm(o.audio)&&!cf(o.audio)&&s.push(`audio codec ${o.audio}`),o.video&&!Zm(o.video)&&!cf(o.video)&&s.push(`video codec ${o.video}`),o.text&&o.text==="stpp.ttml.im1t"&&s.push(`text codec ${o.text}`),s.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${s.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=oh($i(e)),o=xT(i),s=i.video&&$i(i.video)[0]||null,a=i.audio&&$i(i.audio)[0]||null;Object.keys(n).forEach(l=>{const d=n[l];if(r.indexOf(d.id)!==-1||d.excludeUntil===1/0)return;r.push(d.id);const f=[],c=_u(this.mainPlaylistLoader_.main,d),h=xT(c);if(!(!c.audio&&!c.video)){if(h!==o&&f.push(`codec count "${h}" !== "${o}"`),!this.sourceUpdater_.canChangeType()){const p=c.video&&$i(c.video)[0]||null,m=c.audio&&$i(c.audio)[0]||null;p&&s&&p.type.toLowerCase()!==s.type.toLowerCase()&&f.push(`video codec "${p.type}" !== "${s.type}"`),m&&a&&m.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`audio codec "${m.type}" !== "${a.type}"`)}f.length&&(d.excludeUntil=1/0,this.logger_(`excluding ${d.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),L9(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=Lr.GOAL_BUFFER_LENGTH,n=Lr.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,Lr.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=Lr.BUFFER_LOW_WATER_LINE,n=Lr.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,Lr.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(r,Lr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?o:i)}bufferHighWaterLine(){return Lr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){kT(this.inbandTextTracks_,"com.apple.streaming",this.tech_),m9({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();kT(this.inbandTextTracks_,e,this.tech_),f9({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const i=this.contentSteeringController_.getAvailablePathways(),o=[];for(const s of e.playlists){const a=s.attributes.serviceLocation;if(a&&(o.push(a),!i.has(a)))return!0}return!!(!o.length&&i.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let o=!1;Object.keys(n).forEach(s=>{const a=n[s],l=this.pathwayAttribute_(a),d=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!d&&(delete a.excludeUntil,delete a.lastExcludeReason_,o=!0);const c=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&d&&c&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(o=!0)}}),o&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[s,a]of n.entries())i.get(s)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(s));for(const[s,a]of i.entries()){const l=n.get(s);if(!l){r.filter(f=>f.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(f=>{this.mainPlaylistLoader_.addClonePathway(a,f)}),this.contentSteeringController_.addAvailablePathway(s);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(s))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const o in n)if(n[o]!==i[o])return!1;for(const o in i)if(n[o]!==i[o])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(o=>{const s="usable",a=this.keyStatusMap_.has(o)&&this.keyStatusMap_.get(o)===s,l=n.lastExcludeReason_===r&&n.excludeUntil===1/0;a?a&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${o} is ${s}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${o} doesn't exist in the keyStatusMap or is not ${s}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,o=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&o&&(delete n.excludeUntil,ye.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const o=(typeof e=="string"?e:D9(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${o} added to the keyStatusMap`),this.keyStatusMap_.set(o,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const n7=(t,e,r)=>n=>{const i=t.main.playlists[e],o=I0(i),s=nh(i);return typeof n>"u"?s:(n?delete i.disabled:i.disabled=!0,n!==s&&!o&&(r(i),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)};class i7{constructor(e,r,n){const{playlistController_:i}=e,o=i.fastQualityChange_.bind(i);if(r.attributes){const s=r.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=_u(i.main(),r),this.playlist=r,this.id=n,this.enabled=n7(e.playlists,r.id,o)}}const o7=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=bu(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!I0(n)).map((n,i)=>new i7(t,n,n.id)):[]}},qT=["seeking","seeked","pause","playing","error"];class s7{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Jn("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(f=>{l[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},s[`${f}SegmentLoader_`].on("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].on("playlistupdate",l[f].reset),this.tech_.on(["seeked","seeking"],l[f].reset)});const d=f=>{["main","audio"].forEach(c=>{s[`${c}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=()=>d("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(qT,o),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(qT,o),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(f=>{s[`${f}SegmentLoader_`].off("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].off("playlistupdate",l[f].reset),this.tech_.off(["seeked","seeking"],l[f].reset)}),this.checkCurrentTimeTimeout_&&ne.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ne.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ne.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),o=JP(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,o){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Ks(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+Xi>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let o;if(i&&(o=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const m=r.start(0);o=m+(m===r.end(0)?0:Xi)}if(typeof o<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${Px(r)}. Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=s.audioBuffer?s.audioBuffered():null,d=s.videoBuffer?s.videoBuffered():null,f=this.media(),c=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-Ki)*2,h=[l,d];for(let m=0;m<h.length;m++){if(!h[m])continue;if(C0(h[m],n)<c)return!1}const p=rh(a,n);return p.length===0?!1:(o=p.start(0)+Xi,this.logger_(`Buffered region starts (${p.start(0)})  just beyond seek point (${n}). Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=Al(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=rh(i,r);return s.length>0?(this.logger_(`Stopped at ${r} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let o=e.end(e.length-1)+Xi;const s=!n.endList,a=typeof n.partTargetDuration=="number";return s&&(a||i)&&(o=e.end(e.length-1)+n.targetDuration*3),r>o}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const o=Al(e,n-3),s=Al(e,n),a=Al(r,n);a.length&&!s.length&&o.length&&(i={start:o.end(0),end:a.end(0)})}else rh(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=rh(r,n);this.resetTimeUpdate_(),!(i.length===0||n!==e)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Ki),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,r){const n=YP(e);for(let i=0;i<n.length;i++){const o=n.start(i),s=n.end(i);if(r-o<4&&r-o>2)return{start:o,end:s}}return null}}const a7={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},WT=function(t,e){let r=0,n=0;const i=Rt(a7,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const o=function(){n&&t.currentTime(n)},s=function(f){f!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){ye.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,s)},l=function(){t.off("loadedmetadata",o),t.off("error",a),t.off("dispose",l)},d=function(f){l(),WT(t,f)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=d},l7=function(t){WT(this,t)};var GT="3.12.1",c7="7.0.3",u7="1.3.0",d7="7.1.0",f7="4.0.1";const sr={PlaylistLoader:El,Playlist:An,utils:_F,STANDARD_PLAYLIST_SELECTOR:CT,INITIAL_PLAYLIST_SELECTOR:a9,lastBandwidthSelector:CT,movingAverageBandwidthSelector:o9,comparePlaylistBandwidth:z0,comparePlaylistResolution:i9,xhr:tT()};Object.keys(Lr).forEach(t=>{Object.defineProperty(sr,t,{get(){return ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Lr[t]},set(e){if(ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ye.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Lr[t]=e}})});const QT="videojs-vhs",YT=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},h7=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),YT(t,e.playlists)};sr.canPlaySource=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const p7=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=oh($i(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=Vc(n.video),o=Vc(n.audio),s={};for(const a in t)s[a]={},o&&(s[a].audioContentType=o),i&&(s[a].videoContentType=i),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(s[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(s[a].url=t[a]);return Rt(t,s)},m7=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((o,s)=>{const a=n.contentProtection[s];return a&&a.pssh&&(o[s]={pssh:a.pssh}),o},{});return Object.keys(i).length&&r.push(i),r},[]),g7=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,o=m7(i,Object.keys(e)),s=[],a=[];return o.forEach(l=>{a.push(new Promise((d,f)=>{t.tech_.one("keysessioncreated",d)})),s.push(new Promise((d,f)=>{t.eme.initializeMediaKeys({keySystems:l},c=>{if(c){f(c);return}d()})}))}),Promise.race([Promise.all(s),Promise.race(a)])},y7=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=p7(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(ye.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},KT=()=>{if(!ne.localStorage)return null;const t=ne.localStorage.getItem(QT);if(!t)return null;try{return JSON.parse(t)}catch{return null}},b7=t=>{if(!ne.localStorage)return!1;let e=KT();e=e?Rt(e,t):t;try{ne.localStorage.setItem(QT,JSON.stringify(e))}catch{return!1}return e},v7=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,XT=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},JT=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},ZT=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},eE=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};sr.supportsNativeHls=function(){if(!Le||!Le.createElement)return!1;const t=Le.createElement("video");return ye.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}(),sr.supportsNativeDash=function(){return!Le||!Le.createElement||!ye.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Le.createElement("video").canPlayType("application/dash+xml"))}(),sr.supportsTypeNatively=t=>t==="hls"?sr.supportsNativeHls:t==="dash"?sr.supportsNativeDash:!1,sr.isSupported=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},sr.xhr.onRequest=function(t){XT(sr.xhr,t)},sr.xhr.onResponse=function(t){JT(sr.xhr,t)},sr.xhr.offRequest=function(t){ZT(sr.xhr,t)},sr.xhr.offResponse=function(t){eE(sr.xhr,t)};const _7=ye.getComponent("Component");class tE extends _7{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Jn("VhsHandler"),r.options_&&r.options_.playerId){const i=ye.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Le,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const o=Le.fullscreenElement||Le.webkitFullscreenElement||Le.mozFullScreenElement||Le.msFullscreenElement;o&&o.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Rt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=KT();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Lr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Lr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=v7(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=sr,this.options_.sourceType=B_(r),this.options_.seekTo=o=>{this.tech_.setCurrentTime(o)},this.playlistController_=new r7(this.options_);const n=Rt({liveRangeSafeTimeDelta:Xi},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new s7(n),this.playlistController_.on("error",()=>{const o=ye.players[this.tech_.options_.playerId];let s=this.playlistController_.error;typeof s=="object"&&!s.code?s.code=3:typeof s=="string"&&(s={message:s,code:3}),o.error(s)});const i=this.options_.bufferBasedABR?sr.movingAverageBandwidthSelector(.55):sr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=sr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(o){this.playlistController_.selectPlaylist=o.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(o){this.playlistController_.mainSegmentLoader_.throughput.rate=o,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let o=this.playlistController_.mainSegmentLoader_.bandwidth;const s=ne.navigator.connection||ne.navigator.mozConnection||ne.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&s){const l=s.downlink*1e3*1e3;l>=a&&o>=a?o=Math.max(o,l):o=l}return o},set(o){this.playlistController_.mainSegmentLoader_.bandwidth=o,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const o=1/(this.bandwidth||1);let s;return this.throughput>0?s=1/this.throughput:s=0,Math.floor(1/(o+s))},set(){ye.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ks(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ks(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&b7({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{o7(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ne.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),g7({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3,metadata:{errorType:ye.Error.EMEKeySessionCreationError}})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=y7({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ye.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{h7(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{YT(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":GT,"mux.js":c7,"mpd-parser":u7,"m3u8-parser":d7,"aes-decrypter":f7}}version(){return this.constructor.version()}canChangeType(){return PT.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&ne.URL.revokeObjectURL&&(ne.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return SF({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return sT({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{XT(this.xhr,e)},this.xhr.onResponse=e=>{JT(this.xhr,e)},this.xhr.offRequest=e=>{ZT(this.xhr,e)},this.xhr.offResponse=e=>{eE(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const uh={name:"videojs-http-streaming",VERSION:GT,canHandleSource(t,e={}){const r=Rt(ye.options,e);return uh.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=Rt(ye.options,r);return e.vhs=new tE(t,e,n),e.vhs.xhr=tT(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=B_(t);if(!r)return"";const n=uh.getOverrideNative(e);return!sr.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(ye.browser.IS_ANY_SAFARI||ye.browser.IS_IOS),{overrideNative:n=r}=e;return n}};cf("avc1.4d400d,mp4a.40.2")&&ye.getTech("Html5").registerSourceHandler(uh,0),ye.VhsHandler=tE,ye.VhsSourceHandler=uh,ye.Vhs=sr,ye.use||ye.registerComponent("Vhs",sr),ye.options.vhs=ye.options.vhs||{},(!ye.getPlugin||!ye.getPlugin("reloadSourceOnError"))&&ye.registerPlugin("reloadSourceOnError",l7);const w7=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),A7=u.createElementVNode("img",{class:"pointer-events-none absolute",src:f_,width:"24",height:"24"},null,-1),x7={class:"absolute bottom-2 right-2 rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},T7=u.defineComponent({__name:"VideoMessageContent",props:{message:{}},setup(t){const e=t,r=`vp-${Math.random()}`,n=u.ref(),i=u.ref(),o=u.ref(!1),s=()=>{const{width:c,height:h}=e.message.video;return c<h?{width:"200px",height:`${200*h/c}px`}:{width:`${200*c/h}px`,height:"200px"}},a=Ft(),l=async()=>{if(o.value)return;o.value=!0;const f=await a.dispatch("imkit/fetchVideoBlob",e.message.video.originalUrl);n.value&&(n.value.src=URL.createObjectURL(f)),i.value=ye(r)},d=u.computed(()=>a.state.imkit.uploadProgresses);return(f,c)=>{const h=u.resolveDirective("src");return u.openBlock(),u.createElementBlock("div",{class:"relative -m-2 flex cursor-pointer items-center justify-center",style:u.normalizeStyle(s()),onClick:l},[u.withDirectives(u.createElementVNode("video",{ref_key:"videoPlayer",ref:n,id:r,class:"video-js vjs-default-skin absolute inset-0 h-full w-full",controls:"",preload:"auto",autoplay:""},null,512),[[u.vShow,o.value]]),o.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[u.withDirectives(u.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:u.normalizeStyle(s())},null,4),[[h,f.message.video.thumbnailUrl]]),f.message.video.thumbnailUrl.startsWith("data")?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[w7,u.createVNode(u.unref(nf),{class:"!absolute",diameter:40,"completed-steps":d.value[f.message.video.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[A7,u.createElementVNode("div",x7,u.toDisplayString(Math.floor(f.message.video.duration/60))+":"+u.toDisplayString(`${Math.floor(f.message.video.duration%60)}`.padStart(2,"0")),1)],64))],64))],4)}}}),E7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR4nO3aMUpDQRSF4VmI1m5HtLCxkMxxA86JazAz2Ygi2LkgbVWMpQpKFCyihSZ33r0x58As4GP+F17gpaRp2sbs6GS6nUu7RGlPYHuzPrm029HJdDdFwYL1vgd0Af2Sx5MDb2/6uNnO2FBodMr4C8n6HAqN/re6t4gG62tmPfyX4PT52MRBYwBwKDQGAodBY0BwCDQGBruj4QB2RcMJ7IaGI9gFDWfwfMes+z+9kXX5w4HOYJyebS2LBuvN2oEz6/Uq6LUDY4BH4k/zBglM3bDtECBbPcPUj5bdECBbJU0lbTcEyFZJU0nbDQGyVdJU0nZDgGyVNJW03RAgWyVNJW03BMhWSVNJ2w0BslXSVNJ2Q4BslTSVtN2wcUmXvh+XrnJyaY/2YNarsGDWc3PwaDzZyaU9eOO+ndLufvupxHJfxZd2AdaZO5R1Nr/ZblhN01LEvQM/68r6Ex4bqgAAAABJRU5ErkJggg==",rE=t=>(u.pushScopeId("data-v-5248b347"),t=t(),u.popScopeId(),t),C7=rE(()=>u.createElementVNode("img",{class:"w-8 object-contain",src:E7},null,-1)),S7={class:"flex flex-col gap-0.5 font-normal"},k7={class:"break-all text-base"},I7=rE(()=>u.createElementVNode("div",{class:"absolute inset-0 -m-2 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1)),D7=wi(u.defineComponent({__name:"FileMessageContent",props:{message:{}},setup(t){const e=Ft(),r=t,n=u.computed(()=>r.message.isIncoming),i=u.computed(()=>e.state.imkit.uploadProgresses),o=u.computed(()=>{const a=r.message.bytes;return a<1e3?a+"B":a<1e3*1e3?(a/1e3).toFixed(1)+"KB":a<1e3*1e3*1e3?(a/1e3/1e3).toFixed(1)+"MB":(a/1e3/1e3/1e3).toFixed(1)+"GB"}),s=async()=>{try{const{url:a,fileName:l,fileExtension:d}=r.message,f=await e.state.imkit.axios.get(a,{responseType:"arraybuffer",onDownloadProgress:p=>{const{total:m}=p;m&&e.commit("imkit/updateField",{key:"downloadProgresses",value:{[a]:p.loaded/m}})}}),c=btoa(new Uint8Array(f.data).reduce((p,m)=>p+String.fromCharCode(m),"")),h=document.createElement("a");h.href=`data:${f.headers["content-type"]};base64,${c}`,h.download=`${l}.${d}`,h.click()}catch(a){console.error(a)}};return(a,l)=>(u.openBlock(),u.createElementBlock("div",{class:"relative flex cursor-pointer items-center justify-center gap-2",onClick:s},[C7,u.createElementVNode("div",S7,[u.createElementVNode("div",k7,u.toDisplayString(a.message.fileName)+"."+u.toDisplayString(a.message.fileExtension),1),u.createElementVNode("div",{class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":n.value}])},u.toDisplayString(a.$t("fileSize"))+": "+u.toDisplayString(o.value),3)]),a.message.url===""?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[I7,u.createVNode(u.unref(nf),{class:"!absolute",diameter:40,"completed-steps":i.value[a.message.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-5248b347"]]),Oo=t=>{t.type==="uri"&&window.open(t.uri,"_blank")},M7={class:"w-[250px] cursor-pointer overflow-hidden text-base"},N7=["src"],O7={key:1,class:"flex flex-col gap-2 border-t py-3"},L7=["onClick"],B7=u.defineComponent({__name:"TemplateMessageButtonsContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.isIncoming),n=u.computed(()=>!r.value);return(i,o)=>{var s;return u.openBlock(),u.createElementBlock("div",M7,[i.message.template.thumbnailImageUrl?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:u.normalizeStyle({"background-color":i.message.template.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:i.message.template.thumbnailImageUrl,onClick:o[0]||(o[0]=a=>u.unref(Oo)(i.message.template.defaultAction))},null,14,N7)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex flex-col gap-1 p-3",onClick:o[1]||(o[1]=a=>u.unref(Oo)(i.message.template.defaultAction))},[u.createElementVNode("div",null,u.toDisplayString((s=i.message.template.title)==null?void 0:s.substring(0,40)),1),i.message.template.text?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},u.toDisplayString(!i.message.template.thumbnailImageUrl&&!i.message.template.title?i.message.template.text.substring(0,160):i.message.template.text.substring(0,60)),3)):u.createCommentVNode("",!0)]),i.message.template.actions.length>0?(u.openBlock(),u.createElementBlock("div",O7,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.actions,a=>(u.openBlock(),u.createElementBlock("div",{key:a.label,class:u.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:l=>u.unref(Oo)(a)},u.toDisplayString(a.label),11,L7))),128))])):u.createCommentVNode("",!0)])}}}),R7={class:"w-[250px] overflow-hidden text-base"},P7={class:"p-3"},F7={class:"flex divide-x border-t"},U7=["onClick"],j7=u.defineComponent({__name:"TemplateMessageConfirmContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.isIncoming),n=u.computed(()=>!r.value);return(i,o)=>(u.openBlock(),u.createElementBlock("div",R7,[u.createElementVNode("div",P7,u.toDisplayString(i.message.template.text.substring(0,240)),1),u.createElementVNode("div",F7,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.actions.slice(0,2),s=>(u.openBlock(),u.createElementBlock("div",{key:s.label,class:u.normalizeClass(["flex grow cursor-pointer items-center justify-center p-2",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:a=>u.unref(Oo)(s)},u.toDisplayString(s.label),11,U7))),128))])]))}}),z7={class:"flex cursor-pointer gap-2 overflow-auto text-base"},$7=["src","onClick"],V7=["onClick"],H7={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},q7=["onClick"],W7=u.defineComponent({__name:"TemplateMessageCarouselContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.isIncoming),n=u.computed(()=>!r.value);return(i,o)=>(u.openBlock(),u.createElementBlock("div",z7,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.columns,(s,a)=>{var l;return u.openBlock(),u.createElementBlock("div",{key:a,class:u.normalizeClass(["w-[250px] cursor-pointer overflow-hidden rounded-xl text-base",[r.value?"bg-gray-100 text-gray-900 dark:bg-zinc-700":"bg-blue-400 text-white "]])},[s.thumbnailImageUrl?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:u.normalizeStyle({"background-color":s.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:s.thumbnailImageUrl,onClick:d=>u.unref(Oo)(s.defaultAction)},null,14,$7)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex flex-col gap-1 p-3",onClick:d=>u.unref(Oo)(s.defaultAction)},[u.createElementVNode("div",null,u.toDisplayString((l=s.title)==null?void 0:l.substring(0,40)),1),s.text?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},u.toDisplayString(!s.thumbnailImageUrl&&!s.title?s.text.substring(0,160):s.text.substring(0,60)),3)):u.createCommentVNode("",!0)],8,V7),s.actions.length>0?(u.openBlock(),u.createElementBlock("div",H7,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(s.actions,d=>(u.openBlock(),u.createElementBlock("div",{key:d.label,class:u.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:f=>u.unref(Oo)(d)},u.toDisplayString(d.label),11,q7))),128))])):u.createCommentVNode("",!0)],2)}),128))]))}}),G7={class:"flex cursor-pointer gap-2 overflow-auto text-base"},Q7=["src","onClick"],Y7=u.defineComponent({__name:"TemplateMessageImageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("div",G7,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.message.template.columns,(n,i)=>(u.openBlock(),u.createElementBlock("img",{key:i,src:n.imageUrl,class:"h-[250px] w-[250px] rounded-xl object-cover",onClick:o=>u.unref(Oo)(n.action)},null,8,Q7))),128))]))}}),K7=u.defineComponent({__name:"TemplateMessageContent",props:{message:{}},setup(t){const e={[Us.Buttons]:B7,[Us.Confirm]:j7,[Us.Carousel]:W7,[Us.ImageCarousel]:Y7};return(r,n)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[r.message.templateType]),{message:r.message},null,8,["message"]))}}),X7=u.defineComponent({__name:"FlexMessageBoxComponent",props:{content:{}},setup(t){const e=r=>({none:"0",xs:"2px",sm:"4px",md:"8px",lg:"12px",xl:"16px",xxl:"20px"})[r]??r;return(r,n)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["flex",{"flex-col":r.content.layout==="vertical","flex-row":r.content.layout==="horizontal","flex-row items-baseline":r.content.layout==="baseline"}]),style:u.normalizeStyle({backgroundColor:r.content.backgroundColor??"#00000000",borderColor:r.content.borderColor,borderWidth:r.content.borderWidth,borderRadius:r.content.cornerRadius,width:r.content.width,maxWidth:r.content.maxWidth,height:r.content.height,maxHeight:r.content.maxHeight})},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(r.content.contents,(i,o)=>(u.openBlock(),u.createBlock(xu,{key:o,content:i,style:u.normalizeStyle(r.content.layout==="vertical"?{marginTop:i.margin?e(i.margin):o===0?0:e(r.content.spacing)}:{marginLeft:i.margin?e(i.margin):o===0?0:e(r.content.spacing)})},null,8,["content","style"]))),128))],6))}}),J7=u.defineComponent({__name:"FlexMessageButtonComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>e.content.style==="primary"?"#ffffff":e.content.style==="secondary"?"#000000":e.content.color||"#42659a"),n=u.computed(()=>e.content.style==="primary"?e.content.color||"#17c950":e.content.style==="secondary"?e.content.color||"#dcdfe5":"");return(i,o)=>(u.openBlock(),u.createElementBlock("button",{class:u.normalizeClass([[i.content.size==="md"?"h-52px":"h-10"],"rounded-lg"]),style:u.normalizeStyle({color:r.value,backgroundColor:n.value}),onClick:o[0]||(o[0]=s=>u.unref(Oo)(i.content.action))},u.toDisplayString(i.content.action.label),7))}}),Z7=["src"],eU=u.defineComponent({__name:"FlexMessageImageComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>e.content.aspectRatio?e.content.aspectRatio.replace(":","/"):"1/1");return(n,i)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["w-full overflow-hidden bg-gray-300",[n.content.aspectMode==="cover"?"object-cover":"object-contain"]]),style:u.normalizeStyle({"aspect-ratio":r.value})},[u.createElementVNode("img",{class:"h-full w-full",src:n.content.url},null,8,Z7)],6))}}),tU=["src"],rU=u.defineComponent({__name:"FlexMessageVideoComponent",props:{content:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("video",{src:e.content.url},null,8,tU))}}),nU=u.defineComponent({__name:"FlexMessageIconComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(u.openBlock(),u.createElementBlock("span",{style:u.normalizeStyle({overflow:"hidden",background:"no-repeat center",backgroundSize:"contain",backgroundImage:"url("+n.content.url+")",width:r.value,height:r.value})},null,4))}}),iU=u.defineComponent({__name:"FlexMessageTextComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(u.openBlock(),u.createElementBlock("div",{class:"basis-0",style:u.normalizeStyle({flexGrow:n.content.flex??0})},[u.createElementVNode("p",{class:u.normalizeClass([n.content.weight==="bold"?"font-bold":"font-normal",n.content.wrap?"overflow-hidden overflow-clip whitespace-normal break-words":"overflow-hidden truncate whitespace-nowrap"]),style:u.normalizeStyle({fontSize:r.value,color:n.content.color,"text-size-adjust":"100%"})},u.toDisplayString(n.content.text),7)],4))}}),oU=u.defineComponent({__name:"FlexMessageSpanComponent",props:{content:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("span",null,u.toDisplayString(e.content.text),1))}}),sU=u.defineComponent({__name:"FlexMessageSeparatorComponent",props:{content:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("div"))}}),xu=u.defineComponent({__name:"FlexMessageComponent",props:{content:{}},setup(t){const e={box:X7,button:J7,image:eU,video:rU,icon:nU,text:iU,span:oU,separator:sU},r=t,n=u.computed(()=>r.content.type);return(i,o)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[n.value]),{content:i.content},null,8,["content"]))}}),nE=u.defineComponent({__name:"FlexMessageBubbleComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>e.content.header),n=u.computed(()=>e.content.hero),i=u.computed(()=>e.content.body),o=u.computed(()=>e.content.footer),s=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.header}),a=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.hero}),l=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.body}),d=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.footer}),f=u.computed(()=>{switch(e.content.size){case"nano":return"10px";case"micro":return"13px";case"kilo":return o.value?"13px 13px 17px 13px":"13px";case"mega":return o.value?"19px 20px 10px 20px":"20px";case"giga":return o.value?"19px 20px 10px 20px":"20px";default:return"20px"}});return(c,h)=>{var p,m,y,b,v,x,S,I,M,E,L,D;return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["overflow-hidden rounded-xl bg-gray-100 text-[#444444] dark:bg-zinc-700",{"w-[120px]":c.content.size==="nano","w-[160px]":c.content.size==="micro","w-[260px]":c.content.size==="kilo","w-[300px]":c.content.size==="mega"||!c.content.size,"w-[386px]":c.content.size==="giga"}])},[r.value?(u.openBlock(),u.createBlock(xu,{key:0,content:r.value,style:u.normalizeStyle({backgroundColor:(p=s.value)==null?void 0:p.backgroundColor,borderBottom:(m=s.value)!=null&&m.separator?`1px solid ${(y=s.value)==null?void 0:y.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0),n.value?(u.openBlock(),u.createBlock(xu,{key:1,content:n.value,style:u.normalizeStyle({backgroundColor:(b=a.value)==null?void 0:b.backgroundColor,borderBottom:(v=a.value)!=null&&v.separator?`1px solid ${(x=a.value)==null?void 0:x.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0),i.value?(u.openBlock(),u.createBlock(xu,{key:2,content:i.value,style:u.normalizeStyle({backgroundColor:(S=l.value)==null?void 0:S.backgroundColor,borderBottom:(I=l.value)!=null&&I.separator?`1px solid ${(M=l.value)==null?void 0:M.separatorColor}`:"none",padding:f.value})},null,8,["content","style"])):u.createCommentVNode("",!0),o.value?(u.openBlock(),u.createBlock(xu,{key:3,content:o.value,class:"p-2.5",style:u.normalizeStyle({backgroundColor:(E=d.value)==null?void 0:E.backgroundColor,borderBottom:(L=d.value)!=null&&L.separator?`1px solid ${(D=d.value)==null?void 0:D.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0)],2)}}}),aU=u.defineComponent({__name:"FlexMessageBubbleContent",props:{message:{}},setup(t){return(e,r)=>(u.openBlock(),u.createBlock(nE,{content:e.message.contents},null,8,["content"]))}}),lU={class:"flex items-start gap-2 overflow-auto"},cU=u.defineComponent({__name:"FlexMessageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("div",lU,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.message.contents.contents,(n,i)=>(u.openBlock(),u.createBlock(nE,{key:i,content:n},null,8,["content"]))),128))]))}}),uU=u.defineComponent({__name:"FlexMessageContent",props:{message:{}},setup(t){const e={[zm.Bubble]:aU,[zm.Carousel]:cU};return(r,n)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[r.message.flexType]),{message:r.message},null,8,["message"]))}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".mapdiv[data-v-dbf82c40]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var dU=Object.defineProperty,fU=(t,e,r)=>e in t?dU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iE=(t,e,r)=>(fU(t,typeof e!="symbol"?e+"":e,r),r);const Il=Symbol("map"),Dl=Symbol("api"),oE=Symbol("marker"),sE=Symbol("markerCluster"),dh=Symbol("CustomMarker"),aE=Symbol("mapTilesLoaded"),Ml=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function hU(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(c){s(c)}}function l(f){try{d(n.throw(f))}catch(c){s(c)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((n=n.apply(t,[])).next())})}var pU=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const lE="__googleMapsScriptId";var Nl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Nl||(Nl={}));let mU=class wc{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:i,id:o=lE,language:s,libraries:a=[],mapIds:l,nonce:d,region:f,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=o||lE,this.language=s,this.libraries=a,this.mapIds=l,this.nonce=d,this.region=f,this.retries=c,this.url=h,this.version=p,wc.instance){if(!pU(this.options,wc.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(wc.instance.options)}`);return wc.instance}wc.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Nl.FAILURE:this.done?Nl.SUCCESS:this.loading?Nl.LOADING:Nl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(o=>{let s,a,l,d="The Google Maps JavaScript API",f="google",c="importLibrary",h="__ib__",p=document,m=window;m=m[f]||(m[f]={});const y=m.maps||(m.maps={}),b=new Set,v=new URLSearchParams,x=()=>s||(s=new Promise((S,I)=>hU(this,void 0,void 0,function*(){var M;yield a=p.createElement("script"),a.id=this.id,v.set("libraries",[...b]+"");for(l in o)v.set(l.replace(/[A-Z]/g,E=>"_"+E[0].toLowerCase()),o[l]);v.set("callback",f+".maps."+h),a.src=this.url+"?"+v,y[h]=S,a.onerror=()=>s=I(Error(d+" could not load.")),a.nonce=this.nonce||((M=p.querySelector("script[nonce]"))===null||M===void 0?void 0:M.nonce)||"",p.head.append(a)})));y[c]?console.warn(d+" only loads once. Ignoring:",o):y[c]=(S,...I)=>b.add(S)&&x().then(()=>y[c](S,...I))})(n);const i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{const s=new ErrorEvent("error",{error:o});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}};function gU(t){return class extends t.OverlayView{constructor(e){super(),iE(this,"element"),iE(this,"opts");const{element:r,...n}=e;this.element=r,this.opts=n,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof t.LatLng?this.opts.position:new t.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||Number(e.style.opacity)>.01)}onAdd(){if(!this.element)return;const e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const e=this.getProjection(),r=e==null?void 0:e.fromLatLngToDivPixel(this.getPosition());if(r){this.element.style.position="absolute";const n=this.element.offsetHeight,i=this.element.offsetWidth;let o,s;switch(this.opts.anchorPoint){case"TOP_CENTER":o=r.x-i/2,s=r.y;break;case"BOTTOM_CENTER":o=r.x-i/2,s=r.y-n;break;case"LEFT_CENTER":o=r.x,s=r.y-n/2;break;case"RIGHT_CENTER":o=r.x-i,s=r.y-n/2;break;case"TOP_LEFT":o=r.x,s=r.y;break;case"TOP_RIGHT":o=r.x-i,s=r.y;break;case"BOTTOM_LEFT":o=r.x,s=r.y-n;break;case"BOTTOM_RIGHT":o=r.x-i,s=r.y-n;break;default:o=r.x-i/2,s=r.y-n/2}this.element.style.left=o+"px",this.element.style.top=s+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(e){const{element:r,...n}=e;this.element=r,this.opts=n,this.draw()}}}let cE;const uE=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],yU=u.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:uE,setup(t,{emit:e}){const r=u.ref(),n=u.ref(!1),i=u.ref(),o=u.ref(),s=u.ref(!1);u.provide(Il,i),u.provide(Dl,o),u.provide(aE,s);const a=()=>{const c={...t};Object.keys(c).forEach(m=>{c[m]===void 0&&delete c[m]});const h=m=>{var y;return m?{position:(y=o.value)==null?void 0:y.ControlPosition[m]}:{}},p={scaleControlOptions:t.scaleControlStyle?{style:t.scaleControlStyle}:{},panControlOptions:h(t.panControlPosition),zoomControlOptions:h(t.zoomControlPosition),rotateControlOptions:h(t.rotateControlPosition),streetViewControlOptions:h(t.streetViewControlPosition),fullscreenControlOptions:h(t.fullscreenControlPosition),disableDefaultUI:t.disableDefaultUi};return{...c,...p}},l=u.watch([o,i],([c,h])=>{const p=c,m=h;p&&m&&(p.event.addListenerOnce(m,"tilesloaded",()=>{s.value=!0}),setTimeout(l,0))},{immediate:!0}),d=()=>{try{const{apiKey:c,region:h,version:p,language:m,libraries:y,nonce:b}=t;cE=new mU({apiKey:c,region:h,version:p,language:m,libraries:y,nonce:b})}catch(c){console.error(c)}},f=c=>{o.value=u.markRaw(c.maps),i.value=u.markRaw(new c.maps.Map(r.value,a()));const h=gU(o.value);o.value[dh]=h,uE.forEach(m=>{var y;(y=i.value)==null||y.addListener(m,b=>e(m,b))}),n.value=!0;const p=Object.keys(t).filter(m=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(m)).map(m=>u.toRef(t,m));u.watch([()=>t.center,()=>t.zoom,...p],([m,y],[b,v])=>{var x,S,I;const{center:M,zoom:E,...L}=a();(x=i.value)==null||x.setOptions(L),y!==void 0&&y!==v&&((S=i.value)==null||S.setZoom(y));const D=!b||m.lng!==b.lng||m.lat!==b.lat;m&&D&&((I=i.value)==null||I.panTo(m))})};return u.onMounted(()=>{t.apiPromise&&t.apiPromise instanceof Promise?t.apiPromise.then(f):(d(),cE.load().then(f))}),u.onBeforeUnmount(()=>{var c;s.value=!1,i.value&&((c=o.value)==null||c.event.clearInstanceListeners(i.value))}),{mapRef:r,ready:n,map:i,api:o,mapTilesLoaded:s}}}),bU=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},vU={ref:"mapRef",class:"mapdiv"};function _U(t,e,r,n,i,o){return u.openBlock(),u.createElementBlock("div",null,[u.createElementVNode("div",vU,null,512),u.renderSlot(t.$slots,"default",u.normalizeProps(u.guardReactiveProps({ready:t.ready,map:t.map,api:t.api,mapTilesLoaded:t.mapTilesLoaded})),void 0,!0)])}const dE=bU(yU,[["render",_U],["__scopeId","data-v-dbf82c40"]]);function wU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AU=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const Xs=wU(AU),xU=t=>t==="Marker",TU=t=>t===dh,Ol=(t,e,r,n)=>{const i=u.ref(),o=u.inject(Il,u.ref()),s=u.inject(Dl,u.ref()),a=u.inject(sE,u.ref()),l=u.computed(()=>!!(a.value&&s.value&&(i.value instanceof s.value.Marker||i.value instanceof s.value[dh])));return u.watch([o,r],(d,[f,c])=>{var h,p,m;const y=!Xs(r.value,c)||o.value!==f;!o.value||!s.value||!y||(i.value?(i.value.setOptions(r.value),l.value&&((h=a.value)==null||h.removeMarker(i.value),(p=a.value)==null||p.addMarker(i.value))):(xU(t)?i.value=u.markRaw(new s.value[t](r.value)):TU(t)?i.value=u.markRaw(new s.value[t](r.value)):i.value=u.markRaw(new s.value[t]({...r.value,map:o.value})),l.value?(m=a.value)==null||m.addMarker(i.value):i.value.setMap(o.value),e.forEach(b=>{var v;(v=i.value)==null||v.addListener(b,x=>n(b,x))})))},{immediate:!0}),u.onBeforeUnmount(()=>{var d,f;i.value&&((d=s.value)==null||d.event.clearInstanceListeners(i.value),l.value?(f=a.value)==null||f.removeMarker(i.value):i.value.setMap(null))}),i},fE=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],hE=u.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:fE,setup(t,{emit:e,expose:r,slots:n}){const i=u.toRef(t,"options"),o=Ol("Marker",fE,i,e);return u.provide(oE,o),r({marker:o}),()=>{var s;return(s=n.default)==null?void 0:s.call(n)}}});u.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:Ml,setup(t,{emit:e}){const r=u.toRef(t,"options");return{polyline:Ol("Polyline",Ml,r,e)}},render:()=>null}),u.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:Ml,setup(t,{emit:e}){const r=u.toRef(t,"options");return{polygon:Ol("Polygon",Ml,r,e)}},render:()=>null});const pE=Ml.concat(["bounds_changed"]);u.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:pE,setup(t,{emit:e}){const r=u.toRef(t,"options");return{rectangle:Ol("Rectangle",pE,r,e)}},render:()=>null});const mE=Ml.concat(["center_changed","radius_changed"]);u.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:mE,setup(t,{emit:e}){const r=u.toRef(t,"options");return{circle:Ol("Circle",mE,r,e)}},render:()=>null}),u.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(t,{emit:e}){const r=u.ref(null),n=u.inject(Il,u.ref()),i=u.inject(Dl,u.ref()),o=u.inject(aE,u.ref(!1)),s=u.watch([o,i,r],([d,f,c])=>{f&&d&&c&&(a(t.position),e("content:loaded"),setTimeout(s,0))},{immediate:!0}),a=d=>{if(n.value&&i.value&&r.value){const f=i.value.ControlPosition[d];n.value.controls[f].push(r.value)}},l=d=>{if(n.value&&i.value){let f=null;const c=i.value.ControlPosition[d];n.value.controls[c].forEach((h,p)=>{h===r.value&&(f=p)}),f!==null&&n.value.controls[c].removeAt(f)}};return u.onBeforeUnmount(()=>l(t.position)),u.watch(()=>t.position,(d,f)=>{l(f),a(d)}),u.watch(()=>t.index,d=>{d&&r.value&&(r.value.index=t.index)}),{controlRef:r}}});const gE=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"];u.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...gE,"update:modelValue"],setup(t,{slots:e,emit:r,expose:n}){const i=u.ref(),o=u.ref(),s=u.inject(Il,u.ref()),a=u.inject(Dl,u.ref()),l=u.inject(oE,u.ref());let d,f=t.modelValue;const c=u.computed(()=>{var y;return(y=e.default)==null?void 0:y.call(e).some(b=>b.type!==u.Comment)}),h=y=>{f=y,r("update:modelValue",y)},p=y=>{i.value&&(i.value.open({map:s.value,anchor:l.value,...y}),h(!0))},m=()=>{i.value&&(i.value.close(),h(!1))};return u.onMounted(()=>{u.watch([s,()=>t.options],([y,b],[v,x])=>{var S;const I=!Xs(b,x)||s.value!==v;s.value&&a.value&&I&&(i.value?(i.value.setOptions({...b,content:c.value?o.value:b.content}),l.value||p()):(i.value=u.markRaw(new a.value.InfoWindow({...b,content:c.value?o.value:b.content})),l.value&&(d=l.value.addListener("click",()=>{p()})),(!l.value||f)&&p(),gE.forEach(M=>{var E;(E=i.value)==null||E.addListener(M,L=>r(M,L))}),(S=i.value)==null||S.addListener("closeclick",()=>h(!1))))},{immediate:!0}),u.watch(()=>t.modelValue,y=>{y!==f&&(y?p():m())})}),u.onBeforeUnmount(()=>{var y;d&&d.remove(),i.value&&((y=a.value)==null||y.event.clearInstanceListeners(i.value),m())}),n({infoWindow:i,open:p,close:m}),{infoWindow:i,infoWindowRef:o,hasSlotContent:c,open:p,close:m}}});const yE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],G0=1,Tu=8;let EU=class VD{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==G0)throw new Error(`Got v${i} data when expected v${G0}.`);const o=yE[n&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new VD(a,s,o,e)}constructor(e,r=64,n=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=yE.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Tu,e),this.coords=new this.ArrayType(this.data,Tu+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Tu+s+a+l),this.ids=new this.IndexArrayType(this.data,Tu,e),this.coords=new this.ArrayType(this.data,Tu+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(G0<<4)+o]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Q0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,l=[0,o.length-1,0],d=[];for(;l.length;){const f=l.pop()||0,c=l.pop()||0,h=l.pop()||0;if(c-h<=a){for(let b=h;b<=c;b++){const v=s[2*b],x=s[2*b+1];v>=e&&v<=n&&x>=r&&x<=i&&d.push(o[b])}continue}const p=h+c>>1,m=s[2*p],y=s[2*p+1];m>=e&&m<=n&&y>=r&&y<=i&&d.push(o[p]),(f===0?e<=m:r<=y)&&(l.push(h),l.push(p-1),l.push(1-f)),(f===0?n>=m:i>=y)&&(l.push(p+1),l.push(c),l.push(1-f))}return d}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[],d=n*n;for(;a.length;){const f=a.pop()||0,c=a.pop()||0,h=a.pop()||0;if(c-h<=s){for(let b=h;b<=c;b++)vE(o[2*b],o[2*b+1],e,r)<=d&&l.push(i[b]);continue}const p=h+c>>1,m=o[2*p],y=o[2*p+1];vE(m,y,e,r)<=d&&l.push(i[p]),(f===0?e-n<=m:r-n<=y)&&(a.push(h),a.push(p-1),a.push(1-f)),(f===0?e+n>=m:r+n>=y)&&(a.push(p+1),a.push(c),a.push(1-f))}return l}};function Q0(t,e,r,n,i,o){if(i-n<=r)return;const s=n+i>>1;bE(t,e,s,n,i,o),Q0(t,e,r,n,s-1,1-o),Q0(t,e,r,s+1,i,1-o)}function bE(t,e,r,n,i,o){for(;i>n;){if(i-n>600){const d=i-n+1,f=r-n+1,c=Math.log(d),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(d-h)/d)*(f-d/2<0?-1:1),m=Math.max(n,Math.floor(r-f*h/d+p)),y=Math.min(i,Math.floor(r+(d-f)*h/d+p));bE(t,e,r,m,y,o)}const s=e[2*r+o];let a=n,l=i;for(Eu(t,e,n,r),e[2*i+o]>s&&Eu(t,e,n,i);a<l;){for(Eu(t,e,a,l),a++,l--;e[2*a+o]<s;)a++;for(;e[2*l+o]>s;)l--}e[2*n+o]===s?Eu(t,e,n,l):(l++,Eu(t,e,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1)}}function Eu(t,e,r,n){Y0(t,r,n),Y0(e,2*r,2*n),Y0(e,2*r+1,2*n+1)}function Y0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function vE(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}const CU={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},_E=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Js=2,ss=3,K0=4,as=5,wE=6;let AE=class{constructor(e){this.options=Object.assign(Object.create(CU),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const o=`prepare ${e.length} points`;r&&console.time(o),this.points=e;const s=[];for(let l=0;l<e.length;l++){const d=e[l];if(!d.geometry)continue;const[f,c]=d.geometry.coordinates,h=_E(fh(f)),p=_E(hh(c));s.push(h,p,1/0,l,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(o);for(let l=i;l>=n;l--){const d=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),r&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-d)}return r&&console.timeEnd("total time"),this}getClusters(e,r){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){const c=this.getClusters([n,i,180,s],r),h=this.getClusters([-180,i,o,s],r);return c.concat(h)}const a=this.trees[this._limitZoom(r)],l=a.range(fh(n),hh(s),fh(o),hh(i)),d=a.data,f=[];for(const c of l){const h=this.stride*c;f.push(d[h+as]>1?xE(d,h,this.clusterProps):this.points[d[h+ss]])}return f}getChildren(e){const r=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(i);const s=o.data;if(r*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=s[r*this.stride],d=s[r*this.stride+1],f=o.within(l,d,a),c=[];for(const h of f){const p=h*this.stride;s[p+K0]===e&&c.push(s[p+as]>1?xE(s,p,this.clusterProps):this.points[s[p+ss]])}if(c.length===0)throw new Error(i);return c}getLeaves(e,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,e,r,n,0),i}getTile(e,r,n){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,l=a/s,d=(n-l)/o,f=(n+1+l)/o,c={features:[]};return this._addTileFeatures(i.range((r-l)/o,d,(r+1+l)/o,f),i.data,r,n,o,c),r===0&&this._addTileFeatures(i.range(1-l/o,d,1,f),i.data,o,n,o,c),r===o-1&&this._addTileFeatures(i.range(0,d,l/o,f),i.data,-1,n,o,c),c.features.length?c:null}getClusterExpansionZoom(e){let r=this._getOriginZoom(e)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,i,o){const s=this.getChildren(r);for(const a of s){const l=a.properties;if(l&&l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,n,i,o):o<i?o++:e.push(a),e.length===n)break}return o}_createTree(e){const r=new EU(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,i,o,s){for(const a of e){const l=a*this.stride,d=r[l+as]>1;let f,c,h;if(d)f=TE(r,l,this.clusterProps),c=r[l],h=r[l+1];else{const y=this.points[r[l+ss]];f=y.properties;const[b,v]=y.geometry.coordinates;c=fh(b),h=hh(v)}const p={type:1,geometry:[[Math.round(this.options.extent*(c*o-n)),Math.round(this.options.extent*(h*o-i))]],tags:f};let m;d||this.options.generateId?m=r[l+ss]:m=this.points[r[l+ss]].id,m!==void 0&&(p.id=m),s.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){const{radius:n,extent:i,reduce:o,minPoints:s}=this.options,a=n/(i*Math.pow(2,r)),l=e.data,d=[],f=this.stride;for(let c=0;c<l.length;c+=f){if(l[c+Js]<=r)continue;l[c+Js]=r;const h=l[c],p=l[c+1],m=e.within(l[c],l[c+1],a),y=l[c+as];let b=y;for(const v of m){const x=v*f;l[x+Js]>r&&(b+=l[x+as])}if(b>y&&b>=s){let v=h*y,x=p*y,S,I=-1;const M=((c/f|0)<<5)+(r+1)+this.points.length;for(const E of m){const L=E*f;if(l[L+Js]<=r)continue;l[L+Js]=r;const D=l[L+as];v+=l[L]*D,x+=l[L+1]*D,l[L+K0]=M,o&&(S||(S=this._map(l,c,!0),I=this.clusterProps.length,this.clusterProps.push(S)),o(S,this._map(l,L)))}l[c+K0]=M,d.push(v/b,x/b,1/0,M,-1,b),o&&d.push(I)}else{for(let v=0;v<f;v++)d.push(l[c+v]);if(b>1)for(const v of m){const x=v*f;if(!(l[x+Js]<=r)){l[x+Js]=r;for(let S=0;S<f;S++)d.push(l[x+S])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+as]>1){const s=this.clusterProps[e[r+wE]];return n?Object.assign({},s):s}const i=this.points[e[r+ss]].properties,o=this.options.map(i);return n&&o===i?Object.assign({},o):o}};function xE(t,e,r){return{type:"Feature",id:t[e+ss],properties:TE(t,e,r),geometry:{type:"Point",coordinates:[SU(t[e]),kU(t[e+1])]}}}function TE(t,e,r){const n=t[e+as],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,o=t[e+wE],s=o===-1?{}:Object.assign({},r[o]);return Object.assign(s,{cluster:!0,cluster_id:t[e+ss],point_count:n,point_count_abbreviated:i})}function fh(t){return t/360+.5}function hh(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function SU(t){return(t-.5)*360}function kU(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function X0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}class qr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Cu{constructor({markers:e,position:r}){this.markers=e,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)e.extend(qr.getPosition(r));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>qr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(qr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const IU=(t,e,r,n)=>{const i=EE(t.getBounds(),e,n);return r.filter(o=>i.contains(qr.getPosition(o)))},EE=(t,e,r)=>{const{northEast:n,southWest:i}=DU(t,e),o=MU({northEast:n,southWest:i},r);return NU(o,e)},CE=(t,e,r)=>{const n=EE(t,e,r),i=n.getNorthEast(),o=n.getSouthWest();return[o.lng(),o.lat(),i.lng(),i.lat()]},DU=(t,e)=>({northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}),MU=({northEast:t,southWest:e},r)=>(t.x+=r,t.y-=r,e.x-=r,e.y+=r,{northEast:t,southWest:e}),NU=({northEast:t,southWest:e},r)=>{const n=r.fromDivPixelToLatLng(e),i=r.fromDivPixelToLatLng(t);return new google.maps.LatLngBounds(n,i)};class SE{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return LU(e)}}let OU=class extends SE{constructor(e){var{viewportPadding:r=60}=e,n=X0(e,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=r}calculate({markers:e,map:r,mapCanvasProjection:n}){return r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:IU(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}};const LU=t=>t.map(e=>new Cu({position:qr.getPosition(e),markers:[e]}));let BU=class extends SE{constructor(e){var{maxZoom:r,radius:n=60}=e,i=X0(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new AE(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){let r=!1;const n={zoom:e.map.getZoom()};if(!Xs(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=qr.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!Xs(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new Cu({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new Cu({markers:[i],position:qr.getPosition(i)})}},RU=class extends OU{constructor(e){var{maxZoom:r,radius:n=60,viewportPadding:i=60}=e,o=X0(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:r,viewportPadding:i}),this.superCluster=new AE(Object.assign({maxZoom:this.maxZoom,radius:n},o)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const r={zoom:Math.round(e.map.getZoom()),view:CE(e.map.getBounds(),e.mapCanvasProjection,this.viewportPadding)};let n=!Xs(this.state,r);if(!Xs(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=qr.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return n&&(this.clusters=this.cluster(e),this.state=r),{clusters:this.clusters,changed:n}}cluster({map:e,mapCanvasProjection:r}){const n={zoom:Math.round(e.getZoom()),view:CE(e.getBounds(),r,this.viewportPadding)};return this.superCluster.getClusters(n.view,n.zoom).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new Cu({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new Cu({markers:[i],position:qr.getPosition(i)})}},PU=class{constructor(e,r){this.markers={sum:e.length};const n=r.map(o=>o.count),i=n.reduce((o,s)=>o+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}},FU=class{render({count:e,position:r},n,i){const o=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,s=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(qr.isAdvancedMarkerAvailable(i)){const d=document.createElement("div");d.innerHTML=o;const f=d.firstElementChild;f.setAttribute("transform","translate(0 25)");const c={map:i,position:r,zIndex:a,title:s,content:f};return new google.maps.marker.AdvancedMarkerElement(c)}const l={position:r,zIndex:a,title:s,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}};function UU(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}let jU=class HD{constructor(){UU(HD,google.maps.OverlayView)}};var Ll;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Ll||(Ll={}));const zU=(t,e,r)=>{r.fitBounds(e.bounds)};let $U=class extends jU{constructor({map:e,markers:r=[],algorithmOptions:n={},algorithm:i=new BU(n),renderer:o=new FU,onClusterClick:s=zU}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){const n=this.markers.indexOf(e);return n===-1?!1:(qr.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){let n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ll.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||qr.setMap(s.marker,null):o.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>qr.setMap(s,null)))}google.maps.event.trigger(this,Ll.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>qr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new PU(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,r),n.markers.forEach(i=>qr.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Ll.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),qr.setMap(n.marker,r)})}};const kE=Object.values(Ll);u.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:kE,setup(t,{emit:e,expose:r,slots:n}){const i=u.ref(),o=u.inject(Il,u.ref()),s=u.inject(Dl,u.ref());return u.provide(sE,i),u.watch(o,()=>{o.value&&(i.value=u.markRaw(new $U({map:o.value,algorithm:new RU(t.options.algorithmOptions??{}),...t.options})),kE.forEach(a=>{var l;(l=i.value)==null||l.addListener(a,d=>e(a,d))}))},{immediate:!0}),u.onBeforeUnmount(()=>{var a;i.value&&((a=s.value)==null||a.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),r({markerCluster:i}),()=>{var a;return(a=n.default)==null?void 0:a.call(n)}}}),u.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(t,{slots:e,emit:r,expose:n}){const i=u.ref(),o=u.computed(()=>{var l;return(l=e.default)==null?void 0:l.call(e).some(d=>d.type!==u.Comment)}),s=u.computed(()=>({...t.options,element:i.value})),a=Ol(dh,[],s,r);return n({customMarker:a}),{customMarkerRef:i,customMarker:a,hasSlotContent:o}}}),u.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=u.ref(),r=u.inject(Il,u.ref()),n=u.inject(Dl,u.ref());return u.watch([r,()=>t.options],([i,o],[s,a])=>{var l;const d=!Xs(o,a)||r.value!==s;if(r.value&&n.value&&d){const f=structuredClone(o);if(f.data&&!(f.data instanceof n.value.MVCArray)){const c=n.value.LatLng;f.data=(l=f.data)==null?void 0:l.map(h=>h instanceof c||"location"in h&&(h.location instanceof c||h.location===null)?h:"location"in h?{...h,location:new c(h.location)}:new c(h))}e.value?e.value.setOptions(f):e.value=u.markRaw(new n.value.visualization.HeatmapLayer({...f,map:r.value}))}},{immediate:!0}),u.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const VU=t=>(u.pushScopeId("data-v-b091599d"),t=t(),u.popScopeId(),t),HU={class:"w-[250px] p-2 underline sm:w-[300px]"},qU=VU(()=>u.createElementVNode("div",{class:"absolute inset-0"},null,-1)),WU=wi(u.defineComponent({__name:"LocationMessageContent",props:{message:{}},setup(t){const e=t,n=Ft().state.imkit.config.mapApiKey,i=u.computed(()=>({lat:e.message.latitude,lng:e.message.longitude})),o=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e.message.address}`,"_blank")};return(s,a)=>(u.openBlock(),u.createElementBlock("div",{class:"relative -mx-3 -my-2 flex cursor-pointer flex-col",onClick:o},[u.createVNode(u.unref(dE),{"api-key":u.unref(n),center:i.value,zoom:15,disableDefaultUi:!0,class:"h-[150px] w-[250px] sm:h-[200px] sm:w-[300px]"},{default:u.withCtx(()=>[u.createVNode(u.unref(hE),{options:{position:i.value}},null,8,["options"])]),_:1},8,["api-key","center"]),u.createElementVNode("div",HU,u.toDisplayString(s.message.address),1),qU]))}}),[["__scopeId","data-v-b091599d"]]),GU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVR4nO2bPYsUQRCGG1E0MRAFTQSNTjRSQxE0M9NfoGCwOv3O3k7XKpxR9e7hdyRGlxoan2B+4AcamBmYGKhgZqAmoitzB87eMh93595uz877QCcbLQ9dNV3V1cYQQgghhBBCpswV1T3Anf3T/h/BYZP+Cev0uXX+N8QPIPoFzt9qtx/tNk0HiZ6C+B9rYtYv6/z7OOmdMU0GTt/myRmSlO6qx1dv3t9rmkbcXTxaJmfdcvrROr1gmkSc9M5uWFAm6kljEjm6em7TglYl+a+R08tm1sFWBWW7aTmSxcNmVsH/ClqT9A3iO6q6w8waGIegLOxWrnf6c2aWwDgFpUcC0Z9w6lutpV1mFsCYBQ2Jehd1+6dN3cE2CVqV5PwvK3ovre9MXcE2ChpaHyLXO2/qCCYjKC1+/1jnl2pXrmBigv6F3Web9C6auoAJCxpK4k9bogdM6GBKgmpTrmCagrL1LNhyBWEICrdcQSiCsrBbiUWPmVBAaIJCK1cQoKBMlH9pb+ghCpJSSa9VdSd3kBRLikUvUZCU7CLnH1KQlOUjfUBBwhAbbO1cpK+YpKXwPPRifv72QX7mhQfFwcZDiqXGoCDXsFhF8c5huwP54cSGGYq/UGy5Ir9sYNMe+eUCr31QnIR5cYj8cOLVM4qTMIcXEHo/eRyAA1TlcASvAg5xVsAx4Ao4SF7BtY4e2UT7s3lPEVKs+DcV1y7NfcyS0pb+Sev0e4EcPodKaXf1+MiDuk9WdIEP6kZIhUQLd/eN/k4IIYQQQggxDeMvr6MHGaopSLgAAAAASUVORK5CYII=",QU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO2bzy5DQRTGJ8GaDQ+ANZ4FXbDxZ9HoGTc1p01scA5SGmshfQLBAu+gkYgXYqEyjUhEae/0Ti/y/ZJZ3vnO/e733d0xBgAAAAAAgFhsVGSCKrJoK1L8cpwsJ9XDqaw1ycm0v7uz5v5CktTGTd6IyLBlObEsL5a19f2RV8t6WS7LWL+a/g7r9PpnPW2R02fr9NjPaPKCnDa6DfrpOG32M3Cx2Bgh1od0mnJm8oDKMveejN6H9V+WZTVYk2U9rZ6fsVSVGTNorJO99MO2B74N1SSndyGaxLqb7dv3MizreZBBTh5DNf2zgQadm1///+EPg55CNf2zQQY5bZhBQzAIBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAb1lyDGKkKUZRZyemMGvcziZMcMmk13MBuyDmW3dCVU0zpd+zPrUCE1I5b7fhbq2huOTpsp03Nq8kJEhoml3l5/7PIVifWiuF0fzWIlk1iueqjyM7EcFQpXQyZvkqQ2XqrIfKcFW2JdKm3JZNaa/k5/dydNP8uvWOoFAAAAAADm3/IGGLsxyp+ApQ8AAAAASUVORK5CYII=",YU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nO3bTy5DYRSG8ZuosU5qAWWMtZQJE38GVkGHiHGj6QoEA+yBSJpuiIFXGtesvPee77sp+vwS057zPcXsFAUAAADQFEmrknYkHc/42ZO01sDM9fKzZ83cltTJPTOyZEvSpaQ3/exd0o2kdoaZbUl38l4lnU93zPPa2LIj1fOcsrCkZUkvNWde5X119WW3yt+Mug4SZh4F5k133Mj7+mrL9hXzkDDzMTjzNO/rqy07DC47Tpg5Ds4c5n19M/9/vkwSZk4UM8r7+mrLjoLLEsggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZBDIIJBBIINABoEMAhkEMghkEMggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZCxMoGFw2YU5RegHl72fwzHLSd7XV1t2M3gOtZ8w8/DPnEMF/8yeEg/qWuVRXh2DYl70ufBFef7ovsVrSSuZTjJvK4SZ7nQmaSnPa9OW7kjqfXNguyup28DMbvnZs2b2fsVRLwAAAIp/6wPxkEFCV8mUxgAAAABJRU5ErkJggg==";var IE={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||r;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var h=this||r;if(c=parseFloat(c),h.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(h._volume=c,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),y=0;y<m.length;y++){var b=h._howls[p]._soundById(m[y]);b&&b._node&&(b._node.volume=b._volume*c)}return h}return h._volume},mute:function(c){var h=this||r;h.ctx||f(),h._muted=c,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c?0:h._volume,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),y=0;y<m.length;y++){var b=h._howls[p]._soundById(m[y]);b&&b._node&&(b._node.muted=c?!0:b._muted)}return h},stop:function(){for(var c=this||r,h=0;h<c._howls.length;h++)c._howls[h].stop();return c},unload:function(){for(var c=this||r,h=c._howls.length-1;h>=0;h--)c._howls[h].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||r)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||r;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var h=new Audio;h.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||r,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return c}if(!h||typeof h.canPlayType!="function")return c;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=c._navigator?c._navigator.userAgent:"",y=m.match(/OPR\/(\d+)/g),b=y&&parseInt(y[0].split("/")[1],10)<33,v=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),S=v&&x&&parseInt(x[1],10)<15;return c._codecs={mp3:!!(!b&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||r;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var h=function(p){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,c._releaseHtml5Audio(m)}catch{c.noAudio=!0;break}for(var y=0;y<c._howls.length;y++)if(!c._howls[y]._webAudio)for(var b=c._howls[y]._getSoundIds(),v=0;v<b.length;v++){var x=c._howls[y]._soundById(b[v]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}c._autoResume();var S=c.ctx.createBufferSource();S.buffer=c._scratchBuffer,S.connect(c.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),S.onended=function(){S.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var I=0;I<c._howls.length;I++)c._howls[I]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),c}},_obtainHtml5Audio:function(){var c=this||r;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var h=this||r;return c._unlocked&&h._html5AudioPool.push(c),h},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!r.usingWebAudio)){for(var h=0;h<c._howls.length;h++)if(c._howls[h]._webAudio){for(var p=0;p<c._howls[h]._sounds.length;p++)if(!c._howls[h]._sounds[p]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var m=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(m,m)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!r.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var h=0;h<c._howls.length;h++)c._howls[h]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var r=new e,n=function(c){var h=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(c)};n.prototype={init:function(c){var h=this;return r.ctx||f(),h._autoplay=c.autoplay||!1,h._format=typeof c.format!="string"?c.format:[c.format],h._html5=c.html5||!1,h._muted=c.mute||!1,h._loop=c.loop||!1,h._pool=c.pool||5,h._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,h._rate=c.rate||1,h._sprite=c.sprite||{},h._src=typeof c.src!="string"?c.src:[c.src],h._volume=c.volume!==void 0?c.volume:1,h._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=c.onend?[{fn:c.onend}]:[],h._onfade=c.onfade?[{fn:c.onfade}]:[],h._onload=c.onload?[{fn:c.onload}]:[],h._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],h._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],h._onpause=c.onpause?[{fn:c.onpause}]:[],h._onplay=c.onplay?[{fn:c.onplay}]:[],h._onstop=c.onstop?[{fn:c.onstop}]:[],h._onmute=c.onmute?[{fn:c.onmute}]:[],h._onvolume=c.onvolume?[{fn:c.onvolume}]:[],h._onrate=c.onrate?[{fn:c.onrate}]:[],h._onseek=c.onseek?[{fn:c.onseek}]:[],h._onunlock=c.onunlock?[{fn:c.onunlock}]:[],h._onresume=[],h._webAudio=r.usingWebAudio&&!h._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var c=this,h=null;if(r.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var p=0;p<c._src.length;p++){var m,y;if(c._format&&c._format[p])m=c._format[p];else{if(y=c._src[p],typeof y!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(y),m||(m=/\.([^.]+)$/.exec(y.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&r.codecs(m)){h=c._src[p];break}}if(!h){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=h,c._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&s(c),c},play:function(c,h){var p=this,m=null;if(typeof c=="number")m=c,c=null;else{if(typeof c=="string"&&p._state==="loaded"&&!p._sprite[c])return null;if(typeof c>"u"&&(c="__default",!p._playLock)){for(var y=0,b=0;b<p._sounds.length;b++)p._sounds[b]._paused&&!p._sounds[b]._ended&&(y++,m=p._sounds[b]._id);y===1?c=null:m=null}}var v=m?p._soundById(m):p._inactiveSound();if(!v)return null;if(m&&!c&&(c=v._sprite||"__default"),p._state!=="loaded"){v._sprite=c,v._ended=!1;var x=v._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(m&&!v._paused)return h||p._loadQueue("play"),v._id;p._webAudio&&r._autoResume();var S=Math.max(0,v._seek>0?v._seek:p._sprite[c][0]/1e3),I=Math.max(0,(p._sprite[c][0]+p._sprite[c][1])/1e3-S),M=I*1e3/Math.abs(v._rate),E=p._sprite[c][0]/1e3,L=(p._sprite[c][0]+p._sprite[c][1])/1e3;v._sprite=c,v._ended=!1;var D=function(){v._paused=!1,v._seek=S,v._start=E,v._stop=L,v._loop=!!(v._loop||p._sprite[c][2])};if(S>=L){p._ended(v);return}var C=v._node;if(p._webAudio){var R=function(){p._playLock=!1,D(),p._refreshBuffer(v);var z=v._muted||p._muted?0:v._volume;C.gain.setValueAtTime(z,r.ctx.currentTime),v._playStart=r.ctx.currentTime,typeof C.bufferSource.start>"u"?v._loop?C.bufferSource.noteGrainOn(0,S,86400):C.bufferSource.noteGrainOn(0,S,I):v._loop?C.bufferSource.start(0,S,86400):C.bufferSource.start(0,S,I),M!==1/0&&(p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),M)),h||setTimeout(function(){p._emit("play",v._id),p._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?R():(p._playLock=!0,p.once("resume",R),p._clearTimer(v._id))}else{var $=function(){C.currentTime=S,C.muted=v._muted||p._muted||r._muted||C.muted,C.volume=v._volume*r.volume(),C.playbackRate=v._rate;try{var z=C.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(p._playLock=!0,D(),z.then(function(){p._playLock=!1,C._unlocked=!0,h?p._loadQueue():p._emit("play",v._id)}).catch(function(){p._playLock=!1,p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):h||(p._playLock=!1,D(),p._emit("play",v._id)),C.playbackRate=v._rate,C.paused){p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||v._loop?p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),M):(p._endTimers[v._id]=function(){p._ended(v),C.removeEventListener("ended",p._endTimers[v._id],!1)},C.addEventListener("ended",p._endTimers[v._id],!1))}catch(W){p._emit("playerror",v._id,W)}};C.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(C.src=p._src,C.load());var U=window&&window.ejecta||!C.readyState&&r._navigator.isCocoonJS;if(C.readyState>=3||U)$();else{p._playLock=!0,p._state="loading";var F=function(){p._state="loaded",$(),C.removeEventListener(r._canPlayEvent,F,!1)};C.addEventListener(r._canPlayEvent,F,!1),p._clearTimer(v._id)}}return v._id},pause:function(c){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(c)}}),h;for(var p=h._getSoundIds(c),m=0;m<p.length;m++){h._clearTimer(p[m]);var y=h._soundById(p[m]);if(y&&!y._paused&&(y._seek=h.seek(p[m]),y._rateSeek=0,y._paused=!0,h._stopFade(p[m]),y._node))if(h._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),h._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||h._emit("pause",y?y._id:null)}return h},stop:function(c,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(c)}}),p;for(var m=p._getSoundIds(c),y=0;y<m.length;y++){p._clearTimer(m[y]);var b=p._soundById(m[y]);b&&(b._seek=b._start||0,b._rateSeek=0,b._paused=!0,b._ended=!0,p._stopFade(m[y]),b._node&&(p._webAudio?b._node.bufferSource&&(typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),p._cleanBuffer(b._node)):(!isNaN(b._node.duration)||b._node.duration===1/0)&&(b._node.currentTime=b._start||0,b._node.pause(),b._node.duration===1/0&&p._clearSound(b._node))),h||p._emit("stop",b._id))}return p},mute:function(c,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(c,h)}}),p;if(typeof h>"u")if(typeof c=="boolean")p._muted=c;else return p._muted;for(var m=p._getSoundIds(h),y=0;y<m.length;y++){var b=p._soundById(m[y]);b&&(b._muted=c,b._interval&&p._stopFade(b._id),p._webAudio&&b._node?b._node.gain.setValueAtTime(c?0:b._volume,r.ctx.currentTime):b._node&&(b._node.muted=r._muted?!0:c),p._emit("mute",b._id))}return p},volume:function(){var c=this,h=arguments,p,m;if(h.length===0)return c._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var y=c._getSoundIds(),b=y.indexOf(h[0]);b>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof p<"u"&&p>=0&&p<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,h)}}),c;typeof m>"u"&&(c._volume=p),m=c._getSoundIds(m);for(var x=0;x<m.length;x++)v=c._soundById(m[x]),v&&(v._volume=p,h[2]||c._stopFade(m[x]),c._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(p,r.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=p*r.volume()),c._emit("volume",v._id))}else return v=m?c._soundById(m):c._sounds[0],v?v._volume:0;return c},fade:function(c,h,p,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(c,h,p,m)}}),y;c=Math.min(Math.max(0,parseFloat(c)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),y.volume(c,m);for(var b=y._getSoundIds(m),v=0;v<b.length;v++){var x=y._soundById(b[v]);if(x){if(m||y._stopFade(b[v]),y._webAudio&&!x._muted){var S=r.ctx.currentTime,I=S+p/1e3;x._volume=c,x._node.gain.setValueAtTime(c,S),x._node.gain.linearRampToValueAtTime(h,I)}y._startFadeInterval(x,c,h,p,b[v],typeof m>"u")}}return y},_startFadeInterval:function(c,h,p,m,y,b){var v=this,x=h,S=p-h,I=Math.abs(S/.01),M=Math.max(4,I>0?m/I:m),E=Date.now();c._fadeTo=p,c._interval=setInterval(function(){var L=(Date.now()-E)/m;E=Date.now(),x+=S*L,x=Math.round(x*100)/100,S<0?x=Math.max(p,x):x=Math.min(p,x),v._webAudio?c._volume=x:v.volume(x,c._id,!0),b&&(v._volume=x),(p<h&&x<=p||p>h&&x>=p)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,v.volume(p,c._id),v._emit("fade",c._id))},M)},_stopFade:function(c){var h=this,p=h._soundById(c);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,c),p._fadeTo=null,h._emit("fade",c)),h},loop:function(){var c=this,h=arguments,p,m,y;if(h.length===0)return c._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],c._loop=p;else return y=c._soundById(parseInt(h[0],10)),y?y._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var b=c._getSoundIds(m),v=0;v<b.length;v++)y=c._soundById(b[v]),y&&(y._loop=p,c._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=p,p&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,c.playing(b[v])&&(c.pause(b[v],!0),c.play(b[v],!0)))));return c},rate:function(){var c=this,h=arguments,p,m;if(h.length===0)m=c._sounds[0]._id;else if(h.length===1){var y=c._getSoundIds(),b=y.indexOf(h[0]);b>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof p=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,h)}}),c;typeof m>"u"&&(c._rate=p),m=c._getSoundIds(m);for(var x=0;x<m.length;x++)if(v=c._soundById(m[x]),v){c.playing(m[x])&&(v._rateSeek=c.seek(m[x]),v._playStart=c._webAudio?r.ctx.currentTime:v._playStart),v._rate=p,c._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(p,r.ctx.currentTime):v._node&&(v._node.playbackRate=p);var S=c.seek(m[x]),I=(c._sprite[v._sprite][0]+c._sprite[v._sprite][1])/1e3-S,M=I*1e3/Math.abs(v._rate);(c._endTimers[m[x]]||!v._paused)&&(c._clearTimer(m[x]),c._endTimers[m[x]]=setTimeout(c._ended.bind(c,v),M)),c._emit("rate",v._id)}}else return v=c._soundById(m),v?v._rate:c._rate;return c},seek:function(){var c=this,h=arguments,p,m;if(h.length===0)c._sounds.length&&(m=c._sounds[0]._id);else if(h.length===1){var y=c._getSoundIds(),b=y.indexOf(h[0]);b>=0?m=parseInt(h[0],10):c._sounds.length&&(m=c._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,h)}}),c;var v=c._soundById(m);if(v)if(typeof p=="number"&&p>=0){var x=c.playing(m);x&&c.pause(m,!0),v._seek=p,v._ended=!1,c._clearTimer(m),!c._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=p);var S=function(){x&&c.play(m,!0),c._emit("seek",m)};if(x&&!c._webAudio){var I=function(){c._playLock?setTimeout(I,0):S()};setTimeout(I,0)}else S()}else if(c._webAudio){var M=c.playing(m)?r.ctx.currentTime-v._playStart:0,E=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(E+M*Math.abs(v._rate))}else return v._node.currentTime;return c},playing:function(c){var h=this;if(typeof c=="number"){var p=h._soundById(c);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(c){var h=this,p=h._duration,m=h._soundById(c);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var c=this,h=c._sounds,p=0;p<h.length;p++)h[p]._paused||c.stop(h[p]._id),c._webAudio||(c._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(r._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),r._releaseHtml5Audio(h[p]._node)),delete h[p]._node,c._clearTimer(h[p]._id);var m=r._howls.indexOf(c);m>=0&&r._howls.splice(m,1);var y=!0;for(p=0;p<r._howls.length;p++)if(r._howls[p]._src===c._src||c._src.indexOf(r._howls[p]._src)>=0){y=!1;break}return o&&y&&delete o[c._src],r.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,h,p,m){var y=this,b=y["_on"+c];return typeof h=="function"&&b.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),y},off:function(c,h,p){var m=this,y=m["_on"+c],b=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(b=0;b<y.length;b++){var v=p===y[b].id;if(h===y[b].fn&&v||!h&&v){y.splice(b,1);break}}else if(c)m["_on"+c]=[];else{var x=Object.keys(m);for(b=0;b<x.length;b++)x[b].indexOf("_on")===0&&Array.isArray(m[x[b]])&&(m[x[b]]=[])}return m},once:function(c,h,p){var m=this;return m.on(c,h,p,1),m},_emit:function(c,h,p){for(var m=this,y=m["_on"+c],b=y.length-1;b>=0;b--)(!y[b].id||y[b].id===h||c==="load")&&(setTimeout((function(v){v.call(this,h,p)}).bind(m,y[b].fn),0),y[b].once&&m.off(c,y[b].fn,y[b].id));return m._loadQueue(c),m},_loadQueue:function(c){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===c&&(h._queue.shift(),h._loadQueue()),c||p.action()}return h},_ended:function(c){var h=this,p=c._sprite;if(!h._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(h._ended.bind(h,c),100),h;var m=!!(c._loop||h._sprite[p][2]);if(h._emit("end",c._id),!h._webAudio&&m&&h.stop(c._id,!0).play(c._id),h._webAudio&&m){h._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=r.ctx.currentTime;var y=(c._stop-c._start)*1e3/Math.abs(c._rate);h._endTimers[c._id]=setTimeout(h._ended.bind(h,c),y)}return h._webAudio&&!m&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,h._clearTimer(c._id),h._cleanBuffer(c._node),r._autoSuspend()),!h._webAudio&&!m&&h.stop(c._id,!0),h},_clearTimer:function(c){var h=this;if(h._endTimers[c]){if(typeof h._endTimers[c]!="function")clearTimeout(h._endTimers[c]);else{var p=h._soundById(c);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[c],!1)}delete h._endTimers[c]}return h},_soundById:function(c){for(var h=this,p=0;p<h._sounds.length;p++)if(c===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var c=this;c._drain();for(var h=0;h<c._sounds.length;h++)if(c._sounds[h]._ended)return c._sounds[h].reset();return new i(c)},_drain:function(){var c=this,h=c._pool,p=0,m=0;if(!(c._sounds.length<h)){for(m=0;m<c._sounds.length;m++)c._sounds[m]._ended&&p++;for(m=c._sounds.length-1;m>=0;m--){if(p<=h)return;c._sounds[m]._ended&&(c._webAudio&&c._sounds[m]._node&&c._sounds[m]._node.disconnect(0),c._sounds.splice(m,1),p--)}}},_getSoundIds:function(c){var h=this;if(typeof c>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[c]},_refreshBuffer:function(c){var h=this;return c._node.bufferSource=r.ctx.createBufferSource(),c._node.bufferSource.buffer=o[h._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,r.ctx.currentTime),h},_cleanBuffer:function(c){var h=this,p=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return h;if(r._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),p))try{c.bufferSource.buffer=r._scratchBuffer}catch{}return c.bufferSource=null,h},_clearSound:function(c){var h=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);h||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++r._counter,h._sounds.push(c),c.create(),c},create:function(){var c=this,h=c._parent,p=r._muted||c._muted||c._parent._muted?0:c._volume;return h._webAudio?(c._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),c._node.gain.setValueAtTime(p,r.ctx.currentTime),c._node.paused=!0,c._node.connect(r.masterGain)):r.noAudio||(c._node=r._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(r._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=h._src,c._node.preload=h._preload===!0?"auto":h._preload,c._node.volume=p*r.volume(),c._node.load()),c},reset:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++r._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,h=c._parent;h._duration=Math.ceil(c._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),c._node.removeEventListener(r._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,h=c._parent;h._duration===1/0&&(h._duration=Math.ceil(c._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var o={},s=function(c){var h=c._src;if(o[h]){c._duration=o[h].duration,d(c);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),y=0;y<p.length;++y)m[y]=p.charCodeAt(y);l(m.buffer,c)}else{var b=new XMLHttpRequest;b.open(c._xhr.method,h,!0),b.withCredentials=c._xhr.withCredentials,b.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(v){b.setRequestHeader(v,c._xhr.headers[v])}),b.onload=function(){var v=(b.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+b.status+".");return}l(b.response,c)},b.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete o[h],c.load())},a(b)}},a=function(c){try{c.send()}catch{c.onerror()}},l=function(c,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(y){y&&h._sounds.length>0?(o[h._src]=y,d(h,y)):p()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(c).then(m).catch(p):r.ctx.decodeAudioData(c,m,p)},d=function(c,h){h&&!c._duration&&(c._duration=h.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(c&&p&&p<9){var m=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!m&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof yt<"u"?(yt.HowlerGlobal=e,yt.Howler=r,yt.Howl=n,yt.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(n=typeof n!="number"?o._pos[1]:n,i=typeof i!="number"?o._pos[2]:i,typeof r=="number")o._pos=[r,n,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(r,n,i,o,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,o=typeof o!="number"?d[3]:o,s=typeof s!="number"?d[4]:s,a=typeof a!="number"?d[5]:a,typeof r=="number")l._orientation=[r,n,i,o,s,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,n,i,o,s,a);else return d;return l},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var s=i._getSoundIds(n),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,o),o==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(r,n,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,n,i,o)}}),s;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof r=="number")s._pos=[r,n,i];else return s._pos;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var d=s._soundById(a[l]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),s._emit("pos",d._id);else return d._pos}return s},Howl.prototype.orientation=function(r,n,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,n,i,o)}}),s;if(n=typeof n!="number"?s._orientation[1]:n,i=typeof i!="number"?s._orientation[2]:i,typeof o>"u")if(typeof r=="number")s._orientation=[r,n,i];else return s._orientation;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var d=s._soundById(a[l]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=s._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),s._emit("orientation",d._id);else return d._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,o,s;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(n[0],10)),s?s._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],o=parseInt(n[1],10));for(var a=r._getSoundIds(o),l=0;l<a.length;l++)if(s=r._soundById(a[l]),s){var d=s._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var f=s._panner;f||(s._pos||(s._pos=r._pos||[0,0,-.5]),e(s,"spatial"),f=s._panner),f.coneInnerAngle=d.coneInnerAngle,f.coneOuterAngle=d.coneOuterAngle,f.coneOuterGain=d.coneOuterGain,f.distanceModel=d.distanceModel,f.maxDistance=d.maxDistance,f.refDistance=d.refDistance,f.rolloffFactor=d.rolloffFactor,f.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(IE);const KU={key:0,src:GU,width:"24",height:"24"},XU={key:1,src:f_,width:"24",height:"24"},JU={key:1,class:"flex h-5 items-center justify-center"},ZU=[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)],ej={key:0,src:QU,width:"24",height:"24"},tj={key:1,src:YU,width:"24",height:"24"},rj={class:"rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},nj=u.defineComponent({__name:"AudioMessageContent",props:{message:{}},setup(t){const e=t,r=Ft(),n=u.ref(0),i=u.ref(),o=u.ref(0),s=u.ref(),a=u.computed(()=>e.message.isIncoming),l=()=>{i.value&&(o.value=i.value.seek()/i.value.duration()*100,i.value.playing()&&requestAnimationFrame(l))},d=async()=>{var c,h;switch(n.value){case 0:{const p=new IE.Howl({src:e.message.url,format:["m4a","mp3","wav","aac","webm"],onload:()=>{p.play(),n.value=3},onplay:()=>{requestAnimationFrame(l)},onend:()=>{n.value=2},onloaderror:(m,y)=>console.log(2,m,y),xhr:{headers:{"IM-Authorization":r.state.imkit.config.token,"IM-Client-Key":r.state.imkit.config.clientKey}}});i.value=p,n.value=1;break}case 2:case 4:(c=i.value)==null||c.play(),n.value=3;break;case 3:(h=i.value)==null||h.pause(),n.value=4;break}},f=async c=>{if(!i.value||!s.value)return;const{x:h,width:p}=s.value.getBoundingClientRect();o.value=(c.clientX-h)/p*100,i.value.seek(i.value.duration()*o.value/100)};return(c,h)=>(u.openBlock(),u.createElementBlock(u.Fragment,null,[u.createElementVNode("div",{class:u.normalizeClass(["pointer-events-none absolute bottom-0 left-0 top-0",[a.value?"bg-gray-300":"bg-blue-300"]]),style:u.normalizeStyle({width:`${o.value}%`})},null,6),u.createElementVNode("div",{ref_key:"container",ref:s,class:"relative -m-2 flex w-[250px] items-center justify-between p-3",onClick:f},[u.createElementVNode("button",{onClick:u.withModifiers(d,["stop"])},[new Set([0,2,4]).has(n.value)?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[a.value?(u.openBlock(),u.createElementBlock("img",KU)):(u.openBlock(),u.createElementBlock("img",XU))],64)):n.value===1?(u.openBlock(),u.createElementBlock("div",JU,[(u.openBlock(),u.createElementBlock("svg",{class:u.normalizeClass(["h-5 w-5 animate-spin",[a.value?"fill-gray-100 text-gray-400":"fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700"]]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ZU,2))])):n.value===3?(u.openBlock(),u.createElementBlock(u.Fragment,{key:2},[a.value?(u.openBlock(),u.createElementBlock("img",ej)):(u.openBlock(),u.createElementBlock("img",tj))],64)):u.createCommentVNode("",!0)]),u.createElementVNode("div",rj,u.toDisplayString(Math.floor(c.message.duration/60))+":"+u.toDisplayString(`${Math.floor(c.message.duration%60)}`.padStart(2,"0")),1)],512)],64))}}),ij={class:"flex items-center justify-center"},oj={class:"my-3 rounded-lg bg-gray-100 px-2 py-1.5 text-sm text-gray-700 dark:bg-zinc-700 dark:text-gray-200 dark:text-gray-300"},sj=u.defineComponent({__name:"SystemMessageContent",props:{message:{}},setup(t){const e=t,r=Ft(),n=u.computed(()=>r.state.imkit.users),{t:i}=_i(),o=u.computed(()=>{const s=n.value[e.message.senderId].nickname;switch(e.message.type){case Xe.Recall:return e.message.senderId===r.state.imkit.uid?i("youUnsentMessage"):i("someoneUnsentMessage",[s]);case Xe.JoinRoom:return i("someoneJoinedTheChat",[s]);case Xe.LeaveRoom:return i("someoneLeftTheChat",[s]);case Xe.AddMember:return i("someoneInvited",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.DeleteMember:return i("someoneKicked",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.AddMembers:return i("someoneInvited",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.Announcement:return e.message.text;default:return""}});return(s,a)=>(u.openBlock(),u.createElementBlock("div",ij,[u.createElementVNode("div",oj,u.toDisplayString(o.value),1)]))}}),aj={},lj={class:"flex h-4 items-center"};function cj(t,e){return u.openBlock(),u.createElementBlock("div",lj,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(3,r=>u.createElementVNode("div",{key:r,class:u.normalizeClass(["mr-0.5 h-1 w-1 rounded-full bg-gray-400",[`animate-bounce-${r}`]])},null,2)),64))])}const uj=wi(aj,[["render",cj],["__scopeId","data-v-40e5e96c"]]);class Zs extends Error{}class dj extends Zs{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class fj extends Zs{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class hj extends Zs{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Bl extends Zs{}class DE extends Zs{constructor(e){super(`Invalid unit ${e}`)}}class xn extends Zs{}class ls extends Zs{constructor(){super("Zone is an abstract class")}}const ze="numeric",Si="short",jn="long",ph={year:ze,month:ze,day:ze},ME={year:ze,month:Si,day:ze},pj={year:ze,month:Si,day:ze,weekday:Si},NE={year:ze,month:jn,day:ze},OE={year:ze,month:jn,day:ze,weekday:jn},LE={hour:ze,minute:ze},BE={hour:ze,minute:ze,second:ze},RE={hour:ze,minute:ze,second:ze,timeZoneName:Si},PE={hour:ze,minute:ze,second:ze,timeZoneName:jn},FE={hour:ze,minute:ze,hourCycle:"h23"},UE={hour:ze,minute:ze,second:ze,hourCycle:"h23"},jE={hour:ze,minute:ze,second:ze,hourCycle:"h23",timeZoneName:Si},zE={hour:ze,minute:ze,second:ze,hourCycle:"h23",timeZoneName:jn},$E={year:ze,month:ze,day:ze,hour:ze,minute:ze},VE={year:ze,month:ze,day:ze,hour:ze,minute:ze,second:ze},HE={year:ze,month:Si,day:ze,hour:ze,minute:ze},qE={year:ze,month:Si,day:ze,hour:ze,minute:ze,second:ze},mj={year:ze,month:Si,day:ze,weekday:Si,hour:ze,minute:ze},WE={year:ze,month:jn,day:ze,hour:ze,minute:ze,timeZoneName:Si},GE={year:ze,month:jn,day:ze,hour:ze,minute:ze,second:ze,timeZoneName:Si},QE={year:ze,month:jn,day:ze,weekday:jn,hour:ze,minute:ze,timeZoneName:jn},YE={year:ze,month:jn,day:ze,weekday:jn,hour:ze,minute:ze,second:ze,timeZoneName:jn};class Su{get type(){throw new ls}get name(){throw new ls}get ianaName(){return this.name}get isUniversal(){throw new ls}offsetName(e,r){throw new ls}formatOffset(e,r){throw new ls}offset(e){throw new ls}equals(e){throw new ls}get isValid(){throw new ls}}let J0=null;class mh extends Su{static get instance(){return J0===null&&(J0=new mh),J0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return vC(e,r,n)}formatOffset(e,r){return Mu(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let gh={};function gj(t){return gh[t]||(gh[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),gh[t]}const yj={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function bj(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,s,a,l,d,f]=n;return[s,i,o,a,l,d,f]}function vj(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:o,value:s}=r[i],a=yj[o];o==="era"?n[a]=s:ft(a)||(n[a]=parseInt(s,10))}return n}let yh={};class Lo extends Su{static create(e){return yh[e]||(yh[e]=new Lo(e)),yh[e]}static resetCache(){yh={},gh={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Lo.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return vC(e,r,n,this.name)}formatOffset(e,r){return Mu(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=gj(this.name);let[i,o,s,a,l,d,f]=n.formatToParts?vj(n,r):bj(n,r);a==="BC"&&(i=-Math.abs(i)+1);const h=Ah({year:i,month:o,day:s,hour:l===24?0:l,minute:d,second:f,millisecond:0});let p=+r;const m=p%1e3;return p-=m>=0?m:1e3+m,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let KE={};function _j(t,e={}){const r=JSON.stringify([t,e]);let n=KE[r];return n||(n=new Intl.ListFormat(t,e),KE[r]=n),n}let Z0={};function e1(t,e={}){const r=JSON.stringify([t,e]);let n=Z0[r];return n||(n=new Intl.DateTimeFormat(t,e),Z0[r]=n),n}let t1={};function wj(t,e={}){const r=JSON.stringify([t,e]);let n=t1[r];return n||(n=new Intl.NumberFormat(t,e),t1[r]=n),n}let r1={};function Aj(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let o=r1[i];return o||(o=new Intl.RelativeTimeFormat(t,e),r1[i]=o),o}let ku=null;function xj(){return ku||(ku=new Intl.DateTimeFormat().resolvedOptions().locale,ku)}let XE={};function Tj(t){let e=XE[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,XE[t]=e}return e}function Ej(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=e1(t).resolvedOptions(),i=t}catch{const l=t.substring(0,r);n=e1(l).resolvedOptions(),i=l}const{numberingSystem:o,calendar:s}=n;return[i,o,s]}}function Cj(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function Sj(t){const e=[];for(let r=1;r<=12;r++){const n=mt.utc(2009,r,1);e.push(t(n))}return e}function kj(t){const e=[];for(let r=1;r<=7;r++){const n=mt.utc(2016,11,13+r);e.push(t(n))}return e}function bh(t,e,r,n){const i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function Ij(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Dj{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:o,...s}=n;if(!r||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=wj(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):c1(e,3);return xr(r,this.padTo)}}}class Mj{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&Lo.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=e1(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Nj{constructor(e,r,n){this.opts={style:"long",...n},!r&&mC()&&(this.rtf=Aj(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Jj(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const Oj={firstDay:1,minimalDays:4,weekend:[6,7]};class Ht{static fromOpts(e){return Ht.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,o=!1){const s=e||gr.defaultLocale,a=s||(o?"en-US":xj()),l=r||gr.defaultNumberingSystem,d=n||gr.defaultOutputCalendar,f=a1(i)||gr.defaultWeekSettings;return new Ht(a,l,d,f,s)}static resetCache(){ku=null,Z0={},t1={},r1={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Ht.create(e,r,n,i)}constructor(e,r,n,i,o){const[s,a,l]=Ej(e);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=Cj(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ij(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ht.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,a1(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return bh(this,e,AC,()=>{const n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Sj(o=>this.extract(o,n,"month"))),this.monthsCache[i][e]})}weekdays(e,r=!1){return bh(this,e,EC,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=kj(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return bh(this,void 0,()=>CC,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[mt.utc(2016,11,13,9),mt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return bh(this,e,SC,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[mt.utc(-40,1,1),mt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),o=i.formatToParts(),s=o.find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(e={}){return new Dj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new Mj(e,this.intl,r)}relFormatter(e={}){return new Nj(this.intl,this.isEnglish(),e)}listFormatter(e={}){return _j(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:gC()?Tj(this.locale):Oj}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let n1=null;class sn extends Su{static get utcInstance(){return n1===null&&(n1=new sn(0)),n1}static instance(e){return e===0?sn.utcInstance:new sn(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new sn(xh(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Mu(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Mu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Mu(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Lj extends Su{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function cs(t,e){if(ft(t)||t===null)return e;if(t instanceof Su)return t;if(Pj(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?mh.instance:r==="utc"||r==="gmt"?sn.utcInstance:sn.parseSpecifier(r)||Lo.create(t)}else return ea(t)?sn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Lj(t)}let JE=()=>Date.now(),ZE="system",eC=null,tC=null,rC=null,nC=60,iC,oC=null;class gr{static get now(){return JE}static set now(e){JE=e}static set defaultZone(e){ZE=e}static get defaultZone(){return cs(ZE,mh.instance)}static get defaultLocale(){return eC}static set defaultLocale(e){eC=e}static get defaultNumberingSystem(){return tC}static set defaultNumberingSystem(e){tC=e}static get defaultOutputCalendar(){return rC}static set defaultOutputCalendar(e){rC=e}static get defaultWeekSettings(){return oC}static set defaultWeekSettings(e){oC=a1(e)}static get twoDigitCutoffYear(){return nC}static set twoDigitCutoffYear(e){nC=e%100}static get throwOnInvalid(){return iC}static set throwOnInvalid(e){iC=e}static resetCaches(){Ht.resetCache(),Lo.resetCache()}}class ki{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const sC=[0,31,59,90,120,151,181,212,243,273,304,334],aC=[0,31,60,91,121,152,182,213,244,274,305,335];function Zn(t,e){return new ki("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function i1(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function lC(t,e,r){return r+(Iu(t)?aC:sC)[e-1]}function cC(t,e){const r=Iu(t)?aC:sC,n=r.findIndex(o=>o<e),i=e-r[n];return{month:n+1,day:i}}function o1(t,e){return(t-e+7)%7+1}function vh(t,e=4,r=1){const{year:n,month:i,day:o}=t,s=lC(n,i,o),a=o1(i1(n,i,o),r);let l=Math.floor((s-a+14-e)/7),d;return l<1?(d=n-1,l=Du(d,e,r)):l>Du(n,e,r)?(d=n+1,l=1):d=n,{weekYear:d,weekNumber:l,weekday:a,...Eh(t)}}function uC(t,e=4,r=1){const{weekYear:n,weekNumber:i,weekday:o}=t,s=o1(i1(n,1,e),r),a=Pl(n);let l=i*7+o-s-7+e,d;l<1?(d=n-1,l+=Pl(d)):l>a?(d=n+1,l-=Pl(n)):d=n;const{month:f,day:c}=cC(d,l);return{year:d,month:f,day:c,...Eh(t)}}function s1(t){const{year:e,month:r,day:n}=t,i=lC(e,r,n);return{year:e,ordinal:i,...Eh(t)}}function dC(t){const{year:e,ordinal:r}=t,{month:n,day:i}=cC(e,r);return{year:e,month:n,day:i,...Eh(t)}}function fC(t,e){if(!ft(t.localWeekday)||!ft(t.localWeekNumber)||!ft(t.localWeekYear)){if(!ft(t.weekday)||!ft(t.weekNumber)||!ft(t.weekYear))throw new Bl("Cannot mix locale-based week fields with ISO-based week fields");return ft(t.localWeekday)||(t.weekday=t.localWeekday),ft(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ft(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Bj(t,e=4,r=1){const n=_h(t.weekYear),i=ei(t.weekNumber,1,Du(t.weekYear,e,r)),o=ei(t.weekday,1,7);return n?i?o?!1:Zn("weekday",t.weekday):Zn("week",t.weekNumber):Zn("weekYear",t.weekYear)}function Rj(t){const e=_h(t.year),r=ei(t.ordinal,1,Pl(t.year));return e?r?!1:Zn("ordinal",t.ordinal):Zn("year",t.year)}function hC(t){const e=_h(t.year),r=ei(t.month,1,12),n=ei(t.day,1,wh(t.year,t.month));return e?r?n?!1:Zn("day",t.day):Zn("month",t.month):Zn("year",t.year)}function pC(t){const{hour:e,minute:r,second:n,millisecond:i}=t,o=ei(e,0,23)||e===24&&r===0&&n===0&&i===0,s=ei(r,0,59),a=ei(n,0,59),l=ei(i,0,999);return o?s?a?l?!1:Zn("millisecond",i):Zn("second",n):Zn("minute",r):Zn("hour",e)}function ft(t){return typeof t>"u"}function ea(t){return typeof t=="number"}function _h(t){return typeof t=="number"&&t%1===0}function Pj(t){return typeof t=="string"}function Fj(t){return Object.prototype.toString.call(t)==="[object Date]"}function mC(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function gC(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Uj(t){return Array.isArray(t)?t:[t]}function yC(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const o=[e(i),i];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function jj(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Rl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a1(t){if(t==null)return null;if(typeof t!="object")throw new xn("Week settings must be an object");if(!ei(t.firstDay,1,7)||!ei(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ei(e,1,7)))throw new xn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ei(t,e,r){return _h(t)&&t>=e&&t<=r}function zj(t,e){return t-e*Math.floor(t/e)}function xr(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function us(t){if(!(ft(t)||t===null||t===""))return parseInt(t,10)}function ta(t){if(!(ft(t)||t===null||t===""))return parseFloat(t)}function l1(t){if(!(ft(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function c1(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Iu(t){return t%4===0&&(t%100!==0||t%400===0)}function Pl(t){return Iu(t)?366:365}function wh(t,e){const r=zj(e-1,12)+1,n=t+(e-r)/12;return r===2?Iu(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Ah(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function bC(t,e,r){return-o1(i1(t,1,e),r)+e-1}function Du(t,e=4,r=1){const n=bC(t,e,r),i=bC(t+1,e,r);return(Pl(t)-n+i)/7}function u1(t){return t>99?t:t>gr.twoDigitCutoffYear?1900+t:2e3+t}function vC(t,e,r,n=null){const i=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:e,...o},a=new Intl.DateTimeFormat(r,s).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function xh(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function _C(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new xn(`Invalid unit value ${t}`);return e}function Th(t,e){const r={};for(const n in t)if(Rl(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=_C(i)}return r}function Mu(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${xr(r,2)}:${xr(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${xr(r,2)}${xr(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Eh(t){return jj(t,["hour","minute","second","millisecond"])}const $j=["January","February","March","April","May","June","July","August","September","October","November","December"],wC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vj=["J","F","M","A","M","J","J","A","S","O","N","D"];function AC(t){switch(t){case"narrow":return[...Vj];case"short":return[...wC];case"long":return[...$j];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const xC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],TC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hj=["M","T","W","T","F","S","S"];function EC(t){switch(t){case"narrow":return[...Hj];case"short":return[...TC];case"long":return[...xC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const CC=["AM","PM"],qj=["Before Christ","Anno Domini"],Wj=["BC","AD"],Gj=["B","A"];function SC(t){switch(t){case"narrow":return[...Gj];case"short":return[...Wj];case"long":return[...qj];default:return null}}function Qj(t){return CC[t.hour<12?0:1]}function Yj(t,e){return EC(e)[t.weekday-1]}function Kj(t,e){return AC(e)[t.month-1]}function Xj(t,e){return SC(e)[t.year<0?0:1]}function Jj(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const s=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,d=i[t],f=n?l?d[1]:d[2]||d[1]:l?i[t][0]:t;return s?`${a} ${f} ago`:`in ${a} ${f}`}function kC(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const Zj={D:ph,DD:ME,DDD:NE,DDDD:OE,t:LE,tt:BE,ttt:RE,tttt:PE,T:FE,TT:UE,TTT:jE,TTTT:zE,f:$E,ff:HE,fff:WE,ffff:QE,F:VE,FF:qE,FFF:GE,FFFF:YE};class Wr{static create(e,r={}){return new Wr(e,r)}static parseFormat(e){let r=null,n="",i=!1;const o=[];for(let s=0;s<e.length;s++){const a=e.charAt(s);a==="'"?(n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return Zj[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return xr(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(p,m)=>this.loc.extract(e,p,m),s=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>n?Qj(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,m)=>n?Kj(e,p):o(m?{month:p}:{month:p,day:"numeric"},"month"),d=(p,m)=>n?Yj(e,p):o(m?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const m=Wr.macroTokenToFormatOpts(p);return m?this.formatWithSystemDefault(e,m):p},c=p=>n?Xj(e,p):o({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return kC(Wr.parseFormat(r),h)}formatDurationFromString(e,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>d=>{const f=n(d);return f?this.num(l.get(f),d.length):d},o=Wr.parseFormat(r),s=o.reduce((l,{literal:d,val:f})=>d?l:l.concat(f),[]),a=e.shiftTo(...s.map(n).filter(l=>l));return kC(o,i(a))}}const IC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Fl(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Ul(...t){return e=>t.reduce(([r,n,i],o)=>{const[s,a,l]=o(e,i);return[{...r,...s},a||n,l]},[{},null,1]).slice(0,2)}function jl(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function DC(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=us(e[r+i]);return[n,null,r+i]}}const MC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ez=`(?:${MC.source}?(?:\\[(${IC.source})\\])?)?`,d1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,NC=RegExp(`${d1.source}${ez}`),f1=RegExp(`(?:T${NC.source})?`),tz=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,rz=/(\d{4})-?W(\d\d)(?:-?(\d))?/,nz=/(\d{4})-?(\d{3})/,iz=DC("weekYear","weekNumber","weekDay"),oz=DC("year","ordinal"),sz=/(\d{4})-(\d\d)-(\d\d)/,OC=RegExp(`${d1.source} ?(?:${MC.source}|(${IC.source}))?`),az=RegExp(`(?: ${OC.source})?`);function zl(t,e,r){const n=t[e];return ft(n)?r:us(n)}function lz(t,e){return[{year:zl(t,e),month:zl(t,e+1,1),day:zl(t,e+2,1)},null,e+3]}function $l(t,e){return[{hours:zl(t,e,0),minutes:zl(t,e+1,0),seconds:zl(t,e+2,0),milliseconds:l1(t[e+3])},null,e+4]}function Nu(t,e){const r=!t[e]&&!t[e+1],n=xh(t[e+1],t[e+2]),i=r?null:sn.instance(n);return[{},i,e+3]}function Ou(t,e){const r=t[e]?Lo.create(t[e]):null;return[{},r,e+1]}const cz=RegExp(`^T?${d1.source}$`),uz=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function dz(t){const[e,r,n,i,o,s,a,l,d]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(p,m=!1)=>p!==void 0&&(m||p&&f)?-p:p;return[{years:h(ta(r)),months:h(ta(n)),weeks:h(ta(i)),days:h(ta(o)),hours:h(ta(s)),minutes:h(ta(a)),seconds:h(ta(l),l==="-0"),milliseconds:h(l1(d),c)}]}const fz={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function h1(t,e,r,n,i,o,s){const a={year:e.length===2?u1(us(e)):us(e),month:wC.indexOf(r)+1,day:us(n),hour:us(i),minute:us(o)};return s&&(a.second=us(s)),t&&(a.weekday=t.length>3?xC.indexOf(t)+1:TC.indexOf(t)+1),a}const hz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function pz(t){const[,e,r,n,i,o,s,a,l,d,f,c]=t,h=h1(e,i,n,r,o,s,a);let p;return l?p=fz[l]:d?p=0:p=xh(f,c),[h,new sn(p)]}function mz(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const gz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,yz=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,bz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function LC(t){const[,e,r,n,i,o,s,a]=t;return[h1(e,i,n,r,o,s,a),sn.utcInstance]}function vz(t){const[,e,r,n,i,o,s,a]=t;return[h1(e,a,r,n,i,o,s),sn.utcInstance]}const _z=Fl(tz,f1),wz=Fl(rz,f1),Az=Fl(nz,f1),xz=Fl(NC),BC=Ul(lz,$l,Nu,Ou),Tz=Ul(iz,$l,Nu,Ou),Ez=Ul(oz,$l,Nu,Ou),Cz=Ul($l,Nu,Ou);function Sz(t){return jl(t,[_z,BC],[wz,Tz],[Az,Ez],[xz,Cz])}function kz(t){return jl(mz(t),[hz,pz])}function Iz(t){return jl(t,[gz,LC],[yz,LC],[bz,vz])}function Dz(t){return jl(t,[uz,dz])}const Mz=Ul($l);function Nz(t){return jl(t,[cz,Mz])}const Oz=Fl(sz,az),Lz=Fl(OC),Bz=Ul($l,Nu,Ou);function Rz(t){return jl(t,[Oz,BC],[Lz,Bz])}const RC="Invalid Duration",PC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Pz={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...PC},ti=146097/400,Vl=146097/4800,Fz={years:{quarters:4,months:12,weeks:ti/7,days:ti,hours:ti*24,minutes:ti*24*60,seconds:ti*24*60*60,milliseconds:ti*24*60*60*1e3},quarters:{months:3,weeks:ti/28,days:ti/4,hours:ti*24/4,minutes:ti*24*60/4,seconds:ti*24*60*60/4,milliseconds:ti*24*60*60*1e3/4},months:{weeks:Vl/7,days:Vl,hours:Vl*24,minutes:Vl*24*60,seconds:Vl*24*60*60,milliseconds:Vl*24*60*60*1e3},...PC},ra=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Uz=ra.slice(0).reverse();function ds(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new It(n)}function FC(t,e){let r=e.milliseconds??0;for(const n of Uz.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function UC(t,e){const r=FC(t,e)<0?-1:1;ra.reduceRight((n,i)=>{if(ft(e[i]))return n;if(n){const o=e[n]*r,s=t[i][n],a=Math.floor(o/s);e[i]+=a*r,e[n]-=a*s*r}return i},null),ra.reduce((n,i)=>{if(ft(e[i]))return n;if(n){const o=e[n]%1;e[n]-=o,e[i]+=o*t[n][i]}return i},null)}function jz(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class It{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?Fz:Pz;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Ht.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return It.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new xn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new It({values:Th(e,It.normalizeUnit),loc:Ht.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(ea(e))return It.fromMillis(e);if(It.isDuration(e))return e;if(typeof e=="object")return It.fromObject(e);throw new xn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=Dz(e);return n?It.fromObject(n,r):It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=Nz(e);return n?It.fromObject(n,r):It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new xn("need to specify a reason the Duration is invalid");const n=e instanceof ki?e:new ki(e,r);if(gr.throwOnInvalid)throw new hj(n);return new It({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new DE(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Wr.create(this.loc,n).formatDurationFromString(this,e):RC}toHuman(e={}){if(!this.isValid)return RC;const r=ra.map(n=>{const i=this.values[n];return ft(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=c1(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},mt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?FC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e),n={};for(const i of ra)(Rl(r.values,i)||Rl(this.values,i))&&(n[i]=r.get(i)+this.get(i));return ds(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=_C(e(this.values[n],n));return ds(this,{values:r},!0)}get(e){return this[It.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...Th(e,It.normalizeUnit)};return ds(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return ds(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return UC(this.matrix,e),ds(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=jz(this.normalize().shiftToAll().toObject());return ds(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>It.normalizeUnit(s));const r={},n={},i=this.toObject();let o;for(const s of ra)if(e.indexOf(s)>=0){o=s;let a=0;for(const d in n)a+=this.matrix[d][s]*n[d],n[d]=0;ea(i[s])&&(a+=i[s]);const l=Math.trunc(a);r[s]=l,n[s]=(a*1e3-l*1e3)/1e3}else ea(i[s])&&(n[s]=i[s]);for(const s in n)n[s]!==0&&(r[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return UC(this.matrix,r),ds(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ds(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of ra)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Hl="Invalid Interval";function zz(t,e){return!t||!t.isValid?ur.invalid("missing or invalid start"):!e||!e.isValid?ur.invalid("missing or invalid end"):e<t?ur.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ur{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new xn("need to specify a reason the Interval is invalid");const n=e instanceof ki?e:new ki(e,r);if(gr.throwOnInvalid)throw new fj(n);return new ur({invalid:n})}static fromDateTimes(e,r){const n=Bu(e),i=Bu(r),o=zz(n,i);return o??new ur({start:n,end:i})}static after(e,r){const n=It.fromDurationLike(r),i=Bu(e);return ur.fromDateTimes(i,i.plus(n))}static before(e,r){const n=It.fromDurationLike(r),i=Bu(e);return ur.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let o,s;try{o=mt.fromISO(n,r),s=o.isValid}catch{s=!1}let a,l;try{a=mt.fromISO(i,r),l=a.isValid}catch{l=!1}if(s&&l)return ur.fromDateTimes(o,a);if(s){const d=It.fromISO(i,r);if(d.isValid)return ur.after(o,d)}else if(l){const d=It.fromISO(n,r);if(d.isValid)return ur.before(a,d)}}return ur.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ur.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Bu).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:i}=this,o=0;for(;i<this.e;){const s=r[o]||this.e,a=+s>+this.e?this.e:s;n.push(ur.fromDateTimes(i,a)),i=a,o+=1}return n}splitBy(e){const r=It.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,o;const s=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));o=+a>+this.e?this.e:a,s.push(ur.fromDateTimes(n,o)),n=o,i+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ur.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ur.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[i,o.union(s)]:[i.concat([o]),s]:[i,s],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],o=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,d)=>l.time-d.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(ur.fromDateTimes(r,l.time)),r=null);return ur.merge(i)}difference(...e){return ur.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Hl}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ph,r={}){return this.isValid?Wr.create(this.s.loc.clone(r),e).formatInterval(this):Hl}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Hl}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Hl}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Hl}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Hl}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):It.invalid(this.invalidReason)}mapEndpoints(e){return ur.fromDateTimes(e(this.s),e(this.e))}}class Ch{static hasDST(e=gr.defaultZone){const r=mt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Lo.isValidZone(e)}static normalizeZone(e){return cs(e,gr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Ht.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Ht.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Ht.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Ht.create(r,n,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Ht.create(r,n,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ht.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ht.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ht.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Ht.create(r,null,"gregory").eras(e)}static features(){return{relative:mC(),localeWeek:gC()}}}function jC(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(It.fromMillis(n).as("days"))}function $z(t,e,r){const n=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const f=jC(l,d);return(f-f%7)/7}],["days",jC]],i={},o=t;let s,a;for(const[l,d]of n)r.indexOf(l)>=0&&(s=l,i[l]=d(t,e),a=o.plus(i),a>e?(i[l]--,t=o.plus(i),t>e&&(a=t,i[l]--,t=o.plus(i))):t=a);return[t,i,a,s]}function Vz(t,e,r,n){let[i,o,s,a]=$z(t,e,r);const l=e-i,d=r.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);d.length===0&&(s<e&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const f=It.fromObject(o,n);return d.length>0?It.fromMillis(l,n).shiftTo(...d).plus(f):f}const p1={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},zC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Hz=p1.hanidec.replace(/[\[|\]]/g,"").split("");function qz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(p1.hanidec)!==-1)e+=Hz.indexOf(t[r]);else for(const i in zC){const[o,s]=zC[i];n>=o&&n<=s&&(e+=n-o)}}return parseInt(e,10)}else return e}function Ii({numberingSystem:t},e=""){return new RegExp(`${p1[t||"latn"]}${e}`)}const Wz="missing Intl.DateTimeFormat.formatToParts support";function Ot(t,e=r=>r){return{regex:t,deser:([r])=>e(qz(r))}}const $C="[ ]",VC=new RegExp($C,"g");function Gz(t){return t.replace(/\./g,"\\.?").replace(VC,$C)}function HC(t){return t.replace(/\./g,"").replace(VC," ").toLowerCase()}function Di(t,e){return t===null?null:{regex:RegExp(t.map(Gz).join("|")),deser:([r])=>t.findIndex(n=>HC(r)===HC(n))+e}}function qC(t,e){return{regex:t,deser:([,r,n])=>xh(r,n),groups:e}}function Sh(t){return{regex:t,deser:([e])=>e}}function Qz(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Yz(t,e){const r=Ii(e),n=Ii(e,"{2}"),i=Ii(e,"{3}"),o=Ii(e,"{4}"),s=Ii(e,"{6}"),a=Ii(e,"{1,2}"),l=Ii(e,"{1,3}"),d=Ii(e,"{1,6}"),f=Ii(e,"{1,9}"),c=Ii(e,"{2,4}"),h=Ii(e,"{4,6}"),p=b=>({regex:RegExp(Qz(b.val)),deser:([v])=>v,literal:!0}),y=(b=>{if(t.literal)return p(b);switch(b.val){case"G":return Di(e.eras("short"),0);case"GG":return Di(e.eras("long"),0);case"y":return Ot(d);case"yy":return Ot(c,u1);case"yyyy":return Ot(o);case"yyyyy":return Ot(h);case"yyyyyy":return Ot(s);case"M":return Ot(a);case"MM":return Ot(n);case"MMM":return Di(e.months("short",!0),1);case"MMMM":return Di(e.months("long",!0),1);case"L":return Ot(a);case"LL":return Ot(n);case"LLL":return Di(e.months("short",!1),1);case"LLLL":return Di(e.months("long",!1),1);case"d":return Ot(a);case"dd":return Ot(n);case"o":return Ot(l);case"ooo":return Ot(i);case"HH":return Ot(n);case"H":return Ot(a);case"hh":return Ot(n);case"h":return Ot(a);case"mm":return Ot(n);case"m":return Ot(a);case"q":return Ot(a);case"qq":return Ot(n);case"s":return Ot(a);case"ss":return Ot(n);case"S":return Ot(l);case"SSS":return Ot(i);case"u":return Sh(f);case"uu":return Sh(a);case"uuu":return Ot(r);case"a":return Di(e.meridiems(),0);case"kkkk":return Ot(o);case"kk":return Ot(c,u1);case"W":return Ot(a);case"WW":return Ot(n);case"E":case"c":return Ot(r);case"EEE":return Di(e.weekdays("short",!1),1);case"EEEE":return Di(e.weekdays("long",!1),1);case"ccc":return Di(e.weekdays("short",!0),1);case"cccc":return Di(e.weekdays("long",!0),1);case"Z":case"ZZ":return qC(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return qC(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Sh(/[a-z_+-/]{1,256}?/i);case" ":return Sh(/[^\S\n\r]/);default:return p(b)}})(t)||{invalidReason:Wz};return y.token=t,y}const Kz={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Xz(t,e,r){const{type:n,value:i}=t;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const o=e[n];let s=n;n==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=r.hour12?"hour12":"hour24");let a=Kz[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function Jz(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Zz(t,e,r){const n=t.match(e);if(n){const i={};let o=1;for(const s in r)if(Rl(r,s)){const a=r[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(o,o+l))),o+=l}return[n,i]}else return[n,{}]}function e$(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return ft(t.z)||(r=Lo.create(t.z)),ft(t.Z)||(r||(r=new sn(t.Z)),n=t.Z),ft(t.q)||(t.M=(t.q-1)*3+1),ft(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ft(t.u)||(t.S=l1(t.u)),[Object.keys(t).reduce((o,s)=>{const a=e(s);return a&&(o[a]=t[s]),o},{}),r,n]}let m1=null;function t$(){return m1||(m1=mt.fromMillis(1555555555555)),m1}function r$(t,e){if(t.literal)return t;const r=Wr.macroTokenToFormatOpts(t.val),n=QC(r,e);return n==null||n.includes(void 0)?t:n}function WC(t,e){return Array.prototype.concat(...t.map(r=>r$(r,e)))}function GC(t,e,r){const n=WC(Wr.parseFormat(r),t),i=n.map(s=>Yz(s,t)),o=i.find(s=>s.invalidReason);if(o)return{input:e,tokens:n,invalidReason:o.invalidReason};{const[s,a]=Jz(i),l=RegExp(s,"i"),[d,f]=Zz(e,l,a),[c,h,p]=f?e$(f):[null,null,void 0];if(Rl(f,"a")&&Rl(f,"H"))throw new Bl("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:d,matches:f,result:c,zone:h,specificOffset:p}}}function n$(t,e,r){const{result:n,zone:i,specificOffset:o,invalidReason:s}=GC(t,e,r);return[n,i,o,s]}function QC(t,e){if(!t)return null;const n=Wr.create(e,t).dtFormatter(t$()),i=n.formatToParts(),o=n.resolvedOptions();return i.map(s=>Xz(s,t,o))}const g1="Invalid DateTime",YC=864e13;function kh(t){return new ki("unsupported zone",`the zone "${t.name}" is not supported`)}function y1(t){return t.weekData===null&&(t.weekData=vh(t.c)),t.weekData}function b1(t){return t.localWeekData===null&&(t.localWeekData=vh(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function na(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new mt({...r,...e,old:r})}function KC(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const o=r.offset(n);return i===o?[n,i]:[t-Math.min(i,o)*60*1e3,Math.max(i,o)]}function Ih(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Dh(t,e,r){return KC(Ah(t),e,r)}function XC(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:n,month:i,day:Math.min(t.c.day,wh(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=It.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Ah(o);let[l,d]=KC(a,r,t.zone);return s!==0&&(l+=s,d=t.zone.offset(l)),{ts:l,o:d}}function Lu(t,e,r,n,i,o){const{setZone:s,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const l=e||a,d=mt.fromObject(t,{...r,zone:l,specificOffset:o});return s?d:d.setZone(a)}else return mt.invalid(new ki("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Mh(t,e,r=!0){return t.isValid?Wr.create(Ht.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function v1(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=xr(t.c.year,r?6:4),e?(n+="-",n+=xr(t.c.month),n+="-",n+=xr(t.c.day)):(n+=xr(t.c.month),n+=xr(t.c.day)),n}function JC(t,e,r,n,i,o){let s=xr(t.c.hour);return e?(s+=":",s+=xr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=":")):s+=xr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=xr(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=xr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!o?s+="Z":t.o<0?(s+="-",s+=xr(Math.trunc(-t.o/60)),s+=":",s+=xr(Math.trunc(-t.o%60))):(s+="+",s+=xr(Math.trunc(t.o/60)),s+=":",s+=xr(Math.trunc(t.o%60)))),o&&(s+="["+t.zone.ianaName+"]"),s}const ZC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},i$={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},o$={ordinal:1,hour:0,minute:0,second:0,millisecond:0},eS=["year","month","day","hour","minute","second","millisecond"],s$=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],a$=["year","ordinal","hour","minute","second","millisecond"];function l$(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new DE(t);return e}function tS(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return l$(t)}}function rS(t,e){const r=cs(e.zone,gr.defaultZone),n=Ht.fromObject(e),i=gr.now();let o,s;if(ft(t.year))o=i;else{for(const d of eS)ft(t[d])&&(t[d]=ZC[d]);const a=hC(t)||pC(t);if(a)return mt.invalid(a);const l=r.offset(i);[o,s]=Dh(t,l,r)}return new mt({ts:o,zone:r,loc:n,o:s})}function nS(t,e,r){const n=ft(r.round)?!0:r.round,i=(s,a)=>(s=c1(s,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(s,a)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return i(o(r.unit),r.unit);for(const s of r.units){const a=o(s);if(Math.abs(a)>=1)return i(a,s)}return i(t>e?-0:0,r.units[r.units.length-1])}function iS(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}class mt{constructor(e){const r=e.zone||gr.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new ki("invalid input"):null)||(r.isValid?null:kh(r));this.ts=ft(e.ts)?gr.now():e.ts;let i=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,o]=[e.old.c,e.old.o];else{const a=r.offset(this.ts);i=Ih(this.ts,a),n=Number.isNaN(i.year)?new ki("invalid input"):null,i=n?null:i,o=n?null:a}this._zone=r,this.loc=e.loc||Ht.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new mt({})}static local(){const[e,r]=iS(arguments),[n,i,o,s,a,l,d]=r;return rS({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:d},e)}static utc(){const[e,r]=iS(arguments),[n,i,o,s,a,l,d]=r;return e.zone=sn.utcInstance,rS({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:d},e)}static fromJSDate(e,r={}){const n=Fj(e)?e.valueOf():NaN;if(Number.isNaN(n))return mt.invalid("invalid input");const i=cs(r.zone,gr.defaultZone);return i.isValid?new mt({ts:n,zone:i,loc:Ht.fromObject(r)}):mt.invalid(kh(i))}static fromMillis(e,r={}){if(ea(e))return e<-YC||e>YC?mt.invalid("Timestamp out of range"):new mt({ts:e,zone:cs(r.zone,gr.defaultZone),loc:Ht.fromObject(r)});throw new xn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(ea(e))return new mt({ts:e*1e3,zone:cs(r.zone,gr.defaultZone),loc:Ht.fromObject(r)});throw new xn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=cs(r.zone,gr.defaultZone);if(!n.isValid)return mt.invalid(kh(n));const i=Ht.fromObject(r),o=Th(e,tS),{minDaysInFirstWeek:s,startOfWeek:a}=fC(o,i),l=gr.now(),d=ft(r.specificOffset)?n.offset(l):r.specificOffset,f=!ft(o.ordinal),c=!ft(o.year),h=!ft(o.month)||!ft(o.day),p=c||h,m=o.weekYear||o.weekNumber;if((p||f)&&m)throw new Bl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Bl("Can't mix ordinal dates with month/day");const y=m||o.weekday&&!p;let b,v,x=Ih(l,d);y?(b=s$,v=i$,x=vh(x,s,a)):f?(b=a$,v=o$,x=s1(x)):(b=eS,v=ZC);let S=!1;for(const R of b){const $=o[R];ft($)?S?o[R]=v[R]:o[R]=x[R]:S=!0}const I=y?Bj(o,s,a):f?Rj(o):hC(o),M=I||pC(o);if(M)return mt.invalid(M);const E=y?uC(o,s,a):f?dC(o):o,[L,D]=Dh(E,d,n),C=new mt({ts:L,zone:n,o:D,loc:i});return o.weekday&&p&&e.weekday!==C.weekday?mt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,r={}){const[n,i]=Sz(e);return Lu(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=kz(e);return Lu(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=Iz(e);return Lu(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(ft(e)||ft(r))throw new xn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=n,s=Ht.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[a,l,d,f]=n$(s,e,r);return f?mt.invalid(f):Lu(a,l,n,`format ${r}`,e,d)}static fromString(e,r,n={}){return mt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=Rz(e);return Lu(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new xn("need to specify a reason the DateTime is invalid");const n=e instanceof ki?e:new ki(e,r);if(gr.throwOnInvalid)throw new dj(n);return new mt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=QC(e,Ht.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return WC(Wr.parseFormat(e),Ht.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?y1(this).weekYear:NaN}get weekNumber(){return this.isValid?y1(this).weekNumber:NaN}get weekday(){return this.isValid?y1(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?b1(this).weekday:NaN}get localWeekNumber(){return this.isValid?b1(this).weekNumber:NaN}get localWeekYear(){return this.isValid?b1(this).weekYear:NaN}get ordinal(){return this.isValid?s1(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ch.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ch.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ch.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ch.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=Ah(this.c),i=this.zone.offset(n-e),o=this.zone.offset(n+e),s=this.zone.offset(n-i*r),a=this.zone.offset(n-o*r);if(s===a)return[this];const l=n-s*r,d=n-a*r,f=Ih(l,s),c=Ih(d,a);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[na(this,{ts:l}),na(this,{ts:d})]:[this]}get isInLeapYear(){return Iu(this.year)}get daysInMonth(){return wh(this.year,this.month)}get daysInYear(){return this.isValid?Pl(this.year):NaN}get weeksInWeekYear(){return this.isValid?Du(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Du(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=Wr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(sn.instance(e),r)}toLocal(){return this.setZone(gr.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=cs(e,gr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const o=e.offset(this.ts),s=this.toObject();[i]=Dh(s,o,e)}return na(this,{ts:i,zone:e})}else return mt.invalid(kh(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return na(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=Th(e,tS),{minDaysInFirstWeek:n,startOfWeek:i}=fC(r,this.loc),o=!ft(r.weekYear)||!ft(r.weekNumber)||!ft(r.weekday),s=!ft(r.ordinal),a=!ft(r.year),l=!ft(r.month)||!ft(r.day),d=a||l,f=r.weekYear||r.weekNumber;if((d||s)&&f)throw new Bl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new Bl("Can't mix ordinal dates with month/day");let c;o?c=uC({...vh(this.c,n,i),...r},n,i):ft(r.ordinal)?(c={...this.toObject(),...r},ft(r.day)&&(c.day=Math.min(wh(c.year,c.month),c.day))):c=dC({...s1(this.c),...r});const[h,p]=Dh(c,this.o,this.zone);return na(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e);return na(this,XC(this,r))}minus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e).negate();return na(this,XC(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=It.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Wr.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):g1}toLocaleString(e=ph,r={}){return this.isValid?Wr.create(this.loc.clone(r),e).formatDateTime(this):g1}toLocaleParts(e={}){return this.isValid?Wr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s=e==="extended";let a=v1(this,s);return a+="T",a+=JC(this,s,r,n,i,o),a}toISODate({format:e="extended"}={}){return this.isValid?v1(this,e==="extended"):null}toISOWeekDate(){return Mh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+JC(this,s==="extended",r,e,n,o):null}toRFC2822(){return Mh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Mh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?v1(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),Mh(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():g1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return It.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=Uj(r).map(It.normalizeUnit),s=e.valueOf()>this.valueOf(),a=s?this:e,l=s?e:this,d=Vz(a,l,o,i);return s?d.negate():d}diffNow(e="milliseconds",r={}){return this.diff(mt.now(),e,r)}until(e){return this.isValid?ur.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(r,n)<=i&&i<=o.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||mt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),nS(r,this.plus(n),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?nS(e.base||mt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(mt.isDateTime))throw new xn("min requires all arguments be DateTimes");return yC(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(mt.isDateTime))throw new xn("max requires all arguments be DateTimes");return yC(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:o=null}=n,s=Ht.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return GC(s,e,r)}static fromStringExplain(e,r,n={}){return mt.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return ph}static get DATE_MED(){return ME}static get DATE_MED_WITH_WEEKDAY(){return pj}static get DATE_FULL(){return NE}static get DATE_HUGE(){return OE}static get TIME_SIMPLE(){return LE}static get TIME_WITH_SECONDS(){return BE}static get TIME_WITH_SHORT_OFFSET(){return RE}static get TIME_WITH_LONG_OFFSET(){return PE}static get TIME_24_SIMPLE(){return FE}static get TIME_24_WITH_SECONDS(){return UE}static get TIME_24_WITH_SHORT_OFFSET(){return jE}static get TIME_24_WITH_LONG_OFFSET(){return zE}static get DATETIME_SHORT(){return $E}static get DATETIME_SHORT_WITH_SECONDS(){return VE}static get DATETIME_MED(){return HE}static get DATETIME_MED_WITH_SECONDS(){return qE}static get DATETIME_MED_WITH_WEEKDAY(){return mj}static get DATETIME_FULL(){return WE}static get DATETIME_FULL_WITH_SECONDS(){return GE}static get DATETIME_HUGE(){return QE}static get DATETIME_HUGE_WITH_SECONDS(){return YE}}function Bu(t){if(mt.isDateTime(t))return t;if(t&&t.valueOf&&ea(t.valueOf()))return mt.fromJSDate(t);if(t&&typeof t=="object")return mt.fromObject(t);throw new xn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const c$=(t,e,r=Dr())=>{const n=Dr(t);if(n.isSame(r,"day"))return e("today");if(n.isSame(r.subtract(1,"day"),"day"))return e("yesterday");const i=mt.fromMillis(t);return n.isSame(r,"week")?i.toLocaleString({month:"numeric",day:"numeric",weekday:"short"}):n.isSame(r,"year")?i.toLocaleString({month:"numeric",day:"numeric"}):i.toLocaleString({month:"numeric",day:"numeric",year:"numeric"})},u$={key:0,class:"mb-2 mt-4 flex items-center justify-center"},d$={class:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600 dark:bg-zinc-700 dark:text-gray-400"},f$={key:3,class:"flex flex-col items-end self-end text-xs text-gray-500 dark:text-gray-300"},h$={key:0},p$={key:5,class:"w-[30px]"},m$={class:"flex max-w-[75%] flex-col items-start sm:max-w-[60%]"},g$={key:0,class:"mb-1 ml-1 text-xs font-medium text-gray-500 dark:text-gray-300"},y$={key:6,class:"self-end text-xs text-gray-500 dark:text-gray-300"},b$=wi(u.defineComponent({inheritAttrs:!1,__name:"MessageCell",props:{source:{}},setup(t){const e=t,r=_i(),n=e.source,i={[Xe.Text]:Xo,[Xe.Image]:xL,[Xe.Sticker]:d_,[Xe.Video]:T7,[Xe.File]:D7,[Xe.Template]:K7,[Xe.Flex]:uU,[Xe.Location]:WU,[Xe.Audio]:nj,[Xe.Recall]:Xo,[Xe.JoinRoom]:Xo,[Xe.LeaveRoom]:Xo,[Xe.AddMember]:Xo,[Xe.DeleteMember]:Xo,[Xe.AddMembers]:Xo,[Xe.Announcement]:Xo,[Xe.Typing]:uj},o=Ft(),s=u.computed(()=>{if(o.state.imkit.uid!==e.source.senderId)return 0;const{rooms:E,uid:L,messageMultiList:D}=o.state.imkit,C=E[e.source.roomId];return C?Object.keys(C.lastReadMessageId).filter(R=>R!==L).map(R=>{var U;const $=C.lastReadMessageId[R];return(U=D.main)==null?void 0:U.finds($)}).reduce((R,$)=>$&&$.createdAt>=e.source.createdAt?R+1:R,0):0}),a=u.computed(()=>e.source.isIncoming),l=u.computed(()=>!a.value),d=u.computed(()=>{var D;if(n.type===Xe.Typing)return!0;const L=(((D=o.state.imkit.messageMultiList.main)==null?void 0:D.messageGroups)??new Map).get(n.groupId);return L?L[0].id===n.id:!1}),f=u.computed(()=>{var D;if(n.type===Xe.Typing)return!0;const L=(((D=o.state.imkit.messageMultiList.main)==null?void 0:D.messageGroups)??new Map).get(n.groupId);return L?L[L.length-1].id===n.id:!1}),c=u.ref(!1),h=E=>{c.value=!0,E.preventDefault()},p=()=>{o.commit("imkit/setState",{replyId:e.source.id})},m=()=>{let E="";switch(e.source.type){case Xe.Text:E=e.source.text;break;case Xe.Location:E=e.source.address;break}navigator.clipboard.writeText(E)},y=()=>{o.dispatch("imkit/recallMessage",{roomId:e.source.roomId,_id:e.source.id,messageType:"recall"})},b=u.computed(()=>{const E=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;if(e.source.type===Xe.Text){const L=e.source.text;for(let D=0;D<L.length;D++)if(!E.test(L[D]))return!1;return!0}return!1}),v=u.computed(()=>e.source),x=u.computed(()=>e.source.isSystem),S=u.computed(()=>o.state.imkit.config.styles),I=u.computed(()=>o.state.imkit.users[e.source.senderId]),M=u.computed(()=>{var L,D;return((D=(((L=o.state.imkit.messageMultiList.main)==null?void 0:L.firstMessageOfDate)??new Map).get(e.source.dateId))==null?void 0:D.id)===e.source.id});return(E,L)=>{var D,C,R;return u.openBlock(),u.createElementBlock(u.Fragment,null,[M.value?(u.openBlock(),u.createElementBlock("div",u$,[u.createElementVNode("div",d$,u.toDisplayString(u.unref(c$)(E.source.createdAt,u.unref(r).t)),1)])):u.createCommentVNode("",!0),x.value?(u.openBlock(),u.createBlock(sj,{key:1,message:E.source},null,8,["message"])):(u.openBlock(),u.createElementBlock("div",{key:2,class:u.normalizeClass(["flex gap-2",[a.value?"justify-start":"justify-end",d.value?"mt-1":"mt-[0.0625rem]",f.value?"mb-1":"mb-[0.0625rem]"]]),onMouseleave:L[1]||(L[1]=$=>c.value=!1),onClick:L[2]||(L[2]=$=>c.value=!1)},[l.value&&c.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:l6,class:"my-auto h-5 w-5 cursor-pointer",onClick:y})):u.createCommentVNode("",!0),l.value&&c.value?(u.openBlock(),u.createElementBlock("img",{key:1,src:Uv,class:"my-auto h-5 w-5 cursor-pointer",onClick:m})):u.createCommentVNode("",!0),l.value&&c.value?(u.openBlock(),u.createElementBlock("img",{key:2,src:jv,class:"my-auto h-5 w-5 cursor-pointer",onClick:p})):u.createCommentVNode("",!0),l.value&&f.value&&!c.value?(u.openBlock(),u.createElementBlock("div",f$,[s.value>0?(u.openBlock(),u.createElementBlock("div",h$,u.toDisplayString(E.$t("read"))+" "+u.toDisplayString(s.value),1)):u.createCommentVNode("",!0),u.createElementVNode("div",null,u.toDisplayString(u.unref(Dr)(E.source.createdAt).format("H:mm")),1)])):u.createCommentVNode("",!0),a.value&&d.value?(u.openBlock(),u.createBlock(Wn,{key:4,url:((D=I.value)==null?void 0:D.avatarUrl)??"",name:((C=I.value)==null?void 0:C.nickname)??"",class:"!h-[30px] !w-[30px] rounded-full text-xs"},null,8,["url","name"])):a.value?(u.openBlock(),u.createElementBlock("div",p$)):u.createCommentVNode("",!0),u.createElementVNode("div",m$,[a.value&&d.value?(u.openBlock(),u.createElementBlock("div",g$,u.toDisplayString(((R=I.value)==null?void 0:R.nickname)??""),1)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:u.normalizeClass(["relative overflow-hidden rounded",[a.value?"rounded-r-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100":"rounded-l-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100",l.value&&d.value?"rounded-tr-xl":"",l.value&&f.value?"rounded-br-xl":"",a.value&&d.value?"rounded-tl-xl":"",a.value&&f.value?"rounded-bl-xl":"",[u.unref(Xe).Sticker,u.unref(Xe).Image].includes(E.source.type)?"!bg-white dark:!bg-zinc-800":"",b.value?"!bg-white !text-3xl dark:!bg-zinc-800":"",[u.unref(Xe).Template,u.unref(Xe).Flex].includes(E.source.type)?"!rounded-none !bg-white dark:!bg-zinc-800":"px-3 py-2",[u.unref(Us).ImageCarousel,u.unref(Us).Carousel].includes(v.value.templateType)?"!rounded-none !bg-white dark:bg-zinc-800":""]]),style:u.normalizeStyle([a.value?S.value.incomingMessageCell:S.value.outgoingMessageCell]),onContextmenu:h,onMouseenter:L[0]||(L[0]=$=>c.value=!0)},[(u.openBlock(),u.createBlock(u.resolveDynamicComponent(i[E.source.type]),{message:u.unref(n)},null,8,["message"]))],38)]),a.value&&f.value&&!c.value&&u.unref(n).type!==u.unref(Xe).Typing?(u.openBlock(),u.createElementBlock("div",y$,u.toDisplayString(u.unref(Dr)(E.source.createdAt).format("H:mm")),1)):u.createCommentVNode("",!0),a.value&&c.value?(u.openBlock(),u.createElementBlock("img",{key:7,src:jv,class:"my-auto h-5 w-5 cursor-pointer",onClick:p})):u.createCommentVNode("",!0),a.value&&c.value?(u.openBlock(),u.createElementBlock("img",{key:8,src:Uv,class:"my-auto h-5 w-5 cursor-pointer",onClick:m})):u.createCommentVNode("",!0)],34))],64)}}}),[["__scopeId","data-v-17e76ed6"]]),v$={class:"absolute bottom-[110%] right-0 flex h-80 w-80 max-w-full flex-col divide-y overflow-auto rounded-xl border bg-white dark:bg-zinc-800"},_$={class:"grid grow grid-cols-3 items-center justify-center gap-4 overflow-y-auto p-4 sm:grid-cols-4"},w$=["src","onClick"],A$={key:0,class:"flex h-14 w-full flex-shrink-0 gap-4 overflow-x-auto p-3"},x$=["src","onClick"],T$=u.defineComponent({__name:"StickerPanel",emits:["close"],setup(t,{emit:e}){const r=Ft(),n=[{name:"FunFunFamily",number:40}],i=u.ref(n[0]),o=u.computed(()=>r.state.imkit.rooms[r.state.imkit.selectedRoomId]),s=e,a=async l=>{const d={roomId:o.value.id,messageType:"sticker",sticker:l};await r.dispatch("imkit/sendMessage",d),s("close")};return(l,d)=>(u.openBlock(),u.createElementBlock("div",v$,[u.createElementVNode("div",_$,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value.number,f=>(u.openBlock(),u.createElementBlock("img",{src:`/sticker/${i.value.name}/${i.value.name}-${f}.png`,key:f,class:"cursor-pointer border-0 object-contain",onClick:c=>a(`${i.value.name}-${f}`)},null,8,w$))),128))]),n.length>1?(u.openBlock(),u.createElementBlock("div",A$,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(n,f=>u.createElementVNode("img",{src:`/sticker/${f.name}/${f.name}-1.png`,key:f.name,class:"h-full cursor-pointer border-0 object-contain",onClick:c=>i.value=f},null,8,x$)),64))])):u.createCommentVNode("",!0)]))}}),oS="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64",sS={recent:"Recently used",smileys_people:"Smiles & People",animals_nature:"Animals & Nature",food_drink:"Food & Drink",activities:"Activities",travel_places:"Travel places",objects:"Objects",symbols:"Symbols",flags:"Flags"},aS="u",Nh="n",Oh="v",Ru="r",E$={[Nh]:["grinning face","grinning"],[aS]:"1f600",[Ru]:"1f600"},Lh="neutral",C$=[Lh,"1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"],S$={placeholder:"Search emoji",skinTone:"Skin tone"},k$=["light","dark","auto"];var I$={smileys_people:[{n:["grinning face","grinning"],u:"1f600"},{n:["grinning face with smiling eyes","grin"],u:"1f601"},{n:["face with tears of joy","joy"],u:"1f602"},{n:["rolling on the floor laughing","rolling_on_the_floor_laughing"],u:"1f923"},{n:["smiling face with open mouth","smiley"],u:"1f603"},{n:["smiling face with open mouth and smiling eyes","smile"],u:"1f604"},{n:["smiling face with open mouth and cold sweat","sweat_smile"],u:"1f605"},{n:["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],u:"1f606"},{n:["winking face","wink"],u:"1f609"},{n:["smiling face with smiling eyes","blush"],u:"1f60a"},{n:["face savouring delicious food","yum"],u:"1f60b"},{n:["smiling face with sunglasses","sunglasses"],u:"1f60e"},{n:["smiling face with heart-shaped eyes","heart_eyes"],u:"1f60d"},{n:["face throwing a kiss","kissing_heart"],u:"1f618"},{n:["kissing face","kissing"],u:"1f617"},{n:["kissing face with smiling eyes","kissing_smiling_eyes"],u:"1f619"},{n:["kissing face with closed eyes","kissing_closed_eyes"],u:"1f61a"},{n:["white smiling face","relaxed"],u:"263a-fe0f"},{n:["slightly smiling face","slightly_smiling_face"],u:"1f642"},{n:["hugging face","hugging_face"],u:"1f917"},{n:["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],u:"1f929"},{n:["thinking face","thinking_face"],u:"1f914"},{n:["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],u:"1f928"},{n:["neutral face","neutral_face"],u:"1f610"},{n:["expressionless face","expressionless"],u:"1f611"},{n:["face without mouth","no_mouth"],u:"1f636"},{n:["face with rolling eyes","face_with_rolling_eyes"],u:"1f644"},{n:["smirking face","smirk"],u:"1f60f"},{n:["persevering face","persevere"],u:"1f623"},{n:["disappointed but relieved face","disappointed_relieved"],u:"1f625"},{n:["face with open mouth","open_mouth"],u:"1f62e"},{n:["zipper-mouth face","zipper_mouth_face"],u:"1f910"},{n:["hushed face","hushed"],u:"1f62f"},{n:["sleepy face","sleepy"],u:"1f62a"},{n:["tired face","tired_face"],u:"1f62b"},{n:["sleeping face","sleeping"],u:"1f634"},{n:["relieved face","relieved"],u:"1f60c"},{n:["face with stuck-out tongue","stuck_out_tongue"],u:"1f61b"},{n:["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],u:"1f61c"},{n:["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],u:"1f61d"},{n:["drooling face","drooling_face"],u:"1f924"},{n:["unamused face","unamused"],u:"1f612"},{n:["face with cold sweat","sweat"],u:"1f613"},{n:["pensive face","pensive"],u:"1f614"},{n:["confused face","confused"],u:"1f615"},{n:["upside-down face","upside_down_face"],u:"1f643"},{n:["money-mouth face","money_mouth_face"],u:"1f911"},{n:["astonished face","astonished"],u:"1f632"},{n:["white_frowning_face"],u:"2639-fe0f"},{n:["slightly frowning face","slightly_frowning_face"],u:"1f641"},{n:["confounded face","confounded"],u:"1f616"},{n:["disappointed face","disappointed"],u:"1f61e"},{n:["worried face","worried"],u:"1f61f"},{n:["face with look of triumph","triumph"],u:"1f624"},{n:["crying face","cry"],u:"1f622"},{n:["loudly crying face","sob"],u:"1f62d"},{n:["frowning face with open mouth","frowning"],u:"1f626"},{n:["anguished face","anguished"],u:"1f627"},{n:["fearful face","fearful"],u:"1f628"},{n:["weary face","weary"],u:"1f629"},{n:["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],u:"1f92f"},{n:["grimacing face","grimacing"],u:"1f62c"},{n:["face with open mouth and cold sweat","cold_sweat"],u:"1f630"},{n:["face screaming in fear","scream"],u:"1f631"},{n:["flushed face","flushed"],u:"1f633"},{n:["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],u:"1f92a"},{n:["dizzy face","dizzy_face"],u:"1f635"},{n:["pouting face","rage"],u:"1f621"},{n:["angry face","angry"],u:"1f620"},{n:["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],u:"1f92c"},{n:["face with medical mask","mask"],u:"1f637"},{n:["face with thermometer","face_with_thermometer"],u:"1f912"},{n:["face with head-bandage","face_with_head_bandage"],u:"1f915"},{n:["nauseated face","nauseated_face"],u:"1f922"},{n:["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],u:"1f92e"},{n:["sneezing face","sneezing_face"],u:"1f927"},{n:["smiling face with halo","innocent"],u:"1f607"},{n:["face with cowboy hat","face_with_cowboy_hat"],u:"1f920"},{n:["clown face","clown_face"],u:"1f921"},{n:["lying face","lying_face"],u:"1f925"},{n:["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],u:"1f92b"},{n:["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],u:"1f92d"},{n:["face with monocle","face_with_monocle"],u:"1f9d0"},{n:["nerd face","nerd_face"],u:"1f913"},{n:["smiling face with horns","smiling_imp"],u:"1f608"},{n:["imp"],u:"1f47f"},{n:["japanese ogre","japanese_ogre"],u:"1f479"},{n:["japanese goblin","japanese_goblin"],u:"1f47a"},{n:["skull"],u:"1f480"},{n:["skull_and_crossbones"],u:"2620-fe0f"},{n:["ghost"],u:"1f47b"},{n:["extraterrestrial alien","alien"],u:"1f47d"},{n:["alien monster","space_invader"],u:"1f47e"},{n:["robot face","robot_face"],u:"1f916"},{n:["pile of poo","hankey","poop","shit"],u:"1f4a9"},{n:["smiling cat face with open mouth","smiley_cat"],u:"1f63a"},{n:["grinning cat face with smiling eyes","smile_cat"],u:"1f638"},{n:["cat face with tears of joy","joy_cat"],u:"1f639"},{n:["smiling cat face with heart-shaped eyes","heart_eyes_cat"],u:"1f63b"},{n:["cat face with wry smile","smirk_cat"],u:"1f63c"},{n:["kissing cat face with closed eyes","kissing_cat"],u:"1f63d"},{n:["weary cat face","scream_cat"],u:"1f640"},{n:["crying cat face","crying_cat_face"],u:"1f63f"},{n:["pouting cat face","pouting_cat"],u:"1f63e"},{n:["see-no-evil monkey","see_no_evil"],u:"1f648"},{n:["hear-no-evil monkey","hear_no_evil"],u:"1f649"},{n:["speak-no-evil monkey","speak_no_evil"],u:"1f64a"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{n:["older adult","older_adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{n:["older man","older_man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{n:["older woman","older_woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{n:["male-doctor"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{n:["female-doctor"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{n:["male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{n:["female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{n:["male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{n:["female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{n:["male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{n:["female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{n:["male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{n:["female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{n:["male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{n:["female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{n:["male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{n:["female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{n:["male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{n:["female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{n:["male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{n:["female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{n:["male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{n:["female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{n:["male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{n:["female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{n:["male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{n:["female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{n:["male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{n:["female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{n:["male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{n:["female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{n:["male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{n:["female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{n:["male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{n:["female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{n:["police officer","cop"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{n:["male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{n:["female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{n:["sleuth_or_spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{n:["male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{n:["female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{n:["male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{n:["female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{n:["construction worker","construction_worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{n:["male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{n:["female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{n:["man with turban","man_with_turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{n:["man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{n:["woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{n:["man with gua pi mao","man_with_gua_pi_mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{n:["person with headscarf","person_with_headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{n:["bearded person","bearded_person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{n:["person with blond hair","person_with_blond_hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{n:["blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{n:["blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{n:["man in tuxedo","man_in_tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{n:["bride with veil","bride_with_veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{n:["pregnant woman","pregnant_woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{n:["baby angel","angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{n:["father christmas","santa"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{n:["mother christmas","mrs_claus","mother_christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{n:["female_mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{n:["male_mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{n:["female_fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{n:["male_fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{n:["female_vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{n:["male_vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{n:["female_elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{n:["male_elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{n:["genie"],u:"1f9de"},{n:["female_genie"],u:"1f9de-200d-2640-fe0f"},{n:["male_genie"],u:"1f9de-200d-2642-fe0f"},{n:["zombie"],u:"1f9df"},{n:["female_zombie"],u:"1f9df-200d-2640-fe0f"},{n:["male_zombie"],u:"1f9df-200d-2642-fe0f"},{n:["person frowning","person_frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{n:["man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{n:["woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{n:["person with pouting face","person_with_pouting_face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{n:["man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{n:["woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{n:["face with no good gesture","no_good"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{n:["man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{n:["face with ok gesture","ok_woman"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{n:["man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{n:["information desk person","information_desk_person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{n:["man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{n:["woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{n:["happy person raising one hand","raising_hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{n:["man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{n:["woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{n:["person bowing deeply","bow"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{n:["man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{n:["woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{n:["face palm","face_palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{n:["man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{n:["woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{n:["man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{n:["woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{n:["face massage","massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{n:["man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{n:["man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{n:["pedestrian","walking"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{n:["man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{n:["woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{n:["man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{n:["woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{n:["man dancing","man_dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{n:["woman with bunny ears","dancers"],u:"1f46f"},{n:["man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f"},{n:["woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f"},{n:["person in steamy room","person_in_steamy_room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{n:["woman_in_steamy_room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{n:["man_in_steamy_room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{n:["person climbing","person_climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{n:["woman_climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{n:["man_climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{n:["person in lotus position","person_in_lotus_position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{n:["woman_in_lotus_position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{n:["man_in_lotus_position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{n:["sleeping accommodation","sleeping_accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{n:["man_in_business_suit_levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{n:["speaking_head_in_silhouette"],u:"1f5e3-fe0f"},{n:["bust in silhouette","bust_in_silhouette"],u:"1f464"},{n:["busts in silhouette","busts_in_silhouette"],u:"1f465"},{n:["fencer"],u:"1f93a"},{n:["horse racing","horse_racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{n:["skier"],u:"26f7-fe0f"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{n:["golfer"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{n:["man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{n:["woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{n:["man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{n:["woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{n:["man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{n:["woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{n:["man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{n:["woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{n:["person_with_ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{n:["man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{n:["woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{n:["weight_lifter"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{n:["man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{n:["woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{n:["man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{n:["woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{n:["mountain bicyclist","mountain_bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{n:["man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{n:["woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{n:["racing_car"],u:"1f3ce-fe0f"},{n:["racing_motorcycle"],u:"1f3cd-fe0f"},{n:["person doing cartwheel","person_doing_cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{n:["man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{n:["woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{n:["wrestlers"],u:"1f93c"},{n:["man-wrestling"],u:"1f93c-200d-2642-fe0f"},{n:["woman-wrestling"],u:"1f93c-200d-2640-fe0f"},{n:["water polo","water_polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{n:["man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{n:["man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{n:["man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{n:["woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{n:["man and woman holding hands","couple","man_and_woman_holding_hands"],u:"1f46b"},{n:["two men holding hands","two_men_holding_hands"],u:"1f46c"},{n:["two women holding hands","two_women_holding_hands"],u:"1f46d"},{n:["kiss","couplekiss"],u:"1f48f"},{n:["woman-kiss-man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["man-kiss-man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["woman-kiss-woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{n:["couple with heart","couple_with_heart"],u:"1f491"},{n:["woman-heart-man"],u:"1f469-200d-2764-fe0f-200d-1f468"},{n:["man-heart-man"],u:"1f468-200d-2764-fe0f-200d-1f468"},{n:["woman-heart-woman"],u:"1f469-200d-2764-fe0f-200d-1f469"},{n:["family","man-woman-boy"],u:"1f46a"},{n:["man-woman-boy","family"],u:"1f468-200d-1f469-200d-1f466"},{n:["man-woman-girl"],u:"1f468-200d-1f469-200d-1f467"},{n:["man-woman-girl-boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466"},{n:["man-woman-boy-boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466"},{n:["man-woman-girl-girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467"},{n:["man-man-boy"],u:"1f468-200d-1f468-200d-1f466"},{n:["man-man-girl"],u:"1f468-200d-1f468-200d-1f467"},{n:["man-man-girl-boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466"},{n:["man-man-boy-boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466"},{n:["man-man-girl-girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467"},{n:["woman-woman-boy"],u:"1f469-200d-1f469-200d-1f466"},{n:["woman-woman-girl"],u:"1f469-200d-1f469-200d-1f467"},{n:["woman-woman-girl-boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466"},{n:["woman-woman-boy-boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466"},{n:["woman-woman-girl-girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467"},{n:["man-boy"],u:"1f468-200d-1f466"},{n:["man-boy-boy"],u:"1f468-200d-1f466-200d-1f466"},{n:["man-girl"],u:"1f468-200d-1f467"},{n:["man-girl-boy"],u:"1f468-200d-1f467-200d-1f466"},{n:["man-girl-girl"],u:"1f468-200d-1f467-200d-1f467"},{n:["woman-boy"],u:"1f469-200d-1f466"},{n:["woman-boy-boy"],u:"1f469-200d-1f466-200d-1f466"},{n:["woman-girl"],u:"1f469-200d-1f467"},{n:["woman-girl-boy"],u:"1f469-200d-1f467-200d-1f466"},{n:["woman-girl-girl"],u:"1f469-200d-1f467-200d-1f467"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{n:["flexed biceps","muscle"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{n:["white left pointing backhand index","point_left"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{n:["white right pointing backhand index","point_right"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{n:["white up pointing index","point_up"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{n:["white up pointing backhand index","point_up_2"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{n:["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{n:["white down pointing backhand index","point_down"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{n:["victory hand","v"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{n:["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{n:["raised hand with part between middle and ring fingers","spock-hand"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{n:["sign of the horns","the_horns","sign_of_the_horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{n:["call me hand","call_me_hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{n:["raised_hand_with_fingers_splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{n:["raised hand","hand","raised_hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{n:["ok hand sign","ok_hand"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{n:["thumbs up sign","+1","thumbsup"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{n:["thumbs down sign","-1","thumbsdown"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{n:["raised fist","fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{n:["fisted hand sign","facepunch","punch"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{n:["left-facing fist","left-facing_fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{n:["right-facing fist","right-facing_fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{n:["raised back of hand","raised_back_of_hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{n:["waving hand sign","wave"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{n:["i love you hand sign","i_love_you_hand_sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{n:["writing_hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{n:["clapping hands sign","clap"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{n:["open hands sign","open_hands"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{n:["person raising both hands in celebration","raised_hands"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{n:["palms up together","palms_up_together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{n:["person with folded hands","pray"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{n:["handshake"],u:"1f91d"},{n:["nail polish","nail_care"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{n:["footprints"],u:"1f463"},{n:["eyes"],u:"1f440"},{n:["eye"],u:"1f441-fe0f"},{n:["eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f"},{n:["brain"],u:"1f9e0"},{n:["tongue"],u:"1f445"},{n:["mouth","lips"],u:"1f444"},{n:["kiss mark","kiss"],u:"1f48b"},{n:["heart with arrow","cupid"],u:"1f498"},{n:["heavy black heart","heart"],u:"2764-fe0f"},{n:["beating heart","heartbeat"],u:"1f493"},{n:["broken heart","broken_heart"],u:"1f494"},{n:["two hearts","two_hearts"],u:"1f495"},{n:["sparkling heart","sparkling_heart"],u:"1f496"},{n:["growing heart","heartpulse"],u:"1f497"},{n:["blue heart","blue_heart"],u:"1f499"},{n:["green heart","green_heart"],u:"1f49a"},{n:["yellow heart","yellow_heart"],u:"1f49b"},{n:["orange heart","orange_heart"],u:"1f9e1"},{n:["purple heart","purple_heart"],u:"1f49c"},{n:["black heart","black_heart"],u:"1f5a4"},{n:["heart with ribbon","gift_heart"],u:"1f49d"},{n:["revolving hearts","revolving_hearts"],u:"1f49e"},{n:["heart decoration","heart_decoration"],u:"1f49f"},{n:["heavy_heart_exclamation_mark_ornament"],u:"2763-fe0f"},{n:["love letter","love_letter"],u:"1f48c"},{n:["sleeping symbol","zzz"],u:"1f4a4"},{n:["anger symbol","anger"],u:"1f4a2"},{n:["bomb"],u:"1f4a3"},{n:["collision symbol","boom","collision"],u:"1f4a5"},{n:["splashing sweat symbol","sweat_drops"],u:"1f4a6"},{n:["dash symbol","dash"],u:"1f4a8"},{n:["dizzy symbol","dizzy"],u:"1f4ab"},{n:["speech balloon","speech_balloon"],u:"1f4ac"},{n:["left_speech_bubble"],u:"1f5e8-fe0f"},{n:["right_anger_bubble"],u:"1f5ef-fe0f"},{n:["thought balloon","thought_balloon"],u:"1f4ad"},{n:["hole"],u:"1f573-fe0f"},{n:["eyeglasses"],u:"1f453"},{n:["dark_sunglasses"],u:"1f576-fe0f"},{n:["necktie"],u:"1f454"},{n:["t-shirt","shirt","tshirt"],u:"1f455"},{n:["jeans"],u:"1f456"},{n:["scarf"],u:"1f9e3"},{n:["gloves"],u:"1f9e4"},{n:["coat"],u:"1f9e5"},{n:["socks"],u:"1f9e6"},{n:["dress"],u:"1f457"},{n:["kimono"],u:"1f458"},{n:["bikini"],u:"1f459"},{n:["womans clothes","womans_clothes"],u:"1f45a"},{n:["purse"],u:"1f45b"},{n:["handbag"],u:"1f45c"},{n:["pouch"],u:"1f45d"},{n:["shopping_bags"],u:"1f6cd-fe0f"},{n:["school satchel","school_satchel"],u:"1f392"},{n:["mans shoe","mans_shoe","shoe"],u:"1f45e"},{n:["athletic shoe","athletic_shoe"],u:"1f45f"},{n:["high-heeled shoe","high_heel"],u:"1f460"},{n:["womans sandal","sandal"],u:"1f461"},{n:["womans boots","boot"],u:"1f462"},{n:["crown"],u:"1f451"},{n:["womans hat","womans_hat"],u:"1f452"},{n:["top hat","tophat"],u:"1f3a9"},{n:["graduation cap","mortar_board"],u:"1f393"},{n:["billed cap","billed_cap"],u:"1f9e2"},{n:["helmet_with_white_cross"],u:"26d1-fe0f"},{n:["prayer beads","prayer_beads"],u:"1f4ff"},{n:["lipstick"],u:"1f484"},{n:["ring"],u:"1f48d"},{n:["gem stone","gem"],u:"1f48e"}],animals_nature:[{n:["monkey face","monkey_face"],u:"1f435"},{n:["monkey"],u:"1f412"},{n:["gorilla"],u:"1f98d"},{n:["dog face","dog"],u:"1f436"},{n:["dog","dog2"],u:"1f415"},{n:["poodle"],u:"1f429"},{n:["wolf face","wolf"],u:"1f43a"},{n:["fox face","fox_face"],u:"1f98a"},{n:["cat face","cat"],u:"1f431"},{n:["cat","cat2"],u:"1f408"},{n:["lion face","lion_face"],u:"1f981"},{n:["tiger face","tiger"],u:"1f42f"},{n:["tiger","tiger2"],u:"1f405"},{n:["leopard"],u:"1f406"},{n:["horse face","horse"],u:"1f434"},{n:["horse","racehorse"],u:"1f40e"},{n:["unicorn face","unicorn_face"],u:"1f984"},{n:["zebra face","zebra_face"],u:"1f993"},{n:["deer"],u:"1f98c"},{n:["cow face","cow"],u:"1f42e"},{n:["ox"],u:"1f402"},{n:["water buffalo","water_buffalo"],u:"1f403"},{n:["cow","cow2"],u:"1f404"},{n:["pig face","pig"],u:"1f437"},{n:["pig","pig2"],u:"1f416"},{n:["boar"],u:"1f417"},{n:["pig nose","pig_nose"],u:"1f43d"},{n:["ram"],u:"1f40f"},{n:["sheep"],u:"1f411"},{n:["goat"],u:"1f410"},{n:["dromedary camel","dromedary_camel"],u:"1f42a"},{n:["bactrian camel","camel"],u:"1f42b"},{n:["giraffe face","giraffe_face"],u:"1f992"},{n:["elephant"],u:"1f418"},{n:["rhinoceros"],u:"1f98f"},{n:["mouse face","mouse"],u:"1f42d"},{n:["mouse","mouse2"],u:"1f401"},{n:["rat"],u:"1f400"},{n:["hamster face","hamster"],u:"1f439"},{n:["rabbit face","rabbit"],u:"1f430"},{n:["rabbit","rabbit2"],u:"1f407"},{n:["chipmunk"],u:"1f43f-fe0f"},{n:["hedgehog"],u:"1f994"},{n:["bat"],u:"1f987"},{n:["bear face","bear"],u:"1f43b"},{n:["koala"],u:"1f428"},{n:["panda face","panda_face"],u:"1f43c"},{n:["paw prints","feet","paw_prints"],u:"1f43e"},{n:["turkey"],u:"1f983"},{n:["chicken"],u:"1f414"},{n:["rooster"],u:"1f413"},{n:["hatching chick","hatching_chick"],u:"1f423"},{n:["baby chick","baby_chick"],u:"1f424"},{n:["front-facing baby chick","hatched_chick"],u:"1f425"},{n:["bird"],u:"1f426"},{n:["penguin"],u:"1f427"},{n:["dove_of_peace"],u:"1f54a-fe0f"},{n:["eagle"],u:"1f985"},{n:["duck"],u:"1f986"},{n:["owl"],u:"1f989"},{n:["frog face","frog"],u:"1f438"},{n:["crocodile"],u:"1f40a"},{n:["turtle"],u:"1f422"},{n:["lizard"],u:"1f98e"},{n:["snake"],u:"1f40d"},{n:["dragon face","dragon_face"],u:"1f432"},{n:["dragon"],u:"1f409"},{n:["sauropod"],u:"1f995"},{n:["t-rex"],u:"1f996"},{n:["spouting whale","whale"],u:"1f433"},{n:["whale","whale2"],u:"1f40b"},{n:["dolphin","flipper"],u:"1f42c"},{n:["fish"],u:"1f41f"},{n:["tropical fish","tropical_fish"],u:"1f420"},{n:["blowfish"],u:"1f421"},{n:["shark"],u:"1f988"},{n:["octopus"],u:"1f419"},{n:["spiral shell","shell"],u:"1f41a"},{n:["crab"],u:"1f980"},{n:["shrimp"],u:"1f990"},{n:["squid"],u:"1f991"},{n:["snail"],u:"1f40c"},{n:["butterfly"],u:"1f98b"},{n:["bug"],u:"1f41b"},{n:["ant"],u:"1f41c"},{n:["honeybee","bee"],u:"1f41d"},{n:["lady beetle","beetle"],u:"1f41e"},{n:["cricket"],u:"1f997"},{n:["spider"],u:"1f577-fe0f"},{n:["spider_web"],u:"1f578-fe0f"},{n:["scorpion"],u:"1f982"},{n:["bouquet"],u:"1f490"},{n:["cherry blossom","cherry_blossom"],u:"1f338"},{n:["white flower","white_flower"],u:"1f4ae"},{n:["rosette"],u:"1f3f5-fe0f"},{n:["rose"],u:"1f339"},{n:["wilted flower","wilted_flower"],u:"1f940"},{n:["hibiscus"],u:"1f33a"},{n:["sunflower"],u:"1f33b"},{n:["blossom"],u:"1f33c"},{n:["tulip"],u:"1f337"},{n:["seedling"],u:"1f331"},{n:["evergreen tree","evergreen_tree"],u:"1f332"},{n:["deciduous tree","deciduous_tree"],u:"1f333"},{n:["palm tree","palm_tree"],u:"1f334"},{n:["cactus"],u:"1f335"},{n:["ear of rice","ear_of_rice"],u:"1f33e"},{n:["herb"],u:"1f33f"},{n:["shamrock"],u:"2618-fe0f"},{n:["four leaf clover","four_leaf_clover"],u:"1f340"},{n:["maple leaf","maple_leaf"],u:"1f341"},{n:["fallen leaf","fallen_leaf"],u:"1f342"},{n:["leaf fluttering in wind","leaves"],u:"1f343"}],food_drink:[{n:["grapes"],u:"1f347"},{n:["melon"],u:"1f348"},{n:["watermelon"],u:"1f349"},{n:["tangerine"],u:"1f34a"},{n:["lemon"],u:"1f34b"},{n:["banana"],u:"1f34c"},{n:["pineapple"],u:"1f34d"},{n:["red apple","apple"],u:"1f34e"},{n:["green apple","green_apple"],u:"1f34f"},{n:["pear"],u:"1f350"},{n:["peach"],u:"1f351"},{n:["cherries"],u:"1f352"},{n:["strawberry"],u:"1f353"},{n:["kiwifruit"],u:"1f95d"},{n:["tomato"],u:"1f345"},{n:["coconut"],u:"1f965"},{n:["avocado"],u:"1f951"},{n:["aubergine","eggplant"],u:"1f346"},{n:["potato"],u:"1f954"},{n:["carrot"],u:"1f955"},{n:["ear of maize","corn"],u:"1f33d"},{n:["hot_pepper"],u:"1f336-fe0f"},{n:["cucumber"],u:"1f952"},{n:["broccoli"],u:"1f966"},{n:["mushroom"],u:"1f344"},{n:["peanuts"],u:"1f95c"},{n:["chestnut"],u:"1f330"},{n:["bread"],u:"1f35e"},{n:["croissant"],u:"1f950"},{n:["baguette bread","baguette_bread"],u:"1f956"},{n:["pretzel"],u:"1f968"},{n:["pancakes"],u:"1f95e"},{n:["cheese wedge","cheese_wedge"],u:"1f9c0"},{n:["meat on bone","meat_on_bone"],u:"1f356"},{n:["poultry leg","poultry_leg"],u:"1f357"},{n:["cut of meat","cut_of_meat"],u:"1f969"},{n:["bacon"],u:"1f953"},{n:["hamburger"],u:"1f354"},{n:["french fries","fries"],u:"1f35f"},{n:["slice of pizza","pizza"],u:"1f355"},{n:["hot dog","hotdog"],u:"1f32d"},{n:["sandwich"],u:"1f96a"},{n:["taco"],u:"1f32e"},{n:["burrito"],u:"1f32f"},{n:["stuffed flatbread","stuffed_flatbread"],u:"1f959"},{n:["egg"],u:"1f95a"},{n:["cooking","fried_egg"],u:"1f373"},{n:["shallow pan of food","shallow_pan_of_food"],u:"1f958"},{n:["pot of food","stew"],u:"1f372"},{n:["bowl with spoon","bowl_with_spoon"],u:"1f963"},{n:["green salad","green_salad"],u:"1f957"},{n:["popcorn"],u:"1f37f"},{n:["canned food","canned_food"],u:"1f96b"},{n:["bento box","bento"],u:"1f371"},{n:["rice cracker","rice_cracker"],u:"1f358"},{n:["rice ball","rice_ball"],u:"1f359"},{n:["cooked rice","rice"],u:"1f35a"},{n:["curry and rice","curry"],u:"1f35b"},{n:["steaming bowl","ramen"],u:"1f35c"},{n:["spaghetti"],u:"1f35d"},{n:["roasted sweet potato","sweet_potato"],u:"1f360"},{n:["oden"],u:"1f362"},{n:["sushi"],u:"1f363"},{n:["fried shrimp","fried_shrimp"],u:"1f364"},{n:["fish cake with swirl design","fish_cake"],u:"1f365"},{n:["dango"],u:"1f361"},{n:["dumpling"],u:"1f95f"},{n:["fortune cookie","fortune_cookie"],u:"1f960"},{n:["takeout box","takeout_box"],u:"1f961"},{n:["soft ice cream","icecream"],u:"1f366"},{n:["shaved ice","shaved_ice"],u:"1f367"},{n:["ice cream","ice_cream"],u:"1f368"},{n:["doughnut"],u:"1f369"},{n:["cookie"],u:"1f36a"},{n:["birthday cake","birthday"],u:"1f382"},{n:["shortcake","cake"],u:"1f370"},{n:["pie"],u:"1f967"},{n:["chocolate bar","chocolate_bar"],u:"1f36b"},{n:["candy"],u:"1f36c"},{n:["lollipop"],u:"1f36d"},{n:["custard"],u:"1f36e"},{n:["honey pot","honey_pot"],u:"1f36f"},{n:["baby bottle","baby_bottle"],u:"1f37c"},{n:["glass of milk","glass_of_milk"],u:"1f95b"},{n:["hot beverage","coffee"],u:"2615"},{n:["teacup without handle","tea"],u:"1f375"},{n:["sake bottle and cup","sake"],u:"1f376"},{n:["bottle with popping cork","champagne"],u:"1f37e"},{n:["wine glass","wine_glass"],u:"1f377"},{n:["cocktail glass","cocktail"],u:"1f378"},{n:["tropical drink","tropical_drink"],u:"1f379"},{n:["beer mug","beer"],u:"1f37a"},{n:["clinking beer mugs","beers"],u:"1f37b"},{n:["clinking glasses","clinking_glasses"],u:"1f942"},{n:["tumbler glass","tumbler_glass"],u:"1f943"},{n:["cup with straw","cup_with_straw"],u:"1f964"},{n:["chopsticks"],u:"1f962"},{n:["knife_fork_plate"],u:"1f37d-fe0f"},{n:["fork and knife","fork_and_knife"],u:"1f374"},{n:["spoon"],u:"1f944"},{n:["hocho","knife"],u:"1f52a"},{n:["amphora"],u:"1f3fa"}],activities:[{n:["jack-o-lantern","jack_o_lantern"],u:"1f383"},{n:["christmas tree","christmas_tree"],u:"1f384"},{n:["fireworks"],u:"1f386"},{n:["firework sparkler","sparkler"],u:"1f387"},{n:["sparkles"],u:"2728"},{n:["balloon"],u:"1f388"},{n:["party popper","tada"],u:"1f389"},{n:["confetti ball","confetti_ball"],u:"1f38a"},{n:["tanabata tree","tanabata_tree"],u:"1f38b"},{n:["pine decoration","bamboo"],u:"1f38d"},{n:["japanese dolls","dolls"],u:"1f38e"},{n:["carp streamer","flags"],u:"1f38f"},{n:["wind chime","wind_chime"],u:"1f390"},{n:["moon viewing ceremony","rice_scene"],u:"1f391"},{n:["ribbon"],u:"1f380"},{n:["wrapped present","gift"],u:"1f381"},{n:["reminder_ribbon"],u:"1f397-fe0f"},{n:["admission_tickets"],u:"1f39f-fe0f"},{n:["ticket"],u:"1f3ab"},{n:["medal"],u:"1f396-fe0f"},{n:["trophy"],u:"1f3c6"},{n:["sports medal","sports_medal"],u:"1f3c5"},{n:["first place medal","first_place_medal"],u:"1f947"},{n:["second place medal","second_place_medal"],u:"1f948"},{n:["third place medal","third_place_medal"],u:"1f949"},{n:["soccer ball","soccer"],u:"26bd"},{n:["baseball"],u:"26be"},{n:["basketball and hoop","basketball"],u:"1f3c0"},{n:["volleyball"],u:"1f3d0"},{n:["american football","football"],u:"1f3c8"},{n:["rugby football","rugby_football"],u:"1f3c9"},{n:["tennis racquet and ball","tennis"],u:"1f3be"},{n:["billiards","8ball"],u:"1f3b1"},{n:["bowling"],u:"1f3b3"},{n:["cricket bat and ball","cricket_bat_and_ball"],u:"1f3cf"},{n:["field hockey stick and ball","field_hockey_stick_and_ball"],u:"1f3d1"},{n:["ice hockey stick and puck","ice_hockey_stick_and_puck"],u:"1f3d2"},{n:["table tennis paddle and ball","table_tennis_paddle_and_ball"],u:"1f3d3"},{n:["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],u:"1f3f8"},{n:["boxing glove","boxing_glove"],u:"1f94a"},{n:["martial arts uniform","martial_arts_uniform"],u:"1f94b"},{n:["goal net","goal_net"],u:"1f945"},{n:["direct hit","dart"],u:"1f3af"},{n:["flag in hole","golf"],u:"26f3"},{n:["ice_skate"],u:"26f8-fe0f"},{n:["fishing pole and fish","fishing_pole_and_fish"],u:"1f3a3"},{n:["running shirt with sash","running_shirt_with_sash"],u:"1f3bd"},{n:["ski and ski boot","ski"],u:"1f3bf"},{n:["sled"],u:"1f6f7"},{n:["curling stone","curling_stone"],u:"1f94c"},{n:["video game","video_game"],u:"1f3ae"},{n:["joystick"],u:"1f579-fe0f"},{n:["game die","game_die"],u:"1f3b2"},{n:["black spade suit","spades"],u:"2660-fe0f"},{n:["black heart suit","hearts"],u:"2665-fe0f"},{n:["black diamond suit","diamonds"],u:"2666-fe0f"},{n:["black club suit","clubs"],u:"2663-fe0f"},{n:["playing card black joker","black_joker"],u:"1f0cf"},{n:["mahjong tile red dragon","mahjong"],u:"1f004"},{n:["flower playing cards","flower_playing_cards"],u:"1f3b4"}],travel_places:[{n:["earth globe europe-africa","earth_africa"],u:"1f30d"},{n:["earth globe americas","earth_americas"],u:"1f30e"},{n:["earth globe asia-australia","earth_asia"],u:"1f30f"},{n:["globe with meridians","globe_with_meridians"],u:"1f310"},{n:["world_map"],u:"1f5fa-fe0f"},{n:["silhouette of japan","japan"],u:"1f5fe"},{n:["snow_capped_mountain"],u:"1f3d4-fe0f"},{n:["mountain"],u:"26f0-fe0f"},{n:["volcano"],u:"1f30b"},{n:["mount fuji","mount_fuji"],u:"1f5fb"},{n:["camping"],u:"1f3d5-fe0f"},{n:["beach_with_umbrella"],u:"1f3d6-fe0f"},{n:["desert"],u:"1f3dc-fe0f"},{n:["desert_island"],u:"1f3dd-fe0f"},{n:["national_park"],u:"1f3de-fe0f"},{n:["stadium"],u:"1f3df-fe0f"},{n:["classical_building"],u:"1f3db-fe0f"},{n:["building_construction"],u:"1f3d7-fe0f"},{n:["house_buildings"],u:"1f3d8-fe0f"},{n:["cityscape"],u:"1f3d9-fe0f"},{n:["derelict_house_building"],u:"1f3da-fe0f"},{n:["house building","house"],u:"1f3e0"},{n:["house with garden","house_with_garden"],u:"1f3e1"},{n:["office building","office"],u:"1f3e2"},{n:["japanese post office","post_office"],u:"1f3e3"},{n:["european post office","european_post_office"],u:"1f3e4"},{n:["hospital"],u:"1f3e5"},{n:["bank"],u:"1f3e6"},{n:["hotel"],u:"1f3e8"},{n:["love hotel","love_hotel"],u:"1f3e9"},{n:["convenience store","convenience_store"],u:"1f3ea"},{n:["school"],u:"1f3eb"},{n:["department store","department_store"],u:"1f3ec"},{n:["factory"],u:"1f3ed"},{n:["japanese castle","japanese_castle"],u:"1f3ef"},{n:["european castle","european_castle"],u:"1f3f0"},{n:["wedding"],u:"1f492"},{n:["tokyo tower","tokyo_tower"],u:"1f5fc"},{n:["statue of liberty","statue_of_liberty"],u:"1f5fd"},{n:["church"],u:"26ea"},{n:["mosque"],u:"1f54c"},{n:["synagogue"],u:"1f54d"},{n:["shinto_shrine"],u:"26e9-fe0f"},{n:["kaaba"],u:"1f54b"},{n:["fountain"],u:"26f2"},{n:["tent"],u:"26fa"},{n:["foggy"],u:"1f301"},{n:["night with stars","night_with_stars"],u:"1f303"},{n:["sunrise over mountains","sunrise_over_mountains"],u:"1f304"},{n:["sunrise"],u:"1f305"},{n:["cityscape at dusk","city_sunset"],u:"1f306"},{n:["sunset over buildings","city_sunrise"],u:"1f307"},{n:["bridge at night","bridge_at_night"],u:"1f309"},{n:["hot springs","hotsprings"],u:"2668-fe0f"},{n:["milky way","milky_way"],u:"1f30c"},{n:["carousel horse","carousel_horse"],u:"1f3a0"},{n:["ferris wheel","ferris_wheel"],u:"1f3a1"},{n:["roller coaster","roller_coaster"],u:"1f3a2"},{n:["barber pole","barber"],u:"1f488"},{n:["circus tent","circus_tent"],u:"1f3aa"},{n:["performing arts","performing_arts"],u:"1f3ad"},{n:["frame_with_picture"],u:"1f5bc-fe0f"},{n:["artist palette","art"],u:"1f3a8"},{n:["slot machine","slot_machine"],u:"1f3b0"},{n:["steam locomotive","steam_locomotive"],u:"1f682"},{n:["railway car","railway_car"],u:"1f683"},{n:["high-speed train","bullettrain_side"],u:"1f684"},{n:["high-speed train with bullet nose","bullettrain_front"],u:"1f685"},{n:["train","train2"],u:"1f686"},{n:["metro"],u:"1f687"},{n:["light rail","light_rail"],u:"1f688"},{n:["station"],u:"1f689"},{n:["tram"],u:"1f68a"},{n:["monorail"],u:"1f69d"},{n:["mountain railway","mountain_railway"],u:"1f69e"},{n:["tram car","train"],u:"1f68b"},{n:["bus"],u:"1f68c"},{n:["oncoming bus","oncoming_bus"],u:"1f68d"},{n:["trolleybus"],u:"1f68e"},{n:["minibus"],u:"1f690"},{n:["ambulance"],u:"1f691"},{n:["fire engine","fire_engine"],u:"1f692"},{n:["police car","police_car"],u:"1f693"},{n:["oncoming police car","oncoming_police_car"],u:"1f694"},{n:["taxi"],u:"1f695"},{n:["oncoming taxi","oncoming_taxi"],u:"1f696"},{n:["automobile","car","red_car"],u:"1f697"},{n:["oncoming automobile","oncoming_automobile"],u:"1f698"},{n:["recreational vehicle","blue_car"],u:"1f699"},{n:["delivery truck","truck"],u:"1f69a"},{n:["articulated lorry","articulated_lorry"],u:"1f69b"},{n:["tractor"],u:"1f69c"},{n:["bicycle","bike"],u:"1f6b2"},{n:["scooter"],u:"1f6f4"},{n:["motor scooter","motor_scooter"],u:"1f6f5"},{n:["bus stop","busstop"],u:"1f68f"},{n:["motorway"],u:"1f6e3-fe0f"},{n:["railway_track"],u:"1f6e4-fe0f"},{n:["fuel pump","fuelpump"],u:"26fd"},{n:["police cars revolving light","rotating_light"],u:"1f6a8"},{n:["horizontal traffic light","traffic_light"],u:"1f6a5"},{n:["vertical traffic light","vertical_traffic_light"],u:"1f6a6"},{n:["construction sign","construction"],u:"1f6a7"},{n:["octagonal sign","octagonal_sign"],u:"1f6d1"},{n:["anchor"],u:"2693"},{n:["sailboat","boat"],u:"26f5"},{n:["canoe"],u:"1f6f6"},{n:["speedboat"],u:"1f6a4"},{n:["passenger_ship"],u:"1f6f3-fe0f"},{n:["ferry"],u:"26f4-fe0f"},{n:["motor_boat"],u:"1f6e5-fe0f"},{n:["ship"],u:"1f6a2"},{n:["airplane"],u:"2708-fe0f"},{n:["small_airplane"],u:"1f6e9-fe0f"},{n:["airplane departure","airplane_departure"],u:"1f6eb"},{n:["airplane arriving","airplane_arriving"],u:"1f6ec"},{n:["seat"],u:"1f4ba"},{n:["helicopter"],u:"1f681"},{n:["suspension railway","suspension_railway"],u:"1f69f"},{n:["mountain cableway","mountain_cableway"],u:"1f6a0"},{n:["aerial tramway","aerial_tramway"],u:"1f6a1"},{n:["satellite"],u:"1f6f0-fe0f"},{n:["rocket"],u:"1f680"},{n:["flying saucer","flying_saucer"],u:"1f6f8"},{n:["bellhop_bell"],u:"1f6ce-fe0f"},{n:["door"],u:"1f6aa"},{n:["bed"],u:"1f6cf-fe0f"},{n:["couch_and_lamp"],u:"1f6cb-fe0f"},{n:["toilet"],u:"1f6bd"},{n:["shower"],u:"1f6bf"},{n:["bathtub"],u:"1f6c1"},{n:["hourglass"],u:"231b"},{n:["hourglass with flowing sand","hourglass_flowing_sand"],u:"23f3"},{n:["watch"],u:"231a"},{n:["alarm clock","alarm_clock"],u:"23f0"},{n:["stopwatch"],u:"23f1-fe0f"},{n:["timer_clock"],u:"23f2-fe0f"},{n:["mantelpiece_clock"],u:"1f570-fe0f"},{n:["clock face twelve oclock","clock12"],u:"1f55b"},{n:["clock face twelve-thirty","clock1230"],u:"1f567"},{n:["clock face one oclock","clock1"],u:"1f550"},{n:["clock face one-thirty","clock130"],u:"1f55c"},{n:["clock face two oclock","clock2"],u:"1f551"},{n:["clock face two-thirty","clock230"],u:"1f55d"},{n:["clock face three oclock","clock3"],u:"1f552"},{n:["clock face three-thirty","clock330"],u:"1f55e"},{n:["clock face four oclock","clock4"],u:"1f553"},{n:["clock face four-thirty","clock430"],u:"1f55f"},{n:["clock face five oclock","clock5"],u:"1f554"},{n:["clock face five-thirty","clock530"],u:"1f560"},{n:["clock face six oclock","clock6"],u:"1f555"},{n:["clock face six-thirty","clock630"],u:"1f561"},{n:["clock face seven oclock","clock7"],u:"1f556"},{n:["clock face seven-thirty","clock730"],u:"1f562"},{n:["clock face eight oclock","clock8"],u:"1f557"},{n:["clock face eight-thirty","clock830"],u:"1f563"},{n:["clock face nine oclock","clock9"],u:"1f558"},{n:["clock face nine-thirty","clock930"],u:"1f564"},{n:["clock face ten oclock","clock10"],u:"1f559"},{n:["clock face ten-thirty","clock1030"],u:"1f565"},{n:["clock face eleven oclock","clock11"],u:"1f55a"},{n:["clock face eleven-thirty","clock1130"],u:"1f566"},{n:["new moon symbol","new_moon"],u:"1f311"},{n:["waxing crescent moon symbol","waxing_crescent_moon"],u:"1f312"},{n:["first quarter moon symbol","first_quarter_moon"],u:"1f313"},{n:["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],u:"1f314"},{n:["full moon symbol","full_moon"],u:"1f315"},{n:["waning gibbous moon symbol","waning_gibbous_moon"],u:"1f316"},{n:["last quarter moon symbol","last_quarter_moon"],u:"1f317"},{n:["waning crescent moon symbol","waning_crescent_moon"],u:"1f318"},{n:["crescent moon","crescent_moon"],u:"1f319"},{n:["new moon with face","new_moon_with_face"],u:"1f31a"},{n:["first quarter moon with face","first_quarter_moon_with_face"],u:"1f31b"},{n:["last quarter moon with face","last_quarter_moon_with_face"],u:"1f31c"},{n:["thermometer"],u:"1f321-fe0f"},{n:["black sun with rays","sunny"],u:"2600-fe0f"},{n:["full moon with face","full_moon_with_face"],u:"1f31d"},{n:["sun with face","sun_with_face"],u:"1f31e"},{n:["white medium star","star"],u:"2b50"},{n:["glowing star","star2"],u:"1f31f"},{n:["shooting star","stars"],u:"1f320"},{n:["cloud"],u:"2601-fe0f"},{n:["sun behind cloud","partly_sunny"],u:"26c5"},{n:["thunder_cloud_and_rain"],u:"26c8-fe0f"},{n:["mostly_sunny","sun_small_cloud"],u:"1f324-fe0f"},{n:["barely_sunny","sun_behind_cloud"],u:"1f325-fe0f"},{n:["partly_sunny_rain","sun_behind_rain_cloud"],u:"1f326-fe0f"},{n:["rain_cloud"],u:"1f327-fe0f"},{n:["snow_cloud"],u:"1f328-fe0f"},{n:["lightning","lightning_cloud"],u:"1f329-fe0f"},{n:["tornado","tornado_cloud"],u:"1f32a-fe0f"},{n:["fog"],u:"1f32b-fe0f"},{n:["wind_blowing_face"],u:"1f32c-fe0f"},{n:["cyclone"],u:"1f300"},{n:["rainbow"],u:"1f308"},{n:["closed umbrella","closed_umbrella"],u:"1f302"},{n:["umbrella"],u:"2602-fe0f"},{n:["umbrella with rain drops","umbrella_with_rain_drops"],u:"2614"},{n:["umbrella_on_ground"],u:"26f1-fe0f"},{n:["high voltage sign","zap"],u:"26a1"},{n:["snowflake"],u:"2744-fe0f"},{n:["snowman"],u:"2603-fe0f"},{n:["snowman without snow","snowman_without_snow"],u:"26c4"},{n:["comet"],u:"2604-fe0f"},{n:["fire"],u:"1f525"},{n:["droplet"],u:"1f4a7"},{n:["water wave","ocean"],u:"1f30a"}],objects:[{n:["speaker with cancellation stroke","mute"],u:"1f507"},{n:["speaker"],u:"1f508"},{n:["speaker with one sound wave","sound"],u:"1f509"},{n:["speaker with three sound waves","loud_sound"],u:"1f50a"},{n:["public address loudspeaker","loudspeaker"],u:"1f4e2"},{n:["cheering megaphone","mega"],u:"1f4e3"},{n:["postal horn","postal_horn"],u:"1f4ef"},{n:["bell"],u:"1f514"},{n:["bell with cancellation stroke","no_bell"],u:"1f515"},{n:["musical score","musical_score"],u:"1f3bc"},{n:["musical note","musical_note"],u:"1f3b5"},{n:["multiple musical notes","notes"],u:"1f3b6"},{n:["studio_microphone"],u:"1f399-fe0f"},{n:["level_slider"],u:"1f39a-fe0f"},{n:["control_knobs"],u:"1f39b-fe0f"},{n:["microphone"],u:"1f3a4"},{n:["headphone","headphones"],u:"1f3a7"},{n:["radio"],u:"1f4fb"},{n:["saxophone"],u:"1f3b7"},{n:["guitar"],u:"1f3b8"},{n:["musical keyboard","musical_keyboard"],u:"1f3b9"},{n:["trumpet"],u:"1f3ba"},{n:["violin"],u:"1f3bb"},{n:["drum with drumsticks","drum_with_drumsticks"],u:"1f941"},{n:["mobile phone","iphone"],u:"1f4f1"},{n:["mobile phone with rightwards arrow at left","calling"],u:"1f4f2"},{n:["black telephone","phone","telephone"],u:"260e-fe0f"},{n:["telephone receiver","telephone_receiver"],u:"1f4de"},{n:["pager"],u:"1f4df"},{n:["fax machine","fax"],u:"1f4e0"},{n:["battery"],u:"1f50b"},{n:["electric plug","electric_plug"],u:"1f50c"},{n:["personal computer","computer"],u:"1f4bb"},{n:["desktop_computer"],u:"1f5a5-fe0f"},{n:["printer"],u:"1f5a8-fe0f"},{n:["keyboard"],u:"2328-fe0f"},{n:["three_button_mouse"],u:"1f5b1-fe0f"},{n:["trackball"],u:"1f5b2-fe0f"},{n:["minidisc"],u:"1f4bd"},{n:["floppy disk","floppy_disk"],u:"1f4be"},{n:["optical disc","cd"],u:"1f4bf"},{n:["dvd"],u:"1f4c0"},{n:["movie camera","movie_camera"],u:"1f3a5"},{n:["film_frames"],u:"1f39e-fe0f"},{n:["film_projector"],u:"1f4fd-fe0f"},{n:["clapper board","clapper"],u:"1f3ac"},{n:["television","tv"],u:"1f4fa"},{n:["camera"],u:"1f4f7"},{n:["camera with flash","camera_with_flash"],u:"1f4f8"},{n:["video camera","video_camera"],u:"1f4f9"},{n:["videocassette","vhs"],u:"1f4fc"},{n:["left-pointing magnifying glass","mag"],u:"1f50d"},{n:["right-pointing magnifying glass","mag_right"],u:"1f50e"},{n:["microscope"],u:"1f52c"},{n:["telescope"],u:"1f52d"},{n:["satellite antenna","satellite_antenna"],u:"1f4e1"},{n:["candle"],u:"1f56f-fe0f"},{n:["electric light bulb","bulb"],u:"1f4a1"},{n:["electric torch","flashlight"],u:"1f526"},{n:["izakaya lantern","izakaya_lantern","lantern"],u:"1f3ee"},{n:["notebook with decorative cover","notebook_with_decorative_cover"],u:"1f4d4"},{n:["closed book","closed_book"],u:"1f4d5"},{n:["open book","book","open_book"],u:"1f4d6"},{n:["green book","green_book"],u:"1f4d7"},{n:["blue book","blue_book"],u:"1f4d8"},{n:["orange book","orange_book"],u:"1f4d9"},{n:["books"],u:"1f4da"},{n:["notebook"],u:"1f4d3"},{n:["ledger"],u:"1f4d2"},{n:["page with curl","page_with_curl"],u:"1f4c3"},{n:["scroll"],u:"1f4dc"},{n:["page facing up","page_facing_up"],u:"1f4c4"},{n:["newspaper"],u:"1f4f0"},{n:["rolled_up_newspaper"],u:"1f5de-fe0f"},{n:["bookmark tabs","bookmark_tabs"],u:"1f4d1"},{n:["bookmark"],u:"1f516"},{n:["label"],u:"1f3f7-fe0f"},{n:["money bag","moneybag"],u:"1f4b0"},{n:["banknote with yen sign","yen"],u:"1f4b4"},{n:["banknote with dollar sign","dollar"],u:"1f4b5"},{n:["banknote with euro sign","euro"],u:"1f4b6"},{n:["banknote with pound sign","pound"],u:"1f4b7"},{n:["money with wings","money_with_wings"],u:"1f4b8"},{n:["credit card","credit_card"],u:"1f4b3"},{n:["chart with upwards trend and yen sign","chart"],u:"1f4b9"},{n:["currency exchange","currency_exchange"],u:"1f4b1"},{n:["heavy dollar sign","heavy_dollar_sign"],u:"1f4b2"},{n:["envelope","email"],u:"2709-fe0f"},{n:["e-mail symbol","e-mail"],u:"1f4e7"},{n:["incoming envelope","incoming_envelope"],u:"1f4e8"},{n:["envelope with downwards arrow above","envelope_with_arrow"],u:"1f4e9"},{n:["outbox tray","outbox_tray"],u:"1f4e4"},{n:["inbox tray","inbox_tray"],u:"1f4e5"},{n:["package"],u:"1f4e6"},{n:["closed mailbox with raised flag","mailbox"],u:"1f4eb"},{n:["closed mailbox with lowered flag","mailbox_closed"],u:"1f4ea"},{n:["open mailbox with raised flag","mailbox_with_mail"],u:"1f4ec"},{n:["open mailbox with lowered flag","mailbox_with_no_mail"],u:"1f4ed"},{n:["postbox"],u:"1f4ee"},{n:["ballot_box_with_ballot"],u:"1f5f3-fe0f"},{n:["pencil","pencil2"],u:"270f-fe0f"},{n:["black nib","black_nib"],u:"2712-fe0f"},{n:["lower_left_fountain_pen"],u:"1f58b-fe0f"},{n:["lower_left_ballpoint_pen"],u:"1f58a-fe0f"},{n:["lower_left_paintbrush"],u:"1f58c-fe0f"},{n:["lower_left_crayon"],u:"1f58d-fe0f"},{n:["memo","pencil"],u:"1f4dd"},{n:["briefcase"],u:"1f4bc"},{n:["file folder","file_folder"],u:"1f4c1"},{n:["open file folder","open_file_folder"],u:"1f4c2"},{n:["card_index_dividers"],u:"1f5c2-fe0f"},{n:["calendar","date"],u:"1f4c5"},{n:["tear-off calendar","calendar"],u:"1f4c6"},{n:["spiral_note_pad"],u:"1f5d2-fe0f"},{n:["spiral_calendar_pad"],u:"1f5d3-fe0f"},{n:["card index","card_index"],u:"1f4c7"},{n:["chart with upwards trend","chart_with_upwards_trend"],u:"1f4c8"},{n:["chart with downwards trend","chart_with_downwards_trend"],u:"1f4c9"},{n:["bar chart","bar_chart"],u:"1f4ca"},{n:["clipboard"],u:"1f4cb"},{n:["pushpin"],u:"1f4cc"},{n:["round pushpin","round_pushpin"],u:"1f4cd"},{n:["paperclip"],u:"1f4ce"},{n:["linked_paperclips"],u:"1f587-fe0f"},{n:["straight ruler","straight_ruler"],u:"1f4cf"},{n:["triangular ruler","triangular_ruler"],u:"1f4d0"},{n:["black scissors","scissors"],u:"2702-fe0f"},{n:["card_file_box"],u:"1f5c3-fe0f"},{n:["file_cabinet"],u:"1f5c4-fe0f"},{n:["wastebasket"],u:"1f5d1-fe0f"},{n:["lock"],u:"1f512"},{n:["open lock","unlock"],u:"1f513"},{n:["lock with ink pen","lock_with_ink_pen"],u:"1f50f"},{n:["closed lock with key","closed_lock_with_key"],u:"1f510"},{n:["key"],u:"1f511"},{n:["old_key"],u:"1f5dd-fe0f"},{n:["hammer"],u:"1f528"},{n:["pick"],u:"26cf-fe0f"},{n:["hammer_and_pick"],u:"2692-fe0f"},{n:["hammer_and_wrench"],u:"1f6e0-fe0f"},{n:["dagger_knife"],u:"1f5e1-fe0f"},{n:["crossed_swords"],u:"2694-fe0f"},{n:["pistol","gun"],u:"1f52b"},{n:["bow and arrow","bow_and_arrow"],u:"1f3f9"},{n:["shield"],u:"1f6e1-fe0f"},{n:["wrench"],u:"1f527"},{n:["nut and bolt","nut_and_bolt"],u:"1f529"},{n:["gear"],u:"2699-fe0f"},{n:["compression"],u:"1f5dc-fe0f"},{n:["alembic"],u:"2697-fe0f"},{n:["scales"],u:"2696-fe0f"},{n:["link symbol","link"],u:"1f517"},{n:["chains"],u:"26d3-fe0f"},{n:["syringe"],u:"1f489"},{n:["pill"],u:"1f48a"},{n:["smoking symbol","smoking"],u:"1f6ac"},{n:["coffin"],u:"26b0-fe0f"},{n:["funeral_urn"],u:"26b1-fe0f"},{n:["moyai"],u:"1f5ff"},{n:["oil_drum"],u:"1f6e2-fe0f"},{n:["crystal ball","crystal_ball"],u:"1f52e"},{n:["shopping trolley","shopping_trolley"],u:"1f6d2"}],symbols:[{n:["automated teller machine","atm"],u:"1f3e7"},{n:["put litter in its place symbol","put_litter_in_its_place"],u:"1f6ae"},{n:["potable water symbol","potable_water"],u:"1f6b0"},{n:["wheelchair symbol","wheelchair"],u:"267f"},{n:["mens symbol","mens"],u:"1f6b9"},{n:["womens symbol","womens"],u:"1f6ba"},{n:["restroom"],u:"1f6bb"},{n:["baby symbol","baby_symbol"],u:"1f6bc"},{n:["water closet","wc"],u:"1f6be"},{n:["passport control","passport_control"],u:"1f6c2"},{n:["customs"],u:"1f6c3"},{n:["baggage claim","baggage_claim"],u:"1f6c4"},{n:["left luggage","left_luggage"],u:"1f6c5"},{n:["warning sign","warning"],u:"26a0-fe0f"},{n:["children crossing","children_crossing"],u:"1f6b8"},{n:["no entry","no_entry"],u:"26d4"},{n:["no entry sign","no_entry_sign"],u:"1f6ab"},{n:["no bicycles","no_bicycles"],u:"1f6b3"},{n:["no smoking symbol","no_smoking"],u:"1f6ad"},{n:["do not litter symbol","do_not_litter"],u:"1f6af"},{n:["non-potable water symbol","non-potable_water"],u:"1f6b1"},{n:["no pedestrians","no_pedestrians"],u:"1f6b7"},{n:["no mobile phones","no_mobile_phones"],u:"1f4f5"},{n:["no one under eighteen symbol","underage"],u:"1f51e"},{n:["radioactive_sign"],u:"2622-fe0f"},{n:["biohazard_sign"],u:"2623-fe0f"},{n:["upwards black arrow","arrow_up"],u:"2b06-fe0f"},{n:["north east arrow","arrow_upper_right"],u:"2197-fe0f"},{n:["black rightwards arrow","arrow_right"],u:"27a1-fe0f"},{n:["south east arrow","arrow_lower_right"],u:"2198-fe0f"},{n:["downwards black arrow","arrow_down"],u:"2b07-fe0f"},{n:["south west arrow","arrow_lower_left"],u:"2199-fe0f"},{n:["leftwards black arrow","arrow_left"],u:"2b05-fe0f"},{n:["north west arrow","arrow_upper_left"],u:"2196-fe0f"},{n:["up down arrow","arrow_up_down"],u:"2195-fe0f"},{n:["left right arrow","left_right_arrow"],u:"2194-fe0f"},{n:["leftwards arrow with hook","leftwards_arrow_with_hook"],u:"21a9-fe0f"},{n:["rightwards arrow with hook","arrow_right_hook"],u:"21aa-fe0f"},{n:["arrow pointing rightwards then curving upwards","arrow_heading_up"],u:"2934-fe0f"},{n:["arrow pointing rightwards then curving downwards","arrow_heading_down"],u:"2935-fe0f"},{n:["clockwise downwards and upwards open circle arrows","arrows_clockwise"],u:"1f503"},{n:["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],u:"1f504"},{n:["back with leftwards arrow above","back"],u:"1f519"},{n:["end with leftwards arrow above","end"],u:"1f51a"},{n:["on with exclamation mark with left right arrow above","on"],u:"1f51b"},{n:["soon with rightwards arrow above","soon"],u:"1f51c"},{n:["top with upwards arrow above","top"],u:"1f51d"},{n:["place of worship","place_of_worship"],u:"1f6d0"},{n:["atom_symbol"],u:"269b-fe0f"},{n:["om_symbol"],u:"1f549-fe0f"},{n:["star_of_david"],u:"2721-fe0f"},{n:["wheel_of_dharma"],u:"2638-fe0f"},{n:["yin_yang"],u:"262f-fe0f"},{n:["latin_cross"],u:"271d-fe0f"},{n:["orthodox_cross"],u:"2626-fe0f"},{n:["star_and_crescent"],u:"262a-fe0f"},{n:["peace_symbol"],u:"262e-fe0f"},{n:["menorah with nine branches","menorah_with_nine_branches"],u:"1f54e"},{n:["six pointed star with middle dot","six_pointed_star"],u:"1f52f"},{n:["aries"],u:"2648"},{n:["taurus"],u:"2649"},{n:["gemini"],u:"264a"},{n:["cancer"],u:"264b"},{n:["leo"],u:"264c"},{n:["virgo"],u:"264d"},{n:["libra"],u:"264e"},{n:["scorpius"],u:"264f"},{n:["sagittarius"],u:"2650"},{n:["capricorn"],u:"2651"},{n:["aquarius"],u:"2652"},{n:["pisces"],u:"2653"},{n:["ophiuchus"],u:"26ce"},{n:["twisted rightwards arrows","twisted_rightwards_arrows"],u:"1f500"},{n:["clockwise rightwards and leftwards open circle arrows","repeat"],u:"1f501"},{n:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],u:"1f502"},{n:["black right-pointing triangle","arrow_forward"],u:"25b6-fe0f"},{n:["black right-pointing double triangle","fast_forward"],u:"23e9"},{n:["black_right_pointing_double_triangle_with_vertical_bar"],u:"23ed-fe0f"},{n:["black_right_pointing_triangle_with_double_vertical_bar"],u:"23ef-fe0f"},{n:["black left-pointing triangle","arrow_backward"],u:"25c0-fe0f"},{n:["black left-pointing double triangle","rewind"],u:"23ea"},{n:["black_left_pointing_double_triangle_with_vertical_bar"],u:"23ee-fe0f"},{n:["up-pointing small red triangle","arrow_up_small"],u:"1f53c"},{n:["black up-pointing double triangle","arrow_double_up"],u:"23eb"},{n:["down-pointing small red triangle","arrow_down_small"],u:"1f53d"},{n:["black down-pointing double triangle","arrow_double_down"],u:"23ec"},{n:["double_vertical_bar"],u:"23f8-fe0f"},{n:["black_square_for_stop"],u:"23f9-fe0f"},{n:["black_circle_for_record"],u:"23fa-fe0f"},{n:["eject"],u:"23cf-fe0f"},{n:["cinema"],u:"1f3a6"},{n:["low brightness symbol","low_brightness"],u:"1f505"},{n:["high brightness symbol","high_brightness"],u:"1f506"},{n:["antenna with bars","signal_strength"],u:"1f4f6"},{n:["vibration mode","vibration_mode"],u:"1f4f3"},{n:["mobile phone off","mobile_phone_off"],u:"1f4f4"},{n:["female_sign"],u:"2640-fe0f"},{n:["male_sign"],u:"2642-fe0f"},{n:["medical_symbol","staff_of_aesculapius"],u:"2695-fe0f"},{n:["black universal recycling symbol","recycle"],u:"267b-fe0f"},{n:["fleur_de_lis"],u:"269c-fe0f"},{n:["trident emblem","trident"],u:"1f531"},{n:["name badge","name_badge"],u:"1f4db"},{n:["japanese symbol for beginner","beginner"],u:"1f530"},{n:["heavy large circle","o"],u:"2b55"},{n:["white heavy check mark","white_check_mark"],u:"2705"},{n:["ballot box with check","ballot_box_with_check"],u:"2611-fe0f"},{n:["heavy check mark","heavy_check_mark"],u:"2714-fe0f"},{n:["heavy multiplication x","heavy_multiplication_x"],u:"2716-fe0f"},{n:["cross mark","x"],u:"274c"},{n:["negative squared cross mark","negative_squared_cross_mark"],u:"274e"},{n:["heavy plus sign","heavy_plus_sign"],u:"2795"},{n:["heavy minus sign","heavy_minus_sign"],u:"2796"},{n:["heavy division sign","heavy_division_sign"],u:"2797"},{n:["curly loop","curly_loop"],u:"27b0"},{n:["double curly loop","loop"],u:"27bf"},{n:["part alternation mark","part_alternation_mark"],u:"303d-fe0f"},{n:["eight spoked asterisk","eight_spoked_asterisk"],u:"2733-fe0f"},{n:["eight pointed black star","eight_pointed_black_star"],u:"2734-fe0f"},{n:["sparkle"],u:"2747-fe0f"},{n:["double exclamation mark","bangbang"],u:"203c-fe0f"},{n:["exclamation question mark","interrobang"],u:"2049-fe0f"},{n:["black question mark ornament","question"],u:"2753"},{n:["white question mark ornament","grey_question"],u:"2754"},{n:["white exclamation mark ornament","grey_exclamation"],u:"2755"},{n:["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],u:"2757"},{n:["wavy dash","wavy_dash"],u:"3030-fe0f"},{n:["copyright sign","copyright"],u:"00a9-fe0f"},{n:["registered sign","registered"],u:"00ae-fe0f"},{n:["trade mark sign","tm"],u:"2122-fe0f"},{n:["hash key","hash"],u:"0023-fe0f-20e3"},{n:["keycap_star"],u:"002a-fe0f-20e3"},{n:["keycap 0","zero"],u:"0030-fe0f-20e3"},{n:["keycap 1","one"],u:"0031-fe0f-20e3"},{n:["keycap 2","two"],u:"0032-fe0f-20e3"},{n:["keycap 3","three"],u:"0033-fe0f-20e3"},{n:["keycap 4","four"],u:"0034-fe0f-20e3"},{n:["keycap 5","five"],u:"0035-fe0f-20e3"},{n:["keycap 6","six"],u:"0036-fe0f-20e3"},{n:["keycap 7","seven"],u:"0037-fe0f-20e3"},{n:["keycap 8","eight"],u:"0038-fe0f-20e3"},{n:["keycap 9","nine"],u:"0039-fe0f-20e3"},{n:["keycap ten","keycap_ten"],u:"1f51f"},{n:["hundred points symbol","100"],u:"1f4af"},{n:["input symbol for latin capital letters","capital_abcd"],u:"1f520"},{n:["input symbol for latin small letters","abcd"],u:"1f521"},{n:["input symbol for numbers","1234"],u:"1f522"},{n:["input symbol for symbols","symbols"],u:"1f523"},{n:["input symbol for latin letters","abc"],u:"1f524"},{n:["negative squared latin capital letter a","a"],u:"1f170-fe0f"},{n:["negative squared ab","ab"],u:"1f18e"},{n:["negative squared latin capital letter b","b"],u:"1f171-fe0f"},{n:["squared cl","cl"],u:"1f191"},{n:["squared cool","cool"],u:"1f192"},{n:["squared free","free"],u:"1f193"},{n:["information source","information_source"],u:"2139-fe0f"},{n:["squared id","id"],u:"1f194"},{n:["circled latin capital letter m","m"],u:"24c2-fe0f"},{n:["squared new","new"],u:"1f195"},{n:["squared ng","ng"],u:"1f196"},{n:["negative squared latin capital letter o","o2"],u:"1f17e-fe0f"},{n:["squared ok","ok"],u:"1f197"},{n:["negative squared latin capital letter p","parking"],u:"1f17f-fe0f"},{n:["squared sos","sos"],u:"1f198"},{n:["squared up with exclamation mark","up"],u:"1f199"},{n:["squared vs","vs"],u:"1f19a"},{n:["squared katakana koko","koko"],u:"1f201"},{n:["squared katakana sa","sa"],u:"1f202-fe0f"},{n:["squared cjk unified ideograph-6708","u6708"],u:"1f237-fe0f"},{n:["squared cjk unified ideograph-6709","u6709"],u:"1f236"},{n:["squared cjk unified ideograph-6307","u6307"],u:"1f22f"},{n:["circled ideograph advantage","ideograph_advantage"],u:"1f250"},{n:["squared cjk unified ideograph-5272","u5272"],u:"1f239"},{n:["squared cjk unified ideograph-7121","u7121"],u:"1f21a"},{n:["squared cjk unified ideograph-7981","u7981"],u:"1f232"},{n:["circled ideograph accept","accept"],u:"1f251"},{n:["squared cjk unified ideograph-7533","u7533"],u:"1f238"},{n:["squared cjk unified ideograph-5408","u5408"],u:"1f234"},{n:["squared cjk unified ideograph-7a7a","u7a7a"],u:"1f233"},{n:["circled ideograph congratulation","congratulations"],u:"3297-fe0f"},{n:["circled ideograph secret","secret"],u:"3299-fe0f"},{n:["squared cjk unified ideograph-55b6","u55b6"],u:"1f23a"},{n:["squared cjk unified ideograph-6e80","u6e80"],u:"1f235"},{n:["black small square","black_small_square"],u:"25aa-fe0f"},{n:["white small square","white_small_square"],u:"25ab-fe0f"},{n:["white medium square","white_medium_square"],u:"25fb-fe0f"},{n:["black medium square","black_medium_square"],u:"25fc-fe0f"},{n:["white medium small square","white_medium_small_square"],u:"25fd"},{n:["black medium small square","black_medium_small_square"],u:"25fe"},{n:["black large square","black_large_square"],u:"2b1b"},{n:["white large square","white_large_square"],u:"2b1c"},{n:["large orange diamond","large_orange_diamond"],u:"1f536"},{n:["large blue diamond","large_blue_diamond"],u:"1f537"},{n:["small orange diamond","small_orange_diamond"],u:"1f538"},{n:["small blue diamond","small_blue_diamond"],u:"1f539"},{n:["up-pointing red triangle","small_red_triangle"],u:"1f53a"},{n:["down-pointing red triangle","small_red_triangle_down"],u:"1f53b"},{n:["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],u:"1f4a0"},{n:["radio button","radio_button"],u:"1f518"},{n:["black square button","black_square_button"],u:"1f532"},{n:["white square button","white_square_button"],u:"1f533"},{n:["medium white circle","white_circle"],u:"26aa"},{n:["medium black circle","black_circle"],u:"26ab"},{n:["large red circle","red_circle"],u:"1f534"},{n:["large blue circle","large_blue_circle"],u:"1f535"}],flags:[{n:["chequered flag","checkered_flag"],u:"1f3c1"},{n:["triangular flag on post","triangular_flag_on_post"],u:"1f6a9"},{n:["crossed flags","crossed_flags"],u:"1f38c"},{n:["waving black flag","waving_black_flag"],u:"1f3f4"},{n:["waving_white_flag"],u:"1f3f3-fe0f"},{n:["rainbow-flag"],u:"1f3f3-fe0f-200d-1f308"},{n:["ascension island flag","flag-ac"],u:"1f1e6-1f1e8"},{n:["andorra flag","flag-ad"],u:"1f1e6-1f1e9"},{n:["united arab emirates flag","flag-ae"],u:"1f1e6-1f1ea"},{n:["afghanistan flag","flag-af"],u:"1f1e6-1f1eb"},{n:["antigua & barbuda flag","flag-ag"],u:"1f1e6-1f1ec"},{n:["anguilla flag","flag-ai"],u:"1f1e6-1f1ee"},{n:["albania flag","flag-al"],u:"1f1e6-1f1f1"},{n:["armenia flag","flag-am"],u:"1f1e6-1f1f2"},{n:["angola flag","flag-ao"],u:"1f1e6-1f1f4"},{n:["antarctica flag","flag-aq"],u:"1f1e6-1f1f6"},{n:["argentina flag","flag-ar"],u:"1f1e6-1f1f7"},{n:["american samoa flag","flag-as"],u:"1f1e6-1f1f8"},{n:["austria flag","flag-at"],u:"1f1e6-1f1f9"},{n:["australia flag","flag-au"],u:"1f1e6-1f1fa"},{n:["aruba flag","flag-aw"],u:"1f1e6-1f1fc"},{n:["land islands flag","flag-ax"],u:"1f1e6-1f1fd"},{n:["azerbaijan flag","flag-az"],u:"1f1e6-1f1ff"},{n:["bosnia & herzegovina flag","flag-ba"],u:"1f1e7-1f1e6"},{n:["barbados flag","flag-bb"],u:"1f1e7-1f1e7"},{n:["bangladesh flag","flag-bd"],u:"1f1e7-1f1e9"},{n:["belgium flag","flag-be"],u:"1f1e7-1f1ea"},{n:["burkina faso flag","flag-bf"],u:"1f1e7-1f1eb"},{n:["bulgaria flag","flag-bg"],u:"1f1e7-1f1ec"},{n:["bahrain flag","flag-bh"],u:"1f1e7-1f1ed"},{n:["burundi flag","flag-bi"],u:"1f1e7-1f1ee"},{n:["benin flag","flag-bj"],u:"1f1e7-1f1ef"},{n:["st. barthlemy flag","flag-bl"],u:"1f1e7-1f1f1"},{n:["bermuda flag","flag-bm"],u:"1f1e7-1f1f2"},{n:["brunei flag","flag-bn"],u:"1f1e7-1f1f3"},{n:["bolivia flag","flag-bo"],u:"1f1e7-1f1f4"},{n:["caribbean netherlands flag","flag-bq"],u:"1f1e7-1f1f6"},{n:["brazil flag","flag-br"],u:"1f1e7-1f1f7"},{n:["bahamas flag","flag-bs"],u:"1f1e7-1f1f8"},{n:["bhutan flag","flag-bt"],u:"1f1e7-1f1f9"},{n:["bouvet island flag","flag-bv"],u:"1f1e7-1f1fb"},{n:["botswana flag","flag-bw"],u:"1f1e7-1f1fc"},{n:["belarus flag","flag-by"],u:"1f1e7-1f1fe"},{n:["belize flag","flag-bz"],u:"1f1e7-1f1ff"},{n:["canada flag","flag-ca"],u:"1f1e8-1f1e6"},{n:["cocos (keeling) islands flag","flag-cc"],u:"1f1e8-1f1e8"},{n:["congo - kinshasa flag","flag-cd"],u:"1f1e8-1f1e9"},{n:["central african republic flag","flag-cf"],u:"1f1e8-1f1eb"},{n:["congo - brazzaville flag","flag-cg"],u:"1f1e8-1f1ec"},{n:["switzerland flag","flag-ch"],u:"1f1e8-1f1ed"},{n:["cte divoire flag","flag-ci"],u:"1f1e8-1f1ee"},{n:["cook islands flag","flag-ck"],u:"1f1e8-1f1f0"},{n:["chile flag","flag-cl"],u:"1f1e8-1f1f1"},{n:["cameroon flag","flag-cm"],u:"1f1e8-1f1f2"},{n:["china flag","cn","flag-cn"],u:"1f1e8-1f1f3"},{n:["colombia flag","flag-co"],u:"1f1e8-1f1f4"},{n:["clipperton island flag","flag-cp"],u:"1f1e8-1f1f5"},{n:["costa rica flag","flag-cr"],u:"1f1e8-1f1f7"},{n:["cuba flag","flag-cu"],u:"1f1e8-1f1fa"},{n:["cape verde flag","flag-cv"],u:"1f1e8-1f1fb"},{n:["curaao flag","flag-cw"],u:"1f1e8-1f1fc"},{n:["christmas island flag","flag-cx"],u:"1f1e8-1f1fd"},{n:["cyprus flag","flag-cy"],u:"1f1e8-1f1fe"},{n:["czechia flag","flag-cz"],u:"1f1e8-1f1ff"},{n:["germany flag","de","flag-de"],u:"1f1e9-1f1ea"},{n:["diego garcia flag","flag-dg"],u:"1f1e9-1f1ec"},{n:["djibouti flag","flag-dj"],u:"1f1e9-1f1ef"},{n:["denmark flag","flag-dk"],u:"1f1e9-1f1f0"},{n:["dominica flag","flag-dm"],u:"1f1e9-1f1f2"},{n:["dominican republic flag","flag-do"],u:"1f1e9-1f1f4"},{n:["algeria flag","flag-dz"],u:"1f1e9-1f1ff"},{n:["ceuta & melilla flag","flag-ea"],u:"1f1ea-1f1e6"},{n:["ecuador flag","flag-ec"],u:"1f1ea-1f1e8"},{n:["estonia flag","flag-ee"],u:"1f1ea-1f1ea"},{n:["egypt flag","flag-eg"],u:"1f1ea-1f1ec"},{n:["western sahara flag","flag-eh"],u:"1f1ea-1f1ed"},{n:["eritrea flag","flag-er"],u:"1f1ea-1f1f7"},{n:["spain flag","es","flag-es"],u:"1f1ea-1f1f8"},{n:["ethiopia flag","flag-et"],u:"1f1ea-1f1f9"},{n:["european union flag","flag-eu"],u:"1f1ea-1f1fa"},{n:["finland flag","flag-fi"],u:"1f1eb-1f1ee"},{n:["fiji flag","flag-fj"],u:"1f1eb-1f1ef"},{n:["falkland islands flag","flag-fk"],u:"1f1eb-1f1f0"},{n:["micronesia flag","flag-fm"],u:"1f1eb-1f1f2"},{n:["faroe islands flag","flag-fo"],u:"1f1eb-1f1f4"},{n:["france flag","fr","flag-fr"],u:"1f1eb-1f1f7"},{n:["gabon flag","flag-ga"],u:"1f1ec-1f1e6"},{n:["united kingdom flag","gb","uk","flag-gb"],u:"1f1ec-1f1e7"},{n:["grenada flag","flag-gd"],u:"1f1ec-1f1e9"},{n:["georgia flag","flag-ge"],u:"1f1ec-1f1ea"},{n:["french guiana flag","flag-gf"],u:"1f1ec-1f1eb"},{n:["guernsey flag","flag-gg"],u:"1f1ec-1f1ec"},{n:["ghana flag","flag-gh"],u:"1f1ec-1f1ed"},{n:["gibraltar flag","flag-gi"],u:"1f1ec-1f1ee"},{n:["greenland flag","flag-gl"],u:"1f1ec-1f1f1"},{n:["gambia flag","flag-gm"],u:"1f1ec-1f1f2"},{n:["guinea flag","flag-gn"],u:"1f1ec-1f1f3"},{n:["guadeloupe flag","flag-gp"],u:"1f1ec-1f1f5"},{n:["equatorial guinea flag","flag-gq"],u:"1f1ec-1f1f6"},{n:["greece flag","flag-gr"],u:"1f1ec-1f1f7"},{n:["south georgia & south sandwich islands flag","flag-gs"],u:"1f1ec-1f1f8"},{n:["guatemala flag","flag-gt"],u:"1f1ec-1f1f9"},{n:["guam flag","flag-gu"],u:"1f1ec-1f1fa"},{n:["guinea-bissau flag","flag-gw"],u:"1f1ec-1f1fc"},{n:["guyana flag","flag-gy"],u:"1f1ec-1f1fe"},{n:["hong kong sar china flag","flag-hk"],u:"1f1ed-1f1f0"},{n:["heard & mcdonald islands flag","flag-hm"],u:"1f1ed-1f1f2"},{n:["honduras flag","flag-hn"],u:"1f1ed-1f1f3"},{n:["croatia flag","flag-hr"],u:"1f1ed-1f1f7"},{n:["haiti flag","flag-ht"],u:"1f1ed-1f1f9"},{n:["hungary flag","flag-hu"],u:"1f1ed-1f1fa"},{n:["canary islands flag","flag-ic"],u:"1f1ee-1f1e8"},{n:["indonesia flag","flag-id"],u:"1f1ee-1f1e9"},{n:["ireland flag","flag-ie"],u:"1f1ee-1f1ea"},{n:["israel flag","flag-il"],u:"1f1ee-1f1f1"},{n:["isle of man flag","flag-im"],u:"1f1ee-1f1f2"},{n:["india flag","flag-in"],u:"1f1ee-1f1f3"},{n:["british indian ocean territory flag","flag-io"],u:"1f1ee-1f1f4"},{n:["iraq flag","flag-iq"],u:"1f1ee-1f1f6"},{n:["iran flag","flag-ir"],u:"1f1ee-1f1f7"},{n:["iceland flag","flag-is"],u:"1f1ee-1f1f8"},{n:["italy flag","it","flag-it"],u:"1f1ee-1f1f9"},{n:["jersey flag","flag-je"],u:"1f1ef-1f1ea"},{n:["jamaica flag","flag-jm"],u:"1f1ef-1f1f2"},{n:["jordan flag","flag-jo"],u:"1f1ef-1f1f4"},{n:["japan flag","jp","flag-jp"],u:"1f1ef-1f1f5"},{n:["kenya flag","flag-ke"],u:"1f1f0-1f1ea"},{n:["kyrgyzstan flag","flag-kg"],u:"1f1f0-1f1ec"},{n:["cambodia flag","flag-kh"],u:"1f1f0-1f1ed"},{n:["kiribati flag","flag-ki"],u:"1f1f0-1f1ee"},{n:["comoros flag","flag-km"],u:"1f1f0-1f1f2"},{n:["st. kitts & nevis flag","flag-kn"],u:"1f1f0-1f1f3"},{n:["north korea flag","flag-kp"],u:"1f1f0-1f1f5"},{n:["south korea flag","kr","flag-kr"],u:"1f1f0-1f1f7"},{n:["kuwait flag","flag-kw"],u:"1f1f0-1f1fc"},{n:["cayman islands flag","flag-ky"],u:"1f1f0-1f1fe"},{n:["kazakhstan flag","flag-kz"],u:"1f1f0-1f1ff"},{n:["laos flag","flag-la"],u:"1f1f1-1f1e6"},{n:["lebanon flag","flag-lb"],u:"1f1f1-1f1e7"},{n:["st. lucia flag","flag-lc"],u:"1f1f1-1f1e8"},{n:["liechtenstein flag","flag-li"],u:"1f1f1-1f1ee"},{n:["sri lanka flag","flag-lk"],u:"1f1f1-1f1f0"},{n:["liberia flag","flag-lr"],u:"1f1f1-1f1f7"},{n:["lesotho flag","flag-ls"],u:"1f1f1-1f1f8"},{n:["lithuania flag","flag-lt"],u:"1f1f1-1f1f9"},{n:["luxembourg flag","flag-lu"],u:"1f1f1-1f1fa"},{n:["latvia flag","flag-lv"],u:"1f1f1-1f1fb"},{n:["libya flag","flag-ly"],u:"1f1f1-1f1fe"},{n:["morocco flag","flag-ma"],u:"1f1f2-1f1e6"},{n:["monaco flag","flag-mc"],u:"1f1f2-1f1e8"},{n:["moldova flag","flag-md"],u:"1f1f2-1f1e9"},{n:["montenegro flag","flag-me"],u:"1f1f2-1f1ea"},{n:["st. martin flag","flag-mf"],u:"1f1f2-1f1eb"},{n:["madagascar flag","flag-mg"],u:"1f1f2-1f1ec"},{n:["marshall islands flag","flag-mh"],u:"1f1f2-1f1ed"},{n:["macedonia flag","flag-mk"],u:"1f1f2-1f1f0"},{n:["mali flag","flag-ml"],u:"1f1f2-1f1f1"},{n:["myanmar (burma) flag","flag-mm"],u:"1f1f2-1f1f2"},{n:["mongolia flag","flag-mn"],u:"1f1f2-1f1f3"},{n:["macau sar china flag","flag-mo"],u:"1f1f2-1f1f4"},{n:["northern mariana islands flag","flag-mp"],u:"1f1f2-1f1f5"},{n:["martinique flag","flag-mq"],u:"1f1f2-1f1f6"},{n:["mauritania flag","flag-mr"],u:"1f1f2-1f1f7"},{n:["montserrat flag","flag-ms"],u:"1f1f2-1f1f8"},{n:["malta flag","flag-mt"],u:"1f1f2-1f1f9"},{n:["mauritius flag","flag-mu"],u:"1f1f2-1f1fa"},{n:["maldives flag","flag-mv"],u:"1f1f2-1f1fb"},{n:["malawi flag","flag-mw"],u:"1f1f2-1f1fc"},{n:["mexico flag","flag-mx"],u:"1f1f2-1f1fd"},{n:["malaysia flag","flag-my"],u:"1f1f2-1f1fe"},{n:["mozambique flag","flag-mz"],u:"1f1f2-1f1ff"},{n:["namibia flag","flag-na"],u:"1f1f3-1f1e6"},{n:["new caledonia flag","flag-nc"],u:"1f1f3-1f1e8"},{n:["niger flag","flag-ne"],u:"1f1f3-1f1ea"},{n:["norfolk island flag","flag-nf"],u:"1f1f3-1f1eb"},{n:["nigeria flag","flag-ng"],u:"1f1f3-1f1ec"},{n:["nicaragua flag","flag-ni"],u:"1f1f3-1f1ee"},{n:["netherlands flag","flag-nl"],u:"1f1f3-1f1f1"},{n:["norway flag","flag-no"],u:"1f1f3-1f1f4"},{n:["nepal flag","flag-np"],u:"1f1f3-1f1f5"},{n:["nauru flag","flag-nr"],u:"1f1f3-1f1f7"},{n:["niue flag","flag-nu"],u:"1f1f3-1f1fa"},{n:["new zealand flag","flag-nz"],u:"1f1f3-1f1ff"},{n:["oman flag","flag-om"],u:"1f1f4-1f1f2"},{n:["panama flag","flag-pa"],u:"1f1f5-1f1e6"},{n:["peru flag","flag-pe"],u:"1f1f5-1f1ea"},{n:["french polynesia flag","flag-pf"],u:"1f1f5-1f1eb"},{n:["papua new guinea flag","flag-pg"],u:"1f1f5-1f1ec"},{n:["philippines flag","flag-ph"],u:"1f1f5-1f1ed"},{n:["pakistan flag","flag-pk"],u:"1f1f5-1f1f0"},{n:["poland flag","flag-pl"],u:"1f1f5-1f1f1"},{n:["st. pierre & miquelon flag","flag-pm"],u:"1f1f5-1f1f2"},{n:["pitcairn islands flag","flag-pn"],u:"1f1f5-1f1f3"},{n:["puerto rico flag","flag-pr"],u:"1f1f5-1f1f7"},{n:["palestinian territories flag","flag-ps"],u:"1f1f5-1f1f8"},{n:["portugal flag","flag-pt"],u:"1f1f5-1f1f9"},{n:["palau flag","flag-pw"],u:"1f1f5-1f1fc"},{n:["paraguay flag","flag-py"],u:"1f1f5-1f1fe"},{n:["qatar flag","flag-qa"],u:"1f1f6-1f1e6"},{n:["runion flag","flag-re"],u:"1f1f7-1f1ea"},{n:["romania flag","flag-ro"],u:"1f1f7-1f1f4"},{n:["serbia flag","flag-rs"],u:"1f1f7-1f1f8"},{n:["russia flag","ru","flag-ru"],u:"1f1f7-1f1fa"},{n:["rwanda flag","flag-rw"],u:"1f1f7-1f1fc"},{n:["saudi arabia flag","flag-sa"],u:"1f1f8-1f1e6"},{n:["solomon islands flag","flag-sb"],u:"1f1f8-1f1e7"},{n:["seychelles flag","flag-sc"],u:"1f1f8-1f1e8"},{n:["sudan flag","flag-sd"],u:"1f1f8-1f1e9"},{n:["sweden flag","flag-se"],u:"1f1f8-1f1ea"},{n:["singapore flag","flag-sg"],u:"1f1f8-1f1ec"},{n:["st. helena flag","flag-sh"],u:"1f1f8-1f1ed"},{n:["slovenia flag","flag-si"],u:"1f1f8-1f1ee"},{n:["svalbard & jan mayen flag","flag-sj"],u:"1f1f8-1f1ef"},{n:["slovakia flag","flag-sk"],u:"1f1f8-1f1f0"},{n:["sierra leone flag","flag-sl"],u:"1f1f8-1f1f1"},{n:["san marino flag","flag-sm"],u:"1f1f8-1f1f2"},{n:["senegal flag","flag-sn"],u:"1f1f8-1f1f3"},{n:["somalia flag","flag-so"],u:"1f1f8-1f1f4"},{n:["suriname flag","flag-sr"],u:"1f1f8-1f1f7"},{n:["south sudan flag","flag-ss"],u:"1f1f8-1f1f8"},{n:["so tom & prncipe flag","flag-st"],u:"1f1f8-1f1f9"},{n:["el salvador flag","flag-sv"],u:"1f1f8-1f1fb"},{n:["sint maarten flag","flag-sx"],u:"1f1f8-1f1fd"},{n:["syria flag","flag-sy"],u:"1f1f8-1f1fe"},{n:["swaziland flag","flag-sz"],u:"1f1f8-1f1ff"},{n:["tristan da cunha flag","flag-ta"],u:"1f1f9-1f1e6"},{n:["turks & caicos islands flag","flag-tc"],u:"1f1f9-1f1e8"},{n:["chad flag","flag-td"],u:"1f1f9-1f1e9"},{n:["french southern territories flag","flag-tf"],u:"1f1f9-1f1eb"},{n:["togo flag","flag-tg"],u:"1f1f9-1f1ec"},{n:["thailand flag","flag-th"],u:"1f1f9-1f1ed"},{n:["tajikistan flag","flag-tj"],u:"1f1f9-1f1ef"},{n:["tokelau flag","flag-tk"],u:"1f1f9-1f1f0"},{n:["timor-leste flag","flag-tl"],u:"1f1f9-1f1f1"},{n:["turkmenistan flag","flag-tm"],u:"1f1f9-1f1f2"},{n:["tunisia flag","flag-tn"],u:"1f1f9-1f1f3"},{n:["tonga flag","flag-to"],u:"1f1f9-1f1f4"},{n:["turkey flag","flag-tr"],u:"1f1f9-1f1f7"},{n:["trinidad & tobago flag","flag-tt"],u:"1f1f9-1f1f9"},{n:["tuvalu flag","flag-tv"],u:"1f1f9-1f1fb"},{n:["taiwan flag","flag-tw"],u:"1f1f9-1f1fc"},{n:["tanzania flag","flag-tz"],u:"1f1f9-1f1ff"},{n:["ukraine flag","flag-ua"],u:"1f1fa-1f1e6"},{n:["uganda flag","flag-ug"],u:"1f1fa-1f1ec"},{n:["u.s. outlying islands flag","flag-um"],u:"1f1fa-1f1f2"},{n:["united nations flag","flag-un"],u:"1f1fa-1f1f3"},{n:["united states flag","us","flag-us"],u:"1f1fa-1f1f8"},{n:["uruguay flag","flag-uy"],u:"1f1fa-1f1fe"},{n:["uzbekistan flag","flag-uz"],u:"1f1fa-1f1ff"},{n:["vatican city flag","flag-va"],u:"1f1fb-1f1e6"},{n:["st. vincent & grenadines flag","flag-vc"],u:"1f1fb-1f1e8"},{n:["venezuela flag","flag-ve"],u:"1f1fb-1f1ea"},{n:["british virgin islands flag","flag-vg"],u:"1f1fb-1f1ec"},{n:["u.s. virgin islands flag","flag-vi"],u:"1f1fb-1f1ee"},{n:["vietnam flag","flag-vn"],u:"1f1fb-1f1f3"},{n:["vanuatu flag","flag-vu"],u:"1f1fb-1f1fa"},{n:["wallis & futuna flag","flag-wf"],u:"1f1fc-1f1eb"},{n:["samoa flag","flag-ws"],u:"1f1fc-1f1f8"},{n:["kosovo flag","flag-xk"],u:"1f1fd-1f1f0"},{n:["yemen flag","flag-ye"],u:"1f1fe-1f1ea"},{n:["mayotte flag","flag-yt"],u:"1f1fe-1f1f9"},{n:["south africa flag","flag-za"],u:"1f1ff-1f1e6"},{n:["zambia flag","flag-zm"],u:"1f1ff-1f1f2"},{n:["zimbabwe flag","flag-zw"],u:"1f1ff-1f1fc"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}]},lS=[{key:"recent",title:"Recently Used",u:"1f551"},{key:"smileys_people",title:"Smiles & People",u:"1f600"},{key:"animals_nature",title:"Animals & Nature",u:"1F431"},{key:"food_drink",title:"Food & Drink",u:"2615"},{key:"activities",title:"Activities",u:"26BD"},{key:"travel_places",title:"Travel & Places",u:"1F697"},{key:"objects",title:"Objects",u:"1F4A1"},{key:"symbols",title:"Symbols",u:"1f4af"},{key:"flags",title:"Flags",u:"1f3f3-fe0f"}];const D$=(t,e)=>e.some(r=>t instanceof r);let cS,uS;function M$(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N$(){return uS||(uS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,_1=new WeakMap,fS=new WeakMap,w1=new WeakMap,A1=new WeakMap;function O$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(fs(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&dS.set(r,t)}).catch(()=>{}),A1.set(e,t),e}function L$(t){if(_1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_1.set(t,e)}let x1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B$(t){x1=t(x1)}function R$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(T1(this),e,...r);return fS.set(n,e.sort?e.sort():[e]),fs(n)}:N$().includes(t)?function(...e){return t.apply(T1(this),e),fs(dS.get(this))}:function(...e){return fs(t.apply(T1(this),e))}}function P$(t){return typeof t=="function"?R$(t):(t instanceof IDBTransaction&&L$(t),D$(t,M$())?new Proxy(t,x1):t)}function fs(t){if(t instanceof IDBRequest)return O$(t);if(w1.has(t))return w1.get(t);const e=P$(t);return e!==t&&(w1.set(t,e),A1.set(e,t)),e}const T1=t=>A1.get(t);function E1(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fs(s);return n&&s.addEventListener("upgradeneeded",l=>{n(fs(s.result),l.oldVersion,l.newVersion,fs(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const F$=["get","getKey","getAll","getAllKeys","count"],U$=["put","add","delete","clear"],C1=new Map;function hS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(C1.get(e))return C1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=U$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||F$.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return C1.set(e,o),o}B$(t=>({...t,get:(e,r,n)=>hS(e,r)||t.get(e,r,n),has:(e,r)=>!!hS(e,r)||t.has(e,r)}));const S1="EMJ",ql="emojis",k1=3;async function j$(){(await E1(S1,k1,{upgrade(e,r){e.objectStoreNames.contains(ql)||e.createObjectStore(ql,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})).close()}j$();const z$={native:!1,hideSearch:!0,hideGroupIcons:!1,hideGroupNames:!1,staticTexts:{},disabledGroups:[],groupNames:{},displayRecent:!1,additionalGroups:{},groupOrder:[],groupIcons:{}};async function $$(){return await(await E1(S1,k1)).transaction(ql,"readonly").objectStore(ql).getAll()}function V$(){const t=u.reactive({search:"",emoji:E$,activeGroup:"",skinTone:Lh,options:z$,additionalGroups:{},recent:[],get emojis(){return{recent:this.recent,...this.options.additionalGroups,...I$}},get disabled(){let c=Array.isArray(this.options.disabledGroups)?this.options.disabledGroups:[];return this.options.displayRecent||(c=["recent",...c]),c},get groups(){return lS.filter(c=>!this.disabled.includes(c.key))},get orderedGroupKeys(){const c=[...this.options.groupOrder,...Object.keys(this.options.additionalGroups),...lS.map(h=>h.key)];return[...new Set(c)].filter(h=>!this.disabled.includes(h))}});function e(){t.options.displayRecent&&n()}async function r(){var c;let h=await $$();return Array.isArray(h)&&h.length?h=JSON.parse(((c=h[0])==null?void 0:c.value)||""):h=[],h}function n(){r().then(c=>{t.recent=c,d()})}const i=c=>{t.search=c},o=c=>{t.emoji=c},s=c=>{t.activeGroup=c},a=(c=Lh)=>{t.skinTone=c},l=c=>{t.options=Object.assign({},t.options,c),e()};async function d(){(await E1(S1,k1)).transaction(ql,"readwrite").objectStore(ql).put({id:0,value:JSON.stringify(t.recent)})}const f=c=>{if(t.options.displayRecent!==!0)return;const h=t.recent.findIndex(m=>m.u===c.u);if(h>0&&t.recent.splice(h,1),h===0)return;const p={u:c.u,n:u.toRaw(c.n)};t.recent=[p,...t.recent],t.recent.length>24&&(t.recent.length=24),d()};return{state:u.readonly(t),updateSearch:i,updateEmoji:o,updateActiveGroup:s,updateSkinTone:a,updateOptions:l,updateSelect:f}}var Tn="top",ri="bottom",ni="right",En="left",I1="auto",Pu=[Tn,ri,ni,En],Wl="start",Fu="end",H$="clippingParents",pS="viewport",Uu="popper",q$="reference",mS=Pu.reduce(function(t,e){return t.concat([e+"-"+Wl,e+"-"+Fu])},[]),gS=[].concat(Pu,[I1]).reduce(function(t,e){return t.concat([e,e+"-"+Wl,e+"-"+Fu])},[]),W$="beforeRead",G$="read",Q$="afterRead",Y$="beforeMain",K$="main",X$="afterMain",J$="beforeWrite",Z$="write",eV="afterWrite",tV=[W$,G$,Q$,Y$,K$,X$,J$,Z$,eV];function eo(t){return t?(t.nodeName||"").toLowerCase():null}function Mi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Gl(t){var e=Mi(t).Element;return t instanceof e||t instanceof Element}function ii(t){var e=Mi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yS(t){if(typeof ShadowRoot>"u")return!1;var e=Mi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function rV(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!ii(o)||!eo(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function nV(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,d){return l[d]="",l},{});!ii(i)||!eo(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var iV={name:"applyStyles",enabled:!0,phase:"write",fn:rV,effect:nV,requires:["computeStyles"]};function to(t){return t.split("-")[0]}var ia=Math.max,Bh=Math.min,Ql=Math.round;function Yl(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(ii(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(n=Ql(r.width)/s||1),o>0&&(i=Ql(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function D1(t){var e=Yl(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function bS(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&yS(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ro(t){return Mi(t).getComputedStyle(t)}function oV(t){return["table","td","th"].indexOf(eo(t))>=0}function hs(t){return((Gl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rh(t){return eo(t)==="html"?t:t.assignedSlot||t.parentNode||(yS(t)?t.host:null)||hs(t)}function vS(t){return!ii(t)||ro(t).position==="fixed"?null:t.offsetParent}function sV(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ii(t)){var n=ro(t);if(n.position==="fixed")return null}for(var i=Rh(t);ii(i)&&["html","body"].indexOf(eo(i))<0;){var o=ro(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ju(t){for(var e=Mi(t),r=vS(t);r&&oV(r)&&ro(r).position==="static";)r=vS(r);return r&&(eo(r)==="html"||eo(r)==="body"&&ro(r).position==="static")?e:r||sV(t)||e}function M1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function zu(t,e,r){return ia(t,Bh(e,r))}function aV(t,e,r){var n=zu(t,e,r);return n>r?r:n}function _S(){return{top:0,right:0,bottom:0,left:0}}function wS(t){return Object.assign({},_S(),t)}function AS(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var lV=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,wS(typeof e!="number"?e:AS(e,Pu))};function cV(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=to(r.placement),l=M1(a),d=[En,ni].indexOf(a)>=0,f=d?"height":"width";if(!(!o||!s)){var c=lV(i.padding,r),h=D1(o),p=l==="y"?Tn:En,m=l==="y"?ri:ni,y=r.rects.reference[f]+r.rects.reference[l]-s[l]-r.rects.popper[f],b=s[l]-r.rects.reference[l],v=ju(o),x=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,S=y/2-b/2,I=c[p],M=x-h[f]-c[m],E=x/2-h[f]/2+S,L=zu(I,E,M),D=l;r.modifiersData[n]=(e={},e[D]=L,e.centerOffset=L-E,e)}}function uV(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||bS(e.elements.popper,i)&&(e.elements.arrow=i))}var dV={name:"arrow",enabled:!0,phase:"main",fn:cV,effect:uV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kl(t){return t.split("-")[1]}var fV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hV(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Ql(e*i)/i||0,y:Ql(r*i)/i||0}}function xS(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,c=t.isFixed,h=f===!0?hV(s):typeof f=="function"?f(s):s,p=h.x,m=p===void 0?0:p,y=h.y,b=y===void 0?0:y,v=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),S=En,I=Tn,M=window;if(d){var E=ju(r),L="clientHeight",D="clientWidth";if(E===Mi(r)&&(E=hs(r),ro(E).position!=="static"&&a==="absolute"&&(L="scrollHeight",D="scrollWidth")),E=E,i===Tn||(i===En||i===ni)&&o===Fu){I=ri;var C=c&&M.visualViewport?M.visualViewport.height:E[L];b-=C-n.height,b*=l?1:-1}if(i===En||(i===Tn||i===ri)&&o===Fu){S=ni;var R=c&&M.visualViewport?M.visualViewport.width:E[D];m-=R-n.width,m*=l?1:-1}}var $=Object.assign({position:a},d&&fV);if(l){var U;return Object.assign({},$,(U={},U[I]=x?"0":"",U[S]=v?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",U))}return Object.assign({},$,(e={},e[I]=x?b+"px":"",e[S]=v?m+"px":"",e.transform="",e))}function pV(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a,d={placement:to(e.placement),variation:Kl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xS(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xS(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var mV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pV,data:{}},Ph={passive:!0};function gV(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=Mi(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(f){f.addEventListener("scroll",r.update,Ph)}),a&&l.addEventListener("resize",r.update,Ph),function(){o&&d.forEach(function(f){f.removeEventListener("scroll",r.update,Ph)}),a&&l.removeEventListener("resize",r.update,Ph)}}var yV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gV,data:{}},bV={left:"right",right:"left",bottom:"top",top:"bottom"};function Fh(t){return t.replace(/left|right|bottom|top/g,function(e){return bV[e]})}var vV={start:"end",end:"start"};function TS(t){return t.replace(/start|end/g,function(e){return vV[e]})}function N1(t){var e=Mi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function O1(t){return Yl(hs(t)).left+N1(t).scrollLeft}function _V(t){var e=Mi(t),r=hs(t),n=e.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,a=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:i,height:o,x:s+O1(t),y:a}}function wV(t){var e,r=hs(t),n=N1(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ia(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ia(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+O1(t),l=-n.scrollTop;return ro(i||r).direction==="rtl"&&(a+=ia(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function L1(t){var e=ro(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function ES(t){return["html","body","#document"].indexOf(eo(t))>=0?t.ownerDocument.body:ii(t)&&L1(t)?t:ES(Rh(t))}function $u(t,e){var r;e===void 0&&(e=[]);var n=ES(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=Mi(n),s=i?[o].concat(o.visualViewport||[],L1(n)?n:[]):n,a=e.concat(s);return i?a:a.concat($u(Rh(s)))}function B1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AV(t){var e=Yl(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function CS(t,e){return e===pS?B1(_V(t)):Gl(e)?AV(e):B1(wV(hs(t)))}function xV(t){var e=$u(Rh(t)),r=["absolute","fixed"].indexOf(ro(t).position)>=0,n=r&&ii(t)?ju(t):t;return Gl(n)?e.filter(function(i){return Gl(i)&&bS(i,n)&&eo(i)!=="body"&&(r?ro(i).position!=="static":!0)}):[]}function TV(t,e,r){var n=e==="clippingParents"?xV(t):[].concat(e),i=[].concat(n,[r]),o=i[0],s=i.reduce(function(a,l){var d=CS(t,l);return a.top=ia(d.top,a.top),a.right=Bh(d.right,a.right),a.bottom=Bh(d.bottom,a.bottom),a.left=ia(d.left,a.left),a},CS(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function SS(t){var e=t.reference,r=t.element,n=t.placement,i=n?to(n):null,o=n?Kl(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case Tn:l={x:s,y:e.y-r.height};break;case ri:l={x:s,y:e.y+e.height};break;case ni:l={x:e.x+e.width,y:a};break;case En:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var d=i?M1(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(o){case Wl:l[d]=l[d]-(e[f]/2-r[f]/2);break;case Fu:l[d]=l[d]+(e[f]/2-r[f]/2);break}}return l}function Vu(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.boundary,s=o===void 0?H$:o,a=r.rootBoundary,l=a===void 0?pS:a,d=r.elementContext,f=d===void 0?Uu:d,c=r.altBoundary,h=c===void 0?!1:c,p=r.padding,m=p===void 0?0:p,y=wS(typeof m!="number"?m:AS(m,Pu)),b=f===Uu?q$:Uu,v=t.rects.popper,x=t.elements[h?b:f],S=TV(Gl(x)?x:x.contextElement||hs(t.elements.popper),s,l),I=Yl(t.elements.reference),M=SS({reference:I,element:v,strategy:"absolute",placement:i}),E=B1(Object.assign({},v,M)),L=f===Uu?E:I,D={top:S.top-L.top+y.top,bottom:L.bottom-S.bottom+y.bottom,left:S.left-L.left+y.left,right:L.right-S.right+y.right},C=t.modifiersData.offset;if(f===Uu&&C){var R=C[i];Object.keys(D).forEach(function($){var U=[ni,ri].indexOf($)>=0?1:-1,F=[Tn,ri].indexOf($)>=0?"y":"x";D[$]+=R[F]*U})}return D}function EV(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,d=l===void 0?gS:l,f=Kl(n),c=f?a?mS:mS.filter(function(m){return Kl(m)===f}):Pu,h=c.filter(function(m){return d.indexOf(m)>=0});h.length===0&&(h=c);var p=h.reduce(function(m,y){return m[y]=Vu(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[to(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function CV(t){if(to(t)===I1)return[];var e=Fh(t);return[TS(t),e,TS(e)]}function SV(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,d=r.padding,f=r.boundary,c=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,y=r.allowedAutoPlacements,b=e.options.placement,v=to(b),x=v===b,S=l||(x||!m?[Fh(b)]:CV(b)),I=[b].concat(S).reduce(function(Y,Q){return Y.concat(to(Q)===I1?EV(e,{placement:Q,boundary:f,rootBoundary:c,padding:d,flipVariations:m,allowedAutoPlacements:y}):Q)},[]),M=e.rects.reference,E=e.rects.popper,L=new Map,D=!0,C=I[0],R=0;R<I.length;R++){var $=I[R],U=to($),F=Kl($)===Wl,z=[Tn,ri].indexOf(U)>=0,W=z?"width":"height",B=Vu(e,{placement:$,boundary:f,rootBoundary:c,altBoundary:h,padding:d}),P=z?F?ni:En:F?ri:Tn;M[W]>E[W]&&(P=Fh(P));var re=Fh(P),H=[];if(o&&H.push(B[U]<=0),a&&H.push(B[P]<=0,B[re]<=0),H.every(function(Y){return Y})){C=$,D=!1;break}L.set($,H)}if(D)for(var O=m?3:1,T=function(Q){var ue=I.find(function(J){var oe=L.get(J);if(oe)return oe.slice(0,Q).every(function(se){return se})});if(ue)return C=ue,"break"},V=O;V>0;V--){var K=T(V);if(K==="break")break}e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}}var kV={name:"flip",enabled:!0,phase:"main",fn:SV,requiresIfExists:["offset"],data:{_skip:!1}};function kS(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function IS(t){return[Tn,ni,ri,En].some(function(e){return t[e]>=0})}function IV(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Vu(e,{elementContext:"reference"}),a=Vu(e,{altBoundary:!0}),l=kS(s,n),d=kS(a,i,o),f=IS(l),c=IS(d);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}var DV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:IV};function MV(t,e,r){var n=to(t),i=[En,Tn].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[En,ni].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function NV(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=gS.reduce(function(f,c){return f[c]=MV(c,e.rects,o),f},{}),a=s[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=s}var OV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NV};function LV(t){var e=t.state,r=t.name;e.modifiersData[r]=SS({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var BV={name:"popperOffsets",enabled:!0,phase:"read",fn:LV,data:{}};function RV(t){return t==="x"?"y":"x"}function PV(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,d=r.rootBoundary,f=r.altBoundary,c=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,y=m===void 0?0:m,b=Vu(e,{boundary:l,rootBoundary:d,padding:c,altBoundary:f}),v=to(e.placement),x=Kl(e.placement),S=!x,I=M1(v),M=RV(I),E=e.modifiersData.popperOffsets,L=e.rects.reference,D=e.rects.popper,C=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,R=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(E){if(o){var F,z=I==="y"?Tn:En,W=I==="y"?ri:ni,B=I==="y"?"height":"width",P=E[I],re=P+b[z],H=P-b[W],O=p?-D[B]/2:0,T=x===Wl?L[B]:D[B],V=x===Wl?-D[B]:-L[B],K=e.elements.arrow,Y=p&&K?D1(K):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_S(),ue=Q[z],J=Q[W],oe=zu(0,L[B],Y[B]),se=S?L[B]/2-O-oe-ue-R.mainAxis:T-oe-ue-R.mainAxis,le=S?-L[B]/2+O+oe+J+R.mainAxis:V+oe+J+R.mainAxis,ge=e.elements.arrow&&ju(e.elements.arrow),we=ge?I==="y"?ge.clientTop||0:ge.clientLeft||0:0,Ie=(F=$==null?void 0:$[I])!=null?F:0,ce=P+se-Ie-we,Ce=P+le-Ie,We=zu(p?Bh(re,ce):re,P,p?ia(H,Ce):H);E[I]=We,U[I]=We-P}if(a){var pe,Ee=I==="x"?Tn:En,Fe=I==="x"?ri:ni,j=E[M],q=M==="y"?"height":"width",fe=j+b[Ee],Ae=j-b[Fe],Me=[Tn,En].indexOf(v)!==-1,Be=(pe=$==null?void 0:$[M])!=null?pe:0,Qe=Me?fe:j-L[q]-D[q]-Be+R.altAxis,me=Me?j+L[q]+D[q]-Be-R.altAxis:Ae,xe=p&&Me?aV(Qe,j,me):zu(p?Qe:fe,j,p?me:Ae);E[M]=xe,U[M]=xe-j}e.modifiersData[n]=U}}var FV={name:"preventOverflow",enabled:!0,phase:"main",fn:PV,requiresIfExists:["offset"]};function UV(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function jV(t){return t===Mi(t)||!ii(t)?N1(t):UV(t)}function zV(t){var e=t.getBoundingClientRect(),r=Ql(e.width)/t.offsetWidth||1,n=Ql(e.height)/t.offsetHeight||1;return r!==1||n!==1}function $V(t,e,r){r===void 0&&(r=!1);var n=ii(e),i=ii(e)&&zV(e),o=hs(e),s=Yl(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((eo(e)!=="body"||L1(o))&&(a=jV(e)),ii(e)?(l=Yl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=O1(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function VV(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function HV(t){var e=VV(t);return tV.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function qV(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function WV(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var DS={placement:"bottom",modifiers:[],strategy:"absolute"};function MS(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function GV(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?DS:i;return function(a,l,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},DS,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],h=!1,p={state:f,setOptions:function(v){var x=typeof v=="function"?v(f.options):v;y(),f.options=Object.assign({},o,f.options,x),f.scrollParents={reference:Gl(a)?$u(a):a.contextElement?$u(a.contextElement):[],popper:$u(l)};var S=HV(WV([].concat(n,f.options.modifiers)));return f.orderedModifiers=S.filter(function(I){return I.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var v=f.elements,x=v.reference,S=v.popper;if(MS(x,S)){f.rects={reference:$V(x,ju(S),f.options.strategy==="fixed"),popper:D1(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var I=0;I<f.orderedModifiers.length;I++){if(f.reset===!0){f.reset=!1,I=-1;continue}var M=f.orderedModifiers[I],E=M.fn,L=M.options,D=L===void 0?{}:L,C=M.name;typeof E=="function"&&(f=E({state:f,options:D,name:C,instance:p})||f)}}}},update:qV(function(){return new Promise(function(b){p.forceUpdate(),b(f)})}),destroy:function(){y(),h=!0}};if(!MS(a,l))return p;p.setOptions(d).then(function(b){!h&&d.onFirstUpdate&&d.onFirstUpdate(b)});function m(){f.orderedModifiers.forEach(function(b){var v=b.name,x=b.options,S=x===void 0?{}:x,I=b.effect;if(typeof I=="function"){var M=I({state:f,name:v,instance:p,options:S}),E=function(){};c.push(M||E)}})}function y(){c.forEach(function(b){return b()}),c=[]}return p}}var QV=[yV,BV,mV,iV,OV,kV,FV,dV,DV],YV=GV({defaultModifiers:QV}),NS="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgOS4zODI4MTMgNCA0IDkuMzgyODEzIDQgMTYgQyA0IDIyLjYxNzE4OCA5LjM4MjgxMyAyOCAxNiAyOCBDIDIyLjYxNzE4OCAyOCAyOCAyMi42MTcxODggMjggMTYgQyAyOCA5LjM4MjgxMyAyMi42MTcxODggNCAxNiA0IFogTSAxNiA2IEMgMjEuNTM1MTU2IDYgMjYgMTAuNDY0ODQ0IDI2IDE2IEMgMjYgMjEuNTM1MTU2IDIxLjUzNTE1NiAyNiAxNiAyNiBDIDEwLjQ2NDg0NCAyNiA2IDIxLjUzNTE1NiA2IDE2IEMgNiAxMC40NjQ4NDQgMTAuNDY0ODQ0IDYgMTYgNiBaIE0gMTEuNSAxMiBDIDEwLjY3MTg3NSAxMiAxMCAxMi42NzE4NzUgMTAgMTMuNSBDIDEwIDE0LjMyODEyNSAxMC42NzE4NzUgMTUgMTEuNSAxNSBDIDEyLjMyODEyNSAxNSAxMyAxNC4zMjgxMjUgMTMgMTMuNSBDIDEzIDEyLjY3MTg3NSAxMi4zMjgxMjUgMTIgMTEuNSAxMiBaIE0gMjAuNSAxMiBDIDE5LjY3MTg3NSAxMiAxOSAxMi42NzE4NzUgMTkgMTMuNSBDIDE5IDE0LjMyODEyNSAxOS42NzE4NzUgMTUgMjAuNSAxNSBDIDIxLjMyODEyNSAxNSAyMiAxNC4zMjgxMjUgMjIgMTMuNSBDIDIyIDEyLjY3MTg3NSAyMS4zMjgxMjUgMTIgMjAuNSAxMiBaIE0gMTAuODEyNSAxOSBMIDkuMDkzNzUgMjAgQyAxMC40NzY1NjMgMjIuMzg2NzE5IDEzLjA0Njg3NSAyNCAxNiAyNCBDIDE4Ljk1MzEyNSAyNCAyMS41MjM0MzggMjIuMzg2NzE5IDIyLjkwNjI1IDIwIEwgMjEuMTg3NSAxOSBDIDIwLjE0ODQzOCAyMC43OTI5NjkgMTguMjI2NTYzIDIyIDE2IDIyIEMgMTMuNzczNDM4IDIyIDExLjg1MTU2MyAyMC43OTI5NjkgMTAuODEyNSAxOSBaIi8+PC9zdmc+";function Uh(t){return t.split("-").map(e=>parseInt(e,16)).map(e=>String.fromCodePoint(e)).join("")}function KV(t,e,r,n=[]){const i={};return Object.keys(t).forEach(o=>{if(n.includes(o))return;const s=[];t[o].forEach(a=>{var l;if(a[Nh][0].includes(e.toLocaleLowerCase())){let d=a[aS];if(r!==Lh&&Array.isArray(a[Oh])){const f=((l=a[Oh])==null?void 0:l.findIndex(c=>c.includes(r)))||-1;f!==-1&&a[Oh]&&(d=a[Oh][f])}return s.push({...a,[Ru]:d})}}),s.length&&(i[o]=s)}),i}function OS(){var t;return(((t=navigator==null?void 0:navigator.userAgentData)==null?void 0:t.platform)||(navigator==null?void 0:navigator.platform)||"unknown").toUpperCase().indexOf("MAC")!==-1}function LS(t){return t.replace(/^_*(.)|_+(.)/g,(e,r,n)=>r?r.toUpperCase():" "+n.toUpperCase())}var Hu=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const XV=u.defineComponent({name:"Body",emits:{select:t=>!0},setup(){const{state:t,updateEmoji:e,updateSelect:r}=u.inject("store"),n=u.ref(null),i=u.computed(()=>KV(t.emojis,t.search,t.skinTone,t.options.disabledGroups)),o=u.getCurrentInstance(),s=u.computed(()=>!t.options.hideGroupNames),a=u.computed(()=>!t.options.disableStickyGroupNames),l=u.toRaw(t.options.groupNames),d=t.orderedGroupKeys;t.options.additionalGroups&&Object.keys(t.options.additionalGroups).map(m=>{t.options.groupNames[m]?l[m]=t.options.groupNames[m]:l[m]=LS(m)});const f=OS()?"is-mac":"";function c(m){e(m)}function h(m){r(m),o==null||o.emit("select",{...m,t:t.skinTone,i:Uh(m.r)})}function p(m,y){var b;const v=(b=m==null?void 0:m.target)==null?void 0:b.closest("button");v&&(v.innerHTML=`<span>${Uh(y)}</span>`)}return u.watch(()=>t.activeGroup,()=>{var m;const y=(m=n.value)==null?void 0:m.querySelector("#"+t.activeGroup);y&&(y.parentNode.scrollTop=y.offsetTop-y.parentNode.offsetTop)}),{emojis:i,bodyInner:n,EMOJI_REMOTE_SRC:oS,GROUP_NAMES:sS,handleClick:h,handleError:p,handleMouseEnter:c,native:t.options.native,unicodeToEmoji:Uh,EMOJI_RESULT_KEY:Ru,EMOJI_NAME_KEY:Nh,hasGroupNames:s,isSticky:a,platform:f,groupNames:l,orderedKeys:d}}}),JV={class:"v3-body"},ZV=["id"],eH={class:"v3-emojis"},tH=["onMouseenter","onClick"],rH={key:0},nH=["src","alt","onError"],iH={key:1,class:"v3-no-result"};function oH(t,e,r,n,i,o){return u.openBlock(),u.createElementBlock("div",JV,[u.createElementVNode("div",{ref:"bodyInner",class:u.normalizeClass([t.platform,"v3-body-inner"])},[t.orderedKeys.length?(u.openBlock(!0),u.createElementBlock(u.Fragment,{key:0},u.renderList(t.orderedKeys,s=>(u.openBlock(),u.createElementBlock("div",{id:s,key:s,class:"v3-group"},[t.hasGroupNames?u.withDirectives((u.openBlock(),u.createElementBlock("h5",{key:0,class:u.normalizeClass(t.isSticky?"v3-sticky":"")},u.toDisplayString(t.groupNames[s]),3)),[[u.vShow,t.emojis[s]]]):u.createCommentVNode("",!0),u.withDirectives(u.createElementVNode("div",eH,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.emojis[s],a=>(u.openBlock(),u.createElementBlock("button",{key:a.r,type:"button",onMouseenter:l=>t.handleMouseEnter(a),onClick:l=>t.handleClick(a)},[t.native?(u.openBlock(),u.createElementBlock("span",rH,u.toDisplayString(t.unicodeToEmoji(a.r)),1)):(u.openBlock(),u.createElementBlock("img",{key:1,src:t.EMOJI_REMOTE_SRC+`/${a.r}.png`,alt:a.n[0],onError:l=>t.handleError(l,a.r)},null,40,nH))],40,tH))),128))],512),[[u.vShow,t.emojis[s]]])],8,ZV))),128)):(u.openBlock(),u.createElementBlock("span",iH," No emoji has been found! "))],2)])}var sH=Hu(XV,[["render",oH]]),aH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMi41IDUgQyAxMS40Mjk2ODggNSAxMC41IDUuNjA5Mzc1IDkuOTA2MjUgNi40Mzc1IEMgOS4zMTI1IDcuMjY1NjI1IDkgOC4zMzk4NDQgOSA5LjUgQyA5IDEwLjY2MDE1NiA5LjMxMjUgMTEuNzM0Mzc1IDkuOTA2MjUgMTIuNTYyNSBDIDEwLjUgMTMuMzkwNjI1IDExLjQyOTY4OCAxNCAxMi41IDE0IEMgMTMuNTcwMzEzIDE0IDE0LjUgMTMuMzkwNjI1IDE1LjA5Mzc1IDEyLjU2MjUgQyAxNS42ODc1IDExLjczNDM3NSAxNiAxMC42NjAxNTYgMTYgOS41IEMgMTYgOC4zMzk4NDQgMTUuNjg3NSA3LjI2NTYyNSAxNS4wOTM3NSA2LjQzNzUgQyAxNC41IDUuNjA5Mzc1IDEzLjU3MDMxMyA1IDEyLjUgNSBaIE0gMTYgOS41IEMgMTYgMTAuNjYwMTU2IDE2LjMxMjUgMTEuNzM0Mzc1IDE2LjkwNjI1IDEyLjU2MjUgQyAxNy41IDEzLjM5MDYyNSAxOC40Mjk2ODggMTQgMTkuNSAxNCBDIDIwLjU3MDMxMyAxNCAyMS41IDEzLjM5MDYyNSAyMi4wOTM3NSAxMi41NjI1IEMgMjIuNjg3NSAxMS43MzQzNzUgMjMgMTAuNjYwMTU2IDIzIDkuNSBDIDIzIDguMzM5ODQ0IDIyLjY4NzUgNy4yNjU2MjUgMjIuMDkzNzUgNi40Mzc1IEMgMjEuNSA1LjYwOTM3NSAyMC41NzAzMTMgNSAxOS41IDUgQyAxOC40Mjk2ODggNSAxNy41IDUuNjA5Mzc1IDE2LjkwNjI1IDYuNDM3NSBDIDE2LjMxMjUgNy4yNjU2MjUgMTYgOC4zMzk4NDQgMTYgOS41IFogTSAxMi41IDcgQyAxMi44MTI1IDcgMTMuMTU2MjUgNy4xNTYyNSAxMy40Njg3NSA3LjU5Mzc1IEMgMTMuNzgxMjUgOC4wMzEyNSAxNCA4LjcyNjU2MyAxNCA5LjUgQyAxNCAxMC4yNzM0MzggMTMuNzgxMjUgMTAuOTY4NzUgMTMuNDY4NzUgMTEuNDA2MjUgQyAxMy4xNTYyNSAxMS44NDM3NSAxMi44MTI1IDEyIDEyLjUgMTIgQyAxMi4xODc1IDEyIDExLjg0Mzc1IDExLjg0Mzc1IDExLjUzMTI1IDExLjQwNjI1IEMgMTEuMjE4NzUgMTAuOTY4NzUgMTEgMTAuMjczNDM4IDExIDkuNSBDIDExIDguNzI2NTYzIDExLjIxODc1IDguMDMxMjUgMTEuNTMxMjUgNy41OTM3NSBDIDExLjg0Mzc1IDcuMTU2MjUgMTIuMTg3NSA3IDEyLjUgNyBaIE0gMTkuNSA3IEMgMTkuODEyNSA3IDIwLjE1NjI1IDcuMTU2MjUgMjAuNDY4NzUgNy41OTM3NSBDIDIwLjc4MTI1IDguMDMxMjUgMjEgOC43MjY1NjMgMjEgOS41IEMgMjEgMTAuMjczNDM4IDIwLjc4MTI1IDEwLjk2ODc1IDIwLjQ2ODc1IDExLjQwNjI1IEMgMjAuMTU2MjUgMTEuODQzNzUgMTkuODEyNSAxMiAxOS41IDEyIEMgMTkuMTg3NSAxMiAxOC44NDM3NSAxMS44NDM3NSAxOC41MzEyNSAxMS40MDYyNSBDIDE4LjIxODc1IDEwLjk2ODc1IDE4IDEwLjI3MzQzOCAxOCA5LjUgQyAxOCA4LjcyNjU2MyAxOC4yMTg3NSA4LjAzMTI1IDE4LjUzMTI1IDcuNTkzNzUgQyAxOC44NDM3NSA3LjE1NjI1IDE5LjE4NzUgNyAxOS41IDcgWiBNIDcuNSAxMiBDIDYuNDI5Njg4IDEyIDUuNSAxMi42MDkzNzUgNC45MDYyNSAxMy40Mzc1IEMgNC4zMTI1IDE0LjI2NTYyNSA0IDE1LjMzOTg0NCA0IDE2LjUgQyA0IDE3LjY2MDE1NiA0LjMxMjUgMTguNzM0Mzc1IDQuOTA2MjUgMTkuNTYyNSBDIDUuNSAyMC4zOTA2MjUgNi40Mjk2ODggMjEgNy41IDIxIEMgOC41NzAzMTMgMjEgOS41IDIwLjM5MDYyNSAxMC4wOTM3NSAxOS41NjI1IEMgMTAuNjg3NSAxOC43MzQzNzUgMTEgMTcuNjYwMTU2IDExIDE2LjUgQyAxMSAxNS4zMzk4NDQgMTAuNjg3NSAxNC4yNjU2MjUgMTAuMDkzNzUgMTMuNDM3NSBDIDkuNSAxMi42MDkzNzUgOC41NzAzMTMgMTIgNy41IDEyIFogTSAyNC41IDEyIEMgMjMuNDI5Njg4IDEyIDIyLjUgMTIuNjA5Mzc1IDIxLjkwNjI1IDEzLjQzNzUgQyAyMS4zMTI1IDE0LjI2NTYyNSAyMSAxNS4zMzk4NDQgMjEgMTYuNSBDIDIxIDE3LjY2MDE1NiAyMS4zMTI1IDE4LjczNDM3NSAyMS45MDYyNSAxOS41NjI1IEMgMjIuNSAyMC4zOTA2MjUgMjMuNDI5Njg4IDIxIDI0LjUgMjEgQyAyNS41NzAzMTMgMjEgMjYuNSAyMC4zOTA2MjUgMjcuMDkzNzUgMTkuNTYyNSBDIDI3LjY4NzUgMTguNzM0Mzc1IDI4IDE3LjY2MDE1NiAyOCAxNi41IEMgMjggMTUuMzM5ODQ0IDI3LjY4NzUgMTQuMjY1NjI1IDI3LjA5Mzc1IDEzLjQzNzUgQyAyNi41IDEyLjYwOTM3NSAyNS41NzAzMTMgMTIgMjQuNSAxMiBaIE0gNy41IDE0IEMgNy44MTI1IDE0IDguMTU2MjUgMTQuMTU2MjUgOC40Njg3NSAxNC41OTM3NSBDIDguNzgxMjUgMTUuMDMxMjUgOSAxNS43MjY1NjMgOSAxNi41IEMgOSAxNy4yNzM0MzggOC43ODEyNSAxNy45Njg3NSA4LjQ2ODc1IDE4LjQwNjI1IEMgOC4xNTYyNSAxOC44NDM3NSA3LjgxMjUgMTkgNy41IDE5IEMgNy4xODc1IDE5IDYuODQzNzUgMTguODQzNzUgNi41MzEyNSAxOC40MDYyNSBDIDYuMjE4NzUgMTcuOTY4NzUgNiAxNy4yNzM0MzggNiAxNi41IEMgNiAxNS43MjY1NjMgNi4yMTg3NSAxNS4wMzEyNSA2LjUzMTI1IDE0LjU5Mzc1IEMgNi44NDM3NSAxNC4xNTYyNSA3LjE4NzUgMTQgNy41IDE0IFogTSAyNC41IDE0IEMgMjQuODEyNSAxNCAyNS4xNTYyNSAxNC4xNTYyNSAyNS40Njg3NSAxNC41OTM3NSBDIDI1Ljc4MTI1IDE1LjAzMTI1IDI2IDE1LjcyNjU2MyAyNiAxNi41IEMgMjYgMTcuMjczNDM4IDI1Ljc4MTI1IDE3Ljk2ODc1IDI1LjQ2ODc1IDE4LjQwNjI1IEMgMjUuMTU2MjUgMTguODQzNzUgMjQuODEyNSAxOSAyNC41IDE5IEMgMjQuMTg3NSAxOSAyMy44NDM3NSAxOC44NDM3NSAyMy41MzEyNSAxOC40MDYyNSBDIDIzLjIxODc1IDE3Ljk2ODc1IDIzIDE3LjI3MzQzOCAyMyAxNi41IEMgMjMgMTUuNzI2NTYzIDIzLjIxODc1IDE1LjAzMTI1IDIzLjUzMTI1IDE0LjU5Mzc1IEMgMjMuODQzNzUgMTQuMTU2MjUgMjQuMTg3NSAxNCAyNC41IDE0IFogTSAxNiAxNiBDIDE0LjY2Nzk2OSAxNiAxMy43MzgyODEgMTYuODY3MTg4IDEzLjI4MTI1IDE3LjYyNSBDIDEyLjgyNDIxOSAxOC4zODI4MTMgMTIuNTQ2ODc1IDE5LjAxNTYyNSAxMi4yODEyNSAxOS4yODEyNSBDIDEyLjEyNSAxOS40Mzc1IDExLjE2MDE1NiAxOS44MDA3ODEgMTAuMTU2MjUgMjAuMzEyNSBDIDkuNjUyMzQ0IDIwLjU3MDMxMyA5LjE0NDUzMSAyMC45MTQwNjMgOC43MTg3NSAyMS40Mzc1IEMgOC4yOTI5NjkgMjEuOTYwOTM4IDggMjIuNjg3NSA4IDIzLjUgQyA4IDI1LjQyMTg3NSA5LjU3ODEyNSAyNyAxMS41IDI3IEMgMTIuMzY3MTg4IDI3IDEzLjI2OTUzMSAyNi43MjI2NTYgMTQuMTU2MjUgMjYuNDY4NzUgQyAxNS4wNDI5NjkgMjYuMjE0ODQ0IDE2IDI2IDE2IDI2IEMgMTYgMjYgMTYuOTU3MDMxIDI2LjIxNDg0NCAxNy44NDM3NSAyNi40Njg3NSBDIDE4LjczMDQ2OSAyNi43MjI2NTYgMTkuNjMyODEzIDI3IDIwLjUgMjcgQyAyMi40MjE4NzUgMjcgMjQgMjUuNDIxODc1IDI0IDIzLjUgQyAyNCAyMi43MDcwMzEgMjMuNzA3MDMxIDIxLjk4MDQ2OSAyMy4yODEyNSAyMS40Njg3NSBDIDIyLjg1NTQ2OSAyMC45NTcwMzEgMjIuMzQzNzUgMjAuNjQwNjI1IDIxLjg0Mzc1IDIwLjM3NSBDIDIwLjg0Mzc1IDE5Ljg0Mzc1IDE5Ljg1OTM3NSAxOS40MjE4NzUgMTkuNzE4NzUgMTkuMjgxMjUgQyAxOS40ODA0NjkgMTkuMDQyOTY5IDE5LjIxMDkzOCAxOC4zOTA2MjUgMTguNzUgMTcuNjI1IEMgMTguMjg5MDYzIDE2Ljg1OTM3NSAxNy4zMzk4NDQgMTYgMTYgMTYgWiBNIDE2IDE4IEMgMTYuNjYwMTU2IDE4IDE2LjczNDM3NSAxOC4xNjAxNTYgMTcuMDMxMjUgMTguNjU2MjUgQyAxNy4zMjgxMjUgMTkuMTUyMzQ0IDE3LjU1NDY4OCAxOS45OTIxODggMTguMjgxMjUgMjAuNzE4NzUgQyAxOS4xMDU0NjkgMjEuNTQyOTY5IDIwLjE0ODQzOCAyMS43MjI2NTYgMjAuOTA2MjUgMjIuMTI1IEMgMjEuMjg1MTU2IDIyLjMyODEyNSAyMS41NzgxMjUgMjIuNTQyOTY5IDIxLjc1IDIyLjc1IEMgMjEuOTIxODc1IDIyLjk1NzAzMSAyMiAyMy4xNDg0MzggMjIgMjMuNSBDIDIyIDI0LjMzOTg0NCAyMS4zMzk4NDQgMjUgMjAuNSAyNSBDIDIwLjIxMDkzOCAyNSAxOS4yNzczNDQgMjQuNzc3MzQ0IDE4LjQwNjI1IDI0LjUzMTI1IEMgMTcuNTM1MTU2IDI0LjI4NTE1NiAxNi44MTY0MDYgMjQgMTYgMjQgQyAxNS4xODM1OTQgMjQgMTQuNDY0ODQ0IDI0LjI4NTE1NiAxMy41OTM3NSAyNC41MzEyNSBDIDEyLjcyMjY1NiAyNC43NzczNDQgMTEuNzg5MDYzIDI1IDExLjUgMjUgQyAxMC42NjAxNTYgMjUgMTAgMjQuMzM5ODQ0IDEwIDIzLjUgQyAxMCAyMy4wOTc2NTYgMTAuMDgyMDMxIDIyLjg5MDYyNSAxMC4yNSAyMi42ODc1IEMgMTAuNDE3OTY5IDIyLjQ4NDM3NSAxMC43MjI2NTYgMjIuMjg1MTU2IDExLjA5Mzc1IDIyLjA5Mzc1IEMgMTEuODM5ODQ0IDIxLjcxNDg0NCAxMi44NzUgMjEuNTYyNSAxMy43MTg3NSAyMC43MTg3NSBDIDE0LjQ1MzEyNSAxOS45ODQzNzUgMTQuNjc1NzgxIDE5LjExNzE4OCAxNC45Njg3NSAxOC42MjUgQyAxNS4yNjE3MTkgMTguMTMyODEzIDE1LjMzMjAzMSAxOCAxNiAxOCBaIi8+PC9zdmc+",lH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSAzIEwgMTEgNyBMIDEzIDcgTCAxMyAzIFogTSAxNSA0IEwgMTUgNyBMIDE3IDcgTCAxNyA0IFogTSA0Ljg3NSA4IEwgNSA5LjA5Mzc1IEwgNi44MTI1IDI2LjMxMjUgQyA2Ljk3MjY1NiAyNy44MzIwMzEgOC4yODUxNTYgMjkgOS44MTI1IDI5IEwgMTkuMTg3NSAyOSBDIDIwLjcxNDg0NCAyOSAyMi4wMjczNDQgMjcuODMyMDMxIDIyLjE4NzUgMjYuMzEyNSBMIDIyLjY1NjI1IDIyIEwgMjUgMjIgQyAyNi42NDQ1MzEgMjIgMjggMjAuNjQ0NTMxIDI4IDE5IEwgMjggMTYgQyAyOCAxNC4zNTU0NjkgMjYuNjQ0NTMxIDEzIDI1IDEzIEwgMjMuNTkzNzUgMTMgTCAyNCA5LjA5Mzc1IEwgMjQuMTI1IDggWiBNIDcuMTI1IDEwIEwgMjEuODc1IDEwIEwgMjAuMTg3NSAyNi4wOTM3NSBDIDIwLjEzMjgxMyAyNi42MTMyODEgMTkuNzA3MDMxIDI3IDE5LjE4NzUgMjcgTCA5LjgxMjUgMjcgQyA5LjI5Mjk2OSAyNyA4Ljg2NzE4OCAyNi42MTMyODEgOC44MTI1IDI2LjA5Mzc1IFogTSAyMy4zNzUgMTUgTCAyNSAxNSBDIDI1LjU2NjQwNiAxNSAyNiAxNS40MzM1OTQgMjYgMTYgTCAyNiAxOSBDIDI2IDE5LjU2NjQwNiAyNS41NjY0MDYgMjAgMjUgMjAgTCAyMi44NDM3NSAyMCBaIi8+PC9zdmc+",cH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiAzIEMgOC44MzIwMzEgMyAzIDguODMyMDMxIDMgMTYgQyAzIDIzLjE2Nzk2OSA4LjgzMjAzMSAyOSAxNiAyOSBDIDIzLjE2Nzk2OSAyOSAyOSAyMy4xNjc5NjkgMjkgMTYgQyAyOSA4LjgzMjAzMSAyMy4xNjc5NjkgMyAxNiAzIFogTSAxNiA1IEMgMTYuNjAxNTYzIDUgMTcuMTc1NzgxIDUuMDYyNSAxNy43NSA1LjE1NjI1IEwgMTYgNi40MDYyNSBMIDE0LjI1IDUuMTU2MjUgQyAxNC44MjAzMTMgNS4wNjY0MDYgMTUuNDAyMzQ0IDUgMTYgNSBaIE0gMTEuODEyNSA1Ljg0Mzc1IEwgMTUuNDA2MjUgOC40Njg3NSBMIDE2IDguOTA2MjUgTCAxNi41OTM3NSA4LjQ2ODc1IEwgMjAuMTg3NSA1Ljg0Mzc1IEMgMjEuNzg1MTU2IDYuNTA3ODEzIDIzLjE5NTMxMyA3LjUyMzQzOCAyNC4zMTI1IDguODEyNSBMIDIyLjkzNzUgMTMuMDkzNzUgTCAyMi43MTg3NSAxMy43ODEyNSBMIDIzLjMxMjUgMTQuMTg3NSBMIDI2LjkzNzUgMTYuODQzNzUgQyAyNi44MDQ2ODggMTguNjA1NDY5IDI2LjI2NTYyNSAyMC4yNTc4MTMgMjUuNDA2MjUgMjEuNjg3NSBMIDIwLjEyNSAyMS42ODc1IEwgMTkuOTA2MjUgMjIuMzc1IEwgMTguNSAyNi43MTg3NSBDIDE3LjY5OTIxOSAyNi45MDYyNSAxNi44NTkzNzUgMjcgMTYgMjcgQyAxNS4xMDU0NjkgMjcgMTQuMjM4MjgxIDI2Ljg4NjcxOSAxMy40MDYyNSAyNi42ODc1IEwgMTIuMDMxMjUgMjIuNDA2MjUgTCAxMS44MTI1IDIxLjcxODc1IEwgNi41OTM3NSAyMS43MTg3NSBDIDUuNzE4NzUgMjAuMjgxMjUgNS4xOTkyMTkgMTguNjIxMDk0IDUuMDYyNSAxNi44NDM3NSBMIDguNjU2MjUgMTQuMjE4NzUgTCA5LjI1IDEzLjgxMjUgTCA5LjAzMTI1IDEzLjEyNSBMIDcuNjI1IDguODc1IEMgOC43NSA3LjU1NDY4OCAxMC4xODM1OTQgNi41MTU2MjUgMTEuODEyNSA1Ljg0Mzc1IFogTSAxNiAxMC4wOTM3NSBMIDE1LjQwNjI1IDEwLjUzMTI1IEwgMTAuODQzNzUgMTMuODQzNzUgTCAxMC4yODEyNSAxNC4yODEyNSBMIDEwLjUgMTQuOTY4NzUgTCAxMi4yNSAyMC4zMTI1IEwgMTIuNDY4NzUgMjEgTCAxOS41MzEyNSAyMSBMIDE5Ljc1IDIwLjMxMjUgTCAyMS41IDE0Ljk2ODc1IEwgMjEuNzE4NzUgMTQuMjgxMjUgTCAyMS4xNTYyNSAxMy44NDM3NSBMIDE2LjU5Mzc1IDEwLjUzMTI1IFogTSAyNS43NSAxMC45MDYyNSBDIDI2LjI5Njg3NSAxMS45NTMxMjUgMjYuNjU2MjUgMTMuMTAxNTYzIDI2Ljg0Mzc1IDE0LjMxMjUgTCAyNS4wNjI1IDEzLjAzMTI1IFogTSA2LjIxODc1IDEwLjk2ODc1IEwgNi45MDYyNSAxMy4wMzEyNSBMIDUuMTU2MjUgMTQuMzEyNSBDIDUuMzM5ODQ0IDEzLjEyNSA1LjY4NzUgMTIgNi4yMTg3NSAxMC45Njg3NSBaIE0gMTYgMTIuNTkzNzUgTCAxOS4zNzUgMTUuMDMxMjUgTCAxOC4wOTM3NSAxOSBMIDEzLjkwNjI1IDE5IEwgMTIuNjI1IDE1LjAzMTI1IFogTSAyMS41OTM3NSAyMy42ODc1IEwgMjMuODQzNzUgMjMuNjg3NSBDIDIyLjk5MjE4OCAyNC41NjY0MDYgMjIuMDExNzE5IDI1LjI5Mjk2OSAyMC45MDYyNSAyNS44NDM3NSBaIE0gOC4xNTYyNSAyMy43MTg3NSBMIDEwLjM0Mzc1IDIzLjcxODc1IEwgMTEuMDMxMjUgMjUuODEyNSBDIDkuOTYwOTM4IDI1LjI2OTUzMSA4Ljk4ODI4MSAyNC41NjI1IDguMTU2MjUgMjMuNzE4NzUgWiIvPjwvc3ZnPg==",uH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5LjUgNiBDIDguMTc5Njg4IDYgNy4wMDM5MDYgNi44NTkzNzUgNi42MjUgOC4xMjUgTCA1LjI1IDEyLjcxODc1IEwgMy4zMTI1IDEyLjA2MjUgTCAyLjY4NzUgMTMuOTM3NSBMIDQuNjU2MjUgMTQuNTkzNzUgTCA0LjAzMTI1IDE2LjcxODc1IEMgNC4wMDc4MTMgMTYuODA4NTk0IDMuOTk2MDk0IDE2LjkwNjI1IDQgMTcgTCA0IDI0IEMgNCAyNC4wMzEyNSA0IDI0LjA2MjUgNCAyNC4wOTM3NSBMIDQgMjUgQyA0IDI1LjU1MDc4MSA0LjQ0OTIxOSAyNiA1IDI2IEwgOCAyNiBMIDguMzQzNzUgMjUgTCAyMy42NTYyNSAyNSBMIDI0IDI2IEwgMjcgMjYgQyAyNy41NTA3ODEgMjYgMjggMjUuNTUwNzgxIDI4IDI1IEwgMjggMjQuMTU2MjUgQyAyOC4wMDM5MDYgMjQuMTA1NDY5IDI4LjAwMzkwNiAyNC4wNTA3ODEgMjggMjQgTCAyOCAxNyBDIDI4LjAwMzkwNiAxNi45MDYyNSAyNy45OTIxODggMTYuODA4NTk0IDI3Ljk2ODc1IDE2LjcxODc1IEwgMjcuMzQzNzUgMTQuNTkzNzUgTCAyOS4zMTI1IDEzLjkzNzUgTCAyOC42ODc1IDEyLjA2MjUgTCAyNi43NSAxMi43MTg3NSBMIDI1LjM3NSA4LjEyNSBDIDI0Ljk5NjA5NCA2Ljg1OTM3NSAyMy44MjAzMTMgNiAyMi41IDYgWiBNIDkuNSA4IEwgMjIuNSA4IEMgMjIuOTQ1MzEzIDggMjMuMzM5ODQ0IDguMjkyOTY5IDIzLjQ2ODc1IDguNzE4NzUgTCAyNC43NSAxMyBMIDcuMjUgMTMgTCA4LjUzMTI1IDguNzE4NzUgQyA4LjY2MDE1NiA4LjI4OTA2MyA5LjA1NDY4OCA4IDkuNSA4IFogTSA2LjY1NjI1IDE1IEwgMjUuMzQzNzUgMTUgTCAyNiAxNy4xODc1IEwgMjYgMjMgTCA2IDIzIEwgNiAxNy4xODc1IFogTSA4LjUgMTYgQyA3LjY3MTg3NSAxNiA3IDE2LjY3MTg3NSA3IDE3LjUgQyA3IDE4LjMyODEyNSA3LjY3MTg3NSAxOSA4LjUgMTkgQyA5LjMyODEyNSAxOSAxMCAxOC4zMjgxMjUgMTAgMTcuNSBDIDEwIDE2LjY3MTg3NSA5LjMyODEyNSAxNiA4LjUgMTYgWiBNIDIzLjUgMTYgQyAyMi42NzE4NzUgMTYgMjIgMTYuNjcxODc1IDIyIDE3LjUgQyAyMiAxOC4zMjgxMjUgMjIuNjcxODc1IDE5IDIzLjUgMTkgQyAyNC4zMjgxMjUgMTkgMjUgMTguMzI4MTI1IDI1IDE3LjUgQyAyNSAxNi42NzE4NzUgMjQuMzI4MTI1IDE2IDIzLjUgMTYgWiBNIDEyIDE5IEwgMTAuNzUgMjIgTCAxMi45MDYyNSAyMiBMIDEzLjM0Mzc1IDIxIEwgMTguNjU2MjUgMjEgTCAxOS4wOTM3NSAyMiBMIDIxLjI1IDIyIEwgMjAgMTkgWiIvPjwvc3ZnPg==",dH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuMDQyOTY5IDQgNyA4LjA0Mjk2OSA3IDEzIEMgNyAxNC45MTc5NjkgNy44NDM3NSAxNi45MDYyNSA5IDE4LjY4NzUgQyA5Ljg1OTM3NSAyMC4wMTE3MTkgMTAuODg2NzE5IDIxLjIzMDQ2OSAxMiAyMi4xNTYyNSBMIDEyIDI1IEMgMTIgMjYuMDkzNzUgMTIuOTA2MjUgMjcgMTQgMjcgTCAxNSAyOCBMIDE3IDI4IEwgMTggMjcgQyAxOS4wOTM3NSAyNyAyMCAyNi4wOTM3NSAyMCAyNSBMIDIwIDIyLjE1NjI1IEMgMjEuMTEzMjgxIDIxLjIzMDQ2OSAyMi4xNDA2MjUgMjAuMDExNzE5IDIzIDE4LjY4NzUgQyAyNC4xNTYyNSAxNi45MDYyNSAyNSAxNC45MTc5NjkgMjUgMTMgQyAyNSA4LjA0Mjk2OSAyMC45NTcwMzEgNCAxNiA0IFogTSAxNiA2IEMgMTkuODc4OTA2IDYgMjMgOS4xMjEwOTQgMjMgMTMgQyAyMyAxNC4zMDg1OTQgMjIuMzU1NDY5IDE2LjAzNTE1NiAyMS4zNDM3NSAxNy41OTM3NSBDIDIwLjQ0MTQwNiAxOC45ODQzNzUgMTkuMjUzOTA2IDIwLjIyMjY1NiAxOC4xNTYyNSAyMSBMIDEzLjg0Mzc1IDIxIEMgMTIuNzQ2MDk0IDIwLjIyMjY1NiAxMS41NTg1OTQgMTguOTg0Mzc1IDEwLjY1NjI1IDE3LjU5Mzc1IEMgOS42NDQ1MzEgMTYuMDM1MTU2IDkgMTQuMzA4NTk0IDkgMTMgQyA5IDkuMTIxMDk0IDEyLjEyMTA5NCA2IDE2IDYgWiBNIDE0LjI1IDIzIEwgMTcuNzUgMjMgQyAxNy44MjgxMjUgMjMuMDU0Njg4IDE3LjkxMDE1NiAyMy4wOTM3NSAxOCAyMy4xMjUgTCAxOCAyNSBMIDE0IDI1IEwgMTQgMjMuMTI1IEMgMTQuMDg5ODQ0IDIzLjA5Mzc1IDE0LjE3MTg3NSAyMy4wNTQ2ODggMTQuMjUgMjMgWiIvPjwvc3ZnPg==",fH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSA1IEwgMTEgMTEgTCA1IDExIEwgNSAxMyBMIDExIDEzIEwgMTEgMTkgTCA1IDE5IEwgNSAyMSBMIDExIDIxIEwgMTEgMjcgTCAxMyAyNyBMIDEzIDIxIEwgMTkgMjEgTCAxOSAyNyBMIDIxIDI3IEwgMjEgMjEgTCAyNyAyMSBMIDI3IDE5IEwgMjEgMTkgTCAyMSAxMyBMIDI3IDEzIEwgMjcgMTEgTCAyMSAxMSBMIDIxIDUgTCAxOSA1IEwgMTkgMTEgTCAxMyAxMSBMIDEzIDUgWiBNIDEzIDEzIEwgMTkgMTMgTCAxOSAxOSBMIDEzIDE5IFoiLz48L3N2Zz4=",hH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5IDQgQyA3LjM0NiA0IDYgNS4zNDYgNiA3IEMgNiA4LjMwMTYwOTQgNi44Mzg3NDg2IDkuNDAyMTM5MSA4IDkuODE2NDA2MiBMIDggMTEuMzA0Njg4IEwgOCAyMy4yMDcwMzEgTCA4IDI3LjAyMzQzOCBDIDggMjcuNTYzNDM4IDguNDM2NTYyNSAyOCA4Ljk3NjU2MjUgMjggTCA5LjAyMzQzNzUgMjggQyA5LjU2MzQzNzUgMjggMTAgMjcuNTYzNDM3IDEwIDI3LjAyMzQzOCBMIDEwIDIyLjIyODUxNiBDIDEwLjMzNDcwNyAyMS44Mzk3NTYgMTEuMTM4NDIzIDIxLjA0Njg3NSAxMy40NDUzMTIgMjEuMDQ2ODc1IEMgMTQuNjY5MzEzIDIxLjA0Njg3NSAxNS42NzA0MjIgMjEuNDczNzgxIDE2LjczMjQyMiAyMS45MjU3ODEgQyAxNy43Njk0MjIgMjIuMzY3NzgxIDE4Ljg0MTg5MSAyMi44MjQyMTkgMjAuMDg3ODkxIDIyLjgyNDIxOSBDIDIyLjQ0Njg5MSAyMi44MjQyMTkgMjQuMDQ5Mzc1IDIxLjU4NDY4OCAyNC43MzQzNzUgMjEuMDU0Njg4IEwgMjQuODg2NzE5IDIwLjkzOTQ1MyBDIDI1LjQzNzcxOSAyMC41NDA0NTMgMjYgMTkuOTk2IDI2IDE5IEwgMjYgMTAuNjc1NzgxIEMgMjYgOS43Njc3ODEyIDI1LjIyMTgyOCA5IDI0LjI5ODgyOCA5IEMgMjMuODAzODI4IDkgMjMuNDQwNDA2IDkuMjg2NTkzNyAyMi45NDE0MDYgOS42ODM1OTM4IEMgMjIuMjc5NDA2IDEwLjIwNzU5NCAyMS4yODA4OTEgMTEgMjAuMDg3ODkxIDExIEMgMTkuMjcyODkxIDExIDE4LjQ3NzY4OCAxMC42MTk3MzQgMTcuNTU0Njg4IDEwLjE3NzczNCBDIDE2LjQwMzY4NyA5LjYyNTczNDQgMTUuMDk4MzU5IDkgMTMuNDQzMzU5IDkgQyAxMi4zMDgyNTcgOSAxMS40MjE2ODcgOS4xODgzMzkzIDEwLjcxMjg5MSA5LjQ1NzAzMTIgQyAxMS40ODkwNzEgOC45MTQxODI0IDEyIDguMDE2NzgwMiAxMiA3IEMgMTIgNS4zNDYgMTAuNjU0IDQgOSA0IHogTSA5IDYgQyA5LjU1MiA2IDEwIDYuNDQ5IDEwIDcgQyAxMCA3LjU1MSA5LjU1MiA4IDkgOCBDIDguNDQ4IDggOCA3LjU1MSA4IDcgQyA4IDYuNDQ5IDguNDQ4IDYgOSA2IHogTSAxMy40NDMzNTkgMTEgQyAxNC42NDUzNTkgMTEgMTUuNjM4NDA2IDExLjQ3NjQ2OSAxNi42OTE0MDYgMTEuOTgwNDY5IEMgMTcuNzM2NDA2IDEyLjQ4MjQ2OSAxOC44MTc4OTEgMTMgMjAuMDg3ODkxIDEzIEMgMjEuODQyODkxIDEzIDIzLjE1ODA0NyAxMi4wNTQ0ODQgMjMuOTk4MDQ3IDExLjM5NjQ4NCBMIDIzLjk5ODA0NyAxOS4wNjY0MDYgQyAyMy45OTcwNDcgMTkuMDcwNDA2IDIzLjk1Mjk4NCAxOS4xNDUyNjYgMjMuNzA4OTg0IDE5LjMyMjI2NiBMIDIzLjUwOTc2NiAxOS40NzQ2MDkgQyAyMi45NDI3NjYgMTkuOTEyNjA5IDIxLjc2Mjg5MSAyMC44MjQyMTkgMjAuMDg3ODkxIDIwLjgyNDIxOSBDIDE5LjI0OTg5MSAyMC44MjQyMTkgMTguNDQ2NjI1IDIwLjQ4MjkzNyAxNy41MTU2MjUgMjAuMDg1OTM4IEMgMTYuMzcyNjI1IDE5LjU5NzkzOCAxNS4wNzYzNTkgMTkuMDQ0OTIyIDEzLjQ0MzM1OSAxOS4wNDQ5MjIgQyAxMS44OTEzNTkgMTkuMDQ0OTIyIDEwLjc4NiAxOS4zNTggMTAgMTkuNzUgTCAxMCAxMi4zNjEzMjggQyAxMC4zNDUgMTEuOTA1MzI4IDExLjEzMjM1OSAxMSAxMy40NDMzNTkgMTEgeiIvPjwvc3ZnPg==",pH="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuODMyMDMxIDQgOC4xNTIzNDQgNi4xMTMyODEgNiA5LjM0Mzc1IEwgNiA2IEwgNCA2IEwgNCAxMyBMIDExIDEzIEwgMTEgMTEgTCA3LjM3NSAxMSBDIDkuMTAxNTYzIDguMDE5NTMxIDEyLjI5Njg3NSA2IDE2IDYgQyAyMS41MzUxNTYgNiAyNiAxMC40NjQ4NDQgMjYgMTYgQyAyNiAyMS41MzUxNTYgMjEuNTM1MTU2IDI2IDE2IDI2IEMgMTAuNDY0ODQ0IDI2IDYgMjEuNTM1MTU2IDYgMTYgTCA0IDE2IEMgNCAyMi42MTcxODggOS4zODI4MTMgMjggMTYgMjggQyAyMi42MTcxODggMjggMjggMjIuNjE3MTg4IDI4IDE2IEMgMjggOS4zODI4MTMgMjIuNjE3MTg4IDQgMTYgNCBaIE0gMTUgOCBMIDE1IDE3IEwgMjIgMTcgTCAyMiAxNSBMIDE3IDE1IEwgMTcgOCBaIi8+PC9zdmc+Cg==";const mH=u.defineComponent({name:"Header",setup(t){const{state:e,updateSearch:r,updateActiveGroup:n}=u.inject("store"),i=u.computed(()=>!e.options.hideSearch),o=u.computed(()=>!e.options.hideGroupIcons),s=JSON.parse(JSON.stringify(e.orderedGroupKeys)),a=u.computed(()=>e.options.staticTexts.placeholder||""),l=u.computed({get:()=>e.search,set:c=>r(c)}),d=[...e.groups,...Object.keys(e.options.additionalGroups).map(c=>({key:c,title:e.options.groupNames[c]?e.options.groupNames[c]:LS(c)}))],f=[];return s.forEach(c=>{const h=d.findIndex(p=>p.key===c);h!==-1&&(f.push(d[h]),d.splice(h,1))}),{orderedGroups:f,orderedKeys:s,searchValue:l,updateActiveGroup:n,hasSearch:i,hasGroupIcons:o,placeholder:a,icons:{smileys_people:NS,animals_nature:aH,food_drink:lH,activities:cH,travel_places:uH,objects:dH,symbols:fH,flags:hH,...e.options.groupIcons,recent:pH}}}}),gH={key:0,class:"v3-header"},yH={key:0,class:"v3-groups"},bH=["onClick"],vH=["title"],_H=["src"],wH={key:1,class:"v3-spacing"},AH={key:2,class:"v3-search"},xH=["placeholder"];function TH(t,e,r,n,i,o){return t.hasGroupIcons||t.hasSearch?(u.openBlock(),u.createElementBlock("div",gH,[t.hasGroupIcons?(u.openBlock(),u.createElementBlock("div",yH,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.orderedGroups,s=>(u.openBlock(),u.createElementBlock("button",{key:s.key,type:"button",class:u.normalizeClass(["v3-group",{"v3-is-hidden":!t.icons[s.key]}]),onClick:a=>t.updateActiveGroup(s.key)},[u.createElementVNode("span",{title:s.title,class:"v3-icon"},[u.createElementVNode("img",{src:t.icons[s.key],alt:""},null,8,_H)],8,vH)],10,bH))),128))])):u.createCommentVNode("",!0),t.hasGroupIcons&&t.hasSearch?(u.openBlock(),u.createElementBlock("div",wH)):u.createCommentVNode("",!0),t.hasSearch?(u.openBlock(),u.createElementBlock("div",AH,[u.withDirectives(u.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.searchValue=s),type:"text",placeholder:t.placeholder},null,8,xH),[[u.vModelText,t.searchValue]])])):u.createCommentVNode("",!0)])):u.createCommentVNode("",!0)}var EH=Hu(mH,[["render",TH]]);const CH=u.defineComponent({name:"Header",setup(){const{state:t,updateSkinTone:e}=u.inject("store"),r=u.ref(!1),n=u.ref(!1),i=u.computed(()=>t.skinTone),o=u.computed(()=>t.options.staticTexts.skinTone||"Skin tone"),s=u.computed(()=>!t.options.disableSkinTones),a=OS()?"is-mac":"",l=u.computed(()=>({...t.emoji,src:oS+"/"+t.emoji[Ru]+".png"}));function d(h=!0){r.value=h}function f(){r.value=!r.value}function c(h){e(h),d(!1)}return u.watch(()=>t.emoji,()=>{n.value=!1}),{emoji:l,SKIN_TONES:C$,updateSkinToneState:d,skinTone:r,stateSkinTone:i,selectSkinTone:c,toggleSkinToneState:f,EMOJI_RESULT_KEY:Ru,EMOJI_NAME_KEY:Nh,skinToneText:o,hasSkinTones:s,native:t.options.native,unicodeToEmoji:Uh,platform:a,hasError:n}}}),SH={class:"v3-foot-left"},kH={key:0},IH=["alt","src"],DH={class:"v3-text"},MH={class:"v3-text"},NH=["onClick"];function OH(t,e,r,n,i,o){return u.openBlock(),u.createElementBlock("div",{class:"v3-footer",onMouseleave:e[2]||(e[2]=s=>t.updateSkinToneState(!1))},[u.createElementVNode("div",SH,[u.createElementVNode("span",{class:u.normalizeClass([t.platform,"v3-icon"])},[t.native||t.hasError?(u.openBlock(),u.createElementBlock("span",kH,u.toDisplayString(t.unicodeToEmoji(t.emoji.r)),1)):(u.openBlock(),u.createElementBlock("img",{key:1,alt:t.unicodeToEmoji(t.emoji.r),src:t.emoji.src,onError:e[0]||(e[0]=s=>t.hasError=!0)},null,40,IH))],2),u.createElementVNode("span",DH," :"+u.toDisplayString(t.emoji[t.EMOJI_NAME_KEY][1]||t.emoji[t.EMOJI_NAME_KEY][0])+": ",1)]),t.hasSkinTones?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[u.createElementVNode("button",{type:"button",class:"v3-tone",onClick:e[1]||(e[1]=(...s)=>t.toggleSkinToneState&&t.toggleSkinToneState(...s))},[u.createElementVNode("span",MH,u.toDisplayString(t.skinToneText),1),u.createElementVNode("span",{class:u.normalizeClass(`v3-icon v3-tone-${t.stateSkinTone}`)},null,2)]),u.createElementVNode("div",{class:u.normalizeClass([t.skinTone?"v3-is-open":"","v3-skin-tones"])},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.SKIN_TONES,s=>(u.openBlock(),u.createElementBlock("button",{key:s,type:"button",class:u.normalizeClass(["v3-skin-tone-"+s,"v3-skin-tone"]),onClick:a=>t.selectSkinTone(s)},null,10,NH))),128))],2)],64)):u.createCommentVNode("",!0)],32)}var LH=Hu(CH,[["render",OH]]);const BH=u.defineComponent({name:"PickerRoot",components:{Header:EH,Body:sH,Footer:LH},props:{type:{type:String,default:""},text:{type:String,default:""},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},groupNames:{type:Object,default:()=>({})}},emits:{select:t=>!0,"update:text":t=>!0},setup(t,{emit:e}){const r=u.ref(),n=u.ref(),i=u.ref(),o=u.ref(!1),s=u.ref(t.text),a=t.type==="input"||t.type==="textarea";let l=-1;const{state:d}=u.inject("store"),f=u.computed(()=>d.options.colorTheme);function c(b){if(a){const v=d.options.mode;v==="prepend"?s.value=b.i+s.value:v==="insert"&&l!==-1?(s.value=`${s.value.slice(0,l)}${b.i}${s.value.slice(l)}`,l+=b.i.length):s.value+=b.i,e("update:text",s.value)}e("select",b)}function h(){var b;r.value&&(l=((b=r.value)==null?void 0:b.selectionEnd)||-1)}function p(b){var v;!((v=b.target)!=null&&v.closest(".v3-input-picker-wrap"))&&o.value&&(o.value=!1)}function m(){if(n.value&&i.value&&a){let b=d.options.offset;typeof b!="number"&&(b=6),YV(n.value,i.value,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,b]}}]}),document.body.addEventListener("click",p)}}function y(b){s.value=b.target.value||"",e("update:text",s.value)}return u.onMounted(()=>{m()}),u.onBeforeUnmount(()=>{document.body.removeEventListener("click",p)}),{face:NS,open:o,onSelect:c,input:s,elem:r,updateCursor:h,button:n,picker:i,isInputType:a,onChangeText:y,colorTheme:f}}}),RH={key:0,class:"v3-input-emoji-picker"},PH={class:"v3-input-picker-root"},FH=["value"],UH=["value"],jH=["src"];function zH(t,e,r,n,i,o){const s=u.resolveComponent("Header"),a=u.resolveComponent("Body"),l=u.resolveComponent("Footer");return t.isInputType?(u.openBlock(),u.createElementBlock("div",RH,[u.createElementVNode("div",PH,[t.type==="input"?(u.openBlock(),u.createElementBlock("input",{key:0,ref:"elem",value:t.input,type:"text",class:"v3-emoji-picker-input",onInput:e[0]||(e[0]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[1]||(e[1]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,FH)):(u.openBlock(),u.createElementBlock("textarea",{key:1,ref:"elem",value:t.input,class:"v3-emoji-picker-textarea",onInput:e[2]||(e[2]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[3]||(e[3]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,UH)),u.createElementVNode("div",{class:u.normalizeClass(["v3-input-picker-wrap",t.open?"v3-picker-is-open":""])},[u.createElementVNode("button",{ref:"button",type:"button",class:"v3-input-picker-icon",onClick:e[4]||(e[4]=d=>t.open=!t.open)},[u.createElementVNode("img",{src:t.face,alt:""},null,8,jH)],512),u.createElementVNode("div",{ref:"picker",class:u.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[u.createVNode(s),u.createVNode(a,{onSelect:t.onSelect},null,8,["onSelect"]),u.createVNode(l)],2)],2)])])):(u.openBlock(),u.createElementBlock("div",{key:1,class:u.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[u.createVNode(s),u.createVNode(a,{onSelect:t.onSelect},null,8,["onSelect"]),u.createVNode(l)],2))}var $H=Hu(BH,[["render",zH]]);const VH=u.defineComponent({name:"Picker",components:{PickerRoot:$H},props:{native:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1},hideGroupIcons:{type:Boolean,default:!1},hideGroupNames:{type:Boolean,default:!1},staticTexts:{type:Object,default:()=>({})},disableStickyGroupNames:{type:Boolean,default:!1},disabledGroups:{type:Array,default:()=>[]},groupNames:{type:Object,default:()=>({})},disableSkinTones:{type:Boolean,default:!1},text:{type:String,default:""},mode:{type:String,default:"insert"},offset:{type:Number,default:6},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},pickerType:{type:String,default:""},displayRecent:{type:Boolean,default:!1},theme:{type:String,default:"light"}},emits:{"update:text":t=>!0,select:t=>!0},setup(t,{emit:e}){const r=u.ref(t.text);function n(o){r.value=o||"",e("update:text",r.value)}const i=V$();return i.updateOptions({native:t.native,hideSearch:t.hideSearch,hideGroupIcons:t.hideGroupIcons,hideGroupNames:t.hideGroupNames,staticTexts:{...S$,...t.staticTexts},disableStickyGroupNames:t.disableStickyGroupNames,disabledGroups:t.disabledGroups,groupNames:{...sS,...t.groupNames},disableSkinTones:t.disableSkinTones,displayRecent:t.displayRecent,additionalGroups:t.additionalGroups,mode:t.mode,offset:t.offset,groupOrder:t.groupOrder,groupIcons:t.groupIcons,colorTheme:k$.includes(t.theme)?t.theme:"light"}),u.provide("store",i),{type:t.pickerType,input:r,onChangeText:n}}});function HH(t,e,r,n,i,o){const s=u.resolveComponent("picker-root");return u.openBlock(),u.createBlock(s,{type:t.type,text:t.input,onSelect:e[0]||(e[0]=a=>t.$emit("select",a)),"onUpdate:text":t.onChangeText},null,8,["type","text","onUpdate:text"])}var qH=Hu(VH,[["render",HH]]);/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function qu(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(c){s(c)}}function l(f){try{d(n.throw(f))}catch(c){s(c)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((n=n.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class ar{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(r=>{e=r})}dispatch(e){return qu(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(e())}finally{r()}})}}var R1;function WH(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const P1=WH(),F1=(R1=P1.Buffer)!==null&&R1!==void 0?R1:null,GH=P1.TextEncoder?new P1.TextEncoder:null;function BS(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function QH(t,e){const r=e.length>>1;for(let n=0;n<r;n++){const i=n<<1;t[n]=BS(e.charCodeAt(i),e.charCodeAt(i+1))}}function YH(t,e){if(t.length!==e.length*2)return!1;for(let r=0;r<e.length;r++){const n=r<<1;if(e[r]!==BS(t.charCodeAt(n),t.charCodeAt(n+1)))return!1}return!0}const RS=87,PS=48;function FS(t,e,r){let n=0;for(let i=0;i<r;i++){let o=e[i]>>>4;t[n++]=o>9?o+RS:o+PS,o=e[i]&15,t[n++]=o>9?o+RS:o+PS}return String.fromCharCode.apply(null,t)}const US=F1!==null?t=>{if(typeof t=="string"){const e=F1.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(F1.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return GH.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},jS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wu=new Uint8Array(256);for(let t=0;t<jS.length;t++)Wu[jS.charCodeAt(t)]=t;function KH(t){let e=Math.floor(t.length*.75);const r=t.length;return t[r-1]==="="&&(e-=1,t[r-2]==="="&&(e-=1)),e}function XH(t){const e=KH(t),r=t.length,n=new Uint8Array(e);let i=0;for(let o=0;o<r;o+=4){const s=Wu[t.charCodeAt(o)],a=Wu[t.charCodeAt(o+1)],l=Wu[t.charCodeAt(o+2)],d=Wu[t.charCodeAt(o+3)];n[i]=s<<2|a>>4,i+=1,n[i]=(a&15)<<4|l>>2,i+=1,n[i]=(l&3)<<6|d&63,i+=1}return n}const jh=16*1024,Gu=4,JH=new ar,U1=new Map;function ZH(t,e){return qu(this,void 0,void 0,function*(){let r=null,n=null,i=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const o=(E,L=0)=>{n.set(E,L)},s=()=>n,a=()=>r.exports,l=E=>{r.exports.Hash_SetMemorySize(E);const L=r.exports.Hash_GetBuffer(),D=r.exports.memory.buffer;n=new Uint8Array(D,L,E)},d=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),f=JH.dispatch(()=>qu(this,void 0,void 0,function*(){if(!U1.has(t.name)){const L=XH(t.data),D=WebAssembly.compile(L);U1.set(t.name,D)}const E=yield U1.get(t.name);r=yield WebAssembly.instantiate(E,{})})),c=()=>qu(this,void 0,void 0,function*(){r||(yield f);const E=r.exports.Hash_GetBuffer(),L=r.exports.memory.buffer;n=new Uint8Array(L,E,jh)}),h=(E=null)=>{i=!0,r.exports.Hash_Init(E)},p=E=>{let L=0;for(;L<E.length;){const D=E.subarray(L,L+jh);L+=D.length,n.set(D),r.exports.Hash_Update(D.length)}},m=E=>{if(!i)throw new Error("update() called before init()");const L=US(E);p(L)},y=new Uint8Array(e*2),b=(E,L=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(L),E==="binary"?n.slice(0,e):FS(y,n,e)},v=()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const E=r.exports.Hash_GetState(),L=d(),D=r.exports.memory.buffer,C=new Uint8Array(D,E,L),R=new Uint8Array(Gu+L);return QH(R,t.hash),R.set(C,Gu),R},x=E=>{if(!(E instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const L=r.exports.Hash_GetState(),D=d(),C=Gu+D,R=r.exports.memory.buffer;if(E.length!==C)throw new Error(`Bad state length (expected ${C} bytes, got ${E.length})`);if(!YH(t.hash,E.subarray(0,Gu)))throw new Error("This state was written by an incompatible hash implementation");const $=E.subarray(Gu);new Uint8Array(R,L,D).set($),i=!0},S=E=>typeof E=="string"?E.length<jh/4:E.byteLength<jh;let I=S;switch(t.name){case"argon2":case"scrypt":I=()=>!0;break;case"blake2b":case"blake2s":I=(E,L)=>L<=512&&S(E);break;case"blake3":I=(E,L)=>L===0&&S(E);break;case"xxhash64":case"xxhash3":case"xxhash128":I=()=>!1;break}const M=(E,L=null,D=null)=>{if(!I(E,L))return h(L),m(E),b("hex",D);const C=US(E);return n.set(C),r.exports.Hash_Calculate(C.length,L,D),FS(y,n,e)};return yield c(),{getMemory:s,writeMemory:o,getExports:a,setMemorySize:l,init:h,update:m,digest:b,save:v,load:x,calculate:M,hashLength:e}})}function eq(t,e,r){return qu(this,void 0,void 0,function*(){const n=yield t.lock(),i=yield ZH(e,r);return n(),i})}new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar;var tq="sha1",rq="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwkIAAECAwECAAEFBAEBAgIGDgJ/AUHgiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUABApIYXNoX0ZpbmFsAAUNSGFzaF9HZXRTdGF0ZQAGDkhhc2hfQ2FsY3VsYXRlAAcKU1RBVEVfU0laRQMBCpoqCAUAQYAJC68iCgF+An8BfgF/AX4DfwF+AX8Bfkd/QQAgACkDECIBQiCIpyICQRh0IAJBgP4DcUEIdHIgAUIoiKdBgP4DcSABQjiIp3JyIgMgACkDCCIEQiCIpyICQRh0IAJBgP4DcUEIdHIgBEIoiKdBgP4DcSAEQjiIp3JyIgVzIAApAygiBkIgiKciAkEYdCACQYD+A3FBCHRyIAZCKIinQYD+A3EgBkI4iKdyciIHcyAEpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciIIIAApAwAiBKciAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCXMgACkDICIKpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciILcyAAKQMwIgxCIIinIgJBGHQgAkGA/gNxQQh0ciAMQiiIp0GA/gNxIAxCOIincnIiAnNBAXciDXNBAXciDiAFIARCIIinIg9BGHQgD0GA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiEHMgCkIgiKciD0EYdCAPQYD+A3FBCHRyIApCKIinQYD+A3EgCkI4iKdyciIRcyAAKQM4IgSnIg9BGHQgD0GA/gNxQQh0ciAPQQh2QYD+A3EgD0EYdnJyIg9zQQF3IhJzIAcgEXMgEnMgCyAAKQMYIgqnIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyIhNzIA9zIA5zQQF3IgBzQQF3IhRzIA0gD3MgAHMgAiAHcyAOcyAGpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIWIAtzIA1zIApCIIinIhVBGHQgFUGA/gNxQQh0ciAKQiiIp0GA/gNxIApCOIincnIiFyADcyACcyABpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIYIAhzIBZzIARCIIinIhVBGHQgFUGA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiFXNBAXciGXNBAXciGnNBAXciG3NBAXciHHNBAXciHXNBAXciHiASIBVzIBEgF3MgFXMgEyAYcyAMpyIfQRh0IB9BgP4DcUEIdHIgH0EIdkGA/gNxIB9BGHZyciIgcyASc0EBdyIfc0EBdyIhcyAPICBzIB9zIBRzQQF3IiJzQQF3IiNzIBQgIXMgI3MgACAfcyAicyAec0EBdyIkc0EBdyIlcyAdICJzICRzIBwgFHMgHnMgGyAAcyAdcyAaIA5zIBxzIBkgDXMgG3MgFSACcyAacyAgIBZzIBlzICFzQQF3IiZzQQF3IidzQQF3IihzQQF3IilzQQF3IipzQQF3IitzQQF3IixzQQF3Ii0gIyAncyAhIBpzICdzIB8gGXMgJnMgI3NBAXciLnNBAXciL3MgIiAmcyAucyAlc0EBdyIwc0EBdyIxcyAlIC9zIDFzICQgLnMgMHMgLXNBAXciMnNBAXciM3MgLCAwcyAycyArICVzIC1zICogJHMgLHMgKSAecyArcyAoIB1zICpzICcgHHMgKXMgJiAbcyAocyAvc0EBdyI0c0EBdyI1c0EBdyI2c0EBdyI3c0EBdyI4c0EBdyI5c0EBdyI6c0EBdyI7IDEgNXMgLyApcyA1cyAuIChzIDRzIDFzQQF3IjxzQQF3Ij1zIDAgNHMgPHMgM3NBAXciPnNBAXciP3MgMyA9cyA/cyAyIDxzID5zIDtzQQF3IkBzQQF3IkFzIDogPnMgQHMgOSAzcyA7cyA4IDJzIDpzIDcgLXMgOXMgNiAscyA4cyA1ICtzIDdzIDQgKnMgNnMgPXNBAXciQnNBAXciQ3NBAXciRHNBAXciRXNBAXciRnNBAXciR3NBAXciSHNBAXciSSA+IEJzIDwgNnMgQnMgP3NBAXciSnMgQXNBAXciSyA9IDdzIENzIEpzQQF3IkwgRCA5IDIgMSA0ICkgHSAUIB8gFSAWQQAoAoCJASJNQQV3QQAoApCJASJOaiAJakEAKAKMiQEiT0EAKAKIiQEiCXNBACgChIkBIlBxIE9zakGZ84nUBWoiUUEedyJSIANqIFBBHnciAyAFaiBPIAMgCXMgTXEgCXNqIBBqIFFBBXdqQZnzidQFaiIQIFIgTUEedyIFc3EgBXNqIAkgCGogUSADIAVzcSADc2ogEEEFd2pBmfOJ1AVqIlFBBXdqQZnzidQFaiJTIFFBHnciAyAQQR53IghzcSAIc2ogBSAYaiBRIAggUnNxIFJzaiBTQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhhBHnciUmogU0EedyIWIAtqIAggE2ogBSAWIANzcSADc2ogGEEFd2pBmfOJ1AVqIgggUiAFQR53IgtzcSALc2ogAyAXaiAYIAsgFnNxIBZzaiAIQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhMgBUEedyIWIAhBHnciA3NxIANzaiALIBFqIAUgAyBSc3EgUnNqIBNBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiUkEedyILaiACIBNBHnciFWogByADaiARIBUgFnNxIBZzaiBSQQV3akGZ84nUBWoiByALIBFBHnciAnNxIAJzaiAgIBZqIFIgAiAVc3EgFXNqIAdBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiFiARQR53IhUgB0EedyIHc3EgB3NqIA8gAmogESAHIAtzcSALc2ogFkEFd2pBmfOJ1AVqIgtBBXdqQZnzidQFaiIRQR53IgJqIBIgFWogESALQR53Ig8gFkEedyISc3EgEnNqIA0gB2ogCyASIBVzcSAVc2ogEUEFd2pBmfOJ1AVqIg1BBXdqQZnzidQFaiIVQR53Ih8gDUEedyIHcyAZIBJqIA0gAiAPc3EgD3NqIBVBBXdqQZnzidQFaiINc2ogDiAPaiAVIAcgAnNxIAJzaiANQQV3akGZ84nUBWoiAkEFd2pBodfn9gZqIg5BHnciD2ogACAfaiACQR53IgAgDUEedyINcyAOc2ogGiAHaiANIB9zIAJzaiAOQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg5BHnciEiACQR53IhRzICEgDWogDyAAcyACc2ogDkEFd2pBodfn9gZqIgJzaiAbIABqIBQgD3MgDnNqIAJBBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyIOaiAcIBJqIABBHnciDyACQR53IgJzIA1zaiAmIBRqIAIgEnMgAHNqIA1BBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyISIABBHnciFHMgIiACaiAOIA9zIABzaiANQQV3akGh1+f2BmoiAHNqICcgD2ogFCAOcyANc2ogAEEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53Ig5qICggEmogAkEedyIPIABBHnciAHMgDXNqICMgFGogACAScyACc2ogDUEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53IhIgAkEedyIUcyAeIABqIA4gD3MgAnNqIA1BBXdqQaHX5/YGaiIAc2ogLiAPaiAUIA5zIA1zaiAAQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg1BHnciDmogKiAAQR53IgBqIA4gAkEedyIPcyAkIBRqIAAgEnMgAnNqIA1BBXdqQaHX5/YGaiIUc2ogLyASaiAPIABzIA1zaiAUQQV3akGh1+f2BmoiDUEFd2pBodfn9gZqIgAgDUEedyICciAUQR53IhJxIAAgAnFyaiAlIA9qIBIgDnMgDXNqIABBBXdqQaHX5/YGaiINQQV3akHc+e74eGoiDkEedyIPaiA1IABBHnciAGogKyASaiANIAByIAJxIA0gAHFyaiAOQQV3akHc+e74eGoiEiAPciANQR53Ig1xIBIgD3FyaiAwIAJqIA4gDXIgAHEgDiANcXJqIBJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAiAAQR53Ig5yIBJBHnciEnEgAiAOcXJqICwgDWogACASciAPcSAAIBJxcmogAkEFd2pB3Pnu+HhqIgBBBXdqQdz57vh4aiINQR53Ig9qIDwgAkEedyICaiA2IBJqIAAgAnIgDnEgACACcXJqIA1BBXdqQdz57vh4aiISIA9yIABBHnciAHEgEiAPcXJqIC0gDmogDSAAciACcSANIABxcmogEkEFd2pB3Pnu+HhqIgJBBXdqQdz57vh4aiINIAJBHnciDnIgEkEedyIScSANIA5xcmogNyAAaiACIBJyIA9xIAIgEnFyaiANQQV3akHc+e74eGoiAEEFd2pB3Pnu+HhqIgJBHnciD2ogMyANQR53Ig1qID0gEmogACANciAOcSAAIA1xcmogAkEFd2pB3Pnu+HhqIhIgD3IgAEEedyIAcSASIA9xcmogOCAOaiACIAByIA1xIAIgAHFyaiASQQV3akHc+e74eGoiAkEFd2pB3Pnu+HhqIg0gAkEedyIOciASQR53IhJxIA0gDnFyaiBCIABqIAIgEnIgD3EgAiAScXJqIA1BBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyIPaiBDIA5qIAIgAEEedyIUciANQR53Ig1xIAIgFHFyaiA+IBJqIAAgDXIgDnEgACANcXJqIAJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyISIABBHnciDnMgOiANaiAAIA9yIBRxIAAgD3FyaiACQQV3akHc+e74eGoiAHNqID8gFGogAiAOciAPcSACIA5xcmogAEEFd2pB3Pnu+HhqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEogEmogAkEedyIUIABBHnciAHMgDXNqIDsgDmogACAScyACc2ogDUEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig4gAkEedyIScyBFIABqIA8gFHMgAnNqIA1BBXdqQdaDi9N8aiIAc2ogQCAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciD2ogQSAOaiACQR53IhQgAEEedyIAcyANc2ogRiASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzIEIgOHMgRHMgTHNBAXciFSAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEcgFGogEiAPcyANc2ogAEEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEggDmogAkEedyIUIABBHnciAHMgDXNqIEMgOXMgRXMgFXNBAXciGSASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzID8gQ3MgTHMgS3NBAXciGiAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEQgOnMgRnMgGXNBAXciGyAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDyBOajYCkIkBQQAgTyBKIERzIBVzIBpzQQF3IhQgEmogAEEedyIAIA5zIAJzaiANQQV3akHWg4vTfGoiEkEedyIVajYCjIkBQQAgCSBFIDtzIEdzIBtzQQF3IA5qIAJBHnciAiAAcyANc2ogEkEFd2pB1oOL03xqIg1BHndqNgKIiQFBACBQIEAgSnMgS3MgSXNBAXcgAGogDyACcyASc2ogDUEFd2pB1oOL03xqIgBqNgKEiQFBACBNIEwgRXMgGXMgFHNBAXdqIAJqIBUgD3MgDXNqIABBBXdqQdaDi9N8ajYCgIkBCzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqAMBCH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQBBACgCmIkBIAQgA0lqIAFBHXZqNgKYiQECQCADQQN2QT9xIgUgAWpBwABJDQBBwAAgBWsiAkEDcSEGQQAhAwJAIAVBP3NBA0kNACAFQYCJAWohByACQfwAcSEIQQAhAwNAIAcgA2oiBEEcaiAAIANqIgktAAA6AAAgBEEdaiAJQQFqLQAAOgAAIARBHmogCUECai0AADoAACAEQR9qIAlBA2otAAA6AAAgCCADQQRqIgNHDQALCwJAIAZFDQAgACADaiEEIAMgBWpBnIkBaiEDA0AgAyAELQAAOgAAIARBAWohBCADQQFqIQMgBkF/aiIGDQALC0GciQEQASAFQf8AcyEDQQAhBSADIAFPDQADQCAAIAJqEAEgAkH/AGohAyACQcAAaiIEIQIgAyABSQ0ACyAEIQILAkAgASACRg0AIAEgAmshCSAAIAJqIQIgBUGciQFqIQNBACEEA0AgAyACLQAAOgAAIAJBAWohAiADQQFqIQMgCSAEQQFqIgRB/wFxSw0ACwsLCQBBgAkgABADC6YDAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAggAEEAKAKUiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAwgAEEHakEBEAMCQEEAKAKUiQFB+ANxQcADRg0AA0AgAEEAOgAHIABBB2pBARADQQAoApSJAUH4A3FBwANHDQALCyAAQQhqQQgQA0EAQQAoAoCJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AoQJQQBBACgCiIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKICUEAQQAoAoyJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2ApAJIABBEGokAAsGAEGAiQELQwBBAEL+uevF6Y6VmRA3AoiJAUEAQoHGlLqW8ermbzcCgIkBQQBC8MPLngw3ApCJAUEAQQA2ApiJAUGACSAAEAMQBQsLCwEAQYAICwRcAAAA",nq="6b530c24",iq={name:tq,data:rq,hash:nq};const oq=new ar;let zh=null;function j1(t){if(zh===null)return eq(oq,iq,20).then(e=>(zh=e,zh.calculate(t)));try{const e=zh.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar;const z1=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=new Image;i.src=n.result,i.onload=async()=>{e({id:await j1(i.src),width:i.width,height:i.height,thumbnailUrl:i.src,originalUrl:i.src})},i.onerror=()=>r},n.onerror=()=>{r(n.error)},n.readAsDataURL(t)}),sq=t=>new Promise((e,r)=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}const o=document.createElement("video");o.src=URL.createObjectURL(t),o.autoplay=!0,o.onloadedmetadata=()=>{n.width=o.videoWidth,n.height=o.videoHeight},o.onloadeddata=()=>{i.drawImage(o,0,0,n.width,n.height),n.toBlob(async s=>{if(!s){r(new Error("Could not create blob"));return}const a=new File([s],"snapshot.jpg",{type:"image/jpeg"}),l=new FileReader;l.readAsDataURL(s),l.onloadend=async()=>{e({id:await j1(o.src),width:n.width,height:n.height,duration:o.duration,thumbnailUrl:l.result,originalUrl:"",thumbnailFile:{id:await j1(n.toDataURL()),file:a}})}},"image/jpeg")},o.onerror=()=>r}),$h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSElEQVR4nO1azW9bRRBfia8jggKlfPSAACFF4f8AKkQ/0lYFxAFw6lnHeMYNCRdmbJqkEtAol6KKK4iqd+DAAYFEKyq+BEJUcKINLVAqoCQF0jageXYav33P4a3f87Mj/JNWSuzd2R3v7MxvdtaYAQYYYIAB/qew43wHVOVJIJkFlPct8Ukg+dWS/KMNSH4HlG+A5D2LfLBEsqtQ2b/JrCdYO73BEpNF/sQSL68ol7QByhWL8pElea4wceBG068Yxf13WuRDFuVPXyXXaH9YkrlyeWqj6Rcw8/UWWYD4YoaKhhvyBSCeLBQOX9dTZS3Wh4H4y/aL5ctAfMyiTBWrvA0q9aHi5MxNunBt+nfwWZW3aR8gOR6YdHvFT1ji+3uibIlkFyAvtFnYKYsyoWbuK3fseb5LdxNQTrc3c95i8gQgl+McEhD/bKtcUDPP5KhUeK9FORdnOfqdyQMWuRLrXUneROSbM5/PTm8AkrdilF4uoTxtugmo8o7oGeMlS/xM961KRhtzhXe6RPxYNx3UReeXXixVaw+ZnADID+ucjr/4rTxevy/TicbG5m6IemNeylPZFRSrtUfcnQbkz5j52swmAZJazBnquhm3Q+DMogytmonwcpk3R0wZ+Q3TYwDyETdcwT6+PQPB8roberrhjX1RIL4FiH9xdvnlVEL3Vvm2CDeucsH0CYrI4JzlBWVvHQu0KBMug8qCVGTqTB1GBiTFjgVaks/DCstE4rFY2wrEP1rieYu17Qn6b7fEZ7SpJ046j9JQR+HjphMUK3yPG+R9uLFF+SlEBZH3tO/Le4I+q2fxh8TrpJfuDpMhXh4bm7o16firsBV5ynFWx4wHwgpfVXp3tB/vblW22XfeZy4g+bh1fIlqIz7jAwDKYcecp4wHdFJXEUC5pFlWOOOSS9Ef5r+PQCssyozjaw76jA9gUT4IC6ltNZ6ACu+MUwhIHm/y8sh3JeQnvOep8g4nJr/tK8MAyfeh3anUh7yFNE3WVUz/j/sszuSTzVEfdsLTtx0IkVD8TUM24k23val3QkKc43fOW4h1Evy08bdhdm56t2riaeOx42D/8hIwMnL0GndhqRWOPc9N867wzp4qrHDvq9KZdG1kLZPu1Flla9LIp9ar07Ik33kLAeIPexGWtDSTNiwB8jud7Mwh51xM+40PuHEuxAOID4TXKrM+4wPojWAaUm5Rzqaglmf85tIL+tbj14ETLJd5s7M7V/SSPPEigsyns+TBR+HgRsZJHjSPTzo+BIvylWPWkyYhtDqwku75poc+lQWL8kIaSwwBUMadXT7dbxcAQb7dska9BelYYLk8tRFQ/g6dr7xKHAkAyCXHOy9opSKdUJLXHJM5r4He9EPhPVJ34ldSCy6r83ISCa31mB4DiI+GeQJfyOSaVmGRX4zhwKOmR7AktmsX8S23g1875rOktR6TM9SDR2gpyaeZvw6ASn0opgC+mKfSjVAXLqY1XgLxvV2ZsNSggtFyaQ6eW804loYSP5prKLCrIeFIN7y3XrlGHFSTUQHKsyavJw8Q8/hEaz0a+PXMZ+M3uKRhMEbZy7kpu4JGetfmUQvxvNJQvSQ3ntAxDboYZlCtZ7brZtwOJeIHgPiLeKUbCUdwSY4yE+SsWB/WmxOlp9r07+I+fjD48TTFQz6x1rMl9cZdc1BJoeFAnwlq4G+30Azaoj5+6yceb4KnhyRzkTcYKZoeGUB5NTMG1bVCtTo1p96TvPGypngahvqh8O6dbQWxm2TWkrzbfD58XjOwoAUemE/qd9pH+3acvA8wwAADDGDWP/4FAPVu0JK6ZhcAAAAASUVORK5CYII=",aq={key:0,class:"mb-3 flex gap-2 rounded-lg bg-gray-200 p-2 dark:bg-zinc-600"},lq={class:"flex flex-col gap-1"},cq={class:"text-sm font-bold text-gray-600"},uq={class:"multiline-ellipsis text-xs text-gray-500 dark:text-gray-300"},dq={class:"ml-auto flex flex-shrink-0 gap-2"},fq={key:0},hq={key:1},pq={src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"h-[2.8rem] w-[2.8rem] border-0 object-contain"},mq={key:2,class:"h-10 w-10 rounded object-cover"},gq=wi(u.defineComponent({__name:"ReplyMessagePreview",setup(t){const e=Ft(),r=u.computed(()=>{var f;const{replyId:d}=e.state.imkit;return(f=e.state.imkit.messageMultiList.main)==null?void 0:f.map.get(d)}),n=u.computed(()=>{const d=r.value;if(d)return e.state.imkit.users[d.senderId]}),i=u.computed(()=>{if(r.value.type===Xe.Text)return r.value.text;if(r.value.type===Xe.Image||r.value.type===Xe.Sticker||r.value.type===Xe.Video){const{t:d}=_i();return{[Xe.Image]:d("image"),[Xe.Video]:d("video"),[Xe.Sticker]:d("sticker")}[r.value.type]}return""}),o=u.computed(()=>{if(r.value.type===Xe.Image)return r.value.images[0]}),s=u.computed(()=>r.value),a=u.computed(()=>r.value),l=()=>{e.commit("imkit/setState",{replyId:""})};return(d,f)=>{var h,p,m;const c=u.resolveDirective("src");return r.value?(u.openBlock(),u.createElementBlock("div",aq,[u.createVNode(Wn,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg bg-gray-300 text-sm",url:((h=n.value)==null?void 0:h.avatarUrl)??"",name:((p=n.value)==null?void 0:p.nickname)??""},null,8,["url","name"]),u.createElementVNode("div",lq,[u.createElementVNode("div",cq,u.toDisplayString((m=n.value)==null?void 0:m.nickname),1),u.createElementVNode("div",uq,u.toDisplayString(i.value),1)]),u.createElementVNode("div",dq,[r.value.type===u.unref(Xe).Sticker?(u.openBlock(),u.createElementBlock("div",fq,[u.createVNode(d_,{class:u.normalizeClass({"h-[2.8rem] w-[2.8rem] ":!0}),message:s.value},null,8,["message"])])):u.createCommentVNode("",!0),r.value.type===u.unref(Xe).Video?(u.openBlock(),u.createElementBlock("div",hq,[u.withDirectives(u.createElementVNode("img",pq,null,512),[[c,a.value.video.thumbnailUrl]])])):u.createCommentVNode("",!0),o.value?u.withDirectives((u.openBlock(),u.createElementBlock("img",mq,null,512)),[[c,o.value.thumbnailUrl]]):u.createCommentVNode("",!0),u.createElementVNode("img",{src:$h,class:"h-5 w-5 cursor-pointer text-gray-400",onClick:l})])])):u.createCommentVNode("",!0)}}}),[["__scopeId","data-v-92935fcf"]]),yq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXElEQVR4nO2Zv2sUQRTHH4qKhYWFiljYSqLVFbl9M3aiQbAzWFgGrA0Wlrvz7oKKRLAMWomN9w8o2AdLG7EJgj8awUKy995GRFcWklxiSLxzf8zMMh/49vtlZt/37XcBAoFAIBAIBAL7oyidVsRGGXnUpfQCtBF8kB9TSTaviFcUSb4lwxLF6XloC2gkQuKnSJzuMLpNSPwQfEYvrp1A4gUkfreXyb9OOQHviPMDupddQuJnxTUdy+iW0mnwhW6fz2iSu2j4w2QmN8Ur4DpTcX5YGb6GJAMk/vl/RjeUZPPgKlG8fg4N31ckX0uZHA2rtJje4BLdpfyoNjKHhl8rw7+rMDoaVvIEXEETd5BkWRleq9TkdvW5a9fkve/HNfEtNPK2NpOjYfXewziRMu/vgmdxImVO90exnPgVJ1TmdGXgVZyokorM8EotRjGRG7u+TiwLiT8Wc6N6szS8attcox8KiuSOdXO7xL+inpytxfDF/vC0Mrxq3+QOvYK6p7LeXAvtm82LZ4GmV0UkzqwYNvJt9nF+BJpmZjE9VSwciuRzw+/vEthkqvHr7lCroWu/7o62GjN1XXeXW42qr7uTrcZ+IMmb1rQa44CJ3PS61ZiUznJ+SBn54lerUZJi4fei1aiKKE5PouF1J1uNulDEzyc6XcMvwGc0cWciw73sMvgOjhlRaPjT3CA/CL6DY0YUksTQBjpjRVSNrYaLEYVGXkKbiP4RURHxdWgbaq+IstVq2Isoy61G8xHlUKtRf0Q52mpU/GNu1UoFa4uNsv+27g1nrT1EIBAIBAJghT+Mm9s2KhDbfwAAAABJRU5ErkJggg==",zS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR4nO1Zu24TQRRdAaGg5FHx+AsQfIgFgj5NZOeeSQGi2Y7QWiQKiCaW0iFCAaHhD1JEAoUPIKQiMRKR7Jld4wy66weOsbUzuzO7RvKRrmTJo/U5O/feOXMdBHPMMUdu6ErlfHt5+Z4ieiqBt5LoqyT6KYE4id7nff6O17SAuzoMzwVloy3ETUn0XBEdKkBbxncJrLaq1RuFEz+pVq8p4JUkijIQPxOy94yNEyGuFkI+Ah5KomZe4hPiOAIeeCOuFxcXFPDaA3F9Johe8m+5Jn9JAh+9k8cwrXb4N12RXyiSvPobn3QYXswtoJC0wdTYyEW+TfSoRPKaIxLifibyv5aWriiio7IFSKJmphbLfb5s8moQROtW5Pl0tDqkhNBxvW5MKFkrhM0uRO1a7ZaxgMQeWJD/vburdberO1tb6eQ3N5O13b09rVZWzEUAq0bk2WSxT7EiP0CKiAH54fI9CxFEh2waUwUkrtIiFUYJDUTEjca/axuNyWvrFqkH3EkVwHbXpsDG3+qknZi2JjZIubFdeGKS/9tWD00R4Yw8kjp4ky4A2Ld98FQRp6e9cEBe9brRF5MdyGyVJ4pwRF71UujIRECuS0oiYvyt93cjF3kkKaRKFdApSEDTZwp1vKcQ/Bdxx3MRbzsh3y9Yk3NCuWyjrg6y0YJ1KOJxqgAeOs2slajVbpuZOaKDrGYu9mXmgG/G0zy2rlnsdOzTThM9MyI/kxcaQLWA64ENeCJgWWD+guhFYAsNXJ6FS70CjjPPTXlWWbaASIhKkAc8qyxRwFqQF3wPlcC7oslL4IMOwwu5BQyHu0Q7hZEneu9suDs2Xi+iM605e/OTwLNKT93pR+6CtZybrvMB4yDXFfd5bttB0eDTMbEdpt5pNIgO2B5Yn7A+wCaLh048t2HPzhcPvtmxHelHUwKf+Tu2xOwqZ+Jv1jnmCP5//AFGuxmMzLZJIgAAAABJRU5ErkJggg==";function Qu(t,e,r){var n=r||{},i=n.noTrailing,o=i===void 0?!1:i,s=n.noLeading,a=s===void 0?!1:s,l=n.debounceMode,d=l===void 0?void 0:l,f,c=!1,h=0;function p(){f&&clearTimeout(f)}function m(b){var v=b||{},x=v.upcomingOnly,S=x===void 0?!1:x;p(),c=!S}function y(){for(var b=arguments.length,v=new Array(b),x=0;x<b;x++)v[x]=arguments[x];var S=this,I=Date.now()-h;if(c)return;function M(){h=Date.now(),e.apply(S,v)}function E(){f=void 0}!a&&d&&!f&&M(),p(),d===void 0&&I>t?a?(h=Date.now(),o||(f=setTimeout(d?E:M,t))):M():o!==!0&&(f=setTimeout(d?E:M,d===void 0?t-I:t))}return y.cancel=m,y}function $1(t,e,r){var n=r||{},i=n.atBegin,o=i===void 0?!1:i;return Qu(t,e,{debounceMode:o!==!1})}function $S(t,e){return function(){return t.apply(e,arguments)}}const{toString:bq}=Object.prototype,{getPrototypeOf:V1}=Object,Vh=(t=>e=>{const r=bq.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),no=t=>(t=t.toLowerCase(),e=>Vh(e)===t),Hh=t=>e=>typeof e===t,{isArray:Xl}=Array,Yu=Hh("undefined");function vq(t){return t!==null&&!Yu(t)&&t.constructor!==null&&!Yu(t.constructor)&&oi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const VS=no("ArrayBuffer");function _q(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&VS(t.buffer),e}const wq=Hh("string"),oi=Hh("function"),HS=Hh("number"),qh=t=>t!==null&&typeof t=="object",Aq=t=>t===!0||t===!1,Wh=t=>{if(Vh(t)!=="object")return!1;const e=V1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xq=no("Date"),Tq=no("File"),Eq=no("Blob"),Cq=no("FileList"),Sq=t=>qh(t)&&oi(t.pipe),kq=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||oi(t.append)&&((e=Vh(t))==="formdata"||e==="object"&&oi(t.toString)&&t.toString()==="[object FormData]"))},Iq=no("URLSearchParams"),Dq=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ku(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Xl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function qS(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const WS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GS=t=>!Yu(t)&&t!==WS;function H1(){const{caseless:t}=GS(this)&&this||{},e={},r=(n,i)=>{const o=t&&qS(e,i)||i;Wh(e[o])&&Wh(n)?e[o]=H1(e[o],n):Wh(n)?e[o]=H1({},n):Xl(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ku(arguments[n],r);return e}const Mq=(t,e,r,{allOwnKeys:n}={})=>(Ku(e,(i,o)=>{r&&oi(i)?t[o]=$S(i,r):t[o]=i},{allOwnKeys:n}),t),Nq=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Oq=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Lq=(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&V1(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Bq=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Rq=t=>{if(!t)return null;if(Xl(t))return t;let e=t.length;if(!HS(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Pq=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&V1(Uint8Array)),Fq=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Uq=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},jq=no("HTMLFormElement"),zq=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),QS=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),$q=no("RegExp"),YS=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ku(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Vq=t=>{YS(t,(e,r)=>{if(oi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(oi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Hq=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Xl(t)?n(t):n(String(t).split(e)),r},qq=()=>{},Wq=(t,e)=>(t=+t,Number.isFinite(t)?t:e),q1="abcdefghijklmnopqrstuvwxyz",KS="0123456789",XS={DIGIT:KS,ALPHA:q1,ALPHA_DIGIT:q1+q1.toUpperCase()+KS},Gq=(t=16,e=XS.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Qq(t){return!!(t&&oi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Yq=t=>{const e=new Array(10),r=(n,i)=>{if(qh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Xl(n)?[]:{};return Ku(n,(s,a)=>{const l=r(s,i+1);!Yu(l)&&(o[a]=l)}),e[i]=void 0,o}}return n};return r(t,0)},Kq=no("AsyncFunction"),Se={isArray:Xl,isArrayBuffer:VS,isBuffer:vq,isFormData:kq,isArrayBufferView:_q,isString:wq,isNumber:HS,isBoolean:Aq,isObject:qh,isPlainObject:Wh,isUndefined:Yu,isDate:xq,isFile:Tq,isBlob:Eq,isRegExp:$q,isFunction:oi,isStream:Sq,isURLSearchParams:Iq,isTypedArray:Pq,isFileList:Cq,forEach:Ku,merge:H1,extend:Mq,trim:Dq,stripBOM:Nq,inherits:Oq,toFlatObject:Lq,kindOf:Vh,kindOfTest:no,endsWith:Bq,toArray:Rq,forEachEntry:Fq,matchAll:Uq,isHTMLForm:jq,hasOwnProperty:QS,hasOwnProp:QS,reduceDescriptors:YS,freezeMethods:Vq,toObjectSet:Hq,toCamelCase:zq,noop:qq,toFiniteNumber:Wq,findKey:qS,global:WS,isContextDefined:GS,ALPHABET:XS,generateString:Gq,isSpecCompliantForm:Qq,toJSONObject:Yq,isAsyncFn:Kq,isThenable:t=>t&&(qh(t)||oi(t))&&oi(t.then)&&oi(t.catch)};function Ct(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Se.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const JS=Ct.prototype,ZS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZS[t]={value:t}}),Object.defineProperties(Ct,ZS),Object.defineProperty(JS,"isAxiosError",{value:!0}),Ct.from=(t,e,r,n,i,o)=>{const s=Object.create(JS);return Se.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ct.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Xq=null;function W1(t){return Se.isPlainObject(t)||Se.isArray(t)}function ek(t){return Se.endsWith(t,"[]")?t.slice(0,-2):t}function tk(t,e,r){return t?t.concat(e).map(function(i,o){return i=ek(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function Jq(t){return Se.isArray(t)&&!t.some(W1)}const Zq=Se.toFlatObject(Se,{},null,function(e){return/^is[A-Z]/.test(e)});function Gh(t,e,r){if(!Se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Se.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||f,o=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(e);if(!Se.isFunction(i))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(Se.isDate(m))return m.toISOString();if(!l&&Se.isBlob(m))throw new Ct("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(m)||Se.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,y,b){let v=m;if(m&&!b&&typeof m=="object"){if(Se.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(Se.isArray(m)&&Jq(m)||(Se.isFileList(m)||Se.endsWith(y,"[]"))&&(v=Se.toArray(m)))return y=ek(y),v.forEach(function(S,I){!(Se.isUndefined(S)||S===null)&&e.append(s===!0?tk([y],I,o):s===null?y:y+"[]",d(S))}),!1}return W1(m)?!0:(e.append(tk(b,y,o),d(m)),!1)}const c=[],h=Object.assign(Zq,{defaultVisitor:f,convertValue:d,isVisitable:W1});function p(m,y){if(!Se.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));c.push(m),Se.forEach(m,function(v,x){(!(Se.isUndefined(v)||v===null)&&i.call(e,v,Se.isString(x)?x.trim():x,y,h))===!0&&p(v,y?y.concat(x):[x])}),c.pop()}}if(!Se.isObject(t))throw new TypeError("data must be an object");return p(t),e}function rk(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function G1(t,e){this._pairs=[],t&&Gh(t,this,e)}const nk=G1.prototype;nk.append=function(e,r){this._pairs.push([e,r])},nk.toString=function(e){const r=e?function(n){return e.call(this,n,rk)}:rk;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function eW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ik(t,e,r){if(!e)return t;const n=r&&r.encode||eW,i=r&&r.serialize;let o;if(i?o=i(e,r):o=Se.isURLSearchParams(e)?e.toString():new G1(e,r).toString(n),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ok{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Se.forEach(this.handlers,function(n){n!==null&&e(n)})}}const sk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tW={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:G1,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},ak=typeof window<"u"&&typeof document<"u",rW=(t=>ak&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",io={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ak,hasStandardBrowserEnv:rW,hasStandardBrowserWebWorkerEnv:nW},Symbol.toStringTag,{value:"Module"})),...tW};function iW(t,e){return Gh(t,new io.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return io.isNode&&Se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function oW(t){return Se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sW(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function lk(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=r.length;return s=!s&&Se.isArray(i)?i.length:s,l?(Se.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!Se.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&Se.isArray(i[s])&&(i[s]=sW(i[s])),!a)}if(Se.isFormData(t)&&Se.isFunction(t.entries)){const r={};return Se.forEachEntry(t,(n,i)=>{e(oW(n),i,r,0)}),r}return null}function aW(t,e,r){if(Se.isString(t))try{return(e||JSON.parse)(t),Se.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Xu={transitional:sk,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=Se.isObject(e);if(o&&Se.isHTMLForm(e)&&(e=new FormData(e)),Se.isFormData(e))return i?JSON.stringify(lk(e)):e;if(Se.isArrayBuffer(e)||Se.isBuffer(e)||Se.isStream(e)||Se.isFile(e)||Se.isBlob(e))return e;if(Se.isArrayBufferView(e))return e.buffer;if(Se.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return iW(e,this.formSerializer).toString();if((a=Se.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),aW(e)):e}],transformResponse:[function(e){const r=this.transitional||Xu.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Se.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ct.from(a,Ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:io.classes.FormData,Blob:io.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],t=>{Xu.headers[t]={}});const lW=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cW=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&lW[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},ck=Symbol("internals");function Ju(t){return t&&String(t).trim().toLowerCase()}function Qh(t){return t===!1||t==null?t:Se.isArray(t)?t.map(Qh):String(t)}function uW(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const dW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Q1(t,e,r,n,i){if(Se.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Se.isString(e)){if(Se.isString(n))return e.indexOf(n)!==-1;if(Se.isRegExp(n))return n.test(e)}}function fW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function hW(t,e){const r=Se.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}let si=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(a,l,d){const f=Ju(l);if(!f)throw new Error("header name must be a non-empty string");const c=Se.findKey(i,f);(!c||i[c]===void 0||d===!0||d===void 0&&i[c]!==!1)&&(i[c||l]=Qh(a))}const s=(a,l)=>Se.forEach(a,(d,f)=>o(d,f,l));return Se.isPlainObject(e)||e instanceof this.constructor?s(e,r):Se.isString(e)&&(e=e.trim())&&!dW(e)?s(cW(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=Ju(e),e){const n=Se.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return uW(i);if(Se.isFunction(r))return r.call(this,i,n);if(Se.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ju(e),e){const n=Se.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Q1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(s){if(s=Ju(s),s){const a=Se.findKey(n,s);a&&(!r||Q1(n,n[a],a,r))&&(delete n[a],i=!0)}}return Se.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||Q1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return Se.forEach(this,(i,o)=>{const s=Se.findKey(n,o);if(s){r[s]=Qh(i),delete r[o];return}const a=e?fW(o):String(o).trim();a!==o&&delete r[o],r[a]=Qh(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Se.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[ck]=this[ck]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Ju(s);n[a]||(hW(i,s),n[a]=!0)}return Se.isArray(e)?e.forEach(o):o(e),this}};si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Se.reduceDescriptors(si.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),Se.freezeMethods(si);function Y1(t,e){const r=this||Xu,n=e||r,i=si.from(n.headers);let o=n.data;return Se.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function uk(t){return!!(t&&t.__CANCEL__)}function Zu(t,e,r){Ct.call(this,t??"canceled",Ct.ERR_CANCELED,e,r),this.name="CanceledError"}Se.inherits(Zu,Ct,{__CANCEL__:!0});function pW(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ct("Request failed with status code "+r.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const mW=io.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];Se.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Se.isString(n)&&s.push("path="+n),Se.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function dk(t,e){return t&&!gW(e)?yW(t,e):e}const bW=io.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const a=Se.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function vW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _W(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=n[o];s||(s=d),r[i]=l,n[i]=d;let c=o,h=0;for(;c!==i;)h+=r[c++],c=c%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-s<e)return;const p=f&&d-f;return p?Math.round(h*1e3/p):void 0}}function fk(t,e){let r=0;const n=_W(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,l=n(a),d=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&d?(s-o)/l:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}const K1={http:Xq,xhr:typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){let i=t.data;const o=si.from(t.headers).normalize();let{responseType:s,withXSRFToken:a}=t,l;function d(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let f;if(Se.isFormData(i)){if(io.hasStandardBrowserEnv||io.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[y,...b]=f?f.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([y||"multipart/form-data",...b].join("; "))}}let c=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(y+":"+b))}const h=dk(t.baseURL,t.url);c.open(t.method.toUpperCase(),ik(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function p(){if(!c)return;const y=si.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:y,config:t,request:c};pW(function(S){r(S),d()},function(S){n(S),d()},v),c=null}if("onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(p)},c.onabort=function(){c&&(n(new Ct("Request aborted",Ct.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new Ct("Network Error",Ct.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||sk;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),n(new Ct(b,v.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,t,c)),c=null},io.hasStandardBrowserEnv&&(a&&Se.isFunction(a)&&(a=a(t)),a||a!==!1&&bW(h))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&mW.read(t.xsrfCookieName);y&&o.set(t.xsrfHeaderName,y)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&Se.forEach(o.toJSON(),function(b,v){c.setRequestHeader(v,b)}),Se.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",fk(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",fk(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=y=>{c&&(n(!y||y.type?new Zu(null,t,c):y),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const m=vW(h);if(m&&io.protocols.indexOf(m)===-1){n(new Ct("Unsupported protocol "+m+":",Ct.ERR_BAD_REQUEST,t));return}c.send(i||null)})}};Se.forEach(K1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hk=t=>`- ${t}`,wW=t=>Se.isFunction(t)||t===null||t===!1,pk={getAdapter:t=>{t=Se.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!wW(r)&&(n=K1[(s=String(r)).toLowerCase()],n===void 0))throw new Ct(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(hk).join(`
`):" "+hk(o[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:K1};function X1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zu(null,t)}function mk(t){return X1(t),t.headers=si.from(t.headers),t.data=Y1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pk.getAdapter(t.adapter||Xu.adapter)(t).then(function(n){return X1(t),n.data=Y1.call(t,t.transformResponse,n),n.headers=si.from(n.headers),n},function(n){return uk(n)||(X1(t),n&&n.response&&(n.response.data=Y1.call(t,t.transformResponse,n.response),n.response.headers=si.from(n.response.headers))),Promise.reject(n)})}const gk=t=>t instanceof si?{...t}:t;function Jl(t,e){e=e||{};const r={};function n(d,f,c){return Se.isPlainObject(d)&&Se.isPlainObject(f)?Se.merge.call({caseless:c},d,f):Se.isPlainObject(f)?Se.merge({},f):Se.isArray(f)?f.slice():f}function i(d,f,c){if(Se.isUndefined(f)){if(!Se.isUndefined(d))return n(void 0,d,c)}else return n(d,f,c)}function o(d,f){if(!Se.isUndefined(f))return n(void 0,f)}function s(d,f){if(Se.isUndefined(f)){if(!Se.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function a(d,f,c){if(c in e)return n(d,f);if(c in t)return n(void 0,d)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,f)=>i(gk(d),gk(f),!0)};return Se.forEach(Object.keys(Object.assign({},t,e)),function(f){const c=l[f]||i,h=c(t[f],e[f],f);Se.isUndefined(h)&&c!==a||(r[f]=h)}),r}const yk="1.6.8",J1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{J1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const bk={};J1.transitional=function(e,r,n){function i(o,s){return"[Axios v"+yk+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new Ct(i(s," has been removed"+(r?" in "+r:"")),Ct.ERR_DEPRECATED);return r&&!bk[s]&&(bk[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function AW(t,e,r){if(typeof t!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ct("option "+o+" must be "+l,Ct.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ct("Unknown option "+o,Ct.ERR_BAD_OPTION)}}const Z1={assertOptions:AW,validators:J1},ps=Z1.validators;let oa=class{constructor(e){this.defaults=e,this.interceptors={request:new ok,response:new ok}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Jl(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&Z1.assertOptions(n,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),i!=null&&(Se.isFunction(i)?r.paramsSerializer={serialize:i}:Z1.assertOptions(i,{encode:ps.function,serialize:ps.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&Se.merge(o.common,o[r.method]);o&&Se.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=si.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,c=0,h;if(!l){const m=[mk.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,d),h=m.length,f=Promise.resolve(r);c<h;)f=f.then(m[c++],m[c++]);return f}h=a.length;let p=r;for(c=0;c<h;){const m=a[c++],y=a[c++];try{p=m(p)}catch(b){y.call(this,b);break}}try{f=mk.call(this,p)}catch(m){return Promise.reject(m)}for(c=0,h=d.length;c<h;)f=f.then(d[c++],d[c++]);return f}getUri(e){e=Jl(this.defaults,e);const r=dk(e.baseURL,e.url);return ik(r,e.params,e.paramsSerializer)}};Se.forEach(["delete","get","head","options"],function(e){oa.prototype[e]=function(r,n){return this.request(Jl(n||{},{method:e,url:r,data:(n||{}).data}))}}),Se.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(Jl(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}oa.prototype[e]=r(),oa.prototype[e+"Form"]=r(!0)});let xW=class qD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Zu(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new qD(function(i){e=i}),cancel:e}}};function TW(t){return function(r){return t.apply(null,r)}}function EW(t){return Se.isObject(t)&&t.isAxiosError===!0}const ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ey).forEach(([t,e])=>{ey[e]=t});function vk(t){const e=new oa(t),r=$S(oa.prototype.request,e);return Se.extend(r,oa.prototype,e,{allOwnKeys:!0}),Se.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return vk(Jl(t,i))},r}const Xt=vk(Xu);Xt.Axios=oa,Xt.CanceledError=Zu,Xt.CancelToken=xW,Xt.isCancel=uk,Xt.VERSION=yk,Xt.toFormData=Gh,Xt.AxiosError=Ct,Xt.Cancel=Xt.CanceledError,Xt.all=function(e){return Promise.all(e)},Xt.spread=TW,Xt.isAxiosError=EW,Xt.mergeConfig=Jl,Xt.AxiosHeaders=si,Xt.formToJSON=t=>lk(Se.isHTMLForm(t)?new FormData(t):t),Xt.getAdapter=pk.getAdapter,Xt.HttpStatusCode=ey,Xt.default=Xt;const{Axios:kde,AxiosError:Ide,CanceledError:Dde,isCancel:Mde,CancelToken:Nde,VERSION:Ode,all:Lde,Cancel:Bde,isAxiosError:Rde,spread:Pde,toFormData:Fde,AxiosHeaders:_k,HttpStatusCode:Ude,formToJSON:jde,getAdapter:zde,mergeConfig:$de}=Xt,ty=t=>(u.pushScopeId("data-v-6a7605c3"),t=t(),u.popScopeId(),t),CW={class:"relative flex justify-center"},SW=[ty(()=>u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1))],kW={key:0,class:"absolute bottom-2 flex items-center gap-1 rounded-full bg-white bg-opacity-85 p-2 text-xs shadow-lg transition duration-150 ease-in-out dark:bg-zinc-800"},IW=ty(()=>u.createElementVNode("img",{class:"h-4 w-4",src:zS},null,-1)),DW=["disabled"],MW={key:0,class:"h-10.5 flex w-full items-center justify-center"},NW=[ty(()=>u.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-300 text-gray-200",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],OW={class:"text-base font-semibold"},LW={class:"text-xs"},BW=wi(u.defineComponent({__name:"LocationModal",setup(t){class e{constructor(I,M,E=null){Pe(this,"lat");Pe(this,"lng");Pe(this,"address");this.lat=I,this.lng=M,this.address=E}get isValid(){return this.address!==null}}const r=hn(),{t:n}=_i(),i=Ft(),o=i.state.imkit.config.mapApiKey,s=u.ref(),a=u.ref(new e(21.30895,-157.826182)),l=u.ref({lat:a.value.lat,lng:a.value.lng}),d=u.computed(()=>({position:{lat:a.value.lat,lng:a.value.lng}})),f=u.ref(""),c=u.ref(!1),h=u.ref(10),p=u.ref(!1),m=u.ref(""),y=()=>new Promise((S,I)=>{c.value=!0,navigator.geolocation.getCurrentPosition(M=>{let{latitude:E,longitude:L}=M.coords;m.value="",c.value=!1,S({lat:E,lng:L})},M=>{switch(c.value=!1,M.code){case M.PERMISSION_DENIED:m.value=n("noAccessLocationPermission");break;case M.POSITION_UNAVAILABLE:m.value=n("locationInfoUnavailable");break;case M.TIMEOUT:m.value=n("requestLocationTimeout");break}I(M)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),b=async(S,I)=>{try{const{data:M}=await Xt.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${S},${I}&key=${o}`);if(M.error_message)throw new Error(M.error_message);return M.results[0].formatted_address}catch(M){throw m.value=n("addressUnavailable"),M}},v=Qu(700,async S=>{var I,M;try{if(S===0){const D=(I=s.value)==null?void 0:I.map.getCenter();if(D){const{lat:C,lng:R}=D;a.value=new e(C(),R())}}else if(S===1){const{lat:D,lng:C}=await y();a.value=new e(D,C),h.value=17,(M=s.value)==null||M.map.panTo({lat:D,lng:C})}let{lat:E,lng:L}=a.value;L=((L+180)%360+360)%360-180,E=Math.max(Math.min(E,90),-90),f.value=await b(E,L),a.value=new e(E,L,f.value)}catch(E){console.error(E)}},{noLeading:!1,noTrailing:!1}),x=async()=>{p.value=!0;const S={roomId:i.state.imkit.selectedRoomId,messageType:"location",message:f.value,latitude:d.value.position.lat,longitude:d.value.position.lng};r.closeAll(),await i.dispatch("imkit/sendMessage",S),p.value=!1};return v(1),(S,I)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"flex flex-col bg-white dark:bg-zinc-800 rounded-lg overflow-hidden sm:w-[450px] w-[350px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",CW,[u.createVNode(u.unref(dE),{ref_key:"mapRef",ref:s,"api-key":u.unref(o),center:l.value,zoom:h.value,disableDefaultUi:!0,onCenter_changed:I[0]||(I[0]=M=>u.unref(v)(0)),class:"h-[250px] w-[350px] sm:h-[350px] sm:w-[450px]"},{default:u.withCtx(()=>[u.createVNode(u.unref(hE),{options:d.value},null,8,["options"])]),_:1},8,["api-key","center","zoom"]),u.createElementVNode("button",{class:"absolute right-2 top-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:I[1]||(I[1]=M=>u.unref(r).closeAll())},SW),u.createElementVNode("button",{class:"absolute bottom-2 right-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:I[2]||(I[2]=M=>u.unref(v)(1))},[u.createElementVNode("img",{class:u.normalizeClass(["h-5 w-5",{"animate-pulse":c.value}]),src:yq},null,2)]),u.createVNode(u.Transition,null,{default:u.withCtx(()=>[m.value?(u.openBlock(),u.createElementBlock("div",kW,[IW,u.createTextVNode(" "+u.toDisplayString(m.value),1)])):u.createCommentVNode("",!0)]),_:1})]),u.createElementVNode("button",{class:"disabled:( cursor-not-allowed) m-2 flex flex-col items-center gap-0.5 rounded-lg bg-blue-400 p-2 text-white",disabled:c.value||p.value||!a.value.isValid,onClick:x},[p.value?(u.openBlock(),u.createElementBlock("div",MW,NW)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[u.createElementVNode("div",OW,u.toDisplayString(S.$t("sendCurrentLocation")),1),u.createElementVNode("div",LW,u.toDisplayString(f.value),1)],64))],8,DW)]),_:1}))}}),[["__scopeId","data-v-6a7605c3"]]);var wk={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(O,T){if(!O)throw"First parameter is required.";T=T||{type:"video"},T=new r(O,T);var V=this;function K(pe){return T.disableLogs||console.log("RecordRTC version: ",V.version),pe&&(T=new r(O,pe)),T.disableLogs||console.log("started recording "+T.type+" stream."),ce?(ce.clearRecordedData(),ce.record(),ge("recording"),V.recordingDuration&&le(),V):(Y(function(){V.recordingDuration&&le()}),V)}function Y(pe){pe&&(T.initCallback=function(){pe(),pe=T.initCallback=null});var Ee=new n(O,T);ce=new Ee(O,T),ce.record(),ge("recording"),T.disableLogs||console.log("Initialized recorderType:",ce.constructor.name,"for output-type:",T.type)}function Q(pe){if(pe=pe||function(){},!ce){Ie();return}if(V.state==="paused"){V.resumeRecording(),setTimeout(function(){Q(pe)},1);return}V.state!=="recording"&&!T.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',V.state),T.disableLogs||console.log("Stopped recording "+T.type+" stream."),T.type!=="gif"?ce.stop(Ee):(ce.stop(),Ee()),ge("stopped");function Ee(Fe){if(!ce){typeof pe.call=="function"?pe.call(V,""):pe("");return}Object.keys(ce).forEach(function(fe){typeof ce[fe]!="function"&&(V[fe]=ce[fe])});var j=ce.blob;if(!j)if(Fe)ce.blob=j=Fe;else throw"Recording failed.";if(j&&!T.disableLogs&&console.log(j.type,"->",v(j.size)),pe){var q;try{q=f.createObjectURL(j)}catch{}typeof pe.call=="function"?pe.call(V,q):pe(q)}T.autoWriteToDisk&&se(function(fe){var Ae={};Ae[T.type+"Blob"]=fe,z.Store(Ae)})}}function ue(){if(!ce){Ie();return}if(V.state!=="recording"){T.disableLogs||console.warn("Unable to pause the recording. Recording state: ",V.state);return}ge("paused"),ce.pause(),T.disableLogs||console.log("Paused recording.")}function J(){if(!ce){Ie();return}if(V.state!=="paused"){T.disableLogs||console.warn("Unable to resume the recording. Recording state: ",V.state);return}ge("recording"),ce.resume(),T.disableLogs||console.log("Resumed recording.")}function oe(pe){postMessage(new FileReaderSync().readAsDataURL(pe))}function se(pe,Ee){if(!pe)throw"Pass a callback function over getDataURL.";var Fe=Ee?Ee.blob:(ce||{}).blob;if(!Fe){T.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){se(pe,Ee)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var j=fe(oe);j.onmessage=function(Ae){pe(Ae.data)},j.postMessage(Fe)}else{var q=new FileReader;q.readAsDataURL(Fe),q.onload=function(Ae){pe(Ae.target.result)}}function fe(Ae){try{var Me=f.createObjectURL(new Blob([Ae.toString(),"this.onmessage =  function (eee) {"+Ae.name+"(eee.data);}"],{type:"application/javascript"})),Be=new Worker(Me);return f.revokeObjectURL(Me),Be}catch{}}}function le(pe){if(pe=pe||0,V.state==="paused"){setTimeout(function(){le(pe)},1e3);return}if(V.state!=="stopped"){if(pe>=V.recordingDuration){Q(V.onRecordingStopped);return}pe+=1e3,setTimeout(function(){le(pe)},1e3)}}function ge(pe){V&&(V.state=pe,typeof V.onStateChanged.call=="function"?V.onStateChanged.call(V,pe):V.onStateChanged(pe))}var we='It seems that recorder is destroyed or "startRecording" is not invoked for '+T.type+" recorder.";function Ie(){T.disableLogs!==!0&&console.warn(we)}var ce,Ce={startRecording:K,stopRecording:Q,pauseRecording:ue,resumeRecording:J,initRecorder:Y,setRecordingDuration:function(pe,Ee){if(typeof pe>"u")throw"recordingDuration is required.";if(typeof pe!="number")throw"recordingDuration must be a number.";return V.recordingDuration=pe,V.onRecordingStopped=Ee||function(){},{onRecordingStopped:function(Fe){V.onRecordingStopped=Fe}}},clearRecordedData:function(){if(!ce){Ie();return}ce.clearRecordedData(),T.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!ce){Ie();return}return ce.blob},getDataURL:se,toURL:function(){if(!ce){Ie();return}return f.createObjectURL(ce.blob)},getInternalRecorder:function(){return ce},save:function(pe){if(!ce){Ie();return}x(ce.blob,pe)},getFromDisk:function(pe){if(!ce){Ie();return}e.getFromDisk(T.type,pe)},setAdvertisementArray:function(pe){T.advertisement=[];for(var Ee=pe.length,Fe=0;Fe<Ee;Fe++)T.advertisement.push({duration:Fe,image:pe[Fe]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){V.state==="recording"&&!T.disableLogs&&console.warn("Stop an active recorder."),ce&&typeof ce.clearRecordedData=="function"&&ce.clearRecordedData(),ce=null,ge("inactive"),V.blob=null},onStateChanged:function(pe){T.disableLogs||console.log("Recorder state changed:",pe)},state:"inactive",getState:function(){return V.state},destroy:function(){var pe=T.disableLogs;T={disableLogs:!0},V.reset(),ge("destroyed"),Ce=V=null,L.AudioContextConstructor&&(L.AudioContextConstructor.close(),L.AudioContextConstructor=null),T.disableLogs=pe,T.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return V=Ce,Ce;for(var We in Ce)this[We]=Ce[We];return V=this,Ce}e.version="5.6.2",t.exports=e,e.getFromDisk=function(O,T){if(!T)throw"callback is mandatory.";console.log("Getting recorded "+(O==="all"?"blobs":O+" blob ")+" from disk!"),z.Fetch(function(V,K){O!=="all"&&K===O+"Blob"&&T&&T(V),O==="all"&&T&&T(V,K.replace("Blob",""))})},e.writeToDisk=function(O){console.log("Writing recorded blob(s) to disk!"),O=O||{},O.audio&&O.video&&O.gif?O.audio.getDataURL(function(T){O.video.getDataURL(function(V){O.gif.getDataURL(function(K){z.Store({audioBlob:T,videoBlob:V,gifBlob:K})})})}):O.audio&&O.video?O.audio.getDataURL(function(T){O.video.getDataURL(function(V){z.Store({audioBlob:T,videoBlob:V})})}):O.audio&&O.gif?O.audio.getDataURL(function(T){O.gif.getDataURL(function(V){z.Store({audioBlob:T,gifBlob:V})})}):O.video&&O.gif?O.video.getDataURL(function(T){O.gif.getDataURL(function(V){z.Store({videoBlob:T,gifBlob:V})})}):O.audio?O.audio.getDataURL(function(T){z.Store({audioBlob:T})}):O.video?O.video.getDataURL(function(T){z.Store({videoBlob:T})}):O.gif&&O.gif.getDataURL(function(T){z.Store({gifBlob:T})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(O,T){return!T.recorderType&&!T.type&&(T.audio&&T.video?T.type="video":T.audio&&!T.video&&(T.type="audio")),T.recorderType&&!T.type&&(T.recorderType===U||T.recorderType===$||typeof H<"u"&&T.recorderType===H?T.type="video":T.recorderType===W?T.type="gif":T.recorderType===R?T.type="audio":T.recorderType===C&&(I(O,"audio").length&&I(O,"video").length||!I(O,"audio").length&&I(O,"video").length?T.type="video":I(O,"audio").length&&!I(O,"video").length&&(T.type="audio"))),typeof C<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(T.mimeType||(T.mimeType="video/webm"),T.type||(T.type=T.mimeType.split("/")[0]),T.bitsPerSecond),T.type||(T.mimeType&&(T.type=T.mimeType.split("/")[0]),T.type||(T.type="audio")),T}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(O,T){var V;return(m||c||h)&&(V=R),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!m&&(V=C),T.type==="video"&&(m||h)&&(V=U,typeof H<"u"&&typeof ReadableStream<"u"&&(V=H)),T.type==="gif"&&(V=W),T.type==="canvas"&&(V=$),D()&&V!==$&&V!==W&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(I(O,"video").length||I(O,"audio").length)&&(T.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(V=C):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(V=C)),O instanceof Array&&O.length&&(V=P),T.recorderType&&(V=T.recorderType),!T.disableLogs&&V&&V.name&&console.log("Using recorderType:",V.name||V.constructor.name),!V&&y&&(V=C),V}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(O){this.addStream=function(T){T&&(O=T)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var T=this.mediaType,V,K=this.mimeType||{audio:null,video:null,gif:null};if(typeof T.audio!="function"&&D()&&!I(O,"audio").length&&(T.audio=!1),typeof T.video!="function"&&D()&&!I(O,"video").length&&(T.video=!1),typeof T.gif!="function"&&D()&&!I(O,"video").length&&(T.gif=!1),!T.audio&&!T.video&&!T.gif)throw"MediaStream must have either audio or video tracks.";if(T.audio&&(V=null,typeof T.audio=="function"&&(V=T.audio),this.audioRecorder=new e(O,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:V,mimeType:K.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),T.video||this.audioRecorder.startRecording()),T.video){V=null,typeof T.video=="function"&&(V=T.video);var Y=O;if(D()&&T.audio&&typeof T.audio=="function"){var Q=I(O,"video")[0];p?(Y=new b,Y.addTrack(Q),V&&V===U&&(V=C)):(Y=new b,Y.addTrack(Q))}this.videoRecorder=new e(Y,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:V,mimeType:K.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),T.audio||this.videoRecorder.startRecording()}if(T.audio&&T.video){var ue=this,J=D()===!0;(T.audio instanceof R&&T.video||T.audio!==!0&&T.video!==!0&&T.audio!==T.video)&&(J=!1),J===!0?(ue.audioRecorder=null,ue.videoRecorder.startRecording()):ue.videoRecorder.initRecorder(function(){ue.audioRecorder.initRecorder(function(){ue.videoRecorder.startRecording(),ue.audioRecorder.startRecording()})})}T.gif&&(V=null,typeof T.gif=="function"&&(V=T.gif),this.gifRecorder=new e(O,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:V,mimeType:K.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(T){T=T||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(V){T(V,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(V){T(V,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(V){T(V,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(T){var V={};return this.audioRecorder&&(V.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(V.video=this.videoRecorder.getBlob()),this.gifRecorder&&(V.gif=this.gifRecorder.getBlob()),T&&T(V),V},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(T){this.getBlob(function(Y){Y.audio&&Y.video?V(Y.audio,function(Q){V(Y.video,function(ue){T({audio:Q,video:ue})})}):Y.audio?V(Y.audio,function(Q){T({audio:Q})}):Y.video&&V(Y.video,function(Q){T({video:Q})})});function V(Y,Q){if(typeof Worker<"u"){var ue=K(function(se){postMessage(new FileReaderSync().readAsDataURL(se))});ue.onmessage=function(oe){Q(oe.data)},ue.postMessage(Y)}else{var J=new FileReader;J.readAsDataURL(Y),J.onload=function(oe){Q(oe.target.result)}}}function K(Y){var Q=f.createObjectURL(new Blob([Y.toString(),"this.onmessage =  function (eee) {"+Y.name+"(eee.data);}"],{type:"application/javascript"})),ue=new Worker(Q),J;if(typeof f<"u")J=f;else if(typeof webkitURL<"u")J=webkitURL;else throw"Neither URL nor webkitURL detected.";return J.revokeObjectURL(Q),ue}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(T){T=T||{audio:!0,video:!0,gif:!0},T.audio&&this.audioRecorder&&this.audioRecorder.save(typeof T.audio=="string"?T.audio:""),T.video&&this.videoRecorder&&this.videoRecorder.save(typeof T.video=="string"?T.video:""),T.gif&&this.gifRecorder&&this.gifRecorder.save(typeof T.gif=="string"?T.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var o="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(O){O&&(typeof window<"u"||typeof yt>"u"||(yt.navigator={userAgent:o,getUserMedia:function(){}},yt.console||(yt.console={}),(typeof yt.console.log>"u"||typeof yt.console.error>"u")&&(yt.console.error=yt.console.log=yt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(O.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var T={getContext:function(){return T},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return T},O.HTMLVideoElement=function(){}),typeof location>"u"&&(O.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(O.screen={width:0,height:0}),typeof f>"u"&&(O.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),O.window=yt))})(typeof yt<"u"?yt:null);var s=window.requestAnimationFrame;if(typeof s>"u"){if(typeof webkitRequestAnimationFrame<"u")s=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")s=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")s=msRequestAnimationFrame;else if(typeof s>"u"){var a=0;s=function(O,T){var V=new Date().getTime(),K=Math.max(0,16-(V-a)),Y=setTimeout(function(){O(V+K)},K);return a=V+K,Y}}}var l=window.cancelAnimationFrame;typeof l>"u"&&(typeof webkitCancelAnimationFrame<"u"?l=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?l=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?l=msCancelAnimationFrame:typeof l>"u"&&(l=function(O){clearTimeout(O)}));var d=window.AudioContext;typeof d>"u"&&(typeof webkitAudioContext<"u"&&(d=webkitAudioContext),typeof mozAudioContext<"u"&&(d=mozAudioContext));var f=window.URL;typeof f>"u"&&typeof webkitURL<"u"&&(f=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var c=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),h=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!h&&!c&&!!navigator.webkitGetUserMedia||S()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(y=!1,m=!0);var b=window.MediaStream;typeof b>"u"&&typeof webkitMediaStream<"u"&&(b=webkitMediaStream),typeof b<"u"&&typeof b.prototype.stop>"u"&&(b.prototype.stop=function(){this.getTracks().forEach(function(O){O.stop()})});function v(O){var T=1e3,V=["Bytes","KB","MB","GB","TB"];if(O===0)return"0 Bytes";var K=parseInt(Math.floor(Math.log(O)/Math.log(T)),10);return(O/Math.pow(T,K)).toPrecision(3)+" "+V[K]}function x(O,T){if(!O)throw"Blob object is required.";if(!O.type)try{O.type="video/webm"}catch{}var V=(O.type||"video/webm").split("/")[1];if(V.indexOf(";")!==-1&&(V=V.split(";")[0]),T&&T.indexOf(".")!==-1){var K=T.split(".");T=K[0],V=K[1]}var Y=(T||Math.round(Math.random()*9999999999)+888888888)+"."+V;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(O,Y);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(O,Y);var Q=document.createElement("a");Q.href=f.createObjectURL(O),Q.download=Y,Q.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(Q),typeof Q.click=="function"?Q.click():(Q.target="_blank",Q.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(Q.href)}function S(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function I(O,T){return!O||!O.getTracks?[]:O.getTracks().filter(function(V){return V.kind===(T||"audio")})}function M(O,T){"srcObject"in T?T.srcObject=O:"mozSrcObject"in T?T.mozSrcObject=O:T.srcObject=O}function E(O,T){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var V=new EBML.Reader,K=new EBML.Decoder,Y=EBML.tools,Q=new FileReader;Q.onload=function(ue){var J=K.decode(this.result);J.forEach(function(ge){V.read(ge)}),V.stop();var oe=Y.makeMetadataSeekable(V.metadatas,V.duration,V.cues),se=this.result.slice(V.metadataSize),le=new Blob([oe,se],{type:"video/webm"});T(le)},Q.readAsArrayBuffer(O)}typeof e<"u"&&(e.invokeSaveAsDialog=x,e.getTracks=I,e.getSeekableBlob=E,e.bytesToSize=v,e.isElectron=S);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var L={};typeof d<"u"?L.AudioContext=d:typeof webkitAudioContext<"u"&&(L.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=L);function D(){if(p||y||c)return!0;var O=navigator.userAgent,T=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10),K,Y;return(m||h)&&(K=O.indexOf("Chrome"),T=O.substring(K+7)),(Y=T.indexOf(";"))!==-1&&(T=T.substring(0,Y)),(Y=T.indexOf(" "))!==-1&&(T=T.substring(0,Y)),V=parseInt(""+T,10),isNaN(V)&&(T=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10)),V>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function C(O,T){var le=this;if(typeof O>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(T=T||{mimeType:"video/webm"},T.type==="audio"){if(I(O,"video").length&&I(O,"audio").length){var V;navigator.mozGetUserMedia?(V=new b,V.addTrack(I(O,"audio")[0])):V=new b(I(O,"audio")),O=V}(!T.mimeType||T.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(T.mimeType=m?"audio/webm":"audio/ogg"),T.mimeType&&T.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(T.mimeType="audio/ogg")}var K=[];this.getArrayOfBlobs=function(){return K},this.record=function(){le.blob=null,le.clearRecordedData(),le.timestamps=[],se=[],K=[];var ge=T;T.disableLogs||console.log("Passing following config over MediaRecorder API.",ge),J&&(J=null),m&&!D()&&(ge="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&ge.mimeType&&(MediaRecorder.isTypeSupported(ge.mimeType)||(T.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",ge.mimeType),ge.mimeType=T.type==="audio"?"audio/webm":"video/webm"));try{J=new MediaRecorder(O,ge),T.mimeType=ge.mimeType}catch{J=new MediaRecorder(O)}ge.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in J&&J.canRecordMimeType(ge.mimeType)===!1&&(T.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",ge.mimeType)),J.ondataavailable=function(we){if(we.data&&se.push("ondataavailable: "+v(we.data.size)),typeof T.timeSlice=="number"){if(we.data&&we.data.size&&(K.push(we.data),Y(),typeof T.ondataavailable=="function")){var Ie=T.getNativeBlob?we.data:new Blob([we.data],{type:Q(ge)});T.ondataavailable(Ie)}return}if(!we.data||!we.data.size||we.data.size<100||le.blob){le.recordingCallback&&(le.recordingCallback(new Blob([],{type:Q(ge)})),le.recordingCallback=null);return}le.blob=T.getNativeBlob?we.data:new Blob([we.data],{type:Q(ge)}),le.recordingCallback&&(le.recordingCallback(le.blob),le.recordingCallback=null)},J.onstart=function(){se.push("started")},J.onpause=function(){se.push("paused")},J.onresume=function(){se.push("resumed")},J.onstop=function(){se.push("stopped")},J.onerror=function(we){we&&(we.name||(we.name="UnknownError"),se.push("error: "+we),T.disableLogs||(we.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",we):we.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",ge.mimeType,") is not supported.",we):we.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",we):we.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",we):we.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",we):we.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",we):we.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",we):console.error("MediaRecorder Error",we)),function(Ie){if(!le.manuallyStopped&&J&&J.state==="inactive"){delete T.timeslice,J.start(10*60*1e3);return}setTimeout(Ie,1e3)}(),J.state!=="inactive"&&J.state!=="stopped"&&J.stop())},typeof T.timeSlice=="number"?(Y(),J.start(T.timeSlice)):J.start(36e5),T.initCallback&&T.initCallback()},this.timestamps=[];function Y(){le.timestamps.push(new Date().getTime()),typeof T.onTimeStamp=="function"&&T.onTimeStamp(le.timestamps[le.timestamps.length-1],le.timestamps)}function Q(ge){return J&&J.mimeType?J.mimeType:ge.mimeType||"video/webm"}this.stop=function(ge){ge=ge||function(){},le.manuallyStopped=!0,J&&(this.recordingCallback=ge,J.state==="recording"&&J.stop(),typeof T.timeSlice=="number"&&setTimeout(function(){le.blob=new Blob(K,{type:Q(T)}),le.recordingCallback(le.blob)},100))},this.pause=function(){J&&J.state==="recording"&&J.pause()},this.resume=function(){J&&J.state==="paused"&&J.resume()},this.clearRecordedData=function(){J&&J.state==="recording"&&le.stop(ue),ue()};function ue(){K=[],J=null,le.timestamps=[]}var J;this.getInternalRecorder=function(){return J};function oe(){if("active"in O){if(!O.active)return!1}else if("ended"in O&&O.ended)return!1;return!0}this.blob=null,this.getState=function(){return J&&J.state||"inactive"};var se=[];this.getAllStates=function(){return se},typeof T.checkForInactiveTracks>"u"&&(T.checkForInactiveTracks=!1);var le=this;(function ge(){if(!(!J||T.checkForInactiveTracks===!1)){if(oe()===!1){T.disableLogs||console.log("MediaStream seems stopped."),le.stop();return}setTimeout(ge,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=C);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function R(O,T){if(!I(O,"audio").length)throw"Your stream has no audio tracks.";T=T||{};var V=this,K=[],Y=[],Q=!1,ue=0,J,oe=2,se=T.desiredSampRate;T.leftChannel===!0&&(oe=1),T.numberOfAudioChannels===1&&(oe=1),(!oe||oe<1)&&(oe=2),T.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+oe),typeof T.checkForInactiveTracks>"u"&&(T.checkForInactiveTracks=!0);function le(){if(T.checkForInactiveTracks===!1)return!0;if("active"in O){if(!O.active)return!1}else if("ended"in O&&O.ended)return!1;return!0}this.record=function(){if(le()===!1)throw"Please make sure MediaStream is active.";Fe(),q=Ee=!1,Q=!0,typeof T.timeSlice<"u"&&Me()};function ge(Be,Qe){function me(Ge,at){var _t=Ge.numberOfAudioChannels,Ke=Ge.leftBuffers.slice(0),Pt=Ge.rightBuffers.slice(0),vt=Ge.sampleRate,lr=Ge.internalInterleavedLength,dr=Ge.desiredSampRate;_t===2&&(Ke=fo(Ke,lr),Pt=fo(Pt,lr),dr&&(Ke=Bi(Ke,dr,vt),Pt=Bi(Pt,dr,vt))),_t===1&&(Ke=fo(Ke,lr),dr&&(Ke=Bi(Ke,dr,vt))),dr&&(vt=dr);function Bi(fr,cn,Br){var Er=Math.round(fr.length*(cn/Br)),Mt=[],Vn=Number((fr.length-1)/(Er-1));Mt[0]=fr[0];for(var Hn=1;Hn<Er-1;Hn++){var di=Hn*Vn,Dn=Number(Math.floor(di)).toFixed(),vs=Number(Math.ceil(di)).toFixed(),Lt=di-Dn;Mt[Hn]=uo(fr[Dn],fr[vs],Lt)}return Mt[Er-1]=fr[fr.length-1],Mt}function uo(fr,cn,Br){return fr+(cn-fr)*Br}function fo(fr,cn){for(var Br=new Float64Array(cn),Er=0,Mt=fr.length,Vn=0;Vn<Mt;Vn++){var Hn=fr[Vn];Br.set(Hn,Er),Er+=Hn.length}return Br}function Ri(fr,cn){for(var Br=fr.length+cn.length,Er=new Float64Array(Br),Mt=0,Vn=0;Vn<Br;)Er[Vn++]=fr[Mt],Er[Vn++]=cn[Mt],Mt++;return Er}function ho(fr,cn,Br){for(var Er=Br.length,Mt=0;Mt<Er;Mt++)fr.setUint8(cn+Mt,Br.charCodeAt(Mt))}var Ur;_t===2&&(Ur=Ri(Ke,Pt)),_t===1&&(Ur=Ke);var jr=Ur.length,ui=44+jr*2,zn=new ArrayBuffer(ui),nr=new DataView(zn);ho(nr,0,"RIFF"),nr.setUint32(4,36+jr*2,!0),ho(nr,8,"WAVE"),ho(nr,12,"fmt "),nr.setUint32(16,16,!0),nr.setUint16(20,1,!0),nr.setUint16(22,_t,!0),nr.setUint32(24,vt,!0),nr.setUint32(28,vt*_t*2,!0),nr.setUint16(32,_t*2,!0),nr.setUint16(34,16,!0),ho(nr,36,"data"),nr.setUint32(40,jr*2,!0);for(var $n=jr,ln=44,Ta=1,Ea=0;Ea<$n;Ea++)nr.setInt16(ln,Ur[Ea]*(32767*Ta),!0),ln+=2;if(at)return at({buffer:zn,view:nr});postMessage({buffer:zn,view:nr})}if(Be.noWorker){me(Be,function(Ge){Qe(Ge.buffer,Ge.view)});return}var xe=we(me);xe.onmessage=function(Ge){Qe(Ge.data.buffer,Ge.data.view),f.revokeObjectURL(xe.workerURL),xe.terminate()},xe.postMessage(Be)}function we(Be){var Qe=f.createObjectURL(new Blob([Be.toString(),";this.onmessage =  function (eee) {"+Be.name+"(eee.data);}"],{type:"application/javascript"})),me=new Worker(Qe);return me.workerURL=Qe,me}this.stop=function(Be){Be=Be||function(){},Q=!1,ge({desiredSampRate:se,sampleRate:pe,numberOfAudioChannels:oe,internalInterleavedLength:ue,leftBuffers:K,rightBuffers:oe===1?[]:Y,noWorker:T.noWorker},function(Qe,me){V.blob=new Blob([me],{type:"audio/wav"}),V.buffer=new ArrayBuffer(me.buffer.byteLength),V.view=me,V.sampleRate=se||pe,V.bufferSize=We,V.length=ue,q=!1,Be&&Be(V.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var Ie=e.Storage.AudioContextConstructor,ce=Ie.createMediaStreamSource(O),Ce=[0,256,512,1024,2048,4096,8192,16384],We=typeof T.bufferSize>"u"?4096:T.bufferSize;if(Ce.indexOf(We)===-1&&(T.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(Ce,null,"	"))),Ie.createJavaScriptNode)J=Ie.createJavaScriptNode(We,oe,oe);else if(Ie.createScriptProcessor)J=Ie.createScriptProcessor(We,oe,oe);else throw"WebAudio API has no support on this browser.";ce.connect(J),T.bufferSize||(We=J.bufferSize);var pe=typeof T.sampleRate<"u"?T.sampleRate:Ie.sampleRate||44100;(pe<22050||pe>96e3)&&(T.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),T.disableLogs||T.desiredSampRate&&console.log("Desired sample-rate: "+T.desiredSampRate);var Ee=!1;this.pause=function(){Ee=!0},this.resume=function(){if(le()===!1)throw"Please make sure MediaStream is active.";if(!Q){T.disableLogs||console.log("Seems recording has been restarted."),this.record();return}Ee=!1},this.clearRecordedData=function(){T.checkForInactiveTracks=!1,Q&&this.stop(j),j()};function Fe(){K=[],Y=[],ue=0,q=!1,Q=!1,Ee=!1,Ie=null,V.leftchannel=K,V.rightchannel=Y,V.numberOfAudioChannels=oe,V.desiredSampRate=se,V.sampleRate=pe,V.recordingLength=ue,Ae={left:[],right:[],recordingLength:0}}function j(){J&&(J.onaudioprocess=null,J.disconnect(),J=null),ce&&(ce.disconnect(),ce=null),Fe()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var q=!1;function fe(Be){if(!Ee){if(le()===!1&&(T.disableLogs||console.log("MediaStream seems stopped."),J.disconnect(),Q=!1),!Q){ce&&(ce.disconnect(),ce=null);return}q||(q=!0,T.onAudioProcessStarted&&T.onAudioProcessStarted(),T.initCallback&&T.initCallback());var Qe=Be.inputBuffer.getChannelData(0),me=new Float32Array(Qe);if(K.push(me),oe===2){var xe=Be.inputBuffer.getChannelData(1),Ge=new Float32Array(xe);Y.push(Ge)}ue+=We,V.recordingLength=ue,typeof T.timeSlice<"u"&&(Ae.recordingLength+=We,Ae.left.push(me),oe===2&&Ae.right.push(Ge))}}J.onaudioprocess=fe,Ie.createMediaStreamDestination?J.connect(Ie.createMediaStreamDestination()):J.connect(Ie.destination),this.leftchannel=K,this.rightchannel=Y,this.numberOfAudioChannels=oe,this.desiredSampRate=se,this.sampleRate=pe,V.recordingLength=ue;var Ae={left:[],right:[],recordingLength:0};function Me(){!Q||typeof T.ondataavailable!="function"||typeof T.timeSlice>"u"||(Ae.left.length?(ge({desiredSampRate:se,sampleRate:pe,numberOfAudioChannels:oe,internalInterleavedLength:Ae.recordingLength,leftBuffers:Ae.left,rightBuffers:oe===1?[]:Ae.right},function(Be,Qe){var me=new Blob([Qe],{type:"audio/wav"});T.ondataavailable(me),setTimeout(Me,T.timeSlice)}),Ae={left:[],right:[],recordingLength:0}):setTimeout(Me,T.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=R);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function $(O,T){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";T=T||{},T.frameInterval||(T.frameInterval=10);var V=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(Ce){Ce in document.createElement("canvas")&&(V=!0)});var K=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,Y=50,Q=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);K&&Q&&Q[2]&&(Y=parseInt(Q[2],10)),K&&Y<52&&(V=!1),T.useWhammyRecorder&&(V=!1);var ue,J;if(V)if(T.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),O instanceof HTMLCanvasElement)ue=O;else if(O instanceof CanvasRenderingContext2D)ue=O.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(T.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var oe;this.record=function(){if(oe=!0,V&&!T.useWhammyRecorder){var Ce;"captureStream"in ue?Ce=ue.captureStream(25):"mozCaptureStream"in ue?Ce=ue.mozCaptureStream(25):"webkitCaptureStream"in ue&&(Ce=ue.webkitCaptureStream(25));try{var We=new b;We.addTrack(I(Ce,"video")[0]),Ce=We}catch{}if(!Ce)throw"captureStream API are NOT available.";J=new C(Ce,{mimeType:T.mimeType||"video/webm"}),J.record()}else ce.frames=[],Ie=new Date().getTime(),we();T.initCallback&&T.initCallback()},this.getWebPImages=function(Ce){if(O.nodeName.toLowerCase()!=="canvas"){Ce();return}var We=ce.frames.length;ce.frames.forEach(function(pe,Ee){var Fe=We-Ee;T.disableLogs||console.log(Fe+"/"+We+" frames remaining"),T.onEncodingCallback&&T.onEncodingCallback(Fe,We);var j=pe.image.toDataURL("image/webp",1);ce.frames[Ee].image=j}),T.disableLogs||console.log("Generating WebM"),Ce()},this.stop=function(Ce){oe=!1;var We=this;if(V&&J){J.stop(Ce);return}this.getWebPImages(function(){ce.compile(function(pe){T.disableLogs||console.log("Recording finished!"),We.blob=pe,We.blob.forEach&&(We.blob=new Blob([],{type:"video/webm"})),Ce&&Ce(We.blob),ce.frames=[]})})};var se=!1;this.pause=function(){if(se=!0,J instanceof C){J.pause();return}},this.resume=function(){if(se=!1,J instanceof C){J.resume();return}oe||this.record()},this.clearRecordedData=function(){oe&&this.stop(le),le()};function le(){ce.frames=[],oe=!1,se=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function ge(){var Ce=document.createElement("canvas"),We=Ce.getContext("2d");return Ce.width=O.width,Ce.height=O.height,We.drawImage(O,0,0),Ce}function we(){if(se)return Ie=new Date().getTime(),setTimeout(we,500);if(O.nodeName.toLowerCase()==="canvas"){var Ce=new Date().getTime()-Ie;Ie=new Date().getTime(),ce.frames.push({image:ge(),duration:Ce}),oe&&setTimeout(we,T.frameInterval);return}html2canvas(O,{grabMouse:typeof T.showMousePointer>"u"||T.showMousePointer,onrendered:function(We){var pe=new Date().getTime()-Ie;if(!pe)return setTimeout(we,T.frameInterval);Ie=new Date().getTime(),ce.frames.push({image:We.toDataURL("image/webp",1),duration:pe}),oe&&setTimeout(we,T.frameInterval)}})}var Ie=new Date().getTime(),ce=new F.Video(100)}typeof e<"u"&&(e.CanvasRecorder=$);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function U(O,T){T=T||{},T.frameInterval||(T.frameInterval=10),T.disableLogs||console.log("Using frames-interval:",T.frameInterval),this.record=function(){T.width||(T.width=320),T.height||(T.height=240),T.video||(T.video={width:T.width,height:T.height}),T.canvas||(T.canvas={width:T.width,height:T.height}),oe.width=T.canvas.width||320,oe.height=T.canvas.height||240,se=oe.getContext("2d"),T.video&&T.video instanceof HTMLVideoElement?(le=T.video.cloneNode(),T.initCallback&&T.initCallback()):(le=document.createElement("video"),M(O,le),le.onloadedmetadata=function(){T.initCallback&&T.initCallback()},le.width=T.video.width,le.height=T.video.height),le.muted=!0,le.play(),ge=new Date().getTime(),we=new F.Video,T.disableLogs||(console.log("canvas resolutions",oe.width,"*",oe.height),console.log("video width/height",le.width||oe.width,"*",le.height||oe.height)),V(T.frameInterval)};function V(Ie){Ie=typeof Ie<"u"?Ie:10;var ce=new Date().getTime()-ge;if(!ce)return setTimeout(V,Ie,Ie);if(ue)return ge=new Date().getTime(),setTimeout(V,100);ge=new Date().getTime(),le.paused&&le.play(),se.drawImage(le,0,0,oe.width,oe.height),we.frames.push({duration:ce,image:oe.toDataURL("image/webp")}),Q||setTimeout(V,Ie,Ie)}function K(Ie){var ce=-1,Ce=Ie.length;(function We(){if(ce++,ce===Ce){Ie.callback();return}setTimeout(function(){Ie.functionToLoop(We,ce)},1)})()}function Y(Ie,ce,Ce,We,pe){var Ee=document.createElement("canvas");Ee.width=oe.width,Ee.height=oe.height;var Fe=Ee.getContext("2d"),j=[],q=Ie.length,fe={r:0,g:0,b:0},Ae=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Me=0,Be=0,Qe=!1;K({length:q,functionToLoop:function(me,xe){var Ge,at,_t,Ke=function(){!Qe&&_t-Ge<=_t*Be||(Qe=!0,j.push(Ie[xe])),me()};if(Qe)Ke();else{var Pt=new Image;Pt.onload=function(){Fe.drawImage(Pt,0,0,oe.width,oe.height);var vt=Fe.getImageData(0,0,oe.width,oe.height);Ge=0,at=vt.data.length,_t=vt.data.length/4;for(var lr=0;lr<at;lr+=4){var dr={r:vt.data[lr],g:vt.data[lr+1],b:vt.data[lr+2]},Bi=Math.sqrt(Math.pow(dr.r-fe.r,2)+Math.pow(dr.g-fe.g,2)+Math.pow(dr.b-fe.b,2));Bi<=Ae*Me&&Ge++}Ke()},Pt.src=Ie[xe].image}},callback:function(){j=j.concat(Ie.slice(q)),j.length<=0&&j.push(Ie[Ie.length-1]),pe(j)}})}var Q=!1;this.stop=function(Ie){Ie=Ie||function(){},Q=!0;var ce=this;setTimeout(function(){Y(we.frames,-1,null,null,function(Ce){we.frames=Ce,T.advertisement&&T.advertisement.length&&(we.frames=T.advertisement.concat(we.frames)),we.compile(function(We){ce.blob=We,ce.blob.forEach&&(ce.blob=new Blob([],{type:"video/webm"})),Ie&&Ie(ce.blob)})})},10)};var ue=!1;this.pause=function(){ue=!0},this.resume=function(){ue=!1,Q&&this.record()},this.clearRecordedData=function(){Q||this.stop(J),J()};function J(){we.frames=[],Q=!0,ue=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var oe=document.createElement("canvas"),se=oe.getContext("2d"),le,ge,we}typeof e<"u"&&(e.WhammyRecorder=U);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var F=function(){function O(K){this.frames=[],this.duration=K||1,this.quality=.8}O.prototype.add=function(K,Y){if("canvas"in K&&(K=K.canvas),"toDataURL"in K&&(K=K.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(K))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:K,duration:Y||this.duration})};function T(K){var Y=f.createObjectURL(new Blob([K.toString(),"this.onmessage =  function (eee) {"+K.name+"(eee.data);}"],{type:"application/javascript"})),Q=new Worker(Y);return f.revokeObjectURL(Y),Q}function V(K){function Y(pe){var Ee=ue(pe);if(!Ee)return[];for(var Fe=3e4,j=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:Ce(Ee.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Ee.width,id:176},{data:Ee.height,id:186}]}]}]}]}],q=0,fe=0;q<pe.length;){var Ae=[],Me=0;do Ae.push(pe[q]),Me+=pe[q].duration,q++;while(q<pe.length&&Me<Fe);var Be=0,Qe={id:524531317,data:Q(fe,Be,Ae)};j[1].data.push(Qe),fe+=Me}return le(j)}function Q(pe,Ee,Fe){return[{data:pe,id:231}].concat(Fe.map(function(j){var q=ge({discardable:0,frame:j.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(Ee)});return Ee+=j.duration,{data:q,id:163}}))}function ue(pe){if(!pe[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var Ee=pe[0].width,Fe=pe[0].height,j=pe[0].duration,q=1;q<pe.length;q++)j+=pe[q].duration;return{duration:j,width:Ee,height:Fe}}function J(pe){for(var Ee=[];pe>0;)Ee.push(pe&255),pe=pe>>8;return new Uint8Array(Ee.reverse())}function oe(pe){return new Uint8Array(pe.split("").map(function(Ee){return Ee.charCodeAt(0)}))}function se(pe){var Ee=[],Fe=pe.length%8?new Array(9-pe.length%8).join("0"):"";pe=Fe+pe;for(var j=0;j<pe.length;j+=8)Ee.push(parseInt(pe.substr(j,8),2));return new Uint8Array(Ee)}function le(pe){for(var Ee=[],Fe=0;Fe<pe.length;Fe++){var j=pe[Fe].data;typeof j=="object"&&(j=le(j)),typeof j=="number"&&(j=se(j.toString(2))),typeof j=="string"&&(j=oe(j));var q=j.size||j.byteLength||j.length,fe=Math.ceil(Math.ceil(Math.log(q)/Math.log(2))/8),Ae=q.toString(2),Me=new Array(fe*7+7+1-Ae.length).join("0")+Ae,Be=new Array(fe).join("0")+"1"+Me;Ee.push(J(pe[Fe].id)),Ee.push(se(Be)),Ee.push(j)}return new Blob(Ee,{type:"video/webm"})}function ge(pe){var Ee=0;if(Ee|=128,pe.trackNum>127)throw"TrackNumber > 127 not supported";var Fe=[pe.trackNum|128,pe.timecode>>8,pe.timecode&255,Ee].map(function(j){return String.fromCharCode(j)}).join("")+pe.frame;return Fe}function we(pe){for(var Ee=pe.RIFF[0].WEBP[0],Fe=Ee.indexOf("*"),j=0,q=[];j<4;j++)q[j]=Ee.charCodeAt(Fe+3+j);var fe,Ae,Me;return Me=q[1]<<8|q[0],fe=Me&16383,Me=q[3]<<8|q[2],Ae=Me&16383,{width:fe,height:Ae,data:Ee,riff:pe}}function Ie(pe,Ee){return parseInt(pe.substr(Ee+4,4).split("").map(function(Fe){var j=Fe.charCodeAt(0).toString(2);return new Array(8-j.length+1).join("0")+j}).join(""),2)}function ce(pe){for(var Ee=0,Fe={};Ee<pe.length;){var j=pe.substr(Ee,4),q=Ie(pe,Ee),fe=pe.substr(Ee+4+4,q);Ee+=8+q,Fe[j]=Fe[j]||[],j==="RIFF"||j==="LIST"?Fe[j].push(ce(fe)):Fe[j].push(fe)}return Fe}function Ce(pe){return[].slice.call(new Uint8Array(new Float64Array([pe]).buffer),0).map(function(Ee){return String.fromCharCode(Ee)}).reverse().join("")}var We=new Y(K.map(function(pe){var Ee=we(ce(atob(pe.image.slice(23))));return Ee.duration=pe.duration,Ee}));postMessage(We)}return O.prototype.compile=function(K){var Y=T(V);Y.onmessage=function(Q){if(Q.data.error){console.error(Q.data.error);return}K(Q.data)},Y.postMessage(this.frames)},{Video:O}}();typeof e<"u"&&(e.Whammy=F);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var z={init:function(){var O=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var T=1,V=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),K,Y=indexedDB.open(V,T);function Q(J){J.createObjectStore(O.dataStoreName)}function ue(){var J=K.transaction([O.dataStoreName],"readwrite");O.videoBlob&&J.objectStore(O.dataStoreName).put(O.videoBlob,"videoBlob"),O.gifBlob&&J.objectStore(O.dataStoreName).put(O.gifBlob,"gifBlob"),O.audioBlob&&J.objectStore(O.dataStoreName).put(O.audioBlob,"audioBlob");function oe(se){J.objectStore(O.dataStoreName).get(se).onsuccess=function(le){O.callback&&O.callback(le.target.result,se)}}oe("audioBlob"),oe("videoBlob"),oe("gifBlob")}Y.onerror=O.onError,Y.onsuccess=function(){if(K=Y.result,K.onerror=O.onError,K.setVersion)if(K.version!==T){var J=K.setVersion(T);J.onsuccess=function(){Q(K),ue()}}else ue();else ue()},Y.onupgradeneeded=function(J){Q(J.target.result)}},Fetch:function(O){return this.callback=O,this.init(),this},Store:function(O){return this.audioBlob=O.audioBlob,this.videoBlob=O.videoBlob,this.gifBlob=O.gifBlob,this.init(),this},onError:function(O){console.error(JSON.stringify(O,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=z);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function W(O,T){if(typeof GIFEncoder>"u"){var V=document.createElement("script");V.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(V)}T=T||{};var K=O instanceof CanvasRenderingContext2D||O instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(Ie.record,1e3);return}if(!oe){setTimeout(Ie.record,1e3);return}K||(T.width||(T.width=se.offsetWidth||320),T.height||(T.height=se.offsetHeight||240),T.video||(T.video={width:T.width,height:T.height}),T.canvas||(T.canvas={width:T.width,height:T.height}),ue.width=T.canvas.width||320,ue.height=T.canvas.height||240,se.width=T.video.width||320,se.height=T.video.height||240),we=new GIFEncoder,we.setRepeat(0),we.setDelay(T.frameRate||200),we.setQuality(T.quality||10),we.start(),typeof T.onGifRecordingStarted=="function"&&T.onGifRecordingStarted();function ce(Ce){if(Ie.clearedRecordedData!==!0){if(Y)return setTimeout(function(){ce(Ce)},100);le=s(ce),typeof ge===void 0&&(ge=Ce),!(Ce-ge<90)&&(!K&&se.paused&&se.play(),K||J.drawImage(se,0,0,ue.width,ue.height),T.onGifPreview&&T.onGifPreview(ue.toDataURL("image/png")),we.addFrame(J),ge=Ce)}}le=s(ce),T.initCallback&&T.initCallback()},this.stop=function(ce){ce=ce||function(){},le&&l(le),this.blob=new Blob([new Uint8Array(we.stream().bin)],{type:"image/gif"}),ce(this.blob),we.stream().bin=[]};var Y=!1;this.pause=function(){Y=!0},this.resume=function(){Y=!1},this.clearRecordedData=function(){Ie.clearedRecordedData=!0,Q()};function Q(){we&&(we.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var ue=document.createElement("canvas"),J=ue.getContext("2d");K&&(O instanceof CanvasRenderingContext2D?(J=O,ue=J.canvas):O instanceof HTMLCanvasElement&&(J=O.getContext("2d"),ue=O));var oe=!0;if(!K){var se=document.createElement("video");se.muted=!0,se.autoplay=!0,se.playsInline=!0,oe=!1,se.onloadedmetadata=function(){oe=!0},M(O,se),se.play()}var le=null,ge,we,Ie=this}typeof e<"u"&&(e.GifRecorder=W);function B(O,T){var V="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(j){typeof e<"u"||j&&(typeof window<"u"||typeof yt>"u"||(yt.navigator={userAgent:V,getUserMedia:function(){}},yt.console||(yt.console={}),(typeof yt.console.log>"u"||typeof yt.console.error>"u")&&(yt.console.error=yt.console.log=yt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(j.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var q={getContext:function(){return q},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return q},j.HTMLVideoElement=function(){}),typeof location>"u"&&(j.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(j.screen={width:0,height:0}),typeof se>"u"&&(j.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),j.window=yt))})(typeof yt<"u"?yt:null),T=T||"multi-streams-mixer";var K=[],Y=!1,Q=document.createElement("canvas"),ue=Q.getContext("2d");Q.style.opacity=0,Q.style.position="absolute",Q.style.zIndex=-1,Q.style.top="-1000em",Q.style.left="-1000em",Q.className=T,(document.body||document.documentElement).appendChild(Q),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var J=this,oe=window.AudioContext;typeof oe>"u"&&(typeof webkitAudioContext<"u"&&(oe=webkitAudioContext),typeof mozAudioContext<"u"&&(oe=mozAudioContext));var se=window.URL;typeof se>"u"&&typeof webkitURL<"u"&&(se=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var le=window.MediaStream;typeof le>"u"&&typeof webkitMediaStream<"u"&&(le=webkitMediaStream),typeof le<"u"&&typeof le.prototype.stop>"u"&&(le.prototype.stop=function(){this.getTracks().forEach(function(j){j.stop()})});var ge={};typeof oe<"u"?ge.AudioContext=oe:typeof webkitAudioContext<"u"&&(ge.AudioContext=webkitAudioContext);function we(j,q){"srcObject"in q?q.srcObject=j:"mozSrcObject"in q?q.mozSrcObject=j:q.srcObject=j}this.startDrawingFrames=function(){Ie()};function Ie(){if(!Y){var j=K.length,q=!1,fe=[];if(K.forEach(function(Me){Me.stream||(Me.stream={}),Me.stream.fullcanvas?q=Me:fe.push(Me)}),q)Q.width=q.stream.width,Q.height=q.stream.height;else if(fe.length){Q.width=j>1?fe[0].width*2:fe[0].width;var Ae=1;(j===3||j===4)&&(Ae=2),(j===5||j===6)&&(Ae=3),(j===7||j===8)&&(Ae=4),(j===9||j===10)&&(Ae=5),Q.height=fe[0].height*Ae}else Q.width=J.width||360,Q.height=J.height||240;q&&q instanceof HTMLVideoElement&&ce(q),fe.forEach(function(Me,Be){ce(Me,Be)}),setTimeout(Ie,J.frameInterval)}}function ce(j,q){if(!Y){var fe=0,Ae=0,Me=j.width,Be=j.height;q===1&&(fe=j.width),q===2&&(Ae=j.height),q===3&&(fe=j.width,Ae=j.height),q===4&&(Ae=j.height*2),q===5&&(fe=j.width,Ae=j.height*2),q===6&&(Ae=j.height*3),q===7&&(fe=j.width,Ae=j.height*3),typeof j.stream.left<"u"&&(fe=j.stream.left),typeof j.stream.top<"u"&&(Ae=j.stream.top),typeof j.stream.width<"u"&&(Me=j.stream.width),typeof j.stream.height<"u"&&(Be=j.stream.height),ue.drawImage(j,fe,Ae,Me,Be),typeof j.stream.onRender=="function"&&j.stream.onRender(ue,fe,Ae,Me,Be,q)}}function Ce(){Y=!1;var j=We(),q=pe();return q&&q.getTracks().filter(function(fe){return fe.kind==="audio"}).forEach(function(fe){j.addTrack(fe)}),O.forEach(function(fe){fe.fullcanvas}),j}function We(){Fe();var j;"captureStream"in Q?j=Q.captureStream():"mozCaptureStream"in Q?j=Q.mozCaptureStream():J.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var q=new le;return j.getTracks().filter(function(fe){return fe.kind==="video"}).forEach(function(fe){q.addTrack(fe)}),Q.stream=q,q}function pe(){ge.AudioContextConstructor||(ge.AudioContextConstructor=new ge.AudioContext),J.audioContext=ge.AudioContextConstructor,J.audioSources=[],J.useGainNode===!0&&(J.gainNode=J.audioContext.createGain(),J.gainNode.connect(J.audioContext.destination),J.gainNode.gain.value=0);var j=0;if(O.forEach(function(q){if(q.getTracks().filter(function(Ae){return Ae.kind==="audio"}).length){j++;var fe=J.audioContext.createMediaStreamSource(q);J.useGainNode===!0&&fe.connect(J.gainNode),J.audioSources.push(fe)}}),!!j)return J.audioDestination=J.audioContext.createMediaStreamDestination(),J.audioSources.forEach(function(q){q.connect(J.audioDestination)}),J.audioDestination.stream}function Ee(j){var q=document.createElement("video");return we(j,q),q.className=T,q.muted=!0,q.volume=0,q.width=j.width||J.width||360,q.height=j.height||J.height||240,q.play(),q}this.appendStreams=function(j){if(!j)throw"First parameter is required.";j instanceof Array||(j=[j]),j.forEach(function(q){var fe=new le;if(q.getTracks().filter(function(Be){return Be.kind==="video"}).length){var Ae=Ee(q);Ae.stream=q,K.push(Ae),fe.addTrack(q.getTracks().filter(function(Be){return Be.kind==="video"})[0])}if(q.getTracks().filter(function(Be){return Be.kind==="audio"}).length){var Me=J.audioContext.createMediaStreamSource(q);J.audioDestination=J.audioContext.createMediaStreamDestination(),Me.connect(J.audioDestination),fe.addTrack(J.audioDestination.stream.getTracks().filter(function(Be){return Be.kind==="audio"})[0])}O.push(fe)})},this.releaseStreams=function(){K=[],Y=!0,J.gainNode&&(J.gainNode.disconnect(),J.gainNode=null),J.audioSources.length&&(J.audioSources.forEach(function(j){j.disconnect()}),J.audioSources=[]),J.audioDestination&&(J.audioDestination.disconnect(),J.audioDestination=null),J.audioContext&&J.audioContext.close(),J.audioContext=null,ue.clearRect(0,0,Q.width,Q.height),Q.stream&&(Q.stream.stop(),Q.stream=null)},this.resetVideoStreams=function(j){j&&!(j instanceof Array)&&(j=[j]),Fe(j)};function Fe(j){K=[],j=j||O,j.forEach(function(q){if(q.getTracks().filter(function(Ae){return Ae.kind==="video"}).length){var fe=Ee(q);fe.stream=q,K.push(fe)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=Ce}typeof e>"u"&&(t.exports=B);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function P(O,T){O=O||[];var V=this,K,Y;T=T||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},T.frameInterval||(T.frameInterval=10),T.video||(T.video={}),T.video.width||(T.video.width=360),T.video.height||(T.video.height=240),this.record=function(){K=new B(O,T.elementClass||"multi-streams-mixer"),Q().length&&(K.frameInterval=T.frameInterval||10,K.width=T.video.width||360,K.height=T.video.height||240,K.startDrawingFrames()),T.previewStream&&typeof T.previewStream=="function"&&T.previewStream(K.getMixedStream()),Y=new C(K.getMixedStream(),T),Y.record()};function Q(){var ue=[];return O.forEach(function(J){I(J,"video").forEach(function(oe){ue.push(oe)})}),ue}this.stop=function(ue){Y&&Y.stop(function(J){V.blob=J,ue(J),V.clearRecordedData()})},this.pause=function(){Y&&Y.pause()},this.resume=function(){Y&&Y.resume()},this.clearRecordedData=function(){Y&&(Y.clearRecordedData(),Y=null),K&&(K.releaseStreams(),K=null)},this.addStreams=function(ue){if(!ue)throw"First parameter is required.";ue instanceof Array||(ue=[ue]),O.concat(ue),!(!Y||!K)&&(K.appendStreams(ue),T.previewStream&&typeof T.previewStream=="function"&&T.previewStream(K.getMixedStream()))},this.resetVideoStreams=function(ue){K&&(ue&&!(ue instanceof Array)&&(ue=[ue]),K.resetVideoStreams(ue))},this.getMixer=function(){return K},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=P);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function re(O,T){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof O>"u")throw'First argument "MediaStream" is required.';var V=this;V.recordRTC=new e(O,T),this.startRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.startRecording(),K()}catch(Q){Y(Q)}})},this.stopRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.stopRecording(function(Q){if(V.blob=V.recordRTC.getBlob(),!V.blob||!V.blob.size){Y("Empty blob.",V.blob);return}K(Q)})}catch(Q){Y(Q)}})},this.pauseRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.pauseRecording(),K()}catch(Q){Y(Q)}})},this.resumeRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.resumeRecording(),K()}catch(Q){Y(Q)}})},this.getDataURL=function(K){return new Promise(function(Y,Q){try{V.recordRTC.getDataURL(function(ue){Y(ue)})}catch(ue){Q(ue)}})},this.getBlob=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getBlob())}catch(Q){Y(Q)}})},this.getInternalRecorder=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getInternalRecorder())}catch(Q){Y(Q)}})},this.reset=function(){return new Promise(function(K,Y){try{K(V.recordRTC.reset())}catch(Q){Y(Q)}})},this.destroy=function(){return new Promise(function(K,Y){try{K(V.recordRTC.destroy())}catch(Q){Y(Q)}})},this.getState=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getState())}catch(Q){Y(Q)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=re);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function H(O,T){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),T=T||{},T.width=T.width||640,T.height=T.height||480,T.frameRate=T.frameRate||30,T.bitrate=T.bitrate||1200,T.realtime=T.realtime||!0;var V;function K(){return new ReadableStream({start:function(se){var le=document.createElement("canvas"),ge=document.createElement("video"),we=!0;ge.srcObject=O,ge.muted=!0,ge.height=T.height,ge.width=T.width,ge.volume=0,ge.onplaying=function(){le.width=T.width,le.height=T.height;var Ie=le.getContext("2d"),ce=1e3/T.frameRate,Ce=setInterval(function(){if(V&&(clearInterval(Ce),se.close()),we&&(we=!1,T.onVideoProcessStarted&&T.onVideoProcessStarted()),Ie.drawImage(ge,0,0),se._controlledReadableStream.state!=="closed")try{se.enqueue(Ie.getImageData(0,0,T.width,T.height))}catch{}},ce)},ge.play()}})}var Y;function Q(se,le){if(!T.workerPath&&!le){V=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(we){we.arrayBuffer().then(function(Ie){Q(se,Ie)})});return}if(!T.workerPath&&le instanceof ArrayBuffer){var ge=new Blob([le],{type:"text/javascript"});T.workerPath=f.createObjectURL(ge)}T.workerPath||console.error("workerPath parameter is missing."),Y=new Worker(T.workerPath),Y.postMessage(T.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),Y.addEventListener("message",function(we){we.data==="READY"?(Y.postMessage({width:T.width,height:T.height,bitrate:T.bitrate||1200,timebaseDen:T.frameRate||30,realtime:T.realtime}),K().pipeTo(new WritableStream({write:function(Ie){if(V){console.error("Got image, but recorder is finished!");return}Y.postMessage(Ie.data.buffer,[Ie.data.buffer])}}))):we.data&&(ue||oe.push(we.data))})}this.record=function(){oe=[],ue=!1,this.blob=null,Q(O),typeof T.initCallback=="function"&&T.initCallback()};var ue;this.pause=function(){ue=!0},this.resume=function(){ue=!1};function J(se){if(!Y){se&&se();return}Y.addEventListener("message",function(le){le.data===null&&(Y.terminate(),Y=null,se&&se())}),Y.postMessage(null)}var oe=[];this.stop=function(se){V=!0;var le=this;J(function(){le.blob=new Blob(oe,{type:"video/webm"}),se(le.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){oe=[],ue=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=H)})(wk);var RW=wk.exports,Ak={};function PW(t){return t&&t.__esModule?t:{default:t}}var FW=PW,ry={exports:{}},xk;function UW(){return xk||(xk=1,function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(H,O,T){H[O]=T.value},s,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function c(H,O,T){return Object.defineProperty(H,O,{value:T,enumerable:!0,configurable:!0,writable:!0}),H[O]}try{c({},"")}catch{c=function(O,T,V){return O[T]=V}}function h(H,O,T,V){var K=O&&O.prototype instanceof S?O:S,Y=Object.create(K.prototype),Q=new B(V||[]);return o(Y,"_invoke",{value:U(H,T,Q)}),Y}r.wrap=h;function p(H,O,T){try{return{type:"normal",arg:H.call(O,T)}}catch(V){return{type:"throw",arg:V}}}var m="suspendedStart",y="suspendedYield",b="executing",v="completed",x={};function S(){}function I(){}function M(){}var E={};c(E,l,function(){return this});var L=Object.getPrototypeOf,D=L&&L(L(P([])));D&&D!==n&&i.call(D,l)&&(E=D);var C=M.prototype=S.prototype=Object.create(E);I.prototype=M,o(C,"constructor",{value:M,configurable:!0}),o(M,"constructor",{value:I,configurable:!0}),I.displayName=c(M,f,"GeneratorFunction");function R(H){["next","throw","return"].forEach(function(O){c(H,O,function(T){return this._invoke(O,T)})})}r.isGeneratorFunction=function(H){var O=typeof H=="function"&&H.constructor;return O?O===I||(O.displayName||O.name)==="GeneratorFunction":!1},r.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,M):(H.__proto__=M,c(H,f,"GeneratorFunction")),H.prototype=Object.create(C),H},r.awrap=function(H){return{__await:H}};function $(H,O){function T(Y,Q,ue,J){var oe=p(H[Y],H,Q);if(oe.type==="throw")J(oe.arg);else{var se=oe.arg,le=se.value;return le&&typeof le=="object"&&i.call(le,"__await")?O.resolve(le.__await).then(function(ge){T("next",ge,ue,J)},function(ge){T("throw",ge,ue,J)}):O.resolve(le).then(function(ge){se.value=ge,ue(se)},function(ge){return T("throw",ge,ue,J)})}}var V;function K(Y,Q){function ue(){return new O(function(J,oe){T(Y,Q,J,oe)})}return V=V?V.then(ue,ue):ue()}o(this,"_invoke",{value:K})}R($.prototype),c($.prototype,d,function(){return this}),r.AsyncIterator=$,r.async=function(H,O,T,V,K){K===void 0&&(K=Promise);var Y=new $(h(H,O,T,V),K);return r.isGeneratorFunction(O)?Y:Y.next().then(function(Q){return Q.done?Q.value:Y.next()})};function U(H,O,T){var V=m;return function(Y,Q){if(V===b)throw new Error("Generator is already running");if(V===v){if(Y==="throw")throw Q;return re()}for(T.method=Y,T.arg=Q;;){var ue=T.delegate;if(ue){var J=F(ue,T);if(J){if(J===x)continue;return J}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(V===m)throw V=v,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);V=b;var oe=p(H,O,T);if(oe.type==="normal"){if(V=T.done?v:y,oe.arg===x)continue;return{value:oe.arg,done:T.done}}else oe.type==="throw"&&(V=v,T.method="throw",T.arg=oe.arg)}}}function F(H,O){var T=O.method,V=H.iterator[T];if(V===s)return O.delegate=null,T==="throw"&&H.iterator.return&&(O.method="return",O.arg=s,F(H,O),O.method==="throw")||T!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+T+"' method")),x;var K=p(V,H.iterator,O.arg);if(K.type==="throw")return O.method="throw",O.arg=K.arg,O.delegate=null,x;var Y=K.arg;if(!Y)return O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,x;if(Y.done)O[H.resultName]=Y.value,O.next=H.nextLoc,O.method!=="return"&&(O.method="next",O.arg=s);else return Y;return O.delegate=null,x}R(C),c(C,f,"Generator"),c(C,l,function(){return this}),c(C,"toString",function(){return"[object Generator]"});function z(H){var O={tryLoc:H[0]};1 in H&&(O.catchLoc=H[1]),2 in H&&(O.finallyLoc=H[2],O.afterLoc=H[3]),this.tryEntries.push(O)}function W(H){var O=H.completion||{};O.type="normal",delete O.arg,H.completion=O}function B(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(z,this),this.reset(!0)}r.keys=function(H){var O=Object(H),T=[];for(var V in O)T.push(V);return T.reverse(),function K(){for(;T.length;){var Y=T.pop();if(Y in O)return K.value=Y,K.done=!1,K}return K.done=!0,K}};function P(H){if(H){var O=H[l];if(O)return O.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var T=-1,V=function K(){for(;++T<H.length;)if(i.call(H,T))return K.value=H[T],K.done=!1,K;return K.value=s,K.done=!0,K};return V.next=V}}return{next:re}}r.values=P;function re(){return{value:s,done:!0}}return B.prototype={constructor:B,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(W),!H)for(var O in this)O.charAt(0)==="t"&&i.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=s)},stop:function(){this.done=!0;var H=this.tryEntries[0],O=H.completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var O=this;function T(J,oe){return Y.type="throw",Y.arg=H,O.next=J,oe&&(O.method="next",O.arg=s),!!oe}for(var V=this.tryEntries.length-1;V>=0;--V){var K=this.tryEntries[V],Y=K.completion;if(K.tryLoc==="root")return T("end");if(K.tryLoc<=this.prev){var Q=i.call(K,"catchLoc"),ue=i.call(K,"finallyLoc");if(Q&&ue){if(this.prev<K.catchLoc)return T(K.catchLoc,!0);if(this.prev<K.finallyLoc)return T(K.finallyLoc)}else if(Q){if(this.prev<K.catchLoc)return T(K.catchLoc,!0)}else if(ue){if(this.prev<K.finallyLoc)return T(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,O){for(var T=this.tryEntries.length-1;T>=0;--T){var V=this.tryEntries[T];if(V.tryLoc<=this.prev&&i.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var K=V;break}}K&&(H==="break"||H==="continue")&&K.tryLoc<=O&&O<=K.finallyLoc&&(K=null);var Y=K?K.completion:{};return Y.type=H,Y.arg=O,K?(this.method="next",this.next=K.finallyLoc,x):this.complete(Y)},complete:function(H,O){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&O&&(this.next=O),x},finish:function(H){for(var O=this.tryEntries.length-1;O>=0;--O){var T=this.tryEntries[O];if(T.finallyLoc===H)return this.complete(T.completion,T.afterLoc),W(T),x}},catch:function(H){for(var O=this.tryEntries.length-1;O>=0;--O){var T=this.tryEntries[O];if(T.tryLoc===H){var V=T.completion;if(V.type==="throw"){var K=V.arg;W(T)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(H,O,T){return this.delegate={iterator:P(H),resultName:O,nextLoc:T},this.method==="next"&&(this.arg=s),x}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(ry)),ry.exports}var ny,Tk;function jW(){return Tk||(Tk=1,ny=UW()),ny}var iy,Ek;function zW(){if(Ek)return iy;Ek=1;function t(r,n,i,o,s,a,l){try{var d=r[a](l),f=d.value}catch(c){i(c);return}d.done?n(f):Promise.resolve(f).then(o,s)}function e(r){return function(){var n=this,i=arguments;return new Promise(function(o,s){var a=r.apply(n,i);function l(f){t(a,o,s,l,d,"next",f)}function d(f){t(a,o,s,l,d,"throw",f)}l(void 0)})}}return iy=e,iy}(function(t){var e=FW;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=e(jW()),n=e(zW());function i(s){return o.apply(this,arguments)}function o(){return(o=(0,n.default)(r.default.mark(function s(a){var l,d;return r.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=document.createElement("video"),d=new Promise(function(c,h){l.addEventListener("loadedmetadata",function(){l.duration===1/0?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,c(l.duration),l.currentTime=0}):c(l.duration)}),l.onerror=function(p){return h(p.target.error)}}),l.src=typeof a=="string"||a instanceof String?a:window.URL.createObjectURL(a),f.abrupt("return",d);case 4:case"end":return f.stop()}},s)}))).apply(this,arguments)}})(Ak);const $W=Xr(Ak),VW=t=>(u.pushScopeId("data-v-d7ca8ae1"),t=t(),u.popScopeId(),t),HW={class:"flex grow items-center gap-1"},qW={class:"relative flex h-12 w-0 min-w-0 grow items-center gap-3 rounded-xl bg-gray-100 px-3 dark:bg-zinc-700"},WW={key:0,class:"flex items-center gap-1 rounded-xl bg-white p-2 text-xs text-gray-600 transition duration-150 ease-in-out dark:bg-zinc-800"},GW=VW(()=>u.createElementVNode("img",{class:"h-4 w-4",src:zS},null,-1)),QW={class:"volumes"},YW={class:"ml-auto rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},KW={key:1,class:"ml-2 mr-1 h-6 w-6 cursor-not-allowed",src:yv},Ck="audio/webm",XW=180,JW=wi(u.defineComponent({__name:"AudioInput",setup(t){const{t:e}=_i(),r=Ft(),n=u.ref(3),i=u.ref(),o=u.ref(),s=u.ref(0),a=u.ref(0),l=u.ref(),d=u.ref(),f=u.reactive([]),c=u.ref(""),h=u.computed(()=>s.value>1),p=async()=>{var y,b;try{switch(n.value){case 3:{n.value=0,f.splice(0),s.value=0,a.value=0,i.value=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),o.value=new RW.RecordRTCPromisesHandler(i.value,{type:"audio",mimeType:Ck});let v=new AudioContext,x=v.createAnalyser();x.fftSize=64,x.smoothingTimeConstant=0,v.createMediaStreamSource(i.value).connect(x),d.value=window.setInterval(()=>{let I=new Uint8Array(x.frequencyBinCount);x.getByteFrequencyData(I);let M=I.reduce((L,D)=>L+D)/I.length;const E=Math.min(1,M/128);f.unshift(E)},100),await o.value.startRecording(),a.value=Date.now(),l.value=window.setInterval(()=>{s.value=(Date.now()-a.value)/1e3,s.value>=XW&&p()},1e3),n.value=1;break}case 1:n.value=2,await((y=o.value)==null?void 0:y.stopRecording()),(b=i.value)==null||b.getTracks().forEach(v=>v.stop()),clearInterval(l.value),clearInterval(d.value),n.value=3;break;default:break}}catch(v){console.error(v),c.value=e("noAccessMicrophonePermission")}},m=async()=>{var b;n.value!==3&&await p(),f.splice(0),s.value=0,a.value=0;let y=await((b=o.value)==null?void 0:b.getBlob());if(y){const v=await $W(y),x=new File([y],`${rf()}.webm`),S={roomId:r.state.imkit.selectedRoomId,messageType:"audio",file:x,duration:v,originalUrl:"",extra:{mimeType:Ck,fileName:x.name.split(".").slice(0,-1).join("."),bytes:x.size,fileExtension:x.name.split(".").pop()}};await r.dispatch("imkit/sendMessage",S)}};return u.onUnmounted(()=>{clearInterval(l.value),clearInterval(d.value)}),(y,b)=>(u.openBlock(),u.createElementBlock("div",HW,[u.createElementVNode("div",qW,[u.createElementVNode("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full border-2 border-gray-300",onClick:p},[u.createElementVNode("div",{class:u.normalizeClass(["h-6 w-6 rounded-full bg-red-500 transition-all duration-200 ease-in",{"h-3.5 w-3.5 rounded":n.value==1,"cursor-not-allowed bg-red-300":c.value}])},null,2)]),u.createVNode(u.Transition,null,{default:u.withCtx(()=>[c.value?(u.openBlock(),u.createElementBlock("div",WW,[GW,u.createTextVNode(" "+u.toDisplayString(c.value),1)])):u.createCommentVNode("",!0)]),_:1}),u.createElementVNode("div",QW,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(f,(v,x)=>(u.openBlock(),u.createElementBlock("div",{key:x,class:"!min-h-0.5 w-0.5 flex-shrink-0 rounded bg-gray-400",style:u.normalizeStyle({height:`${v*28}px`})},null,4))),128))]),u.createElementVNode("div",YW,u.toDisplayString(Math.floor(s.value/60))+":"+u.toDisplayString(`${Math.floor(s.value%60)}`.padStart(2,"0")),1)]),h.value?(u.openBlock(),u.createElementBlock("img",{key:0,class:"ml-2 mr-1 h-6 w-6 cursor-pointer",src:gv,onClick:m})):(u.openBlock(),u.createElementBlock("img",KW))]))}}),[["__scopeId","data-v-d7ca8ae1"]]),ZW=()=>{const t=window.location.href,e=t.substring(t.indexOf("?"));return new URLSearchParams(e.lastIndexOf("#/")==-1?e:e.substring(0,e.lastIndexOf("#/")))};function ed(t){var e;const r=Ss(t);return(e=r==null?void 0:r.$el)!=null?e:r}const Sk=rm?window:void 0;function Yh(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=Sk):[e,r,n,i]=t,!e)return Ba;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[ed(e),Ss(i)],([f,c])=>{if(s(),!f)return;const h=Qb(c)?{...c}:c;o.push(...r.flatMap(p=>n.map(m=>a(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return Id(d),d}let kk=!1;function Ik(t,e,r={}){const{window:n=Sk,ignore:i=[],capture:o=!0,detectIframe:s=!1}=r;if(!n)return Ba;nm&&!kk&&(kk=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",Ba)),n.document.documentElement.addEventListener("click",Ba));let a=!0;const l=h=>i.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=ed(p);return m&&(h.target===m||h.composedPath().includes(m))}}),f=[Yh(n,"click",h=>{const p=ed(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(a=!l(h)),!a){a=!0;return}e(h)}},{passive:!0,capture:o}),Yh(n,"pointerdown",h=>{const p=ed(t);a=!l(h)&&!!(p&&!h.composedPath().includes(p))},{passive:!0}),s&&Yh(n,"blur",h=>{setTimeout(()=>{var p;const m=ed(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&e(h)},0)})].filter(Boolean);return()=>f.forEach(h=>h())}const td={[Yb.mounted](t,e){const r=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=Ik(t,e.value,{capture:r});else{const[n,i]=e.value;t.__onClickOutside_stop=Ik(t,n,Object.assign({capture:r},i))}},[Yb.unmounted](t){t.__onClickOutside_stop()}};function oy(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function Dk(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:Dk(r)}}function eG(t){const e=t||window.event,r=e.target;return Dk(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Kh=new WeakMap;function tG(t,e=!1){const r=u.ref(e);let n=null;u.watch(tM(t),s=>{const a=oy(Ss(s));if(a){const l=a;Kh.get(l)||Kh.set(l,l.style.overflow),r.value&&(l.style.overflow="hidden")}},{immediate:!0});const i=()=>{const s=oy(Ss(t));!s||r.value||(nm&&(n=Yh(s,"touchmove",a=>{eG(a)},{passive:!1})),s.style.overflow="hidden",r.value=!0)},o=()=>{var s;const a=oy(Ss(t));!a||!r.value||(nm&&(n==null||n()),a.style.overflow=(s=Kh.get(a))!=null?s:"",Kh.delete(a),r.value=!1)};return Id(o),u.computed({get(){return r.value},set(s){s?i():o()}})}function rG(){let t=!1;const e=u.ref(!1);return(r,n)=>{if(e.value=n.value,t)return;t=!0;const i=tG(r,n.value);u.watch(e,o=>i.value=o)}}rG();const nG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UMU7DQBCF4ZEo4Aq0nICCKg03oMJpOIOVN1Nlx4UPAJcDypwgdInoiAJaCB3YG7IQ1nmftJJlWWP9XnlFiIiIiIiIiIhoR8D0DPA71XAbr2XIzJqRalio+uvHCot4Tw4j1t8X4M+q4VIOIVaHGG09sYOKtsTYQUSbNSPAl1+HhZe4voleFneQWffOroDmBgjXHdHl7LQlxH4+W3y0bRFbfLT9ILbYaNshtrhowC96TuNx+qww7jq947t+tyYB4I85YtOiw4PsU9u2JzljE6LXdV0f563YUvzqOWN7ou9l3yYTPwd8tomdm02vcs2Os1T9afMPz+K75L8A/LSqqqPcc+PMODv3XCIiIiIiIiIiIiIi+QNvk5r+mltEG0oAAAAASUVORK5CYII=",iG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR4nO3UMU7DMBiGYUsMcAVWTsDA1IUbdEIsHIlejrKlQ5r8H07SjYqtiCCrRUxNU2ooTt9HsmQp0W+9iWTnAAAAAAAAcKCiqK/MqolZ9Rj2bsikZmTmX6WqDWu9b0buFGL1Hf1Wlv7WnUKshhitHbGDilbP2EFEax273BK2CmvLs2VyF5k6/qyZfy/Llwczf9cRnc6fVo/Yr3eTj9YesclH6wexyUbrgNjkoovC33TdxlJ133dWeLfr9g5n/W5ND5J/jhHbJ1ryU3dMeZ5fxIzdFW3mP7IsO49bsafw1WPGdkf7J3dskq4lP9vENlI9jje7HptVi03sLJzl/ov5fHHZtu1Z7LlhZpgdey4AAAAAAAAAAO4PfAKuTjfhZH9KRQAAAABJRU5ErkJggg==",oG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVR4nO3UMU7DMBTGcSMGOAMbnICBBRZuwES6cIbIn1NFynOG7NwOWOECMBWxgQA91EqA2iRtLCW2vp/k0c/5x5KNISIiIiIiIiIiIiKKz15ZlkdZlu2HHqwzdbaeYabAWn/qnH9yzn8555+LoroKNVtnAfKiswF51LPM2AD/sIz9WYC8AzIbPldmOuvf7HszpqZpDn9/UKjodbHL9Znn+UHYii3pXw8Z3RKr686MDfBngH8NEd0Wq2foWWYKrK3OnZPFhlv5AOqbrhmAXLfEvjknl2ZK7IDo6GKHREcbu0t09LHbRCcTu1IU9UXH673xNda9Jka2/abTuNldo5OI7RudVGxXdJKxK/oY/Y2WRbQPVF9AdQLIra75vD7uvZGIiIiIiIiIiMx632C5/lbO/M2+AAAAAElFTkSuQmCC",sG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO3UMU7DMBTGcVcd4AxscAIGFli4QSfUhRtxO2CLQJHzPp5TOoHYQBiZhEqgNk0To8bR95MiZcmz/7FkY4iIiIiIiIiIiIiIEuO9n1i7PPLeT/9h9rSePTFDAOAU0EfAeRH3DJSzeLPLmYhbhtmAPoS1Ys3uDND7akPVI6LvgJv3n+vm9azVbEDvzD7leX74e0NxotfHfs/9zLLsIG7FjsJfjxm9KbY+4Vuzb9bqmYi+xohuig1rhLXMEADluYi+bNjoR1E8XW+bIaJXDbFvRaGXZkjQIzq52D7RycZ2iU4+dpfo0cT+ABYXTbd3020cvjUpQsNJj+Zku0aPIrZt9Khit0WPMvbPRbaKrt4TvaDasrY8EdGb8Djnjlt/SEREREREREREZr0vWIQ93o81LZQAAAAASUVORK5CYII=";var oo=(t=>(t.FetchRooms="/rooms",t.Search="/search",t.Subscribe="/me/subscribe",t.Unsubscribe="/me/unsubscribe",t))(oo||{});const aG={class:"flex h-16 items-center justify-center border-b border-solid p-2 dark:border-zinc-700"},lG={class:"flex grow items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},cG={key:0,class:"flex h-6 w-6 items-center justify-center"},uG=[u.createElementVNode("svg",{class:"h-5 w-5 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1)],dG={key:1,class:"h-6 w-6 cursor-pointer",src:Ud},fG=["placeholder"],hG={class:"pb-0.5 text-sm font-medium text-gray-500 dark:text-gray-300"},pG={key:1,width:"20",height:"20",src:iG,alt:"collapse-arrow"},mG={key:3,width:"20",height:"20",src:sG,alt:"expand-arrow"},gG=u.defineComponent({__name:"SearchPanel",setup(t){const e=Ft(),r=u.ref(""),n=u.ref(0),i=u.ref([]),o=u.ref(!1),s=u.ref(!1),a=async()=>{var h;if(!o.value&&r.value){s.value=!0;const{data:{result:p}}=await e.state.imkit.axios.post(oo.Search,{type:["messages"],room:e.state.imkit.selectedRoomId,keyword:r.value});i.value=((h=p.messages[0])==null?void 0:h.messages)??[],s.value=!1,i.value.length>0?(n.value=i.value.length,await e.commit("imkit/setState",{messageSearchKeyword:r.value}),await e.dispatch("imkit/navigateToMessage",i.value[n.value-1])):n.value=0}},l=h=>{h>0&&h<=i.value.length&&(n.value=h,e.dispatch("imkit/navigateToMessage",i.value[h-1]))},d=Qu(1e3,a),f=$1(500,d,{atBegin:!1});u.watch(r,f);const c=()=>{e.commit("imkit/setState",{isSearchInRoomMode:!1})};return(h,p)=>(u.openBlock(),u.createElementBlock("div",aG,[u.createElementVNode("div",lG,[s.value?(u.openBlock(),u.createElementBlock("div",cG,uG)):(u.openBlock(),u.createElementBlock("img",dG)),u.withDirectives(u.createElementVNode("input",{class:"grow bg-gray-100 outline-none dark:bg-zinc-700","onUpdate:modelValue":p[0]||(p[0]=m=>r.value=m),placeholder:h.$t("searchInConversation"),onCompositionstart:p[1]||(p[1]=m=>o.value=!0),onCompositionend:p[2]||(p[2]=m=>o.value=!1)},null,40,fG),[[u.vModelText,r.value]]),!s.value&&r.value.length>0?(u.openBlock(),u.createElementBlock(u.Fragment,{key:2},[u.createElementVNode("div",hG,u.toDisplayString(n.value)+"/"+u.toDisplayString(i.value.length),1),n.value>1?(u.openBlock(),u.createElementBlock("img",{key:0,class:"cursor-pointer",width:"20",height:"20",src:nG,alt:"collapse-arrow",onClick:p[3]||(p[3]=m=>l(n.value-1))})):(u.openBlock(),u.createElementBlock("img",pG)),n.value<i.value.length?(u.openBlock(),u.createElementBlock("img",{key:2,class:"cursor-pointer",width:"20",height:"20",src:oG,alt:"expand-arrow",onClick:p[4]||(p[4]=m=>l(n.value+1))})):(u.openBlock(),u.createElementBlock("img",mG))],64)):u.createCommentVNode("",!0),u.createElementVNode("img",{src:$h,class:"h-5 w-5 cursor-pointer",onClick:p[5]||(p[5]=()=>{u.unref(f).cancel({upcomingOnly:!0}),r.value="",u.unref(d)(),c()})})])]))}});var sy=(t=>(t.Direct="direct",t.Group="group",t))(sy||{});class rd{constructor(e,r){Pe(this,"id");Pe(this,"name");Pe(this,"type");Pe(this,"createdAt");Pe(this,"updatedAt");Pe(this,"memberIds");Pe(this,"isOutgoingGroupSender");Pe(this,"coverUrl");Pe(this,"lastMessage");Pe(this,"numberOfUnread");Pe(this,"lastReadMessageId");Pe(this,"pref");Pe(this,"roomTags");Pe(this,"extra");Pe(this,"muted",!1);Pe(this,"description");var v;const{_id:n,name:i,roomType:o,createdTimeMS:s,lastMessage:a,members:l,cover:d,unread:f,memberProperties:c,extParams:h,pref:p,roomTags:m,muted:y,description:b}=e;if(this.id=n,this.name=i,this.type=o||"direct",this.createdAt=s,this.lastMessage=ir.fromRaw(a),this.updatedAt=((v=this.lastMessage)==null?void 0:v.createdAt)??s,this.memberIds=[],this.isOutgoingGroupSender={},l.forEach(x=>{this.memberIds.push(x._id),x.clientType==="group"&&x.members.some(S=>S._id===r)&&x.members.forEach(S=>{this.isOutgoingGroupSender[S._id]=!0})}),this.coverUrl=d??"",this.numberOfUnread=f??0,this.lastReadMessageId={},this.pref=p,this.roomTags=m??[],this.muted=y,this.description=b??"",c)for(const{client:x,lastRead:S}of c)this.lastReadMessageId[x]=S;try{this.extra=JSON.parse(h)}catch{this.extra={}}o==="custom"&&(this.type=this.extra.roomType)}get memberIdsWithoutMeAndMyGroup(){const{state:{imkit:{uid:e,users:r}}}=Ft();return this.memberIds.filter(n=>n!==e&&!r[n].memberIds[e])}_displayName(e,r){if(this.type=="group")return`${this.name} (${this.memberIds.length})`;if(this.type=="direct")if(this.extra.guestId){const n=this.extra.guestId;return r[n].nickname??""}else return this.memberIds.filter(n=>n!==e).map(n=>r[n].nickname).join(", ");return""}get displayName(){var n;const{state:{imkit:{uid:e,users:r}}}=Ft();if(this.memberIdsWithoutMeAndMyGroup.length===0){const{t:i}=_i();return i("emptyChat")}else{if(this.type=="direct")return(n=this.memberIdsWithoutMeAndMyGroup.map(i=>r[i])[0])==null?void 0:n.nickname;if(this.type=="group")return this.name?this.name:this.memberIds.filter(i=>i!==e).map(i=>r[i].nickname).join(", ")}return""}get avatars(){const{state:{imkit:{uid:e,users:r}}}=Ft();return this.memberIdsWithoutMeAndMyGroup.length===0?[{url:r[e].avatarUrl??"",name:r[e].nickname??""}]:this.type=="direct"?this.memberIdsWithoutMeAndMyGroup.map(n=>({url:r[n].avatarUrl??"",name:r[n].nickname??""})):this.type=="group"?this.coverUrl&&this.coverUrl.length>0?[{url:this.coverUrl,name:this.displayName??""}]:this.memberIds.map(n=>r[n]).sort((n,i)=>n.id===e?1:i.id===e?-1:(i.avatarUrl??"").length-(n.avatarUrl??"").length).map(n=>({url:n.avatarUrl??"",name:n.nickname??""})):[{url:"",name:this.displayName??""}]}}function Bo(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function ay(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}const Mk={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},Zl="^\\s*",ec="\\s*$",sa="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",aa="([0-9A-Fa-f])",la="([0-9A-Fa-f]{2})",yG=new RegExp(`${Zl}rgb\\s*\\(${sa},${sa},${sa}\\)${ec}`),bG=new RegExp(`${Zl}rgba\\s*\\(${sa},${sa},${sa},${sa}\\)${ec}`),vG=new RegExp(`${Zl}#${aa}${aa}${aa}${ec}`),_G=new RegExp(`${Zl}#${la}${la}${la}${ec}`),wG=new RegExp(`${Zl}#${aa}${aa}${aa}${aa}${ec}`),AG=new RegExp(`${Zl}#${la}${la}${la}${la}${ec}`);function Cn(t){return parseInt(t,16)}function Ro(t){try{let e;if(e=_G.exec(t))return[Cn(e[1]),Cn(e[2]),Cn(e[3]),1];if(e=yG.exec(t))return[Gr(e[1]),Gr(e[5]),Gr(e[9]),1];if(e=bG.exec(t))return[Gr(e[1]),Gr(e[5]),Gr(e[9]),nd(e[13])];if(e=vG.exec(t))return[Cn(e[1]+e[1]),Cn(e[2]+e[2]),Cn(e[3]+e[3]),1];if(e=AG.exec(t))return[Cn(e[1]),Cn(e[2]),Cn(e[3]),nd(Cn(e[4])/255)];if(e=wG.exec(t))return[Cn(e[1]+e[1]),Cn(e[2]+e[2]),Cn(e[3]+e[3]),nd(Cn(e[4]+e[4])/255)];if(t in Mk)return Ro(Mk[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function xG(t){return t>1?1:t<0?0:t}function ly(t,e,r,n){return`rgba(${Gr(t)}, ${Gr(e)}, ${Gr(r)}, ${xG(n)})`}function cy(t,e,r,n,i){return Gr((t*e*(1-n)+r*n)/i)}function nt(t,e){Array.isArray(t)||(t=Ro(t)),Array.isArray(e)||(e=Ro(e));const r=t[3],n=e[3],i=nd(r+n-r*n);return ly(cy(t[0],r,e[0],n,i),cy(t[1],r,e[1],n,i),cy(t[2],r,e[2],n,i),i)}function Ye(t,e){const[r,n,i,o=1]=Array.isArray(t)?t:Ro(t);return e.alpha?ly(r,n,i,e.alpha):ly(r,n,i,o)}function yr(t,e){const[r,n,i,o=1]=Array.isArray(t)?t:Ro(t),{lightness:s=1,alpha:a=1}=e;return TG([r*s,n*s,i*s,o*a])}function nd(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Gr(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function TG(t){const[e,r,n]=t;return 3 in t?`rgba(${Gr(e)}, ${Gr(r)}, ${Gr(n)}, ${nd(t[3])})`:`rgba(${Gr(e)}, ${Gr(r)}, ${Gr(n)}, 1)`}function Xh(t,...e){if(Array.isArray(t))t.forEach(r=>Xh(r,...e));else return t(...e)}const Nk=new Set;function EG(t,e){const r=`[naive/${t}]: ${e}`;Nk.has(r)||(Nk.add(r),console.error(r))}function CG(t,e){console.error(`[naive/${t}]: ${e}`)}function Ok(t,e){throw new Error(`[naive/${t}]: ${e}`)}function uy(t){return t.some(e=>u.isVNode(e)?!(e.type===u.Comment||e.type===u.Fragment&&!uy(e.children)):!0)?t:null}function ca(t,e){const r=t&&uy(t());return e(r||null)}function dy(t){return!(t&&uy(t()))}const SG=/^(\d|\.)+$/,Lk=/(\d|\.)+/;function kG(t,{c:e=1,offset:r=0,attachPx:n=!0}={}){if(typeof t=="number"){const i=(t+r)*e;return i===0?"0":`${i}px`}else if(typeof t=="string")if(SG.test(t)){const i=(Number(t)+r)*e;return n?i===0?"0":`${i}px`:`${i}`}else{const i=Lk.exec(t);return i?t.replace(Lk,String((Number(i[0])+r)*e)):t}return t}function IG(t){let e=0;for(let r=0;r<t.length;++r)t[r]==="&"&&++e;return e}const Bk=/\s*,(?![^(]*\))\s*/g,DG=/\s+/g;function MG(t,e){const r=[];return e.split(Bk).forEach(n=>{let i=IG(n);if(i){if(i===1){t.forEach(s=>{r.push(n.replace("&",s))});return}}else{t.forEach(s=>{r.push((s&&s+" ")+n)});return}let o=[n];for(;i--;){const s=[];o.forEach(a=>{t.forEach(l=>{s.push(a.replace("&",l))})}),o=s}o.forEach(s=>r.push(s))}),r}function NG(t,e){const r=[];return e.split(Bk).forEach(n=>{t.forEach(i=>{r.push((i&&i+" ")+n)})}),r}function OG(t){let e=[""];return t.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?e=MG(e,r):e=NG(e,r))}),e.join(", ").replace(DG," ")}function Rk(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function fy(t){return document.querySelector(`style[cssr-id="${t}"]`)}function LG(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Jh(t){return t?/^\s*@(s|m)/.test(t):!1}const BG=/[A-Z]/g;function Pk(t){return t.replace(BG,e=>"-"+e.toLowerCase())}function RG(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(r=>e+`  ${Pk(r[0])}: ${r[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function PG(t,e,r){return typeof t=="function"?t({context:e.context,props:r}):t}function Fk(t,e,r,n){if(!e)return"";const i=PG(e,r,n);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const o=Object.keys(i);if(o.length===0)return r.config.keepEmptyBlock?t+` {
}`:"";const s=t?[t+" {"]:[];return o.forEach(a=>{const l=i[a];if(a==="raw"){s.push(`
`+l+`
`);return}a=Pk(a),l!=null&&s.push(`  ${a}${RG(l)}`)}),t&&s.push("}"),s.join(`
`)}function hy(t,e,r){t&&t.forEach(n=>{if(Array.isArray(n))hy(n,e,r);else if(typeof n=="function"){const i=n(e);Array.isArray(i)?hy(i,e,r):i&&r(i)}else n&&r(n)})}function Uk(t,e,r,n,i,o){const s=t.$;let a="";if(!s||typeof s=="string")Jh(s)?a=s:e.push(s);else if(typeof s=="function"){const f=s({context:n.context,props:i});Jh(f)?a=f:e.push(f)}else if(s.before&&s.before(n.context),!s.$||typeof s.$=="string")Jh(s.$)?a=s.$:e.push(s.$);else if(s.$){const f=s.$({context:n.context,props:i});Jh(f)?a=f:e.push(f)}const l=OG(e),d=Fk(l,t.props,n,i);a?(r.push(`${a} {`),o&&d&&o.insertRule(`${a} {
${d}
}
`)):(o&&d&&o.insertRule(d),!o&&d.length&&r.push(d)),t.children&&hy(t.children,{context:n.context,props:i},f=>{if(typeof f=="string"){const c=Fk(l,{raw:f},n,i);o?o.insertRule(c):r.push(c)}else Uk(f,e,r,n,i,o)}),e.pop(),a&&r.push("}"),s&&s.after&&s.after(n.context)}function jk(t,e,r,n=!1){const i=[];return Uk(t,[],i,e,r,n?t.instance.__styleSheet:void 0),n?"":i.join(`

`)}function py(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function FG(t,e,r){const{els:n}=e;if(r===void 0)n.forEach(Rk),e.els=[];else{const i=fy(r);i&&n.includes(i)&&(Rk(i),e.els=n.filter(o=>o!==i))}}function zk(t,e){t.push(e)}function UG(t,e,r,n,i,o,s,a,l){if(o&&!l){if(r===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const h=window.__cssrContext;h[r]||(h[r]=!0,jk(e,t,n,o));return}let d;if(r===void 0&&(d=e.render(n),r=py(d)),l){l.adapter(r,d??e.render(n));return}const f=fy(r);if(f!==null&&!s)return f;const c=f??LG(r);if(d===void 0&&(d=e.render(n)),c.textContent=d,f!==null)return f;if(a){const h=document.head.querySelector(`meta[name="${a}"]`);if(h)return document.head.insertBefore(c,h),zk(e.els,c),c}return i?document.head.insertBefore(c,document.head.querySelector("style, link")):document.head.appendChild(c),zk(e.els,c),c}function jG(t){return jk(this,this.instance,t)}function zG(t={}){const{id:e,ssr:r,props:n,head:i=!1,silent:o=!1,force:s=!1,anchorMetaName:a}=t;return UG(this.instance,this,e,n,i,o,s,a,r)}function $G(t={}){const{id:e}=t;FG(this.instance,this,e)}const Zh=function(t,e,r,n){return{instance:t,$:e,props:r,children:n,els:[],render:jG,mount:zG,unmount:$G}},VG=function(t,e,r,n){return Array.isArray(e)?Zh(t,{$:null},null,e):Array.isArray(r)?Zh(t,e,null,r):Array.isArray(n)?Zh(t,e,r,n):Zh(t,e,r,null)};function HG(t={}){let e=null;const r={c:(...n)=>VG(r,...n),use:(n,...i)=>n.install(r,...i),find:fy,context:{},config:t,get __styleSheet(){if(!e){const n=document.createElement("style");return document.head.appendChild(n),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return r}function qG(t){let e=".",r="__",n="--",i;if(t){let f=t.blockPrefix;f&&(e=f),f=t.elementPrefix,f&&(r=f),f=t.modifierPrefix,f&&(n=f)}const o={install(f){i=f.c;const c=f.context;c.bem={},c.bem.b=null,c.bem.els=null}};function s(f){let c,h;return{before(p){c=p.bem.b,h=p.bem.els,p.bem.els=null},after(p){p.bem.b=c,p.bem.els=h},$({context:p,props:m}){return f=typeof f=="string"?f:f({context:p,props:m}),p.bem.b=f,`${(m==null?void 0:m.bPrefix)||e}${p.bem.b}`}}}function a(f){let c;return{before(h){c=h.bem.els},after(h){h.bem.els=c},$({context:h,props:p}){return f=typeof f=="string"?f:f({context:h,props:p}),h.bem.els=f.split(",").map(m=>m.trim()),h.bem.els.map(m=>`${(p==null?void 0:p.bPrefix)||e}${h.bem.b}${r}${m}`).join(", ")}}}function l(f){return{$({context:c,props:h}){f=typeof f=="string"?f:f({context:c,props:h});const p=f.split(",").map(b=>b.trim());function m(b){return p.map(v=>`&${(h==null?void 0:h.bPrefix)||e}${c.bem.b}${b!==void 0?`${r}${b}`:""}${n}${v}`).join(", ")}const y=c.bem.els;if(y!==null){if(process.env.NODE_ENV!=="production"&&y.length>=2)throw Error(`[css-render/plugin-bem]: m(${f}) is invalid, using modifier inside multiple elements is not allowed`);return m(y[0])}else return m()}}}function d(f){return{$({context:c,props:h}){f=typeof f=="string"?f:f({context:c,props:h});const p=c.bem.els;if(process.env.NODE_ENV!=="production"&&p!==null&&p.length>=2)throw Error(`[css-render/plugin-bem]: notM(${f}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(h==null?void 0:h.bPrefix)||e}${c.bem.b}${p!==null&&p.length>0?`${r}${p[0]}`:""}${n}${f})`}}}return Object.assign(o,{cB:(...f)=>i(s(f[0]),f[1],f[2]),cE:(...f)=>i(a(f[0]),f[1],f[2]),cM:(...f)=>i(l(f[0]),f[1],f[2]),cNotM:(...f)=>i(d(f[0]),f[1],f[2])}),o}function ms(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,r=>r.toUpperCase()))}ms("abc","def");const WG="n",GG=`.${WG}-`,QG="__",YG="--",$k=HG(),Vk=qG({blockPrefix:GG,elementPrefix:QG,modifierPrefix:YG});$k.use(Vk);const{c:Qr,find:Qde}=$k,{cB:ep,cE:At,cM:Ni,cNotM:Hk}=Vk;function KG(t,e){return u.watch(t,r=>{r!==void 0&&(e.value=r)}),u.computed(()=>t.value===void 0?e.value:t.value)}function XG(){const t=u.ref(!1);return u.onMounted(()=>{t.value=!0}),u.readonly(t)}const qk=Symbol("@css-render/vue3-ssr");function JG(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function ZG(t,e){const r=u.inject(qk,null);if(r===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:n,ids:i}=r;i.has(t)||n!==null&&(i.add(t),n.push(JG(t,e)))}const eQ=typeof document<"u";function my(){if(eQ)return;const t=u.inject(qk,null);if(t!==null)return{adapter:ZG,context:t}}const Wk="n-form-item";function tQ(t,{defaultSize:e="medium",mergedSize:r,mergedDisabled:n}={}){const i=u.inject(Wk,null);u.provide(Wk,null);const o=u.computed(r?()=>r(i):()=>{const{size:l}=t;if(l)return l;if(i){const{mergedSize:d}=i;if(d.value!==void 0)return d.value}return e}),s=u.computed(n?()=>n(i):()=>{const{disabled:l}=t;return l!==void 0?l:i?i.disabled.value:!1}),a=u.computed(()=>{const{status:l}=t;return l||(i==null?void 0:i.mergedValidationStatus.value)});return u.onBeforeUnmount(()=>{i&&i.restoreValidation()}),{mergedSizeRef:o,mergedDisabledRef:s,mergedStatusRef:a,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var rQ=typeof global=="object"&&global&&global.Object===Object&&global;const Gk=rQ;var nQ=typeof self=="object"&&self&&self.Object===Object&&self,iQ=Gk||nQ||Function("return this")();const tc=iQ;var oQ=tc.Symbol;const tp=oQ;var Qk=Object.prototype,sQ=Qk.hasOwnProperty,aQ=Qk.toString,id=tp?tp.toStringTag:void 0;function lQ(t){var e=sQ.call(t,id),r=t[id];try{t[id]=void 0;var n=!0}catch{}var i=aQ.call(t);return n&&(e?t[id]=r:delete t[id]),i}var cQ=Object.prototype,uQ=cQ.toString;function dQ(t){return uQ.call(t)}var fQ="[object Null]",hQ="[object Undefined]",Yk=tp?tp.toStringTag:void 0;function rp(t){return t==null?t===void 0?hQ:fQ:Yk&&Yk in Object(t)?lQ(t):dQ(t)}function od(t){return t!=null&&typeof t=="object"}var pQ=Array.isArray;const gy=pQ;function ua(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Kk(t){return t}var mQ="[object AsyncFunction]",gQ="[object Function]",yQ="[object GeneratorFunction]",bQ="[object Proxy]";function yy(t){if(!ua(t))return!1;var e=rp(t);return e==gQ||e==yQ||e==mQ||e==bQ}var vQ=tc["__core-js_shared__"];const by=vQ;var Xk=function(){var t=/[^.]+$/.exec(by&&by.keys&&by.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _Q(t){return!!Xk&&Xk in t}var wQ=Function.prototype,AQ=wQ.toString;function xQ(t){if(t!=null){try{return AQ.call(t)}catch{}try{return t+""}catch{}}return""}var TQ=/[\\^$.*+?()[\]{}|]/g,EQ=/^\[object .+?Constructor\]$/,CQ=Function.prototype,SQ=Object.prototype,kQ=CQ.toString,IQ=SQ.hasOwnProperty,DQ=RegExp("^"+kQ.call(IQ).replace(TQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MQ(t){if(!ua(t)||_Q(t))return!1;var e=yy(t)?DQ:EQ;return e.test(xQ(t))}function NQ(t,e){return t==null?void 0:t[e]}function vy(t,e){var r=NQ(t,e);return MQ(r)?r:void 0}var Jk=Object.create,OQ=function(){function t(){}return function(e){if(!ua(e))return{};if(Jk)return Jk(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const LQ=OQ;function BQ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function RQ(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var PQ=800,FQ=16,UQ=Date.now;function jQ(t){var e=0,r=0;return function(){var n=UQ(),i=FQ-(n-r);if(r=n,i>0){if(++e>=PQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function zQ(t){return function(){return t}}var $Q=function(){try{var t=vy(Object,"defineProperty");return t({},"",{}),t}catch{}}();const np=$Q;var VQ=np?function(t,e){return np(t,"toString",{configurable:!0,enumerable:!1,value:zQ(e),writable:!0})}:Kk,HQ=jQ(VQ);const qQ=HQ;var WQ=9007199254740991,GQ=/^(?:0|[1-9]\d*)$/;function Zk(t,e){var r=typeof t;return e=e??WQ,!!e&&(r=="number"||r!="symbol"&&GQ.test(t))&&t>-1&&t%1==0&&t<e}function _y(t,e,r){e=="__proto__"&&np?np(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function ip(t,e){return t===e||t!==t&&e!==e}var QQ=Object.prototype,YQ=QQ.hasOwnProperty;function KQ(t,e,r){var n=t[e];(!(YQ.call(t,e)&&ip(n,r))||r===void 0&&!(e in t))&&_y(t,e,r)}function XQ(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?_y(r,a,l):KQ(r,a,l)}return r}var e3=Math.max;function JQ(t,e,r){return e=e3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=e3(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),BQ(t,this,a)}}function ZQ(t,e){return qQ(JQ(t,e,Kk),t+"")}var eY=9007199254740991;function t3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eY}function wy(t){return t!=null&&t3(t.length)&&!yy(t)}function tY(t,e,r){if(!ua(r))return!1;var n=typeof e;return(n=="number"?wy(r)&&Zk(e,r.length):n=="string"&&e in r)?ip(r[e],t):!1}function rY(t){return ZQ(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&tY(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}var nY=Object.prototype;function r3(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||nY;return t===r}function iY(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var oY="[object Arguments]";function n3(t){return od(t)&&rp(t)==oY}var i3=Object.prototype,sY=i3.hasOwnProperty,aY=i3.propertyIsEnumerable,lY=n3(function(){return arguments}())?n3:function(t){return od(t)&&sY.call(t,"callee")&&!aY.call(t,"callee")};const Ay=lY;function cY(){return!1}var o3=typeof ut=="object"&&ut&&!ut.nodeType&&ut,s3=o3&&typeof module=="object"&&module&&!module.nodeType&&module,uY=s3&&s3.exports===o3,a3=uY?tc.Buffer:void 0,dY=a3?a3.isBuffer:void 0,fY=dY||cY;const l3=fY;var hY="[object Arguments]",pY="[object Array]",mY="[object Boolean]",gY="[object Date]",yY="[object Error]",bY="[object Function]",vY="[object Map]",_Y="[object Number]",wY="[object Object]",AY="[object RegExp]",xY="[object Set]",TY="[object String]",EY="[object WeakMap]",CY="[object ArrayBuffer]",SY="[object DataView]",kY="[object Float32Array]",IY="[object Float64Array]",DY="[object Int8Array]",MY="[object Int16Array]",NY="[object Int32Array]",OY="[object Uint8Array]",LY="[object Uint8ClampedArray]",BY="[object Uint16Array]",RY="[object Uint32Array]",Jt={};Jt[kY]=Jt[IY]=Jt[DY]=Jt[MY]=Jt[NY]=Jt[OY]=Jt[LY]=Jt[BY]=Jt[RY]=!0,Jt[hY]=Jt[pY]=Jt[CY]=Jt[mY]=Jt[SY]=Jt[gY]=Jt[yY]=Jt[bY]=Jt[vY]=Jt[_Y]=Jt[wY]=Jt[AY]=Jt[xY]=Jt[TY]=Jt[EY]=!1;function PY(t){return od(t)&&t3(t.length)&&!!Jt[rp(t)]}function FY(t){return function(e){return t(e)}}var c3=typeof ut=="object"&&ut&&!ut.nodeType&&ut,sd=c3&&typeof module=="object"&&module&&!module.nodeType&&module,UY=sd&&sd.exports===c3,xy=UY&&Gk.process,jY=function(){try{var t=sd&&sd.require&&sd.require("util").types;return t||xy&&xy.binding&&xy.binding("util")}catch{}}();const u3=jY;var d3=u3&&u3.isTypedArray,zY=d3?FY(d3):PY;const f3=zY;function $Y(t,e){var r=gy(t),n=!r&&Ay(t),i=!r&&!n&&l3(t),o=!r&&!n&&!i&&f3(t),s=r||n||i||o,a=s?iY(t.length,String):[],l=a.length;for(var d in t)!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Zk(d,l)))&&a.push(d);return a}function VY(t,e){return function(r){return t(e(r))}}function HY(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var qY=Object.prototype,WY=qY.hasOwnProperty;function GY(t){if(!ua(t))return HY(t);var e=r3(t),r=[];for(var n in t)n=="constructor"&&(e||!WY.call(t,n))||r.push(n);return r}function h3(t){return wy(t)?$Y(t):GY(t)}var QY=vy(Object,"create");const ad=QY;function YY(){this.__data__=ad?ad(null):{},this.size=0}function KY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var XY="__lodash_hash_undefined__",JY=Object.prototype,ZY=JY.hasOwnProperty;function eK(t){var e=this.__data__;if(ad){var r=e[t];return r===XY?void 0:r}return ZY.call(e,t)?e[t]:void 0}var tK=Object.prototype,rK=tK.hasOwnProperty;function nK(t){var e=this.__data__;return ad?e[t]!==void 0:rK.call(e,t)}var iK="__lodash_hash_undefined__";function oK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ad&&e===void 0?iK:e,this}function da(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}da.prototype.clear=YY,da.prototype.delete=KY,da.prototype.get=eK,da.prototype.has=nK,da.prototype.set=oK;function sK(){this.__data__=[],this.size=0}function op(t,e){for(var r=t.length;r--;)if(ip(t[r][0],e))return r;return-1}var aK=Array.prototype,lK=aK.splice;function cK(t){var e=this.__data__,r=op(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():lK.call(e,r,1),--this.size,!0}function uK(t){var e=this.__data__,r=op(e,t);return r<0?void 0:e[r][1]}function dK(t){return op(this.__data__,t)>-1}function fK(t,e){var r=this.__data__,n=op(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Po(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Po.prototype.clear=sK,Po.prototype.delete=cK,Po.prototype.get=uK,Po.prototype.has=dK,Po.prototype.set=fK;var hK=vy(tc,"Map");const p3=hK;function pK(){this.size=0,this.__data__={hash:new da,map:new(p3||Po),string:new da}}function mK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sp(t,e){var r=t.__data__;return mK(e)?r[typeof e=="string"?"string":"hash"]:r.map}function gK(t){var e=sp(this,t).delete(t);return this.size-=e?1:0,e}function yK(t){return sp(this,t).get(t)}function bK(t){return sp(this,t).has(t)}function vK(t,e){var r=sp(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function rc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rc.prototype.clear=pK,rc.prototype.delete=gK,rc.prototype.get=yK,rc.prototype.has=bK,rc.prototype.set=vK;var _K=VY(Object.getPrototypeOf,Object);const m3=_K;var wK="[object Object]",AK=Function.prototype,xK=Object.prototype,g3=AK.toString,TK=xK.hasOwnProperty,EK=g3.call(Object);function CK(t){if(!od(t)||rp(t)!=wK)return!1;var e=m3(t);if(e===null)return!0;var r=TK.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&g3.call(r)==EK}function SK(){this.__data__=new Po,this.size=0}function kK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function IK(t){return this.__data__.get(t)}function DK(t){return this.__data__.has(t)}var MK=200;function NK(t,e){var r=this.__data__;if(r instanceof Po){var n=r.__data__;if(!p3||n.length<MK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new rc(n)}return r.set(t,e),this.size=r.size,this}function nc(t){var e=this.__data__=new Po(t);this.size=e.size}nc.prototype.clear=SK,nc.prototype.delete=kK,nc.prototype.get=IK,nc.prototype.has=DK,nc.prototype.set=NK;var y3=typeof ut=="object"&&ut&&!ut.nodeType&&ut,b3=y3&&typeof module=="object"&&module&&!module.nodeType&&module,OK=b3&&b3.exports===y3,v3=OK?tc.Buffer:void 0;v3&&v3.allocUnsafe;function LK(t,e){return t.slice()}var BK=tc.Uint8Array;const _3=BK;function RK(t){var e=new t.constructor(t.byteLength);return new _3(e).set(new _3(t)),e}function PK(t,e){var r=RK(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function FK(t){return typeof t.constructor=="function"&&!r3(t)?LQ(m3(t)):{}}function UK(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[++i];if(r(o[l],l,o)===!1)break}return e}}var jK=UK();const zK=jK;function Ty(t,e,r){(r!==void 0&&!ip(t[e],r)||r===void 0&&!(e in t))&&_y(t,e,r)}function $K(t){return od(t)&&wy(t)}function Ey(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function VK(t){return XQ(t,h3(t))}function HK(t,e,r,n,i,o,s){var a=Ey(t,r),l=Ey(e,r),d=s.get(l);if(d){Ty(t,r,d);return}var f=o?o(a,l,r+"",t,e,s):void 0,c=f===void 0;if(c){var h=gy(l),p=!h&&l3(l),m=!h&&!p&&f3(l);f=l,h||p||m?gy(a)?f=a:$K(a)?f=RQ(a):p?(c=!1,f=LK(l)):m?(c=!1,f=PK(l)):f=[]:CK(l)||Ay(l)?(f=a,Ay(a)?f=VK(a):(!ua(a)||yy(a))&&(f=FK(l))):c=!1}c&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),Ty(t,r,f)}function w3(t,e,r,n,i){t!==e&&zK(e,function(o,s){if(i||(i=new nc),ua(o))HK(t,e,s,r,w3,n,i);else{var a=n?n(Ey(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Ty(t,s,a)}},h3)}var qK=rY(function(t,e,r){w3(t,e,r)});const ap=qK,lp={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:WK,fontFamily:GK,lineHeight:QK}=lp,A3=Qr("body",`
 margin: 0;
 font-size: ${WK};
 font-family: ${GK};
 line-height: ${QK};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[Qr("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),cp="n-config-provider",up="naive-ui-style";function ld(t,e,r,n,i,o){const s=my(),a=u.inject(cp,null);if(r){const l=()=>{const d=o==null?void 0:o.value;r.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:up,ssr:s}),a!=null&&a.preflightStyleDisabled||A3.mount({id:"n-global",head:!0,anchorMetaName:up,ssr:s})};s?l():u.onBeforeMount(l)}return u.computed(()=>{var l;const{theme:{common:d,self:f,peers:c={}}={},themeOverrides:h={},builtinThemeOverrides:p={}}=i,{common:m,peers:y}=h,{common:b=void 0,[t]:{common:v=void 0,self:x=void 0,peers:S={}}={}}=(a==null?void 0:a.mergedThemeRef.value)||{},{common:I=void 0,[t]:M={}}=(a==null?void 0:a.mergedThemeOverridesRef.value)||{},{common:E,peers:L={}}=M,D=ap({},d||v||b||n.common,I,E,m),C=ap((l=f||x||n.self)===null||l===void 0?void 0:l(D),p,M,h);return{common:D,self:C,peers:ap({},n.peers,S,c),peerOverrides:ap({},p.peers,L,y)}})}ld.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const YK="n";function x3(t={},e={defaultBordered:!0}){const r=u.inject(cp,null);return{inlineThemeDisabled:r==null?void 0:r.inlineThemeDisabled,mergedRtlRef:r==null?void 0:r.mergedRtlRef,mergedComponentPropsRef:r==null?void 0:r.mergedComponentPropsRef,mergedBreakpointsRef:r==null?void 0:r.mergedBreakpointsRef,mergedBorderedRef:u.computed(()=>{var n,i;const{bordered:o}=t;return o!==void 0?o:(i=(n=r==null?void 0:r.mergedBorderedRef.value)!==null&&n!==void 0?n:e.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:r?r.mergedClsPrefixRef:u.shallowRef(YK),namespaceRef:u.computed(()=>r==null?void 0:r.mergedNamespaceRef.value)}}function KK(t,e,r){if(!e){process.env.NODE_ENV!=="production"&&Ok("use-style","No style is specified.");return}const n=my(),i=u.inject(cp,null),o=()=>{const s=r.value;e.mount({id:s===void 0?t:s+t,head:!0,anchorMetaName:up,props:{bPrefix:s?`.${s}-`:void 0},ssr:n}),i!=null&&i.preflightStyleDisabled||A3.mount({id:"n-global",head:!0,anchorMetaName:up,ssr:n})};n?o():u.onBeforeMount(o)}function T3(t,e,r,n){var i;r||Ok("useThemeClass","cssVarsRef is not passed");const o=(i=u.inject(cp,null))===null||i===void 0?void 0:i.mergedThemeHashRef,s=u.ref(""),a=my();let l;const d=`__${t}`,f=()=>{let c=d;const h=e?e.value:void 0,p=o==null?void 0:o.value;p&&(c+="-"+p),h&&(c+="-"+h);const{themeOverrides:m,builtinThemeOverrides:y}=n;m&&(c+="-"+py(JSON.stringify(m))),y&&(c+="-"+py(JSON.stringify(y))),s.value=c,l=()=>{const b=r.value;let v="";for(const x in b)v+=`${x}: ${b[x]};`;Qr(`.${c}`,v).mount({id:c,ssr:a}),l=void 0}};return u.watchEffect(()=>{f()}),{themeClass:s,onRender:()=>{l==null||l()}}}const E3=u.defineComponent({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const r=XG();return()=>u.h(u.Transition,{name:"icon-switch-transition",appear:r.value},e)}}),{cubicBezierEaseInOut:XK}=lp;function dp({originalTransform:t="",left:e=0,top:r=0,transition:n=`all .3s ${XK} !important`}={}){return[Qr("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:t+" scale(0.75)",left:e,top:r,opacity:0}),Qr("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:r,opacity:1}),Qr("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:r,transition:n})]}const JK=Qr([Qr("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),Qr("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),Qr("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),Qr("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),ep("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[At("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[dp()]),At("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[At("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),At("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[At("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[At("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),At("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[At("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),At("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[At("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),At("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[dp({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),ZK={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},eX=u.defineComponent({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},ZK),setup(t){KK("-base-loading",JK,u.toRef(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:r,stroke:n,scale:i}=this,o=e/i;return u.h("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},u.h(E3,null,{default:()=>this.show?u.h("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},u.h("div",{class:`${t}-base-loading__container`},u.h("div",{class:`${t}-base-loading__container-layer`},u.h("div",{class:`${t}-base-loading__container-layer-left`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),u.h("div",{class:`${t}-base-loading__container-layer-patch`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),u.h("div",{class:`${t}-base-loading__container-layer-right`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e})))))):u.h("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),qe={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},tX=Ro(qe.neutralBase),C3=Ro(qe.neutralInvertBase),rX="rgba("+C3.slice(0,3).join(", ")+", ";function Dt(t){return rX+String(t)+")"}function nX(t){const e=Array.from(C3);return e[3]=Number(t),nt(tX,e)}const iX=Object.assign(Object.assign({name:"common"},lp),{baseColor:qe.neutralBase,primaryColor:qe.primaryDefault,primaryColorHover:qe.primaryHover,primaryColorPressed:qe.primaryActive,primaryColorSuppl:qe.primarySuppl,infoColor:qe.infoDefault,infoColorHover:qe.infoHover,infoColorPressed:qe.infoActive,infoColorSuppl:qe.infoSuppl,successColor:qe.successDefault,successColorHover:qe.successHover,successColorPressed:qe.successActive,successColorSuppl:qe.successSuppl,warningColor:qe.warningDefault,warningColorHover:qe.warningHover,warningColorPressed:qe.warningActive,warningColorSuppl:qe.warningSuppl,errorColor:qe.errorDefault,errorColorHover:qe.errorHover,errorColorPressed:qe.errorActive,errorColorSuppl:qe.errorSuppl,textColorBase:qe.neutralTextBase,textColor1:Dt(qe.alpha1),textColor2:Dt(qe.alpha2),textColor3:Dt(qe.alpha3),textColorDisabled:Dt(qe.alpha4),placeholderColor:Dt(qe.alpha4),placeholderColorDisabled:Dt(qe.alpha5),iconColor:Dt(qe.alpha4),iconColorDisabled:Dt(qe.alpha5),iconColorHover:Dt(Number(qe.alpha4)*1.25),iconColorPressed:Dt(Number(qe.alpha4)*.8),opacity1:qe.alpha1,opacity2:qe.alpha2,opacity3:qe.alpha3,opacity4:qe.alpha4,opacity5:qe.alpha5,dividerColor:Dt(qe.alphaDivider),borderColor:Dt(qe.alphaBorder),closeIconColorHover:Dt(Number(qe.alphaClose)),closeIconColor:Dt(Number(qe.alphaClose)),closeIconColorPressed:Dt(Number(qe.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:Dt(qe.alpha4),clearColorHover:yr(Dt(qe.alpha4),{alpha:1.25}),clearColorPressed:yr(Dt(qe.alpha4),{alpha:.8}),scrollbarColor:Dt(qe.alphaScrollbar),scrollbarColorHover:Dt(qe.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Dt(qe.alphaProgressRail),railColor:Dt(qe.alphaRail),popoverColor:qe.neutralPopover,tableColor:qe.neutralCard,cardColor:qe.neutralCard,modalColor:qe.neutralModal,bodyColor:qe.neutralBody,tagColor:nX(qe.alphaTag),avatarColor:Dt(qe.alphaAvatar),invertedColor:qe.neutralBase,inputColor:Dt(qe.alphaInput),codeColor:Dt(qe.alphaCode),tabColor:Dt(qe.alphaTab),actionColor:Dt(qe.alphaAction),tableHeaderColor:Dt(qe.alphaAction),hoverColor:Dt(qe.alphaPending),tableColorHover:Dt(qe.alphaTablePending),tableColorStriped:Dt(qe.alphaTableStriped),pressedColor:Dt(qe.alphaPressed),opacityDisabled:qe.alphaDisabled,inputColorDisabled:Dt(qe.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Re=iX,tt={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},oX=Ro(tt.neutralBase),S3=Ro(tt.neutralInvertBase),sX="rgba("+S3.slice(0,3).join(", ")+", ";function k3(t){return sX+String(t)+")"}function Yr(t){const e=Array.from(S3);return e[3]=Number(t),nt(oX,e)}const aX=Object.assign(Object.assign({name:"common"},lp),{baseColor:tt.neutralBase,primaryColor:tt.primaryDefault,primaryColorHover:tt.primaryHover,primaryColorPressed:tt.primaryActive,primaryColorSuppl:tt.primarySuppl,infoColor:tt.infoDefault,infoColorHover:tt.infoHover,infoColorPressed:tt.infoActive,infoColorSuppl:tt.infoSuppl,successColor:tt.successDefault,successColorHover:tt.successHover,successColorPressed:tt.successActive,successColorSuppl:tt.successSuppl,warningColor:tt.warningDefault,warningColorHover:tt.warningHover,warningColorPressed:tt.warningActive,warningColorSuppl:tt.warningSuppl,errorColor:tt.errorDefault,errorColorHover:tt.errorHover,errorColorPressed:tt.errorActive,errorColorSuppl:tt.errorSuppl,textColorBase:tt.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:Yr(tt.alpha4),placeholderColor:Yr(tt.alpha4),placeholderColorDisabled:Yr(tt.alpha5),iconColor:Yr(tt.alpha4),iconColorHover:yr(Yr(tt.alpha4),{lightness:.75}),iconColorPressed:yr(Yr(tt.alpha4),{lightness:.9}),iconColorDisabled:Yr(tt.alpha5),opacity1:tt.alpha1,opacity2:tt.alpha2,opacity3:tt.alpha3,opacity4:tt.alpha4,opacity5:tt.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:Yr(Number(tt.alphaClose)),closeIconColorHover:Yr(Number(tt.alphaClose)),closeIconColorPressed:Yr(Number(tt.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:Yr(tt.alpha4),clearColorHover:yr(Yr(tt.alpha4),{lightness:.75}),clearColorPressed:yr(Yr(tt.alpha4),{lightness:.9}),scrollbarColor:k3(tt.alphaScrollbar),scrollbarColorHover:k3(tt.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Yr(tt.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:tt.neutralPopover,tableColor:tt.neutralCard,cardColor:tt.neutralCard,modalColor:tt.neutralModal,bodyColor:tt.neutralBody,tagColor:"#eee",avatarColor:Yr(tt.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:Yr(tt.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:tt.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Cy=aX,lX={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},I3=t=>{const{textColorDisabled:e,iconColor:r,textColor2:n,fontSizeSmall:i,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:a}=t;return Object.assign(Object.assign({},lX),{fontSizeSmall:i,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:a,textColor:e,iconColor:r,extraTextColor:n})},cX={name:"Empty",common:Cy,self:I3},uX=cX,dX={name:"Empty",common:Re,self:I3},fa=dX,fX=t=>{const{scrollbarColor:e,scrollbarColorHover:r}=t;return{color:e,colorHover:r}},hX={name:"Scrollbar",common:Re,self:fX},Sn=hX,pX={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},mX=t=>{const{borderRadius:e,popoverColor:r,textColor3:n,dividerColor:i,textColor2:o,primaryColorPressed:s,textColorDisabled:a,primaryColor:l,opacityDisabled:d,hoverColor:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p,fontSizeHuge:m,heightSmall:y,heightMedium:b,heightLarge:v,heightHuge:x}=t;return Object.assign(Object.assign({},pX),{optionFontSizeSmall:c,optionFontSizeMedium:h,optionFontSizeLarge:p,optionFontSizeHuge:m,optionHeightSmall:y,optionHeightMedium:b,optionHeightLarge:v,optionHeightHuge:x,borderRadius:e,color:r,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:o,optionTextColorPressed:s,optionTextColorDisabled:a,optionTextColorActive:l,optionOpacityDisabled:d,optionCheckColor:l,optionColorPending:f,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:f,actionTextColor:o,loadingColor:l})},gX={name:"InternalSelectMenu",common:Re,peers:{Scrollbar:Sn,Empty:fa},self:mX},cd=gX,yX={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},bX=t=>{const{boxShadow2:e,popoverColor:r,textColor2:n,borderRadius:i,fontSize:o,dividerColor:s}=t;return Object.assign(Object.assign({},yX),{fontSize:o,borderRadius:i,color:r,dividerColor:s,textColor:n,boxShadow:e})},vX={name:"Popover",common:Re,self:bX},ha=vX,_X={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},wX={name:"Tag",common:Re,self(t){const{textColor2:e,primaryColorHover:r,primaryColorPressed:n,primaryColor:i,infoColor:o,successColor:s,warningColor:a,errorColor:l,baseColor:d,borderColor:f,tagColor:c,opacityDisabled:h,closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:y,closeColorHover:b,closeColorPressed:v,borderRadiusSmall:x,fontSizeMini:S,fontSizeTiny:I,fontSizeSmall:M,fontSizeMedium:E,heightMini:L,heightTiny:D,heightSmall:C,heightMedium:R,buttonColor2Hover:$,buttonColor2Pressed:U,fontWeightStrong:F}=t;return Object.assign(Object.assign({},_X),{closeBorderRadius:x,heightTiny:L,heightSmall:D,heightMedium:C,heightLarge:R,borderRadius:x,opacityDisabled:h,fontSizeTiny:S,fontSizeSmall:I,fontSizeMedium:M,fontSizeLarge:E,fontWeightStrong:F,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:d,colorCheckable:"#0000",colorHoverCheckable:$,colorPressedCheckable:U,colorChecked:i,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${f}`,textColor:e,color:c,colorBordered:"#0000",closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:y,closeColorHover:b,closeColorPressed:v,borderPrimary:`1px solid ${Ye(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:Ye(i,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:yr(i,{lightness:.7}),closeIconColorHoverPrimary:yr(i,{lightness:.7}),closeIconColorPressedPrimary:yr(i,{lightness:.7}),closeColorHoverPrimary:Ye(i,{alpha:.16}),closeColorPressedPrimary:Ye(i,{alpha:.12}),borderInfo:`1px solid ${Ye(o,{alpha:.3})}`,textColorInfo:o,colorInfo:Ye(o,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:yr(o,{alpha:.7}),closeIconColorHoverInfo:yr(o,{alpha:.7}),closeIconColorPressedInfo:yr(o,{alpha:.7}),closeColorHoverInfo:Ye(o,{alpha:.16}),closeColorPressedInfo:Ye(o,{alpha:.12}),borderSuccess:`1px solid ${Ye(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:Ye(s,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:yr(s,{alpha:.7}),closeIconColorHoverSuccess:yr(s,{alpha:.7}),closeIconColorPressedSuccess:yr(s,{alpha:.7}),closeColorHoverSuccess:Ye(s,{alpha:.16}),closeColorPressedSuccess:Ye(s,{alpha:.12}),borderWarning:`1px solid ${Ye(a,{alpha:.3})}`,textColorWarning:a,colorWarning:Ye(a,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:yr(a,{alpha:.7}),closeIconColorHoverWarning:yr(a,{alpha:.7}),closeIconColorPressedWarning:yr(a,{alpha:.7}),closeColorHoverWarning:Ye(a,{alpha:.16}),closeColorPressedWarning:Ye(a,{alpha:.11}),borderError:`1px solid ${Ye(l,{alpha:.3})}`,textColorError:l,colorError:Ye(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:yr(l,{alpha:.7}),closeIconColorHoverError:yr(l,{alpha:.7}),closeIconColorPressedError:yr(l,{alpha:.7}),closeColorHoverError:Ye(l,{alpha:.16}),closeColorPressedError:Ye(l,{alpha:.12})})}},D3=wX,AX={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},xX={name:"InternalSelection",common:Re,peers:{Popover:ha},self(t){const{borderRadius:e,textColor2:r,textColorDisabled:n,inputColor:i,inputColorDisabled:o,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:c,iconColor:h,iconColorDisabled:p,clearColor:m,clearColorHover:y,clearColorPressed:b,placeholderColor:v,placeholderColorDisabled:x,fontSizeTiny:S,fontSizeSmall:I,fontSizeMedium:M,fontSizeLarge:E,heightTiny:L,heightSmall:D,heightMedium:C,heightLarge:R}=t;return Object.assign(Object.assign({},AX),{fontSizeTiny:S,fontSizeSmall:I,fontSizeMedium:M,fontSizeLarge:E,heightTiny:L,heightSmall:D,heightMedium:C,heightLarge:R,borderRadius:e,textColor:r,textColorDisabled:n,placeholderColor:v,placeholderColorDisabled:x,color:i,colorDisabled:o,colorActive:Ye(s,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,caretColor:s,arrowColor:h,arrowColorDisabled:p,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,colorActiveWarning:Ye(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${c}`,borderActiveError:`1px solid ${f}`,borderFocusError:`1px solid ${c}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${Ye(f,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${Ye(f,{alpha:.4})}`,colorActiveError:Ye(f,{alpha:.1}),caretColorError:f,clearColor:m,clearColorHover:y,clearColorPressed:b})}},Sy=xX,TX={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},EX={name:"Alert",common:Re,self(t){const{lineHeight:e,borderRadius:r,fontWeightStrong:n,dividerColor:i,inputColor:o,textColor1:s,textColor2:a,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,infoColorSuppl:p,successColorSuppl:m,warningColorSuppl:y,errorColorSuppl:b,fontSize:v}=t;return Object.assign(Object.assign({},TX),{fontSize:v,lineHeight:e,titleFontWeight:n,borderRadius:r,border:`1px solid ${i}`,color:o,titleTextColor:s,iconColor:a,contentTextColor:a,closeBorderRadius:r,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,borderInfo:`1px solid ${Ye(p,{alpha:.35})}`,colorInfo:Ye(p,{alpha:.25}),titleTextColorInfo:s,iconColorInfo:p,contentTextColorInfo:a,closeColorHoverInfo:l,closeColorPressedInfo:d,closeIconColorInfo:f,closeIconColorHoverInfo:c,closeIconColorPressedInfo:h,borderSuccess:`1px solid ${Ye(m,{alpha:.35})}`,colorSuccess:Ye(m,{alpha:.25}),titleTextColorSuccess:s,iconColorSuccess:m,contentTextColorSuccess:a,closeColorHoverSuccess:l,closeColorPressedSuccess:d,closeIconColorSuccess:f,closeIconColorHoverSuccess:c,closeIconColorPressedSuccess:h,borderWarning:`1px solid ${Ye(y,{alpha:.35})}`,colorWarning:Ye(y,{alpha:.25}),titleTextColorWarning:s,iconColorWarning:y,contentTextColorWarning:a,closeColorHoverWarning:l,closeColorPressedWarning:d,closeIconColorWarning:f,closeIconColorHoverWarning:c,closeIconColorPressedWarning:h,borderError:`1px solid ${Ye(b,{alpha:.35})}`,colorError:Ye(b,{alpha:.25}),titleTextColorError:s,iconColorError:b,contentTextColorError:a,closeColorHoverError:l,closeColorPressedError:d,closeIconColorError:f,closeIconColorHoverError:c,closeIconColorPressedError:h})}},CX=EX,SX={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},kX=t=>{const{borderRadius:e,railColor:r,primaryColor:n,primaryColorHover:i,primaryColorPressed:o,textColor2:s}=t;return Object.assign(Object.assign({},SX),{borderRadius:e,railColor:r,railColorActive:n,linkColor:Ye(n,{alpha:.15}),linkTextColor:s,linkTextColorHover:i,linkTextColorPressed:o,linkTextColorActive:n})},IX={name:"Anchor",common:Re,self:kX},DX=IX,MX={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},NX={name:"Input",common:Re,self(t){const{textColor2:e,textColor3:r,textColorDisabled:n,primaryColor:i,primaryColorHover:o,inputColor:s,inputColorDisabled:a,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:c,borderRadius:h,lineHeight:p,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:v,heightTiny:x,heightSmall:S,heightMedium:I,heightLarge:M,clearColor:E,clearColorHover:L,clearColorPressed:D,placeholderColor:C,placeholderColorDisabled:R,iconColor:$,iconColorDisabled:U,iconColorHover:F,iconColorPressed:z}=t;return Object.assign(Object.assign({},MX),{countTextColorDisabled:n,countTextColor:r,heightTiny:x,heightSmall:S,heightMedium:I,heightLarge:M,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:v,lineHeight:p,lineHeightTextarea:p,borderRadius:h,iconSize:"16px",groupLabelColor:s,textColor:e,textColorDisabled:n,textDecorationColor:e,groupLabelTextColor:e,caretColor:i,placeholderColor:C,placeholderColorDisabled:R,color:s,colorDisabled:a,colorFocus:Ye(i,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${o}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${o}`,boxShadowFocus:`0 0 8px 0 ${Ye(i,{alpha:.3})}`,loadingColor:i,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:Ye(l,{alpha:.1}),borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${c}`,colorFocusError:Ye(f,{alpha:.1}),borderFocusError:`1px solid ${c}`,boxShadowFocusError:`0 0 8px 0 ${Ye(f,{alpha:.3})}`,caretColorError:f,clearColor:E,clearColorHover:L,clearColorPressed:D,iconColor:$,iconColorDisabled:U,iconColorHover:F,iconColorPressed:z,suffixTextColor:e})}},ai=NX;function OX(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const LX={name:"AutoComplete",common:Re,peers:{InternalSelectMenu:cd,Input:ai},self:OX},BX=LX,RX=t=>{const{borderRadius:e,avatarColor:r,cardColor:n,fontSize:i,heightTiny:o,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:d,modalColor:f,popoverColor:c}=t;return{borderRadius:e,fontSize:i,border:`2px solid ${n}`,heightTiny:o,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:d,color:nt(n,r),colorModal:nt(f,r),colorPopover:nt(c,r)}},PX={name:"Avatar",common:Re,self:RX},M3=PX,FX=()=>({gap:"-12px"}),UX={name:"AvatarGroup",common:Re,peers:{Avatar:M3},self:FX},jX=UX,zX={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},$X={name:"BackTop",common:Re,self(t){const{popoverColor:e,textColor2:r,primaryColorHover:n,primaryColorPressed:i}=t;return Object.assign(Object.assign({},zX),{color:e,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},VX=$X,HX={name:"Badge",common:Re,self(t){const{errorColorSuppl:e,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:i,fontFamily:o}=t;return{color:e,colorInfo:r,colorSuccess:n,colorError:e,colorWarning:i,fontSize:"12px",fontFamily:o}}},qX=HX,WX={fontWeightActive:"400"},GX=t=>{const{fontSize:e,textColor3:r,textColor2:n,borderRadius:i,buttonColor2Hover:o,buttonColor2Pressed:s}=t;return Object.assign(Object.assign({},WX),{fontSize:e,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:i,itemColorHover:o,itemColorPressed:s,separatorColor:r})},QX={name:"Breadcrumb",common:Re,self:GX},YX=QX,KX={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},XX=t=>{const{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadius:o,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,textColor2:c,textColor3:h,primaryColorHover:p,primaryColorPressed:m,borderColor:y,primaryColor:b,baseColor:v,infoColor:x,infoColorHover:S,infoColorPressed:I,successColor:M,successColorHover:E,successColorPressed:L,warningColor:D,warningColorHover:C,warningColorPressed:R,errorColor:$,errorColorHover:U,errorColorPressed:F,fontWeight:z,buttonColor2:W,buttonColor2Hover:B,buttonColor2Pressed:P,fontWeightStrong:re}=t;return Object.assign(Object.assign({},KX),{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadiusTiny:o,borderRadiusSmall:o,borderRadiusMedium:o,borderRadiusLarge:o,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:W,colorSecondaryHover:B,colorSecondaryPressed:P,colorTertiary:W,colorTertiaryHover:B,colorTertiaryPressed:P,colorQuaternary:"#0000",colorQuaternaryHover:B,colorQuaternaryPressed:P,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:c,textColorTertiary:h,textColorHover:p,textColorPressed:m,textColorFocus:p,textColorDisabled:c,textColorText:c,textColorTextHover:p,textColorTextPressed:m,textColorTextFocus:p,textColorTextDisabled:c,textColorGhost:c,textColorGhostHover:p,textColorGhostPressed:m,textColorGhostFocus:p,textColorGhostDisabled:c,border:`1px solid ${y}`,borderHover:`1px solid ${p}`,borderPressed:`1px solid ${m}`,borderFocus:`1px solid ${p}`,borderDisabled:`1px solid ${y}`,rippleColor:b,colorPrimary:b,colorHoverPrimary:p,colorPressedPrimary:m,colorFocusPrimary:p,colorDisabledPrimary:b,textColorPrimary:v,textColorHoverPrimary:v,textColorPressedPrimary:v,textColorFocusPrimary:v,textColorDisabledPrimary:v,textColorTextPrimary:b,textColorTextHoverPrimary:p,textColorTextPressedPrimary:m,textColorTextFocusPrimary:p,textColorTextDisabledPrimary:c,textColorGhostPrimary:b,textColorGhostHoverPrimary:p,textColorGhostPressedPrimary:m,textColorGhostFocusPrimary:p,textColorGhostDisabledPrimary:b,borderPrimary:`1px solid ${b}`,borderHoverPrimary:`1px solid ${p}`,borderPressedPrimary:`1px solid ${m}`,borderFocusPrimary:`1px solid ${p}`,borderDisabledPrimary:`1px solid ${b}`,rippleColorPrimary:b,colorInfo:x,colorHoverInfo:S,colorPressedInfo:I,colorFocusInfo:S,colorDisabledInfo:x,textColorInfo:v,textColorHoverInfo:v,textColorPressedInfo:v,textColorFocusInfo:v,textColorDisabledInfo:v,textColorTextInfo:x,textColorTextHoverInfo:S,textColorTextPressedInfo:I,textColorTextFocusInfo:S,textColorTextDisabledInfo:c,textColorGhostInfo:x,textColorGhostHoverInfo:S,textColorGhostPressedInfo:I,textColorGhostFocusInfo:S,textColorGhostDisabledInfo:x,borderInfo:`1px solid ${x}`,borderHoverInfo:`1px solid ${S}`,borderPressedInfo:`1px solid ${I}`,borderFocusInfo:`1px solid ${S}`,borderDisabledInfo:`1px solid ${x}`,rippleColorInfo:x,colorSuccess:M,colorHoverSuccess:E,colorPressedSuccess:L,colorFocusSuccess:E,colorDisabledSuccess:M,textColorSuccess:v,textColorHoverSuccess:v,textColorPressedSuccess:v,textColorFocusSuccess:v,textColorDisabledSuccess:v,textColorTextSuccess:M,textColorTextHoverSuccess:E,textColorTextPressedSuccess:L,textColorTextFocusSuccess:E,textColorTextDisabledSuccess:c,textColorGhostSuccess:M,textColorGhostHoverSuccess:E,textColorGhostPressedSuccess:L,textColorGhostFocusSuccess:E,textColorGhostDisabledSuccess:M,borderSuccess:`1px solid ${M}`,borderHoverSuccess:`1px solid ${E}`,borderPressedSuccess:`1px solid ${L}`,borderFocusSuccess:`1px solid ${E}`,borderDisabledSuccess:`1px solid ${M}`,rippleColorSuccess:M,colorWarning:D,colorHoverWarning:C,colorPressedWarning:R,colorFocusWarning:C,colorDisabledWarning:D,textColorWarning:v,textColorHoverWarning:v,textColorPressedWarning:v,textColorFocusWarning:v,textColorDisabledWarning:v,textColorTextWarning:D,textColorTextHoverWarning:C,textColorTextPressedWarning:R,textColorTextFocusWarning:C,textColorTextDisabledWarning:c,textColorGhostWarning:D,textColorGhostHoverWarning:C,textColorGhostPressedWarning:R,textColorGhostFocusWarning:C,textColorGhostDisabledWarning:D,borderWarning:`1px solid ${D}`,borderHoverWarning:`1px solid ${C}`,borderPressedWarning:`1px solid ${R}`,borderFocusWarning:`1px solid ${C}`,borderDisabledWarning:`1px solid ${D}`,rippleColorWarning:D,colorError:$,colorHoverError:U,colorPressedError:F,colorFocusError:U,colorDisabledError:$,textColorError:v,textColorHoverError:v,textColorPressedError:v,textColorFocusError:v,textColorDisabledError:v,textColorTextError:$,textColorTextHoverError:U,textColorTextPressedError:F,textColorTextFocusError:U,textColorTextDisabledError:c,textColorGhostError:$,textColorGhostHoverError:U,textColorGhostPressedError:F,textColorGhostFocusError:U,textColorGhostDisabledError:$,borderError:`1px solid ${$}`,borderHoverError:`1px solid ${U}`,borderPressedError:`1px solid ${F}`,borderFocusError:`1px solid ${U}`,borderDisabledError:`1px solid ${$}`,rippleColorError:$,waveOpacity:"0.6",fontWeight:z,fontWeightStrong:re})},JX={name:"Button",common:Re,self(t){const e=XX(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},kn=JX,ZX={titleFontSize:"22px"},eJ=t=>{const{borderRadius:e,fontSize:r,lineHeight:n,textColor2:i,textColor1:o,textColorDisabled:s,dividerColor:a,fontWeightStrong:l,primaryColor:d,baseColor:f,hoverColor:c,cardColor:h,modalColor:p,popoverColor:m}=t;return Object.assign(Object.assign({},ZX),{borderRadius:e,borderColor:nt(h,a),borderColorModal:nt(p,a),borderColorPopover:nt(m,a),textColor:i,titleFontWeight:l,titleTextColor:o,dayTextColor:s,fontSize:r,lineHeight:n,dateColorCurrent:d,dateTextColorCurrent:f,cellColorHover:nt(h,c),cellColorHoverModal:nt(p,c),cellColorHoverPopover:nt(m,c),cellColor:h,cellColorModal:p,cellColorPopover:m,barColor:d})},tJ={name:"Calendar",common:Re,peers:{Button:kn},self:eJ},rJ=tJ,nJ=t=>{const{fontSize:e,boxShadow2:r,popoverColor:n,textColor2:i,borderRadius:o,borderColor:s,heightSmall:a,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,dividerColor:p}=t;return{panelFontSize:e,boxShadow:r,color:n,textColor:i,borderRadius:o,border:`1px solid ${s}`,heightSmall:a,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,dividerColor:p}},iJ={name:"ColorPicker",common:Re,peers:{Input:ai,Button:kn},self:nJ},oJ=iJ,sJ={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},aJ=t=>{const{primaryColor:e,borderRadius:r,lineHeight:n,fontSize:i,cardColor:o,textColor2:s,textColor1:a,dividerColor:l,fontWeightStrong:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,closeColorHover:p,closeColorPressed:m,modalColor:y,boxShadow1:b,popoverColor:v,actionColor:x}=t;return Object.assign(Object.assign({},sJ),{lineHeight:n,color:o,colorModal:y,colorPopover:v,colorTarget:e,colorEmbedded:x,colorEmbeddedModal:x,colorEmbeddedPopover:x,textColor:s,titleTextColor:a,borderColor:l,actionColor:x,titleFontWeight:d,closeColorHover:p,closeColorPressed:m,closeBorderRadius:r,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:b,borderRadius:r})},lJ={name:"Card",common:Re,self(t){const e=aJ(t),{cardColor:r,modalColor:n,popoverColor:i}=t;return e.colorEmbedded=r,e.colorEmbeddedModal=n,e.colorEmbeddedPopover=i,e}},N3=lJ,cJ=t=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),uJ={name:"Carousel",common:Re,self:cJ},dJ=uJ,fJ={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},hJ=t=>{const{baseColor:e,inputColorDisabled:r,cardColor:n,modalColor:i,popoverColor:o,textColorDisabled:s,borderColor:a,primaryColor:l,textColor2:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,borderRadiusSmall:p,lineHeight:m}=t;return Object.assign(Object.assign({},fJ),{labelLineHeight:m,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,borderRadius:p,color:e,colorChecked:l,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:i,colorTableHeaderPopover:o,checkMarkColor:e,checkMarkColorDisabled:s,checkMarkColorDisabledChecked:s,border:`1px solid ${a}`,borderDisabled:`1px solid ${a}`,borderDisabledChecked:`1px solid ${a}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${Ye(l,{alpha:.3})}`,textColor:d,textColorDisabled:s})},pJ={name:"Checkbox",common:Re,self(t){const{cardColor:e}=t,r=hJ(t);return r.color="#0000",r.checkMarkColor=e,r}},ic=pJ,mJ=t=>{const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i,textColor3:o,primaryColor:s,textColorDisabled:a,dividerColor:l,hoverColor:d,fontSizeMedium:f,heightMedium:c}=t;return{menuBorderRadius:e,menuColor:n,menuBoxShadow:r,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:o,optionHeight:c,optionFontSize:f,optionColorHover:d,optionTextColor:i,optionTextColorActive:s,optionTextColorDisabled:a,optionCheckMarkColor:s,loadingColor:s,columnWidth:"180px"}},gJ={name:"Cascader",common:Re,peers:{InternalSelectMenu:cd,InternalSelection:Sy,Scrollbar:Sn,Checkbox:ic,Empty:uX},self:mJ},yJ=gJ,bJ={name:"Code",common:Re,self(t){const{textColor2:e,fontSize:r,fontWeightStrong:n,textColor3:i}=t;return{textColor:e,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:i}}},O3=bJ,vJ=t=>{const{fontWeight:e,textColor1:r,textColor2:n,textColorDisabled:i,dividerColor:o,fontSize:s}=t;return{titleFontSize:s,titleFontWeight:e,dividerColor:o,titleTextColor:r,titleTextColorDisabled:i,fontSize:s,textColor:n,arrowColor:n,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},_J={name:"Collapse",common:Re,self:vJ},wJ=_J,AJ=t=>{const{cubicBezierEaseInOut:e}=t;return{bezier:e}},xJ={name:"CollapseTransition",common:Re,self:AJ},TJ=xJ,EJ={name:"Popselect",common:Re,peers:{Popover:ha,InternalSelectMenu:cd}},L3=EJ;function CJ(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const SJ={name:"Select",common:Re,peers:{InternalSelection:Sy,InternalSelectMenu:cd},self:CJ},B3=SJ,kJ={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},IJ=t=>{const{textColor2:e,primaryColor:r,primaryColorHover:n,primaryColorPressed:i,inputColorDisabled:o,textColorDisabled:s,borderColor:a,borderRadius:l,fontSizeTiny:d,fontSizeSmall:f,fontSizeMedium:c,heightTiny:h,heightSmall:p,heightMedium:m}=t;return Object.assign(Object.assign({},kJ),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${a}`,buttonBorderHover:`1px solid ${a}`,buttonBorderPressed:`1px solid ${a}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:n,itemTextColorPressed:i,itemTextColorActive:r,itemTextColorDisabled:s,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:o,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${a}`,itemBorderRadius:l,itemSizeSmall:h,itemSizeMedium:p,itemSizeLarge:m,itemFontSizeSmall:d,itemFontSizeMedium:f,itemFontSizeLarge:c,jumperFontSizeSmall:d,jumperFontSizeMedium:f,jumperFontSizeLarge:c,jumperTextColor:e,jumperTextColorDisabled:s})},DJ={name:"Pagination",common:Re,peers:{Select:B3,Input:ai,Popselect:L3},self(t){const{primaryColor:e,opacity3:r}=t,n=Ye(e,{alpha:Number(r)}),i=IJ(t);return i.itemBorderActive=`1px solid ${n}`,i.itemBorderDisabled="1px solid #0000",i}},R3=DJ,MJ={padding:"8px 14px"},NJ={name:"Tooltip",common:Re,peers:{Popover:ha},self(t){const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i}=t;return Object.assign(Object.assign({},MJ),{borderRadius:e,boxShadow:r,color:n,textColor:i})}},fp=NJ,OJ={name:"Ellipsis",common:Re,peers:{Tooltip:fp}},P3=OJ,LJ={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},BJ={name:"Radio",common:Re,self(t){const{borderColor:e,primaryColor:r,baseColor:n,textColorDisabled:i,inputColorDisabled:o,textColor2:s,opacityDisabled:a,borderRadius:l,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:c,heightSmall:h,heightMedium:p,heightLarge:m,lineHeight:y}=t;return Object.assign(Object.assign({},LJ),{labelLineHeight:y,buttonHeightSmall:h,buttonHeightMedium:p,buttonHeightLarge:m,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:c,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ye(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:o,colorActive:"#0000",textColor:s,textColorDisabled:i,dotColorActive:r,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:a,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ye(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},F3=BJ,RJ={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},PJ=t=>{const{primaryColor:e,textColor2:r,dividerColor:n,hoverColor:i,popoverColor:o,invertedColor:s,borderRadius:a,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:c,heightSmall:h,heightMedium:p,heightLarge:m,heightHuge:y,textColor3:b,opacityDisabled:v}=t;return Object.assign(Object.assign({},RJ),{optionHeightSmall:h,optionHeightMedium:p,optionHeightLarge:m,optionHeightHuge:y,borderRadius:a,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:c,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:e,optionTextColorChildActive:e,color:o,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:i,optionColorActive:Ye(e,{alpha:.1}),groupHeaderTextColor:b,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:s,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:v})},FJ={name:"Dropdown",common:Re,peers:{Popover:ha},self(t){const{primaryColorSuppl:e,primaryColor:r,popoverColor:n}=t,i=PJ(t);return i.colorInverted=n,i.optionColorActive=Ye(r,{alpha:.15}),i.optionColorActiveInverted=e,i.optionColorHoverInverted=e,i}},ky=FJ,UJ={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},jJ=t=>{const{cardColor:e,modalColor:r,popoverColor:n,textColor2:i,textColor1:o,tableHeaderColor:s,tableColorHover:a,iconColor:l,primaryColor:d,fontWeightStrong:f,borderRadius:c,lineHeight:h,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:y,dividerColor:b,heightSmall:v,opacityDisabled:x,tableColorStriped:S}=t;return Object.assign(Object.assign({},UJ),{actionDividerColor:b,lineHeight:h,borderRadius:c,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:y,borderColor:nt(e,b),tdColorHover:nt(e,a),tdColorStriped:nt(e,S),thColor:nt(e,s),thColorHover:nt(nt(e,s),a),tdColor:e,tdTextColor:i,thTextColor:o,thFontWeight:f,thButtonColorHover:a,thIconColor:l,thIconColorActive:d,borderColorModal:nt(r,b),tdColorHoverModal:nt(r,a),tdColorStripedModal:nt(r,S),thColorModal:nt(r,s),thColorHoverModal:nt(nt(r,s),a),tdColorModal:r,borderColorPopover:nt(n,b),tdColorHoverPopover:nt(n,a),tdColorStripedPopover:nt(n,S),thColorPopover:nt(n,s),thColorHoverPopover:nt(nt(n,s),a),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:d,loadingSize:v,opacityLoading:x})},zJ={name:"DataTable",common:Re,peers:{Button:kn,Checkbox:ic,Radio:F3,Pagination:R3,Scrollbar:Sn,Empty:fa,Popover:ha,Ellipsis:P3,Dropdown:ky},self(t){const e=jJ(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},$J=zJ,U3=t=>{const{textColorBase:e,opacity1:r,opacity2:n,opacity3:i,opacity4:o,opacity5:s}=t;return{color:e,opacity1Depth:r,opacity2Depth:n,opacity3Depth:i,opacity4Depth:o,opacity5Depth:s}},VJ={name:"Icon",common:Cy,self:U3},HJ=VJ,qJ={name:"Icon",common:Re,self:U3},WJ=qJ,GJ=ep("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[Ni("color-transition",{transition:"color .3s var(--n-bezier)"}),Ni("depth",{color:"var(--n-color)"},[Qr("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),Qr("svg",{height:"1em",width:"1em"})]),QJ=Object.assign(Object.assign({},ld.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),j3=u.defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:QJ,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=x3(t),n=ld("Icon","-icon",GJ,HJ,t,e),i=u.computed(()=>{const{depth:s}=t,{common:{cubicBezierEaseInOut:a},self:l}=n.value;if(s!==void 0){const{color:d,[`opacity${s}Depth`]:f}=l;return{"--n-bezier":a,"--n-color":d,"--n-opacity":f}}return{"--n-bezier":a,"--n-color":"","--n-opacity":""}}),o=r?T3("icon",u.computed(()=>`${t.depth||"d"}`),i,t):void 0;return{mergedClsPrefix:e,mergedStyle:u.computed(()=>{const{size:s,color:a}=t;return{fontSize:kG(s),color:a}}),cssVars:r?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{$parent:e,depth:r,mergedClsPrefix:n,component:i,onRender:o,themeClass:s}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&CG("icon","don't wrap `n-icon` inside `n-icon`"),o==null||o(),u.h("i",u.mergeProps(this.$attrs,{role:"img",class:[`${n}-icon`,s,{[`${n}-icon--depth`]:r,[`${n}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?u.h(i):this.$slots)}}),YJ={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},KJ=t=>{const{popoverColor:e,textColor2:r,primaryColor:n,hoverColor:i,dividerColor:o,opacityDisabled:s,boxShadow2:a,borderRadius:l,iconColor:d,iconColorDisabled:f}=t;return Object.assign(Object.assign({},YJ),{panelColor:e,panelBoxShadow:a,panelDividerColor:o,itemTextColor:r,itemTextColorActive:n,itemColorHover:i,itemOpacityDisabled:s,itemBorderRadius:l,borderRadius:l,iconColor:d,iconColorDisabled:f})},XJ={name:"TimePicker",common:Re,peers:{Scrollbar:Sn,Button:kn,Input:ai},self:KJ},z3=XJ,JJ={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},ZJ=t=>{const{hoverColor:e,fontSize:r,textColor2:n,textColorDisabled:i,popoverColor:o,primaryColor:s,borderRadiusSmall:a,iconColor:l,iconColorDisabled:d,textColor1:f,dividerColor:c,boxShadow2:h,borderRadius:p,fontWeightStrong:m}=t;return Object.assign(Object.assign({},JJ),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:i,itemTextColorActive:o,itemTextColorCurrent:s,itemColorIncluded:Ye(s,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:s,itemBorderRadius:a,panelColor:o,panelTextColor:n,arrowColor:l,calendarTitleTextColor:f,calendarTitleColorHover:e,calendarDaysTextColor:n,panelHeaderDividerColor:c,calendarDaysDividerColor:c,calendarDividerColor:c,panelActionDividerColor:c,panelBoxShadow:h,panelBorderRadius:p,calendarTitleFontWeight:m,scrollItemBorderRadius:p,iconColor:l,iconColorDisabled:d})},eZ={name:"DatePicker",common:Re,peers:{Input:ai,Button:kn,TimePicker:z3,Scrollbar:Sn},self(t){const{popoverColor:e,hoverColor:r,primaryColor:n}=t,i=ZJ(t);return i.itemColorDisabled=nt(e,r),i.itemColorIncluded=Ye(n,{alpha:.15}),i.itemColorHover=nt(e,r),i}},tZ=eZ,rZ={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},nZ=t=>{const{tableHeaderColor:e,textColor2:r,textColor1:n,cardColor:i,modalColor:o,popoverColor:s,dividerColor:a,borderRadius:l,fontWeightStrong:d,lineHeight:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p}=t;return Object.assign(Object.assign({},rZ),{lineHeight:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p,titleTextColor:n,thColor:nt(i,e),thColorModal:nt(o,e),thColorPopover:nt(s,e),thTextColor:n,thFontWeight:d,tdTextColor:r,tdColor:i,tdColorModal:o,tdColorPopover:s,borderColor:nt(i,a),borderColorModal:nt(o,a),borderColorPopover:nt(s,a),borderRadius:l})},iZ={name:"Descriptions",common:Re,self:nZ},oZ=iZ,sZ={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},aZ=t=>{const{textColor1:e,textColor2:r,modalColor:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,infoColor:d,successColor:f,warningColor:c,errorColor:h,primaryColor:p,dividerColor:m,borderRadius:y,fontWeightStrong:b,lineHeight:v,fontSize:x}=t;return Object.assign(Object.assign({},sZ),{fontSize:x,lineHeight:v,border:`1px solid ${m}`,titleTextColor:e,textColor:r,color:n,closeColorHover:a,closeColorPressed:l,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeBorderRadius:y,iconColor:p,iconColorInfo:d,iconColorSuccess:f,iconColorWarning:c,iconColorError:h,borderRadius:y,titleFontWeight:b})},lZ={name:"Dialog",common:Re,peers:{Button:kn},self:aZ},$3=lZ,cZ=t=>{const{modalColor:e,textColor2:r,boxShadow3:n}=t;return{color:e,textColor:r,boxShadow:n}},uZ={name:"Modal",common:Re,peers:{Scrollbar:Sn,Dialog:$3,Card:N3},self:cZ},dZ=uZ,fZ=t=>{const{textColor1:e,dividerColor:r,fontWeightStrong:n}=t;return{textColor:e,color:r,fontWeight:n}},hZ={name:"Divider",common:Re,self:fZ},pZ=hZ,mZ=t=>{const{modalColor:e,textColor1:r,textColor2:n,boxShadow3:i,lineHeight:o,fontWeightStrong:s,dividerColor:a,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,borderRadius:p,primaryColorHover:m}=t;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:s,boxShadow:i,lineHeight:o,headerBorderBottom:`1px solid ${a}`,footerBorderTop:`1px solid ${a}`,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:d,closeBorderRadius:p,resizableTriggerColorHover:m}},gZ={name:"Drawer",common:Re,peers:{Scrollbar:Sn},self:mZ},yZ=gZ,bZ={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},vZ={name:"DynamicInput",common:Re,peers:{Input:ai,Button:kn},self(){return bZ}},_Z=vZ,wZ={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},AZ={name:"Space",self(){return wZ}},V3=AZ,xZ={name:"DynamicTags",common:Re,peers:{Input:ai,Button:kn,Tag:D3,Space:V3},self(){return{inputWidth:"64px"}}},TZ=xZ,EZ={name:"Element",common:Re},CZ=EZ,SZ={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},kZ=t=>{const{heightSmall:e,heightMedium:r,heightLarge:n,textColor1:i,errorColor:o,warningColor:s,lineHeight:a,textColor3:l}=t;return Object.assign(Object.assign({},SZ),{blankHeightSmall:e,blankHeightMedium:r,blankHeightLarge:n,lineHeight:a,labelTextColor:i,asteriskColor:o,feedbackTextColorError:o,feedbackTextColorWarning:s,feedbackTextColor:l})},IZ={name:"Form",common:Re,self:kZ},DZ=IZ,MZ={name:"GradientText",common:Re,self(t){const{primaryColor:e,successColor:r,warningColor:n,errorColor:i,infoColor:o,primaryColorSuppl:s,successColorSuppl:a,warningColorSuppl:l,errorColorSuppl:d,infoColorSuppl:f,fontWeightStrong:c}=t;return{fontWeight:c,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:s,colorStartInfo:o,colorEndInfo:f,colorStartWarning:n,colorEndWarning:l,colorStartError:i,colorEndError:d,colorStartSuccess:r,colorEndSuccess:a}}},NZ=MZ,OZ=t=>{const{primaryColor:e,baseColor:r}=t;return{color:e,iconColor:r}},LZ={name:"IconWrapper",common:Re,self:OZ},BZ=LZ,RZ={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},PZ=t=>{const{textColor2:e,successColor:r,infoColor:n,warningColor:i,errorColor:o,popoverColor:s,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:d,closeColorHover:f,closeColorPressed:c,textColor1:h,textColor3:p,borderRadius:m,fontWeightStrong:y,boxShadow2:b,lineHeight:v,fontSize:x}=t;return Object.assign(Object.assign({},RZ),{borderRadius:m,lineHeight:v,fontSize:x,headerFontWeight:y,iconColor:e,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:i,iconColorError:o,color:s,textColor:e,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:d,closeBorderRadius:m,closeColorHover:f,closeColorPressed:c,headerTextColor:h,descriptionTextColor:p,actionTextColor:e,boxShadow:b})},FZ={name:"Notification",common:Re,peers:{Scrollbar:Sn},self:PZ},UZ=FZ,jZ={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},zZ=t=>{const{textColor2:e,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,infoColor:o,successColor:s,errorColor:a,warningColor:l,popoverColor:d,boxShadow2:f,primaryColor:c,lineHeight:h,borderRadius:p,closeColorHover:m,closeColorPressed:y}=t;return Object.assign(Object.assign({},jZ),{closeBorderRadius:p,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:d,colorInfo:d,colorSuccess:d,colorError:d,colorWarning:d,colorLoading:d,boxShadow:f,boxShadowInfo:f,boxShadowSuccess:f,boxShadowError:f,boxShadowWarning:f,boxShadowLoading:f,iconColor:e,iconColorInfo:o,iconColorSuccess:s,iconColorWarning:l,iconColorError:a,iconColorLoading:c,closeColorHover:m,closeColorPressed:y,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,closeColorHoverInfo:m,closeColorPressedInfo:y,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:i,closeColorHoverSuccess:m,closeColorPressedSuccess:y,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:i,closeColorHoverError:m,closeColorPressedError:y,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:i,closeColorHoverWarning:m,closeColorPressedWarning:y,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:i,closeColorHoverLoading:m,closeColorPressedLoading:y,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:i,loadingColor:c,lineHeight:h,borderRadius:p})},$Z={name:"Message",common:Re,self:zZ},VZ=$Z,HZ={name:"ButtonGroup",common:Re},qZ=HZ,WZ={name:"InputNumber",common:Re,peers:{Button:kn,Input:ai},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}},GZ=WZ,QZ={name:"Layout",common:Re,peers:{Scrollbar:Sn},self(t){const{textColor2:e,bodyColor:r,popoverColor:n,cardColor:i,dividerColor:o,scrollbarColor:s,scrollbarColorHover:a}=t;return{textColor:e,textColorInverted:e,color:r,colorEmbedded:r,headerColor:i,headerColorInverted:i,footerColor:i,footerColorInverted:i,headerBorderColor:o,headerBorderColorInverted:o,footerBorderColor:o,footerBorderColorInverted:o,siderBorderColor:o,siderBorderColorInverted:o,siderColor:i,siderColorInverted:i,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:nt(r,s),siderToggleBarColorHover:nt(r,a),__invertScrollbar:"false"}}},YZ=QZ,KZ=t=>{const{textColor2:e,cardColor:r,modalColor:n,popoverColor:i,dividerColor:o,borderRadius:s,fontSize:a,hoverColor:l}=t;return{textColor:e,color:r,colorHover:l,colorModal:n,colorHoverModal:nt(n,l),colorPopover:i,colorHoverPopover:nt(i,l),borderColor:o,borderColorModal:nt(n,o),borderColorPopover:nt(i,o),borderRadius:s,fontSize:a}},XZ={name:"List",common:Re,self:KZ},JZ=XZ,ZZ={name:"LoadingBar",common:Re,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}},eee=ZZ,tee={name:"Log",common:Re,peers:{Scrollbar:Sn,Code:O3},self(t){const{textColor2:e,inputColor:r,fontSize:n,primaryColor:i}=t;return{loaderFontSize:n,loaderTextColor:e,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:i}}},ree=tee,nee={name:"Mention",common:Re,peers:{InternalSelectMenu:cd,Input:ai},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}},iee=nee;function oee(t,e,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:t,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:t,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}const see=t=>{const{borderRadius:e,textColor3:r,primaryColor:n,textColor2:i,textColor1:o,fontSize:s,dividerColor:a,hoverColor:l,primaryColorHover:d}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:r,itemColorHover:l,itemColorActive:Ye(n,{alpha:.1}),itemColorActiveHover:Ye(n,{alpha:.1}),itemColorActiveCollapsed:Ye(n,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:d,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:o,itemIconColorHover:o,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:o,itemIconColorHorizontal:o,itemIconColorHoverHorizontal:d,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:s,dividerColor:a},oee("#BBB",n,"#FFF","#AAA"))},aee={name:"Menu",common:Re,peers:{Tooltip:fp,Dropdown:ky},self(t){const{primaryColor:e,primaryColorSuppl:r}=t,n=see(t);return n.itemColorActive=Ye(e,{alpha:.15}),n.itemColorActiveHover=Ye(e,{alpha:.15}),n.itemColorActiveCollapsed=Ye(e,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},lee=aee,cee={titleFontSize:"18px",backSize:"22px"};function uee(t){const{textColor1:e,textColor2:r,textColor3:n,fontSize:i,fontWeightStrong:o,primaryColorHover:s,primaryColorPressed:a}=t;return Object.assign(Object.assign({},cee),{titleFontWeight:o,fontSize:i,titleTextColor:e,backColor:r,backColorHover:s,backColorPressed:a,subtitleTextColor:n})}const dee={name:"PageHeader",common:Re,self:uee},fee={iconSize:"22px"},hee=t=>{const{fontSize:e,warningColor:r}=t;return Object.assign(Object.assign({},fee),{fontSize:e,iconColor:r})},pee={name:"Popconfirm",common:Re,peers:{Button:kn,Popover:ha},self:hee},mee=pee,gee=t=>{const{infoColor:e,successColor:r,warningColor:n,errorColor:i,textColor2:o,progressRailColor:s,fontSize:a,fontWeight:l}=t;return{fontSize:a,fontSizeCircle:"28px",fontWeightCircle:l,railColor:s,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:r,iconColorWarning:n,iconColorError:i,textColorCircle:o,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:o,fillColor:e,fillColorInfo:e,fillColorSuccess:r,fillColorWarning:n,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},yee={name:"Progress",common:Re,self(t){const e=gee(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},H3=yee,bee={name:"Rate",common:Re,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},vee=bee,_ee={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},wee=t=>{const{textColor2:e,textColor1:r,errorColor:n,successColor:i,infoColor:o,warningColor:s,lineHeight:a,fontWeightStrong:l}=t;return Object.assign(Object.assign({},_ee),{lineHeight:a,titleFontWeight:l,titleTextColor:r,textColor:e,iconColorError:n,iconColorSuccess:i,iconColorInfo:o,iconColorWarning:s})},Aee={name:"Result",common:Re,self:wee},xee=Aee,Tee={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},Eee={name:"Slider",common:Re,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:i,popoverColor:o,textColor2:s,cardColor:a,borderRadius:l,fontSize:d,opacityDisabled:f}=t;return Object.assign(Object.assign({},Tee),{fontSize:d,markFontSize:d,railColor:r,railColorHover:r,fillColor:i,fillColorHover:i,opacityDisabled:f,handleColor:"#FFF",dotColor:a,dotColorModal:n,dotColorPopover:o,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:o,indicatorBoxShadow:e,indicatorTextColor:s,indicatorBorderRadius:l,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}},Cee=Eee,See=t=>{const{opacityDisabled:e,heightTiny:r,heightSmall:n,heightMedium:i,heightLarge:o,heightHuge:s,primaryColor:a,fontSize:l}=t;return{fontSize:l,textColor:a,sizeTiny:r,sizeSmall:n,sizeMedium:i,sizeLarge:o,sizeHuge:s,color:a,opacitySpinning:e}},kee={name:"Spin",common:Re,self:See},Iee=kee,Dee=t=>{const{textColor2:e,textColor3:r,fontSize:n,fontWeight:i}=t;return{labelFontSize:n,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}},Mee={name:"Statistic",common:Re,self:Dee},Nee=Mee,Oee={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},Lee=t=>{const{fontWeightStrong:e,baseColor:r,textColorDisabled:n,primaryColor:i,errorColor:o,textColor1:s,textColor2:a}=t;return Object.assign(Object.assign({},Oee),{stepHeaderFontWeight:e,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:i,indicatorTextColorError:o,indicatorBorderColorProcess:i,indicatorBorderColorWait:n,indicatorBorderColorFinish:i,indicatorBorderColorError:o,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:i,splitorColorError:n,headerTextColorProcess:s,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:o,descriptionTextColorProcess:a,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:o})},Bee={name:"Steps",common:Re,self:Lee},Ree=Bee,q3={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},Pee={name:"Switch",common:Re,self(t){const{primaryColorSuppl:e,opacityDisabled:r,borderRadius:n,primaryColor:i,textColor2:o,baseColor:s}=t;return Object.assign(Object.assign({},q3),{iconColor:s,textColor:o,loadingColor:e,opacityDisabled:r,railColor:"rgba(255, 255, 255, .20)",railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${Ye(i,{alpha:.3})}`})}},Fee=Pee,Uee=t=>{const{primaryColor:e,opacityDisabled:r,borderRadius:n,textColor3:i}=t;return Object.assign(Object.assign({},q3),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:r,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 0 2px ${Ye(e,{alpha:.2})}`})},jee={name:"Switch",common:Cy,self:Uee},zee=jee,$ee={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},Vee=t=>{const{dividerColor:e,cardColor:r,modalColor:n,popoverColor:i,tableHeaderColor:o,tableColorStriped:s,textColor1:a,textColor2:l,borderRadius:d,fontWeightStrong:f,lineHeight:c,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m}=t;return Object.assign(Object.assign({},$ee),{fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,lineHeight:c,borderRadius:d,borderColor:nt(r,e),borderColorModal:nt(n,e),borderColorPopover:nt(i,e),tdColor:r,tdColorModal:n,tdColorPopover:i,tdColorStriped:nt(r,s),tdColorStripedModal:nt(n,s),tdColorStripedPopover:nt(i,s),thColor:nt(r,o),thColorModal:nt(n,o),thColorPopover:nt(i,o),thTextColor:a,tdTextColor:l,thFontWeight:f})},Hee={name:"Table",common:Re,self:Vee},qee=Hee,Wee={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},Gee=t=>{const{textColor2:e,primaryColor:r,textColorDisabled:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,tabColor:d,baseColor:f,dividerColor:c,fontWeight:h,textColor1:p,borderRadius:m,fontSize:y,fontWeightStrong:b}=t;return Object.assign(Object.assign({},Wee),{colorSegment:d,tabFontSizeCard:y,tabTextColorLine:p,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:p,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:n,tabTextColorBar:p,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:p,tabTextColorHoverCard:p,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,closeBorderRadius:m,tabColor:d,tabColorSegment:f,tabBorderColor:c,tabFontWeightActive:h,tabFontWeight:h,tabBorderRadius:m,paneTextColor:e,fontWeightStrong:b})},Qee={name:"Tabs",common:Re,self(t){const e=Gee(t),{inputColor:r}=t;return e.colorSegment=r,e.tabColorSegment=r,e}},Yee=Qee,Kee=t=>{const{textColor1:e,textColor2:r,fontWeightStrong:n,fontSize:i}=t;return{fontSize:i,titleTextColor:e,textColor:r,titleFontWeight:n}},Xee={name:"Thing",common:Re,self:Kee},Jee=Xee,Zee={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},ete={name:"Timeline",common:Re,self(t){const{textColor3:e,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:i,warningColorSuppl:o,textColor1:s,textColor2:a,railColor:l,fontWeightStrong:d,fontSize:f}=t;return Object.assign(Object.assign({},Zee),{contentFontSize:f,titleFontWeight:d,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${o}`,iconColor:e,iconColorInfo:r,iconColorError:n,iconColorSuccess:i,iconColorWarning:o,titleTextColor:s,contentTextColor:a,metaTextColor:e,lineColor:l})}},tte=ete,rte={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},nte={name:"Transfer",common:Re,peers:{Checkbox:ic,Scrollbar:Sn,Input:ai,Empty:fa,Button:kn},self(t){const{fontWeight:e,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:i,heightLarge:o,heightMedium:s,borderRadius:a,inputColor:l,tableHeaderColor:d,textColor1:f,textColorDisabled:c,textColor2:h,textColor3:p,hoverColor:m,closeColorHover:y,closeColorPressed:b,closeIconColor:v,closeIconColorHover:x,closeIconColorPressed:S,dividerColor:I}=t;return Object.assign(Object.assign({},rte),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:o,fontSizeSmall:i,fontSizeMedium:n,fontSizeLarge:r,borderRadius:a,dividerColor:I,borderColor:"#0000",listColor:l,headerColor:d,titleTextColor:f,titleTextColorDisabled:c,extraTextColor:p,extraTextColorDisabled:c,itemTextColor:h,itemTextColorDisabled:c,itemColorPending:m,titleFontWeight:e,closeColorHover:y,closeColorPressed:b,closeIconColor:v,closeIconColorHover:x,closeIconColorPressed:S})}},ite=nte,ote=t=>{const{borderRadiusSmall:e,hoverColor:r,pressedColor:n,primaryColor:i,textColor3:o,textColor2:s,textColorDisabled:a,fontSize:l}=t;return{fontSize:l,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:r,nodeColorPressed:n,nodeColorActive:Ye(i,{alpha:.1}),arrowColor:o,nodeTextColor:s,nodeTextColorDisabled:a,loadingColor:i,dropMarkColor:i}},ste={name:"Tree",common:Re,peers:{Checkbox:ic,Scrollbar:Sn,Empty:fa},self(t){const{primaryColor:e}=t,r=ote(t);return r.nodeColorActive=Ye(e,{alpha:.15}),r}},W3=ste,ate={name:"TreeSelect",common:Re,peers:{Tree:W3,Empty:fa,InternalSelection:Sy}},lte=ate,cte={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},ute=t=>{const{primaryColor:e,textColor2:r,borderColor:n,lineHeight:i,fontSize:o,borderRadiusSmall:s,dividerColor:a,fontWeightStrong:l,textColor1:d,textColor3:f,infoColor:c,warningColor:h,errorColor:p,successColor:m,codeColor:y}=t;return Object.assign(Object.assign({},cte),{aTextColor:e,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:i,blockquoteFontSize:o,codeBorderRadius:s,liTextColor:r,liLineHeight:i,liFontSize:o,hrColor:a,headerFontWeight:l,headerTextColor:d,pTextColor:r,pTextColor1Depth:d,pTextColor2Depth:r,pTextColor3Depth:f,pLineHeight:i,pFontSize:o,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:c,headerBarColorError:p,headerBarColorWarning:h,headerBarColorSuccess:m,textColor:r,textColor1Depth:d,textColor2Depth:r,textColor3Depth:f,textColorPrimary:e,textColorInfo:c,textColorSuccess:m,textColorWarning:h,textColorError:p,codeTextColor:r,codeColor:y,codeBorder:"1px solid #0000"})},dte={name:"Typography",common:Re,self:ute},fte=dte,hte=t=>{const{iconColor:e,primaryColor:r,errorColor:n,textColor2:i,successColor:o,opacityDisabled:s,actionColor:a,borderColor:l,hoverColor:d,lineHeight:f,borderRadius:c,fontSize:h}=t;return{fontSize:h,lineHeight:f,borderRadius:c,draggerColor:a,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:d,itemColorHoverError:Ye(n,{alpha:.06}),itemTextColor:i,itemTextColorError:n,itemTextColorSuccess:o,itemIconColor:e,itemDisabledOpacity:s,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}},pte={name:"Upload",common:Re,peers:{Button:kn,Progress:H3},self(t){const{errorColor:e}=t,r=hte(t);return r.itemColorHoverError=Ye(e,{alpha:.09}),r}},mte=pte,gte={name:"Watermark",common:Re,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},yte=gte,bte={name:"Row",common:Re},vte=bte,_te={name:"Image",common:Re,peers:{Tooltip:fp},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},wte={extraFontSize:"12px",width:"440px"},Ate={name:"Transfer",common:Re,peers:{Checkbox:ic,Scrollbar:Sn,Input:ai,Empty:fa,Button:kn},self(t){const{iconColorDisabled:e,iconColor:r,fontWeight:n,fontSizeLarge:i,fontSizeMedium:o,fontSizeSmall:s,heightLarge:a,heightMedium:l,heightSmall:d,borderRadius:f,inputColor:c,tableHeaderColor:h,textColor1:p,textColorDisabled:m,textColor2:y,hoverColor:b}=t;return Object.assign(Object.assign({},wte),{itemHeightSmall:d,itemHeightMedium:l,itemHeightLarge:a,fontSizeSmall:s,fontSizeMedium:o,fontSizeLarge:i,borderRadius:f,borderColor:"#0000",listColor:c,headerColor:h,titleTextColor:p,titleTextColorDisabled:m,extraTextColor:y,filterDividerColor:"#0000",itemTextColor:y,itemTextColorDisabled:m,itemColorPending:b,titleFontWeight:n,iconColor:r,iconColorDisabled:e})}},xte=Ate,Tte={name:"Skeleton",common:Re,self(t){const{heightSmall:e,heightMedium:r,heightLarge:n,borderRadius:i}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:i,heightSmall:e,heightMedium:r,heightLarge:n}}},Ete=ep("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[At("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),At("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),At("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),ep("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[dp({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),At("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),At("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),At("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Qr("&:focus",[At("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),Ni("round",[At("rail","border-radius: calc(var(--n-rail-height) / 2);",[At("button","border-radius: calc(var(--n-button-height) / 2);")])]),Hk("disabled",[Hk("icon",[Ni("rubber-band",[Ni("pressed",[At("rail",[At("button","max-width: var(--n-button-width-pressed);")])]),At("rail",[Qr("&:active",[At("button","max-width: var(--n-button-width-pressed);")])]),Ni("active",[Ni("pressed",[At("rail",[At("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),At("rail",[Qr("&:active",[At("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),Ni("active",[At("rail",[At("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),At("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[At("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[dp()]),At("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),Ni("active",[At("rail","background-color: var(--n-rail-color-active);")]),Ni("loading",[At("rail",`
 cursor: wait;
 `)]),Ni("disabled",[At("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),Cte=Object.assign(Object.assign({},ld.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let ud;const Ste=u.defineComponent({name:"Switch",props:Cte,setup(t){process.env.NODE_ENV!=="production"&&u.watchEffect(()=>{t.onChange&&EG("switch","`on-change` is deprecated, please use `on-update:value` instead.")}),ud===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?ud=CSS.supports("width","max(1px)"):ud=!1:ud=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=x3(t),n=ld("Switch","-switch",Ete,zee,t,e),i=tQ(t),{mergedSizeRef:o,mergedDisabledRef:s}=i,a=u.ref(t.defaultValue),l=u.toRef(t,"value"),d=KG(l,a),f=u.computed(()=>d.value===t.checkedValue),c=u.ref(!1),h=u.ref(!1),p=u.computed(()=>{const{railStyle:D}=t;if(D)return D({focused:h.value,checked:f.value})});function m(D){const{"onUpdate:value":C,onChange:R,onUpdateValue:$}=t,{nTriggerFormInput:U,nTriggerFormChange:F}=i;C&&Xh(C,D),$&&Xh($,D),R&&Xh(R,D),a.value=D,U(),F()}function y(){const{nTriggerFormFocus:D}=i;D()}function b(){const{nTriggerFormBlur:D}=i;D()}function v(){t.loading||s.value||(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue))}function x(){h.value=!0,y()}function S(){h.value=!1,b(),c.value=!1}function I(D){t.loading||s.value||D.key===" "&&(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue),c.value=!1)}function M(D){t.loading||s.value||D.key===" "&&(D.preventDefault(),c.value=!0)}const E=u.computed(()=>{const{value:D}=o,{self:{opacityDisabled:C,railColor:R,railColorActive:$,buttonBoxShadow:U,buttonColor:F,boxShadowFocus:z,loadingColor:W,textColor:B,iconColor:P,[ms("buttonHeight",D)]:re,[ms("buttonWidth",D)]:H,[ms("buttonWidthPressed",D)]:O,[ms("railHeight",D)]:T,[ms("railWidth",D)]:V,[ms("railBorderRadius",D)]:K,[ms("buttonBorderRadius",D)]:Y},common:{cubicBezierEaseInOut:Q}}=n.value;let ue,J,oe;return ud?(ue=`calc((${T} - ${re}) / 2)`,J=`max(${T}, ${re})`,oe=`max(${V}, calc(${V} + ${re} - ${T}))`):(ue=ay((Bo(T)-Bo(re))/2),J=ay(Math.max(Bo(T),Bo(re))),oe=Bo(T)>Bo(re)?V:ay(Bo(V)+Bo(re)-Bo(T))),{"--n-bezier":Q,"--n-button-border-radius":Y,"--n-button-box-shadow":U,"--n-button-color":F,"--n-button-width":H,"--n-button-width-pressed":O,"--n-button-height":re,"--n-height":J,"--n-offset":ue,"--n-opacity-disabled":C,"--n-rail-border-radius":K,"--n-rail-color":R,"--n-rail-color-active":$,"--n-rail-height":T,"--n-rail-width":V,"--n-width":oe,"--n-box-shadow-focus":z,"--n-loading-color":W,"--n-text-color":B,"--n-icon-color":P}}),L=r?T3("switch",u.computed(()=>o.value[0]),E,t):void 0;return{handleClick:v,handleBlur:S,handleFocus:x,handleKeyup:I,handleKeydown:M,mergedRailStyle:p,pressed:c,mergedClsPrefix:e,mergedValue:d,checked:f,mergedDisabled:s,cssVars:r?void 0:E,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:r,mergedRailStyle:n,onRender:i,$slots:o}=this;i==null||i();const{checked:s,unchecked:a,icon:l,"checked-icon":d,"unchecked-icon":f}=o,c=!(dy(l)&&dy(d)&&dy(f));return u.h("div",{role:"switch","aria-checked":r,class:[`${t}-switch`,this.themeClass,c&&`${t}-switch--icon`,r&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},u.h("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:n},ca(s,h=>ca(a,p=>h||p?u.h("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},u.h("div",{class:`${t}-switch__rail-placeholder`},u.h("div",{class:`${t}-switch__button-placeholder`}),h),u.h("div",{class:`${t}-switch__rail-placeholder`},u.h("div",{class:`${t}-switch__button-placeholder`}),p)):null)),u.h("div",{class:`${t}-switch__button`},ca(l,h=>ca(d,p=>ca(f,m=>u.h(E3,null,{default:()=>this.loading?u.h(eX,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(p||h)?u.h("div",{class:`${t}-switch__button-icon`,key:p?"checked-icon":"icon"},p||h):!this.checked&&(m||h)?u.h("div",{class:`${t}-switch__button-icon`,key:m?"unchecked-icon":"icon"},m||h):null})))),ca(s,h=>h&&u.h("div",{key:"checked",class:`${t}-switch__checked`},h)),ca(a,h=>h&&u.h("div",{key:"unchecked",class:`${t}-switch__unchecked`},h)))))}}),kte=()=>({}),Ite={name:"Equation",common:Re,self:kte},Dte=Ite,Mte={name:"dark",common:Re,Alert:CX,Anchor:DX,AutoComplete:BX,Avatar:M3,AvatarGroup:jX,BackTop:VX,Badge:qX,Breadcrumb:YX,Button:kn,ButtonGroup:qZ,Calendar:rJ,Card:N3,Carousel:dJ,Cascader:yJ,Checkbox:ic,Code:O3,Collapse:wJ,CollapseTransition:TJ,ColorPicker:oJ,DataTable:$J,DatePicker:tZ,Descriptions:oZ,Dialog:$3,Divider:pZ,Drawer:yZ,Dropdown:ky,DynamicInput:_Z,DynamicTags:TZ,Element:CZ,Empty:fa,Ellipsis:P3,Equation:Dte,Form:DZ,GradientText:NZ,Icon:WJ,IconWrapper:BZ,Image:_te,Input:ai,InputNumber:GZ,LegacyTransfer:xte,Layout:YZ,List:JZ,LoadingBar:eee,Log:ree,Menu:lee,Mention:iee,Message:VZ,Modal:dZ,Notification:UZ,PageHeader:dee,Pagination:R3,Popconfirm:mee,Popover:ha,Popselect:L3,Progress:H3,Radio:F3,Rate:vee,Result:xee,Row:vte,Scrollbar:Sn,Select:B3,Skeleton:Tte,Slider:Cee,Space:V3,Spin:Iee,Statistic:Nee,Steps:Ree,Switch:Fee,Table:qee,Tabs:Yee,Tag:D3,Thing:Jee,TimePicker:z3,Timeline:tte,Tooltip:fp,Transfer:ite,Tree:W3,TreeSelect:lte,Typography:fte,Upload:mte,Watermark:yte};var G3;const Q3=typeof window<"u",Nte=t=>typeof t=="function",Ote=t=>typeof t=="string",Lte=()=>{};Q3&&(G3=window==null?void 0:window.navigator)!=null&&G3.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function dd(t){return typeof t=="function"?t():u.unref(t)}function Bte(t,e){function r(...n){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(o)})}return r}const Y3=t=>t();function Rte(t=Y3){const e=u.ref(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:u.readonly(e),pause:r,resume:n,eventFilter:i}}function Pte(t){return t}function K3(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function Fte(t){return typeof t=="function"?u.computed(t):u.ref(t)}function X3(t,e=!0){u.getCurrentInstance()?u.onMounted(t):e?t():u.nextTick(t)}function Ute(t=!1,e={}){const{truthyValue:r=!0,falsyValue:n=!1}=e,i=u.isRef(t),o=u.ref(t);function s(a){if(arguments.length)return o.value=a,o.value;{const l=dd(r);return o.value=o.value===l?dd(n):l,o.value}}return i?s:[o,s]}var J3=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,$te=(t,e)=>{var r={};for(var n in t)jte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&J3)for(var n of J3(t))e.indexOf(n)<0&&zte.call(t,n)&&(r[n]=t[n]);return r};function Vte(t,e,r={}){const n=r,{eventFilter:i=Y3}=n,o=$te(n,["eventFilter"]);return u.watch(t,Bte(i,e),o)}var Hte=Object.defineProperty,qte=Object.defineProperties,Wte=Object.getOwnPropertyDescriptors,hp=Object.getOwnPropertySymbols,Z3=Object.prototype.hasOwnProperty,e4=Object.prototype.propertyIsEnumerable,t4=(t,e,r)=>e in t?Hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gte=(t,e)=>{for(var r in e||(e={}))Z3.call(e,r)&&t4(t,r,e[r]);if(hp)for(var r of hp(e))e4.call(e,r)&&t4(t,r,e[r]);return t},Qte=(t,e)=>qte(t,Wte(e)),Yte=(t,e)=>{var r={};for(var n in t)Z3.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&hp)for(var n of hp(t))e.indexOf(n)<0&&e4.call(t,n)&&(r[n]=t[n]);return r};function Kte(t,e,r={}){const n=r,{eventFilter:i}=n,o=Yte(n,["eventFilter"]),{eventFilter:s,pause:a,resume:l,isActive:d}=Rte(i);return{stop:Vte(t,e,Qte(Gte({},o),{eventFilter:s})),pause:a,resume:l,isActive:d}}function Xte(t){var e;const r=dd(t);return(e=r==null?void 0:r.$el)!=null?e:r}const oc=Q3?window:void 0;function r4(...t){let e,r,n,i;if(Ote(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=oc):[e,r,n,i]=t,!e)return Lte;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[Xte(e),dd(i)],([f,c])=>{s(),f&&o.push(...r.flatMap(h=>n.map(p=>a(f,h,p,c))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return K3(d),d}function Jte(t,e=!1){const r=u.ref(),n=()=>r.value=!!t();return n(),X3(n,e),r}function Zte(t,e={}){const{window:r=oc}=e,n=Jte(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const o=u.ref(!1),s=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},a=()=>{n.value&&(s(),i=r.matchMedia(Fte(t).value),o.value=i.matches,"addEventListener"in i?i.addEventListener("change",a):i.addListener(a))};return u.watchEffect(a),K3(()=>s()),o}const Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dy="__vueuse_ssr_handlers__";Iy[Dy]=Iy[Dy]||{};const ere=Iy[Dy];function n4(t,e){return ere[t]||e}function tre(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var rre=Object.defineProperty,i4=Object.getOwnPropertySymbols,nre=Object.prototype.hasOwnProperty,ire=Object.prototype.propertyIsEnumerable,o4=(t,e,r)=>e in t?rre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s4=(t,e)=>{for(var r in e||(e={}))nre.call(e,r)&&o4(t,r,e[r]);if(i4)for(var r of i4(e))ire.call(e,r)&&o4(t,r,e[r]);return t};const ore={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},a4="vueuse-storage";function sre(t,e,r,n={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:d=!1,shallow:f,window:c=oc,eventFilter:h,onError:p=D=>{console.error(D)}}=n,m=(f?u.shallowRef:u.ref)(e);if(!r)try{r=n4("getDefaultStorage",()=>{var D;return(D=oc)==null?void 0:D.localStorage})()}catch(D){p(D)}if(!r)return m;const y=dd(e),b=tre(y),v=(i=n.serializer)!=null?i:ore[b],{pause:x,resume:S}=Kte(m,()=>I(m.value),{flush:o,deep:s,eventFilter:h});return c&&a&&(r4(c,"storage",L),r4(c,a4,E)),L(),m;function I(D){try{if(D==null)r.removeItem(t);else{const C=v.write(D),R=r.getItem(t);R!==C&&(r.setItem(t,C),c&&c.dispatchEvent(new CustomEvent(a4,{detail:{key:t,oldValue:R,newValue:C,storageArea:r}})))}}catch(C){p(C)}}function M(D){const C=D?D.newValue:r.getItem(t);if(C==null)return l&&y!==null&&r.setItem(t,v.write(y)),y;if(!D&&d){const R=v.read(C);return Nte(d)?d(R,y):b==="object"&&!Array.isArray(R)?s4(s4({},y),R):R}else return typeof C!="string"?C:v.read(C)}function E(D){L(D.detail)}function L(D){if(!(D&&D.storageArea!==r)){if(D&&D.key==null){m.value=y;return}if(!(D&&D.key!==t)){x();try{m.value=M(D)}catch(C){p(C)}finally{D?u.nextTick(S):S()}}}}}function l4(t){return Zte("(prefers-color-scheme: dark)",t)}var are=Object.defineProperty,c4=Object.getOwnPropertySymbols,lre=Object.prototype.hasOwnProperty,cre=Object.prototype.propertyIsEnumerable,u4=(t,e,r)=>e in t?are(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ure=(t,e)=>{for(var r in e||(e={}))lre.call(e,r)&&u4(t,r,e[r]);if(c4)for(var r of c4(e))cre.call(e,r)&&u4(t,r,e[r]);return t};function dre(t={}){const{selector:e="html",attribute:r="class",initialValue:n="auto",window:i=oc,storage:o,storageKey:s="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:d}=t,f=ure({auto:"",light:"light",dark:"dark"},t.modes||{}),c=l4({window:i}),h=u.computed(()=>c.value?"dark":"light"),p=l||(s==null?u.ref(n):sre(s,n,o,{window:i,listenToStorageChanges:a})),m=u.computed({get(){return p.value==="auto"&&!d?h.value:p.value},set(x){p.value=x}}),y=n4("updateHTMLAttrs",(x,S,I)=>{const M=i==null?void 0:i.document.querySelector(x);if(M)if(S==="class"){const E=I.split(/\s/g);Object.values(f).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{E.includes(L)?M.classList.add(L):M.classList.remove(L)})}else M.setAttribute(S,I)});function b(x){var S;const I=x==="auto"?h.value:x;y(e,r,(S=f[I])!=null?S:I)}function v(x){t.onChanged?t.onChanged(x,b):b(x)}return u.watch(m,v,{flush:"post",immediate:!0}),d&&u.watch(h,()=>v(m.value),{flush:"post"}),X3(()=>v(m.value)),m}var fre=Object.defineProperty,hre=Object.defineProperties,pre=Object.getOwnPropertyDescriptors,d4=Object.getOwnPropertySymbols,mre=Object.prototype.hasOwnProperty,gre=Object.prototype.propertyIsEnumerable,f4=(t,e,r)=>e in t?fre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yre=(t,e)=>{for(var r in e||(e={}))mre.call(e,r)&&f4(t,r,e[r]);if(d4)for(var r of d4(e))gre.call(e,r)&&f4(t,r,e[r]);return t},bre=(t,e)=>hre(t,pre(e));function vre(t={}){const{valueDark:e="dark",valueLight:r="",window:n=oc}=t,i=dre(bre(yre({},t),{onChanged:(s,a)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,s==="dark"):a(s)},modes:{dark:e,light:r}})),o=l4({window:n});return u.computed({get(){return i.value==="dark"},set(s){s===o.value?i.value="auto":i.value=s?"dark":"light"}})}var h4;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(h4||(h4={}));var _re=Object.defineProperty,p4=Object.getOwnPropertySymbols,wre=Object.prototype.hasOwnProperty,Are=Object.prototype.propertyIsEnumerable,m4=(t,e,r)=>e in t?_re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xre=(t,e)=>{for(var r in e||(e={}))wre.call(e,r)&&m4(t,r,e[r]);if(p4)for(var r of p4(e))Are.call(e,r)&&m4(t,r,e[r]);return t};xre({linear:Pte},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const fd=vre();Ute(fd),u.computed(()=>fd.value?Mte:null);const Tre={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ere=u.createElementVNode("path",{d:"M6.76 4.84l-1.8-1.79l-1.41 1.41l1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407l-1.79 1.79l-1.407-1.408zm-1.8 15.115l1.79 1.8l1.41-1.41l-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41l1.79-1.8l-1.41-1.41z",fill:"currentColor"},null,-1),Cre=[Ere],Sre=u.defineComponent({name:"WbSunnyOutlined",render:function(t,e){return u.openBlock(),u.createElementBlock("svg",Tre,Cre)}}),kre={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ire=u.createElementVNode("path",{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4c.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7c0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z",fill:"currentColor"},null,-1),Dre=[Ire],Mre=u.defineComponent({name:"DarkModeOutlined",render:function(t,e){return u.openBlock(),u.createElementBlock("svg",kre,Dre)}}),Nre=u.defineComponent({__name:"switch",props:{round:{type:Boolean,default:!1},darkBackground:{default:"linear-gradient(135deg,#42e695,#3bb2b8)"},lightBackground:{default:""}},setup(t){const e=t,r=({checked:n})=>({background:n?e.darkBackground:e.lightBackground});return(n,i)=>(u.openBlock(),u.createBlock(u.unref(Ste),{round:n.round,"rail-style":r,value:u.unref(fd),"onUpdate:value":i[0]||(i[0]=o=>u.isRef(fd)?fd.value=o:null)},{"checked-icon":u.withCtx(()=>[u.createVNode(u.unref(j3),null,{default:u.withCtx(()=>[u.renderSlot(n.$slots,"dark",{},()=>[u.createVNode(u.unref(Mre))])]),_:3})]),"unchecked-icon":u.withCtx(()=>[u.createVNode(u.unref(j3),null,{default:u.withCtx(()=>[u.renderSlot(n.$slots,"light",{},()=>[u.createVNode(u.unref(Sre))])]),_:3})]),_:3},8,["round","value"]))}}),pa=t=>(u.pushScopeId("data-v-7c143efd"),t=t(),u.popScopeId(),t),Ore={key:1,class:"flex items-center gap-3 border-b border-solid p-3 dark:border-zinc-700"},Lre={key:2,class:"relative h-10 w-10"},Bre={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100"},Rre=pa(()=>u.createElementVNode("div",{class:"flex-grow"},null,-1)),Pre={key:0,slot:"header",class:"flex h-12 w-full items-center justify-center"},Fre=[pa(()=>u.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],Ure={class:"relative flex items-end justify-center gap-3 p-2 pl-3"},jre={key:2,class:"absolute bottom-16 left-2 z-10 flex items-stretch gap-1 rounded-lg bg-white p-1.5 text-gray-900 shadow-md dark:bg-zinc-800 dark:text-gray-100"},zre=pa(()=>u.createElementVNode("img",{class:"h-6 w-6",src:dN},null,-1)),$re={class:"text-xs"},Vre=pa(()=>u.createElementVNode("img",{class:"h-6 w-6",src:fN},null,-1)),Hre={class:"whitespace-nowrap text-xs"},qre={key:4,class:"relative flex grow flex-col items-stretch rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Wre={class:"flex items-center gap-3 bg-gray-100 dark:bg-zinc-700"},Gre={class:"flex w-0 min-w-0 grow flex-col items-stretch justify-center gap-3"},Qre=["placeholder"],Yre={key:0,class:"flex gap-3"},Kre=["src"],Xre=["onClick"],Jre=[pa(()=>u.createElementVNode("img",{src:pN,width:"24",height:"24"},null,-1))],Zre=[pa(()=>u.createElementVNode("img",{src:mN,width:"24",height:"24"},null,-1))],ene=pa(()=>u.createElementVNode("img",{src:gN,width:"24",height:"24"},null,-1)),tne=wi(u.defineComponent({__name:"ChatRoom",setup(t){const e=Ft(),{open:r}=bo({component:BW}),n=u.computed(()=>e.state.imkit.rooms[e.state.imkit.selectedRoomId]),i=u.computed(()=>e.state.imkit.selectedRoomId),o=u.computed(()=>!!e.state.imkit.isRequesting[`/rooms/${e.state.imkit.selectedRoomId}/messages`]),s=u.computed(()=>{var oe;const J=Object.keys(e.state.imkit.isTyping).map(se=>new ir({_id:se,messageType:"typing",sender:{_id:se}}));return((oe=e.state.imkit.messageMultiList.main)==null?void 0:oe.array().concat(J))??[]}),a=u.computed(()=>ZW().has("roomId")),l=u.computed(()=>s.value.at(-1)),d=u.computed(()=>e.state.imkit.isRoomInfoVisible),f=u.computed(()=>e.state.imkit.navigationTargetId),c=u.ref(null),h=u.ref(""),p=u.ref(!1),m=u.ref(!1),y=u.ref(!1),b=u.ref(!1),v=u.ref(),x=u.ref([]),S=u.ref([]),I=u.ref(!1),M=u.ref(!1),E=u.ref(),L=u.ref(Dr().subtract(5,"second")),D=u.ref(!1),C=u.computed(()=>e.state.imkit.replyId),R=u.computed(()=>e.state.imkit.config.settings),$=u.computed(()=>e.state.imkit.isSearchInRoomMode),U=async()=>{const J=async()=>{if(h.value){const{replyId:se}=e.state.imkit,le={roomId:n.value.id,messageType:"text",message:h.value.trim(),reply:se||null};h.value="",await u.nextTick(),E.value&&(E.value.style.height="auto",E.value.style.height=Math.min(E.value.scrollHeight,64)+"px"),await e.dispatch("imkit/sendMessage",le),e.commit("imkit/setState",{replyId:null})}},oe=async()=>{if(x.value.length>0){const se={roomId:n.value.id,messageType:"image",images:x.value,files:S.value};x.value=[],S.value=[],await e.dispatch("imkit/sendMessage",se)}};await Promise.all([oe(),J()])},F=async()=>{var oe,se;if(s.value.length>=e.state.imkit.numberOfTotalMessages)return;const J=await e.dispatch("imkit/loadMessages",{roomId:n.value.id,beforeMessageId:(oe=s.value[0])==null?void 0:oe.id});J&&J.length>0&&((se=c.value)==null||se.scrollToIndex(J.length))},z=async()=>{var J;M.value=!1,e.state.imkit.messageMultiList.main!=e.state.imkit.messageMultiList.tail&&await e.dispatch("imkit/loadMessages",{roomId:n.value.id,afterMessageId:(J=s.value[s.value.length-1])==null?void 0:J.id})},W=J=>{h.value+=J.i,y.value=!1},B=()=>{var J;(J=v.value)==null||J.click()},P=async J=>{var Ie;const se=Array.from(((Ie=J==null?void 0:J.target)==null?void 0:Ie.files)||[]).filter(ce=>ce.size<2e7);if(se.length===0||se.length>10)return;const le=se.filter(ce=>ce.type.startsWith("image")),ge=se.filter(ce=>ce.type.startsWith("video")),we=se.filter(ce=>!ce.type.startsWith("image")&&!ce.type.startsWith("video"));if(le.length>0){const ce=await Promise.all(le.map(z1)),Ce={roomId:n.value.id,messageType:"image",images:ce,files:Array.from(se)};await e.dispatch("imkit/sendMessage",Ce)}if(ge.length>0)for(const ce of ge){const Ce=await sq(ce),{width:We,height:pe,duration:Ee}=Ce,Fe={roomId:n.value.id,messageType:"video",video:Ce,file:ce,width:We,height:pe,duration:Ee};await e.dispatch("imkit/sendMessage",Fe)}if(we.length>0)for(const ce of we){const Ce={roomId:n.value.id,messageType:"file",file:ce,originalUrl:"",extra:{mimeType:ce.type,fileName:ce.name.split(".").slice(0,-1).join("."),bytes:ce.size,fileExtension:ce.name.split(".").pop()}};await e.dispatch("imkit/sendMessage",Ce)}v.value&&(v.value.value="")},re=async J=>{const oe=((J==null?void 0:J.dataTransfer)||{}).files||[];if(oe.length===0||oe.length>10)return;const se=await Promise.all(Array.from(oe).map(z1)),le={roomId:n.value.id,messageType:"image",images:se,files:Array.from(oe)};await e.dispatch("imkit/sendMessage",le)},H=J=>{J.preventDefault()},O=async J=>{const se=(J.clipboardData||{}).files;se.length===0||se.length>10||(J.preventDefault(),x.value=x.value.concat(await Promise.all(Array.from(se).map(z1))),S.value=S.value.concat(Array.from(se)))},T=()=>{e.commit("imkit/setState",{selectedRoomId:""})},V=J=>{x.value.splice(J,1),S.value.splice(J,1)},K=()=>{setTimeout(()=>{p.value=!1},0)},Y=J=>{!p.value&&J.keyCode==13&&!J.shiftKey&&!R.value.sendButtonEnabled&&(J.preventDefault(),U())},Q=()=>{E.value&&(E.value.style.height="auto",E.value.style.height=Math.min(E.value.scrollHeight,64)+"px")},ue=()=>{e.commit("imkit/setState",{isSearchInRoomMode:!0})};return u.onMounted(()=>{u.watch(i,async(J,oe)=>{J!==oe&&(I.value=!1,e.commit("imkit/clearChatRoom"),Promise.all([e.dispatch("imkit/loadMessages",{roomId:J}),e.dispatch("imkit/fetchRoom",J)]).finally(()=>{var se,le;(((se=n.value)==null?void 0:se.numberOfUnread)??0)>0&&(e.dispatch("imkit/updateLastRead",J),e.dispatch("imkit/insertUnreadMessage"));for(const ge of e.state.imkit.deliveringMessages.values())ge.roomId===J&&e.commit("imkit/pushMessage",ge);(le=c.value)==null||le.scrollToBottom(),I.value=!0}))},{immediate:!0}),u.watch([()=>s.value.length,()=>l.value],([J],[oe])=>{var se,le,ge,we,Ie,ce;((se=c.value)==null?void 0:se.getOffset())!==void 0&&(J-oe>1||(((le=c.value)==null?void 0:le.getOffset())+((ge=c.value)==null?void 0:ge.getClientSize())==((we=c.value)==null?void 0:we.getScrollSize())||((Ie=s.value[s.value.length-1])==null?void 0:Ie.senderId)===e.state.imkit.uid?(M.value=!1,(ce=c.value)==null||ce.scrollToBottom()):M.value=!0))}),u.watch(f,J=>{var se;if(!J)return;const oe=s.value.findIndex(le=>le.id===J);oe!==-1&&((se=c.value)==null||se.scrollToIndex(oe)),e.commit("imkit/setState",{navigationTargetId:""})}),u.watch(C,()=>{C.value&&(b.value=!1,setTimeout(()=>{var J;(J=E.value)==null||J.focus()},0))}),u.watch(h,()=>{if(L.value.add(5,"second")>Dr())return;L.value=Dr();const{socket:J,selectedRoomId:oe}=e.state.imkit;J.emit("typing",oe)})}),(J,oe)=>{var se;return n.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex h-dvh flex-col bg-white dark:bg-zinc-800",onDrop:u.withModifiers(re,["prevent"]),onDragenter:H,onDragover:H},[$.value?(u.openBlock(),u.createBlock(gG,{key:0})):(u.openBlock(),u.createElementBlock("div",Ore,[a.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock("img",{key:0,src:lN,class:"flex cursor-pointer sm:!hidden",width:"36",height:"36",onClick:T})),n.value.avatars.length===1?(u.openBlock(),u.createBlock(Wn,{key:1,url:n.value.avatars[0].url,name:n.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",Lre,[u.createVNode(Wn,{url:n.value.avatars[1].url,name:n.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl text-sm"},null,8,["url","name"]),u.createVNode(Wn,{url:n.value.avatars[0].url,name:n.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white text-sm group-hover:border-gray-100"},null,8,["url","name"])])),u.createElementVNode("div",Bre,u.toDisplayString(n.value.displayName),1),Rre,R.value.showDarkModeSwitch?(u.openBlock(),u.createBlock(u.unref(Nre),{key:3,round:""})):u.createCommentVNode("",!0),R.value.searchInRoomEnabled?(u.openBlock(),u.createElementBlock("img",{key:4,class:"h-6 w-6 cursor-pointer",src:Ud,onClick:ue})):u.createCommentVNode("",!0),n.value.type===u.unref(sy).Group&&R.value.showGroupChatRoomInfoButton||n.value.type===u.unref(sy).Direct&&R.value.showDirectChatRoomInfoButton?(u.openBlock(),u.createElementBlock("img",{key:5,src:cN,class:"h-6 w-6 cursor-pointer",onClick:oe[0]||(oe[0]=le=>u.unref(e).commit("imkit/setState",{isRoomInfoVisible:!d.value}))})):u.createCommentVNode("",!0)])),u.createVNode(u.unref(Vd),{class:u.normalizeClass(["grow overflow-auto p-2",{"opacity-0":!I.value&&!o.value}]),ref_key:"vl",ref:c,"data-key":"id","data-sources":s.value,"data-component":b$,"wrap-class":"flex flex-col","estimated-size":66,keeps:50,onTotop:F,onTobottom:z},{header:u.withCtx(()=>[o.value?(u.openBlock(),u.createElementBlock("div",Pre,Fre)):u.createCommentVNode("",!0)]),_:1},8,["class","data-sources"]),u.createElementVNode("div",Ure,[M.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"absolute -top-10 flex h-10 w-full cursor-pointer items-center bg-gray-200 bg-opacity-90 px-3 dark:bg-zinc-600",onClick:oe[1]||(oe[1]=(...le)=>c.value.scrollToBottom&&c.value.scrollToBottom(...le))},u.toDisplayString((se=n.value.lastMessage)==null?void 0:se.string),1)):u.createCommentVNode("",!0),R.value.locationInputEnabled||R.value.audioInputEnabled?(u.openBlock(),u.createElementBlock("img",{key:1,src:uN,class:u.normalizeClass(["h-12 w-5 flex-shrink-0 transform cursor-pointer object-contain transition",{"rotate-45":b.value}]),onClick:oe[2]||(oe[2]=()=>{b.value?b.value=!1:D.value=!0})},null,2)):u.createCommentVNode("",!0),D.value?u.withDirectives((u.openBlock(),u.createElementBlock("div",jre,[R.value.locationInputEnabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:oe[3]||(oe[3]=(...le)=>u.unref(r)&&u.unref(r)(...le))},[zre,u.createElementVNode("div",$re,u.toDisplayString(J.$t("location")),1)])):u.createCommentVNode("",!0),R.value.audioInputEnabled?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:oe[4]||(oe[4]=()=>{D.value=!1,b.value=!0})},[Vre,u.createElementVNode("div",Hre,u.toDisplayString(J.$t("audio")),1)])):u.createCommentVNode("",!0)])),[[u.unref(td),()=>{D.value=!1}]]):u.createCommentVNode("",!0),R.value.audioInputEnabled&&b.value?(u.openBlock(),u.createBlock(JW,{key:3})):(u.openBlock(),u.createElementBlock("div",qre,[u.createVNode(gq),u.createElementVNode("div",Wre,[u.createElementVNode("div",Gre,[u.withDirectives(u.createElementVNode("textarea",{ref_key:"input",ref:E,type:"text",rows:"1",class:"resize-none bg-gray-100 outline-none dark:bg-zinc-700",placeholder:J.$t("TypeMessage"),"onUpdate:modelValue":oe[5]||(oe[5]=le=>h.value=le),onCompositionstart:oe[6]||(oe[6]=le=>p.value=!0),onCompositionend:K,onKeydown:u.withKeys(Y,["enter"]),onInput:Q,onPaste:O},null,40,Qre),[[u.vModelText,h.value]]),x.value.length>0?(u.openBlock(),u.createElementBlock("div",Yre,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(x.value,(le,ge)=>(u.openBlock(),u.createElementBlock("div",{key:`${le.id}-${ge}`,class:"group relative h-12 w-12"},[u.createElementVNode("img",{src:le.thumbnailUrl,class:"absolute bottom-0 left-0 h-full w-full rounded-lg bg-gray-200 object-cover dark:bg-zinc-600"},null,8,Kre),u.createElementVNode("img",{src:hN,class:"absolute -right-2 -top-2 hidden h-5 w-5 cursor-pointer group-hover:block",onClick:we=>V(ge)},null,8,Xre)]))),128))])):u.createCommentVNode("",!0)]),R.value.stickerInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:0,class:"flex-shrink-0",onClick:oe[7]||(oe[7]=le=>m.value=!0)},Jre)):u.createCommentVNode("",!0),R.value.emojiInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:1,class:"flex-shrink-0",onClick:oe[8]||(oe[8]=le=>y.value=!0)},Zre)):u.createCommentVNode("",!0),R.value.fileInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:2,class:"flex-shrink-0",onClick:B},[ene,u.createElementVNode("input",{ref_key:"fileInput",ref:v,type:"file",multiple:"true",onChange:P,class:"hidden"},null,544)])):u.createCommentVNode("",!0)]),R.value.stickerInputEnabled&&m.value?u.withDirectives((u.openBlock(),u.createBlock(T$,{key:0,onClose:oe[9]||(oe[9]=()=>{m.value=!1})},null,512)),[[u.unref(td),()=>{m.value=!1}]]):u.createCommentVNode("",!0)])),R.value.emojiInputEnabled&&y.value?u.withDirectives((u.openBlock(),u.createBlock(u.unref(qH),{key:5,class:"absolute bottom-16 right-2.5 overflow-auto",native:!0,onSelect:W},null,512)),[[u.unref(td),()=>{y.value=!1}]]):u.createCommentVNode("",!0),b.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:6},[h.value.length>0?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-pointer",{"sm:hidden":!R.value.sendButtonEnabled}]),src:gv,onClick:U},null,2)):(u.openBlock(),u.createElementBlock("img",{key:1,class:u.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-not-allowed",{"sm:hidden":!R.value.sendButtonEnabled}]),src:yv},null,2))],64))])],32)):u.createCommentVNode("",!0)}}}),[["__scopeId","data-v-7c143efd"]]),rne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGklEQVR4nO2ca4hbVRDHz64rWuoLfNTWZCZd496ZVHbRbGZuVksQQRfEgh+sIvWTVPCLYhE/rfih+KIIVkRRKmgtgoqKVqwfRBRFxEJ9oKJQtfVVrM8WrA9cV84mWeM2ySYn99zN5uYPh4Vlyf753Zk5jzk3xvTVV19NlM1OHoe5wpnGmMFmf5dEDQDLrcByGFlnkHX3itHR5YttqmuEpNsqYGqG3L3YvrpCSHLz0XBmAX2T+FTLrJExIP2zPiCdQSoUTZILMrB80BAO60ya9SaTVCHpPc3glCNIt5kkKs2yFln+bgHQuyZpGh4tnmEL8IJwWGeA9ZBJlq48BklfbQVOdZyeK51gEqKB+uud5iOVC7MmCULSLe3CKc9kstb0flrJVhc4ZUDhetOrCoKJE5H1JVc4lUJ9o+lFIUmIpB91AmcWEOltppc0PJw/uZxSLaxzWho9smldMTq63G48gfRANGDmxgNmKQsoPB9J7keSnyIGU61Bj5mlpFQuzGJQuAZIHwLS/T6g/G+QPhOV9wH7NDOsVwHp9S4DuXhe9cPSQXg5kN4BJA8Cy7NA+l7NiV9sA0h2dQpmEFlvQNKvIwjnqeqHIsmOuGHUjyB505lMKhUuQ9adEeb7VNcBYt3tDAhYn4w0nLn7ANnUdoKDuXAycjPcfYCQ5UM3QB0u4XGpACL92IXPALIcSQIgYP2stua21OlYOZI/zZOZqW4DhCR7q55gJLwASPbYn00BnZWVVFIAAcuX/3kqFCu/+yMTFC7tA+LZWeyrKogMq9Y8zEPpYGJV4iMIWb+rQlidC2VedN2beEBA8n0VQjoojM9Lwc/7gFgOzhVp0vw8QP+YUmko2UWa9ECjFEPWaXvmnWhAWL7lcVSRLsOTT+qmGI6NnZLEWQwr03wNoNsbTvU+TvCgy9dBEBQnauDsy2blpMaAWB9P2ko6ndMLK1G1H84ZHzbNlKLxc6PrHOiS2IvNFmnSLauocGpTOHMhxzrV84CoQSFuUQO2UNn1APYoINt8NJ3KrjCB9PlOj0C6EZC9pmeivPeXXjNxtl1xuo38ytoal87pOmC5Fkk32Qae7TB4aAz6O5NeLA3n8gCsG5DkKbur9hpBpG+YpaxUKlxmowxY3/aTYvpKpIYzJJcgyc8uo+nKtAUBFy4GknciBvRcdHRMpVdG+puTIZKtEVgYBNKNwPprJJBIdpiohSQvOBp6ODIPgWaiiSZ5xEQtYLnO7Wnp9ih9lDu/8mKHEXSf8THLoBugpyM3UyoNAemjHdSgO40PAck+B0M7PV4B3u740DZ5cYQkTzjk+1tezBhj8vn8scD6mkMEbfBiCEg3Opj51HiU3YUj6xdt+cqFk17M4EiRHEL6R+NZtivazjGN3QL58jLosBaZtqlgPAtJNrfqyU443oyAQ86vpsKI8a3yzPZ+C9Hzl9cHhg7vR9i7iSYGVc6Xp30eli0oJL26/ULdoJ3rQfaCaKz7sLpXdtsH9DsGcpGJ61Y+y7cN/ZBs9u1hAEh/cYB0OBOMByYGAclljY6MY3kVCtt8w68m//fE9d663U7UeUgH67aVF+XtYm5QsHO6zsSjwYrPuaJtN9yx/Oc0h+tdAcX9WnaGi4hUuML24GP7pxhoxhUQsLxukiAk2etYh142yf4CEV0ogu4ySVDeHjWQ7GoT0A8NL0n2pEqlIWC5xV4GaA5GjtgubSx7sm4VYul4O2PYKyS1o/z1WDGsPfrqy3Sj/gV9hWpJG54kuwAAAABJRU5ErkJggg==",g4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEJ0lEQVR4nO2bS4wbRRCGew3hJSQEKELZeKqdxcFVYyKQBldNlpX2BlwCOYQrF5QDSsIjVxRtlAiExOPChTPixhkkOAQukAVlw0uC5cBTKDxyIomWiEeM2rEQbNzttteemV76l/rmnun+XF011dWtVFRUVFRUVFRUVFRUVFTl1Gw+cC2k+SFAXtYoFzRJdwPtL038g0Z5tdHmu1Toqu/MtwPKxxuEYmn8p0Y5rIK2HJwWnP+0oypEAcnjBcAJFxIgf1AgoC4Qv6jUw1epUKSRzxcJqA/pkwT5ke1NrlceVtFwdFEN5QKQnATkg2maXhMBkcNikU8nrfnZaEHksipeGcuSSl8KVKDvQz4QAZEDEMnJCIhcjpvPR0DkXmYREEVA3Y046mhBFAF1owXR9L6F4hKjCKgbLYjiEuuWlY9FH0QRUDdaELkycr4IJCcA5Ygm3qvbQrBr4eYsy7aYCk2zubA1oU4bUt6niY9p4vd6paf/wRI7BSj75+aym0ad4yx2bu0XRT/fhIB4pYF8n5qMZjYRIF4zNbvSqx7lg5ArGpCs1lv5LlUFlQ1Dr28oHxpHq6qiSlkO8vLWdPFGr3Gnnbs1ydOA/AagfKRJzgDKj6YoCchvAvISoGRj+Z0qAgKSVRNtnINdXLwaiB/VJF/7Q5fvNclj5jMgYEC8NsznNFqd+w3EDbznq6SV7wkSEPSilVUzGvm4Jrk0gXddAuIXlFK1gADxiiOUzwDKKxN/J/Jr3pDKBtRwfAT2LWdaVvtSCIBOuXyO17JC/sPkZeYoDWC2zRz3A+LfPK13b6UBAcp+e7SSL8c9tZaQPOFnRfyNSXArCQiIL9oSTwPO9zlJe/729f3raX6Lr1MfEiDKBCQnLEOaAeRvfZ9Tr+fXD54Xr3k+44wz3ysNEMoRi/VkozxnAoC60No9XzlASSoPWsZztHBAKM9YAQHxuVIgtYUGj0feGhatrJOxzXFIdAPidxydebkMQLa8SxN/Oq0z1rboZiKmC9DBMgDZzgsC8S++0WpU2aIbkPxq7WQGCsiniwa0LctuGDQeTXJ24L+885656QHic86OSWt+tmhIc2kGFkCfDQSEvDStaxfOJbbOkg4AyftFnL7vb2YNAMRvW37/u9kgMzeTRgWz4065TSM/5XDS76pQpHu1rILDPMmzKhTtSHMuHNAd+b0qINV6txULAgTIP5VeWhpVxhd6//sDotsoyapGflKFpizLtpg9ZE8LWBr3kiCgfKf14nUqRCWtfI+PFfw7ug2LVlf0TXmfClka5flRHPaI7WW1CVQzV8snDgfl9eAcs0M1U6qZUNmnbzmbB84/ahA/ZPaQxwVjKqzB+xyvdCjND5ltUn8w/LNx3MFGKzWeaho7u02KYDa7gPiL3sbf5Yu8qya30sTPJaks+C6nvwHqSkKcY2gfKAAAAABJRU5ErkJggg==",nne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAbUExURUdwTP///////////////////////////////xb9HQ4AAAAIdFJOUwCAvz5nE+qvkBVomAAAAT1JREFUWMPtl70LwjAQxatWXP0aHHUQOlZxcFRcHIuIriIOHV0ER6ui+bMl2ErvcmlCEKQxb+tLf5RqLu/V85yc7NKkBRS+3docuB1MrRjUM+JuPUD2CWFntM763G1g9wqpGl5nN25PBTsEWEVYv3O7J9gzBZbQWLOk2CD7V4M8ds3ctgT7WL08ltD3OMxhDvsFZjjdlh54Po0tFZhh4ng4/9iRu1XsPlEsbnH+vdMUp+UQp/AIhHQ3y26Y6AvXcayuaqnW3Yim6KqWzUfMDjRGV7VUU3HrFw5Objz6FCapaqn49U4PSxB2KTcmHuZamBgdVmPjGJ6eoRbmF205ObbB2CPSwZY6Xx105Ctj8WtPM3w3w1/SG0NqH/7ZVjacbksPPL8Qi2WYYeJIqpoq3yRVTZmmkqqmym4np5LrBeYgWB5+6q94AAAAAElFTkSuQmCC",ine="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQUlEQVR4nO2bu2sUURSHz4CISlR8pNi4e24S151zx0ez2XMmD1gROxEVEcRHIYJYCPaCna9CBBULK/uUAUX0D1Ax4gpa2EUbg6CkMaiIyjWKSdjsIzs7z/vBVFvsnW9/587cc+8CWCwWi8ViscQL5cpu1PJQaZ5Ad3gk6vHEijwN7VCaZ5WWX+ZCkm/9mg9EPa54UK2uUFqe/5MzT9J3pfkgZB0kvrRYjpX0FyQpzyWlvqBMJ0mp6ipF8rqRnExLUsS3WpGTSUno8R6l5Wc7gjIjqVjkdUg81a6cBZKocgjSCmq+t1w5qZdUcP39ncpJraRcqbwZST4EJSh1khTJeJByUiUJtZzohpxUSCq4I32K+FM3BSVZkjPXwuiunPmSsOSPQlLALpdW/YsnICkMDpbXI/HTMAUh8QNIEoOhSuLZfvKrod6g646sNd29gpbzqPmq0nIbSS6i5tMDJdkVF0mo+VWr4wkCxywKleZHpv3ZJNJTqOUGUjkXjST+gVqueJ63MhQzWPJHkfhZ2wMl+aI0X8uVy2vCkoRa3iqqDIcixoAkZ5p1+JpPklLr18MKGknS8qRDOaZVcrfXq/ZAWKArhwP7ZYmnTTu1G0lCkveo/b0QAU67Xb4m8Z8Z8Hxu2BdqN0kk43nP3wgR4sRREmr+GKdlhBMnSUh8v9kTMpOSUMuMeWhAjHEik0T8eOv2oQIkAAc13wlKkiL+3PTppvmk+V5IEE6YkpKKY9ZggZUb8XRSSihCSfKy0bIkqThBlptZZEIKcYJLEs/mt/lbIG0Ui2O9ZrINJkV8HdIE7hzboLRMBjgXvYO0gAHL+XeZM4qQkq3jWt2b7LTcPDkFaU0OktT+zEkdTdx8AdKYHCSpmc87fgUgvglpTE7uv5yOXgGQ5DJkQM6yJSHxOUhpWS1FW+WGxPsgA8lZVj8JNX8NdXciJnJalpSYvXQMXk5Lksy5RciwnIaSzA5u7LuHfVTZ1OGE3CoLJu65E2HsQ8aT0yBJlbMQZ/rCS85iHLPNDXEmn/dXK80vIpCTDBTJ0aXkmGRB1kHPP27lNKDXq/YokjfzJE3a5NST5FaOocdHzL//uhpZi8VisVgsFosFYs5vllNJQwrDPNkAAAAASUVORK5CYII=",one="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVR4nO3WPQrCMBiA4W+yh/BcniABFyNIsrsnOPRS/kz1KlJ35SsdOkhtRaGp7wOB0pZ3CGlSEQAAAAAAAAAAJsC5sjA+bU2IZxviXUd77fTZrHrr3WFpQ7zakB6vhvGp0ndm0XOuLPpi3eiQmZx6T3SZvIt1opvce2J9ugwOhnjKvScmxHpEsM69J2OCNsRb7j35uyVtQ3Tf3BSm3pP2QK8GxKrVfr/IvdfQQ7sv+smPwpR7DZ0dXRL6HehG0WwWPh313uCZy6gHAAAAAAAAAID8wBNoenSqsgBAfQAAAABJRU5ErkJggg==",sne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJklEQVR4nO2bu04bQRSG13kBJJQUCDPHcgye43SYnLMFr4HyCkiAKKDlJkGTtKFIHyoq8g5AmvAAQJHkDQINIKFFayMhEDu+7FqOZ/5POt1OMZ/O/Ls7OxtFAAAAAAAAAAAA8Ihqo2kMy7ph2SfWbyNVVr8Qf1ycrEl5IHKmWFeN1VtiTUa87g3rQa02/64wORXWT//BxJIiy1j9S3WtFCKIrFwOe0I0EElyXq02x/LJqWtl2BOhQZbVw1yCjI1nhz4JHngnLecQpE3vBbHcpPOEIHYtNbnsK49C6CDKk0dBCeI+8ig4QdxjHoUmiHrNoyAFcUvSURRFJQjinHkUbAdx633tjqzEEMTOLvpdbsTj6CB2dZP8yMyjkJcYPe+kpcAEybGxstUq1pOO11u5fnU30kdBxurGiyVTSkV1MW4vAEFynJEnJcN66hYkZ94LMlY2s+5IxLrtHMtyFYKgrf4F6T//BbGeZCyxN8bKT/d4+eW9IHrqomchTaw7XYzbDUIQtTvp9PHOtd25c9q3+fJ0PBmMIOpVaHgPitpD4VUjcXQOXlYpUw62O5IOuYMNM8oShC1XdcnBpj1lLSt89tH8uRPsc5DFp+ekkNwJrYNMvuMvOEDlBEfwuoCsXHi5tGwBhzhTTEMW/JOjfwo7BtyWFK+kYTbsiRVQ92Tl+8RM821UNO8/zE1RXdeI9esI/orwOf0V4dVdQQAAAAAAAAAAAET+8gBbyTNTzlJ3OgAAAABJRU5ErkJggg==",ane="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.24%20351.289L160.854%20373.618L50.9156%20483.413C50.9156%20483.413%2041%20494%2029.5%20483C18%20472%2028.4445%20461.084%2028.4445%20461.084L138.24%20351.289Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M329.102%20372.196C330.43%20377.518%20330.356%20383.094%20328.885%20388.378C327.414%20393.663%20324.598%20398.476%20320.711%20402.347L278.044%20445.013L66.56%20234.667L109.227%20191.289C113.128%20187.45%20117.948%20184.677%20123.226%20183.232C128.505%20181.788%20134.066%20181.722%20139.378%20183.04L219.022%20202.951L299.378%20122.738L388.978%20212.48L308.764%20292.551C308.764%20292.551%20322.133%20344.178%20329.102%20372.196Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M483.556%20171.947C483.556%20171.947%20472.32%20183.04%20461.227%20194.276C455.618%20199.804%20448.183%20203.091%20440.32%20203.52C435.912%20203.734%20431.509%20203.022%20427.394%20201.43C423.278%20199.838%20419.542%20197.401%20416.427%20194.276L317.724%2095.7156C313.909%2091.946%20311.133%2087.2553%20309.662%2082.0976C308.192%2076.9399%20308.079%2071.49%20309.333%2066.2756C310.582%2060.4502%20313.497%2055.1136%20317.724%2050.9156C328.818%2039.68%20340.053%2028.4445%20340.053%2028.4445L483.556%20171.947Z'%20fill='black'/%3e%3cg%20clip-path='url(%23clip0_4859_1096)'%3e%3cpath%20d='M463.188%20394.812L378.812%20479.188'%20stroke='black'%20stroke-width='30'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M463.188%20479.188L378.812%20394.812'%20stroke='black'%20stroke-width='30'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_4859_1096'%3e%3crect%20width='150'%20height='150'%20fill='white'%20transform='translate(346%20362)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",lne="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.24%20351.289L160.853%20373.618L50.9156%20483.413C50.9156%20483.413%2041%20494%2029.5%20483C18%20472%2028.4445%20461.084%2028.4445%20461.084L138.24%20351.289Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M329.102%20372.196C330.43%20377.518%20330.356%20383.094%20328.885%20388.378C327.414%20393.663%20324.598%20398.476%20320.711%20402.347L278.044%20445.013L66.56%20234.667L109.227%20191.289C113.128%20187.45%20117.948%20184.677%20123.226%20183.232C128.505%20181.788%20134.066%20181.722%20139.378%20183.04L219.022%20202.951L299.378%20122.738L388.978%20212.48L308.764%20292.551C308.764%20292.551%20322.133%20344.178%20329.102%20372.196Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M483.556%20171.947C483.556%20171.947%20472.32%20183.04%20461.227%20194.276C455.618%20199.804%20448.183%20203.091%20440.32%20203.52C435.912%20203.734%20431.509%20203.022%20427.394%20201.43C423.278%20199.838%20419.542%20197.401%20416.427%20194.276L317.724%2095.7156C313.909%2091.946%20311.133%2087.2553%20309.662%2082.0976C308.192%2076.9399%20308.079%2071.49%20309.333%2066.2756C310.582%2060.4502%20313.497%2055.1136%20317.724%2050.9156C328.818%2039.68%20340.053%2028.4445%20340.053%2028.4445L483.556%20171.947Z'%20fill='black'/%3e%3c/svg%3e",cne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO2bz2sUSRTHe6K7/jgIiyxozFQFHZ33OojoOO+NUchRA7q7Fw9ehM0ejR7iwt7UgwcNCOqfkL/Do7/BX+BlYTHir+hZYY3rzsjrnsiYVFfPD2e6OtQXGoaZ7p6qT7/36tWr6iDw8vLy8vLy8vLy8vLyck6l0pF1KqydVkB3NfAHjdzo4fhfI73SwHOjY7QnyLtGdta2KeDHPUJJOOizBp4Jcm050C843xwXgjxKIZ8ZAJz8QlJA9wYIqKGQrgTB8TVBXqSB3g8SUBPSkyLQyW0lGnEe1qDh6EEdwB8U8h0FNB2G4Y8eEFosFuhhsTw+7C0IbVZFD7qypMxdAQcY+4BOeUBoAYR8xwNCW+Cm9x4Q2t3MA0IPqNFLoPYWhB5Qw1sQ9i8X8i6GHlDDWxB6F2tkNR/zMQg9oIa3ILSVLHhRA99QQOeL5doxPcaodh/6KZiYWDsyUtsgZVxZi9NAJzTQ1Xidj/5b9S6mgB4qpD8iGJ32MaxuUcB/KeS/Vx0gBfx4tFw9HHwfFVYNIIX0rzz1zFc9HLWaFwq4ErigrGHo5Qfw/WGobg5ckVuWQ3dLJdqU1uZKpfKDgupRDXRNId9WQO8U8Kf4oHfynQaeVbtqB4MgGFodgID+KZUO/Zy20UKX+axA6MBdF+QauTa3gBTSR40H9trbSb8poOc9WOfzUaRf8wroT0sTC7IrRCPXv8N/1SXB7Gi4zxqOBn4qMSURDvBcH/5zrm1IWQMqhvyLpW0X+ma1QOecB6SQniQ9SYk5JreSeCXTjmgPZLqlvGxOUT4afq/bHo4bgICmjW3SE+vNAZluyn7KFohTps7H39HU0nkygZVrDefNp45u2QGiz0kJoQzLpk63wmlp/2QrpObnyeXnCSSjJaVtMM0Q0M3kJHBlniOuYulDBCkJzpIU8KOV9+UFazKZoXtdNHeiejQB6KuUBz1pg9NMF94Y21I+MO4eoJCOG9sDdN1idV/jSqeSWlLifYFnndrEqSMLqu0zd4RvJ1/Di1JF7BSO1JOkfNKpu8cNkpIkDh7Q9rCiEtpjnWelxZm0IG4GT29tgKazALS1Utlobg8vplpfm5DagbN0v8SbyMZGFSVeHlCiiuXx4UFDyo2LLbOkU3Gxqf+BO6mkag3SHcJpH5IlSLsmDTyb2JGQf+/6vkhTXQ3zrkntqh3sU6IokF53nCg6qKGoTLrSJR9lMtVwURp4xhR/4reDupus7hjbXzSmEHl8G7Ikb0EizZuCaQukQrQU3Ua5Q+BopFsG93rWdTE/a0mB3VgwA16MXcUcT5YBfS3nJiSf9W6mLU7JiZKr4ypkXrTPgQqyiSF+F79nOHWNdCl3o1Y7kgK7OXC36VJI87mPOWmKlp6BZ0x5UnKs4QW5JrejVdCdhiT7jacldEsmm9HoFi8JvY1WMIAvNzPkttzpCzIGFAwMLQUoAAAAAElFTkSuQmCC";var y4={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var s=i.prototype,a=s.format;o.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(c,h){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,y){var b=y&&y.toUpperCase();return m||h[y]||r[y]||h[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,x,S){return x||S.slice(1)})})}(l,d===void 0?{}:d);return a.call(this,f)}}})})(y4);var une=y4.exports;const b4=Xr(une);var v4={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){return function(r,n,i){n.prototype.isYesterday=function(){var o="YYYY-MM-DD",s=i().subtract(1,"day");return this.format(o)===s.format(o)}}})})(v4);var dne=v4.exports;const fne=Xr(dne),_4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UQU7CUBSF4bcQGbsVYeAajO90A9wHa5B32YhO3BEkRgYkxggbgDTRxBGa0Nse5XzJnXXQk79pSiIicsGa6fIW5hsUP5w88037bPrrcqnbH8d+XvtsYpFni0k2X//25fu69p0a83Hng1Hqy9DjTnwZrxp8rsZ8nEtdEdZd5VJvzh4oIv8TCH5U30+DuwaCqiocCQRVVTgSCKqqcCQQVFXhSCCoqsKRQFBVhSOBoKoKRwJBVRWOBIKqKhwJBFVVOBIIqqpwJBBUVeFIIKiqwpFAUFWFI4GgqgpHgvl+6Kpfl80/4geX+kwzuNTH8MH3s8V1Nn8feizM3zB/uEp9uJsuRzB/Qqm7/sfWXVu2t7EiIiKSunIEhOq3p0W+CNEAAAAASUVORK5CYII=",hne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAEGAAABBgHN0zO8AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAoNJREFUOI2tlL9PU1EUxz/n9t1XBQelk7+ipChurp1k15TEmJLwQ9sGEwedjDvhD4AJB4mm5UdqpItC4o4TDO4oGgcjWwlGiLS3fcfh+ZpSCgnGM713bs7nfs+55xxRVf6neUcd5F/XbihmSFQHRDkPoMIWyCoSlAvD/kanOGlXmJ0nEfPctMIYYI64L0BYiHn26csM20cCs2+q103DvAeSQAV0RpEVqdmvAOq7pKBpkCdAQuGLENwujMQ3DwGz8ySM59ZDmLz1rZd7keFnx3IUOSvx+pyqDip80bpNzT2gQmtKMc9NR7Crm969VtijWboezdIV/Rdy7Fz57N0FeSfQZ6ybis4MRA/AGFDxrZebmCBoVVQ749ZqZ9xaq29igoCalwMqKPfHF6v9TaBihsJvnemUpkKvQm+7v5BjR1SfAyYwsaEmUFRvAUggy51qdpxJTFbCS0NG1IeXAGw8fM2hMqe7nVsDLgMIdAPkSy5qke971qaWMvzeD+xXH4dRLjYVhllBbQ85qcLTNoxRCRmRwh/ADfVdEuzHpQy/wd6MgnIl9wugOGJ72oGNmksioLDVVKgiHwCM6uBJFSKaDkGy2gQKwRIQqMjjfJGzh2Lgm8C3dv9oiXMgj4GGBI1yE1gY9jcQFoAEfr04OXlwhv1dm/J3barVNzmJ8anPAT0K86/G4p9CwX9H72GZnrpz6wJ9IrKsVS9byLHTKcvREudCmKaBzZi1qWhJHFgO+VL1mmLeC/QB26I6IzFZ2Q/CdjplXFIbmlaRJ0APsAnBnY7LIbLsPAlj3RTKfY5ZXwpznrXPjl1frTa+WO0Px0kHRLmggipsGWRVgkY5qlm7HQn8V/sDpc0NjXW+Pa0AAAAASUVORK5CYII=",pne={key:0},mne={class:"mb-3 flex items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},gne=u.createElementVNode("div",null,"",-1),yne=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],bne={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},vne=["placeholder"],rfe={key:0,class:"mt-1 flex flex-wrap gap-2"},nfe=["onClick"],ife={class:"overflow-hidden overflow-ellipsis whitespace-nowrap"},_ne={class:"mb-1 mt-3 text-base"},wne={class:"divide-y rounded bg-gray-100 dark:bg-zinc-700"},Ane={class:"grid grid-cols-6 gap-3 p-4"},xne=["onClick"],Tne={class:"flex items-center justify-center gap-3 rounded p-3"},Ene=["placeholder"],Cne={class:"mt-5 flex gap-3"},Sne=["disabled"],kne={key:1},Ine={class:"mb-1 mb-5 flex min-w-[380px] items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},Dne=u.createElementVNode("div",null,"",-1),Mne=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Nne={key:0,class:"mt-1 flex flex-wrap gap-2"},One=["onClick"],Lne={class:"flex items-center gap-3"},Bne={class:"w-64 overflow-hidden truncate overflow-ellipsis whitespace-nowrap text-base text-black"},Rne={class:"flex items-center gap-3"},Pne=["onClick"],Fne=["onClick"],Une={class:"mt-3"},jne=u.createElementVNode("img",{width:"20",height:"20",src:hne},null,-1),zne={class:"text-[#60A5FA]"},$ne={key:2},Vne={class:"mb-2 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Hne=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],qne=u.defineComponent({__name:"TagsModal",props:{roomId:{}},setup(t){const e=hn(),r=t,n=Ft(),i=u.ref([]),o=u.ref({}),s=u.ref([]),a=u.ref({}),l=u.ref(""),d=u.ref("#60a5fa"),f=u.ref(!0),c=u.ref("edit"),h=u.ref(""),p=u.ref(!1),m=["#f43f5e","#f97316","#f59e0b","#84cc16","#10b981","#06b6d4","#0ea5e9","#6366f1","#8b5cf6","#6b7280","#64748B","#78716c"],y=R=>{n.dispatch("imkit/updateRoomPrefs",{roomId:R,prefs:{tags:i.value,tagColors:o.value}})},b=n.state.imkit.rooms[r.roomId];b.pref&&(i.value=[...b.pref.tags],s.value=[...b.pref.tags],o.value={...b.pref.tagColors},a.value={...b.pref.tagColors},i.value.length>0&&(c.value="list",p.value=!1));const v=()=>{l.value&&(i.value.length>=5||(i.value.includes(l.value)||i.value.push(l.value),d.value.startsWith("#")&&(o.value[l.value]=d.value,l.value="")))},x=()=>{i.value=i.value.filter(R=>R!==h.value),delete o.value[h.value]},S=R=>{h.value=R,c.value="confirmDelete"},I=R=>{l.value=R,d.value=o.value[R]},M=()=>{d.value=d.value.replace(/[^#0-9a-fA-F]/g,""),d.value.charAt(0)!=="#"&&(d.value="#"+d.value)},E=()=>{c.value="edit",f.value=!0,l.value="",d.value="#60a5fa"},L=R=>{c.value="edit",f.value=!1,l.value=R,d.value=o.value[R]},D=()=>{c.value="list",p.value=!1},C=()=>{p.value=!0};return(R,$)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[c.value=="edit"?(u.openBlock(),u.createElementBlock("div",pne,[u.createElementVNode("div",mne,[gne,u.createTextVNode(" "+u.toDisplayString(f.value===!0?R.$t("createTag"):R.$t("editTag"))+" ",1),u.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:$[0]||($[0]=U=>u.unref(e).closeAll())},yne)]),u.createElementVNode("div",bne,[u.withDirectives(u.createElementVNode("input",{type:"text",class:"placeholder-[rgba(0, 0, 0, 0.25)] w-32 grow rounded-md bg-gray-100 p-2 text-base outline-none",placeholder:f.value===!0?R.$t("createTag"):R.$t("editTag"),onInput:$[1]||($[1]=U=>C()),"onUpdate:modelValue":$[2]||($[2]=U=>l.value=U)},null,40,vne),[[u.vModelText,l.value]])]),(i.value.length>0,u.createCommentVNode("",!0)),u.createElementVNode("div",null,[u.createElementVNode("div",_ne,u.toDisplayString(R.$t("chooseColor")),1),u.createElementVNode("div",wne,[u.createElementVNode("div",Ane,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(m,U=>u.createElementVNode("div",{key:U,class:"h-8 w-12 rounded",style:u.normalizeStyle({backgroundColor:U}),onClick:F=>(d.value=U,C())},null,12,xne)),64))]),u.createElementVNode("div",Tne,[u.createElementVNode("div",{class:"h-8 w-12 rounded-md bg-white p-2 text-base",style:u.normalizeStyle({backgroundColor:d.value})},"  ",4),u.withDirectives(u.createElementVNode("input",{type:"text",class:"w-50 h-8 grow rounded-md p-2 text-base outline-none",placeholder:R.$t("inputTagPlaceholder"),maxlength:"7",pattern:"^#[0-9a-fA-F]{6}$","onUpdate:modelValue":$[4]||($[4]=U=>d.value=U),onInput:$[5]||($[5]=U=>(C(),M()))},null,40,Ene),[[u.vModelText,d.value]])])])]),u.createElementVNode("div",Cne,[u.createElementVNode("button",{class:"h-10 grow rounded-lg border bg-white text-base text-black",onClick:$[6]||($[6]=U=>D())},u.toDisplayString(R.$t("cancel")),1),u.createElementVNode("button",{class:"h-10 w-[40%] grow rounded-lg bg-gray-600 text-base text-white disabled:cursor-not-allowed disabled:bg-gray-200",disabled:!l.value||!d.value||!p.value,onClick:$[7]||($[7]=()=>{v(),y(R.roomId),D()})},u.toDisplayString(f.value==!0?R.$t("create"):R.$t("save")),9,Sne)])])):u.createCommentVNode("",!0),c.value=="list"?(u.openBlock(),u.createElementBlock("div",kne,[u.createElementVNode("div",Ine,[Dne,u.createTextVNode(" "+u.toDisplayString(R.$t("tag"))+" ",1),u.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:$[8]||($[8]=U=>u.unref(e).closeAll())},Mne)]),i.value.length>0?(u.openBlock(),u.createElementBlock("div",Nne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value,U=>(u.openBlock(),u.createElementBlock("div",{key:U,class:"flex min-w-[380px] items-center items-center justify-center justify-between gap-1 overflow-hidden rounded-md bg-gray-200 p-3 text-base text-white dark:bg-zinc-600",onClick:F=>I(U)},[u.createElementVNode("div",Lne,[u.createElementVNode("div",{class:"circle-shadow h-4 w-4 rounded-full",style:u.normalizeStyle({backgroundColor:o.value[U]})},null,4),u.createElementVNode("div",Bne,u.toDisplayString(U),1)]),u.createElementVNode("div",Rne,[u.createElementVNode("img",{width:"20",height:"20",class:"cursor-pointer",onClick:u.withModifiers(F=>L(U),["stop"]),src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,8,Pne),u.createElementVNode("img",{width:"20",height:"20",src:_4,class:"cursor-pointer",onClick:u.withModifiers(F=>S(U),["stop"])},null,8,Fne)])],8,One))),128))])):u.createCommentVNode("",!0),u.createElementVNode("div",Une,[u.createElementVNode("div",{class:"flex cursor-pointer gap-2",onClick:$[9]||($[9]=U=>E())},[jne,u.createElementVNode("div",zne,u.toDisplayString(R.$t("createTag")),1)])])])):u.createCommentVNode("",!0),c.value=="confirmDelete"?(u.openBlock(),u.createElementBlock("div",$ne,[u.createElementVNode("div",Vne,[u.createTextVNode(u.toDisplayString(R.$t("confirmDeleteTag"))+" ",1),u.createElementVNode("button",{class:"ml-2 flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:$[10]||($[10]=U=>D())},Hne)]),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) mt-3 h-10 w-full grow rounded-lg bg-blue-400 text-base text-white",onClick:$[11]||($[11]=U=>(x(),y(R.roomId),D()))},u.toDisplayString(R.$t("confirm")),1)])):u.createCommentVNode("",!0)]),_:1}))}}),w4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVR4nO2asUrEQBCGp7PxEbSx8VnEFzG7Bp05sJ05rS18jDsEX8Pn8CxV9ArbkVVEUEJyJrhZ838wXYr92ORLM0QAAAAAGBWVXOwG0evIuo5i3mUC2yqwXYag21SerD12Ff0xrLd1fbVFpRDSzf5W9vO2xZRKIW7wGjcL62t1qntUArGnbPZhXQe2m6OT8/1pCH+JP6UeTUf449NaTkzYXiYlHMUcwgCA/0U1mx9G0fvif0lsq+PZ/KBVOD2Y+7CDDetdq3D2Qw48BOFv5L4R3LDglXZ8w4JoOSrdRO6qotKCSjsqLai0o9JN5K4qKi2otKPSgko7Kt1E7qqi0oJKOyotfSrN/ZdaRjOsz63CaSEk+0GHm0WrcNp+SQshIzhsrwmiD/WZ7tAGq4fLtCNRnuj7mRedZQEAAABAf8UbgvvRyv0JTvIAAAAASUVORK5CYII=",Wne={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Gne=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Qne=["onClick"],Yne=u.createElementVNode("img",{width:"30",height:"30",src:w4},null,-1),Kne=u.defineComponent({__name:"AddToFolderModal",props:{roomId:{}},setup(t){const e=hn(),r=t,n=Ft(),i=u.computed(()=>n.state.imkit.sortedFolderIds.map(s=>n.state.imkit.folders[s]).filter(s=>s)),o=s=>{r.roomId&&n.dispatch("imkit/addRoomToFolder",{roomId:r.roomId,folderId:s})};return(s,a)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px] relative max-h-80vh overflow-y-auto","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",Wne,[u.createTextVNode(u.toDisplayString(s.$t("addToFolder"))+" ",1),u.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:a[0]||(a[0]=l=>u.unref(e).closeAll())},Gne)]),(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value,l=>(u.openBlock(),u.createElementBlock("div",{key:l.id,class:"group relative flex cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:()=>{o(l.id),u.unref(e).closeAll()}},[Yne,u.createTextVNode(" "+u.toDisplayString(l.name),1)],8,Qne))),128))]),_:1}))}});var li=(t=>(t.RoomName="roomName",t.RoomMember="roomMember",t.RoomPrefTags="roomPrefTags",t.RoomPrefFolder="roomPrefFolder",t.RoomTags="roomTags",t))(li||{});const Xne={class:"relative flex items-center justify-center gap-1.5"},Jne={class:"relative !h-[50px] !w-[50px] flex-shrink-0"},Zne={key:2,class:"absolute -bottom-1 -right-1 h-5 w-5 rounded-lg bg-slate-200 p-[3px]",src:ine},eie={class:"flex w-0 min-w-0 grow flex-col text-left"},tie={class:"flex justify-between gap-2"},rie={class:"flex items-center justify-center gap-1"},nie=["innerHTML"],iie={key:0,width:"14",height:"14",class:"mt-0.5",src:"https://img.icons8.com/ios-filled/50/4b5563/mute--v1.png",alt:"mute--v1"},oie={class:"whitespace-nowrap text-xs text-gray-500 dark:text-gray-300"},sie={class:"text-xs text-gray-500"},aie=["innerHTML"],lie={key:0,class:"mt-1 flex flex-wrap gap-1"},cie=[u.createElementVNode("img",{width:"20",height:"20",src:one},null,-1)],uie={key:0,class:"absolute right-3 top-[calc(50%_+_28px)] z-10 flex flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},die=u.createElementVNode("img",{width:"24",height:"24",src:sne},null,-1),fie={key:0,width:"24",height:"24",src:ane},hie={key:1,width:"24",height:"24",src:lne},pie=u.createElementVNode("img",{width:"24",height:"24",src:"https://img.icons8.com/material-rounded/72/hide.png",alt:"hide"},null,-1),mie=u.createElementVNode("img",{width:"24",height:"24",src:"https://img.icons8.com/material-rounded/72/filled-trash.png",alt:"filled-trash"},null,-1),gie=u.createElementVNode("img",{width:"24",height:"24",src:cne},null,-1),yie=u.createElementVNode("img",{width:"24",height:"24",src:g4},null,-1),bie={key:0,width:"24",height:"24",src:"https://img.icons8.com/external-tal-revivo-bold-tal-revivo/72/external-medium-sound-setting-for-any-digital-device-music-bold-tal-revivo.png",alt:"external-medium-sound-setting-for-any-digital-device-music-bold-tal-revivo"},vie={key:1,width:"24",height:"24",src:"https://img.icons8.com/external-tal-revivo-bold-tal-revivo/72/external-volume-muted-with-a-crossed-sign-logotype-layout-music-bold-tal-revivo.png",alt:"external-volume-muted-with-a-crossed-sign-logotype-layout-music-bold-tal-revivo"},_ie=u.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){Dr.extend(b4),Dr.extend(fne);const e=t,r=u.computed(()=>i.state.imkit.config.styles),n=u.computed(()=>{let C=Dr(e.source.updatedAt);return C.isSame(Dr(),"day")?C.format("H:mm"):C.isYesterday()?"Yesterday":C.isSame(Dr(),"week")?C.format("dddd"):C.isSame(Dr(),"year")?C.format("MMM D"):C.format("ll")}),i=Ft(),o=u.computed(()=>i.state.imkit.rooms[e.source.id]),s=u.computed(()=>i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===li.RoomName?o.value.displayName.replaceAll(i.state.imkit.searchKeyword,`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`):o.value.displayName),a=u.computed(()=>{var C;return i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===li.RoomMember?[`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`,...o.value.memberIds.map(R=>i.state.imkit.users[R]).filter(R=>R).map(R=>R.nickname||R.id).filter(R=>R!==i.state.imkit.searchKeyword)].join(", "):(C=o.value.lastMessage)==null?void 0:C.string}),l=u.computed(()=>i.state.imkit.selectedRoomId===e.source.id),d=u.computed(()=>!!i.state.imkit.roomIdsInFolders[e.source.id]),f=u.computed(()=>i.state.imkit.actionMenuRoomId),c=u.computed(()=>i.state.imkit.searchKeyword),h=u.computed(()=>{var C;return((C=o.value.pref)==null?void 0:C.sticky)??!1}),p=u.computed(()=>i.state.imkit.sortedFolderIds),m=()=>{const{open:C}=bo({component:qne,attrs:{roomId:e.source.id}});C(),i.commit("imkit/setState",{actionMenuRoomId:""})},y=()=>{f.value===e.source.id?i.commit("imkit/setState",{actionMenuRoomId:""}):i.commit("imkit/setState",{actionMenuRoomId:e.source.id})},b=()=>{i.commit("imkit/setState",{selectedRoomId:e.source.id,actionMenuRoomId:""})},v=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{sticky:!h.value}})},x=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{hidden:!0}})},S=async()=>{await i.dispatch("imkit/removeRoom",e.source.id)},I=async()=>{await i.dispatch("imkit/removeRoomFromFolder",e.source.id)},M=async()=>{const{open:C}=bo({component:Kne,attrs:{roomId:e.source.id}});C()},E=u.ref(null);sM(E,()=>{y()},{modifiers:{prevent:!0}});const D=u.computed(()=>i.getters["imkit/roomsInSelectedFolder"]);return(C,R)=>{var $,U;return u.openBlock(),u.createElementBlock("div",Xne,[d.value&&!c.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["absolute left-2 h-[120%] w-1 flex-shrink-0 rounded-full bg-slate-500",{"mt-4 !h-full":D.value[0].id===e.source.id,"mb-4 !h-full":D.value[D.value.length-1].id===e.source.id}])},null,2)):u.createCommentVNode("",!0),u.createElementVNode("div",{ref_key:"roomCellRef",ref:E,class:u.normalizeClass(["group relative flex min-h-[66px] grow cursor-pointer select-none items-center gap-3 rounded-lg p-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700":l.value,"ml-4":d.value&&!c.value}]),onClick:b},[u.createElementVNode("div",Jne,[o.value.avatars.length===1?(u.openBlock(),u.createBlock(Wn,{key:0,url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"relative"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[u.createVNode(Wn,{url:o.value.avatars[1].url,name:o.value.avatars[1].name,class:"absolute right-0 top-0 !h-9 !w-9 text-base"},null,8,["url","name"]),u.createVNode(Wn,{url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:u.normalizeClass(["absolute bottom-0 left-0 !h-[38px] !w-[38px] border-2 border-white text-base group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":l.value}])},null,8,["url","name","class"])],64)),h.value?(u.openBlock(),u.createElementBlock("img",Zne)):u.createCommentVNode("",!0)]),u.createElementVNode("div",eie,[u.createElementVNode("div",tie,[u.createElementVNode("div",rie,[u.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100",innerHTML:s.value},null,8,nie),o.value.muted?(u.openBlock(),u.createElementBlock("img",iie)):u.createCommentVNode("",!0)]),u.createElementVNode("div",oie,u.toDisplayString(n.value),1)]),u.createElementVNode("div",sie,u.toDisplayString(o.value.description),1),u.createElementVNode("div",{class:u.normalizeClass(["flex items-center justify-between pt-1",{"text-gray-800":o.value.numberOfUnread>0}])},[u.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",innerHTML:a.value},null,8,aie),o.value.numberOfUnread>0&&!l.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 px-1.5 text-center text-xs font-semibold leading-none text-white",style:u.normalizeStyle(r.value.roomListUnreadBadge)},u.toDisplayString(o.value.numberOfUnread>99?"99+":o.value.numberOfUnread),5)):u.createCommentVNode("",!0)],2),($=o.value.pref)!=null&&$.tags?(u.openBlock(),u.createElementBlock("div",lie,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(((U=o.value.pref)==null?void 0:U.tags)??[],F=>{var z;return u.openBlock(),u.createElementBlock("div",{key:F,class:"overflow-hidden overflow-ellipsis whitespace-nowrap rounded-md bg-blue-400 px-1 py-0.5 text-xs text-white",style:u.normalizeStyle({backgroundColor:(((z=o.value.pref)==null?void 0:z.tagColors)||{})[F]})},u.toDisplayString(F),5)}),128))])):u.createCommentVNode("",!0)]),u.createElementVNode("div",{class:u.normalizeClass(["absolute right-4 hidden h-10 w-10 items-center justify-center rounded-full bg-white shadow-md hover:scale-110 hover:transform hover:transition dark:bg-zinc-800 sm:group-hover:flex",{"!flex":f.value==C.source.id}]),onClick:u.withModifiers(y,["stop"])},cie,2),f.value==C.source.id?u.withDirectives((u.openBlock(),u.createElementBlock("div",uie,[u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(m,["stop"])},[die,u.createTextVNode(" "+u.toDisplayString(C.$t("tag")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(v,["stop"])},[h.value?(u.openBlock(),u.createElementBlock("img",fie)):(u.openBlock(),u.createElementBlock("img",hie)),u.createTextVNode(" "+u.toDisplayString(h.value?C.$t("unpin"):C.$t("pin")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(x,["stop"])},[pie,u.createTextVNode(" "+u.toDisplayString(C.$t("hide")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(S,["stop"])},[mie,u.createTextVNode(" "+u.toDisplayString(C.$t("delete")),1)]),d.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(I,["stop"])},[gie,u.createTextVNode(" "+u.toDisplayString(C.$t("removeFromFolder")),1)])):p.value.length>0?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(M,["stop"])},[yie,u.createTextVNode(" "+u.toDisplayString(C.$t("addToFolder")),1)])):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:R[0]||(R[0]=u.withModifiers(()=>{u.unref(i).commit("imkit/setState",{actionMenuRoomId:""}),u.unref(i).dispatch("imkit/toggleNotification",e.source.id)},["stop"]))},[o.value.muted?(u.openBlock(),u.createElementBlock("img",bie)):(u.openBlock(),u.createElementBlock("img",vie)),u.createTextVNode(" "+u.toDisplayString(o.value.muted?C.$t(""):C.$t("")),1)])])),[[u.unref(td),()=>{u.unref(i).commit("imkit/setState",{actionMenuRoomId:""})}]]):u.createCommentVNode("",!0)],2)])}}}),wie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVR4nO2Zzy4EQRCH2wUHJ3F1IeLIwZ9n4B1wE9u9i6rhXLWLo+DGKwiReAESBw/AGxAnJEhcSFZmiUhmd3uYpvVMfcnvXl9qZnp+M0oJgiAIgvAvKeFav0Y6MECPBrmeJhr4SgNvak09KjxZvksrmhBHPq9UdrpUKOh4sz+U/SJNKhTMNy7j1sL0XFqmARUCJqPsnwfoUQMfLSzVhoshjJ/i9/HzpzjC2LiV9gsmzA+FEjbIdRG24XtDsmGUS7ou9zBmeGgJghAWRNRpkHfil2/fZ6izAN1roO3YLSHckPU94C9FI28lhfO02YQw3RZMmO+aCPNhjjd8kBAuAc3mVjjimYQwAPVq4Bffw7kPvc4j9TU9mgzSae62C3zS8iw2SJg74YihpXBlZW3Q94Cus7haG2op/LHlS99DOgvwRVvZhjDwhvdBHUUDrVuFdVSd9D2oq5SBJqzCSqkOg3Tte9jsoZvYJY2w0sB7ORDeTSX7LkzT/gfOlnJUnUotHP/IdvG71GOe5oi61XcIuUw0LQs2Qi4TTcuCjXDLRJuyYCPEMtG2LNgIsUy0LQs2QiwT1rJgwwCf+ZZIHeAzlZVSVB2PzzXvMvY8mWUaUy7QSzRqkI7/5ZfNxkx0XIbaiBNZQRAEQRDUb/EGC4sae12sFiYAAAAASUVORK5CYII=",Aie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO2aS2gTURSG4/sBilZxI1grghtBaF0VxKXgq6uKgiiIpJ17k2bOGUVX/neS4mPhQtSFuhUXxZVEW3HlxlU3uqgKrlTEF/jAR+ujlZvpxFaCySQzmUkyB84mZM78H+e/987cuYlEHHHE0TJxGFicsnIdhpXtikJqLVqT76DCtHsEYUSQmpCspqKUgjEuWQ0bpr2nZlApT68SrO6FDVUxPGGECG3Vw5J6GjaEd2j1uCpo0UCdLZHD3mBNuycComtKT2NasrobtuBaUxDuVASrp/kozsaegRnjABaWBTZMbAhbrF/Zl8H68nY20Rm2UN/SRGf5DlvZrtCF+pSGle2Kgf+NuMMcvjVjS3MLjGHBeG+QvV0SRpseWDDGU6a9Tes7cvzcMsl41dTABuGQq08STjV1hwVh0NWWYrtXMiabFlgwbgKYW+isia2S1VdPzrAaCZgwmkxiqdYkrFy7YLz2WsNoHGC87KPBtcVJitTDauoYDQFM+Jyi7Batpbd3aJ5k3Kq2lhF1YEHqt2TsdbVIVhdrqWcEBSxYffIJOuPqEIRUrfWMIIAF421/JrtJkjrhZcko0d1rfztr7xCkfkYUWB0oCjXR79jSKyxGAMzXNfotbPbLMUZAwB8MRncRmrBfMn5UXgNjmQxW6GuTjNWC8MwP2MCApdOhL9qGbg1B2CkY38peS+qdIGwsbh4yHvgFGyiwdMbghH70c+voh31J+Pgf2O8znDFHEq77CRs4sHTs+Usyjs7aECT1psT/JlOEg0VHsLL9hq0TsCrASMYxt54zg+P57O5CFWFN7Ktldo8AsHIszjjr1hwYwDrJeDL9+5C2cOFejG5t7SBg6w4sncnskvu2029hjWRcdT9g64/Zeg0PCjYUYOnY90YyeWXBzHuk01guGI+ChA0PmAvQeaLzS4ovBIR80LDhAnNhGbqvOytZXa4HbPjAXFirX9QLNhLAss5pxMAlIu4wN7mlZat9EE9ZuY7QhfqUwsq1lwVOpy8smj7ON9XQSep7RYdaCrZmNdz4wMgnKg19qCt0wTWmYdm7El5Cb6y1RHfd0Ac09UHN0MV7TowZJ8+sTFQTRGhrqPFMyFcNOzMkY7c+uxjJ2dvZMbntecxWEnrJ0sf5wj7676bWojVVJD6OOOJINEP8AR99+lKlJ3IWAAAAAElFTkSuQmCC",xie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2aTU4CQRCFm5W6N7jSiEeAgxjkAO6UmQakaw5QPRCXLlzCRVRAEzd6CfUSSoIrTfET40wbZpA4hdSX1LI7703PvCbhKSUIwtpgzMWW18QDL2iVOEwtaBdI07J95rQJK77Bnm/suwb7wWmmmm60Ccuk9VdOG43zHW3sfdamkg/eVQPML2zWN/iSvYnU87yI6dxqnWz8pFO93tqEFddGvsE3H2xfA3Z9YztZzlgD2D5pcpqefNPJoICKmQV88KC9q5hBmkib43CuE21wjLjpSONXjmZnNBq4Fz1p8lCvX27MXUz3rONp9RRztMFBVHctaBfmL2xi0RECXcUc0hjT3cTi3IX0CyZ+wrajmDMJsu+6vaBVmrtQDIOcMEvklQb5ht1IaIGEFksktEBCy42EFkhosURCCyS03EhogYQWSyS0QELLjYQWSGixREILJLTcSGiBhBZLJLRAQsvN2oWWXrc/xGtBuxAvtNi+Yo5v7G1U9+kZ7q9PqQVwlKjUQoy7i47aEm2sOJoF++joal0l3sQL8OiHlttw0pbhUUybNneGzhJdMzxM8+ByVN9bfiXwj8bgIPWrUg0wT0XNzMWnHN/g0wngdmrDX6ZX6KQNDhY2GymIl6m7yLIgDjiigEr7zSaCriy627Ku/s+GtCS+egRBUP+BT4sLtV3SLOLeAAAAAElFTkSuQmCC",Tie={key:1,class:"relative h-[34px] w-[34px] flex-shrink-0"},Eie={class:"flex w-0 min-w-0 grow flex-col text-left"},Cie={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},Sie={key:2,width:"20",height:"20",src:Aie},kie={key:3,width:"20",height:"20",src:xie},A4=u.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){Dr.extend(b4);const e=t,r=Ft(),n=u.computed(()=>!!r.state.imkit.selectedRoomIdsForCreateFolder[e.source.id]),i=o=>{const s=new Date;r.commit("imkit/updateField",{key:"selectedRoomIdsForCreateFolder",value:{[e.source.id]:o?s:void 0}})};return(o,s)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["group relative flex min-h-11 w-full cursor-pointer items-center gap-3 rounded-md p-1 px-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700 hover:dark:bg-zinc-700":n.value}]),onClick:s[0]||(s[0]=a=>i(!n.value))},[o.source.avatars.length===1?(u.openBlock(),u.createBlock(Wn,{key:0,url:o.source.avatars[0].url,name:o.source.avatars[0].name,class:"!h-[34px] !w-[34px] flex-shrink-0 rounded-xl text-base"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",Tie,[u.createVNode(Wn,{url:o.source.avatars[1].url,name:o.source.avatars[1].name,class:"rounded-10px absolute right-0 top-0 !h-[26px] !w-[26px] text-base"},null,8,["url","name"]),u.createVNode(Wn,{url:o.source.avatars[0].url,name:o.source.avatars[0].name,class:u.normalizeClass(["rounded-10px absolute bottom-0 left-0 !h-7 !w-7 border-2 border-white text-xs group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":n.value}])},null,8,["url","name","class"])])),u.createElementVNode("div",Eie,[u.createElementVNode("div",Cie,u.toDisplayString(o.source.displayName),1)]),n.value?(u.openBlock(),u.createElementBlock("img",Sie)):(u.openBlock(),u.createElementBlock("img",kie))],2))}}),Iie={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Die=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Mie=["placeholder"],Nie=["disabled"],x4=u.defineComponent({__name:"UpdateFolderModal",props:{folderId:{}},setup(t){const e=hn(),r=t,n=Ft(),i=u.ref(),o=u.ref(""),s=u.computed(()=>i.value?i.value.roomIds.map(d=>n.state.imkit.rooms[d]).concat(n.state.imkit.sortedRooms).sort((d,f)=>{var c,h,p;return((c=d.pref)==null?void 0:c.sticky)===((h=f.pref)==null?void 0:h.sticky)?f.updatedAt-d.updatedAt:(p=d.pref)!=null&&p.sticky?-1:1}):n.state.imkit.sortedRooms),a=u.computed(()=>o.value.length>0&&Object.keys(n.state.imkit.selectedRoomIdsForCreateFolder).length>0),l=()=>{var d;n.dispatch("imkit/updateFolder",{folderKey:((d=i.value)==null?void 0:d.id)||`folder_${Date.now()}`,name:o.value})};return i.value=n.state.imkit.folders[r.folderId],i.value&&(o.value=i.value.name,n.commit("imkit/setState",{selectedRoomIdsForCreateFolder:i.value.roomIds.reduce((d,f)=>(d[f]=!0,d),{})})),(d,f)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",Iie,[u.createTextVNode(u.toDisplayString(i.value?d.$t("editFolder"):d.$t("createFolder"))+" ",1),u.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:f[0]||(f[0]=c=>u.unref(e).closeAll())},Die)]),u.withDirectives(u.createElementVNode("input",{type:"text",class:"grow rounded-md bg-gray-100 p-2 outline-none dark:bg-zinc-700",placeholder:d.$t("folderName"),"onUpdate:modelValue":f[1]||(f[1]=c=>o.value=c)},null,8,Mie),[[u.vModelText,o.value]]),u.createVNode(u.unref(Vd),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":s.value,"data-component":A4,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},null,8,["data-sources"]),u.createElementVNode("button",{class:u.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!a.value}]),disabled:!a.value,onClick:f[2]||(f[2]=()=>{l(),u.unref(e).closeAll()})},u.toDisplayString(d.$t("confirm")),11,Nie)]),_:1}))}}),Oie={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Lie=[u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Bie=u.defineComponent({__name:"DeleteFolderConfirmModal",props:{folder:{}},setup(t){const e=hn(),r=t,n=Ft(),i=o=>{n.dispatch("imkit/removeFolder",o)};return(o,s)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 min-w-[200px] max-w-full rounded-xl p-5 flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",Oie,[u.createTextVNode(u.toDisplayString(o.$t("confirmToDeleteFolder"))+" ",1),u.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:s[0]||(s[0]=a=>u.unref(e).closeAll())},Lie)]),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg bg-blue-400 text-base text-white",onClick:s[1]||(s[1]=()=>{i(r.folder.id),u.unref(e).closeAll()})},u.toDisplayString(o.$t("confirm")),1)]),_:1}))}}),Rie={key:0,width:"30",height:"30",src:wie},Pie={key:1,width:"30",height:"30",src:w4},Fie={class:"flex flex-col overflow-hidden"},Uie=["innerHTML"],jie={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},zie={key:2,class:"ml-auto flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 text-center text-xs font-semibold leading-none text-white"},$ie=[u.createElementVNode("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,-1)],Vie=[u.createElementVNode("img",{width:"20",height:"20",src:_4},null,-1)],Hie=u.defineComponent({__name:"FolderCell",props:{source:{}},setup(t){const e=t,r=Ft(),n=u.computed(()=>r.state.imkit.searchKeyword.length>0&&r.state.imkit.searchType===li.RoomPrefFolder?e.source.name.replaceAll(r.state.imkit.searchKeyword,`<span class="text-blue-400">${r.state.imkit.searchKeyword}</span>`):e.source.name),i=u.computed(()=>r.state.imkit.selectedFolderId),o=u.computed(()=>e.source.roomIds.filter(c=>r.state.imkit.selectedRoomId!==c).reduce((c,h)=>{const p=r.state.imkit.rooms[h];return p?c+p.numberOfUnread:c},0)),s=u.computed(()=>r.state.imkit.roomTag),a=u.computed(()=>e.source.roomIds.map(c=>r.state.imkit.rooms[c]).filter(c=>s.value?c&&c.roomTags.includes(s.value):c).length),l=()=>{r.state.imkit.selectedFolderId===e.source.id?r.commit("imkit/setState",{selectedFolderId:""}):r.commit("imkit/setState",{selectedFolderId:e.source.id})},d=()=>{const{open:c}=bo({component:Bie,attrs:{folder:e.source}});c()},f=()=>{const{open:c}=bo({component:x4,attrs:{folderId:e.source.id}});c()};return(c,h)=>(u.openBlock(),u.createElementBlock("div",{class:"group relative flex min-h-[66px] cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:l},[i.value===c.source.id?(u.openBlock(),u.createElementBlock("img",Rie)):(u.openBlock(),u.createElementBlock("img",Pie)),u.createElementVNode("div",Fie,[u.createElementVNode("div",{class:"text-basse overflow-hidden overflow-ellipsis whitespace-nowrap text-gray-900 dark:text-gray-100",innerHTML:n.value},null,8,Uie),u.createElementVNode("div",jie,u.toDisplayString(a.value?c.$t("numberOfChatroom",a.value):c.$t("no-chatroom")),1)]),o.value>0?(u.openBlock(),u.createElementBlock("div",zie,u.toDisplayString(o.value),1)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-14 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:u.withModifiers(f,["stop"])},$ie),u.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-4 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:u.withModifiers(d,["stop"])},Vie)]))}}),qie=u.defineComponent({__name:"RoomListWrapperCell",props:{source:{}},setup(t){return(e,r)=>e.source instanceof u.unref(rd)?(u.openBlock(),u.createBlock(_ie,{key:0,source:e.source},null,8,["source"])):(u.openBlock(),u.createBlock(Hie,{key:1,source:e.source},null,8,["source"]))}}),pp=t=>(u.pushScopeId("data-v-b3099582"),t=t(),u.popScopeId(),t),Wie={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Gie=[pp(()=>u.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1))],Qie=["placeholder"],Yie={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Kie=pp(()=>u.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:Ud},null,-1)),Xie={class:"grow overflow-hidden"},Jie=["placeholder"],Zie={key:0,slot:"header",class:"flex flex-col gap-1"},eoe=[pp(()=>u.createElementVNode("div",{class:"loading h-[34px] w-[34px] rounded-xl"},null,-1)),pp(()=>u.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[u.createElementVNode("div",{class:"loading h-3 w-full rounded-md"}),u.createElementVNode("div",{class:"loading h-3 w-4/5 rounded-md"})],-1))],toe=["disabled"],roe=wi(u.defineComponent({__name:"MassTextingModal",setup(t){const e=hn(),r=Ft(),n=u.ref(""),i=u.computed(()=>r.state.imkit.searchKeyword?r.state.imkit.searchRooms[li.RoomName]||[]:Object.values(r.state.imkit.rooms).sort((p,m)=>{const y=!!r.state.imkit.selectedRoomIdsForCreateFolder[p.id],b=!!r.state.imkit.selectedRoomIdsForCreateFolder[m.id];return y&&!b?-1:!y&&b?1:y&&b?r.state.imkit.selectedRoomIdsForCreateFolder[p.id]-r.state.imkit.selectedRoomIdsForCreateFolder[m.id]:0})),o=u.computed(()=>n.value.length>0),s=u.ref(""),a=u.ref(!1),d=Qu(1e3,async()=>{s.value!==r.state.imkit.searchKeyword&&(s.value?r.dispatch("imkit/searchRooms",s.value):r.commit("imkit/setState",{searchKeyword:""}))}),f=$1(500,d,{atBegin:!1});u.watch(s,f);const c=u.computed(()=>!!r.state.imkit.isRequesting[oo.Search]),h=async()=>{await r.dispatch("imkit/batchSendMessage",{message:n.value,messageType:"text",paras:Object.keys(r.state.imkit.selectedRoomIdsForCreateFolder).map(p=>({room:p}))}),r.commit("imkit/setState",{selectedRoomIdsForCreateFolder:{},searchKeyword:""})};return(p,m)=>(u.openBlock(),u.createBlock(u.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",Wie,[u.createTextVNode(u.toDisplayString(p.$t("massTexting"))+" ",1),u.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:m[0]||(m[0]=y=>u.unref(e).closeAll())},Gie)]),u.withDirectives(u.createElementVNode("textarea",{rows:"3",class:"grow rounded-md bg-gray-100 p-2 outline-none dark:bg-zinc-700",placeholder:p.$t("inputMessage"),"onUpdate:modelValue":m[1]||(m[1]=y=>n.value=y)},null,8,Qie),[[u.vModelText,n.value]]),u.createVNode(u.unref(Vd),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":i.value,"data-component":A4,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},{header:u.withCtx(()=>[u.createElementVNode("div",Yie,[Kie,u.createElementVNode("div",Xie,[u.withDirectives(u.createElementVNode("input",{ref:"searchInput",class:"bg-gray-100 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[2]||(m[2]=y=>s.value=y),placeholder:p.$t("search"),onCompositionstart:m[3]||(m[3]=y=>a.value=!0),onCompositionend:m[4]||(m[4]=y=>a.value=!1)},null,40,Jie),[[u.vModelText,s.value]])]),s.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:$h,class:"h-5 w-5 cursor-pointer",onClick:m[5]||(m[5]=()=>{u.unref(f).cancel({upcomingOnly:!0}),s.value="",u.unref(d)()})})):u.createCommentVNode("",!0)]),c.value?(u.openBlock(),u.createElementBlock("div",Zie,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(10,y=>u.createElementVNode("div",{key:y,class:"flex gap-3 p-2"},eoe)),64))])):u.createCommentVNode("",!0)]),_:1},8,["data-sources"]),u.createElementVNode("button",{class:u.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!o.value}]),disabled:!o.value,onClick:m[6]||(m[6]=()=>{h(),u.unref(e).closeAll()})},u.toDisplayString(p.$t("confirm")),11,toe)]),_:1}))}}),[["__scopeId","data-v-b3099582"]]),so=Object.create(null);so.open="0",so.close="1",so.ping="2",so.pong="3",so.message="4",so.upgrade="5",so.noop="6";const mp=Object.create(null);Object.keys(so).forEach(t=>{mp[so[t]]=t});const My={type:"error",data:"parser error"},T4=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",E4=typeof ArrayBuffer=="function",C4=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ny=({type:t,data:e},r,n)=>T4&&e instanceof Blob?r?n(e):S4(e,n):E4&&(e instanceof ArrayBuffer||C4(e))?r?n(e):S4(new Blob([e]),n):n(so[t]+(e||"")),S4=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function k4(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Oy;function noe(t,e){if(T4&&t.data instanceof Blob)return t.data.arrayBuffer().then(k4).then(e);if(E4&&(t.data instanceof ArrayBuffer||C4(t.data)))return e(k4(t.data));Ny(t,!1,r=>{Oy||(Oy=new TextEncoder),e(Oy.encode(r))})}const I4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<I4.length;t++)hd[I4.charCodeAt(t)]=t;const ioe=t=>{let e=t.length*.75,r=t.length,n,i=0,o,s,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(n=0;n<r;n+=4)o=hd[t.charCodeAt(n)],s=hd[t.charCodeAt(n+1)],a=hd[t.charCodeAt(n+2)],l=hd[t.charCodeAt(n+3)],f[i++]=o<<2|s>>4,f[i++]=(s&15)<<4|a>>2,f[i++]=(a&3)<<6|l&63;return d},ooe=typeof ArrayBuffer=="function",Ly=(t,e)=>{if(typeof t!="string")return{type:"message",data:D4(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:soe(t.substring(1),e)}:mp[r]?t.length>1?{type:mp[r],data:t.substring(1)}:{type:mp[r]}:My},soe=(t,e)=>{if(ooe){const r=ioe(t);return D4(r,e)}else return{base64:!0,data:t}},D4=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},M4="",aoe=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,s)=>{Ny(o,!1,a=>{n[s]=a,++i===r&&e(n.join(M4))})})},loe=(t,e)=>{const r=t.split(M4),n=[];for(let i=0;i<r.length;i++){const o=Ly(r[i],e);if(n.push(o),o.type==="error")break}return n};function coe(){return new TransformStream({transform(t,e){noe(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let By;function gp(t){return t.reduce((e,r)=>e+r.length,0)}function yp(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function uoe(t,e){By||(By=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(r.push(s);;){if(n===0){if(gp(r)<1)break;const l=yp(r,1);o=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(gp(r)<2)break;const l=yp(r,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(gp(r)<8)break;const l=yp(r,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(My);break}i=f*Math.pow(2,32)+d.getUint32(4),n=3}else{if(gp(r)<i)break;const l=yp(r,i);a.enqueue(Ly(o?l:By.decode(l),e)),n=0}if(i===0||i>t){a.enqueue(My);break}}}})}const N4=4;function Tr(t){if(t)return doe(t)}function doe(t){for(var e in Tr.prototype)t[e]=Tr.prototype[e];return t}Tr.prototype.on=Tr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Tr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},Tr.prototype.off=Tr.prototype.removeListener=Tr.prototype.removeAllListeners=Tr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this},Tr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},Tr.prototype.emitReserved=Tr.prototype.emit,Tr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Tr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ci=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function O4(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const foe=ci.setTimeout,hoe=ci.clearTimeout;function bp(t,e){e.useNativeTimers?(t.setTimeoutFn=foe.bind(ci),t.clearTimeoutFn=hoe.bind(ci)):(t.setTimeoutFn=ci.setTimeout.bind(ci),t.clearTimeoutFn=ci.clearTimeout.bind(ci))}const poe=1.33;function moe(t){return typeof t=="string"?goe(t):Math.ceil((t.byteLength||t.size)*poe)}function goe(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function yoe(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function boe(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class voe extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Ry extends Tr{constructor(e){super(),this.writable=!1,bp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new voe(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Ly(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=yoe(e);return r.length?"?"+r:""}}const L4="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Py=64,_oe={};let B4=0,vp=0,R4;function P4(t){let e="";do e=L4[t%Py]+e,t=Math.floor(t/Py);while(t>0);return e}function F4(){const t=P4(+new Date);return t!==R4?(B4=0,R4=t):t+"."+P4(B4++)}for(;vp<Py;vp++)_oe[L4[vp]]=vp;let U4=!1;try{U4=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const woe=U4;function j4(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||woe))return new XMLHttpRequest}catch{}if(!e)try{return new ci[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function yfe(){}function Aoe(){}const xoe=function(){return new j4({xdomain:!1}).responseType!=null}();class Toe extends Ry{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const r=e&&e.forceBase64;this.supportsBinary=xoe&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};loe(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,aoe(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=F4()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ao(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class ao extends Tr{constructor(e,r){super(),bp(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=O4(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new j4(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=ao.requestsCount++,ao.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Aoe,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ao.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ao.requestsCount=0,ao.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",z4);else if(typeof addEventListener=="function"){const t="onpagehide"in ci?"pagehide":"unload";addEventListener(t,z4,!1)}}function z4(){for(let t in ao.requests)ao.requests.hasOwnProperty(t)&&ao.requests[t].abort()}const Fy=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),_p=ci.WebSocket||ci.MozWebSocket,$4=!0,Eoe="arraybuffer",V4=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Coe extends Ry{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=V4?{}:O4(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=$4&&!V4?r?new _p(e,r):new _p(e):new _p(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;Ny(n,this.supportsBinary,o=>{const s={};try{$4&&this.ws.send(o)}catch{}i&&Fy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=F4()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!_p}}class Soe extends Ry{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=uoe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=coe();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&Fy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const koe={websocket:Coe,webtransport:Soe,polling:Toe},Ioe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Doe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Uy(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=Ioe.exec(t||""),o={},s=14;for(;s--;)o[Doe[s]]=i[s]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Moe(o,o.path),o.queryKey=Noe(o,o.query),o}function Moe(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Noe(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}let H4=class Ac extends Tr{constructor(e,r={}){super(),this.binaryType=Eoe,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=Uy(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Uy(r.host).host),bp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=boe(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=N4,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new koe[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Ac.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;Ac.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",c=>{if(!n)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ac.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,f(),r.close(),r=null)}const s=c=>{const h=new Error("probe error: "+c);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function a(){s("transport closed")}function l(){s("socket closed")}function d(c){r&&c.name!==r.name&&o()}const f=()=>{r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};r.once("open",i),r.once("error",s),r.once("close",a),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Ac.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=moe(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Ac.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};H4.protocol=N4;function Ooe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Uy(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const Loe=typeof ArrayBuffer=="function",Boe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,q4=Object.prototype.toString,Roe=typeof Blob=="function"||typeof Blob<"u"&&q4.call(Blob)==="[object BlobConstructor]",Poe=typeof File=="function"||typeof File<"u"&&q4.call(File)==="[object FileConstructor]";function jy(t){return Loe&&(t instanceof ArrayBuffer||Boe(t))||Roe&&t instanceof Blob||Poe&&t instanceof File}function wp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(wp(t[r]))return!0;return!1}if(jy(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wp(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&wp(t[r]))return!0;return!1}function Foe(t){const e=[],r=t.data,n=t;return n.data=zy(r,e),n.attachments=e.length,{packet:n,buffers:e}}function zy(t,e){if(!t)return t;if(jy(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=zy(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=zy(t[n],e));return r}return t}function Uoe(t,e){return t.data=$y(t.data,e),delete t.attachments,t}function $y(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=$y(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=$y(t[r],e));return t}const joe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zoe=5;var xt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(xt||(xt={}));class $oe{constructor(e){this.replacer=e}encode(e){return(e.type===xt.EVENT||e.type===xt.ACK)&&wp(e)?this.encodeAsBinary({type:e.type===xt.EVENT?xt.BINARY_EVENT:xt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===xt.BINARY_EVENT||e.type===xt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Foe(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function W4(t){return Object.prototype.toString.call(t)==="[object Object]"}class Vy extends Tr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===xt.BINARY_EVENT;n||r.type===xt.BINARY_ACK?(r.type=n?xt.EVENT:xt.ACK,this.reconstructor=new Voe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(jy(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(xt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===xt.BINARY_EVENT||n.type===xt.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const s=e.substring(o,r);if(s!=Number(s)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const s=e.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(Vy.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case xt.CONNECT:return W4(r);case xt.DISCONNECT:return r===void 0;case xt.CONNECT_ERROR:return typeof r=="string"||W4(r);case xt.EVENT:case xt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&joe.indexOf(r[0])===-1);case xt.ACK:case xt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Voe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Uoe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Hoe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Vy,Encoder:$oe,get PacketType(){return xt},protocol:zoe},Symbol.toStringTag,{value:"Module"}));function Oi(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const qoe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class G4 extends Tr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Oi(e,"open",this.onopen.bind(this)),Oi(e,"packet",this.onpacket.bind(this)),Oi(e,"error",this.onerror.bind(this)),Oi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(qoe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:xt.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const s=this.ids++,a=r.pop();this._registerAckCallback(s,a),n.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),r.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...r){return new Promise((n,i)=>{const o=(s,a)=>s?i(s):n(a);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xt.EVENT:case xt.BINARY_EVENT:this.onevent(e);break;case xt.ACK:case xt.BINARY_ACK:this.onack(e);break;case xt.DISCONNECT:this.ondisconnect();break;case xt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:xt.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function sc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}sc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0},sc.prototype.reset=function(){this.attempts=0},sc.prototype.setMin=function(t){this.ms=t},sc.prototype.setMax=function(t){this.max=t},sc.prototype.setJitter=function(t){this.jitter=t};class Hy extends Tr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,bp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new sc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||Hoe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new H4(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Oi(r,"open",function(){n.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Oi(r,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Oi(e,"ping",this.onping.bind(this)),Oi(e,"data",this.ondata.bind(this)),Oi(e,"error",this.onerror.bind(this)),Oi(e,"close",this.onclose.bind(this)),Oi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Fy(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new G4(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const pd={};function md(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Ooe(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,s=pd[i]&&o in pd[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let l;return a?l=new Hy(n,e):(pd[i]||(pd[i]=new Hy(n,e)),l=pd[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(md,{Manager:Hy,Socket:G4,io:md,connect:md});var Q4={},Y4={},qy={},gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.createTimeAwareMapObserver=void 0;var Woe=function(t){var e=new Map;return{create:function(r,n){var i=setTimeout(function(){n(r)},t);e.set(r,i)},cancel:function(r){if(e.has(r)){var n=e.get(r);e.delete(r),clearTimeout(n)}}}};gd.createTimeAwareMapObserver=Woe,Object.defineProperty(qy,"__esModule",{value:!0});var Goe=gd;function Qoe(t){var e=new Map,r=(0,Goe.createTimeAwareMapObserver)(t.timeToClear);function n(d){var f=e.get(d);return f||null}function i(d){return e.delete(d),r.cancel(d),!0}function o(){return e.size}function s(d){return e.has(d)}function a(){return Array.from(e.keys())}function l(d,f){return e.set(d,f),r.create(d,i),!0}return{keys:a,size:o,has:s,get:n,set:l,remove:i}}qy.default=Qoe;var Wy={},Ap={};Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.LRULinkedList=void 0;var K4=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),Yoe=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,o=new K4(e,r);return o.next=i,o.prev=null,i.prev=o,this.HEAD=o,this.positions.set(e,o),this.size++,o}else{var s=new K4(e,r);return this.HEAD=s,this.TAIL||(this.TAIL=s),this.positions.set(e,s),this.size++,s}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Ap.LRULinkedList=Yoe,Object.defineProperty(Wy,"__esModule",{value:!0});var Koe=Ap;function Xoe(t){var e=new Koe.LRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,get:r,set:a,remove:n,has:i}}Wy.default=Xoe;var Gy={},xp={};Object.defineProperty(xp,"__esModule",{value:!0}),xp.MRULinkedList=void 0;var Tp=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),Joe=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.mruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.moveToTail=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToTail(r.id,r.data);return n}return null},t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,o=new Tp(e,r);return o.next=i,o.prev=null,i.prev=o,this.HEAD=o,this.positions.set(e,o),this.size++,o}else{var s=new Tp(e,r);return this.HEAD=s,this.TAIL||(this.TAIL=s),this.positions.set(e,s),this.size++,s}},t.prototype.addNodeToTail=function(e,r){if(this.positions.has(e)){var n=this.moveToTail(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.TAIL){var i=this.TAIL,o=new Tp(e,r);return o.prev=i,o.next=null,i.next=o,this.TAIL=o,this.positions.set(e,o),this.size++,o}else{var s=new Tp(e,r);return this.TAIL=s,this.HEAD||(this.HEAD=s),this.positions.set(e,s),this.size++,s}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToTail(r);return n?n.data:null}return null},t}();xp.MRULinkedList=Joe,Object.defineProperty(Gy,"__esModule",{value:!0});var Zoe=xp;function ese(t){var e=new Zoe.MRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,has:i,get:r,set:a,remove:n}}Gy.default=ese;var Qy={},Ep={};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.TLRULinkedList=void 0;var tse=gd,X4=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),rse=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize,this.timer=(0,tse.createTimeAwareMapObserver)(e.timeToClear)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}var i=this.remove.bind(this);if(this.timer.create(e,i),this.HEAD){var o=this.HEAD,s=new X4(e,r);return s.next=o,s.prev=null,o.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new X4(e,r);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.timer.cancel(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.timer.cancel(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Ep.TLRULinkedList=rse,Object.defineProperty(Qy,"__esModule",{value:!0});var nse=Ep;function ise(t){var e=new nse.TLRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,get:r,set:a,remove:n,has:i}}Qy.default=ise,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0;var e=qy,r=Wy,n=Gy,i=Qy;t.defaultConfig={strategy:"lru",policy:"lru",timeToClear:72e5,lruSize:500,mruSize:500};function o(s){var a={};typeof s=="object"&&(a=s);var l=Object.assign({},t.defaultConfig,a);switch(l.policy){case"timeout":return(0,e.default)(l);case"lru":return(0,r.default)(l);case"mru":return(0,n.default)(l);case"tlru":return(0,i.default)(l);default:throw new Error(l.policy+" is not a supported policy.")}}t.default=o}(Y4),Object.defineProperty(Q4,"__esModule",{value:!0});var ose=Y4,J4=Q4.default=ose.default;class Z4{constructor(e=null){Pe(this,"head");Pe(this,"tail");Pe(this,"main");Pe(this,"length");this.head=e,this.tail=e,this.main=e,this.length=e?1:0}numberOfMessages(){let e=0,r=this.head;for(;r;)e+=r.length,r=r.next;return e}concate(e){var r;(r=this.main)==null||r.concate(e)}unshift(e){var r;(r=this.main)==null||r.unshift(e)}insert(e){if(this.length===0){this.head=this.tail=this.main=e,this.length=1;return}if(e.length===0)return;let r=this.tail;for(;r&&r.head.createdAt>e.head.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,e.next&&(e.next.prev=e),r.next=e,e.prev=r):(e.next=this.head,e.next&&(e.next.prev=e),this.head=e),this.main=e,this.length++}merge(){if(this.length<=1)return;let e=this.tail;for(;e;){if(e.prev&&e.canCombine(e.prev)){e.combine(e.prev),e.prev===this.main&&(this.main=e),e.prev=e.prev.prev,e.prev?e.prev.next=e:this.head=e,this.length--;break}e=e.prev}e&&this.merge()}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}const eI={count:0,config:{},uid:"",axios:Xt,isRequesting:{},socket:md({autoConnect:!1}),imageCache:J4(),translationCache:J4(),users:{},rooms:{},sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,uploadProgresses:{},downloadProgresses:{},linkPreviews:{},actionMenuRoomId:"",folders:{},sortedFolderIds:[],roomIdsInFolders:{},selectedRoomIdsForCreateFolder:{},selectedFolderId:"",searchKeyword:"",searchType:li.RoomName,searchRooms:{},roomTag:"",deliveringMessages:new Map,selectedRoomId:"",messageMultiList:new Z4,numberOfTotalMessages:-1,replyId:"",navigationTargetId:"",isRoomInfoVisible:!1,isTyping:{},isSearchInRoomMode:!1,messageSearchKeyword:""},ac=t=>(u.pushScopeId("data-v-7a6876fe"),t=t(),u.popScopeId(),t),sse={class:"relative overflow-auto"},ase={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},lse=ac(()=>u.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:Ud},null,-1)),cse={class:"grow overflow-hidden"},use=["placeholder"],dse={key:0,class:"mb-2 flex items-center gap-2 overflow-auto text-sm text-gray-900 dark:text-gray-200"},fse=["onClick"],hse={key:1,slot:"header",class:"flex flex-col gap-1"},pse=[ac(()=>u.createElementVNode("div",{class:"loading h-[50px] w-[50px] rounded-2xl bg-white dark:bg-zinc-800"},null,-1)),ac(()=>u.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[u.createElementVNode("div",{class:"loading h-5 w-full rounded-md bg-white dark:bg-zinc-800"}),u.createElementVNode("div",{class:"loading h-4 w-4/5 rounded-md bg-white dark:bg-zinc-800"})],-1))],mse={class:"absolute bottom-0 right-0 flex flex-col items-end gap-2 p-3"},gse={key:0,class:"transform-gpu flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},yse=ac(()=>u.createElementVNode("img",{width:"24",height:"24",src:rne},null,-1)),bse=ac(()=>u.createElementVNode("img",{width:"24",height:"24",src:g4},null,-1)),vse=[ac(()=>u.createElementVNode("img",{width:"30",height:"30",src:nne},null,-1))],_se=wi(u.defineComponent({__name:"RoomList",setup(t){const e=Ft(),r=u.ref(""),n=hn(),i=u.ref(!1),o=u.ref(),s=u.computed(()=>e.state.imkit.sortedRooms),a=u.computed(()=>e.state.imkit.sortedFolderIds.map(C=>e.state.imkit.folders[C]).filter(C=>C)),l=u.computed(()=>e.state.imkit.folders[e.state.imkit.selectedFolderId]),d=u.computed(()=>e.state.imkit.searchType),f=u.computed(()=>e.state.imkit.searchKeyword?Object.keys(e.state.imkit.searchRooms):[]),c=u.computed(()=>e.state.imkit.roomTag),h=u.computed(()=>e.state.imkit.config.settings),p=u.computed(()=>{if(e.state.imkit.searchKeyword&&n.modals.length===0){if(d.value===li.RoomPrefFolder&&l.value){const R=[...e.state.imkit.searchRooms[d.value]],$=l.value.roomIds.map(F=>e.state.imkit.rooms[F]).filter(F=>c.value?F&&F.roomTags.includes(c.value):F),U=R.findIndex(F=>F.id===l.value.id);return U>-1&&R.splice(U+1,0,...$),R}return e.state.imkit.searchRooms[d.value]||[]}const C=[...a.value,...s.value];if(l.value){const R=e.getters["imkit/roomsInSelectedFolder"],$=a.value.findIndex(U=>U.id===l.value.id);$>-1&&C.splice($+1,0,...R)}return C}),m=u.ref(!1),y=u.ref(!1),b=u.computed(()=>n.modals.length===0&&(i.value||m.value||!!e.state.imkit.isRequesting[oo.Search]&&r.value.length>0)),v=()=>{e.dispatch("imkit/fetchRooms")},x=()=>{y.value=!y.value},S=()=>{const{open:C}=bo({component:x4});C()},I=()=>{const{open:C}=bo({component:roe});C()},E=Qu(1e3,async()=>{r.value!==e.state.imkit.searchKeyword&&(r.value?e.dispatch("imkit/searchRooms",r.value):(e.commit("imkit/setState",{sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,folders:{},sortedFolderIds:[],roomIdsInFolders:{},searchKeyword:""}),D()))}),L=$1(500,E,{atBegin:!1});u.watch(r,L),u.watch(s,C=>{if(eI.config.settings.autoSelectRoomWhenLoaded&&!e.state.imkit.selectedRoomId&&document.body.clientWidth>640){const R=Object.values(C).find($=>$.numberOfUnread===0);R&&e.commit("imkit/setState",{selectedRoomId:R.id})}});const D=async()=>{m.value=!0,await e.dispatch("imkit/fetchPrefs"),await e.dispatch("imkit/fetchRooms"),m.value=!1,await e.dispatch("imkit/fetchRoomsInFolders")};return D(),(C,R)=>(u.openBlock(),u.createElementBlock("div",sse,[u.createVNode(u.unref(Vd),{class:"h-full overflow-auto p-2","data-key":"id","data-sources":p.value,"data-component":qie,"wrap-class":"flex flex-col gap-1.5","estimated-size":66,keeps:60,onTobottom:v},{header:u.withCtx(()=>[u.createElementVNode("div",ase,[lse,u.createElementVNode("div",cse,[u.withDirectives(u.createElementVNode("input",{ref_key:"searchInput",ref:o,class:"bg-gray-100 outline-none dark:bg-zinc-700","onUpdate:modelValue":R[0]||(R[0]=$=>r.value=$),placeholder:C.$t("search"),onCompositionstart:R[1]||(R[1]=$=>i.value=!0),onCompositionend:R[2]||(R[2]=$=>i.value=!1)},null,40,use),[[u.vModelText,r.value]])]),r.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:$h,class:"h-5 w-5 cursor-pointer",onClick:R[3]||(R[3]=()=>{u.unref(L).cancel({upcomingOnly:!0}),r.value="",u.unref(E)()})})):u.createCommentVNode("",!0)]),f.value.length>0&&u.unref(n).modals.length===0?(u.openBlock(),u.createElementBlock("div",dse,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(f.value,$=>(u.openBlock(),u.createElementBlock("div",{key:$,class:u.normalizeClass(["cursor-pointer whitespace-nowrap rounded-lg p-2 hover:bg-gray-100 hover:dark:bg-white hover:dark:text-gray-900",{"bg-gray-100 font-medium text-gray-800":$===d.value}]),onClick:U=>u.unref(e).commit("imkit/setState",{searchType:$})},u.toDisplayString(C.$t($)),11,fse))),128))])):u.createCommentVNode("",!0),b.value?(u.openBlock(),u.createElementBlock("div",hse,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(20,$=>u.createElementVNode("div",{key:$,class:"flex gap-3 p-2"},pse)),64))])):u.createCommentVNode("",!0)]),_:1},8,["data-sources"]),u.withDirectives((u.openBlock(),u.createElementBlock("div",mse,[u.createVNode(u.Transition,{name:"slide-fade"},{default:u.withCtx(()=>[y.value?(u.openBlock(),u.createElementBlock("div",gse,[h.value.massTextingEnabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:I},[yse,u.createTextVNode(" "+u.toDisplayString(C.$t("massTexting")),1)])):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:S},[bse,u.createTextVNode(" "+u.toDisplayString(C.$t("createFolder")),1)])])):u.createCommentVNode("",!0)]),_:1}),u.createElementVNode("button",{class:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-slate-500 shadow-md hover:scale-110 hover:transform hover:transition sm:group-hover:flex",onClick:u.withModifiers(x,["stop"])},vse)])),[[u.unref(td),()=>{y.value=!1}]])]))}}),[["__scopeId","data-v-7a6876fe"]]);function Cp(t,e,r){const{url:n}=e,i=n==null?void 0:n.split("?")[0];if(!i)return;const o={};o[i]=t==0?new Date:null,r.commit("imkit/updateField",{key:"isRequesting",value:o})}const wse=async t=>{localStorage.getItem("imkit-token")&&(localStorage.removeItem("imkit-token"),window.location.reload())};function Ase(t,e){const{domain:r}=t,n=Xt.create({baseURL:r});return n.interceptors.request.use(i=>{Cp(0,i,e);const o=new _k({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return i.headers=o,i},i=>{const{config:o}=i;return Cp(1,o,e),Promise.reject(i)}),n.interceptors.response.use(i=>{const{config:o}=i;return Cp(1,o,e),i},async i=>{const{config:o}=i;if(Cp(1,o,e),i.response.status===401){await wse();const s=new _k({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return o.headers=s,Xt.request(o)}return Promise.reject(i)}),n}function xse(t,e){const{domain:r,clientKey:n,token:i}=t,o=md(r,{forceBase64:!0,transports:["websocket"]});return o.on("connect",()=>{o.emit("auth2",i,{CLIENT_KEY:n,Authorization:i},s=>{console.log(s)})}),o.on("disconnect",s=>{console.log(s)}),o.on("chat message",s=>{e.dispatch("imkit/handleMessageFromSocket",ir.fromRaw(s))}),o.on("room",s=>{const a=new rd(s,e.state.uid);if(!a.id)return;const l={};for(const d of s.members)l[d.id]||(l[d.id]=new Wo(d));e.dispatch("imkit/handleRoomFromSocket",a),e.commit("imkit/updateField",{key:"users",value:l})}),o.on("lastRead",s=>{const{roomID:a,memberID:l,messageID:d}=s;e.dispatch("imkit/handleLastReadFromSocket",{roomId:a,uid:l,messageId:d})}),o.on("roomPref",s=>{const{room:a,...l}=s;a&&(e.commit("imkit/updateRoom",{id:a,pref:l}),l.sticky!==void 0&&e.dispatch("imkit/aggregateRoomsAndFolders"))}),o.on("myPrefChange",s=>{e.dispatch("imkit/handlePrefChangeFromSocket",s)}),o.on("myPrefDelete",s=>{e.dispatch("imkit/handlePrefDeleteFromSocket",s)}),o.on("typing",s=>{e.dispatch("imkit/handleTypingFromSocket",s)}),o}const tI={"en-US":{close:"Close",confirm:"Confirm",folderName:"Folder Name",createFolder:"Create Folder",tag:"Tag",inputTag:"Input Tag",inputTagPlaceholder:"Input Tag Color #02B13F",download:"Download",someoneUnsentMessage:"{0} unsent a message",read:"Read",pin:"Pin",unpin:"Unpin",emptyChat:"Empty Chat",members:"Members",createdAt:"Created At",updatedAt:"Updated At",leaveGroup:"Leave Group",text:"Text",image:"Image",video:"Video",sticker:"Sticker",message:"Message",youSent:"{0} sent",someoneSent:"{0} sent a {1}",tapOpen:"Tap here to open the link.",TypeMessage:"Type a message...",isTyping:"{0} is typing...",someoneJoinedTheChat:"{0} joined the chat",someoneLeftTheChat:"{0} left the chat",someoneInvited:"{0} invited {1}",someoneKicked:"{0} kicked {1}",youUnsentMessage:"You unsent a message",fileSize:"File size",file:"File",translation:"Translation",search:"Search",location:"Location",sendCurrentLocation:"Send Current Location",noAccessLocationPermission:"No access location permission.","locationInfoUnavailable.":"Location information is unavailable.",requestLocationTimeout:"The request to get location timed out.",addressUnavailable:"The address is unavailable.",audio:"Audio Message",noAccessMicrophonePermission:"No access microphone permission.",removeFromFolder:"Remove from folder",editFolder:"Edit Folder",addToFolder:"Add to Folder",numberOfChatroom:"{n} Chatrooms","no-chatroom":"No chatroom",roomName:"Room Name",roomMember:"Member",roomPrefTags:"Tag",roomPrefFolder:"Folder",roomTags:"Attribute",massTexting:"Mass Texting",inputMessage:"Input Message",searchInConversation:"Search in Conversation",yesterday:"Yesterday",today:"Today",confirmToDeleteFolder:"Confirm Delete Folder",hide:"Hide",delete:"Delete",cancel:"Cancel",create:"Create",save:"Save",createTag:"Create Tag",confirmDeleteTag:"Confirm Delete Tag?",editTag:"Edit Tag",chooseColor:"Choose Color",tryOldSdk:"Return to the Old Chat Room Interface",tryOldSdkDescription:"You can return to the old interface from here and switch back to the new one anytime.",tryOldSdkGoTo:"Proceed"},"zh-TW":{close:"",confirm:"",folderName:"",createFolder:"",tag:"",inputTag:"",inputTagPlaceholder:" #02B13F",download:"",someoneUnsentMessage:"{0} ",read:"",pin:"",unpin:"",emptyChat:"",members:"",createdAt:"",updatedAt:"",leaveGroup:"",text:"",image:"",video:"",sticker:"",message:"",youSent:"{0}",someoneSent:"{0}{1}",tapOpen:"",TypeMessage:"...",isTyping:"{0} ...",someoneJoinedTheChat:"{0}",someoneLeftTheChat:"{0}",someoneInvited:"{0}{1}",someoneKicked:"{0}{1}",youUnsentMessage:"",fileSize:"",file:"",translation:"",search:"",location:"",sendCurrentLocation:"",noAccessLocationPermission:"","locationInfoUnavailable.":"",requestLocationTimeout:"",addressUnavailable:"",audio:"",noAccessMicrophonePermission:"",removeFromFolder:"",editFolder:"",addToFolder:"",numberOfChatroom:"{n} ","no-chatroom":"",roomName:"",roomMember:"",roomPrefTags:"",roomPrefFolder:"",roomTags:"",massTexting:"",inputMessage:"",searchInConversation:"",yesterday:"",today:"",confirmToDeleteFolder:"",hide:"",delete:"",cancel:"",create:"",save:"",createTag:"",confirmDeleteTag:"?",editTag:"",chooseColor:"",tryOldSdk:"",tryOldSdkDescription:"",tryOldSdkGoTo:""},"ja-JP":{close:"",confirm:"",folderName:"",createFolder:"",tag:"",inputTag:"",inputTagPlaceholder:"#02B13F",download:"",someoneUnsentMessage:"{0}",read:"",pin:"",unpin:"",emptyChat:"",members:"",createdAt:"",updatedAt:"",leaveGroup:"",text:"",image:"",video:"",sticker:"",message:"",youSent:"{0}",someoneSent:"{0}{1}",tapOpen:"",TypeMessage:"...",isTyping:"{0}...",someoneJoinedTheChat:"{0}",someoneLeftTheChat:"{0}",someoneInvited:"{0}{1}",someoneKicked:"{0}{1}",youUnsentMessage:"",fileSize:"",file:"",translation:"",search:"",location:"",sendCurrentLocation:"",noAccessLocationPermission:"","locationInfoUnavailable.":"",requestLocationTimeout:"",addressUnavailable:"",audio:"",noAccessMicrophonePermission:"",removeFromFolder:"",editFolder:"",addToFolder:"",numberOfChatroom:"{n}","no-chatroom":"",roomName:"",roomMember:"",roomPrefTags:"",roomPrefFolder:"",roomTags:"",massTexting:"",inputMessage:"",searchInConversation:"",yesterday:"",today:"",confirmToDeleteFolder:"",hide:"",delete:"",cancel:"",create:"",save:"",createTag:"",confirmDeleteTag:"",editTag:"",chooseColor:"",tryOldSdk:"",tryOldSdkDescription:"",tryOldSdkGoTo:""}},Tse=v5({legacy:!1,locale:navigator.language in tI?navigator.language:"en-US",messages:tI});var Ve=(t=>(t.increment="increment",t.fetchRooms="fetchRooms",t.fetchRoom="fetchRoom",t.loadMessages="loadMessages",t.updateLastRead="updateLastRead",t.handleMessageFromSocket="handleMessageFromSocket",t.handleRoomFromSocket="handleRoomFromSocket",t.handleLastReadFromSocket="handleLastReadFromSocket",t.sendMessage="sendMessage",t.recallMessage="recallMessage",t.uploadMedia="uploadMedia",t.fetchLinkPreview="fetchLinkPreview",t.handleLinkPreviews="handleLinkPreviews",t.fetchVideoBlob="fetchVideoBlob",t.navigateToMessage="navigateToMessage",t.uploadImage="uploadImage",t.updateRoomPrefs="updateRoomPrefs",t.fetchPrefs="fetchPrefs",t.updatePref="updatePref",t.deletePref="deletePref",t.updateFolder="updateFolder",t.removeFolder="removeFolder",t.handlePrefChangeFromSocket="handlePrefChangeFromSocket",t.handlePrefDeleteFromSocket="handlePrefDeleteFromSocket",t.aggregateRoomsAndFolders="aggregateRoomsAndFolders",t.removeMembers="removeMembers",t.handleTypingFromSocket="handleTypingFromSocket",t.insertUnreadMessage="insertUnreadMessage",t.translate="translate",t.searchRooms="searchRooms",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.removeRoomFromFolder="removeRoomFromFolder",t.addRoomToFolder="addRoomToFolder",t.fetchRoomsInFolders="fetchRoomsInFolders",t.batchSendMessage="batchSendMessage",t.toggleNotification="toggleNotification",t.removeRoom="removeRoom",t))(Ve||{}),je=(t=>(t.increment="increment",t.setState="setState",t.updateField="updateField",t.deleteField="deleteField",t.updateRoom="updateRoom",t.updateLastRead="updateLastRead",t.pushMessage="pushMessage",t.replaceMessage="replaceMessage",t.clearChatRoom="clearChatRoom",t.deleteRoom="deleteRoom",t.setMap="setMap",t.deleteMap="deleteMap",t.insertMessageLinkedList="insertMessageLinkedList",t.concateMessageLinkedList="concateMessageLinkedList",t.unshiftMessageLinkedList="unshiftMessageLinkedList",t))(je||{});class Ese{constructor(e){Pe(this,"head");Pe(this,"tail");Pe(this,"length");Pe(this,"map");Pe(this,"messageGroups");Pe(this,"firstMessageOfDate");Pe(this,"prev",null);Pe(this,"next",null);this.head=null,this.tail=null,this.length=0,this.map=new Map,this.messageGroups=new Map,this.firstMessageOfDate=new Map;const r=n=>{const i=ir.fromRaw(n);return i?[i].concat(r(n.reply)):[]};for(const n of e.reverse()){const i=ir.fromRaw(n);i&&this.append(i);for(const o of r(n.reply))this.map.set(o.id,o)}}append(e){if(!this.contains(e.id)){if(this.tail){let r=this.tail;for(;r&&r.createdAt>e.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,r.next=e,e.prev=r):(e.next=this.head,this.head=e),e.next&&(e.next.prev=e)}else this.head=this.tail=e;this.map.set(e.id,e),this.length++,this.insertMessageToGroup(e)}}insertMessageToGroup(e){if(e.isSystem)return;if(this.messageGroups.has(e.groupId)){const n=this.messageGroups.get(e.groupId);if(n){let i=!1;for(let o=n.length-1;o>=0;o--)if(n[o].createdAt<e.createdAt){o==n.length-1?n.push(e):n.splice(o+1,0,e),i=!0;break}i||n.unshift(e)}}else this.messageGroups.set(e.groupId,[e]);const r=this.firstMessageOfDate.get(e.dateId);(!r||r.createdAt>e.createdAt)&&this.firstMessageOfDate.set(e.dateId,e)}replace(e,r){var i;const n=this.finds(e);if(n){n.prev?n.prev.next=r:this.head=r,n.next?n.next.prev=r:this.tail=r,r.prev=n.prev,r.next=n.next,this.map.delete(e),this.map.set(r.id,r);const o=this.messageGroups.get(n.groupId);if(o){const s=o.indexOf(n);s>=0&&(r.isSystem?o.splice(s,1):o[s]=r)}((i=this.firstMessageOfDate.get(n.dateId))==null?void 0:i.id)===n.id&&this.firstMessageOfDate.set(n.dateId,r)}}concate(e){if(e.length!==0){this.tail?(this.tail.next=e.head,e.head&&(e.head.prev=this.tail),this.tail=e.tail):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const o of n)this.insertMessageToGroup(o)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}unshift(e){if(e.length!==0){this.head?(this.head.prev=e.tail,e.tail&&(e.tail.next=this.head),this.head=e.head):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const o of n)this.insertMessageToGroup(o)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}resetHead(e){if(this.head&&this.head.id===e)return;const r=this.finds(e);if(r){this.head=r,r.prev=null;let n=0,i=r;for(;i;)n++,i=i.next;this.length=n}}resetTail(e){if(this.tail&&this.tail.id===e)return;const r=this.finds(e);if(r){this.tail=r,r.next=null;let n=0,i=r;for(;i;)n++,i=i.prev;this.length=n}}canCombine(e){var r,n;return e.length===0||!e.head||!e.tail?!1:this.contains(e.tail.id)||this.contains(e.head.id)||e.contains(((r=this.head)==null?void 0:r.id)??"")&&e.contains(((n=this.tail)==null?void 0:n.id)??"")}combine(e){var i,o,s,a;if(e.length===0||!e.head||!e.tail)return;const r=this.contains(e.head.id),n=this.contains(e.tail.id);if(!(r&&n)){if(!r&&!n)e.contains(((i=this.head)==null?void 0:i.id)??"")&&e.contains(((o=this.tail)==null?void 0:o.id)??"")&&(this.head=e.head,this.tail=e.tail,this.length=e.length,this.map=e.map);else if(n){const l=(s=this.finds(e.tail.id))==null?void 0:s.next;l?this.resetHead(l.id):(this.head=null,this.tail=null,this.length=0),this.unshift(e)}else if(r){const l=(a=this.finds(e.head.id))==null?void 0:a.prev;l?this.resetTail(l.id):(this.head=null,this.tail=null,this.length=0),this.concate(e)}}}array(){const e=[];let r=this.head;for(;r;)e.push(r),r=r.next;return e}finds(e){const r=this.map.get(e);if(r)return r.next||r.prev||this.head===r&&this.tail===r?r:void 0}contains(e){return this.finds(e)!==void 0}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}class lc{constructor(e,r,n){Pe(this,"id");Pe(this,"name");Pe(this,"roomIds");this.id=e,this.name=r,this.roomIds=n}get payload(){return{children:this.roomIds.map(e=>({id:e,type:"room"}))}}}function Cse(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function rI(t,e){return new Promise(function(r,n){let i;return Sse(t).then(function(o){try{return i=o,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return n(s)}},n)})}const Sse=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return r("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const d=s+10;let f;switch(o.getUint16(d)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(d+2,f)!==42)return r("TIFF header contains invalid version");const c=o.getUint32(d+4,f),h=d+c+2+12*o.getUint16(d+c,f);for(let p=d+c+2;p<h;p+=12)if(o.getUint16(p,f)==274){if(o.getUint16(p+2,f)!==3)return r("Orientation data type is invalid");if(o.getUint32(p+4,f)!==1)return r("Orientation data count is invalid");o.setUint16(p+8,1,f);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var Sp={},kse={get exports(){return Sp},set exports(t){Sp=t}};(function(t){var e,r,n={};kse.exports=n,n.parse=function(i,o){for(var s=n.bin.readUshort,a=n.bin.readUint,l=0,d={},f=new Uint8Array(i),c=f.length-4;a(f,c)!=101010256;)c--;l=c,l+=4;var h=s(f,l+=4);s(f,l+=2);var p=a(f,l+=2),m=a(f,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(f,l),l+=4,l+=4,l+=4,a(f,l+=4),p=a(f,l+=4);var b=a(f,l+=4),v=s(f,l+=4),x=s(f,l+2),S=s(f,l+4);l+=6;var I=a(f,l+=8);l+=4,l+=v+x+S,n._readLocal(f,I,d,p,b,o)}return d},n._readLocal=function(i,o,s,a,l,d){var f=n.bin.readUshort,c=n.bin.readUint;c(i,o),f(i,o+=4),f(i,o+=2);var h=f(i,o+=2);c(i,o+=2),c(i,o+=4),o+=4;var p=f(i,o+=8),m=f(i,o+=2);o+=2;var y=n.bin.readUTF8(i,o,p);if(o+=p,o+=m,d)s[y]={size:l,csize:a};else{var b=new Uint8Array(i.buffer,o);if(h==0)s[y]=new Uint8Array(b.buffer.slice(o,o+a));else{if(h!=8)throw"unknown compression method: "+h;var v=new Uint8Array(l);n.inflateRaw(b,v),s[y]=v}}},n.inflateRaw=function(i,o){return n.F.inflate(i,o)},n.inflate=function(i,o){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},n.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=n.F.deflateRaw(i,a,s,o.level);var l=n.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},n.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=n.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},n.encode=function(i,o){o==null&&(o=!1);var s=0,a=n.bin.writeUint,l=n.bin.writeUshort,d={};for(var f in i){var c=!n._noNeed(f)&&!o,h=i[f],p=n.crc.crc(h,0,h.length);d[f]={cpr:c,usize:h.length,crc:p,file:c?n.deflateRaw(h):h}}for(var f in d)s+=d[f].file.length+30+46+2*n.bin.sizeUTF8(f);s+=22;var m=new Uint8Array(s),y=0,b=[];for(var f in d){var v=d[f];b.push(y),y=n._writeHeader(m,y,f,v,0)}var x=0,S=y;for(var f in d)v=d[f],b.push(y),y=n._writeHeader(m,y,f,v,1,b[x++]);var I=y-S;return a(m,y,101010256),y+=4,l(m,y+=4,x),l(m,y+=2,x),a(m,y+=2,I),a(m,y+=4,S),y+=4,y+=2,m.buffer},n._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(i,o,s,a,l,d){var f=n.bin.writeUint,c=n.bin.writeUshort,h=a.file;return f(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),c(i,o,20),c(i,o+=2,0),c(i,o+=2,a.cpr?8:0),f(i,o+=2,0),f(i,o+=4,a.crc),f(i,o+=4,h.length),f(i,o+=4,a.usize),c(i,o+=4,n.bin.sizeUTF8(s)),c(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,f(i,o+=6,d),o+=4),o+=n.bin.writeUTF8(i,o,s),l==0&&(i.set(h,o),o+=h.length),o},n.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=n.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^n.crc.update(4294967295,i,o,s)}},n.adler=function(i,o,s){for(var a=1,l=0,d=o,f=o+s;d<f;){for(var c=Math.min(d+5552,f);d<c;)l+=a+=i[d++];a%=65521,l%=65521}return l<<16|a},n.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",d=0;d<s;d++)l+="%"+n.bin.pad(i[o+d].toString(16));try{a=decodeURIComponent(l)}catch{return n.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,d=0;d<a;d++){var f=s.charCodeAt(d);if(!(4294967168&f))i[o+l]=f,l++;else if(!(4294965248&f))i[o+l]=192|f>>6,i[o+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))i[o+l]=224|f>>12,i[o+l+1]=128|f>>6&63,i[o+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";i[o+l]=240|f>>18,i[o+l+1]=128|f>>12&63,i[o+l+2]=128|f>>6&63,i[o+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],d=n.F.U,f=n.F._goodIndex;n.F._hash;var c=n.F._putsE,h=0,p=s<<3,m=0,y=i.length;if(a==0){for(;h<y;)c(o,p,h+($=Math.min(65535,y-h))==y?1:0),p=n.F._copyExact(i,h,$,o,p+8),h+=$;return p>>>3}var b=d.lits,v=d.strt,x=d.prev,S=0,I=0,M=0,E=0,L=0,D=0;for(y>2&&(v[D=n.F._hash(i,0)]=0),h=0;h<y;h++){if(L=D,h+1<y-2){D=n.F._hash(i,h+1);var C=h+1&32767;x[C]=v[D],v[D]=C}if(m<=h){(S>14e3||I>26697)&&y-h>100&&(m<h&&(b[S]=h-m,S+=2,m=h),p=n.F._writeBlock(h==y-1||m==y?1:0,b,S,E,i,M,h-M,o,p),S=I=E=0,M=h);var R=0;h<y-2&&(R=n.F._bestMatch(i,h,x,L,Math.min(l[2],y-h),l[3]));var $=R>>>16,U=65535&R;if(R!=0){U=65535&R;var F=f($=R>>>16,d.of0);d.lhst[257+F]++;var z=f(U,d.df0);d.dhst[z]++,E+=d.exb[F]+d.dxb[z],b[S]=$<<23|h-m,b[S+1]=U<<16|F<<8|z,S+=2,m=h+$}else d.lhst[i[h]]++;I++}}for(M==h&&i.length!=0||(m<h&&(b[S]=h-m,S+=2,m=h),p=n.F._writeBlock(1,b,S,E,i,M,h-M,o,p),S=0,I=0,S=I=E=0,M=h);7&p;)p++;return p>>>3},n.F._bestMatch=function(i,o,s,a,l,d){var f=32767&o,c=s[f],h=f-c+32768&32767;if(c==f||a!=n.F._hash(i,o-h))return 0;for(var p=0,m=0,y=Math.min(32767,o);h<=y&&--d!=0&&c!=f;){if(p==0||i[o+p]==i[o+p-h]){var b=n.F._howLong(i,o,h);if(b>p){if(m=h,(p=b)>=l)break;h+2<b&&(b=h+2);for(var v=0,x=0;x<b-2;x++){var S=o-h+x+32768&32767,I=S-s[S]+32768&32767;I>v&&(v=I,c=S)}}}h+=(f=c)-(c=s[f])+32768&32767}return p<<16|m},n.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},n.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,o,s,a,l,d,f,c,h){var p,m,y,b,v,x,S,I,M,E=n.F.U,L=n.F._putsF,D=n.F._putsE;E.lhst[256]++,m=(p=n.F.getTrees())[0],y=p[1],b=p[2],v=p[3],x=p[4],S=p[5],I=p[6],M=p[7];var C=32+(h+3&7?8-(h+3&7):0)+(f<<3),R=a+n.F.contSize(E.fltree,E.lhst)+n.F.contSize(E.fdtree,E.dhst),$=a+n.F.contSize(E.ltree,E.lhst)+n.F.contSize(E.dtree,E.dhst);$+=14+3*S+n.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var U=0;U<286;U++)E.lhst[U]=0;for(U=0;U<30;U++)E.dhst[U]=0;for(U=0;U<19;U++)E.ihst[U]=0;var F=C<R&&C<$?0:R<$?1:2;if(L(c,h,i),L(c,h+1,F),h+=3,F==0){for(;7&h;)h++;h=n.F._copyExact(l,d,f,c,h)}else{var z,W;if(F==1&&(z=E.fltree,W=E.fdtree),F==2){n.F.makeCodes(E.ltree,m),n.F.revCodes(E.ltree,m),n.F.makeCodes(E.dtree,y),n.F.revCodes(E.dtree,y),n.F.makeCodes(E.itree,b),n.F.revCodes(E.itree,b),z=E.ltree,W=E.dtree,D(c,h,v-257),D(c,h+=5,x-1),D(c,h+=5,S-4),h+=4;for(var B=0;B<S;B++)D(c,h+3*B,E.itree[1+(E.ordr[B]<<1)]);h+=3*S,h=n.F._codeTiny(I,E.itree,c,h),h=n.F._codeTiny(M,E.itree,c,h)}for(var P=d,re=0;re<s;re+=2){for(var H=o[re],O=H>>>23,T=P+(8388607&H);P<T;)h=n.F._writeLit(l[P++],z,c,h);if(O!=0){var V=o[re+1],K=V>>16,Y=V>>8&255,Q=255&V;D(c,h=n.F._writeLit(257+Y,z,c,h),O-E.of0[Y]),h+=E.exb[Y],L(c,h=n.F._writeLit(Q,W,c,h),K-E.df0[Q]),h+=E.dxb[Q],P+=O}}h=n.F._writeLit(256,z,c,h)}return h},n.F._copyExact=function(i,o,s,a,l){var d=l>>>3;return a[d]=s,a[d+1]=s>>>8,a[d+2]=255-a[d],a[d+3]=255-a[d+1],d+=4,a.set(new Uint8Array(i.buffer,o,s),d),l+(s+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,o=n.F._hufTree(i.lhst,i.ltree,15),s=n.F._hufTree(i.dhst,i.dtree,15),a=[],l=n.F._lenCodes(i.ltree,a),d=[],f=n.F._lenCodes(i.dtree,d),c=0;c<a.length;c+=2)i.ihst[a[c]]++;for(c=0;c<d.length;c+=2)i.ihst[d[c]]++;for(var h=n.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[o,s,h,l,f,p,a,d]},n.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},n.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},n.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},n.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var d=i[l],f=i[l+1];a=n.F._writeLit(d,o,s,a);var c=d==16?2:d==17?3:7;d>15&&(n.F._putsE(s,a,f,c),a+=c)}return a},n.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],d=a+3<s?i[a+3]:-1,f=a+5<s?i[a+5]:-1,c=a==0?-1:i[a-1];if(l==0&&d==l&&f==l){for(var h=a+5;h+2<s&&i[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?o.push(17,p-3):o.push(18,p-11),a+=2*p-2}else if(l==c&&d==l&&f==l){for(h=a+5;h+2<s&&i[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);o.push(16,p-3),a+=2*p-2}else o.push(l,0)}return s>>>1},n.F._hufTree=function(i,o,s){var a=[],l=i.length,d=o.length,f=0;for(f=0;f<d;f+=2)o[f]=0,o[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&a.push({lit:f,f:i[f]});var c=a.length,h=a.slice(0);if(c==0)return 0;if(c==1){var p=a[0].lit;return h=p==0?1:0,o[1+(p<<1)]=1,o[1+(h<<1)]=1,1}a.sort(function(I,M){return I.f-M.f});var m=a[0],y=a[1],b=0,v=1,x=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};v!=c-1;)m=b!=v&&(x==c||a[b].f<a[x].f)?a[b++]:a[x++],y=b!=v&&(x==c||a[b].f<a[x].f)?a[b++]:a[x++],a[v++]={lit:-1,f:m.f+y.f,l:m,r:y};var S=n.F.setDepth(a[v-1],0);for(S>s&&(n.F.restrictDepth(h,s,S),S=s),f=0;f<c;f++)o[1+(h[f].lit<<1)]=h[f].d;return S},n.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(n.F.setDepth(i.l,o+1),n.F.setDepth(i.r,o+1))},n.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,d=0;for(i.sort(function(c,h){return h.d==c.d?c.f-h.f:h.d-c.d}),a=0;a<i.length&&i[a].d>o;a++){var f=i[a].d;i[a].d=o,d+=l-(1<<s-f)}for(d>>>=s-o;d>0;)(f=i[a].d)<o?(i[a].d++,d-=1<<o-f-1):a++;for(;a>=0;a--)i[a].d==o&&d<0&&(i[a].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},n.F._writeLit=function(i,o,s,a){return n.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},n.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=n.F,l=a._bitsF,d=a._bitsE,f=a._decodeTiny,c=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=o==null;y&&(o=new s(i.length>>>2<<3));for(var b,v,x=0,S=0,I=0,M=0,E=0,L=0,D=0,C=0,R=0;x==0;)if(x=l(i,R,1),S=l(i,R+1,2),R+=3,S!=0){if(y&&(o=n.F._check(o,C+(1<<17))),S==1&&(b=m.flmap,v=m.fdmap,L=511,D=31),S==2){I=d(i,R,5)+257,M=d(i,R+5,5)+1,E=d(i,R+10,4)+4,R+=14;for(var $=0;$<38;$+=2)m.itree[$]=0,m.itree[$+1]=0;var U=1;for($=0;$<E;$++){var F=d(i,R+3*$,3);m.itree[1+(m.ordr[$]<<1)]=F,F>U&&(U=F)}R+=3*E,c(m.itree,U),h(m.itree,U,m.imap),b=m.lmap,v=m.dmap,R=f(m.imap,(1<<U)-1,I+M,i,R,m.ttree);var z=a._copyOut(m.ttree,0,I,m.ltree);L=(1<<z)-1;var W=a._copyOut(m.ttree,I,M,m.dtree);D=(1<<W)-1,c(m.ltree,z),h(m.ltree,z,b),c(m.dtree,W),h(m.dtree,W,v)}for(;;){var B=b[p(i,R)&L];R+=15&B;var P=B>>>4;if(!(P>>>8))o[C++]=P;else{if(P==256)break;var re=C+P-254;if(P>264){var H=m.ldef[P-257];re=C+(H>>>3)+d(i,R,7&H),R+=7&H}var O=v[p(i,R)&D];R+=15&O;var T=O>>>4,V=m.ddef[T],K=(V>>>4)+l(i,R,15&V);for(R+=15&V,y&&(o=n.F._check(o,C+(1<<17)));C<re;)o[C]=o[C++-K],o[C]=o[C++-K],o[C]=o[C++-K],o[C]=o[C++-K];C=re}}}else{7&R&&(R+=8-(7&R));var Y=4+(R>>>3),Q=i[Y-4]|i[Y-3]<<8;y&&(o=n.F._check(o,C+Q)),o.set(new s(i.buffer,i.byteOffset+Y,Q),C),R=Y+Q<<3,C+=Q}return o.length==C?o:o.slice(0,C)},n.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},n.F._decodeTiny=function(i,o,s,a,l,d){for(var f=n.F._bitsE,c=n.F._get17,h=0;h<s;){var p=i[c(a,l)&o];l+=15&p;var m=p>>>4;if(m<=15)d[h]=m,h++;else{var y=0,b=0;m==16?(b=3+f(a,l,2),l+=2,y=d[h-1]):m==17?(b=3+f(a,l,3),l+=3):m==18&&(b=11+f(a,l,7),l+=7);for(var v=h+b;h<v;)d[h]=y,h++}}return l},n.F._copyOut=function(i,o,s,a){for(var l=0,d=0,f=a.length>>>1;d<s;){var c=i[d+o];a[d<<1]=0,a[1+(d<<1)]=c,c>l&&(l=c),d++}for(;d<f;)a[d<<1]=0,a[1+(d<<1)]=0,d++;return l},n.F.makeCodes=function(i,o){for(var s,a,l,d,f=n.F.U,c=i.length,h=f.bl_count,p=0;p<=o;p++)h[p]=0;for(p=1;p<c;p+=2)h[i[p]]++;var m=f.next_code;for(s=0,h[0]=0,a=1;a<=o;a++)s=s+h[a-1]<<1,m[a]=s;for(l=0;l<c;l+=2)(d=i[l+1])!=0&&(i[l]=m[d],m[d]++)},n.F.codes2map=function(i,o,s){for(var a=i.length,l=n.F.U.rev15,d=0;d<a;d+=2)if(i[d+1]!=0)for(var f=d>>1,c=i[d+1],h=f<<4|c,p=o-c,m=i[d]<<p,y=m+(1<<p);m!=y;)s[l[m]>>>15-o]=h,m++},n.F.revCodes=function(i,o){for(var s=n.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var d=i[l]<<o-i[l+1];i[l]=s[d]>>>a}},n.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},n.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},n.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},n.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},n.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,d,f){for(;d--!=0;)l.push(0,f)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),a(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Ise=Cse({__proto__:null,default:Sp},[Sp]);const Li=function(){var t={nextZero(f,c){for(;f[c]!=0;)c++;return c},readUshort:(f,c)=>f[c]<<8|f[c+1],writeUshort(f,c,h){f[c]=h>>8&255,f[c+1]=255&h},readUint:(f,c)=>16777216*f[c]+(f[c+1]<<16|f[c+2]<<8|f[c+3]),writeUint(f,c,h){f[c]=h>>24&255,f[c+1]=h>>16&255,f[c+2]=h>>8&255,f[c+3]=255&h},readASCII(f,c,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(f[c+m]);return p},writeASCII(f,c,h){for(let p=0;p<h.length;p++)f[c+p]=h.charCodeAt(p)},readBytes(f,c,h){const p=[];for(let m=0;m<h;m++)p.push(f[c+m]);return p},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,c,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(f[c+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(f,c,h)}return p}};function e(f,c,h,p){const m=c*h,y=o(p),b=Math.ceil(c*y/8),v=new Uint8Array(4*m),x=new Uint32Array(v.buffer),{ctype:S}=p,{depth:I}=p,M=t.readUshort;if(S==6){const H=m<<2;if(I==8)for(var E=0;E<H;E+=4)v[E]=f[E],v[E+1]=f[E+1],v[E+2]=f[E+2],v[E+3]=f[E+3];if(I==16)for(E=0;E<H;E++)v[E]=f[E<<1]}else if(S==2){const H=p.tabs.tRNS;if(H==null){if(I==8)for(E=0;E<m;E++){var L=3*E;x[E]=255<<24|f[L+2]<<16|f[L+1]<<8|f[L]}if(I==16)for(E=0;E<m;E++)L=6*E,x[E]=255<<24|f[L+4]<<16|f[L+2]<<8|f[L]}else{var D=H[0];const O=H[1],T=H[2];if(I==8)for(E=0;E<m;E++){var C=E<<2;L=3*E,x[E]=255<<24|f[L+2]<<16|f[L+1]<<8|f[L],f[L]==D&&f[L+1]==O&&f[L+2]==T&&(v[C+3]=0)}if(I==16)for(E=0;E<m;E++)C=E<<2,L=6*E,x[E]=255<<24|f[L+4]<<16|f[L+2]<<8|f[L],M(f,L)==D&&M(f,L+2)==O&&M(f,L+4)==T&&(v[C+3]=0)}}else if(S==3){const H=p.tabs.PLTE,O=p.tabs.tRNS,T=O?O.length:0;if(I==1)for(var R=0;R<h;R++){var $=R*b,U=R*c;for(E=0;E<c;E++){C=U+E<<2;var F=3*(z=f[$+(E>>3)]>>7-((7&E)<<0)&1);v[C]=H[F],v[C+1]=H[F+1],v[C+2]=H[F+2],v[C+3]=z<T?O[z]:255}}if(I==2)for(R=0;R<h;R++)for($=R*b,U=R*c,E=0;E<c;E++)C=U+E<<2,F=3*(z=f[$+(E>>2)]>>6-((3&E)<<1)&3),v[C]=H[F],v[C+1]=H[F+1],v[C+2]=H[F+2],v[C+3]=z<T?O[z]:255;if(I==4)for(R=0;R<h;R++)for($=R*b,U=R*c,E=0;E<c;E++)C=U+E<<2,F=3*(z=f[$+(E>>1)]>>4-((1&E)<<2)&15),v[C]=H[F],v[C+1]=H[F+1],v[C+2]=H[F+2],v[C+3]=z<T?O[z]:255;if(I==8)for(E=0;E<m;E++){var z;C=E<<2,F=3*(z=f[E]),v[C]=H[F],v[C+1]=H[F+1],v[C+2]=H[F+2],v[C+3]=z<T?O[z]:255}}else if(S==4){if(I==8)for(E=0;E<m;E++){C=E<<2;var W=f[B=E<<1];v[C]=W,v[C+1]=W,v[C+2]=W,v[C+3]=f[B+1]}if(I==16)for(E=0;E<m;E++){var B;C=E<<2,W=f[B=E<<2],v[C]=W,v[C+1]=W,v[C+2]=W,v[C+3]=f[B+2]}}else if(S==0)for(D=p.tabs.tRNS?p.tabs.tRNS:-1,R=0;R<h;R++){const H=R*b,O=R*c;if(I==1)for(var P=0;P<c;P++){var re=(W=255*(f[H+(P>>>3)]>>>7-(7&P)&1))==255*D?0:255;x[O+P]=re<<24|W<<16|W<<8|W}else if(I==2)for(P=0;P<c;P++)re=(W=85*(f[H+(P>>>2)]>>>6-((3&P)<<1)&3))==85*D?0:255,x[O+P]=re<<24|W<<16|W<<8|W;else if(I==4)for(P=0;P<c;P++)re=(W=17*(f[H+(P>>>1)]>>>4-((1&P)<<2)&15))==17*D?0:255,x[O+P]=re<<24|W<<16|W<<8|W;else if(I==8)for(P=0;P<c;P++)re=(W=f[H+P])==D?0:255,x[O+P]=re<<24|W<<16|W<<8|W;else if(I==16)for(P=0;P<c;P++)W=f[H+(P<<1)],re=M(f,H+(P<<1))==D?0:255,x[O+P]=re<<24|W<<16|W<<8|W}return v}function r(f,c,h,p){const m=o(f),y=Math.ceil(h*m/8),b=new Uint8Array((y+1+f.interlace)*p);return c=f.tabs.CgBI?i(c,b):n(c,b),f.interlace==0?c=s(c,f,0,h,p):f.interlace==1&&(c=function(x,S){const I=S.width,M=S.height,E=o(S),L=E>>3,D=Math.ceil(I*E/8),C=new Uint8Array(M*D);let R=0;const $=[0,0,4,0,2,0,1],U=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],z=[8,8,4,4,2,2,1];let W=0;for(;W<7;){const P=F[W],re=z[W];let H=0,O=0,T=$[W];for(;T<M;)T+=P,O++;let V=U[W];for(;V<I;)V+=re,H++;const K=Math.ceil(H*E/8);s(x,S,R,H,O);let Y=0,Q=$[W];for(;Q<M;){let ue=U[W],J=R+Y*K<<3;for(;ue<I;){var B;if(E==1&&(B=(B=x[J>>3])>>7-(7&J)&1,C[Q*D+(ue>>3)]|=B<<7-((7&ue)<<0)),E==2&&(B=(B=x[J>>3])>>6-(7&J)&3,C[Q*D+(ue>>2)]|=B<<6-((3&ue)<<1)),E==4&&(B=(B=x[J>>3])>>4-(7&J)&15,C[Q*D+(ue>>1)]|=B<<4-((1&ue)<<2)),E>=8){const oe=Q*D+ue*L;for(let se=0;se<L;se++)C[oe+se]=x[(J>>3)+se]}J+=E,ue+=re}Y++,Q+=P}H*O!=0&&(R+=O*(1+K)),W+=1}return C}(c,f)),c}function n(f,c){return i(new Uint8Array(f.buffer,2,f.length-6),c)}var i=function(){const f={H:{}};return f.H.N=function(c,h){const p=Uint8Array;let m,y,b=0,v=0,x=0,S=0,I=0,M=0,E=0,L=0,D=0;if(c[0]==3&&c[1]==0)return h||new p(0);const C=f.H,R=C.b,$=C.e,U=C.R,F=C.n,z=C.A,W=C.Z,B=C.m,P=h==null;for(P&&(h=new p(c.length>>>2<<5));b==0;)if(b=R(c,D,1),v=R(c,D+1,2),D+=3,v!=0){if(P&&(h=f.H.W(h,L+(1<<17))),v==1&&(m=B.J,y=B.h,M=511,E=31),v==2){x=$(c,D,5)+257,S=$(c,D+5,5)+1,I=$(c,D+10,4)+4,D+=14;let H=1;for(var re=0;re<38;re+=2)B.Q[re]=0,B.Q[re+1]=0;for(re=0;re<I;re++){const V=$(c,D+3*re,3);B.Q[1+(B.X[re]<<1)]=V,V>H&&(H=V)}D+=3*I,F(B.Q,H),z(B.Q,H,B.u),m=B.w,y=B.d,D=U(B.u,(1<<H)-1,x+S,c,D,B.v);const O=C.V(B.v,0,x,B.C);M=(1<<O)-1;const T=C.V(B.v,x,S,B.D);E=(1<<T)-1,F(B.C,O),z(B.C,O,m),F(B.D,T),z(B.D,T,y)}for(;;){const H=m[W(c,D)&M];D+=15&H;const O=H>>>4;if(!(O>>>8))h[L++]=O;else{if(O==256)break;{let T=L+O-254;if(O>264){const ue=B.q[O-257];T=L+(ue>>>3)+$(c,D,7&ue),D+=7&ue}const V=y[W(c,D)&E];D+=15&V;const K=V>>>4,Y=B.c[K],Q=(Y>>>4)+R(c,D,15&Y);for(D+=15&Y;L<T;)h[L]=h[L++-Q],h[L]=h[L++-Q],h[L]=h[L++-Q],h[L]=h[L++-Q];L=T}}}}else{7&D&&(D+=8-(7&D));const H=4+(D>>>3),O=c[H-4]|c[H-3]<<8;P&&(h=f.H.W(h,L+O)),h.set(new p(c.buffer,c.byteOffset+H,O),L),D=H+O<<3,L+=O}return h.length==L?h:h.slice(0,L)},f.H.W=function(c,h){const p=c.length;if(h<=p)return c;const m=new Uint8Array(p<<1);return m.set(c,0),m},f.H.R=function(c,h,p,m,y,b){const v=f.H.e,x=f.H.Z;let S=0;for(;S<p;){const I=c[x(m,y)&h];y+=15&I;const M=I>>>4;if(M<=15)b[S]=M,S++;else{let E=0,L=0;M==16?(L=3+v(m,y,2),y+=2,E=b[S-1]):M==17?(L=3+v(m,y,3),y+=3):M==18&&(L=11+v(m,y,7),y+=7);const D=S+L;for(;S<D;)b[S]=E,S++}}return y},f.H.V=function(c,h,p,m){let y=0,b=0;const v=m.length>>>1;for(;b<p;){const x=c[b+h];m[b<<1]=0,m[1+(b<<1)]=x,x>y&&(y=x),b++}for(;b<v;)m[b<<1]=0,m[1+(b<<1)]=0,b++;return y},f.H.n=function(c,h){const p=f.H.m,m=c.length;let y,b,v,x;const S=p.j;for(var I=0;I<=h;I++)S[I]=0;for(I=1;I<m;I+=2)S[c[I]]++;const M=p.K;for(y=0,S[0]=0,b=1;b<=h;b++)y=y+S[b-1]<<1,M[b]=y;for(v=0;v<m;v+=2)x=c[v+1],x!=0&&(c[v]=M[x],M[x]++)},f.H.A=function(c,h,p){const m=c.length,y=f.H.m.r;for(let b=0;b<m;b+=2)if(c[b+1]!=0){const v=b>>1,x=c[b+1],S=v<<4|x,I=h-x;let M=c[b]<<I;const E=M+(1<<I);for(;M!=E;)p[y[M]>>>15-h]=S,M++}},f.H.l=function(c,h){const p=f.H.m.r,m=15-h;for(let y=0;y<c.length;y+=2){const b=c[y]<<h-c[y+1];c[y]=p[b]>>>m}},f.H.M=function(c,h,p){p<<=7&h;const m=h>>>3;c[m]|=p,c[m+1]|=p>>>8},f.H.I=function(c,h,p){p<<=7&h;const m=h>>>3;c[m]|=p,c[m+1]|=p>>>8,c[m+2]|=p>>>16},f.H.e=function(c,h,p){return(c[h>>>3]|c[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},f.H.b=function(c,h,p){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},f.H.Z=function(c,h){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16)>>>(7&h)},f.H.i=function(c,h){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16|c[3+(h>>>3)]<<24)>>>(7&h)},f.H.m=function(){const c=Uint16Array,h=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=f.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,c.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,b){for(;y--!=0;)m.push(0,b)}for(h=0;h<32;h++)c.q[h]=c.S[h]<<3|c.T[h],c.c[h]=c.p[h]<<4|c.z[h];p(c._,144,8),p(c._,112,9),p(c._,24,7),p(c._,8,8),f.H.n(c._,9),f.H.A(c._,9,c.J),f.H.l(c._,9),p(c.$,32,5),f.H.n(c.$,5),f.H.A(c.$,5,c.h),f.H.l(c.$,5),p(c.Q,19,0),p(c.C,286,0),p(c.D,30,0),p(c.v,320,0)}(),f.H.N}();function o(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function s(f,c,h,p,m){let y=o(c);const b=Math.ceil(p*y/8);let v,x;y=Math.ceil(y/8);let S=f[h],I=0;if(S>1&&(f[h]=[0,0,1][S-2]),S==3)for(I=y;I<b;I++)f[I+1]=f[I+1]+(f[I+1-y]>>>1)&255;for(let M=0;M<m;M++)if(v=h+M*b,x=v+M+1,S=f[x-1],I=0,S==0)for(;I<b;I++)f[v+I]=f[x+I];else if(S==1){for(;I<y;I++)f[v+I]=f[x+I];for(;I<b;I++)f[v+I]=f[x+I]+f[v+I-y]}else if(S==2)for(;I<b;I++)f[v+I]=f[x+I]+f[v+I-b];else if(S==3){for(;I<y;I++)f[v+I]=f[x+I]+(f[v+I-b]>>>1);for(;I<b;I++)f[v+I]=f[x+I]+(f[v+I-b]+f[v+I-y]>>>1)}else{for(;I<y;I++)f[v+I]=f[x+I]+a(0,f[v+I-b],0);for(;I<b;I++)f[v+I]=f[x+I]+a(f[v+I-y],f[v+I-b],f[v+I-y-b])}return f}function a(f,c,h){const p=f+c-h,m=p-f,y=p-c,b=p-h;return m*m<=y*y&&m*m<=b*b?f:y*y<=b*b?c:h}function l(f,c,h){h.width=t.readUint(f,c),c+=4,h.height=t.readUint(f,c),c+=4,h.depth=f[c],c++,h.ctype=f[c],c++,h.compress=f[c],c++,h.filter=f[c],c++,h.interlace=f[c],c++}function d(f,c,h,p,m,y,b,v,x){const S=Math.min(c,m),I=Math.min(h,y);let M=0,E=0;for(let W=0;W<I;W++)for(let B=0;B<S;B++)if(b>=0&&v>=0?(M=W*c+B<<2,E=(v+W)*m+b+B<<2):(M=(-v+W)*c-b+B<<2,E=W*m+B<<2),x==0)p[E]=f[M],p[E+1]=f[M+1],p[E+2]=f[M+2],p[E+3]=f[M+3];else if(x==1){var L=f[M+3]*.00392156862745098,D=f[M]*L,C=f[M+1]*L,R=f[M+2]*L,$=p[E+3]*(1/255),U=p[E]*$,F=p[E+1]*$,z=p[E+2]*$;const P=1-L,re=L+$*P,H=re==0?0:1/re;p[E+3]=255*re,p[E+0]=(D+U*P)*H,p[E+1]=(C+F*P)*H,p[E+2]=(R+z*P)*H}else if(x==2)L=f[M+3],D=f[M],C=f[M+1],R=f[M+2],$=p[E+3],U=p[E],F=p[E+1],z=p[E+2],L==$&&D==U&&C==F&&R==z?(p[E]=0,p[E+1]=0,p[E+2]=0,p[E+3]=0):(p[E]=D,p[E+1]=C,p[E+2]=R,p[E+3]=L);else if(x==3){if(L=f[M+3],D=f[M],C=f[M+1],R=f[M+2],$=p[E+3],U=p[E],F=p[E+1],z=p[E+2],L==$&&D==U&&C==F&&R==z)continue;if(L<220&&$>20)return!1}return!0}return{decode:function(c){const h=new Uint8Array(c);let p=8;const m=t,y=m.readUshort,b=m.readUint,v={tabs:{},frames:[]},x=new Uint8Array(h.length);let S,I=0,M=0;const E=[137,80,78,71,13,10,26,10];for(var L=0;L<8;L++)if(h[L]!=E[L])throw"The input is not a PNG file!";for(;p<h.length;){const W=m.readUint(h,p);p+=4;const B=m.readASCII(h,p,4);if(p+=4,B=="IHDR")l(h,p,v);else if(B=="iCCP"){for(var D=p;h[D]!=0;)D++;m.readASCII(h,p,D-p),h[D+1];const P=h.slice(D+2,p+W);let re=null;try{re=n(P)}catch{re=i(P)}v.tabs[B]=re}else if(B=="CgBI")v.tabs[B]=h.slice(p,p+4);else if(B=="IDAT"){for(L=0;L<W;L++)x[I+L]=h[p+L];I+=W}else if(B=="acTL")v.tabs[B]={num_frames:b(h,p),num_plays:b(h,p+4)},S=new Uint8Array(h.length);else if(B=="fcTL"){M!=0&&((z=v.frames[v.frames.length-1]).data=r(v,S.slice(0,M),z.rect.width,z.rect.height),M=0);const P={x:b(h,p+12),y:b(h,p+16),width:b(h,p+4),height:b(h,p+8)};let re=y(h,p+22);re=y(h,p+20)/(re==0?100:re);const H={rect:P,delay:Math.round(1e3*re),dispose:h[p+24],blend:h[p+25]};v.frames.push(H)}else if(B=="fdAT"){for(L=0;L<W-4;L++)S[M+L]=h[p+L+4];M+=W-4}else if(B=="pHYs")v.tabs[B]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(B=="cHRM")for(v.tabs[B]=[],L=0;L<8;L++)v.tabs[B].push(m.readUint(h,p+4*L));else if(B=="tEXt"||B=="zTXt"){v.tabs[B]==null&&(v.tabs[B]={});var C=m.nextZero(h,p),R=m.readASCII(h,p,C-p),$=p+W-C-1;if(B=="tEXt")F=m.readASCII(h,C+1,$);else{var U=n(h.slice(C+2,C+2+$));F=m.readUTF8(U,0,U.length)}v.tabs[B][R]=F}else if(B=="iTXt"){v.tabs[B]==null&&(v.tabs[B]={}),C=0,D=p,C=m.nextZero(h,D),R=m.readASCII(h,D,C-D);const P=h[D=C+1];var F;h[D+1],D+=2,C=m.nextZero(h,D),m.readASCII(h,D,C-D),D=C+1,C=m.nextZero(h,D),m.readUTF8(h,D,C-D),$=W-((D=C+1)-p),P==0?F=m.readUTF8(h,D,$):(U=n(h.slice(D,D+$)),F=m.readUTF8(U,0,U.length)),v.tabs[B][R]=F}else if(B=="PLTE")v.tabs[B]=m.readBytes(h,p,W);else if(B=="hIST"){const P=v.tabs.PLTE.length/3;for(v.tabs[B]=[],L=0;L<P;L++)v.tabs[B].push(y(h,p+2*L))}else if(B=="tRNS")v.ctype==3?v.tabs[B]=m.readBytes(h,p,W):v.ctype==0?v.tabs[B]=y(h,p):v.ctype==2&&(v.tabs[B]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(B=="gAMA")v.tabs[B]=m.readUint(h,p)/1e5;else if(B=="sRGB")v.tabs[B]=h[p];else if(B=="bKGD")v.ctype==0||v.ctype==4?v.tabs[B]=[y(h,p)]:v.ctype==2||v.ctype==6?v.tabs[B]=[y(h,p),y(h,p+2),y(h,p+4)]:v.ctype==3&&(v.tabs[B]=h[p]);else if(B=="IEND")break;p+=W,m.readUint(h,p),p+=4}var z;return M!=0&&((z=v.frames[v.frames.length-1]).data=r(v,S.slice(0,M),z.rect.width,z.rect.height)),v.data=r(v,x,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(c){const h=c.width,p=c.height;if(c.tabs.acTL==null)return[e(c.data,h,p,c).buffer];const m=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const y=h*p*4,b=new Uint8Array(y),v=new Uint8Array(y),x=new Uint8Array(y);for(let I=0;I<c.frames.length;I++){const M=c.frames[I],E=M.rect.x,L=M.rect.y,D=M.rect.width,C=M.rect.height,R=e(M.data,D,C,c);if(I!=0)for(var S=0;S<y;S++)x[S]=b[S];if(M.blend==0?d(R,D,C,b,h,p,E,L,0):M.blend==1&&d(R,D,C,b,h,p,E,L,1),m.push(b.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)d(v,D,C,b,h,p,E,L,0);else if(M.dispose==2)for(S=0;S<y;S++)b[S]=x[S]}}return m},_paeth:a,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=Li,{_bin:e}=Li,r=Li._paeth;var n={table:function(){const D=new Uint32Array(256);for(let C=0;C<256;C++){let R=C;for(let $=0;$<8;$++)1&R?R=3988292384^R>>>1:R>>>=1;D[C]=R}return D}(),update(D,C,R,$){for(let U=0;U<$;U++)D=n.table[255&(D^C[R+U])]^D>>>8;return D},crc:(D,C,R)=>4294967295^n.update(4294967295,D,C,R)};function i(D,C,R,$){C[R]+=D[0]*$>>4,C[R+1]+=D[1]*$>>4,C[R+2]+=D[2]*$>>4,C[R+3]+=D[3]*$>>4}function o(D){return Math.max(0,Math.min(255,D))}function s(D,C){const R=D[0]-C[0],$=D[1]-C[1],U=D[2]-C[2],F=D[3]-C[3];return R*R+$*$+U*U+F*F}function a(D,C,R,$,U,F,z){z==null&&(z=1);const W=$.length,B=[];for(var P=0;P<W;P++){const Q=$[P];B.push([Q>>>0&255,Q>>>8&255,Q>>>16&255,Q>>>24&255])}for(P=0;P<W;P++){let Q=4294967295;for(var re=0,H=0;H<W;H++){var O=s(B[P],B[H]);H!=P&&O<Q&&(Q=O,re=H)}}const T=new Uint32Array(U.buffer),V=new Int16Array(C*R*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<K.length;P++)K[P]=255*((K[P]+.5)/16-.5);for(let Q=0;Q<R;Q++)for(let ue=0;ue<C;ue++){var Y;P=4*(Q*C+ue),z!=2?Y=[o(D[P]+V[P]),o(D[P+1]+V[P+1]),o(D[P+2]+V[P+2]),o(D[P+3]+V[P+3])]:(O=K[4*(3&Q)+(3&ue)],Y=[o(D[P]+O),o(D[P+1]+O),o(D[P+2]+O),o(D[P+3]+O)]),re=0;let J=16777215;for(H=0;H<W;H++){const le=s(Y,B[H]);le<J&&(J=le,re=H)}const oe=B[re],se=[Y[0]-oe[0],Y[1]-oe[1],Y[2]-oe[2],Y[3]-oe[3]];z==1&&(ue!=C-1&&i(se,V,P+4,7),Q!=R-1&&(ue!=0&&i(se,V,P+4*C-4,3),i(se,V,P+4*C,5),ue!=C-1&&i(se,V,P+4*C+4,1))),F[P>>2]=re,T[P>>2]=$[re]}}function l(D,C,R,$,U){U==null&&(U={});const{crc:F}=n,z=e.writeUint,W=e.writeUshort,B=e.writeASCII;let P=8;const re=D.frames.length>1;let H,O=!1,T=33+(re?20:0);if(U.sRGB!=null&&(T+=13),U.pHYs!=null&&(T+=21),U.iCCP!=null&&(H=pako.deflate(U.iCCP),T+=21+H.length+4),D.ctype==3){for(var V=D.plte.length,K=0;K<V;K++)D.plte[K]>>>24!=255&&(O=!0);T+=8+3*V+4+(O?8+1*V+4:0)}for(var Y=0;Y<D.frames.length;Y++)re&&(T+=38),T+=(oe=D.frames[Y]).cimg.length+12,Y!=0&&(T+=4);T+=12;const Q=new Uint8Array(T),ue=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)Q[K]=ue[K];if(z(Q,P,13),P+=4,B(Q,P,"IHDR"),P+=4,z(Q,P,C),P+=4,z(Q,P,R),P+=4,Q[P]=D.depth,P++,Q[P]=D.ctype,P++,Q[P]=0,P++,Q[P]=0,P++,Q[P]=0,P++,z(Q,P,F(Q,P-17,17)),P+=4,U.sRGB!=null&&(z(Q,P,1),P+=4,B(Q,P,"sRGB"),P+=4,Q[P]=U.sRGB,P++,z(Q,P,F(Q,P-5,5)),P+=4),U.iCCP!=null){const se=13+H.length;z(Q,P,se),P+=4,B(Q,P,"iCCP"),P+=4,B(Q,P,"ICC profile"),P+=11,P+=2,Q.set(H,P),P+=H.length,z(Q,P,F(Q,P-(se+4),se+4)),P+=4}if(U.pHYs!=null&&(z(Q,P,9),P+=4,B(Q,P,"pHYs"),P+=4,z(Q,P,U.pHYs[0]),P+=4,z(Q,P,U.pHYs[1]),P+=4,Q[P]=U.pHYs[2],P++,z(Q,P,F(Q,P-13,13)),P+=4),re&&(z(Q,P,8),P+=4,B(Q,P,"acTL"),P+=4,z(Q,P,D.frames.length),P+=4,z(Q,P,U.loop!=null?U.loop:0),P+=4,z(Q,P,F(Q,P-12,12)),P+=4),D.ctype==3){for(z(Q,P,3*(V=D.plte.length)),P+=4,B(Q,P,"PLTE"),P+=4,K=0;K<V;K++){const se=3*K,le=D.plte[K],ge=255&le,we=le>>>8&255,Ie=le>>>16&255;Q[P+se+0]=ge,Q[P+se+1]=we,Q[P+se+2]=Ie}if(P+=3*V,z(Q,P,F(Q,P-3*V-4,3*V+4)),P+=4,O){for(z(Q,P,V),P+=4,B(Q,P,"tRNS"),P+=4,K=0;K<V;K++)Q[P+K]=D.plte[K]>>>24&255;P+=V,z(Q,P,F(Q,P-V-4,V+4)),P+=4}}let J=0;for(Y=0;Y<D.frames.length;Y++){var oe=D.frames[Y];re&&(z(Q,P,26),P+=4,B(Q,P,"fcTL"),P+=4,z(Q,P,J++),P+=4,z(Q,P,oe.rect.width),P+=4,z(Q,P,oe.rect.height),P+=4,z(Q,P,oe.rect.x),P+=4,z(Q,P,oe.rect.y),P+=4,W(Q,P,$[Y]),P+=2,W(Q,P,1e3),P+=2,Q[P]=oe.dispose,P++,Q[P]=oe.blend,P++,z(Q,P,F(Q,P-30,30)),P+=4);const se=oe.cimg;z(Q,P,(V=se.length)+(Y==0?0:4)),P+=4;const le=P;B(Q,P,Y==0?"IDAT":"fdAT"),P+=4,Y!=0&&(z(Q,P,J++),P+=4),Q.set(se,P),P+=V,z(Q,P,F(Q,le,P-le)),P+=4}return z(Q,P,0),P+=4,B(Q,P,"IEND"),P+=4,z(Q,P,F(Q,P-4,4)),P+=4,Q.buffer}function d(D,C,R){for(let $=0;$<D.frames.length;$++){const U=D.frames[$];U.rect.width;const F=U.rect.height,z=new Uint8Array(F*U.bpl+F);U.cimg=p(U.img,F,U.bpp,U.bpl,z,C,R)}}function f(D,C,R,$,U){const F=U[0],z=U[1],W=U[2],B=U[3],P=U[4],re=U[5];let H=6,O=8,T=255;for(var V=0;V<D.length;V++){const We=new Uint8Array(D[V]);for(var K=We.length,Y=0;Y<K;Y+=4)T&=We[Y+3]}const Q=T!=255,ue=function(pe,Ee,Fe,j,q,fe){const Ae=[];for(var Me=0;Me<pe.length;Me++){const at=new Uint8Array(pe[Me]),_t=new Uint32Array(at.buffer);var Be;let Ke=0,Pt=0,vt=Ee,lr=Fe,dr=j?1:0;if(Me!=0){const Bi=fe||j||Me==1||Ae[Me-2].dispose!=0?1:2;let uo=0,fo=1e9;for(let Ri=0;Ri<Bi;Ri++){var Qe=new Uint8Array(pe[Me-1-Ri]);const ho=new Uint32Array(pe[Me-1-Ri]);let Ur=Ee,jr=Fe,ui=-1,zn=-1;for(let $n=0;$n<Fe;$n++)for(let ln=0;ln<Ee;ln++)_t[xe=$n*Ee+ln]!=ho[xe]&&(ln<Ur&&(Ur=ln),ln>ui&&(ui=ln),$n<jr&&(jr=$n),$n>zn&&(zn=$n));ui==-1&&(Ur=jr=ui=zn=0),q&&((1&Ur)==1&&Ur--,(1&jr)==1&&jr--);const nr=(ui-Ur+1)*(zn-jr+1);nr<fo&&(fo=nr,uo=Ri,Ke=Ur,Pt=jr,vt=ui-Ur+1,lr=zn-jr+1)}Qe=new Uint8Array(pe[Me-1-uo]),uo==1&&(Ae[Me-1].dispose=2),Be=new Uint8Array(vt*lr*4),t(Qe,Ee,Fe,Be,vt,lr,-Ke,-Pt,0),dr=t(at,Ee,Fe,Be,vt,lr,-Ke,-Pt,3)?1:0,dr==1?h(at,Ee,Fe,Be,{x:Ke,y:Pt,width:vt,height:lr}):t(at,Ee,Fe,Be,vt,lr,-Ke,-Pt,0)}else Be=at.slice(0);Ae.push({rect:{x:Ke,y:Pt,width:vt,height:lr},img:Be,blend:dr,dispose:0})}if(j)for(Me=0;Me<Ae.length;Me++){if((Ge=Ae[Me]).blend==1)continue;const at=Ge.rect,_t=Ae[Me-1].rect,Ke=Math.min(at.x,_t.x),Pt=Math.min(at.y,_t.y),vt={x:Ke,y:Pt,width:Math.max(at.x+at.width,_t.x+_t.width)-Ke,height:Math.max(at.y+at.height,_t.y+_t.height)-Pt};Ae[Me-1].dispose=1,Me-1!=0&&c(pe,Ee,Fe,Ae,Me-1,vt,q),c(pe,Ee,Fe,Ae,Me,vt,q)}let me=0;if(pe.length!=1)for(var xe=0;xe<Ae.length;xe++){var Ge;me+=(Ge=Ae[xe]).rect.width*Ge.rect.height}return Ae}(D,C,R,F,z,W),J={},oe=[],se=[];if($!=0){const We=[];for(Y=0;Y<ue.length;Y++)We.push(ue[Y].img.buffer);const pe=function(q){let fe=0;for(var Ae=0;Ae<q.length;Ae++)fe+=q[Ae].byteLength;const Me=new Uint8Array(fe);let Be=0;for(Ae=0;Ae<q.length;Ae++){const Qe=new Uint8Array(q[Ae]),me=Qe.length;for(let xe=0;xe<me;xe+=4){let Ge=Qe[xe],at=Qe[xe+1],_t=Qe[xe+2];const Ke=Qe[xe+3];Ke==0&&(Ge=at=_t=0),Me[Be+xe]=Ge,Me[Be+xe+1]=at,Me[Be+xe+2]=_t,Me[Be+xe+3]=Ke}Be+=me}return Me.buffer}(We),Ee=y(pe,$);for(Y=0;Y<Ee.plte.length;Y++)oe.push(Ee.plte[Y].est.rgba);let Fe=0;for(Y=0;Y<ue.length;Y++){const j=(ge=ue[Y]).img.length;var le=new Uint8Array(Ee.inds.buffer,Fe>>2,j>>2);se.push(le);const q=new Uint8Array(Ee.abuf,Fe,j);re&&a(ge.img,ge.rect.width,ge.rect.height,oe,q,le),ge.img.set(q),Fe+=j}}else for(V=0;V<ue.length;V++){var ge=ue[V];const We=new Uint32Array(ge.img.buffer);var we=ge.rect.width;for(K=We.length,le=new Uint8Array(K),se.push(le),Y=0;Y<K;Y++){const pe=We[Y];if(Y!=0&&pe==We[Y-1])le[Y]=le[Y-1];else if(Y>we&&pe==We[Y-we])le[Y]=le[Y-we];else{let Ee=J[pe];if(Ee==null&&(J[pe]=Ee=oe.length,oe.push(pe),oe.length>=300))break;le[Y]=Ee}}}const Ie=oe.length;for(Ie<=256&&P==0&&(O=Ie<=2?1:Ie<=4?2:Ie<=16?4:8,O=Math.max(O,B)),V=0;V<ue.length;V++){(ge=ue[V]).rect.x,ge.rect.y,we=ge.rect.width;const We=ge.rect.height;let pe=ge.img;new Uint32Array(pe.buffer);let Ee=4*we,Fe=4;if(Ie<=256&&P==0){Ee=Math.ceil(O*we/8);var ce=new Uint8Array(Ee*We);const j=se[V];for(let q=0;q<We;q++){Y=q*Ee;const fe=q*we;if(O==8)for(var Ce=0;Ce<we;Ce++)ce[Y+Ce]=j[fe+Ce];else if(O==4)for(Ce=0;Ce<we;Ce++)ce[Y+(Ce>>1)]|=j[fe+Ce]<<4-4*(1&Ce);else if(O==2)for(Ce=0;Ce<we;Ce++)ce[Y+(Ce>>2)]|=j[fe+Ce]<<6-2*(3&Ce);else if(O==1)for(Ce=0;Ce<we;Ce++)ce[Y+(Ce>>3)]|=j[fe+Ce]<<7-1*(7&Ce)}pe=ce,H=3,Fe=1}else if(Q==0&&ue.length==1){ce=new Uint8Array(we*We*3);const j=we*We;for(Y=0;Y<j;Y++){const q=3*Y,fe=4*Y;ce[q]=pe[fe],ce[q+1]=pe[fe+1],ce[q+2]=pe[fe+2]}pe=ce,H=2,Fe=3,Ee=3*we}ge.img=pe,ge.bpl=Ee,ge.bpp=Fe}return{ctype:H,depth:O,plte:oe,frames:ue}}function c(D,C,R,$,U,F,z){const W=Uint8Array,B=Uint32Array,P=new W(D[U-1]),re=new B(D[U-1]),H=U+1<D.length?new W(D[U+1]):null,O=new W(D[U]),T=new B(O.buffer);let V=C,K=R,Y=-1,Q=-1;for(let J=0;J<F.height;J++)for(let oe=0;oe<F.width;oe++){const se=F.x+oe,le=F.y+J,ge=le*C+se,we=T[ge];we==0||$[U-1].dispose==0&&re[ge]==we&&(H==null||H[4*ge+3]!=0)||(se<V&&(V=se),se>Y&&(Y=se),le<K&&(K=le),le>Q&&(Q=le))}Y==-1&&(V=K=Y=Q=0),z&&((1&V)==1&&V--,(1&K)==1&&K--),F={x:V,y:K,width:Y-V+1,height:Q-K+1};const ue=$[U];ue.rect=F,ue.blend=1,ue.img=new Uint8Array(F.width*F.height*4),$[U-1].dispose==0?(t(P,C,R,ue.img,F.width,F.height,-F.x,-F.y,0),h(O,C,R,ue.img,F)):t(O,C,R,ue.img,F.width,F.height,-F.x,-F.y,0)}function h(D,C,R,$,U){t(D,C,R,$,U.width,U.height,-U.x,-U.y,2)}function p(D,C,R,$,U,F,z){const W=[];let B,P=[0,1,2,3,4];F!=-1?P=[F]:(C*$>5e5||R==1)&&(P=[0]),z&&(B={level:0});const re=Ise;for(var H=0;H<P.length;H++){for(let V=0;V<C;V++)m(U,D,V,$,R,P[H]);W.push(re.deflate(U,B))}let O,T=1e9;for(H=0;H<W.length;H++)W[H].length<T&&(O=H,T=W[H].length);return W[O]}function m(D,C,R,$,U,F){const z=R*$;let W=z+R;if(D[W]=F,W++,F==0)if($<500)for(var B=0;B<$;B++)D[W+B]=C[z+B];else D.set(new Uint8Array(C.buffer,z,$),W);else if(F==1){for(B=0;B<U;B++)D[W+B]=C[z+B];for(B=U;B<$;B++)D[W+B]=C[z+B]-C[z+B-U]+256&255}else if(R==0){for(B=0;B<U;B++)D[W+B]=C[z+B];if(F==2)for(B=U;B<$;B++)D[W+B]=C[z+B];if(F==3)for(B=U;B<$;B++)D[W+B]=C[z+B]-(C[z+B-U]>>1)+256&255;if(F==4)for(B=U;B<$;B++)D[W+B]=C[z+B]-r(C[z+B-U],0,0)+256&255}else{if(F==2)for(B=0;B<$;B++)D[W+B]=C[z+B]+256-C[z+B-$]&255;if(F==3){for(B=0;B<U;B++)D[W+B]=C[z+B]+256-(C[z+B-$]>>1)&255;for(B=U;B<$;B++)D[W+B]=C[z+B]+256-(C[z+B-$]+C[z+B-U]>>1)&255}if(F==4){for(B=0;B<U;B++)D[W+B]=C[z+B]+256-r(0,C[z+B-$],0)&255;for(B=U;B<$;B++)D[W+B]=C[z+B]+256-r(C[z+B-U],C[z+B-$],C[z+B-U-$])&255}}}function y(D,C){const R=new Uint8Array(D),$=R.slice(0),U=new Uint32Array($.buffer),F=b($,C),z=F[0],W=F[1],B=R.length,P=new Uint8Array(B>>2);let re;if(R.length<2e7)for(var H=0;H<B;H+=4)re=v(z,O=R[H]*(1/255),T=R[H+1]*(1/255),V=R[H+2]*(1/255),K=R[H+3]*(1/255)),P[H>>2]=re.ind,U[H>>2]=re.est.rgba;else for(H=0;H<B;H+=4){var O=R[H]*.00392156862745098,T=R[H+1]*(1/255),V=R[H+2]*(1/255),K=R[H+3]*(1/255);for(re=z;re.left;)re=x(re.est,O,T,V,K)<=0?re.left:re.right;P[H>>2]=re.ind,U[H>>2]=re.est.rgba}return{abuf:$.buffer,inds:P,plte:W}}function b(D,C,R){R==null&&(R=1e-4);const $=new Uint32Array(D.buffer),U={i0:0,i1:D.length,bst:null,est:null,tdst:0,left:null,right:null};U.bst=M(D,U.i0,U.i1),U.est=E(U.bst);const F=[U];for(;F.length<C;){let W=0,B=0;for(var z=0;z<F.length;z++)F[z].est.L>W&&(W=F[z].est.L,B=z);if(W<R)break;const P=F[B],re=S(D,$,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=re||P.i1<=re){P.est.L=0;continue}const H={i0:P.i0,i1:re,bst:null,est:null,tdst:0,left:null,right:null};H.bst=M(D,H.i0,H.i1),H.est=E(H.bst);const O={i0:re,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:P.bst.N-H.bst.N},z=0;z<16;z++)O.bst.R[z]=P.bst.R[z]-H.bst.R[z];for(z=0;z<4;z++)O.bst.m[z]=P.bst.m[z]-H.bst.m[z];O.est=E(O.bst),P.left=H,P.right=O,F[B]=H,F.push(O)}for(F.sort((W,B)=>B.bst.N-W.bst.N),z=0;z<F.length;z++)F[z].ind=z;return[U,F]}function v(D,C,R,$,U){if(D.left==null)return D.tdst=function(H,O,T,V,K){const Y=O-H[0],Q=T-H[1],ue=V-H[2],J=K-H[3];return Y*Y+Q*Q+ue*ue+J*J}(D.est.q,C,R,$,U),D;const F=x(D.est,C,R,$,U);let z=D.left,W=D.right;F>0&&(z=D.right,W=D.left);const B=v(z,C,R,$,U);if(B.tdst<=F*F)return B;const P=v(W,C,R,$,U);return P.tdst<B.tdst?P:B}function x(D,C,R,$,U){const{e:F}=D;return F[0]*C+F[1]*R+F[2]*$+F[3]*U-D.eMq}function S(D,C,R,$,U,F){for($-=4;R<$;){for(;I(D,R,U)<=F;)R+=4;for(;I(D,$,U)>F;)$-=4;if(R>=$)break;const z=C[R>>2];C[R>>2]=C[$>>2],C[$>>2]=z,R+=4,$-=4}for(;I(D,R,U)>F;)R-=4;return R+4}function I(D,C,R){return D[C]*R[0]+D[C+1]*R[1]+D[C+2]*R[2]+D[C+3]*R[3]}function M(D,C,R){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=[0,0,0,0],F=R-C>>2;for(let z=C;z<R;z+=4){const W=D[z]*.00392156862745098,B=D[z+1]*(1/255),P=D[z+2]*(1/255),re=D[z+3]*(1/255);U[0]+=W,U[1]+=B,U[2]+=P,U[3]+=re,$[0]+=W*W,$[1]+=W*B,$[2]+=W*P,$[3]+=W*re,$[5]+=B*B,$[6]+=B*P,$[7]+=B*re,$[10]+=P*P,$[11]+=P*re,$[15]+=re*re}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:U,N:F}}function E(D){const{R:C}=D,{m:R}=D,{N:$}=D,U=R[0],F=R[1],z=R[2],W=R[3],B=$==0?0:1/$,P=[C[0]-U*U*B,C[1]-U*F*B,C[2]-U*z*B,C[3]-U*W*B,C[4]-F*U*B,C[5]-F*F*B,C[6]-F*z*B,C[7]-F*W*B,C[8]-z*U*B,C[9]-z*F*B,C[10]-z*z*B,C[11]-z*W*B,C[12]-W*U*B,C[13]-W*F*B,C[14]-W*z*B,C[15]-W*W*B],re=P,H=L;let O=[Math.random(),Math.random(),Math.random(),Math.random()],T=0,V=0;if($!=0)for(let Y=0;Y<16&&(O=H.multVec(re,O),V=Math.sqrt(H.dot(O,O)),O=H.sml(1/V,O),!(Y!=0&&Math.abs(V-T)<1e-9));Y++)T=V;const K=[U*B,F*B,z*B,W*B];return{Cov:P,q:K,e:O,L:T,eMq255:H.dot(H.sml(255,K),O),eMq:H.dot(O,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var L={multVec:(D,C)=>[D[0]*C[0]+D[1]*C[1]+D[2]*C[2]+D[3]*C[3],D[4]*C[0]+D[5]*C[1]+D[6]*C[2]+D[7]*C[3],D[8]*C[0]+D[9]*C[1]+D[10]*C[2]+D[11]*C[3],D[12]*C[0]+D[13]*C[1]+D[14]*C[2]+D[15]*C[3]],dot:(D,C)=>D[0]*C[0]+D[1]*C[1]+D[2]*C[2]+D[3]*C[3],sml:(D,C)=>[D*C[0],D*C[1],D*C[2],D*C[3]]};Li.encode=function(C,R,$,U,F,z,W){U==null&&(U=0),W==null&&(W=!1);const B=f(C,R,$,U,[!1,!1,!1,0,W,!1]);return d(B,-1),l(B,R,$,F,z)},Li.encodeLL=function(C,R,$,U,F,z,W,B){const P={ctype:0+(U==1?0:2)+(F==0?0:4),depth:z,frames:[]},re=(U+F)*z,H=re*R;for(let O=0;O<C.length;O++)P.frames.push({rect:{x:0,y:0,width:R,height:$},img:new Uint8Array(C[O]),blend:0,dispose:1,bpp:Math.ceil(re/8),bpl:Math.ceil(H/8)});return d(P,0,!0),l(P,R,$,W,B)},Li.encode.compress=f,Li.encode.dither=a,Li.quantize=y,Li.quantize.getKDtree=b,Li.quantize.getNearest=v})();const nI={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,o=t.getContext("2d").getImageData(0,0,r,n),s=new Uint32Array(o.data.buffer),a=(32*r+31)/32<<2,l=a*n,d=122+l,f=new ArrayBuffer(d),c=new DataView(f),h=1<<20;let p,m,y,b,v=h,x=0,S=0,I=0;function M(D){c.setUint16(S,D,!0),S+=2}function E(D){c.setUint32(S,D,!0),S+=4}function L(D){S+=D}M(19778),E(d),L(4),E(122),E(108),E(r),E(-n>>>0),M(1),M(32),E(3),E(l),E(2835),E(2835),L(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function D(){for(;x<n&&v>0;){for(b=122+x*a,p=0;p<i;)v--,m=s[I++],y=m>>>24,c.setUint32(b+p,m<<8|y),p+=4;x++}I<s.length?(v=h,setTimeout(D,nI._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var In={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Dse={[In.CHROME]:16384,[In.FIREFOX]:11180,[In.DESKTOP_SAFARI]:16384,[In.IE]:8192,[In.IOS]:4096,[In.ETC]:8192};const Yy=typeof window<"u",iI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,kp=Yy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Mse=(Yy||iI)&&(kp&&kp.getOriginalSymbol(window,"File")||typeof File<"u"&&File),oI=(Yy||iI)&&(kp&&kp.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ky(t,e,r=Date.now()){return new Promise(n=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const d=new Blob([l],{type:o});d.name=e,d.lastModified=r,n(d)})}function sI(t){return new Promise((e,r)=>{const n=new oI;n.onload=()=>e(n.result),n.onerror=i=>r(i),n.readAsDataURL(t)})}function aI(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>r(i),n.src=t})}function ma(){if(ma.cachedResult!==void 0)return ma.cachedResult;let t=In.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=In.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=In.IOS:/Safari/i.test(e)?t=In.DESKTOP_SAFARI:/Firefox/i.test(e)?t=In.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=In.IE),ma.cachedResult=t,ma.cachedResult}function lI(t,e){const r=ma(),n=Dse[r];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>n*n;){const l=(n+i)/2,d=(n+o)/2;l<d?(o=d,i=d*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function Ip(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function cI(t,e){const{width:r,height:n}=lI(t.width,t.height),[i,o]=Ip(r,n);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Dp(){return Dp.cachedResult!==void 0||(Dp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Dp.cachedResult}function Mp(t,e={}){return new Promise(function(r,n){let i,o;var s=function(){try{return o=cI(i,e.fileType||t.type),r([i,o])}catch(l){return n(l)}},a=function(l){try{var d=function(f){try{throw f}catch(c){return n(c)}};try{let f;return sI(t).then(function(c){try{return f=c,aI(f).then(function(h){try{return i=h,function(){try{return s()}catch(p){return n(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(f){d(f)}}catch(f){return n(f)}};try{if(Dp()||[In.DESKTOP_SAFARI,In.MOBILE_SAFARI].includes(ma()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function Np(t,e,r,n,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let d,f,c;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),c=Li.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([c],{type:e}),a.name=r,a.lastModified=n,l.call(this)}{let d=function(){return l.call(this)};if(e==="image/bmp")return new Promise(f=>nI.toBlob(t,f)).then((function(f){try{return a=f,a.name=r,a.lastModified=n,d.call(this)}catch(c){return s(c)}}).bind(this),s);{let f=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(c){try{return a=c,a.name=r,a.lastModified=n,f.call(this)}catch(h){return s(h)}}).bind(this),s);{let c;return c=t.toDataURL(e,i),Ky(c,r,n).then((function(h){try{return a=h,f.call(this)}catch(p){return s(p)}}).bind(this),s)}}}function l(){return o(a)}})}function lo(t){t.width=0,t.height=0}function cc(){return new Promise(function(t,e){let r,n,i,o;return cc.cachedResult!==void 0?t(cc.cachedResult):Ky("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,Mp(r).then(function(a){try{return n=a[1],Np(n,r.type,r.name,r.lastModified).then(function(l){try{return i=l,lo(n),Mp(i).then(function(d){try{return o=d[0],cc.cachedResult=o.width===1&&o.height===2,t(cc.cachedResult)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function uI(t){return new Promise((e,r)=>{const n=new oI;n.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const d=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,d);const f=o.getUint16(a,d);a+=2;for(let c=0;c<f;c++)if(o.getUint16(a+12*c,d)==274)return e(o.getUint16(a+12*c+8,d))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(t)})}function dI(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(r>i||n>i)&&([s,o]=Ip(r,n),r>n?(s.width=i,s.height=n/r*i):(s.width=r/n*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),lo(t)),s}function fI(t,e){const{width:r}=t,{height:n}=t,[i,o]=Ip(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(t,0,0,r,n),lo(t),i}function hI(t,e,r=0){return new Promise(function(n,i){let o,s,a,l,d,f,c,h,p,m,y,b,v,x,S,I,M,E,L,D;function C($=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=$,e.onProgress(Math.min(o,100))}function R($){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max($,o),100),e.onProgress(o)}return o=r,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,C(),Mp(t,e).then((function($){try{return[,l]=$,C(),d=dI(l,e),C(),new Promise(function(U,F){var z;if(!(z=e.exifOrientation))return uI(t).then((function(B){try{return z=B,W.call(this)}catch(P){return F(P)}}).bind(this),F);function W(){return U(z)}return W.call(this)}).then((function(U){try{return f=U,C(),cc().then((function(F){try{return c=F?d:fI(d,f),C(),h=e.initialQuality||1,p=e.fileType||t.type,Np(c,p,t.name,t.lastModified,h).then((function(z){try{{let B=function(){if(s--&&(S>a||S>v)){let re,H;return re=D?.95*L.width:L.width,H=D?.95*L.height:L.height,[M,E]=Ip(re,H),E.drawImage(L,0,0,re,H),h*=p==="image/png"?.85:.95,Np(M,p,t.name,t.lastModified,h).then(function(O){try{return I=O,lo(L),L=M,S=I.size,R(Math.min(99,Math.floor((x-S)/(x-a)*100))),B}catch(T){return i(T)}},i)}return[1]},P=function(){return lo(L),lo(M),lo(d),lo(c),lo(l),R(100),n(I)};if(m=z,C(),y=m.size>a,b=m.size>t.size,!y&&!b)return R(100),n(m);var W;return v=t.size,x=m.size,S=x,L=c,D=!e.alwaysKeepResolution&&y,(W=(function(re){for(;re;){if(re.then)return void re.then(W,i);try{if(re.pop){if(re.length)return re.pop()?P.call(this):re;re=B}else re=re.call(this)}catch(H){return i(H)}}}).bind(this))(B)}}catch(B){return i(B)}}).bind(this),i)}catch(z){return i(z)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(U){return i(U)}}).bind(this),i)})}const Nse=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Xy;function Ose(t,e){return new Promise((r,n)=>{Xy||(Xy=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(Nse));const i=new Worker(Xy);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return n(new Error(s.data.error)),void i.terminate();r(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Kr(t,e){return new Promise(function(r,n){let i,o,s,a,l,d;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{s=p,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof Mse))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||d)return hI(t,i).then((function(p){try{return o=p,h.call(this)}catch(m){return n(m)}}).bind(this),n);var f=(function(){try{return h.call(this)}catch(p){return n(p)}}).bind(this),c=function(p){try{return hI(t,i).then(function(m){try{return o=m,f()}catch(y){return n(y)}},n)}catch(m){return n(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ose(t,i).then(function(p){try{return o=p,f()}catch{return c()}},c)}catch{c()}function h(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=rI(t,o))}catch{}return r(o)}})}Kr.getDataUrlFromFile=sI,Kr.getFilefromDataUrl=Ky,Kr.loadImage=aI,Kr.drawImageInCanvas=cI,Kr.drawFileInCanvas=Mp,Kr.canvasToFile=Np,Kr.getExifOrientation=uI,Kr.handleMaxWidthOrHeight=dI,Kr.followExifOrientation=fI,Kr.cleanupCanvasMemory=lo,Kr.isAutoOrientationInBrowser=cc,Kr.approximateBelowMaximumCanvasSizeOfBrowser=lI,Kr.copyExifWithoutOrientation=rI,Kr.getBrowserName=ma,Kr.version="2.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Lse=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],a=t[r++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=o>>2,c=(o&3)<<4|a>>4;let h=(a&15)<<2|d>>6,p=d&63;l||(p=64,s||(h=64)),n.push(r[f],r[c],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const c=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||c==null)throw new Bse;const h=o<<2|a>>4;if(n.push(h),d!==64){const p=a<<4&240|d>>2;if(n.push(p),c!==64){const m=d<<6&192|c;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rse=function(t){const e=pI(t);return mI.encodeByteArray(e,!0)},gI=function(t){return Rse(t).replace(/\./g,"")},Pse=function(t){try{return mI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=()=>Fse().__FIREBASE_DEFAULTS__,jse=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pse(t[1]);return e&&JSON.parse(e)},$se=()=>{try{return Use()||jse()||zse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yI=()=>{var t;return(t=$se())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function vI(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}function Hse(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse="FirebaseError";class uc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=qse,Object.setPrototypeOf(this,uc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Wse(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new uc(i,a,n)}}function Wse(t,e){return t.replace(Gse,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Gse=/\{\$([^}]+)}/g;function Jy(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(_I(o)&&_I(s)){if(!Jy(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function _I(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Vse;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kse(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Yse(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yse(t){return t===ga?void 0:t}function Kse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Qse(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Zt||(Zt={}));const Jse={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},Zse=Zt.INFO,eae={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},tae=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=eae[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rae{constructor(e){this.name=e,this._logLevel=Zse,this._logHandler=tae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const nae=(t,e)=>e.some(r=>t instanceof r);let AI,xI;function iae(){return AI||(AI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oae(){return xI||(xI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TI=new WeakMap,Zy=new WeakMap,EI=new WeakMap,eb=new WeakMap,tb=new WeakMap;function sae(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Fo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&TI.set(r,t)}).catch(()=>{}),tb.set(e,t),e}function aae(t){if(Zy.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zy.set(t,e)}let rb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Zy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EI.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lae(t){rb=t(rb)}function cae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(nb(this),e,...r);return EI.set(n,e.sort?e.sort():[e]),Fo(n)}:oae().includes(t)?function(...e){return t.apply(nb(this),e),Fo(TI.get(this))}:function(...e){return Fo(t.apply(nb(this),e))}}function uae(t){return typeof t=="function"?cae(t):(t instanceof IDBTransaction&&aae(t),nae(t,iae())?new Proxy(t,rb):t)}function Fo(t){if(t instanceof IDBRequest)return sae(t);if(eb.has(t))return eb.get(t);const e=uae(t);return e!==t&&(eb.set(t,e),tb.set(e,t)),e}const nb=t=>tb.get(t);function Lp(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Fo(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Fo(s.result),l.oldVersion,l.newVersion,Fo(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function ib(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Fo(r).then(()=>{})}const dae=["get","getKey","getAll","getAllKeys","count"],fae=["put","add","delete","clear"],ob=new Map;function CI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ob.get(e))return ob.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=fae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dae.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return ob.set(e,o),o}lae(t=>({...t,get:(e,r,n)=>CI(e,r)||t.get(e,r,n),has:(e,r)=>!!CI(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pae(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function pae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sb="@firebase/app",SI="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new rae("@firebase/app"),mae="@firebase/app-compat",gae="@firebase/analytics-compat",yae="@firebase/analytics",bae="@firebase/app-check-compat",vae="@firebase/app-check",_ae="@firebase/auth",wae="@firebase/auth-compat",Aae="@firebase/database",xae="@firebase/database-compat",Tae="@firebase/functions",Eae="@firebase/functions-compat",Cae="@firebase/installations",Sae="@firebase/installations-compat",kae="@firebase/messaging",Iae="@firebase/messaging-compat",Dae="@firebase/performance",Mae="@firebase/performance-compat",Nae="@firebase/remote-config",Oae="@firebase/remote-config-compat",Lae="@firebase/storage",Bae="@firebase/storage-compat",Rae="@firebase/firestore",Pae="@firebase/firestore-compat",Fae="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="[DEFAULT]",Uae={[sb]:"fire-core",[mae]:"fire-core-compat",[yae]:"fire-analytics",[gae]:"fire-analytics-compat",[vae]:"fire-app-check",[bae]:"fire-app-check-compat",[_ae]:"fire-auth",[wae]:"fire-auth-compat",[Aae]:"fire-rtdb",[xae]:"fire-rtdb-compat",[Tae]:"fire-fn",[Eae]:"fire-fn-compat",[Cae]:"fire-iid",[Sae]:"fire-iid-compat",[kae]:"fire-fcm",[Iae]:"fire-fcm-compat",[Dae]:"fire-perf",[Mae]:"fire-perf-compat",[Nae]:"fire-rc",[Oae]:"fire-rc-compat",[Lae]:"fire-gcs",[Bae]:"fire-gcs-compat",[Rae]:"fire-fst",[Pae]:"fire-fst-compat","fire-js":"fire-js",[Fae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Map,jae=new Map,lb=new Map;function kI(t,e){try{t.container.addComponent(e)}catch(r){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ba(t){const e=t.name;if(lb.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;lb.set(e,t);for(const r of Bp.values())kI(r,t);for(const r of jae.values())kI(r,t);return!0}function cb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Op("app","Firebase",zae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}function II(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ab,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ys.create("bad-app-name",{appName:String(i)});if(r||(r=yI()),!r)throw ys.create("no-options");const o=Bp.get(i);if(o){if(Jy(r,o.options)&&Jy(n,o.config))return o;throw ys.create("duplicate-app",{appName:i})}const s=new Xse(i);for(const l of lb.values())s.addComponent(l);const a=new $ae(r,n,s);return Bp.set(i,a),a}function Vae(t=ab){const e=Bp.get(t);if(!e&&t===ab&&yI())return II();if(!e)throw ys.create("no-app",{appName:t});return e}function bs(t,e,r){var n;let i=(n=Uae[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(a.join(" "));return}ba(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae="firebase-heartbeat-database",qae=1,yd="firebase-heartbeat-store";let ub=null;function DI(){return ub||(ub=Lp(Hae,qae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yd)}catch(r){console.warn(r)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),ub}async function Wae(t){try{const r=(await DI()).transaction(yd),n=await r.objectStore(yd).get(NI(t));return await r.done,n}catch(e){if(e instanceof uc)ya.warn(e.message);else{const r=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ya.warn(r.message)}}}async function MI(t,e){try{const n=(await DI()).transaction(yd,"readwrite");await n.objectStore(yd).put(e,NI(t)),await n.done}catch(r){if(r instanceof uc)ya.warn(r.message);else{const n=ys.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ya.warn(n.message)}}}function NI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gae=1024,Qae=30*24*60*60*1e3;class Yae{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Xae(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Qae}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=OI(),{heartbeatsToSend:n,unsentEntries:i}=Kae(this._heartbeatsCache.heartbeats),o=gI(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function OI(){return new Date().toISOString().substring(0,10)}function Kae(t,e=Gae){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LI(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),LI(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Xae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?vI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Wae(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return MI(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return MI(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LI(t){return gI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t){ba(new gs("platform-logger",e=>new hae(e),"PRIVATE")),ba(new gs("heartbeat",e=>new Yae(e),"PRIVATE")),bs(sb,SI,t),bs(sb,SI,"esm2017"),bs("fire-js","")}Jae("");var Zae="firebase",ele="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(Zae,ele,"app");const BI="@firebase/installations",db="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1e4,PI=`w:${db}`,FI="FIS_v2",tle="https://firebaseinstallations.googleapis.com/v1",rle=60*60*1e3,nle="installations",ile="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ole={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Op(nle,ile,ole);function UI(t){return t instanceof uc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI({projectId:t}){return`${tle}/projects/${t}/installations`}function zI(t){return{token:t.token,requestStatus:2,expiresIn:ale(t.expiresIn),creationTime:Date.now()}}async function $I(t,e){const n=(await e.json()).error;return va.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function VI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sle(t,{refreshToken:e}){const r=VI(t);return r.append("Authorization",lle(e)),r}async function HI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ale(t){return Number(t.replace("s","000"))}function lle(t){return`${FI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cle({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=jI(t),i=VI(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={fid:r,authVersion:FI,appId:t.appId,sdkVersion:PI},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await HI(()=>fetch(n,a));if(l.ok){const d=await l.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:zI(d.authToken)}}else throw await $I("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ule(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle=/^[cdef][\w-]{21}$/,fb="";function fle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=hle(t);return dle.test(r)?r:fb}catch{return fb}}function hle(t){return ule(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;function GI(t,e){const r=Rp(t);QI(r,e),ple(r,e)}function QI(t,e){const r=WI.get(t);if(r)for(const n of r)n(e)}function ple(t,e){const r=mle();r&&r.postMessage({key:t,fid:e}),gle()}let _a=null;function mle(){return!_a&&"BroadcastChannel"in self&&(_a=new BroadcastChannel("[Firebase] FID Change"),_a.onmessage=t=>{QI(t.data.key,t.data.fid)}),_a}function gle(){WI.size===0&&_a&&(_a.close(),_a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="firebase-installations-database",ble=1,wa="firebase-installations-store";let hb=null;function pb(){return hb||(hb=Lp(yle,ble,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wa)}}})),hb}async function Pp(t,e){const r=Rp(t),i=(await pb()).transaction(wa,"readwrite"),o=i.objectStore(wa),s=await o.get(r);return await o.put(e,r),await i.done,(!s||s.fid!==e.fid)&&GI(t,e.fid),e}async function YI(t){const e=Rp(t),n=(await pb()).transaction(wa,"readwrite");await n.objectStore(wa).delete(e),await n.done}async function Fp(t,e){const r=Rp(t),i=(await pb()).transaction(wa,"readwrite"),o=i.objectStore(wa),s=await o.get(r),a=e(s);return a===void 0?await o.delete(r):await o.put(a,r),await i.done,a&&(!s||s.fid!==a.fid)&&GI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t){let e;const r=await Fp(t.appConfig,n=>{const i=vle(n),o=_le(t,i);return e=o.registrationPromise,o.installationEntry});return r.fid===fb?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function vle(t){const e=t||{fid:fle(),registrationStatus:0};return XI(e)}function _le(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=wle(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ale(t)}:{installationEntry:e}}async function wle(t,e){try{const r=await cle(t,e);return Pp(t.appConfig,r)}catch(r){throw UI(r)&&r.customData.serverCode===409?await YI(t.appConfig):await Pp(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Ale(t){let e=await KI(t.appConfig);for(;e.registrationStatus===1;)await qI(100),e=await KI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await mb(t);return n||r}return e}function KI(t){return Fp(t,e=>{if(!e)throw va.create("installation-not-found");return XI(e)})}function XI(t){return xle(t)?{fid:t.fid,registrationStatus:0}:t}function xle(t){return t.registrationStatus===1&&t.registrationTime+RI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tle({appConfig:t,heartbeatServiceProvider:e},r){const n=Ele(t,r),i=sle(t,r),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={installation:{sdkVersion:PI,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await HI(()=>fetch(n,a));if(l.ok){const d=await l.json();return zI(d)}else throw await $I("Generate Auth Token",l)}function Ele(t,{fid:e}){return`${jI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e=!1){let r;const n=await Fp(t.appConfig,o=>{if(!ZI(o))throw va.create("not-registered");const s=o.authToken;if(!e&&kle(s))return o;if(s.requestStatus===1)return r=Cle(t,e),o;{if(!navigator.onLine)throw va.create("app-offline");const a=Dle(o);return r=Sle(t,a),a}});return r?await r:n.authToken}async function Cle(t,e){let r=await JI(t.appConfig);for(;r.authToken.requestStatus===1;)await qI(100),r=await JI(t.appConfig);const n=r.authToken;return n.requestStatus===0?gb(t,e):n}function JI(t){return Fp(t,e=>{if(!ZI(e))throw va.create("not-registered");const r=e.authToken;return Mle(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Sle(t,e){try{const r=await Tle(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Pp(t.appConfig,n),r}catch(r){if(UI(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await YI(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pp(t.appConfig,n)}throw r}}function ZI(t){return t!==void 0&&t.registrationStatus===2}function kle(t){return t.requestStatus===2&&!Ile(t)}function Ile(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rle}function Dle(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Mle(t){return t.requestStatus===1&&t.requestTime+RI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nle(t){const e=t,{installationEntry:r,registrationPromise:n}=await mb(e);return n?n.catch(console.error):gb(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ole(t,e=!1){const r=t;return await Lle(r),(await gb(r,e)).token}async function Lle(t){const{registrationPromise:e}=await mb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble(t){if(!t||!t.options)throw yb("App Configuration");if(!t.name)throw yb("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw yb(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yb(t){return va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="installations",Rle="installations-internal",Ple=t=>{const e=t.getProvider("app").getImmediate(),r=Ble(e),n=cb(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Fle=t=>{const e=t.getProvider("app").getImmediate(),r=cb(e,eD).getImmediate();return{getId:()=>Nle(r),getToken:i=>Ole(r,i)}};function Ule(){ba(new gs(eD,Ple,"PUBLIC")),ba(new gs(Rle,Fle,"PRIVATE"))}Ule(),bs(BI,db),bs(BI,db,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle="/firebase-messaging-sw.js",zle="/firebase-cloud-messaging-push-scope",tD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$le="https://fcmregistrations.googleapis.com/v1",rD="google.c.a.c_id",Vle="google.c.a.c_l",Hle="google.c.a.ts",qle="google.c.a.e";var nD;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(nD||(nD={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var bd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(bd||(bd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wle(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="fcm_token_details_db",Gle=5,iD="fcm_token_object_Store";async function Qle(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(bb))return null;let e=null;return(await Lp(bb,Gle,{upgrade:async(n,i,o,s)=>{var a;if(i<2||!n.objectStoreNames.contains(iD))return;const l=s.objectStore(iD),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(i===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(a=f.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Uo(f.vapidKey)}}}else if(i===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Uo(f.auth),p256dh:Uo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Uo(f.vapidKey)}}}else if(i===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Uo(f.auth),p256dh:Uo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Uo(f.vapidKey)}}}}}})).close(),await ib(bb),await ib("fcm_vapid_details_db"),await ib("undefined"),Yle(e)?e:null}function Yle(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle="firebase-messaging-database",Xle=1,vd="firebase-messaging-store";let vb=null;function oD(){return vb||(vb=Lp(Kle,Xle,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vd)}}})),vb}async function Jle(t){const e=sD(t),n=await(await oD()).transaction(vd).objectStore(vd).get(e);if(n)return n;{const i=await Qle(t.appConfig.senderId);if(i)return await _b(t,i),i}}async function _b(t,e){const r=sD(t),i=(await oD()).transaction(vd,"readwrite");return await i.objectStore(vd).put(e,r),await i.done,e}function sD({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zle={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new Op("messaging","Messaging",Zle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ece(t,e){const r=await Ab(t),n=aD(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(wb(t.appConfig),i)).json()}catch(s){throw an.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw an.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw an.create("token-subscribe-no-token");return o.token}async function tce(t,e){const r=await Ab(t),n=aD(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(`${wb(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw an.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw an.create("token-update-failed",{errorInfo:s})}if(!o.token)throw an.create("token-update-no-token");return o.token}async function rce(t,e){const n={method:"DELETE",headers:await Ab(t)};try{const o=await(await fetch(`${wb(t.appConfig)}/${e}`,n)).json();if(o.error){const s=o.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw an.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function wb({projectId:t}){return`${$le}/projects/${t}/registrations`}async function Ab({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function aD({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==tD&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce=7*24*60*60*1e3;async function ice(t){const e=await sce(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Uo(e.getKey("auth")),p256dh:Uo(e.getKey("p256dh"))},n=await Jle(t.firebaseDependencies);if(n){if(ace(n.subscriptionOptions,r))return Date.now()>=n.createTime+nce?oce(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await rce(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return lD(t.firebaseDependencies,r)}else return lD(t.firebaseDependencies,r)}async function oce(t,e){try{const r=await tce(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await _b(t.firebaseDependencies,n),r}catch(r){throw r}}async function lD(t,e){const n={token:await ece(t,e),createTime:Date.now(),subscriptionOptions:e};return await _b(t,n),n.token}async function sce(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wle(e)})}function ace(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return r&&n&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return lce(e,t),cce(e,t),uce(e,t),e}function lce(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function cce(t,e){e.data&&(t.data=e.data)}function uce(t,e){var r,n,i,o,s;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dce(t){return typeof t=="object"&&!!t&&rD in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uD("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uD("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function uD(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fce(t){if(!t||!t.options)throw xb("App Configuration Object");if(!t.name)throw xb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw xb(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function xb(t){return an.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=fce(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pce(t){try{t.swRegistration=await navigator.serviceWorker.register(jle,{scope:zle}),t.swRegistration.update().catch(()=>{})}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mce(t,e){if(!e&&!t.swRegistration&&await pce(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gce(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=tD)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await gce(t,e==null?void 0:e.vapidKey),await mce(t,e==null?void 0:e.serviceWorkerRegistration),ice(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yce(t,e,r){const n=bce(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[rD],message_name:r[Vle],message_time:r[Hle],message_device_time:Math.floor(Date.now()/1e3)})}function bce(t){switch(t){case bd.NOTIFICATION_CLICKED:return"notification_open";case bd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vce(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===bd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(cD(r)):t.onMessageHandler.next(cD(r)));const n=r.data;dce(n)&&n[qle]==="1"&&await yce(t,r.messageType,n)}const fD="@firebase/messaging",hD="0.12.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ce=t=>{const e=new hce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>vce(e,r)),e},wce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>dD(e,n)}};function Ace(){ba(new gs("messaging",_ce,"PUBLIC")),ba(new gs("messaging-internal",wce,"PRIVATE")),bs(fD,hD),bs(fD,hD,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xce(){try{await vI()}catch{return!1}return typeof window<"u"&&bI()&&Hse()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(t=Vae()){return xce().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),cb(wI(t),"messaging").getImmediate()}async function Ece(t,e){return t=wI(t),dD(t,e)}Ace();let Cce=class{constructor(e){Pe(this,"value");Pe(this,"next");this.value=e}};class Sce{constructor(){em(this,co,void 0);em(this,Aa,void 0);em(this,xa,void 0);this.clear()}enqueue(e){const r=new Cce(e);Ts(this,co)?(Ts(this,Aa).next=r,Ho(this,Aa,r)):(Ho(this,co,r),Ho(this,Aa,r)),Gb(this,xa)._++}dequeue(){const e=Ts(this,co);if(e)return Ho(this,co,Ts(this,co).next),Gb(this,xa)._--,e.value}clear(){Ho(this,co,void 0),Ho(this,Aa,void 0),Ho(this,xa,0)}get size(){return Ts(this,xa)}*[Symbol.iterator](){let e=Ts(this,co);for(;e;)yield e.value,e=e.next}}co=new WeakMap,Aa=new WeakMap,xa=new WeakMap;const kce={bind(t,e,r){return t.bind(r)}};function Ice(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new Sce;let r=0;const n=()=>{r--,e.size>0&&e.dequeue()()},i=async(a,l,d)=>{r++;const f=(async()=>a(...d))();l(f);try{await f}catch{}n()},o=(a,l,d)=>{e.enqueue(kce.bind(i.bind(void 0,a,l,d))),(async()=>(await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()))()},s=(a,...l)=>new Promise(d=>{o(a,d,l)});return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}}}),s}const Dce={[Ve.increment]({commit:t}){t(je.increment)},async[Ve.fetchRooms]({state:t,commit:e,dispatch:r},{pageSize:n}={pageSize:void 0}){if(t.isRequesting[oo.FetchRooms])return;const{numberOfFetchedRooms:i,uid:o}=t;if(i===t.numberOfTotalRooms&&i>0)return;const s=n!==void 0?n:Math.min(Math.max(30,i),120),{data:{result:a}}=await t.axios.get(oo.FetchRooms,{params:{skip:i,limit:s,q:t.roomTag?`{ "members": "${o}", "roomTags": "${t.roomTag}" }`:`{ "members": "${o}" }`}}),{data:l,totalCount:d}=a,f={},c={};for(const h of l){f[h._id]=new rd(h,t.uid);for(const p of h.members)c[p.id]||(c[p.id]=new Wo(p))}e(je.updateField,{key:"rooms",value:f}),e(je.updateField,{key:"users",value:c}),e(je.setState,{numberOfTotalRooms:d,numberOfFetchedRooms:i+s}),r(Ve.aggregateRoomsAndFolders)},async[Ve.handleMessageFromSocket]({state:t,commit:e,dispatch:r},n){let i=t.rooms[n.roomId];if(i){const{id:o,numberOfUnread:s}=i;if(n.roomId===t.selectedRoomId){if(await r(Ve.handleLinkPreviews,[n]),t.config.translationApiKey&&n.type===Xe.Text&&n.senderId!==t.uid){const a=n.text;try{const l=await r(Ve.translate,a);n.translatedText=l!==a?l:null}catch(l){console.error(l)}}e(je.pushMessage,n),e(je.updateRoom,{id:o,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:0}),r(Ve.updateLastRead,o),e(je.setState,{numberOfTotalMessages:t.numberOfTotalMessages+1})}else e(je.updateRoom,{id:o,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:n.senderId!==t.uid?s+1:s});r(Ve.aggregateRoomsAndFolders)}else await r(Ve.fetchRoom,n.roomId),i=t.rooms[n.roomId]},async[Ve.loadMessages]({state:t,commit:e,dispatch:r},{roomId:n,beforeMessageId:i,afterMessageId:o,targetMessageId:s}){const a=s?`/rooms/${n}/messages/${s}`:o?`/rooms/${n}/messages/${o}`:`/rooms/${n}/messages`;if(t.isRequesting[a]||t.messageMultiList.numberOfMessages()>=t.numberOfTotalMessages&&t.numberOfTotalMessages!==-1)return;const{data:{result:l}}=await t.axios.get(a,{params:s?{before:15,after:15}:i?{limit:30,beforeMessage:i}:o?{after:30}:{limit:30}}),d={};for(const m of l.data)d[m.sender.id]||(d[m.sender.id]=new Wo(m.sender));e(je.updateField,{key:"users",value:d});const{data:f,totalCount:c}=l;o&&f.shift();const h=new Ese(f),p=h.array();if(await r(Ve.handleLinkPreviews,p),t.config.translationApiKey){const m=p.filter(b=>b.type===Xe.Text&&b.senderId!==t.uid),y=await Promise.allSettled(m.map(b=>r(Ve.translate,b.text)));for(let b=0;b<m.length;b++){const v=y[b];v.status==="fulfilled"&&v.value!==m[b].text&&(m[b].translatedText=Pc.linkfy(v.value))}}return e(i?je.unshiftMessageLinkedList:o?je.concateMessageLinkedList:je.insertMessageLinkedList,h),c>t.numberOfTotalMessages&&e(je.setState,{numberOfTotalMessages:c}),f},async[Ve.fetchRoom]({state:t,commit:e},r){const{data:{result:n}}=await t.axios.get(`/rooms/${r}`),i=new rd(n,t.uid),o={};o[i.id]=i,e(je.updateField,{key:"rooms",value:o});const s={};n.members.flatMap(a=>Array.isArray(a.members)?[...a.members,a]:[a]).forEach(a=>{s[a.id]||(s[a.id]=new Wo(a))}),e(je.updateField,{key:"users",value:s})},async[Ve.updateLastRead]({state:t,commit:e},r){var s;const n=`/rooms/${r}/lastRead`;if(t.isRequesting[n])return;const i=t.rooms[r],{data:{result:o}}=await t.axios.put(n,{message:(s=i.lastMessage)==null?void 0:s.id});o&&e(je.updateRoom,{id:r,numberOfUnread:0})},async[Ve.handleRoomFromSocket]({commit:t,dispatch:e},r){const n={};n[r.id]=r,await t(je.updateField,{key:"rooms",value:n}),e(Ve.aggregateRoomsAndFolders)},async[Ve.handleLastReadFromSocket]({commit:t},e){t(je.updateLastRead,e)},async[Ve.sendMessage]({state:t,commit:e,dispatch:r},n){const{roomId:i}=n;if(!i)return;const o=ir.fromPayload(n,t.uid);if(!o)return;if(e(je.setMap,{mapName:"deliveringMessages",key:o.id,value:o}),e(je.pushMessage,o),n.messageType===Xe.Image){const{files:l}=n,d=await Promise.all(n.images.map((c,h)=>r(Ve.uploadImage,{image:c,file:l[h]}))),f=[];n.images.forEach((c,h)=>{t.imageCache.set(d[h].thumbnailUrl,c.thumbnailUrl);const{id:p,width:m,height:y}=c;f.push({originalUrl:d[h].originalUrl,thumbnailUrl:d[h].thumbnailUrl,width:m,height:y}),e(je.deleteField,{key:"uploadProgresses",value:`${p}-original`}),e(je.deleteField,{key:"uploadProgresses",value:`${p}-thumbnail`})}),n.images=f,delete n.files}else if(n.messageType===Xe.Video){const{file:l,video:d}=n,f=d.thumbnailFile;if(!f)return;const c=await Promise.all([r(Ve.uploadMedia,{id:f.id,file:f.file}),r(Ve.uploadMedia,{id:d.id,file:l})]);n.width=d.width,n.height=d.height,n.duration=d.duration,n.thumbnailUrl=c[0],n.originalUrl=c[1],t.imageCache.set(c[0],d.thumbnailUrl),delete n.file,e(je.deleteField,{key:"uploadProgresses",value:d.id})}else if(n.messageType===Xe.File){const{file:l}=n,d=await r(Ve.uploadMedia,{id:o.id,file:l});n.originalUrl=d,delete n.file,e(je.deleteField,{key:"uploadProgresses",value:o.id})}else if(n.messageType===Xe.Audio){const{file:l}=n,d=await r(Ve.uploadMedia,{id:o.id,file:l});n.originalUrl=d,delete n.file,e(je.deleteField,{key:"uploadProgresses",value:o.id})}const{data:{result:s}}=await t.axios.post(`/rooms/${i}/message`,n),a=ir.fromRaw(s);if(a)return e(je.deleteMap,{mapName:"deliveringMessages",key:o.id}),await r(Ve.handleLinkPreviews,[a]),a.roomId===t.selectedRoomId?e(je.replaceMessage,{message:a,targetMessageId:o.id}):e(je.updateRoom,{id:a.roomId,updatedAt:a.createdAt,lastMessage:a}),a},async[Ve.batchSendMessage]({state:t},e){await t.axios.post("/messages/batch",e)},async[Ve.recallMessage]({state:t,commit:e},r){const{roomId:n}=r;if(!n)return;const{data:{result:i}}=await t.axios.post(`/rooms/${n}/message`,r),o=ir.fromRaw(i);o&&e(je.replaceMessage,{targetMessageId:o.id,message:o})},async[Ve.uploadMedia]({state:t,commit:e},{id:r,file:n}){const i=new FormData;i.append("file",n);const{data:{result:{_id:o}}}=await t.axios.post("/files/chatserver-upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s=>{const{total:a}=s;a&&e(je.updateField,{key:"uploadProgresses",value:{[r]:s.loaded/a}})}});return`${t.config.domain}/files/chatserver-upload/${o}`},async[Ve.uploadImage]({dispatch:t},{image:e,file:r}){if(r.size>1024*1024)try{const i=await Kr(r,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),o=await Promise.all([t(Ve.uploadMedia,{id:`${e.id}-original`,file:r}),t(Ve.uploadMedia,{id:`${e.id}-thumbnail`,file:i})]);return{originalUrl:o[0],thumbnailUrl:o[1]}}catch(i){console.error(i)}const n=await t(Ve.uploadMedia,{id:`${e.id}-original`,file:r});return{originalUrl:n,thumbnailUrl:n}},async[Ve.fetchLinkPreview](t,e){const{data:r}=await Xt.get(encodeURI(`https://url.imkit.io/?url=${e}`));return r},async[Ve.handleLinkPreviews]({state:t,commit:e,dispatch:r},n){const i=Array.from(new Set(n.flatMap(a=>(a==null?void 0:a.urls)||[]).filter(a=>!t.linkPreviews[a])));if(i.length===0)return;const o={};(await Promise.allSettled(i.map(a=>r(Ve.fetchLinkPreview,a)))).forEach((a,l)=>{a.status==="fulfilled"&&(o[i[l]]=a.value)}),e(je.updateField,{key:"linkPreviews",value:o})},async[Ve.fetchVideoBlob]({state:t},e){const{data:r}=await t.axios.get(e,{responseType:"blob"});return r},async[Ve.navigateToMessage]({state:t,commit:e,dispatch:r},n){var i;(i=t.messageMultiList.main)!=null&&i.contains(n)?e(je.setState,{navigationTargetId:n}):(await r(Ve.loadMessages,{roomId:t.selectedRoomId,targetMessageId:n}),await e(je.setState,{navigationTargetId:n}))},async[Ve.updateRoomPrefs]({state:t,commit:e,dispatch:r},{roomId:n,prefs:i}){await t.axios.post(`/roomPrefs/${n}`,i);const o=t.rooms[n];o&&(e(je.updateRoom,{id:n,pref:{...o.pref,...i}}),r(Ve.aggregateRoomsAndFolders))},async[Ve.fetchPrefs]({state:t,commit:e}){const{data:{result:r}}=await t.axios.get("/me/pref"),n={},i=[],o={},s={},a={};for(const l of r)if(l.key==="folders-meta")for(const d of l.data)o[d.key]=d.name,i.push(d.key);else{if(l.key==="blackList")continue;s[l.key]=l.data.children.map(d=>d.id)}for(const l of i){n[l]=new lc(l,o[l],s[l]||[]);for(const d of s[l]||[])a[d]=!0}e(je.setState,{folders:n,sortedFolderIds:i,roomIdsInFolders:a})},async[Ve.fetchRoomsInFolders]({state:t,dispatch:e}){const r=Object.keys(t.roomIdsInFolders).length;for(;t.numberOfFetchedRooms<r;)await e(Ve.fetchRooms,{pageSize:200});const n=Ice(6),i=Object.keys(t.roomIdsInFolders).filter(o=>!t.rooms[o]).map(o=>n(()=>e(Ve.fetchRoom,o)));await Promise.allSettled(i)},async[Ve.updatePref]({state:t},{key:e,value:r}){return await t.axios.post(`/me/pref/${e}`,r)},async[Ve.deletePref]({state:t},e){return await t.axios.delete(`/me/pref/${e}`)},async[Ve.updateFolder]({state:t,dispatch:e,commit:r},{folderKey:n,name:i}){const o=Object.keys(t.selectedRoomIdsForCreateFolder).filter(a=>t.selectedRoomIdsForCreateFolder[a]);await e(Ve.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(a=>t.folders[a]).filter(a=>!!a&&a.id!==n).map(a=>({key:a.id,name:a.name})).concat([{key:n,name:i}]).sort((a,l)=>a.key.localeCompare(l.key))}),await e(Ve.updatePref,{key:n,value:{children:o.map(a=>({id:a,type:"room"}))}}),t.folders[n]&&r(je.updateField,{key:"roomIdsInFolders",value:t.folders[n].roomIds.reduce((a,l)=>(a[l]=!1,a),{})});const s=new lc(n,i,o);r(je.updateField,{key:"folders",value:{[n]:s}}),r(je.updateField,{key:"roomIdsInFolders",value:o.reduce((a,l)=>(a[l]=!0,a),{})}),r(je.setState,{sortedFolderIds:[...new Set([...t.sortedFolderIds,n])],selectedRoomIdsForCreateFolder:{}}),e(Ve.aggregateRoomsAndFolders)},async[Ve.removeFolder]({state:t,dispatch:e},r){await e(Ve.deletePref,r),await e(Ve.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(n=>t.folders[n]).filter(n=>!!n&&n.id!==r).map(n=>({key:n.id,name:n.name}))}),e(Ve.handlePrefDeleteFromSocket)},async[Ve.handlePrefChangeFromSocket]({state:t,commit:e,dispatch:r},n){const{key:i,data:o}=n;if(i==="folders-meta"){const s={},a=[];for(const{key:l,name:d}of o){const f=t.folders[l]||new lc(l,d,[]);s[l]=f,a.push(l)}e(je.setState,{folders:s,sortedFolderIds:a})}else{const{id:s,name:a}=t.folders[i];if(s){const l=o.children.map(f=>f.id),d=new lc(s,a,l);e(je.updateField,{key:"folders",value:{[i]:d}}),e(je.updateField,{key:"roomIdsInFolders",value:l.reduce((f,c)=>(f[c]=!0,f),{})})}}r(Ve.aggregateRoomsAndFolders)},async[Ve.handlePrefDeleteFromSocket]({state:t,commit:e,dispatch:r},n){const i=t.folders[n];if(!i)return;const o={};for(const s of i.roomIds)o[s]=!1;e(je.deleteField,{key:"folders",value:n}),e(je.updateField,{key:"roomIdsInFolders",value:o}),e(je.setState,{sortedFolderIds:t.sortedFolderIds.filter(s=>s!==n)}),r(Ve.aggregateRoomsAndFolders)},async[Ve.aggregateRoomsAndFolders]({state:t,commit:e}){const r=Object.values(t.rooms).filter(n=>{var i;return!t.roomIdsInFolders[n.id]&&n.lastMessage!==null&&!((i=n.pref)!=null&&i.hidden)}).sort((n,i)=>{var o,s,a;return((o=n.pref)==null?void 0:o.sticky)===((s=i.pref)==null?void 0:s.sticky)?i.updatedAt-n.updatedAt:(a=n.pref)!=null&&a.sticky?-1:1});e(je.setState,{sortedRooms:r})},async[Ve.removeMembers]({state:t,commit:e},{roomId:r,uids:n}){var o;if(t.rooms[r]&&(await t.axios.post(`/rooms/${r}/delete/members`,{systemMessage:!0,members:n}),n.includes(t.uid))){e(je.deleteRoom,r);const s=(o=t.sortedRooms.find(a=>a.numberOfUnread===0))==null?void 0:o.id;s&&e(je.setState,{selectedRoomId:s})}},async[Ve.handleTypingFromSocket]({state:t,commit:e},r){const{room:n,sender:i}=r;if(n!==t.selectedRoomId||i===t.uid)return;const o=t.isTyping[i];o!==void 0&&clearTimeout(o);const s=setTimeout(()=>{e(je.deleteField,{key:"isTyping",value:i})},6e3);e(je.updateField,{key:"isTyping",value:{[i]:s}})},async[Ve.insertUnreadMessage]({state:t,commit:e}){var s;const r=t.rooms[t.selectedRoomId];if(!r)return;const n=r.lastReadMessageId[t.uid];if(!n)return;const i=(s=t.messageMultiList.main)==null?void 0:s.finds(n);if(!i)return;const o=ir.fromPayload({roomId:t.selectedRoomId,messageType:Xe.Announcement,message:"",createdAtMS:i.createdAt+1},t.uid);o&&e(je.pushMessage,o)},async[Ve.translate]({state:t},e){if(t.translationCache.has(e))return t.translationCache.get(e)||e;let r=navigator.language.split("-")[0];const n={am:"am",ar:"ar",eu:"eu",bn:"bn","en-gb":"en-GB","pt-br":"pt-BR",bg:"bg",ca:"ca",chr:"chr",hr:"hr",cs:"cs",da:"da",nl:"nl",en:"en",et:"et",fil:"fil",fi:"fi",fr:"fr",de:"de",el:"el",gu:"gu",iw:"iw",hi:"hi",hu:"hu",is:"is",id:"id",it:"it",ja:"ja",kn:"kn",ko:"ko",lv:"lv",lt:"lt",ms:"ms",ml:"ml",mr:"mr",no:"no",pl:"pl","pt-pt":"pt-PT",ro:"ro",ru:"ru",sr:"sr","zh-cn":"zh-CN",sk:"sk",sl:"sl",es:"es",sw:"sw",sv:"sv",ta:"ta",te:"te",th:"th","zh-tw":"zh-TW",tr:"tr",ur:"ur",uk:"uk",vi:"vi",cy:"cy"};n[navigator.language.toLowerCase()]&&(r=n[navigator.language.toLowerCase()]);const i=await fetch("https://translation.googleapis.com/language/translate/v2",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({q:e,key:t.config.translationApiKey,target:r}),redirect:"follow"}).then(o=>o.json()).then(o=>{var s;return(s=o.data)==null?void 0:s.translations[0].translatedText});return t.translationCache.set(e,i),i},async[Ve.searchRooms]({state:t,commit:e},r){if(t.isRequesting[oo.Search])return;const n=Object.values(li),{data:{result:i}}=await t.axios.post(oo.Search,{type:n,keyword:r}),o={},s={},a={};for(const f of n)i[f].forEach(c=>{o[c._id]=new rd(c,t.uid),a[f]||(a[f]=[]),a[f].push(o[c._id]);for(const h of c.members)s[h.id]||(s[h.id]=new Wo(h))});for(const f of Object.values(t.folders))f.name.includes(r)&&(a[li.RoomPrefFolder]||(a[li.RoomPrefFolder]=[]),a[li.RoomPrefFolder].push(f));const l=Object.keys(a),d=l.length>0?l[0]:li.RoomName;e(je.updateField,{key:"rooms",value:o}),e(je.updateField,{key:"users",value:s}),e(je.setState,{searchRooms:a,searchType:d,searchKeyword:r})},async[Ve.subscribe]({state:t}){if(!t.config.firebaseConfig||!t.config.firebaseVapidKey||await Notification.requestPermission()!=="granted")return;const r=II(t.config.firebaseConfig),n=Tce(r),i=await Ece(n,{vapidKey:t.config.firebaseVapidKey});if(!i)return;let o=localStorage.getItem("imkit-deviceId");o||(o=rf(),localStorage.setItem("imkit-deviceId",o)),await t.axios.post(oo.Subscribe,{type:"fcm",token:i,deviceId:o})},async[Ve.unsubscribe]({state:t}){let e=localStorage.getItem("imkit-deviceId");e||(e=rf(),localStorage.setItem("imkit-deviceId",e)),await t.axios.post(oo.Unsubscribe,{type:"fcm",deviceId:e})},async[Ve.removeRoomFromFolder]({state:t,commit:e,dispatch:r},n){if(!t.roomIdsInFolders[n])return;const i=t.folders[t.selectedFolderId];if(!i)return;const o=i.id,s=i.roomIds.filter(l=>l!==n);await r(Ve.updatePref,{key:o,value:{children:s.map(l=>({id:l,type:"room"}))}});const a=new lc(o,i.name,s);e(je.updateField,{key:"folders",value:{[o]:a}}),e(je.updateField,{key:"roomIdsInFolders",value:{[n]:!1}}),r(Ve.aggregateRoomsAndFolders)},async[Ve.addRoomToFolder]({state:t,commit:e,dispatch:r},{roomId:n,folderId:i}){const o=t.folders[i];if(!o)return;const s=Array.from(new Set([...o.roomIds,n]));await r(Ve.updatePref,{key:i,value:{children:s.map(l=>({id:l,type:"room"}))}});const a=new lc(i,o.name,s);e(je.updateField,{key:"folders",value:{[i]:a}}),e(je.updateField,{key:"roomIdsInFolders",value:{[n]:!0}}),r(Ve.aggregateRoomsAndFolders)},async[Ve.toggleNotification]({state:t,commit:e},r){const n=t.rooms[r];n&&(n.muted?await t.axios.delete(`/me/mute/${r}`):await t.axios.post(`/me/mute/${r}`),e(je.updateRoom,{id:r,muted:!n.muted}))},async[Ve.removeRoom]({state:t,commit:e},r){await t.axios.delete(`/rooms/${r}`),e(je.deleteRoom,r)}},Mce={doubleCount:t=>t.count*2,roomsInSelectedFolder:t=>{const{selectedFolderId:e}=t,r=t.folders[e];return r?r.roomIds.map(i=>t.rooms[i]).filter(i=>t.roomTag?i&&i.roomTags.includes(t.roomTag):i).sort((i,o)=>{var s,a,l;return((s=i.pref)==null?void 0:s.sticky)===((a=o.pref)==null?void 0:a.sticky)?o.updatedAt-i.updatedAt:(l=i.pref)!=null&&l.sticky?-1:1}):[]}},Nce={[je.increment](t){t.count++},[je.setState](t,e){Object.assign(t,e)},[je.updateField](t,e){const{key:r,value:n}=e;Object.assign(t[r],n)},[je.deleteField](t,e){const{key:r,value:n}=e;delete t[r][n]},[je.updateRoom](t,e){const{id:r}=e,n=t.rooms[r];n&&Object.assign(n,e)},[je.updateLastRead](t,e){const{roomId:r,uid:n,messageId:i}=e,o=t.rooms[r];o&&(o.lastReadMessageId[n]=i)},[je.pushMessage](t,e){var r;e.roomId===t.selectedRoomId&&((r=t.messageMultiList.main)==null||r.append(e))},[je.replaceMessage](t,e){var i;const{targetMessageId:r,message:n}=e;(i=t.messageMultiList.main)==null||i.replace(r,n)},[je.clearChatRoom](t){t.messageMultiList=new Z4,t.numberOfTotalMessages=-1,t.replyId="",t.navigationTargetId="",t.isRoomInfoVisible=!1,t.isTyping={},t.isSearchInRoomMode=!1,t.messageSearchKeyword=""},[je.deleteRoom](t,e){delete t.rooms[e],delete t.roomIdsInFolders[e],delete t.selectedRoomIdsForCreateFolder[e],t.sortedRooms=t.sortedRooms.filter(r=>r.id!==e)},[je.setMap](t,e){const{mapName:r,key:n,value:i}=e;t[r].set(n,i)},[je.deleteMap](t,e){const{mapName:r,key:n}=e;t[r].delete(n)},[je.insertMessageLinkedList](t,e){t.messageMultiList.insert(e),t.messageMultiList.merge()},[je.concateMessageLinkedList](t,e){t.messageMultiList.concate(e),t.messageMultiList.merge()},[je.unshiftMessageLinkedList](t,e){t.messageMultiList.unshift(e),t.messageMultiList.merge()}},Oce={state:eI,mutations:Nce,getters:Mce,actions:Dce,namespaced:!0},Lce={install:async(t,e)=>{const{store:r,config:n}=e;r.hasModule("imkit")||r.registerModule("imkit",Oce);let i="";try{const{id:a,_id:l}=XD(n.token);i=a||l}catch(a){console.log(a)}const o=Ase(n,r),s=xse(n,r);r.commit("imkit/setState",{config:n,uid:i,axios:o,socket:s}),t.use(iN()),t.use(Tse),t.directive("src",async(a,l)=>{const{value:d,oldValue:f}=l;if(d.startsWith("data:")){a.src=d;return}const{imageCache:c}=r.state.imkit;if(f===void 0||d!==f){if(c.has(d)){a.src=c.get(d);return}try{a.classList.add("opacity-0");const h=await o.get(d,{responseType:"arraybuffer",onDownloadProgress:y=>{const{total:b}=y;b&&r.commit("imkit/updateField",{key:"downloadProgresses",value:{[d]:y.loaded/b}})}}),p=btoa(new Uint8Array(h.data).reduce((y,b)=>y+String.fromCharCode(b),"")),m=`data:${h.headers["content-type"]};base64,${p}`;c.set(d,m),a.src=m}catch{a.src=d}a.classList.remove("opacity-0")}})}};ut.ChatRoom=tne,ut.ModalsContainer=aN,ut.RoomList=_se,ut.default=Lce,Object.defineProperties(ut,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
