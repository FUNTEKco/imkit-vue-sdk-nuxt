(function(at,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],c):(at=typeof globalThis<"u"?globalThis:at||self,c(at["IMKIT Vue SDK"]={},at.Vue))})(this,function(at,c){"use strict";var Ude=Object.defineProperty;var n6=at=>{throw TypeError(at)};var jde=(at,c,xr)=>c in at?Ude(at,c,{enumerable:!0,configurable:!0,writable:!0,value:xr}):at[c]=xr;var Pe=(at,c,xr)=>jde(at,typeof c!="symbol"?c+"":c,xr),i6=(at,c,xr)=>c.has(at)||n6("Cannot "+xr);var Vo=(at,c,xr)=>(i6(at,c,"read from private field"),xr?xr.call(at):c.get(at)),rm=(at,c,xr)=>c.has(at)?n6("Cannot add the same private member more than once"):c instanceof WeakSet?c.add(at):c.set(at,xr),Ho=(at,c,xr,Ts)=>(i6(at,c,"write to private field"),Ts?Ts.call(at,xr):c.set(at,xr),xr);var t2=(at,c,xr,Ts)=>({set _(im){Ho(at,c,im,xr)},get _(){return Vo(at,c,Ts)}});var Pi,wa,xa;var xr=document.createElement("style");xr.textContent=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.static{position:static}.\\!absolute{position:absolute!important}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-1{bottom:-.25rem}.-right-1{right:-.25rem}.-right-2{right:-.5rem}.-top-10{top:-2.5rem}.-top-2{top:-.5rem}.bottom-0{bottom:0}.bottom-16{bottom:4rem}.bottom-2{bottom:.5rem}.bottom-\\[110\\%\\]{bottom:110%}.left-0{left:0}.left-2{left:.5rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-14{right:3.5rem}.right-2{right:.5rem}.right-2\\.5{right:.625rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-2{top:.5rem}.top-\\[-40px\\]{top:-40px}.top-\\[calc\\(50\\%_\\+_28px\\)\\]{top:calc(50% + 28px)}.z-10{z-index:10}.col-span-2{grid-column:span 2 / span 2}.row-span-2{grid-row:span 2 / span 2}.-m-2{margin:-.5rem}.m-2{margin:.5rem}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.-mx-3{margin-left:-.75rem;margin-right:-.75rem}.-my-2{margin-top:-.5rem;margin-bottom:-.5rem}.my-0{margin-top:0;margin-bottom:0}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-\\[0\\.0625rem\\]{margin-bottom:.0625rem}.ml-0{margin-left:0}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-0{margin-right:0}.mr-0\\.5{margin-right:.125rem}.mr-1{margin-right:.25rem}.mt-0{margin-top:0}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-\\[0\\.0625rem\\]{margin-top:.0625rem}.block{display:block}.\\!flex{display:flex!important}.grid{display:grid}.contents{display:contents}.hidden{display:none}.\\!h-10{height:2.5rem!important}.\\!h-7{height:1.75rem!important}.\\!h-9{height:2.25rem!important}.\\!h-\\[26px\\]{height:26px!important}.\\!h-\\[30px\\]{height:30px!important}.\\!h-\\[34px\\]{height:34px!important}.\\!h-\\[38px\\]{height:38px!important}.\\!h-\\[50px\\]{height:50px!important}.\\!h-full{height:100%!important}.h-1{height:.25rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[120\\%\\]{height:120%}.h-\\[150px\\]{height:150px}.h-\\[2\\.8rem\\]{height:2.8rem}.h-\\[250px\\]{height:250px}.h-\\[300px\\]{height:300px}.h-\\[34px\\]{height:34px}.h-\\[38px\\]{height:38px}.h-\\[50px\\]{height:50px}.h-\\[50vh\\]{height:50vh}.h-\\[60px\\]{height:60px}.h-dvh{height:100dvh}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.\\!min-h-0{min-height:0px!important}.\\!min-h-0\\.5{min-height:.125rem!important}.min-h-11{min-height:2.75rem}.min-h-\\[66px\\]{min-height:66px}.\\!w-10{width:2.5rem!important}.\\!w-7{width:1.75rem!important}.\\!w-9{width:2.25rem!important}.\\!w-\\[26px\\]{width:26px!important}.\\!w-\\[30px\\]{width:30px!important}.\\!w-\\[34px\\]{width:34px!important}.\\!w-\\[38px\\]{width:38px!important}.\\!w-\\[50px\\]{width:50px!important}.w-0{width:0px}.w-0\\.5{width:.125rem}.w-1{width:.25rem}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-12{width:3rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-4\\/5{width:80%}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[120px\\]{width:120px}.w-\\[160px\\]{width:160px}.w-\\[2\\.8rem\\]{width:2.8rem}.w-\\[250px\\]{width:250px}.w-\\[260px\\]{width:260px}.w-\\[300px\\]{width:300px}.w-\\[30px\\]{width:30px}.w-\\[34px\\]{width:34px}.w-\\[350px\\]{width:350px}.w-\\[360px\\]{width:360px}.w-\\[386px\\]{width:386px}.w-\\[38px\\]{width:38px}.w-\\[40\\%\\]{width:40%}.w-\\[50px\\]{width:50px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-16{min-width:4rem}.min-w-5{min-width:1.25rem}.min-w-\\[200px\\]{min-width:200px}.min-w-\\[300px\\]{min-width:300px}.min-w-\\[380px\\]{min-width:380px}.max-w-\\[360px\\]{max-width:360px}.max-w-\\[420px\\]{max-width:420px}.max-w-\\[75\\%\\]{max-width:75%}.max-w-full{max-width:100%}.flex-shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.basis-0{flex-basis:0px}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0{gap:0px}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-px{gap:1px}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.\\!rounded-none{border-radius:0!important}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-l-xl{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-xl{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.rounded-tl-xl{border-top-left-radius:.75rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.\\!bg-gray-400{--tw-bg-opacity: 1 !important;background-color:rgb(156 163 175 / var(--tw-bg-opacity))!important}.\\!bg-white{--tw-bg-opacity: 1 !important;background-color:rgb(255 255 255 / var(--tw-bg-opacity))!important}.bg-amber-400{--tw-bg-opacity: 1;background-color:rgb(251 191 36 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-200{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-500{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-opacity-30{--tw-bg-opacity: .3}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-85{--tw-bg-opacity: .85}.bg-opacity-90{--tw-bg-opacity: .9}.fill-blue-300{fill:#93c5fd}.fill-blue-400{fill:#60a5fa}.fill-gray-100{fill:#f3f4f6}.fill-gray-600{fill:#4b5563}.fill-slate-500{fill:#64748b}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-\\[3px\\]{padding:3px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-0{padding-bottom:0}.pb-0\\.5{padding-bottom:.125rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.\\!text-3xl{font-size:1.875rem!important;line-height:2.25rem!important}.\\!text-lg{font-size:1.125rem!important;line-height:1.75rem!important}.text-\\[150px\\]{font-size:150px}.text-\\[50px\\]{font-size:50px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.leading-none{line-height:1}.text-\\[\\#444444\\]{--tw-text-opacity: 1;color:rgb(68 68 68 / var(--tw-text-opacity))}.text-\\[\\#60A5FA\\]{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.placeholder-gray-400::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.placeholder-gray-400::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.opacity-0{opacity:0}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:transform:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-200:disabled{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:flex{display:flex}.group:hover .group-hover\\:border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.dark\\:divide-zinc-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(63 63 70 / var(--tw-divide-opacity))}.dark\\:border-gray-500:is(.dark *){--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}.dark\\:border-zinc-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(39 39 42 / var(--tw-border-opacity))}.dark\\:\\!bg-zinc-800:is(.dark *){--tw-bg-opacity: 1 !important;background-color:rgb(39 39 42 / var(--tw-bg-opacity))!important}.dark\\:bg-slate-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark\\:bg-zinc-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\\:bg-zinc-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.dark\\:bg-zinc-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.dark\\:fill-sky-700:is(.dark *){fill:#0369a1}.dark\\:fill-slate-400:is(.dark *){fill:#94a3b8}.dark\\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.dark\\:text-gray-700:is(.dark *){--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.hover\\:dark\\:bg-white:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.hover\\:dark\\:text-gray-900:is(.dark *):hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.group:hover .group-hover\\:dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}@media (min-width: 640px){.sm\\:relative{position:relative}.sm\\:flex{display:flex}.sm\\:\\!hidden{display:none!important}.sm\\:hidden{display:none}.sm\\:h-\\[200px\\]{height:200px}.sm\\:h-\\[350px\\]{height:350px}.sm\\:w-1\\/4{width:25%}.sm\\:w-3\\/4{width:75%}.sm\\:w-\\[300px\\]{width:300px}.sm\\:w-\\[450px\\]{width:450px}.sm\\:min-w-\\[300px\\]{min-width:300px}.sm\\:max-w-\\[60\\%\\]{max-width:60%}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\\:hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.group:hover .sm\\:group-hover\\:flex{display:flex}.sm\\:hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.vfm--fixed{position:fixed}.vfm--absolute{position:absolute}.vfm--inset{top:0;right:0;bottom:0;left:0}.vfm--overlay{z-index:-1;background-color:#00000080}.vfm--prevent-none{pointer-events:none}.vfm--prevent-auto{pointer-events:auto}.vfm--outline-none:focus{outline:none}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.vfm-fade-enter-active{animation:fade-in .3s ease}.vfm-fade-leave-active{animation:fade-out .3s ease}.vfm-bounce-back{transition-property:transform;transition-duration:.3s}.vfm-slide-up-enter-active,.vfm-slide-up-leave-active,.vfm-slide-down-enter-active,.vfm-slide-down-leave-active{transition:transform .3s ease}.vfm-slide-down-enter-from,.vfm-slide-down-leave-to{transform:translateY(100vh)!important}.vfm-slide-up-enter-from,.vfm-slide-up-leave-to{transform:translateY(-100vh)!important}.vfm-slide-right-enter-active,.vfm-slide-right-leave-active,.vfm-slide-left-enter-active,.vfm-slide-left-leave-active{transition:transform .3s ease}.vfm-slide-right-enter-from,.vfm-slide-right-leave-to{transform:translate(100vw)!important}.vfm-slide-left-enter-from,.vfm-slide-left-leave-to{transform:translate(-100vw)!important}.vfm-swipe-banner-back,.vfm-swipe-banner-forward{position:fixed;top:0;bottom:0;width:27px;z-index:10}.vfm-swipe-banner-back{left:0}.vfm-swipe-banner-forward{right:0}.multiline-ellipsis[data-v-4082b57b]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.ellipsis[data-v-4082b57b]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.multiline-ellipsis[data-v-5248b347]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}[data-v-b091599d] .mapdiv>div>div{border-top-left-radius:12px!important;border-top-right-radius:12px!important;overflow:hidden}@keyframes bounce-40e5e96c{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.animate-bounce-1[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .1s}.animate-bounce-2[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .2s}.animate-bounce-3[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .3s}a[data-v-ede45cff]{color:#42b983}label[data-v-ede45cff]{margin:0 .5em;font-weight:700}code[data-v-ede45cff]{background-color:#eee;padding:2px 4px;border-radius:4px;color:#304455}.multiline-ellipsis[data-v-5db3707c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.v-enter-active[data-v-6a7605c3],.v-leave-active[data-v-6a7605c3]{transition:opacity .2s ease-in-out}.v-enter-from[data-v-6a7605c3],.v-leave-to[data-v-6a7605c3]{opacity:0}[data-v-6a7605c3] .mapdiv>div>div{border-top-left-radius:8px!important;border-top-right-radius:8px!important;overflow:hidden}.volumes[data-v-d7ca8ae1]{display:flex;height:100%;flex-direction:row-reverse;align-items:center;gap:.125rem;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.volumes[data-v-d7ca8ae1]::-webkit-scrollbar{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.flex{display:flex}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}html{transition-duration:.25s;transition-property:background-color;transition-timing-function:ease-in-out}html.dark{color:#e5e7eb;background-color:#22272e}.rotate-enter-active[data-v-dc349f35],.rotate-leave-active[data-v-dc349f35]{transition:all .25s ease-out}.rotate-enter-from[data-v-dc349f35]{opacity:0;transform:rotate(270deg)}.rotate-leave-to[data-v-dc349f35]{opacity:0;transform:rotate(180deg)}[data-v-6100a60a] .v3-body-inner{scrollbar-color:#393d3f rgba(0,0,0,.1);scrollbar-width:thin}[data-v-6100a60a] .v3-body-inner::-webkit-scrollbar{width:8px}[data-v-6100a60a] .v3-body-inner::-webkit-scrollbar-track{background-color:transparent}[data-v-6100a60a] .v3-body-inner::-webkit-scrollbar-thumb{display:none;background:#0000004d;border-radius:5px}[data-v-6100a60a] .v3-body-inner:hover::-webkit-scrollbar-thumb{display:block}[data-v-6100a60a] .v3-emoji-picker{height:320px;width:280px;background:#fff;color:#000;box-shadow:0 2px 10px #0003;border-radius:10px;margin:0 auto;box-sizing:border-box;display:flex;flex-direction:column;text-align:left}[data-v-6100a60a] .v3-emoji-picker *{box-sizing:border-box}[data-v-6100a60a] .v3-emoji-picker .v3-header{padding:15px 15px 13px;border-bottom:1px solid #ddd}[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups{display:flex}[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups .v3-group{flex-grow:1;padding:0;margin:0;border:none;background:none;font-size:24px;cursor:pointer;position:relative;display:block;opacity:.7;transition:.2s}[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups .v3-group:first-child,[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups .v3-group:last-child{flex-grow:0}[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups .v3-group:hover{opacity:1}[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups .v3-group span{display:flex;align-items:center;justify-content:center}[data-v-6100a60a] .v3-emoji-picker .v3-header .v3-groups .v3-group span img{display:block;width:1em;height:auto}[data-v-6100a60a] .v3-emoji-picker .v3-spacing{height:11px}[data-v-6100a60a] .v3-emoji-picker .v3-search input{width:100%;display:block;height:26px;padding:0 10px;border:1px solid #ccc;border-radius:3px;font-size:12px;transition:.2s}[data-v-6100a60a] .v3-emoji-picker .v3-search input:focus{outline:none;border-color:#000}[data-v-6100a60a] .v3-emoji-picker .v3-body{padding:0 0 15px 11px;min-height:0;flex-grow:1}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner{flex-grow:1;min-height:0;overflow-y:auto;overflow-x:hidden;height:100%;padding-right:11px}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5{margin:0;top:0;background:#fff;padding:7px 0 3px 4px}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5.v3-sticky{position:sticky}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis{display:flex;font-size:18px;flex-wrap:wrap}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button{cursor:pointer;border:none;background:none;margin:0;text-align:center;display:flex;align-items:center;justify-content:center;flex-basis:12.5%;max-width:12.5%;flex-grow:1;padding:0;font-size:22px}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button span{display:inline-block;padding-left:1px}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button:hover{background:#f7f7f7}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button img{max-width:100%;padding:4px}[data-v-6100a60a] .v3-emoji-picker .v3-body .v3-body-inner.is-mac .v3-emojis button{font-family:"Apple Color Emoji"}[data-v-6100a60a] .v3-emoji-picker .v3-footer{font-size:14px;border-top:1px solid #dddddd;padding:15px;display:flex;align-items:center;justify-content:space-between;position:relative}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone,[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-foot-left{display:flex;align-items:center}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone img,[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-foot-left img{width:20px;display:block}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone>span:first-child,[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-foot-left>span:first-child{margin-right:6px}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-foot-left>span.v3-text{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone{border:none;padding:0;background:none;cursor:pointer}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone>span{display:inline-flex;vertical-align:top}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone .v3-text{font-size:13px}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone .v3-icon{padding-bottom:3px}[data-v-6100a60a] .v3-emoji-picker .v3-footer .v3-tone .is-mac span{font-family:"Apple Color Emoji"}[data-v-6100a60a] .v3-skin-tones{position:absolute;background:#fff;height:100%;width:60%;top:0;left:0;display:flex;align-items:center;justify-content:flex-end;padding:0 15px;opacity:0;visibility:hidden;transition:.2s;border-radius:0 0 10px 10px}[data-v-6100a60a] .v3-skin-tones.v3-is-open{opacity:1;visibility:visible}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone{display:inline-block;height:15px;width:25px;border:none;padding:0;cursor:pointer;transition:0ms}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone:hover{transform:scale(1.1);transition:.2s}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone-neutral{color:#ffd225;background-color:#ffd225}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone-1f3fb{color:#ffdfbd;background-color:#ffdfbd}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone-1f3fc{color:#e9c197;background-color:#e9c197}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone-1f3fd{color:#c88e62;background-color:#c88e62}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone-1f3fe{color:#a86637;background-color:#a86637}[data-v-6100a60a] .v3-skin-tones .v3-skin-tone-1f3ff{color:#60463a;background-color:#60463a}[data-v-6100a60a] .v3-input-emoji-picker *{box-sizing:border-box}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root{position:relative}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-input,[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{width:100%;height:40px;border:1px solid #999;padding-left:15px}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{min-height:80px;resize:vertical}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea+.v3-input-picker-wrap .v3-input-picker-icon{top:auto;bottom:5px}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon{display:inline-flex;position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:24px;border:none;background:none;padding:0 5px;cursor:pointer}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon img{display:block;width:1em;height:1em}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-emoji-picker{opacity:0;visibility:hidden;transition:.2s}[data-v-6100a60a] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap.v3-picker-is-open .v3-emoji-picker{opacity:1;visibility:visible;z-index:999}.multiline-ellipsis[data-v-6100a60a]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}@keyframes bg-b3099582{0% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 0%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); } 50% { --tw-bg-opacity: 1; background-color: rgb(229 231 235 / var(--tw-bg-opacity)); } 50%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(82 82 91 / var(--tw-bg-opacity)); } 100% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 100%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); }}.loading[data-v-b3099582]{animation:bg-b3099582 2s infinite}@keyframes bg-c798849d{0%{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}}@keyframes bg-dark-c798849d{0%{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.dark .loading[data-v-c798849d]{animation:bg-dark-c798849d 2s infinite}.loading[data-v-c798849d]{animation:bg-c798849d 2s infinite}.slide-fade-enter-from[data-v-c798849d]{transform:translateY(20px);opacity:0}.slide-fade-enter-active[data-v-c798849d]{transition:all .15s ease-in-out}.slide-fade-enter-to[data-v-c798849d],.slide-fade-leave-from[data-v-c798849d]{transform:translateY(0);opacity:1}.slide-fade-leave-active[data-v-c798849d]{transition:all .15s ease-in-out}.slide-fade-leave-to[data-v-c798849d]{transform:translateY(20px);opacity:0}
`,document.head.appendChild(xr),new TextEncoder;const Ts=new TextDecoder,im=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},l6=t=>{let e=t;e instanceof Uint8Array&&(e=Ts.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return im(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class c6 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}class Cs extends c6{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function u6(t){return typeof t=="object"&&t!==null}function d6(t){if(!u6(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const f6=l6;function h6(t){if(typeof t!="string")throw new Cs("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new Cs("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new Cs("Invalid JWT");if(!e)throw new Cs("JWTs must contain a payload");let n;try{n=f6(e)}catch{throw new Cs("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Ts.decode(n))}catch{throw new Cs("Failed to parse the decoded payload as JSON")}if(!d6(i))throw new Cs("Invalid JWT Claims Set");return i}function Sd(t){return c.getCurrentScope()?(c.onScopeDispose(t),!0):!1}function Es(t){return typeof t=="function"?t():c.unref(t)}const om=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const p6=Object.prototype.toString,r2=t=>p6.call(t)==="[object Object]",La=()=>{},sm=m6();function m6(){var t,e;return om&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const n2={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function g6(t){return c.getCurrentInstance()}function y6(...t){if(t.length!==1)return c.toRef(...t);const e=t[0];return typeof e=="function"?c.readonly(c.customRef(()=>({get:e,set:La}))):c.ref(e)}function b6(t,e){g6()&&c.onUnmounted(t,e)}function am(t){var e;const r=Es(t);return(e=r==null?void 0:r.$el)!=null?e:r}const v6=om?window:void 0;function mi(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=v6):[e,r,n,i]=t,!e)return La;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,u,h,p)=>(f.addEventListener(u,h,p),()=>f.removeEventListener(u,h,p)),l=c.watch(()=>[am(e),Es(i)],([f,u])=>{if(s(),!f)return;const h=r2(u)?{...u}:u;o.push(...r.flatMap(p=>n.map(m=>a(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return Sd(d),d}const _6=500,w6=10;function x6(t,e,r){var n,i;const o=c.computed(()=>am(t));let s,a,l,d=!1;function f(){s&&(clearTimeout(s),s=void 0),a=void 0,l=void 0,d=!1}function u(b){var A,C,S;const[M,I,L]=[l,a,d];if(f(),!(r!=null&&r.onMouseUp)||!I||!M||(A=r==null?void 0:r.modifiers)!=null&&A.self&&b.target!==o.value)return;(C=r==null?void 0:r.modifiers)!=null&&C.prevent&&b.preventDefault(),(S=r==null?void 0:r.modifiers)!=null&&S.stop&&b.stopPropagation();const k=b.x-I.x,T=b.y-I.y,F=Math.sqrt(k*k+T*T);r.onMouseUp(b.timeStamp-M,F,L)}function h(b){var A,C,S,M;(A=r==null?void 0:r.modifiers)!=null&&A.self&&b.target!==o.value||(f(),(C=r==null?void 0:r.modifiers)!=null&&C.prevent&&b.preventDefault(),(S=r==null?void 0:r.modifiers)!=null&&S.stop&&b.stopPropagation(),a={x:b.x,y:b.y},l=b.timeStamp,s=setTimeout(()=>{d=!0,e(b)},(M=r==null?void 0:r.delay)!=null?M:_6))}function p(b){var A,C,S,M;if((A=r==null?void 0:r.modifiers)!=null&&A.self&&b.target!==o.value||!a||(r==null?void 0:r.distanceThreshold)===!1)return;(C=r==null?void 0:r.modifiers)!=null&&C.prevent&&b.preventDefault(),(S=r==null?void 0:r.modifiers)!=null&&S.stop&&b.stopPropagation();const I=b.x-a.x,L=b.y-a.y;Math.sqrt(I*I+L*L)>=((M=r==null?void 0:r.distanceThreshold)!=null?M:w6)&&f()}const m={capture:(n=r==null?void 0:r.modifiers)==null?void 0:n.capture,once:(i=r==null?void 0:r.modifiers)==null?void 0:i.once},y=[mi(o,"pointerdown",h,m),mi(o,"pointermove",p,m),mi(o,["pointerup","pointerleave"],u,m)];return()=>y.forEach(b=>b())}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var i2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],kd=i2.join(","),o2=typeof Element>"u",Ss=o2?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Id=!o2&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Dd=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=i===""||i==="true",s=o||r&&e&&t(e.parentNode);return s},A6=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},s2=function(e,r,n){if(Dd(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(kd));return r&&Ss.call(e,kd)&&i.unshift(e),i=i.filter(n),i},a2=function t(e,r,n){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!Dd(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,d=t(l,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else{var f=Ss.call(s,kd);f&&n.filter(s)&&(r||!e.includes(s))&&i.push(s);var u=s.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(s),h=!Dd(u,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(u&&h){var p=t(u===!0?s.children:u.children,!0,n);n.flatten?i.push.apply(i,p):i.push({scopeParent:s,candidates:p})}else o.unshift.apply(o,s.children)}}return i},l2=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ks=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||A6(e))&&!l2(e)?0:e.tabIndex},T6=function(e,r){var n=ks(e);return n<0&&r&&!l2(e)?0:n},C6=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},c2=function(e){return e.tagName==="INPUT"},E6=function(e){return c2(e)&&e.type==="hidden"},S6=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},k6=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},I6=function(e){if(!e.name)return!0;var r=e.form||Id(e),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=k6(i,e.form);return!o||o===e},D6=function(e){return c2(e)&&e.type==="radio"},M6=function(e){return D6(e)&&!I6(e)},N6=function(e){var r,n=e&&Id(e),i=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&i;){var d,f,u;n=Id(i),i=(d=n)===null||d===void 0?void 0:d.host,o=!!((f=i)!==null&&f!==void 0&&(u=f.ownerDocument)!==null&&u!==void 0&&u.contains(i))}}return o},u2=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},O6=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Ss.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(Ss.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,d=Id(e);if(l&&!l.shadowRoot&&i(l)===!0)return u2(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=a}if(N6(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return u2(e);return!1},L6=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return Ss.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},Md=function(e,r){return!(r.disabled||Dd(r)||E6(r)||O6(r,e)||S6(r)||L6(r))},lm=function(e,r){return!(M6(r)||ks(r)<0||!Md(e,r))},B6=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},R6=function t(e){var r=[],n=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=T6(a,s),d=s?t(i.candidates):a;l===0?s?r.push.apply(r,d):r.push(a):n.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:d})}),n.sort(C6).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(r)},P6=function(e,r){r=r||{};var n;return r.getShadowRoot?n=a2([e],r.includeContainer,{filter:lm.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:B6}):n=s2(e,r.includeContainer,lm.bind(null,r)),R6(n)},F6=function(e,r){r=r||{};var n;return r.getShadowRoot?n=a2([e],r.includeContainer,{filter:Md.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=s2(e,r.includeContainer,Md.bind(null,r)),n},Ba=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Ss.call(e,kd)===!1?!1:lm(r,e)},U6=i2.concat("iframe").join(","),cm=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Ss.call(e,U6)===!1?!1:Md(r,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function d2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(r),!0).forEach(function(n){j6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j6(t,e,r){return e=z6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $6(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z6(t){var e=$6(t,"string");return typeof e=="symbol"?e:String(e)}var h2={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},V6=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},H6=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ac=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},q6=function(e){return Ac(e)&&!e.shiftKey},W6=function(e){return Ac(e)&&e.shiftKey},p2=function(e){return setTimeout(e,0)},m2=function(e,r){var n=-1;return e.every(function(i,o){return r(i)?(n=o,!1):!0}),n},Tc=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Nd=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},G6=[],Q6=function(e,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||G6,o=f2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:q6,isKeyBackward:W6},r),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(P,R,$){return P&&P[R]!==void 0?P[R]:o[$||R]},d=function(P,R){var $=typeof(R==null?void 0:R.composedPath)=="function"?R.composedPath():void 0;return s.containerGroups.findIndex(function(W){var B=W.container,U=W.tabbableNodes;return B.contains(P)||($==null?void 0:$.includes(B))||U.find(function(te){return te===P})})},f=function(P){var R=o[P];if(typeof R=="function"){for(var $=arguments.length,W=new Array($>1?$-1:0),B=1;B<$;B++)W[B-1]=arguments[B];R=R.apply(void 0,W)}if(R===!0&&(R=void 0),!R){if(R===void 0||R===!1)return R;throw new Error("`".concat(P,"` was specified but was not a node, or did not return a node"))}var U=R;if(typeof R=="string"&&(U=n.querySelector(R),!U))throw new Error("`".concat(P,"` as selector refers to no known node"));return U},u=function(){var P=f("initialFocus");if(P===!1)return!1;if(P===void 0||!cm(P,o.tabbableOptions))if(d(n.activeElement)>=0)P=n.activeElement;else{var R=s.tabbableGroups[0],$=R&&R.firstTabbableNode;P=$||f("fallbackFocus")}if(!P)throw new Error("Your focus-trap needs to have at least one focusable element");return P},h=function(){if(s.containerGroups=s.containers.map(function(P){var R=P6(P,o.tabbableOptions),$=F6(P,o.tabbableOptions),W=R.length>0?R[0]:void 0,B=R.length>0?R[R.length-1]:void 0,U=$.find(function(O){return Ba(O)}),te=$.slice().reverse().find(function(O){return Ba(O)}),H=!!R.find(function(O){return ks(O)>0});return{container:P,tabbableNodes:R,focusableNodes:$,posTabIndexesFound:H,firstTabbableNode:W,lastTabbableNode:B,firstDomTabbableNode:U,lastDomTabbableNode:te,nextTabbableNode:function(E){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=R.indexOf(E);return K<0?V?$.slice($.indexOf(E)+1).find(function(Y){return Ba(Y)}):$.slice(0,$.indexOf(E)).reverse().find(function(Y){return Ba(Y)}):R[K+(V?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(P){return P.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(P){return P.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function z(P){var R=P.activeElement;if(R)return R.shadowRoot&&R.shadowRoot.activeElement!==null?z(R.shadowRoot):R},m=function z(P){if(P!==!1&&P!==p(document)){if(!P||!P.focus){z(u());return}P.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=P,V6(P)&&P.select()}},y=function(P){var R=f("setReturnFocus",P);return R||(R===!1?!1:P)},v=function(P){var R=P.target,$=P.event,W=P.isBackward,B=W===void 0?!1:W;R=R||Nd($),h();var U=null;if(s.tabbableGroups.length>0){var te=d(R,$),H=te>=0?s.containerGroups[te]:void 0;if(te<0)B?U=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:U=s.tabbableGroups[0].firstTabbableNode;else if(B){var O=m2(s.tabbableGroups,function(ae){var ie=ae.firstTabbableNode;return R===ie});if(O<0&&(H.container===R||cm(R,o.tabbableOptions)&&!Ba(R,o.tabbableOptions)&&!H.nextTabbableNode(R,!1))&&(O=te),O>=0){var E=O===0?s.tabbableGroups.length-1:O-1,V=s.tabbableGroups[E];U=ks(R)>=0?V.lastTabbableNode:V.lastDomTabbableNode}else Ac($)||(U=H.nextTabbableNode(R,!1))}else{var K=m2(s.tabbableGroups,function(ae){var ie=ae.lastTabbableNode;return R===ie});if(K<0&&(H.container===R||cm(R,o.tabbableOptions)&&!Ba(R,o.tabbableOptions)&&!H.nextTabbableNode(R))&&(K=te),K>=0){var Y=K===s.tabbableGroups.length-1?0:K+1,Q=s.tabbableGroups[Y];U=ks(R)>=0?Q.firstTabbableNode:Q.firstDomTabbableNode}else Ac($)||(U=H.nextTabbableNode(R))}}else U=f("fallbackFocus");return U},b=function(P){var R=Nd(P);if(!(d(R,P)>=0)){if(Tc(o.clickOutsideDeactivates,P)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Tc(o.allowOutsideClick,P)||P.preventDefault()}},A=function(P){var R=Nd(P),$=d(R,P)>=0;if($||R instanceof Document)$&&(s.mostRecentlyFocusedNode=R);else{P.stopImmediatePropagation();var W,B=!0;if(s.mostRecentlyFocusedNode)if(ks(s.mostRecentlyFocusedNode)>0){var U=d(s.mostRecentlyFocusedNode),te=s.containerGroups[U].tabbableNodes;if(te.length>0){var H=te.findIndex(function(O){return O===s.mostRecentlyFocusedNode});H>=0&&(o.isKeyForward(s.recentNavEvent)?H+1<te.length&&(W=te[H+1],B=!1):H-1>=0&&(W=te[H-1],B=!1))}}else s.containerGroups.some(function(O){return O.tabbableNodes.some(function(E){return ks(E)>0})})||(B=!1);else B=!1;B&&(W=v({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),m(W||s.mostRecentlyFocusedNode||u())}s.recentNavEvent=void 0},C=function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=P;var $=v({event:P,isBackward:R});$&&(Ac(P)&&P.preventDefault(),m($))},S=function(P){if(H6(P)&&Tc(o.escapeDeactivates,P)!==!1){P.preventDefault(),a.deactivate();return}(o.isKeyForward(P)||o.isKeyBackward(P))&&C(P,o.isKeyBackward(P))},M=function(P){var R=Nd(P);d(R,P)>=0||Tc(o.clickOutsideDeactivates,P)||Tc(o.allowOutsideClick,P)||(P.preventDefault(),P.stopImmediatePropagation())},I=function(){if(s.active)return h2.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?p2(function(){m(u())}):m(u()),n.addEventListener("focusin",A,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",M,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),a},L=function(){if(s.active)return n.removeEventListener("focusin",A,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",M,!0),n.removeEventListener("keydown",S,!0),a},k=function(P){var R=P.some(function($){var W=Array.from($.removedNodes);return W.some(function(B){return B===s.mostRecentlyFocusedNode})});R&&m(u())},T=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(k):void 0,F=function(){T&&(T.disconnect(),s.active&&!s.paused&&s.containers.map(function(P){T.observe(P,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(P){if(s.active)return this;var R=l(P,"onActivate"),$=l(P,"onPostActivate"),W=l(P,"checkCanFocusTrap");W||h(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=n.activeElement,R==null||R();var B=function(){W&&h(),I(),F(),$==null||$()};return W?(W(s.containers.concat()).then(B,B),this):(B(),this)},deactivate:function(P){if(!s.active)return this;var R=f2({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},P);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,L(),s.active=!1,s.paused=!1,F(),h2.deactivateTrap(i,a);var $=l(R,"onDeactivate"),W=l(R,"onPostDeactivate"),B=l(R,"checkCanReturnFocus"),U=l(R,"returnFocus","returnFocusOnDeactivate");$==null||$();var te=function(){p2(function(){U&&m(y(s.nodeFocusedBeforeActivation)),W==null||W()})};return U&&B?(B(y(s.nodeFocusedBeforeActivation)).then(te,te),this):(te(),this)},pause:function(P){if(s.paused||!s.active)return this;var R=l(P,"onPause"),$=l(P,"onPostPause");return s.paused=!0,R==null||R(),L(),F(),$==null||$(),this},unpause:function(P){if(!s.paused||!s.active)return this;var R=l(P,"onUnpause"),$=l(P,"onPostUnpause");return s.paused=!1,R==null||R(),h(),I(),F(),$==null||$(),this},updateContainerElements:function(P){var R=[].concat(P).filter(Boolean);return s.containers=R.map(function($){return typeof $=="string"?n.querySelector($):$}),s.active&&h(),F(),this}},a.updateContainerElements(e),a};function Y6(t,e={}){let r;const{immediate:n,...i}=e,o=c.ref(!1),s=c.ref(!1),a=u=>r&&r.activate(u),l=u=>r&&r.deactivate(u),d=()=>{r&&(r.pause(),s.value=!0)},f=()=>{r&&(r.unpause(),s.value=!1)};return c.watch(()=>am(t),u=>{u&&(r=Q6(u,{...i,onActivate(){o.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){o.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&a())},{flush:"post"}),Sd(()=>l()),{hasFocus:o,isPaused:s,activate:a,deactivate:l,pause:d,unpause:f}}const K6=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Cc=()=>{};function Od(t,e,r){return t>r?r:t<e?e:t}const um=t=>typeof t=="string";function dm(t,e){var r;const n=((r=Ec(t,e))==null?void 0:r[0])||e;t.push(n)}function Ec(t,e){const r=t.indexOf(e);if(r!==-1)return t.splice(r,1)}function g2(t){return Object.entries(t)}const X6={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function y2(t=!1){const e=c.ref(t),r=c.ref(e.value?0:void 0);return[e,r,{beforeEnter(){r.value=1},afterEnter(){r.value=0},beforeLeave(){r.value=3},afterLeave(){r.value=2}}]}function J6(t,e){const{modelValueLocal:r,onEntering:n,onEnter:i,onLeaving:o,onLeave:s}=e,a=c.ref(r.value),[l,d,f]=y2(a.value),[u,h,p]=y2(a.value),m=c.computed(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),y=c.computed(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),v=c.computed(()=>(t.hideOverlay||h.value===2)&&d.value===2);c.watch(v,C=>{C&&(a.value=!1)}),c.watch(d,C=>{if(C===1){if(!a.value)return;n==null||n()}else if(C===0){if(!a.value)return;i==null||i()}else C===3?o==null||o():C===2&&(s==null||s())});async function b(){a.value=!0,await c.nextTick(),l.value=!0,u.value=!0}function A(){l.value=!1,u.value=!1}return{visible:a,contentVisible:l,contentListeners:f,contentTransition:m,overlayVisible:u,overlayListeners:p,overlayTransition:y,enterTransition:b,leaveTransition:A}}function Z6(t,e,r){const{vfmRootEl:n,vfmContentEl:i,visible:o,modelValueLocal:s}=r,a=c.ref();function l(){o.value&&t.escToClose&&(s.value=!1)}function d(u){a.value=u==null?void 0:u.target}function f(){var u;a.value===n.value&&(t.clickToClose?s.value=!1:((u=i.value)==null||u.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:f,onMousedown:d}}function e5(t,e,r){let n=!1;const{open:i,close:o}=r,s=c.ref(!1),a={get value(){return s.value},set value(d){l(d)}};function l(d){(d?i():o())?(s.value=d,d!==t.modelValue&&e("update:modelValue",d)):(n=!0,e("update:modelValue",!d),c.nextTick(()=>{n=!1}))}return c.watch(()=>t.modelValue,d=>{n||(a.value=!!d)}),{modelValueLocal:a}}function t5(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:r}=e,{hasFocus:n,activate:i,deactivate:o}=Y6(r,t.focusTrap);function s(){requestAnimationFrame(()=>{i()})}function a(){n.value&&o()}return{focus:s,blur:a}}let fm=!1;if(typeof window<"u"){const t={get passive(){fm=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const b2=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let qo=[],Ld=!1,Bd=0,v2=-1,Sc,kc;const r5=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},n5=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),i5=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},o5=(t,e)=>{let r=!1;return i5(t).forEach(n=>{r5(n)&&n5(n,e)&&(r=!0)}),r},_2=t=>qo.some(()=>o5(t,-Bd)),hm=t=>{const e=t||window.event;return _2(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},s5=t=>{if(kc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(e&&r>0){const n=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);kc=document.body.style.paddingRight,document.body.style.paddingRight=`${n+r}px`}}Sc===void 0&&(Sc=document.body.style.overflow,document.body.style.overflow="hidden")},a5=()=>{kc!==void 0&&(document.body.style.paddingRight=kc,kc=void 0),Sc!==void 0&&(document.body.style.overflow=Sc,Sc=void 0)},l5=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,c5=(t,e)=>(Bd=t.targetTouches[0].clientY-v2,_2(t.target)?!1:e&&e.scrollTop===0&&Bd>0||l5(e)&&Bd<0?hm(t):(t.stopPropagation(),!0)),u5=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(qo.some(n=>n.targetElement===t))return;const r={targetElement:t,options:e||{}};qo=[...qo,r],b2?(t.ontouchstart=n=>{n.targetTouches.length===1&&(v2=n.targetTouches[0].clientY)},t.ontouchmove=n=>{n.targetTouches.length===1&&c5(n,t)},Ld||(document.addEventListener("touchmove",hm,fm?{passive:!1}:void 0),Ld=!0)):s5(e)},d5=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}qo=qo.filter(e=>e.targetElement!==t),b2?(t.ontouchstart=null,t.ontouchmove=null,Ld&&qo.length===0&&(document.removeEventListener("touchmove",hm,fm?{passive:!1}:void 0),Ld=!1)):qo.length||a5()};function f5(t,e){const{lockScrollEl:r,modelValueLocal:n}=e;let i;c.watch(r,a=>{a&&(i=a)},{immediate:!0}),c.watch(()=>t.lockScroll,a=>{a?s():o()}),c.onBeforeUnmount(()=>{o()});function o(){i&&d5(i)}function s(){n.value&&t.lockScroll&&i&&u5(i,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:o,disableBodyScroll:s}}function h5(t){const e=c.ref();function r(i){var o;e.value=(o=t.zIndexFn)==null?void 0:o.call(t,{index:i<=-1?0:i})}function n(){e.value=void 0}return{zIndex:e,refreshZIndex:r,resetZIndex:n}}const pm={beforeMount(t,{value:e},{transition:r}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,r&&e?r.beforeEnter(t):Ic(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ic(t,!0),n.enter(t)):n.leave(t,()=>{Ic(t,!1)}):Ic(t,e))},beforeUnmount(t,{value:e}){Ic(t,e)}};function Ic(t,e){t.style.visibility=e?t._vov:"hidden"}const w2=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:r}=t;return{x:e,y:r}}else{const{clientX:e,clientY:r}=t.targetTouches[0];return{x:e,y:r}}};function p5(t){if(!t)return!1;let e=!1;const r={get passive(){return e=!0,!1}};return t.addEventListener("x",Cc,r),t.removeEventListener("x",Cc),e}function m5(t,{threshold:e=0,onSwipeStart:r,onSwipe:n,onSwipeEnd:i,passive:o=!0}){const s=c.reactive({x:0,y:0}),a=c.reactive({x:0,y:0}),l=c.computed(()=>s.x-a.x),d=c.computed(()=>s.y-a.y),{max:f,abs:u}=Math,h=c.computed(()=>f(u(l.value),u(d.value))>=e),p=c.ref(!1),m=c.computed(()=>h.value?u(l.value)>u(d.value)?l.value>0?"left":"right":d.value>0?"up":"down":"none"),y=(L,k)=>{s.x=L,s.y=k},v=(L,k)=>{a.x=L,a.y=k};let b,A;function C(L){b.capture&&!b.passive&&L.preventDefault();const{x:k,y:T}=w2(L);y(k,T),v(k,T),r==null||r(L),A=[mi(t,"mousemove",S,b),mi(t,"touchmove",S,b),mi(t,"mouseup",M,b),mi(t,"touchend",M,b),mi(t,"touchcancel",M,b)]}function S(L){const{x:k,y:T}=w2(L);v(k,T),!p.value&&h.value&&(p.value=!0),p.value&&(n==null||n(L))}function M(L){p.value&&(i==null||i(L,m.value)),p.value=!1,A.forEach(k=>k())}let I=[];return c.onMounted(()=>{const L=p5(window==null?void 0:window.document);o?b=L?{passive:!0}:{capture:!1}:b=L?{passive:!1,capture:!0}:{capture:!0},I=[mi(t,"mousedown",C,b),mi(t,"touchstart",C,b)]}),{isSwiping:p,direction:m,coordsStart:s,coordsEnd:a,lengthX:l,lengthY:d,stop:()=>{I.forEach(L=>L()),A.forEach(L=>L())}}}function g5(t,e){const{vfmContentEl:r,modelValueLocal:n}=e,i=.1,o=300,s=c.ref(),a=c.computed(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?s.value:r.value}),l=c.ref(0),d=c.ref(!0);let f=Cc,u=!0,h,p=!1;const{lengthX:m,lengthY:y,direction:v,isSwiping:b}=m5(a,{threshold:t.threshold,onSwipeStart(M){f=mi(document,"selectionchange",()=>{var I;d.value=(I=window.getSelection())==null?void 0:I.isCollapsed}),h=new Date().getTime(),p=S(M==null?void 0:M.target)},onSwipe(){var M,I,L,k;if(p&&d.value&&v.value===t.swipeToClose){if(v.value==="up"){const T=Od(Math.abs(y.value||0),0,((M=a.value)==null?void 0:M.offsetHeight)||0)-(t.threshold||0);l.value=T}else if(v.value==="down"){const T=Od(Math.abs(y.value||0),0,((I=a.value)==null?void 0:I.offsetHeight)||0)-(t.threshold||0);l.value=-T}else if(v.value==="right"){const T=Od(Math.abs(m.value||0),0,((L=a.value)==null?void 0:L.offsetWidth)||0)-(t.threshold||0);l.value=-T}else if(v.value==="left"){const T=Od(Math.abs(m.value||0),0,((k=a.value)==null?void 0:k.offsetWidth)||0)-(t.threshold||0);l.value=T}}},onSwipeEnd(M,I){if(f(),!d.value){d.value=!0;return}const L=new Date().getTime(),k=I===t.swipeToClose,T=(()=>{var z,P;if(I==="up"||I==="down")return Math.abs((y==null?void 0:y.value)||0)>i*(((z=a.value)==null?void 0:z.offsetHeight)||0);if(I==="left"||I==="right")return Math.abs((m==null?void 0:m.value)||0)>i*(((P=a.value)==null?void 0:P.offsetWidth)||0)})(),F=L-h<=o;if(u&&p&&k&&(T||F)){n.value=!1;return}l.value=0}}),A=c.computed(()=>{if(t.swipeToClose==="none")return;const M=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!b.value},style:{transform:`${M}(${-l.value}px)`}}});c.watch(()=>d.value,M=>{M||(l.value=0)}),c.watch(()=>n.value,M=>{M&&(l.value=0)}),c.watch(()=>l.value,(M,I)=>{switch(t.swipeToClose){case"down":case"right":u=M<I;break;case"up":case"left":u=M>I;break}});function C(M){t.preventNavigationGestures&&M.preventDefault()}function S(M){const I=M==null?void 0:M.tagName;if(!I||["INPUT","TEXTAREA"].includes(I))return!1;const L=(()=>{switch(t.swipeToClose){case"up":return(M==null?void 0:M.scrollTop)+(M==null?void 0:M.clientHeight)===(M==null?void 0:M.scrollHeight);case"left":return(M==null?void 0:M.scrollLeft)+(M==null?void 0:M.clientWidth)===(M==null?void 0:M.scrollWidth);case"down":return(M==null?void 0:M.scrollTop)===0;case"right":return(M==null?void 0:M.scrollLeft)===0;default:return!1}})();return M===a.value?L:L&&S(M==null?void 0:M.parentElement)}return{vfmContentEl:r,swipeBannerEl:s,bindSwipe:A,onTouchStartSwipeBanner:C}}const x2=Symbol("vfm");let Is;const y5=t=>Is=t,b5={install:Cc,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:c.ref([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},v5=()=>c.getCurrentInstance()&&c.inject(x2,b5)||Is;function _5(){const t=c.shallowReactive([]),e=c.shallowReactive([]),r=c.shallowReactive([]),n=c.shallowReactive([]),i=c.ref([]),o=c.markRaw({install(s){s.provide(x2,o),s.config.globalProperties.$vfm=o},modals:t,openedModals:e,openedModalOverlays:r,dynamicModals:n,modalsContainers:i,get(s){return t.find(a=>{var l,d;return((d=(l=Dc(a))==null?void 0:l.value.modalId)==null?void 0:d.value)===s})},toggle(s,a){var l;const d=o.get(s);return(l=Dc(d))==null?void 0:l.value.toggle(a)},open(s){return o.toggle(s,!0)},close(s){return o.toggle(s,!1)},closeAll(){return Promise.allSettled(e.reduce((s,a)=>{const l=Dc(a),d=l==null?void 0:l.value.toggle(!1);return d&&s.push(d),s},[]))}});return y5(o),o}function Dc(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const w5=c.defineComponent({inheritAttrs:!1}),yo=c.defineComponent({...w5,__name:"VueFinalModal",props:X6,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:r}){const n=t,i=r,o=c.useAttrs(),s=c.getCurrentInstance(),{modals:a,openedModals:l,openedModalOverlays:d}=pn(),f=c.ref(),u=c.ref(),{focus:h,blur:p}=t5(n,{focusEl:f}),{zIndex:m,refreshZIndex:y,resetZIndex:v}=h5(n),{modelValueLocal:b}=e5(n,i,{open:E,close:V}),{enableBodyScroll:A,disableBodyScroll:C}=f5(n,{lockScrollEl:f,modelValueLocal:b});let S=Cc;const{visible:M,contentVisible:I,contentListeners:L,contentTransition:k,overlayVisible:T,overlayListeners:F,overlayTransition:z,enterTransition:P,leaveTransition:R}=J6(n,{modelValueLocal:b,onEntering(){c.nextTick(()=>{C(),h()})},onEnter(){i("opened"),S("opened")},onLeave(){Ec(l,s),v(),A(),i("closed"),S("closed")}}),{onEsc:$,onMouseupRoot:W,onMousedown:B}=Z6(n,i,{vfmRootEl:f,vfmContentEl:u,visible:M,modelValueLocal:b}),{swipeBannerEl:U,bindSwipe:te,onTouchStartSwipeBanner:H}=g5(n,{vfmContentEl:u,modelValueLocal:b}),O=c.computed(()=>s?l.indexOf(s):-1);c.watch([()=>n.zIndexFn,O],()=>{M.value&&y(O.value)}),c.onMounted(()=>{dm(a,s)}),n.modelValue&&(b.value=!0);function E(){let pe=!1;return i("beforeOpen",{stop:()=>pe=!0}),pe?!1:(dm(l,s),dm(d,s),Y(),P(),!0)}function V(){let pe=!1;return i("beforeClose",{stop:()=>pe=!0}),pe?!1:(Ec(d,s),Y(),p(),R(),!0)}function K(){b.value=!1}c.onBeforeUnmount(()=>{A(),Ec(a,s),Ec(l,s),p(),Y()});async function Y(){await c.nextTick();const pe=d.filter(fe=>{var ve;const ce=Dc(fe);return(ce==null?void 0:ce.value.overlayBehavior.value)==="auto"&&!((ve=ce==null?void 0:ce.value.hideOverlay)!=null&&ve.value)});pe.forEach((fe,ve)=>{const ce=Dc(fe);ce!=null&&ce.value&&(ce.value.overlayVisible.value=ve===pe.length-1)})}const Q=c.toRef(()=>n.modalId),ae=c.toRef(()=>n.hideOverlay),ie=c.toRef(()=>n.overlayBehavior),me=c.computed(()=>({modalId:Q,hideOverlay:ae,overlayBehavior:ie,overlayVisible:T,toggle(pe){return new Promise(fe=>{S=K6(ce=>fe(ce));const ve=typeof pe=="boolean"?pe:!b.value;b.value=ve})}}));return e({modalExposed:me}),(pe,fe)=>(c.openBlock(),c.createBlock(c.Teleport,{to:pe.teleportTo?pe.teleportTo:void 0,disabled:!pe.teleportTo},[pe.displayDirective!=="if"||c.unref(M)?c.withDirectives((c.openBlock(),c.createElementBlock("div",c.mergeProps({key:0},c.unref(o),{ref_key:"vfmRootEl",ref:f,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":pe.background==="interactive"}],style:{zIndex:c.unref(m)},role:"dialog","aria-modal":"true",onKeydown:fe[7]||(fe[7]=c.withKeys(()=>c.unref($)(),["esc"])),onMouseup:fe[8]||(fe[8]=c.withModifiers(()=>c.unref(W)(),["self"])),onMousedown:fe[9]||(fe[9]=c.withModifiers(ve=>c.unref(B)(ve),["self"]))}),[ae.value?c.createCommentVNode("",!0):(c.openBlock(),c.createBlock(c.Transition,c.mergeProps({key:0},c.unref(z),c.toHandlers(c.unref(F))),{default:c.withCtx(()=>[pe.displayDirective!=="if"||c.unref(T)?c.withDirectives((c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",pe.overlayClass]),style:c.normalizeStyle(pe.overlayStyle),"aria-hidden":"true"},null,6)),[[c.vShow,pe.displayDirective!=="show"||c.unref(T)],[c.unref(pm),pe.displayDirective!=="visible"||c.unref(T)]]):c.createCommentVNode("",!0)]),_:1},16)),c.createVNode(c.Transition,c.mergeProps(c.unref(k),c.toHandlers(c.unref(L))),{default:c.withCtx(()=>[pe.displayDirective!=="if"||c.unref(I)?c.withDirectives((c.openBlock(),c.createElementBlock("div",c.mergeProps({key:0,ref_key:"vfmContentEl",ref:u,class:["vfm__content vfm--outline-none",[pe.contentClass,{"vfm--prevent-auto":pe.background==="interactive"}]],style:pe.contentStyle,tabindex:"0"},c.unref(te),{onMousedown:fe[6]||(fe[6]=()=>c.unref(B)())}),[c.renderSlot(pe.$slots,"default",c.normalizeProps(c.guardReactiveProps({close:K}))),pe.showSwipeBanner?(c.openBlock(),c.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:U,class:"vfm-swipe-banner-container",onTouchstart:fe[2]||(fe[2]=ve=>c.unref(H)(ve))},[c.renderSlot(pe.$slots,"swipe-banner",{},()=>[c.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:fe[0]||(fe[0]=ve=>pe.swipeToClose==="left"&&ve.preventDefault())},null,32),c.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:fe[1]||(fe[1]=ve=>pe.swipeToClose==="right"&&ve.preventDefault())},null,32)])],544)):!pe.showSwipeBanner&&pe.preventNavigationGestures?(c.openBlock(),c.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:fe[5]||(fe[5]=ve=>c.unref(H)(ve))},[c.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:fe[3]||(fe[3]=ve=>pe.swipeToClose==="left"&&ve.preventDefault())},null,32),c.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:fe[4]||(fe[4]=ve=>pe.swipeToClose==="right"&&ve.preventDefault())},null,32)],32)):c.createCommentVNode("",!0)],16)),[[c.vShow,pe.displayDirective!=="show"||c.unref(I)],[c.unref(pm),pe.displayDirective!=="visible"||c.unref(I)]]):c.createCommentVNode("",!0)]),_:3},16)],16)),[[c.vShow,pe.displayDirective!=="show"||c.unref(M)],[c.unref(pm),pe.displayDirective!=="visible"||c.unref(M)]]):c.createCommentVNode("",!0)],8,["to","disabled"]))}});function pn(){const t=v5();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function A2(t,e=yo){const{component:r,slots:n,...i}=t,o=typeof n>"u"?{}:Object.fromEntries(g2(n).map(([s,a])=>um(a)?[s,a]:Rd(a)?[s,{...a,component:c.markRaw(a.component)}]:[s,c.markRaw(a)]));return{...i,component:c.markRaw(r||e),slots:o}}function bo(t){const e=c.reactive({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...A2(t)});b6(()=>{e!=null&&e.keepAlive||a()}),e.modelValue===!0&&(Is?Is==null||Is.dynamicModals.push(e):c.nextTick(()=>{const l=pn();l==null||l.dynamicModals.push(e)}));async function r(){let l;return Is?l=Is:(await c.nextTick(),l=pn()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(a(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(d=>{e.resolveOpened=()=>d("opened")}))}function n(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function i(l){const{slots:d,...f}=A2(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),o(e,f),d&&g2(d).forEach(([u,h])=>{const p=e.slots[u];um(p)?e.slots[u]=h:Rd(p)&&Rd(h)?o(p,h):e.slots[u]=h})}function o(l,d){d.component&&(l.component=d.component),d.attrs&&s(l.attrs,d.attrs)}function s(l,d){return Object.entries(d).forEach(([f,u])=>{l[f]=u}),l}function a(){const l=pn(),d=l.dynamicModals.indexOf(e);d!==-1&&l.dynamicModals.splice(d,1)}return{options:e,open:r,close:n,patchOptions:i,destroy:a}}function Rd(t){return typeof t=="object"&&t!==null?"component"in t:!1}const x5=["innerHTML"],A5=c.defineComponent({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:r}=pn(),n=Symbol("ModalsContainer"),i=c.computed(()=>{var a;return n===((a=e.value)==null?void 0:a[0])});e.value.push(n),c.onBeforeUnmount(()=>{e.value=e.value.filter(a=>a!==n)});function o(a){var l,d,f;(d=(l=r[a])==null?void 0:l.resolveClosed)==null||d.call(l),(f=r[a])!=null&&f.keepAlive||r.splice(a,1)}function s(a){var l,d;(d=(l=r[a])==null?void 0:l.resolveOpened)==null||d.call(l)}return(a,l)=>i.value?(c.openBlock(!0),c.createElementBlock(c.Fragment,{key:0},c.renderList(c.unref(r),(d,f)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(d.component),c.mergeProps({key:d.id},{displayDirective:d!=null&&d.keepAlive?"show":void 0,...typeof d.attrs=="object"?d.attrs:{}},{modelValue:d.modelValue,"onUpdate:modelValue":u=>d.modelValue=u,onClosed:()=>o(f),onOpened:()=>s(f)}),c.createSlots({_:2},[c.renderList(d.slots,(u,h)=>({name:h,fn:c.withCtx(()=>[c.unref(um)(u)?(c.openBlock(),c.createElementBlock("div",{key:0,innerHTML:u},null,8,x5)):c.unref(Rd)(u)?(c.openBlock(),c.createBlock(c.resolveDynamicComponent(u.component),c.normalizeProps(c.mergeProps({key:1},u.attrs)),null,16)):(c.openBlock(),c.createBlock(c.resolveDynamicComponent(u),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):c.createCommentVNode("",!0)}}),T2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVR4nO3aP0oEMRSA8SfiFl7CPu1AgpV51ovmLeQK9v45gF7Aq6jXEO/gegy1WBlhQZHNvEJQNt8P0kw1fMyEhEQEAAAAAAAAALCtaq27Ue0qqT19jry4HJ/99Xv9C6HWWVK7T2qrbyOXW+ldqHUWc3n4EUdtFdXeh/l8X3oVGnHW41AXB9Kj4IgT1Z5FZEd6ExxxUi6vUe1YOp2Q7ybjHJ0W6U0gzmbEaSBOA3EaiNNAnAbiNAzD2Z5nEZjUTqRHSe2GOA0plxdWyA0xl+XmL6i8dbmF+CqpXfOLNTBJOyNN7th7/90GIk0jkgORHIjkQCQHIjkQyYFjn986OMxl2eXB4RpHzw5cXnDg+ovDeFkq5XKRcnkcR1Q75wIVAAAAAAAAAMg2+AByUSBd2KYVoQAAAABJRU5ErkJggg==",Pd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAExElEQVR4nO2bS4hcRRSGa4yOGkUMKKKiID6yUbIRH7iI7hSiQWV0IwYXtn2rbj9OtaMBF/+5PTPEGNQZIQufCxUkAQVFRIwustfBx8ZkY1ATVCRO8DE+xiinOyNOcuvenqT71u2Z+uBup/7+63XqnDNKBQKBQCAQCAQCPqjVpi6MbTKmCc9py3uM5a8M4bCxOGos/6otftCEWW35DU08bpq4fmxs9xq1kgEwGhMeEEM08d/G8j/L+3BIE+8wFteolQSA041lYwhfL9+UE79j5u6qNtrr1bCjW8mNhvizfhiTYtQfhniqVps5Uw0hI8Zyo/MjBmDOEqMsf6IJV6lhYWxs9xpD/PKgjVnyEQ7HzeQWVXYqlefP0MRv97hFvjGWd8aW7zfUvi7aum2drLxKBWvNOC6JKLlNbjBN+MBYLOT/PfwSUbJRlZgRQ3g1f7Z5b9xK7gBwWq9/uNKcvFjOG0OYy1lJczG1N6gyEls8ln1W4LuohXtOZYx6feoiiY1yTDpwbDWW7Lay+DNj+c9GduKyfo1nLGzWttMWb6kyxTna4tOMGX231dpxTr/H1YTbDfG8e9zkblUGIoLOWjmDMGcRicyztppE78onAEZdEbKcOfU6Lh+0Bk28PeOmfFj5JM6cweTe4kIL7E/XgS/ldlW+0N2XeOpVXqQOyQw4J6qR3Kx8pSy041UucU7BckbkyZG+1flZ5QPdxH2OZf2tj9yNthw5zsLPi9bSQZJdjmW9U3mgE213E27HT9hRL4Gjdpw/8rYqXMyiJuJ9pTmHjKRJU8RUW7hWeUIi6DRNEeFBD2L4pzQxjQbOV54wlmcc275RuBhN/FeaGHl6FC7mP02YdBj0RPFiLH5LE0P09NnKE8biKUdc9njxYoi/TxPzCE1eqjyhLV5yxEJR8WIIs6mz1cKtyhMSwTtis02Fi9GOxJUkzgoX03mTYa1r29fH21cXLkhLxTN9Oe/xknZpJnem6iE+6EOPknKwYzkvSFRbuB5XJYXwuvJW3rE45Lg1porUIulcZ3aR+CHlC92plafO2pwk2IvSYSxecGz3I7UazlO+qDba610pDznEi9AQE25wFgwIzyjfGMu7HNGrnEd2kGNXLC5wN0VgIW5NXKF8U+2uIkcNHgtSfRjEuNK0YAgfuieHZ1RZMFL1dAklnpfc9QCymR+5x8QBrXGuKgu17mx+nDGbEo9slwR7f1pqsnuNdDPZrMpG7dGJK7XFj9kmYb8k2E+m0iAlJE38oiuLcNw475Wyb6hKuEm6LHrq6bEc5QWUnU4Pi7skCNQWv+f93aEwKaJkY24XxtKtt88Qv6kJ09riSfk6UTHxXtfbauhNiqm9QQ7KU/lx/fpKa1K0dds6V464b5/cVs1ks5gwlCYJ0mXR/9XUaX2ZWbzK5ccPtUkARqWRwFmW6XW7WD4iz4e0CHnoTVpEalRSDjbEX6QX+k44xA9qy6/Jqzzv4bliTPr/OSWGmSZvkdKMJNfl65aRselk2ntXnEkD61uyeCfHpPe3AGep1QqCSfkEk3ogmNQD4eDun0nTajVTyzfpZ69Nn6U3iXh+Of9DsupM0hav+NZWNpOmZVvJyhFzSpXHLhFy5qzucycQCAQCgUBA9ca/01SgfkYyM0gAAAAASUVORK5CYII=",T5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvElEQVR4nO1cW48URRSu9RovaLzj/fIo6i/wEqLogyjqim8aXOLA1JlZp07vAuLDqQZWWGETffQV77jqA08mxEeioiAIRh4gogmy6Bq5bVYwYE7PoBG3q3unq7p6ZvtLOtnsTFd1f3Pq3OqcEqJEiRIlSpQoUaJEB6FnaUD3gNIvgtJrJdInEmmXVLQfFP0OSCel0n82/9b7+DNQ+uPWdxfxvTyGmMmoLF93pUTqA9QfgtJjgPpMlksiHZKKPuAfpV6nK8QMQQ9g+JhE/b5EmshKooHcCVD0XrVBj3al5BLRedVG+IREvc0ViQZyd1UVvbBw4abzRTcAMJwHSN/nTeT/iFV6j8TwYdGpqDTW3AiKNvomcgpiN1dx9a2ikwBIT0rU477Ji70U/SEDelYUHUR0kVT0BiCdbkNyTkmkrYD0ek3pxRLp/lqw+s7qirVXVSpvXcgX/83/qzXCB6LvKL2e7+F7p08snZZKj/C4oohgVwWQPp8WiUiToPRHshEukJIub3fuvsHhWTWkpyTSaDTm9KR1C98vioT+/qEbpKLt0yDykERawRJn+1l4TFD6lWn5toq+XhrQ9aI4ZOq96YjUR6TSgVIjl7h+rkqFLgWkAVB0NKXK2eudVF7maSVTIm2CQbop72dcotbczGolraR6W/5sgFLqzBMcDgrPaIW5J9LoVC+GqmnNEx/uR9lYNUcUBJxEkagPpPAANuT6YIA0P8k1kkrvKaIDzQGHRPo20aVqhAty1ElRGs0gmfo7pehqUVDwswHS7gQDOi4HaLbzh4nSbWbJ/Lm/n24TBQcbSFZJCSrrnRwSHWYDJC3pTI6UQOnlU138mY05QK2615xGpNNVFc4VrlJwiVkjZc+agyJtkBxtax4OYZPUF7+7sA3ZoOeS/ExhEXkRyuCQ1Uxq2Gtzvtak+hvDCx5lYyU6lNCm5ddHDKTusJr5522LBEMUWJvMA6GMGtIys30I51mbjPeADDpmzEVsDjkTGsX+poSKLYvfTMvFh2ycNRIOADkTypBIK00ejJU4vxUDx5E56SIFx6g16BGJtG6qiz8Tjhx+Uz6VN/ucOvK2LXsRwEUW8e+r3806fo9Jr+QW7+aIakDPGOzFL5msPUcS8TqFTmbZtih0RYthjypTJBjVGsUv962iSyFRf+lEj3IxlsH3XC+6FFLpEcOyH8oy8KcGCe0TXQqp9EuG9x5te2BQeqdhYCsZH5/Zpti5A3owIQxtD6Z8oQxW3271LQrg2J8FF1PEqzra3/bApnIa1xl58EhoBelagw79te2Bo6rhmIF511N0KaH1+psXG1TdZNsDl4Rqy4SWS/6M1SVvMkpLXqY72h54pholn24TeCTUmdtkzry4dezBJ6EGx57rpDoy9AS/hDoKPZEW+UqOgE9CDckRGejn2x446m6Ll9BTLkv/wBOhnL4DpL/i5q4HdHeW8Xu42jhucC7DFl1GKKiwN94g0cHM28lRu58LBV1QQk0ZNis7nwl61NkmHXggNNqkM4TbmfTnTNxGBtSvxtsMOm7NZnAjqmHZj3GRgJWJPBc6SKTD8YKj37Y2GXf1xivqyOIPig4nFDh5bXhH67UA3CHRrcVi9WV0C6A+Zlju2623iXNvpOkXtG3xIUdCo9MhjO8WPi0cFdwa69JrSi/uNEKNcXtTUHY6O8SA+82Nk6M+0Tr/oyNqm6oDdF+KkvCHhEsYSxuxc5oWWt0sSU0LG/PqnjC31SDtLnJbDcBr13AflVEwkH7Lpa2GUQ3Cxzu18QsigYhPnJ9d6rkXwhlzhviPM3yAC85EQcA6ExT9lPjcSg/n/nDcYMqNpsmk0oRN65/Fmqc82ugzb6c8cGxrdPjxP8SOsgOd9zNGTnuSn/nvitrmvUSTm/bTHkAAqI9xt4WL2P9cBMH6y1rhZGwEdI7e/KFeH7pOFAFMalpJhaa0HuZjLFx4Aq06+ZWmRMdUkun9NIeY5b8l7Uu0iJ3knVUuw85yXl20baHCXk4Om/KZcTrT+zI3GiqkDe0cMxTt4yj6gu9nA8IRSrVBd7HEcR0VX/w3/48/i4yM0iPNDbX4PaCEY4aGiegCUXQA0nx2jKf/kvlc/GzsS4tOghyg2c2j2tqRVodkKr3Zh7dhDVUVzuUWad9EcnTkPNGRI3r4uEtQ9JUfIrvouMspDmSdx9uxqY78aXtZ03HeA3LVwlhI9A0Oz2LJ4XY/7lDLTiQd5B+Kt3oL6wblCdlYNYcJ5mKs1gkLO5oHWOtx9i2jq1kAvI/3eKLvKD3E92QtjylRokSJEiVKlCgh8sbfxQL1rY5eoTYAAAAASUVORK5CYII=",C5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVR4nM2ZX0hTYRTA1z8o6KEiooiiCCEqiCDqxTLopR6Dbnf3nO/u7l8XSvLBhx58UZo+JEEYmUYDzQ3MhCDC6bb2FqSNVIikt0gTaTMlMPpj+cU37/Squ/d+d5uuAwf2sLPz4/z7vu/M4ShQBEHYAADbZVneL0nSYUmSylwu115FUbY51lIkSdqJiJcB4C4ixhHxIwD8RERqpgAwAwAfEPEFANwihFwQBGFLUaBqa2vXI+IlDWjWCgY5lUEjYich5HQhETsFAMPFgkJj2OeiKO6zBQcAPgD4vdpwuKhTiHiOCw4Rr68hGNVF8ockSeVWaS1HxD+lAMR5TRNCduWEq6io2AgAIyWEo1okQ0Z1J5caDucB/yLikVy1N1BqOFyEvLcEThTFA4g4Z2VYV1dHn3Z306amJkoI4Xbodrvpo2CQPunqotXV1TyAE+yE0qdXtTIK1NfTVDpN05OTGY3H49Tlclk6U1WVDg0PL9h9Hh+nN6qqLO0IIcf16W2zMujp6VlwwgupLoPLamtrqyWgJEnX9ICDVgZt7e0rHKVNII3gmAYCAZ7SeKBP8TeeOnqTTHJBqiZwLBOctRvPwAmCsJW32D0eD33d35/TcSKRyED6/X46ODSU8zvRWIzKsszbySPZ9O7hBWTq8/kMI/kykTCOXCRiq/MRcTR7vJXZAcxGsn9gICdIoZHTRXA6A+h0Ok/YBbQDGc0DTtPZbIOczQeQBzKaP1xGFUXZzGrwTL4/4DdpCH3jFASYb4qt4NKFQ87m3SS8cOnCIKcygIqi7LZjaDaEe/v6uIe5lQLAJ9uDmkXu7eCgaUN4TBrHTiQB4L3+qJu2MvB6vdxD2GcyzGOxGNfABoCoHjBpZRAKhXI6jPT25nRoBtnQ0MATxfv620wwn+tWxADOCrKlpYUnglf1gF6e2/SXVMr22erz+WhSBzk6NkYrKyst7ZxO59EFQLbs0R4rpkY1NTU0HA7T242N3N2I8wOXNjc308cdHVy3ae2isG75o+mVHaerrHdyvequ/AdglC0ORFE8ZLTnW/VlEVpr0GEksiyfRMRfJYQbFwRhhyGgNhPdPG/kYisAzLAAmcLp6pHwbE+xeHATbB/psCOEkGNr0NlziBg23GhxRvM8ADxj+7sign1FxIdLhnGhwm49AHCRLcI14HfaZtSwqQDgOyKmtLO+EwBushu8qqqbigbGI8wh+yuCEHKQ7ZvZ5xUnQZ7yD8zfzl1rwXkSAAAAAElFTkSuQmCC",C2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR4nO2bsWtUQRDGV1AxWCoWWgsS7ULgbufI2RxWNlraqq34F7ybiYgaYqVFsBP/AEWFgJWQUtBCkICW0Sg2ejeTa3RlL57cJXfcnXkvu++9+cG0B/vdt9/uzts1RlEURVEURVGmYTZxh4H4rkX5DCjfLcqDBeqcnupHioxFvgMkbrD4F5A8raHUTdnpOod2CjRQb2vE1+uJO2LKyBhxXK8syRdAbs7f/nHMlIlJBYKeUMgdS/y4lnRmTRmYViDoyymL/AqQLxrnDpii8v8CSZ+r5F1hcyoNgaBXKJs+p+rJz+OmKKQqEBUwp7IQCP45in/nPqcyFYh251Rl2c2YPLFfAkFec2rfBaLBnAJqnTUxE0ogyEtOBReI+lxFvA7EN6LKqdCiwPD66rsMNuGTofWJVSDXn1PVpHVOBaKx028tSE6FdgnEnlN+FYEIBj51oWxakqSatE5kLdDH4IPdm6O2AOVRZvsp22xfCz3IdBzVnQmrVWxfSD2ngPgSkLwA4g8WuR18sHt1Fcp7S+2rmfWnKstuxu9BasRzfuXwh0x/frIkKxbluSV5M0GzP3hZlG9+P1W5xadMCBpL7mg16ZypLsqCbcoVS3wTUO4D8RNAfh2LI//up5bmVtwhEyONSIT0Ipk808hYSD/lTJ5plFWgRiRTDJDvlXPgND6kvTj1xB1MZeAVXeYHsciXAeVlLP94VBvF7iaQwg8q2qOGJf6Ua7dkfVjVdscYcuiY9f1tmOVHmDVtudIOUbRpL6Mco599IIZ8mYTQ2QL66VmGu0UvL8jIfNHrLzTMMXqByuUuXyYhk00d6iVOV4jrdZOQjmNEL5LDLmH0KYIrfL5MwrT5Ml/C51AbY8Qp94O6kU8yUZ7B4tZ5U3b8o167LdJG91EvyUN91KsoiqIoiqIoZps/5GTgdqN3Zd0AAAAASUVORK5CYII=",E2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVR4nO2bv4vUUBDHn6DicaViobUgnp292lnZaGmrtuJfoOV5B1ZaiJ34BygqCFaC5YEWCyIoy2XfzOzOxEIQ3MYbye3q/Yomuyb3XpL5wLQL893J900mb5wzDMMwDMMwjFno9fSwR74HKAjEKSA/GDCfmulH2oxHXgYS3R4e+adHfobIF1zXmVSO6D/iPaLc7Pf7R1wXKRBHt6pKCEjuev/tqOsSZQWCrRh74ieI6RnXBeYQSH/7FCC/8SSXVfWAayvzCgTbA+VDa32qEoHoj08NM58CgGOuLVQpELTRp2oSSKc+tdF4n6pTIMjxqSRJFlyT2DeBqKE+td8CwS6fIvq65GImoEDaCJ8KLRDsjE8w5FtR+VQEoujeqpJRNmVYFzkRWp8oBYK9PnXWBKKCqiJ5F8SnIqgSjdqnNk8RCp70XP2UR75DRMdrFQhQPodO9j/jh0d5XFs/BcA3IkiygoriDU/yGmB0qXKfQkyvAMpLT/zRo3xvgVg9GPL12uZTSZIsZD0IopzLTo7sJXNzHk3yCFBeeJK1EsP+4OFJOOunkiQ96UJARIsAchqRzwPItQHybSC574mfepK3EVXkGIhX11QPuRihaITkVddkqGYhs0fONRnqqkAUyyOGvNLNxKmESSOvqOrBShJP7JjfCeLoKpC8iugfj6dRnDaB2vSo7VXDo3wJnVzUL6s27iggggrQqAdmESSsZcJGrpQrjA3tIa9a7LOPxOEvZQjuLWifnrXAX+zyAuzyF7v+QjkVYxeopHn+UoaazHdslzipBdfrylBJxaBdJNccf7FVBGi7v5RhVn/xnVuHQoYCcbq9UPe3lUxAfj4guei6znSpd3lSSZwC8UNb6jUMwzAMwzAMN+EXe4XJ/lKRL1IAAAAASUVORK5CYII=";function E5(){return S2().__VUE_DEVTOOLS_GLOBAL_HOOK__}function S2(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const S5=typeof Proxy=="function",k5="devtools-plugin:setup",I5="plugin:settings:set";let Ra,mm;function D5(){var t;return Ra!==void 0||(typeof window<"u"&&window.performance?(Ra=!0,mm=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Ra=!0,mm=globalThis.perf_hooks.performance):Ra=!1),Ra}function M5(){return D5()?mm.now():Date.now()}class N5{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const s in e.settings){const a=e.settings[s];n[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return M5()}},r&&r.on(I5,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(d=>{this.targetQueue.push({method:a,args:l,resolve:d})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function k2(t,e){const r=t,n=S2(),i=E5(),o=S5&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(k5,t,e);else{const s=o?new N5(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var I2="store";function Rt(t){return t===void 0&&(t=null),c.inject(t!==null?t:I2)}function Ds(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function O5(t){return t!==null&&typeof t=="object"}function L5(t){return t&&typeof t.then=="function"}function gi(t,e){if(!t)throw new Error("[vuex] "+e)}function B5(t,e){return function(){return t(e)}}function D2(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function M2(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;Fd(t,r,[],t._modules.root,!0),gm(t,r,e)}function gm(t,e,r){var n=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=c.effectScope(!0);l.run(function(){Ds(o,function(d,f){s[f]=B5(d,t),a[f]=c.computed(function(){return s[f]()}),Object.defineProperty(t.getters,f,{get:function(){return a[f].value},enumerable:!0})})}),t._state=c.reactive({data:e}),t._scope=l,t.strict&&j5(t),n&&r&&t._withCommit(function(){n.data=null}),i&&i.stop()}function Fd(t,e,r,n,i){var o=!r.length,s=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[s]&&process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+r.join("/")),t._modulesNamespaceMap[s]=n),!o&&!i){var a=ym(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit(function(){process.env.NODE_ENV!=="production"&&l in a&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+r.join(".")+'"'),a[l]=n.state})}var d=n.context=R5(t,s,r);n.forEachMutation(function(f,u){var h=s+u;P5(t,h,f,d)}),n.forEachAction(function(f,u){var h=f.root?u:s+u,p=f.handler||f;F5(t,h,p,d)}),n.forEachGetter(function(f,u){var h=s+u;U5(t,h,f,d)}),n.forEachChild(function(f,u){Fd(t,e,r.concat(u),f,i)})}function R5(t,e,r){var n=e==="",i={dispatch:n?t.dispatch:function(o,s,a){var l=Ud(o,s,a),d=l.payload,f=l.options,u=l.type;if((!f||!f.root)&&(u=e+u,process.env.NODE_ENV!=="production"&&!t._actions[u])){console.error("[vuex] unknown local action type: "+l.type+", global type: "+u);return}return t.dispatch(u,d)},commit:n?t.commit:function(o,s,a){var l=Ud(o,s,a),d=l.payload,f=l.options,u=l.type;if((!f||!f.root)&&(u=e+u,process.env.NODE_ENV!=="production"&&!t._mutations[u])){console.error("[vuex] unknown local mutation type: "+l.type+", global type: "+u);return}t.commit(u,d,f)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return N2(t,e)}},state:{get:function(){return ym(t.state,r)}}}),i}function N2(t,e){if(!t._makeLocalGettersCache[e]){var r={},n=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function P5(t,e,r,n){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){r.call(t,n.state,s)})}function F5(t,e,r,n){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},s);return L5(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function U5(t,e,r,n){if(t._wrappedGetters[e]){process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate getter key: "+e);return}t._wrappedGetters[e]=function(o){return r(n.state,n.getters,o.state,o.getters)}}function j5(t){c.watch(function(){return t._state.data},function(){process.env.NODE_ENV!=="production"&&gi(t._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function ym(t,e){return e.reduce(function(r,n){return r[n]},t)}function Ud(t,e,r){return O5(t)&&t.type&&(r=e,e=t,t=t.type),process.env.NODE_ENV!=="production"&&gi(typeof t=="string","expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:r}}var $5="vuex bindings",O2="vuex:mutations",bm="vuex:actions",Pa="vuex",z5=0;function V5(t,e){k2({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[$5]},function(r){r.addTimelineLayer({id:O2,label:"Vuex Mutations",color:L2}),r.addTimelineLayer({id:bm,label:"Vuex Actions",color:L2}),r.addInspector({id:Pa,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(n){if(n.app===t&&n.inspectorId===Pa)if(n.filter){var i=[];F2(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[P2(e._modules.root,"")]}),r.on.getInspectorState(function(n){if(n.app===t&&n.inspectorId===Pa){var i=n.nodeId;N2(e,i),n.state=W5(Q5(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),r.on.editInspectorState(function(n){if(n.app===t&&n.inspectorId===Pa){var i=n.nodeId,o=n.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){n.set(e._state.data,o,n.state.value)})}}),e.subscribe(function(n,i){var o={};n.payload&&(o.payload=n.payload),o.state=i,r.notifyComponentUpdate(),r.sendInspectorTree(Pa),r.sendInspectorState(Pa),r.addTimelineEvent({layerId:O2,event:{time:Date.now(),title:n.type,data:o}})}),e.subscribeAction({before:function(n,i){var o={};n.payload&&(o.payload=n.payload),n._id=z5++,n._time=Date.now(),o.state=i,r.addTimelineEvent({layerId:bm,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:o}})},after:function(n,i){var o={},s=Date.now()-n._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},n.payload&&(o.payload=n.payload),o.state=i,r.addTimelineEvent({layerId:bm,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:o}})}})})}var L2=8702998,H5=6710886,q5=16777215,B2={label:"namespaced",textColor:q5,backgroundColor:H5};function R2(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function P2(t,e){return{id:e||"root",label:R2(e),tags:t.namespaced?[B2]:[],children:Object.keys(t._children).map(function(r){return P2(t._children[r],e+r+"/")})}}function F2(t,e,r,n){n.includes(r)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[B2]:[]}),Object.keys(e._children).forEach(function(i){F2(t,e._children[i],r,n+i+"/")})}function W5(t,e,r){e=r==="root"?e:e[r];var n=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(n.length){var o=G5(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?R2(s):s,editable:!1,value:vm(function(){return o[s]})}})}return i}function G5(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split("/");if(n.length>1){var i=e,o=n.pop();n.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=vm(function(){return t[r]})}else e[r]=vm(function(){return t[r]})}),e}function Q5(t,e){var r=e.split("/").filter(function(n){return n});return r.reduce(function(n,i,o){var s=n[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===r.length-1?s:s._children},e==="root"?t:t.root._children)}function vm(t){try{return t()}catch(e){return e}}var yi=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},U2={namespaced:{configurable:!0}};U2.namespaced.get=function(){return!!this._rawModule.namespaced},yi.prototype.addChild=function(e,r){this._children[e]=r},yi.prototype.removeChild=function(e){delete this._children[e]},yi.prototype.getChild=function(e){return this._children[e]},yi.prototype.hasChild=function(e){return e in this._children},yi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},yi.prototype.forEachChild=function(e){Ds(this._children,e)},yi.prototype.forEachGetter=function(e){this._rawModule.getters&&Ds(this._rawModule.getters,e)},yi.prototype.forEachAction=function(e){this._rawModule.actions&&Ds(this._rawModule.actions,e)},yi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ds(this._rawModule.mutations,e)},Object.defineProperties(yi.prototype,U2);var Ms=function(e){this.register([],e,!1)};Ms.prototype.get=function(e){return e.reduce(function(r,n){return r.getChild(n)},this.root)},Ms.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")},Ms.prototype.update=function(e){j2([],this.root,e)},Ms.prototype.register=function(e,r,n){var i=this;n===void 0&&(n=!0),process.env.NODE_ENV!=="production"&&V2(e,r);var o=new yi(r,n);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}r.modules&&Ds(r.modules,function(a,l){i.register(e.concat(l),a,n)})},Ms.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1],i=r.getChild(n);if(!i){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to unregister module '"+n+"', which is not registered");return}i.runtime&&r.removeChild(n)},Ms.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1];return r?r.hasChild(n):!1};function j2(t,e,r){if(process.env.NODE_ENV!=="production"&&V2(t,r),e.update(r),r.modules)for(var n in r.modules){if(!e.getChild(n)){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");return}j2(t.concat(n),e.getChild(n),r.modules[n])}}var $2={assert:function(t){return typeof t=="function"},expected:"function"},Y5={assert:function(t){return typeof t=="function"||typeof t=="object"&&typeof t.handler=="function"},expected:'function or object with "handler" function'},z2={getters:$2,mutations:$2,actions:Y5};function V2(t,e){Object.keys(z2).forEach(function(r){if(e[r]){var n=z2[r];Ds(e[r],function(i,o){gi(n.assert(i),K5(t,r,o,i,n.expected))})}})}function K5(t,e,r,n,i){var o=e+" should be "+i+' but "'+e+"."+r+'"';return t.length>0&&(o+=' in module "'+t.join(".")+'"'),o+=" is "+JSON.stringify(n)+".",o}function X5(t){return new mn(t)}var mn=function t(e){var r=this;e===void 0&&(e={}),process.env.NODE_ENV!=="production"&&(gi(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),gi(this instanceof t,"store must be called with the new operator."));var n=e.plugins;n===void 0&&(n=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ms(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,d=a.commit;this.dispatch=function(h,p){return l.call(s,h,p)},this.commit=function(h,p,m){return d.call(s,h,p,m)},this.strict=i;var f=this._modules.root.state;Fd(this,f,[],this._modules.root),gm(this,f),n.forEach(function(u){return u(r)})},_m={state:{configurable:!0}};mn.prototype.install=function(e,r){e.provide(r||I2,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:process.env.NODE_ENV!=="production"||!1;n&&V5(e,this)},_m.state.get=function(){return this._state.data},_m.state.set=function(t){process.env.NODE_ENV!=="production"&&gi(!1,"use store.replaceState() to explicit replace store state.")},mn.prototype.commit=function(e,r,n){var i=this,o=Ud(e,r,n),s=o.type,a=o.payload,l=o.options,d={type:s,payload:a},f=this._mutations[s];if(!f){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown mutation type: "+s);return}this._withCommit(function(){f.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(d,i.state)}),process.env.NODE_ENV!=="production"&&l&&l.silent&&console.warn("[vuex] mutation type: "+s+". Silent option has been removed. Use the filter functionality in the vue-devtools")},mn.prototype.dispatch=function(e,r){var n=this,i=Ud(e,r),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(!l){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown action type: "+o);return}try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(a,n.state)})}catch(f){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in before action subscribers: "),console.error(f))}var d=l.length>1?Promise.all(l.map(function(f){return f(s)})):l[0](s);return new Promise(function(f,u){d.then(function(h){try{n._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,n.state)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in after action subscribers: "),console.error(p))}f(h)},function(h){try{n._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,n.state,h)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in error action subscribers: "),console.error(p))}u(h)})})},mn.prototype.subscribe=function(e,r){return D2(e,this._subscribers,r)},mn.prototype.subscribeAction=function(e,r){var n=typeof e=="function"?{before:e}:e;return D2(n,this._actionSubscribers,r)},mn.prototype.watch=function(e,r,n){var i=this;return process.env.NODE_ENV!=="production"&&gi(typeof e=="function","store.watch only accepts a function."),c.watch(function(){return e(i.state,i.getters)},r,Object.assign({},n))},mn.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})},mn.prototype.registerModule=function(e,r,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&(gi(Array.isArray(e),"module path must be a string or an Array."),gi(e.length>0,"cannot register the root module by using registerModule.")),this._modules.register(e,r),Fd(this,this.state,e,this._modules.get(e),n.preserveState),gm(this,this.state)},mn.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&gi(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var n=ym(r.state,e.slice(0,-1));delete n[e[e.length-1]]}),M2(this)},mn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&gi(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},mn.prototype.hotUpdate=function(e){this._modules.update(e),M2(this,!0)},mn.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r},Object.defineProperties(mn.prototype,_m);const vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVR4nO3aS04CQRAGYNSLKEGNXmS0K72ZdIWlUsU95mYSjQY16BVcaOIdjIo2LgyRx4D9HOpP2LD5+6OHoemeVksikUgkEolEEjkF0qEydA+G3sDwhcb+Xqyx2G6FNLBjUUh3p93+gfMSQL4F5PHvi541cqcVOLbTdk+NxdDQdc+WQn6fBodHz8Qij+3YnJcppKu/4HDoedifGeZL54VQ9tpzCz2jF2Lt+2Wv7aW46J7tguGn2cX8qrp8FBrr/eoqAqKjY0Oik8GGQEN5vp8U1ifaYhXyS3JYH+jksS7R2WBdoLPD/gedLXYddPbYVdCNwdZZOFhoo7A1Z7pZ2NXRDcDWRzcIa7P4BuXuD0cu2HFj0FAfmz9ab9LPEtRYVMTYLvKSVVZQ2aNhjeVitmiN3Fn3e5kdWjvYcMsGrR3uLiaP1h62UpNFa4/7xsmhdYBN8mTQOuCJQHS0jnD8EQ0Nm3ZcCoaGMRf7S9A3TssQcQeQP2Nhlz7yYOijqqptp2WA/BgTuxhNI+dFJ9g7VoYfJjNt6NrbYwZ17yd2DJOrjkbRV2ASiUQikUgkku9P4AsjhYRlvSHnTwAAAABJRU5ErkJggg==",J5={class:"relative"},Z5=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],eM=["src"],tM={key:1,class:"flex h-[300px] w-[300px] items-center justify-center bg-gray-200 text-[150px] font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300"},rM=c.defineComponent({__name:"AvatarModal",props:{url:{},name:{}},setup(t){const e=pn(),r=t,n=c.ref(!1);n.value=r.url.length===0;const i=()=>{n.value=!0};return(o,s)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl overflow-hidden flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",J5,[c.createElementVNode("button",{class:"absolute right-2 top-2 ml-auto flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:s[0]||(s[0]=a=>c.unref(e).closeAll())},Z5),n.value?(c.openBlock(),c.createElementBlock("div",tM,c.toDisplayString(o.name&&o.name.length>0?o.name.charAt(0).toUpperCase():""),1)):(c.openBlock(),c.createElementBlock("img",{key:0,src:o.url,class:"h-[300px] w-[300px] object-cover",onError:i},null,40,eM))])]),_:1}))}}),nM=["src"],zr=c.defineComponent({__name:"AvatarView",props:{url:{},name:{}},setup(t){const e=t,r=c.ref(!1);r.value=e.url.length===0;const n=()=>{r.value=!0};c.watch(()=>[e.url,e.name],()=>{r.value=!1});const i=()=>{const{open:o}=bo({component:rM,attrs:{url:e.url,name:e.name}});o()};return(o,s)=>r.value?(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex h-[50px] w-[50px] cursor-pointer items-center justify-center rounded-2xl bg-gray-200 text-xl font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300",onClick:c.withModifiers(i,["stop"])},c.toDisplayString(o.name&&o.name.length>0?o.name.charAt(0).toUpperCase():""),1)):(c.openBlock(),c.createElementBlock("img",{key:0,src:o.url,class:"h-[50px] w-[50px] cursor-pointer rounded-2xl object-cover",onError:n,onClick:c.withModifiers(i,["stop"])},null,40,nM))}});function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){aM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sM(t,e,r){return e&&oM(t.prototype,e),t}function aM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lM(t){return cM(t)||uM(t)||dM(t)||fM()}function cM(t){if(Array.isArray(t))return wm(t)}function uM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dM(t,e){if(t){if(typeof t=="string")return wm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(t,e)}}function wm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fa={FRONT:"FRONT",BEHIND:"BEHIND"},Ns={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},q2=2,hM=function(){function t(e,r){iM(this,t),this.init(e,r)}return sM(t,[{key:"init",value:function(r,n){this.param=r,this.callUpdate=n,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=Ns.INIT,this.offset=0,this.direction="",this.range=Object.create(null),r&&this.checkRange(0,r.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var r=Object.create(null);return r.start=this.range.start,r.end=this.range.end,r.padFront=this.range.padFront,r.padBehind=this.range.padBehind,r}},{key:"isBehind",value:function(){return this.direction===Fa.BEHIND}},{key:"isFront",value:function(){return this.direction===Fa.FRONT}},{key:"getOffset",value:function(r){return(r<1?0:this.getIndexOffset(r))+this.param.slotHeaderSize}},{key:"updateParam",value:function(r,n){var i=this;this.param&&r in this.param&&(r==="uniqueIds"&&this.sizes.forEach(function(o,s){n.includes(s)||i.sizes.delete(s)}),this.param[r]=n)}},{key:"saveSize",value:function(r,n){this.sizes.set(r,n),this.calcType===Ns.INIT?(this.fixedSizeValue=n,this.calcType=Ns.FIXED):this.calcType===Ns.FIXED&&this.fixedSizeValue!==n&&(this.calcType=Ns.DYNAMIC,delete this.fixedSizeValue),this.calcType!==Ns.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=lM(this.sizes.values()).reduce(function(i,o){return i+o},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var r=this.range.start;this.isFront()?r=r-q2:this.isBehind()&&(r=r+q2),r=Math.max(r,0),this.updateRange(this.range.start,this.getEndByStart(r))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(r){this.direction=r<this.offset?Fa.FRONT:Fa.BEHIND,this.offset=r,this.param&&(this.direction===Fa.FRONT?this.handleFront():this.direction===Fa.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var r=this.getScrollOvers();if(!(r>this.range.start)){var n=Math.max(r-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}}},{key:"handleBehind",value:function(){var r=this.getScrollOvers();r<this.range.start+this.param.buffer||this.checkRange(r,this.getEndByStart(r))}},{key:"getScrollOvers",value:function(){var r=this.offset-this.param.slotHeaderSize;if(r<=0)return 0;if(this.isFixedType())return Math.floor(r/this.fixedSizeValue);for(var n=0,i=0,o=0,s=this.param.uniqueIds.length;n<=s;){if(i=n+Math.floor((s-n)/2),o=this.getIndexOffset(i),o===r)return i;o<r?n=i+1:o>r&&(s=i-1)}return n>0?--n:0}},{key:"getIndexOffset",value:function(r){if(!r)return 0;for(var n=0,i=0,o=0;o<r;o++)i=this.sizes.get(this.param.uniqueIds[o]),n=n+(typeof i=="number"?i:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,r-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}},{key:"isFixedType",value:function(){return this.calcType===Ns.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(r,n){var i=this.param.keeps,o=this.param.uniqueIds.length;o<=i?(r=0,n=this.getLastIndex()):n-r<i-1&&(r=n-i+1),this.range.start!==r&&this.updateRange(r,n)}},{key:"updateRange",value:function(r,n){this.range.start=r,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(r){var n=r+this.param.keeps-1,i=Math.min(n,this.getLastIndex());return i}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var r=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-r)*this.fixedSizeValue:this.lastCalcIndex===n?this.getIndexOffset(n)-this.getIndexOffset(r):(n-r)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),t}(),pM={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},mM={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},gM={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},W2=function(e,r,n){var i=null,o=c.computed(function(){return e.horizontal?"offsetWidth":"offsetHeight"}),s=function(){return r.value?r.value[o.value]:0},a=function(){var d=e.event,f=e.uniqueKey,u=e.hasInitial;n(d,f,s(),u)};c.onMounted(function(){typeof ResizeObserver<"u"&&(i=new ResizeObserver(function(){a()}),r.value&&i.observe(r.value))}),c.onUpdated(function(){a()}),c.onUnmounted(function(){i&&(i.disconnect(),i=null)})},yM=c.defineComponent({name:"VirtualListItem",props:mM,emits:["itemResize"],setup:function(e,r){var n=r.emit,i=c.ref(null);return W2(e,i,n),function(){var o=e.tag,s=e.component,a=e.extraProps,l=a===void 0?{}:a,d=e.index,f=e.source,u=e.scopedSlots,h=u===void 0?{}:u,p=e.uniqueKey,m=jd(jd({},l),{},{source:f,index:d});return c.createVNode(o,{key:p,ref:i},{default:function(){return[c.createVNode(s,jd(jd({},m),{},{scopedSlots:h}),null)]}})}}}),G2=c.defineComponent({name:"VirtualListSlot",props:gM,emits:["slotResize"],setup:function(e,r){var n=r.slots,i=r.emit,o=c.ref(null);return W2(e,o,i),function(){var s,a=e.tag,l=e.uniqueKey;return c.createVNode(a,{ref:o,key:l},{default:function(){return[(s=n.default)===null||s===void 0?void 0:s.call(n)]}})}}}),Mc;(function(t){t.ITEM="itemResize",t.SLOT="slotResize"})(Mc||(Mc={}));var Ua;(function(t){t.HEADER="thead",t.FOOTER="tfoot"})(Ua||(Ua={}));var $d=c.defineComponent({name:"VirtualList",props:pM,setup:function(e,r){var n=r.emit,i=r.slots,o=r.expose,s=e.direction==="horizontal",a=s?"scrollLeft":"scrollTop",l=c.ref(null),d=c.ref(),f=c.ref(null),u;c.watch(function(){return e.dataSources.length},function(){u.updateParam("uniqueIds",A()),u.handleDataSourcesChange()}),c.watch(function(){return e.keeps},function(R){u.updateParam("keeps",R),u.handleSlotSizeChange()}),c.watch(function(){return e.start},function(R){M(R)}),c.watch(function(){return e.offset},function(R){return I(R)});var h=function($){return u.sizes.get($)},p=function(){return e.pageMode?document.documentElement[a]||document.body[a]:d.value?Math.ceil(d.value[a]):0},m=function(){var $=s?"clientWidth":"clientHeight";return e.pageMode?document.documentElement[$]||document.body[$]:d.value?Math.ceil(d.value[$]):0},y=function(){var $=s?"scrollWidth":"scrollHeight";return e.pageMode?document.documentElement[$]||document.body[$]:d.value?Math.ceil(d.value[$]):0},v=function($,W,B,U){n("scroll",U,u.getRange()),u.isFront()&&e.dataSources.length&&$-e.topThreshold<=0?n("totop"):u.isBehind()&&$+W+e.bottomThreshold>=B&&n("tobottom")},b=function($){var W=p(),B=m(),U=y();W<0||W+B>U+1||!U||(u.handleScroll(W),v(W,B,U,$))},A=function(){var $=e.dataKey,W=e.dataSources,B=W===void 0?[]:W;return B.map(function(U){return typeof $=="function"?$(U):U[$]})},C=function($){l.value=$},S=function(){u=new hM({slotHeaderSize:0,slotFooterSize:0,keeps:e.keeps,estimateSize:e.estimateSize,buffer:Math.round(e.keeps/3),uniqueIds:A()},C),l.value=u.getRange()},M=function($){if($>=e.dataSources.length-1)F();else{var W=u.getOffset($);I(W)}},I=function($){e.pageMode?(document.body[a]=$,document.documentElement[a]=$):d.value&&(d.value[a]=$)},L=function(){for(var $=[],W=l.value,B=W.start,U=W.end,te=e.dataSources,H=e.dataKey,O=e.itemClass,E=e.itemTag,V=e.itemStyle,K=e.extraProps,Y=e.dataComponent,Q=e.itemScopedSlots,ae=B;ae<=U;ae++){var ie=te[ae];if(ie){var me=typeof H=="function"?H(ie):ie[H];typeof me=="string"||typeof me=="number"?$.push(c.createVNode(yM,{index:ae,tag:E,event:Mc.ITEM,horizontal:s,uniqueKey:me,source:ie,extraProps:K,component:Y,scopedSlots:Q,style:V,class:"".concat(O).concat(e.itemClassAdd?" "+e.itemClassAdd(ae):""),onItemResize:k},null)):console.warn("Cannot get the data-key '".concat(H,"' from data-sources."))}else console.warn("Cannot get the index '".concat(ae,"' from data-sources."))}return $},k=function($,W){u.saveSize($,W),n("resized",$,W)},T=function($,W,B){$===Ua.HEADER?u.updateParam("slotHeaderSize",W):$===Ua.FOOTER&&u.updateParam("slotFooterSize",W),B&&u.handleSlotSizeChange()},F=function R(){if(f.value){var $=f.value[s?"offsetLeft":"offsetTop"];I($),setTimeout(function(){p()+m()<y()&&R()},3)}},z=function(){if(d.value){var $=d.value.getBoundingClientRect(),W=d.value.ownerDocument.defaultView,B=s?$.left+W.pageXOffset:$.top+W.pageYOffset;u.updateParam("slotHeaderSize",B)}},P=function(){return u.sizes.size};return c.onBeforeMount(function(){S()}),c.onActivated(function(){I(u.offset)}),c.onMounted(function(){e.start?M(e.start):e.offset&&I(e.offset),e.pageMode&&(z(),document.addEventListener("scroll",b,{passive:!1}))}),c.onUnmounted(function(){u.destroy(),e.pageMode&&document.removeEventListener("scroll",b)}),o({scrollToBottom:F,getSizes:P,getSize:h,getOffset:p,getScrollSize:y,getClientSize:m,scrollToOffset:I,scrollToIndex:M}),function(){var R=e.pageMode,$=e.rootTag,W=e.wrapTag,B=e.wrapClass,U=e.wrapStyle,te=e.headerTag,H=e.headerClass,O=e.headerStyle,E=e.footerTag,V=e.footerClass,K=e.footerStyle,Y=l.value,Q=Y.padFront,ae=Y.padBehind,ie={padding:s?"0px ".concat(ae,"px 0px ").concat(Q,"px"):"".concat(Q,"px 0px ").concat(ae,"px")},me=U?Object.assign({},U,ie):ie,pe=i.header,fe=i.footer;return c.createVNode($,{ref:d,onScroll:!R&&b},{default:function(){return[pe&&c.createVNode(G2,{class:H,style:O,tag:te,event:Mc.SLOT,uniqueKey:Ua.HEADER,onSlotResize:T},{default:function(){return[pe()]}}),c.createVNode(W,{class:B,style:me},{default:function(){return[L()]}}),fe&&c.createVNode(G2,{class:V,style:K,tag:E,event:Mc.SLOT,uniqueKey:Ua.FOOTER,onSlotResize:T},{default:function(){return[fe()]}}),c.createVNode("div",{ref:f,style:{width:s?"0px":"100%",height:s?"100%":"0px"}},null)]}})}}});const bM="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20id='Layer'%20height='512'%20viewBox='0%200%2024%2024'%20width='512'%20version='1.1'%20sodipodi:docname='unsend-message.svg'%20inkscape:version='1.2%20(dc2aeda,%202022-05-15)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1053'%20/%3e%3csodipodi:namedview%20id='namedview1051'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='1.7128906'%20inkscape:cx='256'%20inkscape:cy='256.58381'%20inkscape:window-width='1390'%20inkscape:window-height='847'%20inkscape:window-x='1828'%20inkscape:window-y='70'%20inkscape:window-maximized='0'%20inkscape:current-layer='Layer'%20/%3e%3cpath%20id='chat-dots-times'%20d='m13.745%2020.847a.749.749%200%200%201%20-.654.835%209.688%209.688%200%200%201%20-5.165-.835%201.189%201.189%200%200%200%20-.875-.025l-2.489.836a1.77%201.77%200%200%201%20-.557.091%201.76%201.76%200%200%201%20-1.664-2.308l.841-2.5a1.181%201.181%200%200%200%20-.027-.858%209.746%209.746%200%201%201%2018.595-4.083%208.936%208.936%200%200%201%20-.065%201.09.75.75%200%201%201%20-1.489-.181%207.585%207.585%200%200%200%20.054-.909%208.249%208.249%200%201%200%20-15.737%203.442%202.68%202.68%200%200%201%20.094%201.963l-.843%202.512a.24.24%200%200%200%20.064.255.244.244%200%200%200%20.257.064l2.5-.839a2.681%202.681%200%200%201%201.981.093%208.159%208.159%200%200%200%204.347.7.756.756%200%200%201%20.832.657zm7.785-4.377a.749.749%200%200%200%20-1.06%200l-1.47%201.469-1.47-1.469a.75.75%200%200%200%20-1.06%201.06l1.469%201.47-1.469%201.47a.75.75%200%201%200%201.06%201.06l1.47-1.469%201.47%201.469a.75.75%200%200%200%201.06-1.06l-1.469-1.47%201.469-1.47a.749.749%200%200%200%200-1.06zm-9.52-5.47a1.005%201.005%200%201%200%20.01%200zm5.01%201a1%201%200%200%200%20-1-1h-.01a1%201%200%201%200%201.01%201zm-9.01-1a1.005%201.005%200%201%200%20.01%200z'%20fill='rgb(0,0,0)'%20style='fill:%234b5563;fill-opacity:1'%20/%3e%3c/svg%3e",Q2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR4nO2ZS0oDQRCGBwT1AD5AfN1E0KhJV1QSuzSuYqqCiOBar6AHiBHBA3gLieglfIsLcRPduFBQesKYjijCTLckWB/MIh3yd1X13wn8CQJBEP4vs8vFcUDaB6Q7hfwGyO9xHxV+nu4AqaryNOa9+OwizSjk5yRFw0+P5idYKqW8Tt5b8dhsIotro14aaNgmOnq6zGB5EhG7k2giYnd2kaZA89Wntua9wAcNrzY2McW71M6aJprDuXEjurLWB8hH0Wv7wiad/FeMnn2xg6TMFXgQkC+MYLRmezXwALjUV0iHX8U6qwFNjx3dAHwjJg38AsgJWIiFYgBiIQuxUAxALGQhFooBiIUsxEIxALGQhVgoBiAW+mUaHZVKqNZiu8I1zbe+ciFYKqWsoV0nFlSa7yPB+QINhZsgVa0I8Mps6iKZyyBPtyRzSJXkDSDXmsVSIVzL01gYwPrMRpHqTrJRhbxtebLWctTemqC6iRgDFywsr46A5pdm4Eob0XtmQuaYTYbp4v8BFepQxXkqDci71nRe7SY6golisRc0nbVMTdOJwvJKOlcejr6d2prp3PqAQj71eHGPvDeRTm/2KKQd+044eTSdmwg/+CvCi420BZqPze9E/AtMD4B0kMZS/58VLwhC0FZ8ALiaxMwFZ/dcAAAAAElFTkSuQmCC",Y2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR4nO2Xu4sUQRCHC8HHJYqgiAgmXqKpkQgqIjjTtRss9m/v9MBzqpbB9TA08MUECv4DcslhaCSYGZkoCAZiYCCoaGRwoKKooIi6K+OB2w4LB+exsyX9wUQzDPV1PbqbKBKpj2RmZqOD3GpCJ8li8OzlIUP7DF1MkO0ho8H3GdpzkFNkNfgUnTmyQBKDr4kkrnxNJP/ZyveHPl7eM+Q1Qx8x5KaDXuRjeujg7OyGWgUcZL4SbG9Zmb/E9Kvzcoe9TAOYGN8MYPnHQT8w9ErjeL6lbokeQ7vhN3yiu5lxckfa1v0OmbKX6wx9OlxEPjP0cpKcXT9WEsNoIN/JkAsMfTYkIy9cWw7QuEuUFEWxhpG1nNfHFYkfzsul8v3YS5SUgaZeOw76riJye2QT618lSprTuo293q1MrPtHkG8iKxJLZSVXK5m4V2smVnIfSNGZc15+huVUV08suindvZL/NCCnK+V0nqzdiRlybSAh38s9hSxRlD0RNraX5yPd7FaDo618+9LBsIZSWi0Y2g0EPpbHFLJWSg7y5M9U8lKQNRyydiDw1lwvFL8bWl4OplLWIms4L0W4uZE1mtDJQODT3jxfS9bgoIwakH1kDYYsBDe5c2QN5+XMYBrpDbJGis7h4GjxgKyRTOW7glPqK7JGgmxrIPCGrAFgIhilX8gaANYFAt/IGogCkUgkQiPgF1+GFsoZdsMBAAAAAElFTkSuQmCC";var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var K2={exports:{}};/*!
 * Autolinker.js
 * v4.0.0
 *
 * Copyright(c) 2024 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */(function(t,e){(function(r,n){t.exports=n()})(bt,function(){var r="4.0.0";function n(ee){return ee===void 0}function i(ee){return typeof ee=="boolean"}function o(ee,J){for(var se in J)J.hasOwnProperty(se)&&n(ee[se])&&(ee[se]=J[se]);return ee}function s(ee,J,se){var be;return ee.length>J&&(se==null?(se="&hellip;",be=3):be=se.length,ee=ee.substring(0,J-be)+se),ee}function a(ee,J){for(var se=ee.length-1;se>=0;se--)ee[se]===J&&ee.splice(se,1)}function l(ee,J){for(var se=ee.length-1;se>=0;se--)J(ee[se])===!0&&ee.splice(se,1)}function d(ee){throw new Error("Unhandled case for value: '".concat(ee,"'"))}var f=/[A-Za-z]/,u=/[\d]/,h=/\s/,p=/['"]/,m=/[\x00-\x1F\x7F]/,y=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,v=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source,b=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,A=y+v+b,C=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,S=A+C,M=new RegExp("[".concat(S,"]")),I=function(){function ee(J){J===void 0&&(J={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=J.tagName||"",this.attrs=J.attrs||{},this.innerHTML=J.innerHtml||J.innerHTML||""}return ee.prototype.setTagName=function(J){return this.tagName=J,this},ee.prototype.getTagName=function(){return this.tagName||""},ee.prototype.setAttr=function(J,se){var be=this.getAttrs();return be[J]=se,this},ee.prototype.getAttr=function(J){return this.getAttrs()[J]},ee.prototype.setAttrs=function(J){return Object.assign(this.getAttrs(),J),this},ee.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},ee.prototype.setClass=function(J){return this.setAttr("class",J)},ee.prototype.addClass=function(J){for(var se=this.getClass(),be=se?se.split(h):[],Je=J.split(h),ot;ot=Je.shift();)be.indexOf(ot)===-1&&be.push(ot);return this.getAttrs().class=be.join(" "),this},ee.prototype.removeClass=function(J){for(var se=this.getClass(),be=se?se.split(h):[],Je=J.split(h),ot;be.length&&(ot=Je.shift());){var Nt=be.indexOf(ot);Nt!==-1&&be.splice(Nt,1)}return this.getAttrs().class=be.join(" "),this},ee.prototype.getClass=function(){return this.getAttrs().class||""},ee.prototype.hasClass=function(J){return(" "+this.getClass()+" ").indexOf(" "+J+" ")!==-1},ee.prototype.setInnerHTML=function(J){return this.innerHTML=J,this},ee.prototype.setInnerHtml=function(J){return this.setInnerHTML(J)},ee.prototype.getInnerHTML=function(){return this.innerHTML||""},ee.prototype.getInnerHtml=function(){return this.getInnerHTML()},ee.prototype.toAnchorString=function(){var J=this.getTagName(),se=this.buildAttrsStr();return se=se?" "+se:"",["<",J,se,">",this.getInnerHtml(),"</",J,">"].join("")},ee.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var J=this.getAttrs(),se=[];for(var be in J)J.hasOwnProperty(be)&&se.push(be+'="'+J[be]+'"');return se.join(" ")},ee}();function L(ee,J,se){var be,Je;se==null?(se="&hellip;",Je=3,be=8):(Je=se.length,be=se.length);var ot=function(hr){var vr={},jt=hr,$t=jt.match(/^([a-z]+):\/\//i);return $t&&(vr.scheme=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^(.*?)(?=(\?|#|\/|$))/i),$t&&(vr.host=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^\/(.*?)(?=(\?|#|$))/i),$t&&(vr.path=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^\?(.*?)(?=(#|$))/i),$t&&(vr.query=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^#(.*?)$/i),$t&&(vr.fragment=$t[1]),vr},Nt=function(hr){var vr="";return hr.scheme&&hr.host&&(vr+=hr.scheme+"://"),hr.host&&(vr+=hr.host),hr.path&&(vr+="/"+hr.path),hr.query&&(vr+="?"+hr.query),hr.fragment&&(vr+="#"+hr.fragment),vr},br=function(hr,vr){var jt=vr/2,$t=Math.ceil(jt),ws=-1*Math.floor(jt),po="";return ws<0&&(po=hr.substr(ws)),hr.substr(0,$t)+se+po};if(ee.length<=J)return ee;var pt=J-Je,Ct=ot(ee);if(Ct.query){var Me=Ct.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);Me&&(Ct.query=Ct.query.substr(0,Me[1].length),ee=Nt(Ct))}if(ee.length<=J||(Ct.host&&(Ct.host=Ct.host.replace(/^www\./,""),ee=Nt(Ct)),ee.length<=J))return ee;var rt="";if(Ct.host&&(rt+=Ct.host),rt.length>=pt)return Ct.host.length==J?(Ct.host.substr(0,J-Je)+se).substr(0,pt+be):br(rt,pt).substr(0,pt+be);var Oe="";if(Ct.path&&(Oe+="/"+Ct.path),Ct.query&&(Oe+="?"+Ct.query),Oe)if((rt+Oe).length>=pt){if((rt+Oe).length==J)return(rt+Oe).substr(0,J);var St=pt-rt.length;return(rt+br(Oe,St)).substr(0,pt+be)}else rt+=Oe;if(Ct.fragment){var Ze="#"+Ct.fragment;if((rt+Ze).length>=pt){if((rt+Ze).length==J)return(rt+Ze).substr(0,J);var hi=pt-rt.length;return(rt+br(Ze,hi)).substr(0,pt+be)}else rt+=Ze}if(Ct.scheme&&Ct.host){var ji=Ct.scheme+"://";if((rt+ji).length<pt)return(ji+rt).substr(0,J)}if(rt.length<=J)return rt;var jo="";return pt>0&&(jo=rt.substr(-1*Math.floor(pt/2))),(rt.substr(0,Math.ceil(pt/2))+se+jo).substr(0,pt+be)}function k(ee,J,se){if(ee.length<=J)return ee;var be,Je;se==null?(se="&hellip;",be=8,Je=3):(be=se.length,Je=se.length);var ot=J-Je,Nt="";return ot>0&&(Nt=ee.substr(-1*Math.floor(ot/2))),(ee.substr(0,Math.ceil(ot/2))+se+Nt).substr(0,ot+be)}function T(ee,J,se){return s(ee,J,se)}var F=function(){function ee(J){J===void 0&&(J={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=J.newWindow||!1,this.truncate=J.truncate||{},this.className=J.className||""}return ee.prototype.build=function(J){return new I({tagName:"a",attrs:this.createAttrs(J),innerHtml:this.processAnchorText(J.getAnchorText())})},ee.prototype.createAttrs=function(J){var se={href:J.getAnchorHref()},be=this.createCssClass(J);return be&&(se.class=be),this.newWindow&&(se.target="_blank",se.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<J.getAnchorText().length&&(se.title=J.getAnchorHref()),se},ee.prototype.createCssClass=function(J){var se=this.className;if(se){for(var be=[se],Je=J.getCssClassSuffixes(),ot=0,Nt=Je.length;ot<Nt;ot++)be.push(se+"-"+Je[ot]);return be.join(" ")}else return""},ee.prototype.processAnchorText=function(J){return J=this.doTruncate(J),J},ee.prototype.doTruncate=function(J){var se=this.truncate;if(!se||!se.length)return J;var be=se.length,Je=se.location;return Je==="smart"?L(J,be):Je==="middle"?k(J,be):T(J,be)},ee}(),z=function(ee,J){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,be){se.__proto__=be}||function(se,be){for(var Je in be)Object.prototype.hasOwnProperty.call(be,Je)&&(se[Je]=be[Je])},z(ee,J)};function P(ee,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");z(ee,J);function se(){this.constructor=ee}ee.prototype=J===null?Object.create(J):(se.prototype=J.prototype,new se)}var R=function(){return R=Object.assign||function(J){for(var se,be=1,Je=arguments.length;be<Je;be++){se=arguments[be];for(var ot in se)Object.prototype.hasOwnProperty.call(se,ot)&&(J[ot]=se[ot])}return J},R.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var $=function(){function ee(J){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=J.tagBuilder,this.matchedText=J.matchedText,this.offset=J.offset}return ee.prototype.getMatchedText=function(){return this.matchedText},ee.prototype.setOffset=function(J){this.offset=J},ee.prototype.getOffset=function(){return this.offset},ee.prototype.getCssClassSuffixes=function(){return[this.type]},ee.prototype.buildTag=function(){return this.tagBuilder.build(this)},ee}(),W="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermögensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)",B=new RegExp("^"+W+"$"),U=/[\/?#]/,te=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,H=/[?!:,.;^]/,O=/https?:\/\//i,E=new RegExp("^"+O.source,"i"),V=new RegExp(H.source+"$"),K=/^(javascript|vbscript):/i,Y=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Q=/^(?:\/\/)?([^/#?:]+)/;function ae(ee){return M.test(ee)}function ie(ee){return M.test(ee)||u.test(ee)||ee==="+"||ee==="-"||ee==="."}function me(ee){return M.test(ee)}function pe(ee){return ee==="_"||me(ee)}function fe(ee){return M.test(ee)||te.test(ee)||H.test(ee)}function ve(ee){return U.test(ee)}function ce(ee){return B.test(ee.toLowerCase())}function we(ee){if(K.test(ee))return!1;var J=ee.match(Y);if(!J)return!1;var se=!!J[1],be=J[2];return se?!0:!(be.indexOf(".")===-1||!f.test(be))}function oe(ee){var J=ee.match(Q);if(!J)return!1;var se=J[0],be=se.split(".");if(be.length<2)return!1;var Je=be[be.length-1];return!!ce(Je)}var xe=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Ue=/[:/?#]/;function he(ee){var J=ee.split(Ue,1)[0];return xe.test(J)}var Se=/^(https?:\/\/)?(www\.)?/i,De=/^\/\//,j=function(ee){P(J,ee);function J(se){var be=ee.call(this,se)||this;return be.type="url",be.url="",be.urlMatchType="scheme",be.protocolRelativeMatch=!1,be.stripPrefix={scheme:!0,www:!0},be.stripTrailingSlash=!0,be.decodePercentEncoding=!0,be.protocolPrepended=!1,be.urlMatchType=se.urlMatchType,be.url=se.url,be.protocolRelativeMatch=se.protocolRelativeMatch,be.stripPrefix=se.stripPrefix,be.stripTrailingSlash=se.stripTrailingSlash,be.decodePercentEncoding=se.decodePercentEncoding,be}return J.prototype.getType=function(){return"url"},J.prototype.getUrlMatchType=function(){return this.urlMatchType},J.prototype.getUrl=function(){var se=this.url;return!this.protocolRelativeMatch&&this.urlMatchType!=="scheme"&&!this.protocolPrepended&&(se=this.url="http://"+se,this.protocolPrepended=!0),se},J.prototype.getAnchorHref=function(){var se=this.getUrl();return se.replace(/&amp;/g,"&")},J.prototype.getAnchorText=function(){var se=this.getMatchedText();return this.protocolRelativeMatch&&(se=Te(se)),this.stripPrefix.scheme&&(se=q(se)),this.stripPrefix.www&&(se=le(se)),this.stripTrailingSlash&&(se=Ne(se)),this.decodePercentEncoding&&(se=Re(se)),se},J}($);function q(ee){return ee.replace(E,"")}function le(ee){return ee.replace(Se,"$1")}function Te(ee){return ee.replace(De,"")}function Ne(ee){return ee.charAt(ee.length-1)==="/"&&(ee=ee.slice(0,-1)),ee}function Re(ee){var J=ee.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(J)}catch{return J}}var Qe=/^mailto:/i,ge=new RegExp("[".concat(S,"!#$%&'*+/=?^_`{|}~-]"));function Ee(ee){return M.test(ee)}function Ge(ee){return ge.test(ee)}function lt(ee){var J=ee.split(".").pop()||"";return ce(J)}var wt=function(ee){P(J,ee);function J(se){var be=ee.call(this,se)||this;return be.type="email",be.email="",be.email=se.email,be}return J.prototype.getType=function(){return"email"},J.prototype.getEmail=function(){return this.email},J.prototype.getAnchorHref=function(){return"mailto:"+this.email},J.prototype.getAnchorText=function(){return this.email},J}($);function Ke(ee){return ee==="_"||M.test(ee)}function Ft(ee){return ee.length<=140}var _t=["twitter","facebook","instagram","tiktok"],lr=function(ee){P(J,ee);function J(se){var be=ee.call(this,se)||this;return be.type="hashtag",be.serviceName="twitter",be.hashtag="",be.serviceName=se.serviceName,be.hashtag=se.hashtag,be}return J.prototype.getType=function(){return"hashtag"},J.prototype.getServiceName=function(){return this.serviceName},J.prototype.getHashtag=function(){return this.hashtag},J.prototype.getAnchorHref=function(){var se=this.serviceName,be=this.hashtag;switch(se){case"twitter":return"https://twitter.com/hashtag/"+be;case"facebook":return"https://www.facebook.com/hashtag/"+be;case"instagram":return"https://instagram.com/explore/tags/"+be;case"tiktok":return"https://www.tiktok.com/tag/"+be;default:throw d(se),new Error("Invalid hashtag service: ".concat(se))}},J.prototype.getAnchorText=function(){return"#"+this.hashtag},J.prototype.getCssClassSuffixes=function(){var se=ee.prototype.getCssClassSuffixes.call(this),be=this.getServiceName();return be&&se.push(be),se},J}($),dr={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},Fi=/[-\w.]/;function uo(ee){return Fi.test(ee)}function fo(ee,J){var se=dr[J];return se.test(ee)}var Ui=["twitter","instagram","soundcloud","tiktok"],ho=function(ee){P(J,ee);function J(se){var be=ee.call(this,se)||this;return be.type="mention",be.serviceName="twitter",be.mention="",be.mention=se.mention,be.serviceName=se.serviceName,be}return J.prototype.getType=function(){return"mention"},J.prototype.getMention=function(){return this.mention},J.prototype.getServiceName=function(){return this.serviceName},J.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},J.prototype.getAnchorText=function(){return"@"+this.mention},J.prototype.getCssClassSuffixes=function(){var se=ee.prototype.getCssClassSuffixes.call(this),be=this.getServiceName();return be&&se.push(be),se},J}($),Ur=/[-. ]/,jr=/[-. ()]/,ui=/[,;]/,Vn=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/,nr=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/,Hn=new RegExp("^".concat(Vn.source,"|").concat(nr.source,"$"));function cn(ee){return Ur.test(ee)}function Aa(ee){return ui.test(ee)}function Ta(ee){var J=ee.charAt(0)==="+"||jr.test(ee);return J&&Hn.test(ee)}var fr=function(ee){P(J,ee);function J(se){var be=ee.call(this,se)||this;return be.type="phone",be.number="",be.plusSign=!1,be.number=se.number,be.plusSign=se.plusSign,be}return J.prototype.getType=function(){return"phone"},J.prototype.getPhoneNumber=function(){return this.number},J.prototype.getNumber=function(){return this.getPhoneNumber()},J.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},J.prototype.getAnchorText=function(){return this.matchedText},J}($);function un(ee,J){for(var se=J.tagBuilder,be=J.stripPrefix,Je=J.stripTrailingSlash,ot=J.decodePercentEncoding,Nt=J.hashtagServiceName,br=J.mentionServiceName,pt=[],Ct=ee.length,Me=[],rt=0;rt<Ct;rt++){var Oe=ee.charAt(rt);if(Me.length===0)ji(Oe);else for(var St=Me.length-1;St>=0;St--){var Ze=Me[St];switch(Ze.state){case 11:ws(Ze,Oe);break;case 12:po(Ze,Oe);break;case 0:jo(Ze,Oe);break;case 1:hr(Ze,Oe);break;case 2:vr(Ze,Oe);break;case 3:jt(Ze,Oe);break;case 4:$t(Ze,Oe);break;case 5:Ca(Ze,Oe);break;case 6:dn(Ze,Oe);break;case 7:bd(Ze,Oe);break;case 13:xs(Ze,Oe);break;case 14:$o(Ze,Oe);break;case 8:As(Ze,Oe);break;case 9:mo(Ze,Oe);break;case 10:Ea(Ze,Oe);break;case 15:pc(Ze,Oe);break;case 16:Sa(Ze,Oe);break;case 17:vd(Ze,Oe);break;case 18:fn(Ze,Oe);break;case 19:Ln(Ze,Oe);break;case 20:$r(Ze,Oe);break;case 21:mc(Ze,Oe);break;case 22:Gn(Ze,Oe);break;case 23:gc(Ze,Oe);break;case 24:Le(Ze,Oe);break;case 25:zp(Ze,Oe);break;case 26:Ob(Ze,Oe);break;case 27:yc(Ze,Oe);break;case 28:ka(Ze,Oe);break;case 29:Vp(Ze,Oe);break;case 30:Lb(Ze,Oe);break;case 31:Bb(Ze,Oe);break;case 32:qp(Ze,Oe);break;case 33:Rb(Ze,Oe);break;case 34:Wp(Ze,Oe);break;case 35:Pb(Ze,Oe);break;case 36:Fb(Ze,Oe);break;case 37:Hp(Ze,Oe);break;case 38:Ub(Ze,Oe);break;case 39:jb(Ze,Oe);break;case 40:$b(Ze,Oe);break;case 41:zb(Ze,Oe);break;default:d(Ze.state)}}}for(var hi=Me.length-1;hi>=0;hi--)Me.forEach(function(ue){return qt(ue)});return pt;function ji(ue){if(ue==="#")Me.push(Lt(rt,28));else if(ue==="@")Me.push(Nb(rt,30));else if(ue==="/")Me.push(di(rt,11));else if(ue==="+")Me.push(_s(rt,37));else if(ue==="(")Me.push(_s(rt,32));else{if(u.test(ue)&&(Me.push(_s(rt,38)),Me.push(On(rt,13))),Ee(ue)){var _e=ue.toLowerCase()==="m"?15:22;Me.push(vs(rt,_e))}ae(ue)&&Me.push(Wn(rt,0)),M.test(ue)&&Me.push(di(rt,5))}}function jo(ue,_e){_e===":"?ue.state=2:_e==="-"?ue.state=1:ie(_e)||a(Me,ue)}function hr(ue,_e){_e==="-"||(_e==="/"?(a(Me,ue),Me.push(di(rt,11))):ie(_e)?ue.state=0:a(Me,ue))}function vr(ue,_e){_e==="/"?ue.state=3:_e==="."?a(Me,ue):me(_e)?(ue.state=5,ae(_e)&&Me.push(Wn(rt,0))):a(Me,ue)}function jt(ue,_e){_e==="/"?ue.state=4:fe(_e)?(ue.state=10,ue.acceptStateReached=!0):qt(ue)}function $t(ue,_e){_e==="/"?ue.state=10:me(_e)?(ue.state=5,ue.acceptStateReached=!0):a(Me,ue)}function ws(ue,_e){_e==="/"?ue.state=12:a(Me,ue)}function po(ue,_e){me(_e)?ue.state=5:a(Me,ue)}function Ca(ue,_e){_e==="."?ue.state=7:_e==="-"?ue.state=6:_e===":"?ue.state=8:ve(_e)?ue.state=10:pe(_e)||qt(ue)}function dn(ue,_e){_e==="-"||(_e==="."?qt(ue):me(_e)?ue.state=5:qt(ue))}function bd(ue,_e){_e==="."?qt(ue):me(_e)?(ue.state=5,ue.acceptStateReached=!0):qt(ue)}function xs(ue,_e){_e==="."?ue.state=14:_e===":"?ue.state=8:u.test(_e)||(ve(_e)?ue.state=10:M.test(_e)?a(Me,ue):qt(ue))}function $o(ue,_e){u.test(_e)?(ue.octetsEncountered++,ue.octetsEncountered===4&&(ue.acceptStateReached=!0),ue.state=13):qt(ue)}function As(ue,_e){u.test(_e)?ue.state=9:qt(ue)}function mo(ue,_e){u.test(_e)||(ve(_e)?ue.state=10:qt(ue))}function Ea(ue,_e){fe(_e)||qt(ue)}function pc(ue,_e){_e.toLowerCase()==="a"?ue.state=16:Gn(ue,_e)}function Sa(ue,_e){_e.toLowerCase()==="i"?ue.state=17:Gn(ue,_e)}function vd(ue,_e){_e.toLowerCase()==="l"?ue.state=18:Gn(ue,_e)}function fn(ue,_e){_e.toLowerCase()==="t"?ue.state=19:Gn(ue,_e)}function Ln(ue,_e){_e.toLowerCase()==="o"?ue.state=20:Gn(ue,_e)}function $r(ue,_e){_e.toLowerCase()===":"?ue.state=21:Gn(ue,_e)}function mc(ue,_e){Ge(_e)?ue.state=22:a(Me,ue)}function Gn(ue,_e){_e==="."?ue.state=23:_e==="@"?ue.state=24:Ge(_e)?ue.state=22:a(Me,ue)}function gc(ue,_e){_e==="."||_e==="@"?a(Me,ue):Ge(_e)?ue.state=22:a(Me,ue)}function Le(ue,_e){me(_e)?ue.state=25:a(Me,ue)}function zp(ue,_e){_e==="."?ue.state=27:_e==="-"?ue.state=26:pe(_e)||qt(ue)}function Ob(ue,_e){_e==="-"||_e==="."?qt(ue):pe(_e)?ue.state=25:qt(ue)}function yc(ue,_e){_e==="."||_e==="-"?qt(ue):me(_e)?(ue.state=25,ue.acceptStateReached=!0):qt(ue)}function ka(ue,_e){Ke(_e)?(ue.state=29,ue.acceptStateReached=!0):a(Me,ue)}function Vp(ue,_e){Ke(_e)||qt(ue)}function Lb(ue,_e){uo(_e)?(ue.state=31,ue.acceptStateReached=!0):a(Me,ue)}function Bb(ue,_e){uo(_e)||(M.test(_e)?a(Me,ue):qt(ue))}function Hp(ue,_e){u.test(_e)?ue.state=38:(a(Me,ue),ji(_e))}function qp(ue,_e){u.test(_e)?ue.state=33:a(Me,ue),ji(_e)}function Rb(ue,_e){u.test(_e)?ue.state=34:a(Me,ue)}function Wp(ue,_e){u.test(_e)?ue.state=35:a(Me,ue)}function Pb(ue,_e){_e===")"?ue.state=36:a(Me,ue)}function Fb(ue,_e){u.test(_e)?ue.state=38:cn(_e)?ue.state=39:a(Me,ue)}function Ub(ue,_e){ue.acceptStateReached=!0,Aa(_e)?ue.state=40:_e==="#"?ue.state=41:u.test(_e)||(_e==="("?ue.state=32:cn(_e)?ue.state=39:(qt(ue),ae(_e)&&Me.push(Wn(rt,0))))}function jb(ue,_e){u.test(_e)?ue.state=38:_e==="("?ue.state=32:(qt(ue),ji(_e))}function $b(ue,_e){Aa(_e)||(_e==="#"?ue.state=41:u.test(_e)?ue.state=38:qt(ue))}function zb(ue,_e){Aa(_e)?ue.state=40:u.test(_e)?a(Me,ue):qt(ue)}function qt(ue){if(a(Me,ue),!!ue.acceptStateReached){var _e=ue.startIdx,Bt=ee.slice(ue.startIdx,rt);if(Bt=qn(Bt),ue.type==="url"){var Vb=ee.charAt(ue.startIdx-1);if(Vb==="@")return;var Ia=ue.matchType;if(Ia==="scheme"){var _d=O.exec(Bt);if(_d&&(_e=_e+_d.index,Bt=Bt.slice(_d.index)),!we(Bt))return}else if(Ia==="tld"){if(!oe(Bt))return}else if(Ia==="ipV4"){if(!he(Bt))return}else d(Ia);pt.push(new j({tagBuilder:se,matchedText:Bt,offset:_e,urlMatchType:Ia,url:Bt,protocolRelativeMatch:Bt.slice(0,2)==="//",stripPrefix:be,stripTrailingSlash:Je,decodePercentEncoding:ot}))}else if(ue.type==="email")lt(Bt)&&pt.push(new wt({tagBuilder:se,matchedText:Bt,offset:_e,email:Bt.replace(Qe,"")}));else if(ue.type==="hashtag")Ft(Bt)&&pt.push(new lr({tagBuilder:se,matchedText:Bt,offset:_e,serviceName:Nt,hashtag:Bt.slice(1)}));else if(ue.type==="mention")fo(Bt,br)&&pt.push(new ho({tagBuilder:se,matchedText:Bt,offset:_e,serviceName:br,mention:Bt.slice(1)}));else if(ue.type==="phone"){if(Bt=Bt.replace(/ +$/g,""),Ta(Bt)){var Hb=Bt.replace(/[^0-9,;#]/g,"");pt.push(new fr({tagBuilder:se,matchedText:Bt,offset:_e,number:Hb,plusSign:Bt.charAt(0)==="+"}))}}else d(ue)}}}var Br=/[\(\{\[]/,Er=/[\)\}\]]/,Mt={")":"(","}":"{","]":"["};function qn(ee){for(var J={"(":0,"{":0,"[":0},se=0;se<ee.length;se++){var be=ee.charAt(se);Br.test(be)?J[be]++:Er.test(be)&&J[Mt[be]]--}for(var Je=ee.length-1,ot;Je>=0;)if(ot=ee.charAt(Je),Er.test(ot)){var Nt=Mt[ot];if(J[Nt]<0)J[Nt]++,Je--;else break}else if(V.test(ot))Je--;else break;return ee.slice(0,Je+1)}function Wn(ee,J){return{type:"url",startIdx:ee,state:J,acceptStateReached:!1,matchType:"scheme"}}function di(ee,J){return{type:"url",startIdx:ee,state:J,acceptStateReached:!1,matchType:"tld"}}function On(ee,J){return{type:"url",startIdx:ee,state:J,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}function vs(ee,J){return{type:"email",startIdx:ee,state:J,acceptStateReached:!1}}function Lt(ee,J){return{type:"hashtag",startIdx:ee,state:J,acceptStateReached:!1}}function Nb(ee,J){return{type:"mention",startIdx:ee,state:J,acceptStateReached:!1}}function _s(ee,J){return{type:"phone",startIdx:ee,state:J,acceptStateReached:!1}}function fc(ee,J){for(var se=J.onOpenTag,be=J.onCloseTag,Je=J.onText,ot=J.onComment,Nt=J.onDoctype,br=new fi,pt=0,Ct=ee.length,Me=0,rt=0,Oe=br;pt<Ct;){var St=ee.charAt(pt);switch(Me){case 0:Ze(St);break;case 1:hi(St);break;case 2:jo(St);break;case 3:ji(St);break;case 4:hr(St);break;case 5:vr(St);break;case 6:jt(St);break;case 7:$t(St);break;case 8:ws(St);break;case 9:po(St);break;case 10:Ca(St);break;case 11:dn(St);break;case 12:bd(St);break;case 13:xs();break;case 14:$o(St);break;case 15:As(St);break;case 16:mo(St);break;case 17:Ea(St);break;case 18:pc(St);break;case 19:Sa(St);break;case 20:vd(St);break;default:d(Me)}pt++}rt<pt&&mc();function Ze(Le){Le==="<"&&Ln()}function hi(Le){Le==="!"?Me=13:Le==="/"?(Me=2,Oe=new fi(R(R({},Oe),{isClosing:!0}))):Le==="<"?Ln():f.test(Le)?(Me=3,Oe=new fi(R(R({},Oe),{isOpening:!0}))):(Me=0,Oe=br)}function ji(Le){h.test(Le)?(Oe=new fi(R(R({},Oe),{name:Gn()})),Me=4):Le==="<"?Ln():Le==="/"?(Oe=new fi(R(R({},Oe),{name:Gn()})),Me=12):Le===">"?(Oe=new fi(R(R({},Oe),{name:Gn()})),$r()):!f.test(Le)&&!u.test(Le)&&Le!==":"&&fn()}function jo(Le){Le===">"?fn():f.test(Le)?Me=3:fn()}function hr(Le){h.test(Le)||(Le==="/"?Me=12:Le===">"?$r():Le==="<"?Ln():Le==="="||p.test(Le)||m.test(Le)?fn():Me=5)}function vr(Le){h.test(Le)?Me=6:Le==="/"?Me=12:Le==="="?Me=7:Le===">"?$r():Le==="<"?Ln():p.test(Le)&&fn()}function jt(Le){h.test(Le)||(Le==="/"?Me=12:Le==="="?Me=7:Le===">"?$r():Le==="<"?Ln():p.test(Le)?fn():Me=5)}function $t(Le){h.test(Le)||(Le==='"'?Me=8:Le==="'"?Me=9:/[>=`]/.test(Le)?fn():Le==="<"?Ln():Me=10)}function ws(Le){Le==='"'&&(Me=11)}function po(Le){Le==="'"&&(Me=11)}function Ca(Le){h.test(Le)?Me=4:Le===">"?$r():Le==="<"&&Ln()}function dn(Le){h.test(Le)?Me=4:Le==="/"?Me=12:Le===">"?$r():Le==="<"?Ln():(Me=4,gc())}function bd(Le){Le===">"?(Oe=new fi(R(R({},Oe),{isClosing:!0})),$r()):Me=4}function xs(Le){ee.substr(pt,2)==="--"?(pt+=2,Oe=new fi(R(R({},Oe),{type:"comment"})),Me=14):ee.substr(pt,7).toUpperCase()==="DOCTYPE"?(pt+=7,Oe=new fi(R(R({},Oe),{type:"doctype"})),Me=20):fn()}function $o(Le){Le==="-"?Me=15:Le===">"?fn():Me=16}function As(Le){Le==="-"?Me=18:Le===">"?fn():Me=16}function mo(Le){Le==="-"&&(Me=17)}function Ea(Le){Le==="-"?Me=18:Me=16}function pc(Le){Le===">"?$r():Le==="!"?Me=19:Le==="-"||(Me=16)}function Sa(Le){Le==="-"?Me=17:Le===">"?$r():Me=16}function vd(Le){Le===">"?$r():Le==="<"&&Ln()}function fn(){Me=0,Oe=br}function Ln(){Me=1,Oe=new fi({idx:pt})}function $r(){var Le=ee.slice(rt,Oe.idx);Le&&Je(Le,rt),Oe.type==="comment"?ot(Oe.idx):Oe.type==="doctype"?Nt(Oe.idx):(Oe.isOpening&&se(Oe.name,Oe.idx),Oe.isClosing&&be(Oe.name,Oe.idx)),fn(),rt=pt+1}function mc(){var Le=ee.slice(rt,pt);Je(Le,rt),rt=pt+1}function Gn(){var Le=Oe.idx+(Oe.isClosing?2:1);return ee.slice(Le,pt).toLowerCase()}function gc(){pt--}}var fi=function(){function ee(J){J===void 0&&(J={}),this.idx=J.idx!==void 0?J.idx:-1,this.type=J.type||"tag",this.name=J.name||"",this.isOpening=!!J.isOpening,this.isClosing=!!J.isClosing}return ee}(),Uo=function(){function ee(J){J===void 0&&(J={}),this.version=ee.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=Yt(J.urls),this.email=i(J.email)?J.email:this.email,this.phone=i(J.phone)?J.phone:this.phone,this.hashtag=J.hashtag||this.hashtag,this.mention=J.mention||this.mention,this.newWindow=i(J.newWindow)?J.newWindow:this.newWindow,this.stripPrefix=$p(J.stripPrefix),this.stripTrailingSlash=i(J.stripTrailingSlash)?J.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=i(J.decodePercentEncoding)?J.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=J.sanitizeHtml||!1;var se=this.mention;if(se!==!1&&Ui.indexOf(se)===-1)throw new Error("invalid `mention` cfg '".concat(se,"' - see docs"));var be=this.hashtag;if(be!==!1&&_t.indexOf(be)===-1)throw new Error("invalid `hashtag` cfg '".concat(be,"' - see docs"));this.truncate=hc(J.truncate),this.className=J.className||this.className,this.replaceFn=J.replaceFn||this.replaceFn,this.context=J.context||this}return ee.link=function(J,se){var be=new ee(se);return be.link(J)},ee.parse=function(J,se){var be=new ee(se);return be.parse(J)},ee.prototype.parse=function(J){var se=this,be=["a","style","script"],Je=0,ot=[];return fc(J,{onOpenTag:function(Nt){be.indexOf(Nt)>=0&&Je++},onText:function(Nt,br){if(Je===0){var pt=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,Ct=Nt.split(pt),Me=br;Ct.forEach(function(rt,Oe){if(Oe%2===0){var St=se.parseText(rt,Me);ot.push.apply(ot,St)}Me+=rt.length})}},onCloseTag:function(Nt){be.indexOf(Nt)>=0&&(Je=Math.max(Je-1,0))},onComment:function(Nt){},onDoctype:function(Nt){}}),ot=this.compactMatches(ot),ot=this.removeUnwantedMatches(ot),ot},ee.prototype.compactMatches=function(J){J.sort(function(pt,Ct){return pt.getOffset()-Ct.getOffset()});for(var se=0;se<J.length-1;){var be=J[se],Je=be.getOffset(),ot=be.getMatchedText().length,Nt=Je+ot;if(se+1<J.length){if(J[se+1].getOffset()===Je){var br=J[se+1].getMatchedText().length>ot?se:se+1;J.splice(br,1);continue}if(J[se+1].getOffset()<Nt){J.splice(se+1,1);continue}}se++}return J},ee.prototype.removeUnwantedMatches=function(J){return this.hashtag||l(J,function(se){return se.getType()==="hashtag"}),this.email||l(J,function(se){return se.getType()==="email"}),this.phone||l(J,function(se){return se.getType()==="phone"}),this.mention||l(J,function(se){return se.getType()==="mention"}),this.urls.schemeMatches||l(J,function(se){return se.getType()==="url"&&se.getUrlMatchType()==="scheme"}),this.urls.tldMatches||l(J,function(se){return se.getType()==="url"&&se.getUrlMatchType()==="tld"}),this.urls.ipV4Matches||l(J,function(se){return se.getType()==="url"&&se.getUrlMatchType()==="ipV4"}),J},ee.prototype.parseText=function(J,se){se===void 0&&(se=0),se=se||0;for(var be=un(J,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),Je=0,ot=be.length;Je<ot;Je++)be[Je].setOffset(se+be[Je].getOffset());return be},ee.prototype.link=function(J){if(!J)return"";this.sanitizeHtml&&(J=J.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var se=this.parse(J),be=[],Je=0,ot=0,Nt=se.length;ot<Nt;ot++){var br=se[ot];be.push(J.substring(Je,br.getOffset())),be.push(this.createMatchReturnVal(br)),Je=br.getOffset()+br.getMatchedText().length}return be.push(J.substring(Je)),be.join("")},ee.prototype.createMatchReturnVal=function(J){var se;if(this.replaceFn&&(se=this.replaceFn.call(this.context,J)),typeof se=="string")return se;if(se===!1)return J.getMatchedText();if(se instanceof I)return se.toAnchorString();var be=J.buildTag();return be.toAnchorString()},ee.prototype.getTagBuilder=function(){var J=this.tagBuilder;return J||(J=this.tagBuilder=new F({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),J},ee.version=r,ee}();function Yt(ee){return ee==null&&(ee=!0),i(ee)?{schemeMatches:ee,tldMatches:ee,ipV4Matches:ee}:{schemeMatches:i(ee.schemeMatches)?ee.schemeMatches:!0,tldMatches:i(ee.tldMatches)?ee.tldMatches:!0,ipV4Matches:i(ee.ipV4Matches)?ee.ipV4Matches:!0}}function $p(ee){return ee==null&&(ee=!0),i(ee)?{scheme:ee,www:ee}:{scheme:i(ee.scheme)?ee.scheme:!0,www:i(ee.www)?ee.www:!0}}function hc(ee){return typeof ee=="number"?{length:ee,location:"end"}:o(ee||{},{length:Number.POSITIVE_INFINITY,location:"end"})}return Uo})})(K2);var _M=K2.exports;const wM=Jr(_M);class Wo{constructor(e){Pe(this,"id");Pe(this,"nickname");Pe(this,"avatarUrl");Pe(this,"country");Pe(this,"city");Pe(this,"clientType");Pe(this,"memberIds");const{_id:r,nickname:n,avatarUrl:i,country:o,city:s,clientType:a,members:l}=e;this.id=r,this.nickname=n??r,this.avatarUrl=i,this.country=o??null,this.city=s??null,this.clientType=a??null,this.memberIds={},l==null||l.forEach(d=>{this.memberIds[d._id]=!0})}}var X2={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bt,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",d="day",f="week",u="month",h="quarter",p="year",m="date",y="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var W=["th","st","nd","rd"],B=$%100;return"["+$+(W[(B-20)%10]||W[B]||W[0])+"]"}},C=function($,W,B){var U=String($);return!U||U.length>=W?$:""+Array(W+1-U.length).join(B)+$},S={s:C,z:function($){var W=-$.utcOffset(),B=Math.abs(W),U=Math.floor(B/60),te=B%60;return(W<=0?"+":"-")+C(U,2,"0")+":"+C(te,2,"0")},m:function $(W,B){if(W.date()<B.date())return-$(B,W);var U=12*(B.year()-W.year())+(B.month()-W.month()),te=W.clone().add(U,u),H=B-te<0,O=W.clone().add(U+(H?-1:1),u);return+(-(U+(B-te)/(H?te-O:O-te))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:u,y:p,w:f,d,D:m,h:l,m:a,s,ms:o,Q:h}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},M="en",I={};I[M]=A;var L="$isDayjsObject",k=function($){return $ instanceof P||!(!$||!$[L])},T=function $(W,B,U){var te;if(!W)return M;if(typeof W=="string"){var H=W.toLowerCase();I[H]&&(te=H),B&&(I[H]=B,te=H);var O=W.split("-");if(!te&&O.length>1)return $(O[0])}else{var E=W.name;I[E]=W,te=E}return!U&&te&&(M=te),te||!U&&M},F=function($,W){if(k($))return $.clone();var B=typeof W=="object"?W:{};return B.date=$,B.args=arguments,new P(B)},z=S;z.l=T,z.i=k,z.w=function($,W){return F($,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var P=function(){function $(B){this.$L=T(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[L]=!0}var W=$.prototype;return W.parse=function(B){this.$d=function(U){var te=U.date,H=U.utc;if(te===null)return new Date(NaN);if(z.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var O=te.match(v);if(O){var E=O[2]-1||0,V=(O[7]||"0").substring(0,3);return H?new Date(Date.UTC(O[1],E,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],E,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(te)}(B),this.init()},W.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},W.$utils=function(){return z},W.isValid=function(){return this.$d.toString()!==y},W.isSame=function(B,U){var te=F(B);return this.startOf(U)<=te&&te<=this.endOf(U)},W.isAfter=function(B,U){return F(B)<this.startOf(U)},W.isBefore=function(B,U){return this.endOf(U)<F(B)},W.$g=function(B,U,te){return z.u(B)?this[U]:this.set(te,B)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(B,U){var te=this,H=!!z.u(U)||U,O=z.p(B),E=function(pe,fe){var ve=z.w(te.$u?Date.UTC(te.$y,fe,pe):new Date(te.$y,fe,pe),te);return H?ve:ve.endOf(d)},V=function(pe,fe){return z.w(te.toDate()[pe].apply(te.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(fe)),te)},K=this.$W,Y=this.$M,Q=this.$D,ae="set"+(this.$u?"UTC":"");switch(O){case p:return H?E(1,0):E(31,11);case u:return H?E(1,Y):E(0,Y+1);case f:var ie=this.$locale().weekStart||0,me=(K<ie?K+7:K)-ie;return E(H?Q-me:Q+(6-me),Y);case d:case m:return V(ae+"Hours",0);case l:return V(ae+"Minutes",1);case a:return V(ae+"Seconds",2);case s:return V(ae+"Milliseconds",3);default:return this.clone()}},W.endOf=function(B){return this.startOf(B,!1)},W.$set=function(B,U){var te,H=z.p(B),O="set"+(this.$u?"UTC":""),E=(te={},te[d]=O+"Date",te[m]=O+"Date",te[u]=O+"Month",te[p]=O+"FullYear",te[l]=O+"Hours",te[a]=O+"Minutes",te[s]=O+"Seconds",te[o]=O+"Milliseconds",te)[H],V=H===d?this.$D+(U-this.$W):U;if(H===u||H===p){var K=this.clone().set(m,1);K.$d[E](V),K.init(),this.$d=K.set(m,Math.min(this.$D,K.daysInMonth())).$d}else E&&this.$d[E](V);return this.init(),this},W.set=function(B,U){return this.clone().$set(B,U)},W.get=function(B){return this[z.p(B)]()},W.add=function(B,U){var te,H=this;B=Number(B);var O=z.p(U),E=function(Y){var Q=F(H);return z.w(Q.date(Q.date()+Math.round(Y*B)),H)};if(O===u)return this.set(u,this.$M+B);if(O===p)return this.set(p,this.$y+B);if(O===d)return E(1);if(O===f)return E(7);var V=(te={},te[a]=n,te[l]=i,te[s]=r,te)[O]||1,K=this.$d.getTime()+B*V;return z.w(K,this)},W.subtract=function(B,U){return this.add(-1*B,U)},W.format=function(B){var U=this,te=this.$locale();if(!this.isValid())return te.invalidDate||y;var H=B||"YYYY-MM-DDTHH:mm:ssZ",O=z.z(this),E=this.$H,V=this.$m,K=this.$M,Y=te.weekdays,Q=te.months,ae=te.meridiem,ie=function(fe,ve,ce,we){return fe&&(fe[ve]||fe(U,H))||ce[ve].slice(0,we)},me=function(fe){return z.s(E%12||12,fe,"0")},pe=ae||function(fe,ve,ce){var we=fe<12?"AM":"PM";return ce?we.toLowerCase():we};return H.replace(b,function(fe,ve){return ve||function(ce){switch(ce){case"YY":return String(U.$y).slice(-2);case"YYYY":return z.s(U.$y,4,"0");case"M":return K+1;case"MM":return z.s(K+1,2,"0");case"MMM":return ie(te.monthsShort,K,Q,3);case"MMMM":return ie(Q,K);case"D":return U.$D;case"DD":return z.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return ie(te.weekdaysMin,U.$W,Y,2);case"ddd":return ie(te.weekdaysShort,U.$W,Y,3);case"dddd":return Y[U.$W];case"H":return String(E);case"HH":return z.s(E,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return pe(E,V,!0);case"A":return pe(E,V,!1);case"m":return String(V);case"mm":return z.s(V,2,"0");case"s":return String(U.$s);case"ss":return z.s(U.$s,2,"0");case"SSS":return z.s(U.$ms,3,"0");case"Z":return O}return null}(fe)||O.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(B,U,te){var H,O=this,E=z.p(U),V=F(B),K=(V.utcOffset()-this.utcOffset())*n,Y=this-V,Q=function(){return z.m(O,V)};switch(E){case p:H=Q()/12;break;case u:H=Q();break;case h:H=Q()/3;break;case f:H=(Y-K)/6048e5;break;case d:H=(Y-K)/864e5;break;case l:H=Y/i;break;case a:H=Y/n;break;case s:H=Y/r;break;default:H=Y}return te?H:z.a(H)},W.daysInMonth=function(){return this.endOf(u).$D},W.$locale=function(){return I[this.$L]},W.locale=function(B,U){if(!B)return this.$L;var te=this.clone(),H=T(B,U,!0);return H&&(te.$L=H),te},W.clone=function(){return z.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},$}(),R=P.prototype;return F.prototype=R,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",d],["$M",u],["$y",p],["$D",m]].forEach(function($){R[$[1]]=function(W){return this.$g(W,$[0],$[1])}}),F.extend=function($,W){return $.$i||($(W,P,F),$.$i=!0),F},F.locale=T,F.isDayjs=k,F.unix=function($){return F(1e3*$)},F.en=I[M],F.Ls=I,F.p={},F})})(X2);var xM=X2.exports;const pr=Jr(xM);var J2={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bt,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,o,s){var a,l=function(h,p,m){m===void 0&&(m={});var y=new Date(h),v=function(b,A){A===void 0&&(A={});var C=A.timeZoneName||"short",S=b+"|"+C,M=n[S];return M||(M=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:C}),n[S]=M),M}(p,m);return v.formatToParts(y)},d=function(h,p){for(var m=l(h,p),y=[],v=0;v<m.length;v+=1){var b=m[v],A=b.type,C=b.value,S=r[A];S>=0&&(y[S]=parseInt(C,10))}var M=y[3],I=M===24?0:M,L=y[0]+"-"+y[1]+"-"+y[2]+" "+I+":"+y[4]+":"+y[5]+":000",k=+h;return(s.utc(L).valueOf()-(k-=k%1e3))/6e4},f=o.prototype;f.tz=function(h,p){h===void 0&&(h=a);var m=this.utcOffset(),y=this.toDate(),v=y.toLocaleString("en-US",{timeZone:h}),b=Math.round((y-new Date(v))/1e3/60),A=s(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(y.getTimezoneOffset()/15)-b,!0);if(p){var C=A.utcOffset();A=A.add(m-C,"minute")}return A.$x.$timezone=h,A},f.offsetName=function(h){var p=this.$x.$timezone||s.tz.guess(),m=l(this.valueOf(),p,{timeZoneName:h}).find(function(y){return y.type.toLowerCase()==="timezonename"});return m&&m.value};var u=f.startOf;f.startOf=function(h,p){if(!this.$x||!this.$x.$timezone)return u.call(this,h,p);var m=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(m,h,p).tz(this.$x.$timezone,!0)},s.tz=function(h,p,m){var y=m&&p,v=m||p||a,b=d(+s(),v);if(typeof h!="string")return s(h).tz(v);var A=function(I,L,k){var T=I-60*L*1e3,F=d(T,k);if(L===F)return[T,L];var z=d(T-=60*(F-L)*1e3,k);return F===z?[T,F]:[I-60*Math.min(F,z)*1e3,Math.max(F,z)]}(s.utc(h,y).valueOf(),b,v),C=A[0],S=A[1],M=s(C).utcOffset(S);return M.$x.$timezone=v,M},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(h){a=h}}})})(J2);var AM=J2.exports;const TM=Jr(AM);/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const bi=typeof window<"u";let Bn,Os;if(process.env.NODE_ENV!=="production"){const t=bi&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(Bn=e=>{t.mark(e)},Os=(e,r,n)=>{t.measure(e,r,n),t.clearMarks(r),t.clearMarks(n)})}const CM=/\{([0-9a-zA-Z]+)\}/g;function xm(t,...e){return e.length===1&&kt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(CM,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const zi=(t,e=!1)=>e?Symbol.for(t):Symbol(t),EM=(t,e,r)=>SM({l:t,k:e,s:r}),SM=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Sr=t=>typeof t=="number"&&isFinite(t),kM=t=>rv(t)==="[object Date]",Go=t=>rv(t)==="[object RegExp]",zd=t=>ct(t)&&Object.keys(t).length===0,Rr=Object.assign;let Z2;const _o=()=>Z2||(Z2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ev(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const IM=Object.prototype.hasOwnProperty;function Vd(t,e){return IM.call(t,e)}const Wt=Array.isArray,Vt=t=>typeof t=="function",je=t=>typeof t=="string",vt=t=>typeof t=="boolean",kt=t=>t!==null&&typeof t=="object",DM=t=>kt(t)&&Vt(t.then)&&Vt(t.catch),tv=Object.prototype.toString,rv=t=>tv.call(t),ct=t=>{if(!kt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},MM=t=>t==null?"":Wt(t)||ct(t)&&t.toString===tv?JSON.stringify(t,null,2):String(t);function NM(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const nv=2;function OM(t,e=0,r=t.length){const n=t.split(/\r?\n/);let i=0;const o=[];for(let s=0;s<n.length;s++)if(i+=n[s].length+1,i>=e){for(let a=s-nv;a<=s+nv||r>i;a++){if(a<0||a>=n.length)continue;const l=a+1;o.push(`${l}${" ".repeat(3-String(l).length)}|  ${n[a]}`);const d=n[a].length;if(a===s){const f=e-(i-d)+1,u=Math.max(1,r>i?d-f:r-e);o.push("   |  "+" ".repeat(f)+"^".repeat(u))}else if(a>s){if(r>i){const f=Math.max(Math.min(r-i,d),1);o.push("   |  "+"^".repeat(f))}i+=d+1}}break}return o.join(`
`)}function Hd(t){let e=t;return()=>++e}function kr(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const iv={};function ov(t){iv[t]||(iv[t]=!0,kr(t))}function Am(){const t=new Map;return{events:t,on(r,n){const i=t.get(r);i&&i.push(n)||t.set(r,[n])},off(r,n){const i=t.get(r);i&&i.splice(i.indexOf(n)>>>0,1)},emit(r,n){(t.get(r)||[]).slice().map(i=>i(n)),(t.get("*")||[]).slice().map(i=>i(r,n))}}}const qd=t=>!kt(t)||Wt(t);function Wd(t,e){if(qd(t)||qd(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(o=>{qd(n[o])||qd(i[o])?i[o]=n[o]:r.push({src:n[o],des:i[o]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function LM(t,e,r){return{line:t,column:e,offset:r}}function Gd(t,e,r){return{start:t,end:e}}const BM=/\{([0-9a-zA-Z]+)\}/g;function sv(t,...e){return e.length===1&&RM(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(BM,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const av=Object.assign,lv=t=>typeof t=="string",RM=t=>t!==null&&typeof t=="object";function cv(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const Qd={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},PM={[Qd.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function FM(t,e,...r){const n=sv(PM[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const st={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},UM={[st.EXPECTED_TOKEN]:"Expected token: '{0}'",[st.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[st.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[st.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[st.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[st.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[st.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[st.EMPTY_PLACEHOLDER]:"Empty placeholder",[st.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[st.INVALID_LINKED_FORMAT]:"Invalid linked format",[st.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[st.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[st.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[st.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[st.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[st.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ja(t,e,r={}){const{domain:n,messages:i,args:o}=r,s=sv((i||UM)[t]||"",...o||[]),a=new SyntaxError(String(s));return a.code=t,e&&(a.location=e),a.domain=n,a}function jM(t){throw t}const $M=/<\/?[\w\s="/.':;#-\/]+>/,zM=t=>$M.test(t),wo=" ",VM="\r",Zr=`
`,HM="\u2028",qM="\u2029";function WM(t){const e=t;let r=0,n=1,i=1,o=0;const s=L=>e[L]===VM&&e[L+1]===Zr,a=L=>e[L]===Zr,l=L=>e[L]===qM,d=L=>e[L]===HM,f=L=>s(L)||a(L)||l(L)||d(L),u=()=>r,h=()=>n,p=()=>i,m=()=>o,y=L=>s(L)||l(L)||d(L)?Zr:e[L],v=()=>y(r),b=()=>y(r+o);function A(){return o=0,f(r)&&(n++,i=0),s(r)&&r++,r++,i++,e[r]}function C(){return s(r+o)&&o++,o++,e[r+o]}function S(){r=0,n=1,i=1,o=0}function M(L=0){o=L}function I(){const L=r+o;for(;L!==r;)A();o=0}return{index:u,line:h,column:p,peekOffset:m,charAt:y,currentChar:v,currentPeek:b,next:A,peek:C,reset:S,resetPeek:M,skipToPeek:I}}const Qo=void 0,GM=".",uv="'",QM="tokenizer";function YM(t,e={}){const r=e.location!==!1,n=WM(t),i=()=>n.index(),o=()=>LM(n.line(),n.column(),n.index()),s=o(),a=i(),l={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},d=()=>l,{onError:f}=e;function u(j,q,le,...Te){const Ne=d();if(q.column+=le,q.offset+=le,f){const Re=r?Gd(Ne.startLoc,q):null,Qe=ja(j,Re,{domain:QM,args:Te});f(Qe)}}function h(j,q,le){j.endLoc=o(),j.currentType=q;const Te={type:q};return r&&(Te.loc=Gd(j.startLoc,j.endLoc)),le!=null&&(Te.value=le),Te}const p=j=>h(j,14);function m(j,q){return j.currentChar()===q?(j.next(),q):(u(st.EXPECTED_TOKEN,o(),0,q),"")}function y(j){let q="";for(;j.currentPeek()===wo||j.currentPeek()===Zr;)q+=j.currentPeek(),j.peek();return q}function v(j){const q=y(j);return j.skipToPeek(),q}function b(j){if(j===Qo)return!1;const q=j.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q===95}function A(j){if(j===Qo)return!1;const q=j.charCodeAt(0);return q>=48&&q<=57}function C(j,q){const{currentType:le}=q;if(le!==2)return!1;y(j);const Te=b(j.currentPeek());return j.resetPeek(),Te}function S(j,q){const{currentType:le}=q;if(le!==2)return!1;y(j);const Te=j.currentPeek()==="-"?j.peek():j.currentPeek(),Ne=A(Te);return j.resetPeek(),Ne}function M(j,q){const{currentType:le}=q;if(le!==2)return!1;y(j);const Te=j.currentPeek()===uv;return j.resetPeek(),Te}function I(j,q){const{currentType:le}=q;if(le!==8)return!1;y(j);const Te=j.currentPeek()===".";return j.resetPeek(),Te}function L(j,q){const{currentType:le}=q;if(le!==9)return!1;y(j);const Te=b(j.currentPeek());return j.resetPeek(),Te}function k(j,q){const{currentType:le}=q;if(!(le===8||le===12))return!1;y(j);const Te=j.currentPeek()===":";return j.resetPeek(),Te}function T(j,q){const{currentType:le}=q;if(le!==10)return!1;const Te=()=>{const Re=j.currentPeek();return Re==="{"?b(j.peek()):Re==="@"||Re==="%"||Re==="|"||Re===":"||Re==="."||Re===wo||!Re?!1:Re===Zr?(j.peek(),Te()):P(j,!1)},Ne=Te();return j.resetPeek(),Ne}function F(j){y(j);const q=j.currentPeek()==="|";return j.resetPeek(),q}function z(j){const q=y(j),le=j.currentPeek()==="%"&&j.peek()==="{";return j.resetPeek(),{isModulo:le,hasSpace:q.length>0}}function P(j,q=!0){const le=(Ne=!1,Re="",Qe=!1)=>{const ge=j.currentPeek();return ge==="{"?Re==="%"?!1:Ne:ge==="@"||!ge?Re==="%"?!0:Ne:ge==="%"?(j.peek(),le(Ne,"%",!0)):ge==="|"?Re==="%"||Qe?!0:!(Re===wo||Re===Zr):ge===wo?(j.peek(),le(!0,wo,Qe)):ge===Zr?(j.peek(),le(!0,Zr,Qe)):!0},Te=le();return q&&j.resetPeek(),Te}function R(j,q){const le=j.currentChar();return le===Qo?Qo:q(le)?(j.next(),le):null}function $(j){const q=j.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36}function W(j){return R(j,$)}function B(j){const q=j.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36||q===45}function U(j){return R(j,B)}function te(j){const q=j.charCodeAt(0);return q>=48&&q<=57}function H(j){return R(j,te)}function O(j){const q=j.charCodeAt(0);return q>=48&&q<=57||q>=65&&q<=70||q>=97&&q<=102}function E(j){return R(j,O)}function V(j){let q="",le="";for(;q=H(j);)le+=q;return le}function K(j){v(j);const q=j.currentChar();return q!=="%"&&u(st.EXPECTED_TOKEN,o(),0,q),j.next(),"%"}function Y(j){let q="";for(;;){const le=j.currentChar();if(le==="{"||le==="}"||le==="@"||le==="|"||!le)break;if(le==="%")if(P(j))q+=le,j.next();else break;else if(le===wo||le===Zr)if(P(j))q+=le,j.next();else{if(F(j))break;q+=le,j.next()}else q+=le,j.next()}return q}function Q(j){v(j);let q="",le="";for(;q=U(j);)le+=q;return j.currentChar()===Qo&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),le}function ae(j){v(j);let q="";return j.currentChar()==="-"?(j.next(),q+=`-${V(j)}`):q+=V(j),j.currentChar()===Qo&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),q}function ie(j){return j!==uv&&j!==Zr}function me(j){v(j),m(j,"'");let q="",le="";for(;q=R(j,ie);)q==="\\"?le+=pe(j):le+=q;const Te=j.currentChar();return Te===Zr||Te===Qo?(u(st.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),Te===Zr&&(j.next(),m(j,"'")),le):(m(j,"'"),le)}function pe(j){const q=j.currentChar();switch(q){case"\\":case"'":return j.next(),`\\${q}`;case"u":return fe(j,q,4);case"U":return fe(j,q,6);default:return u(st.UNKNOWN_ESCAPE_SEQUENCE,o(),0,q),""}}function fe(j,q,le){m(j,q);let Te="";for(let Ne=0;Ne<le;Ne++){const Re=E(j);if(!Re){u(st.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${q}${Te}${j.currentChar()}`);break}Te+=Re}return`\\${q}${Te}`}function ve(j){return j!=="{"&&j!=="}"&&j!==wo&&j!==Zr}function ce(j){v(j);let q="",le="";for(;q=R(j,ve);)le+=q;return le}function we(j){let q="",le="";for(;q=W(j);)le+=q;return le}function oe(j){const q=le=>{const Te=j.currentChar();return Te==="{"||Te==="%"||Te==="@"||Te==="|"||Te==="("||Te===")"||!Te||Te===wo?le:(le+=Te,j.next(),q(le))};return q("")}function xe(j){v(j);const q=m(j,"|");return v(j),q}function Ue(j,q){let le=null;switch(j.currentChar()){case"{":return q.braceNest>=1&&u(st.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),j.next(),le=h(q,2,"{"),v(j),q.braceNest++,le;case"}":return q.braceNest>0&&q.currentType===2&&u(st.EMPTY_PLACEHOLDER,o(),0),j.next(),le=h(q,3,"}"),q.braceNest--,q.braceNest>0&&v(j),q.inLinked&&q.braceNest===0&&(q.inLinked=!1),le;case"@":return q.braceNest>0&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),le=he(j,q)||p(q),q.braceNest=0,le;default:{let Ne=!0,Re=!0,Qe=!0;if(F(j))return q.braceNest>0&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),le=h(q,1,xe(j)),q.braceNest=0,q.inLinked=!1,le;if(q.braceNest>0&&(q.currentType===5||q.currentType===6||q.currentType===7))return u(st.UNTERMINATED_CLOSING_BRACE,o(),0),q.braceNest=0,Se(j,q);if(Ne=C(j,q))return le=h(q,5,Q(j)),v(j),le;if(Re=S(j,q))return le=h(q,6,ae(j)),v(j),le;if(Qe=M(j,q))return le=h(q,7,me(j)),v(j),le;if(!Ne&&!Re&&!Qe)return le=h(q,13,ce(j)),u(st.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,le.value),v(j),le;break}}return le}function he(j,q){const{currentType:le}=q;let Te=null;const Ne=j.currentChar();switch((le===8||le===9||le===12||le===10)&&(Ne===Zr||Ne===wo)&&u(st.INVALID_LINKED_FORMAT,o(),0),Ne){case"@":return j.next(),Te=h(q,8,"@"),q.inLinked=!0,Te;case".":return v(j),j.next(),h(q,9,".");case":":return v(j),j.next(),h(q,10,":");default:return F(j)?(Te=h(q,1,xe(j)),q.braceNest=0,q.inLinked=!1,Te):I(j,q)||k(j,q)?(v(j),he(j,q)):L(j,q)?(v(j),h(q,12,we(j))):T(j,q)?(v(j),Ne==="{"?Ue(j,q)||Te:h(q,11,oe(j))):(le===8&&u(st.INVALID_LINKED_FORMAT,o(),0),q.braceNest=0,q.inLinked=!1,Se(j,q))}}function Se(j,q){let le={type:14};if(q.braceNest>0)return Ue(j,q)||p(q);if(q.inLinked)return he(j,q)||p(q);switch(j.currentChar()){case"{":return Ue(j,q)||p(q);case"}":return u(st.UNBALANCED_CLOSING_BRACE,o(),0),j.next(),h(q,3,"}");case"@":return he(j,q)||p(q);default:{if(F(j))return le=h(q,1,xe(j)),q.braceNest=0,q.inLinked=!1,le;const{isModulo:Ne,hasSpace:Re}=z(j);if(Ne)return Re?h(q,0,Y(j)):h(q,4,K(j));if(P(j))return h(q,0,Y(j));break}}return le}function De(){const{currentType:j,offset:q,startLoc:le,endLoc:Te}=l;return l.lastType=j,l.lastOffset=q,l.lastStartLoc=le,l.lastEndLoc=Te,l.offset=i(),l.startLoc=o(),n.currentChar()===Qo?h(l,14):Se(n,l)}return{nextToken:De,currentOffset:i,currentPosition:o,context:d}}const KM="parser",XM=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function JM(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function ZM(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(C,S,M,I,...L){const k=C.currentPosition();if(k.offset+=I,k.column+=I,r){const T=e?Gd(M,k):null,F=ja(S,T,{domain:KM,args:L});r(F)}}function o(C,S,M,I,...L){const k=C.currentPosition();if(k.offset+=I,k.column+=I,n){const T=e?Gd(M,k):null;n(FM(S,T,L))}}function s(C,S,M){const I={type:C};return e&&(I.start=S,I.end=S,I.loc={start:M,end:M}),I}function a(C,S,M,I){e&&(C.end=S,C.loc&&(C.loc.end=M))}function l(C,S){const M=C.context(),I=s(3,M.offset,M.startLoc);return I.value=S,a(I,C.currentOffset(),C.currentPosition()),I}function d(C,S){const M=C.context(),{lastOffset:I,lastStartLoc:L}=M,k=s(5,I,L);return k.index=parseInt(S,10),C.nextToken(),a(k,C.currentOffset(),C.currentPosition()),k}function f(C,S,M){const I=C.context(),{lastOffset:L,lastStartLoc:k}=I,T=s(4,L,k);return T.key=S,M===!0&&(T.modulo=!0),C.nextToken(),a(T,C.currentOffset(),C.currentPosition()),T}function u(C,S){const M=C.context(),{lastOffset:I,lastStartLoc:L}=M,k=s(9,I,L);return k.value=S.replace(XM,JM),C.nextToken(),a(k,C.currentOffset(),C.currentPosition()),k}function h(C){const S=C.nextToken(),M=C.context(),{lastOffset:I,lastStartLoc:L}=M,k=s(8,I,L);return S.type!==12?(i(C,st.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),k.value="",a(k,I,L),{nextConsumeToken:S,node:k}):(S.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,vi(S)),k.value=S.value||"",a(k,C.currentOffset(),C.currentPosition()),{node:k})}function p(C,S){const M=C.context(),I=s(7,M.offset,M.startLoc);return I.value=S,a(I,C.currentOffset(),C.currentPosition()),I}function m(C){const S=C.context(),M=s(6,S.offset,S.startLoc);let I=C.nextToken();if(I.type===9){const L=h(C);M.modifier=L.node,I=L.nextConsumeToken||C.nextToken()}switch(I.type!==10&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(I)),I=C.nextToken(),I.type===2&&(I=C.nextToken()),I.type){case 11:I.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(I)),M.key=p(C,I.value||"");break;case 5:I.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(I)),M.key=f(C,I.value||"");break;case 6:I.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(I)),M.key=d(C,I.value||"");break;case 7:I.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(I)),M.key=u(C,I.value||"");break;default:{i(C,st.UNEXPECTED_EMPTY_LINKED_KEY,S.lastStartLoc,0);const L=C.context(),k=s(7,L.offset,L.startLoc);return k.value="",a(k,L.offset,L.startLoc),M.key=k,a(M,L.offset,L.startLoc),{nextConsumeToken:I,node:M}}}return a(M,C.currentOffset(),C.currentPosition()),{node:M}}function y(C){const S=C.context(),M=S.currentType===1?C.currentOffset():S.offset,I=S.currentType===1?S.endLoc:S.startLoc,L=s(2,M,I);L.items=[];let k=null,T=null;do{const P=k||C.nextToken();switch(k=null,P.type){case 0:P.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(P)),L.items.push(l(C,P.value||""));break;case 6:P.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(P)),L.items.push(d(C,P.value||""));break;case 4:T=!0;break;case 5:P.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(P)),L.items.push(f(C,P.value||"",!!T)),T&&(o(C,Qd.USE_MODULO_SYNTAX,S.lastStartLoc,0,vi(P)),T=null);break;case 7:P.value==null&&i(C,st.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,vi(P)),L.items.push(u(C,P.value||""));break;case 8:{const R=m(C);L.items.push(R.node),k=R.nextConsumeToken||null;break}}}while(S.currentType!==14&&S.currentType!==1);const F=S.currentType===1?S.lastOffset:C.currentOffset(),z=S.currentType===1?S.lastEndLoc:C.currentPosition();return a(L,F,z),L}function v(C,S,M,I){const L=C.context();let k=I.items.length===0;const T=s(1,S,M);T.cases=[],T.cases.push(I);do{const F=y(C);k||(k=F.items.length===0),T.cases.push(F)}while(L.currentType!==14);return k&&i(C,st.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(T,C.currentOffset(),C.currentPosition()),T}function b(C){const S=C.context(),{offset:M,startLoc:I}=S,L=y(C);return S.currentType===14?L:v(C,M,I,L)}function A(C){const S=YM(C,av({},t)),M=S.context(),I=s(0,M.offset,M.startLoc);return e&&I.loc&&(I.loc.source=C),I.body=b(S),t.onCacheKey&&(I.cacheKey=t.onCacheKey(C)),M.currentType!==14&&i(S,st.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,C[M.offset]||""),a(I,S.currentOffset(),S.currentPosition()),I}return{parse:A}}function vi(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function eN(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:o=>(r.helpers.add(o),o)}}function dv(t,e){for(let r=0;r<t.length;r++)Tm(t[r],e)}function Tm(t,e){switch(t.type){case 1:dv(t.cases,e),e.helper("plural");break;case 2:dv(t.items,e);break;case 6:{Tm(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function tN(t,e={}){const r=eN(t);r.helper("normalize"),t.body&&Tm(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function rN(t){const e=t.body;return e.type===2?fv(e):e.cases.forEach(r=>fv(r)),t}function fv(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=cv(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const nN="minifier";function $a(t){switch(t.t=t.type,t.type){case 0:{const e=t;$a(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)$a(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)$a(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;$a(e.key),e.k=e.key,delete e.key,e.modifier&&($a(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw ja(st.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:nN,args:[t.type]})}delete t.type}const iN="parser";function oN(t,e){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:o}=e,s=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&t.loc&&(a.source=t.loc.source);const l=()=>a;function d(v,b){a.code+=v}function f(v,b=!0){const A=b?i:"";d(o?A+"  ".repeat(v):A)}function u(v=!0){const b=++a.indentLevel;v&&f(b)}function h(v=!0){const b=--a.indentLevel;v&&f(b)}function p(){f(a.indentLevel)}return{context:l,push:d,indent:u,deindent:h,newline:p,helper:v=>`_${v}`,needIndent:()=>a.needIndent}}function sN(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),za(t,e.key),e.modifier?(t.push(", "),za(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function aN(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let o=0;o<i&&(za(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}function lN(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let o=0;o<i&&(za(t,e.cases[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}}function cN(t,e){e.body?za(t,e.body):t.push("null")}function za(t,e){const{helper:r}=t;switch(e.type){case 0:cN(t,e);break;case 1:lN(t,e);break;case 2:aN(t,e);break;case 6:sN(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw ja(st.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:iN,args:[e.type]})}}const uN=(t,e={})=>{const r=lv(e.mode)?e.mode:"normal",n=lv(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,o=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",a=t.helpers||[],l=oN(t,{mode:r,filename:n,sourceMap:i,breakLineCode:o,needIndent:s});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${cv(a.map(u=>`${u}: _${u}`),", ")} } = ctx`),l.newline()),l.push("return "),za(l,t),l.deindent(s),l.push("}"),delete t.helpers;const{code:d,map:f}=l.context();return{ast:t,code:d,map:f?f.toJSON():void 0}};function dN(t,e={}){const r=av({},e),n=!!r.jit,i=!!r.minify,o=r.optimize==null?!0:r.optimize,a=ZM(r).parse(t);return n?(o&&rN(a),i&&$a(a),{ast:a,code:""}):(tN(a,r),uN(a,r))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function fN(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_o().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(_o().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(_o().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Yo=[];Yo[0]={w:[0],i:[3,0],"[":[4],o:[7]},Yo[1]={w:[1],".":[2],"[":[4],o:[7]},Yo[2]={w:[2],i:[3,0],0:[3,0]},Yo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Yo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Yo[5]={"'":[4,0],o:8,l:[5,0]},Yo[6]={'"':[4,0],o:8,l:[6,0]};const hN=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function pN(t){return hN.test(t)}function mN(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function gN(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function yN(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:pN(e)?mN(e):"*"+e}function bN(t){const e=[];let r=-1,n=0,i=0,o,s,a,l,d,f,u;const h=[];h[0]=()=>{s===void 0?s=a:s+=a},h[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,s===void 0||(s=yN(s),s===!1))return!1;h[1]()}};function p(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,h[0](),!0}for(;n!==null;)if(r++,o=t[r],!(o==="\\"&&p())){if(l=gN(o),u=Yo[n],d=u[l]||u.l||8,d===8||(n=d[0],d[1]!==void 0&&(f=h[d[1]],f&&(a=o,f()===!1))))return;if(n===7)return e}}const hv=new Map;function vN(t,e){return kt(t)?t[e]:null}function _N(t,e){if(!kt(t))return null;let r=hv.get(e);if(r||(r=bN(e),r&&hv.set(e,r)),!r)return null;const n=r.length;let i=t,o=0;for(;o<n;){const s=i[r[o]];if(s===void 0||Vt(i))return null;i=s,o++}return i}const wN=t=>t,xN=t=>"",AN="text",TN=t=>t.length===0?"":NM(t),CN=MM;function pv(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function EN(t){const e=Sr(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Sr(t.named.count)||Sr(t.named.n))?Sr(t.named.count)?t.named.count:Sr(t.named.n)?t.named.n:e:e}function SN(t,e){e.count||(e.count=t),e.n||(e.n=t)}function kN(t={}){const e=t.locale,r=EN(t),n=kt(t.pluralRules)&&je(e)&&Vt(t.pluralRules[e])?t.pluralRules[e]:pv,i=kt(t.pluralRules)&&je(e)&&Vt(t.pluralRules[e])?pv:void 0,o=b=>b[n(r,b.length,i)],s=t.list||[],a=b=>s[b],l=t.named||{};Sr(t.pluralIndex)&&SN(r,l);const d=b=>l[b];function f(b){const A=Vt(t.messages)?t.messages(b):kt(t.messages)?t.messages[b]:!1;return A||(t.parent?t.parent.message(b):xN)}const u=b=>t.modifiers?t.modifiers[b]:wN,h=ct(t.processor)&&Vt(t.processor.normalize)?t.processor.normalize:TN,p=ct(t.processor)&&Vt(t.processor.interpolate)?t.processor.interpolate:CN,m=ct(t.processor)&&je(t.processor.type)?t.processor.type:AN,v={list:a,named:d,plural:o,linked:(b,...A)=>{const[C,S]=A;let M="text",I="";A.length===1?kt(C)?(I=C.modifier||I,M=C.type||M):je(C)&&(I=C||I):A.length===2&&(je(C)&&(I=C||I),je(S)&&(M=S||M));const L=f(b)(v),k=M==="vnode"&&Wt(L)&&I?L[0]:L;return I?u(I)(k,M):k},message:f,type:m,interpolate:p,normalize:h,values:Rr({},s,l)};return v}let Nc=null;function IN(t){Nc=t}function DN(t,e,r){Nc&&Nc.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const MN=NN("function:translate");function NN(t){return e=>Nc&&Nc.emit(t,e)}const mv=Qd.__EXTEND_POINT__,Ls=Hd(mv),en={NOT_FOUND_KEY:mv,FALLBACK_TO_TRANSLATE:Ls(),CANNOT_FORMAT_NUMBER:Ls(),FALLBACK_TO_NUMBER_FORMAT:Ls(),CANNOT_FORMAT_DATE:Ls(),FALLBACK_TO_DATE_FORMAT:Ls(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Ls(),__EXTEND_POINT__:Ls()},ON={[en.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[en.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[en.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[en.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[en.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[en.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[en.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function Bs(t,...e){return xm(ON[t],...e)}const gv=st.__EXTEND_POINT__,Rs=Hd(gv),Mr={INVALID_ARGUMENT:gv,INVALID_DATE_ARGUMENT:Rs(),INVALID_ISO_DATE_ARGUMENT:Rs(),NOT_SUPPORT_NON_STRING_MESSAGE:Rs(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Rs(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Rs(),NOT_SUPPORT_LOCALE_TYPE:Rs(),__EXTEND_POINT__:Rs()};function Vi(t){return ja(t,null,process.env.NODE_ENV!=="production"?{messages:LN}:void 0)}const LN={[Mr.INVALID_ARGUMENT]:"Invalid arguments",[Mr.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[Mr.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[Mr.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[Mr.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[Mr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[Mr.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function Cm(t,e){return e.locale!=null?yv(e.locale):yv(t.locale)}let Em;function yv(t){if(je(t))return t;if(Vt(t)){if(t.resolvedOnce&&Em!=null)return Em;if(t.constructor.name==="Function"){const e=t();if(DM(e))throw Vi(Mr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Em=e}else throw Vi(Mr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Vi(Mr.NOT_SUPPORT_LOCALE_TYPE)}function BN(t,e,r){return[...new Set([r,...Wt(e)?e:kt(e)?Object.keys(e):je(e)?[e]:[r]])]}function bv(t,e,r){const n=je(r)?r:Va,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(n);if(!o){o=[];let s=[r];for(;Wt(s);)s=vv(o,s,e);const a=Wt(e)||!ct(e)?e:e.default?e.default:null;s=je(a)?[a]:a,Wt(s)&&vv(o,s,!1),i.__localeChainCache.set(n,o)}return o}function vv(t,e,r){let n=!0;for(let i=0;i<e.length&&vt(n);i++){const o=e[i];je(o)&&(n=RN(t,e[i],r))}return n}function RN(t,e,r){let n;const i=e.split("-");do{const o=i.join("-");n=PN(t,o,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function PN(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Wt(r)||ct(r))&&r[i]&&(n=r[i])}return n}const FN="9.13.1",Yd=-1,Va="en-US",Kd="",_v=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function UN(){return{upper:(t,e)=>e==="text"&&je(t)?t.toUpperCase():e==="vnode"&&kt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&je(t)?t.toLowerCase():e==="vnode"&&kt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&je(t)?_v(t):e==="vnode"&&kt(t)&&"__v_isVNode"in t?_v(t.children):t}}let wv;function xv(t){wv=t}let Av;function jN(t){Av=t}let Tv;function $N(t){Tv=t}let Cv=null;const zN=t=>{Cv=t},VN=()=>Cv;let Ev=null;const Sv=t=>{Ev=t},HN=()=>Ev;let kv=0;function qN(t={}){const e=Vt(t.onWarn)?t.onWarn:kr,r=je(t.version)?t.version:FN,n=je(t.locale)||Vt(t.locale)?t.locale:Va,i=Vt(n)?Va:n,o=Wt(t.fallbackLocale)||ct(t.fallbackLocale)||je(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=ct(t.messages)?t.messages:{[i]:{}},a=ct(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},l=ct(t.numberFormats)?t.numberFormats:{[i]:{}},d=Rr({},t.modifiers||{},UN()),f=t.pluralRules||{},u=Vt(t.missing)?t.missing:null,h=vt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,p=vt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,y=!!t.unresolving,v=Vt(t.postTranslation)?t.postTranslation:null,b=ct(t.processor)?t.processor:null,A=vt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,C=!!t.escapeParameter,S=Vt(t.messageCompiler)?t.messageCompiler:wv;process.env.NODE_ENV!=="production"&&Vt(t.messageCompiler)&&ov(Bs(en.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const M=Vt(t.messageResolver)?t.messageResolver:Av||vN,I=Vt(t.localeFallbacker)?t.localeFallbacker:Tv||BN,L=kt(t.fallbackContext)?t.fallbackContext:void 0,k=t,T=kt(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,F=kt(k.__numberFormatters)?k.__numberFormatters:new Map,z=kt(k.__meta)?k.__meta:{};kv++;const P={version:r,cid:kv,locale:n,fallbackLocale:o,messages:s,modifiers:d,pluralRules:f,missing:u,missingWarn:h,fallbackWarn:p,fallbackFormat:m,unresolving:y,postTranslation:v,processor:b,warnHtmlMessage:A,escapeParameter:C,messageCompiler:S,messageResolver:M,localeFallbacker:I,fallbackContext:L,onWarn:e,__meta:z};return P.datetimeFormats=a,P.numberFormats=l,P.__datetimeFormatters=T,P.__numberFormatters=F,process.env.NODE_ENV!=="production"&&(P.__v_emitter=k.__v_emitter!=null?k.__v_emitter:void 0),(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__)&&DN(P,r,z),P}function Xd(t,e){return t instanceof RegExp?t.test(e):t}function Iv(t,e){return t instanceof RegExp?t.test(e):t}function Sm(t,e,r,n,i){const{missing:o,onWarn:s}=t;if(process.env.NODE_ENV!=="production"){const a=t.__v_emitter;a&&a.emit("missing",{locale:r,key:e,type:i,groupId:`${i}:${e}`})}if(o!==null){const a=o(t,r,e,i);return je(a)?a:e}else return process.env.NODE_ENV!=="production"&&Iv(n,e)&&s(Bs(en.NOT_FOUND_KEY,{key:e,locale:r})),e}function Oc(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function Dv(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function WN(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(Dv(t,e[n]))return!0;return!1}function km(t){return r=>GN(r,t)}function GN(t,e){const r=e.b||e.body;if((r.t||r.type)===1){const n=r,i=n.c||n.cases;return t.plural(i.reduce((o,s)=>[...o,Mv(t,s)],[]))}else return Mv(t,r)}function Mv(t,e){const r=e.s||e.static;if(r)return t.type==="text"?r:t.normalize([r]);{const n=(e.i||e.items).reduce((i,o)=>[...i,Im(t,o)],[]);return t.normalize(n)}}function Im(t,e){const r=e.t||e.type;switch(r){case 3:{const n=e;return n.v||n.value}case 9:{const n=e;return n.v||n.value}case 4:{const n=e;return t.interpolate(t.named(n.k||n.key))}case 5:{const n=e;return t.interpolate(t.list(n.i!=null?n.i:n.index))}case 6:{const n=e,i=n.m||n.modifier;return t.linked(Im(t,n.k||n.key),i?Im(t,i):void 0,t.type)}case 7:{const n=e;return n.v||n.value}case 8:{const n=e;return n.v||n.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const QN="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function Nv(t,e){e&&zM(t)&&kr(xm(QN,{source:t}))}const Ov=t=>t;let Ha=Object.create(null);function Lv(t){t.code===Qd.USE_MODULO_SYNTAX&&kr(`The use of named interpolation with modulo syntax is deprecated. It will be removed in v10.
reference: https://vue-i18n.intlify.dev/guide/essentials/syntax#rails-i18n-format 
(message compiler warning message: ${t.message})`)}const Ko=t=>kt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function Bv(t,e={}){let r=!1;const n=e.onError||jM;return e.onError=i=>{r=!0,n(i)},{...dN(t,e),detectError:r}}const YN=(t,e)=>{if(!je(t))throw Vi(Mr.NOT_SUPPORT_NON_STRING_MESSAGE);process.env.NODE_ENV!=="production"&&(e.onWarn=Lv);{const r=vt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Nv(t,r);const i=(e.onCacheKey||Ov)(t),o=Ha[i];if(o)return o;const{code:s,detectError:a}=Bv(t,e),l=new Function(`return ${s}`)();return a?l:Ha[i]=l}};function KN(t,e){if(process.env.NODE_ENV!=="production"&&(e.onWarn=Lv),__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&je(t)){const r=vt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Nv(t,r);const i=(e.onCacheKey||Ov)(t),o=Ha[i];if(o)return o;const{ast:s,detectError:a}=Bv(t,{...e,location:process.env.NODE_ENV!=="production",jit:!0}),l=km(s);return a?l:Ha[i]=l}else{if(process.env.NODE_ENV!=="production"&&!Ko(t))return kr(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const r=t.cacheKey;if(r){const n=Ha[r];return n||(Ha[r]=km(t))}else return km(t)}}const Rv=()=>"",Qn=t=>Vt(t);function Pv(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=t,[l,d]=Dm(...e),f=vt(d.missingWarn)?d.missingWarn:t.missingWarn,u=vt(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn,h=vt(d.escapeParameter)?d.escapeParameter:t.escapeParameter,p=!!d.resolvedMessage,m=je(d.default)||vt(d.default)?vt(d.default)?o?l:()=>l:d.default:r?o?l:()=>l:"",y=r||m!=="",v=Cm(t,d);h&&XN(d);let[b,A,C]=p?[l,v,a[v]||{}]:Fv(t,l,v,s,u,f),S=b,M=l;if(!p&&!(je(S)||Ko(S)||Qn(S))&&y&&(S=m,M=S),!p&&(!(je(S)||Ko(S)||Qn(S))||!je(A)))return i?Yd:l;if(process.env.NODE_ENV!=="production"&&je(S)&&t.messageCompiler==null)return kr(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let I=!1;const L=()=>{I=!0},k=Qn(S)?S:Uv(t,l,A,S,M,L);if(I)return S;const T=t8(t,A,C,d),F=kN(T),z=JN(t,k,F),P=n?n(z,l):z;if(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const R={timestamp:Date.now(),key:je(l)?l:Qn(S)?S.key:"",locale:A||(Qn(S)?S.locale:""),format:je(S)?S:Qn(S)?S.source:"",message:P};R.meta=Rr({},t.__meta,VN()||{}),MN(R)}return P}function XN(t){Wt(t.list)?t.list=t.list.map(e=>je(e)?ev(e):e):kt(t.named)&&Object.keys(t.named).forEach(e=>{je(t.named[e])&&(t.named[e]=ev(t.named[e]))})}function Fv(t,e,r,n,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:d}=t,f=d(t,n,r);let u={},h,p=null,m=r,y=null;const v="translate";for(let b=0;b<f.length;b++){if(h=y=f[b],process.env.NODE_ENV!=="production"&&r!==h&&!Dv(r,h)&&Xd(i,e)&&a(Bs(en.FALLBACK_TO_TRANSLATE,{key:e,target:h})),process.env.NODE_ENV!=="production"&&r!==h){const M=t.__v_emitter;M&&M.emit("fallback",{type:v,key:e,from:m,to:y,groupId:`${v}:${e}`})}u=s[h]||{};let A=null,C,S;if(process.env.NODE_ENV!=="production"&&bi&&(A=window.performance.now(),C="intlify-message-resolve-start",S="intlify-message-resolve-end",Bn&&Bn(C)),(p=l(u,e))===null&&(p=u[e]),process.env.NODE_ENV!=="production"&&bi){const M=window.performance.now(),I=t.__v_emitter;I&&A&&p&&I.emit("message-resolve",{type:"message-resolve",key:e,message:p,time:M-A,groupId:`${v}:${e}`}),C&&S&&Bn&&Os&&(Bn(S),Os("intlify message resolve",C,S))}if(je(p)||Ko(p)||Qn(p))break;if(!WN(h,f)){const M=Sm(t,e,h,o,v);M!==e&&(p=M)}m=y}return[p,h,u]}function Uv(t,e,r,n,i,o){const{messageCompiler:s,warnHtmlMessage:a}=t;if(Qn(n)){const h=n;return h.locale=h.locale||r,h.key=h.key||e,h}if(s==null){const h=()=>n;return h.locale=r,h.key=e,h}let l=null,d,f;process.env.NODE_ENV!=="production"&&bi&&(l=window.performance.now(),d="intlify-message-compilation-start",f="intlify-message-compilation-end",Bn&&Bn(d));const u=s(n,ZN(t,r,i,n,a,o));if(process.env.NODE_ENV!=="production"&&bi){const h=window.performance.now(),p=t.__v_emitter;p&&l&&p.emit("message-compilation",{type:"message-compilation",message:n,time:h-l,groupId:`translate:${e}`}),d&&f&&Bn&&Os&&(Bn(f),Os("intlify message compilation",d,f))}return u.locale=r,u.key=e,u.source=n,u}function JN(t,e,r){let n=null,i,o;process.env.NODE_ENV!=="production"&&bi&&(n=window.performance.now(),i="intlify-message-evaluation-start",o="intlify-message-evaluation-end",Bn&&Bn(i));const s=e(r);if(process.env.NODE_ENV!=="production"&&bi){const a=window.performance.now(),l=t.__v_emitter;l&&n&&l.emit("message-evaluation",{type:"message-evaluation",value:s,time:a-n,groupId:`translate:${e.key}`}),i&&o&&Bn&&Os&&(Bn(o),Os("intlify message evaluation",i,o))}return s}function Dm(...t){const[e,r,n]=t,i={};if(!je(e)&&!Sr(e)&&!Qn(e)&&!Ko(e))throw Vi(Mr.INVALID_ARGUMENT);const o=Sr(e)?String(e):(Qn(e),e);return Sr(r)?i.plural=r:je(r)?i.default=r:ct(r)&&!zd(r)?i.named=r:Wt(r)&&(i.list=r),Sr(n)?i.plural=n:je(n)?i.default=n:ct(n)&&Rr(i,n),[o,i]}function ZN(t,e,r,n,i,o){return{locale:e,key:r,warnHtmlMessage:i,onError:s=>{if(o&&o(s),process.env.NODE_ENV!=="production"){const a=e8(n),l=`Message compilation error: ${s.message}`,d=s.location&&a&&OM(a,s.location.start.offset,s.location.end.offset),f=t.__v_emitter;f&&a&&f.emit("compile-error",{message:a,error:s.message,start:s.location&&s.location.start.offset,end:s.location&&s.location.end.offset,groupId:`translate:${r}`}),console.error(d?`${l}
${d}`:l)}else throw s},onCacheKey:s=>EM(e,r,s)}}function e8(t){if(je(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function t8(t,e,r,n){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:d,fallbackContext:f}=t,h={locale:e,modifiers:i,pluralRules:o,messages:p=>{let m=s(r,p);if(m==null&&f){const[,,y]=Fv(f,p,e,a,l,d);m=s(y,p)}if(je(m)||Ko(m)){let y=!1;const b=Uv(t,p,e,m,p,()=>{y=!0});return y?Rv:b}else return Qn(m)?m:Rv}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Sr(n.plural)&&(h.pluralIndex=n.plural),h}const jv=typeof Intl<"u",$v={dateTimeFormat:jv&&typeof Intl.DateTimeFormat<"u",numberFormat:jv&&typeof Intl.NumberFormat<"u"};function zv(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__datetimeFormatters:a}=t;if(process.env.NODE_ENV!=="production"&&!$v.dateTimeFormat)return o(Bs(en.CANNOT_FORMAT_DATE)),Kd;const[l,d,f,u]=Mm(...e),h=vt(f.missingWarn)?f.missingWarn:t.missingWarn,p=vt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,y=Cm(t,f),v=s(t,i,y);if(!je(l)||l==="")return new Intl.DateTimeFormat(y,u).format(d);let b={},A,C=null,S=y,M=null;const I="datetime format";for(let T=0;T<v.length;T++){if(A=M=v[T],process.env.NODE_ENV!=="production"&&y!==A&&Xd(p,l)&&o(Bs(en.FALLBACK_TO_DATE_FORMAT,{key:l,target:A})),process.env.NODE_ENV!=="production"&&y!==A){const F=t.__v_emitter;F&&F.emit("fallback",{type:I,key:l,from:S,to:M,groupId:`${I}:${l}`})}if(b=r[A]||{},C=b[l],ct(C))break;Sm(t,l,A,h,I),S=M}if(!ct(C)||!je(A))return n?Yd:l;let L=`${A}__${l}`;zd(u)||(L=`${L}__${JSON.stringify(u)}`);let k=a.get(L);return k||(k=new Intl.DateTimeFormat(A,Rr({},C,u)),a.set(L,k)),m?k.formatToParts(d):k.format(d)}const Vv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Mm(...t){const[e,r,n,i]=t,o={};let s={},a;if(je(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Vi(Mr.INVALID_ISO_DATE_ARGUMENT);const d=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(d);try{a.toISOString()}catch{throw Vi(Mr.INVALID_ISO_DATE_ARGUMENT)}}else if(kM(e)){if(isNaN(e.getTime()))throw Vi(Mr.INVALID_DATE_ARGUMENT);a=e}else if(Sr(e))a=e;else throw Vi(Mr.INVALID_ARGUMENT);return je(r)?o.key=r:ct(r)&&Object.keys(r).forEach(l=>{Vv.includes(l)?s[l]=r[l]:o[l]=r[l]}),je(n)?o.locale=n:ct(n)&&(s=n),ct(i)&&(s=i),[o.key||"",a,o,s]}function Hv(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__datetimeFormatters.has(o)&&n.__datetimeFormatters.delete(o)}}function qv(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__numberFormatters:a}=t;if(process.env.NODE_ENV!=="production"&&!$v.numberFormat)return o(Bs(en.CANNOT_FORMAT_NUMBER)),Kd;const[l,d,f,u]=Nm(...e),h=vt(f.missingWarn)?f.missingWarn:t.missingWarn,p=vt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,y=Cm(t,f),v=s(t,i,y);if(!je(l)||l==="")return new Intl.NumberFormat(y,u).format(d);let b={},A,C=null,S=y,M=null;const I="number format";for(let T=0;T<v.length;T++){if(A=M=v[T],process.env.NODE_ENV!=="production"&&y!==A&&Xd(p,l)&&o(Bs(en.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:A})),process.env.NODE_ENV!=="production"&&y!==A){const F=t.__v_emitter;F&&F.emit("fallback",{type:I,key:l,from:S,to:M,groupId:`${I}:${l}`})}if(b=r[A]||{},C=b[l],ct(C))break;Sm(t,l,A,h,I),S=M}if(!ct(C)||!je(A))return n?Yd:l;let L=`${A}__${l}`;zd(u)||(L=`${L}__${JSON.stringify(u)}`);let k=a.get(L);return k||(k=new Intl.NumberFormat(A,Rr({},C,u)),a.set(L,k)),m?k.formatToParts(d):k.format(d)}const Wv=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Nm(...t){const[e,r,n,i]=t,o={};let s={};if(!Sr(e))throw Vi(Mr.INVALID_ARGUMENT);const a=e;return je(r)?o.key=r:ct(r)&&Object.keys(r).forEach(l=>{Wv.includes(l)?s[l]=r[l]:o[l]=r[l]}),je(n)?o.locale=n:ct(n)&&(s=n),ct(i)&&(s=i),[o.key||"",a,o,s]}function Gv(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__numberFormatters.has(o)&&n.__numberFormatters.delete(o)}}fN();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const r8="9.13.1";function n8(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(_o().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(_o().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(_o().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(_o().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_o().__INTLIFY_PROD_DEVTOOLS__=!1)}const Qv=en.__EXTEND_POINT__,xo=Hd(Qv),er={FALLBACK_TO_ROOT:Qv,NOT_SUPPORTED_PRESERVE:xo(),NOT_SUPPORTED_FORMATTER:xo(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:xo(),NOT_SUPPORTED_GET_CHOICE_INDEX:xo(),COMPONENT_NAME_LEGACY_COMPATIBLE:xo(),NOT_FOUND_PARENT_SCOPE:xo(),IGNORE_OBJ_FLATTEN:xo(),NOTICE_DROP_ALLOW_COMPOSITION:xo(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:xo()},i8={[er.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[er.NOT_SUPPORTED_PRESERVE]:"Not supported 'preserve'.",[er.NOT_SUPPORTED_FORMATTER]:"Not supported 'formatter'.",[er.NOT_SUPPORTED_PRESERVE_DIRECTIVE]:"Not supported 'preserveDirectiveContent'.",[er.NOT_SUPPORTED_GET_CHOICE_INDEX]:"Not supported 'getChoiceIndex'.",[er.COMPONENT_NAME_LEGACY_COMPATIBLE]:"Component name legacy compatible: '{name}' -> 'i18n'",[er.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[er.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[er.NOTICE_DROP_ALLOW_COMPOSITION]:"'allowComposition' option will be dropped in the next major version. For more information, please see 👉 https://tinyurl.com/2p97mcze",[er.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG]:"'translateExistCompatible' option will be dropped in the next major version."};function gn(t,...e){return xm(i8[t],...e)}const Yv=Mr.__EXTEND_POINT__,yn=Hd(Yv),Et={UNEXPECTED_RETURN_TYPE:Yv,INVALID_ARGUMENT:yn(),MUST_BE_CALL_SETUP_TOP:yn(),NOT_INSTALLED:yn(),NOT_AVAILABLE_IN_LEGACY_MODE:yn(),REQUIRED_VALUE:yn(),INVALID_VALUE:yn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:yn(),NOT_INSTALLED_WITH_PROVIDE:yn(),UNEXPECTED_ERROR:yn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:yn(),BRIDGE_SUPPORT_VUE_2_ONLY:yn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:yn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:yn(),__EXTEND_POINT__:yn()};function Ir(t,...e){return ja(t,null,process.env.NODE_ENV!=="production"?{messages:o8,args:e}:void 0)}const o8={[Et.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Et.INVALID_ARGUMENT]:"Invalid argument",[Et.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Et.NOT_INSTALLED]:"Need to install with `app.use` function",[Et.UNEXPECTED_ERROR]:"Unexpected error",[Et.NOT_AVAILABLE_IN_LEGACY_MODE]:"Not available in legacy mode",[Et.REQUIRED_VALUE]:"Required in value: {0}",[Et.INVALID_VALUE]:"Invalid value",[Et.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Et.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Et.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Et.BRIDGE_SUPPORT_VUE_2_ONLY]:"vue-i18n-bridge support Vue 2.x only",[Et.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]:"Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode",[Et.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},Om=zi("__translateVNode"),Lm=zi("__datetimeParts"),Bm=zi("__numberParts"),Ps=zi("__enableEmitter"),Lc=zi("__disableEmitter"),Kv=zi("__setPluralRules"),Xv=zi("__injectWithOption"),Rm=zi("__dispose");function Bc(t){if(!kt(t))return t;for(const e in t)if(Vd(t,e))if(!e.includes("."))kt(t[e])&&Bc(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,o=!1;for(let s=0;s<n;s++){if(r[s]in i||(i[r[s]]={}),!kt(i[r[s]])){process.env.NODE_ENV!=="production"&&kr(gn(er.IGNORE_OBJ_FLATTEN,{key:r[s]})),o=!0;break}i=i[r[s]]}o||(i[r[n]]=t[e],delete t[e]),kt(i[r[n]])&&Bc(i[r[n]])}return t}function Jd(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:o}=e,s=ct(r)?r:Wt(n)?{}:{[t]:{}};if(Wt(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:d}=a;l?(s[l]=s[l]||{},Wd(d,s[l])):Wd(d,s)}else je(a)&&Wd(JSON.parse(a),s)}),i==null&&o)for(const a in s)Vd(s,a)&&Bc(s[a]);return s}function Jv(t){return t.type}function Zv(t,e,r){let n=kt(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=Jd(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(o=>{t.mergeLocaleMessage(o,n[o])});{if(kt(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(s=>{t.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(kt(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(s=>{t.mergeNumberFormat(s,e.numberFormats[s])})}}}function e_(t){return c.createVNode(c.Text,null,t,0)}const t_="__INTLIFY_META__",r_=()=>[],s8=()=>!1;let n_=0;function i_(t){return(e,r,n,i)=>t(r,n,c.getCurrentInstance()||void 0,i)}const a8=()=>{const t=c.getCurrentInstance();let e=null;return t&&(e=Jv(t)[t_])?{[t_]:e}:null};function Pm(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,o=t.flatJson,s=bi?c.ref:c.shallowRef,a=!!t.translateExistCompatible;process.env.NODE_ENV!=="production"&&a&&ov(gn(er.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG));let l=vt(t.inheritLocale)?t.inheritLocale:!0;const d=s(r&&l?r.locale.value:je(t.locale)?t.locale:Va),f=s(r&&l?r.fallbackLocale.value:je(t.fallbackLocale)||Wt(t.fallbackLocale)||ct(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),u=s(Jd(d.value,t)),h=s(ct(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),p=s(ct(t.numberFormats)?t.numberFormats:{[d.value]:{}});let m=r?r.missingWarn:vt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,y=r?r.fallbackWarn:vt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,v=r?r.fallbackRoot:vt(t.fallbackRoot)?t.fallbackRoot:!0,b=!!t.fallbackFormat,A=Vt(t.missing)?t.missing:null,C=Vt(t.missing)?i_(t.missing):null,S=Vt(t.postTranslation)?t.postTranslation:null,M=r?r.warnHtmlMessage:vt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter;const L=r?r.modifiers:ct(t.modifiers)?t.modifiers:{};let k=t.pluralRules||r&&r.pluralRules,T;T=(()=>{i&&Sv(null);const ge={version:r8,locale:d.value,fallbackLocale:f.value,messages:u.value,modifiers:L,pluralRules:k,missing:C===null?void 0:C,missingWarn:m,fallbackWarn:y,fallbackFormat:b,unresolving:!0,postTranslation:S===null?void 0:S,warnHtmlMessage:M,escapeParameter:I,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ge.datetimeFormats=h.value,ge.numberFormats=p.value,ge.__datetimeFormatters=ct(T)?T.__datetimeFormatters:void 0,ge.__numberFormatters=ct(T)?T.__numberFormatters:void 0,process.env.NODE_ENV!=="production"&&(ge.__v_emitter=ct(T)?T.__v_emitter:void 0);const Ee=qN(ge);return i&&Sv(Ee),Ee})(),Oc(T,d.value,f.value);function z(){return[d.value,f.value,u.value,h.value,p.value]}const P=c.computed({get:()=>d.value,set:ge=>{d.value=ge,T.locale=d.value}}),R=c.computed({get:()=>f.value,set:ge=>{f.value=ge,T.fallbackLocale=f.value,Oc(T,d.value,ge)}}),$=c.computed(()=>u.value),W=c.computed(()=>h.value),B=c.computed(()=>p.value);function U(){return Vt(S)?S:null}function te(ge){S=ge,T.postTranslation=ge}function H(){return A}function O(ge){ge!==null&&(C=i_(ge)),A=ge,T.missing=C}function E(ge,Ee){return ge!=="translate"||!Ee.resolvedMessage}const V=(ge,Ee,Ge,lt,wt,Ke)=>{z();let Ft;try{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(T.fallbackContext=r?HN():void 0),Ft=ge(T)}finally{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(T.fallbackContext=void 0)}if(Ge!=="translate exists"&&Sr(Ft)&&Ft===Yd||Ge==="translate exists"&&!Ft){const[_t,lr]=Ee();if(process.env.NODE_ENV!=="production"&&r&&je(_t)&&E(Ge,lr)&&(v&&(Xd(y,_t)||Iv(m,_t))&&kr(gn(er.FALLBACK_TO_ROOT,{key:_t,type:Ge})),process.env.NODE_ENV!=="production")){const{__v_emitter:dr}=T;dr&&v&&dr.emit("fallback",{type:Ge,key:_t,to:"global",groupId:`${Ge}:${_t}`})}return r&&v?lt(r):wt(_t)}else{if(Ke(Ft))return Ft;throw Ir(Et.UNEXPECTED_RETURN_TYPE)}};function K(...ge){return V(Ee=>Reflect.apply(Pv,null,[Ee,...ge]),()=>Dm(...ge),"translate",Ee=>Reflect.apply(Ee.t,Ee,[...ge]),Ee=>Ee,Ee=>je(Ee))}function Y(...ge){const[Ee,Ge,lt]=ge;if(lt&&!kt(lt))throw Ir(Et.INVALID_ARGUMENT);return K(Ee,Ge,Rr({resolvedMessage:!0},lt||{}))}function Q(...ge){return V(Ee=>Reflect.apply(zv,null,[Ee,...ge]),()=>Mm(...ge),"datetime format",Ee=>Reflect.apply(Ee.d,Ee,[...ge]),()=>Kd,Ee=>je(Ee))}function ae(...ge){return V(Ee=>Reflect.apply(qv,null,[Ee,...ge]),()=>Nm(...ge),"number format",Ee=>Reflect.apply(Ee.n,Ee,[...ge]),()=>Kd,Ee=>je(Ee))}function ie(ge){return ge.map(Ee=>je(Ee)||Sr(Ee)||vt(Ee)?e_(String(Ee)):Ee)}const pe={normalize:ie,interpolate:ge=>ge,type:"vnode"};function fe(...ge){return V(Ee=>{let Ge;const lt=Ee;try{lt.processor=pe,Ge=Reflect.apply(Pv,null,[lt,...ge])}finally{lt.processor=null}return Ge},()=>Dm(...ge),"translate",Ee=>Ee[Om](...ge),Ee=>[e_(Ee)],Ee=>Wt(Ee))}function ve(...ge){return V(Ee=>Reflect.apply(qv,null,[Ee,...ge]),()=>Nm(...ge),"number format",Ee=>Ee[Bm](...ge),r_,Ee=>je(Ee)||Wt(Ee))}function ce(...ge){return V(Ee=>Reflect.apply(zv,null,[Ee,...ge]),()=>Mm(...ge),"datetime format",Ee=>Ee[Lm](...ge),r_,Ee=>je(Ee)||Wt(Ee))}function we(ge){k=ge,T.pluralRules=k}function oe(ge,Ee){return V(()=>{if(!ge)return!1;const Ge=je(Ee)?Ee:d.value,lt=he(Ge),wt=T.messageResolver(lt,ge);return a?wt!=null:Ko(wt)||Qn(wt)||je(wt)},()=>[ge],"translate exists",Ge=>Reflect.apply(Ge.te,Ge,[ge,Ee]),s8,Ge=>vt(Ge))}function xe(ge){let Ee=null;const Ge=bv(T,f.value,d.value);for(let lt=0;lt<Ge.length;lt++){const wt=u.value[Ge[lt]]||{},Ke=T.messageResolver(wt,ge);if(Ke!=null){Ee=Ke;break}}return Ee}function Ue(ge){const Ee=xe(ge);return Ee??(r?r.tm(ge)||{}:{})}function he(ge){return u.value[ge]||{}}function Se(ge,Ee){if(o){const Ge={[ge]:Ee};for(const lt in Ge)Vd(Ge,lt)&&Bc(Ge[lt]);Ee=Ge[ge]}u.value[ge]=Ee,T.messages=u.value}function De(ge,Ee){u.value[ge]=u.value[ge]||{};const Ge={[ge]:Ee};if(o)for(const lt in Ge)Vd(Ge,lt)&&Bc(Ge[lt]);Ee=Ge[ge],Wd(Ee,u.value[ge]),T.messages=u.value}function j(ge){return h.value[ge]||{}}function q(ge,Ee){h.value[ge]=Ee,T.datetimeFormats=h.value,Hv(T,ge,Ee)}function le(ge,Ee){h.value[ge]=Rr(h.value[ge]||{},Ee),T.datetimeFormats=h.value,Hv(T,ge,Ee)}function Te(ge){return p.value[ge]||{}}function Ne(ge,Ee){p.value[ge]=Ee,T.numberFormats=p.value,Gv(T,ge,Ee)}function Re(ge,Ee){p.value[ge]=Rr(p.value[ge]||{},Ee),T.numberFormats=p.value,Gv(T,ge,Ee)}n_++,r&&bi&&(c.watch(r.locale,ge=>{l&&(d.value=ge,T.locale=ge,Oc(T,d.value,f.value))}),c.watch(r.fallbackLocale,ge=>{l&&(f.value=ge,T.fallbackLocale=ge,Oc(T,d.value,f.value))}));const Qe={id:n_,locale:P,fallbackLocale:R,get inheritLocale(){return l},set inheritLocale(ge){l=ge,ge&&r&&(d.value=r.locale.value,f.value=r.fallbackLocale.value,Oc(T,d.value,f.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:$,get modifiers(){return L},get pluralRules(){return k||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ge){m=ge,T.missingWarn=m},get fallbackWarn(){return y},set fallbackWarn(ge){y=ge,T.fallbackWarn=y},get fallbackRoot(){return v},set fallbackRoot(ge){v=ge},get fallbackFormat(){return b},set fallbackFormat(ge){b=ge,T.fallbackFormat=b},get warnHtmlMessage(){return M},set warnHtmlMessage(ge){M=ge,T.warnHtmlMessage=ge},get escapeParameter(){return I},set escapeParameter(ge){I=ge,T.escapeParameter=ge},t:K,getLocaleMessage:he,setLocaleMessage:Se,mergeLocaleMessage:De,getPostTranslationHandler:U,setPostTranslationHandler:te,getMissingHandler:H,setMissingHandler:O,[Kv]:we};return Qe.datetimeFormats=W,Qe.numberFormats=B,Qe.rt=Y,Qe.te=oe,Qe.tm=Ue,Qe.d=Q,Qe.n=ae,Qe.getDateTimeFormat=j,Qe.setDateTimeFormat=q,Qe.mergeDateTimeFormat=le,Qe.getNumberFormat=Te,Qe.setNumberFormat=Ne,Qe.mergeNumberFormat=Re,Qe[Xv]=n,Qe[Om]=fe,Qe[Lm]=ce,Qe[Bm]=ve,process.env.NODE_ENV!=="production"&&(Qe[Ps]=ge=>{T.__v_emitter=ge},Qe[Lc]=()=>{T.__v_emitter=void 0}),Qe}function l8(t){const e=je(t.locale)?t.locale:Va,r=je(t.fallbackLocale)||Wt(t.fallbackLocale)||ct(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=Vt(t.missing)?t.missing:void 0,i=vt(t.silentTranslationWarn)||Go(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=vt(t.silentFallbackWarn)||Go(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,s=vt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=ct(t.modifiers)?t.modifiers:{},d=t.pluralizationRules,f=Vt(t.postTranslation)?t.postTranslation:void 0,u=je(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,p=vt(t.sync)?t.sync:!0;process.env.NODE_ENV!=="production"&&t.formatter&&kr(gn(er.NOT_SUPPORTED_FORMATTER)),process.env.NODE_ENV!=="production"&&t.preserveDirectiveContent&&kr(gn(er.NOT_SUPPORTED_PRESERVE_DIRECTIVE));let m=t.messages;if(ct(t.sharedMessages)){const I=t.sharedMessages;m=Object.keys(I).reduce((k,T)=>{const F=k[T]||(k[T]={});return Rr(F,I[T]),k},m||{})}const{__i18n:y,__root:v,__injectWithOption:b}=t,A=t.datetimeFormats,C=t.numberFormats,S=t.flatJson,M=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:S,datetimeFormats:A,numberFormats:C,missing:n,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:d,postTranslation:f,warnHtmlMessage:u,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:M,__i18n:y,__root:v,__injectWithOption:b}}function Fm(t={},e){{const r=Pm(l8(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(o){r.locale.value=o},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(o){r.fallbackLocale.value=o},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return process.env.NODE_ENV!=="production"&&kr(gn(er.NOT_SUPPORTED_FORMATTER)),{interpolate(){return[]}}},set formatter(o){process.env.NODE_ENV!=="production"&&kr(gn(er.NOT_SUPPORTED_FORMATTER))},get missing(){return r.getMissingHandler()},set missing(o){r.setMissingHandler(o)},get silentTranslationWarn(){return vt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(o){r.missingWarn=vt(o)?!o:o},get silentFallbackWarn(){return vt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(o){r.fallbackWarn=vt(o)?!o:o},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(o){r.fallbackFormat=o},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(o){r.setPostTranslationHandler(o)},get sync(){return r.inheritLocale},set sync(o){r.inheritLocale=o},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){r.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(o){r.escapeParameter=o},get preserveDirectiveContent(){return process.env.NODE_ENV!=="production"&&kr(gn(er.NOT_SUPPORTED_PRESERVE_DIRECTIVE)),!0},set preserveDirectiveContent(o){process.env.NODE_ENV!=="production"&&kr(gn(er.NOT_SUPPORTED_PRESERVE_DIRECTIVE))},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...o){const[s,a,l]=o,d={};let f=null,u=null;if(!je(s))throw Ir(Et.INVALID_ARGUMENT);const h=s;return je(a)?d.locale=a:Wt(a)?f=a:ct(a)&&(u=a),Wt(l)?f=l:ct(l)&&(u=l),Reflect.apply(r.t,r,[h,f||u||{},d])},rt(...o){return Reflect.apply(r.rt,r,[...o])},tc(...o){const[s,a,l]=o,d={plural:1};let f=null,u=null;if(!je(s))throw Ir(Et.INVALID_ARGUMENT);const h=s;return je(a)?d.locale=a:Sr(a)?d.plural=a:Wt(a)?f=a:ct(a)&&(u=a),je(l)?d.locale=l:Wt(l)?f=l:ct(l)&&(u=l),Reflect.apply(r.t,r,[h,f||u||{},d])},te(o,s){return r.te(o,s)},tm(o){return r.tm(o)},getLocaleMessage(o){return r.getLocaleMessage(o)},setLocaleMessage(o,s){r.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){r.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(r.d,r,[...o])},getDateTimeFormat(o){return r.getDateTimeFormat(o)},setDateTimeFormat(o,s){r.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){r.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(r.n,r,[...o])},getNumberFormat(o){return r.getNumberFormat(o)},setNumberFormat(o,s){r.setNumberFormat(o,s)},mergeNumberFormat(o,s){r.mergeNumberFormat(o,s)},getChoiceIndex(o,s){return process.env.NODE_ENV!=="production"&&kr(gn(er.NOT_SUPPORTED_GET_CHOICE_INDEX)),-1}};return i.__extender=n,process.env.NODE_ENV!=="production"&&(i.__enableEmitter=o=>{const s=r;s[Ps]&&s[Ps](o)},i.__disableEmitter=()=>{const o=r;o[Lc]&&o[Lc]()}),i}}const Um={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function c8({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===c.Fragment?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},{})}function o_(t){return c.Fragment}const jm=c.defineComponent({name:"i18n-t",props:Rr({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Sr(t)||!isNaN(t)}},Um),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||_i({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(r).filter(u=>u!=="_"),s={};t.locale&&(s.locale=t.locale),t.plural!==void 0&&(s.plural=je(t.plural)?+t.plural:t.plural);const a=c8(e,o),l=i[Om](t.keypath,a,s),d=Rr({},n),f=je(t.tag)||kt(t.tag)?t.tag:o_();return c.h(f,d,l)}}});function u8(t){return Wt(t)&&!je(t[0])}function s_(t,e,r,n){const{slots:i,attrs:o}=e;return()=>{const s={part:!0};let a={};t.locale&&(s.locale=t.locale),je(t.format)?s.key=t.format:kt(t.format)&&(je(t.format.key)&&(s.key=t.format.key),a=Object.keys(t.format).reduce((h,p)=>r.includes(p)?Rr({},h,{[p]:t.format[p]}):h,{}));const l=n(t.value,s,a);let d=[s.key];Wt(l)?d=l.map((h,p)=>{const m=i[h.type],y=m?m({[h.type]:h.value,index:p,parts:l}):[h.value];return u8(y)&&(y[0].key=`${h.type}-${p}`),y}):je(l)&&(d=[l]);const f=Rr({},o),u=je(t.tag)||kt(t.tag)?t.tag:o_();return c.h(u,f,d)}}const a_=c.defineComponent({name:"i18n-n",props:Rr({value:{type:Number,required:!0},format:{type:[String,Object]}},Um),setup(t,e){const r=t.i18n||_i({useScope:t.scope,__useComponent:!0});return s_(t,e,Wv,(...n)=>r[Bm](...n))}}),l_=c.defineComponent({name:"i18n-d",props:Rr({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Um),setup(t,e){const r=t.i18n||_i({useScope:t.scope,__useComponent:!0});return s_(t,e,Vv,(...n)=>r[Lm](...n))}});function d8(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function f8(t){const e=s=>{const{instance:a,modifiers:l,value:d}=s;if(!a||!a.$)throw Ir(Et.UNEXPECTED_ERROR);const f=d8(t,a.$);process.env.NODE_ENV!=="production"&&l.preserve&&kr(gn(er.NOT_SUPPORTED_PRESERVE));const u=c_(d);return[Reflect.apply(f.t,f,[...u_(u)]),f]};return{created:(s,a)=>{const[l,d]=e(a);bi&&t.global===d&&(s.__i18nWatcher=c.watch(d.locale,()=>{a.instance&&a.instance.$forceUpdate()})),s.__composer=d,s.textContent=l},unmounted:s=>{bi&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:a})=>{if(s.__composer){const l=s.__composer,d=c_(a);s.textContent=Reflect.apply(l.t,l,[...u_(d)])}},getSSRProps:s=>{const[a]=e(s);return{textContent:a}}}}function c_(t){if(je(t))return{path:t};if(ct(t)){if(!("path"in t))throw Ir(Et.REQUIRED_VALUE,"path");return t}else throw Ir(Et.INVALID_VALUE)}function u_(t){const{path:e,locale:r,args:n,choice:i,plural:o}=t,s={},a=n||{};return je(r)&&(s.locale=r),Sr(i)&&(s.plural=i),Sr(o)&&(s.plural=o),[e,a,s]}function h8(t,e,...r){const n=ct(r[0])?r[0]:{},i=!!n.useI18nComponentName,o=vt(n.globalInstall)?n.globalInstall:!0;process.env.NODE_ENV!=="production"&&o&&i&&kr(gn(er.COMPONENT_NAME_LEGACY_COMPATIBLE,{name:jm.name})),o&&([i?"i18n":jm.name,"I18nT"].forEach(s=>t.component(s,jm)),[a_.name,"I18nN"].forEach(s=>t.component(s,a_)),[l_.name,"I18nD"].forEach(s=>t.component(s,l_))),t.directive("t",f8(e))}const $m={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},p8={"vue-i18n-resource-inspector":"Search for scopes ..."},m8={"vue-i18n-timeline":16764185},d_="vue-i18n: composer properties";let zm;async function g8(t,e){return new Promise((r,n)=>{try{k2({id:"vue-devtools-plugin-vue-i18n",label:$m["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[d_],app:t},i=>{zm=i,i.on.visitComponentTree(({componentInstance:s,treeNode:a})=>{y8(s,a,e)}),i.on.inspectComponent(({componentInstance:s,instanceData:a})=>{s.vnode.el&&s.vnode.el.__VUE_I18N__&&a&&(e.mode==="legacy"?s.vnode.el.__VUE_I18N__!==e.global.__composer&&h_(a,s.vnode.el.__VUE_I18N__):h_(a,s.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:$m["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:p8["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&x8(s,e)});const o=new Map;i.on.getInspectorState(async s=>{if(s.app===t&&s.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),T8(s,e),s.nodeId==="global"){if(!o.has(s.app)){const[a]=await i.getComponentInstances(s.app);o.set(s.app,a)}i.highlightElement(o.get(s.app))}else{const a=A8(s.nodeId,e);a&&i.highlightElement(a)}}),i.on.editInspectorState(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&E8(s,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:$m["vue-i18n-timeline"],color:m8["vue-i18n-timeline"]}),r(!0)})}catch(i){console.error(i),n(!1)}})}function f_(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function y8(t,e,r){const n=r.mode==="composition"?r.global:r.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==n){const i={label:`i18n (${f_(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function h_(t,e){const r=d_;t.state.push({type:r,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:r,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:r,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:r,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:r,key:"messages",editable:!1,value:Vm(e.messages.value)}),t.state.push({type:r,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:r,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function Vm(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];Vt(n)&&"source"in n?e[r]=w8(n):Ko(n)&&n.loc&&n.loc.source?e[r]=n.loc.source:kt(n)?e[r]=Vm(n):e[r]=n}),e}const b8={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function v8(t){return t.replace(/[<>"&]/g,_8)}function _8(t){return b8[t]||t}function w8(t){return{_custom:{type:"function",display:`<span>ƒ</span> ${t.source?`("${v8(t.source)}")`:"(?)"}`}}}function x8(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const r=e.mode==="composition"?e.global:e.global.__composer;for(const[n,i]of e.__instances){const o=e.mode==="composition"?i:i.__composer;r!==o&&t.rootNodes.push({id:o.id.toString(),label:`${f_(n)} Scope`})}}function A8(t,e){let r=null;if(t!=="global"){for(const[n,i]of e.__instances.entries())if(i.id.toString()===t){r=n;break}}return r}function p_(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const r=Array.from(e.__instances.values()).find(n=>n.id.toString()===t);return r?e.mode==="composition"?r:r.__composer:null}}function T8(t,e){const r=p_(t.nodeId,e);return r&&(t.state=C8(r)),null}function C8(t){const e={},r="Locale related info",n=[{type:r,key:"locale",editable:!0,value:t.locale.value},{type:r,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:r,key:"availableLocales",editable:!1,value:t.availableLocales},{type:r,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[r]=n;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:Vm(t.messages.value)}];e[i]=o;{const s="Datetime formats info",a=[{type:s,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[s]=a;const l="Datetime formats info",d=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=d}return e}function Rc(t,e){if(zm){let r;e&&"groupId"in e&&(r=e.groupId,delete e.groupId),zm.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:r,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function E8(t,e){const r=p_(t.nodeId,e);if(r){const[n]=t.path;n==="locale"&&je(t.state.value)?r.locale.value=t.state.value:n==="fallbackLocale"&&(je(t.state.value)||Wt(t.state.value)||kt(t.state.value))?r.fallbackLocale.value=t.state.value:n==="inheritLocale"&&vt(t.state.value)&&(r.inheritLocale=t.state.value)}}function S8(t,e,r){return{beforeCreate(){const n=c.getCurrentInstance();if(!n)throw Ir(Et.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=e,this===this.$root)this.$i18n=m_(t,o);else{o.__injectWithOption=!0,o.__extender=r.__vueI18nExtend,this.$i18n=Fm(o);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=m_(t,i);else{this.$i18n=Fm({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&Zv(e,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,s)=>this.$i18n.te(o,s),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),r.__setInstance(n,this.$i18n)},mounted(){if(process.env.NODE_ENV!=="production"&&this.$el&&this.$i18n){const n=this.$i18n;this.$el.__VUE_I18N__=n.__composer;const i=this.__v_emitter=Am();n.__enableEmitter&&n.__enableEmitter(i),i.on("*",Rc)}},unmounted(){const n=c.getCurrentInstance();if(!n)throw Ir(Et.UNEXPECTED_ERROR);const i=this.$i18n;process.env.NODE_ENV!=="production"&&this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",Rc),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function m_(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[Kv](e.pluralizationRules||t.pluralizationRules);const r=Jd(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const k8=zi("global-vue-i18n");function I8(t={},e){const r=__VUE_I18N_LEGACY_API__&&vt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=vt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,o=new Map,[s,a]=D8(t,r),l=zi(process.env.NODE_ENV!=="production"?"vue-i18n":"");process.env.NODE_ENV!=="production"&&r&&i&&kr(gn(er.NOTICE_DROP_ALLOW_COMPOSITION));function d(h){return o.get(h)||null}function f(h,p){o.set(h,p)}function u(h){o.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(p,...m){if(process.env.NODE_ENV!=="production"&&(p.__VUE_I18N__=h),p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,h),ct(m[0])){const b=m[0];h.__composerExtend=b.__composerExtend,h.__vueI18nExtend=b.__vueI18nExtend}let y=null;!r&&n&&(y=U8(p,h.global)),__VUE_I18N_FULL_INSTALL__&&h8(p,h,...m),__VUE_I18N_LEGACY_API__&&r&&p.mixin(S8(a,a.__composer,h));const v=p.unmount;if(p.unmount=()=>{y&&y(),h.dispose(),v()},process.env.NODE_ENV!=="production"){if(!await g8(p,h))throw Ir(Et.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const A=Am();if(r){const C=a;C.__enableEmitter&&C.__enableEmitter(A)}else{const C=a;C[Ps]&&C[Ps](A)}A.on("*",Rc)}},get global(){return a},dispose(){s.stop()},__instances:o,__getInstance:d,__setInstance:f,__deleteInstance:u};return h}}function _i(t={}){const e=c.getCurrentInstance();if(e==null)throw Ir(Et.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ir(Et.NOT_INSTALLED);const r=M8(e),n=O8(r),i=Jv(e),o=N8(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Ir(Et.NOT_AVAILABLE_IN_LEGACY_MODE);return P8(e,o,n,t)}if(o==="global")return Zv(n,t,i),n;if(o==="parent"){let l=L8(r,e,t.__useComponent);return l==null&&(process.env.NODE_ENV!=="production"&&kr(gn(er.NOT_FOUND_PARENT_SCOPE)),l=n),l}const s=r;let a=s.__getInstance(e);if(a==null){const l=Rr({},t);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),a=Pm(l),s.__composerExtend&&(a[Rm]=s.__composerExtend(a)),R8(s,e,a),s.__setInstance(e,a)}return a}function D8(t,e,r){const n=c.effectScope();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>Fm(t)):n.run(()=>Pm(t));if(i==null)throw Ir(Et.UNEXPECTED_ERROR);return[n,i]}}function M8(t){{const e=c.inject(t.isCE?k8:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ir(t.isCE?Et.NOT_INSTALLED_WITH_PROVIDE:Et.UNEXPECTED_ERROR);return e}}function N8(t,e){return zd(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function O8(t){return t.mode==="composition"?t.global:t.global.__composer}function L8(t,e,r=!1){let n=null;const i=e.root;let o=B8(e,r);for(;o!=null;){const s=t;if(t.mode==="composition")n=s.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=s.__getInstance(o);a!=null&&(n=a.__composer,r&&n&&!n[Xv]&&(n=null))}if(n!=null||i===o)break;o=o.parent}return n}function B8(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function R8(t,e,r){let n=null;c.onMounted(()=>{if(process.env.NODE_ENV!=="production"&&e.vnode.el){e.vnode.el.__VUE_I18N__=r,n=Am();const i=r;i[Ps]&&i[Ps](n),n.on("*",Rc)}},e),c.onUnmounted(()=>{const i=r;process.env.NODE_ENV!=="production"&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&(n&&n.off("*",Rc),i[Lc]&&i[Lc](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const o=i[Rm];o&&(o(),delete i[Rm])},e)}function P8(t,e,r,n={}){const i=e==="local",o=c.shallowRef(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Ir(Et.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=vt(n.inheritLocale)?n.inheritLocale:!je(n.locale),a=c.ref(!i||s?r.locale.value:je(n.locale)?n.locale:Va),l=c.ref(!i||s?r.fallbackLocale.value:je(n.fallbackLocale)||Wt(n.fallbackLocale)||ct(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),d=c.ref(Jd(a.value,n)),f=c.ref(ct(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),u=c.ref(ct(n.numberFormats)?n.numberFormats:{[a.value]:{}}),h=i?r.missingWarn:vt(n.missingWarn)||Go(n.missingWarn)?n.missingWarn:!0,p=i?r.fallbackWarn:vt(n.fallbackWarn)||Go(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:vt(n.fallbackRoot)?n.fallbackRoot:!0,y=!!n.fallbackFormat,v=Vt(n.missing)?n.missing:null,b=Vt(n.postTranslation)?n.postTranslation:null,A=i?r.warnHtmlMessage:vt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,C=!!n.escapeParameter,S=i?r.modifiers:ct(n.modifiers)?n.modifiers:{},M=n.pluralRules||i&&r.pluralRules;function I(){return[a.value,l.value,d.value,f.value,u.value]}const L=c.computed({get:()=>o.value?o.value.locale.value:a.value,set:oe=>{o.value&&(o.value.locale.value=oe),a.value=oe}}),k=c.computed({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:oe=>{o.value&&(o.value.fallbackLocale.value=oe),l.value=oe}}),T=c.computed(()=>o.value?o.value.messages.value:d.value),F=c.computed(()=>f.value),z=c.computed(()=>u.value);function P(){return o.value?o.value.getPostTranslationHandler():b}function R(oe){o.value&&o.value.setPostTranslationHandler(oe)}function $(){return o.value?o.value.getMissingHandler():v}function W(oe){o.value&&o.value.setMissingHandler(oe)}function B(oe){return I(),oe()}function U(...oe){return o.value?B(()=>Reflect.apply(o.value.t,null,[...oe])):B(()=>"")}function te(...oe){return o.value?Reflect.apply(o.value.rt,null,[...oe]):""}function H(...oe){return o.value?B(()=>Reflect.apply(o.value.d,null,[...oe])):B(()=>"")}function O(...oe){return o.value?B(()=>Reflect.apply(o.value.n,null,[...oe])):B(()=>"")}function E(oe){return o.value?o.value.tm(oe):{}}function V(oe,xe){return o.value?o.value.te(oe,xe):!1}function K(oe){return o.value?o.value.getLocaleMessage(oe):{}}function Y(oe,xe){o.value&&(o.value.setLocaleMessage(oe,xe),d.value[oe]=xe)}function Q(oe,xe){o.value&&o.value.mergeLocaleMessage(oe,xe)}function ae(oe){return o.value?o.value.getDateTimeFormat(oe):{}}function ie(oe,xe){o.value&&(o.value.setDateTimeFormat(oe,xe),f.value[oe]=xe)}function me(oe,xe){o.value&&o.value.mergeDateTimeFormat(oe,xe)}function pe(oe){return o.value?o.value.getNumberFormat(oe):{}}function fe(oe,xe){o.value&&(o.value.setNumberFormat(oe,xe),u.value[oe]=xe)}function ve(oe,xe){o.value&&o.value.mergeNumberFormat(oe,xe)}const ce={get id(){return o.value?o.value.id:-1},locale:L,fallbackLocale:k,messages:T,datetimeFormats:F,numberFormats:z,get inheritLocale(){return o.value?o.value.inheritLocale:s},set inheritLocale(oe){o.value&&(o.value.inheritLocale=oe)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(d.value)},get modifiers(){return o.value?o.value.modifiers:S},get pluralRules(){return o.value?o.value.pluralRules:M},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:h},set missingWarn(oe){o.value&&(o.value.missingWarn=oe)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(oe){o.value&&(o.value.missingWarn=oe)},get fallbackRoot(){return o.value?o.value.fallbackRoot:m},set fallbackRoot(oe){o.value&&(o.value.fallbackRoot=oe)},get fallbackFormat(){return o.value?o.value.fallbackFormat:y},set fallbackFormat(oe){o.value&&(o.value.fallbackFormat=oe)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:A},set warnHtmlMessage(oe){o.value&&(o.value.warnHtmlMessage=oe)},get escapeParameter(){return o.value?o.value.escapeParameter:C},set escapeParameter(oe){o.value&&(o.value.escapeParameter=oe)},t:U,getPostTranslationHandler:P,setPostTranslationHandler:R,getMissingHandler:$,setMissingHandler:W,rt:te,d:H,n:O,tm:E,te:V,getLocaleMessage:K,setLocaleMessage:Y,mergeLocaleMessage:Q,getDateTimeFormat:ae,setDateTimeFormat:ie,mergeDateTimeFormat:me,getNumberFormat:pe,setNumberFormat:fe,mergeNumberFormat:ve};function we(oe){oe.locale.value=a.value,oe.fallbackLocale.value=l.value,Object.keys(d.value).forEach(xe=>{oe.mergeLocaleMessage(xe,d.value[xe])}),Object.keys(f.value).forEach(xe=>{oe.mergeDateTimeFormat(xe,f.value[xe])}),Object.keys(u.value).forEach(xe=>{oe.mergeNumberFormat(xe,u.value[xe])}),oe.escapeParameter=C,oe.fallbackFormat=y,oe.fallbackRoot=m,oe.fallbackWarn=p,oe.missingWarn=h,oe.warnHtmlMessage=A}return c.onBeforeMount(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Ir(Et.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const oe=o.value=t.proxy.$i18n.__composer;e==="global"?(a.value=oe.locale.value,l.value=oe.fallbackLocale.value,d.value=oe.messages.value,f.value=oe.datetimeFormats.value,u.value=oe.numberFormats.value):i&&we(oe)}),ce}const F8=["locale","fallbackLocale","availableLocales"],g_=["t","rt","d","n","tm","te"];function U8(t,e){const r=Object.create(null);return F8.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o)throw Ir(Et.UNEXPECTED_ERROR);const s=c.isRef(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,i,s)}),t.config.globalProperties.$i18n=r,g_.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o||!o.value)throw Ir(Et.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,o)}),()=>{delete t.config.globalProperties.$i18n,g_.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(n8(),__INTLIFY_JIT_COMPILATION__?xv(KN):xv(YN),jN(_N),$N(bv),process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const t=_o();t.__INTLIFY__=!0,IN(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}process.env.NODE_ENV;var y_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bt,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(y){var v={date:y,utc:!0,args:arguments};return new s(v)},l.utc=function(y){var v=a(this.toDate(),{locale:this.$L,utc:!0});return y?v.add(this.utcOffset(),r):v},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var f=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else f.call(this)};var u=l.utcOffset;l.utcOffset=function(y,v){var b=this.$utils().u;if(b(y))return this.$u?0:b(this.$offset)?u.call(this):this.$offset;if(typeof y=="string"&&(y=function(M){M===void 0&&(M="");var I=M.match(n);if(!I)return null;var L=(""+I[0]).match(i)||["-",0,0],k=L[0],T=60*+L[1]+ +L[2];return T===0?0:k==="+"?T:-T}(y),y===null))return this;var A=Math.abs(y)<=16?60*y:y,C=this;if(v)return C.$offset=A,C.$u=y===0,C;if(y!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(A+S,r)).$offset=A,C.$x.$localOffset=S}else C=this.utc();return C};var h=l.format;l.format=function(y){var v=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(y,v,b){if(y&&this.$u===y.$u)return m.call(this,y,v,b);var A=this.local(),C=a(y).local();return m.call(A,C,v,b)}}})})(y_);var j8=y_.exports;const $8=Jr(j8);for(var Pr=[],Hm=0;Hm<256;++Hm)Pr.push((Hm+256).toString(16).slice(1));function z8(t,e=0){return(Pr[t[e+0]]+Pr[t[e+1]]+Pr[t[e+2]]+Pr[t[e+3]]+"-"+Pr[t[e+4]]+Pr[t[e+5]]+"-"+Pr[t[e+6]]+Pr[t[e+7]]+"-"+Pr[t[e+8]]+Pr[t[e+9]]+"-"+Pr[t[e+10]]+Pr[t[e+11]]+Pr[t[e+12]]+Pr[t[e+13]]+Pr[t[e+14]]+Pr[t[e+15]]).toLowerCase()}var Zd,V8=new Uint8Array(16);function H8(){if(!Zd&&(Zd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zd(V8)}var q8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const b_={randomUUID:q8};function ef(t,e,r){if(b_.randomUUID&&!e&&!t)return b_.randomUUID();t=t||{};var n=t.random||(t.rng||H8)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,z8(n)}pr.extend($8),pr.extend(TM);var Xe=(t=>(t.Text="text",t.Image="image",t.Sticker="sticker",t.Video="video",t.File="file",t.Template="template",t.Flex="flex",t.Location="location",t.Audio="audio",t.Recall="recall",t.JoinRoom="joinRoom",t.LeaveRoom="leaveRoom",t.AddMember="addMember",t.DeleteMember="deleteMember",t.AddMembers="addMembers",t.Announcement="announcement",t.Typing="typing",t))(Xe||{});class ir{constructor(e){Pe(this,"id");Pe(this,"roomId");Pe(this,"senderId");Pe(this,"type");Pe(this,"createdAt");Pe(this,"updatedAt");Pe(this,"groupId");Pe(this,"dateId");Pe(this,"template");Pe(this,"prev",null);Pe(this,"next",null);const{_id:r,room:n,sender:i,messageType:o,createdAtMS:s,updatedAtMS:a,extra:l}=e;this.id=r,this.roomId=n,this.senderId=(i==null?void 0:i._id)||"",o==="line"?this.type=l.type:this.type=o,this.createdAt=s,this.updatedAt=a,this.groupId=`${pr(s).startOf("minute").unix()}-${this.senderId}`,this.dateId=pr.tz(s).startOf("day").unix()}_string(e,r){var o;const{t:n}=_i();let i=n("message");switch(this.type){case"image":i=n("image");break;case"sticker":i=n("sticker");break;case"video":i=n("video");break;case"file":i=n("file");break;case"location":i=n("location");break;case"audio":i=n("audio");break}return this.senderId===e?n("youSent",[i]):n("someoneSent",[((o=r[this.senderId])==null?void 0:o.nickname)??"",i])}get string(){const{state:{imkit:{uid:e,users:r}}}=Rt();return this._string(e,r)}get isIncoming(){return!this.isOutgoing}get isOutgoing(){var i;const e=Rt();if(!e)return!1;const{state:{imkit:{rooms:r,uid:n}}}=e;return this.senderId===n||((i=r[this.roomId])==null?void 0:i.isOutgoingGroupSender[this.senderId])}get isSystem(){return new Set(["recall","joinRoom","leaveRoom","addMember","deleteMember","addMembers","announcement"]).has(this.type)}static fromRaw(e){if(!e)return null;switch(e.messageType){case"text":return new tf(e);case"image":return new W8(e);case"sticker":return new v_(e);case"video":return new G8(e);case"file":return new X8(e);case"template":return new Q8(e);case"flex":return new Y8(e);case"location":return new K8(e);case"audio":return new J8(e);case"announcement":return new tf(e);case"addMember":return new Wm(e);case"deleteMember":return new Wm(e);case"addMembers":return new Wm(e);case"line":switch(e.extra!=="object"&&(e.extra=JSON.parse(e.extra)),e.extra.type){case"sticker":return new v_(e);default:return new ir(e)}default:return new ir(e)}}static fromPayload(e,r){const n=Date.now(),{roomId:i}=e,o={_id:ef(),room:i,sender:{_id:r},createdAtMS:n,updatedAtMS:n,...e};return ir.fromRaw(o)}}const dc=class dc extends ir{constructor(r){super(r);Pe(this,"text");Pe(this,"translatedText");Pe(this,"replyId");Pe(this,"urls");Pe(this,"html");const{message:n,reply:i}=r;this.text=n??"",this.translatedText=null,this.replyId=(i==null?void 0:i._id)??null;try{this.urls=Array.from(new Set(dc.autolinker.parse(n).map(o=>o.getUrl()))),this.html=dc.autolinker.link(n.replaceAll(`
`,"<br>"))}catch(o){this.urls=[],this.html="",console.log(r),console.error(o)}}get string(){return this.text}static linkfy(r){try{return dc.autolinker.link(r.replaceAll(`
`,"<br>"))}catch(n){return console.error(n),r}}};Pe(dc,"autolinker",new wM({className:"underline",email:!1,phone:!1,stripPrefix:!1,stripTrailingSlash:!1}));let tf=dc;class W8 extends ir{constructor(r){super(r);Pe(this,"images");const{images:n,width:i,height:o,thumbnailUrl:s,originalUrl:a}=r;n&&n.length>0?this.images=n:this.images=[{id:a,width:i,height:o,thumbnailUrl:s,originalUrl:a}]}}class v_ extends ir{constructor(r){super(r);Pe(this,"stickerId");Pe(this,"stickerUrl");const{sticker:n,extra:i}=r;n?(this.stickerId=n,this.stickerUrl=""):(this.stickerId="",this.stickerUrl=`https://stickershop.line-scdn.net/stickershop/v1/sticker/${i.stickerId}/ios/sticker.png`)}}class G8 extends ir{constructor(r){super(r);Pe(this,"video");const{id:n,width:i,height:o,thumbnailUrl:s,originalUrl:a,duration:l,thumbnailFile:d,video:f}=r;f?this.video=f:this.video={id:n||a,width:i,height:o,thumbnailUrl:s,originalUrl:a,duration:l,thumbnailFile:d}}}var Fs=(t=>(t.Buttons="buttons",t.Confirm="confirm",t.Carousel="carousel",t.ImageCarousel="image_carousel",t))(Fs||{});class Q8 extends ir{constructor(r){super(r);Pe(this,"template");Pe(this,"templateType");const{template:n}=r;try{this.template=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.template;this.templateType=i}catch(i){console.log(r),console.error(i),this.template={},this.templateType="buttons"}}}var qm=(t=>(t.Bubble="bubble",t.Carousel="carousel",t))(qm||{});class Y8 extends ir{constructor(r){super(r);Pe(this,"contents");Pe(this,"flexType");const{contents:n}=r;try{this.contents=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.contents;this.flexType=i}catch(i){console.log(r),console.error(i),this.contents={},this.flexType="bubble"}}}class K8 extends ir{constructor(r){super(r);Pe(this,"address");Pe(this,"latitude");Pe(this,"longitude");const{message:n,latitude:i,longitude:o}=r;this.address=n,this.latitude=i,this.longitude=o}}class Wm extends ir{constructor(r){super(r);Pe(this,"members");switch(r.messageType){case"addMember":this.members=[new Wo(r.member)];break;case"deleteMember":this.members=r.extra.members.map(n=>new Wo(n));break;case"addMembers":this.members=r.extra.invitees.map(n=>new Wo(n));break;default:this.members=[]}}}class X8 extends ir{constructor(r){super(r);Pe(this,"url");Pe(this,"mimeType");Pe(this,"fileName");Pe(this,"bytes");Pe(this,"fileExtension");const{originalUrl:n,extra:i}=r;this.url=n;const{mimeType:o,fileName:s,bytes:a,fileExtension:l}=typeof i=="object"?i:JSON.parse(i);this.mimeType=o,this.fileName=s,this.bytes=a,this.fileExtension=l}}class J8 extends ir{constructor(r){super(r);Pe(this,"url");Pe(this,"mimeType");Pe(this,"fileName");Pe(this,"bytes");Pe(this,"fileExtension");Pe(this,"duration");const{originalUrl:n,extra:i,duration:o}=r;this.url=n;const{mimeType:s,fileName:a,bytes:l,fileExtension:d}=typeof i=="object"?i:JSON.parse(i);this.mimeType=s,this.fileName=a,this.bytes=l,this.fileExtension=d,this.duration=o}}const Z8=t=>(c.pushScopeId("data-v-4082b57b"),t=t(),c.popScopeId(),t),eO={class:"flex gap-3"},tO={class:"flex flex-col gap-1"},rO={key:0,class:"ml-auto h-10 w-10 rounded object-cover"},nO=["innerHTML"],iO=["innerHTML"],oO=["innerHTML"],sO={key:3,class:"my-1 flex flex-col gap-3"},aO=["onClick"],lO=Z8(()=>c.createElementVNode("div",{class:"my-0.5 w-0.5 flex-shrink-0 rounded-full bg-blue-300"},null,-1)),cO={class:"align-center flex grow flex-col justify-center gap-0.5 overflow-hidden"},uO={class:"ellipsis text-sm font-bold"},dO={class:"multiline-ellipsis text-xs"},fO=["src"],hO=c.defineComponent({__name:"TextMessageContent",props:{message:{}},setup(t){const e=t,r=Rt(),n=c.computed(()=>{var h;return(h=r.state.imkit.messageMultiList.main)==null?void 0:h.map.get(e.message.replyId)}),i=c.computed(()=>{const h=n.value;return h?r.state.imkit.users[h.senderId]:null}),o=c.computed(()=>e.message.isIncoming),s=c.computed(()=>{const{urls:h}=e.message;return h?h.map(p=>r.state.imkit.linkPreviews[p]).filter(p=>p):[]}),a=c.computed(()=>{if(n.value.type===Xe.Text)return n.value.text;if(n.value.type===Xe.Image){const{t:h}=_i();return{[Xe.Text]:h("text"),[Xe.Image]:h("image"),[Xe.Video]:h("video"),[Xe.Sticker]:h("sticker")}[n.value.type]}return""}),l=c.computed(()=>{if(n.value.type===Xe.Image)return n.value.images[0]}),d=c.computed(()=>r.state.imkit.messageSearchKeyword?e.message.html.replace(new RegExp(r.state.imkit.messageSearchKeyword,"ig"),h=>`<span class="bg-amber-400 text-white">${h}</span>`):e.message.html),f=h=>{window.open(h,"_blank")},u=()=>{r.dispatch("imkit/navigateToMessage",e.message.replyId)};return(h,p)=>{const m=c.resolveDirective("src");return c.openBlock(),c.createElementBlock(c.Fragment,null,[n.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex cursor-pointer flex-col gap-2",onClick:u},[c.createElementVNode("div",eO,[c.createVNode(zr,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg text-sm",url:i.value.avatarUrl??"",name:i.value.nickname??""},null,8,["url","name"]),c.createElementVNode("div",tO,[c.createElementVNode("div",{class:c.normalizeClass(["text-sm font-bold",[o.value?"text-gray-600":"text-white"]])},c.toDisplayString(i.value.nickname),3),c.createElementVNode("div",{class:c.normalizeClass(["multiline-ellipsis text-xs",[o.value?"text-gray-500 dark:text-gray-300":"text-gray-200"]])},c.toDisplayString(a.value),3)]),l.value?c.withDirectives((c.openBlock(),c.createElementBlock("img",rO,null,512)),[[m,l.value.thumbnailUrl]]):c.createCommentVNode("",!0)]),c.createElementVNode("div",{class:c.normalizeClass(["-mx-2 h-px",[o.value?"bg-gray-200 dark:bg-zinc-600":"bg-blue-300"]])},null,2),c.createElementVNode("div",{class:"break-all",innerHTML:d.value},null,8,nO)])):(c.openBlock(),c.createElementBlock("div",{key:1,class:"break-all",innerHTML:d.value},null,8,iO)),o.value&&h.message.translatedText?(c.openBlock(),c.createElementBlock("div",{key:2,class:"break-all text-gray-400",innerHTML:h.$t("translation")+": "+h.message.translatedText},null,8,oO)):c.createCommentVNode("",!0),s.value.length>0?(c.openBlock(),c.createElementBlock("div",sO,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(s.value,y=>(c.openBlock(),c.createElementBlock("div",{key:y.url,class:"flex cursor-pointer items-stretch justify-center gap-2",onClick:v=>f(y.url)},[lO,c.createElementVNode("div",cO,[c.createElementVNode("div",uO,c.toDisplayString(y.title),1),c.createElementVNode("div",dO,c.toDisplayString(y.description||h.$t("tapOpen")),1)]),y.images.length>0?(c.openBlock(),c.createElementBlock("img",{key:0,src:y.images[0],class:"my-auto h-12 w-12 flex-shrink-0 rounded object-cover"},null,8,fO)):c.createCommentVNode("",!0)],8,aO))),128))])):c.createCommentVNode("",!0)],64)}}}),wi=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},Xo=wi(hO,[["__scopeId","data-v-4082b57b"]]);function pO(){return Math.random().toString(16).substring(2)}var Gm=c.defineComponent({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(t){const e=c.reactive({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),r=`rg-${pO()}`,n=c.ref(0),i=c.ref(0),o=c.ref(null),s=c.computed(()=>t.diameter/2),a=c.computed(()=>t.diameter-t.innerStrokeWidth*2),l=c.computed(()=>Math.PI*a.value),d=c.computed(()=>t.totalSteps===0?0:100/t.totalSteps),f=c.computed(()=>d.value*t.completedSteps),u=c.computed(()=>2*Math.PI/t.totalSteps),h=c.computed(()=>100/t.fps),p=c.computed(()=>t.animateSpeed/h.value),m=c.computed(()=>u.value/p.value),y=c.computed(()=>a.value/2),v=c.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`})),b=c.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.strokeWidth}px`,strokeDashoffset:n.value,transition:`stroke-dashoffset ${t.animateSpeed}ms ${t.timingFunc}`})),A=c.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.innerStrokeWidth}px`})),C=c.computed(()=>({width:`${a.value}px`}));c.watch(()=>[t.diameter,t.totalSteps,t.completedSteps,t.strokeWidth],L,{immediate:!0});function S(k){const F=.5+.5*Math.cos(k),z=.5+.5*Math.sin(k);return{x:F,y:z}}function M(){const k=S(i.value);k.x&&k.y&&(e.fx=k.x,e.fy=k.y)}function I(){return t.isClockwise?1:-1}function L(){n.value=(100-f.value)/100*l.value*I(),o.value&&clearInterval(o.value);const k=(t.completedSteps-1)*u.value;let T=(i.value-k)/m.value;const F=Math.abs(T-p.value)/p.value,z=T<p.value;o.value=setInterval(()=>{if(z&&T>=p.value||!z&&T<p.value){o.value&&clearInterval(o.value);return}i.value=k+m.value*T,M(),T+=z?F:-F},h.value)}return{gradientAnimation:o,innerCircleRadius:y,radialGradientId:r,strokeDashoffset:n,innerCircleStyle:C,containerStyle:v,circumference:l,progressStyle:b,currentAngle:i,strokeStyle:A,gradient:e,radius:s}}});const mO=["width","height"],gO=["id","fx","fy","cx","cy","r"],yO=["stop-color"],bO=["stop-color"],vO=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],_O=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function wO(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",{class:"vrp__wrapper",style:c.normalizeStyle(t.containerStyle)},[c.createElementVNode("div",{class:"vrp__inner",style:c.normalizeStyle(t.innerCircleStyle)},[c.renderSlot(t.$slots,"default")],4),(c.openBlock(),c.createElementBlock("svg",{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("defs",null,[c.createElementVNode("radialGradient",{id:t.radialGradientId,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r},[c.createElementVNode("stop",{offset:"30%","stop-color":t.startColor},null,8,yO),c.createElementVNode("stop",{offset:"100%","stop-color":t.stopColor},null,8,bO)],8,gO)]),c.createElementVNode("circle",{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":t.strokeLinecap,style:c.normalizeStyle(t.strokeStyle)},null,12,vO),c.createElementVNode("circle",{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:`url('#${t.radialGradientId}')`,"stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":t.strokeLinecap,style:c.normalizeStyle(t.progressStyle)},null,12,_O)],8,mO))],4)}function xO(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var AO=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;xO(AO),Gm.render=wO,Gm.__scopeId="data-v-6a0cf1f6";var rf=(()=>{const t=Gm;return t.install=e=>{e.component("RadialProgressBar",t)},t})();const TO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNklEQVR4nO2Z20sVURTGd9r9IlLmDYxuBEmBURBSkQWF2EsvUUT17EOFb9ZbFIRBQdEfYIUUBNlDd6KgIqOrhWU3MQiiIior7QLlL9Y5a07b0eM5xzPjmYnzgXj2ntnfWt+stfdes8eYLLLIIuMARgILgU3AdmArsBZYBOSaoANYDBwBvhEfH4BGoNIEDUAJcBLotRx+ChwHDgGHgWbgiUtUMzDLBAFAFfBOHfsE7AbKBrl/NrAL+KJjPgPVw+t1f6dWAz/UoRNAYQpjp2rEBL+BLf56G9+RcqBbHdk5RI4RMlZT8hew1HtPo4bG60qzUlLC6h8FPFYRezyws1e5JEXz03bcIp4JNAHfXZOzHVgH1Gn7GpDjgb0c4IpyNnglotqaiJK7rcBV4JUlSFLhDzDXE6MmYrdCOeXhFXlB1qPOylpf4rpeqcIiS2e6zrsBnFbuWpMOgJtKtC/BvKlN+6kNzL1Z7V9Ih2SBkryUyeyph8n7UKg+fEyHpM6rVSgd8G+BGTeUwcuAe0qQmY1JAXSqHzNMspA8tyaYU9DF9otMAHijvhwA1gCjEw2YYy2pnTrRUg+nxwDaXHvXe6B+wHkLTAE69MZTwEQTEAB5wBJgo27KUroI7vSr5YBjevFSplaoFKuMW1ZlkWcXe726e5eaEAAYq+WQoMnp3K8dB02IABQDXzUIFdJxX4UsNyED0BALgr6RCSb7ZExS4K6PZwKCNmn8jPyEMT4Zi8An7nyl75LGa22UhVDIBKXvlsZlbawPoZB5Sv9CGtu0cSaEQuqVvlEaBdYbYFVYhBB9D3LqsBqnc4d2vAWmh0TIUaVukdMXpzMXOG+JWRFUIUQj4YiQTCp33zAJOOcYBs4CG4BpCUtnn4UQdX6+zgknnWRXXxVvQK7e3EXquJGqEBnD0NDSLxJxDBTo0f9F3Wec0nkwXPdRSA/wXE9yamJzYjgxmJBQgayQgCGUEQEeAA/lpSeeEH0hegTcNkEFUQedz2zFbiEqQq4JWk1QQfSI0/lOIstlqbWEFlnXngX+fIC+T935b/+ORSvwoG9kbAQ/EkmICZ8IV5q161840ilBZJL+TJ2F+U/wF9Y5UmVGwaQRAAAAAElFTkSuQmCC",CO={key:0,class:"relative flex items-center justify-center"},EO={class:"max-w-80vw max-h-80vh",alt:""},SO={key:0,class:"max-w-80vw max-h-80vh absolute",alt:""},kO=c.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),IO={key:1,class:"mt-4 flex gap-4"},DO=c.createElementVNode("img",{class:"h-5 w-5",src:TO},null,-1),MO=c.defineComponent({__name:"ImageModal",props:{image:{}},setup(t){const e=pn(),r=Rt(),n=c.computed(()=>r.state.imkit.downloadProgresses),i=c.computed(()=>r.state.imkit.imageCache),o=s=>{const a=document.createElement("a"),l=i.value.get(s.originalUrl);a.href=l;const d=l.split(";")[0].replace("data:","").split("/")[1];a.download=`download.${d}`,a.click()};return(s,a)=>{const l=c.resolveDirective("src");return c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[s.image?(c.openBlock(),c.createElementBlock("div",CO,[c.withDirectives(c.createElementVNode("img",EO,null,512),[[l,s.image.thumbnailUrl]]),s.image.thumbnailUrl!==s.image.originalUrl?c.withDirectives((c.openBlock(),c.createElementBlock("img",SO,null,512)),[[l,s.image.originalUrl]]):c.createCommentVNode("",!0),(!n.value[s.image.originalUrl]||n.value[s.image.originalUrl]<1)&&s.image.thumbnailUrl!==s.image.originalUrl?(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[kO,c.createVNode(c.unref(rf),{class:"!absolute",diameter:40,"completed-steps":n.value[s.image.originalUrl]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):c.createCommentVNode("",!0)])):c.createCommentVNode("",!0),s.image?(c.openBlock(),c.createElementBlock("div",IO,[c.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:a[0]||(a[0]=d=>o(s.image))},[DO,c.createTextVNode(" "+c.toDisplayString(s.$t("download")),1)]),c.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:a[1]||(a[1]=d=>c.unref(e).closeAll())},c.toDisplayString(s.$t("close")),1)])):c.createCommentVNode("",!0)]),_:1})}}}),NO=["onClick"],OO=c.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),LO=c.defineComponent({__name:"ImageMessageContent",props:{message:{}},setup(t){const e=t,r=Rt(),n=c.computed(()=>r.state.imkit.uploadProgresses),i=(s,a)=>{if(e.message.images.length===1){const{width:d,height:f}=a;return d<f?{width:"200px",height:`${200*f/d}px`}:{width:`${200*d/f}px`,height:"200px"}}else return s===e.message.images.length-1&&s%2===0?{width:`${200*2+1}px`,height:"200px"}:{width:"200px",height:"200px"}},o=s=>{const{open:a}=bo({component:MO,attrs:{image:s}});a()};return(s,a)=>{const l=c.resolveDirective("src");return c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["-mx-3 -my-2 grid gap-px",[s.message.images.length>1?"grid-cols-2":"grid-cols-1"]])},[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(s.message.images,(d,f)=>(c.openBlock(),c.createElementBlock("div",{key:d.thumbnailUrl,class:c.normalizeClass(["relative flex items-center justify-center",{"col-span-2":s.message.images.length>1&&f===s.message.images.length-1&&f%2===0}]),onClick:u=>o(d)},[c.withDirectives(c.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:c.normalizeStyle(i(f,d))},null,4),[[l,d.thumbnailUrl]]),d.thumbnailUrl.startsWith("data")?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[OO,c.createVNode(c.unref(rf),{class:"!absolute",diameter:40,"completed-steps":n.value[`${d.id}-original`]===void 0?(n.value[`${d.id}-original`]+n.value[`${d.id}-thumbnail`])/2*100:n.value[`${d.id}-original`]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):c.createCommentVNode("",!0)],10,NO))),128))],2)}}}),BO=["src"],__=c.defineComponent({__name:"StickerMessageContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.stickerUrl?e.message.stickerUrl:`/sticker/${e.message.stickerId.split("-")[0]}/${e.message.stickerId}.png`);return(n,i)=>(c.openBlock(),c.createElementBlock("img",{src:r.value,class:"h-32 w-32 border-0 object-contain"},null,8,BO))}}),w_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR4nO3bP68MURzH4RMhNIobEhoJFaFCKRI6Ha/AW9DSKeUqVVqlmkQv8ScUOoVGgUSnQCM8MpFJZJmz17V398zO9ym32nwyO7O/M+eUEhERERERK4Z9OLDq79EcnMIjfPfLB9zA3jJ1OIMv/u41zpUpw0t13VV1B/vL1OCYrXuLS2VKcN6/uzeZGzku2J6PuFrWne0H6j3AkbKu/H+gzidcw66ybiwmUO8xjpd1YrGBOl9xE3vKOrD4QL1XOFvGzs4F6nzDrW6+K2NlZwP13uBiGSPLCdT5gbujG1csL1DvPS6XsbD8QL37OFhaZ3WBxjGuWG2g3sNmxxVtBGp3XNFOoN/HlROlFdoL1Na4os1Avac4nEB1z7E7V1DdlQSqu51AdZsJVJefWMWz3KSHPcGhPOb/lD+KFRk1BmRYrchyx4AsmFVkyXVAFu0H5LVPRV4cDsir54psXmh+TFgE2UBVly14c2QT5xzZBjxHNpLPgaO2bnpHETp4MSfMdA+zdHAanwfi5DhUBydnDtS9w/UcqJvRBcHG7OcREREREVEm5icELZJIi+Y1dAAAAABJRU5ErkJggg==";var Pc;typeof window<"u"?Pc=window:typeof bt<"u"?Pc=bt:typeof self<"u"?Pc=self:Pc={};var nf=Pc;const re=Jr(nf),RO=vM(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var x_=typeof bt<"u"?bt:typeof window<"u"?window:{},PO=RO,Fc;typeof document<"u"?Fc=document:(Fc=x_["__GLOBAL_DOCUMENT_CACHE@4"],Fc||(Fc=x_["__GLOBAL_DOCUMENT_CACHE@4"]=PO));var A_=Fc;const Be=Jr(A_);var Qm={exports:{}};(function(t,e){function r(l){if(l&&typeof l=="object"){var d=l.which||l.keyCode||l.charCode;d&&(l=d)}if(typeof l=="number")return s[l];var f=String(l),u=n[f.toLowerCase()];if(u)return u;var u=i[f.toLowerCase()];if(u)return u;if(f.length===1)return f.charCodeAt(0)}r.isEventKey=function(d,f){if(d&&typeof d=="object"){var u=d.which||d.keyCode||d.charCode;if(u==null)return!1;if(typeof f=="string"){var h=n[f.toLowerCase()];if(h)return h===u;var h=i[f.toLowerCase()];if(h)return h===u}else if(typeof f=="number")return f===u;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var s=e.names=e.title={};for(o in n)s[n[o]]=o;for(var a in i)n[a]=i[a]})(Qm,Qm.exports);var FO=Qm.exports;const dt=Jr(FO);var UO=jO;function jO(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}const $O=Jr(UO);var Ym={exports:{}},T_={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)({}).hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(T_);var zO=T_.exports,VO=qO,HO=Object.prototype.toString;function qO(t){if(!t)return!1;var e=HO.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var WO=nf,GO=function(e,r){return r===void 0&&(r=!1),function(n,i,o){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var s=o;if(r)if(WO.TextDecoder){var a=QO(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(a).decode(o)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:s});return}e(null,o)}};function QO(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1];return i.trim()==="charset"?o.trim():e},"utf-8")}var YO=GO,C_=nf,KO=zO,XO=VO;Hi.httpHandler=YO;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var JO=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),o=n.slice(0,i).trim().toLowerCase(),s=n.slice(i+1).trim();typeof r[o]>"u"?r[o]=s:Array.isArray(r[o])?r[o].push(s):r[o]=[r[o],s]}),r};Ym.exports=Hi,Ym.exports.default=Hi,Hi.XMLHttpRequest=C_.XMLHttpRequest||rL,Hi.XDomainRequest="withCredentials"in new Hi.XMLHttpRequest?Hi.XMLHttpRequest:C_.XDomainRequest,ZO(["get","put","post","patch","head","delete"],function(t){Hi[t==="delete"?"del":t]=function(e,r,n){return r=E_(e,r,n),r.method=t.toUpperCase(),S_(r)}});function ZO(t,e){for(var r=0;r<t.length;r++)e(t[r])}function eL(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function E_(t,e,r){var n=t;return XO(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=KO({},e,{uri:t}),n.callback=r,n}function Hi(t,e,r){return e=E_(t,e,r),S_(e)}function S_(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(C,S,M){e||(e=!0,t.callback(C,S,M))};function n(){a.readyState===4&&setTimeout(s,0)}function i(){var A=void 0;if(a.response?A=a.response:A=a.responseText||tL(a),y)try{A=JSON.parse(A)}catch{}return A}function o(A){return clearTimeout(v),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,r(A,b)}function s(){if(!d){var A;clearTimeout(v),t.useXDR&&a.status===void 0?A=200:A=a.status===1223?204:a.status;var C=b,S=null;return A!==0?(C={body:i(),statusCode:A,method:u,headers:{},url:f,rawRequest:a},a.getAllResponseHeaders&&(C.headers=JO(a.getAllResponseHeaders()))):S=new Error("Internal XMLHttpRequest Error"),r(S,C,C.body)}}var a=t.xhr||null;a||(t.cors||t.useXDR?a=new Hi.XDomainRequest:a=new Hi.XMLHttpRequest);var l,d,f=a.url=t.uri||t.url,u=a.method=t.method||"GET",h=t.body||t.data,p=a.headers=t.headers||{},m=!!t.sync,y=!1,v,b={body:void 0,headers:{},statusCode:0,method:u,url:f,rawRequest:a};if("json"in t&&t.json!==!1&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),u!=="GET"&&u!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),a.onreadystatechange=n,a.onload=s,a.onerror=o,a.onprogress=function(){},a.onabort=function(){d=!0},a.ontimeout=o,a.open(u,f,!m,t.username,t.password),m||(a.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(v=setTimeout(function(){if(!d){d=!0,a.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",o(A)}},t.timeout)),a.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&a.setRequestHeader(l,p[l]);else if(t.headers&&!eL(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(a),a.send(h||null),a}function tL(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function rL(){}var nL=Ym.exports;const k_=Jr(nL);var I_={exports:{}},D_=A_,Km=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Rn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Rn.prototype=Km(Error.prototype),Rn.prototype.constructor=Rn,Rn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Xm(t){function e(n,i,o,s){return(n|0)*3600+(i|0)*60+(o|0)+(s|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function Uc(){this.values=Km(null)}Uc.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function jc(t,e,r,n){var i=n?t.split(n):[t];for(var o in i)if(typeof i[o]=="string"){var s=i[o].split(r);if(s.length===2){var a=s[0].trim(),l=s[1].trim();e(a,l)}}}function iL(t,e,r){var n=t;function i(){var a=Xm(t);if(a===null)throw new Rn(Rn.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function o(a,l){var d=new Uc;jc(a,function(f,u){switch(f){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===u){d.set(f,r[h].region);break}break;case"vertical":d.alt(f,u,["rl","lr"]);break;case"line":var p=u.split(","),m=p[0];d.integer(f,m),d.percent(f,m)&&d.set("snapToLines",!1),d.alt(f,m,["auto"]),p.length===2&&d.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=u.split(","),d.percent(f,p[0]),p.length===2&&d.alt("positionAlign",p[1],["start","center","end"]);break;case"size":d.percent(f,u);break;case"align":d.alt(f,u,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=d.get("region",null),l.vertical=d.get("vertical","");try{l.line=d.get("line","auto")}catch{}l.lineAlign=d.get("lineAlign","start"),l.snapToLines=d.get("snapToLines",!0),l.size=d.get("size",100);try{l.align=d.get("align","center")}catch{l.align=d.get("align","middle")}try{l.position=d.get("position","auto")}catch{l.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.substr(0,3)!=="-->")throw new Rn(Rn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),s(),e.endTime=i(),s(),o(t,e)}var Jm=D_.createElement&&D_.createElement("textarea"),oL={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},M_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},sL={v:"title",lang:"lang"},N_={rt:"ruby"};function O_(t,e){function r(){if(!e)return null;function m(v){return e=e.substr(v.length),v}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return m(y[1]?y[1]:y[2])}function n(m){return Jm.innerHTML=m,m=Jm.textContent,Jm.textContent="",m}function i(m,y){return!N_[y.localName]||N_[y.localName]===m.localName}function o(m,y){var v=oL[m];if(!v)return null;var b=t.document.createElement(v),A=sL[m];return A&&y&&(b[A]=y.trim()),b}for(var s=t.document.createElement("div"),a=s,l,d=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),a=a.parentNode);continue}var f=Xm(l.substr(1,l.length-2)),u;if(f){u=t.document.createProcessingInstruction("timestamp",f),a.appendChild(u);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(u=o(h[1],h[3]),!u)||!i(a,u))continue;if(h[2]){var p=h[2].split(".");p.forEach(function(m){var y=/^bg_/.test(m),v=y?m.slice(3):m;if(M_.hasOwnProperty(v)){var b=y?"background-color":"color",A=M_[v];u.style[b]=A}}),u.className=p.join(" ")}d.push(h[1]),a.appendChild(u),a=u;continue}a.appendChild(t.document.createTextNode(n(l)))}return s}var L_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function aL(t){for(var e=0;e<L_.length;e++){var r=L_[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function lL(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(a,l){for(var d=l.childNodes.length-1;d>=0;d--)a.push(l.childNodes[d])}function o(a){if(!a||!a.length)return null;var l=a.pop(),d=l.textContent||l.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):d}if(l.tagName==="ruby")return o(a);if(l.childNodes)return i(a,l),o(a)}for(i(e,t);r=o(e);)for(var s=0;s<r.length;s++)if(n=r.charCodeAt(s),aL(n))return"rtl";return"ltr"}function cL(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function of(){}of.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},of.prototype.formatStyle=function(t,e){return t===0?0:t+e};function sf(t,e,r){of.call(this),this.cue=e,this.cueDiv=O_(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:lL(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}sf.prototype=Km(of.prototype),sf.prototype.constructor=sf;function tn(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}tn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},tn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},tn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},tn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},tn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},tn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)},tn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},tn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function uL(t,e,r,n){function i(v,b){for(var A,C=new tn(v),S=1,M=0;M<b.length;M++){for(;v.overlapsOppositeAxis(r,b[M])||v.within(r)&&v.overlapsAny(n);)v.move(b[M]);if(v.within(r))return v;var I=v.intersectPercentage(r);S>I&&(A=new tn(v),S=I),v=new tn(C)}return A||C}var o=new tn(e),s=e.cue,a=cL(s),l=[];if(s.snapToLines){var d;switch(s.vertical){case"":l=["+y","-y"],d="height";break;case"rl":l=["+x","-x"],d="width";break;case"lr":l=["-x","+x"],d="width";break}var f=o.lineHeight,u=f*Math.round(a),h=r[d]+f,p=l[0];Math.abs(u)>h&&(u=u<0?-1:1,u*=Math.ceil(h/f)*f),a<0&&(u+=s.vertical===""?r.height:r.width,l=l.reverse()),o.move(p,u)}else{var m=o.lineHeight/r.height*100;switch(s.lineAlign){case"center":a-=m/2;break;case"end":a-=m;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],o=new tn(e)}var y=i(o,l);e.move(y.toCSSCompatValues(r))}function qa(){}qa.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},qa.convertCueToDOMTree=function(t,e){return!t||!e?null:O_(t,e)};var dL=.05,fL="sans-serif",hL="1.5%";qa.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=hL,r.appendChild(n);function i(f){for(var u=0;u<f.length;u++)if(f[u].hasBeenReset||!f[u].displayState)return!0;return!1}if(!i(e)){for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState);return}var s=[],a=tn.getSimpleBoxPosition(n),l=Math.round(a.height*dL*100)/100,d={font:l+"px "+fL};(function(){for(var f,u,h=0;h<e.length;h++)u=e[h],f=new sf(t,u,d),n.appendChild(f.div),uL(t,f,a,s),u.displayState=f.div,s.push(tn.getSimpleBoxPosition(f))})()},qa.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},qa.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Rn)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var f=e.buffer,u=0;u<f.length&&f[u]!=="\r"&&f[u]!==`
`;)++u;var h=f.substr(0,u);return f[u]==="\r"&&++u,f[u]===`
`&&++u,e.buffer=f.substr(u),h}function n(f){var u=new Uc;if(jc(f,function(p,m){switch(p){case"id":u.set(p,m);break;case"width":u.percent(p,m);break;case"lines":u.integer(p,m);break;case"regionanchor":case"viewportanchor":var y=m.split(",");if(y.length!==2)break;var v=new Uc;if(v.percent("x",y[0]),v.percent("y",y[1]),!v.has("x")||!v.has("y"))break;u.set(p+"X",v.get("x")),u.set(p+"Y",v.get("y"));break;case"scroll":u.alt(p,m,["up"]);break}},/=/,/\s/),u.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=u.get("width",100),h.lines=u.get("lines",3),h.regionAnchorX=u.get("regionanchorX",0),h.regionAnchorY=u.get("regionanchorY",100),h.viewportAnchorX=u.get("viewportanchorX",0),h.viewportAnchorY=u.get("viewportanchorY",100),h.scroll=u.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:u.get("id"),region:h})}}function i(f){var u=new Uc;jc(f,function(h,p){switch(h){case"MPEGT":u.integer(h+"S",p);break;case"LOCA":u.set(h+"L",Xm(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:u.get("MPEGTS"),LOCAL:u.get("LOCAL")})}function o(f){f.match(/X-TIMESTAMP-MAP/)?jc(f,function(u,h){switch(u){case"X-TIMESTAMP-MAP":i(h);break}},/=/):jc(f,function(u,h){switch(u){case"Region":n(h);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Rn(Rn.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=r(),e.state){case"HEADER":/:/.test(s)?o(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{iL(s,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=s.indexOf("-->")!==-1;if(!s||d&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Rn(Rn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var pL=qa,mL="auto",gL={"":1,lr:1,rl:1},yL={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function bL(t){if(typeof t!="string")return!1;var e=gL[t.toLowerCase()];return e?t.toLowerCase():!1}function Zm(t){if(typeof t!="string")return!1;var e=yL[t.toLowerCase()];return e?t.toLowerCase():!1}function B_(t,e,r){this.hasBeenReset=!1;var n="",i=!1,o=t,s=e,a=r,l=null,d="",f=!0,u="auto",h="start",p="auto",m="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(b){n=""+b}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(b){i=!!b}},startTime:{enumerable:!0,get:function(){return o},set:function(b){if(typeof b!="number")throw new TypeError("Start time must be set to a number.");o=b,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(b){if(typeof b!="number")throw new TypeError("End time must be set to a number.");s=b,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(b){a=""+b,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(b){l=b,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(b){var A=bL(b);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(b){f=!!b,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return u},set:function(b){if(typeof b!="number"&&b!==mL)throw new SyntaxError("Line: an invalid number or illegal string was specified.");u=b,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(b){var A=Zm(b);A?(h=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(b){if(b<0||b>100)throw new Error("Position must be between 0 and 100.");p=b,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(b){var A=Zm(b);A?(m=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(b){if(b<0||b>100)throw new Error("Size must be between 0 and 100.");y=b,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(b){var A=Zm(b);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=A,this.hasBeenReset=!0}}}),this.displayState=void 0}B_.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var vL=B_,_L={"":!0,up:!0};function wL(t){if(typeof t!="string")return!1;var e=_L[t.toLowerCase()];return e?t.toLowerCase():!1}function $c(t){return typeof t=="number"&&t>=0&&t<=100}function xL(){var t=100,e=3,r=0,n=100,i=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!$c(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!$c(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!$c(a))throw new Error("RegionAnchorY must be between 0 and 100.");r=a}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(a){if(!$c(a))throw new Error("ViewportAnchorY must be between 0 and 100.");o=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!$c(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return s},set:function(a){var l=wL(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var AL=xL,Ao=nf,Us=I_.exports={WebVTT:pL,VTTCue:vL,VTTRegion:AL};Ao.vttjs=Us,Ao.WebVTT=Us.WebVTT;var TL=Us.VTTCue,CL=Us.VTTRegion,EL=Ao.VTTCue,SL=Ao.VTTRegion;Us.shim=function(){Ao.VTTCue=TL,Ao.VTTRegion=CL},Us.restore=function(){Ao.VTTCue=EL,Ao.VTTRegion=SL},Ao.VTTCue||Us.shim();var kL=I_.exports;const R_=Jr(kL);function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xi.apply(null,arguments)}var P_={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,d,f){if(f=f||{},l=l.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return l;var u=a.parseURL(l);if(!u)throw new Error("Error trying to parse base URL.");return u.path=a.normalizePath(u.path),a.buildURLFromParts(u)}var h=a.parseURL(d);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):d;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=i.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(y.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)y.path=p.path,h.params||(y.params=p.params,h.query||(y.query=p.query));else{var v=p.path,b=v.substring(0,v.lastIndexOf("/")+1)+h.path;y.path=a.normalizePath(b)}return y.path===null&&(y.path=f.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(y)},parseURL:function(l){var d=n.exec(l);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(P_);var IL=P_.exports;const F_=Jr(IL);var U_="http://example.com",af=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=re.location&&re.location.href||"");var n=typeof re.URL=="function",i=/^\/\//.test(e),o=!re.location&&!/\/\//i.test(e);if(n?e=new re.URL(e,re.location||U_):/\/\//i.test(e)||(e=F_.buildAbsoluteURL(re.location&&re.location.href||"",e)),n){var s=new URL(r,e);return o?s.href.slice(U_.length):i?s.href.slice(s.protocol.length):s.href}return F_.buildAbsoluteURL(e,r)},eg=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var o=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(o,1),o>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var o=i.length,s=0;s<o;++s)i[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,d=0;d<l;++d)i[d].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),DL=function(e){return re.atob?re.atob(e):Buffer.from(e,"base64").toString("binary")};function ML(t){for(var e=DL(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class NL extends eg{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const OL="	",tg=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},LL=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},Pn=function(t){const e={};if(!t)return e;const r=t.split(LL());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class BL extends eg{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((o,s)=>{const a=s(e);return a===e?o:o.concat([a])},[e]).forEach(o=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,o))return;if(o.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:o.slice(1)});return}if(o=o.replace("\r",""),r=/^#EXTM3U/.exec(o),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(o),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(o),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(o),r){n=xi(tg(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(o),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(o),r){if(n={type:"tag",tagType:"map"},r[1]){const s=Pn(r[1]);s.URI&&(n.uri=s.URI),s.BYTERANGE&&(n.byterange=tg(s.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(o),r){if(n={type:"tag",tagType:"stream-inf"},r[1]){if(n.attributes=Pn(r[1]),n.attributes.RESOLUTION){const s=n.attributes.RESOLUTION.split("x"),a={};s[0]&&(a.width=parseInt(s[0],10)),s[1]&&(a.height=parseInt(s[1],10)),n.attributes.RESOLUTION=a}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(o),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=Pn(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(o),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(o),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(o),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(o),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=Pn(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(o),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=Pn(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=Pn(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(OL)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=Pn(r[1]),["DURATION"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/.test(n.attributes[s]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=tg(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=Pn(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/.test(n.attributes[s]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Pn(r[1]),["PART-TARGET"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Pn(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(n.attributes.hasOwnProperty(s)){n.attributes[s]=parseInt(n.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[s],delete n.attributes[s]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Pn(r[1]),["LAST-MSN","LAST-PART"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseInt(n.attributes[s],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=Pn(r[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!s.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),d=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):d?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(o),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(o),r){n={type:"tag",tagType:"content-steering"},n.attributes=Pn(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:o.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=o=>o),this.customParsers.push(o=>{if(e.exec(o))return this.trigger("data",{type:"custom",data:n(o),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const RL=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Jo=function(t){const e={};return Object.keys(t).forEach(function(r){e[RL(r)]=t[r]}),e},rg=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=r&&r*3,l=n&&n*2;r&&!e.hasOwnProperty(o)&&(e[o]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[o]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[o]}) to targetDuration * 3 (${a})`}),e[o]=a),n&&!e.hasOwnProperty(s)&&(e[s]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[s]}).`})),n&&e[s]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[s]}) to partTargetDuration * 2 (${l}).`}),e[s]=l)};class PL extends eg{constructor(){super(),this.lineStream=new NL,this.parseStream=new BL,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,r=[];let n={},i,o,s=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let u=0,h=0;const p={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&i&&(n.map=i),!n.key&&o&&(n.key=o),!n.timeline&&typeof f=="number"&&(n.timeline=f),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(m){let y,v;({tag(){({version(){m.version&&(this.manifest.version=m.version)},"allow-cache"(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const b={};"length"in m&&(n.byterange=b,b.length=m.length,"offset"in m||(m.offset=u)),"offset"in m&&(n.byterange=b,b.offset=m.offset),u=b.offset+b.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.title&&(n.title=m.title),m.duration>0&&(n.duration=m.duration),m.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){o=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:m.attributes};return}if(m.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:m.attributes.URI};return}if(m.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:ML(m.attributes.URI.split(",")[1])};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(o.iv=m.attributes.IV)},"media-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,f=m.number},"playlist-type"(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map(){i={},m.uri&&(i.uri=m.uri),m.byterange&&(i.byterange=m.byterange),o&&(i.key=o)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),xi(n.attributes,m.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const b=this.manifest.mediaGroups[m.attributes.TYPE];b[m.attributes["GROUP-ID"]]=b[m.attributes["GROUP-ID"]]||{},y=b[m.attributes["GROUP-ID"]],v={default:/yes/i.test(m.attributes.DEFAULT)},v.default?v.autoselect=!0:v.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(v.language=m.attributes.LANGUAGE),m.attributes.URI&&(v.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(v.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(v.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(v.forced=/yes/i.test(m.attributes.FORCED)),y[m.attributes.NAME]=v},discontinuity(){f+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),n.dateTimeString=m.dateTimeString,n.dateTimeObject=m.dateTimeObject;const{lastProgramDateTime:b}=this;this.lastProgramDateTime=new Date(m.dateTimeString).getTime(),b===null&&this.manifest.segments.reduceRight((A,C)=>(C.programDateTime=A-C.duration*1e3,C.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration,rg.call(this,this.manifest)},start(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out"(){n.cueOut=m.data},"cue-out-cont"(){n.cueOutCont=m.data},"cue-in"(){n.cueIn=m.data},skip(){this.manifest.skip=Jo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",m.attributes,["SKIPPED-SEGMENTS"])},part(){s=!0;const b=this.manifest.segments.length,A=Jo(m.attributes);n.parts=n.parts||[],n.parts.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=h),h=A.byterange.offset+A.byterange.length);const C=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${C} for segment #${b}`,m.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((S,M)=>{S.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${M} lacks required attribute(s): LAST-PART`})})},"server-control"(){const b=this.manifest.serverControl=Jo(m.attributes);b.hasOwnProperty("canBlockReload")||(b.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),rg.call(this,this.manifest),b.canSkipDateranges&&!b.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const b=this.manifest.segments.length,A=Jo(m.attributes),C=A.type&&A.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=C?h:0,C&&(h=A.byterange.offset+A.byterange.length)));const S=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${S} for segment #${b}`,m.attributes,["TYPE","URI"]),!!A.type)for(let M=0;M<n.preloadHints.length-1;M++){const I=n.preloadHints[M];I.type&&I.type===A.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${S} for segment #${b} has the same TYPE ${A.type} as preload hint #${M}`})}},"rendition-report"(){const b=Jo(m.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(b);const A=this.manifest.renditionReports.length-1,C=["LAST-MSN","URI"];s&&C.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${A}`,m.attributes,C)},"part-inf"(){this.manifest.partInf=Jo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",m.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),rg.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Jo(m.attributes));const b=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${b}`,m.attributes,["ID","START-DATE"]);const A=this.manifest.dateRanges[b];A.endDate&&A.startDate&&new Date(A.endDate)<new Date(A.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),A.duration&&A.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),A.plannedDuration&&A.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const C=!!A.endOnNext;if(C&&!A.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),C&&(A.duration||A.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),A.duration&&A.endDate){const M=A.startDate.getTime()+A.duration*1e3;this.manifest.dateRanges[b].endDate=new Date(M)}if(!p[A.id])p[A.id]=A;else{for(const M in p[A.id])if(A[M]&&JSON.stringify(p[A.id][M])!==JSON.stringify(A[M])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const S=this.manifest.dateRanges.findIndex(M=>M.id===A.id);this.manifest.dateRanges[S]=xi(this.manifest.dateRanges[S],A),p[A.id]=xi(p[A.id],A),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=Jo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",m.attributes,["SERVER-URI"])}}[m.tagType]||a).call(e)},uri(){n.uri=m.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),o&&(n.key=o),n.timeline=f,i&&(n.map=i),h=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){m.segment?(n.custom=n.custom||{},n.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(e)})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(o){r.hasOwnProperty(o)||i.push(o)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var js={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},FL=["video","audio","text"],j_=["Video","Audio","Text"],$_=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var o=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(i).toString(16)).slice(-2);return"avc1."+o+"00"+s})},qi=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var o;FL.forEach(function(s){var a=js[s].exec(i.toLowerCase());if(!(!a||a.length<=1)){o=s;var l=i.substring(0,a[1].length),d=i.replace(l,"");n.push({type:l,details:d,mediaType:s})}}),o||n.push({type:i,details:"",mediaType:"unknown"})}),n},UL=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var o=n[i];if(o.default&&o.playlists)return qi(o.playlists[0].attributes.CODECS)}return null},z_=function(e){return e===void 0&&(e=""),js.audio.test(e.trim().toLowerCase())},jL=function(e){return e===void 0&&(e=""),js.text.test(e.trim().toLowerCase())},zc=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(o){return $_(o.trim())}),n="video";r.length===1&&z_(r[0])?n="audio":r.length===1&&jL(r[0])&&(n="application");var i="mp4";return r.every(function(o){return js.mp4.test(o)})?i="mp4":r.every(function(o){return js.webm.test(o)})?i="webm":r.every(function(o){return js.ogg.test(o)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},lf=function(e){return e===void 0&&(e=""),re.MediaSource&&re.MediaSource.isTypeSupported&&re.MediaSource.isTypeSupported(zc(e))||!1},ng=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<j_.length;n++){var i=j_[n];if(js["muxer"+i].test(r))return!0}return!1})},V_="mp4a.40.2",$L="avc1.4d400d",zL=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,VL=/^application\/dash\+xml/i,H_=function(e){return zL.test(e)?"hls":VL.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},HL=function(e){return e.toString(2).length},qL=function(e){return Math.ceil(HL(e)/8)},q_=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},WL=function(e){return q_(e)},et=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!WL(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Fr=re.BigInt||Number,ig=[Fr("0x1"),Fr("0x100"),Fr("0x10000"),Fr("0x1000000"),Fr("0x100000000"),Fr("0x10000000000"),Fr("0x1000000000000"),Fr("0x100000000000000"),Fr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var GL=function(e,r){var n=r===void 0?{}:r,i=n.signed,o=i===void 0?!1:i,s=n.le,a=s===void 0?!1:s;e=et(e);var l=a?"reduce":"reduceRight",d=e[l]?e[l]:Array.prototype[l],f=d.call(e,function(h,p,m){var y=a?m:Math.abs(m+1-e.length);return h+Fr(p)*ig[y]},Fr(0));if(o){var u=ig[e.length]/Fr(2)-Fr(1);f=Fr(f),f>u&&(f-=u,f-=u,f-=Fr(2))}return Number(f)},QL=function(e,r){var n={},i=n.le,o=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Fr(e);for(var s=qL(e),a=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var d=o?l:Math.abs(l+1-a.length);a[d]=Number(e/ig[l]&Fr(255)),e<0&&(a[d]=Math.abs(~a[d]),a[d]-=l===0?1:2)}return a},W_=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},YL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),r.length<=1)return et(r[0]);var i=r.reduce(function(a,l,d){return a+(l.byteLength||l.length)},0),o=new Uint8Array(i),s=0;return r.forEach(function(a){a=et(a),o.set(a,s),s+=a.byteLength}),o},tr=function(e,r,n){var i=n===void 0?{}:n,o=i.offset,s=o===void 0?0:o,a=i.mask,l=a===void 0?[]:a;e=et(e),r=et(r);var d=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&d.call(r,function(f,u){var h=l[u]?l[u]&e[s+u]:e[s+u];return f===h})},KL=function(e,r,n){r.forEach(function(i){for(var o in e.mediaGroups[i])for(var s in e.mediaGroups[i][o]){var a=e.mediaGroups[i][o][s];n(a,i,o,s)}})},XL=function(e){return re.atob?re.atob(e):Buffer.from(e,"base64").toString("binary")};function JL(t){for(var e=XL(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var Zo={},To={};function ZL(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function og(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function e9(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var G_=og({HTML:"text/html",isHTML:function(t){return t===G_.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Q_=og({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===Q_.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});To.assign=e9,To.find=ZL,To.freeze=og,To.MIME_TYPE=G_,To.NAMESPACE=Q_;var Y_=To,Wi=Y_.find,Vc=Y_.NAMESPACE;function t9(t){return t!==""}function r9(t){return t?t.split(/[\t\n\f\r ]+/).filter(t9):[]}function n9(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function K_(t){if(!t)return[];var e=r9(t);return Object.keys(e.reduce(n9,{}))}function i9(t){return function(e){return t&&t.indexOf(e)!==-1}}function Hc(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function bn(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,Hc(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var vn={},Ai=vn.ELEMENT_NODE=1,Wa=vn.ATTRIBUTE_NODE=2,cf=vn.TEXT_NODE=3,X_=vn.CDATA_SECTION_NODE=4,J_=vn.ENTITY_REFERENCE_NODE=5,o9=vn.ENTITY_NODE=6,Z_=vn.PROCESSING_INSTRUCTION_NODE=7,ew=vn.COMMENT_NODE=8,tw=vn.DOCUMENT_NODE=9,rw=vn.DOCUMENT_TYPE_NODE=10,Co=vn.DOCUMENT_FRAGMENT_NODE=11,s9=vn.NOTATION_NODE=12,Vr={},Nr={};Vr.INDEX_SIZE_ERR=(Nr[1]="Index size error",1),Vr.DOMSTRING_SIZE_ERR=(Nr[2]="DOMString size error",2);var _n=Vr.HIERARCHY_REQUEST_ERR=(Nr[3]="Hierarchy request error",3);Vr.WRONG_DOCUMENT_ERR=(Nr[4]="Wrong document",4),Vr.INVALID_CHARACTER_ERR=(Nr[5]="Invalid character",5),Vr.NO_DATA_ALLOWED_ERR=(Nr[6]="No data allowed",6),Vr.NO_MODIFICATION_ALLOWED_ERR=(Nr[7]="No modification allowed",7);var nw=Vr.NOT_FOUND_ERR=(Nr[8]="Not found",8);Vr.NOT_SUPPORTED_ERR=(Nr[9]="Not supported",9);var iw=Vr.INUSE_ATTRIBUTE_ERR=(Nr[10]="Attribute in use",10);Vr.INVALID_STATE_ERR=(Nr[11]="Invalid state",11),Vr.SYNTAX_ERR=(Nr[12]="Syntax error",12),Vr.INVALID_MODIFICATION_ERR=(Nr[13]="Invalid modification",13),Vr.NAMESPACE_ERR=(Nr[14]="Invalid namespace",14),Vr.INVALID_ACCESS_ERR=(Nr[15]="Invalid access",15);function mr(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Nr[t]),this.message=Nr[t],Error.captureStackTrace&&Error.captureStackTrace(this,mr);return r.code=t,e&&(this.message=this.message+": "+e),r}mr.prototype=Error.prototype,Hc(Vr,mr);function Eo(){}Eo.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Qa(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Ga(t,e){this._node=t,this._refresh=e,sg(this)}function sg(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(ww(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Hc(r,t),t._inc=e}}Ga.prototype.item=function(t){return sg(this),this[t]||null},bn(Ga,Eo);function uf(){}function ow(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function sw(t,e,r,n){if(n?e[ow(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&uw(i,t,n),a9(i,t,r))}}function aw(t,e,r){var n=ow(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(uw(o,t,r),r.ownerElement=null)}}else throw new mr(nw,new Error(t.tagName+"@"+r))}uf.prototype={length:0,item:Eo.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new mr(iw);var r=this.getNamedItem(t.nodeName);return sw(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new mr(iw);return r=this.getNamedItemNS(t.namespaceURI,t.localName),sw(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return aw(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return aw(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function lw(){}lw.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new Wc;if(n.implementation=this,n.childNodes=new Eo,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new hf;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Ut(){}Ut.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return df(this,t,e)},replaceChild:function(t,e){df(this,t,e,pw),e&&this.removeChild(e)},removeChild:function(t){return dw(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return mg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==cf&&t.nodeType==cf?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==Wa?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Wa?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function cw(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Hc(vn,Ut),Hc(vn,Ut.prototype);function qc(t,e){if(e(t))return!0;if(t=t.firstChild)do if(qc(t,e))return!0;while(t=t.nextSibling)}function Wc(){this.ownerDocument=this}function a9(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Vc.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function uw(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Vc.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function ag(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o,delete n[n.length]}}}function dw(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,ag(t.ownerDocument,t),e}function l9(t){return t&&(t.nodeType===Ut.DOCUMENT_NODE||t.nodeType===Ut.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ut.ELEMENT_NODE)}function c9(t){return t&&(Gi(t)||lg(t)||So(t)||t.nodeType===Ut.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ut.COMMENT_NODE||t.nodeType===Ut.PROCESSING_INSTRUCTION_NODE)}function So(t){return t&&t.nodeType===Ut.DOCUMENT_TYPE_NODE}function Gi(t){return t&&t.nodeType===Ut.ELEMENT_NODE}function lg(t){return t&&t.nodeType===Ut.TEXT_NODE}function fw(t,e){var r=t.childNodes||[];if(Wi(r,Gi)||So(e))return!1;var n=Wi(r,So);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function hw(t,e){var r=t.childNodes||[];function n(o){return Gi(o)&&o!==e}if(Wi(r,n))return!1;var i=Wi(r,So);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function u9(t,e,r){if(!l9(t))throw new mr(_n,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new mr(nw,"child not in parent");if(!c9(e)||So(e)&&t.nodeType!==Ut.DOCUMENT_NODE)throw new mr(_n,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function d9(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ut.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Gi);if(o.length>1||Wi(i,lg))throw new mr(_n,"More than one element or text in fragment");if(o.length===1&&!fw(t,r))throw new mr(_n,"Element in fragment can not be inserted before doctype")}if(Gi(e)&&!fw(t,r))throw new mr(_n,"Only one element can be added and only after doctype");if(So(e)){if(Wi(n,So))throw new mr(_n,"Only one doctype is allowed");var s=Wi(n,Gi);if(r&&n.indexOf(s)<n.indexOf(r))throw new mr(_n,"Doctype can only be inserted before an element");if(!r&&s)throw new mr(_n,"Doctype can not be appended since element is present")}}function pw(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ut.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Gi);if(o.length>1||Wi(i,lg))throw new mr(_n,"More than one element or text in fragment");if(o.length===1&&!hw(t,r))throw new mr(_n,"Element in fragment can not be inserted before doctype")}if(Gi(e)&&!hw(t,r))throw new mr(_n,"Only one element can be added and only after doctype");if(So(e)){if(Wi(n,function(l){return So(l)&&l!==r}))throw new mr(_n,"Only one doctype is allowed");var s=Wi(n,Gi);if(r&&n.indexOf(s)<n.indexOf(r))throw new mr(_n,"Doctype can only be inserted before an element")}}function df(t,e,r,n){u9(t,e,r),t.nodeType===Ut.DOCUMENT_NODE&&(n||d9)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Co){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=r?r.previousSibling:t.lastChild;o.previousSibling=a,s.nextSibling=r,a?a.nextSibling=o:t.firstChild=o,r==null?t.lastChild=s:r.previousSibling=s;do o.parentNode=t;while(o!==s&&(o=o.nextSibling));return ag(t.ownerDocument||t,t),e.nodeType==Co&&(e.firstChild=e.lastChild=null),e}function f9(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,ag(t.ownerDocument,t,e),e}Wc.prototype={nodeName:"#document",nodeType:tw,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Co){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return df(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Ai&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),dw(this,t)},replaceChild:function(t,e){df(this,t,e,pw),t.ownerDocument=this,e&&this.removeChild(e),Gi(t)&&(this.documentElement=t)},importNode:function(t,e){return _w(this,t,e)},getElementById:function(t){var e=null;return qc(this.documentElement,function(r){if(r.nodeType==Ai&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=K_(t);return new Ga(this,function(r){var n=[];return e.length>0&&qc(r.documentElement,function(i){if(i!==r&&i.nodeType===Ai){var o=i.getAttribute("class");if(o){var s=t===o;if(!s){var a=K_(o);s=e.every(i9(a))}s&&n.push(i)}}}),n})},createElement:function(t){var e=new $s;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Eo;var r=e.attributes=new uf;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new pf;return t.ownerDocument=this,t.childNodes=new Eo,t},createTextNode:function(t){var e=new cg;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new ug;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new dg;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new hg;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new ff;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new fg;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new $s,n=e.split(":"),i=r.attributes=new uf;return r.childNodes=new Eo,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new ff,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},bn(Wc,Ut);function $s(){this._nsMap={}}$s.prototype={nodeType:Ai,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Co?this.insertBefore(t,null):f9(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Ga(this,function(e){var r=[];return qc(e,function(n){n!==e&&n.nodeType==Ai&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new Ga(this,function(r){var n=[];return qc(r,function(i){i!==r&&i.nodeType===Ai&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}},Wc.prototype.getElementsByTagName=$s.prototype.getElementsByTagName,Wc.prototype.getElementsByTagNameNS=$s.prototype.getElementsByTagNameNS,bn($s,Ut);function ff(){}ff.prototype.nodeType=Wa,bn(ff,Ut);function Gc(){}Gc.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Nr[_n])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}},bn(Gc,Ut);function cg(){}cg.prototype={nodeName:"#text",nodeType:cf,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},bn(cg,Gc);function ug(){}ug.prototype={nodeName:"#comment",nodeType:ew},bn(ug,Gc);function dg(){}dg.prototype={nodeName:"#cdata-section",nodeType:X_},bn(dg,Gc);function hf(){}hf.prototype.nodeType=rw,bn(hf,Ut);function mw(){}mw.prototype.nodeType=s9,bn(mw,Ut);function gw(){}gw.prototype.nodeType=o9,bn(gw,Ut);function fg(){}fg.prototype.nodeType=J_,bn(fg,Ut);function pf(){}pf.prototype.nodeName="#document-fragment",pf.prototype.nodeType=Co,bn(pf,Ut);function hg(){}hg.prototype.nodeType=Z_,bn(hg,Ut);function yw(){}yw.prototype.serializeToString=function(t,e,r){return bw.call(t,e,r)},Ut.prototype.toString=bw;function bw(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&i==null){var i=n.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return Qa(this,r,t,e,s),r.join("")}function vw(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Vc.XML||i===Vc.XMLNS)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix===n)return s.namespace!==i}return!0}function pg(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,cw),'"')}function Qa(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Ai:var o=t.attributes,s=o.length,b=t.firstChild,a=t.tagName;r=Vc.isHTML(t.namespaceURI)||r;var l=a;if(!r&&!t.prefix&&t.namespaceURI){for(var d,f=0;f<o.length;f++)if(o.item(f).name==="xmlns"){d=o.item(f).value;break}if(!d)for(var u=i.length-1;u>=0;u--){var h=i[u];if(h.prefix===""&&h.namespace===t.namespaceURI){d=h.namespace;break}}if(d!==t.namespaceURI)for(var u=i.length-1;u>=0;u--){var h=i[u];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var p=0;p<s;p++){var m=o.item(p);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var p=0;p<s;p++){var m=o.item(p);if(vw(m,r,i)){var y=m.prefix||"",v=m.namespaceURI;pg(e,y?"xmlns:"+y:"xmlns",v),i.push({prefix:y,namespace:v})}Qa(m,e,r,n,i)}if(a===l&&vw(t,r,i)){var y=t.prefix||"",v=t.namespaceURI;pg(e,y?"xmlns:"+y:"xmlns",v),i.push({prefix:y,namespace:v})}if(b||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;b;)b.data?e.push(b.data):Qa(b,e,r,n,i.slice()),b=b.nextSibling;else for(;b;)Qa(b,e,r,n,i.slice()),b=b.nextSibling;e.push("</",l,">")}else e.push("/>");return;case tw:case Co:for(var b=t.firstChild;b;)Qa(b,e,r,n,i.slice()),b=b.nextSibling;return;case Wa:return pg(e,t.name,t.value);case cf:return e.push(t.data.replace(/[<&>]/g,cw));case X_:return e.push("<![CDATA[",t.data,"]]>");case ew:return e.push("<!--",t.data,"-->");case rw:var A=t.publicId,C=t.systemId;if(e.push("<!DOCTYPE ",t.name),A)e.push(" PUBLIC ",A),C&&C!="."&&e.push(" ",C),e.push(">");else if(C&&C!=".")e.push(" SYSTEM ",C,">");else{var S=t.internalSubset;S&&e.push(" [",S,"]"),e.push(">")}return;case Z_:return e.push("<?",t.target," ",t.data,"?>");case J_:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function _w(t,e,r){var n;switch(e.nodeType){case Ai:n=e.cloneNode(!1),n.ownerDocument=t;case Co:break;case Wa:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(_w(t,i,r)),i=i.nextSibling;return n}function mg(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o!="object"&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new Eo),n.ownerDocument=t,n.nodeType){case Ai:var s=e.attributes,a=n.attributes=new uf,l=s.length;a._ownerElement=n;for(var d=0;d<l;d++)n.setAttributeNode(mg(t,s.item(d),!0));break;case Wa:r=!0}if(r)for(var f=e.firstChild;f;)n.appendChild(mg(t,f,r)),f=f.nextSibling;return n}function ww(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Ai:case Co:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Ga.prototype,"length",{get:function(){return sg(this),this.$$length}}),Object.defineProperty(Ut.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Ai:case Co:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ww=function(e,r,n){e["$$"+r]=n}}}catch{}Zo.DocumentType=hf,Zo.DOMException=mr,Zo.DOMImplementation=lw,Zo.Element=$s,Zo.Node=Ut,Zo.NodeList=Eo,Zo.XMLSerializer=yw;var mf={},xw={};(function(t){var e=To.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(xw);var gg={},Qc=To.NAMESPACE,yg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Aw=new RegExp("[\\-\\.0-9"+yg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Tw=new RegExp("^"+yg.source+Aw.source+"*(?::"+yg.source+Aw.source+"*)?$"),Yc=0,es=1,Ya=2,Kc=3,Ka=4,Xa=5,Xc=6,gf=7;function Ja(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Ja)}Ja.prototype=new Error,Ja.prototype.name=Ja.name;function Cw(){}Cw.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),kw(e,e={}),h9(t,e,r,n,this.errorHandler),n.endDocument()}};function h9(t,e,r,n,i){function o(B){if(B>65535){B-=65536;var U=55296+(B>>10),te=56320+(B&1023);return String.fromCharCode(U,te)}else return String.fromCharCode(B)}function s(B){var U=B.slice(1,-1);return Object.hasOwnProperty.call(r,U)?r[U]:U.charAt(0)==="#"?o(parseInt(U.substr(1).replace("x","0x"))):(i.error("entity not found:"+B),B)}function a(B){if(B>y){var U=t.substring(y,B).replace(/&#?\w+;/g,s);h&&l(y),n.characters(U,0,B-y),y=B}}function l(B,U){for(;B>=f&&(U=u.exec(t));)d=U.index,f=d+U[0].length,h.lineNumber++;h.columnNumber=B-d+1}for(var d=0,f=0,u=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,p=[{currentNSMap:e}],m={},y=0;;){try{var v=t.indexOf("<",y);if(v<0){if(!t.substr(y).match(/^\s*$/)){var b=n.doc,A=b.createTextNode(t.substr(y));b.appendChild(A),n.currentElement=A}return}switch(v>y&&a(v),t.charAt(v+1)){case"/":var z=t.indexOf(">",v+3),C=t.substring(v+2,z).replace(/[ \t\n\r]+$/g,""),S=p.pop();z<0?(C=t.substring(v+2).replace(/[\s<].*/,""),i.error("end tag name: "+C+" is not complete:"+S.tagName),z=v+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),i.error("end tag name: "+C+" maybe not complete"),z=v+1+C.length);var M=S.localNSMap,I=S.tagName==C,L=I||S.tagName&&S.tagName.toLowerCase()==C.toLowerCase();if(L){if(n.endElement(S.uri,S.localName,C),M)for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&n.endPrefixMapping(k);I||i.fatalError("end tag name: "+C+" is not match the current start tagName:"+S.tagName)}else p.push(S);z++;break;case"?":h&&l(v),z=b9(t,v,n);break;case"!":h&&l(v),z=y9(t,v,n,i);break;default:h&&l(v);var T=new Iw,F=p[p.length-1].currentNSMap,z=p9(t,v,T,F,s,i),P=T.length;if(!T.closed&&g9(t,z,T.tagName,m)&&(T.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&P){for(var R=Ew(h,{}),$=0;$<P;$++){var W=T[$];l(W.offset),W.locator=Ew(h,{})}n.locator=R,Sw(T,n,F)&&p.push(T),n.locator=h}else Sw(T,n,F)&&p.push(T);Qc.isHTML(T.uri)&&!T.closed?z=m9(t,z,T.tagName,s,n):z++}}catch(B){if(B instanceof Ja)throw B;i.error("element parse error: "+B),z=-1}z>y?y=z:a(Math.max(v,y)+1)}}function Ew(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function p9(t,e,r,n,i,o){function s(h,p,m){r.attributeNames.hasOwnProperty(h)&&o.fatalError("Attribute "+h+" redefined"),r.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),m)}for(var a,l,d=++e,f=Yc;;){var u=t.charAt(d);switch(u){case"=":if(f===es)a=t.slice(e,d),f=Kc;else if(f===Ya)f=Kc;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Kc||f===es)if(f===es&&(o.warning('attribute value must after "="'),a=t.slice(e,d)),e=d+1,d=t.indexOf(u,e),d>0)l=t.slice(e,d),s(a,l,e-1),f=Xa;else throw new Error("attribute value no end '"+u+"' match");else if(f==Ka)l=t.slice(e,d),s(a,l,e),o.warning('attribute "'+a+'" missed start quot('+u+")!!"),e=d+1,f=Xa;else throw new Error('attribute value must after "="');break;case"/":switch(f){case Yc:r.setTagName(t.slice(e,d));case Xa:case Xc:case gf:f=gf,r.closed=!0;case Ka:case es:break;case Ya:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),f==Yc&&r.setTagName(t.slice(e,d)),d;case">":switch(f){case Yc:r.setTagName(t.slice(e,d));case Xa:case Xc:case gf:break;case Ka:case es:l=t.slice(e,d),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Ya:f===Ya&&(l=a),f==Ka?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!Qc.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case Kc:throw new Error("attribute value missed!!")}return d;case"":u=" ";default:if(u<=" ")switch(f){case Yc:r.setTagName(t.slice(e,d)),f=Xc;break;case es:a=t.slice(e,d),f=Ya;break;case Ka:var l=t.slice(e,d);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case Xa:f=Xc;break}else switch(f){case Ya:r.tagName,(!Qc.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=d,f=es;break;case Xa:o.warning('attribute space is required"'+a+'"!!');case Xc:f=es,e=d;break;case Kc:f=Ka,e=d;break;case gf:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function Sw(t,e,r){for(var n=t.tagName,i=null,u=t.length;u--;){var o=t[u],s=o.qName,a=o.value,h=s.indexOf(":");if(h>0)var l=o.prefix=s.slice(0,h),d=s.slice(h+1),f=l==="xmlns"&&d;else d=s,l=null,f=s==="xmlns"&&"";o.localName=d,f!==!1&&(i==null&&(i={},kw(r,r={})),r[f]=i[f]=a,o.uri=Qc.XMLNS,e.startPrefixMapping(f,a))}for(var u=t.length;u--;){o=t[u];var l=o.prefix;l&&(l==="xml"&&(o.uri=Qc.XML),l!=="xmlns"&&(o.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),d=t.localName=n.slice(h+1)):(l=null,d=t.localName=n);var p=t.uri=r[l||""];if(e.startElement(p,d,n,t),t.closed){if(e.endElement(p,d,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function m9(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function g9(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function kw(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function y9(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(r.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,o-e-9),r.endCDATA(),o+3}var s=v9(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],d=!1,f=!1;a>3&&(/^public$/i.test(s[2][0])?(d=s[3][0],f=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var u=s[a-1];return r.startDTD(l,d,f),r.endDTD(),u.index+u[0].length}}return-1}function b9(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function Iw(){this.attributeNames={}}Iw.prototype={setTagName:function(t){if(!Tw.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!Tw.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function v9(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}gg.XMLReader=Cw,gg.ParseError=Ja;var _9=To,w9=Zo,Dw=xw,Mw=gg,x9=w9.DOMImplementation,Nw=_9.NAMESPACE,A9=Mw.ParseError,T9=Mw.XMLReader;function Ow(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Lw(t){this.options=t||{locator:{}}}Lw.prototype.parseFromString=function(t,e){var r=this.options,n=new T9,i=r.domBuilder||new Jc,o=r.errorHandler,s=r.locator,a=r.xmlns||{},l=/\/x?html?$/.test(e),d=l?Dw.HTML_ENTITIES:Dw.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=C9(o,i,s),n.domBuilder=r.domBuilder||i,l&&(a[""]=Nw.HTML),a.xml=a.xml||Nw.XML;var f=r.normalizeLineEndings||Ow;return t&&typeof t=="string"?n.parse(f(t),a,d):n.errorHandler.error("invalid doc source"),i.doc};function C9(t,e,r){if(!t){if(e instanceof Jc)return e;t=e}var n={},i=t instanceof Function;r=r||{};function o(s){var a=t[s];!a&&i&&(a=t.length==2?function(l){t(s,l)}:t),n[s]=a&&function(l){a("[xmldom "+s+"]	"+l+bg(r))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function Jc(){this.cdata=!1}function Za(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Jc.prototype={startDocument:function(){this.doc=new x9().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,o=i.createElementNS(t,r||e),s=n.length;yf(this,o),this.currentElement=o,this.locator&&Za(this.locator,o);for(var a=0;a<s;a++){var t=n.getURI(a),l=n.getValue(a),r=n.getQName(a),d=i.createAttributeNS(t,r);this.locator&&Za(n.getLocator(a),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&Za(this.locator,r),yf(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=Bw.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&Za(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=Bw.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&Za(this.locator,n),yf(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&Za(this.locator,i),yf(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,bg(this.locator))},error:function(t){console.error("[xmldom error]	"+t,bg(this.locator))},fatalError:function(t){throw new A9(t,this.locator)}};function bg(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Bw(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Jc.prototype[t]=function(){return null}});function yf(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}mf.__DOMHandler=Jc,mf.normalizeLineEndings=Ow,mf.DOMParser=Lw;var E9=mf.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const Rw=t=>!!t&&typeof t=="object",Or=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):Rw(e[n])&&Rw(r[n])?e[n]=Or(e[n],r[n]):e[n]=r[n]}),e),{}),Pw=t=>Object.keys(t).map(e=>t[e]),S9=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},el=t=>t.reduce((e,r)=>e.concat(r),[]),Fw=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},k9=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),I9=(t,e)=>Pw(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var tl={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Zc=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:af(t||"",e)};if(r||n){const s=(r||n).split("-");let a=re.BigInt?re.BigInt(s[0]):parseInt(s[0],10),l=re.BigInt?re.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let d;typeof l=="bigint"||typeof a=="bigint"?d=re.BigInt(l)-re.BigInt(a)+re.BigInt(1):d=l-a+1,typeof d=="bigint"&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),i.byterange={length:d,offset:a}}return i},D9=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=re.BigInt(t.offset)+re.BigInt(t.length)-re.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},Uw=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),M9={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,o=Uw(t.endNumber),s=e/r;return typeof o=="number"?{start:0,end:o}:typeof i=="number"?{start:0,end:i/s}:{start:0,end:n/s}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,d=Uw(t.endNumber),f=(e+r)/1e3,u=n+s,p=f+a-u,m=Math.ceil(p*i/o),y=Math.floor((f-u-l)*i/o),v=Math.floor((f-u)*i/o);return{start:Math.max(0,y),end:typeof d=="number"?d:Math.min(m,v)}}},N9=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:o=1}=t;return{number:o+e,duration:r/n,timeline:i,time:e*r}},vg=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:o}=t,{start:s,end:a}=M9[e](t),l=S9(s,a).map(N9(t));if(e==="static"){const d=l.length-1,f=typeof i=="number"?i:o;l[d].duration=f-r/n*d}return l},jw=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:o,presentationTime:s,number:a=0,duration:l}=t;if(!e)throw new Error(tl.NO_BASE_URL);const d=Zc({baseUrl:e,source:r.sourceURL,range:r.range}),f=Zc({baseUrl:e,source:e,indexRange:i});if(f.map=d,l){const u=vg(t);u.length&&(f.duration=u[0].duration,f.timeline=u[0].timeline)}else n&&(f.duration=n,f.timeline=o);return f.presentationTime=s||o,f.number=a,[f]},_g=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,o=t.timeline||0,s=t.sidx.byterange,a=s.offset+s.length,l=e.timescale,d=e.references.filter(v=>v.referenceType!==1),f=[],u=t.endList?"static":"dynamic",h=t.sidx.timeline;let p=h,m=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=re.BigInt(a)+e.firstOffset:y=a+e.firstOffset;for(let v=0;v<d.length;v++){const b=e.references[v],A=b.referencedSize,C=b.subsegmentDuration;let S;typeof y=="bigint"?S=y+re.BigInt(A)-re.BigInt(1):S=y+A-1;const M=`${y}-${S}`,L=jw({baseUrl:r,timescale:l,timeline:o,periodStart:h,presentationTime:p,number:m,duration:C,sourceDuration:i,indexRange:M,type:u})[0];n&&(L.map=n),f.push(L),typeof y=="bigint"?y+=re.BigInt(A):y+=A,p+=C/l,m++}return t.segments=f,t},O9=["AUDIO","SUBTITLES"],L9=1/60,$w=t=>I9(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),B9=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},zw=t=>{let e=[];return KL(t,O9,(r,n,i,o)=>{e=e.concat(r.playlists||[])}),e},Vw=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},R9=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:l}){return l===n.timeline});const i=B9(t,n.attributes.NAME);if(!i||n.sidx)return;const o=n.segments[0],s=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-o.presentationTime)<L9});if(s===-1){Vw({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[s].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),Vw({playlist:n,mediaSequence:i.segments[s].number})})},P9=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(zw(t)),n=e.playlists.concat(zw(e));return e.timelineStarts=$w([t.timelineStarts,e.timelineStarts]),R9({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},bf=t=>t&&t.uri+"-"+D9(t.byterange),wg=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=Pw(n.reduce((o,s)=>{const a=s.attributes.id+(s.attributes.lang||"");return o[a]?(s.segments&&(s.segments[0]&&(s.segments[0].discontinuity=!0),o[a].segments.push(...s.segments)),s.attributes.contentProtection&&(o[a].attributes.contentProtection=s.attributes.contentProtection)):(o[a]=s,o[a].attributes.timelineStarts=[]),o[a].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),o},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=k9(n.segments||[],"discontinuity"),n))},xg=(t,e)=>{const r=bf(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&_g(t,n,t.sidx.resolvedUri),t},F9=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=xg(t[r],e);return t},U9=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:o},s)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:o,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),r&&(a.sidx=r),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},j9=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const o={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(o.CODECS=t.codecs);const s={attributes:o,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),s},$9=(t,e={},r=!1)=>{let n;const i=t.reduce((o,s)=>{const a=s.attributes.role&&s.attributes.role.value||"",l=s.attributes.lang||"";let d=s.attributes.label||"main";if(l&&!s.attributes.label){const u=a?` (${a})`:"";d=`${s.attributes.lang}${u}`}o[d]||(o[d]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const f=xg(U9(s,r),e);return o[d].playlists.push(f),typeof n>"u"&&a==="main"&&(n=s,n.default=!0),o},{});if(!n){const o=Object.keys(i)[0];i[o].default=!0}return i},z9=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return r[i]||(r[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(xg(j9(n),e)),r},{}),V9=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:o}=n;e[o]={autoselect:!1,default:!1,instreamId:i,language:o},n.hasOwnProperty("aspectRatio")&&(e[o].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[o].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[o]["3D"]=n["3D"])}),e),{}),H9=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},q9=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",W9=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",G9=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",Q9=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},Hw=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],Y9=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:o})=>{if(!t.length)return{};const{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:d}=t[0].attributes,f=wg(t.filter(q9)).map(H9),u=wg(t.filter(W9)),h=wg(t.filter(G9)),p=t.map(S=>S.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:F9(f,n)};d>=0&&(m.minimumUpdatePeriod=d*1e3),e&&(m.locations=e),r&&(m.contentSteering=r),a==="dynamic"&&(m.suggestedPresentationDelay=l),o&&o.length>0&&(m.eventStream=o);const y=m.playlists.length===0,v=u.length?$9(u,n,y):null,b=h.length?z9(h,n):null,A=f.concat(Hw(v),Hw(b)),C=A.map(({timelineStarts:S})=>S);return m.timelineStarts=$w(C),Q9(A,m.timelineStarts),v&&(m.mediaGroups.AUDIO.audio=v),b&&(m.mediaGroups.SUBTITLES.subs=b),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=V9(p)),i?P9({oldManifest:i,newManifest:m}):m},K9=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,d=(n+i)/1e3,f=o+a,h=d+l-f;return Math.ceil((h*s-e)/r)},qw=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=t,d=[];let f=-1;for(let u=0;u<e.length;u++){const h=e[u],p=h.d,m=h.r||0,y=h.t||0;f<0&&(f=y),y&&y>f&&(f=y);let v;if(m<0){const C=u+1;C===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?v=K9(t,f,p):v=(o*s-f)/p:v=(e[C].t-f)/p}else v=m+1;const b=a+d.length+v;let A=a+d.length;for(;A<b;)d.push({number:A,duration:p/s,time:f,timeline:l}),f+=p,A++}return d},X9=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,J9=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const o=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,o.length>=i)?o:`${new Array(i-o.length+1).join("0")}${o}`},Ww=(t,e)=>t.replace(X9,J9(e)),Z9=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?vg(t):qw(t,e),eB=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=Zc({baseUrl:t.baseUrl,source:Ww(n.sourceURL,r),range:n.range});return Z9(t,e).map(s=>{r.Number=s.number,r.Time=s.time;const a=Ww(t.media||"",r),l=t.timescale||1,d=t.presentationTimeOffset||0,f=t.periodStart+(s.time-d)/l;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:af(t.baseUrl||"",a),map:i,number:s.number,presentationTime:f}})},tB=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=Zc({baseUrl:r,source:n.sourceURL,range:n.range}),o=Zc({baseUrl:r,source:e.media,range:e.mediaRange});return o.map=i,o},rB=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(tl.SEGMENT_TIME_UNSPECIFIED);const o=n.map(l=>tB(t,l));let s;return r&&(s=vg(t)),e&&(s=qw(t,e)),s.map((l,d)=>{if(o[d]){const f=o[d],u=t.timescale||1,h=t.presentationTimeOffset||0;return f.timeline=l.timeline,f.duration=l.duration,f.number=l.number,f.presentationTime=i+(l.time-h)/u,f}}).filter(l=>l)},nB=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=eB,r=Or(t,e.template)):e.base?(n=jw,r=Or(t,e.base)):e.list&&(n=rB,r=Or(t,e.list));const i={attributes:t};if(!n)return i;const o=n(r,e.segmentTimeline);if(r.duration){const{duration:s,timescale:a=1}=r;r.duration=s/a}else o.length?r.duration=o.reduce((s,a)=>Math.max(s,Math.ceil(a.duration)),0):r.duration=0;return i.attributes=r,i.segments=o,e.base&&r.indexRange&&(i.sidx=o[0],i.segments=[]),i},iB=t=>t.map(nB),rr=(t,e)=>Fw(t.childNodes).filter(({tagName:r})=>r===e),eu=t=>t.textContent.trim(),oB=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),rl=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,d,f,u,h,p]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(d||0)*2592e3+parseFloat(f||0)*86400+parseFloat(u||0)*3600+parseFloat(h||0)*60+parseFloat(p||0)},sB=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),Gw={mediaPresentationDuration(t){return rl(t)},availabilityStartTime(t){return sB(t)/1e3},minimumUpdatePeriod(t){return rl(t)},suggestedPresentationDelay(t){return rl(t)},type(t){return t},timeShiftBufferDepth(t){return rl(t)},start(t){return rl(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return oB(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?rl(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Ar=t=>t&&t.attributes?Fw(t.attributes).reduce((e,r)=>{const n=Gw[r.name]||Gw.DEFAULT;return e[r.name]=n(r.value),e},{}):{},aB={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},vf=(t,e)=>e.length?el(t.map(function(r){return e.map(function(n){const i=eu(n),o=af(r.baseUrl,i),s=Or(Ar(n),{baseUrl:o});return o!==i&&!s.serviceLocation&&r.serviceLocation&&(s.serviceLocation=r.serviceLocation),s})})):t,Ag=t=>{const e=rr(t,"SegmentTemplate")[0],r=rr(t,"SegmentList")[0],n=r&&rr(r,"SegmentURL").map(u=>Or({tag:"SegmentURL"},Ar(u))),i=rr(t,"SegmentBase")[0],o=r||e,s=o&&rr(o,"SegmentTimeline")[0],a=r||i||e,l=a&&rr(a,"Initialization")[0],d=e&&Ar(e);d&&l?d.initialization=l&&Ar(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});const f={template:d,segmentTimeline:s&&rr(s,"S").map(u=>Ar(u)),list:r&&Or(Ar(r),{segmentUrls:n,initialization:Ar(l)}),base:i&&Or(Ar(i),{initialization:Ar(l)})};return Object.keys(f).forEach(u=>{f[u]||delete f[u]}),f},lB=(t,e,r)=>n=>{const i=rr(n,"BaseURL"),o=vf(e,i),s=Or(t,Ar(n)),a=Ag(n);return o.map(l=>({segmentInfo:Or(r,a),attributes:Or(s,l)}))},cB=t=>t.reduce((e,r)=>{const n=Ar(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=aB[n.schemeIdUri];if(i){e[i]={attributes:n};const o=rr(r,"cenc:pssh")[0];if(o){const s=eu(o);e[i].pssh=s&&JL(s)}}return e},{}),uB=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,o=""]=r.split("=");n.channel=i,n.language=r,o.split(",").forEach(s=>{const[a,l]=s.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},dB=t=>el(rr(t.node,"EventStream").map(e=>{const r=Ar(e),n=r.schemeIdUri;return rr(e,"Event").map(i=>{const o=Ar(i),s=o.presentationTime||0,a=r.timescale||1,l=o.duration||0,d=s/a+t.attributes.start;return{schemeIdUri:n,value:r.value,id:o.id,start:d,end:d+l/a,messageData:eu(i)||o.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),fB=(t,e,r)=>n=>{const i=Ar(n),o=vf(e,rr(n,"BaseURL")),s=rr(n,"Role")[0],a={role:Ar(s)};let l=Or(t,i,a);const d=rr(n,"Accessibility")[0],f=uB(Ar(d));f&&(l=Or(l,{captionServices:f}));const u=rr(n,"Label")[0];if(u&&u.childNodes.length){const v=u.childNodes[0].nodeValue.trim();l=Or(l,{label:v})}const h=cB(rr(n,"ContentProtection"));Object.keys(h).length&&(l=Or(l,{contentProtection:h}));const p=Ag(n),m=rr(n,"Representation"),y=Or(r,p);return el(m.map(lB(l,o,y)))},hB=(t,e)=>(r,n)=>{const i=vf(e,rr(r.node,"BaseURL")),o=Or(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(o.periodDuration=r.attributes.duration);const s=rr(r.node,"AdaptationSet"),a=Ag(r.node);return el(s.map(fB(o,i,a)))},pB=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=Or({serverURL:eu(t[0])},Ar(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},mB=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,gB=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:o=function(){}}=e,s=rr(t,"Period");if(!s.length)throw new Error(tl.INVALID_NUMBER_OF_PERIOD);const a=rr(t,"Location"),l=Ar(t),d=vf([{baseUrl:r}],rr(t,"BaseURL")),f=rr(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,a.length&&(l.locations=a.map(eu));const u=[];return s.forEach((h,p)=>{const m=Ar(h),y=u[p-1];m.start=mB({attributes:m,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),u.push({node:h,attributes:m})}),{locations:l.locations,contentSteeringInfo:pB(f,o),representationInfo:el(u.map(hB(l,d))),eventStream:el(u.map(dB))}},Qw=t=>{if(t==="")throw new Error(tl.DASH_EMPTY_MANIFEST);const e=new E9;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(tl.DASH_INVALID_XML);return n},yB=t=>{const e=rr(t,"UTCTiming")[0];if(!e)return null;const r=Ar(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(tl.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},bB=(t,e={})=>{const r=gB(Qw(t),e),n=iB(r.representationInfo);return Y9({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},vB=t=>yB(Qw(t));var Yw=Math.pow(2,32),_B=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*Yw+e.getUint32(4)},wB={getUint64:_B,MAX_UINT32:Yw},Kw=wB.getUint64,xB=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=Kw(t.subarray(n)),r.firstOffset=Kw(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},AB=xB;const TB=Jr(AB);var CB=et([73,68,51]),EB=function(e,r){r===void 0&&(r=0),e=et(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],o=(n&16)>>4;return o?i+20:i+10},tu=function t(e,r){return r===void 0&&(r=0),e=et(e),e.length-r<10||!tr(e,CB,{offset:r})?r:(r+=EB(e,r),t(e,r))},Xw=function(e){return typeof e=="string"?W_(e):e},SB=function(e){return Array.isArray(e)?e.map(function(r){return Xw(r)}):[Xw(e)]},kB=function t(e,r,n){n===void 0&&(n=!1),r=SB(r),e=et(e);var i=[];if(!r.length)return i;for(var o=0;o<e.length;){var s=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,a=e.subarray(o+4,o+8);if(s===0)break;var l=o+s;if(l>e.length){if(n)break;l=e.length}var d=e.subarray(o+8,l);tr(a,r[0])&&(r.length===1?i.push(d):i.push.apply(i,t(d,r.slice(1),n))),o=l}return i},_f={EBML:et([26,69,223,163]),DocType:et([66,130]),Segment:et([24,83,128,103]),SegmentInfo:et([21,73,169,102]),Tracks:et([22,84,174,107]),Track:et([174]),TrackNumber:et([215]),DefaultDuration:et([35,227,131]),TrackEntry:et([174]),TrackType:et([131]),FlagDefault:et([136]),CodecID:et([134]),CodecPrivate:et([99,162]),VideoTrack:et([224]),AudioTrack:et([225]),Cluster:et([31,67,182,117]),Timestamp:et([231]),TimestampScale:et([42,215,177]),BlockGroup:et([160]),BlockDuration:et([155]),Block:et([161]),SimpleBlock:et([163])},Tg=[128,64,32,16,8,4,2,1],IB=function(e){for(var r=1,n=0;n<Tg.length&&!(e&Tg[n]);n++)r++;return r},wf=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var o=IB(e[r]),s=e.subarray(r,r+o);return n&&(s=Array.prototype.slice.call(e,r,r+o),s[0]^=Tg[o-1]),{length:o,value:GL(s,{signed:i}),bytes:s}},Jw=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?QL(e):e},DB=function(e){return Array.isArray(e)?e.map(function(r){return Jw(r)}):[Jw(e)]},MB=function t(e,r,n){if(n>=r.length)return r.length;var i=wf(r,n,!1);if(tr(e.bytes,i.bytes))return n;var o=wf(r,n+i.length);return t(e,r,n+o.length+o.value+i.length)},Zw=function t(e,r){r=DB(r),e=et(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var o=wf(e,i,!1),s=wf(e,i+o.length),a=i+o.length+s.length;s.value===127&&(s.value=MB(o,e,a),s.value!==e.length&&(s.value-=a));var l=a+s.value>e.length?e.length:a+s.value,d=e.subarray(a,l);tr(r[0],o.bytes)&&(r.length===1?n.push(d):n=n.concat(t(d,r.slice(1))));var f=o.length+s.length+d.length;i+=f}return n},NB=et([0,0,0,1]),OB=et([0,0,1]),LB=et([0,0,3]),BB=function(e){for(var r=[],n=1;n<e.length-2;)tr(e.subarray(n,n+3),LB)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,o=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),o[n]=e[s];return o},ex=function(e,r,n,i){e=et(e),n=[].concat(n);for(var o=0,s,a=0;o<e.length&&(a<i||s);){var l=void 0;if(tr(e.subarray(o),NB)?l=4:tr(e.subarray(o),OB)&&(l=3),!l){o++;continue}if(a++,s)return BB(e.subarray(s,o));var d=void 0;r==="h264"?d=e[o+l]&31:r==="h265"&&(d=e[o+l]>>1&63),n.indexOf(d)!==-1&&(s=o+l),o+=l+(r==="h264"?1:2)}return e.subarray(0,0)},RB=function(e,r,n){return ex(e,"h264",r,n)},PB=function(e,r,n){return ex(e,"h265",r,n)},rn={webm:et([119,101,98,109]),matroska:et([109,97,116,114,111,115,107,97]),flac:et([102,76,97,67]),ogg:et([79,103,103,83]),ac3:et([11,119]),riff:et([82,73,70,70]),avi:et([65,86,73]),wav:et([87,65,86,69]),"3gp":et([102,116,121,112,51,103]),mp4:et([102,116,121,112]),fmp4:et([115,116,121,112]),mov:et([102,116,121,112,113,116]),moov:et([109,111,111,118]),moof:et([109,111,111,102])},nl={aac:function(e){var r=tu(e);return tr(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=tu(e);return tr(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Zw(e,[_f.EBML,_f.DocType])[0];return tr(r,rn.webm)},mkv:function(e){var r=Zw(e,[_f.EBML,_f.DocType])[0];return tr(r,rn.matroska)},mp4:function(e){if(nl["3gp"](e)||nl.mov(e))return!1;if(tr(e,rn.mp4,{offset:4})||tr(e,rn.fmp4,{offset:4})||tr(e,rn.moof,{offset:4})||tr(e,rn.moov,{offset:4}))return!0},mov:function(e){return tr(e,rn.mov,{offset:4})},"3gp":function(e){return tr(e,rn["3gp"],{offset:4})},ac3:function(e){var r=tu(e);return tr(e,rn.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=tu(e);return tr(e,rn.flac,{offset:r})},ogg:function(e){return tr(e,rn.ogg)},avi:function(e){return tr(e,rn.riff)&&tr(e,rn.avi,{offset:8})},wav:function(e){return tr(e,rn.riff)&&tr(e,rn.wav,{offset:8})},h264:function(e){return RB(e,7,3).length},h265:function(e){return PB(e,[32,33],3).length}},Cg=Object.keys(nl).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Cg.forEach(function(t){var e=nl[t];nl[t]=function(r){return e(et(r))}});var FB=nl,Eg=function(e){e=et(e);for(var r=0;r<Cg.length;r++){var n=Cg[r];if(FB[n](e))return n}return""},UB=function(e){return kB(e,["moof"]).length>0},Sg=9e4,kg,Ig,xf,Dg,tx,rx,nx;kg=function(t){return t*Sg},Ig=function(t,e){return t*e},xf=function(t){return t/Sg},Dg=function(t,e){return t/e},tx=function(t,e){return kg(Dg(t,e))},rx=function(t,e){return Ig(xf(t),e)},nx=function(t,e,r){return xf(r?t:t-e)};var zs={ONE_SECOND_IN_TS:Sg,secondsToVideoTs:kg,secondsToAudioTs:Ig,videoTsToSeconds:xf,audioTsToSeconds:Dg,audioTsToVideoTs:tx,videoTsToAudioTs:rx,metadataTsToSeconds:nx};/**
 * @license
 * Video.js 8.12.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Mg="8.12.0";const ko={},ts=function(t,e){return ko[t]=ko[t]||[],e&&(ko[t]=ko[t].concat(e)),ko[t]},jB=function(t,e){ts(t,e)},ix=function(t,e){const r=ts(t).indexOf(e);return r<=-1?!1:(ko[t]=ko[t].slice(),ko[t].splice(r,1),!0)},$B=function(t,e){ts(t,[].concat(e).map(r=>{const n=(...i)=>(ix(t,n),r(...i));return n}))},Af={prefixed:!0},Tf=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],ox=Tf[0];let ru;for(let t=0;t<Tf.length;t++)if(Tf[t][1]in Be){ru=Tf[t];break}if(ru){for(let t=0;t<ru.length;t++)Af[ox[t]]=ru[t];Af.prefixed=ru[0]!==ox[0]}let wn=[];const zB=(t,e,r)=>(n,i,o)=>{const s=e.levels[i],a=new RegExp(`^(${s})$`);let l=t;if(n!=="log"&&o.unshift(n.toUpperCase()+":"),r&&(l=`%c${t}`,o.unshift(r)),o.unshift(l+":"),wn){wn.push([].concat(o));const f=wn.length-1e3;wn.splice(0,f>0?f:0)}if(!re.console)return;let d=re.console[n];!d&&n==="debug"&&(d=re.console.info||re.console.log),!(!d||!s||!a.test(n))&&d[Array.isArray(o)?"apply":"call"](re.console,o)};function Ng(t,e=":",r=""){let n="info",i;const o=function(...s){i("log",n,s)};return i=zB(t,o,r),o.createLogger=(s,a,l)=>{const d=a!==void 0?a:e,f=l!==void 0?l:r,u=`${t} ${d} ${s}`;return Ng(u,d,f)},o.createNewLogger=(s,a,l)=>Ng(s,a,l),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},o.level=s=>{if(typeof s=="string"){if(!o.levels.hasOwnProperty(s))throw new Error(`"${s}" in not a valid log level`);n=s}return n},o.history=()=>wn?[].concat(wn):[],o.history.filter=s=>(wn||[]).filter(a=>new RegExp(`.*${s}.*`).test(a[0])),o.history.clear=()=>{wn&&(wn.length=0)},o.history.disable=()=>{wn!==null&&(wn.length=0,wn=null)},o.history.enable=()=>{wn===null&&(wn=[])},o.error=(...s)=>i("error",n,s),o.warn=(...s)=>i("warn",n,s),o.debug=(...s)=>i("debug",n,s),o}const xt=Ng("VIDEOJS"),sx=xt.createLogger,VB=Object.prototype.toString,ax=function(t){return Qi(t)?Object.keys(t):[]};function il(t,e){ax(t).forEach(r=>e(t[r],r))}function lx(t,e,r=0){return ax(t).reduce((n,i)=>e(n,t[i],i),r)}function Qi(t){return!!t&&typeof t=="object"}function ol(t){return Qi(t)&&VB.call(t)==="[object Object]"&&t.constructor===Object}function Gt(...t){const e={};return t.forEach(r=>{r&&il(r,(n,i)=>{if(!ol(n)){e[i]=n;return}ol(e[i])||(e[i]={}),e[i]=Gt(e[i],n)})}),e}function cx(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function Cf(t,e,r,n=!0){const i=s=>Object.defineProperty(t,e,{value:s,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const s=r();return i(s),s}};return n&&(o.set=i),Object.defineProperty(t,e,o)}var HB=Object.freeze({__proto__:null,each:il,reduce:lx,isObject:Qi,isPlain:ol,merge:Gt,values:cx,defineLazyProperty:Cf});let Og=!1,ux=null,Yi=!1,dx,fx=!1,sl=!1,al=!1,Ki=!1,Lg=null,Ef=null,hx=null,Sf=!1,kf=!1,If=!1,Df=!1,Bg=!1,Rg=!1,Pg=!1;const nu=!!(ll()&&("ontouchstart"in re||re.navigator.maxTouchPoints||re.DocumentTouch&&re.document instanceof re.DocumentTouch)),rs=re.navigator&&re.navigator.userAgentData;if(rs&&rs.platform&&rs.brands&&(Yi=rs.platform==="Android",sl=!!rs.brands.find(t=>t.brand==="Microsoft Edge"),al=!!rs.brands.find(t=>t.brand==="Chromium"),Ki=!sl&&al,Lg=Ef=(rs.brands.find(t=>t.brand==="Chromium")||{}).version||null,kf=rs.platform==="Windows"),!al){const t=re.navigator&&re.navigator.userAgent||"";Og=/iPod/i.test(t),ux=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Yi=/Android/i.test(t),dx=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null}(),fx=/Firefox/i.test(t),sl=/Edg/i.test(t),al=/Chrome/i.test(t)||/CriOS/i.test(t),Ki=!sl&&al,Lg=Ef=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),hx=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),Bg=/Tizen/i.test(t),Rg=/Web0S/i.test(t),Pg=Bg||Rg,Sf=/Safari/i.test(t)&&!Ki&&!Yi&&!sl&&!Pg,kf=/Windows/i.test(t),If=/iPad/i.test(t)||Sf&&nu&&!/iPhone/i.test(t),Df=/iPhone/i.test(t)&&!If}const nn=Df||If||Og,Mf=(Sf||nn)&&!Ki;var px=Object.freeze({__proto__:null,get IS_IPOD(){return Og},get IOS_VERSION(){return ux},get IS_ANDROID(){return Yi},get ANDROID_VERSION(){return dx},get IS_FIREFOX(){return fx},get IS_EDGE(){return sl},get IS_CHROMIUM(){return al},get IS_CHROME(){return Ki},get CHROMIUM_VERSION(){return Lg},get CHROME_VERSION(){return Ef},get IE_VERSION(){return hx},get IS_SAFARI(){return Sf},get IS_WINDOWS(){return kf},get IS_IPAD(){return If},get IS_IPHONE(){return Df},get IS_TIZEN(){return Bg},get IS_WEBOS(){return Rg},get IS_SMART_TV(){return Pg},TOUCH_ENABLED:nu,IS_IOS:nn,IS_ANY_SAFARI:Mf});function mx(t){return typeof t=="string"&&!!t.trim()}function qB(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ll(){return Be===re.document}function cl(t){return Qi(t)&&t.nodeType===1}function gx(){try{return re.parent!==re.self}catch{return!0}}function yx(t){return function(e,r){if(!mx(e))return Be[t](null);mx(r)&&(r=Be.querySelector(r));const n=cl(r)?r:Be;return n[t]&&n[t](e)}}function yt(t="div",e={},r={},n){const i=Be.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(o){const s=e[o];o==="textContent"?ns(i,s):(i[o]!==s||o==="tabIndex")&&(i[o]=s)}),Object.getOwnPropertyNames(r).forEach(function(o){i.setAttribute(o,r[o])}),n&&Ug(i,n),i}function ns(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Fg(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function iu(t,e){return qB(e),t.classList.contains(e)}function Vs(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function Nf(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(xt.warn("removeClass was called with an element that doesn't exist"),null)}function bx(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function vx(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function is(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const o=n[i].name;let s=n[i].value;r.includes(o)&&(s=s!==null),e[o]=s}}return e}function _x(t,e){return t.getAttribute(e)}function ul(t,e,r){t.setAttribute(e,r)}function Of(t,e){t.removeAttribute(e)}function wx(){Be.body.focus(),Be.onselectstart=function(){return!1}}function xx(){Be.onselectstart=function(){return!0}}function dl(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(fl(t,"height"))),r.width||(r.width=parseFloat(fl(t,"width"))),r}}function ou(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==Be[Af.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function Lf(t,e){const r={x:0,y:0};if(nn){let f=t;for(;f&&f.nodeName.toLowerCase()!=="html";){const u=fl(f,"transform");if(/^matrix/.test(u)){const h=u.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(u)){const h=u.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}f=f.parentNode}}const n={},i=ou(e.target),o=ou(t),s=o.width,a=o.height;let l=e.offsetY-(o.top-i.top),d=e.offsetX-(o.left-i.left);return e.changedTouches&&(d=e.changedTouches[0].pageX-o.left,l=e.changedTouches[0].pageY+o.top,nn&&(d-=r.x,l-=r.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,d/s)),n}function Ax(t){return Qi(t)&&t.nodeType===3}function Bf(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Tx(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),cl(e)||Ax(e))return e;if(typeof e=="string"&&/\S/.test(e))return Be.createTextNode(e)}).filter(e=>e)}function Ug(t,e){return Tx(e).forEach(r=>t.appendChild(r)),t}function Cx(t,e){return Ug(Bf(t),e)}function su(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const os=yx("querySelector"),Ex=yx("querySelectorAll");function fl(t,e){if(!t||!e)return"";if(typeof re.getComputedStyle=="function"){let r;try{r=re.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function Sx(t){[...Be.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=Be.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=Be.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var kx=Object.freeze({__proto__:null,isReal:ll,isEl:cl,isInFrame:gx,createEl:yt,textContent:ns,prependTo:Fg,hasClass:iu,addClass:Vs,removeClass:Nf,toggleClass:bx,setAttributes:vx,getAttributes:is,getAttribute:_x,setAttribute:ul,removeAttribute:Of,blockTextSelection:wx,unblockTextSelection:xx,getBoundingClientRect:dl,findPosition:ou,getPointerPosition:Lf,isTextNode:Ax,emptyEl:Bf,normalizeContent:Tx,appendContent:Ug,insertContent:Cx,isSingleLeftClick:su,$:os,$$:Ex,computedStyle:fl,copyStyleSheetsToWindow:Sx});let Ix=!1,jg;const WB=function(){if(jg.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Be.getElementsByTagName("video")),e=Array.prototype.slice.call(Be.getElementsByTagName("audio")),r=Array.prototype.slice.call(Be.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,o=n.length;i<o;i++){const s=n[i];if(s&&s.getAttribute)s.player===void 0&&s.getAttribute("data-setup")!==null&&jg(s);else{$g(1);break}}else Ix||$g(1)};function $g(t,e){ll()&&(e&&(jg=e),re.setTimeout(WB,t))}function zg(){Ix=!0,re.removeEventListener("load",zg)}ll()&&(Be.readyState==="complete"?zg():re.addEventListener("load",zg));const Dx=function(t){const e=Be.createElement("style");return e.className=t,e},Mx=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var on=new WeakMap;let GB=3;function Ti(){return GB++}function Nx(t,e){if(!on.has(t))return;const r=on.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&on.delete(t)}function Vg(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function Rf(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||re.event;t={};for(const i in n)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&i!=="path"&&(i==="returnValue"&&n.preventDefault||(t[i]=n[i]));if(t.target||(t.target=t.srcElement||Be),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const i=Be.documentElement,o=Be.body;t.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Pf;const QB=function(){if(typeof Pf!="boolean"){Pf=!1;try{const t=Object.defineProperty({},"passive",{get(){Pf=!0}});re.addEventListener("test",null,t),re.removeEventListener("test",null,t)}catch{}}return Pf},YB=["touchstart","touchmove"];function Fn(t,e,r){if(Array.isArray(e))return Vg(Fn,t,e,r);on.has(t)||on.set(t,{});const n=on.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=Ti()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,o){if(n.disabled)return;i=Rf(i);const s=n.handlers[i.type];if(s){const a=s.slice(0);for(let l=0,d=a.length;l<d&&!i.isImmediatePropagationStopped();l++)try{a[l].call(t,i,o)}catch(f){xt.error(f)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;QB()&&YB.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Hr(t,e,r){if(!on.has(t))return;const n=on.get(t);if(!n.handlers)return;if(Array.isArray(e))return Vg(Hr,t,e,r);const i=function(s,a){n.handlers[a]=[],Nx(s,a)};if(e===void 0){for(const s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(t,s);return}const o=n.handlers[e];if(o){if(!r){i(t,e);return}if(r.guid)for(let s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);Nx(t,e)}}function hl(t,e,r){const n=on.has(t)?on.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Rf(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)hl.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){on.has(e.target)||on.set(e.target,{});const o=on.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function Ff(t,e,r){if(Array.isArray(e))return Vg(Ff,t,e,r);const n=function(){Hr(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ti(),Fn(t,e,n)}function Hg(t,e,r){const n=function(){Hr(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ti(),Fn(t,e,n)}var KB=Object.freeze({__proto__:null,fixEvent:Rf,on:Fn,off:Hr,trigger:hl,one:Ff,any:Hg});const Yn=30,Qt=function(t,e,r){e.guid||(e.guid=Ti());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},Xi=function(t,e){let r=re.performance.now();return function(...i){const o=re.performance.now();o-r>=e&&(t(...i),r=o)}},Ox=function(t,e,r,n=re){let i;const o=()=>{n.clearTimeout(i),i=null},s=function(){const a=this,l=arguments;let d=function(){i=null,d=null,r||t.apply(a,l)};!i&&r&&t.apply(a,l),n.clearTimeout(i),i=n.setTimeout(d,e)};return s.cancel=o,s};var XB=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Yn,bind_:Qt,throttle:Xi,debounce:Ox});let au;class Kn{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Fn(this,e,r),this.addEventListener=n}off(e,r){Hr(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Ff(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Hg(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=Rf(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),hl(this,e)}queueTrigger(e){au||(au=new Map);const r=e.type||e;let n=au.get(this);n||(n=new Map,au.set(this,n));const i=n.get(r);n.delete(r),re.clearTimeout(i);const o=re.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,au.delete(this)),this.trigger(e)},0);n.set(r,o)}}Kn.prototype.allowedEvents_={},Kn.prototype.addEventListener=Kn.prototype.on,Kn.prototype.removeEventListener=Kn.prototype.off,Kn.prototype.dispatchEvent=Kn.prototype.trigger;const Uf=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Io=t=>t instanceof Kn||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),JB=(t,e)=>{Io(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},qg=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,jf=(t,e,r)=>{if(!t||!t.nodeName&&!Io(t))throw new Error(`Invalid target for ${Uf(e)}#${r}; must be a DOM node or evented object.`)},Lx=(t,e,r)=>{if(!qg(t))throw new Error(`Invalid event type for ${Uf(e)}#${r}; must be a non-empty string or array.`)},Bx=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${Uf(e)}#${r}; must be a function.`)},Wg=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,o,s;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[o,s]=e):[i,o,s]=e,jf(i,t,r),Lx(o,t,r),Bx(s,t,r),s=Qt(t,s),{isTargetingSelf:n,target:i,type:o,listener:s}},Hs=(t,e,r,n)=>{jf(t,t,e),t.nodeName?KB[e](t,r,n):t[e](r,n)},ZB={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=Wg(this,t,"on");if(Hs(r,"on",n,i),!e){const o=()=>this.off(r,n,i);o.guid=i.guid;const s=()=>this.off("dispose",o);s.guid=i.guid,Hs(this,"on","dispose",o),Hs(r,"on","dispose",s)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=Wg(this,t,"one");if(e)Hs(r,"one",n,i);else{const o=(...s)=>{this.off(r,n,o),i.apply(null,s)};o.guid=i.guid,Hs(r,"one",n,o)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=Wg(this,t,"any");if(e)Hs(r,"any",n,i);else{const o=(...s)=>{this.off(r,n,o),i.apply(null,s)};o.guid=i.guid,Hs(r,"any",n,o)}},off(t,e,r){if(!t||qg(t))Hr(this.eventBusEl_,t,e);else{const n=t,i=e;jf(n,this,"off"),Lx(i,this,"off"),Bx(r,this,"off"),r=Qt(this,r),this.off("dispose",r),n.nodeName?(Hr(n,i,r),Hr(n,"dispose",r)):Io(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){jf(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!qg(r))throw new Error(`Invalid event type for ${Uf(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return hl(this.eventBusEl_,t,e)}};function Gg(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=yt("span",{className:"vjs-event-bus"});return Object.assign(t,ZB),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&on.has(n)&&on.delete(n)}),re.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const eR={state:{},setState(t){typeof t=="function"&&(t=t());let e;return il(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&Io(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Rx(t,e){return Object.assign(t,eR),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Io(t)&&t.on("statechanged",t.handleStateChanged),t}const lu=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},cr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Px=function(t,e){return cr(t)===cr(e)};var tR=Object.freeze({__proto__:null,toLowerCase:lu,toTitleCase:cr,titleCaseEquals:Px});class ke{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Gt({},this.options_),r=this.options_=Gt(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Ti()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(Gg(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Rx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,r){}off(e,r){}one(e,r){}any(e,r){}trigger(e,r){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Gt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return yt(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[i],a=i&&i.split("-")[0],l=o&&o[a];let d=n;return s&&s[e]?d=s[e]:l&&l[e]&&(d=l[e]),r&&(d=d.replace(/\{(\d+)\}/g,function(f,u){const h=r[u-1];let p=h;return typeof h>"u"&&(p=f),p})),d}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=yt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),o=Be.createElementNS(n,"svg");o.setAttributeNS(null,"viewBox","0 0 512 512");const s=Be.createElementNS(n,"use");return o.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(o),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,o;if(typeof e=="string"){o=cr(e);const s=r.componentClass||o;r.name=o;const a=ke.getComponent(s);if(!a)throw new Error(`Component ${s} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),o=o||i.name&&cr(i.name()),o&&(this.childNameIndex_[o]=i,this.childNameIndex_[lu(o)]=i),typeof i.el=="function"&&i.el()){let s=null;this.children_[n+1]&&(this.children_[n+1].el_?s=this.children_[n+1].el_:cl(this.children_[n+1])&&(s=this.children_[n+1])),this.contentEl().insertBefore(i.el(),s)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[cr(e.name())]=null,this.childNameIndex_[lu(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=s=>{const a=s.name;let l=s.opts;if(r[a]!==void 0&&(l=r[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const d=this.addChild(a,l);d&&(this[a]=d)};let i;const o=ke.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(s){return!i.some(function(a){return typeof a=="string"?s===a:s===a.name})})).map(s=>{let a,l;return typeof s=="string"?(a=s,l=e[a]||this.options_[a]||{}):(a=s.name,l=s),{name:a,opts:l}}).filter(s=>{const a=ke.getComponent(s.opts.componentClass||cr(s.name));return a&&!o.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return os(e,r||this.contentEl())}$$(e,r){return Ex(e,r||this.contentEl())}hasClass(e){return iu(this.el_,e)}addClass(...e){Vs(this.el_,...e)}removeClass(...e){Nf(this.el_,...e)}toggleClass(e,r){bx(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return _x(this.el_,e)}setAttribute(e,r){ul(this.el_,e,r)}removeAttribute(e){Of(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],o=i.indexOf("px");return parseInt(o!==-1?i.slice(0,o):this.el_["offset"+cr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=fl(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${cr(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(dt.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let o;this.on("touchstart",function(a){a.touches.length===1&&(r={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=re.performance.now(),o=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)o=!1;else if(r){const l=a.touches[0].pageX-r.pageX,d=a.touches[0].pageY-r.pageY;Math.sqrt(l*l+d*d)>n&&(o=!1)}});const s=function(){o=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(a){r=null,o===!0&&re.performance.now()-e<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Qt(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=Qt(this,e),this.clearTimersOnDispose_(),n=re.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),re.clearTimeout(e)),e}setInterval(e,r){e=Qt(this,e),this.clearTimersOnDispose_();const n=re.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),re.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=Qt(this,e),r=re.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),r=Qt(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),re.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=ke.getComponent("Tech"),i=n&&n.isTech(r),o=ke===r||ke.prototype.isPrototypeOf(r.prototype);if(i||!o){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=cr(e),ke.components_||(ke.components_={});const s=ke.getComponent("Player");if(e==="Player"&&s&&s.players){const a=s.players,l=Object.keys(a);if(a&&l.length>0&&l.map(d=>a[d]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return ke.components_[e]=r,ke.components_[lu(e)]=r,r}static getComponent(e){if(!(!e||!ke.components_))return ke.components_[e]}}ke.registerComponent("Component",ke);function rR(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function Fx(t,e,r,n){return rR(t,n,r.length-1),r[n][e]}function Qg(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Fx.bind(null,"start",0,t),end:Fx.bind(null,"end",1,t)},re.Symbol&&re.Symbol.iterator&&(e[re.Symbol.iterator]=()=>(t||[]).values()),e}function Ci(t,e){return Array.isArray(t)?Qg(t):t===void 0||e===void 0?Qg():Qg([[t,e]])}const Ux=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||s>0?i+":":"",n=((i||o>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let Yg=Ux;function jx(t){Yg=t}function $x(){Yg=Ux}function qs(t,e=t){return Yg(t,e)}var nR=Object.freeze({__proto__:null,createTimeRanges:Ci,createTimeRange:Ci,setFormatTime:jx,resetFormatTime:$x,formatTime:qs});function zx(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=Ci(0,0));for(let o=0;o<t.length;o++)n=t.start(o),i=t.end(o),i>e&&(i=e),r+=i-n;return r/e}function or(t){if(t instanceof or)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Qi(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=or.defaultMessages[this.code]||"")}or.prototype.code=0,or.prototype.message="",or.prototype.status=null,or.prototype.metadata=null,or.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],or.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},or.MEDIA_ERR_CUSTOM=0,or.prototype.MEDIA_ERR_CUSTOM=0,or.MEDIA_ERR_ABORTED=1,or.prototype.MEDIA_ERR_ABORTED=1,or.MEDIA_ERR_NETWORK=2,or.prototype.MEDIA_ERR_NETWORK=2,or.MEDIA_ERR_DECODE=3,or.prototype.MEDIA_ERR_DECODE=3,or.MEDIA_ERR_SRC_NOT_SUPPORTED=4,or.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,or.MEDIA_ERR_ENCRYPTED=5,or.prototype.MEDIA_ERR_ENCRYPTED=5;function cu(t){return t!=null&&typeof t.then=="function"}function Ji(t){cu(t)&&t.then(null,e=>{})}const Kg=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})};var Vx={textTracksToJson:function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const o=Kg(i.track);return i.src&&(o.src=i.src),o}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(Kg))},jsonToTextTracks:function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()},trackToJson_:Kg};const Xg="vjs-modal-dialog";class pl extends ke{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=yt("div",{className:`${Xg}-content`},{role:"document"}),this.descEl_=yt("p",{className:`${Xg}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ns(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Xg} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),Cx(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const o=this.getChild("closeButton");o&&n.appendChild(o.el_)}empty(){this.trigger("beforemodalempty"),Bf(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Be.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),dt.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!dt.isEventKey(e,"Tab"))return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}Be.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof re.HTMLAnchorElement||r instanceof re.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof re.HTMLInputElement||r instanceof re.HTMLSelectElement||r instanceof re.HTMLTextAreaElement||r instanceof re.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof re.HTMLIFrameElement||r instanceof re.HTMLObjectElement||r instanceof re.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}pl.prototype.options_={pauseOnOpen:!0,temporary:!0},ke.registerComponent("ModalDialog",pl);class ml extends Kn{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Io(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const o=this[n];if(o.id===e){r=o;break}}return r}}ml.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in ml.prototype.allowedEvents_)ml.prototype["on"+t]=null;const Jg=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class iR extends ml{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){Jg(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Jg(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Jg(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Zg=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class oR extends ml{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){Zg(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&Zg(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Zg(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Hx extends ml{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class sR{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class $f{constructor(e){$f.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const o=function(s){""+s in this||Object.defineProperty(this,""+s,{get(){return this.cues_[s]}})};if(r<i)for(n=r;n<i;n++)o.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const o=this[n];if(o.id===e){r=o;break}}return r}}const aR={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},lR={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},cR={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},qx={disabled:"disabled",hidden:"hidden",showing:"showing"};class e0 extends Kn{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Ti(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const t0=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],r=Be.createElement("a");r.href=t;const n={};for(let i=0;i<e.length;i++)n[e[i]]=r[e[i]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=re.location.protocol),n.host||(n.host=re.location.host),n},Wx=function(t){if(!t.match(/^https?:\/\//)){const e=Be.createElement("a");e.href=t,t=e.href}return t},r0=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},zf=function(t,e=re.location){const r=t0(t);return(r.protocol===":"?e.protocol:r.protocol)+r.host!==e.protocol+e.host};var uR=Object.freeze({__proto__:null,parseUrl:t0,getAbsoluteURL:Wx,getFileExtension:r0,isCrossOrigin:zf});const Gx=function(t,e){const r=new re.WebVTT.Parser(re,re.vttjs,re.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(re.console&&re.console.groupCollapsed&&re.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>xt.error(i)),re.console&&re.console.groupEnd&&re.console.groupEnd()),r.flush()},Qx=function(t,e){const r={uri:t},n=zf(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),k_(r,Qt(this,function(o,s,a){if(o)return xt.error(o,s);e.loaded_=!0,typeof re.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){xt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return Gx(a,e)}):Gx(a,e)}))};class uu extends e0{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Gt(e,{kind:cR[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=qx[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const o=new $f(this.cues_),s=new $f(this.activeCues_);let a=!1;this.timeupdateHandler=Qt(this,function(d={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(d){qx[d]&&n!==d&&(n=d,!this.preload_&&n!=="disabled"&&this.cues.length===0&&Qx(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?o:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return s;const d=this.tech_.currentTime(),f=[];for(let u=0,h=this.cues.length;u<h;u++){const p=this.cues[u];p.startTime<=d&&p.endTime>=d&&f.push(p)}if(a=!1,f.length!==this.activeCues_.length)a=!0;else for(let u=0;u<f.length;u++)this.activeCues_.indexOf(f[u])===-1&&(a=!0);return this.activeCues_=f,s.setCues_(this.activeCues_),s},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&Qx(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new re.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}uu.prototype.allowedEvents_={cuechange:"cuechange"};class Yx extends e0{constructor(e={}){const r=Gt(e,{kind:lR[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class Kx extends e0{constructor(e={}){const r=Gt(e,{kind:aR[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class Do extends Kn{constructor(e={}){super();let r;const n=new uu(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=Do.NONE,n.addEventListener("loadeddata",()=>{r=Do.LOADED,this.trigger({type:"load",target:this})})}}Do.prototype.allowedEvents_={load:"load"},Do.NONE=0,Do.LOADING=1,Do.LOADED=2,Do.ERROR=3;const Xn={audio:{ListClass:iR,TrackClass:Yx,capitalName:"Audio"},video:{ListClass:oR,TrackClass:Kx,capitalName:"Video"},text:{ListClass:Hx,TrackClass:uu,capitalName:"Text"}};Object.keys(Xn).forEach(function(t){Xn[t].getterName=`${t}Tracks`,Xn[t].privateName=`${t}Tracks_`});const gl={remoteText:{ListClass:Hx,TrackClass:uu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:sR,TrackClass:Do,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},sn=Object.assign({},Xn,gl);gl.names=Object.keys(gl),Xn.names=Object.keys(Xn),sn.names=[].concat(gl.names).concat(Xn.names);function dR(t,e,r,n,i={}){const o=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const s=new sn.text.TrackClass(i);return o.addTrack(s),s}class ht extends ke{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),sn.names.forEach(n=>{const i=sn[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new sn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Qt(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Ci(0,0)}bufferedPercent(){return zx(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Xn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const o=n[i];r==="text"&&this.removeRemoteTextTrack(o),n.removeTrack(o)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new or(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Ci(0,0):Ci()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Xn.names.forEach(e=>{const r=Xn[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!re.WebVTT)if(Be.body.contains(this.el())){if(!this.options_["vtt.js"]&&ol(R_)&&Object.keys(R_).length>0){this.trigger("vttjsloaded");return}const e=Be.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),re.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=a=>e.addTrack(a.track),i=a=>e.removeTrack(a.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const o=()=>this.trigger("texttrackchange"),s=()=>{o();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",o),l.mode==="showing"&&l.addEventListener("cuechange",o)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",o)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return dR(this,e,r,n)}createRemoteTextTrack(e){const r=Gt(e,{tech:this});return new gl.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Ti();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return ht.canPlayType(e.type)}static isTech(e){return e.prototype instanceof ht||e instanceof ht||e===ht}static registerTech(e,r){if(ht.techs_||(ht.techs_={}),!ht.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!ht.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!ht.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=cr(e),ht.techs_[e]=r,ht.techs_[lu(e)]=r,e!=="Tech"&&ht.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(ht.techs_&&ht.techs_[e])return ht.techs_[e];if(e=cr(e),re&&re.videojs&&re.videojs[e])return xt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),re.videojs[e]}}}sn.names.forEach(function(t){const e=sn[t];ht.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),ht.prototype.featuresVolumeControl=!0,ht.prototype.featuresMuteControl=!0,ht.prototype.featuresFullscreenResize=!1,ht.prototype.featuresPlaybackRate=!1,ht.prototype.featuresProgressEvents=!1,ht.prototype.featuresSourceset=!1,ht.prototype.featuresTimeupdateEvents=!1,ht.prototype.featuresNativeTextTracks=!1,ht.prototype.featuresVideoFrameCallback=!1,ht.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let o=0;o<n.length;o++)if(i=n[o].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let o;for(let s=0;s<i.length;s++)if(o=i[s].canHandleSource(r,n),o)return i[s];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:xt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ke.registerComponent("Tech",ht),ht.registerTech("Tech",ht),ht.defaultTechOrder_=[];const Ws={},n0={},Vf={};function fR(t,e){Ws[t]=Ws[t]||[],Ws[t].push(e)}function hR(t,e,r){t.setTimeout(()=>Gs(e,Ws[e.type],r,t),1)}function pR(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function mR(t,e,r){return t.reduceRight(i0(r),e[r]())}function gR(t,e,r,n){return e[r](t.reduce(i0(r),n))}function Xx(t,e,r,n=null){const i="call"+cr(r),o=t.reduce(i0(i),n),s=o===Vf,a=s?null:e[r](o);return vR(t,r,a,s),a}const yR={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},bR={setCurrentTime:1,setMuted:1,setVolume:1},Jx={play:1,pause:1};function i0(t){return(e,r)=>e===Vf?Vf:r[t]?r[t](e):e}function vR(t,e,r,n){for(let i=t.length-1;i>=0;i--){const o=t[i];o[e]&&o[e](n,r)}}function _R(t){n0[t.id()]=null}function wR(t,e){const r=n0[t.id()];let n=null;if(r==null)return n=e(t),n0[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[o,s]=r[i];o===e&&(n=s)}return n===null&&(n=e(t),r.push([e,n])),n}function Gs(t={},e=[],r,n,i=[],o=!1){const[s,...a]=e;if(typeof s=="string")Gs(t,Ws[s],r,n,i,o);else if(s){const l=wR(n,s);if(!l.setSource)return i.push(l),Gs(t,a,r,n,i,o);l.setSource(Object.assign({},t),function(d,f){if(d)return Gs(t,a,r,n,i,o);i.push(l),Gs(f,t.type===f.type?a:Ws[f.type],r,n,i,o)})}else a.length?Gs(t,a,r,n,i,o):o?r(t,i):Gs(t,Ws["*"],r,n,i,!0)}const xR={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Hf=function(t=""){const e=r0(t);return xR[e.toLowerCase()]||""},AR=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const o=n[i];if(o.type&&o.src&&o.src===e)return o.type}return Hf(e)},Zx=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=Zx(r),Array.isArray(r)?e=e.concat(r):Qi(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[eA({src:t})]:Qi(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[eA(t)]:t=[];return t};function eA(t){if(!t.type){const e=Hf(t.src);e&&(t.type=e)}return t}var TR=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class CR extends ke{constructor(e,r,n){const i=Gt({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let o=0,s=r.playerOptions.techOrder;o<s.length;o++){const a=cr(s[o]);let l=ht.getTech(a);if(a||(l=ke.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(r.playerOptions.sources)}}ke.registerComponent("MediaLoader",CR);class qf extends ke{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&xt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=yt(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=yt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,ns(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){dt.isEventKey(e,"Space")||dt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ke.registerComponent("ClickableComponent",qf);class o0 extends qf{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return yt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(yt("picture",{className:"vjs-poster",tabIndex:-1},{},yt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ji(this.player_.play()):this.player_.pause())}}o0.prototype.crossorigin=o0.prototype.crossOrigin,ke.registerComponent("PosterImage",o0);const Jn="#222",tA="#ccc",ER={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function s0(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function du(t,e,r){try{t.style[e]=r}catch{return}}function rA(t){return t?`${t}px`:""}class SR extends ke{constructor(e,r,n){super(e,r,n);const i=s=>this.updateDisplay(s),o=s=>{this.updateDisplayOverlay(),this.updateDisplay(s)};e.on("loadstart",s=>this.toggleDisplay(s)),e.on("texttrackchange",i),e.on("loadedmetadata",s=>{this.updateDisplayOverlay(),this.preselectTrack(s)}),e.ready(Qt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",o),e.on("playerresize",o);const s=re.screen.orientation||re,a=re.screen.orientation?"change":"orientationchange";s.addEventListener(a,o),e.on("dispose",()=>s.removeEventListener(a,o));const l=this.options_.playerOptions.tracks||[];for(let d=0;d<l.length;d++)this.player_.addRemoteTextTrack(l[d],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,o,s;for(let a=0;a<r.length;a++){const l=r[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?s=l:s||(s=l):n&&!n.enabled?(s=null,i=null,o=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!o&&(o=l))}s?s.mode="showing":o?o.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof re.WebVTT=="function"&&re.WebVTT.processCues(re,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const s=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}let n=null,i=null,o=e.length;for(;o--;){const s=e[o];s.mode==="showing"&&(s.kind==="descriptions"?n=s:i=s)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!re.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let o=0,s=0;Math.abs(n-i)>.1&&(n>i?o=Math.round((e-r*i)/2):s=Math.round((r-e/i)/2)),du(this.el_,"insetInline",rA(o)),du(this.el_,"insetBlock",rA(s))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const o=n[i];if(!o)continue;const s=o.displayState;if(r.color&&(s.firstChild.style.color=r.color),r.textOpacity&&du(s.firstChild,"color",s0(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(s.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&du(s.firstChild,"backgroundColor",s0(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?du(s,"backgroundColor",s0(r.windowColor,r.windowOpacity)):s.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?s.firstChild.style.textShadow=`2px 2px 3px ${Jn}, 2px 2px 4px ${Jn}, 2px 2px 5px ${Jn}`:r.edgeStyle==="raised"?s.firstChild.style.textShadow=`1px 1px ${Jn}, 2px 2px ${Jn}, 3px 3px ${Jn}`:r.edgeStyle==="depressed"?s.firstChild.style.textShadow=`1px 1px ${tA}, 0 1px ${tA}, -1px -1px ${Jn}, 0 -1px ${Jn}`:r.edgeStyle==="uniform"&&(s.firstChild.style.textShadow=`0 0 4px ${Jn}, 0 0 4px ${Jn}, 0 0 4px ${Jn}, 0 0 4px ${Jn}`)),r.fontPercent&&r.fontPercent!==1){const a=re.parseFloat(s.style.fontSize);s.style.fontSize=a*r.fontPercent+"px",s.style.height="auto",s.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=ER[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof re.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let o=0;o<i.activeCues.length;++o)r.push(i.activeCues[o])}re.WebVTT.processCues(re,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let o=0;o<i.activeCues.length;++o){const s=i.activeCues[o].displayState;Vs(s,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&ul(s,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}ke.registerComponent("TextTrackDisplay",SR);class kR extends ke{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=yt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}ke.registerComponent("LoadingSpinner",kR);class Un extends qf{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=yt(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return xt.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),ke.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(dt.isEventKey(e,"Space")||dt.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}ke.registerComponent("Button",Un);class nA extends Un{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ji(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const o=()=>i.focus();cu(r)?r.then(o,()=>{}):this.setTimeout(o,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}nA.prototype.controlText_="Play Video",ke.registerComponent("BigPlayButton",nA);class IR extends Un{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){dt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ke.registerComponent("CloseButton",IR);class iA extends Un{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ji(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}iA.prototype.controlText_="Play",ke.registerComponent("PlayToggle",iA);class yl extends ke{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=yt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return r.appendChild(n),this.contentEl_=yt("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=qs(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,xt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Be.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}yl.prototype.labelText_="Time",yl.prototype.controlText_="Time",ke.registerComponent("TimeDisplay",yl);class a0 extends yl{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}a0.prototype.labelText_="Current Time",a0.prototype.controlText_="Current Time",ke.registerComponent("CurrentTimeDisplay",a0);class l0 extends yl{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}l0.prototype.labelText_="Duration",l0.prototype.controlText_="Duration",ke.registerComponent("DurationDisplay",l0);class DR extends ke{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}ke.registerComponent("TimeDivider",DR);class c0 extends yl{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(yt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}c0.prototype.labelText_="Remaining Time",c0.prototype.controlText_="Remaining Time",ke.registerComponent("RemainingTimeDisplay",c0);class MR extends ke{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=yt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(yt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(Be.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}ke.registerComponent("LiveDisplay",MR);class oA extends Un{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=yt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}oA.prototype.controlText_="Seek to live, currently playing live",ke.registerComponent("SeekToLive",oA);function fu(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var NR=Object.freeze({__proto__:null,clamp:fu});class u0 extends ke{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Ki&&e.preventDefault(),wx(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;xx(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(fu(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=Lf(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){dt.isEventKey(e,"Left")||dt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):dt.isEventKey(e,"Right")||dt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}ke.registerComponent("Slider",u0);const d0=(t,e)=>fu(t/e*100,0,100).toFixed(2)+"%";class OR extends ke{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=yt("span",{className:"vjs-control-text"}),n=yt("span",{textContent:this.localize("Loaded")}),i=Be.createTextNode(": ");return this.percentageEl_=yt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),s=this.partEls_,a=d0(o,i);this.percent_!==a&&(this.el_.style.width=a,ns(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const d=n.start(l),f=n.end(l);let u=s[l];u||(u=this.el_.appendChild(yt()),s[l]=u),!(u.dataset.start===d&&u.dataset.end===f)&&(u.dataset.start=d,u.dataset.end=f,u.style.left=d0(d,o),u.style.width=d0(f-d,o))}for(let l=s.length;l>n.length;l--)this.el_.removeChild(s[l-1]);s.length=n.length})}}ke.registerComponent("LoadProgressBar",OR);class LR extends ke{constructor(e,r){super(e,r),this.update=Xi(Qt(this,this.update),Yn)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=ou(this.el_),o=dl(this.player_.el()),s=e.width*r;if(!o||!i)return;let a=e.left-o.left+s,l=e.width-s+(o.right-e.right);l||(l=e.width-s,a=s);let d=i.width/2;a<d?d+=d-a:l<d&&(d=l),d<0?d=0:d>i.width&&(d=i.width),d=Math.round(d),this.el_.style.right=`-${d}px`,this.write(n)}write(e){ns(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let o;const s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-r*a;o=(l<1?"":"-")+qs(l,a)}else o=qs(n,s);this.update(e,r,o),i&&i()})}}ke.registerComponent("TimeTooltip",LR);class f0 extends ke{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=Xi(Qt(this,this.update),Yn)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}f0.prototype.options_={children:[]},!nn&&!Yi&&f0.prototype.options_.children.push("timeTooltip"),ke.registerComponent("PlayProgressBar",f0);class sA extends ke{constructor(e,r){super(e,r),this.update=Xi(Qt(this,this.update),Yn)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}sA.prototype.options_={children:["timeTooltip"]},ke.registerComponent("MouseTimeDisplay",sA);const Wf=5,aA=12;class h0 extends u0{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=Qt(this,this.update),this.update=Xi(this.update_,Yn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.on(Be,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Be.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Yn))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Be.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let o=this.player_.duration();i&&i.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==o)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[qs(n,o),qs(o,o)],"{1} of {2}")),this.currentTime_=n,this.duration_=o),this.bar&&this.bar.update(dl(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){su(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!su(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),o=this.player_.liveTracker;if(!o||!o.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){o.seekToLiveEdge();return}const s=o.seekableStart(),a=o.liveCurrentTime();if(n=s+i*o.liveWindow(),n>=a&&(n=a),n<=s&&(n=s+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ji(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Wf)}stepBack(){this.userSeek_(this.player_.currentTime()-Wf)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(dt.isEventKey(e,"Space")||dt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(dt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(dt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(dt(e))){e.preventDefault(),e.stopPropagation();const n=(dt.codes[dt(e)]-dt.codes[0])*10/100;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else dt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Wf*aA)):dt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Wf*aA)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.off(Be,"visibilitychange",this.toggleVisibility_),super.dispose()}}h0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!nn&&!Yi&&h0.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ke.registerComponent("SeekBar",h0);class lA extends ke{constructor(e,r){super(e,r),this.handleMouseMove=Xi(Qt(this,this.handleMouseMove),Yn),this.throttledHandleMouseSeek=Xi(Qt(this,this.handleMouseSeek),Yn),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const o=r.el(),s=ou(o);let a=Lf(o,e).x;a=fu(a,0,1),i&&i.update(s,a),n&&n.update(s,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ji(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}lA.prototype.options_={children:["seekBar"]},ke.registerComponent("ProgressControl",lA);class cA extends Un{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Be.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in re?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Be.exitPictureInPicture=="function"&&super.show()}}cA.prototype.controlText_="Picture-in-Picture",ke.registerComponent("PictureInPictureToggle",cA);class uA extends Un{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Be[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}uA.prototype.controlText_="Fullscreen",ke.registerComponent("FullscreenToggle",uA);const BR=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class RR extends ke{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}ke.registerComponent("VolumeLevel",RR);class PR extends ke{constructor(e,r){super(e,r),this.update=Xi(Qt(this,this.update),Yn)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const o=dl(this.el_),s=dl(this.player_.el()),a=e.width*r;if(!s||!o)return;const l=e.left-s.left+a,d=e.width-a+(s.right-e.right);let f=o.width/2;l<f?f+=f-l:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),this.el_.style.right=`-${f}px`}this.write(`${i}%`)}write(e){ns(this.el_,e)}updateVolume(e,r,n,i,o){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),o&&o()})}}ke.registerComponent("VolumeLevelTooltip",PR);class dA extends ke{constructor(e,r){super(e,r),this.update=Xi(Qt(this,this.update),Yn)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}dA.prototype.options_={children:["volumeLevelTooltip"]},ke.registerComponent("MouseVolumeLevelDisplay",dA);class Gf extends u0{constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){su(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=dl(n),o=this.vertical();let s=Lf(n,e);s=o?s.y:s.x,s=fu(s,0,1),r.update(i,s,o)}su(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Gf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!nn&&!Yi&&Gf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Gf.prototype.playerEvent="volumechange",ke.registerComponent("VolumeBar",Gf);class fA extends ke{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||ol(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),BR(this,e),this.throttledHandleMouseMove=Xi(Qt(this,this.handleMouseMove),Yn),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}fA.prototype.options_={children:["volumeBar"]},ke.registerComponent("VolumeControl",fA);const FR=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class hA extends Un{constructor(e,r){super(e,r),FR(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),nn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),Nf(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),Vs(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}hA.prototype.controlText_="Mute",ke.registerComponent("MuteToggle",hA);class pA extends ke{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||ol(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){dt.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Fn(Be,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Hr(Be,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){dt.isEventKey(e,"Esc")&&this.handleMouseOut()}}pA.prototype.options_={children:["muteToggle","volumeControl"]},ke.registerComponent("VolumePanel",pA);class mA extends Un{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let o;r+this.skipTime<=i?o=r+this.skipTime:o=i,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}mA.prototype.controlText_="Skip Forward",ke.registerComponent("SkipForward",mA);class gA extends Un{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let o;i&&r-this.skipTime<=i?o=i:r>=this.skipTime?o=r-this.skipTime:o=0,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}gA.prototype.controlText_="Skip Backward",ke.registerComponent("SkipBackward",gA);class yA extends ke{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof ke&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof ke&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=yt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Fn(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Be.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){dt.isEventKey(e,"Left")||dt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(dt.isEventKey(e,"Right")||dt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}ke.registerComponent("Menu",yA);class p0 extends ke{constructor(e,r={}){super(e,r),this.menuButton_=new Un(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=Un.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=o=>this.handleClick(o);this.handleMenuKeyUp_=o=>this.handleMenuKeyUp(o),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",o=>this.handleKeyDown(o)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Fn(Be,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",o=>this.handleMouseLeave(o)),this.on("keydown",o=>this.handleSubmenuKeyDown(o))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new yA(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=yt("li",{className:"vjs-menu-title",textContent:cr(this.options_.title),tabIndex:-1}),n=new ke(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Un.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Hr(Be,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){dt.isEventKey(e,"Esc")||dt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),dt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(dt.isEventKey(e,"Up")||dt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(dt.isEventKey(e,"Esc")||dt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(dt.isEventKey(e,"Esc")||dt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),dt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),nn&&gx())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}ke.registerComponent("MenuButton",p0);class m0 extends p0{constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=Qt(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}ke.registerComponent("TrackButton",m0);const UR=["Tab","Esc","Up","Down","Right","Left"];class hu extends qf{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),o=yt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(o):i.replaceChild(o,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){UR.some(r=>dt.isEventKey(e,r))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}ke.registerComponent("MenuItem",hu);class pu extends hu{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const o=(...a)=>{this.handleTracksChange.apply(this,a)},s=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],o),i.addEventListener("change",o),i.addEventListener("selectedlanguagechange",s),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],o),i.removeEventListener("change",o),i.removeEventListener("selectedlanguagechange",s)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof re.Event!="object")try{a=new re.Event("change")}catch{}a||(a=Be.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const o=n[i];this.kinds.indexOf(o.kind)!==-1&&(o===r?o.mode!=="showing"&&(o.mode="showing"):o.mode!=="disabled"&&(o.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}ke.registerComponent("TextTrackMenuItem",pu);class bA extends pu{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(this.options_.kinds.indexOf(s.kind)>-1&&s.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&s.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}ke.registerComponent("OffTextTrackMenuItem",bA);class bl extends m0{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=pu){let n;this.label_&&(n=`${this.label_} off`),e.push(new bA(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let o=0;o<i.length;o++){const s=i[o];if(this.kinds_.indexOf(s.kind)>-1){const a=new r(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${s.kind}-menu-item`),e.push(a)}}return e}}ke.registerComponent("TextTrackButton",bl);class vA extends hu{constructor(e,r){const n=r.track,i=r.cue,o=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=o&&o<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}ke.registerComponent("ChaptersTrackMenuItem",vA);class g0 extends bl{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(cr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const o=r[n],s=new vA(this.player_,{track:this.track_,cue:o});e.push(s)}return e}}g0.prototype.kind_="chapters",g0.prototype.controlText_="Chapters",ke.registerComponent("ChaptersButton",g0);class y0 extends bl{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),o=Qt(this,this.handleTracksChange);i.addEventListener("change",o),this.on("dispose",function(){i.removeEventListener("change",o)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(s.kind!==this.kind_&&s.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}y0.prototype.kind_="descriptions",y0.prototype.controlText_="Descriptions",ke.registerComponent("DescriptionsButton",y0);class b0 extends bl{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}b0.prototype.kind_="subtitles",b0.prototype.controlText_="Subtitles",ke.registerComponent("SubtitlesButton",b0);class v0 extends pu{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}ke.registerComponent("CaptionSettingsMenuItem",v0);class _0 extends bl{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new v0(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}_0.prototype.kind_="captions",_0.prototype.controlText_="Captions",ke.registerComponent("CaptionsButton",_0);class _A extends pu{createEl(e,r,n){const i=super.createEl(e,r,n),o=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):o.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(yt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}ke.registerComponent("SubsCapsMenuItem",_A);class w0 extends bl{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(cr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new v0(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,_A),e}}w0.prototype.kinds_=["captions","subtitles"],w0.prototype.controlText_="Subtitles",ke.registerComponent("SubsCapsButton",w0);class wA extends hu{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const o=(...s)=>{this.handleTracksChange.apply(this,s)};i.addEventListener("change",o),this.on("dispose",()=>{i.removeEventListener("change",o)})}createEl(e,r,n){const i=super.createEl(e,r,n),o=i.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(o.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(yt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}ke.registerComponent("AudioTrackMenuItem",wA);class xA extends m0{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new wA(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}xA.prototype.controlText_="Audio Track",ke.registerComponent("AudioTrackButton",xA);class x0 extends hu{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",o=>this.update(o))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}x0.prototype.contentElType="button",ke.registerComponent("PlaybackRateMenuItem",x0);class AA extends p0{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=yt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new x0(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}AA.prototype.controlText_="Playback Rate",ke.registerComponent("PlaybackRateMenuButton",AA);class TA extends ke{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}ke.registerComponent("Spacer",TA);class jR extends TA{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}ke.registerComponent("CustomControlSpacer",jR);class CA extends ke{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}CA.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},ke.registerComponent("ControlBar",CA);class EA extends pl{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}EA.prototype.options_=Object.assign({},pl.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ke.registerComponent("ErrorDisplay",EA);const A0="vjs-text-track-settings",SA=["#000","Black"],kA=["#00F","Blue"],IA=["#0FF","Cyan"],DA=["#0F0","Green"],MA=["#F0F","Magenta"],NA=["#F00","Red"],OA=["#FFF","White"],LA=["#FF0","Yellow"],T0=["1","Opaque"],C0=["0.5","Semi-Transparent"],BA=["0","Transparent"],Qs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[SA,OA,NA,DA,kA,LA,MA,IA]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[T0,C0,BA]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[OA,SA,NA,DA,kA,LA,MA,IA]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[T0,C0]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[BA,C0,T0]}};Qs.windowColor.options=Qs.backgroundColor.options;function RA(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function $R(t,e){const r=t.options[t.options.selectedIndex].value;return RA(r,e)}function zR(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if(RA(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class VR extends pl{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=yt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),il(Qs,n=>{this.on(this.$(n.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,r="",n="label"){const i=Qs[e],o=i.id.replace("%s",this.id_),s=[r,o].join(" ").trim(),a=`vjs_select_${Ti()}`;return[`<${n} id="${o}"${n==="label"?` for="${a}" class="vjs-label"`:""}>`,this.localize(i.label),`</${n}>`,`<select aria-labelledby="${s}" id="${a}">`].concat(i.options.map(l=>{const d=o+"-"+l[1].replace(/\W+/g,"");return[`<option id="${d}" value="${l[0]}" `,`aria-labelledby="${s} ${d}">`,this.localize(l[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return yt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return yt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return yt("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return lx(Qs,(e,r,n)=>{const i=$R(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){il(Qs,(r,n)=>{zR(this.$(r.selector),e[n],r.parser)})}setDefaults(){il(Qs,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(re.localStorage.getItem(A0))}catch(r){xt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?re.localStorage.setItem(A0,JSON.stringify(e)):re.localStorage.removeItem(A0)}catch(r){xt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,r=e&&e.subsCapsButton,n=e&&e.captionsButton;r?r.focus():n&&n.focus()}handleLanguagechange(){this.fill()}}ke.registerComponent("TextTrackSettings",VR);class HR extends ke{constructor(e,r){let n=r.ResizeObserver||re.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=Gt({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||re.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Ox(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const o=this.debouncedHandler_;let s=this.unloadListener_=function(){Hr(this,"resize",o),Hr(this,"unload",s),s=null};Fn(this.el_.contentWindow,"unload",s),Fn(this.el_.contentWindow,"resize",o)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}ke.registerComponent("ResizeManager",HR);const qR={trackingThreshold:20,liveTolerance:15};class WR extends ke{constructor(e,r){const n=Gt(qR,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(re.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),o=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-o)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Yn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}ke.registerComponent("LiveTracker",WR);class GR extends ke{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:yt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Ti()}`}),description:yt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Ti()}`})},yt("div",{className:"vjs-title-bar"},{},cx(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const o=this.state[i],s=this.els[i],a=n[i];Bf(s),o&&ns(s,o),r&&(r.removeAttribute(a),o&&r.setAttribute(a,s.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}ke.registerComponent("TitleBar",GR);const E0=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let o=0;o<r.length;o++){const s=r[o].src;s&&n.indexOf(s)===-1&&n.push(s)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},QR=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Be.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Be.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",re.Element.prototype.appendChild.call(this,r),this.innerHTML}}),PA=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},YR=t=>PA([t.el(),re.HTMLMediaElement.prototype,re.Element.prototype,QR],"innerHTML"),FA=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=YR(t),i=o=>(...s)=>{const a=o.apply(e,s);return E0(t),a};["append","appendChild","insertAdjacentHTML"].forEach(o=>{e[o]&&(r[o]=e[o],e[o]=i(r[o]))}),Object.defineProperty(e,"innerHTML",Gt(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(o=>{e[o]=r[o]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},KR=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Wx(re.Element.prototype.getAttribute.call(this,"src")):""},set(t){return re.Element.prototype.setAttribute.call(this,"src",t),t}}),XR=t=>PA([t.el(),re.HTMLMediaElement.prototype,KR],"src"),JR=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=XR(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Gt(r,{set:o=>{const s=r.set.call(e,o);return t.triggerSourceset(e.src),s}})),e.setAttribute=(o,s)=>{const a=n.call(e,o,s);return/src/i.test(o)&&t.triggerSourceset(e.src),a},e.load=()=>{const o=i.call(e);return E0(t)||(t.triggerSourceset(""),FA(t)),o},e.currentSrc?t.triggerSourceset(e.currentSrc):E0(t)||FA(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class qe extends ht{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const o=this.el_.childNodes;let s=o.length;const a=[];for(;s--;){const l=o[s];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&zf(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&xt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(nu||Df)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),qe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){JR(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let o=0;o<e.length;o++){const s=e[o];s.kind==="metadata"&&r.push({track:s,storedMode:s.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let o=0;o<r.length;o++){const s=r[o];s.track.mode==="disabled"&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=Xn[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const o={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[gl.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},s=function(){const a=[];for(let l=0;l<i.length;l++){let d=!1;for(let f=0;f<n.length;f++)if(n[f]===i[l]){d=!0;break}d||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[r.getterName+"Listeners_"]=o,Object.keys(o).forEach(a=>{const l=o[a];n.addEventListener(a,l),this.on("dispose",d=>n.removeEventListener(a,l))}),this.on("loadstart",s),this.on("dispose",a=>this.off("loadstart",s))}proxyNativeTracks_(){Xn.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),qe.disposeMediaElement(e),e=n}else{e=Be.createElement("video");const n=this.options_.tag&&is(this.options_.tag),i=Gt({},n);(!nu||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,vx(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&ul(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],o=this.options_[i];typeof o<"u"&&(o?ul(e,i,i):Of(e,i),e[i]=o)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const o=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",o),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Mf?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){xt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Yi&&Ki&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ji(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){qe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Be.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),re.performance&&(e.creationTime=re.performance.now()),e}}Cf(qe,"TEST_VID",function(){if(!ll())return;const t=Be.createElement("video"),e=Be.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}),qe.isSupported=function(){try{qe.TEST_VID.volume=.5}catch{return!1}return!!(qe.TEST_VID&&qe.TEST_VID.canPlayType)},qe.canPlayType=function(t){return qe.TEST_VID.canPlayType(t)},qe.canPlaySource=function(t,e){return qe.canPlayType(t.type)},qe.canControlVolume=function(){try{const t=qe.TEST_VID.volume;qe.TEST_VID.volume=t/2+.1;const e=t!==qe.TEST_VID.volume;return e&&nn?(re.setTimeout(()=>{qe&&qe.prototype&&(qe.prototype.featuresVolumeControl=t!==qe.TEST_VID.volume)}),!1):e}catch{return!1}},qe.canMuteVolume=function(){try{const t=qe.TEST_VID.muted;return qe.TEST_VID.muted=!t,qe.TEST_VID.muted?ul(qe.TEST_VID,"muted","muted"):Of(qe.TEST_VID,"muted","muted"),t!==qe.TEST_VID.muted}catch{return!1}},qe.canControlPlaybackRate=function(){if(Yi&&Ki&&Ef<58)return!1;try{const t=qe.TEST_VID.playbackRate;return qe.TEST_VID.playbackRate=t/2+.1,t!==qe.TEST_VID.playbackRate}catch{return!1}},qe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Be.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Be.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Be.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Be.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},qe.supportsNativeTextTracks=function(){return Mf||nn&&Ki},qe.supportsNativeVideoTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.videoTracks)},qe.supportsNativeAudioTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.audioTracks)},qe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Cf(qe.prototype,t,()=>qe[e](),!0)}),qe.prototype.featuresVolumeControl=qe.canControlVolume(),qe.prototype.movingMediaElementInDOM=!nn,qe.prototype.featuresFullscreenResize=!0,qe.prototype.featuresProgressEvents=!0,qe.prototype.featuresTimeupdateEvents=!0,qe.prototype.featuresVideoFrameCallback=!!(qe.TEST_VID&&qe.TEST_VID.requestVideoFrameCallback),qe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}},qe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){qe.prototype["set"+cr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){qe.prototype["set"+cr(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]()}}),ht.withSourceHandlers(qe),qe.nativeSourceHandler={},qe.nativeSourceHandler.canPlayType=function(t){try{return qe.TEST_VID.canPlayType(t)}catch{return""}},qe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return qe.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=r0(t.src);return qe.nativeSourceHandler.canPlayType(`video/${r}`)}return""},qe.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)},qe.nativeSourceHandler.dispose=function(){},qe.registerSourceHandler(qe.nativeSourceHandler),ht.registerTech("Html5",qe);const UA=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],S0={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},k0=["tiny","xsmall","small","medium","large","xlarge","huge"],Qf={};k0.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Qf[t]=`vjs-layout-${e}`});const ZR={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Kt extends ke{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${Ti()}`,r=Object.assign(Kt.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const s=e.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=s=>this.documentFullscreenChange_(s),this.boundFullWindowOnEscKey_=s=>this.fullWindowOnEscKey(s),this.boundUpdateStyleEl_=s=>this.updateStyleEl_(s),this.boundApplyInitTime_=s=>this.applyInitTime_(s),this.boundUpdateCurrentBreakpoint_=s=>this.updateCurrentBreakpoint_(s),this.boundHandleTechClick_=s=>this.handleTechClick_(s),this.boundHandleTechDoubleClick_=s=>this.handleTechDoubleClick_(s),this.boundHandleTechTouchStart_=s=>this.handleTechTouchStart_(s),this.boundHandleTechTouchMove_=s=>this.handleTechTouchMove_(s),this.boundHandleTechTouchEnd_=s=>this.handleTechTouchEnd_(s),this.boundHandleTechTap_=s=>this.handleTechTap_(s),this.isFullscreen_=!1,this.log=sx(this.id_),this.fsApi_=Af,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&is(e),this.language(this.options_.language),r.languages){const s={};Object.getOwnPropertyNames(r.languages).forEach(function(a){s[a.toLowerCase()]=r.languages[a]}),this.languages_=s}else this.languages_=Kt.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(s=>{if(typeof this[s]!="function")throw new Error(`plugin "${s}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Gg(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Fn(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Gt(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(s=>{this[s](r.plugins[s])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const a=new re.DOMParser().parseFromString(TR,"image/svg+xml");if(a.querySelector("parsererror"))xt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const d=a.documentElement;d.style.display="none",this.el_.appendChild(d),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),nu&&this.addClass("vjs-touch-enabled"),nn||this.addClass("vjs-workinghover"),Kt.players[this.id_]=this;const o=Mg.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",s=>this.listenForUserActivity_(s)),this.on("keydown",s=>this.handleKeyDown(s)),this.on("languagechange",s=>this.handleLanguagechange(s)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Hr(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Hr(Be,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Kt.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),_R(this),sn.names.forEach(e=>{const r=sn[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const o=is(e);if(i){for(r=this.el_=e,e=this.tag=Be.createElement("video");r.children.length;)e.appendChild(r.firstChild);iu(r,"video-js")||Vs(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),o.tabindex="-1",Ki&&kf&&(e.setAttribute("role","application"),o.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(l){i&&l==="class"||r.setAttribute(l,o[l]),i&&e.setAttribute(l,o[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE"].filter(l=>px[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),re.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Dx("vjs-styles-dimensions");const l=os(".vjs-styles-defaults"),d=os("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const d=a.item(l);Vs(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),Fg(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){xt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){xt.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Io(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),JB(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(re.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(a>=0&&(d.width=a),l>=0&&(d.height=l));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const o=n.split(":"),s=o[1]/o[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/s:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*s,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),Mx(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${s*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=cr(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(ht.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let o=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(o=!1);const s={source:r,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};sn.names.forEach(l=>{const d=sn[l];s[d.getterName]=this[d.privateName]}),Object.assign(s,this.options_[n]),Object.assign(s,this.options_[i]),Object.assign(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);const a=ht.getTech(e);if(!a)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new a(s),this.tech_.ready(Qt(this,this.handleTechReady_),!0),Vx.jsonToTextTracks(this.textTracksJson_||[],this.tech_),UA.forEach(l=>{this.on(this.tech_,l,d=>this[`handleTech${cr(l)}_`](d))}),Object.keys(S0).forEach(l=>{this.on(this.tech_,l,d=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${S0[l]}_`].bind(this),event:d});return}this[`handleTech${S0[l]}_`](d)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,d)=>this.handleTechFullscreenChange_(l,d)),this.on(this.tech_,"fullscreenerror",(l,d)=>this.handleTechFullscreenError_(l,d)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&Fg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){sn.names.forEach(e=>{const r=sn[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=Vx.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&xt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Mg}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const o=()=>{this.muted(i)};this.playTerminatedQueue_.push(o);const s=this.play();if(cu(s))return s.catch(a=>{throw o(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),cu(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!cu(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=AR(this,r)),this.cache_.source=Gt({},e,{src:r,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===r),o=[],s=this.$$("source"),a=[];for(let l=0;l<s.length;l++){const d=is(s[l]);o.push(d),d.src&&d.src===r&&a.push(d.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=o=>this.updateSourceCaches_(o);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],o=>{if(o.type==="sourceset")return;const s=this.techGet_("currentSrc");this.lastSource_.tech=s,this.updateSourceCaches_(s)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ji(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=Be[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in bR)return gR(this.middleware_,this.tech_,e,r);if(e in Jx)return Xx(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw xt(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in yR)return mR(this.middleware_,this.tech_,e);if(e in Jx)return Xx(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(xt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(xt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(xt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ji){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(Mf||nn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Ci(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Ci(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Ci(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return zx(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function o(){r.off("fullscreenerror",a),r.off("fullscreenchange",s)}function s(){o(),n()}function a(d,f){o(),i(f)}r.one("fullscreenchange",s),r.one("fullscreenerror",a);const l=r.requestFullscreenHelper_(e);l&&(l.then(o,o),l.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",s),e.off("fullscreenchange",o)}function o(){i(),r()}function s(l,d){i(),n(d)}e.one("fullscreenchange",o),e.one("fullscreenerror",s);const a=e.exitFullscreenHelper_();a&&(a.then(i,i),a.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Be[this.fsApi_.exitFullscreen]();return e&&Ji(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Be.documentElement.style.overflow,Fn(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow="hidden",Vs(Be.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){dt.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Hr(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow=this.docOrigOverflow,Nf(Be.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&re.documentPictureInPicture){const e=Be.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(yt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),re.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(Sx(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Be&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(re.documentPictureInPicture&&re.documentPictureInPicture.window)return re.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Be)return Be.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const o=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const s=["button","checkbox","hidden","radio","reset","submit"];return o==="input"?s.indexOf(i.type)===-1:["textarea"].indexOf(o)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=s=>dt.isEventKey(s,"f"),muteKey:i=s=>dt.isEventKey(s,"m"),playPauseKey:o=s=>dt.isEventKey(s,"k")||dt.isEventKey(s,"Space")}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const s=ke.getComponent("FullscreenToggle");Be[this.fsApi_.fullscreenEnabled]!==!1&&s.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),ke.getComponent("MuteToggle").prototype.handleClick.call(this,e)):o.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ke.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const o=i[n];let s=ht.getTech(o);if(s||(s=ke.getComponent(o)),!s){xt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`);continue}if(s.isSupported()&&(r=s.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(a=>[a,ht.getTech(a)]).filter(([a,l])=>l?l.isSupported():(xt.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(a,l,d){let f;return a.some(u=>l.some(h=>{if(f=d(u,h),f)return!0})),f};let i;const o=a=>(l,d)=>a(d,l),s=([a,l],d)=>{if(l.canPlaySource(d,this.options_[a.toLowerCase()]))return{source:d,tech:a}};return this.options_.sourceOrder?i=n(e,r,o(s)):i=n(r,e,s),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=Zx(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),hR(this,n[0],(i,o)=>{if(this.middleware_=o,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}pR(o,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},o=()=>{this.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",o)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?Px(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ji(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Io(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:o}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),o&&(o.update(),o.loadProgressBar&&o.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ts("beforeerror").forEach(r=>{const n=r(this,e);if(!(Qi(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new or(e),this.addClass("vjs-error"),xt.error(`(CODE:${this.error_.code} ${or.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ts("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=Qt(this,this.reportUserActivity),o=function(u){(u.screenX!==r||u.screenY!==n)&&(r=u.screenX,n=u.screenY,i())},s=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(u){i(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",o),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!nn&&!Yi&&(l.on("mouseenter",function(u){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(u){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let d;const f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);const u=this.options_.inactivityTimeout;u<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},u))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Io(this)&&this.trigger("languagechange"))}languages(){return Gt(Kt.prototype.options_.languages,this.languages_)}toJSON(){const e=Gt(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=Gt(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new pl(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<k0.length;n++){const i=k0[n],o=this.breakpoints_[i];if(r<=o){if(e===i)return;e&&this.removeClass(Qf[e]),this.addClass(Qf[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},ZR,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Qf[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Gt(e);const{artist:i,artwork:o,description:s,poster:a,src:l,textTracks:d,title:f}=this.cache_.media;!o&&a&&(this.cache_.media.artwork=[{src:a,type:Hf(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(d)&&d.forEach(u=>this.addRemoteTextTrack(u,!1)),this.titleBar&&this.titleBar.update({title:f,description:s||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),o=>({kind:o.kind,label:o.label,language:o.language,src:o.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:Hf(i.poster)}]),i}return Gt(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=is(e),i=n["data-setup"];if(iu(e,"vjs-fill")&&(n.fill=!0),iu(e,"vjs-fluid")&&(n.fluid=!0),i!==null){const[o,s]=$O(i||"{}");o&&xt.error(o),Object.assign(n,s)}if(Object.assign(r,n),e.hasChildNodes()){const o=e.childNodes;for(let s=0,a=o.length;s<a;s++){const l=o[s],d=l.nodeName.toLowerCase();d==="source"?r.sources.push(is(l)):d==="track"&&r.tracks.push(is(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}sn.names.forEach(function(t){const e=sn[t];Kt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Kt.prototype.crossorigin=Kt.prototype.crossOrigin,Kt.players={};const mu=re.navigator;Kt.prototype.options_={techOrder:ht.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:mu&&(mu.languages&&mu.languages[0]||mu.userLanguage||mu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,enableSmoothSeeking:!1},UA.forEach(function(t){Kt.prototype[`handleTech${cr(t)}_`]=function(){return this.trigger(t)}}),ke.registerComponent("Player",Kt);const Yf="plugin",vl="activePlugins_",_l={},Kf=t=>_l.hasOwnProperty(t),Xf=t=>Kf(t)?_l[t]:void 0,jA=(t,e)=>{t[vl]=t[vl]||{},t[vl][e]=!0},Jf=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},eP=function(t,e){const r=function(){Jf(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return jA(this,t),Jf(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},$A=(t,e)=>(e.prototype.name=t,function(...r){Jf(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,Jf(this,n.getEventHash()),n});class xn{constructor(e){if(this.constructor===xn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Gg(this),delete this.trigger,Rx(this,this.constructor.defaultState),jA(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return hl(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[vl][e]=!1,this.player=this.state=null,r[e]=$A(e,_l[e])}static isBasic(e){const r=typeof e=="string"?Xf(e):e;return typeof r=="function"&&!xn.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Kf(e))xt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Kt.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return _l[e]=r,e!==Yf&&(xn.isBasic(r)?Kt.prototype[e]=eP(e,r):Kt.prototype[e]=$A(e,r)),r}static deregisterPlugin(e){if(e===Yf)throw new Error("Cannot de-register base plugin.");Kf(e)&&(delete _l[e],delete Kt.prototype[e])}static getPlugins(e=Object.keys(_l)){let r;return e.forEach(n=>{const i=Xf(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=Xf(e);return r&&r.VERSION||""}}xn.getPlugin=Xf,xn.BASE_PLUGIN_NAME=Yf,xn.registerPlugin(Yf,xn),Kt.prototype.usingPlugin=function(t){return!!this[vl]&&this[vl][t]===!0},Kt.prototype.hasPlugin=function(t){return!!Kf(t)};function tP(t,e){let r=!1;return function(...n){return r||xt.warn(t),r=!0,e.apply(this,n)}}function Ei(t,e,r,n){return tP(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}var rP={UnsupportedSidxContainer:"unsupported-sidx-container-error",DashManifestSidxParsingError:"dash-manifest-sidx-parsing-error",HlsPlaylistRequestError:"hls-playlist-request-error",SegmentUnsupportedMediaFormat:"segment-unsupported-media-format-error",UnsupportedMediaInitialization:"unsupported-media-initialization-error",SegmentSwitchError:"segment-switch-error",SegmentExceedsSourceBufferQuota:"segment-exceeds-source-buffer-quota-error",SegmentAppendError:"segment-append-error",VttLoadError:"vtt-load-error",VttCueParsingError:"vtt-cue-parsing-error",AdsBeforePrerollError:"ads-before-preroll-error",AdsPrerollError:"ads-preroll-error",AdsMidrollError:"ads-midroll-error",AdsPostrollError:"ads-postroll-error",AdsMacroReplacementFailed:"ads-macro-replacement-failed",AdsResumeContentFailed:"ads-resume-content-failed",EMEFailedToRequestMediaKeySystemAccess:"eme-failed-request-media-key-system-access",EMEFailedToCreateMediaKeys:"eme-failed-create-media-keys",EMEFailedToAttachMediaKeysToVideoElement:"eme-failed-attach-media-keys-to-video",EMEFailedToCreateMediaKeySession:"eme-failed-create-media-key-session",EMEFailedToSetServerCertificate:"eme-failed-set-server-certificate",EMEFailedToGenerateLicenseRequest:"eme-failed-generate-license-request",EMEFailedToUpdateSessionWithReceivedLicenseKeys:"eme-failed-update-session",EMEFailedToCloseSession:"eme-failed-close-session",EMEFailedToRemoveKeysFromSession:"eme-failed-remove-keys",EMEFailedToLoadSessionBySessionId:"eme-failed-load-session"};const zA=t=>t.indexOf("#")===0?t.slice(1):t;function ye(t,e,r){let n=ye.getPlayer(t);if(n)return e&&xt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?os("#"+zA(t)):t;if(!cl(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s=("getRootNode"in i?i.getRootNode()instanceof re.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!s.contains(i))&&xt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),ts("beforesetup").forEach(l=>{const d=l(i,Gt(e));if(!Qi(d)||Array.isArray(d)){xt.error("please return an object in beforesetup hooks");return}e=Gt(e,d)});const a=ke.getComponent("Player");return n=new a(i,e,r),ts("setup").forEach(l=>l(n)),n}if(ye.hooks_=ko,ye.hooks=ts,ye.hook=jB,ye.hookOnce=$B,ye.removeHook=ix,re.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&ll()){let t=os(".vjs-styles-defaults");if(!t){t=Dx("vjs-styles-defaults");const e=os("head");e&&e.insertBefore(t,e.firstChild),Mx(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}$g(1,ye),ye.VERSION=Mg,ye.options=Kt.prototype.options_,ye.getPlayers=()=>Kt.players,ye.getPlayer=t=>{const e=Kt.players;let r;if(typeof t=="string"){const n=zA(t),i=e[n];if(i)return i;r=os("#"+n)}else r=t;if(cl(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}},ye.getAllPlayers=()=>Object.keys(Kt.players).map(t=>Kt.players[t]).filter(Boolean),ye.players=Kt.players,ye.getComponent=ke.getComponent,ye.registerComponent=(t,e)=>(ht.isTech(e)&&xt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),ke.registerComponent.call(ke,t,e)),ye.getTech=ht.getTech,ye.registerTech=ht.registerTech,ye.use=fR,Object.defineProperty(ye,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ye.middleware,"TERMINATOR",{value:Vf,writeable:!1,enumerable:!0}),ye.browser=px,ye.obj=HB,ye.mergeOptions=Ei(9,"videojs.mergeOptions","videojs.obj.merge",Gt),ye.defineLazyProperty=Ei(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Cf),ye.bind=Ei(9,"videojs.bind","native Function.prototype.bind",Qt),ye.registerPlugin=xn.registerPlugin,ye.deregisterPlugin=xn.deregisterPlugin,ye.plugin=(t,e)=>(xt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),xn.registerPlugin(t,e)),ye.getPlugins=xn.getPlugins,ye.getPlugin=xn.getPlugin,ye.getPluginVersion=xn.getPluginVersion,ye.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ye.options.languages=Gt(ye.options.languages,{[t]:e}),ye.options.languages[t]},ye.log=xt,ye.createLogger=sx,ye.time=nR,ye.createTimeRange=Ei(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Ci),ye.createTimeRanges=Ei(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Ci),ye.formatTime=Ei(9,"videojs.formatTime","videojs.time.formatTime",qs),ye.setFormatTime=Ei(9,"videojs.setFormatTime","videojs.time.setFormatTime",jx),ye.resetFormatTime=Ei(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",$x),ye.parseUrl=Ei(9,"videojs.parseUrl","videojs.url.parseUrl",t0),ye.isCrossOrigin=Ei(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",zf),ye.EventTarget=Kn,ye.any=Hg,ye.on=Fn,ye.one=Ff,ye.off=Hr,ye.trigger=hl,ye.xhr=k_,ye.TextTrack=uu,ye.AudioTrack=Yx,ye.VideoTrack=Kx,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ye[t]=function(){return xt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),kx[t].apply(null,arguments)}}),ye.computedStyle=Ei(9,"videojs.computedStyle","videojs.dom.computedStyle",fl),ye.dom=kx,ye.fn=XB,ye.num=NR,ye.str=tR,ye.url=uR,ye.Error=rP;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class nP{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class Zf extends ye.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new nP(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Zf.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in Zf.prototype.allowedEvents_)Zf.prototype["on"+t]=null;var VA="4.1.0";const iP=function(t,e){const r=t.qualityLevels,n=new Zf,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=VA,n},HA=function(t){return iP(this,ye.obj.merge({},t))};ye.registerPlugin("qualityLevels",HA),HA.VERSION=VA;/*! @name @videojs/http-streaming @version 3.12.1 @license Apache-2.0 */const An=af,eh=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Zn=t=>ye.log.debug?ye.log.debug.bind(ye,"VHS:",`${t} >`):function(){};function Pt(...t){const e=ye.obj||ye;return(e.merge||e.mergeOptions).apply(e,t)}function qr(...t){const e=ye.time||ye;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function oP(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const n=t.start(r),i=t.end(r);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const Zi=1/30,eo=Zi*3,qA=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return qr(r)},wl=function(t,e){return qA(t,function(r,n){return r-eo<=e&&n+eo>=e})},th=function(t,e){return qA(t,function(r){return r-Zi>=e})},sP=function(t){if(t.length<2)return qr();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return qr(e)},aP=function(t,e){let r=null,n=null,i=0;const o=[],s=[];if(!t||!t.length||!e||!e.length)return qr();let a=t.length;for(;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(a=e.length;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(o.sort(function(l,d){return l.time-d.time}),a=0;a<o.length;a++)o[a].type==="start"?(i++,i===2&&(r=o[a].time)):o[a].type==="end"&&(i--,i===1&&(n=o[a].time)),r!==null&&n!==null&&(s.push([r,n]),r=null,n=null);return qr(s)},WA=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},lP=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},Ys=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},cP=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},I0=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},D0=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),o=t.end(n);if(!(e>o)){if(e>i&&e<=o){r+=o-e;continue}r+=o-i}}return r},M0=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},N0=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,o){e.push({duration:i.duration,segmentIndex:n,partIndex:o,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),GA=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},QA=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,o)=>i+(o.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},YA=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=GA(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},uP=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=M0(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},dP=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=M0(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},KA=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=uP(t,e);if(n.precise)return n.result;const i=dP(t,e);return i.precise?i.result:n.result+r},XA=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return re.Infinity}return KA(t,e,r)},gu=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let o=r;o<Math.min(0,n);o++)i+=t;r=0}for(let o=r;o<n;o++)i+=e[o].duration;return i},JA=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return XA(t);if(e===null)return null;e=e||0;let i=KA(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:YA(null,t),i-=n),Math.max(0,i)},fP=function(t,e,r){const i=e||0;let o=JA(t,e,!0,r);return o===null?qr():(o<i&&(o=i),qr(i,o))},hP=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:o}){let s=e-i;const a=N0(t);let l=0;for(let d=0;d<a.length;d++){const f=a[d];if(r===f.segmentIndex&&!(typeof n=="number"&&typeof f.partIndex=="number"&&n!==f.partIndex)){l=d;break}}if(s<0){if(l>0)for(let d=l-1;d>=0;d--){const f=a[d];if(s+=f.duration,o){if(s<0)continue}else if(s+Zi<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i-gu({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:d})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let d=l;d<0;d++)if(s-=t.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let d=l;d<a.length;d++){const f=a[d];s-=f.duration;const u=f.duration>Zi,h=s===0,p=u&&s+Zi>=0;if(!((h||p)&&d!==a.length-1)){if(o){if(s>0)continue}else if(s-Zi>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i+gu({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:d})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},ZA=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},O0=function(t){return t.excludeUntil&&t.excludeUntil===1/0},rh=function(t){const e=ZA(t);return!t.disabled&&!e},pP=function(t){return t.disabled},mP=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},eT=function(t,e){return e.attributes&&e.attributes[t]},gP=function(t,e,r,n=0){return eT("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},L0=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>rh(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},B0=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),tT=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const o in r[i])if(n=e(r[i][o]),n)break;if(n)break}return!!n},yu=t=>{if(!t||!t.playlists||!t.playlists.length)return tT(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(o=>z_(o))||tT(t,o=>B0(r,o))))return!1}return!0};var Tn={liveEdgeDelay:YA,duration:XA,seekable:fP,getMediaInfoForTime:hP,isEnabled:rh,isDisabled:pP,isExcluded:ZA,isIncompatible:O0,playlistEnd:JA,isAes:mP,hasAttribute:eT,estimateSegmentRequestTime:gP,isLowestEnabledRendition:L0,isAudioOnly:yu,playlistMatch:B0,segmentDurationWithParts:M0};const{log:rT}=ye,xl=(t,e)=>`${t}-${e}`,nT=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,yP=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:o})=>{const s=new PL;t&&s.on("warn",t),e&&s.on("info",e),n.forEach(d=>s.addParser(d)),i.forEach(d=>s.addTagMapper(d)),s.push(r),s.end();const a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(d){a.hasOwnProperty(d)&&delete a[d]}),a.segments&&a.segments.forEach(function(d){["parts","preloadHints"].forEach(function(f){d.hasOwnProperty(f)&&delete d[f]})})),!a.targetDuration){let d=10;a.segments&&a.segments.length&&(d=a.segments.reduce((f,u)=>Math.max(f,u.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${d}`}),a.targetDuration=d}const l=GA(a);if(l.length&&!a.partTargetDuration){const d=l.reduce((f,u)=>Math.max(f,u.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${d}`}),rT.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=d}return a},Al=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const o=t.mediaGroups[r][n][i];e(o,r,n,i)}})},iT=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},bP=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];iT({playlist:r,id:xl(e,r.uri)}),r.resolvedUri=An(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||rT.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},vP=t=>{Al(t,e=>{e.uri&&(e.resolvedUri=An(t.uri,e.uri))})},_P=(t,e)=>{const r=xl(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:re.location.href,resolvedUri:re.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},oT=(t,e,r=nT)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const o=`placeholder-uri-${i}`;t.playlists[i].uri=o}const n=yu(t);Al(t,(i,o,s,a)=>{if(!i.playlists||!i.playlists.length){if(n&&o==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const d=t.playlists[l];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===s)return}i.playlists=[xi({},i)]}i.playlists.forEach(function(l,d){const f=r(o,s,a,l),u=xl(d,f);l.uri?l.resolvedUri=l.resolvedUri||An(t.uri,l.uri):(l.uri=d===0?f:u,l.resolvedUri=l.uri),l.id=l.id||u,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),bP(t),vP(t)};class sT{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,o)=>(i.set(o.id,o),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const o=e[n.class].push(n);n.classListIndex=o-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const{EventTarget:wP}=ye,xP=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const o=n.parts||[],s=QA(e)-1;s>-1&&s!==o.length-1&&(r._HLS_part=s),(s>-1||o.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new re.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},AP=(t,e)=>{if(!t)return e;const r=Pt(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=Pt(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},TP=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const o=[];let s;for(let a=0;a<i.length;a++){const l=n[a+r],d=i[a];l?(s=l.map||s,o.push(AP(l,d))):(s&&!d.map&&(d.map=s),o.push(d))}return o},aT=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=An(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=An(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=An(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=An(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=An(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=An(e,r.uri))})},lT=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},cT=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,R0=(t,e,r=cT)=>{const n=Pt(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=lT(e);const o=Pt(i,e);if(o.preloadSegment&&!e.preloadSegment&&delete o.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let s=0;s<e.skip.skippedSegments;s++)e.segments.unshift({skipped:!0})}o.segments=TP(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}o.segments.forEach(s=>{aT(s,o.resolvedUri)});for(let s=0;s<n.playlists.length;s++)n.playlists[s].id===e.id&&(n.playlists[s]=o);return n.playlists[e.id]=o,n.playlists[e.uri]=o,Al(t,(s,a,l,d)=>{if(s.playlists)for(let f=0;f<s.playlists.length;f++)e.id===s.playlists[f].id&&(s.playlists[f]=o)}),n},P0=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],o=i&&i.duration||n&&n.duration;return e&&o?o*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class Tl extends wP{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Zn("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const o=r.options_;this.customTagParsers=o&&o.customTagParsers||[],this.customTagMappers=o&&o.customTagMappers||[],this.llhls=o&&o.llhls,this.dateRangesStorage_=new sT,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=An(this.main.uri,e.uri);this.llhls&&(r=xP(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:o}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[o],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:{errorType:ye.Error.HlsPlaylistRequestError}},this.trigger("error")}parseManifest_({url:e,manifestString:r}){return yP({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const o=r||this.parseManifest_({url:n,manifestString:e});o.lastRequest=Date.now(),iT({playlist:o,uri:n,id:i});const s=R0(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,s?(this.main=s,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(P0(this.media(),!!s)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),re.clearTimeout(this.mediaUpdateTimeout),re.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new sT,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(re.clearTimeout(this.finalRenditionTimeout),r){const s=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=re.setTimeout(this.media.bind(this,e,!1),s);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(P0(e,!0)),!!i){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(s,a)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=eh(e.resolvedUri,a),s)return this.playlistRequestError(this.request,e,n);this.haveMetadata({playlistString:a.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(re.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(re.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=re.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(re.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=re.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=re.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(e,r)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:{errorType:ye.Error.HlsPlaylistRequestError}},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=eh(this.src,r);const n=this.parseManifest_({manifestString:r.responseText,url:this.src});this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,oT(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=lT(n),n.segments.forEach(i=>{aT(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||re.location.href;this.main=_P(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let o=n.playlists.length;for(;o--;){const s=n.playlists[o];if(s.attributes["PATHWAY-ID"]===i){const a=s.resolvedUri,l=s.id;if(r){const d=this.createCloneURI_(s.resolvedUri,e),f=xl(i,d),u=this.createCloneAttributes_(i,s.attributes),h=this.createClonePlaylist_(s,f,e,u);n.playlists[o]=h,n.playlists[f]=h,n.playlists[d]=h}else n.playlists.splice(o,1);delete n.playlists[l],delete n.playlists[a]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!n.mediaGroups[o]||!n.mediaGroups[o][i])){for(const s in n.mediaGroups[o])if(s===i){for(const a in n.mediaGroups[o][s])n.mediaGroups[o][s][a].playlists.forEach((d,f)=>{const u=n.playlists[d.id],h=u.id,p=u.resolvedUri;delete n.playlists[h],delete n.playlists[p]});delete n.mediaGroups[o][s]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,o=this.createCloneURI_(r.resolvedUri,e),s=xl(e.ID,o),a=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,s,e,a);n.playlists[i]=l,n.playlists[s]=l,n.playlists[o]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!i.mediaGroups[o]||i.mediaGroups[o][r]))for(const s in i.mediaGroups[o]){if(s===n)i.mediaGroups[o][r]={};else continue;for(const a in i.mediaGroups[o][s]){const l=i.mediaGroups[o][s][a];i.mediaGroups[o][r][a]=xi({},l);const d=i.mediaGroups[o][r][a],f=this.createCloneURI_(l.resolvedUri,e);d.resolvedUri=f,d.uri=f,d.playlists=[],l.playlists.forEach((u,h)=>{const p=i.playlists[u.id],m=nT(o,r,a),y=xl(r,m);if(p&&!i.playlists[y]){const v=this.createClonePlaylist_(p,y,e),b=v.resolvedUri;i.playlists[y]=v,i.playlists[b]=v}d.playlists[h]=this.createClonePlaylist_(u,y,e)})}}})}createClonePlaylist_(e,r,n,i){const o=this.createCloneURI_(e.resolvedUri,n),s={resolvedUri:o,uri:o,id:r};return e.segments&&(s.segments=[]),i&&(s.attributes=i),Pt(e,s)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const o of Object.keys(i))n.searchParams.set(o,i[o]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const F0=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},CP=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},EP=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},uT=function(){const t=function e(r,n){r=Pt({timeout:45e3},r);const i=e.beforeRequest||ye.Vhs.xhr.beforeRequest,o=e._requestCallbackSet||ye.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||ye.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(ye.log.warn("beforeRequest is deprecated, use onRequest instead."),o.add(i));const a=ye.Vhs.xhr.original===!0?ye.xhr:ye.Vhs.xhr,l=CP(o,r);o.delete(i);const d=a(l||r,function(u,h){return EP(s,d,u,h),F0(d,u,h,n)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=r.uri,d.requestTime=Date.now(),d};return t.original=!0,t},SP=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=re.BigInt(t.offset)+re.BigInt(t.length)-re.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},U0=function(t){const e={};return t.byterange&&(e.Range=SP(t.byterange)),e},kP=function(t,e){return t.start(e)+"-"+t.end(e)},IP=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},DP=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},dT=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];q_(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},nh=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},fT=function(t){return t.resolvedUri},hT=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,o;for(let s=0;s<e.length/r;s++)i=e.slice(s*r,s*r+r).map(IP).join(""),o=e.slice(s*r,s*r+r).map(DP).join(""),n+=i+" "+o+`
`;return n};var MP=Object.freeze({__proto__:null,createTransferableMessage:dT,initSegmentId:nh,segmentKeyId:fT,hexDump:hT,tagDump:({bytes:t})=>hT(t),textRanges:t=>{let e="",r;for(r=0;r<t.length;r++)e+=kP(t,r)+" ";return e}});const pT=.25,NP=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,o=t-i;return new Date(e.dateTimeObject.getTime()+o*1e3)},OP=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,LP=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const d=new Date(e.segments[l+1].dateTimeObject);if(r<d)break}const i=e.segments[e.segments.length-1],o=i.dateTimeObject,s=i.videoTimingInfo?OP(i.videoTimingInfo):i.duration+i.duration*pT,a=new Date(o.getTime()+s*1e3);return r>a?null:(r>new Date(o)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Tn.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},BP=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let o=0;o<e.segments.length&&(n=e.segments[o],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));o++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*pT)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},RP=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},PP=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},FP=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=BP(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},o=NP(e,n.segment);return o&&(i.programDateTime=o.toISOString()),r(null,i)},mT=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!PP(e))return s({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=LP(t,e);if(!a)return s({message:`${t} was not found in the stream`});const l=a.segment,d=RP(l.dateTimeObject,t);if(a.type==="estimate"){if(r===0)return s({message:`${t} is not buffered yet. Try again`});n(a.estimatedStart+d),o.one("seeked",()=>{mT({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:o,callback:s})});return}const f=l.start+d,u=()=>s(null,o.currentTime());o.one("seeked",u),i&&o.pause(),n(f)},j0=(t,e)=>{if(t.readyState===4)return e()},UP=(t,e,r)=>{let n=[],i,o=!1;const s=function(f,u,h,p){return u.abort(),o=!0,r(f,u,h,p)},a=function(f,u){if(o)return;if(f)return s(f,u,"",n);const h=u.responseText.substring(n&&n.byteLength||0,u.responseText.length);if(n=YL(n,W_(h,!0)),i=i||tu(n),n.length<10||i&&n.length<i+2)return j0(u,()=>s(f,u,"",n));const p=Eg(n);return p==="ts"&&n.length<188?j0(u,()=>s(f,u,"",n)):!p&&n.length<376?j0(u,()=>s(f,u,"",n)):s(null,u,p,n)},d=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:u,loaded:h}){return F0(f,null,{statusCode:f.status},a)})}},function(f,u){return F0(d,f,u,a)});return d},{EventTarget:jP}=ye,gT=function(t,e){if(!cT(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const o=n.byterange,s=i.byterange;if(o&&!s||!o&&s||o.offset!==s.offset||o.length!==s.length)return!1}return!0},$P=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},zP=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const o=bB(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return oT(o,e,$P),o},VP=(t,e)=>{Al(t,(r,n,i,o)=>{o in e.mediaGroups[n][i]||delete t.mediaGroups[n][i][o]})},HP=(t,e,r)=>{let n=!0,i=Pt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let o=0;o<e.playlists.length;o++){const s=e.playlists[o];if(s.sidx){const l=bf(s.sidx);r&&r[l]&&r[l].sidx&&_g(s,r[l].sidx,s.sidx.resolvedUri)}const a=R0(i,s,gT);a&&(i=a,n=!1)}return Al(e,(o,s,a,l)=>{if(o.playlists&&o.playlists.length){const d=o.playlists[0].id,f=R0(i,o.playlists[0],gT);f&&(i=f,l in i.mediaGroups[s][a]||(i.mediaGroups[s][a][l]=o),i.mediaGroups[s][a][l].playlists[0]=i.playlists[d],n=!1)}}),VP(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},qP=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,yT=(t,e)=>{const r={};for(const n in t){const o=t[n].sidx;if(o){const s=bf(o);if(!e[s])break;const a=e[s].sidxInfo;qP(a,o)&&(r[s]=e[s])}}return r},WP=(t,e)=>{let n=yT(t.playlists,e);return Al(t,(i,o,s,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Pt(n,yT(l,e))}}),n};class $0 extends jP{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:o=!1}=n;if(this.vhs_=r,this.withCredentials=o,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Zn("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&bf(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=re.setTimeout(()=>n(!1),0);return}const o=eh(e.sidx.resolvedUri),s=(a,l)=>{if(this.requestErrored_(a,l,r))return;const d=this.mainPlaylistLoader_.sidxMapping_;let f;try{f=TB(et(l.response).subarray(8))}catch(u){u.metadata={errorType:ye.Error.DashManifestSidxParsingError},this.requestErrored_(u,l,r);return}return d[i]={sidxInfo:e.sidx,sidx:f},_g(e,f,e.sidx.resolvedUri),n(!0)};this.request=UP(o,this.vhs_.xhr,(a,l,d,f)=>{if(a)return s(a,l);if(!d||d!=="mp4"){const p=d||"unknown";return s({status:l.status,message:`Unsupported ${p} container type for sidx segment at URL: ${o}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2,metadata:{errorType:ye.Error.UnsupportedSidxContainer,sidxContainer:p}},l)}const{offset:u,length:h}=e.sidx.byterange;if(f.length>=h+u)return s(a,{response:f.subarray(u,u+h),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:U0({byterange:e.sidx.byterange})},s)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},re.clearTimeout(this.minimumUpdatePeriodTimeout_),re.clearTimeout(this.mediaRequest_),re.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),re.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(re.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){re.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=re.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=re.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,n)=>{if(this.requestErrored_(r,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const i=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=eh(this.mainPlaylistLoader_.srcUrl,n),i){this.handleMain_(),this.syncClientServerClock_(()=>e(n,i));return}return e(n,i)})}syncClientServerClock_(e){const r=vB(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:An(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let o;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?o=this.mainLoaded_:o=Date.parse(i.responseHeaders.date):o=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=o-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let r=zP({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(r=HP(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(re.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=re.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=WP(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=re.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},P0(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var Lr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const GP=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},bT=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},QP=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},vT=function(t){return function(){const e=QP(t),r=bT(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},_T=function(t){return`var browserWorkerPolyFill = ${bT.toString()};
browserWorkerPolyFill(self);
`+t},wT=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},YP=_T(wT(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var g={};this.on=function(_,x){g[_]||(g[_]=[]),g[_]=g[_].concat(x)},this.off=function(_,x){var w;return g[_]?(w=g[_].indexOf(x),g[_]=g[_].slice(),g[_].splice(w,1),w>-1):!1},this.trigger=function(_){var x,w,D,N;if(x=g[_],!!x)if(arguments.length===2)for(D=x.length,w=0;w<D;++w)x[w].call(this,arguments[1]);else{for(N=[],w=arguments.length,w=1;w<arguments.length;++w)N.push(arguments[w]);for(D=x.length,w=0;w<D;++w)x[w].apply(this,N)}},this.dispose=function(){g={}}}};e.prototype.pipe=function(g){return this.on("data",function(_){g.push(_)}),this.on("done",function(_){g.flush(_)}),this.on("partialdone",function(_){g.partialFlush(_)}),this.on("endedtimeline",function(_){g.endTimeline(_)}),this.on("reset",function(_){g.reset(_)}),g},e.prototype.push=function(g){this.trigger("data",g)},e.prototype.flush=function(g){this.trigger("done",g)},e.prototype.partialFlush=function(g){this.trigger("partialdone",g)},e.prototype.endTimeline=function(g){this.trigger("endedtimeline",g)},e.prototype.reset=function(g){this.trigger("reset",g)};var r=e,n=Math.pow(2,32),i=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),x;return _.getBigUint64?(x=_.getBigUint64(0),x<Number.MAX_SAFE_INTEGER?Number(x):x):_.getUint32(0)*n+_.getUint32(4)},o={getUint64:i,MAX_UINT32:n},s=o.MAX_UINT32,a,l,d,f,u,h,p,m,y,v,b,A,C,S,M,I,L,k,T,F,z,P,R,$,W,B,U,te,H,O,E,V,K,Y,Q,ae;(function(){var g;if(R={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(g in R)R.hasOwnProperty(g)&&(R[g]=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]);$=new Uint8Array([105,115,111,109]),B=new Uint8Array([97,118,99,49]),W=new Uint8Array([0,0,0,1]),U=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),te=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:U,audio:te},V=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0]),K=new Uint8Array([0,0,0,0,0,0,0,0]),Y=K,Q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ae=K,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(g){var _=[],x=0,w,D,N;for(w=1;w<arguments.length;w++)_.push(arguments[w]);for(w=_.length;w--;)x+=_[w].byteLength;for(D=new Uint8Array(x+8),N=new DataView(D.buffer,D.byteOffset,D.byteLength),N.setUint32(0,D.byteLength),D.set(g,4),w=0,x=8;w<_.length;w++)D.set(_[w],x),x+=_[w].byteLength;return D},l=function(){return a(R.dinf,a(R.dref,V))},d=function(g){return a(R.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,g.audioobjecttype<<3|g.samplingfrequencyindex>>>1,g.samplingfrequencyindex<<7|g.channelcount<<3,6,1,2]))},f=function(){return a(R.ftyp,$,W,$,B)},I=function(g){return a(R.hdlr,H[g])},u=function(g){return a(R.mdat,g)},M=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,g.duration>>>24&255,g.duration>>>16&255,g.duration>>>8&255,g.duration&255,85,196,0,0]);return g.samplerate&&(_[12]=g.samplerate>>>24&255,_[13]=g.samplerate>>>16&255,_[14]=g.samplerate>>>8&255,_[15]=g.samplerate&255),a(R.mdhd,_)},S=function(g){return a(R.mdia,M(g),I(g.type),p(g))},h=function(g){return a(R.mfhd,new Uint8Array([0,0,0,0,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255]))},p=function(g){return a(R.minf,g.type==="video"?a(R.vmhd,O):a(R.smhd,E),l(),k(g))},m=function(g,_){for(var x=[],w=_.length;w--;)x[w]=F(_[w]);return a.apply(null,[R.moof,h(g)].concat(x))},y=function(g){for(var _=g.length,x=[];_--;)x[_]=A(g[_]);return a.apply(null,[R.moov,b(4294967295)].concat(x).concat(v(g)))},v=function(g){for(var _=g.length,x=[];_--;)x[_]=z(g[_]);return a.apply(null,[R.mvex].concat(x))},b=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(R.mvhd,_)},L=function(g){var _=g.samples||[],x=new Uint8Array(4+_.length),w,D;for(D=0;D<_.length;D++)w=_[D].flags,x[D+4]=w.dependsOn<<4|w.isDependedOn<<2|w.hasRedundancy;return a(R.sdtp,x)},k=function(g){return a(R.stbl,T(g),a(R.stts,ae),a(R.stsc,Y),a(R.stsz,Q),a(R.stco,K))},function(){var g,_;T=function(x){return a(R.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),x.type==="video"?g(x):_(x))},g=function(x){var w=x.sps||[],D=x.pps||[],N=[],G=[],X,Z;for(X=0;X<w.length;X++)N.push((w[X].byteLength&65280)>>>8),N.push(w[X].byteLength&255),N=N.concat(Array.prototype.slice.call(w[X]));for(X=0;X<D.length;X++)G.push((D[X].byteLength&65280)>>>8),G.push(D[X].byteLength&255),G=G.concat(Array.prototype.slice.call(D[X]));if(Z=[R.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(x.width&65280)>>8,x.width&255,(x.height&65280)>>8,x.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(R.avcC,new Uint8Array([1,x.profileIdc,x.profileCompatibility,x.levelIdc,255].concat([w.length],N,[D.length],G))),a(R.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],x.sarRatio){var ne=x.sarRatio[0],de=x.sarRatio[1];Z.push(a(R.pasp,new Uint8Array([(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255,(de&4278190080)>>24,(de&16711680)>>16,(de&65280)>>8,de&255])))}return a.apply(null,Z)},_=function(x){return a(R.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(x.channelcount&65280)>>8,x.channelcount&255,(x.samplesize&65280)>>8,x.samplesize&255,0,0,0,0,(x.samplerate&65280)>>8,x.samplerate&255,0,0]),d(x))}}(),C=function(g){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,0,(g.duration&4278190080)>>24,(g.duration&16711680)>>16,(g.duration&65280)>>8,g.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(g.width&65280)>>8,g.width&255,0,0,(g.height&65280)>>8,g.height&255,0,0]);return a(R.tkhd,_)},F=function(g){var _,x,w,D,N,G,X;return _=a(R.tfhd,new Uint8Array([0,0,0,58,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(g.baseMediaDecodeTime/s),X=Math.floor(g.baseMediaDecodeTime%s),x=a(R.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255])),N=92,g.type==="audio"?(w=P(g,N),a(R.traf,_,x,w)):(D=L(g),w=P(g,D.length+N),a(R.traf,_,x,w,D))},A=function(g){return g.duration=g.duration||4294967295,a(R.trak,C(g),S(g))},z=function(g){var _=new Uint8Array([0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return g.type!=="video"&&(_[_.length-1]=0),a(R.trex,_)},function(){var g,_,x;x=function(w,D){var N=0,G=0,X=0,Z=0;return w.length&&(w[0].duration!==void 0&&(N=1),w[0].size!==void 0&&(G=2),w[0].flags!==void 0&&(X=4),w[0].compositionTimeOffset!==void 0&&(Z=8)),[0,0,N|G|X|Z,1,(w.length&4278190080)>>>24,(w.length&16711680)>>>16,(w.length&65280)>>>8,w.length&255,(D&4278190080)>>>24,(D&16711680)>>>16,(D&65280)>>>8,D&255]},_=function(w,D){var N,G,X,Z,ne,de;for(Z=w.samples||[],D+=20+16*Z.length,X=x(Z,D),G=new Uint8Array(X.length+Z.length*16),G.set(X),N=X.length,de=0;de<Z.length;de++)ne=Z[de],G[N++]=(ne.duration&4278190080)>>>24,G[N++]=(ne.duration&16711680)>>>16,G[N++]=(ne.duration&65280)>>>8,G[N++]=ne.duration&255,G[N++]=(ne.size&4278190080)>>>24,G[N++]=(ne.size&16711680)>>>16,G[N++]=(ne.size&65280)>>>8,G[N++]=ne.size&255,G[N++]=ne.flags.isLeading<<2|ne.flags.dependsOn,G[N++]=ne.flags.isDependedOn<<6|ne.flags.hasRedundancy<<4|ne.flags.paddingValue<<1|ne.flags.isNonSyncSample,G[N++]=ne.flags.degradationPriority&61440,G[N++]=ne.flags.degradationPriority&15,G[N++]=(ne.compositionTimeOffset&4278190080)>>>24,G[N++]=(ne.compositionTimeOffset&16711680)>>>16,G[N++]=(ne.compositionTimeOffset&65280)>>>8,G[N++]=ne.compositionTimeOffset&255;return a(R.trun,G)},g=function(w,D){var N,G,X,Z,ne,de;for(Z=w.samples||[],D+=20+8*Z.length,X=x(Z,D),N=new Uint8Array(X.length+Z.length*8),N.set(X),G=X.length,de=0;de<Z.length;de++)ne=Z[de],N[G++]=(ne.duration&4278190080)>>>24,N[G++]=(ne.duration&16711680)>>>16,N[G++]=(ne.duration&65280)>>>8,N[G++]=ne.duration&255,N[G++]=(ne.size&4278190080)>>>24,N[G++]=(ne.size&16711680)>>>16,N[G++]=(ne.size&65280)>>>8,N[G++]=ne.size&255;return a(R.trun,N)},P=function(w,D){return w.type==="audio"?g(w,D):_(w,D)}}();var ie={ftyp:f,mdat:u,moof:m,moov:y,initSegment:function(g){var _=f(),x=y(g),w;return w=new Uint8Array(_.byteLength+x.byteLength),w.set(_),w.set(x,_.byteLength),w}},me=function(g){var _,x,w=[],D=[];for(D.byteLength=0,D.nalCount=0,D.duration=0,w.byteLength=0,_=0;_<g.length;_++)x=g[_],x.nalUnitType==="access_unit_delimiter_rbsp"?(w.length&&(w.duration=x.dts-w.dts,D.byteLength+=w.byteLength,D.nalCount+=w.length,D.duration+=w.duration,D.push(w)),w=[x],w.byteLength=x.data.byteLength,w.pts=x.pts,w.dts=x.dts):(x.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(w.keyFrame=!0),w.duration=x.dts-w.dts,w.byteLength+=x.data.byteLength,w.push(x));return D.length&&(!w.duration||w.duration<=0)&&(w.duration=D[D.length-1].duration),D.byteLength+=w.byteLength,D.nalCount+=w.length,D.duration+=w.duration,D.push(w),D},pe=function(g){var _,x,w=[],D=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=g[0].pts,w.dts=g[0].dts,D.byteLength=0,D.nalCount=0,D.duration=0,D.pts=g[0].pts,D.dts=g[0].dts,_=0;_<g.length;_++)x=g[_],x.keyFrame?(w.length&&(D.push(w),D.byteLength+=w.byteLength,D.nalCount+=w.nalCount,D.duration+=w.duration),w=[x],w.nalCount=x.length,w.byteLength=x.byteLength,w.pts=x.pts,w.dts=x.dts,w.duration=x.duration):(w.duration+=x.duration,w.nalCount+=x.length,w.byteLength+=x.byteLength,w.push(x));return D.length&&w.duration<=0&&(w.duration=D[D.length-1].duration),D.byteLength+=w.byteLength,D.nalCount+=w.nalCount,D.duration+=w.duration,D.push(w),D},fe=function(g){var _;return!g[0][0].keyFrame&&g.length>1&&(_=g.shift(),g.byteLength-=_.byteLength,g.nalCount-=_.nalCount,g[0][0].dts=_.dts,g[0][0].pts=_.pts,g[0][0].duration+=_.duration),g},ve=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ce=function(g,_){var x=ve();return x.dataOffset=_,x.compositionTimeOffset=g.pts-g.dts,x.duration=g.duration,x.size=4*g.length,x.size+=g.byteLength,g.keyFrame&&(x.flags.dependsOn=2,x.flags.isNonSyncSample=0),x},we=function(g,_){var x,w,D,N,G,X=_||0,Z=[];for(x=0;x<g.length;x++)for(N=g[x],w=0;w<N.length;w++)G=N[w],D=ce(G,X),X+=D.size,Z.push(D);return Z},oe=function(g){var _,x,w,D,N,G,X=0,Z=g.byteLength,ne=g.nalCount,de=Z+4*ne,Ae=new Uint8Array(de),He=new DataView(Ae.buffer);for(_=0;_<g.length;_++)for(D=g[_],x=0;x<D.length;x++)for(N=D[x],w=0;w<N.length;w++)G=N[w],He.setUint32(X,G.data.byteLength),X+=4,Ae.set(G.data,X),X+=G.data.byteLength;return Ae},xe=function(g,_){var x,w=_||0,D=[];return x=ce(g,w),D.push(x),D},Ue=function(g){var _,x,w=0,D=g.byteLength,N=g.length,G=D+4*N,X=new Uint8Array(G),Z=new DataView(X.buffer);for(_=0;_<g.length;_++)x=g[_],Z.setUint32(w,x.data.byteLength),w+=4,X.set(x.data,w),w+=x.data.byteLength;return X},he={groupNalsIntoFrames:me,groupFramesIntoGops:pe,extendFirstKeyFrame:fe,generateSampleTable:we,concatenateNalData:oe,generateSampleTableForFrame:xe,concatenateNalDataForFrame:Ue},Se=[33,16,5,32,164,27],De=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],j=function(g){for(var _=[];g--;)_.push(0);return _},q=function(g){return Object.keys(g).reduce(function(_,x){return _[x]=new Uint8Array(g[x].reduce(function(w,D){return w.concat(D)},[])),_},{})},le,Te=function(){if(!le){var g={96e3:[Se,[227,64],j(154),[56]],88200:[Se,[231],j(170),[56]],64e3:[Se,[248,192],j(240),[56]],48e3:[Se,[255,192],j(268),[55,148,128],j(54),[112]],44100:[Se,[255,192],j(268),[55,163,128],j(84),[112]],32e3:[Se,[255,192],j(268),[55,234],j(226),[112]],24e3:[Se,[255,192],j(268),[55,255,128],j(268),[111,112],j(126),[224]],16e3:[Se,[255,192],j(268),[55,255,128],j(268),[111,255],j(269),[223,108],j(195),[1,192]],12e3:[De,j(268),[3,127,248],j(268),[6,255,240],j(268),[13,255,224],j(268),[27,253,128],j(259),[56]],11025:[De,j(268),[3,127,248],j(268),[6,255,240],j(268),[13,255,224],j(268),[27,255,192],j(268),[55,175,128],j(108),[112]],8e3:[De,j(268),[3,121,16],j(47),[7]]};le=q(g)}return le},Ne=9e4,Re,Qe,ge,Ee,Ge,lt,wt;Re=function(g){return g*Ne},Qe=function(g,_){return g*_},ge=function(g){return g/Ne},Ee=function(g,_){return g/_},Ge=function(g,_){return Re(Ee(g,_))},lt=function(g,_){return Qe(ge(g),_)},wt=function(g,_,x){return ge(x?g:g-_)};var Ke={ONE_SECOND_IN_TS:Ne,secondsToVideoTs:Re,secondsToAudioTs:Qe,videoTsToSeconds:ge,audioTsToSeconds:Ee,audioTsToVideoTs:Ge,videoTsToAudioTs:lt,metadataTsToSeconds:wt},Ft=Te,_t=Ke,lr=function(g){var _,x,w=0;for(_=0;_<g.length;_++)x=g[_],w+=x.data.byteLength;return w},dr=function(g,_,x,w){var D,N=0,G=0,X=0,Z=0,ne,de,Ae;if(_.length&&(D=_t.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),N=Math.ceil(_t.ONE_SECOND_IN_TS/(g.samplerate/1024)),x&&w&&(G=D-Math.max(x,w),X=Math.floor(G/N),Z=X*N),!(X<1||Z>_t.ONE_SECOND_IN_TS/2))){for(ne=Ft()[g.samplerate],ne||(ne=_[0].data),de=0;de<X;de++)Ae=_[0],_.splice(0,0,{data:ne,dts:Ae.dts-N,pts:Ae.pts-N});return g.baseMediaDecodeTime-=Math.floor(_t.videoTsToAudioTs(Z,g.samplerate)),Z}},Fi=function(g,_,x){return _.minSegmentDts>=x?g:(_.minSegmentDts=1/0,g.filter(function(w){return w.dts>=x?(_.minSegmentDts=Math.min(_.minSegmentDts,w.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},uo=function(g){var _,x,w=[];for(_=0;_<g.length;_++)x=g[_],w.push({size:x.data.byteLength,duration:1024});return w},fo=function(g){var _,x,w=0,D=new Uint8Array(lr(g));for(_=0;_<g.length;_++)x=g[_],D.set(x.data,w),w+=x.data.byteLength;return D},Ui={prefixWithSilence:dr,trimAdtsFramesByEarliestDts:Fi,generateSampleTable:uo,concatenateFrameData:fo},ho=Ke.ONE_SECOND_IN_TS,Ur=function(g,_){typeof _.pts=="number"&&(g.timelineStartInfo.pts===void 0&&(g.timelineStartInfo.pts=_.pts),g.minSegmentPts===void 0?g.minSegmentPts=_.pts:g.minSegmentPts=Math.min(g.minSegmentPts,_.pts),g.maxSegmentPts===void 0?g.maxSegmentPts=_.pts:g.maxSegmentPts=Math.max(g.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(g.timelineStartInfo.dts===void 0&&(g.timelineStartInfo.dts=_.dts),g.minSegmentDts===void 0?g.minSegmentDts=_.dts:g.minSegmentDts=Math.min(g.minSegmentDts,_.dts),g.maxSegmentDts===void 0?g.maxSegmentDts=_.dts:g.maxSegmentDts=Math.max(g.maxSegmentDts,_.dts))},jr=function(g){delete g.minSegmentDts,delete g.maxSegmentDts,delete g.minSegmentPts,delete g.maxSegmentPts},ui=function(g,_){var x,w,D=g.minSegmentDts;return _||(D-=g.timelineStartInfo.dts),x=g.timelineStartInfo.baseMediaDecodeTime,x+=D,x=Math.max(0,x),g.type==="audio"&&(w=g.samplerate/ho,x*=w,x=Math.floor(x)),x},Vn={clearDtsInfo:jr,calculateTrackBaseMediaDecodeTime:ui,collectDtsInfo:Ur},nr=4,Hn=128,cn=function(g){for(var _=0,x={payloadType:-1,payloadSize:0},w=0,D=0;_<g.byteLength&&g[_]!==Hn;){for(;g[_]===255;)w+=255,_++;for(w+=g[_++];g[_]===255;)D+=255,_++;if(D+=g[_++],!x.payload&&w===nr){var N=String.fromCharCode(g[_+3],g[_+4],g[_+5],g[_+6]);if(N==="GA94"){x.payloadType=w,x.payloadSize=D,x.payload=g.subarray(_,_+D);break}else x.payload=void 0}_+=D,w=0,D=0}return x},Aa=function(g){return g.payload[0]!==181||(g.payload[1]<<8|g.payload[2])!==49||String.fromCharCode(g.payload[3],g.payload[4],g.payload[5],g.payload[6])!=="GA94"||g.payload[7]!==3?null:g.payload.subarray(8,g.payload.length-1)},Ta=function(g,_){var x=[],w,D,N,G;if(!(_[0]&64))return x;for(D=_[0]&31,w=0;w<D;w++)N=w*3,G={type:_[N+2]&3,pts:g},_[N+2]&4&&(G.ccData=_[N+3]<<8|_[N+4],x.push(G));return x},fr=function(g){for(var _=g.byteLength,x=[],w=1,D,N;w<_-2;)g[w]===0&&g[w+1]===0&&g[w+2]===3?(x.push(w+2),w+=2):w++;if(x.length===0)return g;D=_-x.length,N=new Uint8Array(D);var G=0;for(w=0;w<D;G++,w++)G===x[0]&&(G++,x.shift()),N[w]=g[G];return N},un={parseSei:cn,parseUserData:Aa,parseCaptionPackets:Ta,discardEmulationPreventionBytes:fr,USER_DATA_REGISTERED_ITU_T_T35:nr},Br=r,Er=un,Mt=function(g){g=g||{},Mt.prototype.init.call(this),this.parse708captions_=typeof g.parse708captions=="boolean"?g.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Yt(0,0),new Yt(0,1),new Yt(1,0),new Yt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Lt({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Mt.prototype=new Br,Mt.prototype.push=function(g){var _,x,w;if(g.nalUnitType==="sei_rbsp"&&(_=Er.parseSei(g.escapedRBSP),!!_.payload&&_.payloadType===Er.USER_DATA_REGISTERED_ITU_T_T35&&(x=Er.parseUserData(_),!!x))){if(g.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(g.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}w=Er.parseCaptionPackets(g.pts,x),this.captionPackets_=this.captionPackets_.concat(w),this.latestDts_!==g.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=g.dts}},Mt.prototype.flushCCStreams=function(g){this.ccStreams_.forEach(function(_){return g==="flush"?_.flush():_.partialFlush()},this)},Mt.prototype.flushStream=function(g){if(!this.captionPackets_.length){this.flushCCStreams(g);return}this.captionPackets_.forEach(function(_,x){_.presortIndex=x}),this.captionPackets_.sort(function(_,x){return _.pts===x.pts?_.presortIndex-x.presortIndex:_.pts-x.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(g)},Mt.prototype.flush=function(){return this.flushStream("flush")},Mt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Mt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(g){g.reset()})},Mt.prototype.dispatchCea608Packet=function(g){this.setsTextOrXDSActive(g)?this.activeCea608Channel_[g.type]=null:this.setsChannel1Active(g)?this.activeCea608Channel_[g.type]=0:this.setsChannel2Active(g)&&(this.activeCea608Channel_[g.type]=1),this.activeCea608Channel_[g.type]!==null&&this.ccStreams_[(g.type<<1)+this.activeCea608Channel_[g.type]].push(g)},Mt.prototype.setsChannel1Active=function(g){return(g.ccData&30720)===4096},Mt.prototype.setsChannel2Active=function(g){return(g.ccData&30720)===6144},Mt.prototype.setsTextOrXDSActive=function(g){return(g.ccData&28928)===256||(g.ccData&30974)===4138||(g.ccData&30974)===6186},Mt.prototype.dispatchCea708Packet=function(g){this.parse708captions_&&this.cc708Stream_.push(g)};var qn={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Wn=function(g){var _=qn[g]||g;return g&4096&&g===_?"":String.fromCharCode(_)},di=function(g){return 32<=g&&g<=127||160<=g&&g<=255},On=function(g){this.windowNum=g,this.reset()};On.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},On.prototype.getText=function(){return this.rows.join(`
`)},On.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},On.prototype.newLine=function(g){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(g),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},On.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},On.prototype.addText=function(g){this.rows[this.rowIdx]+=g},On.prototype.backspace=function(){if(!this.isEmpty()){var g=this.rows[this.rowIdx];this.rows[this.rowIdx]=g.substr(0,g.length-1)}};var vs=function(g,_,x){this.serviceNum=g,this.text="",this.currentWindow=new On(-1),this.windows=[],this.stream=x,typeof _=="string"&&this.createTextDecoder(_)};vs.prototype.init=function(g,_){this.startPts=g;for(var x=0;x<8;x++)this.windows[x]=new On(x),typeof _=="function"&&(this.windows[x].beforeRowOverflow=_)},vs.prototype.setCurrentWindow=function(g){this.currentWindow=this.windows[g]},vs.prototype.createTextDecoder=function(g){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(g)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+g+" encoding. "+_})}};var Lt=function(g){g=g||{},Lt.prototype.init.call(this);var _=this,x=g.captionServices||{},w={},D;Object.keys(x).forEach(N=>{D=x[N],/^SERVICE/.test(N)&&(w[N]=D.encoding)}),this.serviceEncodings=w,this.current708Packet=null,this.services={},this.push=function(N){N.type===3?(_.new708Packet(),_.add708Bytes(N)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(N))}};Lt.prototype=new Br,Lt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Lt.prototype.add708Bytes=function(g){var _=g.ccData,x=_>>>8,w=_&255;this.current708Packet.ptsVals.push(g.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(w)},Lt.prototype.push708Packet=function(){var g=this.current708Packet,_=g.data,x=null,w=null,D=0,N=_[D++];for(g.seq=N>>6,g.sizeCode=N&63;D<_.length;D++)N=_[D++],x=N>>5,w=N&31,x===7&&w>0&&(N=_[D++],x=N),this.pushServiceBlock(x,D,w),w>0&&(D+=w-1)},Lt.prototype.pushServiceBlock=function(g,_,x){var w,D=_,N=this.current708Packet.data,G=this.services[g];for(G||(G=this.initService(g,D));D<_+x&&D<N.length;D++)w=N[D],di(w)?D=this.handleText(D,G):w===24?D=this.multiByteCharacter(D,G):w===16?D=this.extendedCommands(D,G):128<=w&&w<=135?D=this.setCurrentWindow(D,G):152<=w&&w<=159?D=this.defineWindow(D,G):w===136?D=this.clearWindows(D,G):w===140?D=this.deleteWindows(D,G):w===137?D=this.displayWindows(D,G):w===138?D=this.hideWindows(D,G):w===139?D=this.toggleWindows(D,G):w===151?D=this.setWindowAttributes(D,G):w===144?D=this.setPenAttributes(D,G):w===145?D=this.setPenColor(D,G):w===146?D=this.setPenLocation(D,G):w===143?G=this.reset(D,G):w===8?G.currentWindow.backspace():w===12?G.currentWindow.clearText():w===13?G.currentWindow.pendingNewLine=!0:w===14?G.currentWindow.clearText():w===141&&D++},Lt.prototype.extendedCommands=function(g,_){var x=this.current708Packet.data,w=x[++g];return di(w)&&(g=this.handleText(g,_,{isExtended:!0})),g},Lt.prototype.getPts=function(g){return this.current708Packet.ptsVals[Math.floor(g/2)]},Lt.prototype.initService=function(g,_){var w="SERVICE"+g,x=this,w,D;return w in this.serviceEncodings&&(D=this.serviceEncodings[w]),this.services[g]=new vs(g,D,x),this.services[g].init(this.getPts(_),function(N){x.flushDisplayed(N,x.services[g])}),this.services[g]},Lt.prototype.handleText=function(g,_,x){var w=x&&x.isExtended,D=x&&x.isMultiByte,N=this.current708Packet.data,G=w?4096:0,X=N[g],Z=N[g+1],ne=_.currentWindow,de,Ae;function He(Ie){return Ie.map(it=>("0"+(it&255).toString(16)).slice(-2)).join("")}if(D?(Ae=[X,Z],g++):Ae=[X],_.textDecoder_&&!w)de=_.textDecoder_.decode(new Uint8Array(Ae));else if(D){const Ie=He(Ae);de=String.fromCharCode(parseInt(Ie,16))}else de=Wn(G|X);return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(g)),ne.pendingNewLine=!1,ne.addText(de),g},Lt.prototype.multiByteCharacter=function(g,_){var x=this.current708Packet.data,w=x[g+1],D=x[g+2];return di(w)&&di(D)&&(g=this.handleText(++g,_,{isMultiByte:!0})),g},Lt.prototype.setCurrentWindow=function(g,_){var x=this.current708Packet.data,w=x[g],D=w&7;return _.setCurrentWindow(D),g},Lt.prototype.defineWindow=function(g,_){var x=this.current708Packet.data,w=x[g],D=w&7;_.setCurrentWindow(D);var N=_.currentWindow;return w=x[++g],N.visible=(w&32)>>5,N.rowLock=(w&16)>>4,N.columnLock=(w&8)>>3,N.priority=w&7,w=x[++g],N.relativePositioning=(w&128)>>7,N.anchorVertical=w&127,w=x[++g],N.anchorHorizontal=w,w=x[++g],N.anchorPoint=(w&240)>>4,N.rowCount=w&15,w=x[++g],N.columnCount=w&63,w=x[++g],N.windowStyle=(w&56)>>3,N.penStyle=w&7,N.virtualRowCount=N.rowCount+1,g},Lt.prototype.setWindowAttributes=function(g,_){var x=this.current708Packet.data,w=x[g],D=_.currentWindow.winAttr;return w=x[++g],D.fillOpacity=(w&192)>>6,D.fillRed=(w&48)>>4,D.fillGreen=(w&12)>>2,D.fillBlue=w&3,w=x[++g],D.borderType=(w&192)>>6,D.borderRed=(w&48)>>4,D.borderGreen=(w&12)>>2,D.borderBlue=w&3,w=x[++g],D.borderType+=(w&128)>>5,D.wordWrap=(w&64)>>6,D.printDirection=(w&48)>>4,D.scrollDirection=(w&12)>>2,D.justify=w&3,w=x[++g],D.effectSpeed=(w&240)>>4,D.effectDirection=(w&12)>>2,D.displayEffect=w&3,g},Lt.prototype.flushDisplayed=function(g,_){for(var x=[],w=0;w<8;w++)_.windows[w].visible&&!_.windows[w].isEmpty()&&x.push(_.windows[w].getText());_.endPts=g,_.text=x.join(`

`),this.pushCaption(_),_.startPts=g},Lt.prototype.pushCaption=function(g){g.text!==""&&(this.trigger("data",{startPts:g.startPts,endPts:g.endPts,text:g.text,stream:"cc708_"+g.serviceNum}),g.text="",g.startPts=g.endPts)},Lt.prototype.displayWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],D=this.getPts(g);this.flushDisplayed(D,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible=1);return g},Lt.prototype.hideWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],D=this.getPts(g);this.flushDisplayed(D,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible=0);return g},Lt.prototype.toggleWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],D=this.getPts(g);this.flushDisplayed(D,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible^=1);return g},Lt.prototype.clearWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],D=this.getPts(g);this.flushDisplayed(D,_);for(var N=0;N<8;N++)w&1<<N&&_.windows[N].clearText();return g},Lt.prototype.deleteWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],D=this.getPts(g);this.flushDisplayed(D,_);for(var N=0;N<8;N++)w&1<<N&&_.windows[N].reset();return g},Lt.prototype.setPenAttributes=function(g,_){var x=this.current708Packet.data,w=x[g],D=_.currentWindow.penAttr;return w=x[++g],D.textTag=(w&240)>>4,D.offset=(w&12)>>2,D.penSize=w&3,w=x[++g],D.italics=(w&128)>>7,D.underline=(w&64)>>6,D.edgeType=(w&56)>>3,D.fontStyle=w&7,g},Lt.prototype.setPenColor=function(g,_){var x=this.current708Packet.data,w=x[g],D=_.currentWindow.penColor;return w=x[++g],D.fgOpacity=(w&192)>>6,D.fgRed=(w&48)>>4,D.fgGreen=(w&12)>>2,D.fgBlue=w&3,w=x[++g],D.bgOpacity=(w&192)>>6,D.bgRed=(w&48)>>4,D.bgGreen=(w&12)>>2,D.bgBlue=w&3,w=x[++g],D.edgeRed=(w&48)>>4,D.edgeGreen=(w&12)>>2,D.edgeBlue=w&3,g},Lt.prototype.setPenLocation=function(g,_){var x=this.current708Packet.data,w=x[g],D=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,w=x[++g],D.row=w&15,w=x[++g],D.column=w&63,g},Lt.prototype.reset=function(g,_){var x=this.getPts(g);return this.flushDisplayed(x,_),this.initService(_.serviceNum,g)};var Nb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},_s=function(g){return g===null?"":(g=Nb[g]||g,String.fromCharCode(g))},fc=14,fi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Uo=function(){for(var g=[],_=fc+1;_--;)g.push({text:"",indent:0,offset:0});return g},Yt=function(g,_){Yt.prototype.init.call(this),this.field_=g||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(x){var w,D,N,G,X;if(w=x.ccData&32639,w===this.lastControlCode_){this.lastControlCode_=null;return}if((w&61440)===4096?this.lastControlCode_=w:w!==this.PADDING_&&(this.lastControlCode_=null),N=w>>>8,G=w&255,w!==this.PADDING_)if(w===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(w===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(x.pts),this.flushDisplayed(x.pts),D=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=D,this.startPts_=x.pts;else if(w===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(x.pts);else if(w===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(x.pts);else if(w===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(x.pts);else if(w===this.CARRIAGE_RETURN_)this.clearFormatting(x.pts),this.flushDisplayed(x.pts),this.shiftRowsUp_(),this.startPts_=x.pts;else if(w===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(w===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(x.pts),this.displayed_=Uo();else if(w===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Uo();else if(w===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(x.pts),this.displayed_=Uo()),this.mode_="paintOn",this.startPts_=x.pts;else if(this.isSpecialCharacter(N,G))N=(N&3)<<8,X=_s(N|G),this[this.mode_](x.pts,X),this.column_++;else if(this.isExtCharacter(N,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),N=(N&3)<<8,X=_s(N|G),this[this.mode_](x.pts,X),this.column_++;else if(this.isMidRowCode(N,G))this.clearFormatting(x.pts),this[this.mode_](x.pts," "),this.column_++,(G&14)===14&&this.addFormatting(x.pts,["i"]),(G&1)===1&&this.addFormatting(x.pts,["u"]);else if(this.isOffsetControlCode(N,G)){const ne=G&3;this.nonDisplayed_[this.row_].offset=ne,this.column_+=ne}else if(this.isPAC(N,G)){var Z=fi.indexOf(w&7968);if(this.mode_==="rollUp"&&(Z-this.rollUpRows_+1<0&&(Z=this.rollUpRows_-1),this.setRollUp(x.pts,Z)),Z!==this.row_&&Z>=0&&Z<=14&&(this.clearFormatting(x.pts),this.row_=Z),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(x.pts,["u"]),(w&16)===16){const ne=(w&14)>>1;this.column_=ne*4,this.nonDisplayed_[this.row_].indent+=ne}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(x.pts,["i"])}else this.isNormalChar(N)&&(G===0&&(G=null),X=_s(N),X+=_s(G),this[this.mode_](x.pts,X),this.column_+=X.length)}};Yt.prototype=new Br,Yt.prototype.flushDisplayed=function(g){const _=w=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+w+"."})},x=[];this.displayed_.forEach((w,D)=>{if(w&&w.text&&w.text.length){try{w.text=w.text.trim()}catch{_(D)}w.text.length&&x.push({text:w.text,line:D+1,position:10+Math.min(70,w.indent*10)+w.offset*2.5})}else w==null&&_(D)}),x.length&&this.trigger("data",{startPts:this.startPts_,endPts:g,content:x,stream:this.name_})},Yt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Uo(),this.nonDisplayed_=Uo(),this.lastControlCode_=null,this.column_=0,this.row_=fc,this.rollUpRows_=2,this.formatting_=[]},Yt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Yt.prototype.isSpecialCharacter=function(g,_){return g===this.EXT_&&_>=48&&_<=63},Yt.prototype.isExtCharacter=function(g,_){return(g===this.EXT_+1||g===this.EXT_+2)&&_>=32&&_<=63},Yt.prototype.isMidRowCode=function(g,_){return g===this.EXT_&&_>=32&&_<=47},Yt.prototype.isOffsetControlCode=function(g,_){return g===this.OFFSET_&&_>=33&&_<=35},Yt.prototype.isPAC=function(g,_){return g>=this.BASE_&&g<this.BASE_+8&&_>=64&&_<=127},Yt.prototype.isColorPAC=function(g){return g>=64&&g<=79||g>=96&&g<=127},Yt.prototype.isNormalChar=function(g){return g>=32&&g<=127},Yt.prototype.setRollUp=function(g,_){if(this.mode_!=="rollUp"&&(this.row_=fc,this.mode_="rollUp",this.flushDisplayed(g),this.nonDisplayed_=Uo(),this.displayed_=Uo()),_!==void 0&&_!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[_-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]={text:"",indent:0,offset:0};_===void 0&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Yt.prototype.addFormatting=function(g,_){this.formatting_=this.formatting_.concat(_);var x=_.reduce(function(w,D){return w+"<"+D+">"},"");this[this.mode_](g,x)},Yt.prototype.clearFormatting=function(g){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(x,w){return x+"</"+w+">"},"");this.formatting_=[],this[this.mode_](g,_)}},Yt.prototype.popOn=function(g,_){var x=this.nonDisplayed_[this.row_].text;x+=_,this.nonDisplayed_[this.row_].text=x},Yt.prototype.rollUp=function(g,_){var x=this.displayed_[this.row_].text;x+=_,this.displayed_[this.row_].text=x},Yt.prototype.shiftRowsUp_=function(){var g;for(g=0;g<this.topRow_;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.row_+1;g<fc+1;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.topRow_;g<this.row_;g++)this.displayed_[g]=this.displayed_[g+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Yt.prototype.paintOn=function(g,_){var x=this.displayed_[this.row_].text;x+=_,this.displayed_[this.row_].text=x};var $p={CaptionStream:Mt,Cea608Stream:Yt,Cea708Stream:Lt},hc={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ee=r,J=8589934592,se=4294967296,be="shared",Je=function(g,_){var x=1;for(g>_&&(x=-1);Math.abs(_-g)>se;)g+=x*J;return g},ot=function(g){var _,x;ot.prototype.init.call(this),this.type_=g||be,this.push=function(w){if(w.type==="metadata"){this.trigger("data",w);return}this.type_!==be&&w.type!==this.type_||(x===void 0&&(x=w.dts),w.dts=Je(w.dts,x),w.pts=Je(w.pts,x),_=w.dts,this.trigger("data",w))},this.flush=function(){x=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){x=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ot.prototype=new ee;var Nt={TimestampRolloverStream:ot,handleRollover:Je},br=(g,_,x)=>{if(!g)return-1;for(var w=x;w<g.length;w++)if(g[w]===_)return w;return-1},pt={typedArrayIndexOf:br},Ct=pt.typedArrayIndexOf,Me={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},rt=function(g,_,x){var w,D="";for(w=_;w<x;w++)D+="%"+("00"+g[w].toString(16)).slice(-2);return D},Oe=function(g,_,x){return decodeURIComponent(rt(g,_,x))},St=function(g,_,x){return unescape(rt(g,_,x))},Ze=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},hi={APIC:function(g){var _=1,x,w,D="-->";g.data[0]===Me.Utf8&&(x=Ct(g.data,0,_),!(x<0)&&(g.mimeType=St(g.data,_,x),_=x+1,g.pictureType=g.data[_],_++,w=Ct(g.data,0,_),!(w<0)&&(g.description=Oe(g.data,_,w),_=w+1,g.mimeType===D?g.url=St(g.data,_,g.data.length):g.pictureData=g.data.subarray(_,g.data.length))))},"T*":function(g){g.data[0]===Me.Utf8&&(g.value=Oe(g.data,1,g.data.length).replace(/\0*$/,""),g.values=g.value.split("\0"))},TXXX:function(g){var _;g.data[0]===Me.Utf8&&(_=Ct(g.data,0,1),_!==-1&&(g.description=Oe(g.data,1,_),g.value=Oe(g.data,_+1,g.data.length).replace(/\0*$/,""),g.data=g.value))},"W*":function(g){g.url=St(g.data,0,g.data.length).replace(/\0.*$/,"")},WXXX:function(g){var _;g.data[0]===Me.Utf8&&(_=Ct(g.data,0,1),_!==-1&&(g.description=Oe(g.data,1,_),g.url=St(g.data,_+1,g.data.length).replace(/\0.*$/,"")))},PRIV:function(g){var _;for(_=0;_<g.data.length;_++)if(g.data[_]===0){g.owner=St(g.data,0,_);break}g.privateData=g.data.subarray(_+1),g.data=g.privateData}},ji=function(g){var _,x,w=10,D=0,N=[];if(!(g.length<10||g[0]!==73||g[1]!==68||g[2]!==51)){D=Ze(g.subarray(6,10)),D+=10;var G=g[5]&64;G&&(w+=4,w+=Ze(g.subarray(10,14)),D-=Ze(g.subarray(16,20)));do{if(_=Ze(g.subarray(w+4,w+8)),_<1)break;x=String.fromCharCode(g[w],g[w+1],g[w+2],g[w+3]);var X={id:x,data:g.subarray(w+10,w+_+10)};X.key=X.id,hi[X.id]?hi[X.id](X):X.id[0]==="T"?hi["T*"](X):X.id[0]==="W"&&hi["W*"](X),N.push(X),w+=10,w+=_}while(w<D);return N}},jo={parseId3Frames:ji,parseSyncSafeInteger:Ze,frameParsers:hi},hr=r,vr=hc,jt=jo,$t;$t=function(g){var _={descriptor:g&&g.descriptor},x=0,w=[],D=0,N;if($t.prototype.init.call(this),this.dispatchType=vr.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(N=0;N<_.descriptor.length;N++)this.dispatchType+=("00"+_.descriptor[N].toString(16)).slice(-2);this.push=function(G){var X,Z,ne,de,Ae,He;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(D=0,w.length=0),w.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(w.push(G),D+=G.data.byteLength,w.length===1&&(x=jt.parseSyncSafeInteger(G.data.subarray(6,10)),x+=10),!(D<x)){for(X={data:new Uint8Array(x),frames:[],pts:w[0].pts,dts:w[0].dts},Ae=0;Ae<x;)X.data.set(w[0].data.subarray(0,x-Ae),Ae),Ae+=w[0].data.byteLength,D-=w[0].data.byteLength,w.shift();Z=10,X.data[5]&64&&(Z+=4,Z+=jt.parseSyncSafeInteger(X.data.subarray(10,14)),x-=jt.parseSyncSafeInteger(X.data.subarray(16,20)));do{if(ne=jt.parseSyncSafeInteger(X.data.subarray(Z+4,Z+8)),ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(He=String.fromCharCode(X.data[Z],X.data[Z+1],X.data[Z+2],X.data[Z+3]),de={id:He,data:X.data.subarray(Z+10,Z+ne+10)},de.key=de.id,jt.frameParsers[de.id]?jt.frameParsers[de.id](de):de.id[0]==="T"?jt.frameParsers["T*"](de):de.id[0]==="W"&&jt.frameParsers["W*"](de),de.owner==="com.apple.streaming.transportStreamTimestamp"){var Ie=de.data,it=(Ie[3]&1)<<30|Ie[4]<<22|Ie[5]<<14|Ie[6]<<6|Ie[7]>>>2;it*=4,it+=Ie[7]&3,de.timeStamp=it,X.pts===void 0&&X.dts===void 0&&(X.pts=de.timeStamp,X.dts=de.timeStamp),this.trigger("timestamp",de)}X.frames.push(de),Z+=10,Z+=ne}while(Z<x);this.trigger("data",X)}}}},$t.prototype=new hr;var ws=$t,po=r,Ca=$p,dn=hc,bd=Nt.TimestampRolloverStream,xs,$o,As,mo=188,Ea=71;xs=function(){var g=new Uint8Array(mo),_=0;xs.prototype.init.call(this),this.push=function(x){var w=0,D=mo,N;for(_?(N=new Uint8Array(x.byteLength+_),N.set(g.subarray(0,_)),N.set(x,_),_=0):N=x;D<N.byteLength;){if(N[w]===Ea&&N[D]===Ea){this.trigger("data",N.subarray(w,D)),w+=mo,D+=mo;continue}w++,D++}w<N.byteLength&&(g.set(N.subarray(w),0),_=N.byteLength-w)},this.flush=function(){_===mo&&g[0]===Ea&&(this.trigger("data",g),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},xs.prototype=new po,$o=function(){var g,_,x,w;$o.prototype.init.call(this),w=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,g=function(D,N){var G=0;N.payloadUnitStartIndicator&&(G+=D[G]+1),N.type==="pat"?_(D.subarray(G),N):x(D.subarray(G),N)},_=function(D,N){N.section_number=D[7],N.last_section_number=D[8],w.pmtPid=(D[10]&31)<<8|D[11],N.pmtPid=w.pmtPid},x=function(D,N){var G,X,Z,ne;if(D[5]&1){for(w.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(D[1]&15)<<8|D[2],X=3+G-4,Z=(D[10]&15)<<8|D[11],ne=12+Z;ne<X;){var de=D[ne],Ae=(D[ne+1]&31)<<8|D[ne+2];de===dn.H264_STREAM_TYPE&&w.programMapTable.video===null?w.programMapTable.video=Ae:de===dn.ADTS_STREAM_TYPE&&w.programMapTable.audio===null?w.programMapTable.audio=Ae:de===dn.METADATA_STREAM_TYPE&&(w.programMapTable["timed-metadata"][Ae]=de),ne+=((D[ne+3]&15)<<8|D[ne+4])+5}N.programMapTable=w.programMapTable}},this.push=function(D){var N={},G=4;if(N.payloadUnitStartIndicator=!!(D[1]&64),N.pid=D[1]&31,N.pid<<=8,N.pid|=D[2],(D[3]&48)>>>4>1&&(G+=D[G]+1),N.pid===0)N.type="pat",g(D.subarray(G),N),this.trigger("data",N);else if(N.pid===this.pmtPid)for(N.type="pmt",g(D.subarray(G),N),this.trigger("data",N);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([D,G,N]):this.processPes_(D,G,N)},this.processPes_=function(D,N,G){G.pid===this.programMapTable.video?G.streamType=dn.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=dn.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=D.subarray(N),this.trigger("data",G)}},$o.prototype=new po,$o.STREAM_TYPES={h264:27,adts:15},As=function(){var g=this,_=!1,x={data:[],size:0},w={data:[],size:0},D={data:[],size:0},N,G=function(Z,ne){var de;const Ae=Z[0]<<16|Z[1]<<8|Z[2];ne.data=new Uint8Array,Ae===1&&(ne.packetLength=6+(Z[4]<<8|Z[5]),ne.dataAlignmentIndicator=(Z[6]&4)!==0,de=Z[7],de&192&&(ne.pts=(Z[9]&14)<<27|(Z[10]&255)<<20|(Z[11]&254)<<12|(Z[12]&255)<<5|(Z[13]&254)>>>3,ne.pts*=4,ne.pts+=(Z[13]&6)>>>1,ne.dts=ne.pts,de&64&&(ne.dts=(Z[14]&14)<<27|(Z[15]&255)<<20|(Z[16]&254)<<12|(Z[17]&255)<<5|(Z[18]&254)>>>3,ne.dts*=4,ne.dts+=(Z[18]&6)>>>1)),ne.data=Z.subarray(9+Z[8]))},X=function(Z,ne,de){var Ae=new Uint8Array(Z.size),He={type:ne},Ie=0,it=0,ut=!1,Dr;if(!(!Z.data.length||Z.size<9)){for(He.trackId=Z.data[0].pid,Ie=0;Ie<Z.data.length;Ie++)Dr=Z.data[Ie],Ae.set(Dr.data,it),it+=Dr.data.byteLength;G(Ae,He),ut=ne==="video"||He.packetLength<=Z.size,(de||ut)&&(Z.size=0,Z.data.length=0),ut&&g.trigger("data",He)}};As.prototype.init.call(this),this.push=function(Z){({pat:function(){},pes:function(){var ne,de;switch(Z.streamType){case dn.H264_STREAM_TYPE:ne=x,de="video";break;case dn.ADTS_STREAM_TYPE:ne=w,de="audio";break;case dn.METADATA_STREAM_TYPE:ne=D,de="timed-metadata";break;default:return}Z.payloadUnitStartIndicator&&X(ne,de,!0),ne.data.push(Z),ne.size+=Z.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};N=Z.programMapTable,N.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.video,codec:"avc",type:"video"}),N.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.audio,codec:"adts",type:"audio"}),_=!0,g.trigger("data",ne)}})[Z.type]()},this.reset=function(){x.size=0,x.data.length=0,w.size=0,w.data.length=0,this.trigger("reset")},this.flushStreams_=function(){X(x,"video"),X(w,"audio"),X(D,"timed-metadata")},this.flush=function(){if(!_&&N){var Z={type:"metadata",tracks:[]};N.video!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.video,codec:"avc",type:"video"}),N.audio!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.audio,codec:"adts",type:"audio"}),g.trigger("data",Z)}_=!1,this.flushStreams_(),this.trigger("done")}},As.prototype=new po;var pc={PAT_PID:0,MP2T_PACKET_LENGTH:mo,TransportPacketStream:xs,TransportParseStream:$o,ElementaryStream:As,TimestampRolloverStream:bd,CaptionStream:Ca.CaptionStream,Cea608Stream:Ca.Cea608Stream,Cea708Stream:Ca.Cea708Stream,MetadataStream:ws};for(var Sa in dn)dn.hasOwnProperty(Sa)&&(pc[Sa]=dn[Sa]);var vd=pc,fn=r,Ln=Ke.ONE_SECOND_IN_TS,$r,mc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];$r=function(g){var _,x=0;$r.prototype.init.call(this),this.skipWarn_=function(w,D){this.trigger("log",{level:"warn",message:`adts skiping bytes ${w} to ${D} in frame ${x} outside syncword`})},this.push=function(w){var D=0,N,G,X,Z,ne;if(g||(x=0),w.type==="audio"){_&&_.length?(X=_,_=new Uint8Array(X.byteLength+w.data.byteLength),_.set(X),_.set(w.data,X.byteLength)):_=w.data;for(var de;D+7<_.length;){if(_[D]!==255||(_[D+1]&246)!==240){typeof de!="number"&&(de=D),D++;continue}if(typeof de=="number"&&(this.skipWarn_(de,D),de=null),G=(~_[D+1]&1)*2,N=(_[D+3]&3)<<11|_[D+4]<<3|(_[D+5]&224)>>5,Z=((_[D+6]&3)+1)*1024,ne=Z*Ln/mc[(_[D+2]&60)>>>2],_.byteLength-D<N)break;this.trigger("data",{pts:w.pts+x*ne,dts:w.dts+x*ne,sampleCount:Z,audioobjecttype:(_[D+2]>>>6&3)+1,channelcount:(_[D+2]&1)<<2|(_[D+3]&192)>>>6,samplerate:mc[(_[D+2]&60)>>>2],samplingfrequencyindex:(_[D+2]&60)>>>2,samplesize:16,data:_.subarray(D+7+G,D+N)}),x++,D+=N}typeof de=="number"&&(this.skipWarn_(de,D),de=null),_=_.subarray(D)}},this.flush=function(){x=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},$r.prototype=new fn;var Gn=$r,gc;gc=function(g){var _=g.byteLength,x=0,w=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+w},this.loadWord=function(){var D=g.byteLength-_,N=new Uint8Array(4),G=Math.min(4,_);if(G===0)throw new Error("no bytes available");N.set(g.subarray(D,D+G)),x=new DataView(N.buffer).getUint32(0),w=G*8,_-=G},this.skipBits=function(D){var N;w>D?(x<<=D,w-=D):(D-=w,N=Math.floor(D/8),D-=N*8,_-=N,this.loadWord(),x<<=D,w-=D)},this.readBits=function(D){var N=Math.min(w,D),G=x>>>32-N;return w-=N,w>0?x<<=N:_>0&&this.loadWord(),N=D-N,N>0?G<<N|this.readBits(N):G},this.skipLeadingZeros=function(){var D;for(D=0;D<w;++D)if(x&2147483648>>>D)return x<<=D,w-=D,D;return this.loadWord(),D+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var D=this.skipLeadingZeros();return this.readBits(D+1)-1},this.readExpGolomb=function(){var D=this.readUnsignedExpGolomb();return 1&D?1+D>>>1:-1*(D>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Le=gc,zp=r,Ob=Le,yc,ka,Vp;ka=function(){var g=0,_,x;ka.prototype.init.call(this),this.push=function(w){var D;x?(D=new Uint8Array(x.byteLength+w.data.byteLength),D.set(x),D.set(w.data,x.byteLength),x=D):x=w.data;for(var N=x.byteLength;g<N-3;g++)if(x[g+2]===1){_=g+5;break}for(;_<N;)switch(x[_]){case 0:if(x[_-1]!==0){_+=2;break}else if(x[_-2]!==0){_++;break}g+3!==_-2&&this.trigger("data",x.subarray(g+3,_-2));do _++;while(x[_]!==1&&_<N);g=_-2,_+=3;break;case 1:if(x[_-1]!==0||x[_-2]!==0){_+=3;break}this.trigger("data",x.subarray(g+3,_-2)),g=_-2,_+=3;break;default:_+=3;break}x=x.subarray(g),_-=g,g=0},this.reset=function(){x=null,g=0,this.trigger("reset")},this.flush=function(){x&&x.byteLength>3&&this.trigger("data",x.subarray(g+3)),x=null,g=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ka.prototype=new zp,Vp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},yc=function(){var g=new ka,_,x,w,D,N,G,X;yc.prototype.init.call(this),_=this,this.push=function(Z){Z.type==="video"&&(x=Z.trackId,w=Z.pts,D=Z.dts,g.push(Z))},g.on("data",function(Z){var ne={trackId:x,pts:w,dts:D,data:Z,nalUnitTypeCode:Z[0]&31};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=N(Z.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=N(Z.subarray(1)),ne.config=G(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",ne)}),g.on("done",function(){_.trigger("done")}),g.on("partialdone",function(){_.trigger("partialdone")}),g.on("reset",function(){_.trigger("reset")}),g.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){g.flush()},this.partialFlush=function(){g.partialFlush()},this.reset=function(){g.reset()},this.endTimeline=function(){g.endTimeline()},X=function(Z,ne){var de=8,Ae=8,He,Ie;for(He=0;He<Z;He++)Ae!==0&&(Ie=ne.readExpGolomb(),Ae=(de+Ie+256)%256),de=Ae===0?de:Ae},N=function(Z){for(var ne=Z.byteLength,de=[],Ae=1,He,Ie;Ae<ne-2;)Z[Ae]===0&&Z[Ae+1]===0&&Z[Ae+2]===3?(de.push(Ae+2),Ae+=2):Ae++;if(de.length===0)return Z;He=ne-de.length,Ie=new Uint8Array(He);var it=0;for(Ae=0;Ae<He;it++,Ae++)it===de[0]&&(it++,de.shift()),Ie[Ae]=Z[it];return Ie},G=function(Z){var ne=0,de=0,Ae=0,He=0,Ie,it,ut,Dr,pi,Na,JD,ZD,e6,e2,t6,wr=[1,1],r6,Oa;if(Ie=new Ob(Z),it=Ie.readUnsignedByte(),Dr=Ie.readUnsignedByte(),ut=Ie.readUnsignedByte(),Ie.skipUnsignedExpGolomb(),Vp[it]&&(pi=Ie.readUnsignedExpGolomb(),pi===3&&Ie.skipBits(1),Ie.skipUnsignedExpGolomb(),Ie.skipUnsignedExpGolomb(),Ie.skipBits(1),Ie.readBoolean()))for(t6=pi!==3?8:12,Oa=0;Oa<t6;Oa++)Ie.readBoolean()&&(Oa<6?X(16,Ie):X(64,Ie));if(Ie.skipUnsignedExpGolomb(),Na=Ie.readUnsignedExpGolomb(),Na===0)Ie.readUnsignedExpGolomb();else if(Na===1)for(Ie.skipBits(1),Ie.skipExpGolomb(),Ie.skipExpGolomb(),JD=Ie.readUnsignedExpGolomb(),Oa=0;Oa<JD;Oa++)Ie.skipExpGolomb();if(Ie.skipUnsignedExpGolomb(),Ie.skipBits(1),ZD=Ie.readUnsignedExpGolomb(),e6=Ie.readUnsignedExpGolomb(),e2=Ie.readBits(1),e2===0&&Ie.skipBits(1),Ie.skipBits(1),Ie.readBoolean()&&(ne=Ie.readUnsignedExpGolomb(),de=Ie.readUnsignedExpGolomb(),Ae=Ie.readUnsignedExpGolomb(),He=Ie.readUnsignedExpGolomb()),Ie.readBoolean()&&Ie.readBoolean()){switch(r6=Ie.readUnsignedByte(),r6){case 1:wr=[1,1];break;case 2:wr=[12,11];break;case 3:wr=[10,11];break;case 4:wr=[16,11];break;case 5:wr=[40,33];break;case 6:wr=[24,11];break;case 7:wr=[20,11];break;case 8:wr=[32,11];break;case 9:wr=[80,33];break;case 10:wr=[18,11];break;case 11:wr=[15,11];break;case 12:wr=[64,33];break;case 13:wr=[160,99];break;case 14:wr=[4,3];break;case 15:wr=[3,2];break;case 16:wr=[2,1];break;case 255:{wr=[Ie.readUnsignedByte()<<8|Ie.readUnsignedByte(),Ie.readUnsignedByte()<<8|Ie.readUnsignedByte()];break}}wr&&wr[0]/wr[1]}return{profileIdc:it,levelIdc:ut,profileCompatibility:Dr,width:(ZD+1)*16-ne*2-de*2,height:(2-e2)*(e6+1)*16-Ae*2-He*2,sarRatio:wr}}},yc.prototype=new zp;var Lb={H264Stream:yc,NalByteStream:ka},Bb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Hp=function(g,_){var x=g[_+6]<<21|g[_+7]<<14|g[_+8]<<7|g[_+9],w=g[_+5],D=(w&16)>>4;return x=x>=0?x:0,D?x+20:x+10},qp=function(g,_){return g.length-_<10||g[_]!==73||g[_+1]!==68||g[_+2]!==51?_:(_+=Hp(g,_),qp(g,_))},Rb=function(g){var _=qp(g,0);return g.length>=_+2&&(g[_]&255)===255&&(g[_+1]&240)===240&&(g[_+1]&22)===16},Wp=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},Pb=function(g,_,x){var w,D="";for(w=_;w<x;w++)D+="%"+("00"+g[w].toString(16)).slice(-2);return D},Fb=function(g,_,x){return unescape(Pb(g,_,x))},Ub=function(g,_){var x=(g[_+5]&224)>>5,w=g[_+4]<<3,D=g[_+3]&6144;return D|w|x},jb=function(g,_){return g[_]===73&&g[_+1]===68&&g[_+2]===51?"timed-metadata":g[_]&!0&&(g[_+1]&240)===240?"audio":null},$b=function(g){for(var _=0;_+5<g.length;){if(g[_]!==255||(g[_+1]&246)!==240){_++;continue}return Bb[(g[_+2]&60)>>>2]}return null},zb=function(g){var _,x,w,D;_=10,g[5]&64&&(_+=4,_+=Wp(g.subarray(10,14)));do{if(x=Wp(g.subarray(_+4,_+8)),x<1)return null;if(D=String.fromCharCode(g[_],g[_+1],g[_+2],g[_+3]),D==="PRIV"){w=g.subarray(_+10,_+x+10);for(var N=0;N<w.byteLength;N++)if(w[N]===0){var G=Fb(w,0,N);if(G==="com.apple.streaming.transportStreamTimestamp"){var X=w.subarray(N+1),Z=(X[3]&1)<<30|X[4]<<22|X[5]<<14|X[6]<<6|X[7]>>>2;return Z*=4,Z+=X[7]&3,Z}break}}_+=10,_+=x}while(_<g.byteLength);return null},qt={isLikelyAacData:Rb,parseId3TagSize:Hp,parseAdtsSize:Ub,parseType:jb,parseSampleRate:$b,parseAacTimestamp:zb},ue=r,_e=qt,Bt;Bt=function(){var g=new Uint8Array,_=0;Bt.prototype.init.call(this),this.setTimestamp=function(x){_=x},this.push=function(x){var w=0,D=0,N,G,X,Z;for(g.length?(Z=g.length,g=new Uint8Array(x.byteLength+Z),g.set(g.subarray(0,Z)),g.set(x,Z)):g=x;g.length-D>=3;){if(g[D]===73&&g[D+1]===68&&g[D+2]===51){if(g.length-D<10||(w=_e.parseId3TagSize(g,D),D+w>g.length))break;G={type:"timed-metadata",data:g.subarray(D,D+w)},this.trigger("data",G),D+=w;continue}else if((g[D]&255)===255&&(g[D+1]&240)===240){if(g.length-D<7||(w=_e.parseAdtsSize(g,D),D+w>g.length))break;X={type:"audio",data:g.subarray(D,D+w),pts:_,dts:_},this.trigger("data",X),D+=w;continue}D++}N=g.length-D,N>0?g=g.subarray(D):g=new Uint8Array},this.reset=function(){g=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){g=new Uint8Array,this.trigger("endedtimeline")}},Bt.prototype=new ue;var Vb=Bt,Ia=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],_d=Ia,Hb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Bue=Hb,Gp=r,wd=ie,xd=he,Qp=Ui,$i=Vn,zo=vd,Yp=Ke,ID=Gn,Rue=Lb.H264Stream,Pue=Vb,Fue=qt.isLikelyAacData,Uue=Ke.ONE_SECOND_IN_TS,qb=_d,Wb=Bue,Ad,bc,Kp,Da,jue=function(g,_){_.stream=g,this.trigger("log",_)},DD=function(g,_){for(var x=Object.keys(_),w=0;w<x.length;w++){var D=x[w];D==="headOfPipeline"||!_[D].on||_[D].on("log",jue.bind(g,D))}},MD=function(g,_){var x;if(g.length!==_.length)return!1;for(x=0;x<g.length;x++)if(g[x]!==_[x])return!1;return!0},Gb=function(g,_,x,w,D,N){var G=x-_,X=w-_,Z=D-x;return{start:{dts:g,pts:g+G},end:{dts:g+X,pts:g+Z},prependedContentDuration:N,baseMediaDecodeTime:g}};bc=function(g,_){var x=[],w,D=0,N=0,G=1/0;_=_||{},w=_.firstSequenceNumber||0,bc.prototype.init.call(this),this.push=function(X){$i.collectDtsInfo(g,X),g&&qb.forEach(function(Z){g[Z]=X[Z]}),x.push(X)},this.setEarliestDts=function(X){D=X},this.setVideoBaseMediaDecodeTime=function(X){G=X},this.setAudioAppendStart=function(X){N=X},this.flush=function(){var X,Z,ne,de,Ae,He,Ie;if(x.length===0){this.trigger("done","AudioSegmentStream");return}X=Qp.trimAdtsFramesByEarliestDts(x,g,D),g.baseMediaDecodeTime=$i.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),Ie=Qp.prefixWithSilence(g,X,N,G),g.samples=Qp.generateSampleTable(X),ne=wd.mdat(Qp.concatenateFrameData(X)),x=[],Z=wd.moof(w,[g]),de=new Uint8Array(Z.byteLength+ne.byteLength),w++,de.set(Z),de.set(ne,Z.byteLength),$i.clearDtsInfo(g),Ae=Math.ceil(Uue*1024/g.samplerate),X.length&&(He=X.length*Ae,this.trigger("segmentTimingInfo",Gb(Yp.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),X[0].dts,X[0].pts,X[0].dts+He,X[0].pts+He,Ie||0)),this.trigger("timingInfo",{start:X[0].pts,end:X[0].pts+He})),this.trigger("data",{track:g,boxes:de}),this.trigger("done","AudioSegmentStream")},this.reset=function(){$i.clearDtsInfo(g),x=[],this.trigger("reset")}},bc.prototype=new Gp,Ad=function(g,_){var x,w=[],D=[],N,G;_=_||{},x=_.firstSequenceNumber||0,Ad.prototype.init.call(this),delete g.minPTS,this.gopCache_=[],this.push=function(X){$i.collectDtsInfo(g,X),X.nalUnitType==="seq_parameter_set_rbsp"&&!N&&(N=X.config,g.sps=[X.data],Wb.forEach(function(Z){g[Z]=N[Z]},this)),X.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=X.data,g.pps=[X.data]),w.push(X)},this.flush=function(){for(var X,Z,ne,de,Ae,He,Ie=0,it,ut;w.length&&w[0].nalUnitType!=="access_unit_delimiter_rbsp";)w.shift();if(w.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(X=xd.groupNalsIntoFrames(w),ne=xd.groupFramesIntoGops(X),ne[0][0].keyFrame||(Z=this.getGopForFusion_(w[0],g),Z?(Ie=Z.duration,ne.unshift(Z),ne.byteLength+=Z.byteLength,ne.nalCount+=Z.nalCount,ne.pts=Z.pts,ne.dts=Z.dts,ne.duration+=Z.duration):ne=xd.extendFirstKeyFrame(ne)),D.length){var Dr;if(_.alignGopsAtEnd?Dr=this.alignGopsAtEnd_(ne):Dr=this.alignGopsAtStart_(ne),!Dr){this.gopCache_.unshift({gop:ne.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}$i.clearDtsInfo(g),ne=Dr}$i.collectDtsInfo(g,ne),g.samples=xd.generateSampleTable(ne),Ae=wd.mdat(xd.concatenateNalData(ne)),g.baseMediaDecodeTime=$i.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",ne.map(function(pi){return{pts:pi.pts,dts:pi.dts,byteLength:pi.byteLength}})),it=ne[0],ut=ne[ne.length-1],this.trigger("segmentTimingInfo",Gb(g.baseMediaDecodeTime,it.dts,it.pts,ut.dts+ut.duration,ut.pts+ut.duration,Ie)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[ne.length-1].pts+ne[ne.length-1].duration}),this.gopCache_.unshift({gop:ne.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.trigger("baseMediaDecodeTime",g.baseMediaDecodeTime),this.trigger("timelineStartInfo",g.timelineStartInfo),de=wd.moof(x,[g]),He=new Uint8Array(de.byteLength+Ae.byteLength),x++,He.set(de),He.set(Ae,de.byteLength),this.trigger("data",{track:g,boxes:He}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),w=[],this.gopCache_.length=0,D.length=0,this.trigger("reset")},this.resetStream_=function(){$i.clearDtsInfo(g),N=void 0,G=void 0},this.getGopForFusion_=function(X){var Z=45e3,ne=1e4,de=1/0,Ae,He,Ie,it,ut;for(ut=0;ut<this.gopCache_.length;ut++)it=this.gopCache_[ut],Ie=it.gop,!(!(g.pps&&MD(g.pps[0],it.pps[0]))||!(g.sps&&MD(g.sps[0],it.sps[0])))&&(Ie.dts<g.timelineStartInfo.dts||(Ae=X.dts-Ie.dts-Ie.duration,Ae>=-ne&&Ae<=Z&&(!He||de>Ae)&&(He=it,de=Ae)));return He?He.gop:null},this.alignGopsAtStart_=function(X){var Z,ne,de,Ae,He,Ie,it,ut;for(He=X.byteLength,Ie=X.nalCount,it=X.duration,Z=ne=0;Z<D.length&&ne<X.length&&(de=D[Z],Ae=X[ne],de.pts!==Ae.pts);){if(Ae.pts>de.pts){Z++;continue}ne++,He-=Ae.byteLength,Ie-=Ae.nalCount,it-=Ae.duration}return ne===0?X:ne===X.length?null:(ut=X.slice(ne),ut.byteLength=He,ut.duration=it,ut.nalCount=Ie,ut.pts=ut[0].pts,ut.dts=ut[0].dts,ut)},this.alignGopsAtEnd_=function(X){var Z,ne,de,Ae,He,Ie;for(Z=D.length-1,ne=X.length-1,He=null,Ie=!1;Z>=0&&ne>=0;){if(de=D[Z],Ae=X[ne],de.pts===Ae.pts){Ie=!0;break}if(de.pts>Ae.pts){Z--;continue}Z===D.length-1&&(He=ne),ne--}if(!Ie&&He===null)return null;var it;if(Ie?it=ne:it=He,it===0)return X;var ut=X.slice(it),Dr=ut.reduce(function(pi,Na){return pi.byteLength+=Na.byteLength,pi.duration+=Na.duration,pi.nalCount+=Na.nalCount,pi},{byteLength:0,duration:0,nalCount:0});return ut.byteLength=Dr.byteLength,ut.duration=Dr.duration,ut.nalCount=Dr.nalCount,ut.pts=ut[0].pts,ut.dts=ut[0].dts,ut},this.alignGopsWith=function(X){D=X}},Ad.prototype=new Gp,Da=function(g,_){this.numberOfTracks=0,this.metadataStream=_,g=g||{},typeof g.remux<"u"?this.remuxTracks=!!g.remux:this.remuxTracks=!0,typeof g.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=g.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Da.prototype.init.call(this),this.push=function(x){if(x.content||x.text)return this.pendingCaptions.push(x);if(x.frames)return this.pendingMetadata.push(x);this.pendingTracks.push(x.track),this.pendingBytes+=x.boxes.byteLength,x.track.type==="video"&&(this.videoTrack=x.track,this.pendingBoxes.push(x.boxes)),x.track.type==="audio"&&(this.audioTrack=x.track,this.pendingBoxes.unshift(x.boxes))}},Da.prototype=new Gp,Da.prototype.flush=function(g){var _=0,x={captions:[],captionStreams:{},metadata:[],info:{}},w,D,N,G=0,X;if(this.pendingTracks.length<this.numberOfTracks){if(g!=="VideoSegmentStream"&&g!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,Wb.forEach(function(Z){x.info[Z]=this.videoTrack[Z]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,qb.forEach(function(Z){x.info[Z]=this.audioTrack[Z]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,N=wd.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(N.byteLength),x.initSegment.set(N),x.data=new Uint8Array(this.pendingBytes),X=0;X<this.pendingBoxes.length;X++)x.data.set(this.pendingBoxes[X],_),_+=this.pendingBoxes[X].byteLength;for(X=0;X<this.pendingCaptions.length;X++)w=this.pendingCaptions[X],w.startTime=Yp.metadataTsToSeconds(w.startPts,G,this.keepOriginalTimestamps),w.endTime=Yp.metadataTsToSeconds(w.endPts,G,this.keepOriginalTimestamps),x.captionStreams[w.stream]=!0,x.captions.push(w);for(X=0;X<this.pendingMetadata.length;X++)D=this.pendingMetadata[X],D.cueTime=Yp.metadataTsToSeconds(D.pts,G,this.keepOriginalTimestamps),x.metadata.push(D);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),X=0;X<x.captions.length;X++)w=x.captions[X],this.trigger("caption",w);for(X=0;X<x.metadata.length;X++)D=x.metadata[X],this.trigger("id3Frame",D)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Da.prototype.setRemux=function(g){this.remuxTracks=g},Kp=function(g){var _=this,x=!0,w,D;Kp.prototype.init.call(this),g=g||{},this.baseMediaDecodeTime=g.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var N={};this.transmuxPipeline_=N,N.type="aac",N.metadataStream=new zo.MetadataStream,N.aacStream=new Pue,N.audioTimestampRolloverStream=new zo.TimestampRolloverStream("audio"),N.timedMetadataTimestampRolloverStream=new zo.TimestampRolloverStream("timed-metadata"),N.adtsStream=new ID,N.coalesceStream=new Da(g,N.metadataStream),N.headOfPipeline=N.aacStream,N.aacStream.pipe(N.audioTimestampRolloverStream).pipe(N.adtsStream),N.aacStream.pipe(N.timedMetadataTimestampRolloverStream).pipe(N.metadataStream).pipe(N.coalesceStream),N.metadataStream.on("timestamp",function(G){N.aacStream.setTimestamp(G.timeStamp)}),N.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||N.audioSegmentStream||(D=D||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},N.coalesceStream.numberOfTracks++,N.audioSegmentStream=new bc(D,g),N.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),N.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),N.adtsStream.pipe(N.audioSegmentStream).pipe(N.coalesceStream),_.trigger("trackinfo",{hasAudio:!!D,hasVideo:!!w}))}),N.coalesceStream.on("data",this.trigger.bind(this,"data")),N.coalesceStream.on("done",this.trigger.bind(this,"done")),DD(this,N)},this.setupTsPipeline=function(){var N={};this.transmuxPipeline_=N,N.type="ts",N.metadataStream=new zo.MetadataStream,N.packetStream=new zo.TransportPacketStream,N.parseStream=new zo.TransportParseStream,N.elementaryStream=new zo.ElementaryStream,N.timestampRolloverStream=new zo.TimestampRolloverStream,N.adtsStream=new ID,N.h264Stream=new Rue,N.captionStream=new zo.CaptionStream(g),N.coalesceStream=new Da(g,N.metadataStream),N.headOfPipeline=N.packetStream,N.packetStream.pipe(N.parseStream).pipe(N.elementaryStream).pipe(N.timestampRolloverStream),N.timestampRolloverStream.pipe(N.h264Stream),N.timestampRolloverStream.pipe(N.adtsStream),N.timestampRolloverStream.pipe(N.metadataStream).pipe(N.coalesceStream),N.h264Stream.pipe(N.captionStream).pipe(N.coalesceStream),N.elementaryStream.on("data",function(G){var X;if(G.type==="metadata"){for(X=G.tracks.length;X--;)!w&&G.tracks[X].type==="video"?(w=G.tracks[X],w.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!D&&G.tracks[X].type==="audio"&&(D=G.tracks[X],D.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);w&&!N.videoSegmentStream&&(N.coalesceStream.numberOfTracks++,N.videoSegmentStream=new Ad(w,g),N.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),N.videoSegmentStream.on("timelineStartInfo",function(Z){D&&!g.keepOriginalTimestamps&&(D.timelineStartInfo=Z,N.audioSegmentStream.setEarliestDts(Z.dts-_.baseMediaDecodeTime))}),N.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),N.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),N.videoSegmentStream.on("baseMediaDecodeTime",function(Z){D&&N.audioSegmentStream.setVideoBaseMediaDecodeTime(Z)}),N.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),N.h264Stream.pipe(N.videoSegmentStream).pipe(N.coalesceStream)),D&&!N.audioSegmentStream&&(N.coalesceStream.numberOfTracks++,N.audioSegmentStream=new bc(D,g),N.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),N.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),N.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),N.adtsStream.pipe(N.audioSegmentStream).pipe(N.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!D,hasVideo:!!w})}}),N.coalesceStream.on("data",this.trigger.bind(this,"data")),N.coalesceStream.on("id3Frame",function(G){G.dispatchType=N.metadataStream.dispatchType,_.trigger("id3Frame",G)}),N.coalesceStream.on("caption",this.trigger.bind(this,"caption")),N.coalesceStream.on("done",this.trigger.bind(this,"done")),DD(this,N)},this.setBaseMediaDecodeTime=function(N){var G=this.transmuxPipeline_;g.keepOriginalTimestamps||(this.baseMediaDecodeTime=N),D&&(D.timelineStartInfo.dts=void 0,D.timelineStartInfo.pts=void 0,$i.clearDtsInfo(D),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),w&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,$i.clearDtsInfo(w),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(N){D&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(N)},this.setRemux=function(N){var G=this.transmuxPipeline_;g.remux=N,G&&G.coalesceStream&&G.coalesceStream.setRemux(N)},this.alignGopsWith=function(N){w&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(N)},this.getLogTrigger_=function(N){var G=this;return function(X){X.stream=N,G.trigger("log",X)}},this.push=function(N){if(x){var G=Fue(N);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),x=!1}this.transmuxPipeline_.headOfPipeline.push(N)},this.flush=function(){x=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Kp.prototype=new Gp;var $ue={Transmuxer:Kp,VideoSegmentStream:Ad,AudioSegmentStream:bc,AUDIO_PROPERTIES:qb,VIDEO_PROPERTIES:Wb,generateSegmentTimingInfo:Gb},zue=function(g){return g>>>0},Vue=function(g){return("00"+g.toString(16)).slice(-2)},Xp={toUnsigned:zue,toHexString:Vue},Hue=function(g){var _="";return _+=String.fromCharCode(g[0]),_+=String.fromCharCode(g[1]),_+=String.fromCharCode(g[2]),_+=String.fromCharCode(g[3]),_},ND=Hue,que=Xp.toUnsigned,Wue=ND,OD=function(g,_){var x=[],w,D,N,G,X;if(!_.length)return null;for(w=0;w<g.byteLength;)D=que(g[w]<<24|g[w+1]<<16|g[w+2]<<8|g[w+3]),N=Wue(g.subarray(w+4,w+8)),G=D>1?w+D:g.byteLength,N===_[0]&&(_.length===1?x.push(g.subarray(w+8,G)):(X=OD(g.subarray(w+8,G),_.slice(1)),X.length&&(x=x.concat(X)))),w=G;return x},LD=OD,Gue=Xp.toUnsigned,Que=o.getUint64,Yue=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4))};return _.version===1?_.baseMediaDecodeTime=Que(g.subarray(4)):_.baseMediaDecodeTime=Gue(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),_},BD=Yue,Kue=function(g){return{isLeading:(g[0]&12)>>>2,dependsOn:g[0]&3,isDependedOn:(g[1]&192)>>>6,hasRedundancy:(g[1]&48)>>>4,paddingValue:(g[1]&14)>>>1,isNonSyncSample:g[1]&1,degradationPriority:g[2]<<8|g[3]}},Xue=Kue,RD=Xue,Jue=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4)),samples:[]},x=new DataView(g.buffer,g.byteOffset,g.byteLength),w=_.flags[2]&1,D=_.flags[2]&4,N=_.flags[1]&1,G=_.flags[1]&2,X=_.flags[1]&4,Z=_.flags[1]&8,ne=x.getUint32(4),de=8,Ae;for(w&&(_.dataOffset=x.getInt32(de),de+=4),D&&ne&&(Ae={flags:RD(g.subarray(de,de+4))},de+=4,N&&(Ae.duration=x.getUint32(de),de+=4),G&&(Ae.size=x.getUint32(de),de+=4),Z&&(_.version===1?Ae.compositionTimeOffset=x.getInt32(de):Ae.compositionTimeOffset=x.getUint32(de),de+=4),_.samples.push(Ae),ne--);ne--;)Ae={},N&&(Ae.duration=x.getUint32(de),de+=4),G&&(Ae.size=x.getUint32(de),de+=4),X&&(Ae.flags=RD(g.subarray(de,de+4)),de+=4),Z&&(_.version===1?Ae.compositionTimeOffset=x.getInt32(de):Ae.compositionTimeOffset=x.getUint32(de),de+=4),_.samples.push(Ae);return _},PD=Jue,Zue=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),x={version:g[0],flags:new Uint8Array(g.subarray(1,4)),trackId:_.getUint32(4)},w=x.flags[2]&1,D=x.flags[2]&2,N=x.flags[2]&8,G=x.flags[2]&16,X=x.flags[2]&32,Z=x.flags[0]&65536,ne=x.flags[0]&131072,de;return de=8,w&&(de+=4,x.baseDataOffset=_.getUint32(12),de+=4),D&&(x.sampleDescriptionIndex=_.getUint32(de),de+=4),N&&(x.defaultSampleDuration=_.getUint32(de),de+=4),G&&(x.defaultSampleSize=_.getUint32(de),de+=4),X&&(x.defaultSampleFlags=_.getUint32(de)),Z&&(x.durationIsEmpty=!0),!w&&ne&&(x.baseDataOffsetIsMoof=!0),x},FD=Zue,Td;typeof window<"u"?Td=window:typeof t<"u"?Td=t:typeof self<"u"?Td=self:Td={};var UD=Td,ede=un.discardEmulationPreventionBytes,tde=$p.CaptionStream,Cd=LD,rde=BD,nde=PD,ide=FD,jD=UD,ode=function(g,_){for(var x=g,w=0;w<_.length;w++){var D=_[w];if(x<D.size)return D;x-=D.size}return null},sde=function(g,_,x){var w=new DataView(g.buffer,g.byteOffset,g.byteLength),D={logs:[],seiNals:[]},N,G,X,Z;for(G=0;G+4<g.length;G+=X)if(X=w.getUint32(G),G+=4,!(X<=0))switch(g[G]&31){case 6:var ne=g.subarray(G+1,G+1+X),de=ode(G,_);if(N={nalUnitType:"sei_rbsp",size:X,data:ne,escapedRBSP:ede(ne),trackId:x},de)N.pts=de.pts,N.dts=de.dts,Z=de;else if(Z)N.pts=Z.pts,N.dts=Z.dts;else{D.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+x+". See mux.js#223."});break}D.seiNals.push(N);break}return D},ade=function(g,_,x){var w=_,D=x.defaultSampleDuration||0,N=x.defaultSampleSize||0,G=x.trackId,X=[];return g.forEach(function(Z){var ne=nde(Z),de=ne.samples;de.forEach(function(Ae){Ae.duration===void 0&&(Ae.duration=D),Ae.size===void 0&&(Ae.size=N),Ae.trackId=G,Ae.dts=w,Ae.compositionTimeOffset===void 0&&(Ae.compositionTimeOffset=0),typeof w=="bigint"?(Ae.pts=w+jD.BigInt(Ae.compositionTimeOffset),w+=jD.BigInt(Ae.duration)):(Ae.pts=w+Ae.compositionTimeOffset,w+=Ae.duration)}),X=X.concat(de)}),X},lde=function(g,_){var x=Cd(g,["moof","traf"]),w=Cd(g,["mdat"]),D={},N=[];return w.forEach(function(G,X){var Z=x[X];N.push({mdat:G,traf:Z})}),N.forEach(function(G){var X=G.mdat,Z=G.traf,ne=Cd(Z,["tfhd"]),de=ide(ne[0]),Ae=de.trackId,He=Cd(Z,["tfdt"]),Ie=He.length>0?rde(He[0]).baseMediaDecodeTime:0,it=Cd(Z,["trun"]),ut,Dr;_===Ae&&it.length>0&&(ut=ade(it,Ie,de),Dr=sde(X,ut,Ae),D[Ae]||(D[Ae]={seiNals:[],logs:[]}),D[Ae].seiNals=D[Ae].seiNals.concat(Dr.seiNals),D[Ae].logs=D[Ae].logs.concat(Dr.logs))}),D},cde=function(g,_,x){var w;if(_===null)return null;w=lde(g,_);var D=w[_]||{};return{seiNals:D.seiNals,logs:D.logs,timescale:x}},ude=function(){var g=!1,_,x,w,D,N,G;this.isInitialized=function(){return g},this.init=function(X){_=new tde,g=!0,G=X?X.isPartial:!1,_.on("data",function(Z){Z.startTime=Z.startPts/D,Z.endTime=Z.endPts/D,N.captions.push(Z),N.captionStreams[Z.stream]=!0}),_.on("log",function(Z){N.logs.push(Z)})},this.isNewInit=function(X,Z){return X&&X.length===0||Z&&typeof Z=="object"&&Object.keys(Z).length===0?!1:w!==X[0]||D!==Z[w]},this.parse=function(X,Z,ne){var de;if(this.isInitialized()){if(!Z||!ne)return null;if(this.isNewInit(Z,ne))w=Z[0],D=ne[w];else if(w===null||!D)return x.push(X),null}else return null;for(;x.length>0;){var Ae=x.shift();this.parse(Ae,Z,ne)}return de=cde(X,w,D),de&&de.logs&&(N.logs=N.logs.concat(de.logs)),de===null||!de.seiNals?N.logs.length?{logs:N.logs,captions:[],captionStreams:[]}:null:(this.pushNals(de.seiNals),this.flushStream(),N)},this.pushNals=function(X){if(!this.isInitialized()||!X||X.length===0)return null;X.forEach(function(Z){_.push(Z)})},this.flushStream=function(){if(!this.isInitialized())return null;G?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){N.captions=[],N.captionStreams={},N.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){x=[],w=null,D=null,N?this.clearParsedCaptions():N={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},dde=ude,fde=function(g){for(var _=0,x=String.fromCharCode(g[_]),w="";x!=="\0";)w+=x,_++,x=String.fromCharCode(g[_]);return w+=x,w},hde={uint8ToCString:fde},Jp=hde.uint8ToCString,pde=o.getUint64,mde=function(g){var _=4,x=g[0],w,D,N,G,X,Z,ne,de;if(x===0){w=Jp(g.subarray(_)),_+=w.length,D=Jp(g.subarray(_)),_+=D.length;var Ae=new DataView(g.buffer);N=Ae.getUint32(_),_+=4,X=Ae.getUint32(_),_+=4,Z=Ae.getUint32(_),_+=4,ne=Ae.getUint32(_),_+=4}else if(x===1){var Ae=new DataView(g.buffer);N=Ae.getUint32(_),_+=4,G=pde(g.subarray(_)),_+=8,Z=Ae.getUint32(_),_+=4,ne=Ae.getUint32(_),_+=4,w=Jp(g.subarray(_)),_+=w.length,D=Jp(g.subarray(_)),_+=D.length}de=new Uint8Array(g.subarray(_,g.byteLength));var He={scheme_id_uri:w,value:D,timescale:N||1,presentation_time:G,presentation_time_delta:X,event_duration:Z,id:ne,message_data:de};return yde(x,He)?He:void 0},gde=function(g,_,x,w){return g||g===0?g/_:w+x/_},yde=function(g,_){var x=_.scheme_id_uri!=="\0",w=g===0&&$D(_.presentation_time_delta)&&x,D=g===1&&$D(_.presentation_time)&&x;return!(g>1)&&w||D},$D=function(g){return g!==void 0||g!==null},bde={parseEmsgBox:mde,scaleTime:gde},Zp=Xp.toUnsigned,Ed=Xp.toHexString,_r=LD,vc=ND,Qb=bde,vde=FD,_de=PD,wde=BD,xde=o.getUint64,zD,VD,HD,qD,WD,Yb,GD,Kb=UD,Ade=jo.parseId3Frames;zD=function(g){var _={},x=_r(g,["moov","trak"]);return x.reduce(function(w,D){var N,G,X,Z,ne;return N=_r(D,["tkhd"])[0],!N||(G=N[0],X=G===0?12:20,Z=Zp(N[X]<<24|N[X+1]<<16|N[X+2]<<8|N[X+3]),ne=_r(D,["mdia","mdhd"])[0],!ne)?null:(G=ne[0],X=G===0?12:20,w[Z]=Zp(ne[X]<<24|ne[X+1]<<16|ne[X+2]<<8|ne[X+3]),w)},_)},VD=function(g,_){var x;x=_r(_,["moof","traf"]);var w=x.reduce(function(D,N){var G=_r(N,["tfhd"])[0],X=Zp(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),Z=g[X]||9e4,ne=_r(N,["tfdt"])[0],de=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),Ae;ne[0]===1?Ae=xde(ne.subarray(4,12)):Ae=de.getUint32(4);let He;return typeof Ae=="bigint"?He=Ae/Kb.BigInt(Z):typeof Ae=="number"&&!isNaN(Ae)&&(He=Ae/Z),He<Number.MAX_SAFE_INTEGER&&(He=Number(He)),He<D&&(D=He),D},1/0);return typeof w=="bigint"||isFinite(w)?w:0},HD=function(g,_){var x=_r(_,["moof","traf"]),w=0,D=0,N;if(x&&x.length){var G=_r(x[0],["tfhd"])[0],X=_r(x[0],["trun"])[0],Z=_r(x[0],["tfdt"])[0];if(G){var ne=vde(G);N=ne.trackId}if(Z){var de=wde(Z);w=de.baseMediaDecodeTime}if(X){var Ae=_de(X);Ae.samples&&Ae.samples.length&&(D=Ae.samples[0].compositionTimeOffset||0)}}var He=g[N]||9e4;typeof w=="bigint"&&(D=Kb.BigInt(D),He=Kb.BigInt(He));var Ie=(w+D)/He;return typeof Ie=="bigint"&&Ie<Number.MAX_SAFE_INTEGER&&(Ie=Number(Ie)),Ie},qD=function(g){var _=_r(g,["moov","trak"]),x=[];return _.forEach(function(w){var D=_r(w,["mdia","hdlr"]),N=_r(w,["tkhd"]);D.forEach(function(G,X){var Z=vc(G.subarray(8,12)),ne=N[X],de,Ae,He;Z==="vide"&&(de=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),Ae=de.getUint8(0),He=Ae===0?de.getUint32(12):de.getUint32(20),x.push(He))})}),x},Yb=function(g){var _=g[0],x=_===0?12:20;return Zp(g[x]<<24|g[x+1]<<16|g[x+2]<<8|g[x+3])},WD=function(g){var _=_r(g,["moov","trak"]),x=[];return _.forEach(function(w){var D={},N=_r(w,["tkhd"])[0],G,X;N&&(G=new DataView(N.buffer,N.byteOffset,N.byteLength),X=G.getUint8(0),D.id=X===0?G.getUint32(12):G.getUint32(20));var Z=_r(w,["mdia","hdlr"])[0];if(Z){var ne=vc(Z.subarray(8,12));ne==="vide"?D.type="video":ne==="soun"?D.type="audio":D.type=ne}var de=_r(w,["mdia","minf","stbl","stsd"])[0];if(de){var Ae=de.subarray(8);D.codec=vc(Ae.subarray(4,8));var He=_r(Ae,[D.codec])[0],Ie,it;He&&(/^[asm]vc[1-9]$/i.test(D.codec)?(Ie=He.subarray(78),it=vc(Ie.subarray(4,8)),it==="avcC"&&Ie.length>11?(D.codec+=".",D.codec+=Ed(Ie[9]),D.codec+=Ed(Ie[10]),D.codec+=Ed(Ie[11])):D.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(D.codec)?(Ie=He.subarray(28),it=vc(Ie.subarray(4,8)),it==="esds"&&Ie.length>20&&Ie[19]!==0?(D.codec+="."+Ed(Ie[19]),D.codec+="."+Ed(Ie[20]>>>2&63).replace(/^0/,"")):D.codec="mp4a.40.2"):D.codec=D.codec.toLowerCase())}var ut=_r(w,["mdia","mdhd"])[0];ut&&(D.timescale=Yb(ut)),x.push(D)}),x},GD=function(g,_=0){var x=_r(g,["emsg"]);return x.map(w=>{var D=Qb.parseEmsgBox(new Uint8Array(w)),N=Ade(D.message_data);return{cueTime:Qb.scaleTime(D.presentation_time,D.timescale,D.presentation_time_delta,_),duration:Qb.scaleTime(D.event_duration,D.timescale),frames:N}})};var Xb={findBox:_r,parseType:vc,timescale:zD,startTime:VD,compositionStartTime:HD,videoTrackIds:qD,tracks:WD,getTimescaleFromMediaHeader:Yb,getEmsgID3:GD},Jb=hc,QD=function(g){var _=g[1]&31;return _<<=8,_|=g[2],_},em=function(g){return!!(g[1]&64)},tm=function(g){var _=0;return(g[3]&48)>>>4>1&&(_+=g[4]+1),_},Tde=function(g,_){var x=QD(g);return x===0?"pat":x===_?"pmt":_?"pes":null},Cde=function(g){var _=em(g),x=4+tm(g);return _&&(x+=g[x]+1),(g[x+10]&31)<<8|g[x+11]},Ede=function(g){var _={},x=em(g),w=4+tm(g);if(x&&(w+=g[w]+1),!!(g[w+5]&1)){var D,N,G;D=(g[w+1]&15)<<8|g[w+2],N=3+D-4,G=(g[w+10]&15)<<8|g[w+11];for(var X=12+G;X<N;){var Z=w+X;_[(g[Z+1]&31)<<8|g[Z+2]]=g[Z],X+=((g[Z+3]&15)<<8|g[Z+4])+5}return _}},Sde=function(g,_){var x=QD(g),w=_[x];switch(w){case Jb.H264_STREAM_TYPE:return"video";case Jb.ADTS_STREAM_TYPE:return"audio";case Jb.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},kde=function(g){var _=em(g);if(!_)return null;var x=4+tm(g);if(x>=g.byteLength)return null;var w=null,D;return D=g[x+7],D&192&&(w={},w.pts=(g[x+9]&14)<<27|(g[x+10]&255)<<20|(g[x+11]&254)<<12|(g[x+12]&255)<<5|(g[x+13]&254)>>>3,w.pts*=4,w.pts+=(g[x+13]&6)>>>1,w.dts=w.pts,D&64&&(w.dts=(g[x+14]&14)<<27|(g[x+15]&255)<<20|(g[x+16]&254)<<12|(g[x+17]&255)<<5|(g[x+18]&254)>>>3,w.dts*=4,w.dts+=(g[x+18]&6)>>>1)),w},Zb=function(g){switch(g){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ide=function(g){for(var _=4+tm(g),x=g.subarray(_),w=0,D=0,N=!1,G;D<x.byteLength-3;D++)if(x[D+2]===1){w=D+5;break}for(;w<x.byteLength;)switch(x[w]){case 0:if(x[w-1]!==0){w+=2;break}else if(x[w-2]!==0){w++;break}D+3!==w-2&&(G=Zb(x[D+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0));do w++;while(x[w]!==1&&w<x.length);D=w-2,w+=3;break;case 1:if(x[w-1]!==0||x[w-2]!==0){w+=3;break}G=Zb(x[D+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0),D=w-2,w+=3;break;default:w+=3;break}return x=x.subarray(D),w-=D,D=0,x&&x.byteLength>3&&(G=Zb(x[D+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0)),N},Dde={parseType:Tde,parsePat:Cde,parsePmt:Ede,parsePayloadUnitStartIndicator:em,parsePesType:Sde,parsePesTime:kde,videoPacketContainsKeyFrame:Ide},YD=hc,_c=Nt.handleRollover,zt={};zt.ts=Dde,zt.aac=qt;var Ma=Ke.ONE_SECOND_IN_TS,hn=188,go=71,Mde=function(g,_){for(var x=0,w=hn,D,N;w<g.byteLength;){if(g[x]===go&&g[w]===go){switch(D=g.subarray(x,w),N=zt.ts.parseType(D,_.pid),N){case"pat":_.pid=zt.ts.parsePat(D);break;case"pmt":var G=zt.ts.parsePmt(D);_.table=_.table||{},Object.keys(G).forEach(function(X){_.table[X]=G[X]});break}x+=hn,w+=hn;continue}x++,w++}},KD=function(g,_,x){for(var w=0,D=hn,N,G,X,Z,ne,de=!1;D<=g.byteLength;){if(g[w]===go&&(g[D]===go||D===g.byteLength)){switch(N=g.subarray(w,D),G=zt.ts.parseType(N,_.pid),G){case"pes":X=zt.ts.parsePesType(N,_.table),Z=zt.ts.parsePayloadUnitStartIndicator(N),X==="audio"&&Z&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="audio",x.audio.push(ne),de=!0));break}if(de)break;w+=hn,D+=hn;continue}w++,D++}for(D=g.byteLength,w=D-hn,de=!1;w>=0;){if(g[w]===go&&(g[D]===go||D===g.byteLength)){switch(N=g.subarray(w,D),G=zt.ts.parseType(N,_.pid),G){case"pes":X=zt.ts.parsePesType(N,_.table),Z=zt.ts.parsePayloadUnitStartIndicator(N),X==="audio"&&Z&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="audio",x.audio.push(ne),de=!0));break}if(de)break;w-=hn,D-=hn;continue}w--,D--}},Nde=function(g,_,x){for(var w=0,D=hn,N,G,X,Z,ne,de,Ae,He,Ie=!1,it={data:[],size:0};D<g.byteLength;){if(g[w]===go&&g[D]===go){switch(N=g.subarray(w,D),G=zt.ts.parseType(N,_.pid),G){case"pes":if(X=zt.ts.parsePesType(N,_.table),Z=zt.ts.parsePayloadUnitStartIndicator(N),X==="video"&&(Z&&!Ie&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="video",x.video.push(ne),Ie=!0)),!x.firstKeyFrame)){if(Z&&it.size!==0){for(de=new Uint8Array(it.size),Ae=0;it.data.length;)He=it.data.shift(),de.set(He,Ae),Ae+=He.byteLength;if(zt.ts.videoPacketContainsKeyFrame(de)){var ut=zt.ts.parsePesTime(de);ut?(x.firstKeyFrame=ut,x.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}it.size=0}it.data.push(N),it.size+=N.byteLength}break}if(Ie&&x.firstKeyFrame)break;w+=hn,D+=hn;continue}w++,D++}for(D=g.byteLength,w=D-hn,Ie=!1;w>=0;){if(g[w]===go&&g[D]===go){switch(N=g.subarray(w,D),G=zt.ts.parseType(N,_.pid),G){case"pes":X=zt.ts.parsePesType(N,_.table),Z=zt.ts.parsePayloadUnitStartIndicator(N),X==="video"&&Z&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="video",x.video.push(ne),Ie=!0));break}if(Ie)break;w-=hn,D-=hn;continue}w--,D--}},Ode=function(g,_){if(g.audio&&g.audio.length){var x=_;(typeof x>"u"||isNaN(x))&&(x=g.audio[0].dts),g.audio.forEach(function(N){N.dts=_c(N.dts,x),N.pts=_c(N.pts,x),N.dtsTime=N.dts/Ma,N.ptsTime=N.pts/Ma})}if(g.video&&g.video.length){var w=_;if((typeof w>"u"||isNaN(w))&&(w=g.video[0].dts),g.video.forEach(function(N){N.dts=_c(N.dts,w),N.pts=_c(N.pts,w),N.dtsTime=N.dts/Ma,N.ptsTime=N.pts/Ma}),g.firstKeyFrame){var D=g.firstKeyFrame;D.dts=_c(D.dts,w),D.pts=_c(D.pts,w),D.dtsTime=D.dts/Ma,D.ptsTime=D.pts/Ma}}},Lde=function(g){for(var _=!1,x=0,w=null,D=null,N=0,G=0,X;g.length-G>=3;){var Z=zt.aac.parseType(g,G);switch(Z){case"timed-metadata":if(g.length-G<10){_=!0;break}if(N=zt.aac.parseId3TagSize(g,G),N>g.length){_=!0;break}D===null&&(X=g.subarray(G,G+N),D=zt.aac.parseAacTimestamp(X)),G+=N;break;case"audio":if(g.length-G<7){_=!0;break}if(N=zt.aac.parseAdtsSize(g,G),N>g.length){_=!0;break}w===null&&(X=g.subarray(G,G+N),w=zt.aac.parseSampleRate(X)),x++,G+=N;break;default:G++;break}if(_)return null}if(w===null||D===null)return null;var ne=Ma/w,de={audio:[{type:"audio",dts:D,pts:D},{type:"audio",dts:D+x*1024*ne,pts:D+x*1024*ne}]};return de},Bde=function(g){var _={pid:null,table:null},x={};Mde(g,_);for(var w in _.table)if(_.table.hasOwnProperty(w)){var D=_.table[w];switch(D){case YD.H264_STREAM_TYPE:x.video=[],Nde(g,_,x),x.video.length===0&&delete x.video;break;case YD.ADTS_STREAM_TYPE:x.audio=[],KD(g,_,x),x.audio.length===0&&delete x.audio;break}}return x},Rde=function(g,_){var x=zt.aac.isLikelyAacData(g),w;return x?w=Lde(g):w=Bde(g),!w||!w.audio&&!w.video?null:(Ode(w,_),w)},Pde={inspect:Rde,parseAudioPes_:KD};const Fde=function(g,_){_.on("data",function(x){const w=x.initSegment;x.initSegment={data:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength};const D=x.data;x.data=D.buffer,g.postMessage({action:"data",segment:x,byteOffset:D.byteOffset,byteLength:D.byteLength},[x.data])}),_.on("done",function(x){g.postMessage({action:"done"})}),_.on("gopInfo",function(x){g.postMessage({action:"gopInfo",gopInfo:x})}),_.on("videoSegmentTimingInfo",function(x){const w={start:{decode:Ke.videoTsToSeconds(x.start.dts),presentation:Ke.videoTsToSeconds(x.start.pts)},end:{decode:Ke.videoTsToSeconds(x.end.dts),presentation:Ke.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Ke.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(w.prependedContentDuration=Ke.videoTsToSeconds(x.prependedContentDuration)),g.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:w})}),_.on("audioSegmentTimingInfo",function(x){const w={start:{decode:Ke.videoTsToSeconds(x.start.dts),presentation:Ke.videoTsToSeconds(x.start.pts)},end:{decode:Ke.videoTsToSeconds(x.end.dts),presentation:Ke.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Ke.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(w.prependedContentDuration=Ke.videoTsToSeconds(x.prependedContentDuration)),g.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:w})}),_.on("id3Frame",function(x){g.postMessage({action:"id3Frame",id3Frame:x})}),_.on("caption",function(x){g.postMessage({action:"caption",caption:x})}),_.on("trackinfo",function(x){g.postMessage({action:"trackinfo",trackInfo:x})}),_.on("audioTimingInfo",function(x){g.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ke.videoTsToSeconds(x.start),end:Ke.videoTsToSeconds(x.end)}})}),_.on("videoTimingInfo",function(x){g.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ke.videoTsToSeconds(x.start),end:Ke.videoTsToSeconds(x.end)}})}),_.on("log",function(x){g.postMessage({action:"log",log:x})})};class XD{constructor(_,x){this.options=x||{},this.self=_,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new $ue.Transmuxer(this.options),Fde(this.self,this.transmuxer)}pushMp4Captions(_){this.captionParser||(this.captionParser=new dde,this.captionParser.init());const x=new Uint8Array(_.data,_.byteOffset,_.byteLength),w=this.captionParser.parse(x,_.trackIds,_.timescales);this.self.postMessage({action:"mp4Captions",captions:w&&w.captions||[],logs:w&&w.logs||[],data:x.buffer},[x.buffer])}probeMp4StartTime({timescales:_,data:x}){const w=Xb.startTime(_,x);this.self.postMessage({action:"probeMp4StartTime",startTime:w,data:x},[x.buffer])}probeMp4Tracks({data:_}){const x=Xb.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:_},[_.buffer])}probeEmsgID3({data:_,offset:x}){const w=Xb.getEmsgID3(_,x);this.self.postMessage({action:"probeEmsgID3",id3Frames:w,emsgData:_},[_.buffer])}probeTs({data:_,baseStartTime:x}){const w=typeof x=="number"&&!isNaN(x)?x*Ke.ONE_SECOND_IN_TS:void 0,D=Pde.inspect(_,w);let N=null;D&&(N={hasVideo:D.video&&D.video.length===2||!1,hasAudio:D.audio&&D.audio.length===2||!1},N.hasVideo&&(N.videoStart=D.video[0].ptsTime),N.hasAudio&&(N.audioStart=D.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:N,data:_},[_.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(_){const x=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.transmuxer.push(x)}reset(){this.transmuxer.reset()}setTimestampOffset(_){const x=_.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ke.secondsToVideoTs(x)))}setAudioAppendStart(_){this.transmuxer.setAudioAppendStart(Math.ceil(Ke.secondsToVideoTs(_.appendStart)))}setRemux(_){this.transmuxer.setRemux(_.remux)}flush(_){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(_){this.transmuxer.alignGopsWith(_.gopsToAlignWith.slice())}}self.onmessage=function(g){if(g.data.action==="init"&&g.data.options){this.messageHandlers=new XD(self,g.data.options);return}this.messageHandlers||(this.messageHandlers=new XD(self)),g.data&&g.data.action&&g.data.action!=="init"&&this.messageHandlers[g.data.action]&&this.messageHandlers[g.data.action](g.data)}}));var KP=vT(YP);const XP=(t,e,r)=>{const{type:n,initSegment:i,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:d}=t.data.segment;e.buffer.push({captions:o,captionStreams:s,metadata:a});const f=t.data.segment.boxes||{data:t.data.segment.data},u={type:n,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(u.videoFrameDtsTime=l),typeof d<"u"&&(u.videoFramePtsTime=d),r(u)},JP=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},ZP=(t,e)=>{e.gopInfo=t.data.gopInfo},xT=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:u,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:y,onTransmuxerLog:v,isEndOfTimeline:b}=t,A={buffer:[]};let C=b;const S=M=>{e.currentTransmux===t&&(M.data.action==="data"&&XP(M,A,s),M.data.action==="trackinfo"&&a(M.data.trackInfo),M.data.action==="gopInfo"&&ZP(M,A),M.data.action==="audioTimingInfo"&&l(M.data.audioTimingInfo),M.data.action==="videoTimingInfo"&&d(M.data.videoTimingInfo),M.data.action==="videoSegmentTimingInfo"&&f(M.data.videoSegmentTimingInfo),M.data.action==="audioSegmentTimingInfo"&&u(M.data.audioSegmentTimingInfo),M.data.action==="id3Frame"&&h([M.data.id3Frame],M.data.id3Frame.dispatchType),M.data.action==="caption"&&p(M.data.caption),M.data.action==="endedtimeline"&&(C=!1,y()),M.data.action==="log"&&v(M.data.log),M.data.type==="transmuxed"&&(C||(e.onmessage=null,JP({transmuxedData:A,callback:m}),AT(e))))};if(e.onmessage=S,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof o<"u"&&e.postMessage({action:"setRemux",remux:o}),r.byteLength){const M=r instanceof ArrayBuffer?r:r.buffer,I=r instanceof ArrayBuffer?0:r.byteOffset;e.postMessage({action:"push",data:M,byteOffset:I,byteLength:r.byteLength},[M])}b&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},AT=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():xT(t.currentTransmux))},TT=(t,e)=>{t.postMessage({action:e}),AT(t)},CT=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,TT(e,t);return}e.transmuxQueue.push(TT.bind(null,e,t))},e7=t=>{CT("reset",t)},t7=t=>{CT("endTimeline",t)},ET=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,xT(t);return}t.transmuxer.transmuxQueue.push(t)};var z0={reset:e7,endTimeline:t7,transmux:ET,createTransmuxer:t=>{const e=new KP;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e}};const bu=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=xi({},t,{endAction:null,transmuxer:null,callback:null}),o=s=>{s.data.action===r&&(e.removeEventListener("message",o),s.data.data&&(s.data.data=new Uint8Array(s.data.data,t.byteOffset||0,t.byteLength||s.data.data.byteLength),t.data&&(t.data=s.data.data)),n(s.data))};if(e.addEventListener("message",o),t.data){const s=t.data instanceof ArrayBuffer;i.byteOffset=s?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const a=[s?t.data:t.data.buffer];e.postMessage(i,a)}else e.postMessage(i)},to={FAILURE:2,TIMEOUT:-101,ABORTED:-102},V0=t=>{t.forEach(e=>{e.abort()})},r7=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),n7=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},H0=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:to.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:to.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:to.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:to.FAILURE,xhr:e}:null,ST=(t,e,r)=>(n,i)=>{const o=i.response,s=H0(n,i);if(s)return r(s,t);if(o.byteLength!==16)return r({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:to.FAILURE,xhr:i},t);const a=new DataView(o),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=l;return r(null,t)},kT=(t,e)=>{const r=Eg(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri,i=r||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:to.FAILURE,metadata:{errorType:ye.Error.UnsupportedMediaInitialization,mediaType:i}})}bu({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(o){t.map.tracks=t.map.tracks||{},!t.map.tracks[o.type]&&(t.map.tracks[o.type]=o,typeof o.id=="number"&&o.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[o.id]=o.timescale))}),e(null))})},i7=({segment:t,finishProcessingFn:e})=>(r,n)=>{const i=H0(r,n);if(i)return e(i,t);const o=new Uint8Array(n.response);if(t.map.key)return t.map.encryptedBytes=o,e(null,t);t.map.bytes=o,kT(t,function(s){if(s)return s.xhr=n,s.status=n.status,e(s,t);e(null,t)})},o7=({segment:t,finishProcessingFn:e,responseType:r})=>(n,i)=>{const o=H0(n,i);if(o)return e(o,t);const s=r==="arraybuffer"||!i.responseText?i.response:GP(i.responseText.substring(t.lastReachedChar||0));return t.stats=r7(i),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),e(null,t)},s7=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})=>{const p=t.map&&t.map.tracks||{},m=!!(p.audio&&p.video);let y=n.bind(null,t,"audio","start");const v=n.bind(null,t,"audio","end");let b=n.bind(null,t,"video","start");const A=n.bind(null,t,"video","end"),C=()=>ET({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:S=>{S.type=S.type==="combined"?"video":S.type,f(t,S)},onTrackInfo:S=>{r&&(m&&(S.isMuxed=!0),r(t,S))},onAudioTimingInfo:S=>{y&&typeof S.start<"u"&&(y(S.start),y=null),v&&typeof S.end<"u"&&v(S.end)},onVideoTimingInfo:S=>{b&&typeof S.start<"u"&&(b(S.start),b=null),A&&typeof S.end<"u"&&A(S.end)},onVideoSegmentTimingInfo:S=>{i(S)},onAudioSegmentTimingInfo:S=>{o(S)},onId3:(S,M)=>{s(t,S,M)},onCaptions:S=>{a(t,[S])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:h,onDone:S=>{u&&(S.type=S.type==="combined"?"video":S.type,u(null,t,S))}});bu({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:S=>{t.bytes=e=S.data;const M=S.result;M&&(r(t,{hasAudio:M.hasAudio,hasVideo:M.hasVideo,isMuxed:m}),r=null),C()}})},IT=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})=>{let p=new Uint8Array(e);if(UB(p)){t.isFmp4=!0;const{tracks:m}=t.map,y={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&m.audio.codec!=="enca"&&(y.audioCodec=m.audio.codec),m.video&&m.video.codec&&m.video.codec!=="encv"&&(y.videoCodec=m.video.codec),m.video&&m.audio&&(y.isMuxed=!0),r(t,y);const v=(b,A)=>{f(t,{data:p,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),A&&A.length&&s(t,A),b&&b.length&&a(t,b),u(null,t,{})};bu({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:({data:b,startTime:A})=>{e=b.buffer,t.bytes=p=b,y.hasAudio&&!y.isMuxed&&n(t,"audio","start",A),y.hasVideo&&n(t,"video","start",A),bu({action:"probeEmsgID3",data:p,transmuxer:t.transmuxer,offset:A,callback:({emsgData:C,id3Frames:S})=>{if(e=C.buffer,t.bytes=p=C,!m.video||!C.byteLength||!t.transmuxer){v(void 0,S);return}bu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callback:M=>{e=M.data.buffer,t.bytes=p=M.data,M.logs.forEach(function(I){h(Pt(I,{stream:"mp4CaptionParser"}))}),v(M.captions,S)}})}})}});return}if(!t.transmuxer){u(null,t,{});return}if(typeof t.container>"u"&&(t.container=Eg(p)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),u(null,t,{});return}s7({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})},DT=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n},i){const o=a=>{if(a.data.source===t){n.removeEventListener("message",o);const l=a.data.decrypted;i(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};n.addEventListener("message",o);let s;e.bytes.slice?s=e.bytes.slice():s=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(dT({source:t,encrypted:r,key:s,iv:e.iv}),[r.buffer,s.buffer])},a7=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})=>{DT({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},p=>{e.bytes=p,IT({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})})},l7=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})=>{let p=0,m=!1;return(y,v)=>{if(!m){if(y)return m=!0,V0(t),u(y,v);if(p+=1,p===t.length){const b=function(){if(v.encryptedBytes)return a7({decryptionWorker:e,segment:v,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h});IT({segment:v,bytes:v.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h})};if(v.endOfAllRequests=Date.now(),v.map&&v.map.encryptedBytes&&!v.map.bytes)return DT({decryptionWorker:e,id:v.requestId+"-init",encryptedBytes:v.map.encryptedBytes,key:v.map.key},A=>{v.map.bytes=A,kT(v,C=>{if(C)return V0(t),u(C,v);b()})});b()}}}},c7=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},u7=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f})=>u=>{if(!u.target.aborted)return t.stats=Pt(t.stats,n7(u)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(u,t)},d7=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:y,onTransmuxerLog:v})=>{const b=[],A=l7({activeXhrs:b,decryptionWorker:r,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:y,onTransmuxerLog:v});if(n.key&&!n.key.bytes){const L=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&L.push(n.map.key);const k=Pt(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),T=ST(n,L,A),F=t(k,T);b.push(F)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const z=Pt(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),P=ST(n,[n.map.key],A),R=t(z,P);b.push(R)}const k=Pt(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:U0(n.map),requestType:"segment-media-initialization"}),T=i7({segment:n,finishProcessingFn:A}),F=t(k,T);b.push(F)}const C=Pt(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:U0(n),requestType:"segment"}),S=o7({segment:n,finishProcessingFn:A,responseType:C.responseType}),M=t(C,S);M.addEventListener("progress",u7({segment:n,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),b.push(M);const I={};return b.forEach(L=>{L.addEventListener("loadend",c7({loadendState:I,abortFn:i}))}),()=>V0(b)},f7=Zn("CodecUtils"),h7=function(t){const e=t.attributes||{};if(e.CODECS)return qi(e.CODECS)},MT=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},p7=(t,e)=>{if(!MT(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},ih=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push($_(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){f7(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},NT=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},vu=function(t,e){const r=e.attributes||{},n=ih(h7(e)||[]);if(MT(t,e)&&!n.audio&&!p7(t,e)){const i=ih(UL(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},oh=Zn("PlaylistSelector"),OT=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},sh=function(t,e){if(!t)return"";const r=re.getComputedStyle(t);return r?r[e]:""},Cl=function(t,e){const r=t.slice();t.sort(function(n,i){const o=e(n,i);return o===0?r.indexOf(n)-r.indexOf(i):o})},q0=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||re.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||re.Number.MAX_VALUE,r-n},m7=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||re.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||re.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let LT=function(t,e,r,n,i,o){if(!t)return;const s={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let a=t.playlists;Tn.isAudioOnly(t)&&(a=o.getAudioTrackPlaylists_(),s.audioOnly=!0);let l=a.map(M=>{let I;const L=M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.width,k=M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.height;return I=M.attributes&&M.attributes.BANDWIDTH,I=I||re.Number.MAX_VALUE,{bandwidth:I,width:L,height:k,playlist:M}});Cl(l,(M,I)=>M.bandwidth-I.bandwidth),l=l.filter(M=>!Tn.isIncompatible(M.playlist));let d=l.filter(M=>Tn.isEnabled(M.playlist));d.length||(d=l.filter(M=>!Tn.isDisabled(M.playlist)));const f=d.filter(M=>M.bandwidth*Lr.BANDWIDTH_VARIANCE<e);let u=f[f.length-1];const h=f.filter(M=>M.bandwidth===u.bandwidth)[0];if(i===!1){const M=h||d[0]||l[0];if(M&&M.playlist){let I="sortedPlaylistReps";return h&&(I="bandwidthBestRep"),d[0]&&(I="enabledPlaylistReps"),oh(`choosing ${OT(M)} using ${I} with options`,s),M.playlist}return oh("could not choose a playlist with options",s),null}const p=f.filter(M=>M.width&&M.height);Cl(p,(M,I)=>M.width-I.width);const m=p.filter(M=>M.width===r&&M.height===n);u=m[m.length-1];const y=m.filter(M=>M.bandwidth===u.bandwidth)[0];let v,b,A;y||(v=p.filter(M=>M.width>r||M.height>n),b=v.filter(M=>M.width===v[0].width&&M.height===v[0].height),u=b[b.length-1],A=b.filter(M=>M.bandwidth===u.bandwidth)[0]);let C;if(o.leastPixelDiffSelector){const M=p.map(I=>(I.pixelDiff=Math.abs(I.width-r)+Math.abs(I.height-n),I));Cl(M,(I,L)=>I.pixelDiff===L.pixelDiff?L.bandwidth-I.bandwidth:I.pixelDiff-L.pixelDiff),C=M[0]}const S=C||A||y||h||d[0]||l[0];if(S&&S.playlist){let M="sortedPlaylistReps";return C?M="leastPixelDiffRep":A?M="resolutionPlusOneRep":y?M="resolutionBestRep":h?M="bandwidthBestRep":d[0]&&(M="enabledPlaylistReps"),oh(`choosing ${OT(S)} using ${M} with options`,s),S.playlist}return oh("could not choose a playlist with options",s),null};const BT=function(){let t=this.useDevicePixelRatio&&re.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),LT(this.playlists.main,this.systemBandwidth,parseInt(sh(this.tech_.el(),"width"),10)*t,parseInt(sh(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},g7=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&re.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),LT(this.playlists.main,e,parseInt(sh(this.tech_.el(),"width"),10)*n,parseInt(sh(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},y7=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=t,d=e.playlists.filter(m=>!Tn.isIncompatible(m));let f=d.filter(Tn.isEnabled);f.length||(f=d.filter(m=>!Tn.isDisabled(m)));const h=f.filter(Tn.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const v=l.getSyncPoint(m,i,a,r)?1:2,A=Tn.estimateSegmentRequestTime(o,n,m)*v-s;return{playlist:m,rebufferingImpact:A}}),p=h.filter(m=>m.rebufferingImpact<=0);return Cl(p,(m,y)=>q0(y.playlist,m.playlist)),p.length?p[0]:(Cl(h,(m,y)=>m.rebufferingImpact-y.rebufferingImpact),h[0]||null)},b7=function(){const t=this.playlists.main.playlists.filter(Tn.isEnabled);return Cl(t,(r,n)=>q0(r,n)),t.filter(r=>!!vu(this.playlists.main,r).video)[0]||null},v7=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r};function RT(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const _7=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const o=e.options_.vhs&&e.options_.vhs.captionServices||{};let s=r,a=r,l=!1;const d=o[n];d&&(s=d.label,a=d.language,l=d.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:s,language:a},!1).track}}},w7=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=re.WebKitDataCue||re.VTTCue;e.forEach(i=>{const o=i.stream;i.content?i.content.forEach(s=>{const a=new n(i.startTime+r,i.endTime+r,s.text);a.line=s.line,a.align="left",a.position=s.position,a.positionAlign="line-left",t[o].addCue(a)}):t[o].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},x7=function(t){Object.defineProperties(t.frame,{id:{get(){return ye.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ye.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ye.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},A7=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=re.WebKitDataCue||re.VTTCue,o=t.metadataTrack_;if(!o||(e.forEach(f=>{const u=f.cueTime+r;typeof u!="number"||re.isNaN(u)||u<0||!(u<1/0)||!f.frames||!f.frames.length||f.frames.forEach(h=>{const p=new i(u,u,h.value||h.url||h.data||"");p.frame=h,p.value=h,x7(p),o.addCue(p)})}),!o.cues||!o.cues.length))return;const s=o.cues,a=[];for(let f=0;f<s.length;f++)s[f]&&a.push(s[f]);const l=a.reduce((f,u)=>{const h=f[u.startTime]||[];return h.push(u),f[u.startTime]=h,f},{}),d=Object.keys(l).sort((f,u)=>Number(f)-Number(u));d.forEach((f,u)=>{const h=l[f],p=isFinite(n)?n:f,m=Number(d[u+1])||p;h.forEach(y=>{y.endTime=m})})},T7={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},C7=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),E7=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=re.WebKitDataCue||re.VTTCue;e.forEach(i=>{for(const o of Object.keys(i)){if(C7.has(o))continue;const s=new n(i.startTime,i.endTime,"");s.id=i.id,s.type="com.apple.quicktime.HLS",s.value={key:T7[o],data:i[o]},(o==="scte35Out"||o==="scte35In")&&(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(s)}i.processDateRange()})},PT=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ye.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},_u=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},S7=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],o=`${i.startTime}-${i.endTime}-${i.text}`;r[o]?t.removeCue(i):r[o]=i}},k7=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*zs.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},I7=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},D7=(t,e,r,n)=>{const i=Math.ceil((e-n)*zs.ONE_SECOND_IN_TS),o=Math.ceil((r-n)*zs.ONE_SECOND_IN_TS),s=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=o););if(a===-1)return s;let l=a+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),s.splice(l,a-l+1),s},M7=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i];if(o!==n[i]||t[o]!==e[o])return!1}return!0},FT=22,N7=function(t,e,r){e=e||[];const n=[];let i=0;for(let o=0;o<e.length;o++){const s=e[o];if(t===s.timeline&&(n.push(o),i+=s.duration,i>r))return o}return n.length===0?0:n[n.length-1]},wu=1,O7=500,UT=t=>typeof t=="number"&&isFinite(t),ah=1/60,L7=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,B7=(t,e,r)=>{let n=e-Lr.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},El=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:d,timeline:f}=t,u=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const p=typeof d=="number",m=t.segment.uri?"segment":"pre-segment",y=p?QA({preloadSegment:n})-1:0;return`${m} [${o+l}/${o+u}]`+(p?` part [${d}/${y}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(p?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${f}] selected by [${h}] playlist [${s}]`},jT=t=>`${t}TimingInfo`,R7=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,$T=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const o=t.lastTimelineChange({type:"main"});return!o||o.to!==r}if(n==="main"&&i){const o=t.pendingTimelineChange({type:"audio"});return!(o&&o.to===r)}return!1},P7=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:o}=n;let s;typeof i=="bigint"||typeof o=="bigint"?s=re.BigInt(o)-re.BigInt(i):typeof i=="number"&&typeof o=="number"&&(s=o-i),typeof s<"u"&&s>e&&(e=s)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},zT=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Zi:!1,F7=(t,e)=>{if(e!=="hls")return null;const r=P7({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=zT({segmentDuration:r,maxDuration:n*2}),o=zT({segmentDuration:r,maxDuration:n}),s=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||o?{severity:i?"warn":"info",message:s}:null};class W0 extends ye.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Zn(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return z0.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&re.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,re.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&z0.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return qr();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=nh(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=fT(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const o={resolvedUri:(i||e).resolvedUri};return i&&(o.bytes=i.bytes),o}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let o=null;if(n&&(n.id?o=n.id:n.uri&&(o=n.uri)),this.logger_(`playlist update [${o} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${I0(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const s=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${s}]`),this.mediaIndex!==null)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=s,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(re.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&z0.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let o=1;const s=()=>{o--,o===0&&n()};(i||!this.audioDisabled_)&&(o++,this.sourceUpdater_.removeAudio(e,r,s)),(i||this.loaderType_==="main")&&(this.gopBuffer_=D7(this.gopBuffer_,e,r,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(e,r,s));for(const a in this.inbandTextTracks_)_u(e,r,this.inbandTextTracks_[a]);_u(e,r,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&re.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=re.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&re.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=re.setTimeout(this.monitorBufferTick_.bind(this),O7)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],o=e+1===r.segments.length,s=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&o&&s}chooseNextRequest_(){const e=this.buffered_(),r=I0(e)||0,n=D0(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,o=n>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||i||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=N7(this.currentTimeline_,s,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const h=s[this.mediaIndex],p=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:r,h.parts&&h.parts[p+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=p+1):a.mediaIndex=this.mediaIndex+1}else{let h,p,m;const y=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const v=this.getSyncInfoFromMediaSequenceSync_(y);if(!v)return this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null;this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${v.start} --> ${v.end})`),h=v.segmentIndex,p=v.partIndex,m=v.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const v=Tn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=v.segmentIndex,p=v.partIndex,m=v.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,a.mediaIndex=h,a.startOfSegment=m,a.partIndex=p,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=s[a.mediaIndex];let d=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!d)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,d=l.parts[0]);const f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&d&&!f&&!d.independent)if(a.partIndex===0){const h=s[a.mediaIndex-1],p=h.parts&&h.parts.length&&h.parts[h.parts.length-1];p&&p.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const u=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=s.length-1&&u&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:o,isSyncRequest:s,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:d}=e,f=n.segments[i],u=typeof a=="number"&&f.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||f.resolvedUri,mediaIndex:i,partIndex:u?a:null,isSyncRequest:s,startOfSegment:o,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:u&&u.duration||f.duration,segment:f,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:r},p=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:p});const m=I0(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(h.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=k7(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return R7(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,o=Tn.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),s=lP(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(o<=s)return;const a=y7({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const d=o-s-a.rebufferingImpact;let f=.5;s<=Zi&&(f=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||d<f)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Lr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${El(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},M7(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const o=this.pendingSegment_,s=jT(r);o[s]=o[s]||{},o[s][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};r.forEach(s=>{o[s.stream]=o[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=o[s.stream];a.startTime=Math.min(a.startTime,s.startTime+i),a.endTime=Math.max(a.endTime,s.endTime+i),a.captions.push(s)}),Object.keys(o).forEach(s=>{const{startTime:a,endTime:l,captions:d}=o[s],f=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${s}`),_7(f,this.vhs_.tech_,s),_u(a,l,f[s]),w7({captionArray:d,inbandTextTracks:f,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!$T({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:o}=r;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!o&&!e.audioTimingInfo||$T({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[jT(r.type)].start;else{const i=this.getCurrentMediaInfo_(),o=this.loaderType_==="main"&&i&&i.hasVideo;let s;o&&(s=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:s,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const o=nh(n);if(this.activeInitSegmentId_===o)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=o}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ys(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ys(s).join(", "));const a=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,d=s.length?s.start(0):0,f=s.length?s.end(s.length-1):0;if(l-a<=wu&&f-d<=wu){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Ys(o).join(", ")}, video buffer: ${Ys(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0,metadata:{errorType:ye.Error.SegmentExceedsSourceBufferQuota}}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const h=this.currentTime_()-wu;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${wu}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=re.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},wu*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===FT){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ye.Error.SegmentAppendError}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:o}){if(!o){const s=[i];let a=i.byteLength;n&&(s.unshift(n),a+=n.byteLength),o=v7({bytes:a,segments:s})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:o}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,o=`${e}TimingInfo`;i[o]||(i[o]={}),i[o].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[o].transmuxedPresentationStart=n.start.presentation,i[o].transmuxedDecodeStart=n.start.decode,i[o].transmuxedPresentationEnd=n.end.presentation,i[o].transmuxedDecodeEnd=n.end.decode,i[o].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const o=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:o,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const r=xi({},e,{forceTimestampOffset:!0});xi(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,o=e.timeline!==this.currentTimeline_&&e.timeline>0,s=n||i&&o;this.logger_(`Requesting
${RT(e.uri)}
${El(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=d7({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:d})=>{this.logger_(`${El(e)} logged from transmuxer stream ${d} as a ${l}: ${a}`)}})}trimBackBuffer_(e){const r=B7(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===r.timeline&&(o.videoTimingInfo?i.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(i.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),r.key){const s=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(r.key),i.key.iv=s}return r.map&&(i.map=this.initSegmentForMap(r.map)),i}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<ah){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${ah}`);return}this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===to.ABORTED)return;if(this.pause(),e.code===to.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=I7(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:o,useVideoTimingInfo:s,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!s)return l.start;const d=r.segments[n-1];return n===0||!d||typeof d.start>"u"||d.end!==i+o?i:a.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0,metadata:{errorType:ye.Error.SegmentUnsupportedMediaFormat}}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:o}=r,s=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&n&&!o;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}s&&e.waitingOnAppends++,a&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=L7(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0,metadata:{errorType:ye.Error.SegmentSwitchError}}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=F7(e,this.sourceType_);if(r&&(r.severity==="warn"?ye.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${El(e)}`);return}this.logger_(`Appended ${El(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,o=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,s=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(o||s){this.logger_(`bad ${o?"segment":"part"} ${El(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<ah){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${ah}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!UT(n)||!UT(i))return;_u(n,i,this.segmentMetadataTrack_);const o=re.WebKitDataCue||re.VTTCue,s={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=JSON.stringify(s),l=new o(n,i,a);l.value=s,this.segmentMetadataTrack_.addCue(l)}}function Mo(){}const VT=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},U7=["video","audio"],G0=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},j7=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},Sl=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),Sl("audio",e),Sl("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||G0(t,e))){if(n.type!==t){if(r=j7(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,Sl(t,e);return}}},HT=(t,e)=>{const r=e[`${t}Buffer`],n=VT(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},ro=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,jn={appendBuffer:(t,e,r)=>(n,i)=>{const o=i[`${n}Buffer`];if(ro(i.mediaSource,o)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{o.appendBuffer(t)}catch(s){i.logger_(`Error with code ${s.code} `+(s.code===FT?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(s)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(ro(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];ro(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){ye.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){ye.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(ro(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){ye.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=VT(t),i=zc(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const o=r.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",r[`on${n}UpdateEnd_`]),o.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=o},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(HT(t,e),!!ro(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){ye.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=zc(t);if(!ro(r.mediaSource,n))return;const o=t.substring(0,t.indexOf(".")),s=r.codecs[e];if(s.substring(0,s.indexOf("."))!==o){r.logger_(`changing ${e}Buffer codec from ${r.codecs[e]} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(l){ye.log.warn(`Failed to changeType on ${e}Buffer`,l)}}}},$n=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),Sl(t,e)},qT=(t,e)=>r=>{const n=e[`${t}Buffered`](),i=oP(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const o=e.queuePending[t].doneFn;e.queuePending[t]=null,o&&o(e[`${t}Error_`])}Sl(t,e)};class WT extends ye.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Sl("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Zn("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=qT("video",this),this.onAudioUpdateEnd_=qT("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){$n({type:"mediaSource",sourceUpdater:this,action:jn.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){$n({type:e,sourceUpdater:this,action:jn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ye.log.error("removeSourceBuffer is not supported!");return}$n({type:"mediaSource",sourceUpdater:this,action:jn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ye.browser.IS_FIREFOX&&re.MediaSource&&re.MediaSource.prototype&&typeof re.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return re.SourceBuffer&&re.SourceBuffer.prototype&&typeof re.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){ye.log.error("changeType is not supported!");return}$n({type:e,sourceUpdater:this,action:jn.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:o}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${o.length} until video append`);return}const s=r;if($n({type:i,sourceUpdater:this,action:jn.appendBuffer(o,n||{mediaIndex:-1},s),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return ro(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:qr()}videoBuffered(){return ro(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:qr()}buffered(){const e=ro(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=ro(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():aP(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=Mo){$n({type:"mediaSource",sourceUpdater:this,action:jn.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=Mo){typeof e!="string"&&(e=void 0),$n({type:"mediaSource",sourceUpdater:this,action:jn.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=Mo){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}$n({type:"audio",sourceUpdater:this,action:jn.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=Mo){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}$n({type:"video",sourceUpdater:this,action:jn.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(G0("audio",this)||G0("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&($n({type:"audio",sourceUpdater:this,action:jn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&($n({type:"video",sourceUpdater:this,action:jn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&$n({type:"audio",sourceUpdater:this,action:jn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&$n({type:"video",sourceUpdater:this,action:jn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),U7.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>HT(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const GT=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),$7=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},QT=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class z7 extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class V7 extends W0{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return qr();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return qr([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=nh(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const o=QT.byteLength+e.bytes.byteLength,s=new Uint8Array(o);s.set(e.bytes),s.set(QT,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){_u(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===to.TIMEOUT&&this.handleTimeout_(),e.code===to.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const o=i.segment;if(o.map&&(o.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof re.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js",metadata:{errorType:ye.Error.VttLoadError}}));return}o.requested=!0;try{this.parseVTTCues_(i)}catch(s){this.stopForError({message:s.message,metadata:{errorType:ye.Error.VttCueParsingError}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach(s=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new re.VTTCue(s.startTime,s.endTime,s.text):s)}),S7(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof re.WebVTT!="function")throw new z7;typeof re.TextDecoder=="function"?r=new re.TextDecoder("utf8"):(r=re.WebVTT.StringDecoder(),n=!0);const i=new re.WebVTT.Parser(re,re.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=s=>{e.timestampmap=s},i.onparsingerror=s=>{ye.log.warn("Error encountered when parsing cues: "+s.message)},e.segment.map){let s=e.segment.map.bytes;n&&(s=GT(s)),i.parse(s)}let o=e.bytes;n&&(o=GT(o)),i.parse(o),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:o,LOCAL:s}=e.timestampmap,l=o/zs.ONE_SECOND_IN_TS-s+r.mapping;if(e.cues.forEach(d=>{const f=d.endTime-d.startTime,u=o===0?d.startTime+l:this.handleRollover_(d.startTime+l,r.time);d.startTime=Math.max(u,0),d.endTime=Math.max(u+f,0)}),!n.syncInfo){const d=e.cues[0].startTime,f=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(d,f-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*zs.ONE_SECOND_IN_TS;const i=r*zs.ONE_SECOND_IN_TS;let o;for(i<n?o=-8589934592:o=8589934592;Math.abs(n-i)>4294967296;)n+=o;return n/zs.ONE_SECOND_IN_TS}}const H7=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},q7=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let o=0;o<t.segments.length;o++){const s=t.segments[o];if(i||(i=H7(e,n+s.duration/2)),i){if("cueIn"in s){i.endTime=n,i.adEndTime=n,n+=s.duration,i=null;continue}if(n<i.endTime){n+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&(i=new re.VTTCue(n,n+s.duration,s.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(s.cueOut),e.addCue(i)),"cueOutCont"in s){const[a,l]=s.cueOutCont.split("/").map(parseFloat);i=new re.VTTCue(n,n+s.duration,""),i.adStartTime=n-a,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=s.duration}};class YT{constructor({start:e,end:r,segmentIndex:n,partIndex:i=null,appended:o=!1}){this.start_=e,this.end_=r,this.segmentIndex_=n,this.partIndex_=i,this.appended_=o}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class W7{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class Q0{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(r.isInRange(e))return r;return null}updateStorage_(e,r,n){const i=new Map;let o=`
`,s=n,a=r;this.start_=s,e.forEach((l,d)=>{const f=this.storage_.get(a),u=s,h=u+l.duration,p=!!(f&&f.segmentSyncInfo&&f.segmentSyncInfo.isAppended),m=new YT({start:u,end:h,appended:p,segmentIndex:d});l.syncInfo=m;let y=s;const v=(l.parts||[]).map((b,A)=>{const C=y,S=y+b.duration,M=!!(f&&f.partsSyncInfo&&f.partsSyncInfo[A]&&f.partsSyncInfo[A].isAppended),I=new YT({start:C,end:S,appended:M,segmentIndex:d,partIndex:A});return y=S,o+=`Media Sequence: ${a}.${A} | Range: ${C} --> ${S} | Appended: ${M}
`,b.syncInfo=I,I});i.set(a,new W7(m,v)),o+=`${RT(l.resolvedUri)} | Media Sequence: ${a} | Range: ${u} --> ${h} | Appended: ${p}
`,a++,s=h}),this.end_=s,this.storage_=i,this.diagnostics_=o}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}const G7=86400,Y0=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,o)=>{const s=t.getMediaSequenceSync(o);if(!s||!s.isReliable)return null;const a=s.getSyncInfoForTime(i);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let o=null,s=null;const a=N0(e);i=i||0;for(let l=0;l<a.length;l++){const d=e.endList||i===0?l:a.length-(l+1),f=a[d],u=f.segment,h=t.timelineToDatetimeMappings[u.timeline];if(!h||!u.dateTimeObject)continue;let m=u.dateTimeObject.getTime()/1e3+h;if(u.parts&&typeof f.partIndex=="number")for(let v=0;v<f.partIndex;v++)m+=u.parts[v].duration;const y=Math.abs(i-m);if(s!==null&&(y===0||s<y))break;s=y,o={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return o}},{name:"Segment",run:(t,e,r,n,i)=>{let o=null,s=null;i=i||0;const a=N0(e);for(let l=0;l<a.length;l++){const d=e.endList||i===0?l:a.length-(l+1),f=a[d],u=f.segment,h=f.part&&f.part.start||u&&u.start;if(u.timeline===n&&typeof h<"u"){const p=Math.abs(i-h);if(s!==null&&s<p)break;(!o||s===null||s>=p)&&(s=p,o={time:h,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return o}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let o=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let s=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],d=e.discontinuitySequence+a+1,f=t.discontinuities[d];if(f){const u=Math.abs(i-f.time);if(s!==null&&s<u)break;(!o||s===null||s>=u)&&(s=u,o={time:f.time,segmentIndex:l,partIndex:null})}}}return o}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Q7 extends ye.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.mediaSequenceStorage_={main:new Q0,audio:new Q0,vtt:new Q0},this.logger_=Zn("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,n,i,o){if(r!==1/0)return Y0.find(({name:l})=>l==="VOD").run(this,e,r);const s=this.runStrategies_(e,r,n,i,o);if(!s.length)return null;for(const a of s){const{syncPoint:l,strategy:d}=a,{segmentIndex:f,time:u}=l;if(f<0)continue;const h=e.segments[f],p=u,m=p+h.duration;if(this.logger_(`Strategy: ${d}. Current time: ${i}. selected segment: ${f}. Time: [${p} -> ${m}]}`),i>=p&&i<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(s,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+gu({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,o){const s=[];for(let a=0;a<Y0.length;a++){const l=Y0[a],d=l.run(this,e,r,n,i,o);d&&(d.strategy=l.name,s.push({strategy:l.name,syncPoint:d}))}return s}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),o=e[0].strategy;for(let s=1;s<e.length;s++){const a=Math.abs(e[s].syncPoint[r.key]-r.value);a<i&&(i=a,n=e[s].syncPoint,o=e[s].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${o}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>G7){ye.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const o=e.segments[i];if(o&&typeof o.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:o.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const o=i.dateTimeObject;i.discontinuity&&r&&o&&(this.timelineToDatetimeMappings[i.timeline]=-(o.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,o=e.part;let s=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")s={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${s.time}] [mapping: ${s.mapping}]`)),a=e.startOfSegment,l=r.end+s.mapping;else if(s)a=r.start+s.mapping,l=r.end+s.mapping;else return!1;return o&&(o.start=a,o.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const o=r.discontinuityStarts[i],s=r.discontinuitySequence+i+1,a=o-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>l){let d;a<0?d=n.start-gu({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:o}):d=n.end+gu({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[s]={time:d,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Y7 extends ye.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const K7=_T(wT(function(){var t=function(){function y(){this.listeners={}}var v=y.prototype;return v.on=function(A,C){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(C)},v.off=function(A,C){if(!this.listeners[A])return!1;var S=this.listeners[A].indexOf(C);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(S,1),S>-1},v.trigger=function(A){var C=this.listeners[A];if(C)if(arguments.length===2)for(var S=C.length,M=0;M<S;++M)C[M].call(this,arguments[1]);else for(var I=Array.prototype.slice.call(arguments,1),L=C.length,k=0;k<L;++k)C[k].apply(this,I)},v.dispose=function(){this.listeners={}},v.pipe=function(A){this.on("data",function(C){A.push(C)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],v=y[0],b=y[1],A=v[4],C=b[4];let S,M,I;const L=[],k=[];let T,F,z,P,R,$;for(S=0;S<256;S++)k[(L[S]=S<<1^(S>>7)*283)^S]=S;for(M=I=0;!A[M];M^=T||1,I=k[I]||1)for(P=I^I<<1^I<<2^I<<3^I<<4,P=P>>8^P&255^99,A[M]=P,C[P]=M,z=L[F=L[T=L[M]]],$=z*16843009^F*65537^T*257^M*16843008,R=L[P]*257^P*16843008,S=0;S<4;S++)v[S][M]=R=R<<24^R>>>8,b[S][P]=$=$<<24^$>>>8;for(S=0;S<5;S++)v[S]=v[S].slice(0),b[S]=b[S].slice(0);return y};let n=null;class i{constructor(v){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let b,A,C;const S=this._tables[0][4],M=this._tables[1],I=v.length;let L=1;if(I!==4&&I!==6&&I!==8)throw new Error("Invalid aes key size");const k=v.slice(0),T=[];for(this._key=[k,T],b=I;b<4*I+28;b++)C=k[b-1],(b%I===0||I===8&&b%I===4)&&(C=S[C>>>24]<<24^S[C>>16&255]<<16^S[C>>8&255]<<8^S[C&255],b%I===0&&(C=C<<8^C>>>24^L<<24,L=L<<1^(L>>7)*283)),k[b]=k[b-I]^C;for(A=0;b;A++,b--)C=k[A&3?b:b-4],b<=4||A<4?T[A]=C:T[A]=M[0][S[C>>>24]]^M[1][S[C>>16&255]]^M[2][S[C>>8&255]]^M[3][S[C&255]]}decrypt(v,b,A,C,S,M){const I=this._key[1];let L=v^I[0],k=C^I[1],T=A^I[2],F=b^I[3],z,P,R;const $=I.length/4-2;let W,B=4;const U=this._tables[1],te=U[0],H=U[1],O=U[2],E=U[3],V=U[4];for(W=0;W<$;W++)z=te[L>>>24]^H[k>>16&255]^O[T>>8&255]^E[F&255]^I[B],P=te[k>>>24]^H[T>>16&255]^O[F>>8&255]^E[L&255]^I[B+1],R=te[T>>>24]^H[F>>16&255]^O[L>>8&255]^E[k&255]^I[B+2],F=te[F>>>24]^H[L>>16&255]^O[k>>8&255]^E[T&255]^I[B+3],B+=4,L=z,k=P,T=R;for(W=0;W<4;W++)S[(3&-W)+M]=V[L>>>24]<<24^V[k>>16&255]<<16^V[T>>8&255]<<8^V[F&255]^I[B++],z=L,L=k,k=T,T=F,F=z}}class o extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(v){this.jobs.push(v),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const s=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},a=function(y,v,b){const A=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),C=new i(Array.prototype.slice.call(v)),S=new Uint8Array(y.byteLength),M=new Int32Array(S.buffer);let I,L,k,T,F,z,P,R,$;for(I=b[0],L=b[1],k=b[2],T=b[3],$=0;$<A.length;$+=4)F=s(A[$]),z=s(A[$+1]),P=s(A[$+2]),R=s(A[$+3]),C.decrypt(F,z,P,R,M,$),M[$]=s(M[$]^I),M[$+1]=s(M[$+1]^L),M[$+2]=s(M[$+2]^k),M[$+3]=s(M[$+3]^T),I=F,L=z,k=P,T=R;return S};class l{constructor(v,b,A,C){const S=l.STEP,M=new Int32Array(v.buffer),I=new Uint8Array(v.byteLength);let L=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(M.subarray(L,L+S),b,A,I)),L=S;L<M.length;L+=S)A=new Uint32Array([s(M[L-4]),s(M[L-3]),s(M[L-2]),s(M[L-1])]),this.asyncStream_.push(this.decryptChunk_(M.subarray(L,L+S),b,A,I));this.asyncStream_.push(function(){C(null,e(I))})}static get STEP(){return 32e3}decryptChunk_(v,b,A,C){return function(){const S=a(v,b,A);C.set(S,v.byteOffset)}}}var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof d<"u"?f=d:typeof self<"u"?f=self:f={};var u=f,h=function(v){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(v):v&&v.buffer instanceof ArrayBuffer},p=u.BigInt||Number;p("0x1"),p("0x100"),p("0x10000"),p("0x1000000"),p("0x100000000"),p("0x10000000000"),p("0x1000000000000"),p("0x100000000000000"),p("0x10000000000000000"),function(){var y=new Uint16Array([65484]),v=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return v[0]===255?"big":v[0]===204?"little":"unknown"}();const m=function(y){const v={};return Object.keys(y).forEach(b=>{const A=y[b];h(A)?v[b]={bytes:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength}:v[b]=A}),v};self.onmessage=function(y){const v=y.data,b=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),A=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),C=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new l(b,A,C,function(S,M){self.postMessage(m({source:v.source,decrypted:M}),[M.buffer])})}}));var X7=vT(K7);const J7=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},KT=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},K0=(t,e)=>{e.activePlaylistLoader=t,t.load()},Z7=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,o=i.activeTrack(),s=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(s&&l&&s.id===l.id)&&(i.lastGroup_=s,i.lastTrack_=o,KT(r,i),!(!s||s.isMainPlaylist))){if(!s.playlistLoader){a&&n.resetEverything();return}r.resyncLoader(),K0(s.playlistLoader,i)}},eF=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},tF=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:o}}=e,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&s&&d.id===s.id)&&(o.lastGroup_=a,o.lastTrack_=s,KT(n,o),!!a)){if(a.isMainPlaylist){if(!s||!d||s.id===d.id)return;const f=e.vhs.playlistController_,u=f.selectPlaylist();if(f.media()===u)return;o.logger_(`track change. Switching main audio from ${d.id} to ${s.id}`),r.pause(),i.resetEverything(),f.fastQualityChange_(u);return}if(t==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){K0(a.playlistLoader,o);return}n.track&&n.track(s),n.resetEverything(),K0(a.playlistLoader,o)}},lh={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),o=r.activeGroup(),s=(o.filter(l=>l.default)[0]||o[0]).id,a=r.tracks[s];if(i===a){n({error:{message:"Problem encountered loading the default audio track."}});return}ye.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===a;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;ye.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},XT={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:o}}=r;e.on("loadedmetadata",()=>{const s=e.media();o.playlist(s,i),(!n.paused()||s.endList&&n.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),i),n.paused()||o.load()}),e.on("error",lh[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:o},mediaTypes:{[t]:s}}=r;e.on("loadedmetadata",()=>{const a=e.media();o.playlist(a,i),o.track(s.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),i),n.paused()||o.load()}),e.on("error",lh[t](t,r))}},rF={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[t]:{groups:a,tracks:l,logger_:d}},mainPlaylistLoader:f}=e,u=yu(f.main);(!s[t]||Object.keys(s[t]).length===0)&&(s[t]={main:{default:{default:!0}}},u&&(s[t].main.default.playlists=f.main.playlists));for(const h in s[t]){a[h]||(a[h]=[]);for(const p in s[t][h]){let m=s[t][h][p],y;if(u?(d(`AUDIO group '${h}' label '${p}' is a main playlist`),m.isMainPlaylist=!0,y=null):n==="vhs-json"&&m.playlists?y=new Tl(m.playlists[0],r,o):m.resolvedUri?y=new Tl(m.resolvedUri,r,o):m.playlists&&n==="dash"?y=new $0(m.playlists[0],r,o,f):y=null,m=Pt({id:p,playlistLoader:y},m),XT[t](t,m.playlistLoader,e),a[h].push(m),typeof l[p]>"u"){const v=new ye.AudioTrack({id:p,kind:J7(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=v}}}i.on("error",lh[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:d}},mainPlaylistLoader:f}=e;for(const u in a[t]){l[u]||(l[u]=[]);for(const h in a[t][u]){if(!n.options_.useForcedSubtitles&&a[t][u][h].forced)continue;let p=a[t][u][h],m;if(i==="hls")m=new Tl(p.resolvedUri,n,s);else if(i==="dash"){if(!p.playlists.filter(v=>v.excludeUntil!==1/0).length)return;m=new $0(p.playlists[0],n,s,f)}else i==="vhs-json"&&(m=new Tl(p.playlists?p.playlists[0]:p.resolvedUri,n,s));if(p=Pt({id:h,playlistLoader:m},p),XT[t](t,p.playlistLoader,e),l[u].push(p),typeof d[h]>"u"){const y=r.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;d[h]=y}}}o.on("error",lh[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:o}}}=e;for(const s in n[t]){i[s]||(i[s]=[]);for(const a in n[t][s]){const l=n[t][s][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const d=r.options_.vhs&&r.options_.vhs.captionServices||{};let f={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(d[f.instreamId]&&(f=Pt(f,d[f.instreamId])),f.default===void 0&&delete f.default,i[s].push(Pt({id:a},l)),typeof o[a]>"u"){const u=r.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[a]=u}}}}},JT=(t,e)=>{for(let r=0;r<t.length;r++)if(B0(e,t[r])||t[r].playlists&&JT(t[r].playlists,e))return!0;return!1},nF=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,o=n.media();if(!o)return null;let s=null;o.attributes[t]&&(s=i[o.attributes[t]]);const a=Object.keys(i);if(!s)if(t==="AUDIO"&&a.length>1&&yu(e.main))for(let l=0;l<a.length;l++){const d=i[a[l]];if(JT(d,o)){s=d;break}}else i.main?s=i.main:a.length===1&&(s=i[a[0]]);return typeof r>"u"?s:r===null||!s?null:s.filter(l=>l.id===r.id)[0]||null},iF={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},oF=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},sF=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(d=>{rF[d](d,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:o,main:s}}=t;["AUDIO","SUBTITLES"].forEach(d=>{e[d].activeGroup=nF(d,t),e[d].activeTrack=iF[d](d,t),e[d].onGroupChanged=Z7(d,t),e[d].onGroupChanging=eF(d,t),e[d].onTrackChanged=tF(d,t),e[d].getActiveGroup=oF(d,t)});const a=e.AUDIO.activeGroup();if(a){const d=(a.filter(u=>u.default)[0]||a[0]).id;e.AUDIO.tracks[d].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const d in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[d])},aF=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Mo,activeTrack:Mo,getActiveGroup:Mo,onGroupChanged:Mo,onTrackChanged:Mo,lastTrack_:null,logger_:Zn(`MediaGroups[${e}]`)}}),t};class ZT{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=An(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class lF extends ye.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new ZT,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Zn("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=An(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(i,o)=>{if(i){if(o.status===410){this.logger_(`manifest request 410 ${i}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(o.status===429){const a=o.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${i}.`),this.logger_(`content steering will retry in ${a} seconds.`),this.startTTLTimeout_(parseInt(a,10));return}this.logger_(`manifest failed to load ${i}.`),this.startTTLTimeout_();return}const s=JSON.parse(this.request_.responseText);this.assignSteeringProperties_(s),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new re.URL(e),n=new re.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(re.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new re.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const o=`_${this.manifestType_}_pathway`;r.searchParams.set(o,n)}if(i){const o=`_${this.manifestType_}_throughput`;r.searchParams.set(o,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const o of i)if(this.availablePathways_.has(o))return o;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=re.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){re.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new ZT}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(An(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const cF=10;let No;const uF=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],dF=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},fF=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!n)return ye.log.warn("We received no playlist to switch to. Please check your stream."),!1;const d=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${d} as current playlist is not set`),!0;if(n.id===t.id)return!1;const f=!!wl(e,r).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${d} as current playlist is live`),!0);const u=D0(e,r),h=a?Lr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Lr.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(`${d} as duration < max low water line (${s} < ${h})`),!0;const p=n.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!a||u<o)){let y=`${d} as next bandwidth < current bandwidth (${p} < ${m})`;return a&&(y+=` and forwardBuffer < bufferHighWaterLine (${u} < ${o})`),l(y),!0}if((!a||p>m)&&u>=i){let y=`${d} as forwardBuffer >= bufferLowWaterLine (${u} >= ${i})`;return a&&(y+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(y),!0}return l(`not ${d} as no switching criteria met`),!1};class hF extends ye.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:o,externVhs:s,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:d,sourceType:f,cacheEncryptionKeys:u,bufferBasedABR:h,leastPixelDiffSelector:p,captionServices:m}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:y}=e;(y===null||typeof y>"u")&&(y=1/0),No=s,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!p,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.sourceType_=f,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=y,this.enableLowInitialPlaylist=d,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:y,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=aF(),this.mediaSource=new re.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=qr(),this.hasPlayed_=!1,this.syncController_=new Q7(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new X7,this.sourceUpdater_=new WT(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Y7,this.keyStatusMap_=new Map;const v={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:u,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new $0(r,this.vhs_,Pt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Tl(r,this.vhs_,Pt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new W0(Pt(v,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new W0(Pt(v,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new V7(Pt(v,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((C,S)=>{function M(){i.off("vttjserror",I),C()}function I(){i.off("vttjsloaded",M),S()}i.one("vttjsloaded",M),i.one("vttjserror",I),i.addWebVttScript_()})}),e);const b=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new lF(this.vhs_.xhr,b),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),uF.forEach(C=>{this[C+"_"]=dF.bind(this,C)}),this.logger_=Zn("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const A=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(A,()=>{const C=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-C,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),o=i&&(i.id||i.uri),s=e&&(e.id||e.uri);o&&o!==s&&(this.logger_(`switch media ${o} -> ${s} from ${r}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})),this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const s=(n.length?n[0].playlists:n.playlists).filter(a=>a.attributes.serviceLocation===i);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=re.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(re.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let o;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)o=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||i.length&&n[i[0]];for(const l in a)if(a[l].default){o={label:l};break}}if(!o)return r;const s=[];for(const a in n)if(n[a][o.label]){const l=n[a][o.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(e.playlists.length)for(let d=0;d<e.playlists.length;d++){const f=e.playlists[d];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===a&&s.push(f)}}return s.length?s:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),r=e.targetDuration*1.5*1e3;L0(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),sF({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),r=e.targetDuration*1.5*1e3;L0(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const o=Object.keys(n.AUDIO);for(const s in n.AUDIO)for(const a in n.AUDIO[s])n.AUDIO[s][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),No.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),o.length&&Object.keys(n.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),o=this.bufferHighWaterLine(),s=this.tech_.buffered();return fF({buffered:s,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:cF}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.tech_.setCurrentTime(this.tech_.currentTime())})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const o=e.start.timeOffset;o<0?i=Math.max(n+o,r.start(0)):i=Math.min(n,o)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=No.Playlist.playlistEnd(e,n),o=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-o<=eo;const a=s.end(s.length-1);return a-o<=eo&&i-a<=eo}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,o=i.filter(rh),s=o.length===1&&o[0]===e;if(i.length===1&&n!==1/0)return ye.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},y);return}let p=!1;i.forEach(m=>{if(m===e)return;const y=m.excludeUntil;typeof y<"u"&&y!==1/0&&(p=!0,delete m.excludeUntil)}),p&&(ye.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const d=r.internal?this.logger_:ye.log.warn,f=r.message?" "+r.message:"";d(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const u=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=u;return this.switchMedia_(l,"exclude",s||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const o=[];(i||e==="audio")&&o.push("AUDIO"),(i||e==="subtitle")&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(s=>{const a=this.mediaTypes_[s]&&this.mediaTypes_[s].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(s=>{const a=this[`${s}SegmentLoader_`];a&&(e===s||e==="all")&&n.push(a)}),n.forEach(s=>r.forEach(a=>{typeof s[a]=="function"&&s[a]()}))}setCurrentTime(e){const r=wl(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:No.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,o=No.Playlist.seekable(r,n,No.Playlist.liveEdgeDelay(i,r));if(o.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=No.Playlist.seekable(r,n,No.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let s,a;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>o.end(0)||o.start(0)>e.end(0)?this.seekable_=o:this.seekable_=qr([[e.start(0)>o.start(0)?e.start(0):o.start(0),e.end(0)<o.end(0)?e.end(0):o.end(0)]]):this.seekable_=o,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===a)&&(this.logger_(`seekable updated [${WA(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=No.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=vu(this.main(),r),i={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||$L),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||V_}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||o)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||V_,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const s=(d,f)=>d?lf(f):ng(f),a={};let l;if(["video","audio"].forEach(function(d){if(i.hasOwnProperty(d)&&!s(e[d].isFmp4,i[d])){const f=e[d].isFmp4?"browser":"muxer";a[f]=a[f]||[],a[f].push(i[d]),d==="audio"&&(l=f)}}),o&&l&&r.attributes.AUDIO){const d=r.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===d&&f!==r&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${d} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const d=Object.keys(a).reduce((f,u)=>(f&&(f+=", "),f+=`${u} does not support codec(s): "${a[u].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:d},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const d=[];if(["video","audio"].forEach(f=>{const u=(qi(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,h=(qi(i[f]||"")[0]||{}).type;u&&h&&u.toLowerCase()!==h.toLowerCase()&&d.push(`"${this.sourceUpdater_.codecs[f]}" -> "${i[f]}"`)}),d.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${d.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const o=vu(this.main,i),s=[];o.audio&&!ng(o.audio)&&!lf(o.audio)&&s.push(`audio codec ${o.audio}`),o.video&&!ng(o.video)&&!lf(o.video)&&s.push(`video codec ${o.video}`),o.text&&o.text==="stpp.ttml.im1t"&&s.push(`text codec ${o.text}`),s.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${s.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=ih(qi(e)),o=NT(i),s=i.video&&qi(i.video)[0]||null,a=i.audio&&qi(i.audio)[0]||null;Object.keys(n).forEach(l=>{const d=n[l];if(r.indexOf(d.id)!==-1||d.excludeUntil===1/0)return;r.push(d.id);const f=[],u=vu(this.mainPlaylistLoader_.main,d),h=NT(u);if(!(!u.audio&&!u.video)){if(h!==o&&f.push(`codec count "${h}" !== "${o}"`),!this.sourceUpdater_.canChangeType()){const p=u.video&&qi(u.video)[0]||null,m=u.audio&&qi(u.audio)[0]||null;p&&s&&p.type.toLowerCase()!==s.type.toLowerCase()&&f.push(`video codec "${p.type}" !== "${s.type}"`),m&&a&&m.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`audio codec "${m.type}" !== "${a.type}"`)}f.length&&(d.excludeUntil=1/0,this.logger_(`excluding ${d.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),q7(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=Lr.GOAL_BUFFER_LENGTH,n=Lr.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,Lr.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=Lr.BUFFER_LOW_WATER_LINE,n=Lr.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,Lr.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(r,Lr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?o:i)}bufferHighWaterLine(){return Lr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){PT(this.inbandTextTracks_,"com.apple.streaming",this.tech_),E7({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();PT(this.inbandTextTracks_,e,this.tech_),A7({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const i=this.contentSteeringController_.getAvailablePathways(),o=[];for(const s of e.playlists){const a=s.attributes.serviceLocation;if(a&&(o.push(a),!i.has(a)))return!0}return!!(!o.length&&i.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let o=!1;Object.keys(n).forEach(s=>{const a=n[s],l=this.pathwayAttribute_(a),d=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!d&&(delete a.excludeUntil,delete a.lastExcludeReason_,o=!0);const u=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&d&&u&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(o=!0)}}),o&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[s,a]of n.entries())i.get(s)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(s));for(const[s,a]of i.entries()){const l=n.get(s);if(!l){r.filter(f=>f.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(f=>{this.mainPlaylistLoader_.addClonePathway(a,f)}),this.contentSteeringController_.addAvailablePathway(s);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(s))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const o in n)if(n[o]!==i[o])return!1;for(const o in i)if(n[o]!==i[o])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(o=>{const s="usable",a=this.keyStatusMap_.has(o)&&this.keyStatusMap_.get(o)===s,l=n.lastExcludeReason_===r&&n.excludeUntil===1/0;a?a&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${o} is ${s}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${o} doesn't exist in the keyStatusMap or is not ${s}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,o=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&o&&(delete n.excludeUntil,ye.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const o=(typeof e=="string"?e:$7(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${o} added to the keyStatusMap`),this.keyStatusMap_.set(o,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const pF=(t,e,r)=>n=>{const i=t.main.playlists[e],o=O0(i),s=rh(i);return typeof n>"u"?s:(n?delete i.disabled:i.disabled=!0,n!==s&&!o&&(r(i),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)};class mF{constructor(e,r,n){const{playlistController_:i}=e,o=i.fastQualityChange_.bind(i);if(r.attributes){const s=r.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=vu(i.main(),r),this.playlist=r,this.id=n,this.enabled=pF(e.playlists,r.id,o)}}const gF=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=yu(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!O0(n)).map((n,i)=>new mF(t,n,n.id)):[]}},eC=["seeking","seeked","pause","playing","error"];class yF{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Zn("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(f=>{l[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},s[`${f}SegmentLoader_`].on("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].on("playlistupdate",l[f].reset),this.tech_.on(["seeked","seeking"],l[f].reset)});const d=f=>{["main","audio"].forEach(u=>{s[`${u}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=()=>d("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(eC,o),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(eC,o),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(f=>{s[`${f}SegmentLoader_`].off("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].off("playlistupdate",l[f].reset),this.tech_.off(["seeked","seeking"],l[f].reset)}),this.checkCurrentTimeTimeout_&&re.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&re.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=re.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),o=cP(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,o){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Ys(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+eo>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let o;if(i&&(o=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const m=r.start(0);o=m+(m===r.end(0)?0:eo)}if(typeof o<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${WA(r)}. Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=s.audioBuffer?s.audioBuffered():null,d=s.videoBuffer?s.videoBuffered():null,f=this.media(),u=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-Zi)*2,h=[l,d];for(let m=0;m<h.length;m++){if(!h[m])continue;if(D0(h[m],n)<u)return!1}const p=th(a,n);return p.length===0?!1:(o=p.start(0)+eo,this.logger_(`Buffered region starts (${p.start(0)})  just beyond seek point (${n}). Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=wl(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=th(i,r);return s.length>0?(this.logger_(`Stopped at ${r} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let o=e.end(e.length-1)+eo;const s=!n.endList,a=typeof n.partTargetDuration=="number";return s&&(a||i)&&(o=e.end(e.length-1)+n.targetDuration*3),r>o}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const o=wl(e,n-3),s=wl(e,n),a=wl(r,n);a.length&&!s.length&&o.length&&(i={start:o.end(0),end:a.end(0)})}else th(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=th(r,n);this.resetTimeUpdate_(),!(i.length===0||n!==e)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Zi),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,r){const n=sP(e);for(let i=0;i<n.length;i++){const o=n.start(i),s=n.end(i);if(r-o<4&&r-o>2)return{start:o,end:s}}return null}}const bF={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},tC=function(t,e){let r=0,n=0;const i=Pt(bF,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const o=function(){n&&t.currentTime(n)},s=function(f){f!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){ye.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,s)},l=function(){t.off("loadedmetadata",o),t.off("error",a),t.off("dispose",l)},d=function(f){l(),tC(t,f)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=d},vF=function(t){tC(this,t)};var rC="3.12.1",_F="7.0.3",wF="1.3.0",xF="7.1.0",AF="4.0.1";const sr={PlaylistLoader:Tl,Playlist:Tn,utils:MP,STANDARD_PLAYLIST_SELECTOR:BT,INITIAL_PLAYLIST_SELECTOR:b7,lastBandwidthSelector:BT,movingAverageBandwidthSelector:g7,comparePlaylistBandwidth:q0,comparePlaylistResolution:m7,xhr:uT()};Object.keys(Lr).forEach(t=>{Object.defineProperty(sr,t,{get(){return ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Lr[t]},set(e){if(ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ye.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Lr[t]=e}})});const nC="videojs-vhs",iC=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},TF=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),iC(t,e.playlists)};sr.canPlaySource=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const CF=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=ih(qi(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=zc(n.video),o=zc(n.audio),s={};for(const a in t)s[a]={},o&&(s[a].audioContentType=o),i&&(s[a].videoContentType=i),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(s[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(s[a].url=t[a]);return Pt(t,s)},EF=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((o,s)=>{const a=n.contentProtection[s];return a&&a.pssh&&(o[s]={pssh:a.pssh}),o},{});return Object.keys(i).length&&r.push(i),r},[]),SF=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,o=EF(i,Object.keys(e)),s=[],a=[];return o.forEach(l=>{a.push(new Promise((d,f)=>{t.tech_.one("keysessioncreated",d)})),s.push(new Promise((d,f)=>{t.eme.initializeMediaKeys({keySystems:l},u=>{if(u){f(u);return}d()})}))}),Promise.race([Promise.all(s),Promise.race(a)])},kF=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=CF(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(ye.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},oC=()=>{if(!re.localStorage)return null;const t=re.localStorage.getItem(nC);if(!t)return null;try{return JSON.parse(t)}catch{return null}},IF=t=>{if(!re.localStorage)return!1;let e=oC();e=e?Pt(e,t):t;try{re.localStorage.setItem(nC,JSON.stringify(e))}catch{return!1}return e},DF=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,sC=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},aC=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},lC=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},cC=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};sr.supportsNativeHls=function(){if(!Be||!Be.createElement)return!1;const t=Be.createElement("video");return ye.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}(),sr.supportsNativeDash=function(){return!Be||!Be.createElement||!ye.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Be.createElement("video").canPlayType("application/dash+xml"))}(),sr.supportsTypeNatively=t=>t==="hls"?sr.supportsNativeHls:t==="dash"?sr.supportsNativeDash:!1,sr.isSupported=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},sr.xhr.onRequest=function(t){sC(sr.xhr,t)},sr.xhr.onResponse=function(t){aC(sr.xhr,t)},sr.xhr.offRequest=function(t){lC(sr.xhr,t)},sr.xhr.offResponse=function(t){cC(sr.xhr,t)};const MF=ye.getComponent("Component");class uC extends MF{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Zn("VhsHandler"),r.options_&&r.options_.playerId){const i=ye.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const o=Be.fullscreenElement||Be.webkitFullscreenElement||Be.mozFullScreenElement||Be.msFullscreenElement;o&&o.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Pt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=oC();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Lr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Lr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=DF(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=sr,this.options_.sourceType=H_(r),this.options_.seekTo=o=>{this.tech_.setCurrentTime(o)},this.playlistController_=new hF(this.options_);const n=Pt({liveRangeSafeTimeDelta:eo},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new yF(n),this.playlistController_.on("error",()=>{const o=ye.players[this.tech_.options_.playerId];let s=this.playlistController_.error;typeof s=="object"&&!s.code?s.code=3:typeof s=="string"&&(s={message:s,code:3}),o.error(s)});const i=this.options_.bufferBasedABR?sr.movingAverageBandwidthSelector(.55):sr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=sr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(o){this.playlistController_.selectPlaylist=o.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(o){this.playlistController_.mainSegmentLoader_.throughput.rate=o,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let o=this.playlistController_.mainSegmentLoader_.bandwidth;const s=re.navigator.connection||re.navigator.mozConnection||re.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&s){const l=s.downlink*1e3*1e3;l>=a&&o>=a?o=Math.max(o,l):o=l}return o},set(o){this.playlistController_.mainSegmentLoader_.bandwidth=o,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const o=1/(this.bandwidth||1);let s;return this.throughput>0?s=1/this.throughput:s=0,Math.floor(1/(o+s))},set(){ye.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ys(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ys(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&IF({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{gF(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=re.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),SF({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3,metadata:{errorType:ye.Error.EMEKeySessionCreationError}})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=kF({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ye.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{TF(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{iC(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":rC,"mux.js":_F,"mpd-parser":wF,"m3u8-parser":xF,"aes-decrypter":AF}}version(){return this.constructor.version()}canChangeType(){return WT.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&re.URL.revokeObjectURL&&(re.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return FP({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return mT({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{sC(this.xhr,e)},this.xhr.onResponse=e=>{aC(this.xhr,e)},this.xhr.offRequest=e=>{lC(this.xhr,e)},this.xhr.offResponse=e=>{cC(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const ch={name:"videojs-http-streaming",VERSION:rC,canHandleSource(t,e={}){const r=Pt(ye.options,e);return ch.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=Pt(ye.options,r);return e.vhs=new uC(t,e,n),e.vhs.xhr=uT(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=H_(t);if(!r)return"";const n=ch.getOverrideNative(e);return!sr.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(ye.browser.IS_ANY_SAFARI||ye.browser.IS_IOS),{overrideNative:n=r}=e;return n}};lf("avc1.4d400d,mp4a.40.2")&&ye.getTech("Html5").registerSourceHandler(ch,0),ye.VhsHandler=uC,ye.VhsSourceHandler=ch,ye.Vhs=sr,ye.use||ye.registerComponent("Vhs",sr),ye.options.vhs=ye.options.vhs||{},(!ye.getPlugin||!ye.getPlugin("reloadSourceOnError"))&&ye.registerPlugin("reloadSourceOnError",vF);const NF=c.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),OF=c.createElementVNode("img",{class:"pointer-events-none absolute",src:w_,width:"24",height:"24"},null,-1),LF={class:"absolute bottom-2 right-2 rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},BF=c.defineComponent({__name:"VideoMessageContent",props:{message:{}},setup(t){const e=t,r=`vp-${Math.random()}`,n=c.ref(),i=c.ref(),o=c.ref(!1),s=()=>{const{width:u,height:h}=e.message.video;return u<h?{width:"200px",height:`${200*h/u}px`}:{width:`${200*u/h}px`,height:"200px"}},a=Rt(),l=async()=>{if(o.value)return;o.value=!0;const f=await a.dispatch("imkit/fetchVideoBlob",e.message.video.originalUrl);n.value&&(n.value.src=URL.createObjectURL(f)),i.value=ye(r)},d=c.computed(()=>a.state.imkit.uploadProgresses);return(f,u)=>{const h=c.resolveDirective("src");return c.openBlock(),c.createElementBlock("div",{class:"relative -m-2 flex cursor-pointer items-center justify-center",style:c.normalizeStyle(s()),onClick:l},[c.withDirectives(c.createElementVNode("video",{ref_key:"videoPlayer",ref:n,id:r,class:"video-js vjs-default-skin absolute inset-0 h-full w-full",controls:"",preload:"auto",autoplay:""},null,512),[[c.vShow,o.value]]),o.value?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[c.withDirectives(c.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:c.normalizeStyle(s())},null,4),[[h,f.message.video.thumbnailUrl]]),f.message.video.thumbnailUrl.startsWith("data")?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[NF,c.createVNode(c.unref(rf),{class:"!absolute",diameter:40,"completed-steps":d.value[f.message.video.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[OF,c.createElementVNode("div",LF,c.toDisplayString(Math.floor(f.message.video.duration/60))+":"+c.toDisplayString(`${Math.floor(f.message.video.duration%60)}`.padStart(2,"0")),1)],64))],64))],4)}}}),RF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR4nO3aMUpDQRSF4VmI1m5HtLCxkMxxA86JazAz2Ygi2LkgbVWMpQpKFCyihSZ33r0x58As4GP+F17gpaRp2sbs6GS6nUu7RGlPYHuzPrm029HJdDdFwYL1vgd0Af2Sx5MDb2/6uNnO2FBodMr4C8n6HAqN/re6t4gG62tmPfyX4PT52MRBYwBwKDQGAodBY0BwCDQGBruj4QB2RcMJ7IaGI9gFDWfwfMes+z+9kXX5w4HOYJyebS2LBuvN2oEz6/Uq6LUDY4BH4k/zBglM3bDtECBbPcPUj5bdECBbJU0lbTcEyFZJU0nbDQGyVdJU0nZDgGyVNJW03RAgWyVNJW03BMhWSVNJ2w0BslXSVNJ2Q4BslTSVtN2wcUmXvh+XrnJyaY/2YNarsGDWc3PwaDzZyaU9eOO+ndLufvupxHJfxZd2AdaZO5R1Nr/ZblhN01LEvQM/68r6Ex4bqgAAAABJRU5ErkJggg==",dC=t=>(c.pushScopeId("data-v-5248b347"),t=t(),c.popScopeId(),t),PF=dC(()=>c.createElementVNode("img",{class:"w-8 object-contain",src:RF},null,-1)),FF={class:"flex flex-col gap-0.5 font-normal"},UF={class:"break-all text-base"},jF=dC(()=>c.createElementVNode("div",{class:"absolute inset-0 -m-2 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1)),$F=wi(c.defineComponent({__name:"FileMessageContent",props:{message:{}},setup(t){const e=Rt(),r=t,n=c.computed(()=>r.message.isIncoming),i=c.computed(()=>e.state.imkit.uploadProgresses),o=c.computed(()=>{const a=r.message.bytes;return a<1e3?a+"B":a<1e3*1e3?(a/1e3).toFixed(1)+"KB":a<1e3*1e3*1e3?(a/1e3/1e3).toFixed(1)+"MB":(a/1e3/1e3/1e3).toFixed(1)+"GB"}),s=async()=>{try{const{url:a,fileName:l,fileExtension:d}=r.message,f=await e.state.imkit.axios.get(a,{responseType:"arraybuffer",onDownloadProgress:p=>{const{total:m}=p;m&&e.commit("imkit/updateField",{key:"downloadProgresses",value:{[a]:p.loaded/m}})}}),u=btoa(new Uint8Array(f.data).reduce((p,m)=>p+String.fromCharCode(m),"")),h=document.createElement("a");h.href=`data:${f.headers["content-type"]};base64,${u}`,h.download=`${l}.${d}`,h.click()}catch(a){console.error(a)}};return(a,l)=>(c.openBlock(),c.createElementBlock("div",{class:"relative flex cursor-pointer items-center justify-center gap-2",onClick:s},[PF,c.createElementVNode("div",FF,[c.createElementVNode("div",UF,c.toDisplayString(a.message.fileName)+"."+c.toDisplayString(a.message.fileExtension),1),c.createElementVNode("div",{class:c.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":n.value}])},c.toDisplayString(a.$t("fileSize"))+": "+c.toDisplayString(o.value),3)]),a.message.url===""?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[jF,c.createVNode(c.unref(rf),{class:"!absolute",diameter:40,"completed-steps":i.value[a.message.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):c.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-5248b347"]]),no=Object.create(null);no.open="0",no.close="1",no.ping="2",no.pong="3",no.message="4",no.upgrade="5",no.noop="6";const uh=Object.create(null);Object.keys(no).forEach(t=>{uh[no[t]]=t});const X0={type:"error",data:"parser error"},fC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hC=typeof ArrayBuffer=="function",pC=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,J0=({type:t,data:e},r,n)=>fC&&e instanceof Blob?r?n(e):mC(e,n):hC&&(e instanceof ArrayBuffer||pC(e))?r?n(e):mC(new Blob([e]),n):n(no[t]+(e||"")),mC=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function gC(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Z0;function zF(t,e){if(fC&&t.data instanceof Blob)return t.data.arrayBuffer().then(gC).then(e);if(hC&&(t.data instanceof ArrayBuffer||pC(t.data)))return e(gC(t.data));J0(t,!1,r=>{Z0||(Z0=new TextEncoder),e(Z0.encode(r))})}const yC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<yC.length;t++)xu[yC.charCodeAt(t)]=t;const VF=t=>{let e=t.length*.75,r=t.length,n,i=0,o,s,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(n=0;n<r;n+=4)o=xu[t.charCodeAt(n)],s=xu[t.charCodeAt(n+1)],a=xu[t.charCodeAt(n+2)],l=xu[t.charCodeAt(n+3)],f[i++]=o<<2|s>>4,f[i++]=(s&15)<<4|a>>2,f[i++]=(a&3)<<6|l&63;return d},HF=typeof ArrayBuffer=="function",e1=(t,e)=>{if(typeof t!="string")return{type:"message",data:bC(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:qF(t.substring(1),e)}:uh[r]?t.length>1?{type:uh[r],data:t.substring(1)}:{type:uh[r]}:X0},qF=(t,e)=>{if(HF){const r=VF(t);return bC(r,e)}else return{base64:!0,data:t}},bC=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},vC="",WF=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,s)=>{J0(o,!1,a=>{n[s]=a,++i===r&&e(n.join(vC))})})},GF=(t,e)=>{const r=t.split(vC),n=[];for(let i=0;i<r.length;i++){const o=e1(r[i],e);if(n.push(o),o.type==="error")break}return n};function QF(){return new TransformStream({transform(t,e){zF(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let t1;function dh(t){return t.reduce((e,r)=>e+r.length,0)}function fh(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function YF(t,e){t1||(t1=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(r.push(s);;){if(n===0){if(dh(r)<1)break;const l=fh(r,1);o=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(dh(r)<2)break;const l=fh(r,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(dh(r)<8)break;const l=fh(r,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(X0);break}i=f*Math.pow(2,32)+d.getUint32(4),n=3}else{if(dh(r)<i)break;const l=fh(r,i);a.enqueue(e1(o?l:t1.decode(l),e)),n=0}if(i===0||i>t){a.enqueue(X0);break}}}})}const _C=4;function Tr(t){if(t)return KF(t)}function KF(t){for(var e in Tr.prototype)t[e]=Tr.prototype[e];return t}Tr.prototype.on=Tr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Tr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},Tr.prototype.off=Tr.prototype.removeListener=Tr.prototype.removeAllListeners=Tr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this},Tr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},Tr.prototype.emitReserved=Tr.prototype.emit,Tr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Tr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ei=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function wC(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const XF=ei.setTimeout,JF=ei.clearTimeout;function hh(t,e){e.useNativeTimers?(t.setTimeoutFn=XF.bind(ei),t.clearTimeoutFn=JF.bind(ei)):(t.setTimeoutFn=ei.setTimeout.bind(ei),t.clearTimeoutFn=ei.clearTimeout.bind(ei))}const ZF=1.33;function eU(t){return typeof t=="string"?tU(t):Math.ceil((t.byteLength||t.size)*ZF)}function tU(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function rU(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function nU(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class iU extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class r1 extends Tr{constructor(e){super(),this.writable=!1,hh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new iU(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=e1(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=rU(e);return r.length?"?"+r:""}}const xC="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n1=64,oU={};let AC=0,ph=0,TC;function CC(t){let e="";do e=xC[t%n1]+e,t=Math.floor(t/n1);while(t>0);return e}function EC(){const t=CC(+new Date);return t!==TC?(AC=0,TC=t):t+"."+CC(AC++)}for(;ph<n1;ph++)oU[xC[ph]]=ph;let SC=!1;try{SC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const sU=SC;function kC(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||sU))return new XMLHttpRequest}catch{}if(!e)try{return new ei[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function tfe(){}function aU(){}const lU=function(){return new kC({xdomain:!1}).responseType!=null}();class cU extends r1{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const r=e&&e.forceBase64;this.supportsBinary=lU&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};GF(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,WF(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=EC()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new kl(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let kl=class nm extends Tr{constructor(e,r){super(),hh(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=wC(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new kC(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=nm.requestsCount++,nm.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=aU,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete nm.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(kl.requestsCount=0,kl.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",IC);else if(typeof addEventListener=="function"){const t="onpagehide"in ei?"pagehide":"unload";addEventListener(t,IC,!1)}}function IC(){for(let t in kl.requests)kl.requests.hasOwnProperty(t)&&kl.requests[t].abort()}const i1=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),mh=ei.WebSocket||ei.MozWebSocket,DC=!0,uU="arraybuffer",MC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class dU extends r1{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=MC?{}:wC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=DC&&!MC?r?new mh(e,r):new mh(e):new mh(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;J0(n,this.supportsBinary,o=>{const s={};try{DC&&this.ws.send(o)}catch{}i&&i1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=EC()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!mh}}class fU extends r1{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=YF(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=QF();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&i1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const hU={websocket:dU,webtransport:fU,polling:cU},pU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function o1(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=pU.exec(t||""),o={},s=14;for(;s--;)o[mU[s]]=i[s]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=gU(o,o.path),o.queryKey=yU(o,o.query),o}function gU(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function yU(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}let NC=class wc extends Tr{constructor(e,r={}){super(),this.binaryType=uU,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=o1(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=o1(r.host).host),hh(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=nU(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=_C,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new hU[e](n)}open(){let e;if(this.opts.rememberUpgrade&&wc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;wc.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!n)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;wc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,f(),r.close(),r=null)}const s=u=>{const h=new Error("probe error: "+u);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function a(){s("transport closed")}function l(){s("socket closed")}function d(u){r&&u.name!==r.name&&o()}const f=()=>{r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};r.once("open",i),r.once("error",s),r.once("close",a),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",wc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=eU(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){wc.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};NC.protocol=_C;function bU(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=o1(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const vU=typeof ArrayBuffer=="function",_U=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,OC=Object.prototype.toString,wU=typeof Blob=="function"||typeof Blob<"u"&&OC.call(Blob)==="[object BlobConstructor]",xU=typeof File=="function"||typeof File<"u"&&OC.call(File)==="[object FileConstructor]";function s1(t){return vU&&(t instanceof ArrayBuffer||_U(t))||wU&&t instanceof Blob||xU&&t instanceof File}function gh(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(gh(t[r]))return!0;return!1}if(s1(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return gh(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&gh(t[r]))return!0;return!1}function AU(t){const e=[],r=t.data,n=t;return n.data=a1(r,e),n.attachments=e.length,{packet:n,buffers:e}}function a1(t,e){if(!t)return t;if(s1(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=a1(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=a1(t[n],e));return r}return t}function TU(t,e){return t.data=l1(t.data,e),delete t.attachments,t}function l1(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=l1(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=l1(t[r],e));return t}const CU=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],EU=5;var Tt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Tt||(Tt={}));class SU{constructor(e){this.replacer=e}encode(e){return(e.type===Tt.EVENT||e.type===Tt.ACK)&&gh(e)?this.encodeAsBinary({type:e.type===Tt.EVENT?Tt.BINARY_EVENT:Tt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Tt.BINARY_EVENT||e.type===Tt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=AU(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function LC(t){return Object.prototype.toString.call(t)==="[object Object]"}class c1 extends Tr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Tt.BINARY_EVENT;n||r.type===Tt.BINARY_ACK?(r.type=n?Tt.EVENT:Tt.ACK,this.reconstructor=new kU(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(s1(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Tt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Tt.BINARY_EVENT||n.type===Tt.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const s=e.substring(o,r);if(s!=Number(s)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const s=e.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(c1.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Tt.CONNECT:return LC(r);case Tt.DISCONNECT:return r===void 0;case Tt.CONNECT_ERROR:return typeof r=="string"||LC(r);case Tt.EVENT:case Tt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&CU.indexOf(r[0])===-1);case Tt.ACK:case Tt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class kU{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=TU(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const IU=Object.freeze(Object.defineProperty({__proto__:null,Decoder:c1,Encoder:SU,get PacketType(){return Tt},protocol:EU},Symbol.toStringTag,{value:"Module"}));function Si(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const DU=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class BC extends Tr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Si(e,"open",this.onopen.bind(this)),Si(e,"packet",this.onpacket.bind(this)),Si(e,"error",this.onerror.bind(this)),Si(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(DU.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:Tt.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const s=this.ids++,a=r.pop();this._registerAckCallback(s,a),n.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),r.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...r){return new Promise((n,i)=>{const o=(s,a)=>s?i(s):n(a);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Tt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Tt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Tt.EVENT:case Tt.BINARY_EVENT:this.onevent(e);break;case Tt.ACK:case Tt.BINARY_ACK:this.onack(e);break;case Tt.DISCONNECT:this.ondisconnect();break;case Tt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Tt.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Tt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Il(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Il.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0},Il.prototype.reset=function(){this.attempts=0},Il.prototype.setMin=function(t){this.ms=t},Il.prototype.setMax=function(t){this.max=t},Il.prototype.setJitter=function(t){this.jitter=t};class u1 extends Tr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,hh(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Il({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||IU;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new NC(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Si(r,"open",function(){n.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Si(r,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Si(e,"ping",this.onping.bind(this)),Si(e,"data",this.ondata.bind(this)),Si(e,"error",this.onerror.bind(this)),Si(e,"close",this.onclose.bind(this)),Si(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){i1(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new BC(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Au={};function Tu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=bU(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,s=Au[i]&&o in Au[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let l;return a?l=new u1(n,e):(Au[i]||(Au[i]=new u1(n,e)),l=Au[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(Tu,{Manager:u1,Socket:BC,io:Tu,connect:Tu});function RC(t,e){return function(){return t.apply(e,arguments)}}const{toString:MU}=Object.prototype,{getPrototypeOf:d1}=Object,yh=(t=>e=>{const r=MU.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ki=t=>(t=t.toLowerCase(),e=>yh(e)===t),bh=t=>e=>typeof e===t,{isArray:Dl}=Array,Cu=bh("undefined");function NU(t){return t!==null&&!Cu(t)&&t.constructor!==null&&!Cu(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const PC=ki("ArrayBuffer");function OU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PC(t.buffer),e}const LU=bh("string"),ti=bh("function"),FC=bh("number"),vh=t=>t!==null&&typeof t=="object",BU=t=>t===!0||t===!1,_h=t=>{if(yh(t)!=="object")return!1;const e=d1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RU=ki("Date"),PU=ki("File"),FU=ki("Blob"),UU=ki("FileList"),jU=t=>vh(t)&&ti(t.pipe),$U=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((e=yh(t))==="formdata"||e==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},zU=ki("URLSearchParams"),[VU,HU,qU,WU]=["ReadableStream","Request","Response","Headers"].map(ki),GU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Dl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function UC(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const jC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$C=t=>!Cu(t)&&t!==jC;function f1(){const{caseless:t}=$C(this)&&this||{},e={},r=(n,i)=>{const o=t&&UC(e,i)||i;_h(e[o])&&_h(n)?e[o]=f1(e[o],n):_h(n)?e[o]=f1({},n):Dl(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Eu(arguments[n],r);return e}const QU=(t,e,r,{allOwnKeys:n}={})=>(Eu(e,(i,o)=>{r&&ti(i)?t[o]=RC(i,r):t[o]=i},{allOwnKeys:n}),t),YU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KU=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},XU=(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&d1(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},JU=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},ZU=t=>{if(!t)return null;if(Dl(t))return t;let e=t.length;if(!FC(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},ej=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&d1(Uint8Array)),tj=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},rj=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},nj=ki("HTMLFormElement"),ij=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),zC=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),oj=ki("RegExp"),VC=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Eu(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},sj=t=>{VC(t,(e,r)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ti(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},aj=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Dl(t)?n(t):n(String(t).split(e)),r},lj=()=>{},cj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,h1="abcdefghijklmnopqrstuvwxyz",HC="0123456789",qC={DIGIT:HC,ALPHA:h1,ALPHA_DIGIT:h1+h1.toUpperCase()+HC},uj=(t=16,e=qC.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function dj(t){return!!(t&&ti(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const fj=t=>{const e=new Array(10),r=(n,i)=>{if(vh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Dl(n)?[]:{};return Eu(n,(s,a)=>{const l=r(s,i+1);!Cu(l)&&(o[a]=l)}),e[i]=void 0,o}}return n};return r(t,0)},hj=ki("AsyncFunction"),Ce={isArray:Dl,isArrayBuffer:PC,isBuffer:NU,isFormData:$U,isArrayBufferView:OU,isString:LU,isNumber:FC,isBoolean:BU,isObject:vh,isPlainObject:_h,isReadableStream:VU,isRequest:HU,isResponse:qU,isHeaders:WU,isUndefined:Cu,isDate:RU,isFile:PU,isBlob:FU,isRegExp:oj,isFunction:ti,isStream:jU,isURLSearchParams:zU,isTypedArray:ej,isFileList:UU,forEach:Eu,merge:f1,extend:QU,trim:GU,stripBOM:YU,inherits:KU,toFlatObject:XU,kindOf:yh,kindOfTest:ki,endsWith:JU,toArray:ZU,forEachEntry:tj,matchAll:rj,isHTMLForm:nj,hasOwnProperty:zC,hasOwnProp:zC,reduceDescriptors:VC,freezeMethods:sj,toObjectSet:aj,toCamelCase:ij,noop:lj,toFiniteNumber:cj,findKey:UC,global:jC,isContextDefined:$C,ALPHABET:qC,generateString:uj,isSpecCompliantForm:dj,toJSONObject:fj,isAsyncFn:hj,isThenable:t=>t&&(vh(t)||ti(t))&&ti(t.then)&&ti(t.catch)};function mt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Ce.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const WC=mt.prototype,GC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GC[t]={value:t}}),Object.defineProperties(mt,GC),Object.defineProperty(WC,"isAxiosError",{value:!0}),mt.from=(t,e,r,n,i,o)=>{const s=Object.create(WC);return Ce.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),mt.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const pj=null;function p1(t){return Ce.isPlainObject(t)||Ce.isArray(t)}function QC(t){return Ce.endsWith(t,"[]")?t.slice(0,-2):t}function YC(t,e,r){return t?t.concat(e).map(function(i,o){return i=QC(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function mj(t){return Ce.isArray(t)&&!t.some(p1)}const gj=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function wh(t,e,r){if(!Ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!Ce.isUndefined(v[y])});const n=r.metaTokens,i=r.visitor||f,o=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(i))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(Ce.isDate(m))return m.toISOString();if(!l&&Ce.isBlob(m))throw new mt("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(m)||Ce.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,y,v){let b=m;if(m&&!v&&typeof m=="object"){if(Ce.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(Ce.isArray(m)&&mj(m)||(Ce.isFileList(m)||Ce.endsWith(y,"[]"))&&(b=Ce.toArray(m)))return y=QC(y),b.forEach(function(C,S){!(Ce.isUndefined(C)||C===null)&&e.append(s===!0?YC([y],S,o):s===null?y:y+"[]",d(C))}),!1}return p1(m)?!0:(e.append(YC(v,y,o),d(m)),!1)}const u=[],h=Object.assign(gj,{defaultVisitor:f,convertValue:d,isVisitable:p1});function p(m,y){if(!Ce.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(m),Ce.forEach(m,function(b,A){(!(Ce.isUndefined(b)||b===null)&&i.call(e,b,Ce.isString(A)?A.trim():A,y,h))===!0&&p(b,y?y.concat(A):[A])}),u.pop()}}if(!Ce.isObject(t))throw new TypeError("data must be an object");return p(t),e}function KC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function m1(t,e){this._pairs=[],t&&wh(t,this,e)}const XC=m1.prototype;XC.append=function(e,r){this._pairs.push([e,r])},XC.toString=function(e){const r=e?function(n){return e.call(this,n,KC)}:KC;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function yj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JC(t,e,r){if(!e)return t;const n=r&&r.encode||yj,i=r&&r.serialize;let o;if(i?o=i(e,r):o=Ce.isURLSearchParams(e)?e.toString():new m1(e,r).toString(n),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ZC{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(n){n!==null&&e(n)})}}const eE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bj={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:m1,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},g1=typeof window<"u"&&typeof document<"u",vj=(t=>g1&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),_j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wj=g1&&window.location.href||"http://localhost",Ii={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g1,hasStandardBrowserEnv:vj,hasStandardBrowserWebWorkerEnv:_j,origin:wj},Symbol.toStringTag,{value:"Module"})),...bj};function xj(t,e){return wh(t,new Ii.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Ii.isNode&&Ce.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Aj(t){return Ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Tj(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function tE(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=r.length;return s=!s&&Ce.isArray(i)?i.length:s,l?(Ce.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!Ce.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&Ce.isArray(i[s])&&(i[s]=Tj(i[s])),!a)}if(Ce.isFormData(t)&&Ce.isFunction(t.entries)){const r={};return Ce.forEachEntry(t,(n,i)=>{e(Aj(n),i,r,0)}),r}return null}function Cj(t,e,r){if(Ce.isString(t))try{return(e||JSON.parse)(t),Ce.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Su={transitional:eE,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=Ce.isObject(e);if(o&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return i?JSON.stringify(tE(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xj(e,this.formSerializer).toString();if((a=Ce.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),Cj(e)):e}],transformResponse:[function(e){const r=this.transitional||Su.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?mt.from(a,mt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ii.classes.FormData,Blob:Ii.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],t=>{Su.headers[t]={}});const Ej=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sj=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&Ej[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},rE=Symbol("internals");function ku(t){return t&&String(t).trim().toLowerCase()}function xh(t){return t===!1||t==null?t:Ce.isArray(t)?t.map(xh):String(t)}function kj(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Ij=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function y1(t,e,r,n,i){if(Ce.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ce.isString(e)){if(Ce.isString(n))return e.indexOf(n)!==-1;if(Ce.isRegExp(n))return n.test(e)}}function Dj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Mj(t,e){const r=Ce.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}let Cn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(a,l,d){const f=ku(l);if(!f)throw new Error("header name must be a non-empty string");const u=Ce.findKey(i,f);(!u||i[u]===void 0||d===!0||d===void 0&&i[u]!==!1)&&(i[u||l]=xh(a))}const s=(a,l)=>Ce.forEach(a,(d,f)=>o(d,f,l));if(Ce.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(Ce.isString(e)&&(e=e.trim())&&!Ij(e))s(Sj(e),r);else if(Ce.isHeaders(e))for(const[a,l]of e.entries())o(l,a,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=ku(e),e){const n=Ce.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return kj(i);if(Ce.isFunction(r))return r.call(this,i,n);if(Ce.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ku(e),e){const n=Ce.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||y1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(s){if(s=ku(s),s){const a=Ce.findKey(n,s);a&&(!r||y1(n,n[a],a,r))&&(delete n[a],i=!0)}}return Ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||y1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return Ce.forEach(this,(i,o)=>{const s=Ce.findKey(n,o);if(s){r[s]=xh(i),delete r[o];return}const a=e?Dj(o):String(o).trim();a!==o&&delete r[o],r[a]=xh(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ce.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ce.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[rE]=this[rE]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ku(s);n[a]||(Mj(i,s),n[a]=!0)}return Ce.isArray(e)?e.forEach(o):o(e),this}};Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ce.reduceDescriptors(Cn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),Ce.freezeMethods(Cn);function b1(t,e){const r=this||Su,n=e||r,i=Cn.from(n.headers);let o=n.data;return Ce.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function nE(t){return!!(t&&t.__CANCEL__)}function Ml(t,e,r){mt.call(this,t??"canceled",mt.ERR_CANCELED,e,r),this.name="CanceledError"}Ce.inherits(Ml,mt,{__CANCEL__:!0});function iE(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new mt("Request failed with status code "+r.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Nj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Oj(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=n[o];s||(s=d),r[i]=l,n[i]=d;let u=o,h=0;for(;u!==i;)h+=r[u++],u=u%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-s<e)return;const p=f&&d-f;return p?Math.round(h*1e3/p):void 0}}function Lj(t,e){let r=0;const n=1e3/e;let i=null;return function(){const s=this===!0,a=Date.now();if(s||a-r>n)return i&&(clearTimeout(i),i=null),r=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,r=Date.now(),t.apply(null,arguments)),n-(a-r)))}}const Ah=(t,e,r=3)=>{let n=0;const i=Oj(50,250);return Lj(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-n,d=i(l),f=s<=a;n=s;const u={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&f?(a-s)/d:void 0,event:o,lengthComputable:a!=null};u[e?"download":"upload"]=!0,t(u)},r)},Bj=Ii.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const a=Ce.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),Rj=Ii.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];Ce.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Ce.isString(n)&&s.push("path="+n),Ce.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oE(t,e){return t&&!Pj(e)?Fj(t,e):e}const sE=t=>t instanceof Cn?{...t}:t;function Ks(t,e){e=e||{};const r={};function n(d,f,u){return Ce.isPlainObject(d)&&Ce.isPlainObject(f)?Ce.merge.call({caseless:u},d,f):Ce.isPlainObject(f)?Ce.merge({},f):Ce.isArray(f)?f.slice():f}function i(d,f,u){if(Ce.isUndefined(f)){if(!Ce.isUndefined(d))return n(void 0,d,u)}else return n(d,f,u)}function o(d,f){if(!Ce.isUndefined(f))return n(void 0,f)}function s(d,f){if(Ce.isUndefined(f)){if(!Ce.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function a(d,f,u){if(u in e)return n(d,f);if(u in t)return n(void 0,d)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,f)=>i(sE(d),sE(f),!0)};return Ce.forEach(Object.keys(Object.assign({},t,e)),function(f){const u=l[f]||i,h=u(t[f],e[f],f);Ce.isUndefined(h)&&u!==a||(r[f]=h)}),r}const aE=t=>{const e=Ks({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Cn.from(s),e.url=JC(oE(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ce.isFormData(r)){if(Ii.hasStandardBrowserEnv||Ii.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[d,...f]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Ii.hasStandardBrowserEnv&&(n&&Ce.isFunction(n)&&(n=n(e)),n||n!==!1&&Bj(e.url))){const d=i&&o&&Rj.read(o);d&&s.set(i,d)}return e},Uj=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){const i=aE(t);let o=i.data;const s=Cn.from(i.headers).normalize();let{responseType:a}=i,l;function d(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout;function u(){if(!f)return;const p=Cn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:p,config:t,request:f};iE(function(b){r(b),d()},function(b){n(b),d()},y),f=null}"onloadend"in f?f.onloadend=u:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(u)},f.onabort=function(){f&&(n(new mt("Request aborted",mt.ECONNABORTED,i,f)),f=null)},f.onerror=function(){n(new mt("Network Error",mt.ERR_NETWORK,i,f)),f=null},f.ontimeout=function(){let m=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const y=i.transitional||eE;i.timeoutErrorMessage&&(m=i.timeoutErrorMessage),n(new mt(m,y.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,i,f)),f=null},o===void 0&&s.setContentType(null),"setRequestHeader"in f&&Ce.forEach(s.toJSON(),function(m,y){f.setRequestHeader(y,m)}),Ce.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),a&&a!=="json"&&(f.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&f.addEventListener("progress",Ah(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Ah(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=p=>{f&&(n(!p||p.type?new Ml(null,t,f):p),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const h=Nj(i.url);if(h&&Ii.protocols.indexOf(h)===-1){n(new mt("Unsupported protocol "+h+":",mt.ERR_BAD_REQUEST,t));return}f.send(o||null)})},jj=(t,e)=>{let r=new AbortController,n;const i=function(l){if(!n){n=!0,s();const d=l instanceof Error?l:this.reason;r.abort(d instanceof mt?d:new Ml(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{i(new mt(`timeout ${e} of ms exceeded`,mt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},$j=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},zj=async function*(t,e,r){for await(const n of t)yield*$j(ArrayBuffer.isView(n)?n:await r(String(n)),e)},lE=(t,e,r,n,i)=>{const o=zj(t,e,i);let s=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:d}=await o.next();if(l){a.close(),n();return}let f=d.byteLength;r&&r(s+=f),a.enqueue(new Uint8Array(d))},cancel(a){return n(a),o.return()}},{highWaterMark:2})},cE=(t,e)=>{const r=t!=null;return n=>setTimeout(()=>e({lengthComputable:r,total:t,loaded:n}))},Th=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uE=Th&&typeof ReadableStream=="function",v1=Th&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Vj=uE&&(()=>{let t=!1;const e=new Request(Ii.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),dE=64*1024,_1=uE&&!!(()=>{try{return Ce.isReadableStream(new Response("").body)}catch{}})(),Ch={stream:_1&&(t=>t.body)};Th&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ch[e]&&(Ch[e]=Ce.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new mt(`Response type '${e}' is not supported`,mt.ERR_NOT_SUPPORT,n)})})})(new Response);const Hj=async t=>{if(t==null)return 0;if(Ce.isBlob(t))return t.size;if(Ce.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(t))return t.byteLength;if(Ce.isURLSearchParams(t)&&(t=t+""),Ce.isString(t))return(await v1(t)).byteLength},qj=async(t,e)=>{const r=Ce.toFiniteNumber(t.getContentLength());return r??Hj(e)},w1={http:pj,xhr:Uj,fetch:Th&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:d,headers:f,withCredentials:u="same-origin",fetchOptions:h}=aE(t);d=d?(d+"").toLowerCase():"text";let[p,m]=i||o||s?jj([i,o],s):[],y,v;const b=()=>{!y&&setTimeout(()=>{p&&p.unsubscribe()}),y=!0};let A;try{if(l&&Vj&&r!=="get"&&r!=="head"&&(A=await qj(f,n))!==0){let I=new Request(e,{method:"POST",body:n,duplex:"half"}),L;Ce.isFormData(n)&&(L=I.headers.get("content-type"))&&f.setContentType(L),I.body&&(n=lE(I.body,dE,cE(A,Ah(l)),null,v1))}Ce.isString(u)||(u=u?"cors":"omit"),v=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",withCredentials:u});let C=await fetch(v);const S=_1&&(d==="stream"||d==="response");if(_1&&(a||S)){const I={};["status","statusText","headers"].forEach(k=>{I[k]=C[k]});const L=Ce.toFiniteNumber(C.headers.get("content-length"));C=new Response(lE(C.body,dE,a&&cE(L,Ah(a,!0)),S&&b,v1),I)}d=d||"text";let M=await Ch[Ce.findKey(Ch,d)||"text"](C,t);return!S&&b(),m&&m(),await new Promise((I,L)=>{iE(I,L,{data:M,headers:Cn.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:v})})}catch(C){throw b(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,t,v),{cause:C.cause||C}):mt.from(C,C&&C.code,t,v)}})};Ce.forEach(w1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fE=t=>`- ${t}`,Wj=t=>Ce.isFunction(t)||t===null||t===!1,hE={getAdapter:t=>{t=Ce.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!Wj(r)&&(n=w1[(s=String(r)).toLowerCase()],n===void 0))throw new mt(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(fE).join(`
`):" "+fE(o[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:w1};function x1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ml(null,t)}function pE(t){return x1(t),t.headers=Cn.from(t.headers),t.data=b1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hE.getAdapter(t.adapter||Su.adapter)(t).then(function(n){return x1(t),n.data=b1.call(t,t.transformResponse,n),n.headers=Cn.from(n.headers),n},function(n){return nE(n)||(x1(t),n&&n.response&&(n.response.data=b1.call(t,t.transformResponse,n.response),n.response.headers=Cn.from(n.response.headers))),Promise.reject(n)})}const mE="1.7.2",A1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{A1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const gE={};A1.transitional=function(e,r,n){function i(o,s){return"[Axios v"+mE+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new mt(i(s," has been removed"+(r?" in "+r:"")),mt.ERR_DEPRECATED);return r&&!gE[s]&&(gE[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Gj(t,e,r){if(typeof t!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new mt("option "+o+" must be "+l,mt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new mt("Unknown option "+o,mt.ERR_BAD_OPTION)}}const T1={assertOptions:Gj,validators:A1},ss=T1.validators;let Xs=class{constructor(e){this.defaults=e,this.interceptors={request:new ZC,response:new ZC}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ks(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&T1.assertOptions(n,{silentJSONParsing:ss.transitional(ss.boolean),forcedJSONParsing:ss.transitional(ss.boolean),clarifyTimeoutError:ss.transitional(ss.boolean)},!1),i!=null&&(Ce.isFunction(i)?r.paramsSerializer={serialize:i}:T1.assertOptions(i,{encode:ss.function,serialize:ss.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&Ce.merge(o.common,o[r.method]);o&&Ce.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=Cn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,u=0,h;if(!l){const m=[pE.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,d),h=m.length,f=Promise.resolve(r);u<h;)f=f.then(m[u++],m[u++]);return f}h=a.length;let p=r;for(u=0;u<h;){const m=a[u++],y=a[u++];try{p=m(p)}catch(v){y.call(this,v);break}}try{f=pE.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,h=d.length;u<h;)f=f.then(d[u++],d[u++]);return f}getUri(e){e=Ks(this.defaults,e);const r=oE(e.baseURL,e.url);return JC(r,e.params,e.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(e){Xs.prototype[e]=function(r,n){return this.request(Ks(n||{},{method:e,url:r,data:(n||{}).data}))}}),Ce.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(Ks(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Xs.prototype[e]=r(),Xs.prototype[e+"Form"]=r(!0)});let Qj=class o6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Ml(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new o6(function(i){e=i}),cancel:e}}};function Yj(t){return function(r){return t.apply(null,r)}}function Kj(t){return Ce.isObject(t)&&t.isAxiosError===!0}const C1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(C1).forEach(([t,e])=>{C1[e]=t});function yE(t){const e=new Xs(t),r=RC(Xs.prototype.request,e);return Ce.extend(r,Xs.prototype,e,{allOwnKeys:!0}),Ce.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return yE(Ks(t,i))},r}const Xt=yE(Su);Xt.Axios=Xs,Xt.CanceledError=Ml,Xt.CancelToken=Qj,Xt.isCancel=nE,Xt.VERSION=mE,Xt.toFormData=wh,Xt.AxiosError=mt,Xt.Cancel=Xt.CanceledError,Xt.all=function(e){return Promise.all(e)},Xt.spread=Yj,Xt.isAxiosError=Kj,Xt.mergeConfig=Ks,Xt.AxiosHeaders=Cn,Xt.formToJSON=t=>tE(Ce.isHTMLForm(t)?new FormData(t):t),Xt.getAdapter=hE.getAdapter,Xt.HttpStatusCode=C1,Xt.default=Xt;const{Axios:cfe,AxiosError:ufe,CanceledError:dfe,isCancel:ffe,CancelToken:hfe,VERSION:pfe,all:mfe,Cancel:gfe,isAxiosError:yfe,spread:bfe,toFormData:vfe,AxiosHeaders:bE,HttpStatusCode:_fe,formToJSON:wfe,getAdapter:xfe,mergeConfig:Afe}=Xt;var vE={},_E={},E1={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.createTimeAwareMapObserver=void 0;var Xj=function(t){var e=new Map;return{create:function(r,n){var i=setTimeout(function(){n(r)},t);e.set(r,i)},cancel:function(r){if(e.has(r)){var n=e.get(r);e.delete(r),clearTimeout(n)}}}};Iu.createTimeAwareMapObserver=Xj,Object.defineProperty(E1,"__esModule",{value:!0});var Jj=Iu;function Zj(t){var e=new Map,r=(0,Jj.createTimeAwareMapObserver)(t.timeToClear);function n(d){var f=e.get(d);return f||null}function i(d){return e.delete(d),r.cancel(d),!0}function o(){return e.size}function s(d){return e.has(d)}function a(){return Array.from(e.keys())}function l(d,f){return e.set(d,f),r.create(d,i),!0}return{keys:a,size:o,has:s,get:n,set:l,remove:i}}E1.default=Zj;var S1={},Eh={};Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.LRULinkedList=void 0;var wE=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),e$=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,o=new wE(e,r);return o.next=i,o.prev=null,i.prev=o,this.HEAD=o,this.positions.set(e,o),this.size++,o}else{var s=new wE(e,r);return this.HEAD=s,this.TAIL||(this.TAIL=s),this.positions.set(e,s),this.size++,s}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Eh.LRULinkedList=e$,Object.defineProperty(S1,"__esModule",{value:!0});var t$=Eh;function r$(t){var e=new t$.LRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,get:r,set:a,remove:n,has:i}}S1.default=r$;var k1={},Sh={};Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.MRULinkedList=void 0;var kh=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),n$=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.mruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.moveToTail=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToTail(r.id,r.data);return n}return null},t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,o=new kh(e,r);return o.next=i,o.prev=null,i.prev=o,this.HEAD=o,this.positions.set(e,o),this.size++,o}else{var s=new kh(e,r);return this.HEAD=s,this.TAIL||(this.TAIL=s),this.positions.set(e,s),this.size++,s}},t.prototype.addNodeToTail=function(e,r){if(this.positions.has(e)){var n=this.moveToTail(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.TAIL){var i=this.TAIL,o=new kh(e,r);return o.prev=i,o.next=null,i.next=o,this.TAIL=o,this.positions.set(e,o),this.size++,o}else{var s=new kh(e,r);return this.TAIL=s,this.HEAD||(this.HEAD=s),this.positions.set(e,s),this.size++,s}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToTail(r);return n?n.data:null}return null},t}();Sh.MRULinkedList=n$,Object.defineProperty(k1,"__esModule",{value:!0});var i$=Sh;function o$(t){var e=new i$.MRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,has:i,get:r,set:a,remove:n}}k1.default=o$;var I1={},Ih={};Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.TLRULinkedList=void 0;var s$=Iu,xE=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),a$=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize,this.timer=(0,s$.createTimeAwareMapObserver)(e.timeToClear)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}var i=this.remove.bind(this);if(this.timer.create(e,i),this.HEAD){var o=this.HEAD,s=new xE(e,r);return s.next=o,s.prev=null,o.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new xE(e,r);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.timer.cancel(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.timer.cancel(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Ih.TLRULinkedList=a$,Object.defineProperty(I1,"__esModule",{value:!0});var l$=Ih;function c$(t){var e=new l$.TLRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,get:r,set:a,remove:n,has:i}}I1.default=c$,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0;var e=E1,r=S1,n=k1,i=I1;t.defaultConfig={strategy:"lru",policy:"lru",timeToClear:72e5,lruSize:500,mruSize:500};function o(s){var a={};typeof s=="object"&&(a=s);var l=Object.assign({},t.defaultConfig,a);switch(l.policy){case"timeout":return(0,e.default)(l);case"lru":return(0,r.default)(l);case"mru":return(0,n.default)(l);case"tlru":return(0,i.default)(l);default:throw new Error(l.policy+" is not a supported policy.")}}t.default=o}(_E),Object.defineProperty(vE,"__esModule",{value:!0});var u$=_E,AE=vE.default=u$.default;class TE{constructor(e=null){Pe(this,"head");Pe(this,"tail");Pe(this,"main");Pe(this,"length");this.head=e,this.tail=e,this.main=e,this.length=e?1:0}numberOfMessages(){let e=0,r=this.head;for(;r;)e+=r.length,r=r.next;return e}concate(e){var r;(r=this.main)==null||r.concate(e)}unshift(e){var r;(r=this.main)==null||r.unshift(e)}insert(e){if(this.length===0){this.head=this.tail=this.main=e,this.length=1;return}if(e.length===0)return;let r=this.tail;for(;r&&r.head.createdAt>e.head.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,e.next&&(e.next.prev=e),r.next=e,e.prev=r):(e.next=this.head,e.next&&(e.next.prev=e),this.head=e),this.main=e,this.length++}merge(){if(this.length<=1)return;let e=this.tail;for(;e;){if(e.prev&&e.canCombine(e.prev)){e.combine(e.prev),e.prev===this.main&&(this.main=e),e.prev=e.prev.prev,e.prev?e.prev.next=e:this.head=e,this.length--;break}e=e.prev}e&&this.merge()}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}var ri=(t=>(t.RoomName="roomName",t.RoomMember="roomMember",t.RoomPrefTags="roomPrefTags",t.RoomPrefFolder="roomPrefFolder",t.RoomTags="roomTags",t))(ri||{});const CE={count:0,config:{},uid:"",axios:Xt,isRequesting:{},socket:Tu({autoConnect:!1}),imageCache:AE(),translationCache:AE(),users:{},rooms:{},sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,uploadProgresses:{},downloadProgresses:{},linkPreviews:{},actionMenuRoomId:"",folders:{},sortedFolderIds:[],roomIdsInFolders:{},selectedRoomIdsForCreateFolder:{},selectedFolderId:"",searchKeyword:"",searchType:ri.RoomName,searchRooms:{},roomTag:"",deliveringMessages:new Map,selectedRoomId:"",messageMultiList:new TE,numberOfTotalMessages:-1,replyId:"",navigationTargetId:"",isRoomInfoVisible:!1,isTyping:{},isSearchInRoomMode:!1,messageSearchKeyword:""};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},d$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],a=t[r++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=o>>2,u=(o&3)<<4|a>>4;let h=(a&15)<<2|d>>6,p=d&63;l||(p=64,s||(h=64)),n.push(r[f],r[u],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const u=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||u==null)throw new f$;const h=o<<2|a>>4;if(n.push(h),d!==64){const p=a<<4&240|d>>2;if(n.push(p),u!==64){const m=d<<6&192|u;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h$=function(t){const e=EE(t);return SE.encodeByteArray(e,!0)},kE=function(t){return h$(t).replace(/\./g,"")},p$=function(t){try{return SE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=()=>m$().__FIREBASE_DEFAULTS__,y$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p$(t[1]);return e&&JSON.parse(e)},v$=()=>{try{return g$()||y$()||b$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IE=()=>{var t;return(t=v$())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function DE(){try{return typeof indexedDB=="object"}catch{return!1}}function ME(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}function w$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$="FirebaseError";class Nl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=x$,Object.setPrototypeOf(this,Nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dh.prototype.create)}}class Dh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?A$(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nl(i,a,n)}}function A$(t,e){return t.replace(T$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const T$=/\{\$([^}]+)}/g;function D1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(NE(o)&&NE(s)){if(!D1(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function NE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new _$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S$(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:E$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E$(t){return t===Js?void 0:t}function S$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new C$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Jt||(Jt={}));const I$={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},D$=Jt.INFO,M$={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},N$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=M$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O${constructor(e){this.name=e,this._logLevel=D$,this._logHandler=N$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...e),this._logHandler(this,Jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...e),this._logHandler(this,Jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...e),this._logHandler(this,Jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...e),this._logHandler(this,Jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...e),this._logHandler(this,Jt.ERROR,...e)}}const L$=(t,e)=>e.some(r=>t instanceof r);let LE,BE;function B$(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R$(){return BE||(BE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,M1=new WeakMap,PE=new WeakMap,N1=new WeakMap,O1=new WeakMap;function P$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Oo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&RE.set(r,t)}).catch(()=>{}),O1.set(e,t),e}function F$(t){if(M1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});M1.set(t,e)}let L1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return M1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PE.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Oo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U$(t){L1=t(L1)}function j$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(B1(this),e,...r);return PE.set(n,e.sort?e.sort():[e]),Oo(n)}:R$().includes(t)?function(...e){return t.apply(B1(this),e),Oo(RE.get(this))}:function(...e){return Oo(t.apply(B1(this),e))}}function $$(t){return typeof t=="function"?j$(t):(t instanceof IDBTransaction&&F$(t),L$(t,B$())?new Proxy(t,L1):t)}function Oo(t){if(t instanceof IDBRequest)return P$(t);if(N1.has(t))return N1.get(t);const e=$$(t);return e!==t&&(N1.set(t,e),O1.set(e,t)),e}const B1=t=>O1.get(t);function Mh(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oo(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Oo(s.result),l.oldVersion,l.newVersion,Oo(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function R1(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Oo(r).then(()=>{})}const z$=["get","getKey","getAll","getAllKeys","count"],V$=["put","add","delete","clear"],P1=new Map;function FE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P1.get(e))return P1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=V$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||z$.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return P1.set(e,o),o}U$(t=>({...t,get:(e,r,n)=>FE(e,r)||t.get(e,r,n),has:(e,r)=>!!FE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(q$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function q$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const F1="@firebase/app",UE="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new O$("@firebase/app"),W$="@firebase/app-compat",G$="@firebase/analytics-compat",Q$="@firebase/analytics",Y$="@firebase/app-check-compat",K$="@firebase/app-check",X$="@firebase/auth",J$="@firebase/auth-compat",Z$="@firebase/database",ez="@firebase/database-compat",tz="@firebase/functions",rz="@firebase/functions-compat",nz="@firebase/installations",iz="@firebase/installations-compat",oz="@firebase/messaging",sz="@firebase/messaging-compat",az="@firebase/performance",lz="@firebase/performance-compat",cz="@firebase/remote-config",uz="@firebase/remote-config-compat",dz="@firebase/storage",fz="@firebase/storage-compat",hz="@firebase/firestore",pz="@firebase/vertexai-preview",mz="@firebase/firestore-compat",gz="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="[DEFAULT]",yz={[F1]:"fire-core",[W$]:"fire-core-compat",[Q$]:"fire-analytics",[G$]:"fire-analytics-compat",[K$]:"fire-app-check",[Y$]:"fire-app-check-compat",[X$]:"fire-auth",[J$]:"fire-auth-compat",[Z$]:"fire-rtdb",[ez]:"fire-rtdb-compat",[tz]:"fire-fn",[rz]:"fire-fn-compat",[nz]:"fire-iid",[iz]:"fire-iid-compat",[oz]:"fire-fcm",[sz]:"fire-fcm-compat",[az]:"fire-perf",[lz]:"fire-perf-compat",[cz]:"fire-rc",[uz]:"fire-rc-compat",[dz]:"fire-gcs",[fz]:"fire-gcs-compat",[hz]:"fire-fst",[mz]:"fire-fst-compat",[pz]:"fire-vertex","fire-js":"fire-js",[gz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,bz=new Map,j1=new Map;function jE(t,e){try{t.container.addComponent(e)}catch(r){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ea(t){const e=t.name;if(j1.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;j1.set(e,t);for(const r of Nh.values())jE(r,t);for(const r of bz.values())jE(r,t);return!0}function $1(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Dh("app","Firebase",vz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}function $E(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:U1,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ls.create("bad-app-name",{appName:String(i)});if(r||(r=IE()),!r)throw ls.create("no-options");const o=Nh.get(i);if(o){if(D1(r,o.options)&&D1(n,o.config))return o;throw ls.create("duplicate-app",{appName:i})}const s=new k$(i);for(const l of j1.values())s.addComponent(l);const a=new _z(r,n,s);return Nh.set(i,a),a}function wz(t=U1){const e=Nh.get(t);if(!e&&t===U1&&IE())return $E();if(!e)throw ls.create("no-app",{appName:t});return e}function cs(t,e,r){var n;let i=(n=yz[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(a.join(" "));return}ea(new as(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz="firebase-heartbeat-database",Az=1,Du="firebase-heartbeat-store";let z1=null;function zE(){return z1||(z1=Mh(xz,Az,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Du)}catch(r){console.warn(r)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),z1}async function Tz(t){try{const r=(await zE()).transaction(Du),n=await r.objectStore(Du).get(HE(t));return await r.done,n}catch(e){if(e instanceof Nl)Zs.warn(e.message);else{const r=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(r.message)}}}async function VE(t,e){try{const n=(await zE()).transaction(Du,"readwrite");await n.objectStore(Du).put(e,HE(t)),await n.done}catch(r){if(r instanceof Nl)Zs.warn(r.message);else{const n=ls.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zs.warn(n.message)}}}function HE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=1024,Ez=30*24*60*60*1e3;class Sz{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Iz(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Ez}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qE(),{heartbeatsToSend:n,unsentEntries:i}=kz(this._heartbeatsCache.heartbeats),o=kE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function qE(){return new Date().toISOString().substring(0,10)}function kz(t,e=Cz){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WE(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),WE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Iz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DE()?ME().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Tz(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return VE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return VE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WE(t){return kE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){ea(new as("platform-logger",e=>new H$(e),"PRIVATE")),ea(new as("heartbeat",e=>new Sz(e),"PRIVATE")),cs(F1,UE,t),cs(F1,UE,"esm2017"),cs("fire-js","")}Dz("");const GE="@firebase/installations",V1="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=1e4,YE=`w:${V1}`,KE="FIS_v2",Mz="https://firebaseinstallations.googleapis.com/v1",Nz=60*60*1e3,Oz="installations",Lz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new Dh(Oz,Lz,Bz);function XE(t){return t instanceof Nl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE({projectId:t}){return`${Mz}/projects/${t}/installations`}function ZE(t){return{token:t.token,requestStatus:2,expiresIn:Pz(t.expiresIn),creationTime:Date.now()}}async function e3(t,e){const n=(await e.json()).error;return ta.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function t3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Rz(t,{refreshToken:e}){const r=t3(t);return r.append("Authorization",Fz(e)),r}async function r3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Pz(t){return Number(t.replace("s","000"))}function Fz(t){return`${KE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=JE(t),i=t3(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={fid:r,authVersion:KE,appId:t.appId,sdkVersion:YE},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await r3(()=>fetch(n,a));if(l.ok){const d=await l.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:ZE(d.authToken)}}else throw await e3("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=/^[cdef][\w-]{21}$/,H1="";function zz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Vz(t);return $z.test(r)?r:H1}catch{return H1}}function Vz(t){return jz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Map;function o3(t,e){const r=Oh(t);s3(r,e),Hz(r,e)}function s3(t,e){const r=i3.get(t);if(r)for(const n of r)n(e)}function Hz(t,e){const r=qz();r&&r.postMessage({key:t,fid:e}),Wz()}let ra=null;function qz(){return!ra&&"BroadcastChannel"in self&&(ra=new BroadcastChannel("[Firebase] FID Change"),ra.onmessage=t=>{s3(t.data.key,t.data.fid)}),ra}function Wz(){i3.size===0&&ra&&(ra.close(),ra=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="firebase-installations-database",Qz=1,na="firebase-installations-store";let q1=null;function W1(){return q1||(q1=Mh(Gz,Qz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(na)}}})),q1}async function Lh(t,e){const r=Oh(t),i=(await W1()).transaction(na,"readwrite"),o=i.objectStore(na),s=await o.get(r);return await o.put(e,r),await i.done,(!s||s.fid!==e.fid)&&o3(t,e.fid),e}async function a3(t){const e=Oh(t),n=(await W1()).transaction(na,"readwrite");await n.objectStore(na).delete(e),await n.done}async function Bh(t,e){const r=Oh(t),i=(await W1()).transaction(na,"readwrite"),o=i.objectStore(na),s=await o.get(r),a=e(s);return a===void 0?await o.delete(r):await o.put(a,r),await i.done,a&&(!s||s.fid!==a.fid)&&o3(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(t){let e;const r=await Bh(t.appConfig,n=>{const i=Yz(n),o=Kz(t,i);return e=o.registrationPromise,o.installationEntry});return r.fid===H1?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Yz(t){const e=t||{fid:zz(),registrationStatus:0};return c3(e)}function Kz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ta.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Xz(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Jz(t)}:{installationEntry:e}}async function Xz(t,e){try{const r=await Uz(t,e);return Lh(t.appConfig,r)}catch(r){throw XE(r)&&r.customData.serverCode===409?await a3(t.appConfig):await Lh(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Jz(t){let e=await l3(t.appConfig);for(;e.registrationStatus===1;)await n3(100),e=await l3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await G1(t);return n||r}return e}function l3(t){return Bh(t,e=>{if(!e)throw ta.create("installation-not-found");return c3(e)})}function c3(t){return Zz(t)?{fid:t.fid,registrationStatus:0}:t}function Zz(t){return t.registrationStatus===1&&t.registrationTime+QE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV({appConfig:t,heartbeatServiceProvider:e},r){const n=tV(t,r),i=Rz(t,r),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={installation:{sdkVersion:YE,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await r3(()=>fetch(n,a));if(l.ok){const d=await l.json();return ZE(d)}else throw await e3("Generate Auth Token",l)}function tV(t,{fid:e}){return`${JE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t,e=!1){let r;const n=await Bh(t.appConfig,o=>{if(!d3(o))throw ta.create("not-registered");const s=o.authToken;if(!e&&iV(s))return o;if(s.requestStatus===1)return r=rV(t,e),o;{if(!navigator.onLine)throw ta.create("app-offline");const a=sV(o);return r=nV(t,a),a}});return r?await r:n.authToken}async function rV(t,e){let r=await u3(t.appConfig);for(;r.authToken.requestStatus===1;)await n3(100),r=await u3(t.appConfig);const n=r.authToken;return n.requestStatus===0?Q1(t,e):n}function u3(t){return Bh(t,e=>{if(!d3(e))throw ta.create("not-registered");const r=e.authToken;return aV(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nV(t,e){try{const r=await eV(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Lh(t.appConfig,n),r}catch(r){if(XE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await a3(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lh(t.appConfig,n)}throw r}}function d3(t){return t!==void 0&&t.registrationStatus===2}function iV(t){return t.requestStatus===2&&!oV(t)}function oV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nz}function sV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aV(t){return t.requestStatus===1&&t.requestTime+QE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t){const e=t,{installationEntry:r,registrationPromise:n}=await G1(e);return n?n.catch(console.error):Q1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e=!1){const r=t;return await uV(r),(await Q1(r,e)).token}async function uV(t){const{registrationPromise:e}=await G1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){if(!t||!t.options)throw Y1("App Configuration");if(!t.name)throw Y1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Y1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Y1(t){return ta.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="installations",fV="installations-internal",hV=t=>{const e=t.getProvider("app").getImmediate(),r=dV(e),n=$1(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},pV=t=>{const e=t.getProvider("app").getImmediate(),r=$1(e,f3).getImmediate();return{getId:()=>lV(r),getToken:i=>cV(r,i)}};function mV(){ea(new as(f3,hV,"PUBLIC")),ea(new as(fV,pV,"PRIVATE"))}mV(),cs(GE,V1),cs(GE,V1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="/firebase-messaging-sw.js",yV="/firebase-cloud-messaging-push-scope",h3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bV="https://fcmregistrations.googleapis.com/v1",p3="google.c.a.c_id",vV="google.c.a.c_l",_V="google.c.a.ts",wV="google.c.a.e";var m3;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(m3||(m3={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Mu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Mu||(Mu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xV(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="fcm_token_details_db",AV=5,g3="fcm_token_object_Store";async function TV(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(K1))return null;let e=null;return(await Mh(K1,AV,{upgrade:async(n,i,o,s)=>{var a;if(i<2||!n.objectStoreNames.contains(g3))return;const l=s.objectStore(g3),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(i===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(a=f.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Lo(f.vapidKey)}}}else if(i===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Lo(f.auth),p256dh:Lo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Lo(f.vapidKey)}}}else if(i===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Lo(f.auth),p256dh:Lo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Lo(f.vapidKey)}}}}}})).close(),await R1(K1),await R1("fcm_vapid_details_db"),await R1("undefined"),CV(e)?e:null}function CV(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-messaging-database",SV=1,Nu="firebase-messaging-store";let X1=null;function y3(){return X1||(X1=Mh(EV,SV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nu)}}})),X1}async function kV(t){const e=b3(t),n=await(await y3()).transaction(Nu).objectStore(Nu).get(e);if(n)return n;{const i=await TV(t.appConfig.senderId);if(i)return await J1(t,i),i}}async function J1(t,e){const r=b3(t),i=(await y3()).transaction(Nu,"readwrite");return await i.objectStore(Nu).put(e,r),await i.done,e}function b3({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new Dh("messaging","Messaging",IV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){const r=await ey(t),n=v3(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(Z1(t.appConfig),i)).json()}catch(s){throw an.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw an.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw an.create("token-subscribe-no-token");return o.token}async function MV(t,e){const r=await ey(t),n=v3(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(`${Z1(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw an.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw an.create("token-update-failed",{errorInfo:s})}if(!o.token)throw an.create("token-update-no-token");return o.token}async function NV(t,e){const n={method:"DELETE",headers:await ey(t)};try{const o=await(await fetch(`${Z1(t.appConfig)}/${e}`,n)).json();if(o.error){const s=o.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw an.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Z1({projectId:t}){return`${bV}/projects/${t}/registrations`}async function ey({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function v3({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==h3&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=7*24*60*60*1e3;async function LV(t){const e=await RV(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Lo(e.getKey("auth")),p256dh:Lo(e.getKey("p256dh"))},n=await kV(t.firebaseDependencies);if(n){if(PV(n.subscriptionOptions,r))return Date.now()>=n.createTime+OV?BV(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await NV(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return _3(t.firebaseDependencies,r)}else return _3(t.firebaseDependencies,r)}async function BV(t,e){try{const r=await MV(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await J1(t.firebaseDependencies,n),r}catch(r){throw r}}async function _3(t,e){const n={token:await DV(t,e),createTime:Date.now(),subscriptionOptions:e};return await J1(t,n),n.token}async function RV(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xV(e)})}function PV(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return r&&n&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return FV(e,t),UV(e,t),jV(e,t),e}function FV(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function UV(t,e){e.data&&(t.data=e.data)}function jV(t,e){var r,n,i,o,s;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){return typeof t=="object"&&!!t&&p3 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */x3("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),x3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function x3(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){if(!t||!t.options)throw ty("App Configuration Object");if(!t.name)throw ty("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw ty(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function ty(t){return an.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=zV(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t){try{t.swRegistration=await navigator.serviceWorker.register(gV,{scope:yV}),t.swRegistration.update().catch(()=>{})}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){if(!e&&!t.swRegistration&&await HV(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=h3)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await WV(t,e==null?void 0:e.vapidKey),await qV(t,e==null?void 0:e.serviceWorkerRegistration),LV(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e,r){const n=QV(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[p3],message_name:r[vV],message_time:r[_V],message_device_time:Math.floor(Date.now()/1e3)})}function QV(t){switch(t){case Mu.NOTIFICATION_CLICKED:return"notification_open";case Mu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Mu.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(w3(r)):t.onMessageHandler.next(w3(r)));const n=r.data;$V(n)&&n[wV]==="1"&&await GV(t,r.messageType,n)}const T3="@firebase/messaging",C3="0.12.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=t=>{const e=new VV(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>YV(e,r)),e},XV=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>A3(e,n)}};function JV(){ea(new as("messaging",KV,"PUBLIC")),ea(new as("messaging-internal",XV,"PRIVATE")),cs(T3,C3),cs(T3,C3,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(){try{await ME()}catch{return!1}return typeof window<"u"&&DE()&&w$()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t=wz()){return ZV().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),$1(OE(t),"messaging").getImmediate()}async function tH(t,e){return t=OE(t),A3(t,e)}JV();var io=(t=>(t.FetchRooms="/rooms",t.Search="/search",t.Subscribe="/me/subscribe",t.Unsubscribe="/me/unsubscribe",t))(io||{});class Ol{constructor(e,r,n){Pe(this,"id");Pe(this,"name");Pe(this,"roomIds");this.id=e,this.name=r,this.roomIds=n}get payload(){return{children:this.roomIds.map(e=>({id:e,type:"room"}))}}}var ze=(t=>(t.increment="increment",t.fetchRooms="fetchRooms",t.fetchRoom="fetchRoom",t.loadMessages="loadMessages",t.updateLastRead="updateLastRead",t.handleMessageFromSocket="handleMessageFromSocket",t.handleRoomFromSocket="handleRoomFromSocket",t.handleLastReadFromSocket="handleLastReadFromSocket",t.sendMessage="sendMessage",t.recallMessage="recallMessage",t.uploadMedia="uploadMedia",t.fetchLinkPreview="fetchLinkPreview",t.handleLinkPreviews="handleLinkPreviews",t.fetchVideoBlob="fetchVideoBlob",t.navigateToMessage="navigateToMessage",t.uploadImage="uploadImage",t.updateRoomPrefs="updateRoomPrefs",t.fetchPrefs="fetchPrefs",t.updatePref="updatePref",t.deletePref="deletePref",t.updateFolder="updateFolder",t.removeFolder="removeFolder",t.handlePrefChangeFromSocket="handlePrefChangeFromSocket",t.handlePrefDeleteFromSocket="handlePrefDeleteFromSocket",t.aggregateRoomsAndFolders="aggregateRoomsAndFolders",t.removeMembers="removeMembers",t.handleTypingFromSocket="handleTypingFromSocket",t.insertUnreadMessage="insertUnreadMessage",t.translate="translate",t.searchRooms="searchRooms",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.removeRoomFromFolder="removeRoomFromFolder",t.addRoomToFolder="addRoomToFolder",t.fetchRoomsInFolders="fetchRoomsInFolders",t.batchSendMessage="batchSendMessage",t.toggleNotification="toggleNotification",t.removeRoom="removeRoom",t.translateMessage="translateMessage",t.quickReply="quickReply",t))(ze||{}),$e=(t=>(t.increment="increment",t.setState="setState",t.updateField="updateField",t.deleteField="deleteField",t.updateRoom="updateRoom",t.updateLastRead="updateLastRead",t.pushMessage="pushMessage",t.replaceMessage="replaceMessage",t.clearChatRoom="clearChatRoom",t.deleteRoom="deleteRoom",t.setMap="setMap",t.deleteMap="deleteMap",t.insertMessageLinkedList="insertMessageLinkedList",t.concateMessageLinkedList="concateMessageLinkedList",t.unshiftMessageLinkedList="unshiftMessageLinkedList",t))($e||{});class rH{constructor(e){Pe(this,"head");Pe(this,"tail");Pe(this,"length");Pe(this,"map");Pe(this,"messageGroups");Pe(this,"firstMessageOfDate");Pe(this,"prev",null);Pe(this,"next",null);this.head=null,this.tail=null,this.length=0,this.map=new Map,this.messageGroups=new Map,this.firstMessageOfDate=new Map;const r=n=>{const i=ir.fromRaw(n);return i?[i].concat(r(n.reply)):[]};for(const n of e.reverse()){const i=ir.fromRaw(n);i&&this.append(i);for(const o of r(n.reply))this.map.set(o.id,o)}}append(e){if(!this.contains(e.id)){if(this.tail){let r=this.tail;for(;r&&r.createdAt>e.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,r.next=e,e.prev=r):(e.next=this.head,this.head=e),e.next&&(e.next.prev=e)}else this.head=this.tail=e;this.map.set(e.id,e),this.length++,this.insertMessageToGroup(e)}}insertMessageToGroup(e){if(e.isSystem)return;if(this.messageGroups.has(e.groupId)){const n=this.messageGroups.get(e.groupId);if(n){let i=!1;for(let o=n.length-1;o>=0;o--)if(n[o].createdAt<e.createdAt){o==n.length-1?n.push(e):n.splice(o+1,0,e),i=!0;break}i||n.unshift(e)}}else this.messageGroups.set(e.groupId,[e]);const r=this.firstMessageOfDate.get(e.dateId);(!r||r.createdAt>e.createdAt)&&this.firstMessageOfDate.set(e.dateId,e)}replace(e,r){var i;const n=this.finds(e);if(n){n.prev?n.prev.next=r:this.head=r,n.next?n.next.prev=r:this.tail=r,r.prev=n.prev,r.next=n.next,this.map.delete(e),this.map.set(r.id,r);const o=this.messageGroups.get(n.groupId);if(o){const s=o.indexOf(n);s>=0&&(r.isSystem?o.splice(s,1):o[s]=r)}((i=this.firstMessageOfDate.get(n.dateId))==null?void 0:i.id)===n.id&&this.firstMessageOfDate.set(n.dateId,r)}}concate(e){if(e.length!==0){this.tail?(this.tail.next=e.head,e.head&&(e.head.prev=this.tail),this.tail=e.tail):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const o of n)this.insertMessageToGroup(o)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}unshift(e){if(e.length!==0){this.head?(this.head.prev=e.tail,e.tail&&(e.tail.next=this.head),this.head=e.head):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const o of n)this.insertMessageToGroup(o)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}resetHead(e){if(this.head&&this.head.id===e)return;const r=this.finds(e);if(r){this.head=r,r.prev=null;let n=0,i=r;for(;i;)n++,i=i.next;this.length=n}}resetTail(e){if(this.tail&&this.tail.id===e)return;const r=this.finds(e);if(r){this.tail=r,r.next=null;let n=0,i=r;for(;i;)n++,i=i.prev;this.length=n}}canCombine(e){var r,n;return e.length===0||!e.head||!e.tail?!1:this.contains(e.tail.id)||this.contains(e.head.id)||e.contains(((r=this.head)==null?void 0:r.id)??"")&&e.contains(((n=this.tail)==null?void 0:n.id)??"")}combine(e){var i,o,s,a;if(e.length===0||!e.head||!e.tail)return;const r=this.contains(e.head.id),n=this.contains(e.tail.id);if(!(r&&n)){if(!r&&!n)e.contains(((i=this.head)==null?void 0:i.id)??"")&&e.contains(((o=this.tail)==null?void 0:o.id)??"")&&(this.head=e.head,this.tail=e.tail,this.length=e.length,this.map=e.map);else if(n){const l=(s=this.finds(e.tail.id))==null?void 0:s.next;l?this.resetHead(l.id):(this.head=null,this.tail=null,this.length=0),this.unshift(e)}else if(r){const l=(a=this.finds(e.head.id))==null?void 0:a.prev;l?this.resetTail(l.id):(this.head=null,this.tail=null,this.length=0),this.concate(e)}}}array(){const e=[];let r=this.head;for(;r;)e.push(r),r=r.next;return e}finds(e){const r=this.map.get(e);if(r)return r.next||r.prev||this.head===r&&this.tail===r?r:void 0}contains(e){return this.finds(e)!==void 0}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}var Rh=(t=>(t.Direct="direct",t.Group="group",t))(Rh||{});class Ou{constructor(e,r){Pe(this,"id");Pe(this,"name");Pe(this,"type");Pe(this,"createdAt");Pe(this,"updatedAt");Pe(this,"memberIds");Pe(this,"isOutgoingGroupSender");Pe(this,"coverUrl");Pe(this,"lastMessage");Pe(this,"numberOfUnread");Pe(this,"lastReadMessageId");Pe(this,"pref");Pe(this,"roomTags");Pe(this,"extra");Pe(this,"muted",!1);Pe(this,"description");var b;const{_id:n,name:i,roomType:o,createdTimeMS:s,lastMessage:a,members:l,cover:d,unread:f,memberProperties:u,extParams:h,pref:p,roomTags:m,muted:y,description:v}=e;if(this.id=n,this.name=i,this.type=o||"direct",this.createdAt=s,this.lastMessage=ir.fromRaw(a),this.updatedAt=((b=this.lastMessage)==null?void 0:b.createdAt)??s,this.memberIds=[],this.isOutgoingGroupSender={},l.forEach(A=>{this.memberIds.push(A._id),A.clientType==="group"&&A.members.some(C=>C._id===r)&&A.members.forEach(C=>{this.isOutgoingGroupSender[C._id]=!0})}),this.coverUrl=d??"",this.numberOfUnread=f??0,this.lastReadMessageId={},this.pref=p,this.roomTags=m??[],this.muted=y,this.description=v??"",u)for(const{client:A,lastRead:C}of u)this.lastReadMessageId[A]=C;try{this.extra=JSON.parse(h)}catch{this.extra={}}o==="custom"&&(this.type=this.extra.roomType)}get memberIdsWithoutMeAndMyGroup(){const{state:{imkit:{uid:e,users:r}}}=Rt();return this.memberIds.filter(n=>n!==e&&!r[n].memberIds[e])}_displayName(e,r){if(this.type=="group")return`${this.name} (${this.memberIds.length})`;if(this.type=="direct")if(this.extra.guestId){const n=this.extra.guestId;return r[n].nickname??""}else return this.memberIds.filter(n=>n!==e).map(n=>r[n].nickname).join(", ");return""}get displayName(){var n;const{state:{imkit:{uid:e,users:r}}}=Rt();if(this.memberIdsWithoutMeAndMyGroup.length===0){const{t:i}=_i();return i("emptyChat")}else{if(this.type=="direct")return(n=this.memberIdsWithoutMeAndMyGroup.map(i=>r[i])[0])==null?void 0:n.nickname;if(this.type=="group")return this.name?this.name:this.memberIds.filter(i=>i!==e).map(i=>r[i].nickname).join(", ")}return""}get avatars(){const{state:{imkit:{uid:e,users:r}}}=Rt();return this.memberIdsWithoutMeAndMyGroup.length===0?[{url:r[e].avatarUrl??"",name:r[e].nickname??""}]:this.type=="direct"?this.memberIdsWithoutMeAndMyGroup.map(n=>({url:r[n].avatarUrl??"",name:r[n].nickname??""})):this.type=="group"?this.coverUrl&&this.coverUrl.length>0?[{url:this.coverUrl,name:this.displayName??""}]:this.memberIds.map(n=>r[n]).sort((n,i)=>n.id===e?1:i.id===e?-1:(i.avatarUrl??"").length-(n.avatarUrl??"").length).map(n=>({url:n.avatarUrl??"",name:n.nickname??""})):[{url:"",name:this.displayName??""}]}}function nH(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function E3(t,e){return new Promise(function(r,n){let i;return iH(t).then(function(o){try{return i=o,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return n(s)}},n)})}const iH=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return r("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const d=s+10;let f;switch(o.getUint16(d)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(d+2,f)!==42)return r("TIFF header contains invalid version");const u=o.getUint32(d+4,f),h=d+u+2+12*o.getUint16(d+u,f);for(let p=d+u+2;p<h;p+=12)if(o.getUint16(p,f)==274){if(o.getUint16(p+2,f)!==3)return r("Orientation data type is invalid");if(o.getUint32(p+4,f)!==1)return r("Orientation data count is invalid");o.setUint16(p+8,1,f);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var Ph={},oH={get exports(){return Ph},set exports(t){Ph=t}};(function(t){var e,r,n={};oH.exports=n,n.parse=function(i,o){for(var s=n.bin.readUshort,a=n.bin.readUint,l=0,d={},f=new Uint8Array(i),u=f.length-4;a(f,u)!=101010256;)u--;l=u,l+=4;var h=s(f,l+=4);s(f,l+=2);var p=a(f,l+=2),m=a(f,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(f,l),l+=4,l+=4,l+=4,a(f,l+=4),p=a(f,l+=4);var v=a(f,l+=4),b=s(f,l+=4),A=s(f,l+2),C=s(f,l+4);l+=6;var S=a(f,l+=8);l+=4,l+=b+A+C,n._readLocal(f,S,d,p,v,o)}return d},n._readLocal=function(i,o,s,a,l,d){var f=n.bin.readUshort,u=n.bin.readUint;u(i,o),f(i,o+=4),f(i,o+=2);var h=f(i,o+=2);u(i,o+=2),u(i,o+=4),o+=4;var p=f(i,o+=8),m=f(i,o+=2);o+=2;var y=n.bin.readUTF8(i,o,p);if(o+=p,o+=m,d)s[y]={size:l,csize:a};else{var v=new Uint8Array(i.buffer,o);if(h==0)s[y]=new Uint8Array(v.buffer.slice(o,o+a));else{if(h!=8)throw"unknown compression method: "+h;var b=new Uint8Array(l);n.inflateRaw(v,b),s[y]=b}}},n.inflateRaw=function(i,o){return n.F.inflate(i,o)},n.inflate=function(i,o){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},n.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=n.F.deflateRaw(i,a,s,o.level);var l=n.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},n.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=n.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},n.encode=function(i,o){o==null&&(o=!1);var s=0,a=n.bin.writeUint,l=n.bin.writeUshort,d={};for(var f in i){var u=!n._noNeed(f)&&!o,h=i[f],p=n.crc.crc(h,0,h.length);d[f]={cpr:u,usize:h.length,crc:p,file:u?n.deflateRaw(h):h}}for(var f in d)s+=d[f].file.length+30+46+2*n.bin.sizeUTF8(f);s+=22;var m=new Uint8Array(s),y=0,v=[];for(var f in d){var b=d[f];v.push(y),y=n._writeHeader(m,y,f,b,0)}var A=0,C=y;for(var f in d)b=d[f],v.push(y),y=n._writeHeader(m,y,f,b,1,v[A++]);var S=y-C;return a(m,y,101010256),y+=4,l(m,y+=4,A),l(m,y+=2,A),a(m,y+=2,S),a(m,y+=4,C),y+=4,y+=2,m.buffer},n._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(i,o,s,a,l,d){var f=n.bin.writeUint,u=n.bin.writeUshort,h=a.file;return f(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),u(i,o,20),u(i,o+=2,0),u(i,o+=2,a.cpr?8:0),f(i,o+=2,0),f(i,o+=4,a.crc),f(i,o+=4,h.length),f(i,o+=4,a.usize),u(i,o+=4,n.bin.sizeUTF8(s)),u(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,f(i,o+=6,d),o+=4),o+=n.bin.writeUTF8(i,o,s),l==0&&(i.set(h,o),o+=h.length),o},n.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=n.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^n.crc.update(4294967295,i,o,s)}},n.adler=function(i,o,s){for(var a=1,l=0,d=o,f=o+s;d<f;){for(var u=Math.min(d+5552,f);d<u;)l+=a+=i[d++];a%=65521,l%=65521}return l<<16|a},n.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",d=0;d<s;d++)l+="%"+n.bin.pad(i[o+d].toString(16));try{a=decodeURIComponent(l)}catch{return n.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,d=0;d<a;d++){var f=s.charCodeAt(d);if(!(4294967168&f))i[o+l]=f,l++;else if(!(4294965248&f))i[o+l]=192|f>>6,i[o+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))i[o+l]=224|f>>12,i[o+l+1]=128|f>>6&63,i[o+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";i[o+l]=240|f>>18,i[o+l+1]=128|f>>12&63,i[o+l+2]=128|f>>6&63,i[o+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],d=n.F.U,f=n.F._goodIndex;n.F._hash;var u=n.F._putsE,h=0,p=s<<3,m=0,y=i.length;if(a==0){for(;h<y;)u(o,p,h+(z=Math.min(65535,y-h))==y?1:0),p=n.F._copyExact(i,h,z,o,p+8),h+=z;return p>>>3}var v=d.lits,b=d.strt,A=d.prev,C=0,S=0,M=0,I=0,L=0,k=0;for(y>2&&(b[k=n.F._hash(i,0)]=0),h=0;h<y;h++){if(L=k,h+1<y-2){k=n.F._hash(i,h+1);var T=h+1&32767;A[T]=b[k],b[k]=T}if(m<=h){(C>14e3||S>26697)&&y-h>100&&(m<h&&(v[C]=h-m,C+=2,m=h),p=n.F._writeBlock(h==y-1||m==y?1:0,v,C,I,i,M,h-M,o,p),C=S=I=0,M=h);var F=0;h<y-2&&(F=n.F._bestMatch(i,h,A,L,Math.min(l[2],y-h),l[3]));var z=F>>>16,P=65535&F;if(F!=0){P=65535&F;var R=f(z=F>>>16,d.of0);d.lhst[257+R]++;var $=f(P,d.df0);d.dhst[$]++,I+=d.exb[R]+d.dxb[$],v[C]=z<<23|h-m,v[C+1]=P<<16|R<<8|$,C+=2,m=h+z}else d.lhst[i[h]]++;S++}}for(M==h&&i.length!=0||(m<h&&(v[C]=h-m,C+=2,m=h),p=n.F._writeBlock(1,v,C,I,i,M,h-M,o,p),C=0,S=0,C=S=I=0,M=h);7&p;)p++;return p>>>3},n.F._bestMatch=function(i,o,s,a,l,d){var f=32767&o,u=s[f],h=f-u+32768&32767;if(u==f||a!=n.F._hash(i,o-h))return 0;for(var p=0,m=0,y=Math.min(32767,o);h<=y&&--d!=0&&u!=f;){if(p==0||i[o+p]==i[o+p-h]){var v=n.F._howLong(i,o,h);if(v>p){if(m=h,(p=v)>=l)break;h+2<v&&(v=h+2);for(var b=0,A=0;A<v-2;A++){var C=o-h+A+32768&32767,S=C-s[C]+32768&32767;S>b&&(b=S,u=C)}}}h+=(f=u)-(u=s[f])+32768&32767}return p<<16|m},n.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},n.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,o,s,a,l,d,f,u,h){var p,m,y,v,b,A,C,S,M,I=n.F.U,L=n.F._putsF,k=n.F._putsE;I.lhst[256]++,m=(p=n.F.getTrees())[0],y=p[1],v=p[2],b=p[3],A=p[4],C=p[5],S=p[6],M=p[7];var T=32+(h+3&7?8-(h+3&7):0)+(f<<3),F=a+n.F.contSize(I.fltree,I.lhst)+n.F.contSize(I.fdtree,I.dhst),z=a+n.F.contSize(I.ltree,I.lhst)+n.F.contSize(I.dtree,I.dhst);z+=14+3*C+n.F.contSize(I.itree,I.ihst)+(2*I.ihst[16]+3*I.ihst[17]+7*I.ihst[18]);for(var P=0;P<286;P++)I.lhst[P]=0;for(P=0;P<30;P++)I.dhst[P]=0;for(P=0;P<19;P++)I.ihst[P]=0;var R=T<F&&T<z?0:F<z?1:2;if(L(u,h,i),L(u,h+1,R),h+=3,R==0){for(;7&h;)h++;h=n.F._copyExact(l,d,f,u,h)}else{var $,W;if(R==1&&($=I.fltree,W=I.fdtree),R==2){n.F.makeCodes(I.ltree,m),n.F.revCodes(I.ltree,m),n.F.makeCodes(I.dtree,y),n.F.revCodes(I.dtree,y),n.F.makeCodes(I.itree,v),n.F.revCodes(I.itree,v),$=I.ltree,W=I.dtree,k(u,h,b-257),k(u,h+=5,A-1),k(u,h+=5,C-4),h+=4;for(var B=0;B<C;B++)k(u,h+3*B,I.itree[1+(I.ordr[B]<<1)]);h+=3*C,h=n.F._codeTiny(S,I.itree,u,h),h=n.F._codeTiny(M,I.itree,u,h)}for(var U=d,te=0;te<s;te+=2){for(var H=o[te],O=H>>>23,E=U+(8388607&H);U<E;)h=n.F._writeLit(l[U++],$,u,h);if(O!=0){var V=o[te+1],K=V>>16,Y=V>>8&255,Q=255&V;k(u,h=n.F._writeLit(257+Y,$,u,h),O-I.of0[Y]),h+=I.exb[Y],L(u,h=n.F._writeLit(Q,W,u,h),K-I.df0[Q]),h+=I.dxb[Q],U+=O}}h=n.F._writeLit(256,$,u,h)}return h},n.F._copyExact=function(i,o,s,a,l){var d=l>>>3;return a[d]=s,a[d+1]=s>>>8,a[d+2]=255-a[d],a[d+3]=255-a[d+1],d+=4,a.set(new Uint8Array(i.buffer,o,s),d),l+(s+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,o=n.F._hufTree(i.lhst,i.ltree,15),s=n.F._hufTree(i.dhst,i.dtree,15),a=[],l=n.F._lenCodes(i.ltree,a),d=[],f=n.F._lenCodes(i.dtree,d),u=0;u<a.length;u+=2)i.ihst[a[u]]++;for(u=0;u<d.length;u+=2)i.ihst[d[u]]++;for(var h=n.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[o,s,h,l,f,p,a,d]},n.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},n.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},n.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},n.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var d=i[l],f=i[l+1];a=n.F._writeLit(d,o,s,a);var u=d==16?2:d==17?3:7;d>15&&(n.F._putsE(s,a,f,u),a+=u)}return a},n.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],d=a+3<s?i[a+3]:-1,f=a+5<s?i[a+5]:-1,u=a==0?-1:i[a-1];if(l==0&&d==l&&f==l){for(var h=a+5;h+2<s&&i[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?o.push(17,p-3):o.push(18,p-11),a+=2*p-2}else if(l==u&&d==l&&f==l){for(h=a+5;h+2<s&&i[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);o.push(16,p-3),a+=2*p-2}else o.push(l,0)}return s>>>1},n.F._hufTree=function(i,o,s){var a=[],l=i.length,d=o.length,f=0;for(f=0;f<d;f+=2)o[f]=0,o[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&a.push({lit:f,f:i[f]});var u=a.length,h=a.slice(0);if(u==0)return 0;if(u==1){var p=a[0].lit;return h=p==0?1:0,o[1+(p<<1)]=1,o[1+(h<<1)]=1,1}a.sort(function(S,M){return S.f-M.f});var m=a[0],y=a[1],v=0,b=1,A=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};b!=u-1;)m=v!=b&&(A==u||a[v].f<a[A].f)?a[v++]:a[A++],y=v!=b&&(A==u||a[v].f<a[A].f)?a[v++]:a[A++],a[b++]={lit:-1,f:m.f+y.f,l:m,r:y};var C=n.F.setDepth(a[b-1],0);for(C>s&&(n.F.restrictDepth(h,s,C),C=s),f=0;f<u;f++)o[1+(h[f].lit<<1)]=h[f].d;return C},n.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(n.F.setDepth(i.l,o+1),n.F.setDepth(i.r,o+1))},n.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,d=0;for(i.sort(function(u,h){return h.d==u.d?u.f-h.f:h.d-u.d}),a=0;a<i.length&&i[a].d>o;a++){var f=i[a].d;i[a].d=o,d+=l-(1<<s-f)}for(d>>>=s-o;d>0;)(f=i[a].d)<o?(i[a].d++,d-=1<<o-f-1):a++;for(;a>=0;a--)i[a].d==o&&d<0&&(i[a].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},n.F._writeLit=function(i,o,s,a){return n.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},n.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=n.F,l=a._bitsF,d=a._bitsE,f=a._decodeTiny,u=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=o==null;y&&(o=new s(i.length>>>2<<3));for(var v,b,A=0,C=0,S=0,M=0,I=0,L=0,k=0,T=0,F=0;A==0;)if(A=l(i,F,1),C=l(i,F+1,2),F+=3,C!=0){if(y&&(o=n.F._check(o,T+(1<<17))),C==1&&(v=m.flmap,b=m.fdmap,L=511,k=31),C==2){S=d(i,F,5)+257,M=d(i,F+5,5)+1,I=d(i,F+10,4)+4,F+=14;for(var z=0;z<38;z+=2)m.itree[z]=0,m.itree[z+1]=0;var P=1;for(z=0;z<I;z++){var R=d(i,F+3*z,3);m.itree[1+(m.ordr[z]<<1)]=R,R>P&&(P=R)}F+=3*I,u(m.itree,P),h(m.itree,P,m.imap),v=m.lmap,b=m.dmap,F=f(m.imap,(1<<P)-1,S+M,i,F,m.ttree);var $=a._copyOut(m.ttree,0,S,m.ltree);L=(1<<$)-1;var W=a._copyOut(m.ttree,S,M,m.dtree);k=(1<<W)-1,u(m.ltree,$),h(m.ltree,$,v),u(m.dtree,W),h(m.dtree,W,b)}for(;;){var B=v[p(i,F)&L];F+=15&B;var U=B>>>4;if(!(U>>>8))o[T++]=U;else{if(U==256)break;var te=T+U-254;if(U>264){var H=m.ldef[U-257];te=T+(H>>>3)+d(i,F,7&H),F+=7&H}var O=b[p(i,F)&k];F+=15&O;var E=O>>>4,V=m.ddef[E],K=(V>>>4)+l(i,F,15&V);for(F+=15&V,y&&(o=n.F._check(o,T+(1<<17)));T<te;)o[T]=o[T++-K],o[T]=o[T++-K],o[T]=o[T++-K],o[T]=o[T++-K];T=te}}}else{7&F&&(F+=8-(7&F));var Y=4+(F>>>3),Q=i[Y-4]|i[Y-3]<<8;y&&(o=n.F._check(o,T+Q)),o.set(new s(i.buffer,i.byteOffset+Y,Q),T),F=Y+Q<<3,T+=Q}return o.length==T?o:o.slice(0,T)},n.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},n.F._decodeTiny=function(i,o,s,a,l,d){for(var f=n.F._bitsE,u=n.F._get17,h=0;h<s;){var p=i[u(a,l)&o];l+=15&p;var m=p>>>4;if(m<=15)d[h]=m,h++;else{var y=0,v=0;m==16?(v=3+f(a,l,2),l+=2,y=d[h-1]):m==17?(v=3+f(a,l,3),l+=3):m==18&&(v=11+f(a,l,7),l+=7);for(var b=h+v;h<b;)d[h]=y,h++}}return l},n.F._copyOut=function(i,o,s,a){for(var l=0,d=0,f=a.length>>>1;d<s;){var u=i[d+o];a[d<<1]=0,a[1+(d<<1)]=u,u>l&&(l=u),d++}for(;d<f;)a[d<<1]=0,a[1+(d<<1)]=0,d++;return l},n.F.makeCodes=function(i,o){for(var s,a,l,d,f=n.F.U,u=i.length,h=f.bl_count,p=0;p<=o;p++)h[p]=0;for(p=1;p<u;p+=2)h[i[p]]++;var m=f.next_code;for(s=0,h[0]=0,a=1;a<=o;a++)s=s+h[a-1]<<1,m[a]=s;for(l=0;l<u;l+=2)(d=i[l+1])!=0&&(i[l]=m[d],m[d]++)},n.F.codes2map=function(i,o,s){for(var a=i.length,l=n.F.U.rev15,d=0;d<a;d+=2)if(i[d+1]!=0)for(var f=d>>1,u=i[d+1],h=f<<4|u,p=o-u,m=i[d]<<p,y=m+(1<<p);m!=y;)s[l[m]>>>15-o]=h,m++},n.F.revCodes=function(i,o){for(var s=n.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var d=i[l]<<o-i[l+1];i[l]=s[d]>>>a}},n.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},n.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},n.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},n.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},n.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,d,f){for(;d--!=0;)l.push(0,f)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),a(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var sH=nH({__proto__:null,default:Ph},[Ph]);const Di=function(){var t={nextZero(f,u){for(;f[u]!=0;)u++;return u},readUshort:(f,u)=>f[u]<<8|f[u+1],writeUshort(f,u,h){f[u]=h>>8&255,f[u+1]=255&h},readUint:(f,u)=>16777216*f[u]+(f[u+1]<<16|f[u+2]<<8|f[u+3]),writeUint(f,u,h){f[u]=h>>24&255,f[u+1]=h>>16&255,f[u+2]=h>>8&255,f[u+3]=255&h},readASCII(f,u,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(f[u+m]);return p},writeASCII(f,u,h){for(let p=0;p<h.length;p++)f[u+p]=h.charCodeAt(p)},readBytes(f,u,h){const p=[];for(let m=0;m<h;m++)p.push(f[u+m]);return p},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,u,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(f[u+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(f,u,h)}return p}};function e(f,u,h,p){const m=u*h,y=o(p),v=Math.ceil(u*y/8),b=new Uint8Array(4*m),A=new Uint32Array(b.buffer),{ctype:C}=p,{depth:S}=p,M=t.readUshort;if(C==6){const H=m<<2;if(S==8)for(var I=0;I<H;I+=4)b[I]=f[I],b[I+1]=f[I+1],b[I+2]=f[I+2],b[I+3]=f[I+3];if(S==16)for(I=0;I<H;I++)b[I]=f[I<<1]}else if(C==2){const H=p.tabs.tRNS;if(H==null){if(S==8)for(I=0;I<m;I++){var L=3*I;A[I]=255<<24|f[L+2]<<16|f[L+1]<<8|f[L]}if(S==16)for(I=0;I<m;I++)L=6*I,A[I]=255<<24|f[L+4]<<16|f[L+2]<<8|f[L]}else{var k=H[0];const O=H[1],E=H[2];if(S==8)for(I=0;I<m;I++){var T=I<<2;L=3*I,A[I]=255<<24|f[L+2]<<16|f[L+1]<<8|f[L],f[L]==k&&f[L+1]==O&&f[L+2]==E&&(b[T+3]=0)}if(S==16)for(I=0;I<m;I++)T=I<<2,L=6*I,A[I]=255<<24|f[L+4]<<16|f[L+2]<<8|f[L],M(f,L)==k&&M(f,L+2)==O&&M(f,L+4)==E&&(b[T+3]=0)}}else if(C==3){const H=p.tabs.PLTE,O=p.tabs.tRNS,E=O?O.length:0;if(S==1)for(var F=0;F<h;F++){var z=F*v,P=F*u;for(I=0;I<u;I++){T=P+I<<2;var R=3*($=f[z+(I>>3)]>>7-((7&I)<<0)&1);b[T]=H[R],b[T+1]=H[R+1],b[T+2]=H[R+2],b[T+3]=$<E?O[$]:255}}if(S==2)for(F=0;F<h;F++)for(z=F*v,P=F*u,I=0;I<u;I++)T=P+I<<2,R=3*($=f[z+(I>>2)]>>6-((3&I)<<1)&3),b[T]=H[R],b[T+1]=H[R+1],b[T+2]=H[R+2],b[T+3]=$<E?O[$]:255;if(S==4)for(F=0;F<h;F++)for(z=F*v,P=F*u,I=0;I<u;I++)T=P+I<<2,R=3*($=f[z+(I>>1)]>>4-((1&I)<<2)&15),b[T]=H[R],b[T+1]=H[R+1],b[T+2]=H[R+2],b[T+3]=$<E?O[$]:255;if(S==8)for(I=0;I<m;I++){var $;T=I<<2,R=3*($=f[I]),b[T]=H[R],b[T+1]=H[R+1],b[T+2]=H[R+2],b[T+3]=$<E?O[$]:255}}else if(C==4){if(S==8)for(I=0;I<m;I++){T=I<<2;var W=f[B=I<<1];b[T]=W,b[T+1]=W,b[T+2]=W,b[T+3]=f[B+1]}if(S==16)for(I=0;I<m;I++){var B;T=I<<2,W=f[B=I<<2],b[T]=W,b[T+1]=W,b[T+2]=W,b[T+3]=f[B+2]}}else if(C==0)for(k=p.tabs.tRNS?p.tabs.tRNS:-1,F=0;F<h;F++){const H=F*v,O=F*u;if(S==1)for(var U=0;U<u;U++){var te=(W=255*(f[H+(U>>>3)]>>>7-(7&U)&1))==255*k?0:255;A[O+U]=te<<24|W<<16|W<<8|W}else if(S==2)for(U=0;U<u;U++)te=(W=85*(f[H+(U>>>2)]>>>6-((3&U)<<1)&3))==85*k?0:255,A[O+U]=te<<24|W<<16|W<<8|W;else if(S==4)for(U=0;U<u;U++)te=(W=17*(f[H+(U>>>1)]>>>4-((1&U)<<2)&15))==17*k?0:255,A[O+U]=te<<24|W<<16|W<<8|W;else if(S==8)for(U=0;U<u;U++)te=(W=f[H+U])==k?0:255,A[O+U]=te<<24|W<<16|W<<8|W;else if(S==16)for(U=0;U<u;U++)W=f[H+(U<<1)],te=M(f,H+(U<<1))==k?0:255,A[O+U]=te<<24|W<<16|W<<8|W}return b}function r(f,u,h,p){const m=o(f),y=Math.ceil(h*m/8),v=new Uint8Array((y+1+f.interlace)*p);return u=f.tabs.CgBI?i(u,v):n(u,v),f.interlace==0?u=s(u,f,0,h,p):f.interlace==1&&(u=function(A,C){const S=C.width,M=C.height,I=o(C),L=I>>3,k=Math.ceil(S*I/8),T=new Uint8Array(M*k);let F=0;const z=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],$=[8,8,4,4,2,2,1];let W=0;for(;W<7;){const U=R[W],te=$[W];let H=0,O=0,E=z[W];for(;E<M;)E+=U,O++;let V=P[W];for(;V<S;)V+=te,H++;const K=Math.ceil(H*I/8);s(A,C,F,H,O);let Y=0,Q=z[W];for(;Q<M;){let ae=P[W],ie=F+Y*K<<3;for(;ae<S;){var B;if(I==1&&(B=(B=A[ie>>3])>>7-(7&ie)&1,T[Q*k+(ae>>3)]|=B<<7-((7&ae)<<0)),I==2&&(B=(B=A[ie>>3])>>6-(7&ie)&3,T[Q*k+(ae>>2)]|=B<<6-((3&ae)<<1)),I==4&&(B=(B=A[ie>>3])>>4-(7&ie)&15,T[Q*k+(ae>>1)]|=B<<4-((1&ae)<<2)),I>=8){const me=Q*k+ae*L;for(let pe=0;pe<L;pe++)T[me+pe]=A[(ie>>3)+pe]}ie+=I,ae+=te}Y++,Q+=U}H*O!=0&&(F+=O*(1+K)),W+=1}return T}(u,f)),u}function n(f,u){return i(new Uint8Array(f.buffer,2,f.length-6),u)}var i=function(){const f={H:{}};return f.H.N=function(u,h){const p=Uint8Array;let m,y,v=0,b=0,A=0,C=0,S=0,M=0,I=0,L=0,k=0;if(u[0]==3&&u[1]==0)return h||new p(0);const T=f.H,F=T.b,z=T.e,P=T.R,R=T.n,$=T.A,W=T.Z,B=T.m,U=h==null;for(U&&(h=new p(u.length>>>2<<5));v==0;)if(v=F(u,k,1),b=F(u,k+1,2),k+=3,b!=0){if(U&&(h=f.H.W(h,L+(1<<17))),b==1&&(m=B.J,y=B.h,M=511,I=31),b==2){A=z(u,k,5)+257,C=z(u,k+5,5)+1,S=z(u,k+10,4)+4,k+=14;let H=1;for(var te=0;te<38;te+=2)B.Q[te]=0,B.Q[te+1]=0;for(te=0;te<S;te++){const V=z(u,k+3*te,3);B.Q[1+(B.X[te]<<1)]=V,V>H&&(H=V)}k+=3*S,R(B.Q,H),$(B.Q,H,B.u),m=B.w,y=B.d,k=P(B.u,(1<<H)-1,A+C,u,k,B.v);const O=T.V(B.v,0,A,B.C);M=(1<<O)-1;const E=T.V(B.v,A,C,B.D);I=(1<<E)-1,R(B.C,O),$(B.C,O,m),R(B.D,E),$(B.D,E,y)}for(;;){const H=m[W(u,k)&M];k+=15&H;const O=H>>>4;if(!(O>>>8))h[L++]=O;else{if(O==256)break;{let E=L+O-254;if(O>264){const ae=B.q[O-257];E=L+(ae>>>3)+z(u,k,7&ae),k+=7&ae}const V=y[W(u,k)&I];k+=15&V;const K=V>>>4,Y=B.c[K],Q=(Y>>>4)+F(u,k,15&Y);for(k+=15&Y;L<E;)h[L]=h[L++-Q],h[L]=h[L++-Q],h[L]=h[L++-Q],h[L]=h[L++-Q];L=E}}}}else{7&k&&(k+=8-(7&k));const H=4+(k>>>3),O=u[H-4]|u[H-3]<<8;U&&(h=f.H.W(h,L+O)),h.set(new p(u.buffer,u.byteOffset+H,O),L),k=H+O<<3,L+=O}return h.length==L?h:h.slice(0,L)},f.H.W=function(u,h){const p=u.length;if(h<=p)return u;const m=new Uint8Array(p<<1);return m.set(u,0),m},f.H.R=function(u,h,p,m,y,v){const b=f.H.e,A=f.H.Z;let C=0;for(;C<p;){const S=u[A(m,y)&h];y+=15&S;const M=S>>>4;if(M<=15)v[C]=M,C++;else{let I=0,L=0;M==16?(L=3+b(m,y,2),y+=2,I=v[C-1]):M==17?(L=3+b(m,y,3),y+=3):M==18&&(L=11+b(m,y,7),y+=7);const k=C+L;for(;C<k;)v[C]=I,C++}}return y},f.H.V=function(u,h,p,m){let y=0,v=0;const b=m.length>>>1;for(;v<p;){const A=u[v+h];m[v<<1]=0,m[1+(v<<1)]=A,A>y&&(y=A),v++}for(;v<b;)m[v<<1]=0,m[1+(v<<1)]=0,v++;return y},f.H.n=function(u,h){const p=f.H.m,m=u.length;let y,v,b,A;const C=p.j;for(var S=0;S<=h;S++)C[S]=0;for(S=1;S<m;S+=2)C[u[S]]++;const M=p.K;for(y=0,C[0]=0,v=1;v<=h;v++)y=y+C[v-1]<<1,M[v]=y;for(b=0;b<m;b+=2)A=u[b+1],A!=0&&(u[b]=M[A],M[A]++)},f.H.A=function(u,h,p){const m=u.length,y=f.H.m.r;for(let v=0;v<m;v+=2)if(u[v+1]!=0){const b=v>>1,A=u[v+1],C=b<<4|A,S=h-A;let M=u[v]<<S;const I=M+(1<<S);for(;M!=I;)p[y[M]>>>15-h]=C,M++}},f.H.l=function(u,h){const p=f.H.m.r,m=15-h;for(let y=0;y<u.length;y+=2){const v=u[y]<<h-u[y+1];u[y]=p[v]>>>m}},f.H.M=function(u,h,p){p<<=7&h;const m=h>>>3;u[m]|=p,u[m+1]|=p>>>8},f.H.I=function(u,h,p){p<<=7&h;const m=h>>>3;u[m]|=p,u[m+1]|=p>>>8,u[m+2]|=p>>>16},f.H.e=function(u,h,p){return(u[h>>>3]|u[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},f.H.b=function(u,h,p){return(u[h>>>3]|u[1+(h>>>3)]<<8|u[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},f.H.Z=function(u,h){return(u[h>>>3]|u[1+(h>>>3)]<<8|u[2+(h>>>3)]<<16)>>>(7&h)},f.H.i=function(u,h){return(u[h>>>3]|u[1+(h>>>3)]<<8|u[2+(h>>>3)]<<16|u[3+(h>>>3)]<<24)>>>(7&h)},f.H.m=function(){const u=Uint16Array,h=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new u(65536),g:new u(32768)}}(),function(){const u=f.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,u.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,v){for(;y--!=0;)m.push(0,v)}for(h=0;h<32;h++)u.q[h]=u.S[h]<<3|u.T[h],u.c[h]=u.p[h]<<4|u.z[h];p(u._,144,8),p(u._,112,9),p(u._,24,7),p(u._,8,8),f.H.n(u._,9),f.H.A(u._,9,u.J),f.H.l(u._,9),p(u.$,32,5),f.H.n(u.$,5),f.H.A(u.$,5,u.h),f.H.l(u.$,5),p(u.Q,19,0),p(u.C,286,0),p(u.D,30,0),p(u.v,320,0)}(),f.H.N}();function o(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function s(f,u,h,p,m){let y=o(u);const v=Math.ceil(p*y/8);let b,A;y=Math.ceil(y/8);let C=f[h],S=0;if(C>1&&(f[h]=[0,0,1][C-2]),C==3)for(S=y;S<v;S++)f[S+1]=f[S+1]+(f[S+1-y]>>>1)&255;for(let M=0;M<m;M++)if(b=h+M*v,A=b+M+1,C=f[A-1],S=0,C==0)for(;S<v;S++)f[b+S]=f[A+S];else if(C==1){for(;S<y;S++)f[b+S]=f[A+S];for(;S<v;S++)f[b+S]=f[A+S]+f[b+S-y]}else if(C==2)for(;S<v;S++)f[b+S]=f[A+S]+f[b+S-v];else if(C==3){for(;S<y;S++)f[b+S]=f[A+S]+(f[b+S-v]>>>1);for(;S<v;S++)f[b+S]=f[A+S]+(f[b+S-v]+f[b+S-y]>>>1)}else{for(;S<y;S++)f[b+S]=f[A+S]+a(0,f[b+S-v],0);for(;S<v;S++)f[b+S]=f[A+S]+a(f[b+S-y],f[b+S-v],f[b+S-y-v])}return f}function a(f,u,h){const p=f+u-h,m=p-f,y=p-u,v=p-h;return m*m<=y*y&&m*m<=v*v?f:y*y<=v*v?u:h}function l(f,u,h){h.width=t.readUint(f,u),u+=4,h.height=t.readUint(f,u),u+=4,h.depth=f[u],u++,h.ctype=f[u],u++,h.compress=f[u],u++,h.filter=f[u],u++,h.interlace=f[u],u++}function d(f,u,h,p,m,y,v,b,A){const C=Math.min(u,m),S=Math.min(h,y);let M=0,I=0;for(let W=0;W<S;W++)for(let B=0;B<C;B++)if(v>=0&&b>=0?(M=W*u+B<<2,I=(b+W)*m+v+B<<2):(M=(-b+W)*u-v+B<<2,I=W*m+B<<2),A==0)p[I]=f[M],p[I+1]=f[M+1],p[I+2]=f[M+2],p[I+3]=f[M+3];else if(A==1){var L=f[M+3]*.00392156862745098,k=f[M]*L,T=f[M+1]*L,F=f[M+2]*L,z=p[I+3]*(1/255),P=p[I]*z,R=p[I+1]*z,$=p[I+2]*z;const U=1-L,te=L+z*U,H=te==0?0:1/te;p[I+3]=255*te,p[I+0]=(k+P*U)*H,p[I+1]=(T+R*U)*H,p[I+2]=(F+$*U)*H}else if(A==2)L=f[M+3],k=f[M],T=f[M+1],F=f[M+2],z=p[I+3],P=p[I],R=p[I+1],$=p[I+2],L==z&&k==P&&T==R&&F==$?(p[I]=0,p[I+1]=0,p[I+2]=0,p[I+3]=0):(p[I]=k,p[I+1]=T,p[I+2]=F,p[I+3]=L);else if(A==3){if(L=f[M+3],k=f[M],T=f[M+1],F=f[M+2],z=p[I+3],P=p[I],R=p[I+1],$=p[I+2],L==z&&k==P&&T==R&&F==$)continue;if(L<220&&z>20)return!1}return!0}return{decode:function(u){const h=new Uint8Array(u);let p=8;const m=t,y=m.readUshort,v=m.readUint,b={tabs:{},frames:[]},A=new Uint8Array(h.length);let C,S=0,M=0;const I=[137,80,78,71,13,10,26,10];for(var L=0;L<8;L++)if(h[L]!=I[L])throw"The input is not a PNG file!";for(;p<h.length;){const W=m.readUint(h,p);p+=4;const B=m.readASCII(h,p,4);if(p+=4,B=="IHDR")l(h,p,b);else if(B=="iCCP"){for(var k=p;h[k]!=0;)k++;m.readASCII(h,p,k-p),h[k+1];const U=h.slice(k+2,p+W);let te=null;try{te=n(U)}catch{te=i(U)}b.tabs[B]=te}else if(B=="CgBI")b.tabs[B]=h.slice(p,p+4);else if(B=="IDAT"){for(L=0;L<W;L++)A[S+L]=h[p+L];S+=W}else if(B=="acTL")b.tabs[B]={num_frames:v(h,p),num_plays:v(h,p+4)},C=new Uint8Array(h.length);else if(B=="fcTL"){M!=0&&(($=b.frames[b.frames.length-1]).data=r(b,C.slice(0,M),$.rect.width,$.rect.height),M=0);const U={x:v(h,p+12),y:v(h,p+16),width:v(h,p+4),height:v(h,p+8)};let te=y(h,p+22);te=y(h,p+20)/(te==0?100:te);const H={rect:U,delay:Math.round(1e3*te),dispose:h[p+24],blend:h[p+25]};b.frames.push(H)}else if(B=="fdAT"){for(L=0;L<W-4;L++)C[M+L]=h[p+L+4];M+=W-4}else if(B=="pHYs")b.tabs[B]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(B=="cHRM")for(b.tabs[B]=[],L=0;L<8;L++)b.tabs[B].push(m.readUint(h,p+4*L));else if(B=="tEXt"||B=="zTXt"){b.tabs[B]==null&&(b.tabs[B]={});var T=m.nextZero(h,p),F=m.readASCII(h,p,T-p),z=p+W-T-1;if(B=="tEXt")R=m.readASCII(h,T+1,z);else{var P=n(h.slice(T+2,T+2+z));R=m.readUTF8(P,0,P.length)}b.tabs[B][F]=R}else if(B=="iTXt"){b.tabs[B]==null&&(b.tabs[B]={}),T=0,k=p,T=m.nextZero(h,k),F=m.readASCII(h,k,T-k);const U=h[k=T+1];var R;h[k+1],k+=2,T=m.nextZero(h,k),m.readASCII(h,k,T-k),k=T+1,T=m.nextZero(h,k),m.readUTF8(h,k,T-k),z=W-((k=T+1)-p),U==0?R=m.readUTF8(h,k,z):(P=n(h.slice(k,k+z)),R=m.readUTF8(P,0,P.length)),b.tabs[B][F]=R}else if(B=="PLTE")b.tabs[B]=m.readBytes(h,p,W);else if(B=="hIST"){const U=b.tabs.PLTE.length/3;for(b.tabs[B]=[],L=0;L<U;L++)b.tabs[B].push(y(h,p+2*L))}else if(B=="tRNS")b.ctype==3?b.tabs[B]=m.readBytes(h,p,W):b.ctype==0?b.tabs[B]=y(h,p):b.ctype==2&&(b.tabs[B]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(B=="gAMA")b.tabs[B]=m.readUint(h,p)/1e5;else if(B=="sRGB")b.tabs[B]=h[p];else if(B=="bKGD")b.ctype==0||b.ctype==4?b.tabs[B]=[y(h,p)]:b.ctype==2||b.ctype==6?b.tabs[B]=[y(h,p),y(h,p+2),y(h,p+4)]:b.ctype==3&&(b.tabs[B]=h[p]);else if(B=="IEND")break;p+=W,m.readUint(h,p),p+=4}var $;return M!=0&&(($=b.frames[b.frames.length-1]).data=r(b,C.slice(0,M),$.rect.width,$.rect.height)),b.data=r(b,A,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(u){const h=u.width,p=u.height;if(u.tabs.acTL==null)return[e(u.data,h,p,u).buffer];const m=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const y=h*p*4,v=new Uint8Array(y),b=new Uint8Array(y),A=new Uint8Array(y);for(let S=0;S<u.frames.length;S++){const M=u.frames[S],I=M.rect.x,L=M.rect.y,k=M.rect.width,T=M.rect.height,F=e(M.data,k,T,u);if(S!=0)for(var C=0;C<y;C++)A[C]=v[C];if(M.blend==0?d(F,k,T,v,h,p,I,L,0):M.blend==1&&d(F,k,T,v,h,p,I,L,1),m.push(v.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)d(b,k,T,v,h,p,I,L,0);else if(M.dispose==2)for(C=0;C<y;C++)v[C]=A[C]}}return m},_paeth:a,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=Di,{_bin:e}=Di,r=Di._paeth;var n={table:function(){const k=new Uint32Array(256);for(let T=0;T<256;T++){let F=T;for(let z=0;z<8;z++)1&F?F=3988292384^F>>>1:F>>>=1;k[T]=F}return k}(),update(k,T,F,z){for(let P=0;P<z;P++)k=n.table[255&(k^T[F+P])]^k>>>8;return k},crc:(k,T,F)=>4294967295^n.update(4294967295,k,T,F)};function i(k,T,F,z){T[F]+=k[0]*z>>4,T[F+1]+=k[1]*z>>4,T[F+2]+=k[2]*z>>4,T[F+3]+=k[3]*z>>4}function o(k){return Math.max(0,Math.min(255,k))}function s(k,T){const F=k[0]-T[0],z=k[1]-T[1],P=k[2]-T[2],R=k[3]-T[3];return F*F+z*z+P*P+R*R}function a(k,T,F,z,P,R,$){$==null&&($=1);const W=z.length,B=[];for(var U=0;U<W;U++){const Q=z[U];B.push([Q>>>0&255,Q>>>8&255,Q>>>16&255,Q>>>24&255])}for(U=0;U<W;U++){let Q=4294967295;for(var te=0,H=0;H<W;H++){var O=s(B[U],B[H]);H!=U&&O<Q&&(Q=O,te=H)}}const E=new Uint32Array(P.buffer),V=new Int16Array(T*F*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(U=0;U<K.length;U++)K[U]=255*((K[U]+.5)/16-.5);for(let Q=0;Q<F;Q++)for(let ae=0;ae<T;ae++){var Y;U=4*(Q*T+ae),$!=2?Y=[o(k[U]+V[U]),o(k[U+1]+V[U+1]),o(k[U+2]+V[U+2]),o(k[U+3]+V[U+3])]:(O=K[4*(3&Q)+(3&ae)],Y=[o(k[U]+O),o(k[U+1]+O),o(k[U+2]+O),o(k[U+3]+O)]),te=0;let ie=16777215;for(H=0;H<W;H++){const fe=s(Y,B[H]);fe<ie&&(ie=fe,te=H)}const me=B[te],pe=[Y[0]-me[0],Y[1]-me[1],Y[2]-me[2],Y[3]-me[3]];$==1&&(ae!=T-1&&i(pe,V,U+4,7),Q!=F-1&&(ae!=0&&i(pe,V,U+4*T-4,3),i(pe,V,U+4*T,5),ae!=T-1&&i(pe,V,U+4*T+4,1))),R[U>>2]=te,E[U>>2]=z[te]}}function l(k,T,F,z,P){P==null&&(P={});const{crc:R}=n,$=e.writeUint,W=e.writeUshort,B=e.writeASCII;let U=8;const te=k.frames.length>1;let H,O=!1,E=33+(te?20:0);if(P.sRGB!=null&&(E+=13),P.pHYs!=null&&(E+=21),P.iCCP!=null&&(H=pako.deflate(P.iCCP),E+=21+H.length+4),k.ctype==3){for(var V=k.plte.length,K=0;K<V;K++)k.plte[K]>>>24!=255&&(O=!0);E+=8+3*V+4+(O?8+1*V+4:0)}for(var Y=0;Y<k.frames.length;Y++)te&&(E+=38),E+=(me=k.frames[Y]).cimg.length+12,Y!=0&&(E+=4);E+=12;const Q=new Uint8Array(E),ae=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)Q[K]=ae[K];if($(Q,U,13),U+=4,B(Q,U,"IHDR"),U+=4,$(Q,U,T),U+=4,$(Q,U,F),U+=4,Q[U]=k.depth,U++,Q[U]=k.ctype,U++,Q[U]=0,U++,Q[U]=0,U++,Q[U]=0,U++,$(Q,U,R(Q,U-17,17)),U+=4,P.sRGB!=null&&($(Q,U,1),U+=4,B(Q,U,"sRGB"),U+=4,Q[U]=P.sRGB,U++,$(Q,U,R(Q,U-5,5)),U+=4),P.iCCP!=null){const pe=13+H.length;$(Q,U,pe),U+=4,B(Q,U,"iCCP"),U+=4,B(Q,U,"ICC profile"),U+=11,U+=2,Q.set(H,U),U+=H.length,$(Q,U,R(Q,U-(pe+4),pe+4)),U+=4}if(P.pHYs!=null&&($(Q,U,9),U+=4,B(Q,U,"pHYs"),U+=4,$(Q,U,P.pHYs[0]),U+=4,$(Q,U,P.pHYs[1]),U+=4,Q[U]=P.pHYs[2],U++,$(Q,U,R(Q,U-13,13)),U+=4),te&&($(Q,U,8),U+=4,B(Q,U,"acTL"),U+=4,$(Q,U,k.frames.length),U+=4,$(Q,U,P.loop!=null?P.loop:0),U+=4,$(Q,U,R(Q,U-12,12)),U+=4),k.ctype==3){for($(Q,U,3*(V=k.plte.length)),U+=4,B(Q,U,"PLTE"),U+=4,K=0;K<V;K++){const pe=3*K,fe=k.plte[K],ve=255&fe,ce=fe>>>8&255,we=fe>>>16&255;Q[U+pe+0]=ve,Q[U+pe+1]=ce,Q[U+pe+2]=we}if(U+=3*V,$(Q,U,R(Q,U-3*V-4,3*V+4)),U+=4,O){for($(Q,U,V),U+=4,B(Q,U,"tRNS"),U+=4,K=0;K<V;K++)Q[U+K]=k.plte[K]>>>24&255;U+=V,$(Q,U,R(Q,U-V-4,V+4)),U+=4}}let ie=0;for(Y=0;Y<k.frames.length;Y++){var me=k.frames[Y];te&&($(Q,U,26),U+=4,B(Q,U,"fcTL"),U+=4,$(Q,U,ie++),U+=4,$(Q,U,me.rect.width),U+=4,$(Q,U,me.rect.height),U+=4,$(Q,U,me.rect.x),U+=4,$(Q,U,me.rect.y),U+=4,W(Q,U,z[Y]),U+=2,W(Q,U,1e3),U+=2,Q[U]=me.dispose,U++,Q[U]=me.blend,U++,$(Q,U,R(Q,U-30,30)),U+=4);const pe=me.cimg;$(Q,U,(V=pe.length)+(Y==0?0:4)),U+=4;const fe=U;B(Q,U,Y==0?"IDAT":"fdAT"),U+=4,Y!=0&&($(Q,U,ie++),U+=4),Q.set(pe,U),U+=V,$(Q,U,R(Q,fe,U-fe)),U+=4}return $(Q,U,0),U+=4,B(Q,U,"IEND"),U+=4,$(Q,U,R(Q,U-4,4)),U+=4,Q.buffer}function d(k,T,F){for(let z=0;z<k.frames.length;z++){const P=k.frames[z];P.rect.width;const R=P.rect.height,$=new Uint8Array(R*P.bpl+R);P.cimg=p(P.img,R,P.bpp,P.bpl,$,T,F)}}function f(k,T,F,z,P){const R=P[0],$=P[1],W=P[2],B=P[3],U=P[4],te=P[5];let H=6,O=8,E=255;for(var V=0;V<k.length;V++){const Ue=new Uint8Array(k[V]);for(var K=Ue.length,Y=0;Y<K;Y+=4)E&=Ue[Y+3]}const Q=E!=255,ae=function(he,Se,De,j,q,le){const Te=[];for(var Ne=0;Ne<he.length;Ne++){const lt=new Uint8Array(he[Ne]),wt=new Uint32Array(lt.buffer);var Re;let Ke=0,Ft=0,_t=Se,lr=De,dr=j?1:0;if(Ne!=0){const Fi=le||j||Ne==1||Te[Ne-2].dispose!=0?1:2;let uo=0,fo=1e9;for(let Ui=0;Ui<Fi;Ui++){var Qe=new Uint8Array(he[Ne-1-Ui]);const ho=new Uint32Array(he[Ne-1-Ui]);let Ur=Se,jr=De,ui=-1,Vn=-1;for(let Hn=0;Hn<De;Hn++)for(let cn=0;cn<Se;cn++)wt[Ee=Hn*Se+cn]!=ho[Ee]&&(cn<Ur&&(Ur=cn),cn>ui&&(ui=cn),Hn<jr&&(jr=Hn),Hn>Vn&&(Vn=Hn));ui==-1&&(Ur=jr=ui=Vn=0),q&&((1&Ur)==1&&Ur--,(1&jr)==1&&jr--);const nr=(ui-Ur+1)*(Vn-jr+1);nr<fo&&(fo=nr,uo=Ui,Ke=Ur,Ft=jr,_t=ui-Ur+1,lr=Vn-jr+1)}Qe=new Uint8Array(he[Ne-1-uo]),uo==1&&(Te[Ne-1].dispose=2),Re=new Uint8Array(_t*lr*4),t(Qe,Se,De,Re,_t,lr,-Ke,-Ft,0),dr=t(lt,Se,De,Re,_t,lr,-Ke,-Ft,3)?1:0,dr==1?h(lt,Se,De,Re,{x:Ke,y:Ft,width:_t,height:lr}):t(lt,Se,De,Re,_t,lr,-Ke,-Ft,0)}else Re=lt.slice(0);Te.push({rect:{x:Ke,y:Ft,width:_t,height:lr},img:Re,blend:dr,dispose:0})}if(j)for(Ne=0;Ne<Te.length;Ne++){if((Ge=Te[Ne]).blend==1)continue;const lt=Ge.rect,wt=Te[Ne-1].rect,Ke=Math.min(lt.x,wt.x),Ft=Math.min(lt.y,wt.y),_t={x:Ke,y:Ft,width:Math.max(lt.x+lt.width,wt.x+wt.width)-Ke,height:Math.max(lt.y+lt.height,wt.y+wt.height)-Ft};Te[Ne-1].dispose=1,Ne-1!=0&&u(he,Se,De,Te,Ne-1,_t,q),u(he,Se,De,Te,Ne,_t,q)}let ge=0;if(he.length!=1)for(var Ee=0;Ee<Te.length;Ee++){var Ge;ge+=(Ge=Te[Ee]).rect.width*Ge.rect.height}return Te}(k,T,F,R,$,W),ie={},me=[],pe=[];if(z!=0){const Ue=[];for(Y=0;Y<ae.length;Y++)Ue.push(ae[Y].img.buffer);const he=function(q){let le=0;for(var Te=0;Te<q.length;Te++)le+=q[Te].byteLength;const Ne=new Uint8Array(le);let Re=0;for(Te=0;Te<q.length;Te++){const Qe=new Uint8Array(q[Te]),ge=Qe.length;for(let Ee=0;Ee<ge;Ee+=4){let Ge=Qe[Ee],lt=Qe[Ee+1],wt=Qe[Ee+2];const Ke=Qe[Ee+3];Ke==0&&(Ge=lt=wt=0),Ne[Re+Ee]=Ge,Ne[Re+Ee+1]=lt,Ne[Re+Ee+2]=wt,Ne[Re+Ee+3]=Ke}Re+=ge}return Ne.buffer}(Ue),Se=y(he,z);for(Y=0;Y<Se.plte.length;Y++)me.push(Se.plte[Y].est.rgba);let De=0;for(Y=0;Y<ae.length;Y++){const j=(ve=ae[Y]).img.length;var fe=new Uint8Array(Se.inds.buffer,De>>2,j>>2);pe.push(fe);const q=new Uint8Array(Se.abuf,De,j);te&&a(ve.img,ve.rect.width,ve.rect.height,me,q,fe),ve.img.set(q),De+=j}}else for(V=0;V<ae.length;V++){var ve=ae[V];const Ue=new Uint32Array(ve.img.buffer);var ce=ve.rect.width;for(K=Ue.length,fe=new Uint8Array(K),pe.push(fe),Y=0;Y<K;Y++){const he=Ue[Y];if(Y!=0&&he==Ue[Y-1])fe[Y]=fe[Y-1];else if(Y>ce&&he==Ue[Y-ce])fe[Y]=fe[Y-ce];else{let Se=ie[he];if(Se==null&&(ie[he]=Se=me.length,me.push(he),me.length>=300))break;fe[Y]=Se}}}const we=me.length;for(we<=256&&U==0&&(O=we<=2?1:we<=4?2:we<=16?4:8,O=Math.max(O,B)),V=0;V<ae.length;V++){(ve=ae[V]).rect.x,ve.rect.y,ce=ve.rect.width;const Ue=ve.rect.height;let he=ve.img;new Uint32Array(he.buffer);let Se=4*ce,De=4;if(we<=256&&U==0){Se=Math.ceil(O*ce/8);var oe=new Uint8Array(Se*Ue);const j=pe[V];for(let q=0;q<Ue;q++){Y=q*Se;const le=q*ce;if(O==8)for(var xe=0;xe<ce;xe++)oe[Y+xe]=j[le+xe];else if(O==4)for(xe=0;xe<ce;xe++)oe[Y+(xe>>1)]|=j[le+xe]<<4-4*(1&xe);else if(O==2)for(xe=0;xe<ce;xe++)oe[Y+(xe>>2)]|=j[le+xe]<<6-2*(3&xe);else if(O==1)for(xe=0;xe<ce;xe++)oe[Y+(xe>>3)]|=j[le+xe]<<7-1*(7&xe)}he=oe,H=3,De=1}else if(Q==0&&ae.length==1){oe=new Uint8Array(ce*Ue*3);const j=ce*Ue;for(Y=0;Y<j;Y++){const q=3*Y,le=4*Y;oe[q]=he[le],oe[q+1]=he[le+1],oe[q+2]=he[le+2]}he=oe,H=2,De=3,Se=3*ce}ve.img=he,ve.bpl=Se,ve.bpp=De}return{ctype:H,depth:O,plte:me,frames:ae}}function u(k,T,F,z,P,R,$){const W=Uint8Array,B=Uint32Array,U=new W(k[P-1]),te=new B(k[P-1]),H=P+1<k.length?new W(k[P+1]):null,O=new W(k[P]),E=new B(O.buffer);let V=T,K=F,Y=-1,Q=-1;for(let ie=0;ie<R.height;ie++)for(let me=0;me<R.width;me++){const pe=R.x+me,fe=R.y+ie,ve=fe*T+pe,ce=E[ve];ce==0||z[P-1].dispose==0&&te[ve]==ce&&(H==null||H[4*ve+3]!=0)||(pe<V&&(V=pe),pe>Y&&(Y=pe),fe<K&&(K=fe),fe>Q&&(Q=fe))}Y==-1&&(V=K=Y=Q=0),$&&((1&V)==1&&V--,(1&K)==1&&K--),R={x:V,y:K,width:Y-V+1,height:Q-K+1};const ae=z[P];ae.rect=R,ae.blend=1,ae.img=new Uint8Array(R.width*R.height*4),z[P-1].dispose==0?(t(U,T,F,ae.img,R.width,R.height,-R.x,-R.y,0),h(O,T,F,ae.img,R)):t(O,T,F,ae.img,R.width,R.height,-R.x,-R.y,0)}function h(k,T,F,z,P){t(k,T,F,z,P.width,P.height,-P.x,-P.y,2)}function p(k,T,F,z,P,R,$){const W=[];let B,U=[0,1,2,3,4];R!=-1?U=[R]:(T*z>5e5||F==1)&&(U=[0]),$&&(B={level:0});const te=sH;for(var H=0;H<U.length;H++){for(let V=0;V<T;V++)m(P,k,V,z,F,U[H]);W.push(te.deflate(P,B))}let O,E=1e9;for(H=0;H<W.length;H++)W[H].length<E&&(O=H,E=W[H].length);return W[O]}function m(k,T,F,z,P,R){const $=F*z;let W=$+F;if(k[W]=R,W++,R==0)if(z<500)for(var B=0;B<z;B++)k[W+B]=T[$+B];else k.set(new Uint8Array(T.buffer,$,z),W);else if(R==1){for(B=0;B<P;B++)k[W+B]=T[$+B];for(B=P;B<z;B++)k[W+B]=T[$+B]-T[$+B-P]+256&255}else if(F==0){for(B=0;B<P;B++)k[W+B]=T[$+B];if(R==2)for(B=P;B<z;B++)k[W+B]=T[$+B];if(R==3)for(B=P;B<z;B++)k[W+B]=T[$+B]-(T[$+B-P]>>1)+256&255;if(R==4)for(B=P;B<z;B++)k[W+B]=T[$+B]-r(T[$+B-P],0,0)+256&255}else{if(R==2)for(B=0;B<z;B++)k[W+B]=T[$+B]+256-T[$+B-z]&255;if(R==3){for(B=0;B<P;B++)k[W+B]=T[$+B]+256-(T[$+B-z]>>1)&255;for(B=P;B<z;B++)k[W+B]=T[$+B]+256-(T[$+B-z]+T[$+B-P]>>1)&255}if(R==4){for(B=0;B<P;B++)k[W+B]=T[$+B]+256-r(0,T[$+B-z],0)&255;for(B=P;B<z;B++)k[W+B]=T[$+B]+256-r(T[$+B-P],T[$+B-z],T[$+B-P-z])&255}}}function y(k,T){const F=new Uint8Array(k),z=F.slice(0),P=new Uint32Array(z.buffer),R=v(z,T),$=R[0],W=R[1],B=F.length,U=new Uint8Array(B>>2);let te;if(F.length<2e7)for(var H=0;H<B;H+=4)te=b($,O=F[H]*(1/255),E=F[H+1]*(1/255),V=F[H+2]*(1/255),K=F[H+3]*(1/255)),U[H>>2]=te.ind,P[H>>2]=te.est.rgba;else for(H=0;H<B;H+=4){var O=F[H]*.00392156862745098,E=F[H+1]*(1/255),V=F[H+2]*(1/255),K=F[H+3]*(1/255);for(te=$;te.left;)te=A(te.est,O,E,V,K)<=0?te.left:te.right;U[H>>2]=te.ind,P[H>>2]=te.est.rgba}return{abuf:z.buffer,inds:U,plte:W}}function v(k,T,F){F==null&&(F=1e-4);const z=new Uint32Array(k.buffer),P={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=M(k,P.i0,P.i1),P.est=I(P.bst);const R=[P];for(;R.length<T;){let W=0,B=0;for(var $=0;$<R.length;$++)R[$].est.L>W&&(W=R[$].est.L,B=$);if(W<F)break;const U=R[B],te=C(k,z,U.i0,U.i1,U.est.e,U.est.eMq255);if(U.i0>=te||U.i1<=te){U.est.L=0;continue}const H={i0:U.i0,i1:te,bst:null,est:null,tdst:0,left:null,right:null};H.bst=M(k,H.i0,H.i1),H.est=I(H.bst);const O={i0:te,i1:U.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:U.bst.N-H.bst.N},$=0;$<16;$++)O.bst.R[$]=U.bst.R[$]-H.bst.R[$];for($=0;$<4;$++)O.bst.m[$]=U.bst.m[$]-H.bst.m[$];O.est=I(O.bst),U.left=H,U.right=O,R[B]=H,R.push(O)}for(R.sort((W,B)=>B.bst.N-W.bst.N),$=0;$<R.length;$++)R[$].ind=$;return[P,R]}function b(k,T,F,z,P){if(k.left==null)return k.tdst=function(H,O,E,V,K){const Y=O-H[0],Q=E-H[1],ae=V-H[2],ie=K-H[3];return Y*Y+Q*Q+ae*ae+ie*ie}(k.est.q,T,F,z,P),k;const R=A(k.est,T,F,z,P);let $=k.left,W=k.right;R>0&&($=k.right,W=k.left);const B=b($,T,F,z,P);if(B.tdst<=R*R)return B;const U=b(W,T,F,z,P);return U.tdst<B.tdst?U:B}function A(k,T,F,z,P){const{e:R}=k;return R[0]*T+R[1]*F+R[2]*z+R[3]*P-k.eMq}function C(k,T,F,z,P,R){for(z-=4;F<z;){for(;S(k,F,P)<=R;)F+=4;for(;S(k,z,P)>R;)z-=4;if(F>=z)break;const $=T[F>>2];T[F>>2]=T[z>>2],T[z>>2]=$,F+=4,z-=4}for(;S(k,F,P)>R;)F-=4;return F+4}function S(k,T,F){return k[T]*F[0]+k[T+1]*F[1]+k[T+2]*F[2]+k[T+3]*F[3]}function M(k,T,F){const z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],R=F-T>>2;for(let $=T;$<F;$+=4){const W=k[$]*.00392156862745098,B=k[$+1]*(1/255),U=k[$+2]*(1/255),te=k[$+3]*(1/255);P[0]+=W,P[1]+=B,P[2]+=U,P[3]+=te,z[0]+=W*W,z[1]+=W*B,z[2]+=W*U,z[3]+=W*te,z[5]+=B*B,z[6]+=B*U,z[7]+=B*te,z[10]+=U*U,z[11]+=U*te,z[15]+=te*te}return z[4]=z[1],z[8]=z[2],z[9]=z[6],z[12]=z[3],z[13]=z[7],z[14]=z[11],{R:z,m:P,N:R}}function I(k){const{R:T}=k,{m:F}=k,{N:z}=k,P=F[0],R=F[1],$=F[2],W=F[3],B=z==0?0:1/z,U=[T[0]-P*P*B,T[1]-P*R*B,T[2]-P*$*B,T[3]-P*W*B,T[4]-R*P*B,T[5]-R*R*B,T[6]-R*$*B,T[7]-R*W*B,T[8]-$*P*B,T[9]-$*R*B,T[10]-$*$*B,T[11]-$*W*B,T[12]-W*P*B,T[13]-W*R*B,T[14]-W*$*B,T[15]-W*W*B],te=U,H=L;let O=[Math.random(),Math.random(),Math.random(),Math.random()],E=0,V=0;if(z!=0)for(let Y=0;Y<16&&(O=H.multVec(te,O),V=Math.sqrt(H.dot(O,O)),O=H.sml(1/V,O),!(Y!=0&&Math.abs(V-E)<1e-9));Y++)E=V;const K=[P*B,R*B,$*B,W*B];return{Cov:U,q:K,e:O,L:E,eMq255:H.dot(H.sml(255,K),O),eMq:H.dot(O,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var L={multVec:(k,T)=>[k[0]*T[0]+k[1]*T[1]+k[2]*T[2]+k[3]*T[3],k[4]*T[0]+k[5]*T[1]+k[6]*T[2]+k[7]*T[3],k[8]*T[0]+k[9]*T[1]+k[10]*T[2]+k[11]*T[3],k[12]*T[0]+k[13]*T[1]+k[14]*T[2]+k[15]*T[3]],dot:(k,T)=>k[0]*T[0]+k[1]*T[1]+k[2]*T[2]+k[3]*T[3],sml:(k,T)=>[k*T[0],k*T[1],k*T[2],k*T[3]]};Di.encode=function(T,F,z,P,R,$,W){P==null&&(P=0),W==null&&(W=!1);const B=f(T,F,z,P,[!1,!1,!1,0,W,!1]);return d(B,-1),l(B,F,z,R,$)},Di.encodeLL=function(T,F,z,P,R,$,W,B){const U={ctype:0+(P==1?0:2)+(R==0?0:4),depth:$,frames:[]},te=(P+R)*$,H=te*F;for(let O=0;O<T.length;O++)U.frames.push({rect:{x:0,y:0,width:F,height:z},img:new Uint8Array(T[O]),blend:0,dispose:1,bpp:Math.ceil(te/8),bpl:Math.ceil(H/8)});return d(U,0,!0),l(U,F,z,W,B)},Di.encode.compress=f,Di.encode.dither=a,Di.quantize=y,Di.quantize.getKDtree=v,Di.quantize.getNearest=b})();const S3={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,o=t.getContext("2d").getImageData(0,0,r,n),s=new Uint32Array(o.data.buffer),a=(32*r+31)/32<<2,l=a*n,d=122+l,f=new ArrayBuffer(d),u=new DataView(f),h=1<<20;let p,m,y,v,b=h,A=0,C=0,S=0;function M(k){u.setUint16(C,k,!0),C+=2}function I(k){u.setUint32(C,k,!0),C+=4}function L(k){C+=k}M(19778),I(d),L(4),I(122),I(108),I(r),I(-n>>>0),M(1),M(32),I(3),I(l),I(2835),I(2835),L(8),I(16711680),I(65280),I(255),I(4278190080),I(1466527264),function k(){for(;A<n&&b>0;){for(v=122+A*a,p=0;p<i;)b--,m=s[S++],y=m>>>24,u.setUint32(v+p,m<<8|y),p+=4;A++}S<s.length?(b=h,setTimeout(k,S3._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var En={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},aH={[En.CHROME]:16384,[En.FIREFOX]:11180,[En.DESKTOP_SAFARI]:16384,[En.IE]:8192,[En.IOS]:4096,[En.ETC]:8192};const ry=typeof window<"u",k3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Fh=ry&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),lH=(ry||k3)&&(Fh&&Fh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),I3=(ry||k3)&&(Fh&&Fh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ny(t,e,r=Date.now()){return new Promise(n=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const d=new Blob([l],{type:o});d.name=e,d.lastModified=r,n(d)})}function D3(t){return new Promise((e,r)=>{const n=new I3;n.onload=()=>e(n.result),n.onerror=i=>r(i),n.readAsDataURL(t)})}function M3(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>r(i),n.src=t})}function ia(){if(ia.cachedResult!==void 0)return ia.cachedResult;let t=En.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=En.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=En.IOS:/Safari/i.test(e)?t=En.DESKTOP_SAFARI:/Firefox/i.test(e)?t=En.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=En.IE),ia.cachedResult=t,ia.cachedResult}function N3(t,e){const r=ia(),n=aH[r];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>n*n;){const l=(n+i)/2,d=(n+o)/2;l<d?(o=d,i=d*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function Uh(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function O3(t,e){const{width:r,height:n}=N3(t.width,t.height),[i,o]=Uh(r,n);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function jh(){return jh.cachedResult!==void 0||(jh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),jh.cachedResult}function $h(t,e={}){return new Promise(function(r,n){let i,o;var s=function(){try{return o=O3(i,e.fileType||t.type),r([i,o])}catch(l){return n(l)}},a=function(l){try{var d=function(f){try{throw f}catch(u){return n(u)}};try{let f;return D3(t).then(function(u){try{return f=u,M3(f).then(function(h){try{return i=h,function(){try{return s()}catch(p){return n(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(f){d(f)}}catch(f){return n(f)}};try{if(jh()||[En.DESKTOP_SAFARI,En.MOBILE_SAFARI].includes(ia()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function zh(t,e,r,n,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let d,f,u;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),u=Di.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([u],{type:e}),a.name=r,a.lastModified=n,l.call(this)}{let d=function(){return l.call(this)};if(e==="image/bmp")return new Promise(f=>S3.toBlob(t,f)).then((function(f){try{return a=f,a.name=r,a.lastModified=n,d.call(this)}catch(u){return s(u)}}).bind(this),s);{let f=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(u){try{return a=u,a.name=r,a.lastModified=n,f.call(this)}catch(h){return s(h)}}).bind(this),s);{let u;return u=t.toDataURL(e,i),ny(u,r,n).then((function(h){try{return a=h,f.call(this)}catch(p){return s(p)}}).bind(this),s)}}}function l(){return o(a)}})}function oo(t){t.width=0,t.height=0}function Ll(){return new Promise(function(t,e){let r,n,i,o;return Ll.cachedResult!==void 0?t(Ll.cachedResult):ny("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,$h(r).then(function(a){try{return n=a[1],zh(n,r.type,r.name,r.lastModified).then(function(l){try{return i=l,oo(n),$h(i).then(function(d){try{return o=d[0],Ll.cachedResult=o.width===1&&o.height===2,t(Ll.cachedResult)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function L3(t){return new Promise((e,r)=>{const n=new I3;n.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const d=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,d);const f=o.getUint16(a,d);a+=2;for(let u=0;u<f;u++)if(o.getUint16(a+12*u,d)==274)return e(o.getUint16(a+12*u+8,d))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(t)})}function B3(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(r>i||n>i)&&([s,o]=Uh(r,n),r>n?(s.width=i,s.height=n/r*i):(s.width=r/n*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),oo(t)),s}function R3(t,e){const{width:r}=t,{height:n}=t,[i,o]=Uh(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(t,0,0,r,n),oo(t),i}function P3(t,e,r=0){return new Promise(function(n,i){let o,s,a,l,d,f,u,h,p,m,y,v,b,A,C,S,M,I,L,k;function T(z=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=z,e.onProgress(Math.min(o,100))}function F(z){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(z,o),100),e.onProgress(o)}return o=r,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,T(),$h(t,e).then((function(z){try{return[,l]=z,T(),d=B3(l,e),T(),new Promise(function(P,R){var $;if(!($=e.exifOrientation))return L3(t).then((function(B){try{return $=B,W.call(this)}catch(U){return R(U)}}).bind(this),R);function W(){return P($)}return W.call(this)}).then((function(P){try{return f=P,T(),Ll().then((function(R){try{return u=R?d:R3(d,f),T(),h=e.initialQuality||1,p=e.fileType||t.type,zh(u,p,t.name,t.lastModified,h).then((function($){try{{let B=function(){if(s--&&(C>a||C>b)){let te,H;return te=k?.95*L.width:L.width,H=k?.95*L.height:L.height,[M,I]=Uh(te,H),I.drawImage(L,0,0,te,H),h*=p==="image/png"?.85:.95,zh(M,p,t.name,t.lastModified,h).then(function(O){try{return S=O,oo(L),L=M,C=S.size,F(Math.min(99,Math.floor((A-C)/(A-a)*100))),B}catch(E){return i(E)}},i)}return[1]},U=function(){return oo(L),oo(M),oo(d),oo(u),oo(l),F(100),n(S)};if(m=$,T(),y=m.size>a,v=m.size>t.size,!y&&!v)return F(100),n(m);var W;return b=t.size,A=m.size,C=A,L=u,k=!e.alwaysKeepResolution&&y,(W=(function(te){for(;te;){if(te.then)return void te.then(W,i);try{if(te.pop){if(te.length)return te.pop()?U.call(this):te;te=B}else te=te.call(this)}catch(H){return i(H)}}}).bind(this))(B)}}catch(B){return i(B)}}).bind(this),i)}catch($){return i($)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)}catch(P){return i(P)}}).bind(this),i)})}const cH=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let iy;function uH(t,e){return new Promise((r,n)=>{iy||(iy=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(cH));const i=new Worker(iy);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return n(new Error(s.data.error)),void i.terminate();r(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Wr(t,e){return new Promise(function(r,n){let i,o,s,a,l,d;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{s=p,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof lH))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||d)return P3(t,i).then((function(p){try{return o=p,h.call(this)}catch(m){return n(m)}}).bind(this),n);var f=(function(){try{return h.call(this)}catch(p){return n(p)}}).bind(this),u=function(p){try{return P3(t,i).then(function(m){try{return o=m,f()}catch(y){return n(y)}},n)}catch(m){return n(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",uH(t,i).then(function(p){try{return o=p,f()}catch{return u()}},u)}catch{u()}function h(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=E3(t,o))}catch{}return r(o)}})}Wr.getDataUrlFromFile=D3,Wr.getFilefromDataUrl=ny,Wr.loadImage=M3,Wr.drawImageInCanvas=O3,Wr.drawFileInCanvas=$h,Wr.canvasToFile=zh,Wr.getExifOrientation=L3,Wr.handleMaxWidthOrHeight=B3,Wr.followExifOrientation=R3,Wr.cleanupCanvasMemory=oo,Wr.isAutoOrientationInBrowser=Ll,Wr.approximateBelowMaximumCanvasSizeOfBrowser=N3,Wr.copyExifWithoutOrientation=E3,Wr.getBrowserName=ia,Wr.version="2.0.2";var dH="firebase",fH="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(dH,fH,"app");let hH=class{constructor(e){Pe(this,"value");Pe(this,"next");this.value=e}};class pH{constructor(){rm(this,Pi);rm(this,wa);rm(this,xa);this.clear()}enqueue(e){const r=new hH(e);Vo(this,Pi)?(Vo(this,wa).next=r,Ho(this,wa,r)):(Ho(this,Pi,r),Ho(this,wa,r)),t2(this,xa)._++}dequeue(){const e=Vo(this,Pi);if(e)return Ho(this,Pi,Vo(this,Pi).next),t2(this,xa)._--,e.value}peek(){var e;return(e=Vo(this,Pi))==null?void 0:e.value}clear(){Ho(this,Pi,void 0),Ho(this,wa,void 0),Ho(this,xa,0)}get size(){return Vo(this,xa)}*[Symbol.iterator](){let e=Vo(this,Pi);for(;e;)yield e.value,e=e.next}}Pi=new WeakMap,wa=new WeakMap,xa=new WeakMap;const mH={bind(t,e,r){return t.bind(r)}};function gH(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new pH;let r=0;const n=()=>{r--,e.size>0&&e.dequeue()()},i=async(a,l,d)=>{r++;const f=(async()=>a(...d))();l(f);try{await f}catch{}n()},o=(a,l,d)=>{e.enqueue(mH.bind(i.bind(void 0,a,l,d))),(async()=>(await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()))()},s=(a,...l)=>new Promise(d=>{o(a,d,l)});return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}}}),s}const yH={[ze.increment]({commit:t}){t($e.increment)},async[ze.fetchRooms]({state:t,commit:e,dispatch:r},{pageSize:n}={pageSize:void 0}){if(t.isRequesting[io.FetchRooms])return;const{numberOfFetchedRooms:i,uid:o}=t;if(i===t.numberOfTotalRooms&&i>0)return;const s=n!==void 0?n:Math.min(Math.max(30,i),120),{data:{result:a}}=await t.axios.get(io.FetchRooms,{params:{skip:i,limit:s,q:t.roomTag?`{ "members": "${o}", "roomTags": "${t.roomTag}" }`:`{ "members": "${o}" }`}}),{data:l,totalCount:d}=a,f={},u={};for(const h of l){f[h._id]=new Ou(h,t.uid);for(const p of h.members)u[p.id]||(u[p.id]=new Wo(p))}e($e.updateField,{key:"rooms",value:f}),e($e.updateField,{key:"users",value:u}),e($e.setState,{numberOfTotalRooms:d,numberOfFetchedRooms:i+s}),r(ze.aggregateRoomsAndFolders)},async[ze.handleMessageFromSocket]({state:t,commit:e,dispatch:r},n){let i=t.rooms[n.roomId];if(i){const{id:o,numberOfUnread:s}=i;n.roomId===t.selectedRoomId?(await r(ze.handleLinkPreviews,[n]),e($e.pushMessage,n),e($e.updateRoom,{id:o,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:0}),r(ze.updateLastRead,o),e($e.setState,{numberOfTotalMessages:t.numberOfTotalMessages+1})):e($e.updateRoom,{id:o,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:n.senderId!==t.uid?s+1:s}),r(ze.aggregateRoomsAndFolders)}else await r(ze.fetchRoom,n.roomId),i=t.rooms[n.roomId]},async[ze.loadMessages]({state:t,commit:e,dispatch:r},{roomId:n,beforeMessageId:i,afterMessageId:o,targetMessageId:s}){const a=s?`/rooms/${n}/messages/${s}`:o?`/rooms/${n}/messages/${o}`:`/rooms/${n}/messages`;if(t.isRequesting[a]||t.messageMultiList.numberOfMessages()>=t.numberOfTotalMessages&&t.numberOfTotalMessages!==-1)return;const{data:{result:l}}=await t.axios.get(a,{params:s?{before:15,after:15}:i?{limit:30,beforeMessage:i}:o?{after:30}:{limit:30}}),d={};for(const m of l.data)d[m.sender.id]||(d[m.sender.id]=new Wo(m.sender));e($e.updateField,{key:"users",value:d});const{data:f,totalCount:u}=l;o&&f.shift();const h=new rH(f),p=h.array();return await r(ze.handleLinkPreviews,p),e(i?$e.unshiftMessageLinkedList:o?$e.concateMessageLinkedList:$e.insertMessageLinkedList,h),u>t.numberOfTotalMessages&&e($e.setState,{numberOfTotalMessages:u}),f},async[ze.fetchRoom]({state:t,commit:e},r){const{data:{result:n}}=await t.axios.get(`/rooms/${r}`),i=new Ou(n,t.uid),o={};o[i.id]=i,e($e.updateField,{key:"rooms",value:o});const s={};n.members.flatMap(a=>Array.isArray(a.members)?[...a.members,a]:[a]).forEach(a=>{s[a.id]||(s[a.id]=new Wo(a))}),e($e.updateField,{key:"users",value:s})},async[ze.updateLastRead]({state:t,commit:e},r){var s;const n=`/rooms/${r}/lastRead`;if(t.isRequesting[n])return;const i=t.rooms[r],{data:{result:o}}=await t.axios.put(n,{message:(s=i.lastMessage)==null?void 0:s.id});o&&e($e.updateRoom,{id:r,numberOfUnread:0})},async[ze.handleRoomFromSocket]({commit:t,dispatch:e},r){const n={};n[r.id]=r,await t($e.updateField,{key:"rooms",value:n}),e(ze.aggregateRoomsAndFolders)},async[ze.handleLastReadFromSocket]({commit:t},e){t($e.updateLastRead,e)},async[ze.sendMessage]({state:t,commit:e,dispatch:r},n){const{roomId:i}=n;if(!i)return;const o=ir.fromPayload(n,t.uid);if(!o)return;if(e($e.setMap,{mapName:"deliveringMessages",key:o.id,value:o}),e($e.pushMessage,o),n.messageType===Xe.Image){const{files:l}=n,d=await Promise.all(n.images.map((u,h)=>r(ze.uploadImage,{image:u,file:l[h]}))),f=[];n.images.forEach((u,h)=>{t.imageCache.set(d[h].thumbnailUrl,u.thumbnailUrl);const{id:p,width:m,height:y}=u;f.push({originalUrl:d[h].originalUrl,thumbnailUrl:d[h].thumbnailUrl,width:m,height:y}),e($e.deleteField,{key:"uploadProgresses",value:`${p}-original`}),e($e.deleteField,{key:"uploadProgresses",value:`${p}-thumbnail`})}),n.images=f,delete n.files}else if(n.messageType===Xe.Video){const{file:l,video:d}=n,f=d.thumbnailFile;if(!f)return;const u=await Promise.all([r(ze.uploadMedia,{id:f.id,file:f.file}),r(ze.uploadMedia,{id:d.id,file:l})]);n.width=d.width,n.height=d.height,n.duration=d.duration,n.thumbnailUrl=u[0],n.originalUrl=u[1],t.imageCache.set(u[0],d.thumbnailUrl),delete n.file,e($e.deleteField,{key:"uploadProgresses",value:d.id})}else if(n.messageType===Xe.File){const{file:l}=n,d=await r(ze.uploadMedia,{id:o.id,file:l});n.originalUrl=d,delete n.file,e($e.deleteField,{key:"uploadProgresses",value:o.id})}else if(n.messageType===Xe.Audio){const{file:l}=n,d=await r(ze.uploadMedia,{id:o.id,file:l});n.originalUrl=d,delete n.file,e($e.deleteField,{key:"uploadProgresses",value:o.id})}const{data:{result:s}}=await t.axios.post(`/rooms/${i}/message`,n),a=ir.fromRaw(s);if(a)return e($e.deleteMap,{mapName:"deliveringMessages",key:o.id}),await r(ze.handleLinkPreviews,[a]),a.roomId===t.selectedRoomId?e($e.replaceMessage,{message:a,targetMessageId:o.id}):e($e.updateRoom,{id:a.roomId,updatedAt:a.createdAt,lastMessage:a}),a},async[ze.batchSendMessage]({state:t},e){await t.axios.post("/messages/batch",e)},async[ze.recallMessage]({state:t,commit:e},r){const{roomId:n}=r;if(!n)return;const{data:{result:i}}=await t.axios.post(`/rooms/${n}/message`,r),o=ir.fromRaw(i);o&&e($e.replaceMessage,{targetMessageId:o.id,message:o})},async[ze.uploadMedia]({state:t,commit:e},{id:r,file:n}){const i=new FormData;i.append("file",n);const{data:{result:{_id:o}}}=await t.axios.post("/files/chatserver-upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s=>{const{total:a}=s;a&&e($e.updateField,{key:"uploadProgresses",value:{[r]:s.loaded/a}})}});return`${t.config.domain}/files/chatserver-upload/${o}`},async[ze.uploadImage]({dispatch:t},{image:e,file:r}){if(r.size>1024*1024)try{const i=await Wr(r,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),o=await Promise.all([t(ze.uploadMedia,{id:`${e.id}-original`,file:r}),t(ze.uploadMedia,{id:`${e.id}-thumbnail`,file:i})]);return{originalUrl:o[0],thumbnailUrl:o[1]}}catch(i){console.error(i)}const n=await t(ze.uploadMedia,{id:`${e.id}-original`,file:r});return{originalUrl:n,thumbnailUrl:n}},async[ze.fetchLinkPreview](t,e){const{data:r}=await Xt.get(encodeURI(`https://url.imkit.io/?url=${e}`));return r},async[ze.handleLinkPreviews]({state:t,commit:e,dispatch:r},n){const i=Array.from(new Set(n.flatMap(a=>(a==null?void 0:a.urls)||[]).filter(a=>!t.linkPreviews[a])));if(i.length===0)return;const o={};(await Promise.allSettled(i.map(a=>r(ze.fetchLinkPreview,a)))).forEach((a,l)=>{a.status==="fulfilled"&&(o[i[l]]=a.value)}),e($e.updateField,{key:"linkPreviews",value:o})},async[ze.fetchVideoBlob]({state:t},e){const{data:r}=await t.axios.get(e,{responseType:"blob"});return r},async[ze.navigateToMessage]({state:t,commit:e,dispatch:r},n){var i;(i=t.messageMultiList.main)!=null&&i.contains(n)?e($e.setState,{navigationTargetId:n}):(await r(ze.loadMessages,{roomId:t.selectedRoomId,targetMessageId:n}),await e($e.setState,{navigationTargetId:n}))},async[ze.updateRoomPrefs]({state:t,commit:e,dispatch:r},{roomId:n,prefs:i}){await t.axios.post(`/roomPrefs/${n}`,i);const o=t.rooms[n];o&&(e($e.updateRoom,{id:n,pref:{...o.pref,...i}}),r(ze.aggregateRoomsAndFolders))},async[ze.fetchPrefs]({state:t,commit:e}){const{data:{result:r}}=await t.axios.get("/me/pref"),n={},i=[],o={},s={},a={};for(const l of r)if(l.key==="folders-meta")for(const d of l.data)o[d.key]=d.name,i.push(d.key);else{if(l.key==="blackList")continue;s[l.key]=l.data.children.map(d=>d.id)}for(const l of i){n[l]=new Ol(l,o[l],s[l]||[]);for(const d of s[l]||[])a[d]=!0}e($e.setState,{folders:n,sortedFolderIds:i,roomIdsInFolders:a})},async[ze.fetchRoomsInFolders]({state:t,dispatch:e}){const r=Object.keys(t.roomIdsInFolders).length;for(;t.numberOfFetchedRooms<r;)await e(ze.fetchRooms,{pageSize:200});const n=gH(6),i=Object.keys(t.roomIdsInFolders).filter(o=>!t.rooms[o]).map(o=>n(()=>e(ze.fetchRoom,o)));await Promise.allSettled(i)},async[ze.updatePref]({state:t},{key:e,value:r}){return await t.axios.post(`/me/pref/${e}`,r)},async[ze.deletePref]({state:t},e){return await t.axios.delete(`/me/pref/${e}`)},async[ze.updateFolder]({state:t,dispatch:e,commit:r},{folderKey:n,name:i}){const o=Object.keys(t.selectedRoomIdsForCreateFolder).filter(a=>t.selectedRoomIdsForCreateFolder[a]);await e(ze.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(a=>t.folders[a]).filter(a=>!!a&&a.id!==n).map(a=>({key:a.id,name:a.name})).concat([{key:n,name:i}]).sort((a,l)=>a.key.localeCompare(l.key))}),await e(ze.updatePref,{key:n,value:{children:o.map(a=>({id:a,type:"room"}))}}),t.folders[n]&&r($e.updateField,{key:"roomIdsInFolders",value:t.folders[n].roomIds.reduce((a,l)=>(a[l]=!1,a),{})});const s=new Ol(n,i,o);r($e.updateField,{key:"folders",value:{[n]:s}}),r($e.updateField,{key:"roomIdsInFolders",value:o.reduce((a,l)=>(a[l]=!0,a),{})}),r($e.setState,{sortedFolderIds:[...new Set([...t.sortedFolderIds,n])],selectedRoomIdsForCreateFolder:{}}),e(ze.aggregateRoomsAndFolders)},async[ze.removeFolder]({state:t,dispatch:e},r){await e(ze.deletePref,r),await e(ze.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(n=>t.folders[n]).filter(n=>!!n&&n.id!==r).map(n=>({key:n.id,name:n.name}))}),e(ze.handlePrefDeleteFromSocket)},async[ze.handlePrefChangeFromSocket]({state:t,commit:e,dispatch:r},n){const{key:i,data:o}=n;if(i==="folders-meta"){const s={},a=[];for(const{key:l,name:d}of o){const f=t.folders[l]||new Ol(l,d,[]);s[l]=f,a.push(l)}e($e.setState,{folders:s,sortedFolderIds:a})}else{const{id:s,name:a}=t.folders[i];if(s){const l=o.children.map(f=>f.id),d=new Ol(s,a,l);e($e.updateField,{key:"folders",value:{[i]:d}}),e($e.updateField,{key:"roomIdsInFolders",value:l.reduce((f,u)=>(f[u]=!0,f),{})})}}r(ze.aggregateRoomsAndFolders)},async[ze.handlePrefDeleteFromSocket]({state:t,commit:e,dispatch:r},n){const i=t.folders[n];if(!i)return;const o={};for(const s of i.roomIds)o[s]=!1;e($e.deleteField,{key:"folders",value:n}),e($e.updateField,{key:"roomIdsInFolders",value:o}),e($e.setState,{sortedFolderIds:t.sortedFolderIds.filter(s=>s!==n)}),r(ze.aggregateRoomsAndFolders)},async[ze.aggregateRoomsAndFolders]({state:t,commit:e}){const r=Object.values(t.rooms).filter(n=>{var i;return!t.roomIdsInFolders[n.id]&&n.lastMessage!==null&&!((i=n.pref)!=null&&i.hidden)}).sort((n,i)=>{var o,s,a;return((o=n.pref)==null?void 0:o.sticky)===((s=i.pref)==null?void 0:s.sticky)?i.updatedAt-n.updatedAt:(a=n.pref)!=null&&a.sticky?-1:1});e($e.setState,{sortedRooms:r})},async[ze.removeMembers]({state:t,commit:e},{roomId:r,uids:n}){var o;if(t.rooms[r]&&(await t.axios.post(`/rooms/${r}/delete/members`,{systemMessage:!0,members:n}),n.includes(t.uid))){e($e.deleteRoom,r);const s=(o=t.sortedRooms.find(a=>a.numberOfUnread===0))==null?void 0:o.id;s&&e($e.setState,{selectedRoomId:s})}},async[ze.handleTypingFromSocket]({state:t,commit:e},r){const{room:n,sender:i}=r;if(n!==t.selectedRoomId||i===t.uid)return;const o=t.isTyping[i];o!==void 0&&clearTimeout(o);const s=setTimeout(()=>{e($e.deleteField,{key:"isTyping",value:i})},6e3);e($e.updateField,{key:"isTyping",value:{[i]:s}})},async[ze.insertUnreadMessage]({state:t,commit:e}){var s;const r=t.rooms[t.selectedRoomId];if(!r)return;const n=r.lastReadMessageId[t.uid];if(!n)return;const i=(s=t.messageMultiList.main)==null?void 0:s.finds(n);if(!i)return;const o=ir.fromPayload({roomId:t.selectedRoomId,messageType:Xe.Announcement,message:"以下為尚未閱讀的訊息",createdAtMS:i.createdAt+1},t.uid);o&&e($e.pushMessage,o)},async[ze.translate]({state:t},e){if(t.translationCache.has(e))return t.translationCache.get(e)||e;let r=navigator.language.split("-")[0];const n={am:"am",ar:"ar",eu:"eu",bn:"bn","en-gb":"en-GB","pt-br":"pt-BR",bg:"bg",ca:"ca",chr:"chr",hr:"hr",cs:"cs",da:"da",nl:"nl",en:"en",et:"et",fil:"fil",fi:"fi",fr:"fr",de:"de",el:"el",gu:"gu",iw:"iw",hi:"hi",hu:"hu",is:"is",id:"id",it:"it",ja:"ja",kn:"kn",ko:"ko",lv:"lv",lt:"lt",ms:"ms",ml:"ml",mr:"mr",no:"no",pl:"pl","pt-pt":"pt-PT",ro:"ro",ru:"ru",sr:"sr","zh-cn":"zh-CN",sk:"sk",sl:"sl",es:"es",sw:"sw",sv:"sv",ta:"ta",te:"te",th:"th","zh-tw":"zh-TW",tr:"tr",ur:"ur",uk:"uk",vi:"vi",cy:"cy"};n[navigator.language.toLowerCase()]&&(r=n[navigator.language.toLowerCase()]);const i=await fetch("https://translation.googleapis.com/language/translate/v2",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({q:e,key:t.config.translationApiKey,target:r}),redirect:"follow"}).then(o=>o.json()).then(o=>{var s;return(s=o.data)==null?void 0:s.translations[0].translatedText});return t.translationCache.set(e,i),i},async[ze.searchRooms]({state:t,commit:e},r){if(t.isRequesting[io.Search])return;const n=Object.values(ri),{data:{result:i}}=await t.axios.post(io.Search,{type:n,keyword:r}),o={},s={},a={};for(const f of n)i[f].forEach(u=>{o[u._id]=new Ou(u,t.uid),a[f]||(a[f]=[]),a[f].push(o[u._id]);for(const h of u.members)s[h.id]||(s[h.id]=new Wo(h))});for(const f of Object.values(t.folders))f.name.includes(r)&&(a[ri.RoomPrefFolder]||(a[ri.RoomPrefFolder]=[]),a[ri.RoomPrefFolder].push(f));const l=Object.keys(a),d=l.length>0?l[0]:ri.RoomName;e($e.updateField,{key:"rooms",value:o}),e($e.updateField,{key:"users",value:s}),e($e.setState,{searchRooms:a,searchType:d,searchKeyword:r})},async[ze.subscribe]({state:t}){if(!t.config.firebaseConfig||!t.config.firebaseVapidKey||await Notification.requestPermission()!=="granted")return;const r=$E(t.config.firebaseConfig),n=eH(r),i=await tH(n,{vapidKey:t.config.firebaseVapidKey});if(!i)return;let o=localStorage.getItem("imkit-deviceId");o||(o=ef(),localStorage.setItem("imkit-deviceId",o)),await t.axios.post(io.Subscribe,{type:"fcm",token:i,deviceId:o})},async[ze.unsubscribe]({state:t}){let e=localStorage.getItem("imkit-deviceId");e||(e=ef(),localStorage.setItem("imkit-deviceId",e)),await t.axios.post(io.Unsubscribe,{type:"fcm",deviceId:e})},async[ze.removeRoomFromFolder]({state:t,commit:e,dispatch:r},n){if(!t.roomIdsInFolders[n])return;const i=t.folders[t.selectedFolderId];if(!i)return;const o=i.id,s=i.roomIds.filter(l=>l!==n);await r(ze.updatePref,{key:o,value:{children:s.map(l=>({id:l,type:"room"}))}});const a=new Ol(o,i.name,s);e($e.updateField,{key:"folders",value:{[o]:a}}),e($e.updateField,{key:"roomIdsInFolders",value:{[n]:!1}}),r(ze.aggregateRoomsAndFolders)},async[ze.addRoomToFolder]({state:t,commit:e,dispatch:r},{roomId:n,folderId:i}){const o=t.folders[i];if(!o)return;const s=Array.from(new Set([...o.roomIds,n]));await r(ze.updatePref,{key:i,value:{children:s.map(l=>({id:l,type:"room"}))}});const a=new Ol(i,o.name,s);e($e.updateField,{key:"folders",value:{[i]:a}}),e($e.updateField,{key:"roomIdsInFolders",value:{[n]:!0}}),r(ze.aggregateRoomsAndFolders)},async[ze.toggleNotification]({state:t,commit:e},r){const n=t.rooms[r];n&&(n.muted?await t.axios.delete(`/me/mute/${r}`):await t.axios.post(`/me/mute/${r}`),e($e.updateRoom,{id:r,muted:!n.muted}))},async[ze.removeRoom]({state:t,commit:e},r){await t.axios.delete(`/rooms/${r}`),e($e.deleteRoom,r)},async[ze.translateMessage]({state:t,commit:e,dispatch:r},n){if(t.config.translationApiKey&&n.type===Xe.Text&&n.senderId!==t.uid){const i=n.text;try{const o=await r(ze.translate,i);n.translatedText=o!==i?o:null,e($e.replaceMessage,{message:n,targetMessageId:n.id})}catch(o){console.error(o)}}},async[ze.quickReply]({state:t,dispatch:e},r){const n={roomId:r.roomId,messageType:"text",message:r.message,reply:t.replyId?t.replyId:null};e(ze.sendMessage,n)}},bH={doubleCount:t=>t.count*2,roomsInSelectedFolder:t=>{const{selectedFolderId:e}=t,r=t.folders[e];return r?r.roomIds.map(i=>t.rooms[i]).filter(i=>t.roomTag?i&&i.roomTags.includes(t.roomTag):i).sort((i,o)=>{var s,a,l;return((s=i.pref)==null?void 0:s.sticky)===((a=o.pref)==null?void 0:a.sticky)?o.updatedAt-i.updatedAt:(l=i.pref)!=null&&l.sticky?-1:1}):[]}},vH={[$e.increment](t){t.count++},[$e.setState](t,e){Object.assign(t,e)},[$e.updateField](t,e){const{key:r,value:n}=e;Object.assign(t[r],n)},[$e.deleteField](t,e){const{key:r,value:n}=e;delete t[r][n]},[$e.updateRoom](t,e){const{id:r}=e,n=t.rooms[r];n&&Object.assign(n,e)},[$e.updateLastRead](t,e){const{roomId:r,uid:n,messageId:i}=e,o=t.rooms[r];o&&(o.lastReadMessageId[n]=i)},[$e.pushMessage](t,e){var r;e.roomId===t.selectedRoomId&&((r=t.messageMultiList.main)==null||r.append(e))},[$e.replaceMessage](t,e){var i;const{targetMessageId:r,message:n}=e;(i=t.messageMultiList.main)==null||i.replace(r,n)},[$e.clearChatRoom](t){t.messageMultiList=new TE,t.numberOfTotalMessages=-1,t.replyId="",t.navigationTargetId="",t.isRoomInfoVisible=!1,t.isTyping={},t.isSearchInRoomMode=!1,t.messageSearchKeyword=""},[$e.deleteRoom](t,e){delete t.rooms[e],delete t.roomIdsInFolders[e],delete t.selectedRoomIdsForCreateFolder[e],t.sortedRooms=t.sortedRooms.filter(r=>r.id!==e)},[$e.setMap](t,e){const{mapName:r,key:n,value:i}=e;t[r].set(n,i)},[$e.deleteMap](t,e){const{mapName:r,key:n}=e;t[r].delete(n)},[$e.insertMessageLinkedList](t,e){t.messageMultiList.insert(e),t.messageMultiList.merge()},[$e.concateMessageLinkedList](t,e){t.messageMultiList.concate(e),t.messageMultiList.merge()},[$e.unshiftMessageLinkedList](t,e){t.messageMultiList.unshift(e),t.messageMultiList.merge()}},F3={state:CE,mutations:vH,getters:bH,actions:yH,namespaced:!0},U3=X5({plugins:[],modules:{imkit:F3}}),so=t=>{if(console.log(t),t.type==="uri")return window.open(t.uri,"_blank");(t.type==="message"||t.type==="text")&&U3&&U3.dispatch("imkit/quickReply",t)},_H={class:"w-[250px] cursor-pointer overflow-hidden text-base"},wH=["src"],xH={key:1,class:"flex flex-col gap-2 border-t py-3"},AH=["onClick"],TH=c.defineComponent({__name:"TemplateMessageButtonsContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.isIncoming),n=c.computed(()=>!r.value);return(i,o)=>{var s;return c.openBlock(),c.createElementBlock("div",_H,[i.message.template.thumbnailImageUrl?(c.openBlock(),c.createElementBlock("img",{key:0,class:c.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:c.normalizeStyle({"background-color":i.message.template.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:i.message.template.thumbnailImageUrl,onClick:o[0]||(o[0]=a=>c.unref(so)(i.message.template.defaultAction))},null,14,wH)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:o[1]||(o[1]=a=>c.unref(so)(i.message.template.defaultAction))},[c.createElementVNode("div",null,c.toDisplayString((s=i.message.template.title)==null?void 0:s.substring(0,40)),1),i.message.template.text?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},c.toDisplayString(!i.message.template.thumbnailImageUrl&&!i.message.template.title?i.message.template.text.substring(0,160):i.message.template.text.substring(0,60)),3)):c.createCommentVNode("",!0)]),i.message.template.actions.length>0?(c.openBlock(),c.createElementBlock("div",xH,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.message.template.actions,a=>(c.openBlock(),c.createElementBlock("div",{key:a.label,class:c.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:l=>c.unref(so)(a)},c.toDisplayString(a.label),11,AH))),128))])):c.createCommentVNode("",!0)])}}}),CH={class:"w-[250px] overflow-hidden text-base"},EH={class:"p-3"},SH={class:"flex divide-x border-t"},kH=["onClick"],IH=c.defineComponent({__name:"TemplateMessageConfirmContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.isIncoming),n=c.computed(()=>!r.value);return(i,o)=>(c.openBlock(),c.createElementBlock("div",CH,[c.createElementVNode("div",EH,c.toDisplayString(i.message.template.text.substring(0,240)),1),c.createElementVNode("div",SH,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.message.template.actions.slice(0,2),s=>(c.openBlock(),c.createElementBlock("div",{key:s.label,class:c.normalizeClass(["flex grow cursor-pointer items-center justify-center p-2",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:a=>c.unref(so)(s)},c.toDisplayString(s.label),11,kH))),128))])]))}}),DH={class:"flex cursor-pointer gap-2 overflow-auto text-base"},MH=["src","onClick"],NH=["onClick"],OH={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},LH=["onClick"],BH=c.defineComponent({__name:"TemplateMessageCarouselContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.isIncoming),n=c.computed(()=>!r.value);return(i,o)=>(c.openBlock(),c.createElementBlock("div",DH,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.message.template.columns,(s,a)=>{var l;return c.openBlock(),c.createElementBlock("div",{key:a,class:c.normalizeClass(["w-[250px] cursor-pointer overflow-hidden rounded-xl text-base",[r.value?"bg-gray-100 text-gray-900 dark:bg-zinc-700":"bg-blue-400 text-white"]])},[s.thumbnailImageUrl?(c.openBlock(),c.createElementBlock("img",{key:0,class:c.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:c.normalizeStyle({"background-color":s.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:s.thumbnailImageUrl,onClick:d=>c.unref(so)(s.defaultAction)},null,14,MH)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:d=>c.unref(so)(s.defaultAction)},[c.createElementVNode("div",null,c.toDisplayString((l=s.title)==null?void 0:l.substring(0,40)),1),s.text?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},c.toDisplayString(!s.thumbnailImageUrl&&!s.title?s.text.substring(0,160):s.text.substring(0,60)),3)):c.createCommentVNode("",!0)],8,NH),s.actions.length>0&&s.openQuickReply?(c.openBlock(),c.createElementBlock("div",OH,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(s.actions,d=>(c.openBlock(),c.createElementBlock("div",{key:d.label,class:c.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:f=>c.unref(so)({type:d.type,roomId:e.message.roomId,message:d.label})},c.toDisplayString(d.label),11,LH))),128))])):c.createCommentVNode("",!0)],2)}),128))]))}}),RH={class:"flex cursor-pointer gap-2 overflow-auto text-base"},PH=["src","onClick"],FH=c.defineComponent({__name:"TemplateMessageImageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("div",RH,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.message.template.columns,(n,i)=>(c.openBlock(),c.createElementBlock("img",{key:i,src:n.imageUrl,class:"h-[250px] w-[250px] rounded-xl object-cover",onClick:o=>c.unref(so)(n.action)},null,8,PH))),128))]))}}),UH=c.defineComponent({__name:"TemplateMessageContent",props:{message:{}},setup(t){const e={[Fs.Buttons]:TH,[Fs.Confirm]:IH,[Fs.Carousel]:BH,[Fs.ImageCarousel]:FH};return(r,n)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(e[r.message.templateType]),{message:r.message},null,8,["message"]))}}),jH=c.defineComponent({__name:"FlexMessageBoxComponent",props:{content:{}},setup(t){const e=r=>({none:"0",xs:"2px",sm:"4px",md:"8px",lg:"12px",xl:"16px",xxl:"20px"})[r]??r;return(r,n)=>(c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["flex",{"flex-col":r.content.layout==="vertical","flex-row":r.content.layout==="horizontal","flex-row items-baseline":r.content.layout==="baseline"}]),style:c.normalizeStyle({backgroundColor:r.content.backgroundColor??"#00000000",borderColor:r.content.borderColor,borderWidth:r.content.borderWidth,borderRadius:r.content.cornerRadius,width:r.content.width,maxWidth:r.content.maxWidth,height:r.content.height,maxHeight:r.content.maxHeight})},[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(r.content.contents,(i,o)=>(c.openBlock(),c.createBlock(Lu,{key:o,content:i,style:c.normalizeStyle(r.content.layout==="vertical"?{marginTop:i.margin?e(i.margin):o===0?0:e(r.content.spacing)}:{marginLeft:i.margin?e(i.margin):o===0?0:e(r.content.spacing)})},null,8,["content","style"]))),128))],6))}}),$H=c.defineComponent({__name:"FlexMessageButtonComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>e.content.style==="primary"?"#ffffff":e.content.style==="secondary"?"#000000":e.content.color||"#42659a"),n=c.computed(()=>e.content.style==="primary"?e.content.color||"#17c950":e.content.style==="secondary"?e.content.color||"#dcdfe5":"");return(i,o)=>(c.openBlock(),c.createElementBlock("button",{class:c.normalizeClass([[i.content.size==="md"?"h-52px":"h-10"],"rounded-lg"]),style:c.normalizeStyle({color:r.value,backgroundColor:n.value}),onClick:o[0]||(o[0]=s=>c.unref(so)(i.content.action))},c.toDisplayString(i.content.action.label),7))}}),zH=["src"],VH=c.defineComponent({__name:"FlexMessageImageComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>e.content.aspectRatio?e.content.aspectRatio.replace(":","/"):"1/1");return(n,i)=>(c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["w-full overflow-hidden bg-gray-300",[n.content.aspectMode==="cover"?"object-cover":"object-contain"]]),style:c.normalizeStyle({"aspect-ratio":r.value})},[c.createElementVNode("img",{class:"h-full w-full",src:n.content.url},null,8,zH)],6))}}),HH=["src"],qH=c.defineComponent({__name:"FlexMessageVideoComponent",props:{content:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("video",{src:e.content.url},null,8,HH))}}),WH=c.defineComponent({__name:"FlexMessageIconComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(c.openBlock(),c.createElementBlock("span",{style:c.normalizeStyle({overflow:"hidden",background:"no-repeat center",backgroundSize:"contain",backgroundImage:"url("+n.content.url+")",width:r.value,height:r.value})},null,4))}}),GH=c.defineComponent({__name:"FlexMessageTextComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(c.openBlock(),c.createElementBlock("div",{class:"basis-0",style:c.normalizeStyle({flexGrow:n.content.flex??0})},[c.createElementVNode("p",{class:c.normalizeClass([n.content.weight==="bold"?"font-bold":"font-normal",n.content.wrap?"overflow-hidden overflow-clip whitespace-normal break-words":"overflow-hidden truncate whitespace-nowrap"]),style:c.normalizeStyle({fontSize:r.value,color:n.content.color,"text-size-adjust":"100%"})},c.toDisplayString(n.content.text),7)],4))}}),QH=c.defineComponent({__name:"FlexMessageSpanComponent",props:{content:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("span",null,c.toDisplayString(e.content.text),1))}}),YH=c.defineComponent({__name:"FlexMessageSeparatorComponent",props:{content:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("div"))}}),Lu=c.defineComponent({__name:"FlexMessageComponent",props:{content:{}},setup(t){const e={box:jH,button:$H,image:VH,video:qH,icon:WH,text:GH,span:QH,separator:YH},r=t,n=c.computed(()=>r.content.type);return(i,o)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(e[n.value]),{content:i.content},null,8,["content"]))}}),j3=c.defineComponent({__name:"FlexMessageBubbleComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>e.content.header),n=c.computed(()=>e.content.hero),i=c.computed(()=>e.content.body),o=c.computed(()=>e.content.footer),s=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.header}),a=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.hero}),l=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.body}),d=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.footer}),f=c.computed(()=>{switch(e.content.size){case"nano":return"10px";case"micro":return"13px";case"kilo":return o.value?"13px 13px 17px 13px":"13px";case"mega":return o.value?"19px 20px 10px 20px":"20px";case"giga":return o.value?"19px 20px 10px 20px":"20px";default:return"20px"}});return(u,h)=>{var p,m,y,v,b,A,C,S,M,I,L,k;return c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["overflow-hidden rounded-xl bg-gray-100 text-[#444444] dark:bg-zinc-700",{"w-[120px]":u.content.size==="nano","w-[160px]":u.content.size==="micro","w-[260px]":u.content.size==="kilo","w-[300px]":u.content.size==="mega"||!u.content.size,"w-[386px]":u.content.size==="giga"}])},[r.value?(c.openBlock(),c.createBlock(Lu,{key:0,content:r.value,style:c.normalizeStyle({backgroundColor:(p=s.value)==null?void 0:p.backgroundColor,borderBottom:(m=s.value)!=null&&m.separator?`1px solid ${(y=s.value)==null?void 0:y.separatorColor}`:"none"})},null,8,["content","style"])):c.createCommentVNode("",!0),n.value?(c.openBlock(),c.createBlock(Lu,{key:1,content:n.value,style:c.normalizeStyle({backgroundColor:(v=a.value)==null?void 0:v.backgroundColor,borderBottom:(b=a.value)!=null&&b.separator?`1px solid ${(A=a.value)==null?void 0:A.separatorColor}`:"none"})},null,8,["content","style"])):c.createCommentVNode("",!0),i.value?(c.openBlock(),c.createBlock(Lu,{key:2,content:i.value,style:c.normalizeStyle({backgroundColor:(C=l.value)==null?void 0:C.backgroundColor,borderBottom:(S=l.value)!=null&&S.separator?`1px solid ${(M=l.value)==null?void 0:M.separatorColor}`:"none",padding:f.value})},null,8,["content","style"])):c.createCommentVNode("",!0),o.value?(c.openBlock(),c.createBlock(Lu,{key:3,content:o.value,class:"p-2.5",style:c.normalizeStyle({backgroundColor:(I=d.value)==null?void 0:I.backgroundColor,borderBottom:(L=d.value)!=null&&L.separator?`1px solid ${(k=d.value)==null?void 0:k.separatorColor}`:"none"})},null,8,["content","style"])):c.createCommentVNode("",!0)],2)}}}),KH=c.defineComponent({__name:"FlexMessageBubbleContent",props:{message:{}},setup(t){return(e,r)=>(c.openBlock(),c.createBlock(j3,{content:e.message.contents},null,8,["content"]))}}),XH={class:"flex items-start gap-2 overflow-auto"},JH=c.defineComponent({__name:"FlexMessageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("div",XH,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.message.contents.contents,(n,i)=>(c.openBlock(),c.createBlock(j3,{key:i,content:n},null,8,["content"]))),128))]))}}),ZH=c.defineComponent({__name:"FlexMessageContent",props:{message:{}},setup(t){const e={[qm.Bubble]:KH,[qm.Carousel]:JH};return(r,n)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(e[r.message.flexType]),{message:r.message},null,8,["message"]))}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".mapdiv[data-v-dbf82c40]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var eq=Object.defineProperty,tq=(t,e,r)=>e in t?eq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$3=(t,e,r)=>(tq(t,typeof e!="symbol"?e+"":e,r),r);const Bl=Symbol("map"),Rl=Symbol("api"),z3=Symbol("marker"),V3=Symbol("markerCluster"),Vh=Symbol("CustomMarker"),H3=Symbol("mapTilesLoaded"),Pl=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function rq(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(u){s(u)}}function l(f){try{d(n.throw(f))}catch(u){s(u)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((n=n.apply(t,[])).next())})}var nq=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const q3="__googleMapsScriptId";var Fl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Fl||(Fl={}));let iq=class xc{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:i,id:o=q3,language:s,libraries:a=[],mapIds:l,nonce:d,region:f,retries:u=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=o||q3,this.language=s,this.libraries=a,this.mapIds=l,this.nonce=d,this.region=f,this.retries=u,this.url=h,this.version=p,xc.instance){if(!nq(this.options,xc.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(xc.instance.options)}`);return xc.instance}xc.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Fl.FAILURE:this.done?Fl.SUCCESS:this.loading?Fl.LOADING:Fl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(o=>{let s,a,l,d="The Google Maps JavaScript API",f="google",u="importLibrary",h="__ib__",p=document,m=window;m=m[f]||(m[f]={});const y=m.maps||(m.maps={}),v=new Set,b=new URLSearchParams,A=()=>s||(s=new Promise((C,S)=>rq(this,void 0,void 0,function*(){var M;yield a=p.createElement("script"),a.id=this.id,b.set("libraries",[...v]+"");for(l in o)b.set(l.replace(/[A-Z]/g,I=>"_"+I[0].toLowerCase()),o[l]);b.set("callback",f+".maps."+h),a.src=this.url+"?"+b,y[h]=C,a.onerror=()=>s=S(Error(d+" could not load.")),a.nonce=this.nonce||((M=p.querySelector("script[nonce]"))===null||M===void 0?void 0:M.nonce)||"",p.head.append(a)})));y[u]?console.warn(d+" only loads once. Ignoring:",o):y[u]=(C,...S)=>v.add(C)&&A().then(()=>y[u](C,...S))})(n);const i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{const s=new ErrorEvent("error",{error:o});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}};function oq(t){return class extends t.OverlayView{constructor(e){super(),$3(this,"element"),$3(this,"opts");const{element:r,...n}=e;this.element=r,this.opts=n,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof t.LatLng?this.opts.position:new t.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||Number(e.style.opacity)>.01)}onAdd(){if(!this.element)return;const e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const e=this.getProjection(),r=e==null?void 0:e.fromLatLngToDivPixel(this.getPosition());if(r){this.element.style.position="absolute";const n=this.element.offsetHeight,i=this.element.offsetWidth;let o,s;switch(this.opts.anchorPoint){case"TOP_CENTER":o=r.x-i/2,s=r.y;break;case"BOTTOM_CENTER":o=r.x-i/2,s=r.y-n;break;case"LEFT_CENTER":o=r.x,s=r.y-n/2;break;case"RIGHT_CENTER":o=r.x-i,s=r.y-n/2;break;case"TOP_LEFT":o=r.x,s=r.y;break;case"TOP_RIGHT":o=r.x-i,s=r.y;break;case"BOTTOM_LEFT":o=r.x,s=r.y-n;break;case"BOTTOM_RIGHT":o=r.x-i,s=r.y-n;break;default:o=r.x-i/2,s=r.y-n/2}this.element.style.left=o+"px",this.element.style.top=s+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(e){const{element:r,...n}=e;this.element=r,this.opts=n,this.draw()}}}let W3;const G3=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],sq=c.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:G3,setup(t,{emit:e}){const r=c.ref(),n=c.ref(!1),i=c.ref(),o=c.ref(),s=c.ref(!1);c.provide(Bl,i),c.provide(Rl,o),c.provide(H3,s);const a=()=>{const u={...t};Object.keys(u).forEach(m=>{u[m]===void 0&&delete u[m]});const h=m=>{var y;return m?{position:(y=o.value)==null?void 0:y.ControlPosition[m]}:{}},p={scaleControlOptions:t.scaleControlStyle?{style:t.scaleControlStyle}:{},panControlOptions:h(t.panControlPosition),zoomControlOptions:h(t.zoomControlPosition),rotateControlOptions:h(t.rotateControlPosition),streetViewControlOptions:h(t.streetViewControlPosition),fullscreenControlOptions:h(t.fullscreenControlPosition),disableDefaultUI:t.disableDefaultUi};return{...u,...p}},l=c.watch([o,i],([u,h])=>{const p=u,m=h;p&&m&&(p.event.addListenerOnce(m,"tilesloaded",()=>{s.value=!0}),setTimeout(l,0))},{immediate:!0}),d=()=>{try{const{apiKey:u,region:h,version:p,language:m,libraries:y,nonce:v}=t;W3=new iq({apiKey:u,region:h,version:p,language:m,libraries:y,nonce:v})}catch(u){console.error(u)}},f=u=>{o.value=c.markRaw(u.maps),i.value=c.markRaw(new u.maps.Map(r.value,a()));const h=oq(o.value);o.value[Vh]=h,G3.forEach(m=>{var y;(y=i.value)==null||y.addListener(m,v=>e(m,v))}),n.value=!0;const p=Object.keys(t).filter(m=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(m)).map(m=>c.toRef(t,m));c.watch([()=>t.center,()=>t.zoom,...p],([m,y],[v,b])=>{var A,C,S;const{center:M,zoom:I,...L}=a();(A=i.value)==null||A.setOptions(L),y!==void 0&&y!==b&&((C=i.value)==null||C.setZoom(y));const k=!v||m.lng!==v.lng||m.lat!==v.lat;m&&k&&((S=i.value)==null||S.panTo(m))})};return c.onMounted(()=>{t.apiPromise&&t.apiPromise instanceof Promise?t.apiPromise.then(f):(d(),W3.load().then(f))}),c.onBeforeUnmount(()=>{var u;s.value=!1,i.value&&((u=o.value)==null||u.event.clearInstanceListeners(i.value))}),{mapRef:r,ready:n,map:i,api:o,mapTilesLoaded:s}}}),aq=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},lq={ref:"mapRef",class:"mapdiv"};function cq(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",null,[c.createElementVNode("div",lq,null,512),c.renderSlot(t.$slots,"default",c.normalizeProps(c.guardReactiveProps({ready:t.ready,map:t.map,api:t.api,mapTilesLoaded:t.mapTilesLoaded})),void 0,!0)])}const Q3=aq(sq,[["render",cq],["__scopeId","data-v-dbf82c40"]]);function uq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dq=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const oa=uq(dq),fq=t=>t==="Marker",hq=t=>t===Vh,Ul=(t,e,r,n)=>{const i=c.ref(),o=c.inject(Bl,c.ref()),s=c.inject(Rl,c.ref()),a=c.inject(V3,c.ref()),l=c.computed(()=>!!(a.value&&s.value&&(i.value instanceof s.value.Marker||i.value instanceof s.value[Vh])));return c.watch([o,r],(d,[f,u])=>{var h,p,m;const y=!oa(r.value,u)||o.value!==f;!o.value||!s.value||!y||(i.value?(i.value.setOptions(r.value),l.value&&((h=a.value)==null||h.removeMarker(i.value),(p=a.value)==null||p.addMarker(i.value))):(fq(t)?i.value=c.markRaw(new s.value[t](r.value)):hq(t)?i.value=c.markRaw(new s.value[t](r.value)):i.value=c.markRaw(new s.value[t]({...r.value,map:o.value})),l.value?(m=a.value)==null||m.addMarker(i.value):i.value.setMap(o.value),e.forEach(v=>{var b;(b=i.value)==null||b.addListener(v,A=>n(v,A))})))},{immediate:!0}),c.onBeforeUnmount(()=>{var d,f;i.value&&((d=s.value)==null||d.event.clearInstanceListeners(i.value),l.value?(f=a.value)==null||f.removeMarker(i.value):i.value.setMap(null))}),i},Y3=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],K3=c.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:Y3,setup(t,{emit:e,expose:r,slots:n}){const i=c.toRef(t,"options"),o=Ul("Marker",Y3,i,e);return c.provide(z3,o),r({marker:o}),()=>{var s;return(s=n.default)==null?void 0:s.call(n)}}});c.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:Pl,setup(t,{emit:e}){const r=c.toRef(t,"options");return{polyline:Ul("Polyline",Pl,r,e)}},render:()=>null}),c.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:Pl,setup(t,{emit:e}){const r=c.toRef(t,"options");return{polygon:Ul("Polygon",Pl,r,e)}},render:()=>null});const X3=Pl.concat(["bounds_changed"]);c.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:X3,setup(t,{emit:e}){const r=c.toRef(t,"options");return{rectangle:Ul("Rectangle",X3,r,e)}},render:()=>null});const J3=Pl.concat(["center_changed","radius_changed"]);c.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:J3,setup(t,{emit:e}){const r=c.toRef(t,"options");return{circle:Ul("Circle",J3,r,e)}},render:()=>null}),c.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(t,{emit:e}){const r=c.ref(null),n=c.inject(Bl,c.ref()),i=c.inject(Rl,c.ref()),o=c.inject(H3,c.ref(!1)),s=c.watch([o,i,r],([d,f,u])=>{f&&d&&u&&(a(t.position),e("content:loaded"),setTimeout(s,0))},{immediate:!0}),a=d=>{if(n.value&&i.value&&r.value){const f=i.value.ControlPosition[d];n.value.controls[f].push(r.value)}},l=d=>{if(n.value&&i.value){let f=null;const u=i.value.ControlPosition[d];n.value.controls[u].forEach((h,p)=>{h===r.value&&(f=p)}),f!==null&&n.value.controls[u].removeAt(f)}};return c.onBeforeUnmount(()=>l(t.position)),c.watch(()=>t.position,(d,f)=>{l(f),a(d)}),c.watch(()=>t.index,d=>{d&&r.value&&(r.value.index=t.index)}),{controlRef:r}}});const Z3=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"];c.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...Z3,"update:modelValue"],setup(t,{slots:e,emit:r,expose:n}){const i=c.ref(),o=c.ref(),s=c.inject(Bl,c.ref()),a=c.inject(Rl,c.ref()),l=c.inject(z3,c.ref());let d,f=t.modelValue;const u=c.computed(()=>{var y;return(y=e.default)==null?void 0:y.call(e).some(v=>v.type!==c.Comment)}),h=y=>{f=y,r("update:modelValue",y)},p=y=>{i.value&&(i.value.open({map:s.value,anchor:l.value,...y}),h(!0))},m=()=>{i.value&&(i.value.close(),h(!1))};return c.onMounted(()=>{c.watch([s,()=>t.options],([y,v],[b,A])=>{var C;const S=!oa(v,A)||s.value!==b;s.value&&a.value&&S&&(i.value?(i.value.setOptions({...v,content:u.value?o.value:v.content}),l.value||p()):(i.value=c.markRaw(new a.value.InfoWindow({...v,content:u.value?o.value:v.content})),l.value&&(d=l.value.addListener("click",()=>{p()})),(!l.value||f)&&p(),Z3.forEach(M=>{var I;(I=i.value)==null||I.addListener(M,L=>r(M,L))}),(C=i.value)==null||C.addListener("closeclick",()=>h(!1))))},{immediate:!0}),c.watch(()=>t.modelValue,y=>{y!==f&&(y?p():m())})}),c.onBeforeUnmount(()=>{var y;d&&d.remove(),i.value&&((y=a.value)==null||y.event.clearInstanceListeners(i.value),m())}),n({infoWindow:i,open:p,close:m}),{infoWindow:i,infoWindowRef:o,hasSlotContent:u,open:p,close:m}}});const eS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],oy=1,Bu=8;let pq=class s6{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==oy)throw new Error(`Got v${i} data when expected v${oy}.`);const o=eS[n&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new s6(a,s,o,e)}constructor(e,r=64,n=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=eS.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Bu,e),this.coords=new this.ArrayType(this.data,Bu+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Bu+s+a+l),this.ids=new this.IndexArrayType(this.data,Bu,e),this.coords=new this.ArrayType(this.data,Bu+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(oy<<4)+o]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return sy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,l=[0,o.length-1,0],d=[];for(;l.length;){const f=l.pop()||0,u=l.pop()||0,h=l.pop()||0;if(u-h<=a){for(let v=h;v<=u;v++){const b=s[2*v],A=s[2*v+1];b>=e&&b<=n&&A>=r&&A<=i&&d.push(o[v])}continue}const p=h+u>>1,m=s[2*p],y=s[2*p+1];m>=e&&m<=n&&y>=r&&y<=i&&d.push(o[p]),(f===0?e<=m:r<=y)&&(l.push(h),l.push(p-1),l.push(1-f)),(f===0?n>=m:i>=y)&&(l.push(p+1),l.push(u),l.push(1-f))}return d}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[],d=n*n;for(;a.length;){const f=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=s){for(let v=h;v<=u;v++)rS(o[2*v],o[2*v+1],e,r)<=d&&l.push(i[v]);continue}const p=h+u>>1,m=o[2*p],y=o[2*p+1];rS(m,y,e,r)<=d&&l.push(i[p]),(f===0?e-n<=m:r-n<=y)&&(a.push(h),a.push(p-1),a.push(1-f)),(f===0?e+n>=m:r+n>=y)&&(a.push(p+1),a.push(u),a.push(1-f))}return l}};function sy(t,e,r,n,i,o){if(i-n<=r)return;const s=n+i>>1;tS(t,e,s,n,i,o),sy(t,e,r,n,s-1,1-o),sy(t,e,r,s+1,i,1-o)}function tS(t,e,r,n,i,o){for(;i>n;){if(i-n>600){const d=i-n+1,f=r-n+1,u=Math.log(d),h=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*h*(d-h)/d)*(f-d/2<0?-1:1),m=Math.max(n,Math.floor(r-f*h/d+p)),y=Math.min(i,Math.floor(r+(d-f)*h/d+p));tS(t,e,r,m,y,o)}const s=e[2*r+o];let a=n,l=i;for(Ru(t,e,n,r),e[2*i+o]>s&&Ru(t,e,n,i);a<l;){for(Ru(t,e,a,l),a++,l--;e[2*a+o]<s;)a++;for(;e[2*l+o]>s;)l--}e[2*n+o]===s?Ru(t,e,n,l):(l++,Ru(t,e,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1)}}function Ru(t,e,r,n){ay(t,r,n),ay(e,2*r,2*n),ay(e,2*r+1,2*n+1)}function ay(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function rS(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}const mq={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},nS=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),sa=2,us=3,ly=4,ds=5,iS=6;let oS=class{constructor(e){this.options=Object.assign(Object.create(mq),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const o=`prepare ${e.length} points`;r&&console.time(o),this.points=e;const s=[];for(let l=0;l<e.length;l++){const d=e[l];if(!d.geometry)continue;const[f,u]=d.geometry.coordinates,h=nS(Hh(f)),p=nS(qh(u));s.push(h,p,1/0,l,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(o);for(let l=i;l>=n;l--){const d=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),r&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-d)}return r&&console.timeEnd("total time"),this}getClusters(e,r){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){const u=this.getClusters([n,i,180,s],r),h=this.getClusters([-180,i,o,s],r);return u.concat(h)}const a=this.trees[this._limitZoom(r)],l=a.range(Hh(n),qh(s),Hh(o),qh(i)),d=a.data,f=[];for(const u of l){const h=this.stride*u;f.push(d[h+ds]>1?sS(d,h,this.clusterProps):this.points[d[h+us]])}return f}getChildren(e){const r=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(i);const s=o.data;if(r*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=s[r*this.stride],d=s[r*this.stride+1],f=o.within(l,d,a),u=[];for(const h of f){const p=h*this.stride;s[p+ly]===e&&u.push(s[p+ds]>1?sS(s,p,this.clusterProps):this.points[s[p+us]])}if(u.length===0)throw new Error(i);return u}getLeaves(e,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,e,r,n,0),i}getTile(e,r,n){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,l=a/s,d=(n-l)/o,f=(n+1+l)/o,u={features:[]};return this._addTileFeatures(i.range((r-l)/o,d,(r+1+l)/o,f),i.data,r,n,o,u),r===0&&this._addTileFeatures(i.range(1-l/o,d,1,f),i.data,o,n,o,u),r===o-1&&this._addTileFeatures(i.range(0,d,l/o,f),i.data,-1,n,o,u),u.features.length?u:null}getClusterExpansionZoom(e){let r=this._getOriginZoom(e)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,i,o){const s=this.getChildren(r);for(const a of s){const l=a.properties;if(l&&l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,n,i,o):o<i?o++:e.push(a),e.length===n)break}return o}_createTree(e){const r=new pq(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,i,o,s){for(const a of e){const l=a*this.stride,d=r[l+ds]>1;let f,u,h;if(d)f=aS(r,l,this.clusterProps),u=r[l],h=r[l+1];else{const y=this.points[r[l+us]];f=y.properties;const[v,b]=y.geometry.coordinates;u=Hh(v),h=qh(b)}const p={type:1,geometry:[[Math.round(this.options.extent*(u*o-n)),Math.round(this.options.extent*(h*o-i))]],tags:f};let m;d||this.options.generateId?m=r[l+us]:m=this.points[r[l+us]].id,m!==void 0&&(p.id=m),s.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){const{radius:n,extent:i,reduce:o,minPoints:s}=this.options,a=n/(i*Math.pow(2,r)),l=e.data,d=[],f=this.stride;for(let u=0;u<l.length;u+=f){if(l[u+sa]<=r)continue;l[u+sa]=r;const h=l[u],p=l[u+1],m=e.within(l[u],l[u+1],a),y=l[u+ds];let v=y;for(const b of m){const A=b*f;l[A+sa]>r&&(v+=l[A+ds])}if(v>y&&v>=s){let b=h*y,A=p*y,C,S=-1;const M=((u/f|0)<<5)+(r+1)+this.points.length;for(const I of m){const L=I*f;if(l[L+sa]<=r)continue;l[L+sa]=r;const k=l[L+ds];b+=l[L]*k,A+=l[L+1]*k,l[L+ly]=M,o&&(C||(C=this._map(l,u,!0),S=this.clusterProps.length,this.clusterProps.push(C)),o(C,this._map(l,L)))}l[u+ly]=M,d.push(b/v,A/v,1/0,M,-1,v),o&&d.push(S)}else{for(let b=0;b<f;b++)d.push(l[u+b]);if(v>1)for(const b of m){const A=b*f;if(!(l[A+sa]<=r)){l[A+sa]=r;for(let C=0;C<f;C++)d.push(l[A+C])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+ds]>1){const s=this.clusterProps[e[r+iS]];return n?Object.assign({},s):s}const i=this.points[e[r+us]].properties,o=this.options.map(i);return n&&o===i?Object.assign({},o):o}};function sS(t,e,r){return{type:"Feature",id:t[e+us],properties:aS(t,e,r),geometry:{type:"Point",coordinates:[gq(t[e]),yq(t[e+1])]}}}function aS(t,e,r){const n=t[e+ds],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,o=t[e+iS],s=o===-1?{}:Object.assign({},r[o]);return Object.assign(s,{cluster:!0,cluster_id:t[e+us],point_count:n,point_count_abbreviated:i})}function Hh(t){return t/360+.5}function qh(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function gq(t){return(t-.5)*360}function yq(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function cy(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}class Gr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Pu{constructor({markers:e,position:r}){this.markers=e,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)e.extend(Gr.getPosition(r));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Gr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Gr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const bq=(t,e,r,n)=>{const i=lS(t.getBounds(),e,n);return r.filter(o=>i.contains(Gr.getPosition(o)))},lS=(t,e,r)=>{const{northEast:n,southWest:i}=vq(t,e),o=_q({northEast:n,southWest:i},r);return wq(o,e)},cS=(t,e,r)=>{const n=lS(t,e,r),i=n.getNorthEast(),o=n.getSouthWest();return[o.lng(),o.lat(),i.lng(),i.lat()]},vq=(t,e)=>({northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}),_q=({northEast:t,southWest:e},r)=>(t.x+=r,t.y-=r,e.x-=r,e.y+=r,{northEast:t,southWest:e}),wq=({northEast:t,southWest:e},r)=>{const n=r.fromDivPixelToLatLng(e),i=r.fromDivPixelToLatLng(t);return new google.maps.LatLngBounds(n,i)};class uS{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Aq(e)}}let xq=class extends uS{constructor(e){var{viewportPadding:r=60}=e,n=cy(e,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=r}calculate({markers:e,map:r,mapCanvasProjection:n}){return r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:bq(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}};const Aq=t=>t.map(e=>new Pu({position:Gr.getPosition(e),markers:[e]}));let Tq=class extends uS{constructor(e){var{maxZoom:r,radius:n=60}=e,i=cy(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new oS(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){let r=!1;const n={zoom:e.map.getZoom()};if(!oa(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=Gr.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!oa(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new Pu({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new Pu({markers:[i],position:Gr.getPosition(i)})}},Cq=class extends xq{constructor(e){var{maxZoom:r,radius:n=60,viewportPadding:i=60}=e,o=cy(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:r,viewportPadding:i}),this.superCluster=new oS(Object.assign({maxZoom:this.maxZoom,radius:n},o)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const r={zoom:Math.round(e.map.getZoom()),view:cS(e.map.getBounds(),e.mapCanvasProjection,this.viewportPadding)};let n=!oa(this.state,r);if(!oa(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=Gr.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return n&&(this.clusters=this.cluster(e),this.state=r),{clusters:this.clusters,changed:n}}cluster({map:e,mapCanvasProjection:r}){const n={zoom:Math.round(e.getZoom()),view:cS(e.getBounds(),r,this.viewportPadding)};return this.superCluster.getClusters(n.view,n.zoom).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new Pu({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new Pu({markers:[i],position:Gr.getPosition(i)})}},Eq=class{constructor(e,r){this.markers={sum:e.length};const n=r.map(o=>o.count),i=n.reduce((o,s)=>o+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}},Sq=class{render({count:e,position:r},n,i){const o=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,s=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Gr.isAdvancedMarkerAvailable(i)){const d=document.createElement("div");d.innerHTML=o;const f=d.firstElementChild;f.setAttribute("transform","translate(0 25)");const u={map:i,position:r,zIndex:a,title:s,content:f};return new google.maps.marker.AdvancedMarkerElement(u)}const l={position:r,zIndex:a,title:s,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}};function kq(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}let Iq=class a6{constructor(){kq(a6,google.maps.OverlayView)}};var jl;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(jl||(jl={}));const Dq=(t,e,r)=>{r.fitBounds(e.bounds)};let Mq=class extends Iq{constructor({map:e,markers:r=[],algorithmOptions:n={},algorithm:i=new Tq(n),renderer:o=new Sq,onClusterClick:s=Dq}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){const n=this.markers.indexOf(e);return n===-1?!1:(Gr.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){let n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,jl.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||Gr.setMap(s.marker,null):o.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>Gr.setMap(s,null)))}google.maps.event.trigger(this,jl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Gr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Eq(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,r),n.markers.forEach(i=>Gr.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,jl.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),Gr.setMap(n.marker,r)})}};const dS=Object.values(jl);c.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:dS,setup(t,{emit:e,expose:r,slots:n}){const i=c.ref(),o=c.inject(Bl,c.ref()),s=c.inject(Rl,c.ref());return c.provide(V3,i),c.watch(o,()=>{o.value&&(i.value=c.markRaw(new Mq({map:o.value,algorithm:new Cq(t.options.algorithmOptions??{}),...t.options})),dS.forEach(a=>{var l;(l=i.value)==null||l.addListener(a,d=>e(a,d))}))},{immediate:!0}),c.onBeforeUnmount(()=>{var a;i.value&&((a=s.value)==null||a.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),r({markerCluster:i}),()=>{var a;return(a=n.default)==null?void 0:a.call(n)}}}),c.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(t,{slots:e,emit:r,expose:n}){const i=c.ref(),o=c.computed(()=>{var l;return(l=e.default)==null?void 0:l.call(e).some(d=>d.type!==c.Comment)}),s=c.computed(()=>({...t.options,element:i.value})),a=Ul(Vh,[],s,r);return n({customMarker:a}),{customMarkerRef:i,customMarker:a,hasSlotContent:o}}}),c.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=c.ref(),r=c.inject(Bl,c.ref()),n=c.inject(Rl,c.ref());return c.watch([r,()=>t.options],([i,o],[s,a])=>{var l;const d=!oa(o,a)||r.value!==s;if(r.value&&n.value&&d){const f=structuredClone(o);if(f.data&&!(f.data instanceof n.value.MVCArray)){const u=n.value.LatLng;f.data=(l=f.data)==null?void 0:l.map(h=>h instanceof u||"location"in h&&(h.location instanceof u||h.location===null)?h:"location"in h?{...h,location:new u(h.location)}:new u(h))}e.value?e.value.setOptions(f):e.value=c.markRaw(new n.value.visualization.HeatmapLayer({...f,map:r.value}))}},{immediate:!0}),c.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const Nq=t=>(c.pushScopeId("data-v-b091599d"),t=t(),c.popScopeId(),t),Oq={class:"w-[250px] p-2 underline sm:w-[300px]"},Lq=Nq(()=>c.createElementVNode("div",{class:"absolute inset-0"},null,-1)),Bq=wi(c.defineComponent({__name:"LocationMessageContent",props:{message:{}},setup(t){const e=t,n=Rt().state.imkit.config.mapApiKey,i=c.computed(()=>({lat:e.message.latitude,lng:e.message.longitude})),o=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e.message.address}`,"_blank")};return(s,a)=>(c.openBlock(),c.createElementBlock("div",{class:"relative -mx-3 -my-2 flex cursor-pointer flex-col",onClick:o},[c.createVNode(c.unref(Q3),{"api-key":c.unref(n),center:i.value,zoom:15,disableDefaultUi:!0,class:"h-[150px] w-[250px] sm:h-[200px] sm:w-[300px]"},{default:c.withCtx(()=>[c.createVNode(c.unref(K3),{options:{position:i.value}},null,8,["options"])]),_:1},8,["api-key","center"]),c.createElementVNode("div",Oq,c.toDisplayString(s.message.address),1),Lq]))}}),[["__scopeId","data-v-b091599d"]]),Rq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVR4nO2bPYsUQRCGG1E0MRAFTQSNTjRSQxE0M9NfoGCwOv3O3k7XKpxR9e7hdyRGlxoan2B+4AcamBmYGKhgZqAmoitzB87eMh93595uz877QCcbLQ9dNV3V1cYQQgghhBBCpswV1T3Anf3T/h/BYZP+Cev0uXX+N8QPIPoFzt9qtx/tNk0HiZ6C+B9rYtYv6/z7OOmdMU0GTt/myRmSlO6qx1dv3t9rmkbcXTxaJmfdcvrROr1gmkSc9M5uWFAm6kljEjm6em7TglYl+a+R08tm1sFWBWW7aTmSxcNmVsH/ClqT9A3iO6q6w8waGIegLOxWrnf6c2aWwDgFpUcC0Z9w6lutpV1mFsCYBQ2Jehd1+6dN3cE2CVqV5PwvK3ovre9MXcE2ChpaHyLXO2/qCCYjKC1+/1jnl2pXrmBigv6F3Web9C6auoAJCxpK4k9bogdM6GBKgmpTrmCagrL1LNhyBWEICrdcQSiCsrBbiUWPmVBAaIJCK1cQoKBMlH9pb+ghCpJSSa9VdSd3kBRLikUvUZCU7CLnH1KQlOUjfUBBwhAbbO1cpK+YpKXwPPRifv72QX7mhQfFwcZDiqXGoCDXsFhF8c5huwP54cSGGYq/UGy5Ir9sYNMe+eUCr31QnIR5cYj8cOLVM4qTMIcXEHo/eRyAA1TlcASvAg5xVsAx4Ao4SF7BtY4e2UT7s3lPEVKs+DcV1y7NfcyS0pb+Sev0e4EcPodKaXf1+MiDuk9WdIEP6kZIhUQLd/eN/k4IIYQQQggxDeMvr6MHGaopSLgAAAAASUVORK5CYII=",Pq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO2bzy5DQRTGJ8GaDQ+ANZ4FXbDxZ9HoGTc1p01scA5SGmshfQLBAu+gkYgXYqEyjUhEae/0Ti/y/ZJZ3vnO/e733d0xBgAAAAAAgFhsVGSCKrJoK1L8cpwsJ9XDqaw1ycm0v7uz5v5CktTGTd6IyLBlObEsL5a19f2RV8t6WS7LWL+a/g7r9PpnPW2R02fr9NjPaPKCnDa6DfrpOG32M3Cx2Bgh1od0mnJm8oDKMveejN6H9V+WZTVYk2U9rZ6fsVSVGTNorJO99MO2B74N1SSndyGaxLqb7dv3MizreZBBTh5DNf2zgQadm1///+EPg55CNf2zQQY5bZhBQzAIBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAb1lyDGKkKUZRZyemMGvcziZMcMmk13MBuyDmW3dCVU0zpd+zPrUCE1I5b7fhbq2huOTpsp03Nq8kJEhoml3l5/7PIVifWiuF0fzWIlk1iueqjyM7EcFQpXQyZvkqQ2XqrIfKcFW2JdKm3JZNaa/k5/dydNP8uvWOoFAAAAAADm3/IGGLsxyp+ApQ8AAAAASUVORK5CYII=",Fq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nO3bTy5DYRSG8ZuosU5qAWWMtZQJE38GVkGHiHGj6QoEA+yBSJpuiIFXGtesvPee77sp+vwS057zPcXsFAUAAADQFEmrknYkHc/42ZO01sDM9fKzZ83cltTJPTOyZEvSpaQ3/exd0o2kdoaZbUl38l4lnU93zPPa2LIj1fOcsrCkZUkvNWde5X119WW3yt+Mug4SZh4F5k133Mj7+mrL9hXzkDDzMTjzNO/rqy07DC47Tpg5Ds4c5n19M/9/vkwSZk4UM8r7+mrLjoLLEsggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZBDIIJBBIINABoEMAhkEMghkEMggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZCxMoGFw2YU5RegHl72fwzHLSd7XV1t2M3gOtZ8w8/DPnEMF/8yeEg/qWuVRXh2DYl70ufBFef7ovsVrSSuZTjJvK4SZ7nQmaSnPa9OW7kjqfXNguyup28DMbvnZs2b2fsVRLwAAAIp/6wPxkEFCV8mUxgAAAABJRU5ErkJggg==";var fS={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||r;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var h=this||r;if(u=parseFloat(u),h.ctx||f(),typeof u<"u"&&u>=0&&u<=1){if(h._volume=u,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),y=0;y<m.length;y++){var v=h._howls[p]._soundById(m[y]);v&&v._node&&(v._node.volume=v._volume*u)}return h}return h._volume},mute:function(u){var h=this||r;h.ctx||f(),h._muted=u,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u?0:h._volume,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),y=0;y<m.length;y++){var v=h._howls[p]._soundById(m[y]);v&&v._node&&(v._node.muted=u?!0:v._muted)}return h},stop:function(){for(var u=this||r,h=0;h<u._howls.length;h++)u._howls[h].stop();return u},unload:function(){for(var u=this||r,h=u._howls.length-1;h>=0;h--)u._howls[h].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,f()),u},codecs:function(u){return(this||r)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||r;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var h=new Audio;h.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||r,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return u}if(!h||typeof h.canPlayType!="function")return u;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=u._navigator?u._navigator.userAgent:"",y=m.match(/OPR\/(\d+)/g),v=y&&parseInt(y[0].split("/")[1],10)<33,b=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,A=m.match(/Version\/(.*?) /),C=b&&A&&parseInt(A[1],10)<15;return u._codecs={mp3:!!(!v&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||r;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var h=function(p){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,u._releaseHtml5Audio(m)}catch{u.noAudio=!0;break}for(var y=0;y<u._howls.length;y++)if(!u._howls[y]._webAudio)for(var v=u._howls[y]._getSoundIds(),b=0;b<v.length;b++){var A=u._howls[y]._soundById(v[b]);A&&A._node&&!A._node._unlocked&&(A._node._unlocked=!0,A._node.load())}u._autoResume();var C=u.ctx.createBufferSource();C.buffer=u._scratchBuffer,C.connect(u.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),C.onended=function(){C.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var S=0;S<u._howls.length;S++)u._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),u}},_obtainHtml5Audio:function(){var u=this||r;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var h=this||r;return u._unlocked&&h._html5AudioPool.push(u),h},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!r.usingWebAudio)){for(var h=0;h<u._howls.length;h++)if(u._howls[h]._webAudio){for(var p=0;p<u._howls[h]._sounds.length;p++)if(!u._howls[h]._sounds[p]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var m=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(m,m)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!r.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var h=0;h<u._howls.length;h++)u._howls[h]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var r=new e,n=function(u){var h=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(u)};n.prototype={init:function(u){var h=this;return r.ctx||f(),h._autoplay=u.autoplay||!1,h._format=typeof u.format!="string"?u.format:[u.format],h._html5=u.html5||!1,h._muted=u.mute||!1,h._loop=u.loop||!1,h._pool=u.pool||5,h._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,h._rate=u.rate||1,h._sprite=u.sprite||{},h._src=typeof u.src!="string"?u.src:[u.src],h._volume=u.volume!==void 0?u.volume:1,h._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=u.onend?[{fn:u.onend}]:[],h._onfade=u.onfade?[{fn:u.onfade}]:[],h._onload=u.onload?[{fn:u.onload}]:[],h._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],h._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],h._onpause=u.onpause?[{fn:u.onpause}]:[],h._onplay=u.onplay?[{fn:u.onplay}]:[],h._onstop=u.onstop?[{fn:u.onstop}]:[],h._onmute=u.onmute?[{fn:u.onmute}]:[],h._onvolume=u.onvolume?[{fn:u.onvolume}]:[],h._onrate=u.onrate?[{fn:u.onrate}]:[],h._onseek=u.onseek?[{fn:u.onseek}]:[],h._onunlock=u.onunlock?[{fn:u.onunlock}]:[],h._onresume=[],h._webAudio=r.usingWebAudio&&!h._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var u=this,h=null;if(r.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var p=0;p<u._src.length;p++){var m,y;if(u._format&&u._format[p])m=u._format[p];else{if(y=u._src[p],typeof y!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(y),m||(m=/\.([^.]+)$/.exec(y.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&r.codecs(m)){h=u._src[p];break}}if(!h){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=h,u._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new i(u),u._webAudio&&s(u),u},play:function(u,h){var p=this,m=null;if(typeof u=="number")m=u,u=null;else{if(typeof u=="string"&&p._state==="loaded"&&!p._sprite[u])return null;if(typeof u>"u"&&(u="__default",!p._playLock)){for(var y=0,v=0;v<p._sounds.length;v++)p._sounds[v]._paused&&!p._sounds[v]._ended&&(y++,m=p._sounds[v]._id);y===1?u=null:m=null}}var b=m?p._soundById(m):p._inactiveSound();if(!b)return null;if(m&&!u&&(u=b._sprite||"__default"),p._state!=="loaded"){b._sprite=u,b._ended=!1;var A=b._id;return p._queue.push({event:"play",action:function(){p.play(A)}}),A}if(m&&!b._paused)return h||p._loadQueue("play"),b._id;p._webAudio&&r._autoResume();var C=Math.max(0,b._seek>0?b._seek:p._sprite[u][0]/1e3),S=Math.max(0,(p._sprite[u][0]+p._sprite[u][1])/1e3-C),M=S*1e3/Math.abs(b._rate),I=p._sprite[u][0]/1e3,L=(p._sprite[u][0]+p._sprite[u][1])/1e3;b._sprite=u,b._ended=!1;var k=function(){b._paused=!1,b._seek=C,b._start=I,b._stop=L,b._loop=!!(b._loop||p._sprite[u][2])};if(C>=L){p._ended(b);return}var T=b._node;if(p._webAudio){var F=function(){p._playLock=!1,k(),p._refreshBuffer(b);var $=b._muted||p._muted?0:b._volume;T.gain.setValueAtTime($,r.ctx.currentTime),b._playStart=r.ctx.currentTime,typeof T.bufferSource.start>"u"?b._loop?T.bufferSource.noteGrainOn(0,C,86400):T.bufferSource.noteGrainOn(0,C,S):b._loop?T.bufferSource.start(0,C,86400):T.bufferSource.start(0,C,S),M!==1/0&&(p._endTimers[b._id]=setTimeout(p._ended.bind(p,b),M)),h||setTimeout(function(){p._emit("play",b._id),p._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?F():(p._playLock=!0,p.once("resume",F),p._clearTimer(b._id))}else{var z=function(){T.currentTime=C,T.muted=b._muted||p._muted||r._muted||T.muted,T.volume=b._volume*r.volume(),T.playbackRate=b._rate;try{var $=T.play();if($&&typeof Promise<"u"&&($ instanceof Promise||typeof $.then=="function")?(p._playLock=!0,k(),$.then(function(){p._playLock=!1,T._unlocked=!0,h?p._loadQueue():p._emit("play",b._id)}).catch(function(){p._playLock=!1,p._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):h||(p._playLock=!1,k(),p._emit("play",b._id)),T.playbackRate=b._rate,T.paused){p._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||b._loop?p._endTimers[b._id]=setTimeout(p._ended.bind(p,b),M):(p._endTimers[b._id]=function(){p._ended(b),T.removeEventListener("ended",p._endTimers[b._id],!1)},T.addEventListener("ended",p._endTimers[b._id],!1))}catch(W){p._emit("playerror",b._id,W)}};T.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(T.src=p._src,T.load());var P=window&&window.ejecta||!T.readyState&&r._navigator.isCocoonJS;if(T.readyState>=3||P)z();else{p._playLock=!0,p._state="loading";var R=function(){p._state="loaded",z(),T.removeEventListener(r._canPlayEvent,R,!1)};T.addEventListener(r._canPlayEvent,R,!1),p._clearTimer(b._id)}}return b._id},pause:function(u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(u)}}),h;for(var p=h._getSoundIds(u),m=0;m<p.length;m++){h._clearTimer(p[m]);var y=h._soundById(p[m]);if(y&&!y._paused&&(y._seek=h.seek(p[m]),y._rateSeek=0,y._paused=!0,h._stopFade(p[m]),y._node))if(h._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),h._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||h._emit("pause",y?y._id:null)}return h},stop:function(u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(u)}}),p;for(var m=p._getSoundIds(u),y=0;y<m.length;y++){p._clearTimer(m[y]);var v=p._soundById(m[y]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,p._stopFade(m[y]),v._node&&(p._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),p._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&p._clearSound(v._node))),h||p._emit("stop",v._id))}return p},mute:function(u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(u,h)}}),p;if(typeof h>"u")if(typeof u=="boolean")p._muted=u;else return p._muted;for(var m=p._getSoundIds(h),y=0;y<m.length;y++){var v=p._soundById(m[y]);v&&(v._muted=u,v._interval&&p._stopFade(v._id),p._webAudio&&v._node?v._node.gain.setValueAtTime(u?0:v._volume,r.ctx.currentTime):v._node&&(v._node.muted=r._muted?!0:u),p._emit("mute",v._id))}return p},volume:function(){var u=this,h=arguments,p,m;if(h.length===0)return u._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var y=u._getSoundIds(),v=y.indexOf(h[0]);v>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var b;if(typeof p<"u"&&p>=0&&p<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,h)}}),u;typeof m>"u"&&(u._volume=p),m=u._getSoundIds(m);for(var A=0;A<m.length;A++)b=u._soundById(m[A]),b&&(b._volume=p,h[2]||u._stopFade(m[A]),u._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(p,r.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=p*r.volume()),u._emit("volume",b._id))}else return b=m?u._soundById(m):u._sounds[0],b?b._volume:0;return u},fade:function(u,h,p,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(u,h,p,m)}}),y;u=Math.min(Math.max(0,parseFloat(u)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),y.volume(u,m);for(var v=y._getSoundIds(m),b=0;b<v.length;b++){var A=y._soundById(v[b]);if(A){if(m||y._stopFade(v[b]),y._webAudio&&!A._muted){var C=r.ctx.currentTime,S=C+p/1e3;A._volume=u,A._node.gain.setValueAtTime(u,C),A._node.gain.linearRampToValueAtTime(h,S)}y._startFadeInterval(A,u,h,p,v[b],typeof m>"u")}}return y},_startFadeInterval:function(u,h,p,m,y,v){var b=this,A=h,C=p-h,S=Math.abs(C/.01),M=Math.max(4,S>0?m/S:m),I=Date.now();u._fadeTo=p,u._interval=setInterval(function(){var L=(Date.now()-I)/m;I=Date.now(),A+=C*L,A=Math.round(A*100)/100,C<0?A=Math.max(p,A):A=Math.min(p,A),b._webAudio?u._volume=A:b.volume(A,u._id,!0),v&&(b._volume=A),(p<h&&A<=p||p>h&&A>=p)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,b.volume(p,u._id),b._emit("fade",u._id))},M)},_stopFade:function(u){var h=this,p=h._soundById(u);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,u),p._fadeTo=null,h._emit("fade",u)),h},loop:function(){var u=this,h=arguments,p,m,y;if(h.length===0)return u._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],u._loop=p;else return y=u._soundById(parseInt(h[0],10)),y?y._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var v=u._getSoundIds(m),b=0;b<v.length;b++)y=u._soundById(v[b]),y&&(y._loop=p,u._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=p,p&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,u.playing(v[b])&&(u.pause(v[b],!0),u.play(v[b],!0)))));return u},rate:function(){var u=this,h=arguments,p,m;if(h.length===0)m=u._sounds[0]._id;else if(h.length===1){var y=u._getSoundIds(),v=y.indexOf(h[0]);v>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var b;if(typeof p=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,h)}}),u;typeof m>"u"&&(u._rate=p),m=u._getSoundIds(m);for(var A=0;A<m.length;A++)if(b=u._soundById(m[A]),b){u.playing(m[A])&&(b._rateSeek=u.seek(m[A]),b._playStart=u._webAudio?r.ctx.currentTime:b._playStart),b._rate=p,u._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(p,r.ctx.currentTime):b._node&&(b._node.playbackRate=p);var C=u.seek(m[A]),S=(u._sprite[b._sprite][0]+u._sprite[b._sprite][1])/1e3-C,M=S*1e3/Math.abs(b._rate);(u._endTimers[m[A]]||!b._paused)&&(u._clearTimer(m[A]),u._endTimers[m[A]]=setTimeout(u._ended.bind(u,b),M)),u._emit("rate",b._id)}}else return b=u._soundById(m),b?b._rate:u._rate;return u},seek:function(){var u=this,h=arguments,p,m;if(h.length===0)u._sounds.length&&(m=u._sounds[0]._id);else if(h.length===1){var y=u._getSoundIds(),v=y.indexOf(h[0]);v>=0?m=parseInt(h[0],10):u._sounds.length&&(m=u._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,h)}}),u;var b=u._soundById(m);if(b)if(typeof p=="number"&&p>=0){var A=u.playing(m);A&&u.pause(m,!0),b._seek=p,b._ended=!1,u._clearTimer(m),!u._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=p);var C=function(){A&&u.play(m,!0),u._emit("seek",m)};if(A&&!u._webAudio){var S=function(){u._playLock?setTimeout(S,0):C()};setTimeout(S,0)}else C()}else if(u._webAudio){var M=u.playing(m)?r.ctx.currentTime-b._playStart:0,I=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(I+M*Math.abs(b._rate))}else return b._node.currentTime;return u},playing:function(u){var h=this;if(typeof u=="number"){var p=h._soundById(u);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(u){var h=this,p=h._duration,m=h._soundById(u);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var u=this,h=u._sounds,p=0;p<h.length;p++)h[p]._paused||u.stop(h[p]._id),u._webAudio||(u._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(r._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),r._releaseHtml5Audio(h[p]._node)),delete h[p]._node,u._clearTimer(h[p]._id);var m=r._howls.indexOf(u);m>=0&&r._howls.splice(m,1);var y=!0;for(p=0;p<r._howls.length;p++)if(r._howls[p]._src===u._src||u._src.indexOf(r._howls[p]._src)>=0){y=!1;break}return o&&y&&delete o[u._src],r.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,h,p,m){var y=this,v=y["_on"+u];return typeof h=="function"&&v.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),y},off:function(u,h,p){var m=this,y=m["_on"+u],v=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(v=0;v<y.length;v++){var b=p===y[v].id;if(h===y[v].fn&&b||!h&&b){y.splice(v,1);break}}else if(u)m["_on"+u]=[];else{var A=Object.keys(m);for(v=0;v<A.length;v++)A[v].indexOf("_on")===0&&Array.isArray(m[A[v]])&&(m[A[v]]=[])}return m},once:function(u,h,p){var m=this;return m.on(u,h,p,1),m},_emit:function(u,h,p){for(var m=this,y=m["_on"+u],v=y.length-1;v>=0;v--)(!y[v].id||y[v].id===h||u==="load")&&(setTimeout((function(b){b.call(this,h,p)}).bind(m,y[v].fn),0),y[v].once&&m.off(u,y[v].fn,y[v].id));return m._loadQueue(u),m},_loadQueue:function(u){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===u&&(h._queue.shift(),h._loadQueue()),u||p.action()}return h},_ended:function(u){var h=this,p=u._sprite;if(!h._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(h._ended.bind(h,u),100),h;var m=!!(u._loop||h._sprite[p][2]);if(h._emit("end",u._id),!h._webAudio&&m&&h.stop(u._id,!0).play(u._id),h._webAudio&&m){h._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=r.ctx.currentTime;var y=(u._stop-u._start)*1e3/Math.abs(u._rate);h._endTimers[u._id]=setTimeout(h._ended.bind(h,u),y)}return h._webAudio&&!m&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,h._clearTimer(u._id),h._cleanBuffer(u._node),r._autoSuspend()),!h._webAudio&&!m&&h.stop(u._id,!0),h},_clearTimer:function(u){var h=this;if(h._endTimers[u]){if(typeof h._endTimers[u]!="function")clearTimeout(h._endTimers[u]);else{var p=h._soundById(u);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[u],!1)}delete h._endTimers[u]}return h},_soundById:function(u){for(var h=this,p=0;p<h._sounds.length;p++)if(u===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var u=this;u._drain();for(var h=0;h<u._sounds.length;h++)if(u._sounds[h]._ended)return u._sounds[h].reset();return new i(u)},_drain:function(){var u=this,h=u._pool,p=0,m=0;if(!(u._sounds.length<h)){for(m=0;m<u._sounds.length;m++)u._sounds[m]._ended&&p++;for(m=u._sounds.length-1;m>=0;m--){if(p<=h)return;u._sounds[m]._ended&&(u._webAudio&&u._sounds[m]._node&&u._sounds[m]._node.disconnect(0),u._sounds.splice(m,1),p--)}}},_getSoundIds:function(u){var h=this;if(typeof u>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[u]},_refreshBuffer:function(u){var h=this;return u._node.bufferSource=r.ctx.createBufferSource(),u._node.bufferSource.buffer=o[h._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,r.ctx.currentTime),h},_cleanBuffer:function(u){var h=this,p=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return h;if(r._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),p))try{u.bufferSource.buffer=r._scratchBuffer}catch{}return u.bufferSource=null,h},_clearSound:function(u){var h=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);h||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(u){this._parent=u,this.init()};i.prototype={init:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++r._counter,h._sounds.push(u),u.create(),u},create:function(){var u=this,h=u._parent,p=r._muted||u._muted||u._parent._muted?0:u._volume;return h._webAudio?(u._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),u._node.gain.setValueAtTime(p,r.ctx.currentTime),u._node.paused=!0,u._node.connect(r.masterGain)):r.noAudio||(u._node=r._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(r._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=h._src,u._node.preload=h._preload===!0?"auto":h._preload,u._node.volume=p*r.volume(),u._node.load()),u},reset:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++r._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,h=u._parent;h._duration=Math.ceil(u._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),u._node.removeEventListener(r._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,h=u._parent;h._duration===1/0&&(h._duration=Math.ceil(u._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var o={},s=function(u){var h=u._src;if(o[h]){u._duration=o[h].duration,d(u);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),y=0;y<p.length;++y)m[y]=p.charCodeAt(y);l(m.buffer,u)}else{var v=new XMLHttpRequest;v.open(u._xhr.method,h,!0),v.withCredentials=u._xhr.withCredentials,v.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(b){v.setRequestHeader(b,u._xhr.headers[b])}),v.onload=function(){var b=(v.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}l(v.response,u)},v.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete o[h],u.load())},a(v)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(y){y&&h._sounds.length>0?(o[h._src]=y,d(h,y)):p()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(u).then(m).catch(p):r.ctx.decodeAudioData(u,m,p)},d=function(u,h){h&&!u._duration&&(u._duration=h.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},f=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(u&&p&&p<9){var m=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!m&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof bt<"u"?(bt.HowlerGlobal=e,bt.Howler=r,bt.Howl=n,bt.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(n=typeof n!="number"?o._pos[1]:n,i=typeof i!="number"?o._pos[2]:i,typeof r=="number")o._pos=[r,n,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(r,n,i,o,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,o=typeof o!="number"?d[3]:o,s=typeof s!="number"?d[4]:s,a=typeof a!="number"?d[5]:a,typeof r=="number")l._orientation=[r,n,i,o,s,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,n,i,o,s,a);else return d;return l},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var s=i._getSoundIds(n),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,o),o==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(r,n,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,n,i,o)}}),s;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof r=="number")s._pos=[r,n,i];else return s._pos;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var d=s._soundById(a[l]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),s._emit("pos",d._id);else return d._pos}return s},Howl.prototype.orientation=function(r,n,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,n,i,o)}}),s;if(n=typeof n!="number"?s._orientation[1]:n,i=typeof i!="number"?s._orientation[2]:i,typeof o>"u")if(typeof r=="number")s._orientation=[r,n,i];else return s._orientation;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var d=s._soundById(a[l]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=s._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),s._emit("orientation",d._id);else return d._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,o,s;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(n[0],10)),s?s._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],o=parseInt(n[1],10));for(var a=r._getSoundIds(o),l=0;l<a.length;l++)if(s=r._soundById(a[l]),s){var d=s._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var f=s._panner;f||(s._pos||(s._pos=r._pos||[0,0,-.5]),e(s,"spatial"),f=s._panner),f.coneInnerAngle=d.coneInnerAngle,f.coneOuterAngle=d.coneOuterAngle,f.coneOuterGain=d.coneOuterGain,f.distanceModel=d.distanceModel,f.maxDistance=d.maxDistance,f.refDistance=d.refDistance,f.rolloffFactor=d.rolloffFactor,f.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(fS);const Uq={key:0,src:Rq,width:"24",height:"24"},jq={key:1,src:w_,width:"24",height:"24"},$q={key:1,class:"flex h-5 items-center justify-center"},zq=[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)],Vq={key:0,src:Pq,width:"24",height:"24"},Hq={key:1,src:Fq,width:"24",height:"24"},qq={class:"rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},Wq=c.defineComponent({__name:"AudioMessageContent",props:{message:{}},setup(t){const e=t,r=Rt(),n=c.ref(0),i=c.ref(),o=c.ref(0),s=c.ref(),a=c.computed(()=>e.message.isIncoming),l=()=>{i.value&&(o.value=i.value.seek()/i.value.duration()*100,i.value.playing()&&requestAnimationFrame(l))},d=async()=>{var u,h;switch(n.value){case 0:{const p=new fS.Howl({src:e.message.url,format:["m4a","mp3","wav","aac","webm"],onload:()=>{p.play(),n.value=3},onplay:()=>{requestAnimationFrame(l)},onend:()=>{n.value=2},onloaderror:(m,y)=>console.log(2,m,y),xhr:{headers:{"IM-Authorization":r.state.imkit.config.token,"IM-Client-Key":r.state.imkit.config.clientKey}}});i.value=p,n.value=1;break}case 2:case 4:(u=i.value)==null||u.play(),n.value=3;break;case 3:(h=i.value)==null||h.pause(),n.value=4;break}},f=async u=>{if(!i.value||!s.value)return;const{x:h,width:p}=s.value.getBoundingClientRect();o.value=(u.clientX-h)/p*100,i.value.seek(i.value.duration()*o.value/100)};return(u,h)=>(c.openBlock(),c.createElementBlock(c.Fragment,null,[c.createElementVNode("div",{class:c.normalizeClass(["pointer-events-none absolute bottom-0 left-0 top-0",[a.value?"bg-gray-300":"bg-blue-300"]]),style:c.normalizeStyle({width:`${o.value}%`})},null,6),c.createElementVNode("div",{ref_key:"container",ref:s,class:"relative -m-2 flex w-[250px] items-center justify-between p-3",onClick:f},[c.createElementVNode("button",{onClick:c.withModifiers(d,["stop"])},[new Set([0,2,4]).has(n.value)?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[a.value?(c.openBlock(),c.createElementBlock("img",Uq)):(c.openBlock(),c.createElementBlock("img",jq))],64)):n.value===1?(c.openBlock(),c.createElementBlock("div",$q,[(c.openBlock(),c.createElementBlock("svg",{class:c.normalizeClass(["h-5 w-5 animate-spin",[a.value?"fill-gray-100 text-gray-400":"fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700"]]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zq,2))])):n.value===3?(c.openBlock(),c.createElementBlock(c.Fragment,{key:2},[a.value?(c.openBlock(),c.createElementBlock("img",Vq)):(c.openBlock(),c.createElementBlock("img",Hq))],64)):c.createCommentVNode("",!0)]),c.createElementVNode("div",qq,c.toDisplayString(Math.floor(u.message.duration/60))+":"+c.toDisplayString(`${Math.floor(u.message.duration%60)}`.padStart(2,"0")),1)],512)],64))}}),Gq={class:"flex items-center justify-center"},Qq={class:"my-3 rounded-lg bg-gray-100 px-2 py-1.5 text-sm text-gray-700 dark:bg-zinc-700 dark:text-gray-200 dark:text-gray-300"},Yq=c.defineComponent({__name:"SystemMessageContent",props:{message:{}},setup(t){const e=t,r=Rt(),n=c.computed(()=>r.state.imkit.users),{t:i}=_i(),o=c.computed(()=>{const s=n.value[e.message.senderId].nickname;switch(e.message.type){case Xe.Recall:return e.message.senderId===r.state.imkit.uid?i("youUnsentMessage"):i("someoneUnsentMessage",[s]);case Xe.JoinRoom:return i("someoneJoinedTheChat",[s]);case Xe.LeaveRoom:return i("someoneLeftTheChat",[s]);case Xe.AddMember:return i("someoneInvited",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.DeleteMember:return i("someoneKicked",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.AddMembers:return i("someoneInvited",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.Announcement:return e.message.text;default:return""}});return(s,a)=>(c.openBlock(),c.createElementBlock("div",Gq,[c.createElementVNode("div",Qq,c.toDisplayString(o.value),1)]))}}),Kq={},Xq={class:"flex h-4 items-center"};function Jq(t,e){return c.openBlock(),c.createElementBlock("div",Xq,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(3,r=>c.createElementVNode("div",{key:r,class:c.normalizeClass(["mr-0.5 h-1 w-1 rounded-full bg-gray-400",[`animate-bounce-${r}`]])},null,2)),64))])}const Zq=wi(Kq,[["render",Jq],["__scopeId","data-v-40e5e96c"]]);class aa extends Error{}class eW extends aa{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class tW extends aa{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class rW extends aa{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class $l extends aa{}class hS extends aa{constructor(e){super(`Invalid unit ${e}`)}}class Sn extends aa{}class fs extends aa{constructor(){super("Zone is an abstract class")}}const Ve="numeric",Mi="short",zn="long",Wh={year:Ve,month:Ve,day:Ve},pS={year:Ve,month:Mi,day:Ve},nW={year:Ve,month:Mi,day:Ve,weekday:Mi},mS={year:Ve,month:zn,day:Ve},gS={year:Ve,month:zn,day:Ve,weekday:zn},yS={hour:Ve,minute:Ve},bS={hour:Ve,minute:Ve,second:Ve},vS={hour:Ve,minute:Ve,second:Ve,timeZoneName:Mi},_S={hour:Ve,minute:Ve,second:Ve,timeZoneName:zn},wS={hour:Ve,minute:Ve,hourCycle:"h23"},xS={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23"},AS={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:Mi},TS={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:zn},CS={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve},ES={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve,second:Ve},SS={year:Ve,month:Mi,day:Ve,hour:Ve,minute:Ve},kS={year:Ve,month:Mi,day:Ve,hour:Ve,minute:Ve,second:Ve},iW={year:Ve,month:Mi,day:Ve,weekday:Mi,hour:Ve,minute:Ve},IS={year:Ve,month:zn,day:Ve,hour:Ve,minute:Ve,timeZoneName:Mi},DS={year:Ve,month:zn,day:Ve,hour:Ve,minute:Ve,second:Ve,timeZoneName:Mi},MS={year:Ve,month:zn,day:Ve,weekday:zn,hour:Ve,minute:Ve,timeZoneName:zn},NS={year:Ve,month:zn,day:Ve,weekday:zn,hour:Ve,minute:Ve,second:Ve,timeZoneName:zn};class Fu{get type(){throw new fs}get name(){throw new fs}get ianaName(){return this.name}get isUniversal(){throw new fs}offsetName(e,r){throw new fs}formatOffset(e,r){throw new fs}offset(e){throw new fs}equals(e){throw new fs}get isValid(){throw new fs}}let uy=null;class Gh extends Fu{static get instance(){return uy===null&&(uy=new Gh),uy}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return r4(e,r,n)}formatOffset(e,r){return zu(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Qh={};function oW(t){return Qh[t]||(Qh[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Qh[t]}const sW={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function aW(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,s,a,l,d,f]=n;return[s,i,o,a,l,d,f]}function lW(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:o,value:s}=r[i],a=sW[o];o==="era"?n[a]=s:ft(a)||(n[a]=parseInt(s,10))}return n}let Yh={};class Bo extends Fu{static create(e){return Yh[e]||(Yh[e]=new Bo(e)),Yh[e]}static resetCache(){Yh={},Qh={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Bo.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return r4(e,r,n,this.name)}formatOffset(e,r){return zu(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=oW(this.name);let[i,o,s,a,l,d,f]=n.formatToParts?lW(n,r):aW(n,r);a==="BC"&&(i=-Math.abs(i)+1);const h=ep({year:i,month:o,day:s,hour:l===24?0:l,minute:d,second:f,millisecond:0});let p=+r;const m=p%1e3;return p-=m>=0?m:1e3+m,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let OS={};function cW(t,e={}){const r=JSON.stringify([t,e]);let n=OS[r];return n||(n=new Intl.ListFormat(t,e),OS[r]=n),n}let dy={};function fy(t,e={}){const r=JSON.stringify([t,e]);let n=dy[r];return n||(n=new Intl.DateTimeFormat(t,e),dy[r]=n),n}let hy={};function uW(t,e={}){const r=JSON.stringify([t,e]);let n=hy[r];return n||(n=new Intl.NumberFormat(t,e),hy[r]=n),n}let py={};function dW(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let o=py[i];return o||(o=new Intl.RelativeTimeFormat(t,e),py[i]=o),o}let Uu=null;function fW(){return Uu||(Uu=new Intl.DateTimeFormat().resolvedOptions().locale,Uu)}let LS={};function hW(t){let e=LS[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,LS[t]=e}return e}function pW(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=fy(t).resolvedOptions(),i=t}catch{const l=t.substring(0,r);n=fy(l).resolvedOptions(),i=l}const{numberingSystem:o,calendar:s}=n;return[i,o,s]}}function mW(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function gW(t){const e=[];for(let r=1;r<=12;r++){const n=gt.utc(2009,r,1);e.push(t(n))}return e}function yW(t){const e=[];for(let r=1;r<=7;r++){const n=gt.utc(2016,11,13+r);e.push(t(n))}return e}function Kh(t,e,r,n){const i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function bW(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class vW{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:o,...s}=n;if(!r||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=uW(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):wy(e,3);return Cr(r,this.padTo)}}}class _W{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&Bo.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=fy(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class wW{constructor(e,r,n){this.opts={style:"long",...n},!r&&JS()&&(this.rtf=dW(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):$W(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const xW={firstDay:1,minimalDays:4,weekend:[6,7]};class Ht{static fromOpts(e){return Ht.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,o=!1){const s=e||gr.defaultLocale,a=s||(o?"en-US":fW()),l=r||gr.defaultNumberingSystem,d=n||gr.defaultOutputCalendar,f=vy(i)||gr.defaultWeekSettings;return new Ht(a,l,d,f,s)}static resetCache(){Uu=null,dy={},hy={},py={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Ht.create(e,r,n,i)}constructor(e,r,n,i,o){const[s,a,l]=pW(e);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=mW(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=bW(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ht.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,vy(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Kh(this,e,o4,()=>{const n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=gW(o=>this.extract(o,n,"month"))),this.monthsCache[i][e]})}weekdays(e,r=!1){return Kh(this,e,l4,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=yW(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Kh(this,void 0,()=>c4,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[gt.utc(2016,11,13,9),gt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Kh(this,e,u4,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[gt.utc(-40,1,1),gt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),o=i.formatToParts(),s=o.find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(e={}){return new vW(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new _W(e,this.intl,r)}relFormatter(e={}){return new wW(this.intl,this.isEnglish(),e)}listFormatter(e={}){return cW(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ZS()?hW(this.locale):xW}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let my=null;class ln extends Fu{static get utcInstance(){return my===null&&(my=new ln(0)),my}static instance(e){return e===0?ln.utcInstance:new ln(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new ln(tp(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zu(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return zu(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class AW extends Fu{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function hs(t,e){if(ft(t)||t===null)return e;if(t instanceof Fu)return t;if(EW(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Gh.instance:r==="utc"||r==="gmt"?ln.utcInstance:ln.parseSpecifier(r)||Bo.create(t)}else return la(t)?ln.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new AW(t)}let BS=()=>Date.now(),RS="system",PS=null,FS=null,US=null,jS=60,$S,zS=null;class gr{static get now(){return BS}static set now(e){BS=e}static set defaultZone(e){RS=e}static get defaultZone(){return hs(RS,Gh.instance)}static get defaultLocale(){return PS}static set defaultLocale(e){PS=e}static get defaultNumberingSystem(){return FS}static set defaultNumberingSystem(e){FS=e}static get defaultOutputCalendar(){return US}static set defaultOutputCalendar(e){US=e}static get defaultWeekSettings(){return zS}static set defaultWeekSettings(e){zS=vy(e)}static get twoDigitCutoffYear(){return jS}static set twoDigitCutoffYear(e){jS=e%100}static get throwOnInvalid(){return $S}static set throwOnInvalid(e){$S=e}static resetCaches(){Ht.resetCache(),Bo.resetCache()}}class Ni{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const VS=[0,31,59,90,120,151,181,212,243,273,304,334],HS=[0,31,60,91,121,152,182,213,244,274,305,335];function ni(t,e){return new Ni("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function gy(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function qS(t,e,r){return r+(ju(t)?HS:VS)[e-1]}function WS(t,e){const r=ju(t)?HS:VS,n=r.findIndex(o=>o<e),i=e-r[n];return{month:n+1,day:i}}function yy(t,e){return(t-e+7)%7+1}function Xh(t,e=4,r=1){const{year:n,month:i,day:o}=t,s=qS(n,i,o),a=yy(gy(n,i,o),r);let l=Math.floor((s-a+14-e)/7),d;return l<1?(d=n-1,l=$u(d,e,r)):l>$u(n,e,r)?(d=n+1,l=1):d=n,{weekYear:d,weekNumber:l,weekday:a,...np(t)}}function GS(t,e=4,r=1){const{weekYear:n,weekNumber:i,weekday:o}=t,s=yy(gy(n,1,e),r),a=Vl(n);let l=i*7+o-s-7+e,d;l<1?(d=n-1,l+=Vl(d)):l>a?(d=n+1,l-=Vl(n)):d=n;const{month:f,day:u}=WS(d,l);return{year:d,month:f,day:u,...np(t)}}function by(t){const{year:e,month:r,day:n}=t,i=qS(e,r,n);return{year:e,ordinal:i,...np(t)}}function QS(t){const{year:e,ordinal:r}=t,{month:n,day:i}=WS(e,r);return{year:e,month:n,day:i,...np(t)}}function YS(t,e){if(!ft(t.localWeekday)||!ft(t.localWeekNumber)||!ft(t.localWeekYear)){if(!ft(t.weekday)||!ft(t.weekNumber)||!ft(t.weekYear))throw new $l("Cannot mix locale-based week fields with ISO-based week fields");return ft(t.localWeekday)||(t.weekday=t.localWeekday),ft(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ft(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function TW(t,e=4,r=1){const n=Jh(t.weekYear),i=ii(t.weekNumber,1,$u(t.weekYear,e,r)),o=ii(t.weekday,1,7);return n?i?o?!1:ni("weekday",t.weekday):ni("week",t.weekNumber):ni("weekYear",t.weekYear)}function CW(t){const e=Jh(t.year),r=ii(t.ordinal,1,Vl(t.year));return e?r?!1:ni("ordinal",t.ordinal):ni("year",t.year)}function KS(t){const e=Jh(t.year),r=ii(t.month,1,12),n=ii(t.day,1,Zh(t.year,t.month));return e?r?n?!1:ni("day",t.day):ni("month",t.month):ni("year",t.year)}function XS(t){const{hour:e,minute:r,second:n,millisecond:i}=t,o=ii(e,0,23)||e===24&&r===0&&n===0&&i===0,s=ii(r,0,59),a=ii(n,0,59),l=ii(i,0,999);return o?s?a?l?!1:ni("millisecond",i):ni("second",n):ni("minute",r):ni("hour",e)}function ft(t){return typeof t>"u"}function la(t){return typeof t=="number"}function Jh(t){return typeof t=="number"&&t%1===0}function EW(t){return typeof t=="string"}function SW(t){return Object.prototype.toString.call(t)==="[object Date]"}function JS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ZS(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function kW(t){return Array.isArray(t)?t:[t]}function e4(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const o=[e(i),i];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function IW(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function zl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vy(t){if(t==null)return null;if(typeof t!="object")throw new Sn("Week settings must be an object");if(!ii(t.firstDay,1,7)||!ii(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ii(e,1,7)))throw new Sn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ii(t,e,r){return Jh(t)&&t>=e&&t<=r}function DW(t,e){return t-e*Math.floor(t/e)}function Cr(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function ps(t){if(!(ft(t)||t===null||t===""))return parseInt(t,10)}function ca(t){if(!(ft(t)||t===null||t===""))return parseFloat(t)}function _y(t){if(!(ft(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function wy(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function ju(t){return t%4===0&&(t%100!==0||t%400===0)}function Vl(t){return ju(t)?366:365}function Zh(t,e){const r=DW(e-1,12)+1,n=t+(e-r)/12;return r===2?ju(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function ep(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function t4(t,e,r){return-yy(gy(t,1,e),r)+e-1}function $u(t,e=4,r=1){const n=t4(t,e,r),i=t4(t+1,e,r);return(Vl(t)-n+i)/7}function xy(t){return t>99?t:t>gr.twoDigitCutoffYear?1900+t:2e3+t}function r4(t,e,r,n=null){const i=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:e,...o},a=new Intl.DateTimeFormat(r,s).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function tp(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function n4(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Sn(`Invalid unit value ${t}`);return e}function rp(t,e){const r={};for(const n in t)if(zl(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=n4(i)}return r}function zu(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Cr(r,2)}:${Cr(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Cr(r,2)}${Cr(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function np(t){return IW(t,["hour","minute","second","millisecond"])}const MW=["January","February","March","April","May","June","July","August","September","October","November","December"],i4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NW=["J","F","M","A","M","J","J","A","S","O","N","D"];function o4(t){switch(t){case"narrow":return[...NW];case"short":return[...i4];case"long":return[...MW];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const s4=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a4=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],OW=["M","T","W","T","F","S","S"];function l4(t){switch(t){case"narrow":return[...OW];case"short":return[...a4];case"long":return[...s4];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const c4=["AM","PM"],LW=["Before Christ","Anno Domini"],BW=["BC","AD"],RW=["B","A"];function u4(t){switch(t){case"narrow":return[...RW];case"short":return[...BW];case"long":return[...LW];default:return null}}function PW(t){return c4[t.hour<12?0:1]}function FW(t,e){return l4(e)[t.weekday-1]}function UW(t,e){return o4(e)[t.month-1]}function jW(t,e){return u4(e)[t.year<0?0:1]}function $W(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){const u=t==="days";switch(e){case 1:return u?"tomorrow":`next ${i[t][0]}`;case-1:return u?"yesterday":`last ${i[t][0]}`;case 0:return u?"today":`this ${i[t][0]}`}}const s=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,d=i[t],f=n?l?d[1]:d[2]||d[1]:l?i[t][0]:t;return s?`${a} ${f} ago`:`in ${a} ${f}`}function d4(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const zW={D:Wh,DD:pS,DDD:mS,DDDD:gS,t:yS,tt:bS,ttt:vS,tttt:_S,T:wS,TT:xS,TTT:AS,TTTT:TS,f:CS,ff:SS,fff:IS,ffff:MS,F:ES,FF:kS,FFF:DS,FFFF:NS};class Qr{static create(e,r={}){return new Qr(e,r)}static parseFormat(e){let r=null,n="",i=!1;const o=[];for(let s=0;s<e.length;s++){const a=e.charAt(s);a==="'"?(n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return zW[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return Cr(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(p,m)=>this.loc.extract(e,p,m),s=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>n?PW(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,m)=>n?UW(e,p):o(m?{month:p}:{month:p,day:"numeric"},"month"),d=(p,m)=>n?FW(e,p):o(m?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const m=Qr.macroTokenToFormatOpts(p);return m?this.formatWithSystemDefault(e,m):p},u=p=>n?jW(e,p):o({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return d4(Qr.parseFormat(r),h)}formatDurationFromString(e,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>d=>{const f=n(d);return f?this.num(l.get(f),d.length):d},o=Qr.parseFormat(r),s=o.reduce((l,{literal:d,val:f})=>d?l:l.concat(f),[]),a=e.shiftTo(...s.map(n).filter(l=>l));return d4(o,i(a))}}const f4=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Hl(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function ql(...t){return e=>t.reduce(([r,n,i],o)=>{const[s,a,l]=o(e,i);return[{...r,...s},a||n,l]},[{},null,1]).slice(0,2)}function Wl(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function h4(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=ps(e[r+i]);return[n,null,r+i]}}const p4=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,VW=`(?:${p4.source}?(?:\\[(${f4.source})\\])?)?`,Ay=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,m4=RegExp(`${Ay.source}${VW}`),Ty=RegExp(`(?:T${m4.source})?`),HW=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,qW=/(\d{4})-?W(\d\d)(?:-?(\d))?/,WW=/(\d{4})-?(\d{3})/,GW=h4("weekYear","weekNumber","weekDay"),QW=h4("year","ordinal"),YW=/(\d{4})-(\d\d)-(\d\d)/,g4=RegExp(`${Ay.source} ?(?:${p4.source}|(${f4.source}))?`),KW=RegExp(`(?: ${g4.source})?`);function Gl(t,e,r){const n=t[e];return ft(n)?r:ps(n)}function XW(t,e){return[{year:Gl(t,e),month:Gl(t,e+1,1),day:Gl(t,e+2,1)},null,e+3]}function Ql(t,e){return[{hours:Gl(t,e,0),minutes:Gl(t,e+1,0),seconds:Gl(t,e+2,0),milliseconds:_y(t[e+3])},null,e+4]}function Vu(t,e){const r=!t[e]&&!t[e+1],n=tp(t[e+1],t[e+2]),i=r?null:ln.instance(n);return[{},i,e+3]}function Hu(t,e){const r=t[e]?Bo.create(t[e]):null;return[{},r,e+1]}const JW=RegExp(`^T?${Ay.source}$`),ZW=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function eG(t){const[e,r,n,i,o,s,a,l,d]=t,f=e[0]==="-",u=l&&l[0]==="-",h=(p,m=!1)=>p!==void 0&&(m||p&&f)?-p:p;return[{years:h(ca(r)),months:h(ca(n)),weeks:h(ca(i)),days:h(ca(o)),hours:h(ca(s)),minutes:h(ca(a)),seconds:h(ca(l),l==="-0"),milliseconds:h(_y(d),u)}]}const tG={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Cy(t,e,r,n,i,o,s){const a={year:e.length===2?xy(ps(e)):ps(e),month:i4.indexOf(r)+1,day:ps(n),hour:ps(i),minute:ps(o)};return s&&(a.second=ps(s)),t&&(a.weekday=t.length>3?s4.indexOf(t)+1:a4.indexOf(t)+1),a}const rG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function nG(t){const[,e,r,n,i,o,s,a,l,d,f,u]=t,h=Cy(e,i,n,r,o,s,a);let p;return l?p=tG[l]:d?p=0:p=tp(f,u),[h,new ln(p)]}function iG(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const oG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,aG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function y4(t){const[,e,r,n,i,o,s,a]=t;return[Cy(e,i,n,r,o,s,a),ln.utcInstance]}function lG(t){const[,e,r,n,i,o,s,a]=t;return[Cy(e,a,r,n,i,o,s),ln.utcInstance]}const cG=Hl(HW,Ty),uG=Hl(qW,Ty),dG=Hl(WW,Ty),fG=Hl(m4),b4=ql(XW,Ql,Vu,Hu),hG=ql(GW,Ql,Vu,Hu),pG=ql(QW,Ql,Vu,Hu),mG=ql(Ql,Vu,Hu);function gG(t){return Wl(t,[cG,b4],[uG,hG],[dG,pG],[fG,mG])}function yG(t){return Wl(iG(t),[rG,nG])}function bG(t){return Wl(t,[oG,y4],[sG,y4],[aG,lG])}function vG(t){return Wl(t,[ZW,eG])}const _G=ql(Ql);function wG(t){return Wl(t,[JW,_G])}const xG=Hl(YW,KW),AG=Hl(g4),TG=ql(Ql,Vu,Hu);function CG(t){return Wl(t,[xG,b4],[AG,TG])}const v4="Invalid Duration",_4={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},EG={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},..._4},oi=146097/400,Yl=146097/4800,SG={years:{quarters:4,months:12,weeks:oi/7,days:oi,hours:oi*24,minutes:oi*24*60,seconds:oi*24*60*60,milliseconds:oi*24*60*60*1e3},quarters:{months:3,weeks:oi/28,days:oi/4,hours:oi*24/4,minutes:oi*24*60/4,seconds:oi*24*60*60/4,milliseconds:oi*24*60*60*1e3/4},months:{weeks:Yl/7,days:Yl,hours:Yl*24,minutes:Yl*24*60,seconds:Yl*24*60*60,milliseconds:Yl*24*60*60*1e3},..._4},ua=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],kG=ua.slice(0).reverse();function ms(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new It(n)}function w4(t,e){let r=e.milliseconds??0;for(const n of kG.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function x4(t,e){const r=w4(t,e)<0?-1:1;ua.reduceRight((n,i)=>{if(ft(e[i]))return n;if(n){const o=e[n]*r,s=t[i][n],a=Math.floor(o/s);e[i]+=a*r,e[n]-=a*s*r}return i},null),ua.reduce((n,i)=>{if(ft(e[i]))return n;if(n){const o=e[n]%1;e[n]-=o,e[i]+=o*t[n][i]}return i},null)}function IG(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class It{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?SG:EG;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Ht.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return It.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Sn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new It({values:rp(e,It.normalizeUnit),loc:Ht.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(la(e))return It.fromMillis(e);if(It.isDuration(e))return e;if(typeof e=="object")return It.fromObject(e);throw new Sn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=vG(e);return n?It.fromObject(n,r):It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=wG(e);return n?It.fromObject(n,r):It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Sn("need to specify a reason the Duration is invalid");const n=e instanceof Ni?e:new Ni(e,r);if(gr.throwOnInvalid)throw new rW(n);return new It({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new hS(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Qr.create(this.loc,n).formatDurationFromString(this,e):v4}toHuman(e={}){if(!this.isValid)return v4;const r=ua.map(n=>{const i=this.values[n];return ft(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=wy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},gt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?w4(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e),n={};for(const i of ua)(zl(r.values,i)||zl(this.values,i))&&(n[i]=r.get(i)+this.get(i));return ms(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=n4(e(this.values[n],n));return ms(this,{values:r},!0)}get(e){return this[It.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...rp(e,It.normalizeUnit)};return ms(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return ms(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return x4(this.matrix,e),ms(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=IG(this.normalize().shiftToAll().toObject());return ms(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>It.normalizeUnit(s));const r={},n={},i=this.toObject();let o;for(const s of ua)if(e.indexOf(s)>=0){o=s;let a=0;for(const d in n)a+=this.matrix[d][s]*n[d],n[d]=0;la(i[s])&&(a+=i[s]);const l=Math.trunc(a);r[s]=l,n[s]=(a*1e3-l*1e3)/1e3}else la(i[s])&&(n[s]=i[s]);for(const s in n)n[s]!==0&&(r[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return x4(this.matrix,r),ms(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ms(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of ua)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Kl="Invalid Interval";function DG(t,e){return!t||!t.isValid?ur.invalid("missing or invalid start"):!e||!e.isValid?ur.invalid("missing or invalid end"):e<t?ur.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ur{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Sn("need to specify a reason the Interval is invalid");const n=e instanceof Ni?e:new Ni(e,r);if(gr.throwOnInvalid)throw new tW(n);return new ur({invalid:n})}static fromDateTimes(e,r){const n=Wu(e),i=Wu(r),o=DG(n,i);return o??new ur({start:n,end:i})}static after(e,r){const n=It.fromDurationLike(r),i=Wu(e);return ur.fromDateTimes(i,i.plus(n))}static before(e,r){const n=It.fromDurationLike(r),i=Wu(e);return ur.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let o,s;try{o=gt.fromISO(n,r),s=o.isValid}catch{s=!1}let a,l;try{a=gt.fromISO(i,r),l=a.isValid}catch{l=!1}if(s&&l)return ur.fromDateTimes(o,a);if(s){const d=It.fromISO(i,r);if(d.isValid)return ur.after(o,d)}else if(l){const d=It.fromISO(n,r);if(d.isValid)return ur.before(a,d)}}return ur.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ur.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Wu).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:i}=this,o=0;for(;i<this.e;){const s=r[o]||this.e,a=+s>+this.e?this.e:s;n.push(ur.fromDateTimes(i,a)),i=a,o+=1}return n}splitBy(e){const r=It.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,o;const s=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));o=+a>+this.e?this.e:a,s.push(ur.fromDateTimes(n,o)),n=o,i+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ur.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ur.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[i,o.union(s)]:[i.concat([o]),s]:[i,s],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],o=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,d)=>l.time-d.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(ur.fromDateTimes(r,l.time)),r=null);return ur.merge(i)}difference(...e){return ur.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Kl}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Wh,r={}){return this.isValid?Qr.create(this.s.loc.clone(r),e).formatInterval(this):Kl}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Kl}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Kl}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Kl}toFormat(e,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Kl}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):It.invalid(this.invalidReason)}mapEndpoints(e){return ur.fromDateTimes(e(this.s),e(this.e))}}class ip{static hasDST(e=gr.defaultZone){const r=gt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Bo.isValidZone(e)}static normalizeZone(e){return hs(e,gr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Ht.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Ht.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Ht.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Ht.create(r,n,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Ht.create(r,n,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ht.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Ht.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ht.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Ht.create(r,null,"gregory").eras(e)}static features(){return{relative:JS(),localeWeek:ZS()}}}function A4(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(It.fromMillis(n).as("days"))}function MG(t,e,r){const n=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const f=A4(l,d);return(f-f%7)/7}],["days",A4]],i={},o=t;let s,a;for(const[l,d]of n)r.indexOf(l)>=0&&(s=l,i[l]=d(t,e),a=o.plus(i),a>e?(i[l]--,t=o.plus(i),t>e&&(a=t,i[l]--,t=o.plus(i))):t=a);return[t,i,a,s]}function NG(t,e,r,n){let[i,o,s,a]=MG(t,e,r);const l=e-i,d=r.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);d.length===0&&(s<e&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const f=It.fromObject(o,n);return d.length>0?It.fromMillis(l,n).shiftTo(...d).plus(f):f}const Ey={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},T4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},OG=Ey.hanidec.replace(/[\[|\]]/g,"").split("");function LG(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Ey.hanidec)!==-1)e+=OG.indexOf(t[r]);else for(const i in T4){const[o,s]=T4[i];n>=o&&n<=s&&(e+=n-o)}}return parseInt(e,10)}else return e}function Oi({numberingSystem:t},e=""){return new RegExp(`${Ey[t||"latn"]}${e}`)}const BG="missing Intl.DateTimeFormat.formatToParts support";function Ot(t,e=r=>r){return{regex:t,deser:([r])=>e(LG(r))}}const C4="[  ]",E4=new RegExp(C4,"g");function RG(t){return t.replace(/\./g,"\\.?").replace(E4,C4)}function S4(t){return t.replace(/\./g,"").replace(E4," ").toLowerCase()}function Li(t,e){return t===null?null:{regex:RegExp(t.map(RG).join("|")),deser:([r])=>t.findIndex(n=>S4(r)===S4(n))+e}}function k4(t,e){return{regex:t,deser:([,r,n])=>tp(r,n),groups:e}}function op(t){return{regex:t,deser:([e])=>e}}function PG(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function FG(t,e){const r=Oi(e),n=Oi(e,"{2}"),i=Oi(e,"{3}"),o=Oi(e,"{4}"),s=Oi(e,"{6}"),a=Oi(e,"{1,2}"),l=Oi(e,"{1,3}"),d=Oi(e,"{1,6}"),f=Oi(e,"{1,9}"),u=Oi(e,"{2,4}"),h=Oi(e,"{4,6}"),p=v=>({regex:RegExp(PG(v.val)),deser:([b])=>b,literal:!0}),y=(v=>{if(t.literal)return p(v);switch(v.val){case"G":return Li(e.eras("short"),0);case"GG":return Li(e.eras("long"),0);case"y":return Ot(d);case"yy":return Ot(u,xy);case"yyyy":return Ot(o);case"yyyyy":return Ot(h);case"yyyyyy":return Ot(s);case"M":return Ot(a);case"MM":return Ot(n);case"MMM":return Li(e.months("short",!0),1);case"MMMM":return Li(e.months("long",!0),1);case"L":return Ot(a);case"LL":return Ot(n);case"LLL":return Li(e.months("short",!1),1);case"LLLL":return Li(e.months("long",!1),1);case"d":return Ot(a);case"dd":return Ot(n);case"o":return Ot(l);case"ooo":return Ot(i);case"HH":return Ot(n);case"H":return Ot(a);case"hh":return Ot(n);case"h":return Ot(a);case"mm":return Ot(n);case"m":return Ot(a);case"q":return Ot(a);case"qq":return Ot(n);case"s":return Ot(a);case"ss":return Ot(n);case"S":return Ot(l);case"SSS":return Ot(i);case"u":return op(f);case"uu":return op(a);case"uuu":return Ot(r);case"a":return Li(e.meridiems(),0);case"kkkk":return Ot(o);case"kk":return Ot(u,xy);case"W":return Ot(a);case"WW":return Ot(n);case"E":case"c":return Ot(r);case"EEE":return Li(e.weekdays("short",!1),1);case"EEEE":return Li(e.weekdays("long",!1),1);case"ccc":return Li(e.weekdays("short",!0),1);case"cccc":return Li(e.weekdays("long",!0),1);case"Z":case"ZZ":return k4(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return k4(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return op(/[a-z_+-/]{1,256}?/i);case" ":return op(/[^\S\n\r]/);default:return p(v)}})(t)||{invalidReason:BG};return y.token=t,y}const UG={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function jG(t,e,r){const{type:n,value:i}=t;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const o=e[n];let s=n;n==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=r.hour12?"hour12":"hour24");let a=UG[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function $G(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function zG(t,e,r){const n=t.match(e);if(n){const i={};let o=1;for(const s in r)if(zl(r,s)){const a=r[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(o,o+l))),o+=l}return[n,i]}else return[n,{}]}function VG(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return ft(t.z)||(r=Bo.create(t.z)),ft(t.Z)||(r||(r=new ln(t.Z)),n=t.Z),ft(t.q)||(t.M=(t.q-1)*3+1),ft(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ft(t.u)||(t.S=_y(t.u)),[Object.keys(t).reduce((o,s)=>{const a=e(s);return a&&(o[a]=t[s]),o},{}),r,n]}let Sy=null;function HG(){return Sy||(Sy=gt.fromMillis(1555555555555)),Sy}function qG(t,e){if(t.literal)return t;const r=Qr.macroTokenToFormatOpts(t.val),n=M4(r,e);return n==null||n.includes(void 0)?t:n}function I4(t,e){return Array.prototype.concat(...t.map(r=>qG(r,e)))}function D4(t,e,r){const n=I4(Qr.parseFormat(r),t),i=n.map(s=>FG(s,t)),o=i.find(s=>s.invalidReason);if(o)return{input:e,tokens:n,invalidReason:o.invalidReason};{const[s,a]=$G(i),l=RegExp(s,"i"),[d,f]=zG(e,l,a),[u,h,p]=f?VG(f):[null,null,void 0];if(zl(f,"a")&&zl(f,"H"))throw new $l("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:d,matches:f,result:u,zone:h,specificOffset:p}}}function WG(t,e,r){const{result:n,zone:i,specificOffset:o,invalidReason:s}=D4(t,e,r);return[n,i,o,s]}function M4(t,e){if(!t)return null;const n=Qr.create(e,t).dtFormatter(HG()),i=n.formatToParts(),o=n.resolvedOptions();return i.map(s=>jG(s,t,o))}const ky="Invalid DateTime",N4=864e13;function sp(t){return new Ni("unsupported zone",`the zone "${t.name}" is not supported`)}function Iy(t){return t.weekData===null&&(t.weekData=Xh(t.c)),t.weekData}function Dy(t){return t.localWeekData===null&&(t.localWeekData=Xh(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function da(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new gt({...r,...e,old:r})}function O4(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const o=r.offset(n);return i===o?[n,i]:[t-Math.min(i,o)*60*1e3,Math.max(i,o)]}function ap(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function lp(t,e,r){return O4(ep(t),e,r)}function L4(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:n,month:i,day:Math.min(t.c.day,Zh(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=It.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=ep(o);let[l,d]=O4(a,r,t.zone);return s!==0&&(l+=s,d=t.zone.offset(l)),{ts:l,o:d}}function qu(t,e,r,n,i,o){const{setZone:s,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const l=e||a,d=gt.fromObject(t,{...r,zone:l,specificOffset:o});return s?d:d.setZone(a)}else return gt.invalid(new Ni("unparsable",`the input "${i}" can't be parsed as ${n}`))}function cp(t,e,r=!0){return t.isValid?Qr.create(Ht.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function My(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=Cr(t.c.year,r?6:4),e?(n+="-",n+=Cr(t.c.month),n+="-",n+=Cr(t.c.day)):(n+=Cr(t.c.month),n+=Cr(t.c.day)),n}function B4(t,e,r,n,i,o){let s=Cr(t.c.hour);return e?(s+=":",s+=Cr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=":")):s+=Cr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=Cr(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=Cr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!o?s+="Z":t.o<0?(s+="-",s+=Cr(Math.trunc(-t.o/60)),s+=":",s+=Cr(Math.trunc(-t.o%60))):(s+="+",s+=Cr(Math.trunc(t.o/60)),s+=":",s+=Cr(Math.trunc(t.o%60)))),o&&(s+="["+t.zone.ianaName+"]"),s}const R4={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},GG={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},QG={ordinal:1,hour:0,minute:0,second:0,millisecond:0},P4=["year","month","day","hour","minute","second","millisecond"],YG=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],KG=["year","ordinal","hour","minute","second","millisecond"];function XG(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new hS(t);return e}function F4(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return XG(t)}}function U4(t,e){const r=hs(e.zone,gr.defaultZone),n=Ht.fromObject(e),i=gr.now();let o,s;if(ft(t.year))o=i;else{for(const d of P4)ft(t[d])&&(t[d]=R4[d]);const a=KS(t)||XS(t);if(a)return gt.invalid(a);const l=r.offset(i);[o,s]=lp(t,l,r)}return new gt({ts:o,zone:r,loc:n,o:s})}function j4(t,e,r){const n=ft(r.round)?!0:r.round,i=(s,a)=>(s=wy(s,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(s,a)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return i(o(r.unit),r.unit);for(const s of r.units){const a=o(s);if(Math.abs(a)>=1)return i(a,s)}return i(t>e?-0:0,r.units[r.units.length-1])}function $4(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}class gt{constructor(e){const r=e.zone||gr.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Ni("invalid input"):null)||(r.isValid?null:sp(r));this.ts=ft(e.ts)?gr.now():e.ts;let i=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,o]=[e.old.c,e.old.o];else{const a=r.offset(this.ts);i=ap(this.ts,a),n=Number.isNaN(i.year)?new Ni("invalid input"):null,i=n?null:i,o=n?null:a}this._zone=r,this.loc=e.loc||Ht.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new gt({})}static local(){const[e,r]=$4(arguments),[n,i,o,s,a,l,d]=r;return U4({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:d},e)}static utc(){const[e,r]=$4(arguments),[n,i,o,s,a,l,d]=r;return e.zone=ln.utcInstance,U4({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:d},e)}static fromJSDate(e,r={}){const n=SW(e)?e.valueOf():NaN;if(Number.isNaN(n))return gt.invalid("invalid input");const i=hs(r.zone,gr.defaultZone);return i.isValid?new gt({ts:n,zone:i,loc:Ht.fromObject(r)}):gt.invalid(sp(i))}static fromMillis(e,r={}){if(la(e))return e<-N4||e>N4?gt.invalid("Timestamp out of range"):new gt({ts:e,zone:hs(r.zone,gr.defaultZone),loc:Ht.fromObject(r)});throw new Sn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(la(e))return new gt({ts:e*1e3,zone:hs(r.zone,gr.defaultZone),loc:Ht.fromObject(r)});throw new Sn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=hs(r.zone,gr.defaultZone);if(!n.isValid)return gt.invalid(sp(n));const i=Ht.fromObject(r),o=rp(e,F4),{minDaysInFirstWeek:s,startOfWeek:a}=YS(o,i),l=gr.now(),d=ft(r.specificOffset)?n.offset(l):r.specificOffset,f=!ft(o.ordinal),u=!ft(o.year),h=!ft(o.month)||!ft(o.day),p=u||h,m=o.weekYear||o.weekNumber;if((p||f)&&m)throw new $l("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new $l("Can't mix ordinal dates with month/day");const y=m||o.weekday&&!p;let v,b,A=ap(l,d);y?(v=YG,b=GG,A=Xh(A,s,a)):f?(v=KG,b=QG,A=by(A)):(v=P4,b=R4);let C=!1;for(const F of v){const z=o[F];ft(z)?C?o[F]=b[F]:o[F]=A[F]:C=!0}const S=y?TW(o,s,a):f?CW(o):KS(o),M=S||XS(o);if(M)return gt.invalid(M);const I=y?GS(o,s,a):f?QS(o):o,[L,k]=lp(I,d,n),T=new gt({ts:L,zone:n,o:k,loc:i});return o.weekday&&p&&e.weekday!==T.weekday?gt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${T.toISO()}`):T}static fromISO(e,r={}){const[n,i]=gG(e);return qu(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=yG(e);return qu(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=bG(e);return qu(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(ft(e)||ft(r))throw new Sn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=n,s=Ht.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[a,l,d,f]=WG(s,e,r);return f?gt.invalid(f):qu(a,l,n,`format ${r}`,e,d)}static fromString(e,r,n={}){return gt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=CG(e);return qu(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Sn("need to specify a reason the DateTime is invalid");const n=e instanceof Ni?e:new Ni(e,r);if(gr.throwOnInvalid)throw new eW(n);return new gt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=M4(e,Ht.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return I4(Qr.parseFormat(e),Ht.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Iy(this).weekYear:NaN}get weekNumber(){return this.isValid?Iy(this).weekNumber:NaN}get weekday(){return this.isValid?Iy(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Dy(this).weekday:NaN}get localWeekNumber(){return this.isValid?Dy(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Dy(this).weekYear:NaN}get ordinal(){return this.isValid?by(this.c).ordinal:NaN}get monthShort(){return this.isValid?ip.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ip.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ip.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ip.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=ep(this.c),i=this.zone.offset(n-e),o=this.zone.offset(n+e),s=this.zone.offset(n-i*r),a=this.zone.offset(n-o*r);if(s===a)return[this];const l=n-s*r,d=n-a*r,f=ap(l,s),u=ap(d,a);return f.hour===u.hour&&f.minute===u.minute&&f.second===u.second&&f.millisecond===u.millisecond?[da(this,{ts:l}),da(this,{ts:d})]:[this]}get isInLeapYear(){return ju(this.year)}get daysInMonth(){return Zh(this.year,this.month)}get daysInYear(){return this.isValid?Vl(this.year):NaN}get weeksInWeekYear(){return this.isValid?$u(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?$u(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=Qr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(ln.instance(e),r)}toLocal(){return this.setZone(gr.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=hs(e,gr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const o=e.offset(this.ts),s=this.toObject();[i]=lp(s,o,e)}return da(this,{ts:i,zone:e})}else return gt.invalid(sp(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return da(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=rp(e,F4),{minDaysInFirstWeek:n,startOfWeek:i}=YS(r,this.loc),o=!ft(r.weekYear)||!ft(r.weekNumber)||!ft(r.weekday),s=!ft(r.ordinal),a=!ft(r.year),l=!ft(r.month)||!ft(r.day),d=a||l,f=r.weekYear||r.weekNumber;if((d||s)&&f)throw new $l("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new $l("Can't mix ordinal dates with month/day");let u;o?u=GS({...Xh(this.c,n,i),...r},n,i):ft(r.ordinal)?(u={...this.toObject(),...r},ft(r.day)&&(u.day=Math.min(Zh(u.year,u.month),u.day))):u=QS({...by(this.c),...r});const[h,p]=lp(u,this.o,this.zone);return da(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e);return da(this,L4(this,r))}minus(e){if(!this.isValid)return this;const r=It.fromDurationLike(e).negate();return da(this,L4(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=It.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Qr.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):ky}toLocaleString(e=Wh,r={}){return this.isValid?Qr.create(this.loc.clone(r),e).formatDateTime(this):ky}toLocaleParts(e={}){return this.isValid?Qr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s=e==="extended";let a=My(this,s);return a+="T",a+=B4(this,s,r,n,i,o),a}toISODate({format:e="extended"}={}){return this.isValid?My(this,e==="extended"):null}toISOWeekDate(){return cp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+B4(this,s==="extended",r,e,n,o):null}toRFC2822(){return cp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return cp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?My(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),cp(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ky}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return It.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=kW(r).map(It.normalizeUnit),s=e.valueOf()>this.valueOf(),a=s?this:e,l=s?e:this,d=NG(a,l,o,i);return s?d.negate():d}diffNow(e="milliseconds",r={}){return this.diff(gt.now(),e,r)}until(e){return this.isValid?ur.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(r,n)<=i&&i<=o.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||gt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),j4(r,this.plus(n),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?j4(e.base||gt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(gt.isDateTime))throw new Sn("min requires all arguments be DateTimes");return e4(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(gt.isDateTime))throw new Sn("max requires all arguments be DateTimes");return e4(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:o=null}=n,s=Ht.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return D4(s,e,r)}static fromStringExplain(e,r,n={}){return gt.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return Wh}static get DATE_MED(){return pS}static get DATE_MED_WITH_WEEKDAY(){return nW}static get DATE_FULL(){return mS}static get DATE_HUGE(){return gS}static get TIME_SIMPLE(){return yS}static get TIME_WITH_SECONDS(){return bS}static get TIME_WITH_SHORT_OFFSET(){return vS}static get TIME_WITH_LONG_OFFSET(){return _S}static get TIME_24_SIMPLE(){return wS}static get TIME_24_WITH_SECONDS(){return xS}static get TIME_24_WITH_SHORT_OFFSET(){return AS}static get TIME_24_WITH_LONG_OFFSET(){return TS}static get DATETIME_SHORT(){return CS}static get DATETIME_SHORT_WITH_SECONDS(){return ES}static get DATETIME_MED(){return SS}static get DATETIME_MED_WITH_SECONDS(){return kS}static get DATETIME_MED_WITH_WEEKDAY(){return iW}static get DATETIME_FULL(){return IS}static get DATETIME_FULL_WITH_SECONDS(){return DS}static get DATETIME_HUGE(){return MS}static get DATETIME_HUGE_WITH_SECONDS(){return NS}}function Wu(t){if(gt.isDateTime(t))return t;if(t&&t.valueOf&&la(t.valueOf()))return gt.fromJSDate(t);if(t&&typeof t=="object")return gt.fromObject(t);throw new Sn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const JG=(t,e,r=pr())=>{const n=pr(t);if(n.isSame(r,"day"))return e("today");if(n.isSame(r.subtract(1,"day"),"day"))return e("yesterday");const i=gt.fromMillis(t);return n.isSame(r,"week")?i.toLocaleString({month:"numeric",day:"numeric",weekday:"short"}):n.isSame(r,"year")?i.toLocaleString({month:"numeric",day:"numeric"}):i.toLocaleString({month:"numeric",day:"numeric",year:"numeric"})},ZG=["width","height"],eQ=[c.createStaticVNode('<g id="Icon"><path d="m23.25 3.75v7c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-.773l-2.811 1.874c-.23.153-.526.168-.77.037-.244-.13-.396-.384-.396-.661v-1.25h-2.25c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h7c.729 0 1.429.29 1.945.805.515.516.805 1.216.805 1.945zm-1.5 0c0-.332-.132-.649-.366-.884-.235-.234-.552-.366-.884-.366h-7c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h3c.414 0 .75.336.75.75v.599l1.834-1.223c.123-.082.268-.126.416-.126h1c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m11.75 12.482c0-.414.336-.75.75-.75s.75.336.75.75v5.768c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-2.25v1.25c0 .277-.152.531-.396.661-.244.131-.54.116-.77-.037l-2.811-1.874h-.773c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h8c.414 0 .75.336.75.75s-.336.75-.75.75h-8c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h1c.148 0 .293.044.416.126 0 0 1.834 1.223 1.834 1.223v-.599c0-.414.336-.75.75-.75h3c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m17.75 5.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.5c0-.414.336-.75.75-.75s.75.336.75.75z"></path><path d="m14.5 6.5c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h5c.414 0 .75.336.75.75s-.336.75-.75.75z"></path><path d="m17.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 2.623-2.127 4.75-4.75 4.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.795 0 3.25-1.455 3.25-3.25z"></path><path d="m14.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 1.795 1.455 3.25 3.25 3.25.414 0 .75.336.75.75s-.336.75-.75.75c-2.623 0-4.75-2.127-4.75-4.75z"></path><path d="m5.696 17.529c-.153.384-.59.571-.975.417-.384-.153-.571-.59-.417-.975l2-5c.114-.284.389-.471.696-.471s.582.187.696.471l2 5c.154.385-.033.822-.417.975-.385.154-.822-.033-.975-.417l-1.304-3.26z"></path><path d="m6 17c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h2c.414 0 .75.336.75.75s-.336.75-.75.75z"></path></g>',1)],tQ={__name:"TranslateSvg",props:{width:{type:[Number,String],default:19},height:{type:[Number,String],default:19}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,"stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},eQ,8,ZG))}},rQ={key:0,class:"mb-2 mt-4 flex items-center justify-center"},nQ={class:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600 dark:bg-zinc-700 dark:text-gray-400"},iQ={key:3,class:"flex flex-col items-end self-end text-xs text-gray-500 dark:text-gray-300"},oQ={key:0},sQ={key:5,class:"w-[30px]"},aQ={class:"flex max-w-[75%] flex-col items-start sm:max-w-[60%]"},lQ={key:0,class:"mb-1 ml-1 text-xs font-medium text-gray-500 dark:text-gray-300"},cQ={key:6,class:"self-end text-xs text-gray-500 dark:text-gray-300"},uQ=wi(c.defineComponent({inheritAttrs:!1,__name:"MessageCell",props:{source:{}},setup(t){const e=t,r=_i(),n=e.source,i={[Xe.Text]:Xo,[Xe.Image]:LO,[Xe.Sticker]:__,[Xe.Video]:BF,[Xe.File]:$F,[Xe.Template]:UH,[Xe.Flex]:ZH,[Xe.Location]:Bq,[Xe.Audio]:Wq,[Xe.Recall]:Xo,[Xe.JoinRoom]:Xo,[Xe.LeaveRoom]:Xo,[Xe.AddMember]:Xo,[Xe.DeleteMember]:Xo,[Xe.AddMembers]:Xo,[Xe.Announcement]:Xo,[Xe.Typing]:Zq},o=Rt(),s=c.computed(()=>{if(o.state.imkit.uid!==e.source.senderId)return 0;const{rooms:k,uid:T,messageMultiList:F}=o.state.imkit,z=k[e.source.roomId];return z?Object.keys(z.lastReadMessageId).filter(P=>P!==T).map(P=>{var $;const R=z.lastReadMessageId[P];return($=F.main)==null?void 0:$.finds(R)}).reduce((P,R)=>R&&R.createdAt>=e.source.createdAt?P+1:P,0):0}),a=c.computed(()=>e.source.isIncoming),l=c.computed(()=>!a.value),d=c.computed(()=>{var F;if(n.type===Xe.Typing)return!0;const T=(((F=o.state.imkit.messageMultiList.main)==null?void 0:F.messageGroups)??new Map).get(n.groupId);return T?T[0].id===n.id:!1}),f=c.computed(()=>{var F;if(n.type===Xe.Typing)return!0;const T=(((F=o.state.imkit.messageMultiList.main)==null?void 0:F.messageGroups)??new Map).get(n.groupId);return T?T[T.length-1].id===n.id:!1}),u=c.ref(!1),h=k=>{u.value=!0,k.preventDefault()},p=()=>{o.commit("imkit/setState",{replyId:e.source.id})},m=()=>{let k="";switch(e.source.type){case Xe.Text:k=e.source.text;break;case Xe.Location:k=e.source.address;break}navigator.clipboard.writeText(k)},y=()=>{o.dispatch("imkit/recallMessage",{roomId:e.source.roomId,_id:e.source.id,messageType:"recall"})},v=c.computed(()=>{const k=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;if(e.source.type===Xe.Text){const T=e.source.text;for(let F=0;F<T.length;F++)if(!k.test(T[F]))return!1;return!0}return!1}),b=c.computed(()=>e.source),A=c.computed(()=>e.source.isSystem),C=c.computed(()=>o.state.imkit.config.styles),S=c.computed(()=>o.state.imkit.config.translationApiKey),M=c.computed(()=>o.state.imkit.users[e.source.senderId]),I=c.computed(()=>{var T,F;return((F=(((T=o.state.imkit.messageMultiList.main)==null?void 0:T.firstMessageOfDate)??new Map).get(e.source.dateId))==null?void 0:F.id)===e.source.id}),L=()=>{o.dispatch("imkit/translateMessage",e.source)};return(k,T)=>{var F,z,P;return c.openBlock(),c.createElementBlock(c.Fragment,null,[I.value?(c.openBlock(),c.createElementBlock("div",rQ,[c.createElementVNode("div",nQ,c.toDisplayString(c.unref(JG)(k.source.createdAt,c.unref(r).t)),1)])):c.createCommentVNode("",!0),A.value?(c.openBlock(),c.createBlock(Yq,{key:1,message:k.source},null,8,["message"])):(c.openBlock(),c.createElementBlock("div",{key:2,class:c.normalizeClass(["flex gap-2",[a.value?"justify-start":"justify-end",d.value?"mt-1":"mt-[0.0625rem]",f.value?"mb-1":"mb-[0.0625rem]"]]),onMouseleave:T[1]||(T[1]=R=>u.value=!1),onClick:T[2]||(T[2]=R=>u.value=!1)},[l.value&&u.value?(c.openBlock(),c.createElementBlock("img",{key:0,src:bM,class:"my-auto h-5 w-5 cursor-pointer",onClick:y})):c.createCommentVNode("",!0),l.value&&u.value?(c.openBlock(),c.createElementBlock("img",{key:1,src:Q2,class:"my-auto h-5 w-5 cursor-pointer",onClick:m})):c.createCommentVNode("",!0),l.value&&u.value?(c.openBlock(),c.createElementBlock("img",{key:2,src:Y2,class:"my-auto h-5 w-5 cursor-pointer",onClick:p})):c.createCommentVNode("",!0),l.value&&f.value&&!u.value?(c.openBlock(),c.createElementBlock("div",iQ,[s.value>0?(c.openBlock(),c.createElementBlock("div",oQ,c.toDisplayString(k.$t("read"))+" "+c.toDisplayString(s.value),1)):c.createCommentVNode("",!0),c.createElementVNode("div",null,c.toDisplayString(c.unref(pr)(k.source.createdAt).format("H:mm")),1)])):c.createCommentVNode("",!0),a.value&&d.value?(c.openBlock(),c.createBlock(zr,{key:4,url:((F=M.value)==null?void 0:F.avatarUrl)??"",name:((z=M.value)==null?void 0:z.nickname)??"",class:"!h-[30px] !w-[30px] rounded-full text-xs"},null,8,["url","name"])):a.value?(c.openBlock(),c.createElementBlock("div",sQ)):c.createCommentVNode("",!0),c.createElementVNode("div",aQ,[a.value&&d.value?(c.openBlock(),c.createElementBlock("div",lQ,c.toDisplayString(((P=M.value)==null?void 0:P.nickname)??""),1)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:c.normalizeClass(["relative overflow-hidden rounded",[a.value?"rounded-r-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100":"rounded-l-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100",l.value&&d.value?"rounded-tr-xl":"",l.value&&f.value?"rounded-br-xl":"",a.value&&d.value?"rounded-tl-xl":"",a.value&&f.value?"rounded-bl-xl":"",[c.unref(Xe).Sticker,c.unref(Xe).Image].includes(k.source.type)?"!bg-white dark:!bg-zinc-800":"",v.value?"!bg-white !text-3xl dark:!bg-zinc-800":"",[c.unref(Xe).Template,c.unref(Xe).Flex].includes(k.source.type)?"!rounded-none !bg-white dark:!bg-zinc-800":"px-3 py-2",[c.unref(Fs).ImageCarousel,c.unref(Fs).Carousel].includes(b.value.templateType)?"!rounded-none !bg-white dark:bg-zinc-800":""]]),style:c.normalizeStyle([a.value?C.value.incomingMessageCell:C.value.outgoingMessageCell]),onContextmenu:h,onMouseenter:T[0]||(T[0]=R=>u.value=!0)},[(c.openBlock(),c.createBlock(c.resolveDynamicComponent(i[k.source.type]),{message:c.unref(n)},null,8,["message"]))],38)]),a.value&&f.value&&!u.value&&c.unref(n).type!==c.unref(Xe).Typing?(c.openBlock(),c.createElementBlock("div",cQ,c.toDisplayString(c.unref(pr)(k.source.createdAt).format("H:mm")),1)):c.createCommentVNode("",!0),a.value&&u.value?(c.openBlock(),c.createElementBlock("div",{key:7,class:c.normalizeClass(["flex items-center justify-center gap-2",{"mt-5":d.value}])},[c.createElementVNode("img",{src:Y2,class:c.normalizeClass(["my-auto h-5 w-5 cursor-pointer",d.value?"ml-1":"ml-2"]),onClick:p},null,2),c.createElementVNode("img",{src:Q2,class:"my-auto h-5 w-5 cursor-pointer",onClick:m}),S.value?(c.openBlock(),c.createBlock(tQ,{key:0,class:"cursor-pointer fill-gray-600",onClick:L})):c.createCommentVNode("",!0)],2)):c.createCommentVNode("",!0)],34))],64)}}}),[["__scopeId","data-v-ede45cff"]]),dQ={class:"absolute bottom-[110%] right-0 flex h-80 w-80 max-w-full flex-col divide-y overflow-auto rounded-xl border bg-white dark:bg-zinc-800"},fQ={class:"grid grow grid-cols-3 items-center justify-center gap-4 overflow-y-auto p-4 sm:grid-cols-4"},hQ=["src","onClick"],pQ={key:0,class:"flex h-14 w-full flex-shrink-0 gap-4 overflow-x-auto p-3"},mQ=["src","onClick"],gQ=c.defineComponent({__name:"StickerPanel",emits:["close"],setup(t,{emit:e}){const r=Rt(),n=[{name:"FunFunFamily",number:40}],i=c.ref(n[0]),o=c.computed(()=>r.state.imkit.rooms[r.state.imkit.selectedRoomId]),s=e,a=async l=>{const d={roomId:o.value.id,messageType:"sticker",sticker:l};await r.dispatch("imkit/sendMessage",d),s("close")};return(l,d)=>(c.openBlock(),c.createElementBlock("div",dQ,[c.createElementVNode("div",fQ,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.value.number,f=>(c.openBlock(),c.createElementBlock("img",{src:`/sticker/${i.value.name}/${i.value.name}-${f}.png`,key:f,class:"cursor-pointer border-0 object-contain",onClick:u=>a(`${i.value.name}-${f}`)},null,8,hQ))),128))]),n.length>1?(c.openBlock(),c.createElementBlock("div",pQ,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(n,f=>c.createElementVNode("img",{src:`/sticker/${f.name}/${f.name}-1.png`,key:f.name,class:"h-full cursor-pointer border-0 object-contain",onClick:u=>i.value=f},null,8,mQ)),64))])):c.createCommentVNode("",!0)]))}}),z4="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64",V4={recent:"Recently used",smileys_people:"Smiles & People",animals_nature:"Animals & Nature",food_drink:"Food & Drink",activities:"Activities",travel_places:"Travel places",objects:"Objects",symbols:"Symbols",flags:"Flags"},H4="u",up="n",dp="v",Gu="r",yQ={[up]:["grinning face","grinning"],[H4]:"1f600",[Gu]:"1f600"},fp="neutral",bQ=[fp,"1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"],vQ={placeholder:"Search emoji",skinTone:"Skin tone"},_Q=["light","dark","auto"];var wQ={smileys_people:[{n:["grinning face","grinning"],u:"1f600"},{n:["grinning face with smiling eyes","grin"],u:"1f601"},{n:["face with tears of joy","joy"],u:"1f602"},{n:["rolling on the floor laughing","rolling_on_the_floor_laughing"],u:"1f923"},{n:["smiling face with open mouth","smiley"],u:"1f603"},{n:["smiling face with open mouth and smiling eyes","smile"],u:"1f604"},{n:["smiling face with open mouth and cold sweat","sweat_smile"],u:"1f605"},{n:["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],u:"1f606"},{n:["winking face","wink"],u:"1f609"},{n:["smiling face with smiling eyes","blush"],u:"1f60a"},{n:["face savouring delicious food","yum"],u:"1f60b"},{n:["smiling face with sunglasses","sunglasses"],u:"1f60e"},{n:["smiling face with heart-shaped eyes","heart_eyes"],u:"1f60d"},{n:["face throwing a kiss","kissing_heart"],u:"1f618"},{n:["kissing face","kissing"],u:"1f617"},{n:["kissing face with smiling eyes","kissing_smiling_eyes"],u:"1f619"},{n:["kissing face with closed eyes","kissing_closed_eyes"],u:"1f61a"},{n:["white smiling face","relaxed"],u:"263a-fe0f"},{n:["slightly smiling face","slightly_smiling_face"],u:"1f642"},{n:["hugging face","hugging_face"],u:"1f917"},{n:["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],u:"1f929"},{n:["thinking face","thinking_face"],u:"1f914"},{n:["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],u:"1f928"},{n:["neutral face","neutral_face"],u:"1f610"},{n:["expressionless face","expressionless"],u:"1f611"},{n:["face without mouth","no_mouth"],u:"1f636"},{n:["face with rolling eyes","face_with_rolling_eyes"],u:"1f644"},{n:["smirking face","smirk"],u:"1f60f"},{n:["persevering face","persevere"],u:"1f623"},{n:["disappointed but relieved face","disappointed_relieved"],u:"1f625"},{n:["face with open mouth","open_mouth"],u:"1f62e"},{n:["zipper-mouth face","zipper_mouth_face"],u:"1f910"},{n:["hushed face","hushed"],u:"1f62f"},{n:["sleepy face","sleepy"],u:"1f62a"},{n:["tired face","tired_face"],u:"1f62b"},{n:["sleeping face","sleeping"],u:"1f634"},{n:["relieved face","relieved"],u:"1f60c"},{n:["face with stuck-out tongue","stuck_out_tongue"],u:"1f61b"},{n:["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],u:"1f61c"},{n:["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],u:"1f61d"},{n:["drooling face","drooling_face"],u:"1f924"},{n:["unamused face","unamused"],u:"1f612"},{n:["face with cold sweat","sweat"],u:"1f613"},{n:["pensive face","pensive"],u:"1f614"},{n:["confused face","confused"],u:"1f615"},{n:["upside-down face","upside_down_face"],u:"1f643"},{n:["money-mouth face","money_mouth_face"],u:"1f911"},{n:["astonished face","astonished"],u:"1f632"},{n:["white_frowning_face"],u:"2639-fe0f"},{n:["slightly frowning face","slightly_frowning_face"],u:"1f641"},{n:["confounded face","confounded"],u:"1f616"},{n:["disappointed face","disappointed"],u:"1f61e"},{n:["worried face","worried"],u:"1f61f"},{n:["face with look of triumph","triumph"],u:"1f624"},{n:["crying face","cry"],u:"1f622"},{n:["loudly crying face","sob"],u:"1f62d"},{n:["frowning face with open mouth","frowning"],u:"1f626"},{n:["anguished face","anguished"],u:"1f627"},{n:["fearful face","fearful"],u:"1f628"},{n:["weary face","weary"],u:"1f629"},{n:["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],u:"1f92f"},{n:["grimacing face","grimacing"],u:"1f62c"},{n:["face with open mouth and cold sweat","cold_sweat"],u:"1f630"},{n:["face screaming in fear","scream"],u:"1f631"},{n:["flushed face","flushed"],u:"1f633"},{n:["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],u:"1f92a"},{n:["dizzy face","dizzy_face"],u:"1f635"},{n:["pouting face","rage"],u:"1f621"},{n:["angry face","angry"],u:"1f620"},{n:["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],u:"1f92c"},{n:["face with medical mask","mask"],u:"1f637"},{n:["face with thermometer","face_with_thermometer"],u:"1f912"},{n:["face with head-bandage","face_with_head_bandage"],u:"1f915"},{n:["nauseated face","nauseated_face"],u:"1f922"},{n:["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],u:"1f92e"},{n:["sneezing face","sneezing_face"],u:"1f927"},{n:["smiling face with halo","innocent"],u:"1f607"},{n:["face with cowboy hat","face_with_cowboy_hat"],u:"1f920"},{n:["clown face","clown_face"],u:"1f921"},{n:["lying face","lying_face"],u:"1f925"},{n:["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],u:"1f92b"},{n:["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],u:"1f92d"},{n:["face with monocle","face_with_monocle"],u:"1f9d0"},{n:["nerd face","nerd_face"],u:"1f913"},{n:["smiling face with horns","smiling_imp"],u:"1f608"},{n:["imp"],u:"1f47f"},{n:["japanese ogre","japanese_ogre"],u:"1f479"},{n:["japanese goblin","japanese_goblin"],u:"1f47a"},{n:["skull"],u:"1f480"},{n:["skull_and_crossbones"],u:"2620-fe0f"},{n:["ghost"],u:"1f47b"},{n:["extraterrestrial alien","alien"],u:"1f47d"},{n:["alien monster","space_invader"],u:"1f47e"},{n:["robot face","robot_face"],u:"1f916"},{n:["pile of poo","hankey","poop","shit"],u:"1f4a9"},{n:["smiling cat face with open mouth","smiley_cat"],u:"1f63a"},{n:["grinning cat face with smiling eyes","smile_cat"],u:"1f638"},{n:["cat face with tears of joy","joy_cat"],u:"1f639"},{n:["smiling cat face with heart-shaped eyes","heart_eyes_cat"],u:"1f63b"},{n:["cat face with wry smile","smirk_cat"],u:"1f63c"},{n:["kissing cat face with closed eyes","kissing_cat"],u:"1f63d"},{n:["weary cat face","scream_cat"],u:"1f640"},{n:["crying cat face","crying_cat_face"],u:"1f63f"},{n:["pouting cat face","pouting_cat"],u:"1f63e"},{n:["see-no-evil monkey","see_no_evil"],u:"1f648"},{n:["hear-no-evil monkey","hear_no_evil"],u:"1f649"},{n:["speak-no-evil monkey","speak_no_evil"],u:"1f64a"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{n:["older adult","older_adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{n:["older man","older_man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{n:["older woman","older_woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{n:["male-doctor"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{n:["female-doctor"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{n:["male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{n:["female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{n:["male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{n:["female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{n:["male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{n:["female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{n:["male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{n:["female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{n:["male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{n:["female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{n:["male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{n:["female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{n:["male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{n:["female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{n:["male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{n:["female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{n:["male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{n:["female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{n:["male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{n:["female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{n:["male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{n:["female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{n:["male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{n:["female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{n:["male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{n:["female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{n:["male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{n:["female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{n:["male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{n:["female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{n:["police officer","cop"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{n:["male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{n:["female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{n:["sleuth_or_spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{n:["male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{n:["female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{n:["male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{n:["female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{n:["construction worker","construction_worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{n:["male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{n:["female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{n:["man with turban","man_with_turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{n:["man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{n:["woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{n:["man with gua pi mao","man_with_gua_pi_mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{n:["person with headscarf","person_with_headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{n:["bearded person","bearded_person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{n:["person with blond hair","person_with_blond_hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{n:["blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{n:["blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{n:["man in tuxedo","man_in_tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{n:["bride with veil","bride_with_veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{n:["pregnant woman","pregnant_woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{n:["baby angel","angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{n:["father christmas","santa"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{n:["mother christmas","mrs_claus","mother_christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{n:["female_mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{n:["male_mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{n:["female_fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{n:["male_fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{n:["female_vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{n:["male_vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{n:["female_elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{n:["male_elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{n:["genie"],u:"1f9de"},{n:["female_genie"],u:"1f9de-200d-2640-fe0f"},{n:["male_genie"],u:"1f9de-200d-2642-fe0f"},{n:["zombie"],u:"1f9df"},{n:["female_zombie"],u:"1f9df-200d-2640-fe0f"},{n:["male_zombie"],u:"1f9df-200d-2642-fe0f"},{n:["person frowning","person_frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{n:["man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{n:["woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{n:["person with pouting face","person_with_pouting_face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{n:["man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{n:["woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{n:["face with no good gesture","no_good"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{n:["man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{n:["face with ok gesture","ok_woman"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{n:["man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{n:["information desk person","information_desk_person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{n:["man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{n:["woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{n:["happy person raising one hand","raising_hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{n:["man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{n:["woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{n:["person bowing deeply","bow"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{n:["man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{n:["woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{n:["face palm","face_palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{n:["man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{n:["woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{n:["man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{n:["woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{n:["face massage","massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{n:["man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{n:["man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{n:["pedestrian","walking"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{n:["man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{n:["woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{n:["man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{n:["woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{n:["man dancing","man_dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{n:["woman with bunny ears","dancers"],u:"1f46f"},{n:["man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f"},{n:["woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f"},{n:["person in steamy room","person_in_steamy_room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{n:["woman_in_steamy_room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{n:["man_in_steamy_room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{n:["person climbing","person_climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{n:["woman_climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{n:["man_climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{n:["person in lotus position","person_in_lotus_position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{n:["woman_in_lotus_position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{n:["man_in_lotus_position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{n:["sleeping accommodation","sleeping_accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{n:["man_in_business_suit_levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{n:["speaking_head_in_silhouette"],u:"1f5e3-fe0f"},{n:["bust in silhouette","bust_in_silhouette"],u:"1f464"},{n:["busts in silhouette","busts_in_silhouette"],u:"1f465"},{n:["fencer"],u:"1f93a"},{n:["horse racing","horse_racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{n:["skier"],u:"26f7-fe0f"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{n:["golfer"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{n:["man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{n:["woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{n:["man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{n:["woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{n:["man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{n:["woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{n:["man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{n:["woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{n:["person_with_ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{n:["man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{n:["woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{n:["weight_lifter"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{n:["man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{n:["woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{n:["man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{n:["woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{n:["mountain bicyclist","mountain_bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{n:["man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{n:["woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{n:["racing_car"],u:"1f3ce-fe0f"},{n:["racing_motorcycle"],u:"1f3cd-fe0f"},{n:["person doing cartwheel","person_doing_cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{n:["man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{n:["woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{n:["wrestlers"],u:"1f93c"},{n:["man-wrestling"],u:"1f93c-200d-2642-fe0f"},{n:["woman-wrestling"],u:"1f93c-200d-2640-fe0f"},{n:["water polo","water_polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{n:["man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{n:["man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{n:["man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{n:["woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{n:["man and woman holding hands","couple","man_and_woman_holding_hands"],u:"1f46b"},{n:["two men holding hands","two_men_holding_hands"],u:"1f46c"},{n:["two women holding hands","two_women_holding_hands"],u:"1f46d"},{n:["kiss","couplekiss"],u:"1f48f"},{n:["woman-kiss-man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["man-kiss-man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["woman-kiss-woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{n:["couple with heart","couple_with_heart"],u:"1f491"},{n:["woman-heart-man"],u:"1f469-200d-2764-fe0f-200d-1f468"},{n:["man-heart-man"],u:"1f468-200d-2764-fe0f-200d-1f468"},{n:["woman-heart-woman"],u:"1f469-200d-2764-fe0f-200d-1f469"},{n:["family","man-woman-boy"],u:"1f46a"},{n:["man-woman-boy","family"],u:"1f468-200d-1f469-200d-1f466"},{n:["man-woman-girl"],u:"1f468-200d-1f469-200d-1f467"},{n:["man-woman-girl-boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466"},{n:["man-woman-boy-boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466"},{n:["man-woman-girl-girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467"},{n:["man-man-boy"],u:"1f468-200d-1f468-200d-1f466"},{n:["man-man-girl"],u:"1f468-200d-1f468-200d-1f467"},{n:["man-man-girl-boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466"},{n:["man-man-boy-boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466"},{n:["man-man-girl-girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467"},{n:["woman-woman-boy"],u:"1f469-200d-1f469-200d-1f466"},{n:["woman-woman-girl"],u:"1f469-200d-1f469-200d-1f467"},{n:["woman-woman-girl-boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466"},{n:["woman-woman-boy-boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466"},{n:["woman-woman-girl-girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467"},{n:["man-boy"],u:"1f468-200d-1f466"},{n:["man-boy-boy"],u:"1f468-200d-1f466-200d-1f466"},{n:["man-girl"],u:"1f468-200d-1f467"},{n:["man-girl-boy"],u:"1f468-200d-1f467-200d-1f466"},{n:["man-girl-girl"],u:"1f468-200d-1f467-200d-1f467"},{n:["woman-boy"],u:"1f469-200d-1f466"},{n:["woman-boy-boy"],u:"1f469-200d-1f466-200d-1f466"},{n:["woman-girl"],u:"1f469-200d-1f467"},{n:["woman-girl-boy"],u:"1f469-200d-1f467-200d-1f466"},{n:["woman-girl-girl"],u:"1f469-200d-1f467-200d-1f467"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{n:["flexed biceps","muscle"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{n:["white left pointing backhand index","point_left"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{n:["white right pointing backhand index","point_right"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{n:["white up pointing index","point_up"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{n:["white up pointing backhand index","point_up_2"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{n:["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{n:["white down pointing backhand index","point_down"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{n:["victory hand","v"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{n:["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{n:["raised hand with part between middle and ring fingers","spock-hand"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{n:["sign of the horns","the_horns","sign_of_the_horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{n:["call me hand","call_me_hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{n:["raised_hand_with_fingers_splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{n:["raised hand","hand","raised_hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{n:["ok hand sign","ok_hand"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{n:["thumbs up sign","+1","thumbsup"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{n:["thumbs down sign","-1","thumbsdown"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{n:["raised fist","fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{n:["fisted hand sign","facepunch","punch"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{n:["left-facing fist","left-facing_fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{n:["right-facing fist","right-facing_fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{n:["raised back of hand","raised_back_of_hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{n:["waving hand sign","wave"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{n:["i love you hand sign","i_love_you_hand_sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{n:["writing_hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{n:["clapping hands sign","clap"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{n:["open hands sign","open_hands"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{n:["person raising both hands in celebration","raised_hands"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{n:["palms up together","palms_up_together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{n:["person with folded hands","pray"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{n:["handshake"],u:"1f91d"},{n:["nail polish","nail_care"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{n:["footprints"],u:"1f463"},{n:["eyes"],u:"1f440"},{n:["eye"],u:"1f441-fe0f"},{n:["eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f"},{n:["brain"],u:"1f9e0"},{n:["tongue"],u:"1f445"},{n:["mouth","lips"],u:"1f444"},{n:["kiss mark","kiss"],u:"1f48b"},{n:["heart with arrow","cupid"],u:"1f498"},{n:["heavy black heart","heart"],u:"2764-fe0f"},{n:["beating heart","heartbeat"],u:"1f493"},{n:["broken heart","broken_heart"],u:"1f494"},{n:["two hearts","two_hearts"],u:"1f495"},{n:["sparkling heart","sparkling_heart"],u:"1f496"},{n:["growing heart","heartpulse"],u:"1f497"},{n:["blue heart","blue_heart"],u:"1f499"},{n:["green heart","green_heart"],u:"1f49a"},{n:["yellow heart","yellow_heart"],u:"1f49b"},{n:["orange heart","orange_heart"],u:"1f9e1"},{n:["purple heart","purple_heart"],u:"1f49c"},{n:["black heart","black_heart"],u:"1f5a4"},{n:["heart with ribbon","gift_heart"],u:"1f49d"},{n:["revolving hearts","revolving_hearts"],u:"1f49e"},{n:["heart decoration","heart_decoration"],u:"1f49f"},{n:["heavy_heart_exclamation_mark_ornament"],u:"2763-fe0f"},{n:["love letter","love_letter"],u:"1f48c"},{n:["sleeping symbol","zzz"],u:"1f4a4"},{n:["anger symbol","anger"],u:"1f4a2"},{n:["bomb"],u:"1f4a3"},{n:["collision symbol","boom","collision"],u:"1f4a5"},{n:["splashing sweat symbol","sweat_drops"],u:"1f4a6"},{n:["dash symbol","dash"],u:"1f4a8"},{n:["dizzy symbol","dizzy"],u:"1f4ab"},{n:["speech balloon","speech_balloon"],u:"1f4ac"},{n:["left_speech_bubble"],u:"1f5e8-fe0f"},{n:["right_anger_bubble"],u:"1f5ef-fe0f"},{n:["thought balloon","thought_balloon"],u:"1f4ad"},{n:["hole"],u:"1f573-fe0f"},{n:["eyeglasses"],u:"1f453"},{n:["dark_sunglasses"],u:"1f576-fe0f"},{n:["necktie"],u:"1f454"},{n:["t-shirt","shirt","tshirt"],u:"1f455"},{n:["jeans"],u:"1f456"},{n:["scarf"],u:"1f9e3"},{n:["gloves"],u:"1f9e4"},{n:["coat"],u:"1f9e5"},{n:["socks"],u:"1f9e6"},{n:["dress"],u:"1f457"},{n:["kimono"],u:"1f458"},{n:["bikini"],u:"1f459"},{n:["womans clothes","womans_clothes"],u:"1f45a"},{n:["purse"],u:"1f45b"},{n:["handbag"],u:"1f45c"},{n:["pouch"],u:"1f45d"},{n:["shopping_bags"],u:"1f6cd-fe0f"},{n:["school satchel","school_satchel"],u:"1f392"},{n:["mans shoe","mans_shoe","shoe"],u:"1f45e"},{n:["athletic shoe","athletic_shoe"],u:"1f45f"},{n:["high-heeled shoe","high_heel"],u:"1f460"},{n:["womans sandal","sandal"],u:"1f461"},{n:["womans boots","boot"],u:"1f462"},{n:["crown"],u:"1f451"},{n:["womans hat","womans_hat"],u:"1f452"},{n:["top hat","tophat"],u:"1f3a9"},{n:["graduation cap","mortar_board"],u:"1f393"},{n:["billed cap","billed_cap"],u:"1f9e2"},{n:["helmet_with_white_cross"],u:"26d1-fe0f"},{n:["prayer beads","prayer_beads"],u:"1f4ff"},{n:["lipstick"],u:"1f484"},{n:["ring"],u:"1f48d"},{n:["gem stone","gem"],u:"1f48e"}],animals_nature:[{n:["monkey face","monkey_face"],u:"1f435"},{n:["monkey"],u:"1f412"},{n:["gorilla"],u:"1f98d"},{n:["dog face","dog"],u:"1f436"},{n:["dog","dog2"],u:"1f415"},{n:["poodle"],u:"1f429"},{n:["wolf face","wolf"],u:"1f43a"},{n:["fox face","fox_face"],u:"1f98a"},{n:["cat face","cat"],u:"1f431"},{n:["cat","cat2"],u:"1f408"},{n:["lion face","lion_face"],u:"1f981"},{n:["tiger face","tiger"],u:"1f42f"},{n:["tiger","tiger2"],u:"1f405"},{n:["leopard"],u:"1f406"},{n:["horse face","horse"],u:"1f434"},{n:["horse","racehorse"],u:"1f40e"},{n:["unicorn face","unicorn_face"],u:"1f984"},{n:["zebra face","zebra_face"],u:"1f993"},{n:["deer"],u:"1f98c"},{n:["cow face","cow"],u:"1f42e"},{n:["ox"],u:"1f402"},{n:["water buffalo","water_buffalo"],u:"1f403"},{n:["cow","cow2"],u:"1f404"},{n:["pig face","pig"],u:"1f437"},{n:["pig","pig2"],u:"1f416"},{n:["boar"],u:"1f417"},{n:["pig nose","pig_nose"],u:"1f43d"},{n:["ram"],u:"1f40f"},{n:["sheep"],u:"1f411"},{n:["goat"],u:"1f410"},{n:["dromedary camel","dromedary_camel"],u:"1f42a"},{n:["bactrian camel","camel"],u:"1f42b"},{n:["giraffe face","giraffe_face"],u:"1f992"},{n:["elephant"],u:"1f418"},{n:["rhinoceros"],u:"1f98f"},{n:["mouse face","mouse"],u:"1f42d"},{n:["mouse","mouse2"],u:"1f401"},{n:["rat"],u:"1f400"},{n:["hamster face","hamster"],u:"1f439"},{n:["rabbit face","rabbit"],u:"1f430"},{n:["rabbit","rabbit2"],u:"1f407"},{n:["chipmunk"],u:"1f43f-fe0f"},{n:["hedgehog"],u:"1f994"},{n:["bat"],u:"1f987"},{n:["bear face","bear"],u:"1f43b"},{n:["koala"],u:"1f428"},{n:["panda face","panda_face"],u:"1f43c"},{n:["paw prints","feet","paw_prints"],u:"1f43e"},{n:["turkey"],u:"1f983"},{n:["chicken"],u:"1f414"},{n:["rooster"],u:"1f413"},{n:["hatching chick","hatching_chick"],u:"1f423"},{n:["baby chick","baby_chick"],u:"1f424"},{n:["front-facing baby chick","hatched_chick"],u:"1f425"},{n:["bird"],u:"1f426"},{n:["penguin"],u:"1f427"},{n:["dove_of_peace"],u:"1f54a-fe0f"},{n:["eagle"],u:"1f985"},{n:["duck"],u:"1f986"},{n:["owl"],u:"1f989"},{n:["frog face","frog"],u:"1f438"},{n:["crocodile"],u:"1f40a"},{n:["turtle"],u:"1f422"},{n:["lizard"],u:"1f98e"},{n:["snake"],u:"1f40d"},{n:["dragon face","dragon_face"],u:"1f432"},{n:["dragon"],u:"1f409"},{n:["sauropod"],u:"1f995"},{n:["t-rex"],u:"1f996"},{n:["spouting whale","whale"],u:"1f433"},{n:["whale","whale2"],u:"1f40b"},{n:["dolphin","flipper"],u:"1f42c"},{n:["fish"],u:"1f41f"},{n:["tropical fish","tropical_fish"],u:"1f420"},{n:["blowfish"],u:"1f421"},{n:["shark"],u:"1f988"},{n:["octopus"],u:"1f419"},{n:["spiral shell","shell"],u:"1f41a"},{n:["crab"],u:"1f980"},{n:["shrimp"],u:"1f990"},{n:["squid"],u:"1f991"},{n:["snail"],u:"1f40c"},{n:["butterfly"],u:"1f98b"},{n:["bug"],u:"1f41b"},{n:["ant"],u:"1f41c"},{n:["honeybee","bee"],u:"1f41d"},{n:["lady beetle","beetle"],u:"1f41e"},{n:["cricket"],u:"1f997"},{n:["spider"],u:"1f577-fe0f"},{n:["spider_web"],u:"1f578-fe0f"},{n:["scorpion"],u:"1f982"},{n:["bouquet"],u:"1f490"},{n:["cherry blossom","cherry_blossom"],u:"1f338"},{n:["white flower","white_flower"],u:"1f4ae"},{n:["rosette"],u:"1f3f5-fe0f"},{n:["rose"],u:"1f339"},{n:["wilted flower","wilted_flower"],u:"1f940"},{n:["hibiscus"],u:"1f33a"},{n:["sunflower"],u:"1f33b"},{n:["blossom"],u:"1f33c"},{n:["tulip"],u:"1f337"},{n:["seedling"],u:"1f331"},{n:["evergreen tree","evergreen_tree"],u:"1f332"},{n:["deciduous tree","deciduous_tree"],u:"1f333"},{n:["palm tree","palm_tree"],u:"1f334"},{n:["cactus"],u:"1f335"},{n:["ear of rice","ear_of_rice"],u:"1f33e"},{n:["herb"],u:"1f33f"},{n:["shamrock"],u:"2618-fe0f"},{n:["four leaf clover","four_leaf_clover"],u:"1f340"},{n:["maple leaf","maple_leaf"],u:"1f341"},{n:["fallen leaf","fallen_leaf"],u:"1f342"},{n:["leaf fluttering in wind","leaves"],u:"1f343"}],food_drink:[{n:["grapes"],u:"1f347"},{n:["melon"],u:"1f348"},{n:["watermelon"],u:"1f349"},{n:["tangerine"],u:"1f34a"},{n:["lemon"],u:"1f34b"},{n:["banana"],u:"1f34c"},{n:["pineapple"],u:"1f34d"},{n:["red apple","apple"],u:"1f34e"},{n:["green apple","green_apple"],u:"1f34f"},{n:["pear"],u:"1f350"},{n:["peach"],u:"1f351"},{n:["cherries"],u:"1f352"},{n:["strawberry"],u:"1f353"},{n:["kiwifruit"],u:"1f95d"},{n:["tomato"],u:"1f345"},{n:["coconut"],u:"1f965"},{n:["avocado"],u:"1f951"},{n:["aubergine","eggplant"],u:"1f346"},{n:["potato"],u:"1f954"},{n:["carrot"],u:"1f955"},{n:["ear of maize","corn"],u:"1f33d"},{n:["hot_pepper"],u:"1f336-fe0f"},{n:["cucumber"],u:"1f952"},{n:["broccoli"],u:"1f966"},{n:["mushroom"],u:"1f344"},{n:["peanuts"],u:"1f95c"},{n:["chestnut"],u:"1f330"},{n:["bread"],u:"1f35e"},{n:["croissant"],u:"1f950"},{n:["baguette bread","baguette_bread"],u:"1f956"},{n:["pretzel"],u:"1f968"},{n:["pancakes"],u:"1f95e"},{n:["cheese wedge","cheese_wedge"],u:"1f9c0"},{n:["meat on bone","meat_on_bone"],u:"1f356"},{n:["poultry leg","poultry_leg"],u:"1f357"},{n:["cut of meat","cut_of_meat"],u:"1f969"},{n:["bacon"],u:"1f953"},{n:["hamburger"],u:"1f354"},{n:["french fries","fries"],u:"1f35f"},{n:["slice of pizza","pizza"],u:"1f355"},{n:["hot dog","hotdog"],u:"1f32d"},{n:["sandwich"],u:"1f96a"},{n:["taco"],u:"1f32e"},{n:["burrito"],u:"1f32f"},{n:["stuffed flatbread","stuffed_flatbread"],u:"1f959"},{n:["egg"],u:"1f95a"},{n:["cooking","fried_egg"],u:"1f373"},{n:["shallow pan of food","shallow_pan_of_food"],u:"1f958"},{n:["pot of food","stew"],u:"1f372"},{n:["bowl with spoon","bowl_with_spoon"],u:"1f963"},{n:["green salad","green_salad"],u:"1f957"},{n:["popcorn"],u:"1f37f"},{n:["canned food","canned_food"],u:"1f96b"},{n:["bento box","bento"],u:"1f371"},{n:["rice cracker","rice_cracker"],u:"1f358"},{n:["rice ball","rice_ball"],u:"1f359"},{n:["cooked rice","rice"],u:"1f35a"},{n:["curry and rice","curry"],u:"1f35b"},{n:["steaming bowl","ramen"],u:"1f35c"},{n:["spaghetti"],u:"1f35d"},{n:["roasted sweet potato","sweet_potato"],u:"1f360"},{n:["oden"],u:"1f362"},{n:["sushi"],u:"1f363"},{n:["fried shrimp","fried_shrimp"],u:"1f364"},{n:["fish cake with swirl design","fish_cake"],u:"1f365"},{n:["dango"],u:"1f361"},{n:["dumpling"],u:"1f95f"},{n:["fortune cookie","fortune_cookie"],u:"1f960"},{n:["takeout box","takeout_box"],u:"1f961"},{n:["soft ice cream","icecream"],u:"1f366"},{n:["shaved ice","shaved_ice"],u:"1f367"},{n:["ice cream","ice_cream"],u:"1f368"},{n:["doughnut"],u:"1f369"},{n:["cookie"],u:"1f36a"},{n:["birthday cake","birthday"],u:"1f382"},{n:["shortcake","cake"],u:"1f370"},{n:["pie"],u:"1f967"},{n:["chocolate bar","chocolate_bar"],u:"1f36b"},{n:["candy"],u:"1f36c"},{n:["lollipop"],u:"1f36d"},{n:["custard"],u:"1f36e"},{n:["honey pot","honey_pot"],u:"1f36f"},{n:["baby bottle","baby_bottle"],u:"1f37c"},{n:["glass of milk","glass_of_milk"],u:"1f95b"},{n:["hot beverage","coffee"],u:"2615"},{n:["teacup without handle","tea"],u:"1f375"},{n:["sake bottle and cup","sake"],u:"1f376"},{n:["bottle with popping cork","champagne"],u:"1f37e"},{n:["wine glass","wine_glass"],u:"1f377"},{n:["cocktail glass","cocktail"],u:"1f378"},{n:["tropical drink","tropical_drink"],u:"1f379"},{n:["beer mug","beer"],u:"1f37a"},{n:["clinking beer mugs","beers"],u:"1f37b"},{n:["clinking glasses","clinking_glasses"],u:"1f942"},{n:["tumbler glass","tumbler_glass"],u:"1f943"},{n:["cup with straw","cup_with_straw"],u:"1f964"},{n:["chopsticks"],u:"1f962"},{n:["knife_fork_plate"],u:"1f37d-fe0f"},{n:["fork and knife","fork_and_knife"],u:"1f374"},{n:["spoon"],u:"1f944"},{n:["hocho","knife"],u:"1f52a"},{n:["amphora"],u:"1f3fa"}],activities:[{n:["jack-o-lantern","jack_o_lantern"],u:"1f383"},{n:["christmas tree","christmas_tree"],u:"1f384"},{n:["fireworks"],u:"1f386"},{n:["firework sparkler","sparkler"],u:"1f387"},{n:["sparkles"],u:"2728"},{n:["balloon"],u:"1f388"},{n:["party popper","tada"],u:"1f389"},{n:["confetti ball","confetti_ball"],u:"1f38a"},{n:["tanabata tree","tanabata_tree"],u:"1f38b"},{n:["pine decoration","bamboo"],u:"1f38d"},{n:["japanese dolls","dolls"],u:"1f38e"},{n:["carp streamer","flags"],u:"1f38f"},{n:["wind chime","wind_chime"],u:"1f390"},{n:["moon viewing ceremony","rice_scene"],u:"1f391"},{n:["ribbon"],u:"1f380"},{n:["wrapped present","gift"],u:"1f381"},{n:["reminder_ribbon"],u:"1f397-fe0f"},{n:["admission_tickets"],u:"1f39f-fe0f"},{n:["ticket"],u:"1f3ab"},{n:["medal"],u:"1f396-fe0f"},{n:["trophy"],u:"1f3c6"},{n:["sports medal","sports_medal"],u:"1f3c5"},{n:["first place medal","first_place_medal"],u:"1f947"},{n:["second place medal","second_place_medal"],u:"1f948"},{n:["third place medal","third_place_medal"],u:"1f949"},{n:["soccer ball","soccer"],u:"26bd"},{n:["baseball"],u:"26be"},{n:["basketball and hoop","basketball"],u:"1f3c0"},{n:["volleyball"],u:"1f3d0"},{n:["american football","football"],u:"1f3c8"},{n:["rugby football","rugby_football"],u:"1f3c9"},{n:["tennis racquet and ball","tennis"],u:"1f3be"},{n:["billiards","8ball"],u:"1f3b1"},{n:["bowling"],u:"1f3b3"},{n:["cricket bat and ball","cricket_bat_and_ball"],u:"1f3cf"},{n:["field hockey stick and ball","field_hockey_stick_and_ball"],u:"1f3d1"},{n:["ice hockey stick and puck","ice_hockey_stick_and_puck"],u:"1f3d2"},{n:["table tennis paddle and ball","table_tennis_paddle_and_ball"],u:"1f3d3"},{n:["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],u:"1f3f8"},{n:["boxing glove","boxing_glove"],u:"1f94a"},{n:["martial arts uniform","martial_arts_uniform"],u:"1f94b"},{n:["goal net","goal_net"],u:"1f945"},{n:["direct hit","dart"],u:"1f3af"},{n:["flag in hole","golf"],u:"26f3"},{n:["ice_skate"],u:"26f8-fe0f"},{n:["fishing pole and fish","fishing_pole_and_fish"],u:"1f3a3"},{n:["running shirt with sash","running_shirt_with_sash"],u:"1f3bd"},{n:["ski and ski boot","ski"],u:"1f3bf"},{n:["sled"],u:"1f6f7"},{n:["curling stone","curling_stone"],u:"1f94c"},{n:["video game","video_game"],u:"1f3ae"},{n:["joystick"],u:"1f579-fe0f"},{n:["game die","game_die"],u:"1f3b2"},{n:["black spade suit","spades"],u:"2660-fe0f"},{n:["black heart suit","hearts"],u:"2665-fe0f"},{n:["black diamond suit","diamonds"],u:"2666-fe0f"},{n:["black club suit","clubs"],u:"2663-fe0f"},{n:["playing card black joker","black_joker"],u:"1f0cf"},{n:["mahjong tile red dragon","mahjong"],u:"1f004"},{n:["flower playing cards","flower_playing_cards"],u:"1f3b4"}],travel_places:[{n:["earth globe europe-africa","earth_africa"],u:"1f30d"},{n:["earth globe americas","earth_americas"],u:"1f30e"},{n:["earth globe asia-australia","earth_asia"],u:"1f30f"},{n:["globe with meridians","globe_with_meridians"],u:"1f310"},{n:["world_map"],u:"1f5fa-fe0f"},{n:["silhouette of japan","japan"],u:"1f5fe"},{n:["snow_capped_mountain"],u:"1f3d4-fe0f"},{n:["mountain"],u:"26f0-fe0f"},{n:["volcano"],u:"1f30b"},{n:["mount fuji","mount_fuji"],u:"1f5fb"},{n:["camping"],u:"1f3d5-fe0f"},{n:["beach_with_umbrella"],u:"1f3d6-fe0f"},{n:["desert"],u:"1f3dc-fe0f"},{n:["desert_island"],u:"1f3dd-fe0f"},{n:["national_park"],u:"1f3de-fe0f"},{n:["stadium"],u:"1f3df-fe0f"},{n:["classical_building"],u:"1f3db-fe0f"},{n:["building_construction"],u:"1f3d7-fe0f"},{n:["house_buildings"],u:"1f3d8-fe0f"},{n:["cityscape"],u:"1f3d9-fe0f"},{n:["derelict_house_building"],u:"1f3da-fe0f"},{n:["house building","house"],u:"1f3e0"},{n:["house with garden","house_with_garden"],u:"1f3e1"},{n:["office building","office"],u:"1f3e2"},{n:["japanese post office","post_office"],u:"1f3e3"},{n:["european post office","european_post_office"],u:"1f3e4"},{n:["hospital"],u:"1f3e5"},{n:["bank"],u:"1f3e6"},{n:["hotel"],u:"1f3e8"},{n:["love hotel","love_hotel"],u:"1f3e9"},{n:["convenience store","convenience_store"],u:"1f3ea"},{n:["school"],u:"1f3eb"},{n:["department store","department_store"],u:"1f3ec"},{n:["factory"],u:"1f3ed"},{n:["japanese castle","japanese_castle"],u:"1f3ef"},{n:["european castle","european_castle"],u:"1f3f0"},{n:["wedding"],u:"1f492"},{n:["tokyo tower","tokyo_tower"],u:"1f5fc"},{n:["statue of liberty","statue_of_liberty"],u:"1f5fd"},{n:["church"],u:"26ea"},{n:["mosque"],u:"1f54c"},{n:["synagogue"],u:"1f54d"},{n:["shinto_shrine"],u:"26e9-fe0f"},{n:["kaaba"],u:"1f54b"},{n:["fountain"],u:"26f2"},{n:["tent"],u:"26fa"},{n:["foggy"],u:"1f301"},{n:["night with stars","night_with_stars"],u:"1f303"},{n:["sunrise over mountains","sunrise_over_mountains"],u:"1f304"},{n:["sunrise"],u:"1f305"},{n:["cityscape at dusk","city_sunset"],u:"1f306"},{n:["sunset over buildings","city_sunrise"],u:"1f307"},{n:["bridge at night","bridge_at_night"],u:"1f309"},{n:["hot springs","hotsprings"],u:"2668-fe0f"},{n:["milky way","milky_way"],u:"1f30c"},{n:["carousel horse","carousel_horse"],u:"1f3a0"},{n:["ferris wheel","ferris_wheel"],u:"1f3a1"},{n:["roller coaster","roller_coaster"],u:"1f3a2"},{n:["barber pole","barber"],u:"1f488"},{n:["circus tent","circus_tent"],u:"1f3aa"},{n:["performing arts","performing_arts"],u:"1f3ad"},{n:["frame_with_picture"],u:"1f5bc-fe0f"},{n:["artist palette","art"],u:"1f3a8"},{n:["slot machine","slot_machine"],u:"1f3b0"},{n:["steam locomotive","steam_locomotive"],u:"1f682"},{n:["railway car","railway_car"],u:"1f683"},{n:["high-speed train","bullettrain_side"],u:"1f684"},{n:["high-speed train with bullet nose","bullettrain_front"],u:"1f685"},{n:["train","train2"],u:"1f686"},{n:["metro"],u:"1f687"},{n:["light rail","light_rail"],u:"1f688"},{n:["station"],u:"1f689"},{n:["tram"],u:"1f68a"},{n:["monorail"],u:"1f69d"},{n:["mountain railway","mountain_railway"],u:"1f69e"},{n:["tram car","train"],u:"1f68b"},{n:["bus"],u:"1f68c"},{n:["oncoming bus","oncoming_bus"],u:"1f68d"},{n:["trolleybus"],u:"1f68e"},{n:["minibus"],u:"1f690"},{n:["ambulance"],u:"1f691"},{n:["fire engine","fire_engine"],u:"1f692"},{n:["police car","police_car"],u:"1f693"},{n:["oncoming police car","oncoming_police_car"],u:"1f694"},{n:["taxi"],u:"1f695"},{n:["oncoming taxi","oncoming_taxi"],u:"1f696"},{n:["automobile","car","red_car"],u:"1f697"},{n:["oncoming automobile","oncoming_automobile"],u:"1f698"},{n:["recreational vehicle","blue_car"],u:"1f699"},{n:["delivery truck","truck"],u:"1f69a"},{n:["articulated lorry","articulated_lorry"],u:"1f69b"},{n:["tractor"],u:"1f69c"},{n:["bicycle","bike"],u:"1f6b2"},{n:["scooter"],u:"1f6f4"},{n:["motor scooter","motor_scooter"],u:"1f6f5"},{n:["bus stop","busstop"],u:"1f68f"},{n:["motorway"],u:"1f6e3-fe0f"},{n:["railway_track"],u:"1f6e4-fe0f"},{n:["fuel pump","fuelpump"],u:"26fd"},{n:["police cars revolving light","rotating_light"],u:"1f6a8"},{n:["horizontal traffic light","traffic_light"],u:"1f6a5"},{n:["vertical traffic light","vertical_traffic_light"],u:"1f6a6"},{n:["construction sign","construction"],u:"1f6a7"},{n:["octagonal sign","octagonal_sign"],u:"1f6d1"},{n:["anchor"],u:"2693"},{n:["sailboat","boat"],u:"26f5"},{n:["canoe"],u:"1f6f6"},{n:["speedboat"],u:"1f6a4"},{n:["passenger_ship"],u:"1f6f3-fe0f"},{n:["ferry"],u:"26f4-fe0f"},{n:["motor_boat"],u:"1f6e5-fe0f"},{n:["ship"],u:"1f6a2"},{n:["airplane"],u:"2708-fe0f"},{n:["small_airplane"],u:"1f6e9-fe0f"},{n:["airplane departure","airplane_departure"],u:"1f6eb"},{n:["airplane arriving","airplane_arriving"],u:"1f6ec"},{n:["seat"],u:"1f4ba"},{n:["helicopter"],u:"1f681"},{n:["suspension railway","suspension_railway"],u:"1f69f"},{n:["mountain cableway","mountain_cableway"],u:"1f6a0"},{n:["aerial tramway","aerial_tramway"],u:"1f6a1"},{n:["satellite"],u:"1f6f0-fe0f"},{n:["rocket"],u:"1f680"},{n:["flying saucer","flying_saucer"],u:"1f6f8"},{n:["bellhop_bell"],u:"1f6ce-fe0f"},{n:["door"],u:"1f6aa"},{n:["bed"],u:"1f6cf-fe0f"},{n:["couch_and_lamp"],u:"1f6cb-fe0f"},{n:["toilet"],u:"1f6bd"},{n:["shower"],u:"1f6bf"},{n:["bathtub"],u:"1f6c1"},{n:["hourglass"],u:"231b"},{n:["hourglass with flowing sand","hourglass_flowing_sand"],u:"23f3"},{n:["watch"],u:"231a"},{n:["alarm clock","alarm_clock"],u:"23f0"},{n:["stopwatch"],u:"23f1-fe0f"},{n:["timer_clock"],u:"23f2-fe0f"},{n:["mantelpiece_clock"],u:"1f570-fe0f"},{n:["clock face twelve oclock","clock12"],u:"1f55b"},{n:["clock face twelve-thirty","clock1230"],u:"1f567"},{n:["clock face one oclock","clock1"],u:"1f550"},{n:["clock face one-thirty","clock130"],u:"1f55c"},{n:["clock face two oclock","clock2"],u:"1f551"},{n:["clock face two-thirty","clock230"],u:"1f55d"},{n:["clock face three oclock","clock3"],u:"1f552"},{n:["clock face three-thirty","clock330"],u:"1f55e"},{n:["clock face four oclock","clock4"],u:"1f553"},{n:["clock face four-thirty","clock430"],u:"1f55f"},{n:["clock face five oclock","clock5"],u:"1f554"},{n:["clock face five-thirty","clock530"],u:"1f560"},{n:["clock face six oclock","clock6"],u:"1f555"},{n:["clock face six-thirty","clock630"],u:"1f561"},{n:["clock face seven oclock","clock7"],u:"1f556"},{n:["clock face seven-thirty","clock730"],u:"1f562"},{n:["clock face eight oclock","clock8"],u:"1f557"},{n:["clock face eight-thirty","clock830"],u:"1f563"},{n:["clock face nine oclock","clock9"],u:"1f558"},{n:["clock face nine-thirty","clock930"],u:"1f564"},{n:["clock face ten oclock","clock10"],u:"1f559"},{n:["clock face ten-thirty","clock1030"],u:"1f565"},{n:["clock face eleven oclock","clock11"],u:"1f55a"},{n:["clock face eleven-thirty","clock1130"],u:"1f566"},{n:["new moon symbol","new_moon"],u:"1f311"},{n:["waxing crescent moon symbol","waxing_crescent_moon"],u:"1f312"},{n:["first quarter moon symbol","first_quarter_moon"],u:"1f313"},{n:["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],u:"1f314"},{n:["full moon symbol","full_moon"],u:"1f315"},{n:["waning gibbous moon symbol","waning_gibbous_moon"],u:"1f316"},{n:["last quarter moon symbol","last_quarter_moon"],u:"1f317"},{n:["waning crescent moon symbol","waning_crescent_moon"],u:"1f318"},{n:["crescent moon","crescent_moon"],u:"1f319"},{n:["new moon with face","new_moon_with_face"],u:"1f31a"},{n:["first quarter moon with face","first_quarter_moon_with_face"],u:"1f31b"},{n:["last quarter moon with face","last_quarter_moon_with_face"],u:"1f31c"},{n:["thermometer"],u:"1f321-fe0f"},{n:["black sun with rays","sunny"],u:"2600-fe0f"},{n:["full moon with face","full_moon_with_face"],u:"1f31d"},{n:["sun with face","sun_with_face"],u:"1f31e"},{n:["white medium star","star"],u:"2b50"},{n:["glowing star","star2"],u:"1f31f"},{n:["shooting star","stars"],u:"1f320"},{n:["cloud"],u:"2601-fe0f"},{n:["sun behind cloud","partly_sunny"],u:"26c5"},{n:["thunder_cloud_and_rain"],u:"26c8-fe0f"},{n:["mostly_sunny","sun_small_cloud"],u:"1f324-fe0f"},{n:["barely_sunny","sun_behind_cloud"],u:"1f325-fe0f"},{n:["partly_sunny_rain","sun_behind_rain_cloud"],u:"1f326-fe0f"},{n:["rain_cloud"],u:"1f327-fe0f"},{n:["snow_cloud"],u:"1f328-fe0f"},{n:["lightning","lightning_cloud"],u:"1f329-fe0f"},{n:["tornado","tornado_cloud"],u:"1f32a-fe0f"},{n:["fog"],u:"1f32b-fe0f"},{n:["wind_blowing_face"],u:"1f32c-fe0f"},{n:["cyclone"],u:"1f300"},{n:["rainbow"],u:"1f308"},{n:["closed umbrella","closed_umbrella"],u:"1f302"},{n:["umbrella"],u:"2602-fe0f"},{n:["umbrella with rain drops","umbrella_with_rain_drops"],u:"2614"},{n:["umbrella_on_ground"],u:"26f1-fe0f"},{n:["high voltage sign","zap"],u:"26a1"},{n:["snowflake"],u:"2744-fe0f"},{n:["snowman"],u:"2603-fe0f"},{n:["snowman without snow","snowman_without_snow"],u:"26c4"},{n:["comet"],u:"2604-fe0f"},{n:["fire"],u:"1f525"},{n:["droplet"],u:"1f4a7"},{n:["water wave","ocean"],u:"1f30a"}],objects:[{n:["speaker with cancellation stroke","mute"],u:"1f507"},{n:["speaker"],u:"1f508"},{n:["speaker with one sound wave","sound"],u:"1f509"},{n:["speaker with three sound waves","loud_sound"],u:"1f50a"},{n:["public address loudspeaker","loudspeaker"],u:"1f4e2"},{n:["cheering megaphone","mega"],u:"1f4e3"},{n:["postal horn","postal_horn"],u:"1f4ef"},{n:["bell"],u:"1f514"},{n:["bell with cancellation stroke","no_bell"],u:"1f515"},{n:["musical score","musical_score"],u:"1f3bc"},{n:["musical note","musical_note"],u:"1f3b5"},{n:["multiple musical notes","notes"],u:"1f3b6"},{n:["studio_microphone"],u:"1f399-fe0f"},{n:["level_slider"],u:"1f39a-fe0f"},{n:["control_knobs"],u:"1f39b-fe0f"},{n:["microphone"],u:"1f3a4"},{n:["headphone","headphones"],u:"1f3a7"},{n:["radio"],u:"1f4fb"},{n:["saxophone"],u:"1f3b7"},{n:["guitar"],u:"1f3b8"},{n:["musical keyboard","musical_keyboard"],u:"1f3b9"},{n:["trumpet"],u:"1f3ba"},{n:["violin"],u:"1f3bb"},{n:["drum with drumsticks","drum_with_drumsticks"],u:"1f941"},{n:["mobile phone","iphone"],u:"1f4f1"},{n:["mobile phone with rightwards arrow at left","calling"],u:"1f4f2"},{n:["black telephone","phone","telephone"],u:"260e-fe0f"},{n:["telephone receiver","telephone_receiver"],u:"1f4de"},{n:["pager"],u:"1f4df"},{n:["fax machine","fax"],u:"1f4e0"},{n:["battery"],u:"1f50b"},{n:["electric plug","electric_plug"],u:"1f50c"},{n:["personal computer","computer"],u:"1f4bb"},{n:["desktop_computer"],u:"1f5a5-fe0f"},{n:["printer"],u:"1f5a8-fe0f"},{n:["keyboard"],u:"2328-fe0f"},{n:["three_button_mouse"],u:"1f5b1-fe0f"},{n:["trackball"],u:"1f5b2-fe0f"},{n:["minidisc"],u:"1f4bd"},{n:["floppy disk","floppy_disk"],u:"1f4be"},{n:["optical disc","cd"],u:"1f4bf"},{n:["dvd"],u:"1f4c0"},{n:["movie camera","movie_camera"],u:"1f3a5"},{n:["film_frames"],u:"1f39e-fe0f"},{n:["film_projector"],u:"1f4fd-fe0f"},{n:["clapper board","clapper"],u:"1f3ac"},{n:["television","tv"],u:"1f4fa"},{n:["camera"],u:"1f4f7"},{n:["camera with flash","camera_with_flash"],u:"1f4f8"},{n:["video camera","video_camera"],u:"1f4f9"},{n:["videocassette","vhs"],u:"1f4fc"},{n:["left-pointing magnifying glass","mag"],u:"1f50d"},{n:["right-pointing magnifying glass","mag_right"],u:"1f50e"},{n:["microscope"],u:"1f52c"},{n:["telescope"],u:"1f52d"},{n:["satellite antenna","satellite_antenna"],u:"1f4e1"},{n:["candle"],u:"1f56f-fe0f"},{n:["electric light bulb","bulb"],u:"1f4a1"},{n:["electric torch","flashlight"],u:"1f526"},{n:["izakaya lantern","izakaya_lantern","lantern"],u:"1f3ee"},{n:["notebook with decorative cover","notebook_with_decorative_cover"],u:"1f4d4"},{n:["closed book","closed_book"],u:"1f4d5"},{n:["open book","book","open_book"],u:"1f4d6"},{n:["green book","green_book"],u:"1f4d7"},{n:["blue book","blue_book"],u:"1f4d8"},{n:["orange book","orange_book"],u:"1f4d9"},{n:["books"],u:"1f4da"},{n:["notebook"],u:"1f4d3"},{n:["ledger"],u:"1f4d2"},{n:["page with curl","page_with_curl"],u:"1f4c3"},{n:["scroll"],u:"1f4dc"},{n:["page facing up","page_facing_up"],u:"1f4c4"},{n:["newspaper"],u:"1f4f0"},{n:["rolled_up_newspaper"],u:"1f5de-fe0f"},{n:["bookmark tabs","bookmark_tabs"],u:"1f4d1"},{n:["bookmark"],u:"1f516"},{n:["label"],u:"1f3f7-fe0f"},{n:["money bag","moneybag"],u:"1f4b0"},{n:["banknote with yen sign","yen"],u:"1f4b4"},{n:["banknote with dollar sign","dollar"],u:"1f4b5"},{n:["banknote with euro sign","euro"],u:"1f4b6"},{n:["banknote with pound sign","pound"],u:"1f4b7"},{n:["money with wings","money_with_wings"],u:"1f4b8"},{n:["credit card","credit_card"],u:"1f4b3"},{n:["chart with upwards trend and yen sign","chart"],u:"1f4b9"},{n:["currency exchange","currency_exchange"],u:"1f4b1"},{n:["heavy dollar sign","heavy_dollar_sign"],u:"1f4b2"},{n:["envelope","email"],u:"2709-fe0f"},{n:["e-mail symbol","e-mail"],u:"1f4e7"},{n:["incoming envelope","incoming_envelope"],u:"1f4e8"},{n:["envelope with downwards arrow above","envelope_with_arrow"],u:"1f4e9"},{n:["outbox tray","outbox_tray"],u:"1f4e4"},{n:["inbox tray","inbox_tray"],u:"1f4e5"},{n:["package"],u:"1f4e6"},{n:["closed mailbox with raised flag","mailbox"],u:"1f4eb"},{n:["closed mailbox with lowered flag","mailbox_closed"],u:"1f4ea"},{n:["open mailbox with raised flag","mailbox_with_mail"],u:"1f4ec"},{n:["open mailbox with lowered flag","mailbox_with_no_mail"],u:"1f4ed"},{n:["postbox"],u:"1f4ee"},{n:["ballot_box_with_ballot"],u:"1f5f3-fe0f"},{n:["pencil","pencil2"],u:"270f-fe0f"},{n:["black nib","black_nib"],u:"2712-fe0f"},{n:["lower_left_fountain_pen"],u:"1f58b-fe0f"},{n:["lower_left_ballpoint_pen"],u:"1f58a-fe0f"},{n:["lower_left_paintbrush"],u:"1f58c-fe0f"},{n:["lower_left_crayon"],u:"1f58d-fe0f"},{n:["memo","pencil"],u:"1f4dd"},{n:["briefcase"],u:"1f4bc"},{n:["file folder","file_folder"],u:"1f4c1"},{n:["open file folder","open_file_folder"],u:"1f4c2"},{n:["card_index_dividers"],u:"1f5c2-fe0f"},{n:["calendar","date"],u:"1f4c5"},{n:["tear-off calendar","calendar"],u:"1f4c6"},{n:["spiral_note_pad"],u:"1f5d2-fe0f"},{n:["spiral_calendar_pad"],u:"1f5d3-fe0f"},{n:["card index","card_index"],u:"1f4c7"},{n:["chart with upwards trend","chart_with_upwards_trend"],u:"1f4c8"},{n:["chart with downwards trend","chart_with_downwards_trend"],u:"1f4c9"},{n:["bar chart","bar_chart"],u:"1f4ca"},{n:["clipboard"],u:"1f4cb"},{n:["pushpin"],u:"1f4cc"},{n:["round pushpin","round_pushpin"],u:"1f4cd"},{n:["paperclip"],u:"1f4ce"},{n:["linked_paperclips"],u:"1f587-fe0f"},{n:["straight ruler","straight_ruler"],u:"1f4cf"},{n:["triangular ruler","triangular_ruler"],u:"1f4d0"},{n:["black scissors","scissors"],u:"2702-fe0f"},{n:["card_file_box"],u:"1f5c3-fe0f"},{n:["file_cabinet"],u:"1f5c4-fe0f"},{n:["wastebasket"],u:"1f5d1-fe0f"},{n:["lock"],u:"1f512"},{n:["open lock","unlock"],u:"1f513"},{n:["lock with ink pen","lock_with_ink_pen"],u:"1f50f"},{n:["closed lock with key","closed_lock_with_key"],u:"1f510"},{n:["key"],u:"1f511"},{n:["old_key"],u:"1f5dd-fe0f"},{n:["hammer"],u:"1f528"},{n:["pick"],u:"26cf-fe0f"},{n:["hammer_and_pick"],u:"2692-fe0f"},{n:["hammer_and_wrench"],u:"1f6e0-fe0f"},{n:["dagger_knife"],u:"1f5e1-fe0f"},{n:["crossed_swords"],u:"2694-fe0f"},{n:["pistol","gun"],u:"1f52b"},{n:["bow and arrow","bow_and_arrow"],u:"1f3f9"},{n:["shield"],u:"1f6e1-fe0f"},{n:["wrench"],u:"1f527"},{n:["nut and bolt","nut_and_bolt"],u:"1f529"},{n:["gear"],u:"2699-fe0f"},{n:["compression"],u:"1f5dc-fe0f"},{n:["alembic"],u:"2697-fe0f"},{n:["scales"],u:"2696-fe0f"},{n:["link symbol","link"],u:"1f517"},{n:["chains"],u:"26d3-fe0f"},{n:["syringe"],u:"1f489"},{n:["pill"],u:"1f48a"},{n:["smoking symbol","smoking"],u:"1f6ac"},{n:["coffin"],u:"26b0-fe0f"},{n:["funeral_urn"],u:"26b1-fe0f"},{n:["moyai"],u:"1f5ff"},{n:["oil_drum"],u:"1f6e2-fe0f"},{n:["crystal ball","crystal_ball"],u:"1f52e"},{n:["shopping trolley","shopping_trolley"],u:"1f6d2"}],symbols:[{n:["automated teller machine","atm"],u:"1f3e7"},{n:["put litter in its place symbol","put_litter_in_its_place"],u:"1f6ae"},{n:["potable water symbol","potable_water"],u:"1f6b0"},{n:["wheelchair symbol","wheelchair"],u:"267f"},{n:["mens symbol","mens"],u:"1f6b9"},{n:["womens symbol","womens"],u:"1f6ba"},{n:["restroom"],u:"1f6bb"},{n:["baby symbol","baby_symbol"],u:"1f6bc"},{n:["water closet","wc"],u:"1f6be"},{n:["passport control","passport_control"],u:"1f6c2"},{n:["customs"],u:"1f6c3"},{n:["baggage claim","baggage_claim"],u:"1f6c4"},{n:["left luggage","left_luggage"],u:"1f6c5"},{n:["warning sign","warning"],u:"26a0-fe0f"},{n:["children crossing","children_crossing"],u:"1f6b8"},{n:["no entry","no_entry"],u:"26d4"},{n:["no entry sign","no_entry_sign"],u:"1f6ab"},{n:["no bicycles","no_bicycles"],u:"1f6b3"},{n:["no smoking symbol","no_smoking"],u:"1f6ad"},{n:["do not litter symbol","do_not_litter"],u:"1f6af"},{n:["non-potable water symbol","non-potable_water"],u:"1f6b1"},{n:["no pedestrians","no_pedestrians"],u:"1f6b7"},{n:["no mobile phones","no_mobile_phones"],u:"1f4f5"},{n:["no one under eighteen symbol","underage"],u:"1f51e"},{n:["radioactive_sign"],u:"2622-fe0f"},{n:["biohazard_sign"],u:"2623-fe0f"},{n:["upwards black arrow","arrow_up"],u:"2b06-fe0f"},{n:["north east arrow","arrow_upper_right"],u:"2197-fe0f"},{n:["black rightwards arrow","arrow_right"],u:"27a1-fe0f"},{n:["south east arrow","arrow_lower_right"],u:"2198-fe0f"},{n:["downwards black arrow","arrow_down"],u:"2b07-fe0f"},{n:["south west arrow","arrow_lower_left"],u:"2199-fe0f"},{n:["leftwards black arrow","arrow_left"],u:"2b05-fe0f"},{n:["north west arrow","arrow_upper_left"],u:"2196-fe0f"},{n:["up down arrow","arrow_up_down"],u:"2195-fe0f"},{n:["left right arrow","left_right_arrow"],u:"2194-fe0f"},{n:["leftwards arrow with hook","leftwards_arrow_with_hook"],u:"21a9-fe0f"},{n:["rightwards arrow with hook","arrow_right_hook"],u:"21aa-fe0f"},{n:["arrow pointing rightwards then curving upwards","arrow_heading_up"],u:"2934-fe0f"},{n:["arrow pointing rightwards then curving downwards","arrow_heading_down"],u:"2935-fe0f"},{n:["clockwise downwards and upwards open circle arrows","arrows_clockwise"],u:"1f503"},{n:["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],u:"1f504"},{n:["back with leftwards arrow above","back"],u:"1f519"},{n:["end with leftwards arrow above","end"],u:"1f51a"},{n:["on with exclamation mark with left right arrow above","on"],u:"1f51b"},{n:["soon with rightwards arrow above","soon"],u:"1f51c"},{n:["top with upwards arrow above","top"],u:"1f51d"},{n:["place of worship","place_of_worship"],u:"1f6d0"},{n:["atom_symbol"],u:"269b-fe0f"},{n:["om_symbol"],u:"1f549-fe0f"},{n:["star_of_david"],u:"2721-fe0f"},{n:["wheel_of_dharma"],u:"2638-fe0f"},{n:["yin_yang"],u:"262f-fe0f"},{n:["latin_cross"],u:"271d-fe0f"},{n:["orthodox_cross"],u:"2626-fe0f"},{n:["star_and_crescent"],u:"262a-fe0f"},{n:["peace_symbol"],u:"262e-fe0f"},{n:["menorah with nine branches","menorah_with_nine_branches"],u:"1f54e"},{n:["six pointed star with middle dot","six_pointed_star"],u:"1f52f"},{n:["aries"],u:"2648"},{n:["taurus"],u:"2649"},{n:["gemini"],u:"264a"},{n:["cancer"],u:"264b"},{n:["leo"],u:"264c"},{n:["virgo"],u:"264d"},{n:["libra"],u:"264e"},{n:["scorpius"],u:"264f"},{n:["sagittarius"],u:"2650"},{n:["capricorn"],u:"2651"},{n:["aquarius"],u:"2652"},{n:["pisces"],u:"2653"},{n:["ophiuchus"],u:"26ce"},{n:["twisted rightwards arrows","twisted_rightwards_arrows"],u:"1f500"},{n:["clockwise rightwards and leftwards open circle arrows","repeat"],u:"1f501"},{n:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],u:"1f502"},{n:["black right-pointing triangle","arrow_forward"],u:"25b6-fe0f"},{n:["black right-pointing double triangle","fast_forward"],u:"23e9"},{n:["black_right_pointing_double_triangle_with_vertical_bar"],u:"23ed-fe0f"},{n:["black_right_pointing_triangle_with_double_vertical_bar"],u:"23ef-fe0f"},{n:["black left-pointing triangle","arrow_backward"],u:"25c0-fe0f"},{n:["black left-pointing double triangle","rewind"],u:"23ea"},{n:["black_left_pointing_double_triangle_with_vertical_bar"],u:"23ee-fe0f"},{n:["up-pointing small red triangle","arrow_up_small"],u:"1f53c"},{n:["black up-pointing double triangle","arrow_double_up"],u:"23eb"},{n:["down-pointing small red triangle","arrow_down_small"],u:"1f53d"},{n:["black down-pointing double triangle","arrow_double_down"],u:"23ec"},{n:["double_vertical_bar"],u:"23f8-fe0f"},{n:["black_square_for_stop"],u:"23f9-fe0f"},{n:["black_circle_for_record"],u:"23fa-fe0f"},{n:["eject"],u:"23cf-fe0f"},{n:["cinema"],u:"1f3a6"},{n:["low brightness symbol","low_brightness"],u:"1f505"},{n:["high brightness symbol","high_brightness"],u:"1f506"},{n:["antenna with bars","signal_strength"],u:"1f4f6"},{n:["vibration mode","vibration_mode"],u:"1f4f3"},{n:["mobile phone off","mobile_phone_off"],u:"1f4f4"},{n:["female_sign"],u:"2640-fe0f"},{n:["male_sign"],u:"2642-fe0f"},{n:["medical_symbol","staff_of_aesculapius"],u:"2695-fe0f"},{n:["black universal recycling symbol","recycle"],u:"267b-fe0f"},{n:["fleur_de_lis"],u:"269c-fe0f"},{n:["trident emblem","trident"],u:"1f531"},{n:["name badge","name_badge"],u:"1f4db"},{n:["japanese symbol for beginner","beginner"],u:"1f530"},{n:["heavy large circle","o"],u:"2b55"},{n:["white heavy check mark","white_check_mark"],u:"2705"},{n:["ballot box with check","ballot_box_with_check"],u:"2611-fe0f"},{n:["heavy check mark","heavy_check_mark"],u:"2714-fe0f"},{n:["heavy multiplication x","heavy_multiplication_x"],u:"2716-fe0f"},{n:["cross mark","x"],u:"274c"},{n:["negative squared cross mark","negative_squared_cross_mark"],u:"274e"},{n:["heavy plus sign","heavy_plus_sign"],u:"2795"},{n:["heavy minus sign","heavy_minus_sign"],u:"2796"},{n:["heavy division sign","heavy_division_sign"],u:"2797"},{n:["curly loop","curly_loop"],u:"27b0"},{n:["double curly loop","loop"],u:"27bf"},{n:["part alternation mark","part_alternation_mark"],u:"303d-fe0f"},{n:["eight spoked asterisk","eight_spoked_asterisk"],u:"2733-fe0f"},{n:["eight pointed black star","eight_pointed_black_star"],u:"2734-fe0f"},{n:["sparkle"],u:"2747-fe0f"},{n:["double exclamation mark","bangbang"],u:"203c-fe0f"},{n:["exclamation question mark","interrobang"],u:"2049-fe0f"},{n:["black question mark ornament","question"],u:"2753"},{n:["white question mark ornament","grey_question"],u:"2754"},{n:["white exclamation mark ornament","grey_exclamation"],u:"2755"},{n:["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],u:"2757"},{n:["wavy dash","wavy_dash"],u:"3030-fe0f"},{n:["copyright sign","copyright"],u:"00a9-fe0f"},{n:["registered sign","registered"],u:"00ae-fe0f"},{n:["trade mark sign","tm"],u:"2122-fe0f"},{n:["hash key","hash"],u:"0023-fe0f-20e3"},{n:["keycap_star"],u:"002a-fe0f-20e3"},{n:["keycap 0","zero"],u:"0030-fe0f-20e3"},{n:["keycap 1","one"],u:"0031-fe0f-20e3"},{n:["keycap 2","two"],u:"0032-fe0f-20e3"},{n:["keycap 3","three"],u:"0033-fe0f-20e3"},{n:["keycap 4","four"],u:"0034-fe0f-20e3"},{n:["keycap 5","five"],u:"0035-fe0f-20e3"},{n:["keycap 6","six"],u:"0036-fe0f-20e3"},{n:["keycap 7","seven"],u:"0037-fe0f-20e3"},{n:["keycap 8","eight"],u:"0038-fe0f-20e3"},{n:["keycap 9","nine"],u:"0039-fe0f-20e3"},{n:["keycap ten","keycap_ten"],u:"1f51f"},{n:["hundred points symbol","100"],u:"1f4af"},{n:["input symbol for latin capital letters","capital_abcd"],u:"1f520"},{n:["input symbol for latin small letters","abcd"],u:"1f521"},{n:["input symbol for numbers","1234"],u:"1f522"},{n:["input symbol for symbols","symbols"],u:"1f523"},{n:["input symbol for latin letters","abc"],u:"1f524"},{n:["negative squared latin capital letter a","a"],u:"1f170-fe0f"},{n:["negative squared ab","ab"],u:"1f18e"},{n:["negative squared latin capital letter b","b"],u:"1f171-fe0f"},{n:["squared cl","cl"],u:"1f191"},{n:["squared cool","cool"],u:"1f192"},{n:["squared free","free"],u:"1f193"},{n:["information source","information_source"],u:"2139-fe0f"},{n:["squared id","id"],u:"1f194"},{n:["circled latin capital letter m","m"],u:"24c2-fe0f"},{n:["squared new","new"],u:"1f195"},{n:["squared ng","ng"],u:"1f196"},{n:["negative squared latin capital letter o","o2"],u:"1f17e-fe0f"},{n:["squared ok","ok"],u:"1f197"},{n:["negative squared latin capital letter p","parking"],u:"1f17f-fe0f"},{n:["squared sos","sos"],u:"1f198"},{n:["squared up with exclamation mark","up"],u:"1f199"},{n:["squared vs","vs"],u:"1f19a"},{n:["squared katakana koko","koko"],u:"1f201"},{n:["squared katakana sa","sa"],u:"1f202-fe0f"},{n:["squared cjk unified ideograph-6708","u6708"],u:"1f237-fe0f"},{n:["squared cjk unified ideograph-6709","u6709"],u:"1f236"},{n:["squared cjk unified ideograph-6307","u6307"],u:"1f22f"},{n:["circled ideograph advantage","ideograph_advantage"],u:"1f250"},{n:["squared cjk unified ideograph-5272","u5272"],u:"1f239"},{n:["squared cjk unified ideograph-7121","u7121"],u:"1f21a"},{n:["squared cjk unified ideograph-7981","u7981"],u:"1f232"},{n:["circled ideograph accept","accept"],u:"1f251"},{n:["squared cjk unified ideograph-7533","u7533"],u:"1f238"},{n:["squared cjk unified ideograph-5408","u5408"],u:"1f234"},{n:["squared cjk unified ideograph-7a7a","u7a7a"],u:"1f233"},{n:["circled ideograph congratulation","congratulations"],u:"3297-fe0f"},{n:["circled ideograph secret","secret"],u:"3299-fe0f"},{n:["squared cjk unified ideograph-55b6","u55b6"],u:"1f23a"},{n:["squared cjk unified ideograph-6e80","u6e80"],u:"1f235"},{n:["black small square","black_small_square"],u:"25aa-fe0f"},{n:["white small square","white_small_square"],u:"25ab-fe0f"},{n:["white medium square","white_medium_square"],u:"25fb-fe0f"},{n:["black medium square","black_medium_square"],u:"25fc-fe0f"},{n:["white medium small square","white_medium_small_square"],u:"25fd"},{n:["black medium small square","black_medium_small_square"],u:"25fe"},{n:["black large square","black_large_square"],u:"2b1b"},{n:["white large square","white_large_square"],u:"2b1c"},{n:["large orange diamond","large_orange_diamond"],u:"1f536"},{n:["large blue diamond","large_blue_diamond"],u:"1f537"},{n:["small orange diamond","small_orange_diamond"],u:"1f538"},{n:["small blue diamond","small_blue_diamond"],u:"1f539"},{n:["up-pointing red triangle","small_red_triangle"],u:"1f53a"},{n:["down-pointing red triangle","small_red_triangle_down"],u:"1f53b"},{n:["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],u:"1f4a0"},{n:["radio button","radio_button"],u:"1f518"},{n:["black square button","black_square_button"],u:"1f532"},{n:["white square button","white_square_button"],u:"1f533"},{n:["medium white circle","white_circle"],u:"26aa"},{n:["medium black circle","black_circle"],u:"26ab"},{n:["large red circle","red_circle"],u:"1f534"},{n:["large blue circle","large_blue_circle"],u:"1f535"}],flags:[{n:["chequered flag","checkered_flag"],u:"1f3c1"},{n:["triangular flag on post","triangular_flag_on_post"],u:"1f6a9"},{n:["crossed flags","crossed_flags"],u:"1f38c"},{n:["waving black flag","waving_black_flag"],u:"1f3f4"},{n:["waving_white_flag"],u:"1f3f3-fe0f"},{n:["rainbow-flag"],u:"1f3f3-fe0f-200d-1f308"},{n:["ascension island flag","flag-ac"],u:"1f1e6-1f1e8"},{n:["andorra flag","flag-ad"],u:"1f1e6-1f1e9"},{n:["united arab emirates flag","flag-ae"],u:"1f1e6-1f1ea"},{n:["afghanistan flag","flag-af"],u:"1f1e6-1f1eb"},{n:["antigua & barbuda flag","flag-ag"],u:"1f1e6-1f1ec"},{n:["anguilla flag","flag-ai"],u:"1f1e6-1f1ee"},{n:["albania flag","flag-al"],u:"1f1e6-1f1f1"},{n:["armenia flag","flag-am"],u:"1f1e6-1f1f2"},{n:["angola flag","flag-ao"],u:"1f1e6-1f1f4"},{n:["antarctica flag","flag-aq"],u:"1f1e6-1f1f6"},{n:["argentina flag","flag-ar"],u:"1f1e6-1f1f7"},{n:["american samoa flag","flag-as"],u:"1f1e6-1f1f8"},{n:["austria flag","flag-at"],u:"1f1e6-1f1f9"},{n:["australia flag","flag-au"],u:"1f1e6-1f1fa"},{n:["aruba flag","flag-aw"],u:"1f1e6-1f1fc"},{n:["åland islands flag","flag-ax"],u:"1f1e6-1f1fd"},{n:["azerbaijan flag","flag-az"],u:"1f1e6-1f1ff"},{n:["bosnia & herzegovina flag","flag-ba"],u:"1f1e7-1f1e6"},{n:["barbados flag","flag-bb"],u:"1f1e7-1f1e7"},{n:["bangladesh flag","flag-bd"],u:"1f1e7-1f1e9"},{n:["belgium flag","flag-be"],u:"1f1e7-1f1ea"},{n:["burkina faso flag","flag-bf"],u:"1f1e7-1f1eb"},{n:["bulgaria flag","flag-bg"],u:"1f1e7-1f1ec"},{n:["bahrain flag","flag-bh"],u:"1f1e7-1f1ed"},{n:["burundi flag","flag-bi"],u:"1f1e7-1f1ee"},{n:["benin flag","flag-bj"],u:"1f1e7-1f1ef"},{n:["st. barthélemy flag","flag-bl"],u:"1f1e7-1f1f1"},{n:["bermuda flag","flag-bm"],u:"1f1e7-1f1f2"},{n:["brunei flag","flag-bn"],u:"1f1e7-1f1f3"},{n:["bolivia flag","flag-bo"],u:"1f1e7-1f1f4"},{n:["caribbean netherlands flag","flag-bq"],u:"1f1e7-1f1f6"},{n:["brazil flag","flag-br"],u:"1f1e7-1f1f7"},{n:["bahamas flag","flag-bs"],u:"1f1e7-1f1f8"},{n:["bhutan flag","flag-bt"],u:"1f1e7-1f1f9"},{n:["bouvet island flag","flag-bv"],u:"1f1e7-1f1fb"},{n:["botswana flag","flag-bw"],u:"1f1e7-1f1fc"},{n:["belarus flag","flag-by"],u:"1f1e7-1f1fe"},{n:["belize flag","flag-bz"],u:"1f1e7-1f1ff"},{n:["canada flag","flag-ca"],u:"1f1e8-1f1e6"},{n:["cocos (keeling) islands flag","flag-cc"],u:"1f1e8-1f1e8"},{n:["congo - kinshasa flag","flag-cd"],u:"1f1e8-1f1e9"},{n:["central african republic flag","flag-cf"],u:"1f1e8-1f1eb"},{n:["congo - brazzaville flag","flag-cg"],u:"1f1e8-1f1ec"},{n:["switzerland flag","flag-ch"],u:"1f1e8-1f1ed"},{n:["côte d’ivoire flag","flag-ci"],u:"1f1e8-1f1ee"},{n:["cook islands flag","flag-ck"],u:"1f1e8-1f1f0"},{n:["chile flag","flag-cl"],u:"1f1e8-1f1f1"},{n:["cameroon flag","flag-cm"],u:"1f1e8-1f1f2"},{n:["china flag","cn","flag-cn"],u:"1f1e8-1f1f3"},{n:["colombia flag","flag-co"],u:"1f1e8-1f1f4"},{n:["clipperton island flag","flag-cp"],u:"1f1e8-1f1f5"},{n:["costa rica flag","flag-cr"],u:"1f1e8-1f1f7"},{n:["cuba flag","flag-cu"],u:"1f1e8-1f1fa"},{n:["cape verde flag","flag-cv"],u:"1f1e8-1f1fb"},{n:["curaçao flag","flag-cw"],u:"1f1e8-1f1fc"},{n:["christmas island flag","flag-cx"],u:"1f1e8-1f1fd"},{n:["cyprus flag","flag-cy"],u:"1f1e8-1f1fe"},{n:["czechia flag","flag-cz"],u:"1f1e8-1f1ff"},{n:["germany flag","de","flag-de"],u:"1f1e9-1f1ea"},{n:["diego garcia flag","flag-dg"],u:"1f1e9-1f1ec"},{n:["djibouti flag","flag-dj"],u:"1f1e9-1f1ef"},{n:["denmark flag","flag-dk"],u:"1f1e9-1f1f0"},{n:["dominica flag","flag-dm"],u:"1f1e9-1f1f2"},{n:["dominican republic flag","flag-do"],u:"1f1e9-1f1f4"},{n:["algeria flag","flag-dz"],u:"1f1e9-1f1ff"},{n:["ceuta & melilla flag","flag-ea"],u:"1f1ea-1f1e6"},{n:["ecuador flag","flag-ec"],u:"1f1ea-1f1e8"},{n:["estonia flag","flag-ee"],u:"1f1ea-1f1ea"},{n:["egypt flag","flag-eg"],u:"1f1ea-1f1ec"},{n:["western sahara flag","flag-eh"],u:"1f1ea-1f1ed"},{n:["eritrea flag","flag-er"],u:"1f1ea-1f1f7"},{n:["spain flag","es","flag-es"],u:"1f1ea-1f1f8"},{n:["ethiopia flag","flag-et"],u:"1f1ea-1f1f9"},{n:["european union flag","flag-eu"],u:"1f1ea-1f1fa"},{n:["finland flag","flag-fi"],u:"1f1eb-1f1ee"},{n:["fiji flag","flag-fj"],u:"1f1eb-1f1ef"},{n:["falkland islands flag","flag-fk"],u:"1f1eb-1f1f0"},{n:["micronesia flag","flag-fm"],u:"1f1eb-1f1f2"},{n:["faroe islands flag","flag-fo"],u:"1f1eb-1f1f4"},{n:["france flag","fr","flag-fr"],u:"1f1eb-1f1f7"},{n:["gabon flag","flag-ga"],u:"1f1ec-1f1e6"},{n:["united kingdom flag","gb","uk","flag-gb"],u:"1f1ec-1f1e7"},{n:["grenada flag","flag-gd"],u:"1f1ec-1f1e9"},{n:["georgia flag","flag-ge"],u:"1f1ec-1f1ea"},{n:["french guiana flag","flag-gf"],u:"1f1ec-1f1eb"},{n:["guernsey flag","flag-gg"],u:"1f1ec-1f1ec"},{n:["ghana flag","flag-gh"],u:"1f1ec-1f1ed"},{n:["gibraltar flag","flag-gi"],u:"1f1ec-1f1ee"},{n:["greenland flag","flag-gl"],u:"1f1ec-1f1f1"},{n:["gambia flag","flag-gm"],u:"1f1ec-1f1f2"},{n:["guinea flag","flag-gn"],u:"1f1ec-1f1f3"},{n:["guadeloupe flag","flag-gp"],u:"1f1ec-1f1f5"},{n:["equatorial guinea flag","flag-gq"],u:"1f1ec-1f1f6"},{n:["greece flag","flag-gr"],u:"1f1ec-1f1f7"},{n:["south georgia & south sandwich islands flag","flag-gs"],u:"1f1ec-1f1f8"},{n:["guatemala flag","flag-gt"],u:"1f1ec-1f1f9"},{n:["guam flag","flag-gu"],u:"1f1ec-1f1fa"},{n:["guinea-bissau flag","flag-gw"],u:"1f1ec-1f1fc"},{n:["guyana flag","flag-gy"],u:"1f1ec-1f1fe"},{n:["hong kong sar china flag","flag-hk"],u:"1f1ed-1f1f0"},{n:["heard & mcdonald islands flag","flag-hm"],u:"1f1ed-1f1f2"},{n:["honduras flag","flag-hn"],u:"1f1ed-1f1f3"},{n:["croatia flag","flag-hr"],u:"1f1ed-1f1f7"},{n:["haiti flag","flag-ht"],u:"1f1ed-1f1f9"},{n:["hungary flag","flag-hu"],u:"1f1ed-1f1fa"},{n:["canary islands flag","flag-ic"],u:"1f1ee-1f1e8"},{n:["indonesia flag","flag-id"],u:"1f1ee-1f1e9"},{n:["ireland flag","flag-ie"],u:"1f1ee-1f1ea"},{n:["israel flag","flag-il"],u:"1f1ee-1f1f1"},{n:["isle of man flag","flag-im"],u:"1f1ee-1f1f2"},{n:["india flag","flag-in"],u:"1f1ee-1f1f3"},{n:["british indian ocean territory flag","flag-io"],u:"1f1ee-1f1f4"},{n:["iraq flag","flag-iq"],u:"1f1ee-1f1f6"},{n:["iran flag","flag-ir"],u:"1f1ee-1f1f7"},{n:["iceland flag","flag-is"],u:"1f1ee-1f1f8"},{n:["italy flag","it","flag-it"],u:"1f1ee-1f1f9"},{n:["jersey flag","flag-je"],u:"1f1ef-1f1ea"},{n:["jamaica flag","flag-jm"],u:"1f1ef-1f1f2"},{n:["jordan flag","flag-jo"],u:"1f1ef-1f1f4"},{n:["japan flag","jp","flag-jp"],u:"1f1ef-1f1f5"},{n:["kenya flag","flag-ke"],u:"1f1f0-1f1ea"},{n:["kyrgyzstan flag","flag-kg"],u:"1f1f0-1f1ec"},{n:["cambodia flag","flag-kh"],u:"1f1f0-1f1ed"},{n:["kiribati flag","flag-ki"],u:"1f1f0-1f1ee"},{n:["comoros flag","flag-km"],u:"1f1f0-1f1f2"},{n:["st. kitts & nevis flag","flag-kn"],u:"1f1f0-1f1f3"},{n:["north korea flag","flag-kp"],u:"1f1f0-1f1f5"},{n:["south korea flag","kr","flag-kr"],u:"1f1f0-1f1f7"},{n:["kuwait flag","flag-kw"],u:"1f1f0-1f1fc"},{n:["cayman islands flag","flag-ky"],u:"1f1f0-1f1fe"},{n:["kazakhstan flag","flag-kz"],u:"1f1f0-1f1ff"},{n:["laos flag","flag-la"],u:"1f1f1-1f1e6"},{n:["lebanon flag","flag-lb"],u:"1f1f1-1f1e7"},{n:["st. lucia flag","flag-lc"],u:"1f1f1-1f1e8"},{n:["liechtenstein flag","flag-li"],u:"1f1f1-1f1ee"},{n:["sri lanka flag","flag-lk"],u:"1f1f1-1f1f0"},{n:["liberia flag","flag-lr"],u:"1f1f1-1f1f7"},{n:["lesotho flag","flag-ls"],u:"1f1f1-1f1f8"},{n:["lithuania flag","flag-lt"],u:"1f1f1-1f1f9"},{n:["luxembourg flag","flag-lu"],u:"1f1f1-1f1fa"},{n:["latvia flag","flag-lv"],u:"1f1f1-1f1fb"},{n:["libya flag","flag-ly"],u:"1f1f1-1f1fe"},{n:["morocco flag","flag-ma"],u:"1f1f2-1f1e6"},{n:["monaco flag","flag-mc"],u:"1f1f2-1f1e8"},{n:["moldova flag","flag-md"],u:"1f1f2-1f1e9"},{n:["montenegro flag","flag-me"],u:"1f1f2-1f1ea"},{n:["st. martin flag","flag-mf"],u:"1f1f2-1f1eb"},{n:["madagascar flag","flag-mg"],u:"1f1f2-1f1ec"},{n:["marshall islands flag","flag-mh"],u:"1f1f2-1f1ed"},{n:["macedonia flag","flag-mk"],u:"1f1f2-1f1f0"},{n:["mali flag","flag-ml"],u:"1f1f2-1f1f1"},{n:["myanmar (burma) flag","flag-mm"],u:"1f1f2-1f1f2"},{n:["mongolia flag","flag-mn"],u:"1f1f2-1f1f3"},{n:["macau sar china flag","flag-mo"],u:"1f1f2-1f1f4"},{n:["northern mariana islands flag","flag-mp"],u:"1f1f2-1f1f5"},{n:["martinique flag","flag-mq"],u:"1f1f2-1f1f6"},{n:["mauritania flag","flag-mr"],u:"1f1f2-1f1f7"},{n:["montserrat flag","flag-ms"],u:"1f1f2-1f1f8"},{n:["malta flag","flag-mt"],u:"1f1f2-1f1f9"},{n:["mauritius flag","flag-mu"],u:"1f1f2-1f1fa"},{n:["maldives flag","flag-mv"],u:"1f1f2-1f1fb"},{n:["malawi flag","flag-mw"],u:"1f1f2-1f1fc"},{n:["mexico flag","flag-mx"],u:"1f1f2-1f1fd"},{n:["malaysia flag","flag-my"],u:"1f1f2-1f1fe"},{n:["mozambique flag","flag-mz"],u:"1f1f2-1f1ff"},{n:["namibia flag","flag-na"],u:"1f1f3-1f1e6"},{n:["new caledonia flag","flag-nc"],u:"1f1f3-1f1e8"},{n:["niger flag","flag-ne"],u:"1f1f3-1f1ea"},{n:["norfolk island flag","flag-nf"],u:"1f1f3-1f1eb"},{n:["nigeria flag","flag-ng"],u:"1f1f3-1f1ec"},{n:["nicaragua flag","flag-ni"],u:"1f1f3-1f1ee"},{n:["netherlands flag","flag-nl"],u:"1f1f3-1f1f1"},{n:["norway flag","flag-no"],u:"1f1f3-1f1f4"},{n:["nepal flag","flag-np"],u:"1f1f3-1f1f5"},{n:["nauru flag","flag-nr"],u:"1f1f3-1f1f7"},{n:["niue flag","flag-nu"],u:"1f1f3-1f1fa"},{n:["new zealand flag","flag-nz"],u:"1f1f3-1f1ff"},{n:["oman flag","flag-om"],u:"1f1f4-1f1f2"},{n:["panama flag","flag-pa"],u:"1f1f5-1f1e6"},{n:["peru flag","flag-pe"],u:"1f1f5-1f1ea"},{n:["french polynesia flag","flag-pf"],u:"1f1f5-1f1eb"},{n:["papua new guinea flag","flag-pg"],u:"1f1f5-1f1ec"},{n:["philippines flag","flag-ph"],u:"1f1f5-1f1ed"},{n:["pakistan flag","flag-pk"],u:"1f1f5-1f1f0"},{n:["poland flag","flag-pl"],u:"1f1f5-1f1f1"},{n:["st. pierre & miquelon flag","flag-pm"],u:"1f1f5-1f1f2"},{n:["pitcairn islands flag","flag-pn"],u:"1f1f5-1f1f3"},{n:["puerto rico flag","flag-pr"],u:"1f1f5-1f1f7"},{n:["palestinian territories flag","flag-ps"],u:"1f1f5-1f1f8"},{n:["portugal flag","flag-pt"],u:"1f1f5-1f1f9"},{n:["palau flag","flag-pw"],u:"1f1f5-1f1fc"},{n:["paraguay flag","flag-py"],u:"1f1f5-1f1fe"},{n:["qatar flag","flag-qa"],u:"1f1f6-1f1e6"},{n:["réunion flag","flag-re"],u:"1f1f7-1f1ea"},{n:["romania flag","flag-ro"],u:"1f1f7-1f1f4"},{n:["serbia flag","flag-rs"],u:"1f1f7-1f1f8"},{n:["russia flag","ru","flag-ru"],u:"1f1f7-1f1fa"},{n:["rwanda flag","flag-rw"],u:"1f1f7-1f1fc"},{n:["saudi arabia flag","flag-sa"],u:"1f1f8-1f1e6"},{n:["solomon islands flag","flag-sb"],u:"1f1f8-1f1e7"},{n:["seychelles flag","flag-sc"],u:"1f1f8-1f1e8"},{n:["sudan flag","flag-sd"],u:"1f1f8-1f1e9"},{n:["sweden flag","flag-se"],u:"1f1f8-1f1ea"},{n:["singapore flag","flag-sg"],u:"1f1f8-1f1ec"},{n:["st. helena flag","flag-sh"],u:"1f1f8-1f1ed"},{n:["slovenia flag","flag-si"],u:"1f1f8-1f1ee"},{n:["svalbard & jan mayen flag","flag-sj"],u:"1f1f8-1f1ef"},{n:["slovakia flag","flag-sk"],u:"1f1f8-1f1f0"},{n:["sierra leone flag","flag-sl"],u:"1f1f8-1f1f1"},{n:["san marino flag","flag-sm"],u:"1f1f8-1f1f2"},{n:["senegal flag","flag-sn"],u:"1f1f8-1f1f3"},{n:["somalia flag","flag-so"],u:"1f1f8-1f1f4"},{n:["suriname flag","flag-sr"],u:"1f1f8-1f1f7"},{n:["south sudan flag","flag-ss"],u:"1f1f8-1f1f8"},{n:["são tomé & príncipe flag","flag-st"],u:"1f1f8-1f1f9"},{n:["el salvador flag","flag-sv"],u:"1f1f8-1f1fb"},{n:["sint maarten flag","flag-sx"],u:"1f1f8-1f1fd"},{n:["syria flag","flag-sy"],u:"1f1f8-1f1fe"},{n:["swaziland flag","flag-sz"],u:"1f1f8-1f1ff"},{n:["tristan da cunha flag","flag-ta"],u:"1f1f9-1f1e6"},{n:["turks & caicos islands flag","flag-tc"],u:"1f1f9-1f1e8"},{n:["chad flag","flag-td"],u:"1f1f9-1f1e9"},{n:["french southern territories flag","flag-tf"],u:"1f1f9-1f1eb"},{n:["togo flag","flag-tg"],u:"1f1f9-1f1ec"},{n:["thailand flag","flag-th"],u:"1f1f9-1f1ed"},{n:["tajikistan flag","flag-tj"],u:"1f1f9-1f1ef"},{n:["tokelau flag","flag-tk"],u:"1f1f9-1f1f0"},{n:["timor-leste flag","flag-tl"],u:"1f1f9-1f1f1"},{n:["turkmenistan flag","flag-tm"],u:"1f1f9-1f1f2"},{n:["tunisia flag","flag-tn"],u:"1f1f9-1f1f3"},{n:["tonga flag","flag-to"],u:"1f1f9-1f1f4"},{n:["turkey flag","flag-tr"],u:"1f1f9-1f1f7"},{n:["trinidad & tobago flag","flag-tt"],u:"1f1f9-1f1f9"},{n:["tuvalu flag","flag-tv"],u:"1f1f9-1f1fb"},{n:["taiwan flag","flag-tw"],u:"1f1f9-1f1fc"},{n:["tanzania flag","flag-tz"],u:"1f1f9-1f1ff"},{n:["ukraine flag","flag-ua"],u:"1f1fa-1f1e6"},{n:["uganda flag","flag-ug"],u:"1f1fa-1f1ec"},{n:["u.s. outlying islands flag","flag-um"],u:"1f1fa-1f1f2"},{n:["united nations flag","flag-un"],u:"1f1fa-1f1f3"},{n:["united states flag","us","flag-us"],u:"1f1fa-1f1f8"},{n:["uruguay flag","flag-uy"],u:"1f1fa-1f1fe"},{n:["uzbekistan flag","flag-uz"],u:"1f1fa-1f1ff"},{n:["vatican city flag","flag-va"],u:"1f1fb-1f1e6"},{n:["st. vincent & grenadines flag","flag-vc"],u:"1f1fb-1f1e8"},{n:["venezuela flag","flag-ve"],u:"1f1fb-1f1ea"},{n:["british virgin islands flag","flag-vg"],u:"1f1fb-1f1ec"},{n:["u.s. virgin islands flag","flag-vi"],u:"1f1fb-1f1ee"},{n:["vietnam flag","flag-vn"],u:"1f1fb-1f1f3"},{n:["vanuatu flag","flag-vu"],u:"1f1fb-1f1fa"},{n:["wallis & futuna flag","flag-wf"],u:"1f1fc-1f1eb"},{n:["samoa flag","flag-ws"],u:"1f1fc-1f1f8"},{n:["kosovo flag","flag-xk"],u:"1f1fd-1f1f0"},{n:["yemen flag","flag-ye"],u:"1f1fe-1f1ea"},{n:["mayotte flag","flag-yt"],u:"1f1fe-1f1f9"},{n:["south africa flag","flag-za"],u:"1f1ff-1f1e6"},{n:["zambia flag","flag-zm"],u:"1f1ff-1f1f2"},{n:["zimbabwe flag","flag-zw"],u:"1f1ff-1f1fc"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}]},q4=[{key:"recent",title:"Recently Used",u:"1f551"},{key:"smileys_people",title:"Smiles & People",u:"1f600"},{key:"animals_nature",title:"Animals & Nature",u:"1F431"},{key:"food_drink",title:"Food & Drink",u:"2615"},{key:"activities",title:"Activities",u:"26BD"},{key:"travel_places",title:"Travel & Places",u:"1F697"},{key:"objects",title:"Objects",u:"1F4A1"},{key:"symbols",title:"Symbols",u:"1f4af"},{key:"flags",title:"Flags",u:"1f3f3-fe0f"}];const xQ=(t,e)=>e.some(r=>t instanceof r);let W4,G4;function AQ(){return W4||(W4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TQ(){return G4||(G4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q4=new WeakMap,Ny=new WeakMap,Y4=new WeakMap,Oy=new WeakMap,Ly=new WeakMap;function CQ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(gs(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&Q4.set(r,t)}).catch(()=>{}),Ly.set(e,t),e}function EQ(t){if(Ny.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ny.set(t,e)}let By={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SQ(t){By=t(By)}function kQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ry(this),e,...r);return Y4.set(n,e.sort?e.sort():[e]),gs(n)}:TQ().includes(t)?function(...e){return t.apply(Ry(this),e),gs(Q4.get(this))}:function(...e){return gs(t.apply(Ry(this),e))}}function IQ(t){return typeof t=="function"?kQ(t):(t instanceof IDBTransaction&&EQ(t),xQ(t,AQ())?new Proxy(t,By):t)}function gs(t){if(t instanceof IDBRequest)return CQ(t);if(Oy.has(t))return Oy.get(t);const e=IQ(t);return e!==t&&(Oy.set(t,e),Ly.set(e,t)),e}const Ry=t=>Ly.get(t);function Py(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=gs(s);return n&&s.addEventListener("upgradeneeded",l=>{n(gs(s.result),l.oldVersion,l.newVersion,gs(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const DQ=["get","getKey","getAll","getAllKeys","count"],MQ=["put","add","delete","clear"],Fy=new Map;function K4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=MQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||DQ.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return Fy.set(e,o),o}SQ(t=>({...t,get:(e,r,n)=>K4(e,r)||t.get(e,r,n),has:(e,r)=>!!K4(e,r)||t.has(e,r)}));const Uy="EMJ",Xl="emojis",jy=3;async function NQ(){(await Py(Uy,jy,{upgrade(e,r){e.objectStoreNames.contains(Xl)||e.createObjectStore(Xl,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})).close()}NQ();const OQ={native:!1,hideSearch:!0,hideGroupIcons:!1,hideGroupNames:!1,staticTexts:{},disabledGroups:[],groupNames:{},displayRecent:!1,additionalGroups:{},groupOrder:[],groupIcons:{}};async function LQ(){return await(await Py(Uy,jy)).transaction(Xl,"readonly").objectStore(Xl).getAll()}function BQ(){const t=c.reactive({search:"",emoji:yQ,activeGroup:"",skinTone:fp,options:OQ,additionalGroups:{},recent:[],get emojis(){return{recent:this.recent,...this.options.additionalGroups,...wQ}},get disabled(){let u=Array.isArray(this.options.disabledGroups)?this.options.disabledGroups:[];return this.options.displayRecent||(u=["recent",...u]),u},get groups(){return q4.filter(u=>!this.disabled.includes(u.key))},get orderedGroupKeys(){const u=[...this.options.groupOrder,...Object.keys(this.options.additionalGroups),...q4.map(h=>h.key)];return[...new Set(u)].filter(h=>!this.disabled.includes(h))}});function e(){t.options.displayRecent&&n()}async function r(){var u;let h=await LQ();return Array.isArray(h)&&h.length?h=JSON.parse(((u=h[0])==null?void 0:u.value)||""):h=[],h}function n(){r().then(u=>{t.recent=u,d()})}const i=u=>{t.search=u},o=u=>{t.emoji=u},s=u=>{t.activeGroup=u},a=(u=fp)=>{t.skinTone=u},l=u=>{t.options=Object.assign({},t.options,u),e()};async function d(){(await Py(Uy,jy)).transaction(Xl,"readwrite").objectStore(Xl).put({id:0,value:JSON.stringify(t.recent)})}const f=u=>{if(t.options.displayRecent!==!0)return;const h=t.recent.findIndex(m=>m.u===u.u);if(h>0&&t.recent.splice(h,1),h===0)return;const p={u:u.u,n:c.toRaw(u.n)};t.recent=[p,...t.recent],t.recent.length>24&&(t.recent.length=24),d()};return{state:c.readonly(t),updateSearch:i,updateEmoji:o,updateActiveGroup:s,updateSkinTone:a,updateOptions:l,updateSelect:f}}var kn="top",si="bottom",ai="right",In="left",$y="auto",Qu=[kn,si,ai,In],Jl="start",Yu="end",RQ="clippingParents",X4="viewport",Ku="popper",PQ="reference",J4=Qu.reduce(function(t,e){return t.concat([e+"-"+Jl,e+"-"+Yu])},[]),Z4=[].concat(Qu,[$y]).reduce(function(t,e){return t.concat([e,e+"-"+Jl,e+"-"+Yu])},[]),FQ="beforeRead",UQ="read",jQ="afterRead",$Q="beforeMain",zQ="main",VQ="afterMain",HQ="beforeWrite",qQ="write",WQ="afterWrite",GQ=[FQ,UQ,jQ,$Q,zQ,VQ,HQ,qQ,WQ];function ao(t){return t?(t.nodeName||"").toLowerCase():null}function Bi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Zl(t){var e=Bi(t).Element;return t instanceof e||t instanceof Element}function li(t){var e=Bi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ek(t){if(typeof ShadowRoot>"u")return!1;var e=Bi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function QQ(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!li(o)||!ao(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function YQ(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,d){return l[d]="",l},{});!li(i)||!ao(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var KQ={name:"applyStyles",enabled:!0,phase:"write",fn:QQ,effect:YQ,requires:["computeStyles"]};function lo(t){return t.split("-")[0]}var fa=Math.max,hp=Math.min,ec=Math.round;function tc(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(li(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(n=ec(r.width)/s||1),o>0&&(i=ec(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function zy(t){var e=tc(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function tk(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ek(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function co(t){return Bi(t).getComputedStyle(t)}function XQ(t){return["table","td","th"].indexOf(ao(t))>=0}function ys(t){return((Zl(t)?t.ownerDocument:t.document)||window.document).documentElement}function pp(t){return ao(t)==="html"?t:t.assignedSlot||t.parentNode||(ek(t)?t.host:null)||ys(t)}function rk(t){return!li(t)||co(t).position==="fixed"?null:t.offsetParent}function JQ(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&li(t)){var n=co(t);if(n.position==="fixed")return null}for(var i=pp(t);li(i)&&["html","body"].indexOf(ao(i))<0;){var o=co(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Xu(t){for(var e=Bi(t),r=rk(t);r&&XQ(r)&&co(r).position==="static";)r=rk(r);return r&&(ao(r)==="html"||ao(r)==="body"&&co(r).position==="static")?e:r||JQ(t)||e}function Vy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ju(t,e,r){return fa(t,hp(e,r))}function ZQ(t,e,r){var n=Ju(t,e,r);return n>r?r:n}function nk(){return{top:0,right:0,bottom:0,left:0}}function ik(t){return Object.assign({},nk(),t)}function ok(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var eY=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,ik(typeof e!="number"?e:ok(e,Qu))};function tY(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=lo(r.placement),l=Vy(a),d=[In,ai].indexOf(a)>=0,f=d?"height":"width";if(!(!o||!s)){var u=eY(i.padding,r),h=zy(o),p=l==="y"?kn:In,m=l==="y"?si:ai,y=r.rects.reference[f]+r.rects.reference[l]-s[l]-r.rects.popper[f],v=s[l]-r.rects.reference[l],b=Xu(o),A=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,C=y/2-v/2,S=u[p],M=A-h[f]-u[m],I=A/2-h[f]/2+C,L=Ju(S,I,M),k=l;r.modifiersData[n]=(e={},e[k]=L,e.centerOffset=L-I,e)}}function rY(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||tk(e.elements.popper,i)&&(e.elements.arrow=i))}var nY={name:"arrow",enabled:!0,phase:"main",fn:tY,effect:rY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rc(t){return t.split("-")[1]}var iY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oY(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:ec(e*i)/i||0,y:ec(r*i)/i||0}}function sk(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,u=t.isFixed,h=f===!0?oY(s):typeof f=="function"?f(s):s,p=h.x,m=p===void 0?0:p,y=h.y,v=y===void 0?0:y,b=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),C=In,S=kn,M=window;if(d){var I=Xu(r),L="clientHeight",k="clientWidth";if(I===Bi(r)&&(I=ys(r),co(I).position!=="static"&&a==="absolute"&&(L="scrollHeight",k="scrollWidth")),I=I,i===kn||(i===In||i===ai)&&o===Yu){S=si;var T=u&&M.visualViewport?M.visualViewport.height:I[L];v-=T-n.height,v*=l?1:-1}if(i===In||(i===kn||i===si)&&o===Yu){C=ai;var F=u&&M.visualViewport?M.visualViewport.width:I[k];m-=F-n.width,m*=l?1:-1}}var z=Object.assign({position:a},d&&iY);if(l){var P;return Object.assign({},z,(P={},P[S]=A?"0":"",P[C]=b?"0":"",P.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",P))}return Object.assign({},z,(e={},e[S]=A?v+"px":"",e[C]=b?m+"px":"",e.transform="",e))}function sY(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a,d={placement:lo(e.placement),variation:rc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,sk(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,sk(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var aY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sY,data:{}},mp={passive:!0};function lY(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=Bi(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(f){f.addEventListener("scroll",r.update,mp)}),a&&l.addEventListener("resize",r.update,mp),function(){o&&d.forEach(function(f){f.removeEventListener("scroll",r.update,mp)}),a&&l.removeEventListener("resize",r.update,mp)}}var cY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lY,data:{}},uY={left:"right",right:"left",bottom:"top",top:"bottom"};function gp(t){return t.replace(/left|right|bottom|top/g,function(e){return uY[e]})}var dY={start:"end",end:"start"};function ak(t){return t.replace(/start|end/g,function(e){return dY[e]})}function Hy(t){var e=Bi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function qy(t){return tc(ys(t)).left+Hy(t).scrollLeft}function fY(t){var e=Bi(t),r=ys(t),n=e.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,a=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:i,height:o,x:s+qy(t),y:a}}function hY(t){var e,r=ys(t),n=Hy(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=fa(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=fa(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+qy(t),l=-n.scrollTop;return co(i||r).direction==="rtl"&&(a+=fa(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Wy(t){var e=co(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function lk(t){return["html","body","#document"].indexOf(ao(t))>=0?t.ownerDocument.body:li(t)&&Wy(t)?t:lk(pp(t))}function Zu(t,e){var r;e===void 0&&(e=[]);var n=lk(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=Bi(n),s=i?[o].concat(o.visualViewport||[],Wy(n)?n:[]):n,a=e.concat(s);return i?a:a.concat(Zu(pp(s)))}function Gy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pY(t){var e=tc(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function ck(t,e){return e===X4?Gy(fY(t)):Zl(e)?pY(e):Gy(hY(ys(t)))}function mY(t){var e=Zu(pp(t)),r=["absolute","fixed"].indexOf(co(t).position)>=0,n=r&&li(t)?Xu(t):t;return Zl(n)?e.filter(function(i){return Zl(i)&&tk(i,n)&&ao(i)!=="body"&&(r?co(i).position!=="static":!0)}):[]}function gY(t,e,r){var n=e==="clippingParents"?mY(t):[].concat(e),i=[].concat(n,[r]),o=i[0],s=i.reduce(function(a,l){var d=ck(t,l);return a.top=fa(d.top,a.top),a.right=hp(d.right,a.right),a.bottom=hp(d.bottom,a.bottom),a.left=fa(d.left,a.left),a},ck(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function uk(t){var e=t.reference,r=t.element,n=t.placement,i=n?lo(n):null,o=n?rc(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case kn:l={x:s,y:e.y-r.height};break;case si:l={x:s,y:e.y+e.height};break;case ai:l={x:e.x+e.width,y:a};break;case In:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var d=i?Vy(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(o){case Jl:l[d]=l[d]-(e[f]/2-r[f]/2);break;case Yu:l[d]=l[d]+(e[f]/2-r[f]/2);break}}return l}function ed(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.boundary,s=o===void 0?RQ:o,a=r.rootBoundary,l=a===void 0?X4:a,d=r.elementContext,f=d===void 0?Ku:d,u=r.altBoundary,h=u===void 0?!1:u,p=r.padding,m=p===void 0?0:p,y=ik(typeof m!="number"?m:ok(m,Qu)),v=f===Ku?PQ:Ku,b=t.rects.popper,A=t.elements[h?v:f],C=gY(Zl(A)?A:A.contextElement||ys(t.elements.popper),s,l),S=tc(t.elements.reference),M=uk({reference:S,element:b,strategy:"absolute",placement:i}),I=Gy(Object.assign({},b,M)),L=f===Ku?I:S,k={top:C.top-L.top+y.top,bottom:L.bottom-C.bottom+y.bottom,left:C.left-L.left+y.left,right:L.right-C.right+y.right},T=t.modifiersData.offset;if(f===Ku&&T){var F=T[i];Object.keys(k).forEach(function(z){var P=[ai,si].indexOf(z)>=0?1:-1,R=[kn,si].indexOf(z)>=0?"y":"x";k[z]+=F[R]*P})}return k}function yY(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,d=l===void 0?Z4:l,f=rc(n),u=f?a?J4:J4.filter(function(m){return rc(m)===f}):Qu,h=u.filter(function(m){return d.indexOf(m)>=0});h.length===0&&(h=u);var p=h.reduce(function(m,y){return m[y]=ed(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[lo(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function bY(t){if(lo(t)===$y)return[];var e=gp(t);return[ak(t),e,ak(e)]}function vY(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,d=r.padding,f=r.boundary,u=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,y=r.allowedAutoPlacements,v=e.options.placement,b=lo(v),A=b===v,C=l||(A||!m?[gp(v)]:bY(v)),S=[v].concat(C).reduce(function(Y,Q){return Y.concat(lo(Q)===$y?yY(e,{placement:Q,boundary:f,rootBoundary:u,padding:d,flipVariations:m,allowedAutoPlacements:y}):Q)},[]),M=e.rects.reference,I=e.rects.popper,L=new Map,k=!0,T=S[0],F=0;F<S.length;F++){var z=S[F],P=lo(z),R=rc(z)===Jl,$=[kn,si].indexOf(P)>=0,W=$?"width":"height",B=ed(e,{placement:z,boundary:f,rootBoundary:u,altBoundary:h,padding:d}),U=$?R?ai:In:R?si:kn;M[W]>I[W]&&(U=gp(U));var te=gp(U),H=[];if(o&&H.push(B[P]<=0),a&&H.push(B[U]<=0,B[te]<=0),H.every(function(Y){return Y})){T=z,k=!1;break}L.set(z,H)}if(k)for(var O=m?3:1,E=function(Q){var ae=S.find(function(ie){var me=L.get(ie);if(me)return me.slice(0,Q).every(function(pe){return pe})});if(ae)return T=ae,"break"},V=O;V>0;V--){var K=E(V);if(K==="break")break}e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}}var _Y={name:"flip",enabled:!0,phase:"main",fn:vY,requiresIfExists:["offset"],data:{_skip:!1}};function dk(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function fk(t){return[kn,ai,si,In].some(function(e){return t[e]>=0})}function wY(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ed(e,{elementContext:"reference"}),a=ed(e,{altBoundary:!0}),l=dk(s,n),d=dk(a,i,o),f=fk(l),u=fk(d);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}var xY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wY};function AY(t,e,r){var n=lo(t),i=[In,kn].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[In,ai].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function TY(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=Z4.reduce(function(f,u){return f[u]=AY(u,e.rects,o),f},{}),a=s[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=s}var CY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:TY};function EY(t){var e=t.state,r=t.name;e.modifiersData[r]=uk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var SY={name:"popperOffsets",enabled:!0,phase:"read",fn:EY,data:{}};function kY(t){return t==="x"?"y":"x"}function IY(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,d=r.rootBoundary,f=r.altBoundary,u=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,y=m===void 0?0:m,v=ed(e,{boundary:l,rootBoundary:d,padding:u,altBoundary:f}),b=lo(e.placement),A=rc(e.placement),C=!A,S=Vy(b),M=kY(S),I=e.modifiersData.popperOffsets,L=e.rects.reference,k=e.rects.popper,T=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,F=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(I){if(o){var R,$=S==="y"?kn:In,W=S==="y"?si:ai,B=S==="y"?"height":"width",U=I[S],te=U+v[$],H=U-v[W],O=p?-k[B]/2:0,E=A===Jl?L[B]:k[B],V=A===Jl?-k[B]:-L[B],K=e.elements.arrow,Y=p&&K?zy(K):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nk(),ae=Q[$],ie=Q[W],me=Ju(0,L[B],Y[B]),pe=C?L[B]/2-O-me-ae-F.mainAxis:E-me-ae-F.mainAxis,fe=C?-L[B]/2+O+me+ie+F.mainAxis:V+me+ie+F.mainAxis,ve=e.elements.arrow&&Xu(e.elements.arrow),ce=ve?S==="y"?ve.clientTop||0:ve.clientLeft||0:0,we=(R=z==null?void 0:z[S])!=null?R:0,oe=U+pe-we-ce,xe=U+fe-we,Ue=Ju(p?hp(te,oe):te,U,p?fa(H,xe):H);I[S]=Ue,P[S]=Ue-U}if(a){var he,Se=S==="x"?kn:In,De=S==="x"?si:ai,j=I[M],q=M==="y"?"height":"width",le=j+v[Se],Te=j-v[De],Ne=[kn,In].indexOf(b)!==-1,Re=(he=z==null?void 0:z[M])!=null?he:0,Qe=Ne?le:j-L[q]-k[q]-Re+F.altAxis,ge=Ne?j+L[q]+k[q]-Re-F.altAxis:Te,Ee=p&&Ne?ZQ(Qe,j,ge):Ju(p?Qe:le,j,p?ge:Te);I[M]=Ee,P[M]=Ee-j}e.modifiersData[n]=P}}var DY={name:"preventOverflow",enabled:!0,phase:"main",fn:IY,requiresIfExists:["offset"]};function MY(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function NY(t){return t===Bi(t)||!li(t)?Hy(t):MY(t)}function OY(t){var e=t.getBoundingClientRect(),r=ec(e.width)/t.offsetWidth||1,n=ec(e.height)/t.offsetHeight||1;return r!==1||n!==1}function LY(t,e,r){r===void 0&&(r=!1);var n=li(e),i=li(e)&&OY(e),o=ys(e),s=tc(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((ao(e)!=="body"||Wy(o))&&(a=NY(e)),li(e)?(l=tc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=qy(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function BY(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function RY(t){var e=BY(t);return GQ.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function PY(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function FY(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var hk={placement:"bottom",modifiers:[],strategy:"absolute"};function pk(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function UY(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?hk:i;return function(a,l,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},hk,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],h=!1,p={state:f,setOptions:function(b){var A=typeof b=="function"?b(f.options):b;y(),f.options=Object.assign({},o,f.options,A),f.scrollParents={reference:Zl(a)?Zu(a):a.contextElement?Zu(a.contextElement):[],popper:Zu(l)};var C=RY(FY([].concat(n,f.options.modifiers)));return f.orderedModifiers=C.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var b=f.elements,A=b.reference,C=b.popper;if(pk(A,C)){f.rects={reference:LY(A,Xu(C),f.options.strategy==="fixed"),popper:zy(C)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var S=0;S<f.orderedModifiers.length;S++){if(f.reset===!0){f.reset=!1,S=-1;continue}var M=f.orderedModifiers[S],I=M.fn,L=M.options,k=L===void 0?{}:L,T=M.name;typeof I=="function"&&(f=I({state:f,options:k,name:T,instance:p})||f)}}}},update:PY(function(){return new Promise(function(v){p.forceUpdate(),v(f)})}),destroy:function(){y(),h=!0}};if(!pk(a,l))return p;p.setOptions(d).then(function(v){!h&&d.onFirstUpdate&&d.onFirstUpdate(v)});function m(){f.orderedModifiers.forEach(function(v){var b=v.name,A=v.options,C=A===void 0?{}:A,S=v.effect;if(typeof S=="function"){var M=S({state:f,name:b,instance:p,options:C}),I=function(){};u.push(M||I)}})}function y(){u.forEach(function(v){return v()}),u=[]}return p}}var jY=[cY,SY,aY,KQ,CY,_Y,DY,nY,xY],$Y=UY({defaultModifiers:jY}),mk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgOS4zODI4MTMgNCA0IDkuMzgyODEzIDQgMTYgQyA0IDIyLjYxNzE4OCA5LjM4MjgxMyAyOCAxNiAyOCBDIDIyLjYxNzE4OCAyOCAyOCAyMi42MTcxODggMjggMTYgQyAyOCA5LjM4MjgxMyAyMi42MTcxODggNCAxNiA0IFogTSAxNiA2IEMgMjEuNTM1MTU2IDYgMjYgMTAuNDY0ODQ0IDI2IDE2IEMgMjYgMjEuNTM1MTU2IDIxLjUzNTE1NiAyNiAxNiAyNiBDIDEwLjQ2NDg0NCAyNiA2IDIxLjUzNTE1NiA2IDE2IEMgNiAxMC40NjQ4NDQgMTAuNDY0ODQ0IDYgMTYgNiBaIE0gMTEuNSAxMiBDIDEwLjY3MTg3NSAxMiAxMCAxMi42NzE4NzUgMTAgMTMuNSBDIDEwIDE0LjMyODEyNSAxMC42NzE4NzUgMTUgMTEuNSAxNSBDIDEyLjMyODEyNSAxNSAxMyAxNC4zMjgxMjUgMTMgMTMuNSBDIDEzIDEyLjY3MTg3NSAxMi4zMjgxMjUgMTIgMTEuNSAxMiBaIE0gMjAuNSAxMiBDIDE5LjY3MTg3NSAxMiAxOSAxMi42NzE4NzUgMTkgMTMuNSBDIDE5IDE0LjMyODEyNSAxOS42NzE4NzUgMTUgMjAuNSAxNSBDIDIxLjMyODEyNSAxNSAyMiAxNC4zMjgxMjUgMjIgMTMuNSBDIDIyIDEyLjY3MTg3NSAyMS4zMjgxMjUgMTIgMjAuNSAxMiBaIE0gMTAuODEyNSAxOSBMIDkuMDkzNzUgMjAgQyAxMC40NzY1NjMgMjIuMzg2NzE5IDEzLjA0Njg3NSAyNCAxNiAyNCBDIDE4Ljk1MzEyNSAyNCAyMS41MjM0MzggMjIuMzg2NzE5IDIyLjkwNjI1IDIwIEwgMjEuMTg3NSAxOSBDIDIwLjE0ODQzOCAyMC43OTI5NjkgMTguMjI2NTYzIDIyIDE2IDIyIEMgMTMuNzczNDM4IDIyIDExLjg1MTU2MyAyMC43OTI5NjkgMTAuODEyNSAxOSBaIi8+PC9zdmc+";function yp(t){return t.split("-").map(e=>parseInt(e,16)).map(e=>String.fromCodePoint(e)).join("")}function zY(t,e,r,n=[]){const i={};return Object.keys(t).forEach(o=>{if(n.includes(o))return;const s=[];t[o].forEach(a=>{var l;if(a[up][0].includes(e.toLocaleLowerCase())){let d=a[H4];if(r!==fp&&Array.isArray(a[dp])){const f=((l=a[dp])==null?void 0:l.findIndex(u=>u.includes(r)))||-1;f!==-1&&a[dp]&&(d=a[dp][f])}return s.push({...a,[Gu]:d})}}),s.length&&(i[o]=s)}),i}function gk(){var t;return(((t=navigator==null?void 0:navigator.userAgentData)==null?void 0:t.platform)||(navigator==null?void 0:navigator.platform)||"unknown").toUpperCase().indexOf("MAC")!==-1}function yk(t){return t.replace(/^_*(.)|_+(.)/g,(e,r,n)=>r?r.toUpperCase():" "+n.toUpperCase())}var td=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const VY=c.defineComponent({name:"Body",emits:{select:t=>!0},setup(){const{state:t,updateEmoji:e,updateSelect:r}=c.inject("store"),n=c.ref(null),i=c.computed(()=>zY(t.emojis,t.search,t.skinTone,t.options.disabledGroups)),o=c.getCurrentInstance(),s=c.computed(()=>!t.options.hideGroupNames),a=c.computed(()=>!t.options.disableStickyGroupNames),l=c.toRaw(t.options.groupNames),d=t.orderedGroupKeys;t.options.additionalGroups&&Object.keys(t.options.additionalGroups).map(m=>{t.options.groupNames[m]?l[m]=t.options.groupNames[m]:l[m]=yk(m)});const f=gk()?"is-mac":"";function u(m){e(m)}function h(m){r(m),o==null||o.emit("select",{...m,t:t.skinTone,i:yp(m.r)})}function p(m,y){var v;const b=(v=m==null?void 0:m.target)==null?void 0:v.closest("button");b&&(b.innerHTML=`<span>${yp(y)}</span>`)}return c.watch(()=>t.activeGroup,()=>{var m;const y=(m=n.value)==null?void 0:m.querySelector("#"+t.activeGroup);y&&(y.parentNode.scrollTop=y.offsetTop-y.parentNode.offsetTop)}),{emojis:i,bodyInner:n,EMOJI_REMOTE_SRC:z4,GROUP_NAMES:V4,handleClick:h,handleError:p,handleMouseEnter:u,native:t.options.native,unicodeToEmoji:yp,EMOJI_RESULT_KEY:Gu,EMOJI_NAME_KEY:up,hasGroupNames:s,isSticky:a,platform:f,groupNames:l,orderedKeys:d}}}),HY={class:"v3-body"},qY=["id"],WY={class:"v3-emojis"},GY=["onMouseenter","onClick"],QY={key:0},YY=["src","alt","onError"],KY={key:1,class:"v3-no-result"};function XY(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",HY,[c.createElementVNode("div",{ref:"bodyInner",class:c.normalizeClass([t.platform,"v3-body-inner"])},[t.orderedKeys.length?(c.openBlock(!0),c.createElementBlock(c.Fragment,{key:0},c.renderList(t.orderedKeys,s=>(c.openBlock(),c.createElementBlock("div",{id:s,key:s,class:"v3-group"},[t.hasGroupNames?c.withDirectives((c.openBlock(),c.createElementBlock("h5",{key:0,class:c.normalizeClass(t.isSticky?"v3-sticky":"")},c.toDisplayString(t.groupNames[s]),3)),[[c.vShow,t.emojis[s]]]):c.createCommentVNode("",!0),c.withDirectives(c.createElementVNode("div",WY,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(t.emojis[s],a=>(c.openBlock(),c.createElementBlock("button",{key:a.r,type:"button",onMouseenter:l=>t.handleMouseEnter(a),onClick:l=>t.handleClick(a)},[t.native?(c.openBlock(),c.createElementBlock("span",QY,c.toDisplayString(t.unicodeToEmoji(a.r)),1)):(c.openBlock(),c.createElementBlock("img",{key:1,src:t.EMOJI_REMOTE_SRC+`/${a.r}.png`,alt:a.n[0],onError:l=>t.handleError(l,a.r)},null,40,YY))],40,GY))),128))],512),[[c.vShow,t.emojis[s]]])],8,qY))),128)):(c.openBlock(),c.createElementBlock("span",KY," No emoji has been found! "))],2)])}var JY=td(VY,[["render",XY]]),ZY="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMi41IDUgQyAxMS40Mjk2ODggNSAxMC41IDUuNjA5Mzc1IDkuOTA2MjUgNi40Mzc1IEMgOS4zMTI1IDcuMjY1NjI1IDkgOC4zMzk4NDQgOSA5LjUgQyA5IDEwLjY2MDE1NiA5LjMxMjUgMTEuNzM0Mzc1IDkuOTA2MjUgMTIuNTYyNSBDIDEwLjUgMTMuMzkwNjI1IDExLjQyOTY4OCAxNCAxMi41IDE0IEMgMTMuNTcwMzEzIDE0IDE0LjUgMTMuMzkwNjI1IDE1LjA5Mzc1IDEyLjU2MjUgQyAxNS42ODc1IDExLjczNDM3NSAxNiAxMC42NjAxNTYgMTYgOS41IEMgMTYgOC4zMzk4NDQgMTUuNjg3NSA3LjI2NTYyNSAxNS4wOTM3NSA2LjQzNzUgQyAxNC41IDUuNjA5Mzc1IDEzLjU3MDMxMyA1IDEyLjUgNSBaIE0gMTYgOS41IEMgMTYgMTAuNjYwMTU2IDE2LjMxMjUgMTEuNzM0Mzc1IDE2LjkwNjI1IDEyLjU2MjUgQyAxNy41IDEzLjM5MDYyNSAxOC40Mjk2ODggMTQgMTkuNSAxNCBDIDIwLjU3MDMxMyAxNCAyMS41IDEzLjM5MDYyNSAyMi4wOTM3NSAxMi41NjI1IEMgMjIuNjg3NSAxMS43MzQzNzUgMjMgMTAuNjYwMTU2IDIzIDkuNSBDIDIzIDguMzM5ODQ0IDIyLjY4NzUgNy4yNjU2MjUgMjIuMDkzNzUgNi40Mzc1IEMgMjEuNSA1LjYwOTM3NSAyMC41NzAzMTMgNSAxOS41IDUgQyAxOC40Mjk2ODggNSAxNy41IDUuNjA5Mzc1IDE2LjkwNjI1IDYuNDM3NSBDIDE2LjMxMjUgNy4yNjU2MjUgMTYgOC4zMzk4NDQgMTYgOS41IFogTSAxMi41IDcgQyAxMi44MTI1IDcgMTMuMTU2MjUgNy4xNTYyNSAxMy40Njg3NSA3LjU5Mzc1IEMgMTMuNzgxMjUgOC4wMzEyNSAxNCA4LjcyNjU2MyAxNCA5LjUgQyAxNCAxMC4yNzM0MzggMTMuNzgxMjUgMTAuOTY4NzUgMTMuNDY4NzUgMTEuNDA2MjUgQyAxMy4xNTYyNSAxMS44NDM3NSAxMi44MTI1IDEyIDEyLjUgMTIgQyAxMi4xODc1IDEyIDExLjg0Mzc1IDExLjg0Mzc1IDExLjUzMTI1IDExLjQwNjI1IEMgMTEuMjE4NzUgMTAuOTY4NzUgMTEgMTAuMjczNDM4IDExIDkuNSBDIDExIDguNzI2NTYzIDExLjIxODc1IDguMDMxMjUgMTEuNTMxMjUgNy41OTM3NSBDIDExLjg0Mzc1IDcuMTU2MjUgMTIuMTg3NSA3IDEyLjUgNyBaIE0gMTkuNSA3IEMgMTkuODEyNSA3IDIwLjE1NjI1IDcuMTU2MjUgMjAuNDY4NzUgNy41OTM3NSBDIDIwLjc4MTI1IDguMDMxMjUgMjEgOC43MjY1NjMgMjEgOS41IEMgMjEgMTAuMjczNDM4IDIwLjc4MTI1IDEwLjk2ODc1IDIwLjQ2ODc1IDExLjQwNjI1IEMgMjAuMTU2MjUgMTEuODQzNzUgMTkuODEyNSAxMiAxOS41IDEyIEMgMTkuMTg3NSAxMiAxOC44NDM3NSAxMS44NDM3NSAxOC41MzEyNSAxMS40MDYyNSBDIDE4LjIxODc1IDEwLjk2ODc1IDE4IDEwLjI3MzQzOCAxOCA5LjUgQyAxOCA4LjcyNjU2MyAxOC4yMTg3NSA4LjAzMTI1IDE4LjUzMTI1IDcuNTkzNzUgQyAxOC44NDM3NSA3LjE1NjI1IDE5LjE4NzUgNyAxOS41IDcgWiBNIDcuNSAxMiBDIDYuNDI5Njg4IDEyIDUuNSAxMi42MDkzNzUgNC45MDYyNSAxMy40Mzc1IEMgNC4zMTI1IDE0LjI2NTYyNSA0IDE1LjMzOTg0NCA0IDE2LjUgQyA0IDE3LjY2MDE1NiA0LjMxMjUgMTguNzM0Mzc1IDQuOTA2MjUgMTkuNTYyNSBDIDUuNSAyMC4zOTA2MjUgNi40Mjk2ODggMjEgNy41IDIxIEMgOC41NzAzMTMgMjEgOS41IDIwLjM5MDYyNSAxMC4wOTM3NSAxOS41NjI1IEMgMTAuNjg3NSAxOC43MzQzNzUgMTEgMTcuNjYwMTU2IDExIDE2LjUgQyAxMSAxNS4zMzk4NDQgMTAuNjg3NSAxNC4yNjU2MjUgMTAuMDkzNzUgMTMuNDM3NSBDIDkuNSAxMi42MDkzNzUgOC41NzAzMTMgMTIgNy41IDEyIFogTSAyNC41IDEyIEMgMjMuNDI5Njg4IDEyIDIyLjUgMTIuNjA5Mzc1IDIxLjkwNjI1IDEzLjQzNzUgQyAyMS4zMTI1IDE0LjI2NTYyNSAyMSAxNS4zMzk4NDQgMjEgMTYuNSBDIDIxIDE3LjY2MDE1NiAyMS4zMTI1IDE4LjczNDM3NSAyMS45MDYyNSAxOS41NjI1IEMgMjIuNSAyMC4zOTA2MjUgMjMuNDI5Njg4IDIxIDI0LjUgMjEgQyAyNS41NzAzMTMgMjEgMjYuNSAyMC4zOTA2MjUgMjcuMDkzNzUgMTkuNTYyNSBDIDI3LjY4NzUgMTguNzM0Mzc1IDI4IDE3LjY2MDE1NiAyOCAxNi41IEMgMjggMTUuMzM5ODQ0IDI3LjY4NzUgMTQuMjY1NjI1IDI3LjA5Mzc1IDEzLjQzNzUgQyAyNi41IDEyLjYwOTM3NSAyNS41NzAzMTMgMTIgMjQuNSAxMiBaIE0gNy41IDE0IEMgNy44MTI1IDE0IDguMTU2MjUgMTQuMTU2MjUgOC40Njg3NSAxNC41OTM3NSBDIDguNzgxMjUgMTUuMDMxMjUgOSAxNS43MjY1NjMgOSAxNi41IEMgOSAxNy4yNzM0MzggOC43ODEyNSAxNy45Njg3NSA4LjQ2ODc1IDE4LjQwNjI1IEMgOC4xNTYyNSAxOC44NDM3NSA3LjgxMjUgMTkgNy41IDE5IEMgNy4xODc1IDE5IDYuODQzNzUgMTguODQzNzUgNi41MzEyNSAxOC40MDYyNSBDIDYuMjE4NzUgMTcuOTY4NzUgNiAxNy4yNzM0MzggNiAxNi41IEMgNiAxNS43MjY1NjMgNi4yMTg3NSAxNS4wMzEyNSA2LjUzMTI1IDE0LjU5Mzc1IEMgNi44NDM3NSAxNC4xNTYyNSA3LjE4NzUgMTQgNy41IDE0IFogTSAyNC41IDE0IEMgMjQuODEyNSAxNCAyNS4xNTYyNSAxNC4xNTYyNSAyNS40Njg3NSAxNC41OTM3NSBDIDI1Ljc4MTI1IDE1LjAzMTI1IDI2IDE1LjcyNjU2MyAyNiAxNi41IEMgMjYgMTcuMjczNDM4IDI1Ljc4MTI1IDE3Ljk2ODc1IDI1LjQ2ODc1IDE4LjQwNjI1IEMgMjUuMTU2MjUgMTguODQzNzUgMjQuODEyNSAxOSAyNC41IDE5IEMgMjQuMTg3NSAxOSAyMy44NDM3NSAxOC44NDM3NSAyMy41MzEyNSAxOC40MDYyNSBDIDIzLjIxODc1IDE3Ljk2ODc1IDIzIDE3LjI3MzQzOCAyMyAxNi41IEMgMjMgMTUuNzI2NTYzIDIzLjIxODc1IDE1LjAzMTI1IDIzLjUzMTI1IDE0LjU5Mzc1IEMgMjMuODQzNzUgMTQuMTU2MjUgMjQuMTg3NSAxNCAyNC41IDE0IFogTSAxNiAxNiBDIDE0LjY2Nzk2OSAxNiAxMy43MzgyODEgMTYuODY3MTg4IDEzLjI4MTI1IDE3LjYyNSBDIDEyLjgyNDIxOSAxOC4zODI4MTMgMTIuNTQ2ODc1IDE5LjAxNTYyNSAxMi4yODEyNSAxOS4yODEyNSBDIDEyLjEyNSAxOS40Mzc1IDExLjE2MDE1NiAxOS44MDA3ODEgMTAuMTU2MjUgMjAuMzEyNSBDIDkuNjUyMzQ0IDIwLjU3MDMxMyA5LjE0NDUzMSAyMC45MTQwNjMgOC43MTg3NSAyMS40Mzc1IEMgOC4yOTI5NjkgMjEuOTYwOTM4IDggMjIuNjg3NSA4IDIzLjUgQyA4IDI1LjQyMTg3NSA5LjU3ODEyNSAyNyAxMS41IDI3IEMgMTIuMzY3MTg4IDI3IDEzLjI2OTUzMSAyNi43MjI2NTYgMTQuMTU2MjUgMjYuNDY4NzUgQyAxNS4wNDI5NjkgMjYuMjE0ODQ0IDE2IDI2IDE2IDI2IEMgMTYgMjYgMTYuOTU3MDMxIDI2LjIxNDg0NCAxNy44NDM3NSAyNi40Njg3NSBDIDE4LjczMDQ2OSAyNi43MjI2NTYgMTkuNjMyODEzIDI3IDIwLjUgMjcgQyAyMi40MjE4NzUgMjcgMjQgMjUuNDIxODc1IDI0IDIzLjUgQyAyNCAyMi43MDcwMzEgMjMuNzA3MDMxIDIxLjk4MDQ2OSAyMy4yODEyNSAyMS40Njg3NSBDIDIyLjg1NTQ2OSAyMC45NTcwMzEgMjIuMzQzNzUgMjAuNjQwNjI1IDIxLjg0Mzc1IDIwLjM3NSBDIDIwLjg0Mzc1IDE5Ljg0Mzc1IDE5Ljg1OTM3NSAxOS40MjE4NzUgMTkuNzE4NzUgMTkuMjgxMjUgQyAxOS40ODA0NjkgMTkuMDQyOTY5IDE5LjIxMDkzOCAxOC4zOTA2MjUgMTguNzUgMTcuNjI1IEMgMTguMjg5MDYzIDE2Ljg1OTM3NSAxNy4zMzk4NDQgMTYgMTYgMTYgWiBNIDE2IDE4IEMgMTYuNjYwMTU2IDE4IDE2LjczNDM3NSAxOC4xNjAxNTYgMTcuMDMxMjUgMTguNjU2MjUgQyAxNy4zMjgxMjUgMTkuMTUyMzQ0IDE3LjU1NDY4OCAxOS45OTIxODggMTguMjgxMjUgMjAuNzE4NzUgQyAxOS4xMDU0NjkgMjEuNTQyOTY5IDIwLjE0ODQzOCAyMS43MjI2NTYgMjAuOTA2MjUgMjIuMTI1IEMgMjEuMjg1MTU2IDIyLjMyODEyNSAyMS41NzgxMjUgMjIuNTQyOTY5IDIxLjc1IDIyLjc1IEMgMjEuOTIxODc1IDIyLjk1NzAzMSAyMiAyMy4xNDg0MzggMjIgMjMuNSBDIDIyIDI0LjMzOTg0NCAyMS4zMzk4NDQgMjUgMjAuNSAyNSBDIDIwLjIxMDkzOCAyNSAxOS4yNzczNDQgMjQuNzc3MzQ0IDE4LjQwNjI1IDI0LjUzMTI1IEMgMTcuNTM1MTU2IDI0LjI4NTE1NiAxNi44MTY0MDYgMjQgMTYgMjQgQyAxNS4xODM1OTQgMjQgMTQuNDY0ODQ0IDI0LjI4NTE1NiAxMy41OTM3NSAyNC41MzEyNSBDIDEyLjcyMjY1NiAyNC43NzczNDQgMTEuNzg5MDYzIDI1IDExLjUgMjUgQyAxMC42NjAxNTYgMjUgMTAgMjQuMzM5ODQ0IDEwIDIzLjUgQyAxMCAyMy4wOTc2NTYgMTAuMDgyMDMxIDIyLjg5MDYyNSAxMC4yNSAyMi42ODc1IEMgMTAuNDE3OTY5IDIyLjQ4NDM3NSAxMC43MjI2NTYgMjIuMjg1MTU2IDExLjA5Mzc1IDIyLjA5Mzc1IEMgMTEuODM5ODQ0IDIxLjcxNDg0NCAxMi44NzUgMjEuNTYyNSAxMy43MTg3NSAyMC43MTg3NSBDIDE0LjQ1MzEyNSAxOS45ODQzNzUgMTQuNjc1NzgxIDE5LjExNzE4OCAxNC45Njg3NSAxOC42MjUgQyAxNS4yNjE3MTkgMTguMTMyODEzIDE1LjMzMjAzMSAxOCAxNiAxOCBaIi8+PC9zdmc+",eK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSAzIEwgMTEgNyBMIDEzIDcgTCAxMyAzIFogTSAxNSA0IEwgMTUgNyBMIDE3IDcgTCAxNyA0IFogTSA0Ljg3NSA4IEwgNSA5LjA5Mzc1IEwgNi44MTI1IDI2LjMxMjUgQyA2Ljk3MjY1NiAyNy44MzIwMzEgOC4yODUxNTYgMjkgOS44MTI1IDI5IEwgMTkuMTg3NSAyOSBDIDIwLjcxNDg0NCAyOSAyMi4wMjczNDQgMjcuODMyMDMxIDIyLjE4NzUgMjYuMzEyNSBMIDIyLjY1NjI1IDIyIEwgMjUgMjIgQyAyNi42NDQ1MzEgMjIgMjggMjAuNjQ0NTMxIDI4IDE5IEwgMjggMTYgQyAyOCAxNC4zNTU0NjkgMjYuNjQ0NTMxIDEzIDI1IDEzIEwgMjMuNTkzNzUgMTMgTCAyNCA5LjA5Mzc1IEwgMjQuMTI1IDggWiBNIDcuMTI1IDEwIEwgMjEuODc1IDEwIEwgMjAuMTg3NSAyNi4wOTM3NSBDIDIwLjEzMjgxMyAyNi42MTMyODEgMTkuNzA3MDMxIDI3IDE5LjE4NzUgMjcgTCA5LjgxMjUgMjcgQyA5LjI5Mjk2OSAyNyA4Ljg2NzE4OCAyNi42MTMyODEgOC44MTI1IDI2LjA5Mzc1IFogTSAyMy4zNzUgMTUgTCAyNSAxNSBDIDI1LjU2NjQwNiAxNSAyNiAxNS40MzM1OTQgMjYgMTYgTCAyNiAxOSBDIDI2IDE5LjU2NjQwNiAyNS41NjY0MDYgMjAgMjUgMjAgTCAyMi44NDM3NSAyMCBaIi8+PC9zdmc+",tK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiAzIEMgOC44MzIwMzEgMyAzIDguODMyMDMxIDMgMTYgQyAzIDIzLjE2Nzk2OSA4LjgzMjAzMSAyOSAxNiAyOSBDIDIzLjE2Nzk2OSAyOSAyOSAyMy4xNjc5NjkgMjkgMTYgQyAyOSA4LjgzMjAzMSAyMy4xNjc5NjkgMyAxNiAzIFogTSAxNiA1IEMgMTYuNjAxNTYzIDUgMTcuMTc1NzgxIDUuMDYyNSAxNy43NSA1LjE1NjI1IEwgMTYgNi40MDYyNSBMIDE0LjI1IDUuMTU2MjUgQyAxNC44MjAzMTMgNS4wNjY0MDYgMTUuNDAyMzQ0IDUgMTYgNSBaIE0gMTEuODEyNSA1Ljg0Mzc1IEwgMTUuNDA2MjUgOC40Njg3NSBMIDE2IDguOTA2MjUgTCAxNi41OTM3NSA4LjQ2ODc1IEwgMjAuMTg3NSA1Ljg0Mzc1IEMgMjEuNzg1MTU2IDYuNTA3ODEzIDIzLjE5NTMxMyA3LjUyMzQzOCAyNC4zMTI1IDguODEyNSBMIDIyLjkzNzUgMTMuMDkzNzUgTCAyMi43MTg3NSAxMy43ODEyNSBMIDIzLjMxMjUgMTQuMTg3NSBMIDI2LjkzNzUgMTYuODQzNzUgQyAyNi44MDQ2ODggMTguNjA1NDY5IDI2LjI2NTYyNSAyMC4yNTc4MTMgMjUuNDA2MjUgMjEuNjg3NSBMIDIwLjEyNSAyMS42ODc1IEwgMTkuOTA2MjUgMjIuMzc1IEwgMTguNSAyNi43MTg3NSBDIDE3LjY5OTIxOSAyNi45MDYyNSAxNi44NTkzNzUgMjcgMTYgMjcgQyAxNS4xMDU0NjkgMjcgMTQuMjM4MjgxIDI2Ljg4NjcxOSAxMy40MDYyNSAyNi42ODc1IEwgMTIuMDMxMjUgMjIuNDA2MjUgTCAxMS44MTI1IDIxLjcxODc1IEwgNi41OTM3NSAyMS43MTg3NSBDIDUuNzE4NzUgMjAuMjgxMjUgNS4xOTkyMTkgMTguNjIxMDk0IDUuMDYyNSAxNi44NDM3NSBMIDguNjU2MjUgMTQuMjE4NzUgTCA5LjI1IDEzLjgxMjUgTCA5LjAzMTI1IDEzLjEyNSBMIDcuNjI1IDguODc1IEMgOC43NSA3LjU1NDY4OCAxMC4xODM1OTQgNi41MTU2MjUgMTEuODEyNSA1Ljg0Mzc1IFogTSAxNiAxMC4wOTM3NSBMIDE1LjQwNjI1IDEwLjUzMTI1IEwgMTAuODQzNzUgMTMuODQzNzUgTCAxMC4yODEyNSAxNC4yODEyNSBMIDEwLjUgMTQuOTY4NzUgTCAxMi4yNSAyMC4zMTI1IEwgMTIuNDY4NzUgMjEgTCAxOS41MzEyNSAyMSBMIDE5Ljc1IDIwLjMxMjUgTCAyMS41IDE0Ljk2ODc1IEwgMjEuNzE4NzUgMTQuMjgxMjUgTCAyMS4xNTYyNSAxMy44NDM3NSBMIDE2LjU5Mzc1IDEwLjUzMTI1IFogTSAyNS43NSAxMC45MDYyNSBDIDI2LjI5Njg3NSAxMS45NTMxMjUgMjYuNjU2MjUgMTMuMTAxNTYzIDI2Ljg0Mzc1IDE0LjMxMjUgTCAyNS4wNjI1IDEzLjAzMTI1IFogTSA2LjIxODc1IDEwLjk2ODc1IEwgNi45MDYyNSAxMy4wMzEyNSBMIDUuMTU2MjUgMTQuMzEyNSBDIDUuMzM5ODQ0IDEzLjEyNSA1LjY4NzUgMTIgNi4yMTg3NSAxMC45Njg3NSBaIE0gMTYgMTIuNTkzNzUgTCAxOS4zNzUgMTUuMDMxMjUgTCAxOC4wOTM3NSAxOSBMIDEzLjkwNjI1IDE5IEwgMTIuNjI1IDE1LjAzMTI1IFogTSAyMS41OTM3NSAyMy42ODc1IEwgMjMuODQzNzUgMjMuNjg3NSBDIDIyLjk5MjE4OCAyNC41NjY0MDYgMjIuMDExNzE5IDI1LjI5Mjk2OSAyMC45MDYyNSAyNS44NDM3NSBaIE0gOC4xNTYyNSAyMy43MTg3NSBMIDEwLjM0Mzc1IDIzLjcxODc1IEwgMTEuMDMxMjUgMjUuODEyNSBDIDkuOTYwOTM4IDI1LjI2OTUzMSA4Ljk4ODI4MSAyNC41NjI1IDguMTU2MjUgMjMuNzE4NzUgWiIvPjwvc3ZnPg==",rK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5LjUgNiBDIDguMTc5Njg4IDYgNy4wMDM5MDYgNi44NTkzNzUgNi42MjUgOC4xMjUgTCA1LjI1IDEyLjcxODc1IEwgMy4zMTI1IDEyLjA2MjUgTCAyLjY4NzUgMTMuOTM3NSBMIDQuNjU2MjUgMTQuNTkzNzUgTCA0LjAzMTI1IDE2LjcxODc1IEMgNC4wMDc4MTMgMTYuODA4NTk0IDMuOTk2MDk0IDE2LjkwNjI1IDQgMTcgTCA0IDI0IEMgNCAyNC4wMzEyNSA0IDI0LjA2MjUgNCAyNC4wOTM3NSBMIDQgMjUgQyA0IDI1LjU1MDc4MSA0LjQ0OTIxOSAyNiA1IDI2IEwgOCAyNiBMIDguMzQzNzUgMjUgTCAyMy42NTYyNSAyNSBMIDI0IDI2IEwgMjcgMjYgQyAyNy41NTA3ODEgMjYgMjggMjUuNTUwNzgxIDI4IDI1IEwgMjggMjQuMTU2MjUgQyAyOC4wMDM5MDYgMjQuMTA1NDY5IDI4LjAwMzkwNiAyNC4wNTA3ODEgMjggMjQgTCAyOCAxNyBDIDI4LjAwMzkwNiAxNi45MDYyNSAyNy45OTIxODggMTYuODA4NTk0IDI3Ljk2ODc1IDE2LjcxODc1IEwgMjcuMzQzNzUgMTQuNTkzNzUgTCAyOS4zMTI1IDEzLjkzNzUgTCAyOC42ODc1IDEyLjA2MjUgTCAyNi43NSAxMi43MTg3NSBMIDI1LjM3NSA4LjEyNSBDIDI0Ljk5NjA5NCA2Ljg1OTM3NSAyMy44MjAzMTMgNiAyMi41IDYgWiBNIDkuNSA4IEwgMjIuNSA4IEMgMjIuOTQ1MzEzIDggMjMuMzM5ODQ0IDguMjkyOTY5IDIzLjQ2ODc1IDguNzE4NzUgTCAyNC43NSAxMyBMIDcuMjUgMTMgTCA4LjUzMTI1IDguNzE4NzUgQyA4LjY2MDE1NiA4LjI4OTA2MyA5LjA1NDY4OCA4IDkuNSA4IFogTSA2LjY1NjI1IDE1IEwgMjUuMzQzNzUgMTUgTCAyNiAxNy4xODc1IEwgMjYgMjMgTCA2IDIzIEwgNiAxNy4xODc1IFogTSA4LjUgMTYgQyA3LjY3MTg3NSAxNiA3IDE2LjY3MTg3NSA3IDE3LjUgQyA3IDE4LjMyODEyNSA3LjY3MTg3NSAxOSA4LjUgMTkgQyA5LjMyODEyNSAxOSAxMCAxOC4zMjgxMjUgMTAgMTcuNSBDIDEwIDE2LjY3MTg3NSA5LjMyODEyNSAxNiA4LjUgMTYgWiBNIDIzLjUgMTYgQyAyMi42NzE4NzUgMTYgMjIgMTYuNjcxODc1IDIyIDE3LjUgQyAyMiAxOC4zMjgxMjUgMjIuNjcxODc1IDE5IDIzLjUgMTkgQyAyNC4zMjgxMjUgMTkgMjUgMTguMzI4MTI1IDI1IDE3LjUgQyAyNSAxNi42NzE4NzUgMjQuMzI4MTI1IDE2IDIzLjUgMTYgWiBNIDEyIDE5IEwgMTAuNzUgMjIgTCAxMi45MDYyNSAyMiBMIDEzLjM0Mzc1IDIxIEwgMTguNjU2MjUgMjEgTCAxOS4wOTM3NSAyMiBMIDIxLjI1IDIyIEwgMjAgMTkgWiIvPjwvc3ZnPg==",nK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuMDQyOTY5IDQgNyA4LjA0Mjk2OSA3IDEzIEMgNyAxNC45MTc5NjkgNy44NDM3NSAxNi45MDYyNSA5IDE4LjY4NzUgQyA5Ljg1OTM3NSAyMC4wMTE3MTkgMTAuODg2NzE5IDIxLjIzMDQ2OSAxMiAyMi4xNTYyNSBMIDEyIDI1IEMgMTIgMjYuMDkzNzUgMTIuOTA2MjUgMjcgMTQgMjcgTCAxNSAyOCBMIDE3IDI4IEwgMTggMjcgQyAxOS4wOTM3NSAyNyAyMCAyNi4wOTM3NSAyMCAyNSBMIDIwIDIyLjE1NjI1IEMgMjEuMTEzMjgxIDIxLjIzMDQ2OSAyMi4xNDA2MjUgMjAuMDExNzE5IDIzIDE4LjY4NzUgQyAyNC4xNTYyNSAxNi45MDYyNSAyNSAxNC45MTc5NjkgMjUgMTMgQyAyNSA4LjA0Mjk2OSAyMC45NTcwMzEgNCAxNiA0IFogTSAxNiA2IEMgMTkuODc4OTA2IDYgMjMgOS4xMjEwOTQgMjMgMTMgQyAyMyAxNC4zMDg1OTQgMjIuMzU1NDY5IDE2LjAzNTE1NiAyMS4zNDM3NSAxNy41OTM3NSBDIDIwLjQ0MTQwNiAxOC45ODQzNzUgMTkuMjUzOTA2IDIwLjIyMjY1NiAxOC4xNTYyNSAyMSBMIDEzLjg0Mzc1IDIxIEMgMTIuNzQ2MDk0IDIwLjIyMjY1NiAxMS41NTg1OTQgMTguOTg0Mzc1IDEwLjY1NjI1IDE3LjU5Mzc1IEMgOS42NDQ1MzEgMTYuMDM1MTU2IDkgMTQuMzA4NTk0IDkgMTMgQyA5IDkuMTIxMDk0IDEyLjEyMTA5NCA2IDE2IDYgWiBNIDE0LjI1IDIzIEwgMTcuNzUgMjMgQyAxNy44MjgxMjUgMjMuMDU0Njg4IDE3LjkxMDE1NiAyMy4wOTM3NSAxOCAyMy4xMjUgTCAxOCAyNSBMIDE0IDI1IEwgMTQgMjMuMTI1IEMgMTQuMDg5ODQ0IDIzLjA5Mzc1IDE0LjE3MTg3NSAyMy4wNTQ2ODggMTQuMjUgMjMgWiIvPjwvc3ZnPg==",iK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSA1IEwgMTEgMTEgTCA1IDExIEwgNSAxMyBMIDExIDEzIEwgMTEgMTkgTCA1IDE5IEwgNSAyMSBMIDExIDIxIEwgMTEgMjcgTCAxMyAyNyBMIDEzIDIxIEwgMTkgMjEgTCAxOSAyNyBMIDIxIDI3IEwgMjEgMjEgTCAyNyAyMSBMIDI3IDE5IEwgMjEgMTkgTCAyMSAxMyBMIDI3IDEzIEwgMjcgMTEgTCAyMSAxMSBMIDIxIDUgTCAxOSA1IEwgMTkgMTEgTCAxMyAxMSBMIDEzIDUgWiBNIDEzIDEzIEwgMTkgMTMgTCAxOSAxOSBMIDEzIDE5IFoiLz48L3N2Zz4=",oK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5IDQgQyA3LjM0NiA0IDYgNS4zNDYgNiA3IEMgNiA4LjMwMTYwOTQgNi44Mzg3NDg2IDkuNDAyMTM5MSA4IDkuODE2NDA2MiBMIDggMTEuMzA0Njg4IEwgOCAyMy4yMDcwMzEgTCA4IDI3LjAyMzQzOCBDIDggMjcuNTYzNDM4IDguNDM2NTYyNSAyOCA4Ljk3NjU2MjUgMjggTCA5LjAyMzQzNzUgMjggQyA5LjU2MzQzNzUgMjggMTAgMjcuNTYzNDM3IDEwIDI3LjAyMzQzOCBMIDEwIDIyLjIyODUxNiBDIDEwLjMzNDcwNyAyMS44Mzk3NTYgMTEuMTM4NDIzIDIxLjA0Njg3NSAxMy40NDUzMTIgMjEuMDQ2ODc1IEMgMTQuNjY5MzEzIDIxLjA0Njg3NSAxNS42NzA0MjIgMjEuNDczNzgxIDE2LjczMjQyMiAyMS45MjU3ODEgQyAxNy43Njk0MjIgMjIuMzY3NzgxIDE4Ljg0MTg5MSAyMi44MjQyMTkgMjAuMDg3ODkxIDIyLjgyNDIxOSBDIDIyLjQ0Njg5MSAyMi44MjQyMTkgMjQuMDQ5Mzc1IDIxLjU4NDY4OCAyNC43MzQzNzUgMjEuMDU0Njg4IEwgMjQuODg2NzE5IDIwLjkzOTQ1MyBDIDI1LjQzNzcxOSAyMC41NDA0NTMgMjYgMTkuOTk2IDI2IDE5IEwgMjYgMTAuNjc1NzgxIEMgMjYgOS43Njc3ODEyIDI1LjIyMTgyOCA5IDI0LjI5ODgyOCA5IEMgMjMuODAzODI4IDkgMjMuNDQwNDA2IDkuMjg2NTkzNyAyMi45NDE0MDYgOS42ODM1OTM4IEMgMjIuMjc5NDA2IDEwLjIwNzU5NCAyMS4yODA4OTEgMTEgMjAuMDg3ODkxIDExIEMgMTkuMjcyODkxIDExIDE4LjQ3NzY4OCAxMC42MTk3MzQgMTcuNTU0Njg4IDEwLjE3NzczNCBDIDE2LjQwMzY4NyA5LjYyNTczNDQgMTUuMDk4MzU5IDkgMTMuNDQzMzU5IDkgQyAxMi4zMDgyNTcgOSAxMS40MjE2ODcgOS4xODgzMzkzIDEwLjcxMjg5MSA5LjQ1NzAzMTIgQyAxMS40ODkwNzEgOC45MTQxODI0IDEyIDguMDE2NzgwMiAxMiA3IEMgMTIgNS4zNDYgMTAuNjU0IDQgOSA0IHogTSA5IDYgQyA5LjU1MiA2IDEwIDYuNDQ5IDEwIDcgQyAxMCA3LjU1MSA5LjU1MiA4IDkgOCBDIDguNDQ4IDggOCA3LjU1MSA4IDcgQyA4IDYuNDQ5IDguNDQ4IDYgOSA2IHogTSAxMy40NDMzNTkgMTEgQyAxNC42NDUzNTkgMTEgMTUuNjM4NDA2IDExLjQ3NjQ2OSAxNi42OTE0MDYgMTEuOTgwNDY5IEMgMTcuNzM2NDA2IDEyLjQ4MjQ2OSAxOC44MTc4OTEgMTMgMjAuMDg3ODkxIDEzIEMgMjEuODQyODkxIDEzIDIzLjE1ODA0NyAxMi4wNTQ0ODQgMjMuOTk4MDQ3IDExLjM5NjQ4NCBMIDIzLjk5ODA0NyAxOS4wNjY0MDYgQyAyMy45OTcwNDcgMTkuMDcwNDA2IDIzLjk1Mjk4NCAxOS4xNDUyNjYgMjMuNzA4OTg0IDE5LjMyMjI2NiBMIDIzLjUwOTc2NiAxOS40NzQ2MDkgQyAyMi45NDI3NjYgMTkuOTEyNjA5IDIxLjc2Mjg5MSAyMC44MjQyMTkgMjAuMDg3ODkxIDIwLjgyNDIxOSBDIDE5LjI0OTg5MSAyMC44MjQyMTkgMTguNDQ2NjI1IDIwLjQ4MjkzNyAxNy41MTU2MjUgMjAuMDg1OTM4IEMgMTYuMzcyNjI1IDE5LjU5NzkzOCAxNS4wNzYzNTkgMTkuMDQ0OTIyIDEzLjQ0MzM1OSAxOS4wNDQ5MjIgQyAxMS44OTEzNTkgMTkuMDQ0OTIyIDEwLjc4NiAxOS4zNTggMTAgMTkuNzUgTCAxMCAxMi4zNjEzMjggQyAxMC4zNDUgMTEuOTA1MzI4IDExLjEzMjM1OSAxMSAxMy40NDMzNTkgMTEgeiIvPjwvc3ZnPg==",sK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuODMyMDMxIDQgOC4xNTIzNDQgNi4xMTMyODEgNiA5LjM0Mzc1IEwgNiA2IEwgNCA2IEwgNCAxMyBMIDExIDEzIEwgMTEgMTEgTCA3LjM3NSAxMSBDIDkuMTAxNTYzIDguMDE5NTMxIDEyLjI5Njg3NSA2IDE2IDYgQyAyMS41MzUxNTYgNiAyNiAxMC40NjQ4NDQgMjYgMTYgQyAyNiAyMS41MzUxNTYgMjEuNTM1MTU2IDI2IDE2IDI2IEMgMTAuNDY0ODQ0IDI2IDYgMjEuNTM1MTU2IDYgMTYgTCA0IDE2IEMgNCAyMi42MTcxODggOS4zODI4MTMgMjggMTYgMjggQyAyMi42MTcxODggMjggMjggMjIuNjE3MTg4IDI4IDE2IEMgMjggOS4zODI4MTMgMjIuNjE3MTg4IDQgMTYgNCBaIE0gMTUgOCBMIDE1IDE3IEwgMjIgMTcgTCAyMiAxNSBMIDE3IDE1IEwgMTcgOCBaIi8+PC9zdmc+Cg==";const aK=c.defineComponent({name:"Header",setup(t){const{state:e,updateSearch:r,updateActiveGroup:n}=c.inject("store"),i=c.computed(()=>!e.options.hideSearch),o=c.computed(()=>!e.options.hideGroupIcons),s=JSON.parse(JSON.stringify(e.orderedGroupKeys)),a=c.computed(()=>e.options.staticTexts.placeholder||""),l=c.computed({get:()=>e.search,set:u=>r(u)}),d=[...e.groups,...Object.keys(e.options.additionalGroups).map(u=>({key:u,title:e.options.groupNames[u]?e.options.groupNames[u]:yk(u)}))],f=[];return s.forEach(u=>{const h=d.findIndex(p=>p.key===u);h!==-1&&(f.push(d[h]),d.splice(h,1))}),{orderedGroups:f,orderedKeys:s,searchValue:l,updateActiveGroup:n,hasSearch:i,hasGroupIcons:o,placeholder:a,icons:{smileys_people:mk,animals_nature:ZY,food_drink:eK,activities:tK,travel_places:rK,objects:nK,symbols:iK,flags:oK,...e.options.groupIcons,recent:sK}}}}),lK={key:0,class:"v3-header"},cK={key:0,class:"v3-groups"},uK=["onClick"],dK=["title"],fK=["src"],hK={key:1,class:"v3-spacing"},pK={key:2,class:"v3-search"},mK=["placeholder"];function gK(t,e,r,n,i,o){return t.hasGroupIcons||t.hasSearch?(c.openBlock(),c.createElementBlock("div",lK,[t.hasGroupIcons?(c.openBlock(),c.createElementBlock("div",cK,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(t.orderedGroups,s=>(c.openBlock(),c.createElementBlock("button",{key:s.key,type:"button",class:c.normalizeClass(["v3-group",{"v3-is-hidden":!t.icons[s.key]}]),onClick:a=>t.updateActiveGroup(s.key)},[c.createElementVNode("span",{title:s.title,class:"v3-icon"},[c.createElementVNode("img",{src:t.icons[s.key],alt:""},null,8,fK)],8,dK)],10,uK))),128))])):c.createCommentVNode("",!0),t.hasGroupIcons&&t.hasSearch?(c.openBlock(),c.createElementBlock("div",hK)):c.createCommentVNode("",!0),t.hasSearch?(c.openBlock(),c.createElementBlock("div",pK,[c.withDirectives(c.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.searchValue=s),type:"text",placeholder:t.placeholder},null,8,mK),[[c.vModelText,t.searchValue]])])):c.createCommentVNode("",!0)])):c.createCommentVNode("",!0)}var yK=td(aK,[["render",gK]]);const bK=c.defineComponent({name:"Header",setup(){const{state:t,updateSkinTone:e}=c.inject("store"),r=c.ref(!1),n=c.ref(!1),i=c.computed(()=>t.skinTone),o=c.computed(()=>t.options.staticTexts.skinTone||"Skin tone"),s=c.computed(()=>!t.options.disableSkinTones),a=gk()?"is-mac":"",l=c.computed(()=>({...t.emoji,src:z4+"/"+t.emoji[Gu]+".png"}));function d(h=!0){r.value=h}function f(){r.value=!r.value}function u(h){e(h),d(!1)}return c.watch(()=>t.emoji,()=>{n.value=!1}),{emoji:l,SKIN_TONES:bQ,updateSkinToneState:d,skinTone:r,stateSkinTone:i,selectSkinTone:u,toggleSkinToneState:f,EMOJI_RESULT_KEY:Gu,EMOJI_NAME_KEY:up,skinToneText:o,hasSkinTones:s,native:t.options.native,unicodeToEmoji:yp,platform:a,hasError:n}}}),vK={class:"v3-foot-left"},_K={key:0},wK=["alt","src"],xK={class:"v3-text"},AK={class:"v3-text"},TK=["onClick"];function CK(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",{class:"v3-footer",onMouseleave:e[2]||(e[2]=s=>t.updateSkinToneState(!1))},[c.createElementVNode("div",vK,[c.createElementVNode("span",{class:c.normalizeClass([t.platform,"v3-icon"])},[t.native||t.hasError?(c.openBlock(),c.createElementBlock("span",_K,c.toDisplayString(t.unicodeToEmoji(t.emoji.r)),1)):(c.openBlock(),c.createElementBlock("img",{key:1,alt:t.unicodeToEmoji(t.emoji.r),src:t.emoji.src,onError:e[0]||(e[0]=s=>t.hasError=!0)},null,40,wK))],2),c.createElementVNode("span",xK," :"+c.toDisplayString(t.emoji[t.EMOJI_NAME_KEY][1]||t.emoji[t.EMOJI_NAME_KEY][0])+": ",1)]),t.hasSkinTones?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[c.createElementVNode("button",{type:"button",class:"v3-tone",onClick:e[1]||(e[1]=(...s)=>t.toggleSkinToneState&&t.toggleSkinToneState(...s))},[c.createElementVNode("span",AK,c.toDisplayString(t.skinToneText),1),c.createElementVNode("span",{class:c.normalizeClass(`v3-icon v3-tone-${t.stateSkinTone}`)},null,2)]),c.createElementVNode("div",{class:c.normalizeClass([t.skinTone?"v3-is-open":"","v3-skin-tones"])},[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(t.SKIN_TONES,s=>(c.openBlock(),c.createElementBlock("button",{key:s,type:"button",class:c.normalizeClass(["v3-skin-tone-"+s,"v3-skin-tone"]),onClick:a=>t.selectSkinTone(s)},null,10,TK))),128))],2)],64)):c.createCommentVNode("",!0)],32)}var EK=td(bK,[["render",CK]]);const SK=c.defineComponent({name:"PickerRoot",components:{Header:yK,Body:JY,Footer:EK},props:{type:{type:String,default:""},text:{type:String,default:""},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},groupNames:{type:Object,default:()=>({})}},emits:{select:t=>!0,"update:text":t=>!0},setup(t,{emit:e}){const r=c.ref(),n=c.ref(),i=c.ref(),o=c.ref(!1),s=c.ref(t.text),a=t.type==="input"||t.type==="textarea";let l=-1;const{state:d}=c.inject("store"),f=c.computed(()=>d.options.colorTheme);function u(v){if(a){const b=d.options.mode;b==="prepend"?s.value=v.i+s.value:b==="insert"&&l!==-1?(s.value=`${s.value.slice(0,l)}${v.i}${s.value.slice(l)}`,l+=v.i.length):s.value+=v.i,e("update:text",s.value)}e("select",v)}function h(){var v;r.value&&(l=((v=r.value)==null?void 0:v.selectionEnd)||-1)}function p(v){var b;!((b=v.target)!=null&&b.closest(".v3-input-picker-wrap"))&&o.value&&(o.value=!1)}function m(){if(n.value&&i.value&&a){let v=d.options.offset;typeof v!="number"&&(v=6),$Y(n.value,i.value,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,v]}}]}),document.body.addEventListener("click",p)}}function y(v){s.value=v.target.value||"",e("update:text",s.value)}return c.onMounted(()=>{m()}),c.onBeforeUnmount(()=>{document.body.removeEventListener("click",p)}),{face:mk,open:o,onSelect:u,input:s,elem:r,updateCursor:h,button:n,picker:i,isInputType:a,onChangeText:y,colorTheme:f}}}),kK={key:0,class:"v3-input-emoji-picker"},IK={class:"v3-input-picker-root"},DK=["value"],MK=["value"],NK=["src"];function OK(t,e,r,n,i,o){const s=c.resolveComponent("Header"),a=c.resolveComponent("Body"),l=c.resolveComponent("Footer");return t.isInputType?(c.openBlock(),c.createElementBlock("div",kK,[c.createElementVNode("div",IK,[t.type==="input"?(c.openBlock(),c.createElementBlock("input",{key:0,ref:"elem",value:t.input,type:"text",class:"v3-emoji-picker-input",onInput:e[0]||(e[0]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[1]||(e[1]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,DK)):(c.openBlock(),c.createElementBlock("textarea",{key:1,ref:"elem",value:t.input,class:"v3-emoji-picker-textarea",onInput:e[2]||(e[2]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[3]||(e[3]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,MK)),c.createElementVNode("div",{class:c.normalizeClass(["v3-input-picker-wrap",t.open?"v3-picker-is-open":""])},[c.createElementVNode("button",{ref:"button",type:"button",class:"v3-input-picker-icon",onClick:e[4]||(e[4]=d=>t.open=!t.open)},[c.createElementVNode("img",{src:t.face,alt:""},null,8,NK)],512),c.createElementVNode("div",{ref:"picker",class:c.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[c.createVNode(s),c.createVNode(a,{onSelect:t.onSelect},null,8,["onSelect"]),c.createVNode(l)],2)],2)])])):(c.openBlock(),c.createElementBlock("div",{key:1,class:c.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[c.createVNode(s),c.createVNode(a,{onSelect:t.onSelect},null,8,["onSelect"]),c.createVNode(l)],2))}var LK=td(SK,[["render",OK]]);const BK=c.defineComponent({name:"Picker",components:{PickerRoot:LK},props:{native:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1},hideGroupIcons:{type:Boolean,default:!1},hideGroupNames:{type:Boolean,default:!1},staticTexts:{type:Object,default:()=>({})},disableStickyGroupNames:{type:Boolean,default:!1},disabledGroups:{type:Array,default:()=>[]},groupNames:{type:Object,default:()=>({})},disableSkinTones:{type:Boolean,default:!1},text:{type:String,default:""},mode:{type:String,default:"insert"},offset:{type:Number,default:6},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},pickerType:{type:String,default:""},displayRecent:{type:Boolean,default:!1},theme:{type:String,default:"light"}},emits:{"update:text":t=>!0,select:t=>!0},setup(t,{emit:e}){const r=c.ref(t.text);function n(o){r.value=o||"",e("update:text",r.value)}const i=BQ();return i.updateOptions({native:t.native,hideSearch:t.hideSearch,hideGroupIcons:t.hideGroupIcons,hideGroupNames:t.hideGroupNames,staticTexts:{...vQ,...t.staticTexts},disableStickyGroupNames:t.disableStickyGroupNames,disabledGroups:t.disabledGroups,groupNames:{...V4,...t.groupNames},disableSkinTones:t.disableSkinTones,displayRecent:t.displayRecent,additionalGroups:t.additionalGroups,mode:t.mode,offset:t.offset,groupOrder:t.groupOrder,groupIcons:t.groupIcons,colorTheme:_Q.includes(t.theme)?t.theme:"light"}),c.provide("store",i),{type:t.pickerType,input:r,onChangeText:n}}});function RK(t,e,r,n,i,o){const s=c.resolveComponent("picker-root");return c.openBlock(),c.createBlock(s,{type:t.type,text:t.input,onSelect:e[0]||(e[0]=a=>t.$emit("select",a)),"onUpdate:text":t.onChangeText},null,8,["type","text","onUpdate:text"])}var PK=td(BK,[["render",RK]]);/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function rd(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(u){s(u)}}function l(f){try{d(n.throw(f))}catch(u){s(u)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((n=n.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class ar{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(r=>{e=r})}dispatch(e){return rd(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(e())}finally{r()}})}}var Qy;function FK(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const Yy=FK(),Ky=(Qy=Yy.Buffer)!==null&&Qy!==void 0?Qy:null,UK=Yy.TextEncoder?new Yy.TextEncoder:null;function bk(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function jK(t,e){const r=e.length>>1;for(let n=0;n<r;n++){const i=n<<1;t[n]=bk(e.charCodeAt(i),e.charCodeAt(i+1))}}function $K(t,e){if(t.length!==e.length*2)return!1;for(let r=0;r<e.length;r++){const n=r<<1;if(e[r]!==bk(t.charCodeAt(n),t.charCodeAt(n+1)))return!1}return!0}const vk=87,_k=48;function wk(t,e,r){let n=0;for(let i=0;i<r;i++){let o=e[i]>>>4;t[n++]=o>9?o+vk:o+_k,o=e[i]&15,t[n++]=o>9?o+vk:o+_k}return String.fromCharCode.apply(null,t)}const xk=Ky!==null?t=>{if(typeof t=="string"){const e=Ky.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(Ky.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return UK.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},Ak="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nd=new Uint8Array(256);for(let t=0;t<Ak.length;t++)nd[Ak.charCodeAt(t)]=t;function zK(t){let e=Math.floor(t.length*.75);const r=t.length;return t[r-1]==="="&&(e-=1,t[r-2]==="="&&(e-=1)),e}function VK(t){const e=zK(t),r=t.length,n=new Uint8Array(e);let i=0;for(let o=0;o<r;o+=4){const s=nd[t.charCodeAt(o)],a=nd[t.charCodeAt(o+1)],l=nd[t.charCodeAt(o+2)],d=nd[t.charCodeAt(o+3)];n[i]=s<<2|a>>4,i+=1,n[i]=(a&15)<<4|l>>2,i+=1,n[i]=(l&3)<<6|d&63,i+=1}return n}const bp=16*1024,id=4,HK=new ar,Xy=new Map;function qK(t,e){return rd(this,void 0,void 0,function*(){let r=null,n=null,i=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const o=(I,L=0)=>{n.set(I,L)},s=()=>n,a=()=>r.exports,l=I=>{r.exports.Hash_SetMemorySize(I);const L=r.exports.Hash_GetBuffer(),k=r.exports.memory.buffer;n=new Uint8Array(k,L,I)},d=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),f=HK.dispatch(()=>rd(this,void 0,void 0,function*(){if(!Xy.has(t.name)){const L=VK(t.data),k=WebAssembly.compile(L);Xy.set(t.name,k)}const I=yield Xy.get(t.name);r=yield WebAssembly.instantiate(I,{})})),u=()=>rd(this,void 0,void 0,function*(){r||(yield f);const I=r.exports.Hash_GetBuffer(),L=r.exports.memory.buffer;n=new Uint8Array(L,I,bp)}),h=(I=null)=>{i=!0,r.exports.Hash_Init(I)},p=I=>{let L=0;for(;L<I.length;){const k=I.subarray(L,L+bp);L+=k.length,n.set(k),r.exports.Hash_Update(k.length)}},m=I=>{if(!i)throw new Error("update() called before init()");const L=xk(I);p(L)},y=new Uint8Array(e*2),v=(I,L=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(L),I==="binary"?n.slice(0,e):wk(y,n,e)},b=()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const I=r.exports.Hash_GetState(),L=d(),k=r.exports.memory.buffer,T=new Uint8Array(k,I,L),F=new Uint8Array(id+L);return jK(F,t.hash),F.set(T,id),F},A=I=>{if(!(I instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const L=r.exports.Hash_GetState(),k=d(),T=id+k,F=r.exports.memory.buffer;if(I.length!==T)throw new Error(`Bad state length (expected ${T} bytes, got ${I.length})`);if(!$K(t.hash,I.subarray(0,id)))throw new Error("This state was written by an incompatible hash implementation");const z=I.subarray(id);new Uint8Array(F,L,k).set(z),i=!0},C=I=>typeof I=="string"?I.length<bp/4:I.byteLength<bp;let S=C;switch(t.name){case"argon2":case"scrypt":S=()=>!0;break;case"blake2b":case"blake2s":S=(I,L)=>L<=512&&C(I);break;case"blake3":S=(I,L)=>L===0&&C(I);break;case"xxhash64":case"xxhash3":case"xxhash128":S=()=>!1;break}const M=(I,L=null,k=null)=>{if(!S(I,L))return h(L),m(I),v("hex",k);const T=xk(I);return n.set(T),r.exports.Hash_Calculate(T.length,L,k),wk(y,n,e)};return yield u(),{getMemory:s,writeMemory:o,getExports:a,setMemorySize:l,init:h,update:m,digest:v,save:b,load:A,calculate:M,hashLength:e}})}function WK(t,e,r){return rd(this,void 0,void 0,function*(){const n=yield t.lock(),i=yield qK(e,r);return n(),i})}new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar;var GK="sha1",QK="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwkIAAECAwECAAEFBAEBAgIGDgJ/AUHgiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUABApIYXNoX0ZpbmFsAAUNSGFzaF9HZXRTdGF0ZQAGDkhhc2hfQ2FsY3VsYXRlAAcKU1RBVEVfU0laRQMBCpoqCAUAQYAJC68iCgF+An8BfgF/AX4DfwF+AX8Bfkd/QQAgACkDECIBQiCIpyICQRh0IAJBgP4DcUEIdHIgAUIoiKdBgP4DcSABQjiIp3JyIgMgACkDCCIEQiCIpyICQRh0IAJBgP4DcUEIdHIgBEIoiKdBgP4DcSAEQjiIp3JyIgVzIAApAygiBkIgiKciAkEYdCACQYD+A3FBCHRyIAZCKIinQYD+A3EgBkI4iKdyciIHcyAEpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciIIIAApAwAiBKciAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCXMgACkDICIKpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciILcyAAKQMwIgxCIIinIgJBGHQgAkGA/gNxQQh0ciAMQiiIp0GA/gNxIAxCOIincnIiAnNBAXciDXNBAXciDiAFIARCIIinIg9BGHQgD0GA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiEHMgCkIgiKciD0EYdCAPQYD+A3FBCHRyIApCKIinQYD+A3EgCkI4iKdyciIRcyAAKQM4IgSnIg9BGHQgD0GA/gNxQQh0ciAPQQh2QYD+A3EgD0EYdnJyIg9zQQF3IhJzIAcgEXMgEnMgCyAAKQMYIgqnIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyIhNzIA9zIA5zQQF3IgBzQQF3IhRzIA0gD3MgAHMgAiAHcyAOcyAGpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIWIAtzIA1zIApCIIinIhVBGHQgFUGA/gNxQQh0ciAKQiiIp0GA/gNxIApCOIincnIiFyADcyACcyABpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIYIAhzIBZzIARCIIinIhVBGHQgFUGA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiFXNBAXciGXNBAXciGnNBAXciG3NBAXciHHNBAXciHXNBAXciHiASIBVzIBEgF3MgFXMgEyAYcyAMpyIfQRh0IB9BgP4DcUEIdHIgH0EIdkGA/gNxIB9BGHZyciIgcyASc0EBdyIfc0EBdyIhcyAPICBzIB9zIBRzQQF3IiJzQQF3IiNzIBQgIXMgI3MgACAfcyAicyAec0EBdyIkc0EBdyIlcyAdICJzICRzIBwgFHMgHnMgGyAAcyAdcyAaIA5zIBxzIBkgDXMgG3MgFSACcyAacyAgIBZzIBlzICFzQQF3IiZzQQF3IidzQQF3IihzQQF3IilzQQF3IipzQQF3IitzQQF3IixzQQF3Ii0gIyAncyAhIBpzICdzIB8gGXMgJnMgI3NBAXciLnNBAXciL3MgIiAmcyAucyAlc0EBdyIwc0EBdyIxcyAlIC9zIDFzICQgLnMgMHMgLXNBAXciMnNBAXciM3MgLCAwcyAycyArICVzIC1zICogJHMgLHMgKSAecyArcyAoIB1zICpzICcgHHMgKXMgJiAbcyAocyAvc0EBdyI0c0EBdyI1c0EBdyI2c0EBdyI3c0EBdyI4c0EBdyI5c0EBdyI6c0EBdyI7IDEgNXMgLyApcyA1cyAuIChzIDRzIDFzQQF3IjxzQQF3Ij1zIDAgNHMgPHMgM3NBAXciPnNBAXciP3MgMyA9cyA/cyAyIDxzID5zIDtzQQF3IkBzQQF3IkFzIDogPnMgQHMgOSAzcyA7cyA4IDJzIDpzIDcgLXMgOXMgNiAscyA4cyA1ICtzIDdzIDQgKnMgNnMgPXNBAXciQnNBAXciQ3NBAXciRHNBAXciRXNBAXciRnNBAXciR3NBAXciSHNBAXciSSA+IEJzIDwgNnMgQnMgP3NBAXciSnMgQXNBAXciSyA9IDdzIENzIEpzQQF3IkwgRCA5IDIgMSA0ICkgHSAUIB8gFSAWQQAoAoCJASJNQQV3QQAoApCJASJOaiAJakEAKAKMiQEiT0EAKAKIiQEiCXNBACgChIkBIlBxIE9zakGZ84nUBWoiUUEedyJSIANqIFBBHnciAyAFaiBPIAMgCXMgTXEgCXNqIBBqIFFBBXdqQZnzidQFaiIQIFIgTUEedyIFc3EgBXNqIAkgCGogUSADIAVzcSADc2ogEEEFd2pBmfOJ1AVqIlFBBXdqQZnzidQFaiJTIFFBHnciAyAQQR53IghzcSAIc2ogBSAYaiBRIAggUnNxIFJzaiBTQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhhBHnciUmogU0EedyIWIAtqIAggE2ogBSAWIANzcSADc2ogGEEFd2pBmfOJ1AVqIgggUiAFQR53IgtzcSALc2ogAyAXaiAYIAsgFnNxIBZzaiAIQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhMgBUEedyIWIAhBHnciA3NxIANzaiALIBFqIAUgAyBSc3EgUnNqIBNBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiUkEedyILaiACIBNBHnciFWogByADaiARIBUgFnNxIBZzaiBSQQV3akGZ84nUBWoiByALIBFBHnciAnNxIAJzaiAgIBZqIFIgAiAVc3EgFXNqIAdBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiFiARQR53IhUgB0EedyIHc3EgB3NqIA8gAmogESAHIAtzcSALc2ogFkEFd2pBmfOJ1AVqIgtBBXdqQZnzidQFaiIRQR53IgJqIBIgFWogESALQR53Ig8gFkEedyISc3EgEnNqIA0gB2ogCyASIBVzcSAVc2ogEUEFd2pBmfOJ1AVqIg1BBXdqQZnzidQFaiIVQR53Ih8gDUEedyIHcyAZIBJqIA0gAiAPc3EgD3NqIBVBBXdqQZnzidQFaiINc2ogDiAPaiAVIAcgAnNxIAJzaiANQQV3akGZ84nUBWoiAkEFd2pBodfn9gZqIg5BHnciD2ogACAfaiACQR53IgAgDUEedyINcyAOc2ogGiAHaiANIB9zIAJzaiAOQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg5BHnciEiACQR53IhRzICEgDWogDyAAcyACc2ogDkEFd2pBodfn9gZqIgJzaiAbIABqIBQgD3MgDnNqIAJBBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyIOaiAcIBJqIABBHnciDyACQR53IgJzIA1zaiAmIBRqIAIgEnMgAHNqIA1BBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyISIABBHnciFHMgIiACaiAOIA9zIABzaiANQQV3akGh1+f2BmoiAHNqICcgD2ogFCAOcyANc2ogAEEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53Ig5qICggEmogAkEedyIPIABBHnciAHMgDXNqICMgFGogACAScyACc2ogDUEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53IhIgAkEedyIUcyAeIABqIA4gD3MgAnNqIA1BBXdqQaHX5/YGaiIAc2ogLiAPaiAUIA5zIA1zaiAAQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg1BHnciDmogKiAAQR53IgBqIA4gAkEedyIPcyAkIBRqIAAgEnMgAnNqIA1BBXdqQaHX5/YGaiIUc2ogLyASaiAPIABzIA1zaiAUQQV3akGh1+f2BmoiDUEFd2pBodfn9gZqIgAgDUEedyICciAUQR53IhJxIAAgAnFyaiAlIA9qIBIgDnMgDXNqIABBBXdqQaHX5/YGaiINQQV3akHc+e74eGoiDkEedyIPaiA1IABBHnciAGogKyASaiANIAByIAJxIA0gAHFyaiAOQQV3akHc+e74eGoiEiAPciANQR53Ig1xIBIgD3FyaiAwIAJqIA4gDXIgAHEgDiANcXJqIBJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAiAAQR53Ig5yIBJBHnciEnEgAiAOcXJqICwgDWogACASciAPcSAAIBJxcmogAkEFd2pB3Pnu+HhqIgBBBXdqQdz57vh4aiINQR53Ig9qIDwgAkEedyICaiA2IBJqIAAgAnIgDnEgACACcXJqIA1BBXdqQdz57vh4aiISIA9yIABBHnciAHEgEiAPcXJqIC0gDmogDSAAciACcSANIABxcmogEkEFd2pB3Pnu+HhqIgJBBXdqQdz57vh4aiINIAJBHnciDnIgEkEedyIScSANIA5xcmogNyAAaiACIBJyIA9xIAIgEnFyaiANQQV3akHc+e74eGoiAEEFd2pB3Pnu+HhqIgJBHnciD2ogMyANQR53Ig1qID0gEmogACANciAOcSAAIA1xcmogAkEFd2pB3Pnu+HhqIhIgD3IgAEEedyIAcSASIA9xcmogOCAOaiACIAByIA1xIAIgAHFyaiASQQV3akHc+e74eGoiAkEFd2pB3Pnu+HhqIg0gAkEedyIOciASQR53IhJxIA0gDnFyaiBCIABqIAIgEnIgD3EgAiAScXJqIA1BBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyIPaiBDIA5qIAIgAEEedyIUciANQR53Ig1xIAIgFHFyaiA+IBJqIAAgDXIgDnEgACANcXJqIAJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyISIABBHnciDnMgOiANaiAAIA9yIBRxIAAgD3FyaiACQQV3akHc+e74eGoiAHNqID8gFGogAiAOciAPcSACIA5xcmogAEEFd2pB3Pnu+HhqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEogEmogAkEedyIUIABBHnciAHMgDXNqIDsgDmogACAScyACc2ogDUEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig4gAkEedyIScyBFIABqIA8gFHMgAnNqIA1BBXdqQdaDi9N8aiIAc2ogQCAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciD2ogQSAOaiACQR53IhQgAEEedyIAcyANc2ogRiASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzIEIgOHMgRHMgTHNBAXciFSAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEcgFGogEiAPcyANc2ogAEEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEggDmogAkEedyIUIABBHnciAHMgDXNqIEMgOXMgRXMgFXNBAXciGSASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzID8gQ3MgTHMgS3NBAXciGiAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEQgOnMgRnMgGXNBAXciGyAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDyBOajYCkIkBQQAgTyBKIERzIBVzIBpzQQF3IhQgEmogAEEedyIAIA5zIAJzaiANQQV3akHWg4vTfGoiEkEedyIVajYCjIkBQQAgCSBFIDtzIEdzIBtzQQF3IA5qIAJBHnciAiAAcyANc2ogEkEFd2pB1oOL03xqIg1BHndqNgKIiQFBACBQIEAgSnMgS3MgSXNBAXcgAGogDyACcyASc2ogDUEFd2pB1oOL03xqIgBqNgKEiQFBACBNIEwgRXMgGXMgFHNBAXdqIAJqIBUgD3MgDXNqIABBBXdqQdaDi9N8ajYCgIkBCzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqAMBCH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQBBACgCmIkBIAQgA0lqIAFBHXZqNgKYiQECQCADQQN2QT9xIgUgAWpBwABJDQBBwAAgBWsiAkEDcSEGQQAhAwJAIAVBP3NBA0kNACAFQYCJAWohByACQfwAcSEIQQAhAwNAIAcgA2oiBEEcaiAAIANqIgktAAA6AAAgBEEdaiAJQQFqLQAAOgAAIARBHmogCUECai0AADoAACAEQR9qIAlBA2otAAA6AAAgCCADQQRqIgNHDQALCwJAIAZFDQAgACADaiEEIAMgBWpBnIkBaiEDA0AgAyAELQAAOgAAIARBAWohBCADQQFqIQMgBkF/aiIGDQALC0GciQEQASAFQf8AcyEDQQAhBSADIAFPDQADQCAAIAJqEAEgAkH/AGohAyACQcAAaiIEIQIgAyABSQ0ACyAEIQILAkAgASACRg0AIAEgAmshCSAAIAJqIQIgBUGciQFqIQNBACEEA0AgAyACLQAAOgAAIAJBAWohAiADQQFqIQMgCSAEQQFqIgRB/wFxSw0ACwsLCQBBgAkgABADC6YDAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAggAEEAKAKUiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAwgAEEHakEBEAMCQEEAKAKUiQFB+ANxQcADRg0AA0AgAEEAOgAHIABBB2pBARADQQAoApSJAUH4A3FBwANHDQALCyAAQQhqQQgQA0EAQQAoAoCJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AoQJQQBBACgCiIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKICUEAQQAoAoyJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2ApAJIABBEGokAAsGAEGAiQELQwBBAEL+uevF6Y6VmRA3AoiJAUEAQoHGlLqW8ermbzcCgIkBQQBC8MPLngw3ApCJAUEAQQA2ApiJAUGACSAAEAMQBQsLCwEAQYAICwRcAAAA",YK="6b530c24",KK={name:GK,data:QK,hash:YK};const XK=new ar;let vp=null;function Jy(t){if(vp===null)return WK(XK,KK,20).then(e=>(vp=e,vp.calculate(t)));try{const e=vp.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar,new ar;const Zy=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=new Image;i.src=n.result,i.onload=async()=>{e({id:await Jy(i.src),width:i.width,height:i.height,thumbnailUrl:i.src,originalUrl:i.src})},i.onerror=()=>r},n.onerror=()=>{r(n.error)},n.readAsDataURL(t)}),JK=t=>new Promise((e,r)=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}const o=document.createElement("video");o.src=URL.createObjectURL(t),o.autoplay=!0,o.onloadedmetadata=()=>{n.width=o.videoWidth,n.height=o.videoHeight},o.onloadeddata=()=>{i.drawImage(o,0,0,n.width,n.height),n.toBlob(async s=>{if(!s){r(new Error("Could not create blob"));return}const a=new File([s],"snapshot.jpg",{type:"image/jpeg"}),l=new FileReader;l.readAsDataURL(s),l.onloadend=async()=>{e({id:await Jy(o.src),width:n.width,height:n.height,duration:o.duration,thumbnailUrl:l.result,originalUrl:"",thumbnailFile:{id:await Jy(n.toDataURL()),file:a}})}},"image/jpeg")},o.onerror=()=>r}),_p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSElEQVR4nO1azW9bRRBfia8jggKlfPSAACFF4f8AKkQ/0lYFxAFw6lnHeMYNCRdmbJqkEtAol6KKK4iqd+DAAYFEKyq+BEJUcKINLVAqoCQF0jageXYav33P4a3f87Mj/JNWSuzd2R3v7MxvdtaYAQYYYIAB/qew43wHVOVJIJkFlPct8Ukg+dWS/KMNSH4HlG+A5D2LfLBEsqtQ2b/JrCdYO73BEpNF/sQSL68ol7QByhWL8pElea4wceBG068Yxf13WuRDFuVPXyXXaH9YkrlyeWqj6Rcw8/UWWYD4YoaKhhvyBSCeLBQOX9dTZS3Wh4H4y/aL5ctAfMyiTBWrvA0q9aHi5MxNunBt+nfwWZW3aR8gOR6YdHvFT1ji+3uibIlkFyAvtFnYKYsyoWbuK3fseb5LdxNQTrc3c95i8gQgl+McEhD/bKtcUDPP5KhUeK9FORdnOfqdyQMWuRLrXUneROSbM5/PTm8AkrdilF4uoTxtugmo8o7oGeMlS/xM961KRhtzhXe6RPxYNx3UReeXXixVaw+ZnADID+ucjr/4rTxevy/TicbG5m6IemNeylPZFRSrtUfcnQbkz5j52swmAZJazBnquhm3Q+DMogytmonwcpk3R0wZ+Q3TYwDyETdcwT6+PQPB8roberrhjX1RIL4FiH9xdvnlVEL3Vvm2CDeucsH0CYrI4JzlBWVvHQu0KBMug8qCVGTqTB1GBiTFjgVaks/DCstE4rFY2wrEP1rieYu17Qn6b7fEZ7SpJ046j9JQR+HjphMUK3yPG+R9uLFF+SlEBZH3tO/Le4I+q2fxh8TrpJfuDpMhXh4bm7o16firsBV5ynFWx4wHwgpfVXp3tB/vblW22XfeZy4g+bh1fIlqIz7jAwDKYcecp4wHdFJXEUC5pFlWOOOSS9Ef5r+PQCssyozjaw76jA9gUT4IC6ltNZ6ACu+MUwhIHm/y8sh3JeQnvOep8g4nJr/tK8MAyfeh3anUh7yFNE3WVUz/j/sszuSTzVEfdsLTtx0IkVD8TUM24k23val3QkKc43fOW4h1Evy08bdhdm56t2riaeOx42D/8hIwMnL0GndhqRWOPc9N867wzp4qrHDvq9KZdG1kLZPu1Flla9LIp9ar07Ik33kLAeIPexGWtDSTNiwB8jud7Mwh51xM+40PuHEuxAOID4TXKrM+4wPojWAaUm5Rzqaglmf85tIL+tbj14ETLJd5s7M7V/SSPPEigsyns+TBR+HgRsZJHjSPTzo+BIvylWPWkyYhtDqwku75poc+lQWL8kIaSwwBUMadXT7dbxcAQb7dska9BelYYLk8tRFQ/g6dr7xKHAkAyCXHOy9opSKdUJLXHJM5r4He9EPhPVJ34ldSCy6r83ISCa31mB4DiI+GeQJfyOSaVmGRX4zhwKOmR7AktmsX8S23g1875rOktR6TM9SDR2gpyaeZvw6ASn0opgC+mKfSjVAXLqY1XgLxvV2ZsNSggtFyaQ6eW804loYSP5prKLCrIeFIN7y3XrlGHFSTUQHKsyavJw8Q8/hEaz0a+PXMZ+M3uKRhMEbZy7kpu4JGetfmUQvxvNJQvSQ3ntAxDboYZlCtZ7brZtwOJeIHgPiLeKUbCUdwSY4yE+SsWB/WmxOlp9r07+I+fjD48TTFQz6x1rMl9cZdc1BJoeFAnwlq4G+30Azaoj5+6yceb4KnhyRzkTcYKZoeGUB5NTMG1bVCtTo1p96TvPGypngahvqh8O6dbQWxm2TWkrzbfD58XjOwoAUemE/qd9pH+3acvA8wwAADDGDWP/4FAPVu0JK6ZhcAAAAASUVORK5CYII=",ZK={key:0,class:"mb-3 flex gap-2 rounded-lg bg-gray-200 p-2 dark:bg-zinc-600"},eX={class:"flex flex-col gap-1"},tX={class:"text-sm font-bold text-gray-600"},rX={class:"multiline-ellipsis text-xs text-gray-500 dark:text-gray-300"},nX={class:"ml-auto flex flex-shrink-0 gap-2"},iX={key:0},oX={key:1},sX={src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"h-[2.8rem] w-[2.8rem] border-0 object-contain"},aX={key:2,class:"h-10 w-10 rounded object-cover"},lX=wi(c.defineComponent({__name:"ReplyMessagePreview",setup(t){const e=Rt(),r=c.computed(()=>{var f;const{replyId:d}=e.state.imkit;return(f=e.state.imkit.messageMultiList.main)==null?void 0:f.map.get(d)}),n=c.computed(()=>{const d=r.value;if(d)return e.state.imkit.users[d.senderId]}),i=c.computed(()=>{if(r.value.type===Xe.Text)return r.value.text;if(r.value.type===Xe.Image||r.value.type===Xe.Sticker||r.value.type===Xe.Video){const{t:d}=_i();return{[Xe.Image]:d("image"),[Xe.Video]:d("video"),[Xe.Sticker]:d("sticker")}[r.value.type]}return""}),o=c.computed(()=>{if(r.value.type===Xe.Image)return r.value.images[0]}),s=c.computed(()=>r.value),a=c.computed(()=>r.value),l=()=>{e.commit("imkit/setState",{replyId:""})};return(d,f)=>{var h,p,m;const u=c.resolveDirective("src");return r.value?(c.openBlock(),c.createElementBlock("div",ZK,[c.createVNode(zr,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg bg-gray-300 text-sm",url:((h=n.value)==null?void 0:h.avatarUrl)??"",name:((p=n.value)==null?void 0:p.nickname)??""},null,8,["url","name"]),c.createElementVNode("div",eX,[c.createElementVNode("div",tX,c.toDisplayString((m=n.value)==null?void 0:m.nickname),1),c.createElementVNode("div",rX,c.toDisplayString(i.value),1)]),c.createElementVNode("div",nX,[r.value.type===c.unref(Xe).Sticker?(c.openBlock(),c.createElementBlock("div",iX,[c.createVNode(__,{class:c.normalizeClass({"h-[2.8rem] w-[2.8rem]":!0}),message:s.value},null,8,["message"])])):c.createCommentVNode("",!0),r.value.type===c.unref(Xe).Video?(c.openBlock(),c.createElementBlock("div",oX,[c.withDirectives(c.createElementVNode("img",sX,null,512),[[u,a.value.video.thumbnailUrl]])])):c.createCommentVNode("",!0),o.value?c.withDirectives((c.openBlock(),c.createElementBlock("img",aX,null,512)),[[u,o.value.thumbnailUrl]]):c.createCommentVNode("",!0),c.createElementVNode("img",{src:_p,class:"h-5 w-5 cursor-pointer text-gray-400",onClick:l})])])):c.createCommentVNode("",!0)}}}),[["__scopeId","data-v-5db3707c"]]),cX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXElEQVR4nO2Zv2sUQRTHH4qKhYWFiljYSqLVFbl9M3aiQbAzWFgGrA0Wlrvz7oKKRLAMWomN9w8o2AdLG7EJgj8awUKy995GRFcWklxiSLxzf8zMMh/49vtlZt/37XcBAoFAIBAIBAL7oyidVsRGGXnUpfQCtBF8kB9TSTaviFcUSb4lwxLF6XloC2gkQuKnSJzuMLpNSPwQfEYvrp1A4gUkfreXyb9OOQHviPMDupddQuJnxTUdy+iW0mnwhW6fz2iSu2j4w2QmN8Ur4DpTcX5YGb6GJAMk/vl/RjeUZPPgKlG8fg4N31ckX0uZHA2rtJje4BLdpfyoNjKHhl8rw7+rMDoaVvIEXEETd5BkWRleq9TkdvW5a9fkve/HNfEtNPK2NpOjYfXewziRMu/vgmdxImVO90exnPgVJ1TmdGXgVZyokorM8EotRjGRG7u+TiwLiT8Wc6N6szS8attcox8KiuSOdXO7xL+inpytxfDF/vC0Mrxq3+QOvYK6p7LeXAvtm82LZ4GmV0UkzqwYNvJt9nF+BJpmZjE9VSwciuRzw+/vEthkqvHr7lCroWu/7o62GjN1XXeXW42qr7uTrcZ+IMmb1rQa44CJ3PS61ZiUznJ+SBn54lerUZJi4fei1aiKKE5PouF1J1uNulDEzyc6XcMvwGc0cWciw73sMvgOjhlRaPjT3CA/CL6DY0YUksTQBjpjRVSNrYaLEYVGXkKbiP4RURHxdWgbaq+IstVq2Isoy61G8xHlUKtRf0Q52mpU/GNu1UoFa4uNsv+27g1nrT1EIBAIBAJghT+Mm9s2KhDbfwAAAABJRU5ErkJggg==",Tk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR4nO1Zu24TQRRdAaGg5FHx+AsQfIgFgj5NZOeeSQGi2Y7QWiQKiCaW0iFCAaHhD1JEAoUPIKQiMRKR7Jld4wy66weOsbUzuzO7RvKRrmTJo/U5O/feOXMdBHPMMUdu6ErlfHt5+Z4ieiqBt5LoqyT6KYE4id7nff6O17SAuzoMzwVloy3ETUn0XBEdKkBbxncJrLaq1RuFEz+pVq8p4JUkijIQPxOy94yNEyGuFkI+Ah5KomZe4hPiOAIeeCOuFxcXFPDaA3F9Johe8m+5Jn9JAh+9k8cwrXb4N12RXyiSvPobn3QYXswtoJC0wdTYyEW+TfSoRPKaIxLifibyv5aWriiio7IFSKJmphbLfb5s8moQROtW5Pl0tDqkhNBxvW5MKFkrhM0uRO1a7ZaxgMQeWJD/vburdberO1tb6eQ3N5O13b09rVZWzEUAq0bk2WSxT7EiP0CKiAH54fI9CxFEh2waUwUkrtIiFUYJDUTEjca/axuNyWvrFqkH3EkVwHbXpsDG3+qknZi2JjZIubFdeGKS/9tWD00R4Yw8kjp4ky4A2Ld98FQRp6e9cEBe9brRF5MdyGyVJ4pwRF71UujIRECuS0oiYvyt93cjF3kkKaRKFdApSEDTZwp1vKcQ/Bdxx3MRbzsh3y9Yk3NCuWyjrg6y0YJ1KOJxqgAeOs2slajVbpuZOaKDrGYu9mXmgG/G0zy2rlnsdOzTThM9MyI/kxcaQLWA64ENeCJgWWD+guhFYAsNXJ6FS70CjjPPTXlWWbaASIhKkAc8qyxRwFqQF3wPlcC7oslL4IMOwwu5BQyHu0Q7hZEneu9suDs2Xi+iM605e/OTwLNKT93pR+6CtZybrvMB4yDXFfd5bttB0eDTMbEdpt5pNIgO2B5Yn7A+wCaLh048t2HPzhcPvtmxHelHUwKf+Tu2xOwqZ+Jv1jnmCP5//AFGuxmMzLZJIgAAAABJRU5ErkJggg==";function od(t,e,r){var n=r||{},i=n.noTrailing,o=i===void 0?!1:i,s=n.noLeading,a=s===void 0?!1:s,l=n.debounceMode,d=l===void 0?void 0:l,f,u=!1,h=0;function p(){f&&clearTimeout(f)}function m(v){var b=v||{},A=b.upcomingOnly,C=A===void 0?!1:A;p(),u=!C}function y(){for(var v=arguments.length,b=new Array(v),A=0;A<v;A++)b[A]=arguments[A];var C=this,S=Date.now()-h;if(u)return;function M(){h=Date.now(),e.apply(C,b)}function I(){f=void 0}!a&&d&&!f&&M(),p(),d===void 0&&S>t?a?(h=Date.now(),o||(f=setTimeout(d?I:M,t))):M():o!==!0&&(f=setTimeout(d?I:M,d===void 0?t-S:t))}return y.cancel=m,y}function eb(t,e,r){var n=r||{},i=n.atBegin,o=i===void 0?!1:i;return od(t,e,{debounceMode:o!==!1})}const tb=t=>(c.pushScopeId("data-v-6a7605c3"),t=t(),c.popScopeId(),t),uX={class:"relative flex justify-center"},dX=[tb(()=>c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1))],fX={key:0,class:"absolute bottom-2 flex items-center gap-1 rounded-full bg-white bg-opacity-85 p-2 text-xs shadow-lg transition duration-150 ease-in-out dark:bg-zinc-800"},hX=tb(()=>c.createElementVNode("img",{class:"h-4 w-4",src:Tk},null,-1)),pX=["disabled"],mX={key:0,class:"h-10.5 flex w-full items-center justify-center"},gX=[tb(()=>c.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-300 text-gray-200",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],yX={class:"text-base font-semibold"},bX={class:"text-xs"},vX=wi(c.defineComponent({__name:"LocationModal",setup(t){class e{constructor(S,M,I=null){Pe(this,"lat");Pe(this,"lng");Pe(this,"address");this.lat=S,this.lng=M,this.address=I}get isValid(){return this.address!==null}}const r=pn(),{t:n}=_i(),i=Rt(),o=i.state.imkit.config.mapApiKey,s=c.ref(),a=c.ref(new e(21.30895,-157.826182)),l=c.ref({lat:a.value.lat,lng:a.value.lng}),d=c.computed(()=>({position:{lat:a.value.lat,lng:a.value.lng}})),f=c.ref(""),u=c.ref(!1),h=c.ref(10),p=c.ref(!1),m=c.ref(""),y=()=>new Promise((C,S)=>{u.value=!0,navigator.geolocation.getCurrentPosition(M=>{let{latitude:I,longitude:L}=M.coords;m.value="",u.value=!1,C({lat:I,lng:L})},M=>{switch(u.value=!1,M.code){case M.PERMISSION_DENIED:m.value=n("noAccessLocationPermission");break;case M.POSITION_UNAVAILABLE:m.value=n("locationInfoUnavailable");break;case M.TIMEOUT:m.value=n("requestLocationTimeout");break}S(M)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),v=async(C,S)=>{try{const{data:M}=await Xt.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${C},${S}&key=${o}`);if(M.error_message)throw new Error(M.error_message);return M.results[0].formatted_address}catch(M){throw m.value=n("addressUnavailable"),M}},b=od(700,async C=>{var S,M;try{if(C===0){const k=(S=s.value)==null?void 0:S.map.getCenter();if(k){const{lat:T,lng:F}=k;a.value=new e(T(),F())}}else if(C===1){const{lat:k,lng:T}=await y();a.value=new e(k,T),h.value=17,(M=s.value)==null||M.map.panTo({lat:k,lng:T})}let{lat:I,lng:L}=a.value;L=((L+180)%360+360)%360-180,I=Math.max(Math.min(I,90),-90),f.value=await v(I,L),a.value=new e(I,L,f.value)}catch(I){console.error(I)}},{noLeading:!1,noTrailing:!1}),A=async()=>{p.value=!0;const C={roomId:i.state.imkit.selectedRoomId,messageType:"location",message:f.value,latitude:d.value.position.lat,longitude:d.value.position.lng};r.closeAll(),await i.dispatch("imkit/sendMessage",C),p.value=!1};return b(1),(C,S)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"flex flex-col bg-white dark:bg-zinc-800 rounded-lg overflow-hidden sm:w-[450px] w-[350px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",uX,[c.createVNode(c.unref(Q3),{ref_key:"mapRef",ref:s,"api-key":c.unref(o),center:l.value,zoom:h.value,disableDefaultUi:!0,onCenter_changed:S[0]||(S[0]=M=>c.unref(b)(0)),class:"h-[250px] w-[350px] sm:h-[350px] sm:w-[450px]"},{default:c.withCtx(()=>[c.createVNode(c.unref(K3),{options:d.value},null,8,["options"])]),_:1},8,["api-key","center","zoom"]),c.createElementVNode("button",{class:"absolute right-2 top-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:S[1]||(S[1]=M=>c.unref(r).closeAll())},dX),c.createElementVNode("button",{class:"absolute bottom-2 right-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:S[2]||(S[2]=M=>c.unref(b)(1))},[c.createElementVNode("img",{class:c.normalizeClass(["h-5 w-5",{"animate-pulse":u.value}]),src:cX},null,2)]),c.createVNode(c.Transition,null,{default:c.withCtx(()=>[m.value?(c.openBlock(),c.createElementBlock("div",fX,[hX,c.createTextVNode(" "+c.toDisplayString(m.value),1)])):c.createCommentVNode("",!0)]),_:1})]),c.createElementVNode("button",{class:"disabled:( cursor-not-allowed) m-2 flex flex-col items-center gap-0.5 rounded-lg bg-blue-400 p-2 text-white",disabled:u.value||p.value||!a.value.isValid,onClick:A},[p.value?(c.openBlock(),c.createElementBlock("div",mX,gX)):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[c.createElementVNode("div",yX,c.toDisplayString(C.$t("sendCurrentLocation")),1),c.createElementVNode("div",bX,c.toDisplayString(f.value),1)],64))],8,pX)]),_:1}))}}),[["__scopeId","data-v-6a7605c3"]]);var Ck={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(O,E){if(!O)throw"First parameter is required.";E=E||{type:"video"},E=new r(O,E);var V=this;function K(he){return E.disableLogs||console.log("RecordRTC version: ",V.version),he&&(E=new r(O,he)),E.disableLogs||console.log("started recording "+E.type+" stream."),oe?(oe.clearRecordedData(),oe.record(),ve("recording"),V.recordingDuration&&fe(),V):(Y(function(){V.recordingDuration&&fe()}),V)}function Y(he){he&&(E.initCallback=function(){he(),he=E.initCallback=null});var Se=new n(O,E);oe=new Se(O,E),oe.record(),ve("recording"),E.disableLogs||console.log("Initialized recorderType:",oe.constructor.name,"for output-type:",E.type)}function Q(he){if(he=he||function(){},!oe){we();return}if(V.state==="paused"){V.resumeRecording(),setTimeout(function(){Q(he)},1);return}V.state!=="recording"&&!E.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',V.state),E.disableLogs||console.log("Stopped recording "+E.type+" stream."),E.type!=="gif"?oe.stop(Se):(oe.stop(),Se()),ve("stopped");function Se(De){if(!oe){typeof he.call=="function"?he.call(V,""):he("");return}Object.keys(oe).forEach(function(le){typeof oe[le]!="function"&&(V[le]=oe[le])});var j=oe.blob;if(!j)if(De)oe.blob=j=De;else throw"Recording failed.";if(j&&!E.disableLogs&&console.log(j.type,"->",b(j.size)),he){var q;try{q=f.createObjectURL(j)}catch{}typeof he.call=="function"?he.call(V,q):he(q)}E.autoWriteToDisk&&pe(function(le){var Te={};Te[E.type+"Blob"]=le,$.Store(Te)})}}function ae(){if(!oe){we();return}if(V.state!=="recording"){E.disableLogs||console.warn("Unable to pause the recording. Recording state: ",V.state);return}ve("paused"),oe.pause(),E.disableLogs||console.log("Paused recording.")}function ie(){if(!oe){we();return}if(V.state!=="paused"){E.disableLogs||console.warn("Unable to resume the recording. Recording state: ",V.state);return}ve("recording"),oe.resume(),E.disableLogs||console.log("Resumed recording.")}function me(he){postMessage(new FileReaderSync().readAsDataURL(he))}function pe(he,Se){if(!he)throw"Pass a callback function over getDataURL.";var De=Se?Se.blob:(oe||{}).blob;if(!De){E.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){pe(he,Se)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var j=le(me);j.onmessage=function(Te){he(Te.data)},j.postMessage(De)}else{var q=new FileReader;q.readAsDataURL(De),q.onload=function(Te){he(Te.target.result)}}function le(Te){try{var Ne=f.createObjectURL(new Blob([Te.toString(),"this.onmessage =  function (eee) {"+Te.name+"(eee.data);}"],{type:"application/javascript"})),Re=new Worker(Ne);return f.revokeObjectURL(Ne),Re}catch{}}}function fe(he){if(he=he||0,V.state==="paused"){setTimeout(function(){fe(he)},1e3);return}if(V.state!=="stopped"){if(he>=V.recordingDuration){Q(V.onRecordingStopped);return}he+=1e3,setTimeout(function(){fe(he)},1e3)}}function ve(he){V&&(V.state=he,typeof V.onStateChanged.call=="function"?V.onStateChanged.call(V,he):V.onStateChanged(he))}var ce='It seems that recorder is destroyed or "startRecording" is not invoked for '+E.type+" recorder.";function we(){E.disableLogs!==!0&&console.warn(ce)}var oe,xe={startRecording:K,stopRecording:Q,pauseRecording:ae,resumeRecording:ie,initRecorder:Y,setRecordingDuration:function(he,Se){if(typeof he>"u")throw"recordingDuration is required.";if(typeof he!="number")throw"recordingDuration must be a number.";return V.recordingDuration=he,V.onRecordingStopped=Se||function(){},{onRecordingStopped:function(De){V.onRecordingStopped=De}}},clearRecordedData:function(){if(!oe){we();return}oe.clearRecordedData(),E.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!oe){we();return}return oe.blob},getDataURL:pe,toURL:function(){if(!oe){we();return}return f.createObjectURL(oe.blob)},getInternalRecorder:function(){return oe},save:function(he){if(!oe){we();return}A(oe.blob,he)},getFromDisk:function(he){if(!oe){we();return}e.getFromDisk(E.type,he)},setAdvertisementArray:function(he){E.advertisement=[];for(var Se=he.length,De=0;De<Se;De++)E.advertisement.push({duration:De,image:he[De]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){V.state==="recording"&&!E.disableLogs&&console.warn("Stop an active recorder."),oe&&typeof oe.clearRecordedData=="function"&&oe.clearRecordedData(),oe=null,ve("inactive"),V.blob=null},onStateChanged:function(he){E.disableLogs||console.log("Recorder state changed:",he)},state:"inactive",getState:function(){return V.state},destroy:function(){var he=E.disableLogs;E={disableLogs:!0},V.reset(),ve("destroyed"),xe=V=null,L.AudioContextConstructor&&(L.AudioContextConstructor.close(),L.AudioContextConstructor=null),E.disableLogs=he,E.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return V=xe,xe;for(var Ue in xe)this[Ue]=xe[Ue];return V=this,xe}e.version="5.6.2",t.exports=e,e.getFromDisk=function(O,E){if(!E)throw"callback is mandatory.";console.log("Getting recorded "+(O==="all"?"blobs":O+" blob ")+" from disk!"),$.Fetch(function(V,K){O!=="all"&&K===O+"Blob"&&E&&E(V),O==="all"&&E&&E(V,K.replace("Blob",""))})},e.writeToDisk=function(O){console.log("Writing recorded blob(s) to disk!"),O=O||{},O.audio&&O.video&&O.gif?O.audio.getDataURL(function(E){O.video.getDataURL(function(V){O.gif.getDataURL(function(K){$.Store({audioBlob:E,videoBlob:V,gifBlob:K})})})}):O.audio&&O.video?O.audio.getDataURL(function(E){O.video.getDataURL(function(V){$.Store({audioBlob:E,videoBlob:V})})}):O.audio&&O.gif?O.audio.getDataURL(function(E){O.gif.getDataURL(function(V){$.Store({audioBlob:E,gifBlob:V})})}):O.video&&O.gif?O.video.getDataURL(function(E){O.gif.getDataURL(function(V){$.Store({videoBlob:E,gifBlob:V})})}):O.audio?O.audio.getDataURL(function(E){$.Store({audioBlob:E})}):O.video?O.video.getDataURL(function(E){$.Store({videoBlob:E})}):O.gif&&O.gif.getDataURL(function(E){$.Store({gifBlob:E})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(O,E){return!E.recorderType&&!E.type&&(E.audio&&E.video?E.type="video":E.audio&&!E.video&&(E.type="audio")),E.recorderType&&!E.type&&(E.recorderType===P||E.recorderType===z||typeof H<"u"&&E.recorderType===H?E.type="video":E.recorderType===W?E.type="gif":E.recorderType===F?E.type="audio":E.recorderType===T&&(S(O,"audio").length&&S(O,"video").length||!S(O,"audio").length&&S(O,"video").length?E.type="video":S(O,"audio").length&&!S(O,"video").length&&(E.type="audio"))),typeof T<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(E.mimeType||(E.mimeType="video/webm"),E.type||(E.type=E.mimeType.split("/")[0]),E.bitsPerSecond),E.type||(E.mimeType&&(E.type=E.mimeType.split("/")[0]),E.type||(E.type="audio")),E}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(O,E){var V;return(m||u||h)&&(V=F),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!m&&(V=T),E.type==="video"&&(m||h)&&(V=P,typeof H<"u"&&typeof ReadableStream<"u"&&(V=H)),E.type==="gif"&&(V=W),E.type==="canvas"&&(V=z),k()&&V!==z&&V!==W&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(S(O,"video").length||S(O,"audio").length)&&(E.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(V=T):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(V=T)),O instanceof Array&&O.length&&(V=U),E.recorderType&&(V=E.recorderType),!E.disableLogs&&V&&V.name&&console.log("Using recorderType:",V.name||V.constructor.name),!V&&y&&(V=T),V}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(O){this.addStream=function(E){E&&(O=E)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var E=this.mediaType,V,K=this.mimeType||{audio:null,video:null,gif:null};if(typeof E.audio!="function"&&k()&&!S(O,"audio").length&&(E.audio=!1),typeof E.video!="function"&&k()&&!S(O,"video").length&&(E.video=!1),typeof E.gif!="function"&&k()&&!S(O,"video").length&&(E.gif=!1),!E.audio&&!E.video&&!E.gif)throw"MediaStream must have either audio or video tracks.";if(E.audio&&(V=null,typeof E.audio=="function"&&(V=E.audio),this.audioRecorder=new e(O,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:V,mimeType:K.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),E.video||this.audioRecorder.startRecording()),E.video){V=null,typeof E.video=="function"&&(V=E.video);var Y=O;if(k()&&E.audio&&typeof E.audio=="function"){var Q=S(O,"video")[0];p?(Y=new v,Y.addTrack(Q),V&&V===P&&(V=T)):(Y=new v,Y.addTrack(Q))}this.videoRecorder=new e(Y,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:V,mimeType:K.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),E.audio||this.videoRecorder.startRecording()}if(E.audio&&E.video){var ae=this,ie=k()===!0;(E.audio instanceof F&&E.video||E.audio!==!0&&E.video!==!0&&E.audio!==E.video)&&(ie=!1),ie===!0?(ae.audioRecorder=null,ae.videoRecorder.startRecording()):ae.videoRecorder.initRecorder(function(){ae.audioRecorder.initRecorder(function(){ae.videoRecorder.startRecording(),ae.audioRecorder.startRecording()})})}E.gif&&(V=null,typeof E.gif=="function"&&(V=E.gif),this.gifRecorder=new e(O,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:V,mimeType:K.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(E){E=E||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(V){E(V,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(V){E(V,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(V){E(V,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(E){var V={};return this.audioRecorder&&(V.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(V.video=this.videoRecorder.getBlob()),this.gifRecorder&&(V.gif=this.gifRecorder.getBlob()),E&&E(V),V},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(E){this.getBlob(function(Y){Y.audio&&Y.video?V(Y.audio,function(Q){V(Y.video,function(ae){E({audio:Q,video:ae})})}):Y.audio?V(Y.audio,function(Q){E({audio:Q})}):Y.video&&V(Y.video,function(Q){E({video:Q})})});function V(Y,Q){if(typeof Worker<"u"){var ae=K(function(pe){postMessage(new FileReaderSync().readAsDataURL(pe))});ae.onmessage=function(me){Q(me.data)},ae.postMessage(Y)}else{var ie=new FileReader;ie.readAsDataURL(Y),ie.onload=function(me){Q(me.target.result)}}}function K(Y){var Q=f.createObjectURL(new Blob([Y.toString(),"this.onmessage =  function (eee) {"+Y.name+"(eee.data);}"],{type:"application/javascript"})),ae=new Worker(Q),ie;if(typeof f<"u")ie=f;else if(typeof webkitURL<"u")ie=webkitURL;else throw"Neither URL nor webkitURL detected.";return ie.revokeObjectURL(Q),ae}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(E){E=E||{audio:!0,video:!0,gif:!0},E.audio&&this.audioRecorder&&this.audioRecorder.save(typeof E.audio=="string"?E.audio:""),E.video&&this.videoRecorder&&this.videoRecorder.save(typeof E.video=="string"?E.video:""),E.gif&&this.gifRecorder&&this.gifRecorder.save(typeof E.gif=="string"?E.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var o="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(O){O&&(typeof window<"u"||typeof bt>"u"||(bt.navigator={userAgent:o,getUserMedia:function(){}},bt.console||(bt.console={}),(typeof bt.console.log>"u"||typeof bt.console.error>"u")&&(bt.console.error=bt.console.log=bt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(O.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var E={getContext:function(){return E},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return E},O.HTMLVideoElement=function(){}),typeof location>"u"&&(O.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(O.screen={width:0,height:0}),typeof f>"u"&&(O.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),O.window=bt))})(typeof bt<"u"?bt:null);var s=window.requestAnimationFrame;if(typeof s>"u"){if(typeof webkitRequestAnimationFrame<"u")s=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")s=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")s=msRequestAnimationFrame;else if(typeof s>"u"){var a=0;s=function(O,E){var V=new Date().getTime(),K=Math.max(0,16-(V-a)),Y=setTimeout(function(){O(V+K)},K);return a=V+K,Y}}}var l=window.cancelAnimationFrame;typeof l>"u"&&(typeof webkitCancelAnimationFrame<"u"?l=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?l=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?l=msCancelAnimationFrame:typeof l>"u"&&(l=function(O){clearTimeout(O)}));var d=window.AudioContext;typeof d>"u"&&(typeof webkitAudioContext<"u"&&(d=webkitAudioContext),typeof mozAudioContext<"u"&&(d=mozAudioContext));var f=window.URL;typeof f>"u"&&typeof webkitURL<"u"&&(f=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var u=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),h=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!h&&!u&&!!navigator.webkitGetUserMedia||C()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(y=!1,m=!0);var v=window.MediaStream;typeof v>"u"&&typeof webkitMediaStream<"u"&&(v=webkitMediaStream),typeof v<"u"&&typeof v.prototype.stop>"u"&&(v.prototype.stop=function(){this.getTracks().forEach(function(O){O.stop()})});function b(O){var E=1e3,V=["Bytes","KB","MB","GB","TB"];if(O===0)return"0 Bytes";var K=parseInt(Math.floor(Math.log(O)/Math.log(E)),10);return(O/Math.pow(E,K)).toPrecision(3)+" "+V[K]}function A(O,E){if(!O)throw"Blob object is required.";if(!O.type)try{O.type="video/webm"}catch{}var V=(O.type||"video/webm").split("/")[1];if(V.indexOf(";")!==-1&&(V=V.split(";")[0]),E&&E.indexOf(".")!==-1){var K=E.split(".");E=K[0],V=K[1]}var Y=(E||Math.round(Math.random()*9999999999)+888888888)+"."+V;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(O,Y);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(O,Y);var Q=document.createElement("a");Q.href=f.createObjectURL(O),Q.download=Y,Q.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(Q),typeof Q.click=="function"?Q.click():(Q.target="_blank",Q.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(Q.href)}function C(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function S(O,E){return!O||!O.getTracks?[]:O.getTracks().filter(function(V){return V.kind===(E||"audio")})}function M(O,E){"srcObject"in E?E.srcObject=O:"mozSrcObject"in E?E.mozSrcObject=O:E.srcObject=O}function I(O,E){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var V=new EBML.Reader,K=new EBML.Decoder,Y=EBML.tools,Q=new FileReader;Q.onload=function(ae){var ie=K.decode(this.result);ie.forEach(function(ve){V.read(ve)}),V.stop();var me=Y.makeMetadataSeekable(V.metadatas,V.duration,V.cues),pe=this.result.slice(V.metadataSize),fe=new Blob([me,pe],{type:"video/webm"});E(fe)},Q.readAsArrayBuffer(O)}typeof e<"u"&&(e.invokeSaveAsDialog=A,e.getTracks=S,e.getSeekableBlob=I,e.bytesToSize=b,e.isElectron=C);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var L={};typeof d<"u"?L.AudioContext=d:typeof webkitAudioContext<"u"&&(L.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=L);function k(){if(p||y||u)return!0;var O=navigator.userAgent,E=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10),K,Y;return(m||h)&&(K=O.indexOf("Chrome"),E=O.substring(K+7)),(Y=E.indexOf(";"))!==-1&&(E=E.substring(0,Y)),(Y=E.indexOf(" "))!==-1&&(E=E.substring(0,Y)),V=parseInt(""+E,10),isNaN(V)&&(E=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10)),V>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function T(O,E){var fe=this;if(typeof O>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(E=E||{mimeType:"video/webm"},E.type==="audio"){if(S(O,"video").length&&S(O,"audio").length){var V;navigator.mozGetUserMedia?(V=new v,V.addTrack(S(O,"audio")[0])):V=new v(S(O,"audio")),O=V}(!E.mimeType||E.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(E.mimeType=m?"audio/webm":"audio/ogg"),E.mimeType&&E.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(E.mimeType="audio/ogg")}var K=[];this.getArrayOfBlobs=function(){return K},this.record=function(){fe.blob=null,fe.clearRecordedData(),fe.timestamps=[],pe=[],K=[];var ve=E;E.disableLogs||console.log("Passing following config over MediaRecorder API.",ve),ie&&(ie=null),m&&!k()&&(ve="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&ve.mimeType&&(MediaRecorder.isTypeSupported(ve.mimeType)||(E.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",ve.mimeType),ve.mimeType=E.type==="audio"?"audio/webm":"video/webm"));try{ie=new MediaRecorder(O,ve),E.mimeType=ve.mimeType}catch{ie=new MediaRecorder(O)}ve.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in ie&&ie.canRecordMimeType(ve.mimeType)===!1&&(E.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",ve.mimeType)),ie.ondataavailable=function(ce){if(ce.data&&pe.push("ondataavailable: "+b(ce.data.size)),typeof E.timeSlice=="number"){if(ce.data&&ce.data.size&&(K.push(ce.data),Y(),typeof E.ondataavailable=="function")){var we=E.getNativeBlob?ce.data:new Blob([ce.data],{type:Q(ve)});E.ondataavailable(we)}return}if(!ce.data||!ce.data.size||ce.data.size<100||fe.blob){fe.recordingCallback&&(fe.recordingCallback(new Blob([],{type:Q(ve)})),fe.recordingCallback=null);return}fe.blob=E.getNativeBlob?ce.data:new Blob([ce.data],{type:Q(ve)}),fe.recordingCallback&&(fe.recordingCallback(fe.blob),fe.recordingCallback=null)},ie.onstart=function(){pe.push("started")},ie.onpause=function(){pe.push("paused")},ie.onresume=function(){pe.push("resumed")},ie.onstop=function(){pe.push("stopped")},ie.onerror=function(ce){ce&&(ce.name||(ce.name="UnknownError"),pe.push("error: "+ce),E.disableLogs||(ce.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",ce):ce.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",ve.mimeType,") is not supported.",ce):ce.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",ce):ce.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",ce):ce.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",ce):ce.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",ce):ce.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",ce):console.error("MediaRecorder Error",ce)),function(we){if(!fe.manuallyStopped&&ie&&ie.state==="inactive"){delete E.timeslice,ie.start(10*60*1e3);return}setTimeout(we,1e3)}(),ie.state!=="inactive"&&ie.state!=="stopped"&&ie.stop())},typeof E.timeSlice=="number"?(Y(),ie.start(E.timeSlice)):ie.start(36e5),E.initCallback&&E.initCallback()},this.timestamps=[];function Y(){fe.timestamps.push(new Date().getTime()),typeof E.onTimeStamp=="function"&&E.onTimeStamp(fe.timestamps[fe.timestamps.length-1],fe.timestamps)}function Q(ve){return ie&&ie.mimeType?ie.mimeType:ve.mimeType||"video/webm"}this.stop=function(ve){ve=ve||function(){},fe.manuallyStopped=!0,ie&&(this.recordingCallback=ve,ie.state==="recording"&&ie.stop(),typeof E.timeSlice=="number"&&setTimeout(function(){fe.blob=new Blob(K,{type:Q(E)}),fe.recordingCallback(fe.blob)},100))},this.pause=function(){ie&&ie.state==="recording"&&ie.pause()},this.resume=function(){ie&&ie.state==="paused"&&ie.resume()},this.clearRecordedData=function(){ie&&ie.state==="recording"&&fe.stop(ae),ae()};function ae(){K=[],ie=null,fe.timestamps=[]}var ie;this.getInternalRecorder=function(){return ie};function me(){if("active"in O){if(!O.active)return!1}else if("ended"in O&&O.ended)return!1;return!0}this.blob=null,this.getState=function(){return ie&&ie.state||"inactive"};var pe=[];this.getAllStates=function(){return pe},typeof E.checkForInactiveTracks>"u"&&(E.checkForInactiveTracks=!1);var fe=this;(function ve(){if(!(!ie||E.checkForInactiveTracks===!1)){if(me()===!1){E.disableLogs||console.log("MediaStream seems stopped."),fe.stop();return}setTimeout(ve,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=T);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function F(O,E){if(!S(O,"audio").length)throw"Your stream has no audio tracks.";E=E||{};var V=this,K=[],Y=[],Q=!1,ae=0,ie,me=2,pe=E.desiredSampRate;E.leftChannel===!0&&(me=1),E.numberOfAudioChannels===1&&(me=1),(!me||me<1)&&(me=2),E.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+me),typeof E.checkForInactiveTracks>"u"&&(E.checkForInactiveTracks=!0);function fe(){if(E.checkForInactiveTracks===!1)return!0;if("active"in O){if(!O.active)return!1}else if("ended"in O&&O.ended)return!1;return!0}this.record=function(){if(fe()===!1)throw"Please make sure MediaStream is active.";De(),q=Se=!1,Q=!0,typeof E.timeSlice<"u"&&Ne()};function ve(Re,Qe){function ge(Ge,lt){var wt=Ge.numberOfAudioChannels,Ke=Ge.leftBuffers.slice(0),Ft=Ge.rightBuffers.slice(0),_t=Ge.sampleRate,lr=Ge.internalInterleavedLength,dr=Ge.desiredSampRate;wt===2&&(Ke=fo(Ke,lr),Ft=fo(Ft,lr),dr&&(Ke=Fi(Ke,dr,_t),Ft=Fi(Ft,dr,_t))),wt===1&&(Ke=fo(Ke,lr),dr&&(Ke=Fi(Ke,dr,_t))),dr&&(_t=dr);function Fi(fr,un,Br){var Er=Math.round(fr.length*(un/Br)),Mt=[],qn=Number((fr.length-1)/(Er-1));Mt[0]=fr[0];for(var Wn=1;Wn<Er-1;Wn++){var di=Wn*qn,On=Number(Math.floor(di)).toFixed(),vs=Number(Math.ceil(di)).toFixed(),Lt=di-On;Mt[Wn]=uo(fr[On],fr[vs],Lt)}return Mt[Er-1]=fr[fr.length-1],Mt}function uo(fr,un,Br){return fr+(un-fr)*Br}function fo(fr,un){for(var Br=new Float64Array(un),Er=0,Mt=fr.length,qn=0;qn<Mt;qn++){var Wn=fr[qn];Br.set(Wn,Er),Er+=Wn.length}return Br}function Ui(fr,un){for(var Br=fr.length+un.length,Er=new Float64Array(Br),Mt=0,qn=0;qn<Br;)Er[qn++]=fr[Mt],Er[qn++]=un[Mt],Mt++;return Er}function ho(fr,un,Br){for(var Er=Br.length,Mt=0;Mt<Er;Mt++)fr.setUint8(un+Mt,Br.charCodeAt(Mt))}var Ur;wt===2&&(Ur=Ui(Ke,Ft)),wt===1&&(Ur=Ke);var jr=Ur.length,ui=44+jr*2,Vn=new ArrayBuffer(ui),nr=new DataView(Vn);ho(nr,0,"RIFF"),nr.setUint32(4,36+jr*2,!0),ho(nr,8,"WAVE"),ho(nr,12,"fmt "),nr.setUint32(16,16,!0),nr.setUint16(20,1,!0),nr.setUint16(22,wt,!0),nr.setUint32(24,_t,!0),nr.setUint32(28,_t*wt*2,!0),nr.setUint16(32,wt*2,!0),nr.setUint16(34,16,!0),ho(nr,36,"data"),nr.setUint32(40,jr*2,!0);for(var Hn=jr,cn=44,Aa=1,Ta=0;Ta<Hn;Ta++)nr.setInt16(cn,Ur[Ta]*(32767*Aa),!0),cn+=2;if(lt)return lt({buffer:Vn,view:nr});postMessage({buffer:Vn,view:nr})}if(Re.noWorker){ge(Re,function(Ge){Qe(Ge.buffer,Ge.view)});return}var Ee=ce(ge);Ee.onmessage=function(Ge){Qe(Ge.data.buffer,Ge.data.view),f.revokeObjectURL(Ee.workerURL),Ee.terminate()},Ee.postMessage(Re)}function ce(Re){var Qe=f.createObjectURL(new Blob([Re.toString(),";this.onmessage =  function (eee) {"+Re.name+"(eee.data);}"],{type:"application/javascript"})),ge=new Worker(Qe);return ge.workerURL=Qe,ge}this.stop=function(Re){Re=Re||function(){},Q=!1,ve({desiredSampRate:pe,sampleRate:he,numberOfAudioChannels:me,internalInterleavedLength:ae,leftBuffers:K,rightBuffers:me===1?[]:Y,noWorker:E.noWorker},function(Qe,ge){V.blob=new Blob([ge],{type:"audio/wav"}),V.buffer=new ArrayBuffer(ge.buffer.byteLength),V.view=ge,V.sampleRate=pe||he,V.bufferSize=Ue,V.length=ae,q=!1,Re&&Re(V.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var we=e.Storage.AudioContextConstructor,oe=we.createMediaStreamSource(O),xe=[0,256,512,1024,2048,4096,8192,16384],Ue=typeof E.bufferSize>"u"?4096:E.bufferSize;if(xe.indexOf(Ue)===-1&&(E.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(xe,null,"	"))),we.createJavaScriptNode)ie=we.createJavaScriptNode(Ue,me,me);else if(we.createScriptProcessor)ie=we.createScriptProcessor(Ue,me,me);else throw"WebAudio API has no support on this browser.";oe.connect(ie),E.bufferSize||(Ue=ie.bufferSize);var he=typeof E.sampleRate<"u"?E.sampleRate:we.sampleRate||44100;(he<22050||he>96e3)&&(E.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),E.disableLogs||E.desiredSampRate&&console.log("Desired sample-rate: "+E.desiredSampRate);var Se=!1;this.pause=function(){Se=!0},this.resume=function(){if(fe()===!1)throw"Please make sure MediaStream is active.";if(!Q){E.disableLogs||console.log("Seems recording has been restarted."),this.record();return}Se=!1},this.clearRecordedData=function(){E.checkForInactiveTracks=!1,Q&&this.stop(j),j()};function De(){K=[],Y=[],ae=0,q=!1,Q=!1,Se=!1,we=null,V.leftchannel=K,V.rightchannel=Y,V.numberOfAudioChannels=me,V.desiredSampRate=pe,V.sampleRate=he,V.recordingLength=ae,Te={left:[],right:[],recordingLength:0}}function j(){ie&&(ie.onaudioprocess=null,ie.disconnect(),ie=null),oe&&(oe.disconnect(),oe=null),De()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var q=!1;function le(Re){if(!Se){if(fe()===!1&&(E.disableLogs||console.log("MediaStream seems stopped."),ie.disconnect(),Q=!1),!Q){oe&&(oe.disconnect(),oe=null);return}q||(q=!0,E.onAudioProcessStarted&&E.onAudioProcessStarted(),E.initCallback&&E.initCallback());var Qe=Re.inputBuffer.getChannelData(0),ge=new Float32Array(Qe);if(K.push(ge),me===2){var Ee=Re.inputBuffer.getChannelData(1),Ge=new Float32Array(Ee);Y.push(Ge)}ae+=Ue,V.recordingLength=ae,typeof E.timeSlice<"u"&&(Te.recordingLength+=Ue,Te.left.push(ge),me===2&&Te.right.push(Ge))}}ie.onaudioprocess=le,we.createMediaStreamDestination?ie.connect(we.createMediaStreamDestination()):ie.connect(we.destination),this.leftchannel=K,this.rightchannel=Y,this.numberOfAudioChannels=me,this.desiredSampRate=pe,this.sampleRate=he,V.recordingLength=ae;var Te={left:[],right:[],recordingLength:0};function Ne(){!Q||typeof E.ondataavailable!="function"||typeof E.timeSlice>"u"||(Te.left.length?(ve({desiredSampRate:pe,sampleRate:he,numberOfAudioChannels:me,internalInterleavedLength:Te.recordingLength,leftBuffers:Te.left,rightBuffers:me===1?[]:Te.right},function(Re,Qe){var ge=new Blob([Qe],{type:"audio/wav"});E.ondataavailable(ge),setTimeout(Ne,E.timeSlice)}),Te={left:[],right:[],recordingLength:0}):setTimeout(Ne,E.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=F);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function z(O,E){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";E=E||{},E.frameInterval||(E.frameInterval=10);var V=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(xe){xe in document.createElement("canvas")&&(V=!0)});var K=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,Y=50,Q=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);K&&Q&&Q[2]&&(Y=parseInt(Q[2],10)),K&&Y<52&&(V=!1),E.useWhammyRecorder&&(V=!1);var ae,ie;if(V)if(E.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),O instanceof HTMLCanvasElement)ae=O;else if(O instanceof CanvasRenderingContext2D)ae=O.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(E.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var me;this.record=function(){if(me=!0,V&&!E.useWhammyRecorder){var xe;"captureStream"in ae?xe=ae.captureStream(25):"mozCaptureStream"in ae?xe=ae.mozCaptureStream(25):"webkitCaptureStream"in ae&&(xe=ae.webkitCaptureStream(25));try{var Ue=new v;Ue.addTrack(S(xe,"video")[0]),xe=Ue}catch{}if(!xe)throw"captureStream API are NOT available.";ie=new T(xe,{mimeType:E.mimeType||"video/webm"}),ie.record()}else oe.frames=[],we=new Date().getTime(),ce();E.initCallback&&E.initCallback()},this.getWebPImages=function(xe){if(O.nodeName.toLowerCase()!=="canvas"){xe();return}var Ue=oe.frames.length;oe.frames.forEach(function(he,Se){var De=Ue-Se;E.disableLogs||console.log(De+"/"+Ue+" frames remaining"),E.onEncodingCallback&&E.onEncodingCallback(De,Ue);var j=he.image.toDataURL("image/webp",1);oe.frames[Se].image=j}),E.disableLogs||console.log("Generating WebM"),xe()},this.stop=function(xe){me=!1;var Ue=this;if(V&&ie){ie.stop(xe);return}this.getWebPImages(function(){oe.compile(function(he){E.disableLogs||console.log("Recording finished!"),Ue.blob=he,Ue.blob.forEach&&(Ue.blob=new Blob([],{type:"video/webm"})),xe&&xe(Ue.blob),oe.frames=[]})})};var pe=!1;this.pause=function(){if(pe=!0,ie instanceof T){ie.pause();return}},this.resume=function(){if(pe=!1,ie instanceof T){ie.resume();return}me||this.record()},this.clearRecordedData=function(){me&&this.stop(fe),fe()};function fe(){oe.frames=[],me=!1,pe=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function ve(){var xe=document.createElement("canvas"),Ue=xe.getContext("2d");return xe.width=O.width,xe.height=O.height,Ue.drawImage(O,0,0),xe}function ce(){if(pe)return we=new Date().getTime(),setTimeout(ce,500);if(O.nodeName.toLowerCase()==="canvas"){var xe=new Date().getTime()-we;we=new Date().getTime(),oe.frames.push({image:ve(),duration:xe}),me&&setTimeout(ce,E.frameInterval);return}html2canvas(O,{grabMouse:typeof E.showMousePointer>"u"||E.showMousePointer,onrendered:function(Ue){var he=new Date().getTime()-we;if(!he)return setTimeout(ce,E.frameInterval);we=new Date().getTime(),oe.frames.push({image:Ue.toDataURL("image/webp",1),duration:he}),me&&setTimeout(ce,E.frameInterval)}})}var we=new Date().getTime(),oe=new R.Video(100)}typeof e<"u"&&(e.CanvasRecorder=z);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function P(O,E){E=E||{},E.frameInterval||(E.frameInterval=10),E.disableLogs||console.log("Using frames-interval:",E.frameInterval),this.record=function(){E.width||(E.width=320),E.height||(E.height=240),E.video||(E.video={width:E.width,height:E.height}),E.canvas||(E.canvas={width:E.width,height:E.height}),me.width=E.canvas.width||320,me.height=E.canvas.height||240,pe=me.getContext("2d"),E.video&&E.video instanceof HTMLVideoElement?(fe=E.video.cloneNode(),E.initCallback&&E.initCallback()):(fe=document.createElement("video"),M(O,fe),fe.onloadedmetadata=function(){E.initCallback&&E.initCallback()},fe.width=E.video.width,fe.height=E.video.height),fe.muted=!0,fe.play(),ve=new Date().getTime(),ce=new R.Video,E.disableLogs||(console.log("canvas resolutions",me.width,"*",me.height),console.log("video width/height",fe.width||me.width,"*",fe.height||me.height)),V(E.frameInterval)};function V(we){we=typeof we<"u"?we:10;var oe=new Date().getTime()-ve;if(!oe)return setTimeout(V,we,we);if(ae)return ve=new Date().getTime(),setTimeout(V,100);ve=new Date().getTime(),fe.paused&&fe.play(),pe.drawImage(fe,0,0,me.width,me.height),ce.frames.push({duration:oe,image:me.toDataURL("image/webp")}),Q||setTimeout(V,we,we)}function K(we){var oe=-1,xe=we.length;(function Ue(){if(oe++,oe===xe){we.callback();return}setTimeout(function(){we.functionToLoop(Ue,oe)},1)})()}function Y(we,oe,xe,Ue,he){var Se=document.createElement("canvas");Se.width=me.width,Se.height=me.height;var De=Se.getContext("2d"),j=[],q=we.length,le={r:0,g:0,b:0},Te=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Ne=0,Re=0,Qe=!1;K({length:q,functionToLoop:function(ge,Ee){var Ge,lt,wt,Ke=function(){!Qe&&wt-Ge<=wt*Re||(Qe=!0,j.push(we[Ee])),ge()};if(Qe)Ke();else{var Ft=new Image;Ft.onload=function(){De.drawImage(Ft,0,0,me.width,me.height);var _t=De.getImageData(0,0,me.width,me.height);Ge=0,lt=_t.data.length,wt=_t.data.length/4;for(var lr=0;lr<lt;lr+=4){var dr={r:_t.data[lr],g:_t.data[lr+1],b:_t.data[lr+2]},Fi=Math.sqrt(Math.pow(dr.r-le.r,2)+Math.pow(dr.g-le.g,2)+Math.pow(dr.b-le.b,2));Fi<=Te*Ne&&Ge++}Ke()},Ft.src=we[Ee].image}},callback:function(){j=j.concat(we.slice(q)),j.length<=0&&j.push(we[we.length-1]),he(j)}})}var Q=!1;this.stop=function(we){we=we||function(){},Q=!0;var oe=this;setTimeout(function(){Y(ce.frames,-1,null,null,function(xe){ce.frames=xe,E.advertisement&&E.advertisement.length&&(ce.frames=E.advertisement.concat(ce.frames)),ce.compile(function(Ue){oe.blob=Ue,oe.blob.forEach&&(oe.blob=new Blob([],{type:"video/webm"})),we&&we(oe.blob)})})},10)};var ae=!1;this.pause=function(){ae=!0},this.resume=function(){ae=!1,Q&&this.record()},this.clearRecordedData=function(){Q||this.stop(ie),ie()};function ie(){ce.frames=[],Q=!0,ae=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var me=document.createElement("canvas"),pe=me.getContext("2d"),fe,ve,ce}typeof e<"u"&&(e.WhammyRecorder=P);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var R=function(){function O(K){this.frames=[],this.duration=K||1,this.quality=.8}O.prototype.add=function(K,Y){if("canvas"in K&&(K=K.canvas),"toDataURL"in K&&(K=K.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(K))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:K,duration:Y||this.duration})};function E(K){var Y=f.createObjectURL(new Blob([K.toString(),"this.onmessage =  function (eee) {"+K.name+"(eee.data);}"],{type:"application/javascript"})),Q=new Worker(Y);return f.revokeObjectURL(Y),Q}function V(K){function Y(he){var Se=ae(he);if(!Se)return[];for(var De=3e4,j=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:xe(Se.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Se.width,id:176},{data:Se.height,id:186}]}]}]}]}],q=0,le=0;q<he.length;){var Te=[],Ne=0;do Te.push(he[q]),Ne+=he[q].duration,q++;while(q<he.length&&Ne<De);var Re=0,Qe={id:524531317,data:Q(le,Re,Te)};j[1].data.push(Qe),le+=Ne}return fe(j)}function Q(he,Se,De){return[{data:he,id:231}].concat(De.map(function(j){var q=ve({discardable:0,frame:j.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(Se)});return Se+=j.duration,{data:q,id:163}}))}function ae(he){if(!he[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var Se=he[0].width,De=he[0].height,j=he[0].duration,q=1;q<he.length;q++)j+=he[q].duration;return{duration:j,width:Se,height:De}}function ie(he){for(var Se=[];he>0;)Se.push(he&255),he=he>>8;return new Uint8Array(Se.reverse())}function me(he){return new Uint8Array(he.split("").map(function(Se){return Se.charCodeAt(0)}))}function pe(he){var Se=[],De=he.length%8?new Array(9-he.length%8).join("0"):"";he=De+he;for(var j=0;j<he.length;j+=8)Se.push(parseInt(he.substr(j,8),2));return new Uint8Array(Se)}function fe(he){for(var Se=[],De=0;De<he.length;De++){var j=he[De].data;typeof j=="object"&&(j=fe(j)),typeof j=="number"&&(j=pe(j.toString(2))),typeof j=="string"&&(j=me(j));var q=j.size||j.byteLength||j.length,le=Math.ceil(Math.ceil(Math.log(q)/Math.log(2))/8),Te=q.toString(2),Ne=new Array(le*7+7+1-Te.length).join("0")+Te,Re=new Array(le).join("0")+"1"+Ne;Se.push(ie(he[De].id)),Se.push(pe(Re)),Se.push(j)}return new Blob(Se,{type:"video/webm"})}function ve(he){var Se=0;if(Se|=128,he.trackNum>127)throw"TrackNumber > 127 not supported";var De=[he.trackNum|128,he.timecode>>8,he.timecode&255,Se].map(function(j){return String.fromCharCode(j)}).join("")+he.frame;return De}function ce(he){for(var Se=he.RIFF[0].WEBP[0],De=Se.indexOf("*"),j=0,q=[];j<4;j++)q[j]=Se.charCodeAt(De+3+j);var le,Te,Ne;return Ne=q[1]<<8|q[0],le=Ne&16383,Ne=q[3]<<8|q[2],Te=Ne&16383,{width:le,height:Te,data:Se,riff:he}}function we(he,Se){return parseInt(he.substr(Se+4,4).split("").map(function(De){var j=De.charCodeAt(0).toString(2);return new Array(8-j.length+1).join("0")+j}).join(""),2)}function oe(he){for(var Se=0,De={};Se<he.length;){var j=he.substr(Se,4),q=we(he,Se),le=he.substr(Se+4+4,q);Se+=8+q,De[j]=De[j]||[],j==="RIFF"||j==="LIST"?De[j].push(oe(le)):De[j].push(le)}return De}function xe(he){return[].slice.call(new Uint8Array(new Float64Array([he]).buffer),0).map(function(Se){return String.fromCharCode(Se)}).reverse().join("")}var Ue=new Y(K.map(function(he){var Se=ce(oe(atob(he.image.slice(23))));return Se.duration=he.duration,Se}));postMessage(Ue)}return O.prototype.compile=function(K){var Y=E(V);Y.onmessage=function(Q){if(Q.data.error){console.error(Q.data.error);return}K(Q.data)},Y.postMessage(this.frames)},{Video:O}}();typeof e<"u"&&(e.Whammy=R);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var $={init:function(){var O=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var E=1,V=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),K,Y=indexedDB.open(V,E);function Q(ie){ie.createObjectStore(O.dataStoreName)}function ae(){var ie=K.transaction([O.dataStoreName],"readwrite");O.videoBlob&&ie.objectStore(O.dataStoreName).put(O.videoBlob,"videoBlob"),O.gifBlob&&ie.objectStore(O.dataStoreName).put(O.gifBlob,"gifBlob"),O.audioBlob&&ie.objectStore(O.dataStoreName).put(O.audioBlob,"audioBlob");function me(pe){ie.objectStore(O.dataStoreName).get(pe).onsuccess=function(fe){O.callback&&O.callback(fe.target.result,pe)}}me("audioBlob"),me("videoBlob"),me("gifBlob")}Y.onerror=O.onError,Y.onsuccess=function(){if(K=Y.result,K.onerror=O.onError,K.setVersion)if(K.version!==E){var ie=K.setVersion(E);ie.onsuccess=function(){Q(K),ae()}}else ae();else ae()},Y.onupgradeneeded=function(ie){Q(ie.target.result)}},Fetch:function(O){return this.callback=O,this.init(),this},Store:function(O){return this.audioBlob=O.audioBlob,this.videoBlob=O.videoBlob,this.gifBlob=O.gifBlob,this.init(),this},onError:function(O){console.error(JSON.stringify(O,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=$);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function W(O,E){if(typeof GIFEncoder>"u"){var V=document.createElement("script");V.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(V)}E=E||{};var K=O instanceof CanvasRenderingContext2D||O instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(we.record,1e3);return}if(!me){setTimeout(we.record,1e3);return}K||(E.width||(E.width=pe.offsetWidth||320),E.height||(E.height=pe.offsetHeight||240),E.video||(E.video={width:E.width,height:E.height}),E.canvas||(E.canvas={width:E.width,height:E.height}),ae.width=E.canvas.width||320,ae.height=E.canvas.height||240,pe.width=E.video.width||320,pe.height=E.video.height||240),ce=new GIFEncoder,ce.setRepeat(0),ce.setDelay(E.frameRate||200),ce.setQuality(E.quality||10),ce.start(),typeof E.onGifRecordingStarted=="function"&&E.onGifRecordingStarted();function oe(xe){if(we.clearedRecordedData!==!0){if(Y)return setTimeout(function(){oe(xe)},100);fe=s(oe),typeof ve===void 0&&(ve=xe),!(xe-ve<90)&&(!K&&pe.paused&&pe.play(),K||ie.drawImage(pe,0,0,ae.width,ae.height),E.onGifPreview&&E.onGifPreview(ae.toDataURL("image/png")),ce.addFrame(ie),ve=xe)}}fe=s(oe),E.initCallback&&E.initCallback()},this.stop=function(oe){oe=oe||function(){},fe&&l(fe),this.blob=new Blob([new Uint8Array(ce.stream().bin)],{type:"image/gif"}),oe(this.blob),ce.stream().bin=[]};var Y=!1;this.pause=function(){Y=!0},this.resume=function(){Y=!1},this.clearRecordedData=function(){we.clearedRecordedData=!0,Q()};function Q(){ce&&(ce.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var ae=document.createElement("canvas"),ie=ae.getContext("2d");K&&(O instanceof CanvasRenderingContext2D?(ie=O,ae=ie.canvas):O instanceof HTMLCanvasElement&&(ie=O.getContext("2d"),ae=O));var me=!0;if(!K){var pe=document.createElement("video");pe.muted=!0,pe.autoplay=!0,pe.playsInline=!0,me=!1,pe.onloadedmetadata=function(){me=!0},M(O,pe),pe.play()}var fe=null,ve,ce,we=this}typeof e<"u"&&(e.GifRecorder=W);function B(O,E){var V="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(j){typeof e<"u"||j&&(typeof window<"u"||typeof bt>"u"||(bt.navigator={userAgent:V,getUserMedia:function(){}},bt.console||(bt.console={}),(typeof bt.console.log>"u"||typeof bt.console.error>"u")&&(bt.console.error=bt.console.log=bt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(j.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var q={getContext:function(){return q},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return q},j.HTMLVideoElement=function(){}),typeof location>"u"&&(j.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(j.screen={width:0,height:0}),typeof pe>"u"&&(j.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),j.window=bt))})(typeof bt<"u"?bt:null),E=E||"multi-streams-mixer";var K=[],Y=!1,Q=document.createElement("canvas"),ae=Q.getContext("2d");Q.style.opacity=0,Q.style.position="absolute",Q.style.zIndex=-1,Q.style.top="-1000em",Q.style.left="-1000em",Q.className=E,(document.body||document.documentElement).appendChild(Q),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var ie=this,me=window.AudioContext;typeof me>"u"&&(typeof webkitAudioContext<"u"&&(me=webkitAudioContext),typeof mozAudioContext<"u"&&(me=mozAudioContext));var pe=window.URL;typeof pe>"u"&&typeof webkitURL<"u"&&(pe=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var fe=window.MediaStream;typeof fe>"u"&&typeof webkitMediaStream<"u"&&(fe=webkitMediaStream),typeof fe<"u"&&typeof fe.prototype.stop>"u"&&(fe.prototype.stop=function(){this.getTracks().forEach(function(j){j.stop()})});var ve={};typeof me<"u"?ve.AudioContext=me:typeof webkitAudioContext<"u"&&(ve.AudioContext=webkitAudioContext);function ce(j,q){"srcObject"in q?q.srcObject=j:"mozSrcObject"in q?q.mozSrcObject=j:q.srcObject=j}this.startDrawingFrames=function(){we()};function we(){if(!Y){var j=K.length,q=!1,le=[];if(K.forEach(function(Ne){Ne.stream||(Ne.stream={}),Ne.stream.fullcanvas?q=Ne:le.push(Ne)}),q)Q.width=q.stream.width,Q.height=q.stream.height;else if(le.length){Q.width=j>1?le[0].width*2:le[0].width;var Te=1;(j===3||j===4)&&(Te=2),(j===5||j===6)&&(Te=3),(j===7||j===8)&&(Te=4),(j===9||j===10)&&(Te=5),Q.height=le[0].height*Te}else Q.width=ie.width||360,Q.height=ie.height||240;q&&q instanceof HTMLVideoElement&&oe(q),le.forEach(function(Ne,Re){oe(Ne,Re)}),setTimeout(we,ie.frameInterval)}}function oe(j,q){if(!Y){var le=0,Te=0,Ne=j.width,Re=j.height;q===1&&(le=j.width),q===2&&(Te=j.height),q===3&&(le=j.width,Te=j.height),q===4&&(Te=j.height*2),q===5&&(le=j.width,Te=j.height*2),q===6&&(Te=j.height*3),q===7&&(le=j.width,Te=j.height*3),typeof j.stream.left<"u"&&(le=j.stream.left),typeof j.stream.top<"u"&&(Te=j.stream.top),typeof j.stream.width<"u"&&(Ne=j.stream.width),typeof j.stream.height<"u"&&(Re=j.stream.height),ae.drawImage(j,le,Te,Ne,Re),typeof j.stream.onRender=="function"&&j.stream.onRender(ae,le,Te,Ne,Re,q)}}function xe(){Y=!1;var j=Ue(),q=he();return q&&q.getTracks().filter(function(le){return le.kind==="audio"}).forEach(function(le){j.addTrack(le)}),O.forEach(function(le){le.fullcanvas}),j}function Ue(){De();var j;"captureStream"in Q?j=Q.captureStream():"mozCaptureStream"in Q?j=Q.mozCaptureStream():ie.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var q=new fe;return j.getTracks().filter(function(le){return le.kind==="video"}).forEach(function(le){q.addTrack(le)}),Q.stream=q,q}function he(){ve.AudioContextConstructor||(ve.AudioContextConstructor=new ve.AudioContext),ie.audioContext=ve.AudioContextConstructor,ie.audioSources=[],ie.useGainNode===!0&&(ie.gainNode=ie.audioContext.createGain(),ie.gainNode.connect(ie.audioContext.destination),ie.gainNode.gain.value=0);var j=0;if(O.forEach(function(q){if(q.getTracks().filter(function(Te){return Te.kind==="audio"}).length){j++;var le=ie.audioContext.createMediaStreamSource(q);ie.useGainNode===!0&&le.connect(ie.gainNode),ie.audioSources.push(le)}}),!!j)return ie.audioDestination=ie.audioContext.createMediaStreamDestination(),ie.audioSources.forEach(function(q){q.connect(ie.audioDestination)}),ie.audioDestination.stream}function Se(j){var q=document.createElement("video");return ce(j,q),q.className=E,q.muted=!0,q.volume=0,q.width=j.width||ie.width||360,q.height=j.height||ie.height||240,q.play(),q}this.appendStreams=function(j){if(!j)throw"First parameter is required.";j instanceof Array||(j=[j]),j.forEach(function(q){var le=new fe;if(q.getTracks().filter(function(Re){return Re.kind==="video"}).length){var Te=Se(q);Te.stream=q,K.push(Te),le.addTrack(q.getTracks().filter(function(Re){return Re.kind==="video"})[0])}if(q.getTracks().filter(function(Re){return Re.kind==="audio"}).length){var Ne=ie.audioContext.createMediaStreamSource(q);ie.audioDestination=ie.audioContext.createMediaStreamDestination(),Ne.connect(ie.audioDestination),le.addTrack(ie.audioDestination.stream.getTracks().filter(function(Re){return Re.kind==="audio"})[0])}O.push(le)})},this.releaseStreams=function(){K=[],Y=!0,ie.gainNode&&(ie.gainNode.disconnect(),ie.gainNode=null),ie.audioSources.length&&(ie.audioSources.forEach(function(j){j.disconnect()}),ie.audioSources=[]),ie.audioDestination&&(ie.audioDestination.disconnect(),ie.audioDestination=null),ie.audioContext&&ie.audioContext.close(),ie.audioContext=null,ae.clearRect(0,0,Q.width,Q.height),Q.stream&&(Q.stream.stop(),Q.stream=null)},this.resetVideoStreams=function(j){j&&!(j instanceof Array)&&(j=[j]),De(j)};function De(j){K=[],j=j||O,j.forEach(function(q){if(q.getTracks().filter(function(Te){return Te.kind==="video"}).length){var le=Se(q);le.stream=q,K.push(le)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=xe}typeof e>"u"&&(t.exports=B);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function U(O,E){O=O||[];var V=this,K,Y;E=E||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},E.frameInterval||(E.frameInterval=10),E.video||(E.video={}),E.video.width||(E.video.width=360),E.video.height||(E.video.height=240),this.record=function(){K=new B(O,E.elementClass||"multi-streams-mixer"),Q().length&&(K.frameInterval=E.frameInterval||10,K.width=E.video.width||360,K.height=E.video.height||240,K.startDrawingFrames()),E.previewStream&&typeof E.previewStream=="function"&&E.previewStream(K.getMixedStream()),Y=new T(K.getMixedStream(),E),Y.record()};function Q(){var ae=[];return O.forEach(function(ie){S(ie,"video").forEach(function(me){ae.push(me)})}),ae}this.stop=function(ae){Y&&Y.stop(function(ie){V.blob=ie,ae(ie),V.clearRecordedData()})},this.pause=function(){Y&&Y.pause()},this.resume=function(){Y&&Y.resume()},this.clearRecordedData=function(){Y&&(Y.clearRecordedData(),Y=null),K&&(K.releaseStreams(),K=null)},this.addStreams=function(ae){if(!ae)throw"First parameter is required.";ae instanceof Array||(ae=[ae]),O.concat(ae),!(!Y||!K)&&(K.appendStreams(ae),E.previewStream&&typeof E.previewStream=="function"&&E.previewStream(K.getMixedStream()))},this.resetVideoStreams=function(ae){K&&(ae&&!(ae instanceof Array)&&(ae=[ae]),K.resetVideoStreams(ae))},this.getMixer=function(){return K},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=U);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function te(O,E){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof O>"u")throw'First argument "MediaStream" is required.';var V=this;V.recordRTC=new e(O,E),this.startRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.startRecording(),K()}catch(Q){Y(Q)}})},this.stopRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.stopRecording(function(Q){if(V.blob=V.recordRTC.getBlob(),!V.blob||!V.blob.size){Y("Empty blob.",V.blob);return}K(Q)})}catch(Q){Y(Q)}})},this.pauseRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.pauseRecording(),K()}catch(Q){Y(Q)}})},this.resumeRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.resumeRecording(),K()}catch(Q){Y(Q)}})},this.getDataURL=function(K){return new Promise(function(Y,Q){try{V.recordRTC.getDataURL(function(ae){Y(ae)})}catch(ae){Q(ae)}})},this.getBlob=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getBlob())}catch(Q){Y(Q)}})},this.getInternalRecorder=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getInternalRecorder())}catch(Q){Y(Q)}})},this.reset=function(){return new Promise(function(K,Y){try{K(V.recordRTC.reset())}catch(Q){Y(Q)}})},this.destroy=function(){return new Promise(function(K,Y){try{K(V.recordRTC.destroy())}catch(Q){Y(Q)}})},this.getState=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getState())}catch(Q){Y(Q)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=te);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function H(O,E){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),E=E||{},E.width=E.width||640,E.height=E.height||480,E.frameRate=E.frameRate||30,E.bitrate=E.bitrate||1200,E.realtime=E.realtime||!0;var V;function K(){return new ReadableStream({start:function(pe){var fe=document.createElement("canvas"),ve=document.createElement("video"),ce=!0;ve.srcObject=O,ve.muted=!0,ve.height=E.height,ve.width=E.width,ve.volume=0,ve.onplaying=function(){fe.width=E.width,fe.height=E.height;var we=fe.getContext("2d"),oe=1e3/E.frameRate,xe=setInterval(function(){if(V&&(clearInterval(xe),pe.close()),ce&&(ce=!1,E.onVideoProcessStarted&&E.onVideoProcessStarted()),we.drawImage(ve,0,0),pe._controlledReadableStream.state!=="closed")try{pe.enqueue(we.getImageData(0,0,E.width,E.height))}catch{}},oe)},ve.play()}})}var Y;function Q(pe,fe){if(!E.workerPath&&!fe){V=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(ce){ce.arrayBuffer().then(function(we){Q(pe,we)})});return}if(!E.workerPath&&fe instanceof ArrayBuffer){var ve=new Blob([fe],{type:"text/javascript"});E.workerPath=f.createObjectURL(ve)}E.workerPath||console.error("workerPath parameter is missing."),Y=new Worker(E.workerPath),Y.postMessage(E.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),Y.addEventListener("message",function(ce){ce.data==="READY"?(Y.postMessage({width:E.width,height:E.height,bitrate:E.bitrate||1200,timebaseDen:E.frameRate||30,realtime:E.realtime}),K().pipeTo(new WritableStream({write:function(we){if(V){console.error("Got image, but recorder is finished!");return}Y.postMessage(we.data.buffer,[we.data.buffer])}}))):ce.data&&(ae||me.push(ce.data))})}this.record=function(){me=[],ae=!1,this.blob=null,Q(O),typeof E.initCallback=="function"&&E.initCallback()};var ae;this.pause=function(){ae=!0},this.resume=function(){ae=!1};function ie(pe){if(!Y){pe&&pe();return}Y.addEventListener("message",function(fe){fe.data===null&&(Y.terminate(),Y=null,pe&&pe())}),Y.postMessage(null)}var me=[];this.stop=function(pe){V=!0;var fe=this;ie(function(){fe.blob=new Blob(me,{type:"video/webm"}),pe(fe.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){me=[],ae=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=H)})(Ck);var _X=Ck.exports,Ek={};function wX(t){return t&&t.__esModule?t:{default:t}}var xX=wX,rb={exports:{}},Sk;function AX(){return Sk||(Sk=1,function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(H,O,E){H[O]=E.value},s,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function u(H,O,E){return Object.defineProperty(H,O,{value:E,enumerable:!0,configurable:!0,writable:!0}),H[O]}try{u({},"")}catch{u=function(O,E,V){return O[E]=V}}function h(H,O,E,V){var K=O&&O.prototype instanceof C?O:C,Y=Object.create(K.prototype),Q=new B(V||[]);return o(Y,"_invoke",{value:P(H,E,Q)}),Y}r.wrap=h;function p(H,O,E){try{return{type:"normal",arg:H.call(O,E)}}catch(V){return{type:"throw",arg:V}}}var m="suspendedStart",y="suspendedYield",v="executing",b="completed",A={};function C(){}function S(){}function M(){}var I={};u(I,l,function(){return this});var L=Object.getPrototypeOf,k=L&&L(L(U([])));k&&k!==n&&i.call(k,l)&&(I=k);var T=M.prototype=C.prototype=Object.create(I);S.prototype=M,o(T,"constructor",{value:M,configurable:!0}),o(M,"constructor",{value:S,configurable:!0}),S.displayName=u(M,f,"GeneratorFunction");function F(H){["next","throw","return"].forEach(function(O){u(H,O,function(E){return this._invoke(O,E)})})}r.isGeneratorFunction=function(H){var O=typeof H=="function"&&H.constructor;return O?O===S||(O.displayName||O.name)==="GeneratorFunction":!1},r.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,M):(H.__proto__=M,u(H,f,"GeneratorFunction")),H.prototype=Object.create(T),H},r.awrap=function(H){return{__await:H}};function z(H,O){function E(Y,Q,ae,ie){var me=p(H[Y],H,Q);if(me.type==="throw")ie(me.arg);else{var pe=me.arg,fe=pe.value;return fe&&typeof fe=="object"&&i.call(fe,"__await")?O.resolve(fe.__await).then(function(ve){E("next",ve,ae,ie)},function(ve){E("throw",ve,ae,ie)}):O.resolve(fe).then(function(ve){pe.value=ve,ae(pe)},function(ve){return E("throw",ve,ae,ie)})}}var V;function K(Y,Q){function ae(){return new O(function(ie,me){E(Y,Q,ie,me)})}return V=V?V.then(ae,ae):ae()}o(this,"_invoke",{value:K})}F(z.prototype),u(z.prototype,d,function(){return this}),r.AsyncIterator=z,r.async=function(H,O,E,V,K){K===void 0&&(K=Promise);var Y=new z(h(H,O,E,V),K);return r.isGeneratorFunction(O)?Y:Y.next().then(function(Q){return Q.done?Q.value:Y.next()})};function P(H,O,E){var V=m;return function(Y,Q){if(V===v)throw new Error("Generator is already running");if(V===b){if(Y==="throw")throw Q;return te()}for(E.method=Y,E.arg=Q;;){var ae=E.delegate;if(ae){var ie=R(ae,E);if(ie){if(ie===A)continue;return ie}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(V===m)throw V=b,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);V=v;var me=p(H,O,E);if(me.type==="normal"){if(V=E.done?b:y,me.arg===A)continue;return{value:me.arg,done:E.done}}else me.type==="throw"&&(V=b,E.method="throw",E.arg=me.arg)}}}function R(H,O){var E=O.method,V=H.iterator[E];if(V===s)return O.delegate=null,E==="throw"&&H.iterator.return&&(O.method="return",O.arg=s,R(H,O),O.method==="throw")||E!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+E+"' method")),A;var K=p(V,H.iterator,O.arg);if(K.type==="throw")return O.method="throw",O.arg=K.arg,O.delegate=null,A;var Y=K.arg;if(!Y)return O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,A;if(Y.done)O[H.resultName]=Y.value,O.next=H.nextLoc,O.method!=="return"&&(O.method="next",O.arg=s);else return Y;return O.delegate=null,A}F(T),u(T,f,"Generator"),u(T,l,function(){return this}),u(T,"toString",function(){return"[object Generator]"});function $(H){var O={tryLoc:H[0]};1 in H&&(O.catchLoc=H[1]),2 in H&&(O.finallyLoc=H[2],O.afterLoc=H[3]),this.tryEntries.push(O)}function W(H){var O=H.completion||{};O.type="normal",delete O.arg,H.completion=O}function B(H){this.tryEntries=[{tryLoc:"root"}],H.forEach($,this),this.reset(!0)}r.keys=function(H){var O=Object(H),E=[];for(var V in O)E.push(V);return E.reverse(),function K(){for(;E.length;){var Y=E.pop();if(Y in O)return K.value=Y,K.done=!1,K}return K.done=!0,K}};function U(H){if(H){var O=H[l];if(O)return O.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var E=-1,V=function K(){for(;++E<H.length;)if(i.call(H,E))return K.value=H[E],K.done=!1,K;return K.value=s,K.done=!0,K};return V.next=V}}return{next:te}}r.values=U;function te(){return{value:s,done:!0}}return B.prototype={constructor:B,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(W),!H)for(var O in this)O.charAt(0)==="t"&&i.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=s)},stop:function(){this.done=!0;var H=this.tryEntries[0],O=H.completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var O=this;function E(ie,me){return Y.type="throw",Y.arg=H,O.next=ie,me&&(O.method="next",O.arg=s),!!me}for(var V=this.tryEntries.length-1;V>=0;--V){var K=this.tryEntries[V],Y=K.completion;if(K.tryLoc==="root")return E("end");if(K.tryLoc<=this.prev){var Q=i.call(K,"catchLoc"),ae=i.call(K,"finallyLoc");if(Q&&ae){if(this.prev<K.catchLoc)return E(K.catchLoc,!0);if(this.prev<K.finallyLoc)return E(K.finallyLoc)}else if(Q){if(this.prev<K.catchLoc)return E(K.catchLoc,!0)}else if(ae){if(this.prev<K.finallyLoc)return E(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,O){for(var E=this.tryEntries.length-1;E>=0;--E){var V=this.tryEntries[E];if(V.tryLoc<=this.prev&&i.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var K=V;break}}K&&(H==="break"||H==="continue")&&K.tryLoc<=O&&O<=K.finallyLoc&&(K=null);var Y=K?K.completion:{};return Y.type=H,Y.arg=O,K?(this.method="next",this.next=K.finallyLoc,A):this.complete(Y)},complete:function(H,O){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&O&&(this.next=O),A},finish:function(H){for(var O=this.tryEntries.length-1;O>=0;--O){var E=this.tryEntries[O];if(E.finallyLoc===H)return this.complete(E.completion,E.afterLoc),W(E),A}},catch:function(H){for(var O=this.tryEntries.length-1;O>=0;--O){var E=this.tryEntries[O];if(E.tryLoc===H){var V=E.completion;if(V.type==="throw"){var K=V.arg;W(E)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(H,O,E){return this.delegate={iterator:U(H),resultName:O,nextLoc:E},this.method==="next"&&(this.arg=s),A}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(rb)),rb.exports}var nb,kk;function TX(){return kk||(kk=1,nb=AX()),nb}var ib,Ik;function CX(){if(Ik)return ib;Ik=1;function t(r,n,i,o,s,a,l){try{var d=r[a](l),f=d.value}catch(u){i(u);return}d.done?n(f):Promise.resolve(f).then(o,s)}function e(r){return function(){var n=this,i=arguments;return new Promise(function(o,s){var a=r.apply(n,i);function l(f){t(a,o,s,l,d,"next",f)}function d(f){t(a,o,s,l,d,"throw",f)}l(void 0)})}}return ib=e,ib}(function(t){var e=xX;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=e(TX()),n=e(CX());function i(s){return o.apply(this,arguments)}function o(){return(o=(0,n.default)(r.default.mark(function s(a){var l,d;return r.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=document.createElement("video"),d=new Promise(function(u,h){l.addEventListener("loadedmetadata",function(){l.duration===1/0?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,u(l.duration),l.currentTime=0}):u(l.duration)}),l.onerror=function(p){return h(p.target.error)}}),l.src=typeof a=="string"||a instanceof String?a:window.URL.createObjectURL(a),f.abrupt("return",d);case 4:case"end":return f.stop()}},s)}))).apply(this,arguments)}})(Ek);const EX=Jr(Ek),SX=t=>(c.pushScopeId("data-v-d7ca8ae1"),t=t(),c.popScopeId(),t),kX={class:"flex grow items-center gap-1"},IX={class:"relative flex h-12 w-0 min-w-0 grow items-center gap-3 rounded-xl bg-gray-100 px-3 dark:bg-zinc-700"},DX={key:0,class:"flex items-center gap-1 rounded-xl bg-white p-2 text-xs text-gray-600 transition duration-150 ease-in-out dark:bg-zinc-800"},MX=SX(()=>c.createElementVNode("img",{class:"h-4 w-4",src:Tk},null,-1)),NX={class:"volumes"},OX={class:"ml-auto rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},LX={key:1,class:"ml-2 mr-1 h-6 w-6 cursor-not-allowed",src:E2},Dk="audio/webm",BX=180,RX=wi(c.defineComponent({__name:"AudioInput",setup(t){const{t:e}=_i(),r=Rt(),n=c.ref(3),i=c.ref(),o=c.ref(),s=c.ref(0),a=c.ref(0),l=c.ref(),d=c.ref(),f=c.reactive([]),u=c.ref(""),h=c.computed(()=>s.value>1),p=async()=>{var y,v;try{switch(n.value){case 3:{n.value=0,f.splice(0),s.value=0,a.value=0,i.value=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),o.value=new _X.RecordRTCPromisesHandler(i.value,{type:"audio",mimeType:Dk});let b=new AudioContext,A=b.createAnalyser();A.fftSize=64,A.smoothingTimeConstant=0,b.createMediaStreamSource(i.value).connect(A),d.value=window.setInterval(()=>{let S=new Uint8Array(A.frequencyBinCount);A.getByteFrequencyData(S);let M=S.reduce((L,k)=>L+k)/S.length;const I=Math.min(1,M/128);f.unshift(I)},100),await o.value.startRecording(),a.value=Date.now(),l.value=window.setInterval(()=>{s.value=(Date.now()-a.value)/1e3,s.value>=BX&&p()},1e3),n.value=1;break}case 1:n.value=2,await((y=o.value)==null?void 0:y.stopRecording()),(v=i.value)==null||v.getTracks().forEach(b=>b.stop()),clearInterval(l.value),clearInterval(d.value),n.value=3;break;default:break}}catch(b){console.error(b),u.value=e("noAccessMicrophonePermission")}},m=async()=>{var v;n.value!==3&&await p(),f.splice(0),s.value=0,a.value=0;let y=await((v=o.value)==null?void 0:v.getBlob());if(y){const b=await EX(y),A=new File([y],`${ef()}.webm`),C={roomId:r.state.imkit.selectedRoomId,messageType:"audio",file:A,duration:b,originalUrl:"",extra:{mimeType:Dk,fileName:A.name.split(".").slice(0,-1).join("."),bytes:A.size,fileExtension:A.name.split(".").pop()}};await r.dispatch("imkit/sendMessage",C)}};return c.onUnmounted(()=>{clearInterval(l.value),clearInterval(d.value)}),(y,v)=>(c.openBlock(),c.createElementBlock("div",kX,[c.createElementVNode("div",IX,[c.createElementVNode("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full border-2 border-gray-300",onClick:p},[c.createElementVNode("div",{class:c.normalizeClass(["h-6 w-6 rounded-full bg-red-500 transition-all duration-200 ease-in",{"h-3.5 w-3.5 rounded":n.value==1,"cursor-not-allowed bg-red-300":u.value}])},null,2)]),c.createVNode(c.Transition,null,{default:c.withCtx(()=>[u.value?(c.openBlock(),c.createElementBlock("div",DX,[MX,c.createTextVNode(" "+c.toDisplayString(u.value),1)])):c.createCommentVNode("",!0)]),_:1}),c.createElementVNode("div",NX,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(f,(b,A)=>(c.openBlock(),c.createElementBlock("div",{key:A,class:"!min-h-0.5 w-0.5 flex-shrink-0 rounded bg-gray-400",style:c.normalizeStyle({height:`${b*28}px`})},null,4))),128))]),c.createElementVNode("div",OX,c.toDisplayString(Math.floor(s.value/60))+":"+c.toDisplayString(`${Math.floor(s.value%60)}`.padStart(2,"0")),1)]),h.value?(c.openBlock(),c.createElementBlock("img",{key:0,class:"ml-2 mr-1 h-6 w-6 cursor-pointer",src:C2,onClick:m})):(c.openBlock(),c.createElementBlock("img",LX))]))}}),[["__scopeId","data-v-d7ca8ae1"]]),PX=()=>{const t=window.location.href,e=t.substring(t.indexOf("?"));return new URLSearchParams(e.lastIndexOf("#/")==-1?e:e.substring(0,e.lastIndexOf("#/")))};function sd(t){var e;const r=Es(t);return(e=r==null?void 0:r.$el)!=null?e:r}const Mk=om?window:void 0;function wp(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=Mk):[e,r,n,i]=t,!e)return La;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,u,h,p)=>(f.addEventListener(u,h,p),()=>f.removeEventListener(u,h,p)),l=c.watch(()=>[sd(e),Es(i)],([f,u])=>{if(s(),!f)return;const h=r2(u)?{...u}:u;o.push(...r.flatMap(p=>n.map(m=>a(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return Sd(d),d}let Nk=!1;function Ok(t,e,r={}){const{window:n=Mk,ignore:i=[],capture:o=!0,detectIframe:s=!1}=r;if(!n)return La;sm&&!Nk&&(Nk=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",La)),n.document.documentElement.addEventListener("click",La));let a=!0;const l=h=>i.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=sd(p);return m&&(h.target===m||h.composedPath().includes(m))}}),f=[wp(n,"click",h=>{const p=sd(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(a=!l(h)),!a){a=!0;return}e(h)}},{passive:!0,capture:o}),wp(n,"pointerdown",h=>{const p=sd(t);a=!l(h)&&!!(p&&!h.composedPath().includes(p))},{passive:!0}),s&&wp(n,"blur",h=>{setTimeout(()=>{var p;const m=sd(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&e(h)},0)})].filter(Boolean);return()=>f.forEach(h=>h())}const ad={[n2.mounted](t,e){const r=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=Ok(t,e.value,{capture:r});else{const[n,i]=e.value;t.__onClickOutside_stop=Ok(t,n,Object.assign({capture:r},i))}},[n2.unmounted](t){t.__onClickOutside_stop()}};function ob(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function Lk(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:Lk(r)}}function FX(t){const e=t||window.event,r=e.target;return Lk(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const sb=new WeakMap;function UX(t,e=!1){const r=c.ref(e);let n=null,i="";c.watch(y6(t),a=>{const l=ob(Es(a));if(l){const d=l;if(sb.get(d)||sb.set(d,d.style.overflow),d.style.overflow!=="hidden"&&(i=d.style.overflow),d.style.overflow==="hidden")return r.value=!0;if(r.value)return d.style.overflow="hidden"}},{immediate:!0});const o=()=>{const a=ob(Es(t));!a||r.value||(sm&&(n=wp(a,"touchmove",l=>{FX(l)},{passive:!1})),a.style.overflow="hidden",r.value=!0)},s=()=>{const a=ob(Es(t));!a||!r.value||(sm&&(n==null||n()),a.style.overflow=i,sb.delete(a),r.value=!1)};return Sd(s),c.computed({get(){return r.value},set(a){a?o():s()}})}function jX(){let t=!1;const e=c.ref(!1);return(r,n)=>{if(e.value=n.value,t)return;t=!0;const i=UX(r,n.value);c.watch(e,o=>i.value=o)}}jX();const $X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UMU7DQBCF4ZEo4Aq0nICCKg03oMJpOIOVN1Nlx4UPAJcDypwgdInoiAJaCB3YG7IQ1nmftJJlWWP9XnlFiIiIiIiIiIhoR8D0DPA71XAbr2XIzJqRalio+uvHCot4Tw4j1t8X4M+q4VIOIVaHGG09sYOKtsTYQUSbNSPAl1+HhZe4voleFneQWffOroDmBgjXHdHl7LQlxH4+W3y0bRFbfLT9ILbYaNshtrhowC96TuNx+qww7jq947t+tyYB4I85YtOiw4PsU9u2JzljE6LXdV0f563YUvzqOWN7ou9l3yYTPwd8tomdm02vcs2Os1T9afMPz+K75L8A/LSqqqPcc+PMODv3XCIiIiIiIiIiIiIi+QNvk5r+mltEG0oAAAAASUVORK5CYII=",zX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR4nO3UMU7DMBiGYUsMcAVWTsDA1IUbdEIsHIlejrKlQ5r8H07SjYqtiCCrRUxNU2ooTt9HsmQp0W+9iWTnAAAAAAAAcKCiqK/MqolZ9Rj2bsikZmTmX6WqDWu9b0buFGL1Hf1Wlv7WnUKshhitHbGDilbP2EFEax273BK2CmvLs2VyF5k6/qyZfy/Llwczf9cRnc6fVo/Yr3eTj9YesclH6wexyUbrgNjkoovC33TdxlJ133dWeLfr9g5n/W5ND5J/jhHbJ1ryU3dMeZ5fxIzdFW3mP7IsO49bsafw1WPGdkf7J3dskq4lP9vENlI9jje7HptVi03sLJzl/ov5fHHZtu1Z7LlhZpgdey4AAAAAAAAAAO4PfAKuTjfhZH9KRQAAAABJRU5ErkJggg==",VX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVR4nO3UMU7DMBTGcSMGOAMbnICBBRZuwES6cIbIn1NFynOG7NwOWOECMBWxgQA91EqA2iRtLCW2vp/k0c/5x5KNISIiIiIiIiIiIiKKz15ZlkdZlu2HHqwzdbaeYabAWn/qnH9yzn8555+LoroKNVtnAfKiswF51LPM2AD/sIz9WYC8AzIbPldmOuvf7HszpqZpDn9/UKjodbHL9Znn+UHYii3pXw8Z3RKr686MDfBngH8NEd0Wq2foWWYKrK3OnZPFhlv5AOqbrhmAXLfEvjknl2ZK7IDo6GKHREcbu0t09LHbRCcTu1IU9UXH673xNda9Jka2/abTuNldo5OI7RudVGxXdJKxK/oY/Y2WRbQPVF9AdQLIra75vD7uvZGIiIiIiIiIiMx632C5/lbO/M2+AAAAAElFTkSuQmCC",HX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO3UMU7DMBTGcVcd4AxscAIGFli4QSfUhRtxO2CLQJHzPp5TOoHYQBiZhEqgNk0To8bR95MiZcmz/7FkY4iIiIiIiIiIiIiIEuO9n1i7PPLeT/9h9rSePTFDAOAU0EfAeRH3DJSzeLPLmYhbhtmAPoS1Ys3uDND7akPVI6LvgJv3n+vm9azVbEDvzD7leX74e0NxotfHfs/9zLLsIG7FjsJfjxm9KbY+4Vuzb9bqmYi+xohuig1rhLXMEADluYi+bNjoR1E8XW+bIaJXDbFvRaGXZkjQIzq52D7RycZ2iU4+dpfo0cT+ABYXTbd3020cvjUpQsNJj+Zku0aPIrZt9Khit0WPMvbPRbaKrt4TvaDasrY8EdGb8Djnjlt/SEREREREREREZr0vWIQ93o81LZQAAAAASUVORK5CYII=",qX={class:"flex grow items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},WX={key:0,class:"flex h-6 w-6 items-center justify-center"},GX=[c.createElementVNode("svg",{class:"h-5 w-5 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1)],QX={key:1,class:"h-5 w-5 cursor-pointer",src:Pd},YX=["placeholder"],KX={class:"pb-0.5 text-sm font-medium text-gray-500 dark:text-gray-300"},XX={key:1,width:"20",height:"20",src:zX,alt:"collapse-arrow"},JX={key:3,width:"20",height:"20",src:HX,alt:"expand-arrow"},ZX=c.defineComponent({__name:"SearchPanel",setup(t){const e=Rt(),r=c.ref(""),n=c.ref(0),i=c.ref([]),o=c.ref(!1),s=c.ref(!1),a=async()=>{var p;if(!o.value&&r.value){s.value=!0;const{data:{result:m}}=await e.state.imkit.axios.post(io.Search,{type:["messages"],room:e.state.imkit.selectedRoomId,keyword:r.value});i.value=((p=m.messages[0])==null?void 0:p.messages)??[],s.value=!1,i.value.length>0?(n.value=i.value.length,await e.commit("imkit/setState",{messageSearchKeyword:r.value}),await e.dispatch("imkit/navigateToMessage",i.value[n.value-1])):n.value=0}},l=p=>{p>0&&p<=i.value.length&&(n.value=p,e.dispatch("imkit/navigateToMessage",i.value[p-1]))},d=od(1e3,a),f=eb(500,d,{atBegin:!1}),u=c.computed(()=>e.state.imkit.config.styles);c.watch(r,f);const h=()=>{e.commit("imkit/setState",{isSearchInRoomMode:!1})};return(p,m)=>(c.openBlock(),c.createElementBlock("div",{class:"flex h-[60px] items-center justify-center border-b border-solid p-2 dark:border-zinc-700",style:c.normalizeStyle(u.value.chatRoomHeader)},[c.createElementVNode("div",qX,[s.value?(c.openBlock(),c.createElementBlock("div",WX,GX)):(c.openBlock(),c.createElementBlock("img",QX)),c.withDirectives(c.createElementVNode("input",{class:"h-5 grow bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[0]||(m[0]=y=>r.value=y),placeholder:p.$t("searchInConversation"),onCompositionstart:m[1]||(m[1]=y=>o.value=!0),onCompositionend:m[2]||(m[2]=y=>o.value=!1)},null,40,YX),[[c.vModelText,r.value]]),!s.value&&r.value.length>0?(c.openBlock(),c.createElementBlock(c.Fragment,{key:2},[c.createElementVNode("div",KX,c.toDisplayString(n.value)+"/"+c.toDisplayString(i.value.length),1),n.value>1?(c.openBlock(),c.createElementBlock("img",{key:0,class:"cursor-pointer",width:"20",height:"20",src:$X,alt:"collapse-arrow",onClick:m[3]||(m[3]=y=>l(n.value-1))})):(c.openBlock(),c.createElementBlock("img",XX)),n.value<i.value.length?(c.openBlock(),c.createElementBlock("img",{key:2,class:"cursor-pointer",width:"20",height:"20",src:VX,alt:"expand-arrow",onClick:m[4]||(m[4]=y=>l(n.value+1))})):(c.openBlock(),c.createElementBlock("img",JX))],64)):c.createCommentVNode("",!0),c.createElementVNode("img",{src:_p,class:"h-5 w-5 cursor-pointer",onClick:m[5]||(m[5]=()=>{c.unref(f).cancel({upcomingOnly:!0}),r.value="",c.unref(d)(),h()})})])],4))}});function Ro(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function ab(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}const Bk={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},nc="^\\s*",ic="\\s*$",ha="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",pa="([0-9A-Fa-f])",ma="([0-9A-Fa-f]{2})",eJ=new RegExp(`${nc}rgb\\s*\\(${ha},${ha},${ha}\\)${ic}`),tJ=new RegExp(`${nc}rgba\\s*\\(${ha},${ha},${ha},${ha}\\)${ic}`),rJ=new RegExp(`${nc}#${pa}${pa}${pa}${ic}`),nJ=new RegExp(`${nc}#${ma}${ma}${ma}${ic}`),iJ=new RegExp(`${nc}#${pa}${pa}${pa}${pa}${ic}`),oJ=new RegExp(`${nc}#${ma}${ma}${ma}${ma}${ic}`);function Dn(t){return parseInt(t,16)}function Po(t){try{let e;if(e=nJ.exec(t))return[Dn(e[1]),Dn(e[2]),Dn(e[3]),1];if(e=eJ.exec(t))return[Yr(e[1]),Yr(e[5]),Yr(e[9]),1];if(e=tJ.exec(t))return[Yr(e[1]),Yr(e[5]),Yr(e[9]),ld(e[13])];if(e=rJ.exec(t))return[Dn(e[1]+e[1]),Dn(e[2]+e[2]),Dn(e[3]+e[3]),1];if(e=oJ.exec(t))return[Dn(e[1]),Dn(e[2]),Dn(e[3]),ld(Dn(e[4])/255)];if(e=iJ.exec(t))return[Dn(e[1]+e[1]),Dn(e[2]+e[2]),Dn(e[3]+e[3]),ld(Dn(e[4]+e[4])/255)];if(t in Bk)return Po(Bk[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function sJ(t){return t>1?1:t<0?0:t}function lb(t,e,r,n){return`rgba(${Yr(t)}, ${Yr(e)}, ${Yr(r)}, ${sJ(n)})`}function cb(t,e,r,n,i){return Yr((t*e*(1-n)+r*n)/i)}function nt(t,e){Array.isArray(t)||(t=Po(t)),Array.isArray(e)||(e=Po(e));const r=t[3],n=e[3],i=ld(r+n-r*n);return lb(cb(t[0],r,e[0],n,i),cb(t[1],r,e[1],n,i),cb(t[2],r,e[2],n,i),i)}function Ye(t,e){const[r,n,i,o=1]=Array.isArray(t)?t:Po(t);return e.alpha?lb(r,n,i,e.alpha):lb(r,n,i,o)}function yr(t,e){const[r,n,i,o=1]=Array.isArray(t)?t:Po(t),{lightness:s=1,alpha:a=1}=e;return aJ([r*s,n*s,i*s,o*a])}function ld(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Yr(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function aJ(t){const[e,r,n]=t;return 3 in t?`rgba(${Yr(e)}, ${Yr(r)}, ${Yr(n)}, ${ld(t[3])})`:`rgba(${Yr(e)}, ${Yr(r)}, ${Yr(n)}, 1)`}function xp(t,...e){if(Array.isArray(t))t.forEach(r=>xp(r,...e));else return t(...e)}const Rk=new Set;function lJ(t,e){const r=`[naive/${t}]: ${e}`;Rk.has(r)||(Rk.add(r),console.error(r))}function cJ(t,e){console.error(`[naive/${t}]: ${e}`)}function Pk(t,e){throw new Error(`[naive/${t}]: ${e}`)}function ub(t){return t.some(e=>c.isVNode(e)?!(e.type===c.Comment||e.type===c.Fragment&&!ub(e.children)):!0)?t:null}function ga(t,e){const r=t&&ub(t());return e(r||null)}function db(t){return!(t&&ub(t()))}const uJ=/^(\d|\.)+$/,Fk=/(\d|\.)+/;function dJ(t,{c:e=1,offset:r=0,attachPx:n=!0}={}){if(typeof t=="number"){const i=(t+r)*e;return i===0?"0":`${i}px`}else if(typeof t=="string")if(uJ.test(t)){const i=(Number(t)+r)*e;return n?i===0?"0":`${i}px`:`${i}`}else{const i=Fk.exec(t);return i?t.replace(Fk,String((Number(i[0])+r)*e)):t}return t}function fJ(t){let e=0;for(let r=0;r<t.length;++r)t[r]==="&"&&++e;return e}const Uk=/\s*,(?![^(]*\))\s*/g,hJ=/\s+/g;function pJ(t,e){const r=[];return e.split(Uk).forEach(n=>{let i=fJ(n);if(i){if(i===1){t.forEach(s=>{r.push(n.replace("&",s))});return}}else{t.forEach(s=>{r.push((s&&s+" ")+n)});return}let o=[n];for(;i--;){const s=[];o.forEach(a=>{t.forEach(l=>{s.push(a.replace("&",l))})}),o=s}o.forEach(s=>r.push(s))}),r}function mJ(t,e){const r=[];return e.split(Uk).forEach(n=>{t.forEach(i=>{r.push((i&&i+" ")+n)})}),r}function gJ(t){let e=[""];return t.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?e=pJ(e,r):e=mJ(e,r))}),e.join(", ").replace(hJ," ")}function jk(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function fb(t){return document.querySelector(`style[cssr-id="${t}"]`)}function yJ(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Ap(t){return t?/^\s*@(s|m)/.test(t):!1}const bJ=/[A-Z]/g;function $k(t){return t.replace(bJ,e=>"-"+e.toLowerCase())}function vJ(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(r=>e+`  ${$k(r[0])}: ${r[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function _J(t,e,r){return typeof t=="function"?t({context:e.context,props:r}):t}function zk(t,e,r,n){if(!e)return"";const i=_J(e,r,n);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const o=Object.keys(i);if(o.length===0)return r.config.keepEmptyBlock?t+` {
}`:"";const s=t?[t+" {"]:[];return o.forEach(a=>{const l=i[a];if(a==="raw"){s.push(`
`+l+`
`);return}a=$k(a),l!=null&&s.push(`  ${a}${vJ(l)}`)}),t&&s.push("}"),s.join(`
`)}function hb(t,e,r){t&&t.forEach(n=>{if(Array.isArray(n))hb(n,e,r);else if(typeof n=="function"){const i=n(e);Array.isArray(i)?hb(i,e,r):i&&r(i)}else n&&r(n)})}function Vk(t,e,r,n,i,o){const s=t.$;let a="";if(!s||typeof s=="string")Ap(s)?a=s:e.push(s);else if(typeof s=="function"){const f=s({context:n.context,props:i});Ap(f)?a=f:e.push(f)}else if(s.before&&s.before(n.context),!s.$||typeof s.$=="string")Ap(s.$)?a=s.$:e.push(s.$);else if(s.$){const f=s.$({context:n.context,props:i});Ap(f)?a=f:e.push(f)}const l=gJ(e),d=zk(l,t.props,n,i);a?(r.push(`${a} {`),o&&d&&o.insertRule(`${a} {
${d}
}
`)):(o&&d&&o.insertRule(d),!o&&d.length&&r.push(d)),t.children&&hb(t.children,{context:n.context,props:i},f=>{if(typeof f=="string"){const u=zk(l,{raw:f},n,i);o?o.insertRule(u):r.push(u)}else Vk(f,e,r,n,i,o)}),e.pop(),a&&r.push("}"),s&&s.after&&s.after(n.context)}function Hk(t,e,r,n=!1){const i=[];return Vk(t,[],i,e,r,n?t.instance.__styleSheet:void 0),n?"":i.join(`

`)}function pb(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function wJ(t,e,r){const{els:n}=e;if(r===void 0)n.forEach(jk),e.els=[];else{const i=fb(r);i&&n.includes(i)&&(jk(i),e.els=n.filter(o=>o!==i))}}function qk(t,e){t.push(e)}function xJ(t,e,r,n,i,o,s,a,l){if(o&&!l){if(r===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const h=window.__cssrContext;h[r]||(h[r]=!0,Hk(e,t,n,o));return}let d;if(r===void 0&&(d=e.render(n),r=pb(d)),l){l.adapter(r,d??e.render(n));return}const f=fb(r);if(f!==null&&!s)return f;const u=f??yJ(r);if(d===void 0&&(d=e.render(n)),u.textContent=d,f!==null)return f;if(a){const h=document.head.querySelector(`meta[name="${a}"]`);if(h)return document.head.insertBefore(u,h),qk(e.els,u),u}return i?document.head.insertBefore(u,document.head.querySelector("style, link")):document.head.appendChild(u),qk(e.els,u),u}function AJ(t){return Hk(this,this.instance,t)}function TJ(t={}){const{id:e,ssr:r,props:n,head:i=!1,silent:o=!1,force:s=!1,anchorMetaName:a}=t;return xJ(this.instance,this,e,n,i,o,s,a,r)}function CJ(t={}){const{id:e}=t;wJ(this.instance,this,e)}const Tp=function(t,e,r,n){return{instance:t,$:e,props:r,children:n,els:[],render:AJ,mount:TJ,unmount:CJ}},EJ=function(t,e,r,n){return Array.isArray(e)?Tp(t,{$:null},null,e):Array.isArray(r)?Tp(t,e,null,r):Array.isArray(n)?Tp(t,e,r,n):Tp(t,e,r,null)};function SJ(t={}){let e=null;const r={c:(...n)=>EJ(r,...n),use:(n,...i)=>n.install(r,...i),find:fb,context:{},config:t,get __styleSheet(){if(!e){const n=document.createElement("style");return document.head.appendChild(n),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return r}function kJ(t){let e=".",r="__",n="--",i;if(t){let f=t.blockPrefix;f&&(e=f),f=t.elementPrefix,f&&(r=f),f=t.modifierPrefix,f&&(n=f)}const o={install(f){i=f.c;const u=f.context;u.bem={},u.bem.b=null,u.bem.els=null}};function s(f){let u,h;return{before(p){u=p.bem.b,h=p.bem.els,p.bem.els=null},after(p){p.bem.b=u,p.bem.els=h},$({context:p,props:m}){return f=typeof f=="string"?f:f({context:p,props:m}),p.bem.b=f,`${(m==null?void 0:m.bPrefix)||e}${p.bem.b}`}}}function a(f){let u;return{before(h){u=h.bem.els},after(h){h.bem.els=u},$({context:h,props:p}){return f=typeof f=="string"?f:f({context:h,props:p}),h.bem.els=f.split(",").map(m=>m.trim()),h.bem.els.map(m=>`${(p==null?void 0:p.bPrefix)||e}${h.bem.b}${r}${m}`).join(", ")}}}function l(f){return{$({context:u,props:h}){f=typeof f=="string"?f:f({context:u,props:h});const p=f.split(",").map(v=>v.trim());function m(v){return p.map(b=>`&${(h==null?void 0:h.bPrefix)||e}${u.bem.b}${v!==void 0?`${r}${v}`:""}${n}${b}`).join(", ")}const y=u.bem.els;if(y!==null){if(process.env.NODE_ENV!=="production"&&y.length>=2)throw Error(`[css-render/plugin-bem]: m(${f}) is invalid, using modifier inside multiple elements is not allowed`);return m(y[0])}else return m()}}}function d(f){return{$({context:u,props:h}){f=typeof f=="string"?f:f({context:u,props:h});const p=u.bem.els;if(process.env.NODE_ENV!=="production"&&p!==null&&p.length>=2)throw Error(`[css-render/plugin-bem]: notM(${f}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(h==null?void 0:h.bPrefix)||e}${u.bem.b}${p!==null&&p.length>0?`${r}${p[0]}`:""}${n}${f})`}}}return Object.assign(o,{cB:(...f)=>i(s(f[0]),f[1],f[2]),cE:(...f)=>i(a(f[0]),f[1],f[2]),cM:(...f)=>i(l(f[0]),f[1],f[2]),cNotM:(...f)=>i(d(f[0]),f[1],f[2])}),o}function bs(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,r=>r.toUpperCase()))}bs("abc","def");const IJ="n",DJ=`.${IJ}-`,MJ="__",NJ="--",Wk=SJ(),Gk=kJ({blockPrefix:DJ,elementPrefix:MJ,modifierPrefix:NJ});Wk.use(Gk);const{c:Kr,find:Kfe}=Wk,{cB:Cp,cE:At,cM:Ri,cNotM:Qk}=Gk;function OJ(t,e){return c.watch(t,r=>{r!==void 0&&(e.value=r)}),c.computed(()=>t.value===void 0?e.value:t.value)}function LJ(){const t=c.ref(!1);return c.onMounted(()=>{t.value=!0}),c.readonly(t)}const Yk=Symbol("@css-render/vue3-ssr");function BJ(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function RJ(t,e){const r=c.inject(Yk,null);if(r===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:n,ids:i}=r;i.has(t)||n!==null&&(i.add(t),n.push(BJ(t,e)))}const PJ=typeof document<"u";function mb(){if(PJ)return;const t=c.inject(Yk,null);if(t!==null)return{adapter:RJ,context:t}}const Kk="n-form-item";function FJ(t,{defaultSize:e="medium",mergedSize:r,mergedDisabled:n}={}){const i=c.inject(Kk,null);c.provide(Kk,null);const o=c.computed(r?()=>r(i):()=>{const{size:l}=t;if(l)return l;if(i){const{mergedSize:d}=i;if(d.value!==void 0)return d.value}return e}),s=c.computed(n?()=>n(i):()=>{const{disabled:l}=t;return l!==void 0?l:i?i.disabled.value:!1}),a=c.computed(()=>{const{status:l}=t;return l||(i==null?void 0:i.mergedValidationStatus.value)});return c.onBeforeUnmount(()=>{i&&i.restoreValidation()}),{mergedSizeRef:o,mergedDisabledRef:s,mergedStatusRef:a,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var UJ=typeof global=="object"&&global&&global.Object===Object&&global;const Xk=UJ;var jJ=typeof self=="object"&&self&&self.Object===Object&&self,$J=Xk||jJ||Function("return this")();const oc=$J;var zJ=oc.Symbol;const Ep=zJ;var Jk=Object.prototype,VJ=Jk.hasOwnProperty,HJ=Jk.toString,cd=Ep?Ep.toStringTag:void 0;function qJ(t){var e=VJ.call(t,cd),r=t[cd];try{t[cd]=void 0;var n=!0}catch{}var i=HJ.call(t);return n&&(e?t[cd]=r:delete t[cd]),i}var WJ=Object.prototype,GJ=WJ.toString;function QJ(t){return GJ.call(t)}var YJ="[object Null]",KJ="[object Undefined]",Zk=Ep?Ep.toStringTag:void 0;function Sp(t){return t==null?t===void 0?KJ:YJ:Zk&&Zk in Object(t)?qJ(t):QJ(t)}function ud(t){return t!=null&&typeof t=="object"}var XJ=Array.isArray;const gb=XJ;function ya(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function eI(t){return t}var JJ="[object AsyncFunction]",ZJ="[object Function]",eZ="[object GeneratorFunction]",tZ="[object Proxy]";function yb(t){if(!ya(t))return!1;var e=Sp(t);return e==ZJ||e==eZ||e==JJ||e==tZ}var rZ=oc["__core-js_shared__"];const bb=rZ;var tI=function(){var t=/[^.]+$/.exec(bb&&bb.keys&&bb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nZ(t){return!!tI&&tI in t}var iZ=Function.prototype,oZ=iZ.toString;function sZ(t){if(t!=null){try{return oZ.call(t)}catch{}try{return t+""}catch{}}return""}var aZ=/[\\^$.*+?()[\]{}|]/g,lZ=/^\[object .+?Constructor\]$/,cZ=Function.prototype,uZ=Object.prototype,dZ=cZ.toString,fZ=uZ.hasOwnProperty,hZ=RegExp("^"+dZ.call(fZ).replace(aZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pZ(t){if(!ya(t)||nZ(t))return!1;var e=yb(t)?hZ:lZ;return e.test(sZ(t))}function mZ(t,e){return t==null?void 0:t[e]}function vb(t,e){var r=mZ(t,e);return pZ(r)?r:void 0}var rI=Object.create,gZ=function(){function t(){}return function(e){if(!ya(e))return{};if(rI)return rI(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const yZ=gZ;function bZ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function vZ(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var _Z=800,wZ=16,xZ=Date.now;function AZ(t){var e=0,r=0;return function(){var n=xZ(),i=wZ-(n-r);if(r=n,i>0){if(++e>=_Z)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function TZ(t){return function(){return t}}var CZ=function(){try{var t=vb(Object,"defineProperty");return t({},"",{}),t}catch{}}();const kp=CZ;var EZ=kp?function(t,e){return kp(t,"toString",{configurable:!0,enumerable:!1,value:TZ(e),writable:!0})}:eI,SZ=AZ(EZ);const kZ=SZ;var IZ=9007199254740991,DZ=/^(?:0|[1-9]\d*)$/;function nI(t,e){var r=typeof t;return e=e??IZ,!!e&&(r=="number"||r!="symbol"&&DZ.test(t))&&t>-1&&t%1==0&&t<e}function _b(t,e,r){e=="__proto__"&&kp?kp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ip(t,e){return t===e||t!==t&&e!==e}var MZ=Object.prototype,NZ=MZ.hasOwnProperty;function OZ(t,e,r){var n=t[e];(!(NZ.call(t,e)&&Ip(n,r))||r===void 0&&!(e in t))&&_b(t,e,r)}function LZ(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?_b(r,a,l):OZ(r,a,l)}return r}var iI=Math.max;function BZ(t,e,r){return e=iI(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=iI(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),bZ(t,this,a)}}function RZ(t,e){return kZ(BZ(t,e,eI),t+"")}var PZ=9007199254740991;function oI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PZ}function wb(t){return t!=null&&oI(t.length)&&!yb(t)}function FZ(t,e,r){if(!ya(r))return!1;var n=typeof e;return(n=="number"?wb(r)&&nI(e,r.length):n=="string"&&e in r)?Ip(r[e],t):!1}function UZ(t){return RZ(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&FZ(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}var jZ=Object.prototype;function sI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||jZ;return t===r}function $Z(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var zZ="[object Arguments]";function aI(t){return ud(t)&&Sp(t)==zZ}var lI=Object.prototype,VZ=lI.hasOwnProperty,HZ=lI.propertyIsEnumerable,qZ=aI(function(){return arguments}())?aI:function(t){return ud(t)&&VZ.call(t,"callee")&&!HZ.call(t,"callee")};const xb=qZ;function WZ(){return!1}var cI=typeof at=="object"&&at&&!at.nodeType&&at,uI=cI&&typeof module=="object"&&module&&!module.nodeType&&module,GZ=uI&&uI.exports===cI,dI=GZ?oc.Buffer:void 0,QZ=dI?dI.isBuffer:void 0,YZ=QZ||WZ;const fI=YZ;var KZ="[object Arguments]",XZ="[object Array]",JZ="[object Boolean]",ZZ="[object Date]",eee="[object Error]",tee="[object Function]",ree="[object Map]",nee="[object Number]",iee="[object Object]",oee="[object RegExp]",see="[object Set]",aee="[object String]",lee="[object WeakMap]",cee="[object ArrayBuffer]",uee="[object DataView]",dee="[object Float32Array]",fee="[object Float64Array]",hee="[object Int8Array]",pee="[object Int16Array]",mee="[object Int32Array]",gee="[object Uint8Array]",yee="[object Uint8ClampedArray]",bee="[object Uint16Array]",vee="[object Uint32Array]",Zt={};Zt[dee]=Zt[fee]=Zt[hee]=Zt[pee]=Zt[mee]=Zt[gee]=Zt[yee]=Zt[bee]=Zt[vee]=!0,Zt[KZ]=Zt[XZ]=Zt[cee]=Zt[JZ]=Zt[uee]=Zt[ZZ]=Zt[eee]=Zt[tee]=Zt[ree]=Zt[nee]=Zt[iee]=Zt[oee]=Zt[see]=Zt[aee]=Zt[lee]=!1;function _ee(t){return ud(t)&&oI(t.length)&&!!Zt[Sp(t)]}function wee(t){return function(e){return t(e)}}var hI=typeof at=="object"&&at&&!at.nodeType&&at,dd=hI&&typeof module=="object"&&module&&!module.nodeType&&module,xee=dd&&dd.exports===hI,Ab=xee&&Xk.process,Aee=function(){try{var t=dd&&dd.require&&dd.require("util").types;return t||Ab&&Ab.binding&&Ab.binding("util")}catch{}}();const pI=Aee;var mI=pI&&pI.isTypedArray,Tee=mI?wee(mI):_ee;const gI=Tee;function Cee(t,e){var r=gb(t),n=!r&&xb(t),i=!r&&!n&&fI(t),o=!r&&!n&&!i&&gI(t),s=r||n||i||o,a=s?$Z(t.length,String):[],l=a.length;for(var d in t)!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||nI(d,l)))&&a.push(d);return a}function Eee(t,e){return function(r){return t(e(r))}}function See(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var kee=Object.prototype,Iee=kee.hasOwnProperty;function Dee(t){if(!ya(t))return See(t);var e=sI(t),r=[];for(var n in t)n=="constructor"&&(e||!Iee.call(t,n))||r.push(n);return r}function yI(t){return wb(t)?Cee(t):Dee(t)}var Mee=vb(Object,"create");const fd=Mee;function Nee(){this.__data__=fd?fd(null):{},this.size=0}function Oee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Lee="__lodash_hash_undefined__",Bee=Object.prototype,Ree=Bee.hasOwnProperty;function Pee(t){var e=this.__data__;if(fd){var r=e[t];return r===Lee?void 0:r}return Ree.call(e,t)?e[t]:void 0}var Fee=Object.prototype,Uee=Fee.hasOwnProperty;function jee(t){var e=this.__data__;return fd?e[t]!==void 0:Uee.call(e,t)}var $ee="__lodash_hash_undefined__";function zee(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fd&&e===void 0?$ee:e,this}function ba(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ba.prototype.clear=Nee,ba.prototype.delete=Oee,ba.prototype.get=Pee,ba.prototype.has=jee,ba.prototype.set=zee;function Vee(){this.__data__=[],this.size=0}function Dp(t,e){for(var r=t.length;r--;)if(Ip(t[r][0],e))return r;return-1}var Hee=Array.prototype,qee=Hee.splice;function Wee(t){var e=this.__data__,r=Dp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():qee.call(e,r,1),--this.size,!0}function Gee(t){var e=this.__data__,r=Dp(e,t);return r<0?void 0:e[r][1]}function Qee(t){return Dp(this.__data__,t)>-1}function Yee(t,e){var r=this.__data__,n=Dp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Fo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fo.prototype.clear=Vee,Fo.prototype.delete=Wee,Fo.prototype.get=Gee,Fo.prototype.has=Qee,Fo.prototype.set=Yee;var Kee=vb(oc,"Map");const bI=Kee;function Xee(){this.size=0,this.__data__={hash:new ba,map:new(bI||Fo),string:new ba}}function Jee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Mp(t,e){var r=t.__data__;return Jee(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Zee(t){var e=Mp(this,t).delete(t);return this.size-=e?1:0,e}function ete(t){return Mp(this,t).get(t)}function tte(t){return Mp(this,t).has(t)}function rte(t,e){var r=Mp(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function sc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sc.prototype.clear=Xee,sc.prototype.delete=Zee,sc.prototype.get=ete,sc.prototype.has=tte,sc.prototype.set=rte;var nte=Eee(Object.getPrototypeOf,Object);const vI=nte;var ite="[object Object]",ote=Function.prototype,ste=Object.prototype,_I=ote.toString,ate=ste.hasOwnProperty,lte=_I.call(Object);function cte(t){if(!ud(t)||Sp(t)!=ite)return!1;var e=vI(t);if(e===null)return!0;var r=ate.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&_I.call(r)==lte}function ute(){this.__data__=new Fo,this.size=0}function dte(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function fte(t){return this.__data__.get(t)}function hte(t){return this.__data__.has(t)}var pte=200;function mte(t,e){var r=this.__data__;if(r instanceof Fo){var n=r.__data__;if(!bI||n.length<pte-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new sc(n)}return r.set(t,e),this.size=r.size,this}function ac(t){var e=this.__data__=new Fo(t);this.size=e.size}ac.prototype.clear=ute,ac.prototype.delete=dte,ac.prototype.get=fte,ac.prototype.has=hte,ac.prototype.set=mte;var wI=typeof at=="object"&&at&&!at.nodeType&&at,xI=wI&&typeof module=="object"&&module&&!module.nodeType&&module,gte=xI&&xI.exports===wI,AI=gte?oc.Buffer:void 0;AI&&AI.allocUnsafe;function yte(t,e){return t.slice()}var bte=oc.Uint8Array;const TI=bte;function vte(t){var e=new t.constructor(t.byteLength);return new TI(e).set(new TI(t)),e}function _te(t,e){var r=vte(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function wte(t){return typeof t.constructor=="function"&&!sI(t)?yZ(vI(t)):{}}function xte(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[++i];if(r(o[l],l,o)===!1)break}return e}}var Ate=xte();const Tte=Ate;function Tb(t,e,r){(r!==void 0&&!Ip(t[e],r)||r===void 0&&!(e in t))&&_b(t,e,r)}function Cte(t){return ud(t)&&wb(t)}function Cb(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Ete(t){return LZ(t,yI(t))}function Ste(t,e,r,n,i,o,s){var a=Cb(t,r),l=Cb(e,r),d=s.get(l);if(d){Tb(t,r,d);return}var f=o?o(a,l,r+"",t,e,s):void 0,u=f===void 0;if(u){var h=gb(l),p=!h&&fI(l),m=!h&&!p&&gI(l);f=l,h||p||m?gb(a)?f=a:Cte(a)?f=vZ(a):p?(u=!1,f=yte(l)):m?(u=!1,f=_te(l)):f=[]:cte(l)||xb(l)?(f=a,xb(a)?f=Ete(a):(!ya(a)||yb(a))&&(f=wte(l))):u=!1}u&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),Tb(t,r,f)}function CI(t,e,r,n,i){t!==e&&Tte(e,function(o,s){if(i||(i=new ac),ya(o))Ste(t,e,s,r,CI,n,i);else{var a=n?n(Cb(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Tb(t,s,a)}},yI)}var kte=UZ(function(t,e,r){CI(t,e,r)});const Np=kte,Op={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:Ite,fontFamily:Dte,lineHeight:Mte}=Op,EI=Kr("body",`
 margin: 0;
 font-size: ${Ite};
 font-family: ${Dte};
 line-height: ${Mte};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[Kr("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),Lp="n-config-provider",Bp="naive-ui-style";function hd(t,e,r,n,i,o){const s=mb(),a=c.inject(Lp,null);if(r){const l=()=>{const d=o==null?void 0:o.value;r.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:Bp,ssr:s}),a!=null&&a.preflightStyleDisabled||EI.mount({id:"n-global",head:!0,anchorMetaName:Bp,ssr:s})};s?l():c.onBeforeMount(l)}return c.computed(()=>{var l;const{theme:{common:d,self:f,peers:u={}}={},themeOverrides:h={},builtinThemeOverrides:p={}}=i,{common:m,peers:y}=h,{common:v=void 0,[t]:{common:b=void 0,self:A=void 0,peers:C={}}={}}=(a==null?void 0:a.mergedThemeRef.value)||{},{common:S=void 0,[t]:M={}}=(a==null?void 0:a.mergedThemeOverridesRef.value)||{},{common:I,peers:L={}}=M,k=Np({},d||b||v||n.common,S,I,m),T=Np((l=f||A||n.self)===null||l===void 0?void 0:l(k),p,M,h);return{common:k,self:T,peers:Np({},n.peers,C,u),peerOverrides:Np({},p.peers,L,y)}})}hd.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const Nte="n";function SI(t={},e={defaultBordered:!0}){const r=c.inject(Lp,null);return{inlineThemeDisabled:r==null?void 0:r.inlineThemeDisabled,mergedRtlRef:r==null?void 0:r.mergedRtlRef,mergedComponentPropsRef:r==null?void 0:r.mergedComponentPropsRef,mergedBreakpointsRef:r==null?void 0:r.mergedBreakpointsRef,mergedBorderedRef:c.computed(()=>{var n,i;const{bordered:o}=t;return o!==void 0?o:(i=(n=r==null?void 0:r.mergedBorderedRef.value)!==null&&n!==void 0?n:e.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:r?r.mergedClsPrefixRef:c.shallowRef(Nte),namespaceRef:c.computed(()=>r==null?void 0:r.mergedNamespaceRef.value)}}function Ote(t,e,r){if(!e){process.env.NODE_ENV!=="production"&&Pk("use-style","No style is specified.");return}const n=mb(),i=c.inject(Lp,null),o=()=>{const s=r.value;e.mount({id:s===void 0?t:s+t,head:!0,anchorMetaName:Bp,props:{bPrefix:s?`.${s}-`:void 0},ssr:n}),i!=null&&i.preflightStyleDisabled||EI.mount({id:"n-global",head:!0,anchorMetaName:Bp,ssr:n})};n?o():c.onBeforeMount(o)}function kI(t,e,r,n){var i;r||Pk("useThemeClass","cssVarsRef is not passed");const o=(i=c.inject(Lp,null))===null||i===void 0?void 0:i.mergedThemeHashRef,s=c.ref(""),a=mb();let l;const d=`__${t}`,f=()=>{let u=d;const h=e?e.value:void 0,p=o==null?void 0:o.value;p&&(u+="-"+p),h&&(u+="-"+h);const{themeOverrides:m,builtinThemeOverrides:y}=n;m&&(u+="-"+pb(JSON.stringify(m))),y&&(u+="-"+pb(JSON.stringify(y))),s.value=u,l=()=>{const v=r.value;let b="";for(const A in v)b+=`${A}: ${v[A]};`;Kr(`.${u}`,b).mount({id:u,ssr:a}),l=void 0}};return c.watchEffect(()=>{f()}),{themeClass:s,onRender:()=>{l==null||l()}}}const II=c.defineComponent({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const r=LJ();return()=>c.h(c.Transition,{name:"icon-switch-transition",appear:r.value},e)}}),{cubicBezierEaseInOut:Lte}=Op;function Rp({originalTransform:t="",left:e=0,top:r=0,transition:n=`all .3s ${Lte} !important`}={}){return[Kr("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:t+" scale(0.75)",left:e,top:r,opacity:0}),Kr("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:r,opacity:1}),Kr("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:r,transition:n})]}const Bte=Kr([Kr("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),Kr("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),Kr("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),Kr("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),Cp("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[At("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[Rp()]),At("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[At("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),At("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[At("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[At("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),At("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[At("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),At("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[At("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),At("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Rp({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),Rte={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},Pte=c.defineComponent({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},Rte),setup(t){Ote("-base-loading",Bte,c.toRef(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:r,stroke:n,scale:i}=this,o=e/i;return c.h("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},c.h(II,null,{default:()=>this.show?c.h("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},c.h("div",{class:`${t}-base-loading__container`},c.h("div",{class:`${t}-base-loading__container-layer`},c.h("div",{class:`${t}-base-loading__container-layer-left`},c.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},c.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),c.h("div",{class:`${t}-base-loading__container-layer-patch`},c.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},c.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),c.h("div",{class:`${t}-base-loading__container-layer-right`},c.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},c.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e})))))):c.h("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),We={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},Fte=Po(We.neutralBase),DI=Po(We.neutralInvertBase),Ute="rgba("+DI.slice(0,3).join(", ")+", ";function Dt(t){return Ute+String(t)+")"}function jte(t){const e=Array.from(DI);return e[3]=Number(t),nt(Fte,e)}const $te=Object.assign(Object.assign({name:"common"},Op),{baseColor:We.neutralBase,primaryColor:We.primaryDefault,primaryColorHover:We.primaryHover,primaryColorPressed:We.primaryActive,primaryColorSuppl:We.primarySuppl,infoColor:We.infoDefault,infoColorHover:We.infoHover,infoColorPressed:We.infoActive,infoColorSuppl:We.infoSuppl,successColor:We.successDefault,successColorHover:We.successHover,successColorPressed:We.successActive,successColorSuppl:We.successSuppl,warningColor:We.warningDefault,warningColorHover:We.warningHover,warningColorPressed:We.warningActive,warningColorSuppl:We.warningSuppl,errorColor:We.errorDefault,errorColorHover:We.errorHover,errorColorPressed:We.errorActive,errorColorSuppl:We.errorSuppl,textColorBase:We.neutralTextBase,textColor1:Dt(We.alpha1),textColor2:Dt(We.alpha2),textColor3:Dt(We.alpha3),textColorDisabled:Dt(We.alpha4),placeholderColor:Dt(We.alpha4),placeholderColorDisabled:Dt(We.alpha5),iconColor:Dt(We.alpha4),iconColorDisabled:Dt(We.alpha5),iconColorHover:Dt(Number(We.alpha4)*1.25),iconColorPressed:Dt(Number(We.alpha4)*.8),opacity1:We.alpha1,opacity2:We.alpha2,opacity3:We.alpha3,opacity4:We.alpha4,opacity5:We.alpha5,dividerColor:Dt(We.alphaDivider),borderColor:Dt(We.alphaBorder),closeIconColorHover:Dt(Number(We.alphaClose)),closeIconColor:Dt(Number(We.alphaClose)),closeIconColorPressed:Dt(Number(We.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:Dt(We.alpha4),clearColorHover:yr(Dt(We.alpha4),{alpha:1.25}),clearColorPressed:yr(Dt(We.alpha4),{alpha:.8}),scrollbarColor:Dt(We.alphaScrollbar),scrollbarColorHover:Dt(We.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Dt(We.alphaProgressRail),railColor:Dt(We.alphaRail),popoverColor:We.neutralPopover,tableColor:We.neutralCard,cardColor:We.neutralCard,modalColor:We.neutralModal,bodyColor:We.neutralBody,tagColor:jte(We.alphaTag),avatarColor:Dt(We.alphaAvatar),invertedColor:We.neutralBase,inputColor:Dt(We.alphaInput),codeColor:Dt(We.alphaCode),tabColor:Dt(We.alphaTab),actionColor:Dt(We.alphaAction),tableHeaderColor:Dt(We.alphaAction),hoverColor:Dt(We.alphaPending),tableColorHover:Dt(We.alphaTablePending),tableColorStriped:Dt(We.alphaTableStriped),pressedColor:Dt(We.alphaPressed),opacityDisabled:We.alphaDisabled,inputColorDisabled:Dt(We.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Fe=$te,tt={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},zte=Po(tt.neutralBase),MI=Po(tt.neutralInvertBase),Vte="rgba("+MI.slice(0,3).join(", ")+", ";function NI(t){return Vte+String(t)+")"}function Xr(t){const e=Array.from(MI);return e[3]=Number(t),nt(zte,e)}const Hte=Object.assign(Object.assign({name:"common"},Op),{baseColor:tt.neutralBase,primaryColor:tt.primaryDefault,primaryColorHover:tt.primaryHover,primaryColorPressed:tt.primaryActive,primaryColorSuppl:tt.primarySuppl,infoColor:tt.infoDefault,infoColorHover:tt.infoHover,infoColorPressed:tt.infoActive,infoColorSuppl:tt.infoSuppl,successColor:tt.successDefault,successColorHover:tt.successHover,successColorPressed:tt.successActive,successColorSuppl:tt.successSuppl,warningColor:tt.warningDefault,warningColorHover:tt.warningHover,warningColorPressed:tt.warningActive,warningColorSuppl:tt.warningSuppl,errorColor:tt.errorDefault,errorColorHover:tt.errorHover,errorColorPressed:tt.errorActive,errorColorSuppl:tt.errorSuppl,textColorBase:tt.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:Xr(tt.alpha4),placeholderColor:Xr(tt.alpha4),placeholderColorDisabled:Xr(tt.alpha5),iconColor:Xr(tt.alpha4),iconColorHover:yr(Xr(tt.alpha4),{lightness:.75}),iconColorPressed:yr(Xr(tt.alpha4),{lightness:.9}),iconColorDisabled:Xr(tt.alpha5),opacity1:tt.alpha1,opacity2:tt.alpha2,opacity3:tt.alpha3,opacity4:tt.alpha4,opacity5:tt.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:Xr(Number(tt.alphaClose)),closeIconColorHover:Xr(Number(tt.alphaClose)),closeIconColorPressed:Xr(Number(tt.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:Xr(tt.alpha4),clearColorHover:yr(Xr(tt.alpha4),{lightness:.75}),clearColorPressed:yr(Xr(tt.alpha4),{lightness:.9}),scrollbarColor:NI(tt.alphaScrollbar),scrollbarColorHover:NI(tt.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Xr(tt.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:tt.neutralPopover,tableColor:tt.neutralCard,cardColor:tt.neutralCard,modalColor:tt.neutralModal,bodyColor:tt.neutralBody,tagColor:"#eee",avatarColor:Xr(tt.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:Xr(tt.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:tt.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Eb=Hte,qte={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},OI=t=>{const{textColorDisabled:e,iconColor:r,textColor2:n,fontSizeSmall:i,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:a}=t;return Object.assign(Object.assign({},qte),{fontSizeSmall:i,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:a,textColor:e,iconColor:r,extraTextColor:n})},Wte={name:"Empty",common:Eb,self:OI},Gte=Wte,Qte={name:"Empty",common:Fe,self:OI},va=Qte,Yte=t=>{const{scrollbarColor:e,scrollbarColorHover:r}=t;return{color:e,colorHover:r}},Kte={name:"Scrollbar",common:Fe,self:Yte},Mn=Kte,Xte={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},Jte=t=>{const{borderRadius:e,popoverColor:r,textColor3:n,dividerColor:i,textColor2:o,primaryColorPressed:s,textColorDisabled:a,primaryColor:l,opacityDisabled:d,hoverColor:f,fontSizeSmall:u,fontSizeMedium:h,fontSizeLarge:p,fontSizeHuge:m,heightSmall:y,heightMedium:v,heightLarge:b,heightHuge:A}=t;return Object.assign(Object.assign({},Xte),{optionFontSizeSmall:u,optionFontSizeMedium:h,optionFontSizeLarge:p,optionFontSizeHuge:m,optionHeightSmall:y,optionHeightMedium:v,optionHeightLarge:b,optionHeightHuge:A,borderRadius:e,color:r,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:o,optionTextColorPressed:s,optionTextColorDisabled:a,optionTextColorActive:l,optionOpacityDisabled:d,optionCheckColor:l,optionColorPending:f,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:f,actionTextColor:o,loadingColor:l})},Zte={name:"InternalSelectMenu",common:Fe,peers:{Scrollbar:Mn,Empty:va},self:Jte},pd=Zte,ere={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},tre=t=>{const{boxShadow2:e,popoverColor:r,textColor2:n,borderRadius:i,fontSize:o,dividerColor:s}=t;return Object.assign(Object.assign({},ere),{fontSize:o,borderRadius:i,color:r,dividerColor:s,textColor:n,boxShadow:e})},rre={name:"Popover",common:Fe,self:tre},_a=rre,nre={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},ire={name:"Tag",common:Fe,self(t){const{textColor2:e,primaryColorHover:r,primaryColorPressed:n,primaryColor:i,infoColor:o,successColor:s,warningColor:a,errorColor:l,baseColor:d,borderColor:f,tagColor:u,opacityDisabled:h,closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:y,closeColorHover:v,closeColorPressed:b,borderRadiusSmall:A,fontSizeMini:C,fontSizeTiny:S,fontSizeSmall:M,fontSizeMedium:I,heightMini:L,heightTiny:k,heightSmall:T,heightMedium:F,buttonColor2Hover:z,buttonColor2Pressed:P,fontWeightStrong:R}=t;return Object.assign(Object.assign({},nre),{closeBorderRadius:A,heightTiny:L,heightSmall:k,heightMedium:T,heightLarge:F,borderRadius:A,opacityDisabled:h,fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:M,fontSizeLarge:I,fontWeightStrong:R,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:d,colorCheckable:"#0000",colorHoverCheckable:z,colorPressedCheckable:P,colorChecked:i,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${f}`,textColor:e,color:u,colorBordered:"#0000",closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:y,closeColorHover:v,closeColorPressed:b,borderPrimary:`1px solid ${Ye(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:Ye(i,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:yr(i,{lightness:.7}),closeIconColorHoverPrimary:yr(i,{lightness:.7}),closeIconColorPressedPrimary:yr(i,{lightness:.7}),closeColorHoverPrimary:Ye(i,{alpha:.16}),closeColorPressedPrimary:Ye(i,{alpha:.12}),borderInfo:`1px solid ${Ye(o,{alpha:.3})}`,textColorInfo:o,colorInfo:Ye(o,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:yr(o,{alpha:.7}),closeIconColorHoverInfo:yr(o,{alpha:.7}),closeIconColorPressedInfo:yr(o,{alpha:.7}),closeColorHoverInfo:Ye(o,{alpha:.16}),closeColorPressedInfo:Ye(o,{alpha:.12}),borderSuccess:`1px solid ${Ye(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:Ye(s,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:yr(s,{alpha:.7}),closeIconColorHoverSuccess:yr(s,{alpha:.7}),closeIconColorPressedSuccess:yr(s,{alpha:.7}),closeColorHoverSuccess:Ye(s,{alpha:.16}),closeColorPressedSuccess:Ye(s,{alpha:.12}),borderWarning:`1px solid ${Ye(a,{alpha:.3})}`,textColorWarning:a,colorWarning:Ye(a,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:yr(a,{alpha:.7}),closeIconColorHoverWarning:yr(a,{alpha:.7}),closeIconColorPressedWarning:yr(a,{alpha:.7}),closeColorHoverWarning:Ye(a,{alpha:.16}),closeColorPressedWarning:Ye(a,{alpha:.11}),borderError:`1px solid ${Ye(l,{alpha:.3})}`,textColorError:l,colorError:Ye(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:yr(l,{alpha:.7}),closeIconColorHoverError:yr(l,{alpha:.7}),closeIconColorPressedError:yr(l,{alpha:.7}),closeColorHoverError:Ye(l,{alpha:.16}),closeColorPressedError:Ye(l,{alpha:.12})})}},LI=ire,ore={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},sre={name:"InternalSelection",common:Fe,peers:{Popover:_a},self(t){const{borderRadius:e,textColor2:r,textColorDisabled:n,inputColor:i,inputColorDisabled:o,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:u,iconColor:h,iconColorDisabled:p,clearColor:m,clearColorHover:y,clearColorPressed:v,placeholderColor:b,placeholderColorDisabled:A,fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:M,fontSizeLarge:I,heightTiny:L,heightSmall:k,heightMedium:T,heightLarge:F}=t;return Object.assign(Object.assign({},ore),{fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:M,fontSizeLarge:I,heightTiny:L,heightSmall:k,heightMedium:T,heightLarge:F,borderRadius:e,textColor:r,textColorDisabled:n,placeholderColor:b,placeholderColorDisabled:A,color:i,colorDisabled:o,colorActive:Ye(s,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,caretColor:s,arrowColor:h,arrowColorDisabled:p,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,colorActiveWarning:Ye(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${f}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${Ye(f,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${Ye(f,{alpha:.4})}`,colorActiveError:Ye(f,{alpha:.1}),caretColorError:f,clearColor:m,clearColorHover:y,clearColorPressed:v})}},Sb=sre,are={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},lre={name:"Alert",common:Fe,self(t){const{lineHeight:e,borderRadius:r,fontWeightStrong:n,dividerColor:i,inputColor:o,textColor1:s,textColor2:a,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,infoColorSuppl:p,successColorSuppl:m,warningColorSuppl:y,errorColorSuppl:v,fontSize:b}=t;return Object.assign(Object.assign({},are),{fontSize:b,lineHeight:e,titleFontWeight:n,borderRadius:r,border:`1px solid ${i}`,color:o,titleTextColor:s,iconColor:a,contentTextColor:a,closeBorderRadius:r,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,borderInfo:`1px solid ${Ye(p,{alpha:.35})}`,colorInfo:Ye(p,{alpha:.25}),titleTextColorInfo:s,iconColorInfo:p,contentTextColorInfo:a,closeColorHoverInfo:l,closeColorPressedInfo:d,closeIconColorInfo:f,closeIconColorHoverInfo:u,closeIconColorPressedInfo:h,borderSuccess:`1px solid ${Ye(m,{alpha:.35})}`,colorSuccess:Ye(m,{alpha:.25}),titleTextColorSuccess:s,iconColorSuccess:m,contentTextColorSuccess:a,closeColorHoverSuccess:l,closeColorPressedSuccess:d,closeIconColorSuccess:f,closeIconColorHoverSuccess:u,closeIconColorPressedSuccess:h,borderWarning:`1px solid ${Ye(y,{alpha:.35})}`,colorWarning:Ye(y,{alpha:.25}),titleTextColorWarning:s,iconColorWarning:y,contentTextColorWarning:a,closeColorHoverWarning:l,closeColorPressedWarning:d,closeIconColorWarning:f,closeIconColorHoverWarning:u,closeIconColorPressedWarning:h,borderError:`1px solid ${Ye(v,{alpha:.35})}`,colorError:Ye(v,{alpha:.25}),titleTextColorError:s,iconColorError:v,contentTextColorError:a,closeColorHoverError:l,closeColorPressedError:d,closeIconColorError:f,closeIconColorHoverError:u,closeIconColorPressedError:h})}},cre=lre,ure={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},dre=t=>{const{borderRadius:e,railColor:r,primaryColor:n,primaryColorHover:i,primaryColorPressed:o,textColor2:s}=t;return Object.assign(Object.assign({},ure),{borderRadius:e,railColor:r,railColorActive:n,linkColor:Ye(n,{alpha:.15}),linkTextColor:s,linkTextColorHover:i,linkTextColorPressed:o,linkTextColorActive:n})},fre={name:"Anchor",common:Fe,self:dre},hre=fre,pre={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},mre={name:"Input",common:Fe,self(t){const{textColor2:e,textColor3:r,textColorDisabled:n,primaryColor:i,primaryColorHover:o,inputColor:s,inputColorDisabled:a,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:u,borderRadius:h,lineHeight:p,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:v,fontSizeLarge:b,heightTiny:A,heightSmall:C,heightMedium:S,heightLarge:M,clearColor:I,clearColorHover:L,clearColorPressed:k,placeholderColor:T,placeholderColorDisabled:F,iconColor:z,iconColorDisabled:P,iconColorHover:R,iconColorPressed:$}=t;return Object.assign(Object.assign({},pre),{countTextColorDisabled:n,countTextColor:r,heightTiny:A,heightSmall:C,heightMedium:S,heightLarge:M,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:v,fontSizeLarge:b,lineHeight:p,lineHeightTextarea:p,borderRadius:h,iconSize:"16px",groupLabelColor:s,textColor:e,textColorDisabled:n,textDecorationColor:e,groupLabelTextColor:e,caretColor:i,placeholderColor:T,placeholderColorDisabled:F,color:s,colorDisabled:a,colorFocus:Ye(i,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${o}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${o}`,boxShadowFocus:`0 0 8px 0 ${Ye(i,{alpha:.3})}`,loadingColor:i,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:Ye(l,{alpha:.1}),borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${u}`,colorFocusError:Ye(f,{alpha:.1}),borderFocusError:`1px solid ${u}`,boxShadowFocusError:`0 0 8px 0 ${Ye(f,{alpha:.3})}`,caretColorError:f,clearColor:I,clearColorHover:L,clearColorPressed:k,iconColor:z,iconColorDisabled:P,iconColorHover:R,iconColorPressed:$,suffixTextColor:e})}},ci=mre;function gre(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const yre={name:"AutoComplete",common:Fe,peers:{InternalSelectMenu:pd,Input:ci},self:gre},bre=yre,vre=t=>{const{borderRadius:e,avatarColor:r,cardColor:n,fontSize:i,heightTiny:o,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:d,modalColor:f,popoverColor:u}=t;return{borderRadius:e,fontSize:i,border:`2px solid ${n}`,heightTiny:o,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:d,color:nt(n,r),colorModal:nt(f,r),colorPopover:nt(u,r)}},_re={name:"Avatar",common:Fe,self:vre},BI=_re,wre=()=>({gap:"-12px"}),xre={name:"AvatarGroup",common:Fe,peers:{Avatar:BI},self:wre},Are=xre,Tre={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},Cre={name:"BackTop",common:Fe,self(t){const{popoverColor:e,textColor2:r,primaryColorHover:n,primaryColorPressed:i}=t;return Object.assign(Object.assign({},Tre),{color:e,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},Ere=Cre,Sre={name:"Badge",common:Fe,self(t){const{errorColorSuppl:e,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:i,fontFamily:o}=t;return{color:e,colorInfo:r,colorSuccess:n,colorError:e,colorWarning:i,fontSize:"12px",fontFamily:o}}},kre=Sre,Ire={fontWeightActive:"400"},Dre=t=>{const{fontSize:e,textColor3:r,textColor2:n,borderRadius:i,buttonColor2Hover:o,buttonColor2Pressed:s}=t;return Object.assign(Object.assign({},Ire),{fontSize:e,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:i,itemColorHover:o,itemColorPressed:s,separatorColor:r})},Mre={name:"Breadcrumb",common:Fe,self:Dre},Nre=Mre,Ore={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},Lre=t=>{const{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadius:o,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,textColor2:u,textColor3:h,primaryColorHover:p,primaryColorPressed:m,borderColor:y,primaryColor:v,baseColor:b,infoColor:A,infoColorHover:C,infoColorPressed:S,successColor:M,successColorHover:I,successColorPressed:L,warningColor:k,warningColorHover:T,warningColorPressed:F,errorColor:z,errorColorHover:P,errorColorPressed:R,fontWeight:$,buttonColor2:W,buttonColor2Hover:B,buttonColor2Pressed:U,fontWeightStrong:te}=t;return Object.assign(Object.assign({},Ore),{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadiusTiny:o,borderRadiusSmall:o,borderRadiusMedium:o,borderRadiusLarge:o,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:W,colorSecondaryHover:B,colorSecondaryPressed:U,colorTertiary:W,colorTertiaryHover:B,colorTertiaryPressed:U,colorQuaternary:"#0000",colorQuaternaryHover:B,colorQuaternaryPressed:U,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:u,textColorTertiary:h,textColorHover:p,textColorPressed:m,textColorFocus:p,textColorDisabled:u,textColorText:u,textColorTextHover:p,textColorTextPressed:m,textColorTextFocus:p,textColorTextDisabled:u,textColorGhost:u,textColorGhostHover:p,textColorGhostPressed:m,textColorGhostFocus:p,textColorGhostDisabled:u,border:`1px solid ${y}`,borderHover:`1px solid ${p}`,borderPressed:`1px solid ${m}`,borderFocus:`1px solid ${p}`,borderDisabled:`1px solid ${y}`,rippleColor:v,colorPrimary:v,colorHoverPrimary:p,colorPressedPrimary:m,colorFocusPrimary:p,colorDisabledPrimary:v,textColorPrimary:b,textColorHoverPrimary:b,textColorPressedPrimary:b,textColorFocusPrimary:b,textColorDisabledPrimary:b,textColorTextPrimary:v,textColorTextHoverPrimary:p,textColorTextPressedPrimary:m,textColorTextFocusPrimary:p,textColorTextDisabledPrimary:u,textColorGhostPrimary:v,textColorGhostHoverPrimary:p,textColorGhostPressedPrimary:m,textColorGhostFocusPrimary:p,textColorGhostDisabledPrimary:v,borderPrimary:`1px solid ${v}`,borderHoverPrimary:`1px solid ${p}`,borderPressedPrimary:`1px solid ${m}`,borderFocusPrimary:`1px solid ${p}`,borderDisabledPrimary:`1px solid ${v}`,rippleColorPrimary:v,colorInfo:A,colorHoverInfo:C,colorPressedInfo:S,colorFocusInfo:C,colorDisabledInfo:A,textColorInfo:b,textColorHoverInfo:b,textColorPressedInfo:b,textColorFocusInfo:b,textColorDisabledInfo:b,textColorTextInfo:A,textColorTextHoverInfo:C,textColorTextPressedInfo:S,textColorTextFocusInfo:C,textColorTextDisabledInfo:u,textColorGhostInfo:A,textColorGhostHoverInfo:C,textColorGhostPressedInfo:S,textColorGhostFocusInfo:C,textColorGhostDisabledInfo:A,borderInfo:`1px solid ${A}`,borderHoverInfo:`1px solid ${C}`,borderPressedInfo:`1px solid ${S}`,borderFocusInfo:`1px solid ${C}`,borderDisabledInfo:`1px solid ${A}`,rippleColorInfo:A,colorSuccess:M,colorHoverSuccess:I,colorPressedSuccess:L,colorFocusSuccess:I,colorDisabledSuccess:M,textColorSuccess:b,textColorHoverSuccess:b,textColorPressedSuccess:b,textColorFocusSuccess:b,textColorDisabledSuccess:b,textColorTextSuccess:M,textColorTextHoverSuccess:I,textColorTextPressedSuccess:L,textColorTextFocusSuccess:I,textColorTextDisabledSuccess:u,textColorGhostSuccess:M,textColorGhostHoverSuccess:I,textColorGhostPressedSuccess:L,textColorGhostFocusSuccess:I,textColorGhostDisabledSuccess:M,borderSuccess:`1px solid ${M}`,borderHoverSuccess:`1px solid ${I}`,borderPressedSuccess:`1px solid ${L}`,borderFocusSuccess:`1px solid ${I}`,borderDisabledSuccess:`1px solid ${M}`,rippleColorSuccess:M,colorWarning:k,colorHoverWarning:T,colorPressedWarning:F,colorFocusWarning:T,colorDisabledWarning:k,textColorWarning:b,textColorHoverWarning:b,textColorPressedWarning:b,textColorFocusWarning:b,textColorDisabledWarning:b,textColorTextWarning:k,textColorTextHoverWarning:T,textColorTextPressedWarning:F,textColorTextFocusWarning:T,textColorTextDisabledWarning:u,textColorGhostWarning:k,textColorGhostHoverWarning:T,textColorGhostPressedWarning:F,textColorGhostFocusWarning:T,textColorGhostDisabledWarning:k,borderWarning:`1px solid ${k}`,borderHoverWarning:`1px solid ${T}`,borderPressedWarning:`1px solid ${F}`,borderFocusWarning:`1px solid ${T}`,borderDisabledWarning:`1px solid ${k}`,rippleColorWarning:k,colorError:z,colorHoverError:P,colorPressedError:R,colorFocusError:P,colorDisabledError:z,textColorError:b,textColorHoverError:b,textColorPressedError:b,textColorFocusError:b,textColorDisabledError:b,textColorTextError:z,textColorTextHoverError:P,textColorTextPressedError:R,textColorTextFocusError:P,textColorTextDisabledError:u,textColorGhostError:z,textColorGhostHoverError:P,textColorGhostPressedError:R,textColorGhostFocusError:P,textColorGhostDisabledError:z,borderError:`1px solid ${z}`,borderHoverError:`1px solid ${P}`,borderPressedError:`1px solid ${R}`,borderFocusError:`1px solid ${P}`,borderDisabledError:`1px solid ${z}`,rippleColorError:z,waveOpacity:"0.6",fontWeight:$,fontWeightStrong:te})},Bre={name:"Button",common:Fe,self(t){const e=Lre(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},Nn=Bre,Rre={titleFontSize:"22px"},Pre=t=>{const{borderRadius:e,fontSize:r,lineHeight:n,textColor2:i,textColor1:o,textColorDisabled:s,dividerColor:a,fontWeightStrong:l,primaryColor:d,baseColor:f,hoverColor:u,cardColor:h,modalColor:p,popoverColor:m}=t;return Object.assign(Object.assign({},Rre),{borderRadius:e,borderColor:nt(h,a),borderColorModal:nt(p,a),borderColorPopover:nt(m,a),textColor:i,titleFontWeight:l,titleTextColor:o,dayTextColor:s,fontSize:r,lineHeight:n,dateColorCurrent:d,dateTextColorCurrent:f,cellColorHover:nt(h,u),cellColorHoverModal:nt(p,u),cellColorHoverPopover:nt(m,u),cellColor:h,cellColorModal:p,cellColorPopover:m,barColor:d})},Fre={name:"Calendar",common:Fe,peers:{Button:Nn},self:Pre},Ure=Fre,jre=t=>{const{fontSize:e,boxShadow2:r,popoverColor:n,textColor2:i,borderRadius:o,borderColor:s,heightSmall:a,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,dividerColor:p}=t;return{panelFontSize:e,boxShadow:r,color:n,textColor:i,borderRadius:o,border:`1px solid ${s}`,heightSmall:a,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,dividerColor:p}},$re={name:"ColorPicker",common:Fe,peers:{Input:ci,Button:Nn},self:jre},zre=$re,Vre={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},Hre=t=>{const{primaryColor:e,borderRadius:r,lineHeight:n,fontSize:i,cardColor:o,textColor2:s,textColor1:a,dividerColor:l,fontWeightStrong:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,closeColorHover:p,closeColorPressed:m,modalColor:y,boxShadow1:v,popoverColor:b,actionColor:A}=t;return Object.assign(Object.assign({},Vre),{lineHeight:n,color:o,colorModal:y,colorPopover:b,colorTarget:e,colorEmbedded:A,colorEmbeddedModal:A,colorEmbeddedPopover:A,textColor:s,titleTextColor:a,borderColor:l,actionColor:A,titleFontWeight:d,closeColorHover:p,closeColorPressed:m,closeBorderRadius:r,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:v,borderRadius:r})},qre={name:"Card",common:Fe,self(t){const e=Hre(t),{cardColor:r,modalColor:n,popoverColor:i}=t;return e.colorEmbedded=r,e.colorEmbeddedModal=n,e.colorEmbeddedPopover=i,e}},RI=qre,Wre=t=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),Gre={name:"Carousel",common:Fe,self:Wre},Qre=Gre,Yre={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},Kre=t=>{const{baseColor:e,inputColorDisabled:r,cardColor:n,modalColor:i,popoverColor:o,textColorDisabled:s,borderColor:a,primaryColor:l,textColor2:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,borderRadiusSmall:p,lineHeight:m}=t;return Object.assign(Object.assign({},Yre),{labelLineHeight:m,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,borderRadius:p,color:e,colorChecked:l,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:i,colorTableHeaderPopover:o,checkMarkColor:e,checkMarkColorDisabled:s,checkMarkColorDisabledChecked:s,border:`1px solid ${a}`,borderDisabled:`1px solid ${a}`,borderDisabledChecked:`1px solid ${a}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${Ye(l,{alpha:.3})}`,textColor:d,textColorDisabled:s})},Xre={name:"Checkbox",common:Fe,self(t){const{cardColor:e}=t,r=Kre(t);return r.color="#0000",r.checkMarkColor=e,r}},lc=Xre,Jre=t=>{const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i,textColor3:o,primaryColor:s,textColorDisabled:a,dividerColor:l,hoverColor:d,fontSizeMedium:f,heightMedium:u}=t;return{menuBorderRadius:e,menuColor:n,menuBoxShadow:r,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:o,optionHeight:u,optionFontSize:f,optionColorHover:d,optionTextColor:i,optionTextColorActive:s,optionTextColorDisabled:a,optionCheckMarkColor:s,loadingColor:s,columnWidth:"180px"}},Zre={name:"Cascader",common:Fe,peers:{InternalSelectMenu:pd,InternalSelection:Sb,Scrollbar:Mn,Checkbox:lc,Empty:Gte},self:Jre},ene=Zre,tne={name:"Code",common:Fe,self(t){const{textColor2:e,fontSize:r,fontWeightStrong:n,textColor3:i}=t;return{textColor:e,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:i}}},PI=tne,rne=t=>{const{fontWeight:e,textColor1:r,textColor2:n,textColorDisabled:i,dividerColor:o,fontSize:s}=t;return{titleFontSize:s,titleFontWeight:e,dividerColor:o,titleTextColor:r,titleTextColorDisabled:i,fontSize:s,textColor:n,arrowColor:n,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},nne={name:"Collapse",common:Fe,self:rne},ine=nne,one=t=>{const{cubicBezierEaseInOut:e}=t;return{bezier:e}},sne={name:"CollapseTransition",common:Fe,self:one},ane=sne,lne={name:"Popselect",common:Fe,peers:{Popover:_a,InternalSelectMenu:pd}},FI=lne;function cne(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const une={name:"Select",common:Fe,peers:{InternalSelection:Sb,InternalSelectMenu:pd},self:cne},UI=une,dne={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},fne=t=>{const{textColor2:e,primaryColor:r,primaryColorHover:n,primaryColorPressed:i,inputColorDisabled:o,textColorDisabled:s,borderColor:a,borderRadius:l,fontSizeTiny:d,fontSizeSmall:f,fontSizeMedium:u,heightTiny:h,heightSmall:p,heightMedium:m}=t;return Object.assign(Object.assign({},dne),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${a}`,buttonBorderHover:`1px solid ${a}`,buttonBorderPressed:`1px solid ${a}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:n,itemTextColorPressed:i,itemTextColorActive:r,itemTextColorDisabled:s,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:o,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${a}`,itemBorderRadius:l,itemSizeSmall:h,itemSizeMedium:p,itemSizeLarge:m,itemFontSizeSmall:d,itemFontSizeMedium:f,itemFontSizeLarge:u,jumperFontSizeSmall:d,jumperFontSizeMedium:f,jumperFontSizeLarge:u,jumperTextColor:e,jumperTextColorDisabled:s})},hne={name:"Pagination",common:Fe,peers:{Select:UI,Input:ci,Popselect:FI},self(t){const{primaryColor:e,opacity3:r}=t,n=Ye(e,{alpha:Number(r)}),i=fne(t);return i.itemBorderActive=`1px solid ${n}`,i.itemBorderDisabled="1px solid #0000",i}},jI=hne,pne={padding:"8px 14px"},mne={name:"Tooltip",common:Fe,peers:{Popover:_a},self(t){const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i}=t;return Object.assign(Object.assign({},pne),{borderRadius:e,boxShadow:r,color:n,textColor:i})}},Pp=mne,gne={name:"Ellipsis",common:Fe,peers:{Tooltip:Pp}},$I=gne,yne={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},bne={name:"Radio",common:Fe,self(t){const{borderColor:e,primaryColor:r,baseColor:n,textColorDisabled:i,inputColorDisabled:o,textColor2:s,opacityDisabled:a,borderRadius:l,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:u,heightSmall:h,heightMedium:p,heightLarge:m,lineHeight:y}=t;return Object.assign(Object.assign({},yne),{labelLineHeight:y,buttonHeightSmall:h,buttonHeightMedium:p,buttonHeightLarge:m,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ye(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:o,colorActive:"#0000",textColor:s,textColorDisabled:i,dotColorActive:r,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:a,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ye(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},zI=bne,vne={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},_ne=t=>{const{primaryColor:e,textColor2:r,dividerColor:n,hoverColor:i,popoverColor:o,invertedColor:s,borderRadius:a,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:u,heightSmall:h,heightMedium:p,heightLarge:m,heightHuge:y,textColor3:v,opacityDisabled:b}=t;return Object.assign(Object.assign({},vne),{optionHeightSmall:h,optionHeightMedium:p,optionHeightLarge:m,optionHeightHuge:y,borderRadius:a,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:u,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:e,optionTextColorChildActive:e,color:o,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:i,optionColorActive:Ye(e,{alpha:.1}),groupHeaderTextColor:v,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:s,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:b})},wne={name:"Dropdown",common:Fe,peers:{Popover:_a},self(t){const{primaryColorSuppl:e,primaryColor:r,popoverColor:n}=t,i=_ne(t);return i.colorInverted=n,i.optionColorActive=Ye(r,{alpha:.15}),i.optionColorActiveInverted=e,i.optionColorHoverInverted=e,i}},kb=wne,xne={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},Ane=t=>{const{cardColor:e,modalColor:r,popoverColor:n,textColor2:i,textColor1:o,tableHeaderColor:s,tableColorHover:a,iconColor:l,primaryColor:d,fontWeightStrong:f,borderRadius:u,lineHeight:h,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:y,dividerColor:v,heightSmall:b,opacityDisabled:A,tableColorStriped:C}=t;return Object.assign(Object.assign({},xne),{actionDividerColor:v,lineHeight:h,borderRadius:u,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:y,borderColor:nt(e,v),tdColorHover:nt(e,a),tdColorStriped:nt(e,C),thColor:nt(e,s),thColorHover:nt(nt(e,s),a),tdColor:e,tdTextColor:i,thTextColor:o,thFontWeight:f,thButtonColorHover:a,thIconColor:l,thIconColorActive:d,borderColorModal:nt(r,v),tdColorHoverModal:nt(r,a),tdColorStripedModal:nt(r,C),thColorModal:nt(r,s),thColorHoverModal:nt(nt(r,s),a),tdColorModal:r,borderColorPopover:nt(n,v),tdColorHoverPopover:nt(n,a),tdColorStripedPopover:nt(n,C),thColorPopover:nt(n,s),thColorHoverPopover:nt(nt(n,s),a),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:d,loadingSize:b,opacityLoading:A})},Tne={name:"DataTable",common:Fe,peers:{Button:Nn,Checkbox:lc,Radio:zI,Pagination:jI,Scrollbar:Mn,Empty:va,Popover:_a,Ellipsis:$I,Dropdown:kb},self(t){const e=Ane(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},Cne=Tne,VI=t=>{const{textColorBase:e,opacity1:r,opacity2:n,opacity3:i,opacity4:o,opacity5:s}=t;return{color:e,opacity1Depth:r,opacity2Depth:n,opacity3Depth:i,opacity4Depth:o,opacity5Depth:s}},Ene={name:"Icon",common:Eb,self:VI},Sne=Ene,kne={name:"Icon",common:Fe,self:VI},Ine=kne,Dne=Cp("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[Ri("color-transition",{transition:"color .3s var(--n-bezier)"}),Ri("depth",{color:"var(--n-color)"},[Kr("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),Kr("svg",{height:"1em",width:"1em"})]),Mne=Object.assign(Object.assign({},hd.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),HI=c.defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:Mne,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=SI(t),n=hd("Icon","-icon",Dne,Sne,t,e),i=c.computed(()=>{const{depth:s}=t,{common:{cubicBezierEaseInOut:a},self:l}=n.value;if(s!==void 0){const{color:d,[`opacity${s}Depth`]:f}=l;return{"--n-bezier":a,"--n-color":d,"--n-opacity":f}}return{"--n-bezier":a,"--n-color":"","--n-opacity":""}}),o=r?kI("icon",c.computed(()=>`${t.depth||"d"}`),i,t):void 0;return{mergedClsPrefix:e,mergedStyle:c.computed(()=>{const{size:s,color:a}=t;return{fontSize:dJ(s),color:a}}),cssVars:r?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{$parent:e,depth:r,mergedClsPrefix:n,component:i,onRender:o,themeClass:s}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&cJ("icon","don't wrap `n-icon` inside `n-icon`"),o==null||o(),c.h("i",c.mergeProps(this.$attrs,{role:"img",class:[`${n}-icon`,s,{[`${n}-icon--depth`]:r,[`${n}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?c.h(i):this.$slots)}}),Nne={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},One=t=>{const{popoverColor:e,textColor2:r,primaryColor:n,hoverColor:i,dividerColor:o,opacityDisabled:s,boxShadow2:a,borderRadius:l,iconColor:d,iconColorDisabled:f}=t;return Object.assign(Object.assign({},Nne),{panelColor:e,panelBoxShadow:a,panelDividerColor:o,itemTextColor:r,itemTextColorActive:n,itemColorHover:i,itemOpacityDisabled:s,itemBorderRadius:l,borderRadius:l,iconColor:d,iconColorDisabled:f})},Lne={name:"TimePicker",common:Fe,peers:{Scrollbar:Mn,Button:Nn,Input:ci},self:One},qI=Lne,Bne={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},Rne=t=>{const{hoverColor:e,fontSize:r,textColor2:n,textColorDisabled:i,popoverColor:o,primaryColor:s,borderRadiusSmall:a,iconColor:l,iconColorDisabled:d,textColor1:f,dividerColor:u,boxShadow2:h,borderRadius:p,fontWeightStrong:m}=t;return Object.assign(Object.assign({},Bne),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:i,itemTextColorActive:o,itemTextColorCurrent:s,itemColorIncluded:Ye(s,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:s,itemBorderRadius:a,panelColor:o,panelTextColor:n,arrowColor:l,calendarTitleTextColor:f,calendarTitleColorHover:e,calendarDaysTextColor:n,panelHeaderDividerColor:u,calendarDaysDividerColor:u,calendarDividerColor:u,panelActionDividerColor:u,panelBoxShadow:h,panelBorderRadius:p,calendarTitleFontWeight:m,scrollItemBorderRadius:p,iconColor:l,iconColorDisabled:d})},Pne={name:"DatePicker",common:Fe,peers:{Input:ci,Button:Nn,TimePicker:qI,Scrollbar:Mn},self(t){const{popoverColor:e,hoverColor:r,primaryColor:n}=t,i=Rne(t);return i.itemColorDisabled=nt(e,r),i.itemColorIncluded=Ye(n,{alpha:.15}),i.itemColorHover=nt(e,r),i}},Fne=Pne,Une={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},jne=t=>{const{tableHeaderColor:e,textColor2:r,textColor1:n,cardColor:i,modalColor:o,popoverColor:s,dividerColor:a,borderRadius:l,fontWeightStrong:d,lineHeight:f,fontSizeSmall:u,fontSizeMedium:h,fontSizeLarge:p}=t;return Object.assign(Object.assign({},Une),{lineHeight:f,fontSizeSmall:u,fontSizeMedium:h,fontSizeLarge:p,titleTextColor:n,thColor:nt(i,e),thColorModal:nt(o,e),thColorPopover:nt(s,e),thTextColor:n,thFontWeight:d,tdTextColor:r,tdColor:i,tdColorModal:o,tdColorPopover:s,borderColor:nt(i,a),borderColorModal:nt(o,a),borderColorPopover:nt(s,a),borderRadius:l})},$ne={name:"Descriptions",common:Fe,self:jne},zne=$ne,Vne={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},Hne=t=>{const{textColor1:e,textColor2:r,modalColor:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,infoColor:d,successColor:f,warningColor:u,errorColor:h,primaryColor:p,dividerColor:m,borderRadius:y,fontWeightStrong:v,lineHeight:b,fontSize:A}=t;return Object.assign(Object.assign({},Vne),{fontSize:A,lineHeight:b,border:`1px solid ${m}`,titleTextColor:e,textColor:r,color:n,closeColorHover:a,closeColorPressed:l,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeBorderRadius:y,iconColor:p,iconColorInfo:d,iconColorSuccess:f,iconColorWarning:u,iconColorError:h,borderRadius:y,titleFontWeight:v})},qne={name:"Dialog",common:Fe,peers:{Button:Nn},self:Hne},WI=qne,Wne=t=>{const{modalColor:e,textColor2:r,boxShadow3:n}=t;return{color:e,textColor:r,boxShadow:n}},Gne={name:"Modal",common:Fe,peers:{Scrollbar:Mn,Dialog:WI,Card:RI},self:Wne},Qne=Gne,Yne=t=>{const{textColor1:e,dividerColor:r,fontWeightStrong:n}=t;return{textColor:e,color:r,fontWeight:n}},Kne={name:"Divider",common:Fe,self:Yne},Xne=Kne,Jne=t=>{const{modalColor:e,textColor1:r,textColor2:n,boxShadow3:i,lineHeight:o,fontWeightStrong:s,dividerColor:a,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,borderRadius:p,primaryColorHover:m}=t;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:s,boxShadow:i,lineHeight:o,headerBorderBottom:`1px solid ${a}`,footerBorderTop:`1px solid ${a}`,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:d,closeBorderRadius:p,resizableTriggerColorHover:m}},Zne={name:"Drawer",common:Fe,peers:{Scrollbar:Mn},self:Jne},eie=Zne,tie={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},rie={name:"DynamicInput",common:Fe,peers:{Input:ci,Button:Nn},self(){return tie}},nie=rie,iie={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},oie={name:"Space",self(){return iie}},GI=oie,sie={name:"DynamicTags",common:Fe,peers:{Input:ci,Button:Nn,Tag:LI,Space:GI},self(){return{inputWidth:"64px"}}},aie=sie,lie={name:"Element",common:Fe},cie=lie,uie={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},die=t=>{const{heightSmall:e,heightMedium:r,heightLarge:n,textColor1:i,errorColor:o,warningColor:s,lineHeight:a,textColor3:l}=t;return Object.assign(Object.assign({},uie),{blankHeightSmall:e,blankHeightMedium:r,blankHeightLarge:n,lineHeight:a,labelTextColor:i,asteriskColor:o,feedbackTextColorError:o,feedbackTextColorWarning:s,feedbackTextColor:l})},fie={name:"Form",common:Fe,self:die},hie=fie,pie={name:"GradientText",common:Fe,self(t){const{primaryColor:e,successColor:r,warningColor:n,errorColor:i,infoColor:o,primaryColorSuppl:s,successColorSuppl:a,warningColorSuppl:l,errorColorSuppl:d,infoColorSuppl:f,fontWeightStrong:u}=t;return{fontWeight:u,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:s,colorStartInfo:o,colorEndInfo:f,colorStartWarning:n,colorEndWarning:l,colorStartError:i,colorEndError:d,colorStartSuccess:r,colorEndSuccess:a}}},mie=pie,gie=t=>{const{primaryColor:e,baseColor:r}=t;return{color:e,iconColor:r}},yie={name:"IconWrapper",common:Fe,self:gie},bie=yie,vie={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},_ie=t=>{const{textColor2:e,successColor:r,infoColor:n,warningColor:i,errorColor:o,popoverColor:s,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:d,closeColorHover:f,closeColorPressed:u,textColor1:h,textColor3:p,borderRadius:m,fontWeightStrong:y,boxShadow2:v,lineHeight:b,fontSize:A}=t;return Object.assign(Object.assign({},vie),{borderRadius:m,lineHeight:b,fontSize:A,headerFontWeight:y,iconColor:e,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:i,iconColorError:o,color:s,textColor:e,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:d,closeBorderRadius:m,closeColorHover:f,closeColorPressed:u,headerTextColor:h,descriptionTextColor:p,actionTextColor:e,boxShadow:v})},wie={name:"Notification",common:Fe,peers:{Scrollbar:Mn},self:_ie},xie=wie,Aie={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},Tie=t=>{const{textColor2:e,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,infoColor:o,successColor:s,errorColor:a,warningColor:l,popoverColor:d,boxShadow2:f,primaryColor:u,lineHeight:h,borderRadius:p,closeColorHover:m,closeColorPressed:y}=t;return Object.assign(Object.assign({},Aie),{closeBorderRadius:p,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:d,colorInfo:d,colorSuccess:d,colorError:d,colorWarning:d,colorLoading:d,boxShadow:f,boxShadowInfo:f,boxShadowSuccess:f,boxShadowError:f,boxShadowWarning:f,boxShadowLoading:f,iconColor:e,iconColorInfo:o,iconColorSuccess:s,iconColorWarning:l,iconColorError:a,iconColorLoading:u,closeColorHover:m,closeColorPressed:y,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,closeColorHoverInfo:m,closeColorPressedInfo:y,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:i,closeColorHoverSuccess:m,closeColorPressedSuccess:y,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:i,closeColorHoverError:m,closeColorPressedError:y,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:i,closeColorHoverWarning:m,closeColorPressedWarning:y,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:i,closeColorHoverLoading:m,closeColorPressedLoading:y,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:i,loadingColor:u,lineHeight:h,borderRadius:p})},Cie={name:"Message",common:Fe,self:Tie},Eie=Cie,Sie={name:"ButtonGroup",common:Fe},kie=Sie,Iie={name:"InputNumber",common:Fe,peers:{Button:Nn,Input:ci},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}},Die=Iie,Mie={name:"Layout",common:Fe,peers:{Scrollbar:Mn},self(t){const{textColor2:e,bodyColor:r,popoverColor:n,cardColor:i,dividerColor:o,scrollbarColor:s,scrollbarColorHover:a}=t;return{textColor:e,textColorInverted:e,color:r,colorEmbedded:r,headerColor:i,headerColorInverted:i,footerColor:i,footerColorInverted:i,headerBorderColor:o,headerBorderColorInverted:o,footerBorderColor:o,footerBorderColorInverted:o,siderBorderColor:o,siderBorderColorInverted:o,siderColor:i,siderColorInverted:i,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:nt(r,s),siderToggleBarColorHover:nt(r,a),__invertScrollbar:"false"}}},Nie=Mie,Oie=t=>{const{textColor2:e,cardColor:r,modalColor:n,popoverColor:i,dividerColor:o,borderRadius:s,fontSize:a,hoverColor:l}=t;return{textColor:e,color:r,colorHover:l,colorModal:n,colorHoverModal:nt(n,l),colorPopover:i,colorHoverPopover:nt(i,l),borderColor:o,borderColorModal:nt(n,o),borderColorPopover:nt(i,o),borderRadius:s,fontSize:a}},Lie={name:"List",common:Fe,self:Oie},Bie=Lie,Rie={name:"LoadingBar",common:Fe,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}},Pie=Rie,Fie={name:"Log",common:Fe,peers:{Scrollbar:Mn,Code:PI},self(t){const{textColor2:e,inputColor:r,fontSize:n,primaryColor:i}=t;return{loaderFontSize:n,loaderTextColor:e,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:i}}},Uie=Fie,jie={name:"Mention",common:Fe,peers:{InternalSelectMenu:pd,Input:ci},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}},$ie=jie;function zie(t,e,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:t,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:t,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}const Vie=t=>{const{borderRadius:e,textColor3:r,primaryColor:n,textColor2:i,textColor1:o,fontSize:s,dividerColor:a,hoverColor:l,primaryColorHover:d}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:r,itemColorHover:l,itemColorActive:Ye(n,{alpha:.1}),itemColorActiveHover:Ye(n,{alpha:.1}),itemColorActiveCollapsed:Ye(n,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:d,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:o,itemIconColorHover:o,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:o,itemIconColorHorizontal:o,itemIconColorHoverHorizontal:d,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:s,dividerColor:a},zie("#BBB",n,"#FFF","#AAA"))},Hie={name:"Menu",common:Fe,peers:{Tooltip:Pp,Dropdown:kb},self(t){const{primaryColor:e,primaryColorSuppl:r}=t,n=Vie(t);return n.itemColorActive=Ye(e,{alpha:.15}),n.itemColorActiveHover=Ye(e,{alpha:.15}),n.itemColorActiveCollapsed=Ye(e,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},qie=Hie,Wie={titleFontSize:"18px",backSize:"22px"};function Gie(t){const{textColor1:e,textColor2:r,textColor3:n,fontSize:i,fontWeightStrong:o,primaryColorHover:s,primaryColorPressed:a}=t;return Object.assign(Object.assign({},Wie),{titleFontWeight:o,fontSize:i,titleTextColor:e,backColor:r,backColorHover:s,backColorPressed:a,subtitleTextColor:n})}const Qie={name:"PageHeader",common:Fe,self:Gie},Yie={iconSize:"22px"},Kie=t=>{const{fontSize:e,warningColor:r}=t;return Object.assign(Object.assign({},Yie),{fontSize:e,iconColor:r})},Xie={name:"Popconfirm",common:Fe,peers:{Button:Nn,Popover:_a},self:Kie},Jie=Xie,Zie=t=>{const{infoColor:e,successColor:r,warningColor:n,errorColor:i,textColor2:o,progressRailColor:s,fontSize:a,fontWeight:l}=t;return{fontSize:a,fontSizeCircle:"28px",fontWeightCircle:l,railColor:s,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:r,iconColorWarning:n,iconColorError:i,textColorCircle:o,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:o,fillColor:e,fillColorInfo:e,fillColorSuccess:r,fillColorWarning:n,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},eoe={name:"Progress",common:Fe,self(t){const e=Zie(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},QI=eoe,toe={name:"Rate",common:Fe,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},roe=toe,noe={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},ioe=t=>{const{textColor2:e,textColor1:r,errorColor:n,successColor:i,infoColor:o,warningColor:s,lineHeight:a,fontWeightStrong:l}=t;return Object.assign(Object.assign({},noe),{lineHeight:a,titleFontWeight:l,titleTextColor:r,textColor:e,iconColorError:n,iconColorSuccess:i,iconColorInfo:o,iconColorWarning:s})},ooe={name:"Result",common:Fe,self:ioe},soe=ooe,aoe={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},loe={name:"Slider",common:Fe,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:i,popoverColor:o,textColor2:s,cardColor:a,borderRadius:l,fontSize:d,opacityDisabled:f}=t;return Object.assign(Object.assign({},aoe),{fontSize:d,markFontSize:d,railColor:r,railColorHover:r,fillColor:i,fillColorHover:i,opacityDisabled:f,handleColor:"#FFF",dotColor:a,dotColorModal:n,dotColorPopover:o,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:o,indicatorBoxShadow:e,indicatorTextColor:s,indicatorBorderRadius:l,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}},coe=loe,uoe=t=>{const{opacityDisabled:e,heightTiny:r,heightSmall:n,heightMedium:i,heightLarge:o,heightHuge:s,primaryColor:a,fontSize:l}=t;return{fontSize:l,textColor:a,sizeTiny:r,sizeSmall:n,sizeMedium:i,sizeLarge:o,sizeHuge:s,color:a,opacitySpinning:e}},doe={name:"Spin",common:Fe,self:uoe},foe=doe,hoe=t=>{const{textColor2:e,textColor3:r,fontSize:n,fontWeight:i}=t;return{labelFontSize:n,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}},poe={name:"Statistic",common:Fe,self:hoe},moe=poe,goe={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},yoe=t=>{const{fontWeightStrong:e,baseColor:r,textColorDisabled:n,primaryColor:i,errorColor:o,textColor1:s,textColor2:a}=t;return Object.assign(Object.assign({},goe),{stepHeaderFontWeight:e,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:i,indicatorTextColorError:o,indicatorBorderColorProcess:i,indicatorBorderColorWait:n,indicatorBorderColorFinish:i,indicatorBorderColorError:o,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:i,splitorColorError:n,headerTextColorProcess:s,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:o,descriptionTextColorProcess:a,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:o})},boe={name:"Steps",common:Fe,self:yoe},voe=boe,YI={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},_oe={name:"Switch",common:Fe,self(t){const{primaryColorSuppl:e,opacityDisabled:r,borderRadius:n,primaryColor:i,textColor2:o,baseColor:s}=t;return Object.assign(Object.assign({},YI),{iconColor:s,textColor:o,loadingColor:e,opacityDisabled:r,railColor:"rgba(255, 255, 255, .20)",railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${Ye(i,{alpha:.3})}`})}},woe=_oe,xoe=t=>{const{primaryColor:e,opacityDisabled:r,borderRadius:n,textColor3:i}=t;return Object.assign(Object.assign({},YI),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:r,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 0 2px ${Ye(e,{alpha:.2})}`})},Aoe={name:"Switch",common:Eb,self:xoe},Toe=Aoe,Coe={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},Eoe=t=>{const{dividerColor:e,cardColor:r,modalColor:n,popoverColor:i,tableHeaderColor:o,tableColorStriped:s,textColor1:a,textColor2:l,borderRadius:d,fontWeightStrong:f,lineHeight:u,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m}=t;return Object.assign(Object.assign({},Coe),{fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,lineHeight:u,borderRadius:d,borderColor:nt(r,e),borderColorModal:nt(n,e),borderColorPopover:nt(i,e),tdColor:r,tdColorModal:n,tdColorPopover:i,tdColorStriped:nt(r,s),tdColorStripedModal:nt(n,s),tdColorStripedPopover:nt(i,s),thColor:nt(r,o),thColorModal:nt(n,o),thColorPopover:nt(i,o),thTextColor:a,tdTextColor:l,thFontWeight:f})},Soe={name:"Table",common:Fe,self:Eoe},koe=Soe,Ioe={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},Doe=t=>{const{textColor2:e,primaryColor:r,textColorDisabled:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,tabColor:d,baseColor:f,dividerColor:u,fontWeight:h,textColor1:p,borderRadius:m,fontSize:y,fontWeightStrong:v}=t;return Object.assign(Object.assign({},Ioe),{colorSegment:d,tabFontSizeCard:y,tabTextColorLine:p,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:p,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:n,tabTextColorBar:p,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:p,tabTextColorHoverCard:p,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,closeBorderRadius:m,tabColor:d,tabColorSegment:f,tabBorderColor:u,tabFontWeightActive:h,tabFontWeight:h,tabBorderRadius:m,paneTextColor:e,fontWeightStrong:v})},Moe={name:"Tabs",common:Fe,self(t){const e=Doe(t),{inputColor:r}=t;return e.colorSegment=r,e.tabColorSegment=r,e}},Noe=Moe,Ooe=t=>{const{textColor1:e,textColor2:r,fontWeightStrong:n,fontSize:i}=t;return{fontSize:i,titleTextColor:e,textColor:r,titleFontWeight:n}},Loe={name:"Thing",common:Fe,self:Ooe},Boe=Loe,Roe={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},Poe={name:"Timeline",common:Fe,self(t){const{textColor3:e,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:i,warningColorSuppl:o,textColor1:s,textColor2:a,railColor:l,fontWeightStrong:d,fontSize:f}=t;return Object.assign(Object.assign({},Roe),{contentFontSize:f,titleFontWeight:d,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${o}`,iconColor:e,iconColorInfo:r,iconColorError:n,iconColorSuccess:i,iconColorWarning:o,titleTextColor:s,contentTextColor:a,metaTextColor:e,lineColor:l})}},Foe=Poe,Uoe={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},joe={name:"Transfer",common:Fe,peers:{Checkbox:lc,Scrollbar:Mn,Input:ci,Empty:va,Button:Nn},self(t){const{fontWeight:e,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:i,heightLarge:o,heightMedium:s,borderRadius:a,inputColor:l,tableHeaderColor:d,textColor1:f,textColorDisabled:u,textColor2:h,textColor3:p,hoverColor:m,closeColorHover:y,closeColorPressed:v,closeIconColor:b,closeIconColorHover:A,closeIconColorPressed:C,dividerColor:S}=t;return Object.assign(Object.assign({},Uoe),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:o,fontSizeSmall:i,fontSizeMedium:n,fontSizeLarge:r,borderRadius:a,dividerColor:S,borderColor:"#0000",listColor:l,headerColor:d,titleTextColor:f,titleTextColorDisabled:u,extraTextColor:p,extraTextColorDisabled:u,itemTextColor:h,itemTextColorDisabled:u,itemColorPending:m,titleFontWeight:e,closeColorHover:y,closeColorPressed:v,closeIconColor:b,closeIconColorHover:A,closeIconColorPressed:C})}},$oe=joe,zoe=t=>{const{borderRadiusSmall:e,hoverColor:r,pressedColor:n,primaryColor:i,textColor3:o,textColor2:s,textColorDisabled:a,fontSize:l}=t;return{fontSize:l,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:r,nodeColorPressed:n,nodeColorActive:Ye(i,{alpha:.1}),arrowColor:o,nodeTextColor:s,nodeTextColorDisabled:a,loadingColor:i,dropMarkColor:i}},Voe={name:"Tree",common:Fe,peers:{Checkbox:lc,Scrollbar:Mn,Empty:va},self(t){const{primaryColor:e}=t,r=zoe(t);return r.nodeColorActive=Ye(e,{alpha:.15}),r}},KI=Voe,Hoe={name:"TreeSelect",common:Fe,peers:{Tree:KI,Empty:va,InternalSelection:Sb}},qoe=Hoe,Woe={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},Goe=t=>{const{primaryColor:e,textColor2:r,borderColor:n,lineHeight:i,fontSize:o,borderRadiusSmall:s,dividerColor:a,fontWeightStrong:l,textColor1:d,textColor3:f,infoColor:u,warningColor:h,errorColor:p,successColor:m,codeColor:y}=t;return Object.assign(Object.assign({},Woe),{aTextColor:e,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:i,blockquoteFontSize:o,codeBorderRadius:s,liTextColor:r,liLineHeight:i,liFontSize:o,hrColor:a,headerFontWeight:l,headerTextColor:d,pTextColor:r,pTextColor1Depth:d,pTextColor2Depth:r,pTextColor3Depth:f,pLineHeight:i,pFontSize:o,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:u,headerBarColorError:p,headerBarColorWarning:h,headerBarColorSuccess:m,textColor:r,textColor1Depth:d,textColor2Depth:r,textColor3Depth:f,textColorPrimary:e,textColorInfo:u,textColorSuccess:m,textColorWarning:h,textColorError:p,codeTextColor:r,codeColor:y,codeBorder:"1px solid #0000"})},Qoe={name:"Typography",common:Fe,self:Goe},Yoe=Qoe,Koe=t=>{const{iconColor:e,primaryColor:r,errorColor:n,textColor2:i,successColor:o,opacityDisabled:s,actionColor:a,borderColor:l,hoverColor:d,lineHeight:f,borderRadius:u,fontSize:h}=t;return{fontSize:h,lineHeight:f,borderRadius:u,draggerColor:a,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:d,itemColorHoverError:Ye(n,{alpha:.06}),itemTextColor:i,itemTextColorError:n,itemTextColorSuccess:o,itemIconColor:e,itemDisabledOpacity:s,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}},Xoe={name:"Upload",common:Fe,peers:{Button:Nn,Progress:QI},self(t){const{errorColor:e}=t,r=Koe(t);return r.itemColorHoverError=Ye(e,{alpha:.09}),r}},Joe=Xoe,Zoe={name:"Watermark",common:Fe,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},ese=Zoe,tse={name:"Row",common:Fe},rse=tse,nse={name:"Image",common:Fe,peers:{Tooltip:Pp},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},ise={extraFontSize:"12px",width:"440px"},ose={name:"Transfer",common:Fe,peers:{Checkbox:lc,Scrollbar:Mn,Input:ci,Empty:va,Button:Nn},self(t){const{iconColorDisabled:e,iconColor:r,fontWeight:n,fontSizeLarge:i,fontSizeMedium:o,fontSizeSmall:s,heightLarge:a,heightMedium:l,heightSmall:d,borderRadius:f,inputColor:u,tableHeaderColor:h,textColor1:p,textColorDisabled:m,textColor2:y,hoverColor:v}=t;return Object.assign(Object.assign({},ise),{itemHeightSmall:d,itemHeightMedium:l,itemHeightLarge:a,fontSizeSmall:s,fontSizeMedium:o,fontSizeLarge:i,borderRadius:f,borderColor:"#0000",listColor:u,headerColor:h,titleTextColor:p,titleTextColorDisabled:m,extraTextColor:y,filterDividerColor:"#0000",itemTextColor:y,itemTextColorDisabled:m,itemColorPending:v,titleFontWeight:n,iconColor:r,iconColorDisabled:e})}},sse=ose,ase={name:"Skeleton",common:Fe,self(t){const{heightSmall:e,heightMedium:r,heightLarge:n,borderRadius:i}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:i,heightSmall:e,heightMedium:r,heightLarge:n}}},lse=Cp("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[At("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),At("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),At("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),Cp("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Rp({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),At("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),At("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),At("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Kr("&:focus",[At("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),Ri("round",[At("rail","border-radius: calc(var(--n-rail-height) / 2);",[At("button","border-radius: calc(var(--n-button-height) / 2);")])]),Qk("disabled",[Qk("icon",[Ri("rubber-band",[Ri("pressed",[At("rail",[At("button","max-width: var(--n-button-width-pressed);")])]),At("rail",[Kr("&:active",[At("button","max-width: var(--n-button-width-pressed);")])]),Ri("active",[Ri("pressed",[At("rail",[At("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),At("rail",[Kr("&:active",[At("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),Ri("active",[At("rail",[At("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),At("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[At("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Rp()]),At("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),Ri("active",[At("rail","background-color: var(--n-rail-color-active);")]),Ri("loading",[At("rail",`
 cursor: wait;
 `)]),Ri("disabled",[At("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),cse=Object.assign(Object.assign({},hd.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let md;const use=c.defineComponent({name:"Switch",props:cse,setup(t){process.env.NODE_ENV!=="production"&&c.watchEffect(()=>{t.onChange&&lJ("switch","`on-change` is deprecated, please use `on-update:value` instead.")}),md===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?md=CSS.supports("width","max(1px)"):md=!1:md=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=SI(t),n=hd("Switch","-switch",lse,Toe,t,e),i=FJ(t),{mergedSizeRef:o,mergedDisabledRef:s}=i,a=c.ref(t.defaultValue),l=c.toRef(t,"value"),d=OJ(l,a),f=c.computed(()=>d.value===t.checkedValue),u=c.ref(!1),h=c.ref(!1),p=c.computed(()=>{const{railStyle:k}=t;if(k)return k({focused:h.value,checked:f.value})});function m(k){const{"onUpdate:value":T,onChange:F,onUpdateValue:z}=t,{nTriggerFormInput:P,nTriggerFormChange:R}=i;T&&xp(T,k),z&&xp(z,k),F&&xp(F,k),a.value=k,P(),R()}function y(){const{nTriggerFormFocus:k}=i;k()}function v(){const{nTriggerFormBlur:k}=i;k()}function b(){t.loading||s.value||(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue))}function A(){h.value=!0,y()}function C(){h.value=!1,v(),u.value=!1}function S(k){t.loading||s.value||k.key===" "&&(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue),u.value=!1)}function M(k){t.loading||s.value||k.key===" "&&(k.preventDefault(),u.value=!0)}const I=c.computed(()=>{const{value:k}=o,{self:{opacityDisabled:T,railColor:F,railColorActive:z,buttonBoxShadow:P,buttonColor:R,boxShadowFocus:$,loadingColor:W,textColor:B,iconColor:U,[bs("buttonHeight",k)]:te,[bs("buttonWidth",k)]:H,[bs("buttonWidthPressed",k)]:O,[bs("railHeight",k)]:E,[bs("railWidth",k)]:V,[bs("railBorderRadius",k)]:K,[bs("buttonBorderRadius",k)]:Y},common:{cubicBezierEaseInOut:Q}}=n.value;let ae,ie,me;return md?(ae=`calc((${E} - ${te}) / 2)`,ie=`max(${E}, ${te})`,me=`max(${V}, calc(${V} + ${te} - ${E}))`):(ae=ab((Ro(E)-Ro(te))/2),ie=ab(Math.max(Ro(E),Ro(te))),me=Ro(E)>Ro(te)?V:ab(Ro(V)+Ro(te)-Ro(E))),{"--n-bezier":Q,"--n-button-border-radius":Y,"--n-button-box-shadow":P,"--n-button-color":R,"--n-button-width":H,"--n-button-width-pressed":O,"--n-button-height":te,"--n-height":ie,"--n-offset":ae,"--n-opacity-disabled":T,"--n-rail-border-radius":K,"--n-rail-color":F,"--n-rail-color-active":z,"--n-rail-height":E,"--n-rail-width":V,"--n-width":me,"--n-box-shadow-focus":$,"--n-loading-color":W,"--n-text-color":B,"--n-icon-color":U}}),L=r?kI("switch",c.computed(()=>o.value[0]),I,t):void 0;return{handleClick:b,handleBlur:C,handleFocus:A,handleKeyup:S,handleKeydown:M,mergedRailStyle:p,pressed:u,mergedClsPrefix:e,mergedValue:d,checked:f,mergedDisabled:s,cssVars:r?void 0:I,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:r,mergedRailStyle:n,onRender:i,$slots:o}=this;i==null||i();const{checked:s,unchecked:a,icon:l,"checked-icon":d,"unchecked-icon":f}=o,u=!(db(l)&&db(d)&&db(f));return c.h("div",{role:"switch","aria-checked":r,class:[`${t}-switch`,this.themeClass,u&&`${t}-switch--icon`,r&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},c.h("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:n},ga(s,h=>ga(a,p=>h||p?c.h("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},c.h("div",{class:`${t}-switch__rail-placeholder`},c.h("div",{class:`${t}-switch__button-placeholder`}),h),c.h("div",{class:`${t}-switch__rail-placeholder`},c.h("div",{class:`${t}-switch__button-placeholder`}),p)):null)),c.h("div",{class:`${t}-switch__button`},ga(l,h=>ga(d,p=>ga(f,m=>c.h(II,null,{default:()=>this.loading?c.h(Pte,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(p||h)?c.h("div",{class:`${t}-switch__button-icon`,key:p?"checked-icon":"icon"},p||h):!this.checked&&(m||h)?c.h("div",{class:`${t}-switch__button-icon`,key:m?"unchecked-icon":"icon"},m||h):null})))),ga(s,h=>h&&c.h("div",{key:"checked",class:`${t}-switch__checked`},h)),ga(a,h=>h&&c.h("div",{key:"unchecked",class:`${t}-switch__unchecked`},h)))))}}),dse=()=>({}),fse={name:"Equation",common:Fe,self:dse},hse=fse,pse={name:"dark",common:Fe,Alert:cre,Anchor:hre,AutoComplete:bre,Avatar:BI,AvatarGroup:Are,BackTop:Ere,Badge:kre,Breadcrumb:Nre,Button:Nn,ButtonGroup:kie,Calendar:Ure,Card:RI,Carousel:Qre,Cascader:ene,Checkbox:lc,Code:PI,Collapse:ine,CollapseTransition:ane,ColorPicker:zre,DataTable:Cne,DatePicker:Fne,Descriptions:zne,Dialog:WI,Divider:Xne,Drawer:eie,Dropdown:kb,DynamicInput:nie,DynamicTags:aie,Element:cie,Empty:va,Ellipsis:$I,Equation:hse,Form:hie,GradientText:mie,Icon:Ine,IconWrapper:bie,Image:nse,Input:ci,InputNumber:Die,LegacyTransfer:sse,Layout:Nie,List:Bie,LoadingBar:Pie,Log:Uie,Menu:qie,Mention:$ie,Message:Eie,Modal:Qne,Notification:xie,PageHeader:Qie,Pagination:jI,Popconfirm:Jie,Popover:_a,Popselect:FI,Progress:QI,Radio:zI,Rate:roe,Result:soe,Row:rse,Scrollbar:Mn,Select:UI,Skeleton:ase,Slider:coe,Space:GI,Spin:foe,Statistic:moe,Steps:voe,Switch:woe,Table:koe,Tabs:Noe,Tag:LI,Thing:Boe,TimePicker:qI,Timeline:Foe,Tooltip:Pp,Transfer:$oe,Tree:KI,TreeSelect:qoe,Typography:Yoe,Upload:Joe,Watermark:ese};var XI;const JI=typeof window<"u",mse=t=>typeof t=="function",gse=t=>typeof t=="string",yse=()=>{};JI&&(XI=window==null?void 0:window.navigator)!=null&&XI.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gd(t){return typeof t=="function"?t():c.unref(t)}function bse(t,e){function r(...n){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(o)})}return r}const ZI=t=>t();function vse(t=ZI){const e=c.ref(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:c.readonly(e),pause:r,resume:n,eventFilter:i}}function _se(t){return t}function eD(t){return c.getCurrentScope()?(c.onScopeDispose(t),!0):!1}function wse(t){return typeof t=="function"?c.computed(t):c.ref(t)}function tD(t,e=!0){c.getCurrentInstance()?c.onMounted(t):e?t():c.nextTick(t)}function xse(t=!1,e={}){const{truthyValue:r=!0,falsyValue:n=!1}=e,i=c.isRef(t),o=c.ref(t);function s(a){if(arguments.length)return o.value=a,o.value;{const l=gd(r);return o.value=o.value===l?gd(n):l,o.value}}return i?s:[o,s]}var rD=Object.getOwnPropertySymbols,Ase=Object.prototype.hasOwnProperty,Tse=Object.prototype.propertyIsEnumerable,Cse=(t,e)=>{var r={};for(var n in t)Ase.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&rD)for(var n of rD(t))e.indexOf(n)<0&&Tse.call(t,n)&&(r[n]=t[n]);return r};function Ese(t,e,r={}){const n=r,{eventFilter:i=ZI}=n,o=Cse(n,["eventFilter"]);return c.watch(t,bse(i,e),o)}var Sse=Object.defineProperty,kse=Object.defineProperties,Ise=Object.getOwnPropertyDescriptors,Fp=Object.getOwnPropertySymbols,nD=Object.prototype.hasOwnProperty,iD=Object.prototype.propertyIsEnumerable,oD=(t,e,r)=>e in t?Sse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dse=(t,e)=>{for(var r in e||(e={}))nD.call(e,r)&&oD(t,r,e[r]);if(Fp)for(var r of Fp(e))iD.call(e,r)&&oD(t,r,e[r]);return t},Mse=(t,e)=>kse(t,Ise(e)),Nse=(t,e)=>{var r={};for(var n in t)nD.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Fp)for(var n of Fp(t))e.indexOf(n)<0&&iD.call(t,n)&&(r[n]=t[n]);return r};function Ose(t,e,r={}){const n=r,{eventFilter:i}=n,o=Nse(n,["eventFilter"]),{eventFilter:s,pause:a,resume:l,isActive:d}=vse(i);return{stop:Ese(t,e,Mse(Dse({},o),{eventFilter:s})),pause:a,resume:l,isActive:d}}function Lse(t){var e;const r=gd(t);return(e=r==null?void 0:r.$el)!=null?e:r}const cc=JI?window:void 0;function sD(...t){let e,r,n,i;if(gse(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=cc):[e,r,n,i]=t,!e)return yse;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,u,h,p)=>(f.addEventListener(u,h,p),()=>f.removeEventListener(u,h,p)),l=c.watch(()=>[Lse(e),gd(i)],([f,u])=>{s(),f&&o.push(...r.flatMap(h=>n.map(p=>a(f,h,p,u))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return eD(d),d}function Bse(t,e=!1){const r=c.ref(),n=()=>r.value=!!t();return n(),tD(n,e),r}function Rse(t,e={}){const{window:r=cc}=e,n=Bse(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const o=c.ref(!1),s=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},a=()=>{n.value&&(s(),i=r.matchMedia(wse(t).value),o.value=i.matches,"addEventListener"in i?i.addEventListener("change",a):i.addListener(a))};return c.watchEffect(a),eD(()=>s()),o}const Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Db="__vueuse_ssr_handlers__";Ib[Db]=Ib[Db]||{};const Pse=Ib[Db];function aD(t,e){return Pse[t]||e}function Fse(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var Use=Object.defineProperty,lD=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty,$se=Object.prototype.propertyIsEnumerable,cD=(t,e,r)=>e in t?Use(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uD=(t,e)=>{for(var r in e||(e={}))jse.call(e,r)&&cD(t,r,e[r]);if(lD)for(var r of lD(e))$se.call(e,r)&&cD(t,r,e[r]);return t};const zse={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},dD="vueuse-storage";function Vse(t,e,r,n={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:d=!1,shallow:f,window:u=cc,eventFilter:h,onError:p=k=>{console.error(k)}}=n,m=(f?c.shallowRef:c.ref)(e);if(!r)try{r=aD("getDefaultStorage",()=>{var k;return(k=cc)==null?void 0:k.localStorage})()}catch(k){p(k)}if(!r)return m;const y=gd(e),v=Fse(y),b=(i=n.serializer)!=null?i:zse[v],{pause:A,resume:C}=Ose(m,()=>S(m.value),{flush:o,deep:s,eventFilter:h});return u&&a&&(sD(u,"storage",L),sD(u,dD,I)),L(),m;function S(k){try{if(k==null)r.removeItem(t);else{const T=b.write(k),F=r.getItem(t);F!==T&&(r.setItem(t,T),u&&u.dispatchEvent(new CustomEvent(dD,{detail:{key:t,oldValue:F,newValue:T,storageArea:r}})))}}catch(T){p(T)}}function M(k){const T=k?k.newValue:r.getItem(t);if(T==null)return l&&y!==null&&r.setItem(t,b.write(y)),y;if(!k&&d){const F=b.read(T);return mse(d)?d(F,y):v==="object"&&!Array.isArray(F)?uD(uD({},y),F):F}else return typeof T!="string"?T:b.read(T)}function I(k){L(k.detail)}function L(k){if(!(k&&k.storageArea!==r)){if(k&&k.key==null){m.value=y;return}if(!(k&&k.key!==t)){A();try{m.value=M(k)}catch(T){p(T)}finally{k?c.nextTick(C):C()}}}}}function fD(t){return Rse("(prefers-color-scheme: dark)",t)}var Hse=Object.defineProperty,hD=Object.getOwnPropertySymbols,qse=Object.prototype.hasOwnProperty,Wse=Object.prototype.propertyIsEnumerable,pD=(t,e,r)=>e in t?Hse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gse=(t,e)=>{for(var r in e||(e={}))qse.call(e,r)&&pD(t,r,e[r]);if(hD)for(var r of hD(e))Wse.call(e,r)&&pD(t,r,e[r]);return t};function Qse(t={}){const{selector:e="html",attribute:r="class",initialValue:n="auto",window:i=cc,storage:o,storageKey:s="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:d}=t,f=Gse({auto:"",light:"light",dark:"dark"},t.modes||{}),u=fD({window:i}),h=c.computed(()=>u.value?"dark":"light"),p=l||(s==null?c.ref(n):Vse(s,n,o,{window:i,listenToStorageChanges:a})),m=c.computed({get(){return p.value==="auto"&&!d?h.value:p.value},set(A){p.value=A}}),y=aD("updateHTMLAttrs",(A,C,S)=>{const M=i==null?void 0:i.document.querySelector(A);if(M)if(C==="class"){const I=S.split(/\s/g);Object.values(f).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{I.includes(L)?M.classList.add(L):M.classList.remove(L)})}else M.setAttribute(C,S)});function v(A){var C;const S=A==="auto"?h.value:A;y(e,r,(C=f[S])!=null?C:S)}function b(A){t.onChanged?t.onChanged(A,v):v(A)}return c.watch(m,b,{flush:"post",immediate:!0}),d&&c.watch(h,()=>b(m.value),{flush:"post"}),tD(()=>b(m.value)),m}var Yse=Object.defineProperty,Kse=Object.defineProperties,Xse=Object.getOwnPropertyDescriptors,mD=Object.getOwnPropertySymbols,Jse=Object.prototype.hasOwnProperty,Zse=Object.prototype.propertyIsEnumerable,gD=(t,e,r)=>e in t?Yse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eae=(t,e)=>{for(var r in e||(e={}))Jse.call(e,r)&&gD(t,r,e[r]);if(mD)for(var r of mD(e))Zse.call(e,r)&&gD(t,r,e[r]);return t},tae=(t,e)=>Kse(t,Xse(e));function rae(t={}){const{valueDark:e="dark",valueLight:r="",window:n=cc}=t,i=Qse(tae(eae({},t),{onChanged:(s,a)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,s==="dark"):a(s)},modes:{dark:e,light:r}})),o=fD({window:n});return c.computed({get(){return i.value==="dark"},set(s){s===o.value?i.value="auto":i.value=s?"dark":"light"}})}var yD;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(yD||(yD={}));var nae=Object.defineProperty,bD=Object.getOwnPropertySymbols,iae=Object.prototype.hasOwnProperty,oae=Object.prototype.propertyIsEnumerable,vD=(t,e,r)=>e in t?nae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sae=(t,e)=>{for(var r in e||(e={}))iae.call(e,r)&&vD(t,r,e[r]);if(bD)for(var r of bD(e))oae.call(e,r)&&vD(t,r,e[r]);return t};sae({linear:_se},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const yd=rae();xse(yd),c.computed(()=>yd.value?pse:null);const aae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},lae=c.createElementVNode("path",{d:"M6.76 4.84l-1.8-1.79l-1.41 1.41l1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407l-1.79 1.79l-1.407-1.408zm-1.8 15.115l1.79 1.8l1.41-1.41l-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41l1.79-1.8l-1.41-1.41z",fill:"currentColor"},null,-1),cae=[lae],uae=c.defineComponent({name:"WbSunnyOutlined",render:function(t,e){return c.openBlock(),c.createElementBlock("svg",aae,cae)}}),dae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},fae=c.createElementVNode("path",{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4c.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7c0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z",fill:"currentColor"},null,-1),hae=[fae],pae=c.defineComponent({name:"DarkModeOutlined",render:function(t,e){return c.openBlock(),c.createElementBlock("svg",dae,hae)}}),mae=c.defineComponent({__name:"switch",props:{round:{type:Boolean,default:!1},darkBackground:{default:"linear-gradient(135deg,#42e695,#3bb2b8)"},lightBackground:{default:""}},setup(t){const e=t,r=({checked:n})=>({background:n?e.darkBackground:e.lightBackground});return(n,i)=>(c.openBlock(),c.createBlock(c.unref(use),{round:n.round,"rail-style":r,value:c.unref(yd),"onUpdate:value":i[0]||(i[0]=o=>c.isRef(yd)?yd.value=o:null)},{"checked-icon":c.withCtx(()=>[c.createVNode(c.unref(HI),null,{default:c.withCtx(()=>[c.renderSlot(n.$slots,"dark",{},()=>[c.createVNode(c.unref(pae))])]),_:3})]),"unchecked-icon":c.withCtx(()=>[c.createVNode(c.unref(HI),null,{default:c.withCtx(()=>[c.renderSlot(n.$slots,"light",{},()=>[c.createVNode(c.unref(uae))])]),_:3})]),_:3},8,["round","value"]))}}),gae=["width","height"],yae=[c.createElementVNode("path",{d:"M480 336V160C479.961 126.064 466.463 93.5296 442.467 69.5334C418.47 45.5371 385.936 32.039 352 32H160C126.064 32.039 93.5296 45.5371 69.5334 69.5334C45.5371 93.5296 32.039 126.064 32 160V352C32.039 385.936 45.5371 418.47 69.5334 442.467C93.5296 466.463 126.064 479.961 160 480H320C323.919 480 327.703 478.564 330.634 475.962L474.634 347.962C477.371 345.395 479.105 341.938 479.528 338.21L479.566 338.026C479.756 337.361 479.901 336.684 480 336ZM336 428.07V392C336.014 380.971 340.401 370.398 348.199 362.599C355.998 354.801 366.571 350.414 377.6 350.4H422.304L336 428.07ZM64 352V160C64.028 134.548 74.1512 110.146 92.1486 92.1486C110.146 74.1512 134.548 64.028 160 64H352C377.452 64.028 401.854 74.1512 419.851 92.1486C437.849 110.146 447.972 134.548 448 160V318.4H377.6C358.087 318.422 339.379 326.183 325.581 339.981C311.783 353.779 304.022 372.487 304 392V448H160C134.548 447.972 110.146 437.849 92.1486 419.851C74.1512 401.854 64.028 377.452 64 352Z"},null,-1),c.createElementVNode("path",{d:"M208 176V168C208 157.391 203.786 147.217 196.284 139.716C188.783 132.214 178.609 128 168 128C157.391 128 147.217 132.214 139.716 139.716C132.214 147.217 128 157.391 128 168V176C128 180.243 129.686 184.313 132.686 187.314C135.687 190.314 139.757 192 144 192C148.243 192 152.313 190.314 155.314 187.314C158.314 184.313 160 180.243 160 176V168C160 165.878 160.843 163.843 162.343 162.343C163.843 160.843 165.878 160 168 160C170.122 160 172.157 160.843 173.657 162.343C175.157 163.843 176 165.878 176 168V176C176 180.243 177.686 184.313 180.686 187.314C183.687 190.314 187.757 192 192 192C196.243 192 200.313 190.314 203.314 187.314C206.314 184.313 208 180.243 208 176Z"},null,-1),c.createElementVNode("path",{d:"M320 192C324.243 192 328.313 190.314 331.314 187.314C334.314 184.313 336 180.243 336 176V168C336 165.878 336.843 163.843 338.343 162.343C339.843 160.843 341.878 160 344 160C346.122 160 348.157 160.843 349.657 162.343C351.157 163.843 352 165.878 352 168V176C352 180.243 353.686 184.313 356.686 187.314C359.687 190.314 363.757 192 368 192C372.243 192 376.313 190.314 379.314 187.314C382.314 184.313 384 180.243 384 176V168C384 157.391 379.786 147.217 372.284 139.716C364.783 132.214 354.609 128 344 128C333.391 128 323.217 132.214 315.716 139.716C308.214 147.217 304 157.391 304 168V176C304 180.243 305.686 184.313 308.686 187.314C311.687 190.314 315.757 192 320 192Z"},null,-1),c.createElementVNode("path",{d:"M328 264V240C328 235.757 326.314 231.687 323.314 228.686C320.313 225.686 316.243 224 312 224H200C195.757 224 191.687 225.686 188.686 228.686C185.686 231.687 184 235.757 184 240V264C184 283.096 191.586 301.409 205.088 314.912C218.591 328.414 236.904 336 256 336C275.096 336 293.409 328.414 306.912 314.912C320.414 301.409 328 283.096 328 264ZM216 264V256H296V264C296 274.609 291.786 284.783 284.284 292.284C276.783 299.786 266.609 304 256 304C245.391 304 235.217 299.786 227.716 292.284C220.214 284.783 216 274.609 216 264Z"},null,-1)],bae={__name:"StickerSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},yae,8,gae))}},vae=["width","height"],_ae=[c.createElementVNode("path",{d:"M256 32C211.697 32 168.389 45.1374 131.552 69.7508C94.7158 94.3642 66.0051 129.348 49.0511 170.279C32.0971 211.21 27.6611 256.248 36.3042 299.7C44.9473 343.152 66.2812 383.065 97.6082 414.392C128.935 445.719 168.848 467.053 212.3 475.696C255.752 484.339 300.791 479.903 341.721 462.949C382.652 445.995 417.636 417.284 442.249 380.448C466.863 343.611 480 300.303 480 256C479.933 196.612 456.312 139.676 414.318 97.682C372.324 55.6883 315.388 32.0669 256 32ZM256 448C218.026 448 180.905 436.739 149.331 415.642C117.756 394.545 93.1473 364.559 78.6152 329.475C64.0832 294.392 60.281 255.787 67.6893 218.543C75.0977 181.298 93.3839 147.087 120.236 120.235C147.087 93.3838 181.298 75.0976 218.543 67.6892C255.787 60.2809 294.392 64.0831 329.475 78.6151C364.559 93.1472 394.545 117.756 415.642 149.331C436.739 180.905 448 218.026 448 256C447.942 306.904 427.695 355.706 391.701 391.7C355.706 427.695 306.904 447.942 256 448Z"},null,-1),c.createElementVNode("path",{d:"M352 268.531C347.757 268.531 343.687 270.217 340.686 273.218C337.686 276.218 336 280.288 336 284.531C336 314.821 302.984 339.469 262.4 339.469H249.6C209.014 339.469 176 314.829 176 284.531C176 280.288 174.314 276.218 171.314 273.218C168.313 270.217 164.243 268.531 160 268.531C155.757 268.531 151.687 270.217 148.686 273.218C145.686 276.218 144 280.288 144 284.531C144 332.469 191.374 371.469 249.6 371.469H262.4C320.627 371.469 368 332.469 368 284.531C368 280.288 366.314 276.218 363.314 273.218C360.313 270.217 356.243 268.531 352 268.531Z"},null,-1),c.createElementVNode("path",{d:"M176 224C180.243 224 184.313 222.314 187.314 219.314C190.314 216.313 192 212.243 192 208V200C192 197.878 192.843 195.843 194.343 194.343C195.843 192.843 197.878 192 200 192C202.122 192 204.157 192.843 205.657 194.343C207.157 195.843 208 197.878 208 200V208C208 212.243 209.686 216.313 212.686 219.314C215.687 222.314 219.757 224 224 224C228.243 224 232.313 222.314 235.314 219.314C238.314 216.313 240 212.243 240 208V200C240 189.391 235.786 179.217 228.284 171.716C220.783 164.214 210.609 160 200 160C189.391 160 179.217 164.214 171.716 171.716C164.214 179.217 160 189.391 160 200V208C160 212.243 161.686 216.313 164.686 219.314C167.687 222.314 171.757 224 176 224Z"},null,-1),c.createElementVNode("path",{d:"M288 224C292.243 224 296.313 222.314 299.314 219.314C302.314 216.313 304 212.243 304 208V200C304 197.878 304.843 195.843 306.343 194.343C307.843 192.843 309.878 192 312 192C314.122 192 316.157 192.843 317.657 194.343C319.157 195.843 320 197.878 320 200V208C320 212.243 321.686 216.313 324.686 219.314C327.687 222.314 331.757 224 336 224C340.243 224 344.313 222.314 347.314 219.314C350.314 216.313 352 212.243 352 208V200C352 189.391 347.786 179.217 340.284 171.716C332.783 164.214 322.609 160 312 160C301.391 160 291.217 164.214 283.716 171.716C276.214 179.217 272 189.391 272 200V208C272 212.243 273.686 216.313 276.686 219.314C279.687 222.314 283.757 224 288 224Z"},null,-1)],wae={__name:"EmojiSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},_ae,8,vae))}},xae=["width","height"],Aae=[c.createElementVNode("g",{"clip-path":"url(#clip0_4129_855)"},[c.createElementVNode("path",{d:"M87.6177 316.621L87.6236 316.615L352.802 48.4514C352.803 48.4503 352.804 48.4493 352.805 48.4482C374.902 26.3552 413.467 26.3563 435.561 48.4514L436.622 47.3907L435.561 48.4514C458.376 71.2656 458.376 108.383 435.561 131.197L435.555 131.203L180.985 388.774C180.984 388.775 180.983 388.776 180.982 388.777C173.07 396.686 159.194 396.685 151.282 388.774C143.091 380.584 143.091 367.247 151.282 359.055L151.288 359.049L395.235 112.102C395.236 112.101 395.237 112.1 395.238 112.099C398.132 109.202 399.469 104.729 399.469 100.434C399.469 96.1361 398.131 91.6612 395.235 88.7642L394.174 89.8248L395.235 88.7641C388.788 82.3173 378.343 82.3173 371.896 88.7641L371.89 88.7706L127.944 335.718C127.943 335.719 127.942 335.721 127.94 335.722C106.874 356.793 106.875 391.044 127.944 412.112C148.37 432.538 183.929 432.508 204.324 412.112L204.33 412.106L458.9 154.536C458.901 154.535 458.902 154.534 458.903 154.533C494.311 119.121 494.31 60.5257 458.9 25.1141L457.839 26.1747L458.9 25.1141C441.6 7.81479 418.608 -1.50024 394.175 -1.50024C369.742 -1.50024 346.747 7.81473 329.463 25.1135L329.457 25.119L64.2793 293.284C13.9626 343.601 13.9625 425.447 64.2783 475.762C114.595 526.079 196.455 526.079 246.772 475.762L436.683 285.852C443.129 279.406 443.129 268.961 436.683 262.514C430.236 256.067 419.791 256.067 413.344 262.514L223.435 452.424C223.435 452.424 223.434 452.424 223.434 452.424C187.155 488.674 123.897 488.674 87.6177 452.424C50.1805 414.987 50.1805 354.059 87.6177 316.621Z","stroke-width":"3"})],-1)],Tae={__name:"FileSvg",props:{width:{type:[Number,String],default:20},height:{type:[Number,String],default:20}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Aae,8,xae))}},Cae=["width","height"],Eae=[c.createElementVNode("g",null,[c.createElementVNode("g",null,[c.createElementVNode("path",{d:"m256 439.98c-13.81 0-25-11.19-25-25v-317.96c0-13.81 11.19-25 25-25s25 11.19 25 25v317.96c0 13.81-11.19 25-25 25z"})]),c.createElementVNode("g",null,[c.createElementVNode("path",{d:"m414.98 281h-317.96c-13.81 0-25-11.19-25-25s11.19-25 25-25h317.96c13.81 0 25 11.19 25 25s-11.19 25-25 25z"})])],-1)],Sae={__name:"AddSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,"enable-background":"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Eae,8,Cae))}},kae=["width","height"],Iae=[c.createElementVNode("path",{d:"M255.999 0C153.754 0 70.572 83.182 70.572 185.426C70.572 312.314 236.511 498.593 243.576 506.461C250.212 513.852 261.798 513.839 268.422 506.461C275.487 498.593 441.426 312.314 441.426 185.426C441.424 83.182 358.243 0 255.999 0ZM255.999 469.729C200.152 403.391 103.964 272.512 103.964 185.428C103.964 101.594 172.166 33.392 255.999 33.392C339.832 33.392 408.034 101.594 408.034 185.427C408.033 272.515 311.86 403.37 255.999 469.729Z"},null,-1),c.createElementVNode("path",{d:"M255.999 92.1338C204.557 92.1338 162.707 133.985 162.707 185.427C162.707 236.869 204.558 278.72 255.999 278.72C307.44 278.72 349.29 236.869 349.29 185.427C349.29 133.985 307.44 92.1338 255.999 92.1338ZM255.999 245.328C222.969 245.328 196.099 218.457 196.099 185.427C196.099 152.397 222.97 125.526 255.999 125.526C289.028 125.526 315.899 152.397 315.899 185.427C315.899 218.457 289.028 245.328 255.999 245.328Z"},null,-1)],Dae={__name:"LocationSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Iae,8,kae))}},Mae=["width","height"],Nae=[c.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M223.999 48C188.653 48 159.999 76.6538 159.999 112V192V272C159.999 307.346 188.653 336 223.999 336H255.999H287.999C323.345 336 351.999 307.346 351.999 272V192V112C351.999 76.6538 323.345 48 287.999 48H255.999H223.999ZM191.999 112C191.999 94.3272 206.326 80 223.999 80H255.999H287.999C305.672 80 319.999 94.3272 319.999 112V192V272C319.999 289.673 305.672 304 287.999 304H255.999H223.999C206.326 304 191.999 289.673 191.999 272V192V112ZM127.999 224C127.999 215.163 120.836 208 111.999 208C103.162 208 95.999 215.163 95.999 224V272C95.999 342.693 153.306 400 223.999 400H239.999V464H191.999C183.162 464 175.999 471.163 175.999 480C175.999 488.837 183.162 496 191.999 496H255.999H319.999C328.836 496 335.999 488.837 335.999 480C335.999 471.163 328.836 464 319.999 464H271.999V400H287.999C358.692 400 415.999 342.693 415.999 272V224C415.999 215.163 408.836 208 399.999 208C391.162 208 383.999 215.163 383.999 224V272C383.999 325.019 341.018 368 287.999 368H255.999H223.999C170.98 368 127.999 325.019 127.999 272V224Z"},null,-1)],Oae={__name:"RecordSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Nae,8,Mae))}},_D=t=>(c.pushScopeId("data-v-6100a60a"),t=t(),c.popScopeId(),t),Lae={key:2,class:"relative h-10 w-10"},Bae={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100"},Rae=_D(()=>c.createElementVNode("div",{class:"flex-grow"},null,-1)),Pae={key:0,slot:"header",class:"flex h-12 w-full items-center justify-center"},Fae=[_D(()=>c.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],Uae={class:"relative flex items-end justify-center gap-3 p-2 pl-3"},jae={key:2,class:"absolute bottom-16 left-2 z-10 flex items-stretch gap-1 rounded-lg bg-white p-1.5 text-gray-900 shadow-md dark:bg-zinc-800 dark:text-gray-100"},$ae={class:"text-xs"},zae={class:"whitespace-nowrap text-xs"},Vae={key:4,class:"relative flex grow flex-col items-stretch rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Hae={key:0,class:"absolute left-[50%] top-[-40px] flex translate-x-[-50%] gap-5"},qae=["onClick"],Wae={class:"flex items-center gap-3 bg-gray-100 dark:bg-zinc-700"},Gae={class:"flex w-0 min-w-0 grow flex-col items-stretch justify-center gap-3"},Qae=["placeholder"],Yae={key:0,class:"flex gap-3"},Kae=["src"],Xae=["onClick"],Jae=wi(c.defineComponent({__name:"ChatRoom",emits:["send"],setup(t,{emit:e}){const r=e,n=Rt(),{open:i}=bo({component:vX}),o=c.computed(()=>n.state.imkit.rooms[n.state.imkit.selectedRoomId]),s=c.computed(()=>n.state.imkit.selectedRoomId),a=c.computed(()=>!!n.state.imkit.isRequesting[`/rooms/${n.state.imkit.selectedRoomId}/messages`]),l=c.computed(()=>{var we;const ce=Object.keys(n.state.imkit.isTyping).map(oe=>new ir({_id:oe,messageType:"typing",sender:{_id:oe}}));return((we=n.state.imkit.messageMultiList.main)==null?void 0:we.array().concat(ce))??[]}),d=c.computed(()=>PX().has("roomId")),f=c.computed(()=>l.value.at(-1)),u=c.computed(()=>n.state.imkit.isRoomInfoVisible),h=c.computed(()=>n.state.imkit.navigationTargetId),p=c.ref(null),m=c.ref(""),y=c.ref(!1),v=c.ref(!1),b=c.ref(!1),A=c.ref(!1),C=c.ref(),S=c.ref([]),M=c.ref([]),I=c.ref(!1),L=c.ref(!1),k=c.ref(),T=c.ref(pr().subtract(5,"second")),F=c.ref(!1),z=c.computed(()=>!0),P=c.computed(()=>{var ce,we;return(we=(ce=l.value[l.value.length-1])==null?void 0:ce.template)==null?void 0:we.quickReply.items}),R=c.computed(()=>n.state.imkit.replyId),$=c.computed(()=>n.state.imkit.config.settings),W=c.computed(()=>n.state.imkit.isSearchInRoomMode),B=c.computed(()=>n.state.imkit.config.styles),U=async()=>{const ce=async()=>{if(m.value){const{replyId:oe}=n.state.imkit,xe={roomId:o.value.id,messageType:"text",message:m.value.trim(),reply:oe||null};m.value="",await c.nextTick(),k.value&&(k.value.style.height="auto",k.value.style.height=Math.min(k.value.scrollHeight,64)+"px"),await n.dispatch("imkit/sendMessage",xe),n.commit("imkit/setState",{replyId:null})}},we=async()=>{if(S.value.length>0){const oe={roomId:o.value.id,messageType:"image",images:S.value,files:M.value};S.value=[],M.value=[],await n.dispatch("imkit/sendMessage",oe)}};await Promise.all([we(),ce()]),r("send")},te=async()=>{var we,oe;if(l.value.length>=n.state.imkit.numberOfTotalMessages)return;const ce=await n.dispatch("imkit/loadMessages",{roomId:o.value.id,beforeMessageId:(we=l.value[0])==null?void 0:we.id});ce&&ce.length>0&&((oe=p.value)==null||oe.scrollToIndex(ce.length))},H=async()=>{var ce;L.value=!1,n.state.imkit.messageMultiList.main!=n.state.imkit.messageMultiList.tail&&await n.dispatch("imkit/loadMessages",{roomId:o.value.id,afterMessageId:(ce=l.value[l.value.length-1])==null?void 0:ce.id})},O=ce=>{m.value+=ce.i,b.value=!1},E=()=>{var ce;(ce=C.value)==null||ce.click()},V=async ce=>{var Se;const oe=Array.from(((Se=ce==null?void 0:ce.target)==null?void 0:Se.files)||[]).filter(De=>De.size<2e7);if(oe.length===0||oe.length>10)return;const xe=oe.filter(De=>De.type.startsWith("image")),Ue=oe.filter(De=>De.type.startsWith("video")),he=oe.filter(De=>!De.type.startsWith("image")&&!De.type.startsWith("video"));if(xe.length>0){const De=await Promise.all(xe.map(Zy)),j={roomId:o.value.id,messageType:"image",images:De,files:Array.from(oe)};await n.dispatch("imkit/sendMessage",j)}if(Ue.length>0)for(const De of Ue){const j=await JK(De),{width:q,height:le,duration:Te}=j,Ne={roomId:o.value.id,messageType:"video",video:j,file:De,width:q,height:le,duration:Te};await n.dispatch("imkit/sendMessage",Ne)}if(he.length>0)for(const De of he){const j={roomId:o.value.id,messageType:"file",file:De,originalUrl:"",extra:{mimeType:De.type,fileName:De.name.split(".").slice(0,-1).join("."),bytes:De.size,fileExtension:De.name.split(".").pop()}};await n.dispatch("imkit/sendMessage",j)}C.value&&(C.value.value="")},K=async ce=>{const we=((ce==null?void 0:ce.dataTransfer)||{}).files||[];if(we.length===0||we.length>10)return;const oe=await Promise.all(Array.from(we).map(Zy)),xe={roomId:o.value.id,messageType:"image",images:oe,files:Array.from(we)};await n.dispatch("imkit/sendMessage",xe)},Y=ce=>{ce.preventDefault()},Q=async ce=>{const oe=(ce.clipboardData||{}).files;oe.length===0||oe.length>10||(ce.preventDefault(),S.value=S.value.concat(await Promise.all(Array.from(oe).map(Zy))),M.value=M.value.concat(Array.from(oe)))},ae=()=>{n.commit("imkit/setState",{selectedRoomId:""})},ie=ce=>{S.value.splice(ce,1),M.value.splice(ce,1)},me=()=>{setTimeout(()=>{y.value=!1},0)},pe=ce=>{!y.value&&ce.keyCode==13&&!ce.shiftKey&&!$.value.sendButtonEnabled&&(ce.preventDefault(),U())},fe=()=>{k.value&&(k.value.style.height="auto",k.value.style.height=Math.min(k.value.scrollHeight,64)+"px")},ve=()=>{n.commit("imkit/setState",{isSearchInRoomMode:!0})};return c.onMounted(()=>{c.watch(s,async(ce,we)=>{ce!==we&&(I.value=!1,n.commit("imkit/clearChatRoom"),Promise.all([n.dispatch("imkit/loadMessages",{roomId:ce}),n.dispatch("imkit/fetchRoom",ce)]).finally(()=>{var oe,xe;(((oe=o.value)==null?void 0:oe.numberOfUnread)??0)>0&&(n.dispatch("imkit/updateLastRead",ce),n.dispatch("imkit/insertUnreadMessage"));for(const Ue of n.state.imkit.deliveringMessages.values())Ue.roomId===ce&&n.commit("imkit/pushMessage",Ue);(xe=p.value)==null||xe.scrollToBottom(),I.value=!0}))},{immediate:!0}),c.watch([()=>l.value.length,()=>f.value],([ce],[we])=>{var oe,xe,Ue,he,Se,De;((oe=p.value)==null?void 0:oe.getOffset())!==void 0&&(ce-we>1||(((xe=p.value)==null?void 0:xe.getOffset())+((Ue=p.value)==null?void 0:Ue.getClientSize())==((he=p.value)==null?void 0:he.getScrollSize())||((Se=l.value[l.value.length-1])==null?void 0:Se.senderId)===n.state.imkit.uid?(L.value=!1,(De=p.value)==null||De.scrollToBottom()):L.value=!0))}),c.watch(h,ce=>{var oe;if(!ce)return;const we=l.value.findIndex(xe=>xe.id===ce);we!==-1&&((oe=p.value)==null||oe.scrollToIndex(we)),n.commit("imkit/setState",{navigationTargetId:""})}),c.watch(R,()=>{R.value&&(A.value=!1,setTimeout(()=>{var ce;(ce=k.value)==null||ce.focus()},0))}),c.watch(m,()=>{if(T.value.add(5,"second")>pr())return;T.value=pr();const{socket:ce,selectedRoomId:we}=n.state.imkit;ce.emit("typing",we)})}),(ce,we)=>{var oe;return o.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex h-dvh flex-col bg-white dark:bg-zinc-800",onDrop:c.withModifiers(K,["prevent"]),onDragenter:Y,onDragover:Y},[W.value?(c.openBlock(),c.createBlock(ZX,{key:0})):(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex h-[60px] items-center gap-3 border-b border-solid px-3 py-2.5 dark:border-zinc-700",style:c.normalizeStyle(B.value.chatRoomHeader)},[d.value?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock("img",{key:0,src:T2,class:"flex cursor-pointer sm:!hidden",width:"36",height:"36",onClick:ae})),o.value.avatars.length===1?(c.openBlock(),c.createBlock(zr,{key:1,url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock("div",Lae,[c.createVNode(zr,{url:o.value.avatars[1].url,name:o.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl text-sm"},null,8,["url","name"]),c.createVNode(zr,{url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white text-sm group-hover:border-gray-100"},null,8,["url","name"])])),c.createElementVNode("div",Bae,c.toDisplayString(o.value.displayName),1),Rae,$.value.showDarkModeSwitch?(c.openBlock(),c.createBlock(c.unref(mae),{key:3,round:""})):c.createCommentVNode("",!0),$.value.searchInRoomEnabled?(c.openBlock(),c.createElementBlock("img",{key:4,class:"h-6 w-6 cursor-pointer",src:Pd,onClick:ve})):c.createCommentVNode("",!0),o.value.type===c.unref(Rh).Group&&$.value.showGroupChatRoomInfoButton||o.value.type===c.unref(Rh).Direct&&$.value.showDirectChatRoomInfoButton?(c.openBlock(),c.createElementBlock("img",{key:5,src:T5,class:"h-6 w-6 cursor-pointer",onClick:we[0]||(we[0]=xe=>c.unref(n).commit("imkit/setState",{isRoomInfoVisible:!u.value}))})):c.createCommentVNode("",!0)],4)),c.createVNode(c.unref($d),{class:c.normalizeClass(["grow overflow-auto p-2",{"opacity-0":!I.value&&!a.value}]),ref_key:"vl",ref:p,"data-key":"id","data-sources":l.value,"data-component":uQ,"wrap-class":"flex flex-col","estimated-size":66,keeps:50,onTotop:te,onTobottom:H},{header:c.withCtx(()=>[a.value?(c.openBlock(),c.createElementBlock("div",Pae,Fae)):c.createCommentVNode("",!0)]),_:1},8,["class","data-sources"]),c.createElementVNode("div",Uae,[L.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"absolute -top-10 flex h-10 w-full cursor-pointer items-center bg-gray-200 bg-opacity-90 px-3 dark:bg-zinc-600",onClick:we[1]||(we[1]=(...xe)=>p.value.scrollToBottom&&p.value.scrollToBottom(...xe))},c.toDisplayString((oe=o.value.lastMessage)==null?void 0:oe.string),1)):c.createCommentVNode("",!0),$.value.locationInputEnabled||$.value.audioInputEnabled?(c.openBlock(),c.createBlock(Sae,{key:1,class:c.normalizeClass(["h-12 w-5 flex-shrink-0 transform cursor-pointer fill-slate-500 object-contain transition dark:fill-slate-400",{"rotate-45":A.value}]),onClick:we[2]||(we[2]=()=>{A.value?A.value=!1:F.value=!0})},null,8,["class"])):c.createCommentVNode("",!0),F.value?c.withDirectives((c.openBlock(),c.createElementBlock("div",jae,[$.value.locationInputEnabled?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:we[3]||(we[3]=(...xe)=>c.unref(i)&&c.unref(i)(...xe))},[c.createVNode(Dae,{class:"fill-slate-500 dark:fill-slate-400"}),c.createElementVNode("div",$ae,c.toDisplayString(ce.$t("location")),1)])):c.createCommentVNode("",!0),$.value.audioInputEnabled?(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:we[4]||(we[4]=()=>{F.value=!1,A.value=!0})},[c.createVNode(Oae,{class:"fill-slate-500 dark:fill-slate-400"}),c.createElementVNode("div",zae,c.toDisplayString(ce.$t("audio")),1)])):c.createCommentVNode("",!0)])),[[c.unref(ad),()=>{F.value=!1}]]):c.createCommentVNode("",!0),$.value.audioInputEnabled&&A.value?(c.openBlock(),c.createBlock(RX,{key:3})):(c.openBlock(),c.createElementBlock("div",Vae,[c.createVNode(lX),z.value?(c.openBlock(),c.createElementBlock("div",Hae,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(P.value,(xe,Ue)=>(c.openBlock(),c.createElementBlock("div",{key:Ue,class:"cursor-pointer rounded-full bg-gray-100 px-2 py-1 text-center text-xs dark:bg-zinc-700",onClick:he=>c.unref(so)({type:xe.action.type,roomId:s.value,message:xe.action.label})},c.toDisplayString(xe.action.label),9,qae))),128))])):c.createCommentVNode("",!0),c.createElementVNode("div",Wae,[c.createElementVNode("div",Gae,[c.withDirectives(c.createElementVNode("textarea",{ref_key:"input",ref:k,type:"text",rows:"1",class:"resize-none bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:ce.$t("TypeMessage"),"onUpdate:modelValue":we[5]||(we[5]=xe=>m.value=xe),onCompositionstart:we[6]||(we[6]=xe=>y.value=!0),onCompositionend:me,onKeydown:c.withKeys(pe,["enter"]),onInput:fe,onPaste:Q},null,40,Qae),[[c.vModelText,m.value]]),S.value.length>0?(c.openBlock(),c.createElementBlock("div",Yae,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(S.value,(xe,Ue)=>(c.openBlock(),c.createElementBlock("div",{key:`${xe.id}-${Ue}`,class:"group relative h-12 w-12"},[c.createElementVNode("img",{src:xe.thumbnailUrl,class:"absolute bottom-0 left-0 h-full w-full rounded-lg bg-gray-200 object-cover dark:bg-zinc-600"},null,8,Kae),c.createElementVNode("img",{src:C5,class:"absolute -right-2 -top-2 hidden h-5 w-5 cursor-pointer group-hover:block",onClick:he=>ie(Ue)},null,8,Xae)]))),128))])):c.createCommentVNode("",!0)]),$.value.stickerInputEnabled?(c.openBlock(),c.createElementBlock("button",{key:0,class:"flex-shrink-0",onClick:we[7]||(we[7]=xe=>v.value=!0)},[c.createVNode(bae,{class:"fill-slate-500 dark:fill-slate-400"})])):c.createCommentVNode("",!0),$.value.emojiInputEnabled?(c.openBlock(),c.createElementBlock("button",{key:1,class:"flex-shrink-0",onClick:we[8]||(we[8]=xe=>b.value=!0)},[c.createVNode(wae,{class:"fill-slate-500 dark:fill-slate-400"})])):c.createCommentVNode("",!0),$.value.fileInputEnabled?(c.openBlock(),c.createElementBlock("button",{key:2,class:"flex-shrink-0",onClick:E},[c.createVNode(Tae,{class:"fill-slate-500 dark:fill-slate-400"}),c.createElementVNode("input",{ref_key:"fileInput",ref:C,type:"file",multiple:"true",onChange:V,class:"hidden"},null,544)])):c.createCommentVNode("",!0)]),$.value.stickerInputEnabled&&v.value?c.withDirectives((c.openBlock(),c.createBlock(gQ,{key:1,onClose:we[9]||(we[9]=()=>{v.value=!1})},null,512)),[[c.unref(ad),()=>{v.value=!1}]]):c.createCommentVNode("",!0)])),$.value.emojiInputEnabled&&b.value?c.withDirectives((c.openBlock(),c.createBlock(c.unref(PK),{key:5,class:"absolute bottom-16 right-2.5 overflow-auto",native:!0,onSelect:O},null,512)),[[c.unref(ad),()=>{b.value=!1}]]):c.createCommentVNode("",!0),A.value?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock(c.Fragment,{key:6},[m.value.length>0?(c.openBlock(),c.createElementBlock("img",{key:0,class:c.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-pointer",{"sm:hidden":!$.value.sendButtonEnabled}]),src:C2,onClick:U},null,2)):(c.openBlock(),c.createElementBlock("img",{key:1,class:c.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-not-allowed",{"sm:hidden":!$.value.sendButtonEnabled}]),src:E2},null,2))],64))])],32)):c.createCommentVNode("",!0)}}}),[["__scopeId","data-v-6100a60a"]]);var wD={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bt,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var s=i.prototype,a=s.format;o.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(u,h){return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,y){var v=y&&y.toUpperCase();return m||h[y]||r[y]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,A,C){return A||C.slice(1)})})}(l,d===void 0?{}:d);return a.call(this,f)}}})})(wD);var Zae=wD.exports;const Mb=Jr(Zae),ele={class:"flex flex-col divide-y bg-white dark:divide-zinc-700 dark:bg-zinc-800"},tle={class:"flex h-[60px] items-center gap-4 px-3"},rle={class:"relative h-[50px] w-[50px]"},nle={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-200"},ile={class:"flex flex-col gap-4 overflow-auto p-2"},ole={class:"mb-2 text-base text-gray-500 dark:text-gray-300"},sle={class:"flex flex-col gap-3"},ale={class:"relative h-[50px] w-[50px]"},lle={class:"flex flex-col overflow-hidden overflow-ellipsis whitespace-nowrap text-base"},cle={class:"text-base text-gray-900 dark:text-gray-100"},ule={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},dle={class:"text-gray-500 dark:text-gray-300"},fle={class:"text-gray-500 dark:text-gray-300"},hle=["src"],ple=c.defineComponent({__name:"ChatRoomInfo",setup(t){pr.extend(Mb);const e=Rt(),r=c.computed(()=>e.state.imkit.rooms[e.state.imkit.selectedRoomId]),n=c.computed(()=>e.state.imkit.users),i=c.computed(()=>e.state.imkit.uid),o=c.computed(()=>e.state.imkit.config.settings),s=c.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl),a=c.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl+`?roomId=${e.state.imkit.selectedRoomId}`),l=()=>{e.commit("imkit/setState",{isRoomInfoVisible:!1})};return(d,f)=>(c.openBlock(),c.createElementBlock("div",ele,[c.createElementVNode("div",tle,[c.createElementVNode("img",{src:T2,class:"cursor-pointer sm:hidden",width:"36",height:"36",onClick:l}),c.createElementVNode("div",rle,[r.value.avatars.length===1?(c.openBlock(),c.createBlock(zr,{key:0,url:r.value.avatars[0].url,name:r.value.avatars[0].name,class:"relative"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[c.createVNode(zr,{url:r.value.avatars[1].url,name:r.value.avatars[1].name,class:"absolute right-0 top-0 h-9 w-9 text-base"},null,8,["url","name"]),c.createVNode(zr,{url:r.value.avatars[0].url,name:r.value.avatars[0].name,class:"absolute bottom-0 left-0 h-[38px] w-[38px] border-2 border-white text-base group-hover:border-gray-100"},null,8,["url","name"])],64))]),c.createElementVNode("div",nle,c.toDisplayString(r.value.displayName),1)]),c.createElementVNode("div",ile,[c.createElementVNode("div",null,[c.createElementVNode("div",ole,c.toDisplayString(d.$t("members")),1),c.createElementVNode("div",sle,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(r.value.memberIds,u=>(c.openBlock(),c.createElementBlock("div",{key:u,class:"flex items-center gap-4"},[c.createElementVNode("div",ale,[c.createVNode(zr,{url:n.value[u].avatarUrl??"",name:n.value[u].nickname,class:"relative h-[50px] w-[50px] text-lg"},null,8,["url","name"])]),c.createElementVNode("div",lle,[c.createElementVNode("div",cle,c.toDisplayString(n.value[u].nickname),1),n.value[u].city&&n.value[u].country?(c.openBlock(),c.createElementBlock("div",ule,c.toDisplayString(n.value[u].city)+", "+c.toDisplayString(n.value[u].country),1)):c.createCommentVNode("",!0)])]))),128))])]),c.createElementVNode("div",null,[c.createElementVNode("div",dle,c.toDisplayString(d.$t("createdAt"))+" "+c.toDisplayString(c.unref(pr)(r.value.createdAt).format("lll")),1),c.createElementVNode("div",fle,c.toDisplayString(d.$t("updatedAt"))+" "+c.toDisplayString(c.unref(pr)(r.value.updatedAt).format("lll")),1)]),r.value.type===c.unref(Rh).Group&&o.value.showLeaveRoomButton?(c.openBlock(),c.createElementBlock("button",{key:0,class:"w-full rounded-lg border p-2 text-gray-500 dark:text-gray-300",onClick:f[0]||(f[0]=u=>c.unref(e).dispatch("imkit/removeMembers",{roomId:r.value.id,uids:[i.value]}))},c.toDisplayString(d.$t("leaveGroup")),1)):c.createCommentVNode("",!0),s.value?(c.openBlock(),c.createElementBlock("iframe",{key:1,src:a.value,frameborder:"0"},null,8,hle)):c.createCommentVNode("",!0)])]))}}),mle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGklEQVR4nO2ca4hbVRDHz64rWuoLfNTWZCZd496ZVHbRbGZuVksQQRfEgh+sIvWTVPCLYhE/rfih+KIIVkRRKmgtgoqKVqwfRBRFxEJ9oKJQtfVVrM8WrA9cV84mWeM2ySYn99zN5uYPh4Vlyf753Zk5jzk3xvTVV19NlM1OHoe5wpnGmMFmf5dEDQDLrcByGFlnkHX3itHR5YttqmuEpNsqYGqG3L3YvrpCSHLz0XBmAX2T+FTLrJExIP2zPiCdQSoUTZILMrB80BAO60ya9SaTVCHpPc3glCNIt5kkKs2yFln+bgHQuyZpGh4tnmEL8IJwWGeA9ZBJlq48BklfbQVOdZyeK51gEqKB+uud5iOVC7MmCULSLe3CKc9kstb0flrJVhc4ZUDhetOrCoKJE5H1JVc4lUJ9o+lFIUmIpB91AmcWEOltppc0PJw/uZxSLaxzWho9smldMTq63G48gfRANGDmxgNmKQsoPB9J7keSnyIGU61Bj5mlpFQuzGJQuAZIHwLS/T6g/G+QPhOV9wH7NDOsVwHp9S4DuXhe9cPSQXg5kN4BJA8Cy7NA+l7NiV9sA0h2dQpmEFlvQNKvIwjnqeqHIsmOuGHUjyB505lMKhUuQ9adEeb7VNcBYt3tDAhYn4w0nLn7ANnUdoKDuXAycjPcfYCQ5UM3QB0u4XGpACL92IXPALIcSQIgYP2stua21OlYOZI/zZOZqW4DhCR7q55gJLwASPbYn00BnZWVVFIAAcuX/3kqFCu/+yMTFC7tA+LZWeyrKogMq9Y8zEPpYGJV4iMIWb+rQlidC2VedN2beEBA8n0VQjoojM9Lwc/7gFgOzhVp0vw8QP+YUmko2UWa9ECjFEPWaXvmnWhAWL7lcVSRLsOTT+qmGI6NnZLEWQwr03wNoNsbTvU+TvCgy9dBEBQnauDsy2blpMaAWB9P2ko6ndMLK1G1H84ZHzbNlKLxc6PrHOiS2IvNFmnSLauocGpTOHMhxzrV84CoQSFuUQO2UNn1APYoINt8NJ3KrjCB9PlOj0C6EZC9pmeivPeXXjNxtl1xuo38ytoal87pOmC5Fkk32Qae7TB4aAz6O5NeLA3n8gCsG5DkKbur9hpBpG+YpaxUKlxmowxY3/aTYvpKpIYzJJcgyc8uo+nKtAUBFy4GknciBvRcdHRMpVdG+puTIZKtEVgYBNKNwPprJJBIdpiohSQvOBp6ODIPgWaiiSZ5xEQtYLnO7Wnp9ih9lDu/8mKHEXSf8THLoBugpyM3UyoNAemjHdSgO40PAck+B0M7PV4B3u740DZ5cYQkTzjk+1tezBhj8vn8scD6mkMEbfBiCEg3Opj51HiU3YUj6xdt+cqFk17M4EiRHEL6R+NZtivazjGN3QL58jLosBaZtqlgPAtJNrfqyU443oyAQ86vpsKI8a3yzPZ+C9Hzl9cHhg7vR9i7iSYGVc6Xp30eli0oJL26/ULdoJ3rQfaCaKz7sLpXdtsH9DsGcpGJ61Y+y7cN/ZBs9u1hAEh/cYB0OBOMByYGAclljY6MY3kVCtt8w68m//fE9d663U7UeUgH67aVF+XtYm5QsHO6zsSjwYrPuaJtN9yx/Oc0h+tdAcX9WnaGi4hUuML24GP7pxhoxhUQsLxukiAk2etYh142yf4CEV0ogu4ySVDeHjWQ7GoT0A8NL0n2pEqlIWC5xV4GaA5GjtgubSx7sm4VYul4O2PYKyS1o/z1WDGsPfrqy3Sj/gV9hWpJG54kuwAAAABJRU5ErkJggg==",xD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEJ0lEQVR4nO2bS4wbRRCGew3hJSQEKELZeKqdxcFVYyKQBldNlpX2BlwCOYQrF5QDSsIjVxRtlAiExOPChTPixhkkOAQukAVlw0uC5cBTKDxyIomWiEeM2rEQbNzttteemV76l/rmnun+XF011dWtVFRUVFRUVFRUVFRUVFTl1Gw+cC2k+SFAXtYoFzRJdwPtL038g0Z5tdHmu1Toqu/MtwPKxxuEYmn8p0Y5rIK2HJwWnP+0oypEAcnjBcAJFxIgf1AgoC4Qv6jUw1epUKSRzxcJqA/pkwT5ke1NrlceVtFwdFEN5QKQnATkg2maXhMBkcNikU8nrfnZaEHksipeGcuSSl8KVKDvQz4QAZEDEMnJCIhcjpvPR0DkXmYREEVA3Y046mhBFAF1owXR9L6F4hKjCKgbLYjiEuuWlY9FH0QRUDdaELkycr4IJCcA5Ygm3qvbQrBr4eYsy7aYCk2zubA1oU4bUt6niY9p4vd6paf/wRI7BSj75+aym0ad4yx2bu0XRT/fhIB4pYF8n5qMZjYRIF4zNbvSqx7lg5ArGpCs1lv5LlUFlQ1Dr28oHxpHq6qiSlkO8vLWdPFGr3Gnnbs1ydOA/AagfKRJzgDKj6YoCchvAvISoGRj+Z0qAgKSVRNtnINdXLwaiB/VJF/7Q5fvNclj5jMgYEC8NsznNFqd+w3EDbznq6SV7wkSEPSilVUzGvm4Jrk0gXddAuIXlFK1gADxiiOUzwDKKxN/J/Jr3pDKBtRwfAT2LWdaVvtSCIBOuXyO17JC/sPkZeYoDWC2zRz3A+LfPK13b6UBAcp+e7SSL8c9tZaQPOFnRfyNSXArCQiIL9oSTwPO9zlJe/729f3raX6Lr1MfEiDKBCQnLEOaAeRvfZ9Tr+fXD54Xr3k+44wz3ysNEMoRi/VkozxnAoC60No9XzlASSoPWsZztHBAKM9YAQHxuVIgtYUGj0feGhatrJOxzXFIdAPidxydebkMQLa8SxN/Oq0z1rboZiKmC9DBMgDZzgsC8S++0WpU2aIbkPxq7WQGCsiniwa0LctuGDQeTXJ24L+885656QHic86OSWt+tmhIc2kGFkCfDQSEvDStaxfOJbbOkg4AyftFnL7vb2YNAMRvW37/u9kgMzeTRgWz4065TSM/5XDS76pQpHu1rILDPMmzKhTtSHMuHNAd+b0qINV6txULAgTIP5VeWhpVxhd6//sDotsoyapGflKFpizLtpg9ZE8LWBr3kiCgfKf14nUqRCWtfI+PFfw7ug2LVlf0TXmfClka5flRHPaI7WW1CVQzV8snDgfl9eAcs0M1U6qZUNmnbzmbB84/ahA/ZPaQxwVjKqzB+xyvdCjND5ltUn8w/LNx3MFGKzWeaho7u02KYDa7gPiL3sbf5Yu8qya30sTPJaks+C6nvwHqSkKcY2gfKAAAAABJRU5ErkJggg==",gle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAbUExURUdwTP///////////////////////////////xb9HQ4AAAAIdFJOUwCAvz5nE+qvkBVomAAAAT1JREFUWMPtl70LwjAQxatWXP0aHHUQOlZxcFRcHIuIriIOHV0ER6ui+bMl2ErvcmlCEKQxb+tLf5RqLu/V85yc7NKkBRS+3docuB1MrRjUM+JuPUD2CWFntM763G1g9wqpGl5nN25PBTsEWEVYv3O7J9gzBZbQWLOk2CD7V4M8ds3ctgT7WL08ltD3OMxhDvsFZjjdlh54Po0tFZhh4ng4/9iRu1XsPlEsbnH+vdMUp+UQp/AIhHQ3y26Y6AvXcayuaqnW3Yim6KqWzUfMDjRGV7VUU3HrFw5Objz6FCapaqn49U4PSxB2KTcmHuZamBgdVmPjGJ6eoRbmF205ObbB2CPSwZY6Xx105Ctj8WtPM3w3w1/SG0NqH/7ZVjacbksPPL8Qi2WYYeJIqpoq3yRVTZmmkqqmym4np5LrBeYgWB5+6q94AAAAAElFTkSuQmCC",yle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQUlEQVR4nO2bu2sUURSHz4CISlR8pNi4e24S151zx0ez2XMmD1gROxEVEcRHIYJYCPaCna9CBBULK/uUAUX0D1Ax4gpa2EUbg6CkMaiIyjWKSdjsIzs7z/vBVFvsnW9/587cc+8CWCwWi8ViscQL5cpu1PJQaZ5Ad3gk6vHEijwN7VCaZ5WWX+ZCkm/9mg9EPa54UK2uUFqe/5MzT9J3pfkgZB0kvrRYjpX0FyQpzyWlvqBMJ0mp6ipF8rqRnExLUsS3WpGTSUno8R6l5Wc7gjIjqVjkdUg81a6cBZKocgjSCmq+t1w5qZdUcP39ncpJraRcqbwZST4EJSh1khTJeJByUiUJtZzohpxUSCq4I32K+FM3BSVZkjPXwuiunPmSsOSPQlLALpdW/YsnICkMDpbXI/HTMAUh8QNIEoOhSuLZfvKrod6g646sNd29gpbzqPmq0nIbSS6i5tMDJdkVF0mo+VWr4wkCxywKleZHpv3ZJNJTqOUGUjkXjST+gVqueJ63MhQzWPJHkfhZ2wMl+aI0X8uVy2vCkoRa3iqqDIcixoAkZ5p1+JpPklLr18MKGknS8qRDOaZVcrfXq/ZAWKArhwP7ZYmnTTu1G0lCkveo/b0QAU67Xb4m8Z8Z8Hxu2BdqN0kk43nP3wgR4sRREmr+GKdlhBMnSUh8v9kTMpOSUMuMeWhAjHEik0T8eOv2oQIkAAc13wlKkiL+3PTppvmk+V5IEE6YkpKKY9ZggZUb8XRSSihCSfKy0bIkqThBlptZZEIKcYJLEs/mt/lbIG0Ui2O9ZrINJkV8HdIE7hzboLRMBjgXvYO0gAHL+XeZM4qQkq3jWt2b7LTcPDkFaU0OktT+zEkdTdx8AdKYHCSpmc87fgUgvglpTE7uv5yOXgGQ5DJkQM6yJSHxOUhpWS1FW+WGxPsgA8lZVj8JNX8NdXciJnJalpSYvXQMXk5Lksy5RciwnIaSzA5u7LuHfVTZ1OGE3CoLJu65E2HsQ8aT0yBJlbMQZ/rCS85iHLPNDXEmn/dXK80vIpCTDBTJ0aXkmGRB1kHPP27lNKDXq/YokjfzJE3a5NST5FaOocdHzL//uhpZi8VisVgsFosFYs5vllNJQwrDPNkAAAAASUVORK5CYII=",ble="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVR4nO3WPQrCMBiA4W+yh/BcniABFyNIsrsnOPRS/kz1KlJ35SsdOkhtRaGp7wOB0pZ3CGlSEQAAAAAAAAAAJsC5sjA+bU2IZxviXUd77fTZrHrr3WFpQ7zakB6vhvGp0ndm0XOuLPpi3eiQmZx6T3SZvIt1opvce2J9ugwOhnjKvScmxHpEsM69J2OCNsRb7j35uyVtQ3Tf3BSm3pP2QK8GxKrVfr/IvdfQQ7sv+smPwpR7DZ0dXRL6HehG0WwWPh313uCZy6gHAAAAAAAAAID8wBNoenSqsgBAfQAAAABJRU5ErkJggg==",vle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJklEQVR4nO2bu04bQRSG13kBJJQUCDPHcgye43SYnLMFr4HyCkiAKKDlJkGTtKFIHyoq8g5AmvAAQJHkDQINIKFFayMhEDu+7FqOZ/5POt1OMZ/O/Ls7OxtFAAAAAAAAAAAA8Ihqo2kMy7ph2SfWbyNVVr8Qf1ycrEl5IHKmWFeN1VtiTUa87g3rQa02/64wORXWT//BxJIiy1j9S3WtFCKIrFwOe0I0EElyXq02x/LJqWtl2BOhQZbVw1yCjI1nhz4JHngnLecQpE3vBbHcpPOEIHYtNbnsK49C6CDKk0dBCeI+8ig4QdxjHoUmiHrNoyAFcUvSURRFJQjinHkUbAdx633tjqzEEMTOLvpdbsTj6CB2dZP8yMyjkJcYPe+kpcAEybGxstUq1pOO11u5fnU30kdBxurGiyVTSkV1MW4vAEFynJEnJcN66hYkZ94LMlY2s+5IxLrtHMtyFYKgrf4F6T//BbGeZCyxN8bKT/d4+eW9IHrqomchTaw7XYzbDUIQtTvp9PHOtd25c9q3+fJ0PBmMIOpVaHgPitpD4VUjcXQOXlYpUw62O5IOuYMNM8oShC1XdcnBpj1lLSt89tH8uRPsc5DFp+ekkNwJrYNMvuMvOEDlBEfwuoCsXHi5tGwBhzhTTEMW/JOjfwo7BtyWFK+kYTbsiRVQ92Tl+8RM821UNO8/zE1RXdeI9esI/orwOf0V4dVdQQAAAAAAAAAAAET+8gBbyTNTzlJ3OgAAAABJRU5ErkJggg==",_le="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.24%20351.289L160.854%20373.618L50.9156%20483.413C50.9156%20483.413%2041%20494%2029.5%20483C18%20472%2028.4445%20461.084%2028.4445%20461.084L138.24%20351.289Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M329.102%20372.196C330.43%20377.518%20330.356%20383.094%20328.885%20388.378C327.414%20393.663%20324.598%20398.476%20320.711%20402.347L278.044%20445.013L66.56%20234.667L109.227%20191.289C113.128%20187.45%20117.948%20184.677%20123.226%20183.232C128.505%20181.788%20134.066%20181.722%20139.378%20183.04L219.022%20202.951L299.378%20122.738L388.978%20212.48L308.764%20292.551C308.764%20292.551%20322.133%20344.178%20329.102%20372.196Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M483.556%20171.947C483.556%20171.947%20472.32%20183.04%20461.227%20194.276C455.618%20199.804%20448.183%20203.091%20440.32%20203.52C435.912%20203.734%20431.509%20203.022%20427.394%20201.43C423.278%20199.838%20419.542%20197.401%20416.427%20194.276L317.724%2095.7156C313.909%2091.946%20311.133%2087.2553%20309.662%2082.0976C308.192%2076.9399%20308.079%2071.49%20309.333%2066.2756C310.582%2060.4502%20313.497%2055.1136%20317.724%2050.9156C328.818%2039.68%20340.053%2028.4445%20340.053%2028.4445L483.556%20171.947Z'%20fill='black'/%3e%3cg%20clip-path='url(%23clip0_4859_1096)'%3e%3cpath%20d='M463.188%20394.812L378.812%20479.188'%20stroke='black'%20stroke-width='30'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M463.188%20479.188L378.812%20394.812'%20stroke='black'%20stroke-width='30'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_4859_1096'%3e%3crect%20width='150'%20height='150'%20fill='white'%20transform='translate(346%20362)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",wle="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.24%20351.289L160.853%20373.618L50.9156%20483.413C50.9156%20483.413%2041%20494%2029.5%20483C18%20472%2028.4445%20461.084%2028.4445%20461.084L138.24%20351.289Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M329.102%20372.196C330.43%20377.518%20330.356%20383.094%20328.885%20388.378C327.414%20393.663%20324.598%20398.476%20320.711%20402.347L278.044%20445.013L66.56%20234.667L109.227%20191.289C113.128%20187.45%20117.948%20184.677%20123.226%20183.232C128.505%20181.788%20134.066%20181.722%20139.378%20183.04L219.022%20202.951L299.378%20122.738L388.978%20212.48L308.764%20292.551C308.764%20292.551%20322.133%20344.178%20329.102%20372.196Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M483.556%20171.947C483.556%20171.947%20472.32%20183.04%20461.227%20194.276C455.618%20199.804%20448.183%20203.091%20440.32%20203.52C435.912%20203.734%20431.509%20203.022%20427.394%20201.43C423.278%20199.838%20419.542%20197.401%20416.427%20194.276L317.724%2095.7156C313.909%2091.946%20311.133%2087.2553%20309.662%2082.0976C308.192%2076.9399%20308.079%2071.49%20309.333%2066.2756C310.582%2060.4502%20313.497%2055.1136%20317.724%2050.9156C328.818%2039.68%20340.053%2028.4445%20340.053%2028.4445L483.556%20171.947Z'%20fill='black'/%3e%3c/svg%3e",xle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO2bz2sUSRTHe6K7/jgIiyxozFQFHZ33OojoOO+NUchRA7q7Fw9ehM0ejR7iwt7UgwcNCOqfkL/Do7/BX+BlYTHir+hZYY3rzsjrnsiYVFfPD2e6OtQXGoaZ7p6qT7/36tWr6iDw8vLy8vLy8vLy8vLyck6l0pF1KqydVkB3NfAHjdzo4fhfI73SwHOjY7QnyLtGdta2KeDHPUJJOOizBp4Jcm050C843xwXgjxKIZ8ZAJz8QlJA9wYIqKGQrgTB8TVBXqSB3g8SUBPSkyLQyW0lGnEe1qDh6EEdwB8U8h0FNB2G4Y8eEFosFuhhsTw+7C0IbVZFD7qypMxdAQcY+4BOeUBoAYR8xwNCW+Cm9x4Q2t3MA0IPqNFLoPYWhB5Qw1sQ9i8X8i6GHlDDWxB6F2tkNR/zMQg9oIa3ILSVLHhRA99QQOeL5doxPcaodh/6KZiYWDsyUtsgZVxZi9NAJzTQ1Xidj/5b9S6mgB4qpD8iGJ32MaxuUcB/KeS/Vx0gBfx4tFw9HHwfFVYNIIX0rzz1zFc9HLWaFwq4ErigrGHo5Qfw/WGobg5ckVuWQ3dLJdqU1uZKpfKDgupRDXRNId9WQO8U8Kf4oHfynQaeVbtqB4MgGFodgID+KZUO/Zy20UKX+axA6MBdF+QauTa3gBTSR40H9trbSb8poOc9WOfzUaRf8wroT0sTC7IrRCPXv8N/1SXB7Gi4zxqOBn4qMSURDvBcH/5zrm1IWQMqhvyLpW0X+ma1QOecB6SQniQ9SYk5JreSeCXTjmgPZLqlvGxOUT4afq/bHo4bgICmjW3SE+vNAZluyn7KFohTps7H39HU0nkygZVrDefNp45u2QGiz0kJoQzLpk63wmlp/2QrpObnyeXnCSSjJaVtMM0Q0M3kJHBlniOuYulDBCkJzpIU8KOV9+UFazKZoXtdNHeiejQB6KuUBz1pg9NMF94Y21I+MO4eoJCOG9sDdN1idV/jSqeSWlLifYFnndrEqSMLqu0zd4RvJ1/Di1JF7BSO1JOkfNKpu8cNkpIkDh7Q9rCiEtpjnWelxZm0IG4GT29tgKazALS1Utlobg8vplpfm5DagbN0v8SbyMZGFSVeHlCiiuXx4UFDyo2LLbOkU3Gxqf+BO6mkag3SHcJpH5IlSLsmDTyb2JGQf+/6vkhTXQ3zrkntqh3sU6IokF53nCg6qKGoTLrSJR9lMtVwURp4xhR/4reDupus7hjbXzSmEHl8G7Ikb0EizZuCaQukQrQU3Ua5Q+BopFsG93rWdTE/a0mB3VgwA16MXcUcT5YBfS3nJiSf9W6mLU7JiZKr4ypkXrTPgQqyiSF+F79nOHWNdCl3o1Y7kgK7OXC36VJI87mPOWmKlp6BZ0x5UnKs4QW5JrejVdCdhiT7jacldEsmm9HoFi8JvY1WMIAvNzPkttzpCzIGFAwMLQUoAAAAAElFTkSuQmCC";var AD={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bt,function(){return function(r,n,i){n.prototype.isYesterday=function(){var o="YYYY-MM-DD",s=i().subtract(1,"day");return this.format(o)===s.format(o)}}})})(AD);var Ale=AD.exports;const Tle=Jr(Ale),TD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UQU7CUBSF4bcQGbsVYeAajO90A9wHa5B32YhO3BEkRgYkxggbgDTRxBGa0Nse5XzJnXXQk79pSiIicsGa6fIW5hsUP5w88037bPrrcqnbH8d+XvtsYpFni0k2X//25fu69p0a83Hng1Hqy9DjTnwZrxp8rsZ8nEtdEdZd5VJvzh4oIv8TCH5U30+DuwaCqiocCQRVVTgSCKqqcCQQVFXhSCCoqsKRQFBVhSOBoKoKRwJBVRWOBIKqKhwJBFVVOBIIqqpwJBBUVeFIIKiqwpFAUFWFI4GgqgpHgvl+6Kpfl80/4geX+kwzuNTH8MH3s8V1Nn8feizM3zB/uEp9uJsuRzB/Qqm7/sfWXVu2t7EiIiKSunIEhOq3p0W+CNEAAAAASUVORK5CYII=",Cle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAEGAAABBgHN0zO8AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAoNJREFUOI2tlL9PU1EUxz/n9t1XBQelk7+ipChurp1k15TEmJLwQ9sGEwedjDvhD4AJB4mm5UdqpItC4o4TDO4oGgcjWwlGiLS3fcfh+ZpSCgnGM713bs7nfs+55xxRVf6neUcd5F/XbihmSFQHRDkPoMIWyCoSlAvD/kanOGlXmJ0nEfPctMIYYI64L0BYiHn26csM20cCs2+q103DvAeSQAV0RpEVqdmvAOq7pKBpkCdAQuGLENwujMQ3DwGz8ySM59ZDmLz1rZd7keFnx3IUOSvx+pyqDip80bpNzT2gQmtKMc9NR7Crm969VtijWboezdIV/Rdy7Fz57N0FeSfQZ6ybis4MRA/AGFDxrZebmCBoVVQ749ZqZ9xaq29igoCalwMqKPfHF6v9TaBihsJvnemUpkKvQm+7v5BjR1SfAyYwsaEmUFRvAUggy51qdpxJTFbCS0NG1IeXAGw8fM2hMqe7nVsDLgMIdAPkSy5qke971qaWMvzeD+xXH4dRLjYVhllBbQ85qcLTNoxRCRmRwh/ADfVdEuzHpQy/wd6MgnIl9wugOGJ72oGNmksioLDVVKgiHwCM6uBJFSKaDkGy2gQKwRIQqMjjfJGzh2Lgm8C3dv9oiXMgj4GGBI1yE1gY9jcQFoAEfr04OXlwhv1dm/J3barVNzmJ8anPAT0K86/G4p9CwX9H72GZnrpz6wJ9IrKsVS9byLHTKcvREudCmKaBzZi1qWhJHFgO+VL1mmLeC/QB26I6IzFZ2Q/CdjplXFIbmlaRJ0APsAnBnY7LIbLsPAlj3RTKfY5ZXwpznrXPjl1frTa+WO0Px0kHRLmggipsGWRVgkY5qlm7HQn8V/sDpc0NjXW+Pa0AAAAASUVORK5CYII=",Ele={key:0},Sle={class:"mb-3 flex items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},kle=c.createElementVNode("div",null," ",-1),Ile=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Dle={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Mle=["placeholder"],mhe={key:0,class:"mt-1 flex flex-wrap gap-2"},ghe=["onClick"],yhe={class:"overflow-hidden overflow-ellipsis whitespace-nowrap"},Nle={class:"mb-1 mt-3 text-base"},Ole={class:"divide-y rounded bg-gray-100 dark:bg-zinc-700"},Lle={class:"grid grid-cols-6 gap-3 p-4"},Ble=["onClick"],Rle={class:"flex items-center justify-center gap-3 rounded p-3"},Ple=["placeholder"],Fle={class:"mt-5 flex gap-3"},Ule=["disabled"],jle={key:1},$le={class:"mb-1 mb-5 flex min-w-[380px] items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},zle=c.createElementVNode("div",null," ",-1),Vle=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Hle={key:0,class:"mt-1 flex flex-wrap gap-2"},qle=["onClick"],Wle={class:"flex items-center gap-3"},Gle={class:"w-64 overflow-hidden truncate overflow-ellipsis whitespace-nowrap text-base text-black"},Qle={class:"flex items-center gap-3"},Yle=["onClick"],Kle=["onClick"],Xle={class:"mt-3"},Jle=c.createElementVNode("img",{width:"20",height:"20",src:Cle},null,-1),Zle={class:"text-[#60A5FA]"},ece={key:2},tce={class:"mb-2 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},rce=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],nce=c.defineComponent({__name:"TagsModal",props:{roomId:{}},setup(t){const e=pn(),r=t,n=Rt(),i=c.ref([]),o=c.ref({}),s=c.ref([]),a=c.ref({}),l=c.ref(""),d=c.ref("#60a5fa"),f=c.ref(!0),u=c.ref("edit"),h=c.ref(""),p=c.ref(!1),m=["#f43f5e","#f97316","#f59e0b","#84cc16","#10b981","#06b6d4","#0ea5e9","#6366f1","#8b5cf6","#6b7280","#64748B","#78716c"],y=F=>{n.dispatch("imkit/updateRoomPrefs",{roomId:F,prefs:{tags:i.value,tagColors:o.value}})},v=n.state.imkit.rooms[r.roomId];v.pref&&(i.value=[...v.pref.tags],s.value=[...v.pref.tags],o.value={...v.pref.tagColors},a.value={...v.pref.tagColors},i.value.length>0&&(u.value="list",p.value=!1));const b=()=>{l.value&&(i.value.length>=5||(i.value.includes(l.value)||i.value.push(l.value),d.value.startsWith("#")&&(o.value[l.value]=d.value,l.value="")))},A=()=>{i.value=i.value.filter(F=>F!==h.value),delete o.value[h.value]},C=F=>{h.value=F,u.value="confirmDelete"},S=F=>{l.value=F,d.value=o.value[F]},M=()=>{d.value=d.value.replace(/[^#0-9a-fA-F]/g,""),d.value.charAt(0)!=="#"&&(d.value="#"+d.value)},I=()=>{u.value="edit",f.value=!0,l.value="",d.value="#60a5fa"},L=F=>{u.value="edit",f.value=!1,l.value=F,d.value=o.value[F]},k=()=>{u.value="list",p.value=!1},T=()=>{p.value=!0};return(F,z)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[u.value=="edit"?(c.openBlock(),c.createElementBlock("div",Ele,[c.createElementVNode("div",Sle,[kle,c.createTextVNode(" "+c.toDisplayString(f.value===!0?F.$t("createTag"):F.$t("editTag"))+" ",1),c.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:z[0]||(z[0]=P=>c.unref(e).closeAll())},Ile)]),c.createElementVNode("div",Dle,[c.withDirectives(c.createElementVNode("input",{type:"text",class:"placeholder-[rgba(0, 0, 0, 0.25)] w-32 grow rounded-md bg-gray-100 p-2 text-base outline-none",placeholder:f.value===!0?F.$t("createTag"):F.$t("editTag"),onInput:z[1]||(z[1]=P=>T()),"onUpdate:modelValue":z[2]||(z[2]=P=>l.value=P)},null,40,Mle),[[c.vModelText,l.value]])]),(i.value.length>0,c.createCommentVNode("",!0)),c.createElementVNode("div",null,[c.createElementVNode("div",Nle,c.toDisplayString(F.$t("chooseColor")),1),c.createElementVNode("div",Ole,[c.createElementVNode("div",Lle,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(m,P=>c.createElementVNode("div",{key:P,class:"h-8 w-12 rounded",style:c.normalizeStyle({backgroundColor:P}),onClick:R=>(d.value=P,T())},null,12,Ble)),64))]),c.createElementVNode("div",Rle,[c.createElementVNode("div",{class:"h-8 w-12 rounded-md bg-white p-2 text-base",style:c.normalizeStyle({backgroundColor:d.value})},"   ",4),c.withDirectives(c.createElementVNode("input",{type:"text",class:"w-50 h-8 grow rounded-md p-2 text-base outline-none",placeholder:F.$t("inputTagPlaceholder"),maxlength:"7",pattern:"^#[0-9a-fA-F]{6}$","onUpdate:modelValue":z[4]||(z[4]=P=>d.value=P),onInput:z[5]||(z[5]=P=>(T(),M()))},null,40,Ple),[[c.vModelText,d.value]])])])]),c.createElementVNode("div",Fle,[c.createElementVNode("button",{class:"h-10 grow rounded-lg border bg-white text-base text-black",onClick:z[6]||(z[6]=P=>k())},c.toDisplayString(F.$t("cancel")),1),c.createElementVNode("button",{class:"h-10 w-[40%] grow rounded-lg bg-gray-600 text-base text-white disabled:cursor-not-allowed disabled:bg-gray-200",disabled:!l.value||!d.value||!p.value,onClick:z[7]||(z[7]=()=>{b(),y(F.roomId),k()})},c.toDisplayString(f.value==!0?F.$t("create"):F.$t("save")),9,Ule)])])):c.createCommentVNode("",!0),u.value=="list"?(c.openBlock(),c.createElementBlock("div",jle,[c.createElementVNode("div",$le,[zle,c.createTextVNode(" "+c.toDisplayString(F.$t("tag"))+" ",1),c.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:z[8]||(z[8]=P=>c.unref(e).closeAll())},Vle)]),i.value.length>0?(c.openBlock(),c.createElementBlock("div",Hle,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.value,P=>(c.openBlock(),c.createElementBlock("div",{key:P,class:"flex min-w-[380px] items-center justify-between gap-1 overflow-hidden rounded-md bg-gray-200 p-3 text-base text-white dark:bg-zinc-600",onClick:R=>S(P)},[c.createElementVNode("div",Wle,[c.createElementVNode("div",{class:"circle-shadow h-4 w-4 rounded-full",style:c.normalizeStyle({backgroundColor:o.value[P]})},null,4),c.createElementVNode("div",Gle,c.toDisplayString(P),1)]),c.createElementVNode("div",Qle,[c.createElementVNode("img",{width:"20",height:"20",class:"cursor-pointer",onClick:c.withModifiers(R=>L(P),["stop"]),src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,8,Yle),c.createElementVNode("img",{width:"20",height:"20",src:TD,class:"cursor-pointer",onClick:c.withModifiers(R=>C(P),["stop"])},null,8,Kle)])],8,qle))),128))])):c.createCommentVNode("",!0),c.createElementVNode("div",Xle,[c.createElementVNode("div",{class:"flex cursor-pointer gap-2",onClick:z[9]||(z[9]=P=>I())},[Jle,c.createElementVNode("div",Zle,c.toDisplayString(F.$t("createTag")),1)])])])):c.createCommentVNode("",!0),u.value=="confirmDelete"?(c.openBlock(),c.createElementBlock("div",ece,[c.createElementVNode("div",tce,[c.createTextVNode(c.toDisplayString(F.$t("confirmDeleteTag"))+" ",1),c.createElementVNode("button",{class:"ml-2 flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:z[10]||(z[10]=P=>k())},rce)]),c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) mt-3 h-10 w-full grow rounded-lg bg-blue-400 text-base text-white",onClick:z[11]||(z[11]=P=>(A(),y(F.roomId),k()))},c.toDisplayString(F.$t("confirm")),1)])):c.createCommentVNode("",!0)]),_:1}))}}),CD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVR4nO2asUrEQBCGp7PxEbSx8VnEFzG7Bp05sJ05rS18jDsEX8Pn8CxV9ArbkVVEUEJyJrhZ838wXYr92ORLM0QAAAAAGBWVXOwG0evIuo5i3mUC2yqwXYag21SerD12Ff0xrLd1fbVFpRDSzf5W9vO2xZRKIW7wGjcL62t1qntUArGnbPZhXQe2m6OT8/1pCH+JP6UeTUf449NaTkzYXiYlHMUcwgCA/0U1mx9G0fvif0lsq+PZ/KBVOD2Y+7CDDetdq3D2Qw48BOFv5L4R3LDglXZ8w4JoOSrdRO6qotKCSjsqLai0o9JN5K4qKi2otKPSgko7Kt1E7qqi0oJKOyotfSrN/ZdaRjOsz63CaSEk+0GHm0WrcNp+SQshIzhsrwmiD/WZ7tAGq4fLtCNRnuj7mRedZQEAAABAf8UbgvvRyv0JTvIAAAAASUVORK5CYII=",ice={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},oce=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],sce=["onClick"],ace=c.createElementVNode("img",{width:"30",height:"30",src:CD},null,-1),lce=c.defineComponent({__name:"AddToFolderModal",props:{roomId:{}},setup(t){const e=pn(),r=t,n=Rt(),i=c.computed(()=>n.state.imkit.sortedFolderIds.map(s=>n.state.imkit.folders[s]).filter(s=>s)),o=s=>{r.roomId&&n.dispatch("imkit/addRoomToFolder",{roomId:r.roomId,folderId:s})};return(s,a)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px] relative max-h-80vh overflow-y-auto","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",ice,[c.createTextVNode(c.toDisplayString(s.$t("addToFolder"))+" ",1),c.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:a[0]||(a[0]=l=>c.unref(e).closeAll())},oce)]),(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.value,l=>(c.openBlock(),c.createElementBlock("div",{key:l.id,class:"group relative flex cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:()=>{o(l.id),c.unref(e).closeAll()}},[ace,c.createTextVNode(" "+c.toDisplayString(l.name),1)],8,sce))),128))]),_:1}))}}),cce={class:"relative flex items-center justify-center gap-1.5"},uce={class:"relative !h-[50px] !w-[50px] flex-shrink-0"},dce={key:2,class:"absolute -bottom-1 -right-1 h-5 w-5 rounded-lg bg-slate-200 p-[3px]",src:yle},fce={class:"flex w-0 min-w-0 grow flex-col text-left"},hce={class:"flex justify-between gap-2"},pce={class:"flex items-center justify-center gap-1"},mce=["innerHTML"],gce={key:0,width:"14",height:"14",class:"mt-0.5",src:"https://img.icons8.com/ios-filled/50/4b5563/mute--v1.png",alt:"mute--v1"},yce={class:"whitespace-nowrap text-xs text-gray-500 dark:text-gray-300"},bce={class:"text-xs text-gray-500"},vce=["innerHTML"],_ce={key:0,class:"mt-1 flex flex-wrap gap-1"},wce=[c.createElementVNode("img",{width:"20",height:"20",src:ble},null,-1)],xce={key:0,class:"absolute right-3 top-[calc(50%_+_28px)] z-10 flex flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},Ace=c.createElementVNode("img",{width:"24",height:"24",src:vle},null,-1),Tce={key:0,width:"24",height:"24",src:_le},Cce={key:1,width:"24",height:"24",src:wle},Ece=c.createElementVNode("img",{width:"24",height:"24",src:"https://img.icons8.com/material-rounded/72/hide.png",alt:"hide"},null,-1),Sce=c.createElementVNode("img",{width:"24",height:"24",src:"https://img.icons8.com/material-rounded/72/filled-trash.png",alt:"filled-trash"},null,-1),kce=c.createElementVNode("img",{width:"24",height:"24",src:xle},null,-1),Ice=c.createElementVNode("img",{width:"24",height:"24",src:xD},null,-1),Dce={key:0,width:"24",height:"24",src:"https://img.icons8.com/external-tal-revivo-bold-tal-revivo/72/external-medium-sound-setting-for-any-digital-device-music-bold-tal-revivo.png",alt:"external-medium-sound-setting-for-any-digital-device-music-bold-tal-revivo"},Mce={key:1,width:"24",height:"24",src:"https://img.icons8.com/external-tal-revivo-bold-tal-revivo/72/external-volume-muted-with-a-crossed-sign-logotype-layout-music-bold-tal-revivo.png",alt:"external-volume-muted-with-a-crossed-sign-logotype-layout-music-bold-tal-revivo"},Nce=c.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){pr.extend(Mb),pr.extend(Tle);const e=t,r=c.computed(()=>i.state.imkit.config.styles),n=c.computed(()=>{let T=pr(e.source.updatedAt);return T.isSame(pr(),"day")?T.format("H:mm"):T.isYesterday()?"Yesterday":T.isSame(pr(),"week")?T.format("dddd"):T.isSame(pr(),"year")?T.format("MMM D"):T.format("ll")}),i=Rt(),o=c.computed(()=>i.state.imkit.rooms[e.source.id]),s=c.computed(()=>i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===ri.RoomName?o.value.displayName.replaceAll(i.state.imkit.searchKeyword,`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`):o.value.displayName),a=c.computed(()=>{var T;return i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===ri.RoomMember?[`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`,...o.value.memberIds.map(F=>i.state.imkit.users[F]).filter(F=>F).map(F=>F.nickname||F.id).filter(F=>F!==i.state.imkit.searchKeyword)].join(", "):(T=o.value.lastMessage)==null?void 0:T.string}),l=c.computed(()=>i.state.imkit.selectedRoomId===e.source.id),d=c.computed(()=>!!i.state.imkit.roomIdsInFolders[e.source.id]),f=c.computed(()=>i.state.imkit.actionMenuRoomId),u=c.computed(()=>i.state.imkit.searchKeyword),h=c.computed(()=>{var T;return((T=o.value.pref)==null?void 0:T.sticky)??!1}),p=c.computed(()=>i.state.imkit.sortedFolderIds),m=()=>{const{open:T}=bo({component:nce,attrs:{roomId:e.source.id}});T(),i.commit("imkit/setState",{actionMenuRoomId:""})},y=()=>{f.value===e.source.id?i.commit("imkit/setState",{actionMenuRoomId:""}):i.commit("imkit/setState",{actionMenuRoomId:e.source.id})},v=()=>{i.commit("imkit/setState",{selectedRoomId:e.source.id,actionMenuRoomId:""})},b=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{sticky:!h.value}})},A=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{hidden:!0}})},C=async()=>{await i.dispatch("imkit/removeRoom",e.source.id)},S=async()=>{await i.dispatch("imkit/removeRoomFromFolder",e.source.id)},M=async()=>{const{open:T}=bo({component:lce,attrs:{roomId:e.source.id}});T()},I=c.ref(null);x6(I,()=>{y()},{modifiers:{prevent:!0}});const k=c.computed(()=>i.getters["imkit/roomsInSelectedFolder"]);return(T,F)=>{var z,P;return c.openBlock(),c.createElementBlock("div",cce,[d.value&&!u.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["absolute left-2 h-[120%] w-1 flex-shrink-0 rounded-full bg-slate-500",{"mt-4 !h-full":k.value[0].id===e.source.id,"mb-4 !h-full":k.value[k.value.length-1].id===e.source.id}])},null,2)):c.createCommentVNode("",!0),c.createElementVNode("div",{ref_key:"roomCellRef",ref:I,class:c.normalizeClass(["group relative flex min-h-[66px] grow cursor-pointer select-none items-center gap-3 rounded-lg p-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700":l.value,"ml-4":d.value&&!u.value}]),onClick:v},[c.createElementVNode("div",uce,[o.value.avatars.length===1?(c.openBlock(),c.createBlock(zr,{key:0,url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"relative"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[c.createVNode(zr,{url:o.value.avatars[1].url,name:o.value.avatars[1].name,class:"absolute right-0 top-0 !h-9 !w-9 text-base"},null,8,["url","name"]),c.createVNode(zr,{url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:c.normalizeClass(["absolute bottom-0 left-0 !h-[38px] !w-[38px] border-2 border-white text-base group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":l.value}])},null,8,["url","name","class"])],64)),h.value?(c.openBlock(),c.createElementBlock("img",dce)):c.createCommentVNode("",!0)]),c.createElementVNode("div",fce,[c.createElementVNode("div",hce,[c.createElementVNode("div",pce,[c.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100",innerHTML:s.value},null,8,mce),o.value.muted?(c.openBlock(),c.createElementBlock("img",gce)):c.createCommentVNode("",!0)]),c.createElementVNode("div",yce,c.toDisplayString(n.value),1)]),c.createElementVNode("div",bce,c.toDisplayString(o.value.description),1),c.createElementVNode("div",{class:c.normalizeClass(["flex items-center justify-between pt-1",{"text-gray-800":o.value.numberOfUnread>0}])},[c.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",innerHTML:a.value},null,8,vce),o.value.numberOfUnread>0&&!l.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 px-1.5 text-center text-xs font-semibold leading-none text-white",style:c.normalizeStyle(r.value.roomListUnreadBadge)},c.toDisplayString(o.value.numberOfUnread>99?"99+":o.value.numberOfUnread),5)):c.createCommentVNode("",!0)],2),(z=o.value.pref)!=null&&z.tags?(c.openBlock(),c.createElementBlock("div",_ce,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(((P=o.value.pref)==null?void 0:P.tags)??[],R=>{var $;return c.openBlock(),c.createElementBlock("div",{key:R,class:"overflow-hidden overflow-ellipsis whitespace-nowrap rounded-md bg-blue-400 px-1 py-0.5 text-xs text-white",style:c.normalizeStyle({backgroundColor:((($=o.value.pref)==null?void 0:$.tagColors)||{})[R]})},c.toDisplayString(R),5)}),128))])):c.createCommentVNode("",!0)]),c.createElementVNode("div",{class:c.normalizeClass(["absolute right-4 hidden h-10 w-10 items-center justify-center rounded-full bg-white shadow-md hover:scale-110 hover:transform hover:transition dark:bg-zinc-800 sm:group-hover:flex",{"!flex":f.value==T.source.id}]),onClick:c.withModifiers(y,["stop"])},wce,2),f.value==T.source.id?c.withDirectives((c.openBlock(),c.createElementBlock("div",xce,[c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(m,["stop"])},[Ace,c.createTextVNode(" "+c.toDisplayString(T.$t("tag")),1)]),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(b,["stop"])},[h.value?(c.openBlock(),c.createElementBlock("img",Tce)):(c.openBlock(),c.createElementBlock("img",Cce)),c.createTextVNode(" "+c.toDisplayString(h.value?T.$t("unpin"):T.$t("pin")),1)]),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(A,["stop"])},[Ece,c.createTextVNode(" "+c.toDisplayString(T.$t("hide")),1)]),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(C,["stop"])},[Sce,c.createTextVNode(" "+c.toDisplayString(T.$t("delete")),1)]),d.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(S,["stop"])},[kce,c.createTextVNode(" "+c.toDisplayString(T.$t("removeFromFolder")),1)])):p.value.length>0?(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(M,["stop"])},[Ice,c.createTextVNode(" "+c.toDisplayString(T.$t("addToFolder")),1)])):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:F[0]||(F[0]=c.withModifiers(()=>{c.unref(i).commit("imkit/setState",{actionMenuRoomId:""}),c.unref(i).dispatch("imkit/toggleNotification",e.source.id)},["stop"]))},[o.value.muted?(c.openBlock(),c.createElementBlock("img",Dce)):(c.openBlock(),c.createElementBlock("img",Mce)),c.createTextVNode(" "+c.toDisplayString(o.value.muted?T.$t("開啟通知"):T.$t("關閉通知")),1)])])),[[c.unref(ad),()=>{c.unref(i).commit("imkit/setState",{actionMenuRoomId:""})}]]):c.createCommentVNode("",!0)],2)])}}}),Oce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVR4nO2Zzy4EQRCH2wUHJ3F1IeLIwZ9n4B1wE9u9i6rhXLWLo+DGKwiReAESBw/AGxAnJEhcSFZmiUhmd3uYpvVMfcnvXl9qZnp+M0oJgiAIgvAvKeFav0Y6MECPBrmeJhr4SgNvak09KjxZvksrmhBHPq9UdrpUKOh4sz+U/SJNKhTMNy7j1sL0XFqmARUCJqPsnwfoUQMfLSzVhoshjJ/i9/HzpzjC2LiV9gsmzA+FEjbIdRG24XtDsmGUS7ou9zBmeGgJghAWRNRpkHfil2/fZ6izAN1roO3YLSHckPU94C9FI28lhfO02YQw3RZMmO+aCPNhjjd8kBAuAc3mVjjimYQwAPVq4Bffw7kPvc4j9TU9mgzSae62C3zS8iw2SJg74YihpXBlZW3Q94Cus7haG2op/LHlS99DOgvwRVvZhjDwhvdBHUUDrVuFdVSd9D2oq5SBJqzCSqkOg3Tte9jsoZvYJY2w0sB7ORDeTSX7LkzT/gfOlnJUnUotHP/IdvG71GOe5oi61XcIuUw0LQs2Qi4TTcuCjXDLRJuyYCPEMtG2LNgIsUy0LQs2QiwT1rJgwwCf+ZZIHeAzlZVSVB2PzzXvMvY8mWUaUy7QSzRqkI7/5ZfNxkx0XIbaiBNZQRAEQRDUb/EGC4sae12sFiYAAAAASUVORK5CYII=",Lce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO2aS2gTURSG4/sBilZxI1grghtBaF0VxKXgq6uKgiiIpJ17k2bOGUVX/neS4mPhQtSFuhUXxZVEW3HlxlU3uqgKrlTEF/jAR+ujlZvpxFaCySQzmUkyB84mZM78H+e/987cuYlEHHHE0TJxGFicsnIdhpXtikJqLVqT76DCtHsEYUSQmpCspqKUgjEuWQ0bpr2nZlApT68SrO6FDVUxPGGECG3Vw5J6GjaEd2j1uCpo0UCdLZHD3mBNuycComtKT2NasrobtuBaUxDuVASrp/kozsaegRnjABaWBTZMbAhbrF/Zl8H68nY20Rm2UN/SRGf5DlvZrtCF+pSGle2Kgf+NuMMcvjVjS3MLjGHBeG+QvV0SRpseWDDGU6a9Tes7cvzcMsl41dTABuGQq08STjV1hwVh0NWWYrtXMiabFlgwbgKYW+isia2S1VdPzrAaCZgwmkxiqdYkrFy7YLz2WsNoHGC87KPBtcVJitTDauoYDQFM+Jyi7Batpbd3aJ5k3Kq2lhF1YEHqt2TsdbVIVhdrqWcEBSxYffIJOuPqEIRUrfWMIIAF421/JrtJkjrhZcko0d1rfztr7xCkfkYUWB0oCjXR79jSKyxGAMzXNfotbPbLMUZAwB8MRncRmrBfMn5UXgNjmQxW6GuTjNWC8MwP2MCApdOhL9qGbg1B2CkY38peS+qdIGwsbh4yHvgFGyiwdMbghH70c+voh31J+Pgf2O8znDFHEq77CRs4sHTs+Usyjs7aECT1psT/JlOEg0VHsLL9hq0TsCrASMYxt54zg+P57O5CFWFN7Ktldo8AsHIszjjr1hwYwDrJeDL9+5C2cOFejG5t7SBg6w4sncnskvu2029hjWRcdT9g64/Zeg0PCjYUYOnY90YyeWXBzHuk01guGI+ChA0PmAvQeaLzS4ovBIR80LDhAnNhGbqvOytZXa4HbPjAXFirX9QLNhLAss5pxMAlIu4wN7mlZat9EE9ZuY7QhfqUwsq1lwVOpy8smj7ON9XQSep7RYdaCrZmNdz4wMgnKg19qCt0wTWmYdm7El5Cb6y1RHfd0Ac09UHN0MV7TowZJ8+sTFQTRGhrqPFMyFcNOzMkY7c+uxjJ2dvZMbntecxWEnrJ0sf5wj7676bWojVVJD6OOOJINEP8AR99+lKlJ3IWAAAAAElFTkSuQmCC",Bce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2aTU4CQRCFm5W6N7jSiEeAgxjkAO6UmQakaw5QPRCXLlzCRVRAEzd6CfUSSoIrTfET40wbZpA4hdSX1LI7703PvCbhKSUIwtpgzMWW18QDL2iVOEwtaBdI07J95rQJK77Bnm/suwb7wWmmmm60Ccuk9VdOG43zHW3sfdamkg/eVQPML2zWN/iSvYnU87yI6dxqnWz8pFO93tqEFddGvsE3H2xfA3Z9YztZzlgD2D5pcpqefNPJoICKmQV88KC9q5hBmkib43CuE21wjLjpSONXjmZnNBq4Fz1p8lCvX27MXUz3rONp9RRztMFBVHctaBfmL2xi0RECXcUc0hjT3cTi3IX0CyZ+wrajmDMJsu+6vaBVmrtQDIOcMEvklQb5ht1IaIGEFksktEBCy42EFkhosURCCyS03EhogYQWSyS0QELLjYQWSGixREILJLTcSGiBhBZLJLRAQsvN2oWWXrc/xGtBuxAvtNi+Yo5v7G1U9+kZ7q9PqQVwlKjUQoy7i47aEm2sOJoF++joal0l3sQL8OiHlttw0pbhUUybNneGzhJdMzxM8+ByVN9bfiXwj8bgIPWrUg0wT0XNzMWnHN/g0wngdmrDX6ZX6KQNDhY2GymIl6m7yLIgDjiigEr7zSaCriy627Ku/s+GtCS+egRBUP+BT4sLtV3SLOLeAAAAAElFTkSuQmCC",Rce={key:1,class:"relative h-[34px] w-[34px] flex-shrink-0"},Pce={class:"flex w-0 min-w-0 grow flex-col text-left"},Fce={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},Uce={key:2,width:"20",height:"20",src:Lce},jce={key:3,width:"20",height:"20",src:Bce},ED=c.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){pr.extend(Mb);const e=t,r=Rt(),n=c.computed(()=>!!r.state.imkit.selectedRoomIdsForCreateFolder[e.source.id]),i=o=>{const s=new Date;r.commit("imkit/updateField",{key:"selectedRoomIdsForCreateFolder",value:{[e.source.id]:o?s:void 0}})};return(o,s)=>(c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["group relative flex min-h-11 w-full cursor-pointer items-center gap-3 rounded-md p-1 px-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700 hover:dark:bg-zinc-700":n.value}]),onClick:s[0]||(s[0]=a=>i(!n.value))},[o.source.avatars.length===1?(c.openBlock(),c.createBlock(zr,{key:0,url:o.source.avatars[0].url,name:o.source.avatars[0].name,class:"!h-[34px] !w-[34px] flex-shrink-0 rounded-xl text-base"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock("div",Rce,[c.createVNode(zr,{url:o.source.avatars[1].url,name:o.source.avatars[1].name,class:"rounded-10px absolute right-0 top-0 !h-[26px] !w-[26px] text-base"},null,8,["url","name"]),c.createVNode(zr,{url:o.source.avatars[0].url,name:o.source.avatars[0].name,class:c.normalizeClass(["rounded-10px absolute bottom-0 left-0 !h-7 !w-7 border-2 border-white text-xs group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":n.value}])},null,8,["url","name","class"])])),c.createElementVNode("div",Pce,[c.createElementVNode("div",Fce,c.toDisplayString(o.source.displayName),1)]),n.value?(c.openBlock(),c.createElementBlock("img",Uce)):(c.openBlock(),c.createElementBlock("img",jce))],2))}}),$ce={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},zce=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Vce=["placeholder"],Hce=["disabled"],SD=c.defineComponent({__name:"UpdateFolderModal",props:{folderId:{}},setup(t){const e=pn(),r=t,n=Rt(),i=c.ref(),o=c.ref(""),s=c.computed(()=>i.value?i.value.roomIds.map(d=>n.state.imkit.rooms[d]).concat(n.state.imkit.sortedRooms).sort((d,f)=>{var u,h,p;return((u=d.pref)==null?void 0:u.sticky)===((h=f.pref)==null?void 0:h.sticky)?f.updatedAt-d.updatedAt:(p=d.pref)!=null&&p.sticky?-1:1}):n.state.imkit.sortedRooms),a=c.computed(()=>o.value.length>0&&Object.keys(n.state.imkit.selectedRoomIdsForCreateFolder).length>0),l=()=>{var d;n.dispatch("imkit/updateFolder",{folderKey:((d=i.value)==null?void 0:d.id)||`folder_${Date.now()}`,name:o.value})};return i.value=n.state.imkit.folders[r.folderId],i.value&&(o.value=i.value.name,n.commit("imkit/setState",{selectedRoomIdsForCreateFolder:i.value.roomIds.reduce((d,f)=>(d[f]=!0,d),{})})),(d,f)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",$ce,[c.createTextVNode(c.toDisplayString(i.value?d.$t("editFolder"):d.$t("createFolder"))+" ",1),c.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:f[0]||(f[0]=u=>c.unref(e).closeAll())},zce)]),c.withDirectives(c.createElementVNode("input",{type:"text",class:"grow rounded-md bg-gray-100 p-2 outline-none dark:bg-zinc-700",placeholder:d.$t("folderName"),"onUpdate:modelValue":f[1]||(f[1]=u=>o.value=u)},null,8,Vce),[[c.vModelText,o.value]]),c.createVNode(c.unref($d),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":s.value,"data-component":ED,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},null,8,["data-sources"]),c.createElementVNode("button",{class:c.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!a.value}]),disabled:!a.value,onClick:f[2]||(f[2]=()=>{l(),c.unref(e).closeAll()})},c.toDisplayString(d.$t("confirm")),11,Hce)]),_:1}))}}),qce={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Wce=[c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1)],Gce=c.defineComponent({__name:"DeleteFolderConfirmModal",props:{folder:{}},setup(t){const e=pn(),r=t,n=Rt(),i=o=>{n.dispatch("imkit/removeFolder",o)};return(o,s)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 min-w-[200px] max-w-full rounded-xl p-5 flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",qce,[c.createTextVNode(c.toDisplayString(o.$t("confirmToDeleteFolder"))+" ",1),c.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:s[0]||(s[0]=a=>c.unref(e).closeAll())},Wce)]),c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg bg-blue-400 text-base text-white",onClick:s[1]||(s[1]=()=>{i(r.folder.id),c.unref(e).closeAll()})},c.toDisplayString(o.$t("confirm")),1)]),_:1}))}}),Qce={key:0,width:"30",height:"30",src:Oce},Yce={key:1,width:"30",height:"30",src:CD},Kce={class:"flex flex-col overflow-hidden"},Xce=["innerHTML"],Jce={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Zce={key:2,class:"ml-auto flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 text-center text-xs font-semibold leading-none text-white"},eue=[c.createElementVNode("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,-1)],tue=[c.createElementVNode("img",{width:"20",height:"20",src:TD},null,-1)],rue=c.defineComponent({__name:"FolderCell",props:{source:{}},setup(t){const e=t,r=Rt(),n=c.computed(()=>r.state.imkit.searchKeyword.length>0&&r.state.imkit.searchType===ri.RoomPrefFolder?e.source.name.replaceAll(r.state.imkit.searchKeyword,`<span class="text-blue-400">${r.state.imkit.searchKeyword}</span>`):e.source.name),i=c.computed(()=>r.state.imkit.selectedFolderId),o=c.computed(()=>e.source.roomIds.filter(u=>r.state.imkit.selectedRoomId!==u).reduce((u,h)=>{const p=r.state.imkit.rooms[h];return p?u+p.numberOfUnread:u},0)),s=c.computed(()=>r.state.imkit.roomTag),a=c.computed(()=>e.source.roomIds.map(u=>r.state.imkit.rooms[u]).filter(u=>s.value?u&&u.roomTags.includes(s.value):u).length),l=()=>{r.state.imkit.selectedFolderId===e.source.id?r.commit("imkit/setState",{selectedFolderId:""}):r.commit("imkit/setState",{selectedFolderId:e.source.id})},d=()=>{const{open:u}=bo({component:Gce,attrs:{folder:e.source}});u()},f=()=>{const{open:u}=bo({component:SD,attrs:{folderId:e.source.id}});u()};return(u,h)=>(c.openBlock(),c.createElementBlock("div",{class:"group relative flex min-h-[66px] cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:l},[i.value===u.source.id?(c.openBlock(),c.createElementBlock("img",Qce)):(c.openBlock(),c.createElementBlock("img",Yce)),c.createElementVNode("div",Kce,[c.createElementVNode("div",{class:"text-basse overflow-hidden overflow-ellipsis whitespace-nowrap text-gray-900 dark:text-gray-100",innerHTML:n.value},null,8,Xce),c.createElementVNode("div",Jce,c.toDisplayString(a.value?u.$t("numberOfChatroom",a.value):u.$t("no-chatroom")),1)]),o.value>0?(c.openBlock(),c.createElementBlock("div",Zce,c.toDisplayString(o.value),1)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-14 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:c.withModifiers(f,["stop"])},eue),c.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-4 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:c.withModifiers(d,["stop"])},tue)]))}}),nue=c.defineComponent({__name:"RoomListWrapperCell",props:{source:{}},setup(t){return(e,r)=>e.source instanceof c.unref(Ou)?(c.openBlock(),c.createBlock(Nce,{key:0,source:e.source},null,8,["source"])):(c.openBlock(),c.createBlock(rue,{key:1,source:e.source},null,8,["source"]))}}),Up=t=>(c.pushScopeId("data-v-b3099582"),t=t(),c.popScopeId(),t),iue={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},oue=[Up(()=>c.createElementVNode("img",{class:"h-4 w-4",src:vo},null,-1))],sue=["placeholder"],aue={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},lue=Up(()=>c.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:Pd},null,-1)),cue={class:"grow overflow-hidden"},uue=["placeholder"],due={key:0,slot:"header",class:"flex flex-col gap-1"},fue=[Up(()=>c.createElementVNode("div",{class:"loading h-[34px] w-[34px] rounded-xl"},null,-1)),Up(()=>c.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[c.createElementVNode("div",{class:"loading h-3 w-full rounded-md"}),c.createElementVNode("div",{class:"loading h-3 w-4/5 rounded-md"})],-1))],hue=["disabled"],pue=wi(c.defineComponent({__name:"MassTextingModal",setup(t){const e=pn(),r=Rt(),n=c.ref(""),i=c.computed(()=>r.state.imkit.searchKeyword?r.state.imkit.searchRooms[ri.RoomName]||[]:Object.values(r.state.imkit.rooms).sort((p,m)=>{const y=!!r.state.imkit.selectedRoomIdsForCreateFolder[p.id],v=!!r.state.imkit.selectedRoomIdsForCreateFolder[m.id];return y&&!v?-1:!y&&v?1:y&&v?r.state.imkit.selectedRoomIdsForCreateFolder[p.id]-r.state.imkit.selectedRoomIdsForCreateFolder[m.id]:0})),o=c.computed(()=>n.value.length>0),s=c.ref(""),a=c.ref(!1),d=od(1e3,async()=>{s.value!==r.state.imkit.searchKeyword&&(s.value?r.dispatch("imkit/searchRooms",s.value):r.commit("imkit/setState",{searchKeyword:""}))}),f=eb(500,d,{atBegin:!1});c.watch(s,f);const u=c.computed(()=>!!r.state.imkit.isRequesting[io.Search]),h=async()=>{await r.dispatch("imkit/batchSendMessage",{message:n.value,messageType:"text",paras:Object.keys(r.state.imkit.selectedRoomIdsForCreateFolder).map(p=>({room:p}))}),r.commit("imkit/setState",{selectedRoomIdsForCreateFolder:{},searchKeyword:""})};return(p,m)=>(c.openBlock(),c.createBlock(c.unref(yo),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",iue,[c.createTextVNode(c.toDisplayString(p.$t("massTexting"))+" ",1),c.createElementVNode("button",{class:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 dark:bg-zinc-600",onClick:m[0]||(m[0]=y=>c.unref(e).closeAll())},oue)]),c.withDirectives(c.createElementVNode("textarea",{rows:"3",class:"grow rounded-md bg-gray-100 p-2 outline-none dark:bg-zinc-700",placeholder:p.$t("inputMessage"),"onUpdate:modelValue":m[1]||(m[1]=y=>n.value=y)},null,8,sue),[[c.vModelText,n.value]]),c.createVNode(c.unref($d),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":i.value,"data-component":ED,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},{header:c.withCtx(()=>[c.createElementVNode("div",aue,[lue,c.createElementVNode("div",cue,[c.withDirectives(c.createElementVNode("input",{ref:"searchInput",class:"bg-gray-100 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[2]||(m[2]=y=>s.value=y),placeholder:p.$t("search"),onCompositionstart:m[3]||(m[3]=y=>a.value=!0),onCompositionend:m[4]||(m[4]=y=>a.value=!1)},null,40,uue),[[c.vModelText,s.value]])]),s.value?(c.openBlock(),c.createElementBlock("img",{key:0,src:_p,class:"h-5 w-5 cursor-pointer",onClick:m[5]||(m[5]=()=>{c.unref(f).cancel({upcomingOnly:!0}),s.value="",c.unref(d)()})})):c.createCommentVNode("",!0)]),u.value?(c.openBlock(),c.createElementBlock("div",due,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(10,y=>c.createElementVNode("div",{key:y,class:"flex gap-3 p-2"},fue)),64))])):c.createCommentVNode("",!0)]),_:1},8,["data-sources"]),c.createElementVNode("button",{class:c.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!o.value}]),disabled:!o.value,onClick:m[6]||(m[6]=()=>{h(),c.unref(e).closeAll()})},c.toDisplayString(p.$t("confirm")),11,hue)]),_:1}))}}),[["__scopeId","data-v-b3099582"]]),uc=t=>(c.pushScopeId("data-v-c798849d"),t=t(),c.popScopeId(),t),mue={class:"relative overflow-auto"},gue={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},yue=uc(()=>c.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:Pd},null,-1)),bue={class:"grow overflow-hidden"},vue=["placeholder"],_ue={key:0,class:"mb-2 flex items-center gap-2 overflow-auto text-sm text-gray-900 dark:text-gray-200"},wue=["onClick"],xue={key:1,slot:"header",class:"flex flex-col gap-1"},Aue=[uc(()=>c.createElementVNode("div",{class:"loading h-[50px] w-[50px] rounded-2xl bg-white dark:bg-zinc-800"},null,-1)),uc(()=>c.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[c.createElementVNode("div",{class:"loading h-5 w-full rounded-md bg-white dark:bg-zinc-800"}),c.createElementVNode("div",{class:"loading h-4 w-4/5 rounded-md bg-white dark:bg-zinc-800"})],-1))],Tue={class:"absolute bottom-0 right-0 flex flex-col items-end gap-2 p-3"},Cue={key:0,class:"transform-gpu flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},Eue=uc(()=>c.createElementVNode("img",{width:"24",height:"24",src:mle},null,-1)),Sue=uc(()=>c.createElementVNode("img",{width:"24",height:"24",src:xD},null,-1)),kue=[uc(()=>c.createElementVNode("img",{width:"30",height:"30",src:gle},null,-1))],Iue=wi(c.defineComponent({__name:"RoomList",setup(t){const e=Rt(),r=c.ref(""),n=pn(),i=c.ref(!1),o=c.ref(),s=c.computed(()=>e.state.imkit.sortedRooms),a=c.computed(()=>e.state.imkit.sortedFolderIds.map(T=>e.state.imkit.folders[T]).filter(T=>T)),l=c.computed(()=>e.state.imkit.folders[e.state.imkit.selectedFolderId]),d=c.computed(()=>e.state.imkit.searchType),f=c.computed(()=>e.state.imkit.searchKeyword?Object.keys(e.state.imkit.searchRooms):[]),u=c.computed(()=>e.state.imkit.roomTag),h=c.computed(()=>e.state.imkit.config.settings),p=c.computed(()=>{if(e.state.imkit.searchKeyword&&n.modals.length===0){if(d.value===ri.RoomPrefFolder&&l.value){const F=[...e.state.imkit.searchRooms[d.value]],z=l.value.roomIds.map(R=>e.state.imkit.rooms[R]).filter(R=>u.value?R&&R.roomTags.includes(u.value):R),P=F.findIndex(R=>R.id===l.value.id);return P>-1&&F.splice(P+1,0,...z),F}return e.state.imkit.searchRooms[d.value]||[]}const T=[...a.value,...s.value];if(l.value){const F=e.getters["imkit/roomsInSelectedFolder"],z=a.value.findIndex(P=>P.id===l.value.id);z>-1&&T.splice(z+1,0,...F)}return T}),m=c.ref(!1),y=c.ref(!1),v=c.computed(()=>n.modals.length===0&&(i.value||m.value||!!e.state.imkit.isRequesting[io.Search]&&r.value.length>0)),b=()=>{e.dispatch("imkit/fetchRooms")},A=()=>{y.value=!y.value},C=()=>{const{open:T}=bo({component:SD});T()},S=()=>{const{open:T}=bo({component:pue});T()},I=od(1e3,async()=>{r.value!==e.state.imkit.searchKeyword&&(r.value?e.dispatch("imkit/searchRooms",r.value):(e.commit("imkit/setState",{sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,folders:{},sortedFolderIds:[],roomIdsInFolders:{},searchKeyword:""}),k()))}),L=eb(500,I,{atBegin:!1});c.watch(r,L),c.watch(s,T=>{if(CE.config.settings.autoSelectRoomWhenLoaded&&!e.state.imkit.selectedRoomId&&document.body.clientWidth>640){const F=Object.values(T).find(z=>z.numberOfUnread===0);F&&e.commit("imkit/setState",{selectedRoomId:F.id})}});const k=async()=>{m.value=!0,await e.dispatch("imkit/fetchPrefs"),await e.dispatch("imkit/fetchRooms"),m.value=!1,await e.dispatch("imkit/fetchRoomsInFolders")};return k(),(T,F)=>(c.openBlock(),c.createElementBlock("div",mue,[c.createVNode(c.unref($d),{class:"h-full overflow-auto p-2","data-key":"id","data-sources":p.value,"data-component":nue,"wrap-class":"flex flex-col gap-1.5","estimated-size":66,keeps:60,onTobottom:b},{header:c.withCtx(()=>[c.createElementVNode("div",gue,[yue,c.createElementVNode("div",bue,[c.withDirectives(c.createElementVNode("input",{ref_key:"searchInput",ref:o,class:"w-full bg-gray-100 outline-none dark:bg-zinc-700","onUpdate:modelValue":F[0]||(F[0]=z=>r.value=z),placeholder:T.$t("search"),onCompositionstart:F[1]||(F[1]=z=>i.value=!0),onCompositionend:F[2]||(F[2]=z=>i.value=!1)},null,40,vue),[[c.vModelText,r.value]])]),r.value?(c.openBlock(),c.createElementBlock("img",{key:0,src:_p,class:"h-5 w-5 cursor-pointer",onClick:F[3]||(F[3]=()=>{c.unref(L).cancel({upcomingOnly:!0}),r.value="",c.unref(I)()})})):c.createCommentVNode("",!0)]),f.value.length>0&&c.unref(n).modals.length===0?(c.openBlock(),c.createElementBlock("div",_ue,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(f.value,z=>(c.openBlock(),c.createElementBlock("div",{key:z,class:c.normalizeClass(["cursor-pointer whitespace-nowrap rounded-lg p-2 hover:bg-gray-100 hover:dark:bg-white hover:dark:text-gray-900",{"bg-gray-100 font-medium text-gray-800":z===d.value}]),onClick:P=>c.unref(e).commit("imkit/setState",{searchType:z})},c.toDisplayString(T.$t(z)),11,wue))),128))])):c.createCommentVNode("",!0),v.value?(c.openBlock(),c.createElementBlock("div",xue,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(20,z=>c.createElementVNode("div",{key:z,class:"flex gap-3 p-2"},Aue)),64))])):c.createCommentVNode("",!0)]),_:1},8,["data-sources"]),c.withDirectives((c.openBlock(),c.createElementBlock("div",Tue,[c.createVNode(c.Transition,{name:"slide-fade"},{default:c.withCtx(()=>[y.value?(c.openBlock(),c.createElementBlock("div",Cue,[h.value.massTextingEnabled?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:S},[Eue,c.createTextVNode(" "+c.toDisplayString(T.$t("massTexting")),1)])):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:C},[Sue,c.createTextVNode(" "+c.toDisplayString(T.$t("createFolder")),1)])])):c.createCommentVNode("",!0)]),_:1}),c.createElementVNode("button",{class:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-slate-500 shadow-md hover:scale-110 hover:transform hover:transition sm:group-hover:flex",onClick:c.withModifiers(A,["stop"])},kue)])),[[c.unref(ad),()=>{y.value=!1}]])]))}}),[["__scopeId","data-v-c798849d"]]);function jp(t,e,r){const{url:n}=e,i=n==null?void 0:n.split("?")[0];if(!i)return;const o={};o[i]=t==0?new Date:null,r.commit("imkit/updateField",{key:"isRequesting",value:o})}const Due=async t=>{localStorage.getItem("imkit-token")&&(localStorage.removeItem("imkit-token"),window.location.reload())};function Mue(t,e){const{domain:r}=t,n=Xt.create({baseURL:r});return n.interceptors.request.use(i=>{jp(0,i,e);const o=new bE({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return i.headers=o,i},i=>{const{config:o}=i;return jp(1,o,e),Promise.reject(i)}),n.interceptors.response.use(i=>{const{config:o}=i;return jp(1,o,e),i},async i=>{const{config:o}=i;if(jp(1,o,e),i.response.status===401){await Due();const s=new bE({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return o.headers=s,Xt.request(o)}return Promise.reject(i)}),n}function Nue(t,e){const{domain:r,clientKey:n,token:i}=t,o=Tu(r,{forceBase64:!0,transports:["websocket"]});return o.on("connect",()=>{o.emit("auth2",i,{CLIENT_KEY:n,Authorization:i},s=>{console.log(s)})}),o.on("disconnect",s=>{console.log(s)}),o.on("chat message",s=>{e.dispatch("imkit/handleMessageFromSocket",ir.fromRaw(s))}),o.on("room",s=>{const a=new Ou(s,e.state.uid);if(!a.id)return;const l={};for(const d of s.members)l[d.id]||(l[d.id]=new Wo(d));e.dispatch("imkit/handleRoomFromSocket",a),e.commit("imkit/updateField",{key:"users",value:l})}),o.on("lastRead",s=>{const{roomID:a,memberID:l,messageID:d}=s;e.dispatch("imkit/handleLastReadFromSocket",{roomId:a,uid:l,messageId:d})}),o.on("roomPref",s=>{const{room:a,...l}=s;a&&(e.commit("imkit/updateRoom",{id:a,pref:l}),l.sticky!==void 0&&e.dispatch("imkit/aggregateRoomsAndFolders"))}),o.on("myPrefChange",s=>{e.dispatch("imkit/handlePrefChangeFromSocket",s)}),o.on("myPrefDelete",s=>{e.dispatch("imkit/handlePrefDeleteFromSocket",s)}),o.on("typing",s=>{e.dispatch("imkit/handleTypingFromSocket",s)}),o}const kD={"en-US":{close:"Close",confirm:"Confirm",folderName:"Folder Name",createFolder:"Create Folder",tag:"Tag",inputTag:"Input Tag",inputTagPlaceholder:"Input Tag Color #02B13F",download:"Download",someoneUnsentMessage:"{0} unsent a message",read:"Read",pin:"Pin",unpin:"Unpin",emptyChat:"Empty Chat",members:"Members",createdAt:"Created At",updatedAt:"Updated At",leaveGroup:"Leave Group",text:"Text",image:"Image",video:"Video",sticker:"Sticker",message:"Message",youSent:"{0} sent",someoneSent:"{0} sent a {1}",tapOpen:"Tap here to open the link.",TypeMessage:"Type a message...",isTyping:"{0} is typing...",someoneJoinedTheChat:"{0} joined the chat",someoneLeftTheChat:"{0} left the chat",someoneInvited:"{0} invited {1}",someoneKicked:"{0} kicked {1}",youUnsentMessage:"You unsent a message",fileSize:"File size",file:"File",translation:"Translation",search:"Search",location:"Location",sendCurrentLocation:"Send Current Location",noAccessLocationPermission:"No access location permission.","locationInfoUnavailable.":"Location information is unavailable.",requestLocationTimeout:"The request to get location timed out.",addressUnavailable:"The address is unavailable.",audio:"Audio Message",noAccessMicrophonePermission:"No access microphone permission.",removeFromFolder:"Remove from folder",editFolder:"Edit Folder",addToFolder:"Add to Folder",numberOfChatroom:"{n} Chatrooms","no-chatroom":"No chatroom",roomName:"Room Name",roomMember:"Member",roomPrefTags:"Tag",roomPrefFolder:"Folder",roomTags:"Attribute",massTexting:"Mass Texting",inputMessage:"Input Message",searchInConversation:"Search in Conversation",yesterday:"Yesterday",today:"Today",confirmToDeleteFolder:"Confirm Delete Folder",hide:"Hide",delete:"Delete",cancel:"Cancel",create:"Create",save:"Save",createTag:"Create Tag",confirmDeleteTag:"Confirm Delete Tag?",editTag:"Edit Tag",chooseColor:"Choose Color"},"zh-TW":{close:"關閉",confirm:"確認",folderName:"資料夾名稱",createFolder:"建立資料夾",tag:"標籤",inputTag:"輸入標籤名稱",inputTagPlaceholder:"請輸入自訂色彩例如 #02B13F",download:"下載",someoneUnsentMessage:"{0} 已收回訊息",read:"已讀",pin:"置頂",unpin:"取消置頂",emptyChat:"沒有成員",members:"成員",createdAt:"創建時間",updatedAt:"更新時間",leaveGroup:"退出群組",text:"文字",image:"圖片",video:"影片",sticker:"貼圖",message:"訊息",youSent:"{0}已傳送",someoneSent:"{0}向您傳送了{1}",tapOpen:"點選此處以開啟此連結。",TypeMessage:"輸入訊息...",isTyping:"{0} 正在輸入...",someoneJoinedTheChat:"{0}加入聊天",someoneLeftTheChat:"{0}離開聊天",someoneInvited:"{0}邀請{1}加入",someoneKicked:"{0}將{1}踢出",youUnsentMessage:"您已收回訊息",fileSize:"檔案大小",file:"檔案",translation:"翻譯",search:"搜尋",location:"位置",sendCurrentLocation:"傳送目前位置",noAccessLocationPermission:"無存取位置權限","locationInfoUnavailable.":"無法取得位置資訊",requestLocationTimeout:"請求位置逾時",addressUnavailable:"無法取得地址",audio:"語音訊息",noAccessMicrophonePermission:"無存取麥克風權限",removeFromFolder:"從資料夾中移除",editFolder:"編輯資料夾",addToFolder:"新增至資料夾",numberOfChatroom:"{n} 個聊天室","no-chatroom":"沒有聊天室",roomName:"聊天室名稱",roomMember:"成員",roomPrefTags:"標籤",roomPrefFolder:"資料夾",roomTags:"屬性",massTexting:"群發訊息",inputMessage:"請輸入訊息內容",searchInConversation:"搜尋對話",yesterday:"昨天",today:"今天",confirmToDeleteFolder:"刪除資料夾？",hide:"隱藏",delete:"刪除",cancel:"取消",create:"建立",save:"儲存",createTag:"建立標籤",confirmDeleteTag:"確認刪除標籤?",editTag:"編輯標籤"},"ja-JP":{close:"閉じる",confirm:"確認",folderName:"フォルダ名",createFolder:"フォルダを作成",tag:"タグ",inputTag:"タグを入力",inputTagPlaceholder:"カスタムカラーを入力してください（例：#02B13F）",download:"ダウンロード",someoneUnsentMessage:"{0}がメッセージを取り消しました",read:"既読",pin:"ピン留め",unpin:"ピン留めを解除",emptyChat:"チャットが空です",members:"メンバー",createdAt:"作成日",updatedAt:"更新日",leaveGroup:"グループを退出",text:"テキスト",image:"画像",video:"ビデオ",sticker:"スティッカー",message:"メッセージ",youSent:"{0}が送信しました",someoneSent:"{0}が{1}を送信しました",tapOpen:"リンクを開くにはこちらをタップしてください。",TypeMessage:"メッセージを入力...",isTyping:"{0}が入力中...",someoneJoinedTheChat:"{0}がチャットに参加しました",someoneLeftTheChat:"{0}がチャットを退出しました",someoneInvited:"{0}が{1}を招待しました",someoneKicked:"{0}が{1}をキックしました",youUnsentMessage:"あなたはメッセージを取り消しました",fileSize:"ファイルサイズ",file:"ファイル",translation:"翻訳",search:"検索",location:"位置",sendCurrentLocation:"現在の位置を送信",noAccessLocationPermission:"位置情報のアクセス許可がありません。","locationInfoUnavailable.":"位置情報を取得できません。",requestLocationTimeout:"位置情報のリクエストがタイムアウトしました。",addressUnavailable:"アドレスが利用できません。",audio:"オーディオメッセージ",noAccessMicrophonePermission:"マイクのアクセス許可がありません。",removeFromFolder:"フォルダから削除",editFolder:"フォルダを編集",addToFolder:"フォルダに追加",numberOfChatroom:"{n}のチャットルーム","no-chatroom":"チャットルームがありません",roomName:"チャットルーム名",roomMember:"メンバー",roomPrefTags:"タグ",roomPrefFolder:"フォルダ",roomTags:"属性",massTexting:"一斉送信",inputMessage:"メッセージを入力",searchInConversation:"チャット内を検索",yesterday:"昨日",today:"今日",confirmToDeleteFolder:"フォルダを削除しますか？",hide:"非表示",delete:"削除",cancel:"キャンセル",create:"作成",save:"保存",createTag:"タグを作成",confirmDeleteTag:"タグを削除してよろしいですか？",editTag:"タグを編集",chooseColor:"色を選択"}},Oue=I8({legacy:!1,locale:navigator.language in kD?navigator.language:"en-US",messages:kD}),Lue={install:async(t,e)=>{const{store:r,config:n}=e;r.hasModule("imkit")||r.registerModule("imkit",F3);let i="";try{const{id:a,_id:l}=h6(n.token);i=a||l}catch(a){console.log(a)}const o=Mue(n,r),s=Nue(n,r);r.commit("imkit/setState",{config:n,uid:i,axios:o,socket:s}),t.use(_5()),t.use(Oue),t.directive("src",async(a,l)=>{const{value:d,oldValue:f}=l;if(d.startsWith("data:")){a.src=d;return}const{imageCache:u}=r.state.imkit;if(f===void 0||d!==f){if(u.has(d)){a.src=u.get(d);return}try{a.classList.add("opacity-0");const h=await o.get(d,{responseType:"arraybuffer",onDownloadProgress:y=>{const{total:v}=y;v&&r.commit("imkit/updateField",{key:"downloadProgresses",value:{[d]:y.loaded/v}})}}),p=btoa(new Uint8Array(h.data).reduce((y,v)=>y+String.fromCharCode(v),"")),m=`data:${h.headers["content-type"]};base64,${p}`;u.set(d,m),a.src=m}catch{a.src=d}a.classList.remove("opacity-0")}})}};at.ChatRoom=Jae,at.ChatRoomInfo=ple,at.ModalsContainer=A5,at.RoomList=Iue,at.default=Lue,Object.defineProperties(at,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
