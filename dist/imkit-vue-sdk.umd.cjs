(function(vt,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(vt=typeof globalThis<"u"?globalThis:vt||self,u(vt["IMKIT Vue SDK"]={},vt.Vue))})(this,function(vt,u){"use strict";var UTe=Object.defineProperty;var OO=vt=>{throw TypeError(vt)};var $Te=(vt,u,Hr)=>u in vt?UTe(vt,u,{enumerable:!0,configurable:!0,writable:!0,value:Hr}):vt[u]=Hr;var Ge=(vt,u,Hr)=>$Te(vt,typeof u!="symbol"?u+"":u,Hr),LO=(vt,u,Hr)=>u.has(vt)||OO("Cannot "+Hr);var Js=(vt,u,Hr)=>(LO(vt,u,"read from private field"),Hr?Hr.call(vt):u.get(vt)),pg=(vt,u,Hr)=>u.has(vt)?OO("Cannot add the same private member more than once"):u instanceof WeakSet?u.add(vt):u.set(vt,Hr),ka=(vt,u,Hr,go)=>(LO(vt,u,"write to private field"),go?go.call(vt,Hr):u.set(vt,Hr),Hr);var uT=(vt,u,Hr,go)=>({set _(gg){ka(vt,u,gg,Hr)},get _(){return Js(vt,u,go)}});var zi,El,Al;var Hr=document.createElement("style");Hr.textContent=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.collapse{visibility:collapse}.static{position:static}.\\!absolute{position:absolute!important}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-1{bottom:-.25rem}.-right-1{right:-.25rem}.-right-2{right:-.5rem}.-top-10{top:-2.5rem}.-top-2{top:-.5rem}.bottom-0{bottom:0}.bottom-16{bottom:4rem}.bottom-2{bottom:.5rem}.bottom-\\[110\\%\\]{bottom:110%}.left-0{left:0}.left-2{left:.5rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-14{right:3.5rem}.right-2{right:.5rem}.right-2\\.5{right:.625rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-2{top:.5rem}.top-\\[-40px\\]{top:-40px}.top-\\[calc\\(50\\%_\\+_28px\\)\\]{top:calc(50% + 28px)}.z-10{z-index:10}.col-span-2{grid-column:span 2 / span 2}.row-span-2{grid-row:span 2 / span 2}.-m-2{margin:-.5rem}.m-2{margin:.5rem}.-mx-3{margin-left:-.75rem;margin-right:-.75rem}.-mx-4{margin-left:-1rem;margin-right:-1rem}.-my-2{margin-top:-.5rem;margin-bottom:-.5rem}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-\\[0\\.0625rem\\]{margin-bottom:.0625rem}.mb-\\[40px\\]{margin-bottom:40px}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-0\\.5{margin-right:.125rem}.mr-1{margin-right:.25rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-\\[0\\.0625rem\\]{margin-top:.0625rem}.\\!block{display:block!important}.block{display:block}.\\!flex{display:flex!important}.grid{display:grid}.contents{display:contents}.hidden{display:none}.\\!h-10{height:2.5rem!important}.\\!h-7{height:1.75rem!important}.\\!h-9{height:2.25rem!important}.\\!h-\\[26px\\]{height:26px!important}.\\!h-\\[30px\\]{height:30px!important}.\\!h-\\[34px\\]{height:34px!important}.\\!h-\\[38px\\]{height:38px!important}.\\!h-\\[50px\\]{height:50px!important}.\\!h-full{height:100%!important}.h-1{height:.25rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[120\\%\\]{height:120%}.h-\\[150px\\]{height:150px}.h-\\[2\\.8rem\\]{height:2.8rem}.h-\\[250px\\]{height:250px}.h-\\[300px\\]{height:300px}.h-\\[34px\\]{height:34px}.h-\\[50px\\]{height:50px}.h-\\[50vh\\]{height:50vh}.h-\\[59px\\]{height:59px}.h-\\[60px\\]{height:60px}.h-dvh{height:100dvh}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.\\!min-h-0\\.5{min-height:.125rem!important}.min-h-11{min-height:2.75rem}.min-h-\\[66px\\]{min-height:66px}.\\!w-10{width:2.5rem!important}.\\!w-7{width:1.75rem!important}.\\!w-9{width:2.25rem!important}.\\!w-\\[26px\\]{width:26px!important}.\\!w-\\[30px\\]{width:30px!important}.\\!w-\\[34px\\]{width:34px!important}.\\!w-\\[38px\\]{width:38px!important}.\\!w-\\[50px\\]{width:50px!important}.w-0{width:0px}.w-0\\.5{width:.125rem}.w-1{width:.25rem}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-12{width:3rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-4\\/5{width:80%}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[100px\\]{width:100px}.w-\\[120px\\]{width:120px}.w-\\[160px\\]{width:160px}.w-\\[2\\.8rem\\]{width:2.8rem}.w-\\[235px\\]{width:235px}.w-\\[250px\\]{width:250px}.w-\\[260px\\]{width:260px}.w-\\[300px\\]{width:300px}.w-\\[30px\\]{width:30px}.w-\\[34px\\]{width:34px}.w-\\[350px\\]{width:350px}.w-\\[360px\\]{width:360px}.w-\\[386px\\]{width:386px}.w-\\[40\\%\\]{width:40%}.w-\\[50px\\]{width:50px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-16{min-width:4rem}.min-w-5{min-width:1.25rem}.min-w-\\[200px\\]{min-width:200px}.min-w-\\[300px\\]{min-width:300px}.min-w-\\[380px\\]{min-width:380px}.max-w-\\[360px\\]{max-width:360px}.max-w-\\[420px\\]{max-width:420px}.max-w-\\[70\\%\\]{max-width:70%}.max-w-full{max-width:100%}.flex-shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.basis-0{flex-basis:0px}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-px{gap:1px}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.\\!rounded-none{border-radius:0!important}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-l-xl{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-xl{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.rounded-tl-xl{border-top-left-radius:.75rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.\\!bg-gray-400{--tw-bg-opacity: 1 !important;background-color:rgb(156 163 175 / var(--tw-bg-opacity))!important}.\\!bg-white{--tw-bg-opacity: 1 !important;background-color:rgb(255 255 255 / var(--tw-bg-opacity))!important}.bg-amber-400{--tw-bg-opacity: 1;background-color:rgb(251 191 36 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity))}.bg-blue-200{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-500{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-opacity-30{--tw-bg-opacity: .3}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-85{--tw-bg-opacity: .85}.bg-opacity-90{--tw-bg-opacity: .9}.fill-blue-300{fill:#93c5fd}.fill-blue-400{fill:#60a5fa}.fill-current{fill:currentColor}.fill-gray-100{fill:#f3f4f6}.fill-gray-600{fill:#4b5563}.fill-slate-500{fill:#64748b}.fill-slate-700{fill:#334155}.fill-zinc-100{fill:#f4f4f5}.stroke-slate-700{stroke:#334155}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-\\[3px\\]{padding:3px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-0\\.5{padding-bottom:.125rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.\\!text-3xl{font-size:1.875rem!important;line-height:2.25rem!important}.\\!text-base{font-size:1rem!important;line-height:1.5rem!important}.\\!text-lg{font-size:1.125rem!important;line-height:1.75rem!important}.text-\\[150px\\]{font-size:150px}.text-\\[50px\\]{font-size:50px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.leading-none{line-height:1}.text-\\[\\#444444\\]{--tw-text-opacity: 1;color:rgb(68 68 68 / var(--tw-text-opacity))}.text-\\[\\#60A5FA\\]{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity))}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-zinc-600{--tw-text-opacity: 1;color:rgb(82 82 91 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.placeholder-gray-400::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.placeholder-gray-400::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.opacity-0{opacity:0}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:transform:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-blue-200:hover{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-red-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity))}.hover\\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-red-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity))}.focus\\:ring-opacity-50:focus{--tw-ring-opacity: .5}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-200:disabled{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:flex{display:flex}.group:hover .group-hover\\:border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.dark\\:divide-zinc-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(63 63 70 / var(--tw-divide-opacity))}.dark\\:border-gray-500:is(.dark *){--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}.dark\\:border-zinc-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(39 39 42 / var(--tw-border-opacity))}.dark\\:\\!bg-zinc-800:is(.dark *){--tw-bg-opacity: 1 !important;background-color:rgb(39 39 42 / var(--tw-bg-opacity))!important}.dark\\:bg-blue-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity))}.dark\\:bg-red-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(153 27 27 / var(--tw-bg-opacity))}.dark\\:bg-slate-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark\\:bg-transparent:is(.dark *){background-color:transparent}.dark\\:bg-zinc-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\\:bg-zinc-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.dark\\:bg-zinc-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.dark\\:fill-sky-700:is(.dark *){fill:#0369a1}.dark\\:fill-slate-300:is(.dark *){fill:#cbd5e1}.dark\\:fill-slate-400:is(.dark *){fill:#94a3b8}.dark\\:fill-zinc-600:is(.dark *){fill:#52525b}.dark\\:stroke-slate-300:is(.dark *){stroke:#cbd5e1}.dark\\:text-blue-100:is(.dark *){--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity))}.dark\\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.dark\\:text-gray-700:is(.dark *){--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.dark\\:text-red-100:is(.dark *){--tw-text-opacity: 1;color:rgb(254 226 226 / var(--tw-text-opacity))}.dark\\:text-slate-300:is(.dark *){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark\\:text-zinc-100:is(.dark *){--tw-text-opacity: 1;color:rgb(244 244 245 / var(--tw-text-opacity))}.dark\\:hover\\:bg-blue-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.dark\\:hover\\:bg-red-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-white:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.hover\\:dark\\:text-gray-900:is(.dark *):hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.dark\\:disabled\\:bg-gray-700:disabled:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.dark\\:disabled\\:text-gray-500:disabled:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.group:hover .group-hover\\:dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}@media (min-width: 640px){.sm\\:relative{position:relative}.sm\\:flex{display:flex}.sm\\:\\!hidden{display:none!important}.sm\\:hidden{display:none}.sm\\:h-\\[200px\\]{height:200px}.sm\\:h-\\[350px\\]{height:350px}.sm\\:w-1\\/4{width:25%}.sm\\:w-3\\/4{width:75%}.sm\\:w-\\[300px\\]{width:300px}.sm\\:w-\\[450px\\]{width:450px}.sm\\:min-w-\\[300px\\]{min-width:300px}.sm\\:max-w-\\[60\\%\\]{max-width:60%}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\\:hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.group:hover .sm\\:group-hover\\:flex{display:flex}.sm\\:hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.vfm--fixed{position:fixed}.vfm--absolute{position:absolute}.vfm--inset{top:0;right:0;bottom:0;left:0}.vfm--overlay{z-index:-1;background-color:#00000080}.vfm--prevent-none{pointer-events:none}.vfm--prevent-auto{pointer-events:auto}.vfm--outline-none:focus{outline:none}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.vfm-fade-enter-active{animation:fade-in .3s ease}.vfm-fade-leave-active{animation:fade-out .3s ease}.vfm-bounce-back{transition-property:transform;transition-duration:.3s}.vfm-slide-up-enter-active,.vfm-slide-up-leave-active,.vfm-slide-down-enter-active,.vfm-slide-down-leave-active{transition:transform .3s ease}.vfm-slide-down-enter-from,.vfm-slide-down-leave-to{transform:translateY(100vh)!important}.vfm-slide-up-enter-from,.vfm-slide-up-leave-to{transform:translateY(-100vh)!important}.vfm-slide-right-enter-active,.vfm-slide-right-leave-active,.vfm-slide-left-enter-active,.vfm-slide-left-leave-active{transition:transform .3s ease}.vfm-slide-right-enter-from,.vfm-slide-right-leave-to{transform:translate(100vw)!important}.vfm-slide-left-enter-from,.vfm-slide-left-leave-to{transform:translate(-100vw)!important}.vfm-swipe-banner-back,.vfm-swipe-banner-forward{position:fixed;top:0;bottom:0;width:27px;z-index:10}.vfm-swipe-banner-back{left:0}.vfm-swipe-banner-forward{right:0}.multiline-ellipsis[data-v-5a87a495]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.ellipsis[data-v-5a87a495]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.multiline-ellipsis[data-v-5248b347]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}[data-v-b091599d] .mapdiv>div>div{border-top-left-radius:12px!important;border-top-right-radius:12px!important;overflow:hidden}@keyframes bounce-40e5e96c{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.animate-bounce-1[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .1s}.animate-bounce-2[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .2s}.animate-bounce-3[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .3s}a[data-v-8498e872]{color:#42b983}label[data-v-8498e872]{margin:0 .5em;font-weight:700}code[data-v-8498e872]{background-color:#eee;padding:2px 4px;border-radius:4px;color:#304455}.multiline-ellipsis[data-v-5db3707c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.v-enter-active[data-v-c9c51bc0],.v-leave-active[data-v-c9c51bc0]{transition:opacity .2s ease-in-out}.v-enter-from[data-v-c9c51bc0],.v-leave-to[data-v-c9c51bc0]{opacity:0}[data-v-c9c51bc0] .mapdiv>div>div{border-top-left-radius:8px!important;border-top-right-radius:8px!important;overflow:hidden}.volumes[data-v-d7ca8ae1]{display:flex;height:100%;flex-direction:row-reverse;align-items:center;gap:.125rem;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.volumes[data-v-d7ca8ae1]::-webkit-scrollbar{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.flex{display:flex}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}html{transition-duration:.25s;transition-property:background-color;transition-timing-function:ease-in-out}html.dark{color:#e5e7eb;background-color:#22272e}.rotate-enter-active[data-v-dc349f35],.rotate-leave-active[data-v-dc349f35]{transition:all .25s ease-out}.rotate-enter-from[data-v-dc349f35]{opacity:0;transform:rotate(270deg)}.rotate-leave-to[data-v-dc349f35]{opacity:0;transform:rotate(180deg)}.atwho-view{color:#000;border-radius:3px;box-shadow:0 0 5px #0000001a;min-width:120px;z-index:11110!important}.atwho-ul{list-style:none}.atwho-li{display:block}.atwho-view{border-radius:6px;box-shadow:0 0 10px #656f7a80}.atwho-ul{max-height:135px;padding:0;margin:0}.atwho-li{box-sizing:border-box;height:27px;padding:0 12px;white-space:nowrap;display:flex;align-items:center}.atwho-li span{overflow:hidden;text-overflow:ellipsis}.atwho-cur{background:#5bb8ff;color:#fff}.atwho-wrap{position:relative}.atwho-panel{position:absolute}.atwho-inner{position:relative}.atwho-view{position:absolute;bottom:0;left:-.8em;cursor:default;background-color:#fffffff0;min-width:140px;max-width:180px;max-height:200px;overflow-y:auto}.atwho-view::-webkit-scrollbar{width:11px;height:11px}.atwho-view::-webkit-scrollbar-track{background-color:#f5f5f5}.atwho-view::-webkit-scrollbar-thumb{min-height:36px;border:2px solid transparent;border-top:3px solid transparent;border-bottom:3px solid transparent;background-clip:padding-box;border-radius:7px;background-color:#c4c4c4}[data-v-1587b7e4] .v3-body-inner{scrollbar-color:#393d3f rgba(0,0,0,.1);scrollbar-width:thin}[data-v-1587b7e4] .v3-body-inner::-webkit-scrollbar{width:8px}[data-v-1587b7e4] .v3-body-inner::-webkit-scrollbar-track{background-color:transparent}[data-v-1587b7e4] .v3-body-inner::-webkit-scrollbar-thumb{display:none;background:#0000004d;border-radius:5px}[data-v-1587b7e4] .v3-body-inner:hover::-webkit-scrollbar-thumb{display:block}[data-v-1587b7e4] .v3-emoji-picker{height:320px;width:280px;background:#fff;color:#000;box-shadow:0 2px 10px #0003;border-radius:10px;margin:0 auto;box-sizing:border-box;display:flex;flex-direction:column;text-align:left}[data-v-1587b7e4] .v3-emoji-picker *{box-sizing:border-box}[data-v-1587b7e4] .v3-emoji-picker .v3-header{padding:15px 15px 13px;border-bottom:1px solid #ddd}[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups{display:flex}[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups .v3-group{flex-grow:1;padding:0;margin:0;border:none;background:none;font-size:24px;cursor:pointer;position:relative;display:block;opacity:.7;transition:.2s}[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups .v3-group:first-child,[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups .v3-group:last-child{flex-grow:0}[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups .v3-group:hover{opacity:1}[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups .v3-group span{display:flex;align-items:center;justify-content:center}[data-v-1587b7e4] .v3-emoji-picker .v3-header .v3-groups .v3-group span img{display:block;width:1em;height:auto}[data-v-1587b7e4] .v3-emoji-picker .v3-spacing{height:11px}[data-v-1587b7e4] .v3-emoji-picker .v3-search input{width:100%;display:block;height:26px;padding:0 10px;border:1px solid #ccc;border-radius:3px;font-size:12px;transition:.2s}[data-v-1587b7e4] .v3-emoji-picker .v3-search input:focus{outline:none;border-color:#000}[data-v-1587b7e4] .v3-emoji-picker .v3-body{padding:0 0 15px 11px;min-height:0;flex-grow:1}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner{flex-grow:1;min-height:0;overflow-y:auto;overflow-x:hidden;height:100%;padding-right:11px}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5{margin:0;top:0;background:#fff;padding:7px 0 3px 4px}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5.v3-sticky{position:sticky}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis{display:flex;font-size:18px;flex-wrap:wrap}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button{cursor:pointer;border:none;background:none;margin:0;text-align:center;display:flex;align-items:center;justify-content:center;flex-basis:12.5%;max-width:12.5%;flex-grow:1;padding:0;font-size:22px}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button span{display:inline-block;padding-left:1px}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button:hover{background:#f7f7f7}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button img{max-width:100%;padding:4px}[data-v-1587b7e4] .v3-emoji-picker .v3-body .v3-body-inner.is-mac .v3-emojis button{font-family:"Apple Color Emoji"}[data-v-1587b7e4] .v3-emoji-picker .v3-footer{font-size:14px;border-top:1px solid #dddddd;padding:15px;display:flex;align-items:center;justify-content:space-between;position:relative}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone,[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-foot-left{display:flex;align-items:center}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone img,[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-foot-left img{width:20px;display:block}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone>span:first-child,[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-foot-left>span:first-child{margin-right:6px}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-foot-left>span.v3-text{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone{border:none;padding:0;background:none;cursor:pointer}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone>span{display:inline-flex;vertical-align:top}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone .v3-text{font-size:13px}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone .v3-icon{padding-bottom:3px}[data-v-1587b7e4] .v3-emoji-picker .v3-footer .v3-tone .is-mac span{font-family:"Apple Color Emoji"}[data-v-1587b7e4] .v3-skin-tones{position:absolute;background:#fff;height:100%;width:60%;top:0;left:0;display:flex;align-items:center;justify-content:flex-end;padding:0 15px;opacity:0;visibility:hidden;transition:.2s;border-radius:0 0 10px 10px}[data-v-1587b7e4] .v3-skin-tones.v3-is-open{opacity:1;visibility:visible}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone{display:inline-block;height:15px;width:25px;border:none;padding:0;cursor:pointer;transition:0ms}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone:hover{transform:scale(1.1);transition:.2s}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone-neutral{color:#ffd225;background-color:#ffd225}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone-1f3fb{color:#ffdfbd;background-color:#ffdfbd}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone-1f3fc{color:#e9c197;background-color:#e9c197}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone-1f3fd{color:#c88e62;background-color:#c88e62}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone-1f3fe{color:#a86637;background-color:#a86637}[data-v-1587b7e4] .v3-skin-tones .v3-skin-tone-1f3ff{color:#60463a;background-color:#60463a}[data-v-1587b7e4] .v3-input-emoji-picker *{box-sizing:border-box}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root{position:relative}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-input,[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{width:100%;height:40px;border:1px solid #999;padding-left:15px}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{min-height:80px;resize:vertical}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea+.v3-input-picker-wrap .v3-input-picker-icon{top:auto;bottom:5px}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon{display:inline-flex;position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:24px;border:none;background:none;padding:0 5px;cursor:pointer}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon img{display:block;width:1em;height:1em}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-emoji-picker{opacity:0;visibility:hidden;transition:.2s}[data-v-1587b7e4] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap.v3-picker-is-open .v3-emoji-picker{opacity:1;visibility:visible;z-index:999}.multiline-ellipsis[data-v-1587b7e4]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}@keyframes bg-4b24a960{0% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 0%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); } 50% { --tw-bg-opacity: 1; background-color: rgb(229 231 235 / var(--tw-bg-opacity)); } 50%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(82 82 91 / var(--tw-bg-opacity)); } 100% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 100%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); }}.loading[data-v-4b24a960]{animation:bg-4b24a960 2s infinite}@keyframes bg-f7d4b60d{0%{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}}@keyframes bg-dark-f7d4b60d{0%{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.dark .loading[data-v-f7d4b60d]{animation:bg-dark-f7d4b60d 2s infinite}.loading[data-v-f7d4b60d]{animation:bg-f7d4b60d 2s infinite}.slide-fade-enter-from[data-v-f7d4b60d]{transform:translateY(20px);opacity:0}.slide-fade-enter-active[data-v-f7d4b60d]{transition:all .15s ease-in-out}.slide-fade-enter-to[data-v-f7d4b60d],.slide-fade-leave-from[data-v-f7d4b60d]{transform:translateY(0);opacity:1}.slide-fade-leave-active[data-v-f7d4b60d]{transition:all .15s ease-in-out}.slide-fade-leave-to[data-v-f7d4b60d]{transform:translateY(20px);opacity:0}
`,document.head.appendChild(Hr),new TextEncoder;const go=new TextDecoder,gg=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},FO=t=>{let e=t;e instanceof Uint8Array&&(e=go.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return gg(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class UO extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}class bo extends UO{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function $O(t){return typeof t=="object"&&t!==null}function jO(t){if(!$O(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const HO=FO;function zO(t){if(typeof t!="string")throw new bo("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new bo("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new bo("Invalid JWT");if(!e)throw new bo("JWTs must contain a payload");let n;try{n=HO(e)}catch{throw new bo("Failed to base64url decode the payload")}let i;try{i=JSON.parse(go.decode(n))}catch{throw new bo("Failed to parse the decoded payload as JSON")}if(!jO(i))throw new bo("Invalid JWT Claims Set");return i}function bg(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function yo(t){return typeof t=="function"?t():u.unref(t)}const yg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const VO=Object.prototype.toString,cT=t=>VO.call(t)==="[object Object]",Rl=()=>{},_g=qO();function qO(){var t,e;return yg&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const dT={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function WO(t){return u.getCurrentInstance()}function GO(...t){if(t.length!==1)return u.toRef(...t);const e=t[0];return typeof e=="function"?u.readonly(u.customRef(()=>({get:e,set:Rl}))):u.ref(e)}function YO(t,e){WO()&&u.onUnmounted(t,e)}function fT(t){var e;const r=yo(t);return(e=r==null?void 0:r.$el)!=null?e:r}const QO=yg?window:void 0;function Qi(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=QO):[e,r,n,i]=t,!e)return Rl;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],a=()=>{s.forEach(f=>f()),s.length=0},o=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[fT(e),yo(i)],([f,c])=>{if(a(),!f)return;const h=cT(c)?{...c}:c;s.push(...r.flatMap(p=>n.map(m=>o(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),a()};return bg(d),d}const KO=500,XO=10;function ZO(t,e,r){var n,i;const s=u.computed(()=>fT(t));let a,o,l,d=!1;function f(){a&&(clearTimeout(a),a=void 0),o=void 0,l=void 0,d=!1}function c(_){var x,C,k;const[S,w,L]=[l,o,d];if(f(),!(r!=null&&r.onMouseUp)||!w||!S||(x=r==null?void 0:r.modifiers)!=null&&x.self&&_.target!==s.value)return;(C=r==null?void 0:r.modifiers)!=null&&C.prevent&&_.preventDefault(),(k=r==null?void 0:r.modifiers)!=null&&k.stop&&_.stopPropagation();const D=_.x-w.x,I=_.y-w.y,P=Math.sqrt(D*D+I*I);r.onMouseUp(_.timeStamp-S,P,L)}function h(_){var x,C,k,S;(x=r==null?void 0:r.modifiers)!=null&&x.self&&_.target!==s.value||(f(),(C=r==null?void 0:r.modifiers)!=null&&C.prevent&&_.preventDefault(),(k=r==null?void 0:r.modifiers)!=null&&k.stop&&_.stopPropagation(),o={x:_.x,y:_.y},l=_.timeStamp,a=setTimeout(()=>{d=!0,e(_)},(S=r==null?void 0:r.delay)!=null?S:KO))}function p(_){var x,C,k,S;if((x=r==null?void 0:r.modifiers)!=null&&x.self&&_.target!==s.value||!o||(r==null?void 0:r.distanceThreshold)===!1)return;(C=r==null?void 0:r.modifiers)!=null&&C.prevent&&_.preventDefault(),(k=r==null?void 0:r.modifiers)!=null&&k.stop&&_.stopPropagation();const w=_.x-o.x,L=_.y-o.y;Math.sqrt(w*w+L*L)>=((S=r==null?void 0:r.distanceThreshold)!=null?S:XO)&&f()}const m={capture:(n=r==null?void 0:r.modifiers)==null?void 0:n.capture,once:(i=r==null?void 0:r.modifiers)==null?void 0:i.once},b=[Qi(s,"pointerdown",h,m),Qi(s,"pointermove",p,m),Qi(s,["pointerup","pointerleave"],c,m)];return()=>b.forEach(_=>_())}function JO(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function eL(t){return typeof t=="function"?t():u.unref(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function tL(t){var e;const r=eL(t);return(e=r==null?void 0:r.$el)!=null?e:r}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hT=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],lh=hT.join(","),pT=typeof Element>"u",_o=pT?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,uh=!pT&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ch=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=i===""||i==="true",a=s||r&&e&&t(e.parentNode);return a},rL=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},mT=function(e,r,n){if(ch(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(lh));return r&&_o.call(e,lh)&&i.unshift(e),i=i.filter(n),i},gT=function t(e,r,n){for(var i=[],s=Array.from(e);s.length;){var a=s.shift();if(!ch(a,!1))if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,d=t(l,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else{var f=_o.call(a,lh);f&&n.filter(a)&&(r||!e.includes(a))&&i.push(a);var c=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),h=!ch(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(c&&h){var p=t(c===!0?a.children:c.children,!0,n);n.flatten?i.push.apply(i,p):i.push({scopeParent:a,candidates:p})}else s.unshift.apply(s,a.children)}}return i},bT=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},vo=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||rL(e))&&!bT(e)?0:e.tabIndex},nL=function(e,r){var n=vo(e);return n<0&&r&&!bT(e)?0:n},iL=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},yT=function(e){return e.tagName==="INPUT"},sL=function(e){return yT(e)&&e.type==="hidden"},aL=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},oL=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},lL=function(e){if(!e.name)return!0;var r=e.form||uh(e),n=function(o){return r.querySelectorAll('input[type="radio"][name="'+o+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=oL(i,e.form);return!s||s===e},uL=function(e){return yT(e)&&e.type==="radio"},cL=function(e){return uL(e)&&!lL(e)},dL=function(e){var r,n=e&&uh(e),i=(r=n)===null||r===void 0?void 0:r.host,s=!1;if(n&&n!==e){var a,o,l;for(s=!!((a=i)!==null&&a!==void 0&&(o=a.ownerDocument)!==null&&o!==void 0&&o.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var d,f,c;n=uh(i),i=(d=n)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return s},_T=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},fL=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=_o.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(_o.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var o=e;e;){var l=e.parentElement,d=uh(e);if(l&&!l.shadowRoot&&i(l)===!0)return _T(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=o}if(dL(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return _T(e);return!1},hL=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return _o.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},dh=function(e,r){return!(r.disabled||ch(r)||sL(r)||fL(r,e)||aL(r)||hL(r))},vg=function(e,r){return!(cL(r)||vo(r)<0||!dh(e,r))},pL=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},mL=function t(e){var r=[],n=[];return e.forEach(function(i,s){var a=!!i.scopeParent,o=a?i.scopeParent:i,l=nL(o,a),d=a?t(i.candidates):o;l===0?a?r.push.apply(r,d):r.push(o):n.push({documentOrder:s,tabIndex:l,item:i,isScope:a,content:d})}),n.sort(iL).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(r)},gL=function(e,r){r=r||{};var n;return r.getShadowRoot?n=gT([e],r.includeContainer,{filter:vg.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:pL}):n=mT(e,r.includeContainer,vg.bind(null,r)),mL(n)},bL=function(e,r){r=r||{};var n;return r.getShadowRoot?n=gT([e],r.includeContainer,{filter:dh.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=mT(e,r.includeContainer,dh.bind(null,r)),n},Bl=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return _o.call(e,lh)===!1?!1:vg(r,e)},yL=hT.concat("iframe").join(","),Tg=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return _o.call(e,yL)===!1?!1:dh(r,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function vT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(r),!0).forEach(function(n){_L(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _L(t,e,r){return e=TL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vL(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TL(t){var e=vL(t,"string");return typeof e=="symbol"?e:String(e)}var ET={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},EL=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},AL=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Bc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},xL=function(e){return Bc(e)&&!e.shiftKey},CL=function(e){return Bc(e)&&e.shiftKey},AT=function(e){return setTimeout(e,0)},xT=function(e,r){var n=-1;return e.every(function(i,s){return r(i)?(n=s,!1):!0}),n},Pc=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},fh=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},wL=[],SL=function(e,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||wL,s=TT({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:xL,isKeyBackward:CL},r),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,l=function(U,$,H){return U&&U[$]!==void 0?U[$]:s[H||$]},d=function(U,$){var H=typeof($==null?void 0:$.composedPath)=="function"?$.composedPath():void 0;return a.containerGroups.findIndex(function(Y){var F=Y.container,j=Y.tabbableNodes;return F.contains(U)||(H==null?void 0:H.includes(F))||j.find(function(se){return se===U})})},f=function(U){var $=s[U];if(typeof $=="function"){for(var H=arguments.length,Y=new Array(H>1?H-1:0),F=1;F<H;F++)Y[F-1]=arguments[F];$=$.apply(void 0,Y)}if($===!0&&($=void 0),!$){if($===void 0||$===!1)return $;throw new Error("`".concat(U,"` was specified but was not a node, or did not return a node"))}var j=$;if(typeof $=="string"&&(j=n.querySelector($),!j))throw new Error("`".concat(U,"` as selector refers to no known node"));return j},c=function(){var U=f("initialFocus");if(U===!1)return!1;if(U===void 0||!Tg(U,s.tabbableOptions))if(d(n.activeElement)>=0)U=n.activeElement;else{var $=a.tabbableGroups[0],H=$&&$.firstTabbableNode;U=H||f("fallbackFocus")}if(!U)throw new Error("Your focus-trap needs to have at least one focusable element");return U},h=function(){if(a.containerGroups=a.containers.map(function(U){var $=gL(U,s.tabbableOptions),H=bL(U,s.tabbableOptions),Y=$.length>0?$[0]:void 0,F=$.length>0?$[$.length-1]:void 0,j=H.find(function(R){return Bl(R)}),se=H.slice().reverse().find(function(R){return Bl(R)}),W=!!$.find(function(R){return vo(R)>0});return{container:U,tabbableNodes:$,focusableNodes:H,posTabIndexesFound:W,firstTabbableNode:Y,lastTabbableNode:F,firstDomTabbableNode:j,lastDomTabbableNode:se,nextTabbableNode:function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Z=$.indexOf(N);return Z<0?V?H.slice(H.indexOf(N)+1).find(function(X){return Bl(X)}):H.slice(0,H.indexOf(N)).reverse().find(function(X){return Bl(X)}):$[Z+(V?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(U){return U.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(U){return U.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function z(U){var $=U.activeElement;if($)return $.shadowRoot&&$.shadowRoot.activeElement!==null?z($.shadowRoot):$},m=function z(U){if(U!==!1&&U!==p(document)){if(!U||!U.focus){z(c());return}U.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=U,EL(U)&&U.select()}},b=function(U){var $=f("setReturnFocus",U);return $||($===!1?!1:U)},y=function(U){var $=U.target,H=U.event,Y=U.isBackward,F=Y===void 0?!1:Y;$=$||fh(H),h();var j=null;if(a.tabbableGroups.length>0){var se=d($,H),W=se>=0?a.containerGroups[se]:void 0;if(se<0)F?j=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:j=a.tabbableGroups[0].firstTabbableNode;else if(F){var R=xT(a.tabbableGroups,function(de){var le=de.firstTabbableNode;return $===le});if(R<0&&(W.container===$||Tg($,s.tabbableOptions)&&!Bl($,s.tabbableOptions)&&!W.nextTabbableNode($,!1))&&(R=se),R>=0){var N=R===0?a.tabbableGroups.length-1:R-1,V=a.tabbableGroups[N];j=vo($)>=0?V.lastTabbableNode:V.lastDomTabbableNode}else Bc(H)||(j=W.nextTabbableNode($,!1))}else{var Z=xT(a.tabbableGroups,function(de){var le=de.lastTabbableNode;return $===le});if(Z<0&&(W.container===$||Tg($,s.tabbableOptions)&&!Bl($,s.tabbableOptions)&&!W.nextTabbableNode($))&&(Z=se),Z>=0){var X=Z===a.tabbableGroups.length-1?0:Z+1,K=a.tabbableGroups[X];j=vo($)>=0?K.firstTabbableNode:K.firstDomTabbableNode}else Bc(H)||(j=W.nextTabbableNode($))}}else j=f("fallbackFocus");return j},_=function(U){var $=fh(U);if(!(d($,U)>=0)){if(Pc(s.clickOutsideDeactivates,U)){o.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Pc(s.allowOutsideClick,U)||U.preventDefault()}},x=function(U){var $=fh(U),H=d($,U)>=0;if(H||$ instanceof Document)H&&(a.mostRecentlyFocusedNode=$);else{U.stopImmediatePropagation();var Y,F=!0;if(a.mostRecentlyFocusedNode)if(vo(a.mostRecentlyFocusedNode)>0){var j=d(a.mostRecentlyFocusedNode),se=a.containerGroups[j].tabbableNodes;if(se.length>0){var W=se.findIndex(function(R){return R===a.mostRecentlyFocusedNode});W>=0&&(s.isKeyForward(a.recentNavEvent)?W+1<se.length&&(Y=se[W+1],F=!1):W-1>=0&&(Y=se[W-1],F=!1))}}else a.containerGroups.some(function(R){return R.tabbableNodes.some(function(N){return vo(N)>0})})||(F=!1);else F=!1;F&&(Y=y({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),m(Y||a.mostRecentlyFocusedNode||c())}a.recentNavEvent=void 0},C=function(U){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=U;var H=y({event:U,isBackward:$});H&&(Bc(U)&&U.preventDefault(),m(H))},k=function(U){if(AL(U)&&Pc(s.escapeDeactivates,U)!==!1){U.preventDefault(),o.deactivate();return}(s.isKeyForward(U)||s.isKeyBackward(U))&&C(U,s.isKeyBackward(U))},S=function(U){var $=fh(U);d($,U)>=0||Pc(s.clickOutsideDeactivates,U)||Pc(s.allowOutsideClick,U)||(U.preventDefault(),U.stopImmediatePropagation())},w=function(){if(a.active)return ET.activateTrap(i,o),a.delayInitialFocusTimer=s.delayInitialFocus?AT(function(){m(c())}):m(c()),n.addEventListener("focusin",x,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",S,{capture:!0,passive:!1}),n.addEventListener("keydown",k,{capture:!0,passive:!1}),o},L=function(){if(a.active)return n.removeEventListener("focusin",x,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",S,!0),n.removeEventListener("keydown",k,!0),o},D=function(U){var $=U.some(function(H){var Y=Array.from(H.removedNodes);return Y.some(function(F){return F===a.mostRecentlyFocusedNode})});$&&m(c())},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,P=function(){I&&(I.disconnect(),a.active&&!a.paused&&a.containers.map(function(U){I.observe(U,{subtree:!0,childList:!0})}))};return o={get active(){return a.active},get paused(){return a.paused},activate:function(U){if(a.active)return this;var $=l(U,"onActivate"),H=l(U,"onPostActivate"),Y=l(U,"checkCanFocusTrap");Y||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,$==null||$();var F=function(){Y&&h(),w(),P(),H==null||H()};return Y?(Y(a.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(U){if(!a.active)return this;var $=TT({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},U);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,L(),a.active=!1,a.paused=!1,P(),ET.deactivateTrap(i,o);var H=l($,"onDeactivate"),Y=l($,"onPostDeactivate"),F=l($,"checkCanReturnFocus"),j=l($,"returnFocus","returnFocusOnDeactivate");H==null||H();var se=function(){AT(function(){j&&m(b(a.nodeFocusedBeforeActivation)),Y==null||Y()})};return j&&F?(F(b(a.nodeFocusedBeforeActivation)).then(se,se),this):(se(),this)},pause:function(U){if(a.paused||!a.active)return this;var $=l(U,"onPause"),H=l(U,"onPostPause");return a.paused=!0,$==null||$(),L(),P(),H==null||H(),this},unpause:function(U){if(!a.paused||!a.active)return this;var $=l(U,"onUnpause"),H=l(U,"onPostUnpause");return a.paused=!1,$==null||$(),h(),w(),P(),H==null||H(),this},updateContainerElements:function(U){var $=[].concat(U).filter(Boolean);return a.containers=$.map(function(H){return typeof H=="string"?n.querySelector(H):H}),a.active&&h(),P(),this}},o.updateContainerElements(e),o};function kL(t,e={}){let r;const{immediate:n,...i}=e,s=u.ref(!1),a=u.ref(!1),o=c=>r&&r.activate(c),l=c=>r&&r.deactivate(c),d=()=>{r&&(r.pause(),a.value=!0)},f=()=>{r&&(r.unpause(),a.value=!1)};return u.watch(()=>tL(t),c=>{c&&(r=SL(c,{...i,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&o())},{flush:"post"}),JO(()=>l()),{hasFocus:s,isPaused:a,activate:o,deactivate:l,pause:d,unpause:f}}const IL=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Fc=()=>{};function hh(t,e,r){return t>r?r:t<e?e:t}const Eg=t=>typeof t=="string";function Ag(t,e){var r;const n=((r=Uc(t,e))==null?void 0:r[0])||e;t.push(n)}function Uc(t,e){const r=t.indexOf(e);if(r!==-1)return t.splice(r,1)}function CT(t){return Object.entries(t)}const DL={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function wT(t=!1){const e=u.ref(t),r=u.ref(e.value?0:void 0);return[e,r,{beforeEnter(){r.value=1},afterEnter(){r.value=0},beforeLeave(){r.value=3},afterLeave(){r.value=2}}]}function NL(t,e){const{modelValueLocal:r,onEntering:n,onEnter:i,onLeaving:s,onLeave:a}=e,o=u.ref(r.value),[l,d,f]=wT(o.value),[c,h,p]=wT(o.value),m=u.computed(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),b=u.computed(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),y=u.computed(()=>(t.hideOverlay||h.value===2)&&d.value===2);u.watch(y,C=>{C&&(o.value=!1)}),u.watch(d,C=>{if(C===1){if(!o.value)return;n==null||n()}else if(C===0){if(!o.value)return;i==null||i()}else C===3?s==null||s():C===2&&(a==null||a())});async function _(){o.value=!0,await u.nextTick(),l.value=!0,c.value=!0}function x(){l.value=!1,c.value=!1}return{visible:o,contentVisible:l,contentListeners:f,contentTransition:m,overlayVisible:c,overlayListeners:p,overlayTransition:b,enterTransition:_,leaveTransition:x}}function ML(t,e,r){const{vfmRootEl:n,vfmContentEl:i,visible:s,modelValueLocal:a}=r,o=u.ref();function l(){s.value&&t.escToClose&&(a.value=!1)}function d(c){o.value=c==null?void 0:c.target}function f(){var c;o.value===n.value&&(t.clickToClose?a.value=!1:((c=i.value)==null||c.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:f,onMousedown:d}}function OL(t,e,r){let n=!1;const{open:i,close:s}=r,a=u.ref(!1),o={get value(){return a.value},set value(d){l(d)}};function l(d){(d?i():s())?(a.value=d,d!==t.modelValue&&e("update:modelValue",d)):(n=!0,e("update:modelValue",!d),u.nextTick(()=>{n=!1}))}return u.watch(()=>t.modelValue,d=>{n||(o.value=!!d)}),{modelValueLocal:o}}function LL(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:r}=e,{hasFocus:n,activate:i,deactivate:s}=kL(r,t.focusTrap);function a(){requestAnimationFrame(()=>{i()})}function o(){n.value&&s()}return{focus:a,blur:o}}let xg=!1;if(typeof window<"u"){const t={get passive(){xg=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const ST=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let Ia=[],ph=!1,mh=0,kT=-1,$c,jc;const RL=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},BL=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),PL=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},FL=(t,e)=>{let r=!1;return PL(t).forEach(n=>{RL(n)&&BL(n,e)&&(r=!0)}),r},IT=t=>Ia.some(()=>FL(t,-mh)),Cg=t=>{const e=t||window.event;return IT(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},UL=t=>{if(jc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(e&&r>0){const n=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);jc=document.body.style.paddingRight,document.body.style.paddingRight=`${n+r}px`}}$c===void 0&&($c=document.body.style.overflow,document.body.style.overflow="hidden")},$L=()=>{jc!==void 0&&(document.body.style.paddingRight=jc,jc=void 0),$c!==void 0&&(document.body.style.overflow=$c,$c=void 0)},jL=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,HL=(t,e)=>(mh=t.targetTouches[0].clientY-kT,IT(t.target)?!1:e&&e.scrollTop===0&&mh>0||jL(e)&&mh<0?Cg(t):(t.stopPropagation(),!0)),zL=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(Ia.some(n=>n.targetElement===t))return;const r={targetElement:t,options:e||{}};Ia=[...Ia,r],ST?(t.ontouchstart=n=>{n.targetTouches.length===1&&(kT=n.targetTouches[0].clientY)},t.ontouchmove=n=>{n.targetTouches.length===1&&HL(n,t)},ph||(document.addEventListener("touchmove",Cg,xg?{passive:!1}:void 0),ph=!0)):UL(e)},VL=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Ia=Ia.filter(e=>e.targetElement!==t),ST?(t.ontouchstart=null,t.ontouchmove=null,ph&&Ia.length===0&&(document.removeEventListener("touchmove",Cg,xg?{passive:!1}:void 0),ph=!1)):Ia.length||$L()};function qL(t,e){const{lockScrollEl:r,modelValueLocal:n}=e;let i;u.watch(r,o=>{o&&(i=o)},{immediate:!0}),u.watch(()=>t.lockScroll,o=>{o?a():s()}),u.onBeforeUnmount(()=>{s()});function s(){i&&VL(i)}function a(){n.value&&t.lockScroll&&i&&zL(i,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:o=>{for(;o&&o!==document.body;){if(o.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;o=o.parentElement}return!1}})}return{enableBodyScroll:s,disableBodyScroll:a}}function WL(t){const e=u.ref();function r(i){var s;e.value=(s=t.zIndexFn)==null?void 0:s.call(t,{index:i<=-1?0:i})}function n(){e.value=void 0}return{zIndex:e,refreshZIndex:r,resetZIndex:n}}const wg={beforeMount(t,{value:e},{transition:r}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,r&&e?r.beforeEnter(t):Hc(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Hc(t,!0),n.enter(t)):n.leave(t,()=>{Hc(t,!1)}):Hc(t,e))},beforeUnmount(t,{value:e}){Hc(t,e)}};function Hc(t,e){t.style.visibility=e?t._vov:"hidden"}const DT=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:r}=t;return{x:e,y:r}}else{const{clientX:e,clientY:r}=t.targetTouches[0];return{x:e,y:r}}};function GL(t){if(!t)return!1;let e=!1;const r={get passive(){return e=!0,!1}};return t.addEventListener("x",Fc,r),t.removeEventListener("x",Fc),e}function YL(t,{threshold:e=0,onSwipeStart:r,onSwipe:n,onSwipeEnd:i,passive:s=!0}){const a=u.reactive({x:0,y:0}),o=u.reactive({x:0,y:0}),l=u.computed(()=>a.x-o.x),d=u.computed(()=>a.y-o.y),{max:f,abs:c}=Math,h=u.computed(()=>f(c(l.value),c(d.value))>=e),p=u.ref(!1),m=u.computed(()=>h.value?c(l.value)>c(d.value)?l.value>0?"left":"right":d.value>0?"up":"down":"none"),b=(L,D)=>{a.x=L,a.y=D},y=(L,D)=>{o.x=L,o.y=D};let _,x;function C(L){_.capture&&!_.passive&&L.preventDefault();const{x:D,y:I}=DT(L);b(D,I),y(D,I),r==null||r(L),x=[Qi(t,"mousemove",k,_),Qi(t,"touchmove",k,_),Qi(t,"mouseup",S,_),Qi(t,"touchend",S,_),Qi(t,"touchcancel",S,_)]}function k(L){const{x:D,y:I}=DT(L);y(D,I),!p.value&&h.value&&(p.value=!0),p.value&&(n==null||n(L))}function S(L){p.value&&(i==null||i(L,m.value)),p.value=!1,x.forEach(D=>D())}let w=[];return u.onMounted(()=>{const L=GL(window==null?void 0:window.document);s?_=L?{passive:!0}:{capture:!1}:_=L?{passive:!1,capture:!0}:{capture:!0},w=[Qi(t,"mousedown",C,_),Qi(t,"touchstart",C,_)]}),{isSwiping:p,direction:m,coordsStart:a,coordsEnd:o,lengthX:l,lengthY:d,stop:()=>{w.forEach(L=>L()),x.forEach(L=>L())}}}function QL(t,e){const{vfmContentEl:r,modelValueLocal:n}=e,i=.1,s=300,a=u.ref(),o=u.computed(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?a.value:r.value}),l=u.ref(0),d=u.ref(!0);let f=Fc,c=!0,h,p=!1;const{lengthX:m,lengthY:b,direction:y,isSwiping:_}=YL(o,{threshold:t.threshold,onSwipeStart(S){f=Qi(document,"selectionchange",()=>{var w;d.value=(w=window.getSelection())==null?void 0:w.isCollapsed}),h=new Date().getTime(),p=k(S==null?void 0:S.target)},onSwipe(){var S,w,L,D;if(p&&d.value&&y.value===t.swipeToClose){if(y.value==="up"){const I=hh(Math.abs(b.value||0),0,((S=o.value)==null?void 0:S.offsetHeight)||0)-(t.threshold||0);l.value=I}else if(y.value==="down"){const I=hh(Math.abs(b.value||0),0,((w=o.value)==null?void 0:w.offsetHeight)||0)-(t.threshold||0);l.value=-I}else if(y.value==="right"){const I=hh(Math.abs(m.value||0),0,((L=o.value)==null?void 0:L.offsetWidth)||0)-(t.threshold||0);l.value=-I}else if(y.value==="left"){const I=hh(Math.abs(m.value||0),0,((D=o.value)==null?void 0:D.offsetWidth)||0)-(t.threshold||0);l.value=I}}},onSwipeEnd(S,w){if(f(),!d.value){d.value=!0;return}const L=new Date().getTime(),D=w===t.swipeToClose,I=(()=>{var z,U;if(w==="up"||w==="down")return Math.abs((b==null?void 0:b.value)||0)>i*(((z=o.value)==null?void 0:z.offsetHeight)||0);if(w==="left"||w==="right")return Math.abs((m==null?void 0:m.value)||0)>i*(((U=o.value)==null?void 0:U.offsetWidth)||0)})(),P=L-h<=s;if(c&&p&&D&&(I||P)){n.value=!1;return}l.value=0}}),x=u.computed(()=>{if(t.swipeToClose==="none")return;const S=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!_.value},style:{transform:`${S}(${-l.value}px)`}}});u.watch(()=>d.value,S=>{S||(l.value=0)}),u.watch(()=>n.value,S=>{S&&(l.value=0)}),u.watch(()=>l.value,(S,w)=>{switch(t.swipeToClose){case"down":case"right":c=S<w;break;case"up":case"left":c=S>w;break}});function C(S){t.preventNavigationGestures&&S.preventDefault()}function k(S){const w=S==null?void 0:S.tagName;if(!w||["INPUT","TEXTAREA"].includes(w))return!1;const L=(()=>{switch(t.swipeToClose){case"up":return(S==null?void 0:S.scrollTop)+(S==null?void 0:S.clientHeight)===(S==null?void 0:S.scrollHeight);case"left":return(S==null?void 0:S.scrollLeft)+(S==null?void 0:S.clientWidth)===(S==null?void 0:S.scrollWidth);case"down":return(S==null?void 0:S.scrollTop)===0;case"right":return(S==null?void 0:S.scrollLeft)===0;default:return!1}})();return S===o.value?L:L&&k(S==null?void 0:S.parentElement)}return{vfmContentEl:r,swipeBannerEl:a,bindSwipe:x,onTouchStartSwipeBanner:C}}const NT=Symbol("vfm");let To;const KL=t=>To=t,XL={install:Fc,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:u.ref([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},ZL=()=>u.getCurrentInstance()&&u.inject(NT,XL)||To;function JL(){const t=u.shallowReactive([]),e=u.shallowReactive([]),r=u.shallowReactive([]),n=u.shallowReactive([]),i=u.ref([]),s=u.markRaw({install(a){a.provide(NT,s),a.config.globalProperties.$vfm=s},modals:t,openedModals:e,openedModalOverlays:r,dynamicModals:n,modalsContainers:i,get(a){return t.find(o=>{var l,d;return((d=(l=zc(o))==null?void 0:l.value.modalId)==null?void 0:d.value)===a})},toggle(a,o){var l;const d=s.get(a);return(l=zc(d))==null?void 0:l.value.toggle(o)},open(a){return s.toggle(a,!0)},close(a){return s.toggle(a,!1)},closeAll(){return Promise.allSettled(e.reduce((a,o)=>{const l=zc(o),d=l==null?void 0:l.value.toggle(!1);return d&&a.push(d),a},[]))}});return KL(s),s}function zc(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const eR=u.defineComponent({inheritAttrs:!1}),vs=u.defineComponent({...eR,__name:"VueFinalModal",props:DL,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:r}){const n=t,i=r,s=u.useAttrs(),a=u.getCurrentInstance(),{modals:o,openedModals:l,openedModalOverlays:d}=kn(),f=u.ref(),c=u.ref(),{focus:h,blur:p}=LL(n,{focusEl:f}),{zIndex:m,refreshZIndex:b,resetZIndex:y}=WL(n),{modelValueLocal:_}=OL(n,i,{open:N,close:V}),{enableBodyScroll:x,disableBodyScroll:C}=qL(n,{lockScrollEl:f,modelValueLocal:_});let k=Fc;const{visible:S,contentVisible:w,contentListeners:L,contentTransition:D,overlayVisible:I,overlayListeners:P,overlayTransition:z,enterTransition:U,leaveTransition:$}=NL(n,{modelValueLocal:_,onEntering(){u.nextTick(()=>{C(),h()})},onEnter(){i("opened"),k("opened")},onLeave(){Uc(l,a),y(),x(),i("closed"),k("closed")}}),{onEsc:H,onMouseupRoot:Y,onMousedown:F}=ML(n,i,{vfmRootEl:f,vfmContentEl:c,visible:S,modelValueLocal:_}),{swipeBannerEl:j,bindSwipe:se,onTouchStartSwipeBanner:W}=QL(n,{vfmContentEl:c,modelValueLocal:_}),R=u.computed(()=>a?l.indexOf(a):-1);u.watch([()=>n.zIndexFn,R],()=>{S.value&&b(R.value)}),u.onMounted(()=>{Ag(o,a)}),n.modelValue&&(_.value=!0);function N(){let ge=!1;return i("beforeOpen",{stop:()=>ge=!0}),ge?!1:(Ag(l,a),Ag(d,a),X(),U(),!0)}function V(){let ge=!1;return i("beforeClose",{stop:()=>ge=!0}),ge?!1:(Uc(d,a),X(),p(),$(),!0)}function Z(){_.value=!1}u.onBeforeUnmount(()=>{x(),Uc(o,a),Uc(l,a),p(),X()});async function X(){await u.nextTick();const ge=d.filter(me=>{var Ce;const Ne=zc(me);return(Ne==null?void 0:Ne.value.overlayBehavior.value)==="auto"&&!((Ce=Ne==null?void 0:Ne.value.hideOverlay)!=null&&Ce.value)});ge.forEach((me,Ce)=>{const Ne=zc(me);Ne!=null&&Ne.value&&(Ne.value.overlayVisible.value=Ce===ge.length-1)})}const K=u.toRef(()=>n.modalId),de=u.toRef(()=>n.hideOverlay),le=u.toRef(()=>n.overlayBehavior),Te=u.computed(()=>({modalId:K,hideOverlay:de,overlayBehavior:le,overlayVisible:I,toggle(ge){return new Promise(me=>{k=IL(Ne=>me(Ne));const Ce=typeof ge=="boolean"?ge:!_.value;_.value=Ce})}}));return e({modalExposed:Te}),(ge,me)=>(u.openBlock(),u.createBlock(u.Teleport,{to:ge.teleportTo?ge.teleportTo:void 0,disabled:!ge.teleportTo},[ge.displayDirective!=="if"||u.unref(S)?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0},u.unref(s),{ref_key:"vfmRootEl",ref:f,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":ge.background==="interactive"}],style:{zIndex:u.unref(m)},role:"dialog","aria-modal":"true",onKeydown:me[7]||(me[7]=u.withKeys(()=>u.unref(H)(),["esc"])),onMouseup:me[8]||(me[8]=u.withModifiers(()=>u.unref(Y)(),["self"])),onMousedown:me[9]||(me[9]=u.withModifiers(Ce=>u.unref(F)(Ce),["self"]))}),[de.value?u.createCommentVNode("",!0):(u.openBlock(),u.createBlock(u.Transition,u.mergeProps({key:0},u.unref(z),u.toHandlers(u.unref(P))),{default:u.withCtx(()=>[ge.displayDirective!=="if"||u.unref(I)?u.withDirectives((u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",ge.overlayClass]),style:u.normalizeStyle(ge.overlayStyle),"aria-hidden":"true"},null,6)),[[u.vShow,ge.displayDirective!=="show"||u.unref(I)],[u.unref(wg),ge.displayDirective!=="visible"||u.unref(I)]]):u.createCommentVNode("",!0)]),_:1},16)),u.createVNode(u.Transition,u.mergeProps(u.unref(D),u.toHandlers(u.unref(L))),{default:u.withCtx(()=>[ge.displayDirective!=="if"||u.unref(w)?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0,ref_key:"vfmContentEl",ref:c,class:["vfm__content vfm--outline-none",[ge.contentClass,{"vfm--prevent-auto":ge.background==="interactive"}]],style:ge.contentStyle,tabindex:"0"},u.unref(se),{onMousedown:me[6]||(me[6]=()=>u.unref(F)())}),[u.renderSlot(ge.$slots,"default",u.normalizeProps(u.guardReactiveProps({close:Z}))),ge.showSwipeBanner?(u.openBlock(),u.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:j,class:"vfm-swipe-banner-container",onTouchstart:me[2]||(me[2]=Ce=>u.unref(W)(Ce))},[u.renderSlot(ge.$slots,"swipe-banner",{},()=>[u.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:me[0]||(me[0]=Ce=>ge.swipeToClose==="left"&&Ce.preventDefault())},null,32),u.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:me[1]||(me[1]=Ce=>ge.swipeToClose==="right"&&Ce.preventDefault())},null,32)])],544)):!ge.showSwipeBanner&&ge.preventNavigationGestures?(u.openBlock(),u.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:me[5]||(me[5]=Ce=>u.unref(W)(Ce))},[u.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:me[3]||(me[3]=Ce=>ge.swipeToClose==="left"&&Ce.preventDefault())},null,32),u.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:me[4]||(me[4]=Ce=>ge.swipeToClose==="right"&&Ce.preventDefault())},null,32)],32)):u.createCommentVNode("",!0)],16)),[[u.vShow,ge.displayDirective!=="show"||u.unref(w)],[u.unref(wg),ge.displayDirective!=="visible"||u.unref(w)]]):u.createCommentVNode("",!0)]),_:3},16)],16)),[[u.vShow,ge.displayDirective!=="show"||u.unref(S)],[u.unref(wg),ge.displayDirective!=="visible"||u.unref(S)]]):u.createCommentVNode("",!0)],8,["to","disabled"]))}});function kn(){const t=ZL();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function MT(t,e=vs){const{component:r,slots:n,...i}=t,s=typeof n>"u"?{}:Object.fromEntries(CT(n).map(([a,o])=>Eg(o)?[a,o]:gh(o)?[a,{...o,component:u.markRaw(o.component)}]:[a,u.markRaw(o)]));return{...i,component:u.markRaw(r||e),slots:s}}function Ki(t){const e=u.reactive({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...MT(t)});YO(()=>{e!=null&&e.keepAlive||o()}),e.modelValue===!0&&(To?To==null||To.dynamicModals.push(e):u.nextTick(()=>{const l=kn();l==null||l.dynamicModals.push(e)}));async function r(){let l;return To?l=To:(await u.nextTick(),l=kn()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(o(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(d=>{e.resolveOpened=()=>d("opened")}))}function n(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function i(l){const{slots:d,...f}=MT(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),s(e,f),d&&CT(d).forEach(([c,h])=>{const p=e.slots[c];Eg(p)?e.slots[c]=h:gh(p)&&gh(h)?s(p,h):e.slots[c]=h})}function s(l,d){d.component&&(l.component=d.component),d.attrs&&a(l.attrs,d.attrs)}function a(l,d){return Object.entries(d).forEach(([f,c])=>{l[f]=c}),l}function o(){const l=kn(),d=l.dynamicModals.indexOf(e);d!==-1&&l.dynamicModals.splice(d,1)}return{options:e,open:r,close:n,patchOptions:i,destroy:o}}function gh(t){return typeof t=="object"&&t!==null?"component"in t:!1}const tR=["innerHTML"],rR=u.defineComponent({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:r}=kn(),n=Symbol("ModalsContainer"),i=u.computed(()=>{var o;return n===((o=e.value)==null?void 0:o[0])});e.value.push(n),u.onBeforeUnmount(()=>{e.value=e.value.filter(o=>o!==n)});function s(o){var l,d,f;(d=(l=r[o])==null?void 0:l.resolveClosed)==null||d.call(l),(f=r[o])!=null&&f.keepAlive||r.splice(o,1)}function a(o){var l,d;(d=(l=r[o])==null?void 0:l.resolveOpened)==null||d.call(l)}return(o,l)=>i.value?(u.openBlock(!0),u.createElementBlock(u.Fragment,{key:0},u.renderList(u.unref(r),(d,f)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(d.component),u.mergeProps({key:d.id},{displayDirective:d!=null&&d.keepAlive?"show":void 0,...typeof d.attrs=="object"?d.attrs:{}},{modelValue:d.modelValue,"onUpdate:modelValue":c=>d.modelValue=c,onClosed:()=>s(f),onOpened:()=>a(f)}),u.createSlots({_:2},[u.renderList(d.slots,(c,h)=>({name:h,fn:u.withCtx(()=>[u.unref(Eg)(c)?(u.openBlock(),u.createElementBlock("div",{key:0,innerHTML:c},null,8,tR)):u.unref(gh)(c)?(u.openBlock(),u.createBlock(u.resolveDynamicComponent(c.component),u.normalizeProps(u.mergeProps({key:1},c.attrs)),null,16)):(u.openBlock(),u.createBlock(u.resolveDynamicComponent(c),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):u.createCommentVNode("",!0)}}),OT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVR4nO3aP0oEMRSA8SfiFl7CPu1AgpV51ovmLeQK9v45gF7Aq6jXEO/gegy1WBlhQZHNvEJQNt8P0kw1fMyEhEQEAAAAAAAAALCtaq27Ue0qqT19jry4HJ/99Xv9C6HWWVK7T2qrbyOXW+ldqHUWc3n4EUdtFdXeh/l8X3oVGnHW41AXB9Kj4IgT1Z5FZEd6ExxxUi6vUe1YOp2Q7ybjHJ0W6U0gzmbEaSBOA3EaiNNAnAbiNAzD2Z5nEZjUTqRHSe2GOA0plxdWyA0xl+XmL6i8dbmF+CqpXfOLNTBJOyNN7th7/90GIk0jkgORHIjkQCQHIjkQyYFjn986OMxl2eXB4RpHzw5cXnDg+ovDeFkq5XKRcnkcR1Q75wIVAAAAAAAAAMg2+AByUSBd2KYVoQAAAABJRU5ErkJggg==",bh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAExElEQVR4nO2bS4hcRRSGa4yOGkUMKKKiID6yUbIRH7iI7hSiQWV0IwYXtn2rbj9OtaMBF/+5PTPEGNQZIQufCxUkAQVFRIwustfBx8ZkY1ATVCRO8DE+xiinOyNOcuvenqT71u2Z+uBup/7+63XqnDNKBQKBQCAQCAQCPqjVpi6MbTKmCc9py3uM5a8M4bCxOGos/6otftCEWW35DU08bpq4fmxs9xq1kgEwGhMeEEM08d/G8j/L+3BIE+8wFteolQSA041lYwhfL9+UE79j5u6qNtrr1bCjW8mNhvizfhiTYtQfhniqVps5Uw0hI8Zyo/MjBmDOEqMsf6IJV6lhYWxs9xpD/PKgjVnyEQ7HzeQWVXYqlefP0MRv97hFvjGWd8aW7zfUvi7aum2drLxKBWvNOC6JKLlNbjBN+MBYLOT/PfwSUbJRlZgRQ3g1f7Z5b9xK7gBwWq9/uNKcvFjOG0OYy1lJczG1N6gyEls8ln1W4LuohXtOZYx6feoiiY1yTDpwbDWW7Lay+DNj+c9GduKyfo1nLGzWttMWb6kyxTna4tOMGX231dpxTr/H1YTbDfG8e9zkblUGIoLOWjmDMGcRicyztppE78onAEZdEbKcOfU6Lh+0Bk28PeOmfFj5JM6cweTe4kIL7E/XgS/ldlW+0N2XeOpVXqQOyQw4J6qR3Kx8pSy041UucU7BckbkyZG+1flZ5QPdxH2OZf2tj9yNthw5zsLPi9bSQZJdjmW9U3mgE213E27HT9hRL4Gjdpw/8rYqXMyiJuJ9pTmHjKRJU8RUW7hWeUIi6DRNEeFBD2L4pzQxjQbOV54wlmcc275RuBhN/FeaGHl6FC7mP02YdBj0RPFiLH5LE0P09NnKE8biKUdc9njxYoi/TxPzCE1eqjyhLV5yxEJR8WIIs6mz1cKtyhMSwTtis02Fi9GOxJUkzgoX03mTYa1r29fH21cXLkhLxTN9Oe/xknZpJnem6iE+6EOPknKwYzkvSFRbuB5XJYXwuvJW3rE45Lg1porUIulcZ3aR+CHlC92plafO2pwk2IvSYSxecGz3I7UazlO+qDba610pDznEi9AQE25wFgwIzyjfGMu7HNGrnEd2kGNXLC5wN0VgIW5NXKF8U+2uIkcNHgtSfRjEuNK0YAgfuieHZ1RZMFL1dAklnpfc9QCymR+5x8QBrXGuKgu17mx+nDGbEo9slwR7f1pqsnuNdDPZrMpG7dGJK7XFj9kmYb8k2E+m0iAlJE38oiuLcNw475Wyb6hKuEm6LHrq6bEc5QWUnU4Pi7skCNQWv+f93aEwKaJkY24XxtKtt88Qv6kJ09riSfk6UTHxXtfbauhNiqm9QQ7KU/lx/fpKa1K0dds6V464b5/cVs1ks5gwlCYJ0mXR/9XUaX2ZWbzK5ccPtUkARqWRwFmW6XW7WD4iz4e0CHnoTVpEalRSDjbEX6QX+k44xA9qy6/Jqzzv4bliTPr/OSWGmSZvkdKMJNfl65aRselk2ntXnEkD61uyeCfHpPe3AGep1QqCSfkEk3ogmNQD4eDun0nTajVTyzfpZ69Nn6U3iXh+Of9DsupM0hav+NZWNpOmZVvJyhFzSpXHLhFy5qzucycQCAQCgUBA9ca/01SgfkYyM0gAAAAASUVORK5CYII=",nR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvElEQVR4nO1cW48URRSu9RovaLzj/fIo6i/wEqLogyjqim8aXOLA1JlZp07vAuLDqQZWWGETffQV77jqA08mxEeioiAIRh4gogmy6Bq5bVYwYE7PoBG3q3unq7p6ZvtLOtnsTFd1f3Pq3OqcEqJEiRIlSpQoUaJEB6FnaUD3gNIvgtJrJdInEmmXVLQfFP0OSCel0n82/9b7+DNQ+uPWdxfxvTyGmMmoLF93pUTqA9QfgtJjgPpMlksiHZKKPuAfpV6nK8QMQQ9g+JhE/b5EmshKooHcCVD0XrVBj3al5BLRedVG+IREvc0ViQZyd1UVvbBw4abzRTcAMJwHSN/nTeT/iFV6j8TwYdGpqDTW3AiKNvomcgpiN1dx9a2ikwBIT0rU477Ji70U/SEDelYUHUR0kVT0BiCdbkNyTkmkrYD0ek3pxRLp/lqw+s7qirVXVSpvXcgX/83/qzXCB6LvKL2e7+F7p08snZZKj/C4oohgVwWQPp8WiUiToPRHshEukJIub3fuvsHhWTWkpyTSaDTm9KR1C98vioT+/qEbpKLt0yDykERawRJn+1l4TFD6lWn5toq+XhrQ9aI4ZOq96YjUR6TSgVIjl7h+rkqFLgWkAVB0NKXK2eudVF7maSVTIm2CQbop72dcotbczGolraR6W/5sgFLqzBMcDgrPaIW5J9LoVC+GqmnNEx/uR9lYNUcUBJxEkagPpPAANuT6YIA0P8k1kkrvKaIDzQGHRPo20aVqhAty1ElRGs0gmfo7pehqUVDwswHS7gQDOi4HaLbzh4nSbWbJ/Lm/n24TBQcbSFZJCSrrnRwSHWYDJC3pTI6UQOnlU138mY05QK2615xGpNNVFc4VrlJwiVkjZc+agyJtkBxtax4OYZPUF7+7sA3ZoOeS/ExhEXkRyuCQ1Uxq2Gtzvtak+hvDCx5lYyU6lNCm5ddHDKTusJr5522LBEMUWJvMA6GMGtIys30I51mbjPeADDpmzEVsDjkTGsX+poSKLYvfTMvFh2ycNRIOADkTypBIK00ejJU4vxUDx5E56SIFx6g16BGJtG6qiz8Tjhx+Uz6VN/ucOvK2LXsRwEUW8e+r3806fo9Jr+QW7+aIakDPGOzFL5msPUcS8TqFTmbZtih0RYthjypTJBjVGsUv962iSyFRf+lEj3IxlsH3XC+6FFLpEcOyH8oy8KcGCe0TXQqp9EuG9x5te2BQeqdhYCsZH5/Zpti5A3owIQxtD6Z8oQxW3271LQrg2J8FF1PEqzra3/bApnIa1xl58EhoBelagw79te2Bo6rhmIF511N0KaH1+psXG1TdZNsDl4Rqy4SWS/6M1SVvMkpLXqY72h54pholn24TeCTUmdtkzry4dezBJ6EGx57rpDoy9AS/hDoKPZEW+UqOgE9CDckRGejn2x446m6Ll9BTLkv/wBOhnL4DpL/i5q4HdHeW8Xu42jhucC7DFl1GKKiwN94g0cHM28lRu58LBV1QQk0ZNis7nwl61NkmHXggNNqkM4TbmfTnTNxGBtSvxtsMOm7NZnAjqmHZj3GRgJWJPBc6SKTD8YKj37Y2GXf1xivqyOIPig4nFDh5bXhH67UA3CHRrcVi9WV0C6A+Zlju2623iXNvpOkXtG3xIUdCo9MhjO8WPi0cFdwa69JrSi/uNEKNcXtTUHY6O8SA+82Nk6M+0Tr/oyNqm6oDdF+KkvCHhEsYSxuxc5oWWt0sSU0LG/PqnjC31SDtLnJbDcBr13AflVEwkH7Lpa2GUQ3Cxzu18QsigYhPnJ9d6rkXwhlzhviPM3yAC85EQcA6ExT9lPjcSg/n/nDcYMqNpsmk0oRN65/Fmqc82ugzb6c8cGxrdPjxP8SOsgOd9zNGTnuSn/nvitrmvUSTm/bTHkAAqI9xt4WL2P9cBMH6y1rhZGwEdI7e/KFeH7pOFAFMalpJhaa0HuZjLFx4Aq06+ZWmRMdUkun9NIeY5b8l7Uu0iJ3knVUuw85yXl20baHCXk4Om/KZcTrT+zI3GiqkDe0cMxTt4yj6gu9nA8IRSrVBd7HEcR0VX/w3/48/i4yM0iPNDbX4PaCEY4aGiegCUXQA0nx2jKf/kvlc/GzsS4tOghyg2c2j2tqRVodkKr3Zh7dhDVUVzuUWad9EcnTkPNGRI3r4uEtQ9JUfIrvouMspDmSdx9uxqY78aXtZ03HeA3LVwlhI9A0Oz2LJ4XY/7lDLTiQd5B+Kt3oL6wblCdlYNYcJ5mKs1gkLO5oHWOtx9i2jq1kAvI/3eKLvKD3E92QtjylRokSJEiVKlCgh8sbfxQL1rY5eoTYAAAAASUVORK5CYII=",iR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVR4nM2ZX0hTYRTA1z8o6KEiooiiCCEqiCDqxTLopR6Dbnf3nO/u7l8XSvLBhx58UZo+JEEYmUYDzQ3MhCDC6bb2FqSNVIikt0gTaTMlMPpj+cU37/Squ/d+d5uuAwf2sLPz4/z7vu/M4ShQBEHYAADbZVneL0nSYUmSylwu115FUbY51lIkSdqJiJcB4C4ixhHxIwD8RERqpgAwAwAfEPEFANwihFwQBGFLUaBqa2vXI+IlDWjWCgY5lUEjYich5HQhETsFAMPFgkJj2OeiKO6zBQcAPgD4vdpwuKhTiHiOCw4Rr68hGNVF8ockSeVWaS1HxD+lAMR5TRNCduWEq6io2AgAIyWEo1okQ0Z1J5caDucB/yLikVy1N1BqOFyEvLcEThTFA4g4Z2VYV1dHn3Z306amJkoI4Xbodrvpo2CQPunqotXV1TyAE+yE0qdXtTIK1NfTVDpN05OTGY3H49Tlclk6U1WVDg0PL9h9Hh+nN6qqLO0IIcf16W2zMujp6VlwwgupLoPLamtrqyWgJEnX9ICDVgZt7e0rHKVNII3gmAYCAZ7SeKBP8TeeOnqTTHJBqiZwLBOctRvPwAmCsJW32D0eD33d35/TcSKRyED6/X46ODSU8zvRWIzKsszbySPZ9O7hBWTq8/kMI/kykTCOXCRiq/MRcTR7vJXZAcxGsn9gICdIoZHTRXA6A+h0Ok/YBbQDGc0DTtPZbIOczQeQBzKaP1xGFUXZzGrwTL4/4DdpCH3jFASYb4qt4NKFQ87m3SS8cOnCIKcygIqi7LZjaDaEe/v6uIe5lQLAJ9uDmkXu7eCgaUN4TBrHTiQB4L3+qJu2MvB6vdxD2GcyzGOxGNfABoCoHjBpZRAKhXI6jPT25nRoBtnQ0MATxfv620wwn+tWxADOCrKlpYUnglf1gF6e2/SXVMr22erz+WhSBzk6NkYrKyst7ZxO59EFQLbs0R4rpkY1NTU0HA7T242N3N2I8wOXNjc308cdHVy3ae2isG75o+mVHaerrHdyvequ/AdglC0ORFE8ZLTnW/VlEVpr0GEksiyfRMRfJYQbFwRhhyGgNhPdPG/kYisAzLAAmcLp6pHwbE+xeHATbB/psCOEkGNr0NlziBg23GhxRvM8ADxj+7sign1FxIdLhnGhwm49AHCRLcI14HfaZtSwqQDgOyKmtLO+EwBushu8qqqbigbGI8wh+yuCEHKQ7ZvZ5xUnQZ7yD8zfzl1rwXkSAAAAAElFTkSuQmCC",LT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR4nO2bsWtUQRDGV1AxWCoWWgsS7ULgbufI2RxWNlraqq34F7ybiYgaYqVFsBP/AEWFgJWQUtBCkICW0Sg2ejeTa3RlL57cJXfcnXkvu++9+cG0B/vdt9/uzts1RlEURVEURVGmYTZxh4H4rkX5DCjfLcqDBeqcnupHioxFvgMkbrD4F5A8raHUTdnpOod2CjRQb2vE1+uJO2LKyBhxXK8syRdAbs7f/nHMlIlJBYKeUMgdS/y4lnRmTRmYViDoyymL/AqQLxrnDpii8v8CSZ+r5F1hcyoNgaBXKJs+p+rJz+OmKKQqEBUwp7IQCP45in/nPqcyFYh251Rl2c2YPLFfAkFec2rfBaLBnAJqnTUxE0ogyEtOBReI+lxFvA7EN6LKqdCiwPD66rsMNuGTofWJVSDXn1PVpHVOBaKx028tSE6FdgnEnlN+FYEIBj51oWxakqSatE5kLdDH4IPdm6O2AOVRZvsp22xfCz3IdBzVnQmrVWxfSD2ngPgSkLwA4g8WuR18sHt1Fcp7S+2rmfWnKstuxu9BasRzfuXwh0x/frIkKxbluSV5M0GzP3hZlG9+P1W5xadMCBpL7mg16ZypLsqCbcoVS3wTUO4D8RNAfh2LI//up5bmVtwhEyONSIT0Ipk808hYSD/lTJ5plFWgRiRTDJDvlXPgND6kvTj1xB1MZeAVXeYHsciXAeVlLP94VBvF7iaQwg8q2qOGJf6Ua7dkfVjVdscYcuiY9f1tmOVHmDVtudIOUbRpL6Mco599IIZ8mYTQ2QL66VmGu0UvL8jIfNHrLzTMMXqByuUuXyYhk00d6iVOV4jrdZOQjmNEL5LDLmH0KYIrfL5MwrT5Ml/C51AbY8Qp94O6kU8yUZ7B4tZ5U3b8o167LdJG91EvyUN91KsoiqIoiqIoZps/5GTgdqN3Zd0AAAAASUVORK5CYII=",RT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVR4nO2bv4vUUBDHn6DicaViobUgnp292lnZaGmrtuJfoOV5B1ZaiJ34BygqCFaC5YEWCyIoy2XfzOzOxEIQ3MYbye3q/Yomuyb3XpL5wLQL893J900mb5wzDMMwDMMwjFno9fSwR74HKAjEKSA/GDCfmulH2oxHXgYS3R4e+adHfobIF1zXmVSO6D/iPaLc7Pf7R1wXKRBHt6pKCEjuev/tqOsSZQWCrRh74ieI6RnXBeYQSH/7FCC/8SSXVfWAayvzCgTbA+VDa32qEoHoj08NM58CgGOuLVQpELTRp2oSSKc+tdF4n6pTIMjxqSRJFlyT2DeBqKE+td8CwS6fIvq65GImoEDaCJ8KLRDsjE8w5FtR+VQEoujeqpJRNmVYFzkRWp8oBYK9PnXWBKKCqiJ5F8SnIqgSjdqnNk8RCp70XP2UR75DRMdrFQhQPodO9j/jh0d5XFs/BcA3IkiygoriDU/yGmB0qXKfQkyvAMpLT/zRo3xvgVg9GPL12uZTSZIsZD0IopzLTo7sJXNzHk3yCFBeeJK1EsP+4OFJOOunkiQ96UJARIsAchqRzwPItQHybSC574mfepK3EVXkGIhX11QPuRihaITkVddkqGYhs0fONRnqqkAUyyOGvNLNxKmESSOvqOrBShJP7JjfCeLoKpC8iugfj6dRnDaB2vSo7VXDo3wJnVzUL6s27iggggrQqAdmESSsZcJGrpQrjA3tIa9a7LOPxOEvZQjuLWifnrXAX+zyAuzyF7v+QjkVYxeopHn+UoaazHdslzipBdfrylBJxaBdJNccf7FVBGi7v5RhVn/xnVuHQoYCcbq9UPe3lUxAfj4guei6znSpd3lSSZwC8UNb6jUMwzAMwzAMN+EXe4XJ/lKRL1IAAAAASUVORK5CYII=";function sR(){return BT().__VUE_DEVTOOLS_GLOBAL_HOOK__}function BT(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const aR=typeof Proxy=="function",oR="devtools-plugin:setup",lR="plugin:settings:set";let Pl,Sg;function uR(){var t;return Pl!==void 0||(typeof window<"u"&&window.performance?(Pl=!0,Sg=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Pl=!0,Sg=globalThis.perf_hooks.performance):Pl=!1),Pl}function cR(){return uR()?Sg.now():Date.now()}class dR{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const a in e.settings){const o=e.settings[a];n[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return cR()}},r&&r.on(lR,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(d=>{this.targetQueue.push({method:o,args:l,resolve:d})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function PT(t,e){const r=t,n=BT(),i=sR(),s=aR&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(oR,t,e);else{const a=s?new dR(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var FT="store";function nr(t){return t===void 0&&(t=null),u.inject(t!==null?t:FT)}function Eo(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function fR(t){return t!==null&&typeof t=="object"}function hR(t){return t&&typeof t.then=="function"}function Xi(t,e){if(!t)throw new Error("[vuex] "+e)}function pR(t,e){return function(){return t(e)}}function UT(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function $T(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;yh(t,r,[],t._modules.root,!0),kg(t,r,e)}function kg(t,e,r){var n=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},o={},l=u.effectScope(!0);l.run(function(){Eo(s,function(d,f){a[f]=pR(d,t),o[f]=u.computed(function(){return a[f]()}),Object.defineProperty(t.getters,f,{get:function(){return o[f].value},enumerable:!0})})}),t._state=u.reactive({data:e}),t._scope=l,t.strict&&_R(t),n&&r&&t._withCommit(function(){n.data=null}),i&&i.stop()}function yh(t,e,r,n,i){var s=!r.length,a=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[a]&&process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate namespace "+a+" for the namespaced module "+r.join("/")),t._modulesNamespaceMap[a]=n),!s&&!i){var o=Ig(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit(function(){process.env.NODE_ENV!=="production"&&l in o&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+r.join(".")+'"'),o[l]=n.state})}var d=n.context=mR(t,a,r);n.forEachMutation(function(f,c){var h=a+c;gR(t,h,f,d)}),n.forEachAction(function(f,c){var h=f.root?c:a+c,p=f.handler||f;bR(t,h,p,d)}),n.forEachGetter(function(f,c){var h=a+c;yR(t,h,f,d)}),n.forEachChild(function(f,c){yh(t,e,r.concat(c),f,i)})}function mR(t,e,r){var n=e==="",i={dispatch:n?t.dispatch:function(s,a,o){var l=_h(s,a,o),d=l.payload,f=l.options,c=l.type;if((!f||!f.root)&&(c=e+c,process.env.NODE_ENV!=="production"&&!t._actions[c])){console.error("[vuex] unknown local action type: "+l.type+", global type: "+c);return}return t.dispatch(c,d)},commit:n?t.commit:function(s,a,o){var l=_h(s,a,o),d=l.payload,f=l.options,c=l.type;if((!f||!f.root)&&(c=e+c,process.env.NODE_ENV!=="production"&&!t._mutations[c])){console.error("[vuex] unknown local mutation type: "+l.type+", global type: "+c);return}t.commit(c,d,f)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return jT(t,e)}},state:{get:function(){return Ig(t.state,r)}}}),i}function jT(t,e){if(!t._makeLocalGettersCache[e]){var r={},n=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var s=i.slice(n);Object.defineProperty(r,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function gR(t,e,r,n){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){r.call(t,n.state,a)})}function bR(t,e,r,n){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var o=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},a);return hR(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function yR(t,e,r,n){if(t._wrappedGetters[e]){process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate getter key: "+e);return}t._wrappedGetters[e]=function(s){return r(n.state,n.getters,s.state,s.getters)}}function _R(t){u.watch(function(){return t._state.data},function(){process.env.NODE_ENV!=="production"&&Xi(t._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function Ig(t,e){return e.reduce(function(r,n){return r[n]},t)}function _h(t,e,r){return fR(t)&&t.type&&(r=e,e=t,t=t.type),process.env.NODE_ENV!=="production"&&Xi(typeof t=="string","expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:r}}var vR="vuex bindings",HT="vuex:mutations",Dg="vuex:actions",Fl="vuex",TR=0;function ER(t,e){PT({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[vR]},function(r){r.addTimelineLayer({id:HT,label:"Vuex Mutations",color:zT}),r.addTimelineLayer({id:Dg,label:"Vuex Actions",color:zT}),r.addInspector({id:Fl,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(n){if(n.app===t&&n.inspectorId===Fl)if(n.filter){var i=[];GT(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[WT(e._modules.root,"")]}),r.on.getInspectorState(function(n){if(n.app===t&&n.inspectorId===Fl){var i=n.nodeId;jT(e,i),n.state=CR(SR(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),r.on.editInspectorState(function(n){if(n.app===t&&n.inspectorId===Fl){var i=n.nodeId,s=n.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){n.set(e._state.data,s,n.state.value)})}}),e.subscribe(function(n,i){var s={};n.payload&&(s.payload=n.payload),s.state=i,r.notifyComponentUpdate(),r.sendInspectorTree(Fl),r.sendInspectorState(Fl),r.addTimelineEvent({layerId:HT,event:{time:Date.now(),title:n.type,data:s}})}),e.subscribeAction({before:function(n,i){var s={};n.payload&&(s.payload=n.payload),n._id=TR++,n._time=Date.now(),s.state=i,r.addTimelineEvent({layerId:Dg,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:s}})},after:function(n,i){var s={},a=Date.now()-n._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},n.payload&&(s.payload=n.payload),s.state=i,r.addTimelineEvent({layerId:Dg,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:s}})}})})}var zT=8702998,AR=6710886,xR=16777215,VT={label:"namespaced",textColor:xR,backgroundColor:AR};function qT(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function WT(t,e){return{id:e||"root",label:qT(e),tags:t.namespaced?[VT]:[],children:Object.keys(t._children).map(function(r){return WT(t._children[r],e+r+"/")})}}function GT(t,e,r,n){n.includes(r)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[VT]:[]}),Object.keys(e._children).forEach(function(i){GT(t,e._children[i],r,n+i+"/")})}function CR(t,e,r){e=r==="root"?e:e[r];var n=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(n.length){var s=wR(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?qT(a):a,editable:!1,value:Ng(function(){return s[a]})}})}return i}function wR(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split("/");if(n.length>1){var i=e,s=n.pop();n.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Ng(function(){return t[r]})}else e[r]=Ng(function(){return t[r]})}),e}function SR(t,e){var r=e.split("/").filter(function(n){return n});return r.reduce(function(n,i,s){var a=n[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===r.length-1?a:a._children},e==="root"?t:t.root._children)}function Ng(t){try{return t()}catch(e){return e}}var Zi=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},YT={namespaced:{configurable:!0}};YT.namespaced.get=function(){return!!this._rawModule.namespaced},Zi.prototype.addChild=function(e,r){this._children[e]=r},Zi.prototype.removeChild=function(e){delete this._children[e]},Zi.prototype.getChild=function(e){return this._children[e]},Zi.prototype.hasChild=function(e){return e in this._children},Zi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Zi.prototype.forEachChild=function(e){Eo(this._children,e)},Zi.prototype.forEachGetter=function(e){this._rawModule.getters&&Eo(this._rawModule.getters,e)},Zi.prototype.forEachAction=function(e){this._rawModule.actions&&Eo(this._rawModule.actions,e)},Zi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Eo(this._rawModule.mutations,e)},Object.defineProperties(Zi.prototype,YT);var Ao=function(e){this.register([],e,!1)};Ao.prototype.get=function(e){return e.reduce(function(r,n){return r.getChild(n)},this.root)},Ao.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")},Ao.prototype.update=function(e){QT([],this.root,e)},Ao.prototype.register=function(e,r,n){var i=this;n===void 0&&(n=!0),process.env.NODE_ENV!=="production"&&ZT(e,r);var s=new Zi(r,n);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}r.modules&&Eo(r.modules,function(o,l){i.register(e.concat(l),o,n)})},Ao.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1],i=r.getChild(n);if(!i){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to unregister module '"+n+"', which is not registered");return}i.runtime&&r.removeChild(n)},Ao.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1];return r?r.hasChild(n):!1};function QT(t,e,r){if(process.env.NODE_ENV!=="production"&&ZT(t,r),e.update(r),r.modules)for(var n in r.modules){if(!e.getChild(n)){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");return}QT(t.concat(n),e.getChild(n),r.modules[n])}}var KT={assert:function(t){return typeof t=="function"},expected:"function"},kR={assert:function(t){return typeof t=="function"||typeof t=="object"&&typeof t.handler=="function"},expected:'function or object with "handler" function'},XT={getters:KT,mutations:KT,actions:kR};function ZT(t,e){Object.keys(XT).forEach(function(r){if(e[r]){var n=XT[r];Eo(e[r],function(i,s){Xi(n.assert(i),IR(t,r,s,i,n.expected))})}})}function IR(t,e,r,n,i){var s=e+" should be "+i+' but "'+e+"."+r+'"';return t.length>0&&(s+=' in module "'+t.join(".")+'"'),s+=" is "+JSON.stringify(n)+".",s}function DR(t){return new zn(t)}var zn=function t(e){var r=this;e===void 0&&(e={}),process.env.NODE_ENV!=="production"&&(Xi(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),Xi(this instanceof t,"store must be called with the new operator."));var n=e.plugins;n===void 0&&(n=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ao(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,o=this,l=o.dispatch,d=o.commit;this.dispatch=function(h,p){return l.call(a,h,p)},this.commit=function(h,p,m){return d.call(a,h,p,m)},this.strict=i;var f=this._modules.root.state;yh(this,f,[],this._modules.root),kg(this,f),n.forEach(function(c){return c(r)})},Mg={state:{configurable:!0}};zn.prototype.install=function(e,r){e.provide(r||FT,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:process.env.NODE_ENV!=="production"||!1;n&&ER(e,this)},Mg.state.get=function(){return this._state.data},Mg.state.set=function(t){process.env.NODE_ENV!=="production"&&Xi(!1,"use store.replaceState() to explicit replace store state.")},zn.prototype.commit=function(e,r,n){var i=this,s=_h(e,r,n),a=s.type,o=s.payload,l=s.options,d={type:a,payload:o},f=this._mutations[a];if(!f){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown mutation type: "+a);return}this._withCommit(function(){f.forEach(function(h){h(o)})}),this._subscribers.slice().forEach(function(c){return c(d,i.state)}),process.env.NODE_ENV!=="production"&&l&&l.silent&&console.warn("[vuex] mutation type: "+a+". Silent option has been removed. Use the filter functionality in the vue-devtools")},zn.prototype.dispatch=function(e,r){var n=this,i=_h(e,r),s=i.type,a=i.payload,o={type:s,payload:a},l=this._actions[s];if(!l){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown action type: "+s);return}try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(o,n.state)})}catch(f){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in before action subscribers: "),console.error(f))}var d=l.length>1?Promise.all(l.map(function(f){return f(a)})):l[0](a);return new Promise(function(f,c){d.then(function(h){try{n._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(o,n.state)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in after action subscribers: "),console.error(p))}f(h)},function(h){try{n._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(o,n.state,h)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in error action subscribers: "),console.error(p))}c(h)})})},zn.prototype.subscribe=function(e,r){return UT(e,this._subscribers,r)},zn.prototype.subscribeAction=function(e,r){var n=typeof e=="function"?{before:e}:e;return UT(n,this._actionSubscribers,r)},zn.prototype.watch=function(e,r,n){var i=this;return process.env.NODE_ENV!=="production"&&Xi(typeof e=="function","store.watch only accepts a function."),u.watch(function(){return e(i.state,i.getters)},r,Object.assign({},n))},zn.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})},zn.prototype.registerModule=function(e,r,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&(Xi(Array.isArray(e),"module path must be a string or an Array."),Xi(e.length>0,"cannot register the root module by using registerModule.")),this._modules.register(e,r),yh(this,this.state,e,this._modules.get(e),n.preserveState),kg(this,this.state)},zn.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&Xi(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var n=Ig(r.state,e.slice(0,-1));delete n[e[e.length-1]]}),$T(this)},zn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&Xi(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},zn.prototype.hotUpdate=function(e){this._modules.update(e),$T(this,!0)},zn.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r},Object.defineProperties(zn.prototype,Mg);const Sr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},NR={},MR={viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",class:"text-zinc-600 dark:text-zinc-100"},OR=[u.createElementVNode("circle",{cx:"25",cy:"25",r:"23",class:"fill-zinc-100 dark:fill-zinc-600"},null,-1),u.createElementVNode("path",{d:`M33.71,32.29L26.42,25l7.29-7.29c0.39-0.39,0.39-1.03,0-1.42c-0.39-0.39-1.03-0.39-1.42,0L25,23.58l-7.29-7.29
        c-0.39-0.39-1.03-0.39-1.42,0c-0.39,0.39-0.39,1.03,0,1.42L23.58,25l-7.29,7.29c-0.39,0.39-0.39,1.03,0,1.42
        C16.49,33.9,16.74,34,17,34s0.51-0.1,0.71-0.29L25,26.42l7.29,7.29C32.49,33.9,32.74,34,33,34s0.51-0.1,0.71-0.29
        C34.1,33.32,34.1,32.68,33.71,32.29z`,class:"fill-current"},null,-1)];function LR(t,e){return u.openBlock(),u.createElementBlock("svg",MR,OR)}const Ul=Sr(NR,[["render",LR]]),RR={class:"relative"},BR=["src"],PR={key:1,class:"flex h-[300px] w-[300px] items-center justify-center bg-gray-200 text-[150px] font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300"},JT=u.defineComponent({__name:"AvatarModal",props:{url:{},name:{}},setup(t){const e=kn(),r=t,n=u.ref(!1);n.value=r.url.length===0;const i=()=>{n.value=!0};return(s,a)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl overflow-hidden flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",RR,[u.createElementVNode("button",{class:"absolute right-2 top-2 ml-auto flex items-center justify-center rounded-full",onClick:a[0]||(a[0]=o=>u.unref(e).closeAll())},[u.createVNode(Ul,{class:"h-7 w-7"})]),n.value?(u.openBlock(),u.createElementBlock("div",PR,u.toDisplayString(s.name&&s.name.length>0?s.name.charAt(0).toUpperCase():""),1)):(u.openBlock(),u.createElementBlock("img",{key:0,src:s.url,class:"h-[300px] w-[300px] object-cover",onError:i},null,40,BR))])]),_:1}))}}),FR=["src"],gn=u.defineComponent({__name:"AvatarView",props:{url:{},name:{}},setup(t){const e=t,r=u.ref(!1);r.value=e.url.length===0;const n=()=>{r.value=!0};u.watch(()=>[e.url,e.name],()=>{r.value=!1});const i=()=>{const{open:s}=Ki({component:JT,attrs:{url:e.url,name:e.name}});s()};return(s,a)=>r.value?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex h-[50px] w-[50px] cursor-pointer items-center justify-center rounded-2xl bg-gray-200 text-xl font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300",onClick:u.withModifiers(i,["stop"])},u.toDisplayString(s.name&&s.name.length>0?s.name.charAt(0).toUpperCase():""),1)):(u.openBlock(),u.createElementBlock("img",{key:0,src:s.url,class:"h-[50px] w-[50px] cursor-pointer rounded-2xl object-cover",onError:n,onClick:u.withModifiers(i,["stop"])},null,40,FR))}});function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){HR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jR(t,e,r){return e&&$R(t.prototype,e),t}function HR(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zR(t){return VR(t)||qR(t)||WR(t)||GR()}function VR(t){if(Array.isArray(t))return Og(t)}function qR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WR(t,e){if(t){if(typeof t=="string")return Og(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(t,e)}}function Og(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $l={FRONT:"FRONT",BEHIND:"BEHIND"},xo={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},tE=2,YR=function(){function t(e,r){UR(this,t),this.init(e,r)}return jR(t,[{key:"init",value:function(r,n){this.param=r,this.callUpdate=n,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=xo.INIT,this.offset=0,this.direction="",this.range=Object.create(null),r&&this.checkRange(0,r.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var r=Object.create(null);return r.start=this.range.start,r.end=this.range.end,r.padFront=this.range.padFront,r.padBehind=this.range.padBehind,r}},{key:"isBehind",value:function(){return this.direction===$l.BEHIND}},{key:"isFront",value:function(){return this.direction===$l.FRONT}},{key:"getOffset",value:function(r){return(r<1?0:this.getIndexOffset(r))+this.param.slotHeaderSize}},{key:"updateParam",value:function(r,n){var i=this;this.param&&r in this.param&&(r==="uniqueIds"&&this.sizes.forEach(function(s,a){n.includes(a)||i.sizes.delete(a)}),this.param[r]=n)}},{key:"saveSize",value:function(r,n){this.sizes.set(r,n),this.calcType===xo.INIT?(this.fixedSizeValue=n,this.calcType=xo.FIXED):this.calcType===xo.FIXED&&this.fixedSizeValue!==n&&(this.calcType=xo.DYNAMIC,delete this.fixedSizeValue),this.calcType!==xo.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=zR(this.sizes.values()).reduce(function(i,s){return i+s},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var r=this.range.start;this.isFront()?r=r-tE:this.isBehind()&&(r=r+tE),r=Math.max(r,0),this.updateRange(this.range.start,this.getEndByStart(r))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(r){this.direction=r<this.offset?$l.FRONT:$l.BEHIND,this.offset=r,this.param&&(this.direction===$l.FRONT?this.handleFront():this.direction===$l.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var r=this.getScrollOvers();if(!(r>this.range.start)){var n=Math.max(r-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}}},{key:"handleBehind",value:function(){var r=this.getScrollOvers();r<this.range.start+this.param.buffer||this.checkRange(r,this.getEndByStart(r))}},{key:"getScrollOvers",value:function(){var r=this.offset-this.param.slotHeaderSize;if(r<=0)return 0;if(this.isFixedType())return Math.floor(r/this.fixedSizeValue);for(var n=0,i=0,s=0,a=this.param.uniqueIds.length;n<=a;){if(i=n+Math.floor((a-n)/2),s=this.getIndexOffset(i),s===r)return i;s<r?n=i+1:s>r&&(a=i-1)}return n>0?--n:0}},{key:"getIndexOffset",value:function(r){if(!r)return 0;for(var n=0,i=0,s=0;s<r;s++)i=this.sizes.get(this.param.uniqueIds[s]),n=n+(typeof i=="number"?i:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,r-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}},{key:"isFixedType",value:function(){return this.calcType===xo.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(r,n){var i=this.param.keeps,s=this.param.uniqueIds.length;s<=i?(r=0,n=this.getLastIndex()):n-r<i-1&&(r=n-i+1),this.range.start!==r&&this.updateRange(r,n)}},{key:"updateRange",value:function(r,n){this.range.start=r,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(r){var n=r+this.param.keeps-1,i=Math.min(n,this.getLastIndex());return i}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var r=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-r)*this.fixedSizeValue:this.lastCalcIndex===n?this.getIndexOffset(n)-this.getIndexOffset(r):(n-r)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),t}(),QR={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},KR={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},XR={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},rE=function(e,r,n){var i=null,s=u.computed(function(){return e.horizontal?"offsetWidth":"offsetHeight"}),a=function(){return r.value?r.value[s.value]:0},o=function(){var d=e.event,f=e.uniqueKey,c=e.hasInitial;n(d,f,a(),c)};u.onMounted(function(){typeof ResizeObserver<"u"&&(i=new ResizeObserver(function(){o()}),r.value&&i.observe(r.value))}),u.onUpdated(function(){o()}),u.onUnmounted(function(){i&&(i.disconnect(),i=null)})},ZR=u.defineComponent({name:"VirtualListItem",props:KR,emits:["itemResize"],setup:function(e,r){var n=r.emit,i=u.ref(null);return rE(e,i,n),function(){var s=e.tag,a=e.component,o=e.extraProps,l=o===void 0?{}:o,d=e.index,f=e.source,c=e.scopedSlots,h=c===void 0?{}:c,p=e.uniqueKey,m=vh(vh({},l),{},{source:f,index:d});return u.createVNode(s,{key:p,ref:i},{default:function(){return[u.createVNode(a,vh(vh({},m),{},{scopedSlots:h}),null)]}})}}}),nE=u.defineComponent({name:"VirtualListSlot",props:XR,emits:["slotResize"],setup:function(e,r){var n=r.slots,i=r.emit,s=u.ref(null);return rE(e,s,i),function(){var a,o=e.tag,l=e.uniqueKey;return u.createVNode(o,{ref:s,key:l},{default:function(){return[(a=n.default)===null||a===void 0?void 0:a.call(n)]}})}}}),Vc;(function(t){t.ITEM="itemResize",t.SLOT="slotResize"})(Vc||(Vc={}));var jl;(function(t){t.HEADER="thead",t.FOOTER="tfoot"})(jl||(jl={}));var Th=u.defineComponent({name:"VirtualList",props:QR,setup:function(e,r){var n=r.emit,i=r.slots,s=r.expose,a=e.direction==="horizontal",o=a?"scrollLeft":"scrollTop",l=u.ref(null),d=u.ref(),f=u.ref(null),c;u.watch(function(){return e.dataSources.length},function(){c.updateParam("uniqueIds",x()),c.handleDataSourcesChange()}),u.watch(function(){return e.keeps},function($){c.updateParam("keeps",$),c.handleSlotSizeChange()}),u.watch(function(){return e.start},function($){S($)}),u.watch(function(){return e.offset},function($){return w($)});var h=function(H){return c.sizes.get(H)},p=function(){return e.pageMode?document.documentElement[o]||document.body[o]:d.value?Math.ceil(d.value[o]):0},m=function(){var H=a?"clientWidth":"clientHeight";return e.pageMode?document.documentElement[H]||document.body[H]:d.value?Math.ceil(d.value[H]):0},b=function(){var H=a?"scrollWidth":"scrollHeight";return e.pageMode?document.documentElement[H]||document.body[H]:d.value?Math.ceil(d.value[H]):0},y=function(H,Y,F,j){n("scroll",j,c.getRange()),c.isFront()&&e.dataSources.length&&H-e.topThreshold<=0?n("totop"):c.isBehind()&&H+Y+e.bottomThreshold>=F&&n("tobottom")},_=function(H){var Y=p(),F=m(),j=b();Y<0||Y+F>j+1||!j||(c.handleScroll(Y),y(Y,F,j,H))},x=function(){var H=e.dataKey,Y=e.dataSources,F=Y===void 0?[]:Y;return F.map(function(j){return typeof H=="function"?H(j):j[H]})},C=function(H){l.value=H},k=function(){c=new YR({slotHeaderSize:0,slotFooterSize:0,keeps:e.keeps,estimateSize:e.estimateSize,buffer:Math.round(e.keeps/3),uniqueIds:x()},C),l.value=c.getRange()},S=function(H){if(H>=e.dataSources.length-1)P();else{var Y=c.getOffset(H);w(Y)}},w=function(H){e.pageMode?(document.body[o]=H,document.documentElement[o]=H):d.value&&(d.value[o]=H)},L=function(){for(var H=[],Y=l.value,F=Y.start,j=Y.end,se=e.dataSources,W=e.dataKey,R=e.itemClass,N=e.itemTag,V=e.itemStyle,Z=e.extraProps,X=e.dataComponent,K=e.itemScopedSlots,de=F;de<=j;de++){var le=se[de];if(le){var Te=typeof W=="function"?W(le):le[W];typeof Te=="string"||typeof Te=="number"?H.push(u.createVNode(ZR,{index:de,tag:N,event:Vc.ITEM,horizontal:a,uniqueKey:Te,source:le,extraProps:Z,component:X,scopedSlots:K,style:V,class:"".concat(R).concat(e.itemClassAdd?" "+e.itemClassAdd(de):""),onItemResize:D},null)):console.warn("Cannot get the data-key '".concat(W,"' from data-sources."))}else console.warn("Cannot get the index '".concat(de,"' from data-sources."))}return H},D=function(H,Y){c.saveSize(H,Y),n("resized",H,Y)},I=function(H,Y,F){H===jl.HEADER?c.updateParam("slotHeaderSize",Y):H===jl.FOOTER&&c.updateParam("slotFooterSize",Y),F&&c.handleSlotSizeChange()},P=function $(){if(f.value){var H=f.value[a?"offsetLeft":"offsetTop"];w(H),setTimeout(function(){p()+m()<b()&&$()},3)}},z=function(){if(d.value){var H=d.value.getBoundingClientRect(),Y=d.value.ownerDocument.defaultView,F=a?H.left+Y.pageXOffset:H.top+Y.pageYOffset;c.updateParam("slotHeaderSize",F)}},U=function(){return c.sizes.size};return u.onBeforeMount(function(){k()}),u.onActivated(function(){w(c.offset)}),u.onMounted(function(){e.start?S(e.start):e.offset&&w(e.offset),e.pageMode&&(z(),document.addEventListener("scroll",_,{passive:!1}))}),u.onUnmounted(function(){c.destroy(),e.pageMode&&document.removeEventListener("scroll",_)}),s({scrollToBottom:P,getSizes:U,getSize:h,getOffset:p,getScrollSize:b,getClientSize:m,scrollToOffset:w,scrollToIndex:S}),function(){var $=e.pageMode,H=e.rootTag,Y=e.wrapTag,F=e.wrapClass,j=e.wrapStyle,se=e.headerTag,W=e.headerClass,R=e.headerStyle,N=e.footerTag,V=e.footerClass,Z=e.footerStyle,X=l.value,K=X.padFront,de=X.padBehind,le={padding:a?"0px ".concat(de,"px 0px ").concat(K,"px"):"".concat(K,"px 0px ").concat(de,"px")},Te=j?Object.assign({},j,le):le,ge=i.header,me=i.footer;return u.createVNode(H,{ref:d,onScroll:!$&&_},{default:function(){return[ge&&u.createVNode(nE,{class:W,style:R,tag:se,event:Vc.SLOT,uniqueKey:jl.HEADER,onSlotResize:I},{default:function(){return[ge()]}}),u.createVNode(Y,{class:F,style:Te},{default:function(){return[L()]}}),me&&u.createVNode(nE,{class:V,style:Z,tag:N,event:Vc.SLOT,uniqueKey:jl.FOOTER,onSlotResize:I},{default:function(){return[me()]}}),u.createVNode("div",{ref:f,style:{width:a?"0px":"100%",height:a?"100%":"0px"}},null)]}})}}});const JR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20id='Layer'%20height='512'%20viewBox='0%200%2024%2024'%20width='512'%20version='1.1'%20sodipodi:docname='unsend-message.svg'%20inkscape:version='1.2%20(dc2aeda,%202022-05-15)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1053'%20/%3e%3csodipodi:namedview%20id='namedview1051'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='1.7128906'%20inkscape:cx='256'%20inkscape:cy='256.58381'%20inkscape:window-width='1390'%20inkscape:window-height='847'%20inkscape:window-x='1828'%20inkscape:window-y='70'%20inkscape:window-maximized='0'%20inkscape:current-layer='Layer'%20/%3e%3cpath%20id='chat-dots-times'%20d='m13.745%2020.847a.749.749%200%200%201%20-.654.835%209.688%209.688%200%200%201%20-5.165-.835%201.189%201.189%200%200%200%20-.875-.025l-2.489.836a1.77%201.77%200%200%201%20-.557.091%201.76%201.76%200%200%201%20-1.664-2.308l.841-2.5a1.181%201.181%200%200%200%20-.027-.858%209.746%209.746%200%201%201%2018.595-4.083%208.936%208.936%200%200%201%20-.065%201.09.75.75%200%201%201%20-1.489-.181%207.585%207.585%200%200%200%20.054-.909%208.249%208.249%200%201%200%20-15.737%203.442%202.68%202.68%200%200%201%20.094%201.963l-.843%202.512a.24.24%200%200%200%20.064.255.244.244%200%200%200%20.257.064l2.5-.839a2.681%202.681%200%200%201%201.981.093%208.159%208.159%200%200%200%204.347.7.756.756%200%200%201%20.832.657zm7.785-4.377a.749.749%200%200%200%20-1.06%200l-1.47%201.469-1.47-1.469a.75.75%200%200%200%20-1.06%201.06l1.469%201.47-1.469%201.47a.75.75%200%201%200%201.06%201.06l1.47-1.469%201.47%201.469a.75.75%200%200%200%201.06-1.06l-1.469-1.47%201.469-1.47a.749.749%200%200%200%200-1.06zm-9.52-5.47a1.005%201.005%200%201%200%20.01%200zm5.01%201a1%201%200%200%200%20-1-1h-.01a1%201%200%201%200%201.01%201zm-9.01-1a1.005%201.005%200%201%200%20.01%200z'%20fill='rgb(0,0,0)'%20style='fill:%234b5563;fill-opacity:1'%20/%3e%3c/svg%3e",iE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR4nO2ZS0oDQRCGBwT1AD5AfN1E0KhJV1QSuzSuYqqCiOBar6AHiBHBA3gLieglfIsLcRPduFBQesKYjijCTLckWB/MIh3yd1X13wn8CQJBEP4vs8vFcUDaB6Q7hfwGyO9xHxV+nu4AqaryNOa9+OwizSjk5yRFw0+P5idYKqW8Tt5b8dhsIotro14aaNgmOnq6zGB5EhG7k2giYnd2kaZA89Wntua9wAcNrzY2McW71M6aJprDuXEjurLWB8hH0Wv7wiad/FeMnn2xg6TMFXgQkC+MYLRmezXwALjUV0iHX8U6qwFNjx3dAHwjJg38AsgJWIiFYgBiIQuxUAxALGQhFooBiIUsxEIxALGQhVgoBiAW+mUaHZVKqNZiu8I1zbe+ciFYKqWsoV0nFlSa7yPB+QINhZsgVa0I8Mps6iKZyyBPtyRzSJXkDSDXmsVSIVzL01gYwPrMRpHqTrJRhbxtebLWctTemqC6iRgDFywsr46A5pdm4Eob0XtmQuaYTYbp4v8BFepQxXkqDci71nRe7SY6golisRc0nbVMTdOJwvJKOlcejr6d2prp3PqAQj71eHGPvDeRTm/2KKQd+044eTSdmwg/+CvCi420BZqPze9E/AtMD4B0kMZS/58VLwhC0FZ8ALiaxMwFZ/dcAAAAAElFTkSuQmCC",sE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR4nO2Xu4sUQRCHC8HHJYqgiAgmXqKpkQgqIjjTtRss9m/v9MBzqpbB9TA08MUECv4DcslhaCSYGZkoCAZiYCCoaGRwoKKooIi6K+OB2w4LB+exsyX9wUQzDPV1PbqbKBKpj2RmZqOD3GpCJ8li8OzlIUP7DF1MkO0ho8H3GdpzkFNkNfgUnTmyQBKDr4kkrnxNJP/ZyveHPl7eM+Q1Qx8x5KaDXuRjeujg7OyGWgUcZL4SbG9Zmb/E9Kvzcoe9TAOYGN8MYPnHQT8w9ErjeL6lbokeQ7vhN3yiu5lxckfa1v0OmbKX6wx9OlxEPjP0cpKcXT9WEsNoIN/JkAsMfTYkIy9cWw7QuEuUFEWxhpG1nNfHFYkfzsul8v3YS5SUgaZeOw76riJye2QT618lSprTuo293q1MrPtHkG8iKxJLZSVXK5m4V2smVnIfSNGZc15+huVUV08suindvZL/NCCnK+V0nqzdiRlybSAh38s9hSxRlD0RNraX5yPd7FaDo618+9LBsIZSWi0Y2g0EPpbHFLJWSg7y5M9U8lKQNRyydiDw1lwvFL8bWl4OplLWIms4L0W4uZE1mtDJQODT3jxfS9bgoIwakH1kDYYsBDe5c2QN5+XMYBrpDbJGis7h4GjxgKyRTOW7glPqK7JGgmxrIPCGrAFgIhilX8gaANYFAt/IGogCkUgkQiPgF1+GFsoZdsMBAAAAAElFTkSuQmCC";var Wt;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(Wt||(Wt={}));function e9(t){return t.type===Wt.Tag||t.type===Wt.Script||t.type===Wt.Style}const t9=Wt.Root,r9=Wt.Text,n9=Wt.Directive,i9=Wt.Comment,s9=Wt.Script,a9=Wt.Style,o9=Wt.Tag,l9=Wt.CDATA,u9=Wt.Doctype;let aE=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Wc(this,e)}};class Lg extends aE{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}let qc=class extends Lg{constructor(){super(...arguments),this.type=Wt.Text}get nodeType(){return 3}},Rg=class extends Lg{constructor(){super(...arguments),this.type=Wt.Comment}get nodeType(){return 8}},Bg=class extends Lg{constructor(e,r){super(r),this.name=e,this.type=Wt.Directive}get nodeType(){return 1}};class Pg extends aE{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class oE extends Pg{constructor(){super(...arguments),this.type=Wt.CDATA}get nodeType(){return 4}}let Co=class extends Pg{constructor(){super(...arguments),this.type=Wt.Root}get nodeType(){return 9}},Fg=class extends Pg{constructor(e,r,n=[],i=e==="script"?Wt.Script:e==="style"?Wt.Style:Wt.Tag){super(n),this.name=e,this.attribs=r,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var r,n;return{name:e,value:this.attribs[e],namespace:(r=this["x-attribsNamespace"])===null||r===void 0?void 0:r[e],prefix:(n=this["x-attribsPrefix"])===null||n===void 0?void 0:n[e]}})}};function Tt(t){return e9(t)}function Eh(t){return t.type===Wt.CDATA}function Ts(t){return t.type===Wt.Text}function Ah(t){return t.type===Wt.Comment}function Ug(t){return t.type===Wt.Directive}function Da(t){return t.type===Wt.Root}function Zr(t){return Object.prototype.hasOwnProperty.call(t,"children")}function Wc(t,e=!1){let r;if(Ts(t))r=new qc(t.data);else if(Ah(t))r=new Rg(t.data);else if(Tt(t)){const n=e?$g(t.children):[],i=new Fg(t.name,{...t.attribs},n);n.forEach(s=>s.parent=i),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...t["x-attribsPrefix"]}),r=i}else if(Eh(t)){const n=e?$g(t.children):[],i=new oE(n);n.forEach(s=>s.parent=i),r=i}else if(Da(t)){const n=e?$g(t.children):[],i=new Co(n);n.forEach(s=>s.parent=i),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),r=i}else if(Ug(t)){const n=new Bg(t.name,t.data);t["x-name"]!=null&&(n["x-name"]=t["x-name"],n["x-publicId"]=t["x-publicId"],n["x-systemId"]=t["x-systemId"]),r=n}else throw new Error(`Not implemented yet: ${t.type}`);return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}function $g(t){const e=t.map(r=>Wc(r,!0));for(let r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}const lE={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class c9{constructor(e,r,n){this.dom=[],this.root=new Co(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(n=r,r=lE),typeof e=="object"&&(r=e,e=void 0),this.callback=e??null,this.options=r??lE,this.elementCB=n??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Co(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,r){const n=this.options.xmlMode?Wt.Tag:void 0,i=new Fg(e,r,void 0,n);this.addNode(i),this.tagStack.push(i)}ontext(e){const{lastNode:r}=this;if(r&&r.type===Wt.Text)r.data+=e,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{const n=new qc(e);this.addNode(n),this.lastNode=n}}oncomment(e){if(this.lastNode&&this.lastNode.type===Wt.Comment){this.lastNode.data+=e;return}const r=new Rg(e);this.addNode(r),this.lastNode=r}oncommentend(){this.lastNode=null}oncdatastart(){const e=new qc(""),r=new oE([e]);this.addNode(r),e.parent=r,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,r){const n=new Bg(e,r);this.addNode(n)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const r=this.tagStack[this.tagStack.length-1],n=r.children[r.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),r.children.push(e),n&&(e.prev=n,n.next=e),e.parent=r,this.lastNode=null}}const ea=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),uE=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var jg;const d9=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Hg=(jg=String.fromCodePoint)!==null&&jg!==void 0?jg:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function f9(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=d9.get(t))!==null&&e!==void 0?e:t}var Jr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Jr||(Jr={}));const h9=32;var Es;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Es||(Es={}));function zg(t){return t>=Jr.ZERO&&t<=Jr.NINE}function p9(t){return t>=Jr.UPPER_A&&t<=Jr.UPPER_F||t>=Jr.LOWER_A&&t<=Jr.LOWER_F}function m9(t){return t>=Jr.UPPER_A&&t<=Jr.UPPER_Z||t>=Jr.LOWER_A&&t<=Jr.LOWER_Z||zg(t)}function g9(t){return t===Jr.EQUALS||m9(t)}var en;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(en||(en={}));var As;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(As||(As={}));class cE{constructor(e,r,n){this.decodeTree=e,this.emitCodePoint=r,this.errors=n,this.state=en.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=As.Strict}startEntity(e){this.decodeMode=e,this.state=en.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case en.EntityStart:return e.charCodeAt(r)===Jr.NUM?(this.state=en.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=en.NamedEntity,this.stateNamedEntity(e,r));case en.NumericStart:return this.stateNumericStart(e,r);case en.NumericDecimal:return this.stateNumericDecimal(e,r);case en.NumericHex:return this.stateNumericHex(e,r);case en.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|h9)===Jr.LOWER_X?(this.state=en.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=en.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(r,s),i),this.consumed+=s}}stateNumericHex(e,r){const n=r;for(;r<e.length;){const i=e.charCodeAt(r);if(zg(i)||p9(i))r+=1;else return this.addToNumericResult(e,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,n,r,16),-1}stateNumericDecimal(e,r){const n=r;for(;r<e.length;){const i=e.charCodeAt(r);if(zg(i))r+=1;else return this.addToNumericResult(e,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,n,r,10),-1}emitNumericEntity(e,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Jr.SEMI)this.consumed+=1;else if(this.decodeMode===As.Strict)return 0;return this.emitCodePoint(f9(this.result),this.consumed),this.errors&&(e!==Jr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&Es.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const a=e.charCodeAt(r);if(this.treeIndex=fE(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===As.Attribute&&(s===0||g9(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&Es.VALUE_LENGTH)>>14,s!==0){if(a===Jr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==As.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:n}=this,i=(n[r]&Es.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[e]&~Es.VALUE_LENGTH:i[e+1],n),r===3&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case en.NamedEntity:return this.result!==0&&(this.decodeMode!==As.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case en.NumericDecimal:return this.emitNumericEntity(0,2);case en.NumericHex:return this.emitNumericEntity(0,3);case en.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case en.EntityStart:return 0}}}function dE(t){let e="";const r=new cE(t,n=>e+=Hg(n));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){e+=i.slice(a,o),r.startEntity(s);const d=r.write(i,o+1);if(d<0){a=o+r.end();break}a=o+d,o=d===0?a+1:a}const l=e+i.slice(a);return e="",l}}function fE(t,e,r,n){const i=(e&Es.BRANCH_LENGTH)>>7,s=e&Es.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const l=n-s;return l<0||l>=i?-1:t[r+l]-1}let a=r,o=a+i-1;for(;a<=o;){const l=a+o>>>1,d=t[l];if(d<n)a=l+1;else if(d>n)o=l-1;else return t[l+i]}return-1}dE(ea),dE(uE);const hE=/["&'<>$\x80-\uFFFF]/g,b9=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),y9=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function pE(t){let e="",r=0,n;for(;(n=hE.exec(t))!==null;){const i=n.index,s=t.charCodeAt(i),a=b9.get(s);a!==void 0?(e+=t.substring(r,i)+a,r=i+1):(e+=`${t.substring(r,i)}&#x${y9(t,i).toString(16)};`,r=hE.lastIndex+=+((s&64512)===55296))}return e+t.substr(r)}function mE(t,e){return function(n){let i,s=0,a="";for(;i=t.exec(n);)s!==i.index&&(a+=n.substring(s,i.index)),a+=e.get(i[0].charCodeAt(0)),s=i.index+1;return a+n.substring(s)}}const gE=mE(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),bE=mE(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),_9=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),v9=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),T9=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function E9(t){return t.replace(/"/g,"&quot;")}function A9(t,e){var r;if(!t)return;const n=((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)===!1?E9:e.xmlMode||e.encodeEntities!=="utf8"?pE:gE;return Object.keys(t).map(i=>{var s,a;const o=(s=t[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(a=v9.get(i))!==null&&a!==void 0?a:i),!e.emptyAttrs&&!e.xmlMode&&o===""?i:`${i}="${n(o)}"`}).join(" ")}const yE=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function xh(t,e={}){const r="length"in t?t:[t];let n="";for(let i=0;i<r.length;i++)n+=x9(r[i],e);return n}function x9(t,e){switch(t.type){case t9:return xh(t.children,e);case u9:case n9:return k9(t);case i9:return N9(t);case l9:return D9(t);case s9:case a9:case o9:return S9(t,e);case r9:return I9(t,e)}}const C9=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),w9=new Set(["svg","math"]);function S9(t,e){var r;e.xmlMode==="foreign"&&(t.name=(r=_9.get(t.name))!==null&&r!==void 0?r:t.name,t.parent&&C9.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&w9.has(t.name)&&(e={...e,xmlMode:"foreign"});let n=`<${t.name}`;const i=A9(t.attribs,e);return i&&(n+=` ${i}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&yE.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=xh(t.children,e)),(e.xmlMode||!yE.has(t.name))&&(n+=`</${t.name}>`)),n}function k9(t){return`<${t.data}>`}function I9(t,e){var r;let n=t.data||"";return((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&T9.has(t.parent.name))&&(n=e.xmlMode||e.encodeEntities!=="utf8"?pE(n):bE(n)),n}function D9(t){return`<![CDATA[${t.children[0].data}]]>`}function N9(t){return`<!--${t.data}-->`}function _E(t,e){return xh(t,e)}function M9(t,e){return Zr(t)?t.children.map(r=>_E(r,e)).join(""):""}function Ch(t){return Array.isArray(t)?t.map(Ch).join(""):Tt(t)?t.name==="br"?`
`:Ch(t.children):Eh(t)?Ch(t.children):Ts(t)?t.data:""}function Hl(t){return Array.isArray(t)?t.map(Hl).join(""):Zr(t)&&!Ah(t)?Hl(t.children):Ts(t)?t.data:""}function wh(t){return Array.isArray(t)?t.map(wh).join(""):Zr(t)&&(t.type===Wt.Tag||Eh(t))?wh(t.children):Ts(t)?t.data:""}function Sh(t){return Zr(t)?t.children:[]}function vE(t){return t.parent||null}function TE(t){const e=vE(t);if(e!=null)return Sh(e);const r=[t];let{prev:n,next:i}=t;for(;n!=null;)r.unshift(n),{prev:n}=n;for(;i!=null;)r.push(i),{next:i}=i;return r}function O9(t,e){var r;return(r=t.attribs)===null||r===void 0?void 0:r[e]}function L9(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function R9(t){return t.name}function Vg(t){let{next:e}=t;for(;e!==null&&!Tt(e);)({next:e}=e);return e}function qg(t){let{prev:e}=t;for(;e!==null&&!Tt(e);)({prev:e}=e);return e}function wo(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}function B9(t,e){const r=e.prev=t.prev;r&&(r.next=e);const n=e.next=t.next;n&&(n.prev=e);const i=e.parent=t.parent;if(i){const s=i.children;s[s.lastIndexOf(t)]=e,t.parent=null}}function P9(t,e){if(wo(e),e.next=null,e.parent=t,t.children.push(e)>1){const r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}function F9(t,e){wo(e);const{parent:r}=t,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){const i=r.children;i.splice(i.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}function U9(t,e){if(wo(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const r=t.children[1];r.prev=e,e.next=r}else e.next=null}function $9(t,e){wo(e);const{parent:r}=t;if(r){const n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}function kh(t,e,r=!0,n=1/0){return Wg(t,Array.isArray(e)?e:[e],r,n)}function Wg(t,e,r,n){const i=[],s=[e],a=[0];for(;;){if(a[0]>=s[0].length){if(a.length===1)return i;s.shift(),a.shift();continue}const o=s[0][a[0]++];if(t(o)&&(i.push(o),--n<=0))return i;r&&Zr(o)&&o.children.length>0&&(a.unshift(0),s.unshift(o.children))}}function j9(t,e){return e.find(t)}function Gg(t,e,r=!0){let n=null;for(let i=0;i<e.length&&!n;i++){const s=e[i];if(Tt(s))t(s)?n=s:r&&s.children.length>0&&(n=Gg(t,s.children,!0));else continue}return n}function EE(t,e){return e.some(r=>Tt(r)&&(t(r)||EE(t,r.children)))}function H9(t,e){const r=[],n=[e],i=[0];for(;;){if(i[0]>=n[0].length){if(n.length===1)return r;n.shift(),i.shift();continue}const s=n[0][i[0]++];Tt(s)&&(t(s)&&r.push(s),s.children.length>0&&(i.unshift(0),n.unshift(s.children)))}}const Ih={tag_name(t){return typeof t=="function"?e=>Tt(e)&&t(e.name):t==="*"?Tt:e=>Tt(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>Ts(e)&&t(e.data):e=>Ts(e)&&e.data===t}};function AE(t,e){return typeof e=="function"?r=>Tt(r)&&e(r.attribs[t]):r=>Tt(r)&&r.attribs[t]===e}function z9(t,e){return r=>t(r)||e(r)}function xE(t){const e=Object.keys(t).map(r=>{const n=t[r];return Object.prototype.hasOwnProperty.call(Ih,r)?Ih[r](n):AE(r,n)});return e.length===0?null:e.reduce(z9)}function V9(t,e){const r=xE(t);return r?r(e):!0}function q9(t,e,r,n=1/0){const i=xE(t);return i?kh(i,e,r,n):[]}function W9(t,e,r=!0){return Array.isArray(e)||(e=[e]),Gg(AE("id",t),e,r)}function zl(t,e,r=!0,n=1/0){return kh(Ih.tag_name(t),e,r,n)}function G9(t,e,r=!0,n=1/0){return kh(Ih.tag_type(t),e,r,n)}function Y9(t){let e=t.length;for(;--e>=0;){const r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0){t.splice(e,1);continue}for(let n=r.parent;n;n=n.parent)if(t.includes(n)){t.splice(e,1);break}}return t}var wi;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(wi||(wi={}));function CE(t,e){const r=[],n=[];if(t===e)return 0;let i=Zr(t)?t:t.parent;for(;i;)r.unshift(i),i=i.parent;for(i=Zr(e)?e:e.parent;i;)n.unshift(i),i=i.parent;const s=Math.min(r.length,n.length);let a=0;for(;a<s&&r[a]===n[a];)a++;if(a===0)return wi.DISCONNECTED;const o=r[a-1],l=o.children,d=r[a],f=n[a];return l.indexOf(d)>l.indexOf(f)?o===e?wi.FOLLOWING|wi.CONTAINED_BY:wi.FOLLOWING:o===t?wi.PRECEDING|wi.CONTAINS:wi.PRECEDING}function Vl(t){return t=t.filter((e,r,n)=>!n.includes(e,r+1)),t.sort((e,r)=>{const n=CE(e,r);return n&wi.PRECEDING?-1:n&wi.FOLLOWING?1:0}),t}function Q9(t){const e=Dh(eB,t);return e?e.name==="feed"?K9(e):X9(e):null}function K9(t){var e;const r=t.children,n={type:"atom",items:zl("entry",r).map(a=>{var o;const{children:l}=a,d={media:wE(l)};Vn(d,"id","id",l),Vn(d,"title","title",l);const f=(o=Dh("link",l))===null||o===void 0?void 0:o.attribs.href;f&&(d.link=f);const c=Na("summary",l)||Na("content",l);c&&(d.description=c);const h=Na("updated",l);return h&&(d.pubDate=new Date(h)),d})};Vn(n,"id","id",r),Vn(n,"title","title",r);const i=(e=Dh("link",r))===null||e===void 0?void 0:e.attribs.href;i&&(n.link=i),Vn(n,"description","subtitle",r);const s=Na("updated",r);return s&&(n.updated=new Date(s)),Vn(n,"author","email",r,!0),n}function X9(t){var e,r;const n=(r=(e=Dh("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&r!==void 0?r:[],i={type:t.name.substr(0,3),id:"",items:zl("item",t.children).map(a=>{const{children:o}=a,l={media:wE(o)};Vn(l,"id","guid",o),Vn(l,"title","title",o),Vn(l,"link","link",o),Vn(l,"description","description",o);const d=Na("pubDate",o)||Na("dc:date",o);return d&&(l.pubDate=new Date(d)),l})};Vn(i,"title","title",n),Vn(i,"link","link",n),Vn(i,"description","description",n);const s=Na("lastBuildDate",n);return s&&(i.updated=new Date(s)),Vn(i,"author","managingEditor",n,!0),i}const Z9=["url","type","lang"],J9=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function wE(t){return zl("media:content",t).map(e=>{const{attribs:r}=e,n={medium:r.medium,isDefault:!!r.isDefault};for(const i of Z9)r[i]&&(n[i]=r[i]);for(const i of J9)r[i]&&(n[i]=parseInt(r[i],10));return r.expression&&(n.expression=r.expression),n})}function Dh(t,e){return zl(t,e,!0,1)[0]}function Na(t,e,r=!1){return Hl(zl(t,e,r,1)).trim()}function Vn(t,e,r,n,i=!1){const s=Na(r,n,i);s&&(t[e]=s)}function eB(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const Nh=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return wi},append:F9,appendChild:P9,compareDocumentPosition:CE,existsOne:EE,filter:kh,find:Wg,findAll:H9,findOne:Gg,findOneChild:j9,getAttributeValue:O9,getChildren:Sh,getElementById:W9,getElements:q9,getElementsByTagName:zl,getElementsByTagType:G9,getFeed:Q9,getInnerHTML:M9,getName:R9,getOuterHTML:_E,getParent:vE,getSiblings:TE,getText:Ch,hasAttrib:L9,hasChildren:Zr,innerText:wh,isCDATA:Eh,isComment:Ah,isDocument:Da,isTag:Tt,isText:Ts,nextElementSibling:Vg,prepend:$9,prependChild:U9,prevElementSibling:qg,removeElement:wo,removeSubsets:Y9,replaceElement:B9,testElement:V9,textContent:Hl,uniqueSort:Vl},Symbol.toStringTag,{value:"Module"})),tB={_useHtmlParser2:!1};function Yg(t,e){if(!t)return e??tB;const r={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(r._useHtmlParser2=!0,r.xmlMode=!0,t.xml!==!0&&Object.assign(r,t.xml)):t.xmlMode&&(r._useHtmlParser2=!0),r}function SE(t,e,r){return t?t(e??t._root.children,null,void 0,r).toString():""}function rB(t,e){return typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function nB(t,e){const r=rB(t)?(e=t,void 0):t,n={...this===null||this===void 0?void 0:this._options,...Yg(e)};return SE(this,r,n)}function iB(t){const e={...this._options,xmlMode:!0};return SE(this,t,e)}function Gc(t){const e=t??(this?this.root():[]);let r="";for(let n=0;n<e.length;n++)r+=Hl(e[n]);return r}function sB(t,e,r=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(r=e);const n=this.load(t,this._options,!1);return r||n("script").remove(),[...n.root()[0].children]}function aB(){return this(this._root)}function kE(t,e){if(e===t)return!1;let r=e;for(;r&&r!==r.parent;)if(r=r.parent,r===t)return!0;return!1}function oB(t){return this.root().extract(t)}function lB(t,e){if(!IE(t)||!IE(e))return;let r=t.length;const n=+e.length;for(let i=0;i<n;i++)t[r++]=e[i];return t.length=r,t}function IE(t){if(Array.isArray(t))return!0;if(typeof t!="object"||t===null||!("length"in t)||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}const uB=Object.freeze(Object.defineProperty({__proto__:null,contains:kE,extract:oB,html:nB,merge:lB,parseHTML:sB,root:aB,text:Gc,xml:iB},Symbol.toStringTag,{value:"Module"}));function ta(t){return t.cheerio!=null}function cB(t){return t.replace(/[._-](\w|$)/g,(e,r)=>r.toUpperCase())}function dB(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function Tr(t,e){const r=t.length;for(let n=0;n<r;n++)e(t[n],n);return t}var So;(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(So||(So={}));function Qg(t){const e=t.indexOf("<");if(e<0||e>t.length-3)return!1;const r=t.charCodeAt(e+1);return(r>=So.LowerA&&r<=So.LowerZ||r>=So.UpperA&&r<=So.UpperZ||r===So.Exclamation)&&t.includes(">",e+2)}const Yc=Object.prototype.hasOwnProperty,Qc=/\s+/,Kg="data-",Xg=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,fB=/^{[^]*}$|^\[[^]*]$/;function Mh(t,e,r){var n;if(!(!t||!Tt(t))){if((n=t.attribs)!==null&&n!==void 0||(t.attribs={}),!e)return t.attribs;if(Yc.call(t.attribs,e))return!r&&Xg.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return Gc(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function ql(t,e,r){r===null?OE(t,e):t.attribs[e]=`${r}`}function hB(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return Tr(this,(r,n)=>{Tt(r)&&ql(r,t,e.call(r,n,r.attribs[t]))})}return Tr(this,r=>{if(Tt(r))if(typeof t=="object")for(const n of Object.keys(t)){const i=t[n];ql(r,n,i)}else ql(r,t,e)})}return arguments.length>1?this:Mh(this[0],t,this.options.xmlMode)}function DE(t,e,r){return e in t?t[e]:!r&&Xg.test(e)?Mh(t,e,!1)!==void 0:Mh(t,e,r)}function Zg(t,e,r,n){e in t?t[e]=r:ql(t,e,!n&&Xg.test(e)?r?"":null:`${r}`)}function pB(t,e){var r;if(typeof t=="string"&&e===void 0){const n=this[0];if(!n||!Tt(n))return;switch(t){case"style":{const i=this.css(),s=Object.keys(i);for(let a=0;a<s.length;a++)i[a]=s[a];return i.length=s.length,i}case"tagName":case"nodeName":return n.name.toUpperCase();case"href":case"src":{const i=(r=n.attribs)===null||r===void 0?void 0:r[t];return typeof URL<"u"&&(t==="href"&&(n.tagName==="a"||n.tagName==="link")||t==="src"&&(n.tagName==="img"||n.tagName==="iframe"||n.tagName==="audio"||n.tagName==="video"||n.tagName==="source"))&&i!==void 0&&this.options.baseURI?new URL(i,this.options.baseURI).href:i}case"innerText":return wh(n);case"textContent":return Hl(n);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return DE(n,t,this.options.xmlMode)}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new TypeError("Bad combination of arguments.");return Tr(this,(n,i)=>{Tt(n)&&Zg(n,t,e.call(n,i,DE(n,t,this.options.xmlMode)),this.options.xmlMode)})}return Tr(this,n=>{if(Tt(n))if(typeof t=="object")for(const i of Object.keys(t)){const s=t[i];Zg(n,i,s,this.options.xmlMode)}else Zg(n,t,e,this.options.xmlMode)})}}function NE(t,e,r){var n;(n=t.data)!==null&&n!==void 0||(t.data={}),typeof e=="object"?Object.assign(t.data,e):typeof e=="string"&&r!==void 0&&(t.data[e]=r)}function mB(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(Kg))continue;const r=cB(e.slice(Kg.length));Yc.call(t.data,r)||(t.data[r]=ME(t.attribs[e]))}return t.data}function gB(t,e){const r=Kg+dB(e),n=t.data;if(Yc.call(n,e))return n[e];if(Yc.call(t.attribs,r))return n[e]=ME(t.attribs[r])}function ME(t){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;const e=Number(t);if(t===String(e))return e;if(fB.test(t))try{return JSON.parse(t)}catch{}return t}function bB(t,e){var r;const n=this[0];if(!n||!Tt(n))return;const i=n;return(r=i.data)!==null&&r!==void 0||(i.data={}),t==null?mB(i):typeof t=="object"||e!==void 0?(Tr(this,s=>{Tt(s)&&(typeof t=="object"?NE(s,t):NE(s,t,e))}),this):gB(i,t)}function yB(t){const e=arguments.length===0,r=this[0];if(!r||!Tt(r))return e?void 0:this;switch(r.name){case"textarea":return this.text(t);case"select":{const n=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");const i=typeof t=="object"?t:[t];for(const s of i)this.find(`option[value="${s}"]`).attr("selected","");return this}return this.attr("multiple")?n.toArray().map(i=>Gc(i.children)):n.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function OE(t,e){!t.attribs||!Yc.call(t.attribs,e)||delete t.attribs[e]}function Oh(t){return t?t.trim().split(Qc):[]}function _B(t){const e=Oh(t);for(const r of e)Tr(this,n=>{Tt(n)&&OE(n,r)});return this}function vB(t){return this.toArray().some(e=>{const r=Tt(e)&&e.attribs.class;let n=-1;if(r&&t.length>0)for(;(n=r.indexOf(t,n+1))>-1;){const i=n+t.length;if((n===0||Qc.test(r[n-1]))&&(i===r.length||Qc.test(r[i])))return!0}return!1})}function LE(t){if(typeof t=="function")return Tr(this,(n,i)=>{if(Tt(n)){const s=n.attribs.class||"";LE.call([n],t.call(n,i,s))}});if(!t||typeof t!="string")return this;const e=t.split(Qc),r=this.length;for(let n=0;n<r;n++){const i=this[n];if(!Tt(i))continue;const s=Mh(i,"class",!1);if(s){let a=` ${s} `;for(const o of e){const l=`${o} `;a.includes(` ${l}`)||(a+=l)}ql(i,"class",a.trim())}else ql(i,"class",e.join(" ").trim())}return this}function RE(t){if(typeof t=="function")return Tr(this,(i,s)=>{Tt(i)&&RE.call([i],t.call(i,s,i.attribs.class||""))});const e=Oh(t),r=e.length,n=arguments.length===0;return Tr(this,i=>{if(Tt(i))if(n)i.attribs.class="";else{const s=Oh(i.attribs.class);let a=!1;for(let o=0;o<r;o++){const l=s.indexOf(e[o]);l>=0&&(s.splice(l,1),a=!0,o--)}a&&(i.attribs.class=s.join(" "))}})}function BE(t,e){if(typeof t=="function")return Tr(this,(a,o)=>{Tt(a)&&BE.call([a],t.call(a,o,a.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;const r=t.split(Qc),n=r.length,i=typeof e=="boolean"?e?1:-1:0,s=this.length;for(let a=0;a<s;a++){const o=this[a];if(!Tt(o))continue;const l=Oh(o.attribs.class);for(let d=0;d<n;d++){const f=l.indexOf(r[d]);i>=0&&f<0?l.push(r[d]):i<=0&&f>=0&&l.splice(f,1)}o.attribs.class=l.join(" ")}return this}const TB=Object.freeze(Object.defineProperty({__proto__:null,addClass:LE,attr:hB,data:bB,hasClass:vB,prop:pB,removeAttr:_B,removeClass:RE,toggleClass:BE,val:yB},Symbol.toStringTag,{value:"Module"}));var ft;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(ft||(ft={}));var Gr;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(Gr||(Gr={}));const PE=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,EB=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,AB=new Map([[126,Gr.Element],[94,Gr.Start],[36,Gr.End],[42,Gr.Any],[33,Gr.Not],[124,Gr.Hyphen]]),xB=new Set(["has","not","matches","is","where","host","host-context"]);function Kc(t){switch(t.type){case ft.Adjacent:case ft.Child:case ft.Descendant:case ft.Parent:case ft.Sibling:case ft.ColumnCombinator:return!0;default:return!1}}const CB=new Set(["contains","icontains"]);function wB(t,e,r){const n=parseInt(e,16)-65536;return n!==n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function Xc(t){return t.replace(EB,wB)}function Jg(t){return t===39||t===34}function FE(t){return t===32||t===9||t===10||t===12||t===13}function Lh(t){const e=[],r=UE(e,`${t}`,0);if(r<t.length)throw new Error(`Unmatched selector: ${t.slice(r)}`);return e}function UE(t,e,r){let n=[];function i(h){const p=e.slice(r+h).match(PE);if(!p)throw new Error(`Expected name, found ${e.slice(r)}`);const[m]=p;return r+=h+m.length,Xc(m)}function s(h){for(r+=h;r<e.length&&FE(e.charCodeAt(r));)r++}function a(){r+=1;const h=r;let p=1;for(;p>0&&r<e.length;r++)e.charCodeAt(r)===40&&!o(r)?p++:e.charCodeAt(r)===41&&!o(r)&&p--;if(p)throw new Error("Parenthesis not matched");return Xc(e.slice(h,r-1))}function o(h){let p=0;for(;e.charCodeAt(--h)===92;)p++;return(p&1)===1}function l(){if(n.length>0&&Kc(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function d(h){if(n.length>0&&n[n.length-1].type===ft.Descendant){n[n.length-1].type=h;return}l(),n.push({type:h})}function f(h,p){n.push({type:ft.Attribute,name:h,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function c(){if(n.length&&n[n.length-1].type===ft.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");t.push(n)}if(s(0),e.length===r)return r;e:for(;r<e.length;){const h=e.charCodeAt(r);switch(h){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==ft.Descendant)&&(l(),n.push({type:ft.Descendant})),s(1);break}case 62:{d(ft.Child),s(1);break}case 60:{d(ft.Parent),s(1);break}case 126:{d(ft.Sibling),s(1);break}case 43:{d(ft.Adjacent),s(1);break}case 46:{f("class",Gr.Element);break}case 35:{f("id",Gr.Equals);break}case 91:{s(1);let p,m=null;e.charCodeAt(r)===124?p=i(1):e.startsWith("*|",r)?(m="*",p=i(2)):(p=i(0),e.charCodeAt(r)===124&&e.charCodeAt(r+1)!==61&&(m=p,p=i(1))),s(0);let b=Gr.Exists;const y=AB.get(e.charCodeAt(r));if(y){if(b=y,e.charCodeAt(r+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(r)===61&&(b=Gr.Equals,s(1));let _="",x=null;if(b!=="exists"){if(Jg(e.charCodeAt(r))){const S=e.charCodeAt(r);let w=r+1;for(;w<e.length&&(e.charCodeAt(w)!==S||o(w));)w+=1;if(e.charCodeAt(w)!==S)throw new Error("Attribute value didn't end");_=Xc(e.slice(r+1,w)),r=w+1}else{const S=r;for(;r<e.length&&(!FE(e.charCodeAt(r))&&e.charCodeAt(r)!==93||o(r));)r+=1;_=Xc(e.slice(S,r))}s(0);const k=e.charCodeAt(r)|32;k===115?(x=!1,s(1)):k===105&&(x=!0,s(1))}if(e.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const C={type:ft.Attribute,name:p,action:b,value:_,namespace:m,ignoreCase:x};n.push(C);break}case 58:{if(e.charCodeAt(r+1)===58){n.push({type:ft.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(r)===40?a():null});continue}const p=i(1).toLowerCase();let m=null;if(e.charCodeAt(r)===40)if(xB.has(p)){if(Jg(e.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(m=[],r=UE(m,e,r+1),e.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);r+=1}else{if(m=a(),CB.has(p)){const b=m.charCodeAt(0);b===m.charCodeAt(m.length-1)&&Jg(b)&&(m=m.slice(1,-1))}m=Xc(m)}n.push({type:ft.Pseudo,name:p,data:m});break}case 44:{c(),n=[],s(1);break}default:{if(e.startsWith("/*",r)){const b=e.indexOf("*/",r+2);if(b<0)throw new Error("Comment was not terminated");r=b+2,n.length===0&&s(0);break}let p=null,m;if(h===42)r+=1,m="*";else if(h===124){if(m="",e.charCodeAt(r+1)===124){d(ft.ColumnCombinator),s(2);break}}else if(PE.test(e.slice(r)))m=i(0);else break e;e.charCodeAt(r)===124&&e.charCodeAt(r+1)!==124&&(p=m,e.charCodeAt(r+1)===42?(m="*",r+=2):m=i(1)),n.push(m==="*"?{type:ft.Universal,namespace:p}:{type:ft.Tag,name:m,namespace:p})}}}return c(),r}var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Rh={trueFunc:function(){return!0},falseFunc:function(){return!1}};const Mt=on(Rh),$E=new Map([[ft.Universal,50],[ft.Tag,30],[ft.Attribute,1],[ft.Pseudo,0]]);function e1(t){return!$E.has(t.type)}const kB=new Map([[Gr.Exists,10],[Gr.Equals,8],[Gr.Not,7],[Gr.Start,6],[Gr.End,6],[Gr.Any,5]]);function IB(t){const e=t.map(jE);for(let r=1;r<t.length;r++){const n=e[r];if(!(n<0))for(let i=r-1;i>=0&&n<e[i];i--){const s=t[i+1];t[i+1]=t[i],t[i]=s,e[i+1]=e[i],e[i]=n}}}function jE(t){var e,r;let n=(e=$E.get(t.type))!==null&&e!==void 0?e:-1;return t.type===ft.Attribute?(n=(r=kB.get(t.action))!==null&&r!==void 0?r:4,t.action===Gr.Equals&&t.name==="id"&&(n=9),t.ignoreCase&&(n>>=1)):t.type===ft.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?n=0:Array.isArray(t.data)?(n=Math.min(...t.data.map(i=>Math.min(...i.map(jE)))),n<0&&(n=0)):n=2:n=3),n}const DB=/[-[\]{}()*+?.,\\^$|#\s]/g;function HE(t){return t.replace(DB,"\\$&")}const NB=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function ko(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&NB.has(t.name)}const MB={equals(t,e,r){const{adapter:n}=r,{name:i}=e;let{value:s}=e;return ko(e,r)?(s=s.toLowerCase(),a=>{const o=n.getAttributeValue(a,i);return o!=null&&o.length===s.length&&o.toLowerCase()===s&&t(a)}):a=>n.getAttributeValue(a,i)===s&&t(a)},hyphen(t,e,r){const{adapter:n}=r,{name:i}=e;let{value:s}=e;const a=s.length;return ko(e,r)?(s=s.toLowerCase(),function(l){const d=n.getAttributeValue(l,i);return d!=null&&(d.length===a||d.charAt(a)==="-")&&d.substr(0,a).toLowerCase()===s&&t(l)}):function(l){const d=n.getAttributeValue(l,i);return d!=null&&(d.length===a||d.charAt(a)==="-")&&d.substr(0,a)===s&&t(l)}},element(t,e,r){const{adapter:n}=r,{name:i,value:s}=e;if(/\s/.test(s))return Mt.falseFunc;const a=new RegExp(`(?:^|\\s)${HE(s)}(?:$|\\s)`,ko(e,r)?"i":"");return function(l){const d=n.getAttributeValue(l,i);return d!=null&&d.length>=s.length&&a.test(d)&&t(l)}},exists(t,{name:e},{adapter:r}){return n=>r.hasAttrib(n,e)&&t(n)},start(t,e,r){const{adapter:n}=r,{name:i}=e;let{value:s}=e;const a=s.length;return a===0?Mt.falseFunc:ko(e,r)?(s=s.toLowerCase(),o=>{const l=n.getAttributeValue(o,i);return l!=null&&l.length>=a&&l.substr(0,a).toLowerCase()===s&&t(o)}):o=>{var l;return!!(!((l=n.getAttributeValue(o,i))===null||l===void 0)&&l.startsWith(s))&&t(o)}},end(t,e,r){const{adapter:n}=r,{name:i}=e;let{value:s}=e;const a=-s.length;return a===0?Mt.falseFunc:ko(e,r)?(s=s.toLowerCase(),o=>{var l;return((l=n.getAttributeValue(o,i))===null||l===void 0?void 0:l.substr(a).toLowerCase())===s&&t(o)}):o=>{var l;return!!(!((l=n.getAttributeValue(o,i))===null||l===void 0)&&l.endsWith(s))&&t(o)}},any(t,e,r){const{adapter:n}=r,{name:i,value:s}=e;if(s==="")return Mt.falseFunc;if(ko(e,r)){const a=new RegExp(HE(s),"i");return function(l){const d=n.getAttributeValue(l,i);return d!=null&&d.length>=s.length&&a.test(d)&&t(l)}}return a=>{var o;return!!(!((o=n.getAttributeValue(a,i))===null||o===void 0)&&o.includes(s))&&t(a)}},not(t,e,r){const{adapter:n}=r,{name:i}=e;let{value:s}=e;return s===""?a=>!!n.getAttributeValue(a,i)&&t(a):ko(e,r)?(s=s.toLowerCase(),a=>{const o=n.getAttributeValue(a,i);return(o==null||o.length!==s.length||o.toLowerCase()!==s)&&t(a)}):a=>n.getAttributeValue(a,i)!==s&&t(a)}},OB=new Set([9,10,12,13,32]),zE=48,LB=57;function RB(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,r=0,n=s(),i=a();if(e<t.length&&t.charAt(e)==="n"&&(e++,r=n*(i??1),o(),e<t.length?(n=s(),o(),i=a()):n=i=0),i===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[r,n*i];function s(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function a(){const l=e;let d=0;for(;e<t.length&&t.charCodeAt(e)>=zE&&t.charCodeAt(e)<=LB;)d=d*10+(t.charCodeAt(e)-zE),e++;return e===l?null:d}function o(){for(;e<t.length&&OB.has(t.charCodeAt(e));)e++}}function BB(t){const e=t[0],r=t[1]-1;if(r<0&&e<=0)return Mt.falseFunc;if(e===-1)return s=>s<=r;if(e===0)return s=>s===r;if(e===1)return r<0?Mt.trueFunc:s=>s>=r;const n=Math.abs(e),i=(r%n+n)%n;return e>1?s=>s>=r&&s%n===i:s=>s<=r&&s%n===i}function Bh(t){return BB(RB(t))}function Ph(t,e){return r=>{const n=e.getParent(r);return n!=null&&e.isTag(n)&&t(r)}}const t1={contains(t,e,{adapter:r}){return function(i){return t(i)&&r.getText(i).includes(e)}},icontains(t,e,{adapter:r}){const n=e.toLowerCase();return function(s){return t(s)&&r.getText(s).toLowerCase().includes(n)}},"nth-child"(t,e,{adapter:r,equals:n}){const i=Bh(e);return i===Mt.falseFunc?Mt.falseFunc:i===Mt.trueFunc?Ph(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let d=0;d<o.length&&!n(a,o[d]);d++)r.isTag(o[d])&&l++;return i(l)&&t(a)}},"nth-last-child"(t,e,{adapter:r,equals:n}){const i=Bh(e);return i===Mt.falseFunc?Mt.falseFunc:i===Mt.trueFunc?Ph(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let d=o.length-1;d>=0&&!n(a,o[d]);d--)r.isTag(o[d])&&l++;return i(l)&&t(a)}},"nth-of-type"(t,e,{adapter:r,equals:n}){const i=Bh(e);return i===Mt.falseFunc?Mt.falseFunc:i===Mt.trueFunc?Ph(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let d=0;d<o.length;d++){const f=o[d];if(n(a,f))break;r.isTag(f)&&r.getName(f)===r.getName(a)&&l++}return i(l)&&t(a)}},"nth-last-of-type"(t,e,{adapter:r,equals:n}){const i=Bh(e);return i===Mt.falseFunc?Mt.falseFunc:i===Mt.trueFunc?Ph(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let d=o.length-1;d>=0;d--){const f=o[d];if(n(a,f))break;r.isTag(f)&&r.getName(f)===r.getName(a)&&l++}return i(l)&&t(a)}},root(t,e,{adapter:r}){return n=>{const i=r.getParent(n);return(i==null||!r.isTag(i))&&t(n)}},scope(t,e,r,n){const{equals:i}=r;return!n||n.length===0?t1.root(t,e,r):n.length===1?s=>i(n[0],s)&&t(s):s=>n.includes(s)&&t(s)},hover:r1("isHovered"),visited:r1("isVisited"),active:r1("isActive")};function r1(t){return function(r,n,{adapter:i}){const s=i[t];return typeof s!="function"?Mt.falseFunc:function(o){return s(o)&&r(o)}}}const VE={empty(t,{adapter:e}){return!e.getChildren(t).some(r=>e.isTag(r)||e.getText(r)!=="")},"first-child"(t,{adapter:e,equals:r}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const n=e.getSiblings(t).find(i=>e.isTag(i));return n!=null&&r(t,n)},"last-child"(t,{adapter:e,equals:r}){const n=e.getSiblings(t);for(let i=n.length-1;i>=0;i--){if(r(t,n[i]))return!0;if(e.isTag(n[i]))break}return!1},"first-of-type"(t,{adapter:e,equals:r}){const n=e.getSiblings(t),i=e.getName(t);for(let s=0;s<n.length;s++){const a=n[s];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===i)break}return!1},"last-of-type"(t,{adapter:e,equals:r}){const n=e.getSiblings(t),i=e.getName(t);for(let s=n.length-1;s>=0;s--){const a=n[s];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===i)break}return!1},"only-of-type"(t,{adapter:e,equals:r}){const n=e.getName(t);return e.getSiblings(t).every(i=>r(t,i)||!e.isTag(i)||e.getName(i)!==n)},"only-child"(t,{adapter:e,equals:r}){return e.getSiblings(t).every(n=>r(t,n)||!e.isTag(n))}};function qE(t,e,r,n){if(r===null){if(t.length>n)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===n)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const PB={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},WE={};function FB(t,e){return t===Mt.falseFunc?Mt.falseFunc:r=>e.isTag(r)&&t(r)}function GE(t,e){const r=e.getSiblings(t);if(r.length<=1)return[];const n=r.indexOf(t);return n<0||n===r.length-1?[]:r.slice(n+1).filter(e.isTag)}function n1(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const i1=(t,e,r,n,i)=>{const s=i(e,n1(r),n);return s===Mt.trueFunc?t:s===Mt.falseFunc?Mt.falseFunc:a=>s(a)&&t(a)},s1={is:i1,matches:i1,where:i1,not(t,e,r,n,i){const s=i(e,n1(r),n);return s===Mt.falseFunc?t:s===Mt.trueFunc?Mt.falseFunc:a=>!s(a)&&t(a)},has(t,e,r,n,i){const{adapter:s}=r,a=n1(r);a.relativeSelector=!0;const o=e.some(f=>f.some(e1))?[WE]:void 0,l=i(e,a,o);if(l===Mt.falseFunc)return Mt.falseFunc;const d=FB(l,s);if(o&&l!==Mt.trueFunc){const{shouldTestNextSiblings:f=!1}=l;return c=>{if(!t(c))return!1;o[0]=c;const h=s.getChildren(c),p=f?[...h,...GE(c,s)]:h;return s.existsOne(d,p)}}return f=>t(f)&&s.existsOne(d,s.getChildren(f))}};function UB(t,e,r,n,i){var s;const{name:a,data:o}=e;if(Array.isArray(o)){if(!(a in s1))throw new Error(`Unknown pseudo-class :${a}(${o})`);return s1[a](t,o,r,n,i)}const l=(s=r.pseudos)===null||s===void 0?void 0:s[a],d=typeof l=="string"?l:PB[a];if(typeof d=="string"){if(o!=null)throw new Error(`Pseudo ${a} doesn't have any arguments`);const f=Lh(d);return s1.is(t,f,r,n,i)}if(typeof l=="function")return qE(l,a,o,1),f=>l(f,o)&&t(f);if(a in t1)return t1[a](t,o,r,n);if(a in VE){const f=VE[a];return qE(f,a,o,2),c=>f(c,r,o)&&t(c)}throw new Error(`Unknown pseudo-class :${a}`)}function a1(t,e){const r=e.getParent(t);return r&&e.isTag(r)?r:null}function $B(t,e,r,n,i){const{adapter:s,equals:a}=r;switch(e.type){case ft.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case ft.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case ft.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),MB[e.action](t,e,r)}case ft.Pseudo:return UB(t,e,r,n,i);case ft.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=e;return(!r.xmlMode||r.lowerCaseTags)&&(o=o.toLowerCase()),function(d){return s.getName(d)===o&&t(d)}}case ft.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(d){let f=d;for(;f=a1(f,s);)if(t(f))return!0;return!1};const o=new WeakSet;return function(d){let f=d;for(;f=a1(f,s);)if(!o.has(f)){if(s.isTag(f)&&t(f))return!0;o.add(f)}return!1}}case"_flexibleDescendant":return function(l){let d=l;do if(t(d))return!0;while(d=a1(d,s));return!1};case ft.Parent:return function(l){return s.getChildren(l).some(d=>s.isTag(d)&&t(d))};case ft.Child:return function(l){const d=s.getParent(l);return d!=null&&s.isTag(d)&&t(d)};case ft.Sibling:return function(l){const d=s.getSiblings(l);for(let f=0;f<d.length;f++){const c=d[f];if(a(l,c))break;if(s.isTag(c)&&t(c))return!0}return!1};case ft.Adjacent:return s.prevElementSibling?function(l){const d=s.prevElementSibling(l);return d!=null&&t(d)}:function(l){const d=s.getSiblings(l);let f;for(let c=0;c<d.length;c++){const h=d[c];if(a(l,h))break;s.isTag(h)&&(f=h)}return!!f&&t(f)};case ft.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function YE(t){return t.type===ft.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(YE)))}const jB={type:ft.Descendant},HB={type:"_flexibleDescendant"},zB={type:ft.Pseudo,name:"scope",data:null};function VB(t,{adapter:e},r){const n=!!(r!=null&&r.every(i=>{const s=e.isTag(i)&&e.getParent(i);return i===WE||s&&e.isTag(s)}));for(const i of t){if(!(i.length>0&&e1(i[0])&&i[0].type!==ft.Descendant))if(n&&!i.some(YE))i.unshift(jB);else continue;i.unshift(zB)}}function QE(t,e,r){var n;t.forEach(IB),r=(n=e.context)!==null&&n!==void 0?n:r;const i=Array.isArray(r),s=r&&(Array.isArray(r)?r:[r]);if(e.relativeSelector!==!1)VB(t,e,s);else if(t.some(l=>l.length>0&&e1(l[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const o=t.map(l=>{if(l.length>=2){const[d,f]=l;d.type!==ft.Pseudo||d.name!=="scope"||(i&&f.type===ft.Descendant?l[1]=HB:(f.type===ft.Adjacent||f.type===ft.Sibling)&&(a=!0))}return qB(l,e,s)}).reduce(WB,Mt.falseFunc);return o.shouldTestNextSiblings=a,o}function qB(t,e,r){var n;return t.reduce((i,s)=>i===Mt.falseFunc?Mt.falseFunc:$B(i,s,e,r,QE),(n=e.rootFunc)!==null&&n!==void 0?n:Mt.trueFunc)}function WB(t,e){return e===Mt.falseFunc||t===Mt.trueFunc?t:t===Mt.falseFunc||e===Mt.trueFunc?e:function(n){return t(n)||e(n)}}const KE=(t,e)=>t===e,GB={adapter:Nh,equals:KE};function YB(t){var e,r,n,i;const s=t??GB;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=Nh),(r=s.equals)!==null&&r!==void 0||(s.equals=(i=(n=s.adapter)===null||n===void 0?void 0:n.equals)!==null&&i!==void 0?i:KE),s}function QB(t){return function(r,n,i){const s=YB(n);return t(r,s,i)}}const o1=QB(QE);function XE(t,e,r=!1){return r&&(t=KB(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function KB(t,e){const r=Array.isArray(t)?t.slice(0):[t],n=r.length;for(let i=0;i<n;i++){const s=GE(r[i],e);r.push(...s)}return r}const XB=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Fh(t){return t.type!=="pseudo"?!1:XB.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(Fh)):!1}function ZB(t,e,r){const n=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,r):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*r;case"even":return 2*r-1;case"last":case"not":return 1/0}}function JB(t){for(;t.parent;)t=t.parent;return t}function l1(t){const e=[],r=[];for(const n of t)n.some(Fh)?e.push(n):r.push(n);return[r,e]}const eP={type:ft.Universal,namespace:null},tP={type:ft.Pseudo,name:"scope",data:null};function ZE(t,e,r={}){return JE([t],e,r)}function JE(t,e,r={}){if(typeof e=="function")return t.some(e);const[n,i]=l1(Lh(e));return n.length>0&&t.some(o1(n,r))||i.some(s=>rA(s,t,r).length>0)}function rP(t,e,r,n){const i=typeof r=="string"?parseInt(r,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<e.length?[i<0?e[e.length+i]:e[i]]:[];case"gt":return isFinite(i)?e.slice(i+1):[];case"even":return e.filter((s,a)=>a%2===0);case"odd":return e.filter((s,a)=>a%2===1);case"not":{const s=new Set(tA(r,e,n));return e.filter(a=>!s.has(a))}}}function eA(t,e,r={}){return tA(Lh(t),e,r)}function tA(t,e,r){if(e.length===0)return[];const[n,i]=l1(t);let s;if(n.length){const a=c1(e,n,r);if(i.length===0)return a;a.length&&(s=new Set(a))}for(let a=0;a<i.length&&(s==null?void 0:s.size)!==e.length;a++){const o=i[a];if((s?e.filter(f=>Tt(f)&&!s.has(f)):e).length===0)break;const d=rA(o,e,r);if(d.length)if(s)d.forEach(f=>s.add(f));else{if(a===i.length-1)return d;s=new Set(d)}}return typeof s<"u"?s.size===e.length?e:e.filter(a=>s.has(a)):[]}function rA(t,e,r){var n;if(t.some(Kc)){const i=(n=r.root)!==null&&n!==void 0?n:JB(e[0]),s={...r,context:e,relativeSelector:!1};return t.push(tP),Uh(i,t,s,!0,e.length)}return Uh(e,t,r,!1,e.length)}function nP(t,e,r={},n=1/0){if(typeof t=="function")return nA(e,t);const[i,s]=l1(Lh(t)),a=s.map(o=>Uh(e,o,r,!0,n));return i.length&&a.push(u1(e,i,r,n)),a.length===0?[]:a.length===1?a[0]:Vl(a.reduce((o,l)=>[...o,...l]))}function Uh(t,e,r,n,i){const s=e.findIndex(Fh),a=e.slice(0,s),o=e[s],l=e.length-1===s?i:1/0,d=ZB(o.name,o.data,l);if(d===0)return[];const c=(a.length===0&&!Array.isArray(t)?Sh(t).filter(Tt):a.length===0?(Array.isArray(t)?t:[t]).filter(Tt):n||a.some(Kc)?u1(t,[a],r,d):c1(t,[a],r)).slice(0,d);let h=rP(o.name,c,o.data,r);if(h.length===0||e.length===s+1)return h;const p=e.slice(s+1),m=p.some(Kc);if(m){if(Kc(p[0])){const{type:b}=p[0];(b===ft.Sibling||b===ft.Adjacent)&&(h=XE(h,Nh,!0)),p.unshift(eP)}r={...r,relativeSelector:!1,rootFunc:b=>h.includes(b)}}else r.rootFunc&&r.rootFunc!==Rh.trueFunc&&(r={...r,rootFunc:Rh.trueFunc});return p.some(Fh)?Uh(h,p,r,!1,i):m?u1(h,[p],r,i):c1(h,[p],r)}function u1(t,e,r,n){const i=o1(e,r,t);return nA(t,i,n)}function nA(t,e,r=1/0){const n=XE(t,Nh,e.shouldTestNextSiblings);return Wg(i=>Tt(i)&&e(i),n,!0,r)}function c1(t,e,r){const n=(Array.isArray(t)?t:[t]).filter(Tt);if(n.length===0)return n;const i=o1(e,r);return i===Rh.trueFunc?n:n.filter(i)}const iP=/^\s*[+~]/;function sP(t){if(!t)return this._make([]);if(typeof t!="string"){const e=ta(t)?t.toArray():[t],r=this.toArray();return this._make(e.filter(n=>r.some(i=>kE(i,n))))}return this._findBySelector(t,Number.POSITIVE_INFINITY)}function aP(t,e){var r;const n=this.toArray(),i=iP.test(t)?n:this.children().toArray(),s={context:n,root:(r=this._root)===null||r===void 0?void 0:r[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(nP(t,i,s,e))}function d1(t){return function(e,...r){return function(n){var i;let s=t(e,this);return n&&(s=p1(s,n,this.options.xmlMode,(i=this._root)===null||i===void 0?void 0:i[0])),this._make(this.length>1&&s.length>1?r.reduce((a,o)=>o(a),s):s)}}}const Zc=d1((t,e)=>{let r=[];for(let n=0;n<e.length;n++){const i=t(e[n]);i.length>0&&(r=r.concat(i))}return r}),f1=d1((t,e)=>{const r=[];for(let n=0;n<e.length;n++){const i=t(e[n]);i!==null&&r.push(i)}return r});function h1(t,...e){let r=null;const n=d1((i,s)=>{const a=[];return Tr(s,o=>{for(let l;(l=i(o))&&!(r!=null&&r(l,a.length));o=l)a.push(l)}),a})(t,...e);return function(i,s){r=typeof i=="string"?o=>ZE(o,i,this.options):i?Jc(i):null;const a=n.call(this,s);return r=null,a}}function Wl(t){return t.length>1?Array.from(new Set(t)):t}const oP=f1(({parent:t})=>t&&!Da(t)?t:null,Wl),lP=Zc(t=>{const e=[];for(;t.parent&&!Da(t.parent);)e.push(t.parent),t=t.parent;return e},Vl,t=>t.reverse()),uP=h1(({parent:t})=>t&&!Da(t)?t:null,Vl,t=>t.reverse());function cP(t){var e;const r=[];if(!t)return this._make(r);const n={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},i=typeof t=="string"?s=>ZE(s,t,n):Jc(t);return Tr(this,s=>{for(s&&!Da(s)&&!Tt(s)&&(s=s.parent);s&&Tt(s);){if(i(s,0)){r.includes(s)||r.push(s);break}s=s.parent}}),this._make(r)}const dP=f1(t=>Vg(t)),fP=Zc(t=>{const e=[];for(;t.next;)t=t.next,Tt(t)&&e.push(t);return e},Wl),hP=h1(t=>Vg(t),Wl),pP=f1(t=>qg(t)),mP=Zc(t=>{const e=[];for(;t.prev;)t=t.prev,Tt(t)&&e.push(t);return e},Wl),gP=h1(t=>qg(t),Wl),bP=Zc(t=>TE(t).filter(e=>Tt(e)&&e!==t),Vl),yP=Zc(t=>Sh(t).filter(Tt),Wl);function _P(){const t=this.toArray().reduce((e,r)=>Zr(r)?e.concat(r.children):e,[]);return this._make(t)}function vP(t){let e=0;const r=this.length;for(;e<r&&t.call(this[e],e,this[e])!==!1;)++e;return this}function TP(t){let e=[];for(let r=0;r<this.length;r++){const n=this[r],i=t.call(n,r,n);i!=null&&(e=e.concat(i))}return this._make(e)}function Jc(t){return typeof t=="function"?(e,r)=>t.call(e,r,e):ta(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function EP(t){var e;return this._make(p1(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function p1(t,e,r,n){return typeof e=="string"?eA(e,t,{xmlMode:r,root:n}):t.filter(Jc(e))}function AP(t){const e=this.toArray();return typeof t=="string"?JE(e.filter(Tt),t,this.options):t?e.some(Jc(t)):!1}function xP(t){let e=this.toArray();if(typeof t=="string"){const r=new Set(eA(t,e,this.options));e=e.filter(n=>!r.has(n))}else{const r=Jc(t);e=e.filter((n,i)=>!r(n,i))}return this._make(e)}function CP(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,r)=>this._make(r).find(t).length>0)}function wP(){return this.length>1?this._make(this[0]):this}function SP(){return this.length>0?this._make(this[this.length-1]):this}function kP(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function IP(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function DP(){return Array.prototype.slice.call(this)}function NP(t){let e,r;return t==null?(e=this.parent().children(),r=this[0]):typeof t=="string"?(e=this._make(t),r=this[0]):(e=this,r=ta(t)?t[0]:t),Array.prototype.indexOf.call(e,r)}function MP(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function OP(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function LP(t,e){const r=this._make(t,e),n=Vl([...this.get(),...r.get()]);return this._make(n)}function RP(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}const BP=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:aP,add:LP,addBack:RP,children:yP,closest:cP,contents:_P,each:vP,end:OP,eq:kP,filter:EP,filterArray:p1,find:sP,first:wP,get:IP,has:CP,index:NP,is:AP,last:SP,map:TP,next:dP,nextAll:fP,nextUntil:hP,not:xP,parent:oP,parents:lP,parentsUntil:uP,prev:pP,prevAll:mP,prevUntil:gP,siblings:bP,slice:MP,toArray:DP},Symbol.toStringTag,{value:"Module"}));function PP(t){return function(r,n,i,s){if(typeof Buffer<"u"&&Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")return t(r,n,i,s);const a=r;if(!Array.isArray(a)&&Da(a))return a;const o=new Co([]);return Io(a,o),o}}function Io(t,e){const r=Array.isArray(t)?t:[t];e?e.children=r:e=null;for(let n=0;n<r.length;n++){const i=r[n];i.parent&&i.parent.children!==r&&wo(i),e?(i.prev=r[n-1]||null,i.next=r[n+1]||null):i.prev=i.next=null,i.parent=e}return e}function FP(t,e){if(t==null)return[];if(typeof t=="string")return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(t.length===1)return this._makeDomArray(t[0],e);const r=[];for(let n=0;n<t.length;n++){const i=t[n];if(typeof i=="object"){if(i==null)continue;if(!("length"in i)){r.push(e?Wc(i,!0):i);continue}}r.push(...this._makeDomArray(i,e))}return r}return[e?Wc(t,!0):t]}function iA(t){return function(...e){const r=this.length-1;return Tr(this,(n,i)=>{if(!Zr(n))return;const s=typeof e[0]=="function"?e[0].call(n,i,this._render(n.children)):e,a=this._makeDomArray(s,i<r);t(a,n.children,n)})}}function Ma(t,e,r,n,i){var s,a;const o=[e,r,...n],l=e===0?null:t[e-1],d=e+r>=t.length?null:t[e+r];for(let f=0;f<n.length;++f){const c=n[f],h=c.parent;if(h){const m=h.children.indexOf(c);m>-1&&(h.children.splice(m,1),i===h&&e>m&&o[0]--)}c.parent=i,c.prev&&(c.prev.next=(s=c.next)!==null&&s!==void 0?s:null),c.next&&(c.next.prev=(a=c.prev)!==null&&a!==void 0?a:null),c.prev=f===0?l:n[f-1],c.next=f===n.length-1?d:n[f+1]}return l&&(l.next=n[0]),d&&(d.prev=n[n.length-1]),t.splice(...o)}function UP(t){return(ta(t)?t:this._make(t)).append(this),this}function $P(t){return(ta(t)?t:this._make(t)).prepend(this),this}const jP=iA((t,e,r)=>{Ma(e,e.length,0,t,r)}),HP=iA((t,e,r)=>{Ma(e,0,0,t,r)});function sA(t){return function(e){const r=this.length-1,n=this.parents().last();for(let i=0;i<this.length;i++){const s=this[i],a=typeof e=="function"?e.call(s,i,s):typeof e=="string"&&!Qg(e)?n.find(e).clone():e,[o]=this._makeDomArray(a,i<r);if(!o||!Zr(o))continue;let l=o,d=0;for(;d<l.children.length;){const f=l.children[d];Tt(f)?(l=f,d=0):d++}t(s,l,[o])}return this}}const zP=sA((t,e,r)=>{const{parent:n}=t;if(!n)return;const i=n.children,s=i.indexOf(t);Io([t],e),Ma(i,s,0,r,n)}),VP=sA((t,e,r)=>{Zr(t)&&(Io(t.children,e),Io(r,t))});function qP(t){return this.parent(t).not("body").each((e,r)=>{this._make(r).replaceWith(r.children)}),this}function WP(t){const e=this[0];if(e){const r=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e);let n;for(let s=0;s<r.length;s++)r[s].type==="tag"&&(n=r[s]);let i=0;for(;n&&i<n.children.length;){const s=n.children[i];s.type==="tag"?(n=s,i=0):i++}n&&this._make(n).append(this)}return this}function GP(...t){const e=this.length-1;return Tr(this,(r,n)=>{if(!Zr(r)||!r.parent)return;const i=r.parent.children,s=i.indexOf(r);if(s<0)return;const a=typeof t[0]=="function"?t[0].call(r,n,this._render(r.children)):t,o=this._makeDomArray(a,n<e);Ma(i,s+1,0,o,r.parent)})}function YP(t){typeof t=="string"&&(t=this._make(t)),this.remove();const e=[];for(const r of this._makeDomArray(t)){const n=this.clone().toArray(),{parent:i}=r;if(!i)continue;const s=i.children,a=s.indexOf(r);a<0||(Ma(s,a+1,0,n,i),e.push(...n))}return this._make(e)}function QP(...t){const e=this.length-1;return Tr(this,(r,n)=>{if(!Zr(r)||!r.parent)return;const i=r.parent.children,s=i.indexOf(r);if(s<0)return;const a=typeof t[0]=="function"?t[0].call(r,n,this._render(r.children)):t,o=this._makeDomArray(a,n<e);Ma(i,s,0,o,r.parent)})}function KP(t){const e=this._make(t);this.remove();const r=[];return Tr(e,n=>{const i=this.clone().toArray(),{parent:s}=n;if(!s)return;const a=s.children,o=a.indexOf(n);o<0||(Ma(a,o,0,i,s),r.push(...i))}),this._make(r)}function XP(t){const e=t?this.filter(t):this;return Tr(e,r=>{wo(r),r.prev=r.next=r.parent=null}),this}function ZP(t){return Tr(this,(e,r)=>{const{parent:n}=e;if(!n)return;const i=n.children,s=typeof t=="function"?t.call(e,r,e):t,a=this._makeDomArray(s);Io(a,null);const o=i.indexOf(e);Ma(i,o,1,a,n),a.includes(e)||(e.parent=e.prev=e.next=null)})}function JP(){return Tr(this,t=>{if(Zr(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}})}function e7(t){if(t===void 0){const e=this[0];return!e||!Zr(e)?null:this._render(e.children)}return Tr(this,e=>{if(!Zr(e))return;for(const n of e.children)n.next=n.prev=n.parent=null;const r=ta(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;Io(r,e)})}function t7(){return this._render(this)}function r7(t){return t===void 0?Gc(this):typeof t=="function"?Tr(this,(e,r)=>this._make(e).text(t.call(e,r,Gc([e])))):Tr(this,e=>{if(!Zr(e))return;for(const n of e.children)n.next=n.prev=n.parent=null;const r=new qc(`${t}`);Io(r,e)})}function n7(){const t=Array.prototype.map.call(this.get(),r=>Wc(r,!0)),e=new Co(t);for(const r of t)r.parent=e;return this._make(t)}const i7=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:FP,after:GP,append:jP,appendTo:UP,before:QP,clone:n7,empty:JP,html:e7,insertAfter:YP,insertBefore:KP,prepend:HP,prependTo:$P,remove:XP,replaceWith:ZP,text:r7,toString:t7,unwrap:qP,wrap:zP,wrapAll:WP,wrapInner:VP},Symbol.toStringTag,{value:"Module"}));function s7(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return Tr(this,(r,n)=>{Tt(r)&&aA(r,t,e,n)});if(this.length!==0)return oA(this[0],t)}function aA(t,e,r,n){if(typeof e=="string"){const i=oA(t),s=typeof r=="function"?r.call(t,n,i[e]):r;s===""?delete i[e]:s!=null&&(i[e]=s),t.attribs.style=a7(i)}else if(typeof e=="object"){const i=Object.keys(e);for(let s=0;s<i.length;s++){const a=i[s];aA(t,a,e[a],s)}}}function oA(t,e){if(!t||!Tt(t))return;const r=o7(t.attribs.style);if(typeof e=="string")return r[e];if(Array.isArray(e)){const n={};for(const i of e)r[i]!=null&&(n[i]=r[i]);return n}return r}function a7(t){return Object.keys(t).reduce((e,r)=>`${e}${e?" ":""}${r}: ${t[r]};`,"")}function o7(t){if(t=(t||"").trim(),!t)return{};const e={};let r;for(const n of t.split(";")){const i=n.indexOf(":");if(i<1||i===n.length-1){const s=n.trimEnd();s.length>0&&r!==void 0&&(e[r]+=`;${s}`)}else r=n.slice(0,i).trim(),e[r]=n.slice(i+1).trim()}return e}const l7=Object.freeze(Object.defineProperty({__proto__:null,css:s7},Symbol.toStringTag,{value:"Module"})),lA="input,select,textarea,keygen",u7=/%20/g,uA=/\r?\n/g;function c7(){return this.serializeArray().map(r=>`${encodeURIComponent(r.name)}=${encodeURIComponent(r.value)}`).join("&").replace(u7,"+")}function d7(){return this.map((t,e)=>{const r=this._make(e);return Tt(e)&&e.name==="form"?r.find(lA).toArray():r.filter(lA).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var r;const n=this._make(e),i=n.attr("name"),s=(r=n.val())!==null&&r!==void 0?r:"";return Array.isArray(s)?s.map(a=>({name:i,value:a.replace(uA,`\r
`)})):{name:i,value:s.replace(uA,`\r
`)}}).toArray()}const f7=Object.freeze(Object.defineProperty({__proto__:null,serialize:c7,serializeArray:d7},Symbol.toStringTag,{value:"Module"}));function h7(t){var e;return typeof t=="string"?{selector:t,value:"textContent"}:{selector:t.selector,value:(e=t.value)!==null&&e!==void 0?e:"textContent"}}function p7(t){const e={};for(const r in t){const n=t[r],i=Array.isArray(n),{selector:s,value:a}=h7(i?n[0]:n),o=typeof a=="function"?a:typeof a=="string"?l=>this._make(l).prop(a):l=>this._make(l).extract(a);if(i)e[r]=this._findBySelector(s,Number.POSITIVE_INFINITY).map((l,d)=>o(d,r,e)).get();else{const l=this._findBySelector(s,1);e[r]=l.length>0?o(l[0],r,e):void 0}}return e}const m7=Object.freeze(Object.defineProperty({__proto__:null,extract:p7},Symbol.toStringTag,{value:"Module"}));class ed{constructor(e,r,n){if(this.length=0,this.options=n,this._root=r,e){for(let i=0;i<e.length;i++)this[i]=e[i];this.length=e.length}}}ed.prototype.cheerio="[cheerio object]",ed.prototype.splice=Array.prototype.splice,ed.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(ed.prototype,TB,BP,i7,l7,f7,m7);function g7(t,e){return function r(n,i,s=!0){if(n==null)throw new Error("cheerio.load() expects a string");const a=Yg(i),o=t(n,a,s,null);class l extends ed{_make(c,h){const p=d(c,h);return p.prevObject=this,p}_parse(c,h,p,m){return t(c,h,p,m)}_render(c){return e(c,this.options)}}function d(f,c,h=o,p){if(f&&ta(f))return f;const m=Yg(p,a),b=typeof h=="string"?[t(h,m,!1,null)]:"length"in h?h:[h],y=ta(b)?b:new l(b,null,m);if(y._root=y,!f)return new l(void 0,y,m);const _=typeof f=="string"&&Qg(f)?t(f,m,!1,null).children:b7(f)?[f]:Array.isArray(f)?f:void 0,x=new l(_,y,m);if(_)return x;if(typeof f!="string")throw new TypeError("Unexpected type of selector");let C=f;const k=c?typeof c=="string"?Qg(c)?new l([t(c,m,!1,null)],y,m):(C=`${c} ${C}`,y):ta(c)?c:new l(Array.isArray(c)?c:[c],y,m):y;return k?k.find(C):x}return Object.assign(d,uB,{load:r,_root:o,_options:a,fn:l.prototype,prototype:l.prototype}),d}}function b7(t){return!!t.name||t.type==="root"||t.type==="text"||t.type==="comment"}const y7=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),gr="";var G;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.NUMBER_SIGN=35]="NUMBER_SIGN",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",t[t.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_F=102]="LATIN_SMALL_F",t[t.LATIN_SMALL_X=120]="LATIN_SMALL_X",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",t[t.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(G=G||(G={}));const qn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function cA(t){return t>=55296&&t<=57343}function _7(t){return t>=56320&&t<=57343}function v7(t,e){return(t-55296)*1024+9216+e}function dA(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function fA(t){return t>=64976&&t<=65007||y7.has(t)}var ke;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ke=ke||(ke={}));const T7=65536;class E7{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=T7,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:r,col:n,offset:i}=this;return{code:e,startLine:r,endLine:r,startCol:n,endCol:n,startOffset:i,endOffset:i}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(_7(r))return this.pos++,this._addGap(),v7(e,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,G.EOF;return this._err(ke.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,r){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,r){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==e.charCodeAt(n))return!1;return!0}peek(e){const r=this.pos+e;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;const n=this.html.charCodeAt(r);return n===G.CARRIAGE_RETURN?G.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;let e=this.html.charCodeAt(this.pos);return e===G.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,G.LINE_FEED):e===G.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,cA(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===G.LINE_FEED||e===G.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){dA(e)?this._err(ke.controlCharacterInInputStream):fA(e)&&this._err(ke.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ft;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Ft=Ft||(Ft={}));function hA(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}var Me;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Me=Me||(Me={}));var Oa;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Oa=Oa||(Oa={}));var Wn;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Wn=Wn||(Wn={}));var ve;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(ve=ve||(ve={}));var T;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SECTION=94]="SECTION",t[t.SELECT=95]="SELECT",t[t.SOURCE=96]="SOURCE",t[t.SMALL=97]="SMALL",t[t.SPAN=98]="SPAN",t[t.STRIKE=99]="STRIKE",t[t.STRONG=100]="STRONG",t[t.STYLE=101]="STYLE",t[t.SUB=102]="SUB",t[t.SUMMARY=103]="SUMMARY",t[t.SUP=104]="SUP",t[t.TABLE=105]="TABLE",t[t.TBODY=106]="TBODY",t[t.TEMPLATE=107]="TEMPLATE",t[t.TEXTAREA=108]="TEXTAREA",t[t.TFOOT=109]="TFOOT",t[t.TD=110]="TD",t[t.TH=111]="TH",t[t.THEAD=112]="THEAD",t[t.TITLE=113]="TITLE",t[t.TR=114]="TR",t[t.TRACK=115]="TRACK",t[t.TT=116]="TT",t[t.U=117]="U",t[t.UL=118]="UL",t[t.SVG=119]="SVG",t[t.VAR=120]="VAR",t[t.WBR=121]="WBR",t[t.XMP=122]="XMP"})(T=T||(T={}));const A7=new Map([[ve.A,T.A],[ve.ADDRESS,T.ADDRESS],[ve.ANNOTATION_XML,T.ANNOTATION_XML],[ve.APPLET,T.APPLET],[ve.AREA,T.AREA],[ve.ARTICLE,T.ARTICLE],[ve.ASIDE,T.ASIDE],[ve.B,T.B],[ve.BASE,T.BASE],[ve.BASEFONT,T.BASEFONT],[ve.BGSOUND,T.BGSOUND],[ve.BIG,T.BIG],[ve.BLOCKQUOTE,T.BLOCKQUOTE],[ve.BODY,T.BODY],[ve.BR,T.BR],[ve.BUTTON,T.BUTTON],[ve.CAPTION,T.CAPTION],[ve.CENTER,T.CENTER],[ve.CODE,T.CODE],[ve.COL,T.COL],[ve.COLGROUP,T.COLGROUP],[ve.DD,T.DD],[ve.DESC,T.DESC],[ve.DETAILS,T.DETAILS],[ve.DIALOG,T.DIALOG],[ve.DIR,T.DIR],[ve.DIV,T.DIV],[ve.DL,T.DL],[ve.DT,T.DT],[ve.EM,T.EM],[ve.EMBED,T.EMBED],[ve.FIELDSET,T.FIELDSET],[ve.FIGCAPTION,T.FIGCAPTION],[ve.FIGURE,T.FIGURE],[ve.FONT,T.FONT],[ve.FOOTER,T.FOOTER],[ve.FOREIGN_OBJECT,T.FOREIGN_OBJECT],[ve.FORM,T.FORM],[ve.FRAME,T.FRAME],[ve.FRAMESET,T.FRAMESET],[ve.H1,T.H1],[ve.H2,T.H2],[ve.H3,T.H3],[ve.H4,T.H4],[ve.H5,T.H5],[ve.H6,T.H6],[ve.HEAD,T.HEAD],[ve.HEADER,T.HEADER],[ve.HGROUP,T.HGROUP],[ve.HR,T.HR],[ve.HTML,T.HTML],[ve.I,T.I],[ve.IMG,T.IMG],[ve.IMAGE,T.IMAGE],[ve.INPUT,T.INPUT],[ve.IFRAME,T.IFRAME],[ve.KEYGEN,T.KEYGEN],[ve.LABEL,T.LABEL],[ve.LI,T.LI],[ve.LINK,T.LINK],[ve.LISTING,T.LISTING],[ve.MAIN,T.MAIN],[ve.MALIGNMARK,T.MALIGNMARK],[ve.MARQUEE,T.MARQUEE],[ve.MATH,T.MATH],[ve.MENU,T.MENU],[ve.META,T.META],[ve.MGLYPH,T.MGLYPH],[ve.MI,T.MI],[ve.MO,T.MO],[ve.MN,T.MN],[ve.MS,T.MS],[ve.MTEXT,T.MTEXT],[ve.NAV,T.NAV],[ve.NOBR,T.NOBR],[ve.NOFRAMES,T.NOFRAMES],[ve.NOEMBED,T.NOEMBED],[ve.NOSCRIPT,T.NOSCRIPT],[ve.OBJECT,T.OBJECT],[ve.OL,T.OL],[ve.OPTGROUP,T.OPTGROUP],[ve.OPTION,T.OPTION],[ve.P,T.P],[ve.PARAM,T.PARAM],[ve.PLAINTEXT,T.PLAINTEXT],[ve.PRE,T.PRE],[ve.RB,T.RB],[ve.RP,T.RP],[ve.RT,T.RT],[ve.RTC,T.RTC],[ve.RUBY,T.RUBY],[ve.S,T.S],[ve.SCRIPT,T.SCRIPT],[ve.SECTION,T.SECTION],[ve.SELECT,T.SELECT],[ve.SOURCE,T.SOURCE],[ve.SMALL,T.SMALL],[ve.SPAN,T.SPAN],[ve.STRIKE,T.STRIKE],[ve.STRONG,T.STRONG],[ve.STYLE,T.STYLE],[ve.SUB,T.SUB],[ve.SUMMARY,T.SUMMARY],[ve.SUP,T.SUP],[ve.TABLE,T.TABLE],[ve.TBODY,T.TBODY],[ve.TEMPLATE,T.TEMPLATE],[ve.TEXTAREA,T.TEXTAREA],[ve.TFOOT,T.TFOOT],[ve.TD,T.TD],[ve.TH,T.TH],[ve.THEAD,T.THEAD],[ve.TITLE,T.TITLE],[ve.TR,T.TR],[ve.TRACK,T.TRACK],[ve.TT,T.TT],[ve.U,T.U],[ve.UL,T.UL],[ve.SVG,T.SVG],[ve.VAR,T.VAR],[ve.WBR,T.WBR],[ve.XMP,T.XMP]]);function $h(t){var e;return(e=A7.get(t))!==null&&e!==void 0?e:T.UNKNOWN}const He=T,x7={[Me.HTML]:new Set([He.ADDRESS,He.APPLET,He.AREA,He.ARTICLE,He.ASIDE,He.BASE,He.BASEFONT,He.BGSOUND,He.BLOCKQUOTE,He.BODY,He.BR,He.BUTTON,He.CAPTION,He.CENTER,He.COL,He.COLGROUP,He.DD,He.DETAILS,He.DIR,He.DIV,He.DL,He.DT,He.EMBED,He.FIELDSET,He.FIGCAPTION,He.FIGURE,He.FOOTER,He.FORM,He.FRAME,He.FRAMESET,He.H1,He.H2,He.H3,He.H4,He.H5,He.H6,He.HEAD,He.HEADER,He.HGROUP,He.HR,He.HTML,He.IFRAME,He.IMG,He.INPUT,He.LI,He.LINK,He.LISTING,He.MAIN,He.MARQUEE,He.MENU,He.META,He.NAV,He.NOEMBED,He.NOFRAMES,He.NOSCRIPT,He.OBJECT,He.OL,He.P,He.PARAM,He.PLAINTEXT,He.PRE,He.SCRIPT,He.SECTION,He.SELECT,He.SOURCE,He.STYLE,He.SUMMARY,He.TABLE,He.TBODY,He.TD,He.TEMPLATE,He.TEXTAREA,He.TFOOT,He.TH,He.THEAD,He.TITLE,He.TR,He.TRACK,He.UL,He.WBR,He.XMP]),[Me.MATHML]:new Set([He.MI,He.MO,He.MN,He.MS,He.MTEXT,He.ANNOTATION_XML]),[Me.SVG]:new Set([He.TITLE,He.FOREIGN_OBJECT,He.DESC]),[Me.XLINK]:new Set,[Me.XML]:new Set,[Me.XMLNS]:new Set};function pA(t){return t===He.H1||t===He.H2||t===He.H3||t===He.H4||t===He.H5||t===He.H6}const C7=new Set([ve.STYLE,ve.SCRIPT,ve.XMP,ve.IFRAME,ve.NOEMBED,ve.NOFRAMES,ve.PLAINTEXT]);function w7(t,e){return C7.has(t)||e&&t===ve.NOSCRIPT}const S7=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var J;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",t[t.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",t[t.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",t[t.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",t[t.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",t[t.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(J||(J={}));const Gn={DATA:J.DATA,RCDATA:J.RCDATA,RAWTEXT:J.RAWTEXT,SCRIPT_DATA:J.SCRIPT_DATA,PLAINTEXT:J.PLAINTEXT,CDATA_SECTION:J.CDATA_SECTION};function td(t){return t>=G.DIGIT_0&&t<=G.DIGIT_9}function rd(t){return t>=G.LATIN_CAPITAL_A&&t<=G.LATIN_CAPITAL_Z}function k7(t){return t>=G.LATIN_SMALL_A&&t<=G.LATIN_SMALL_Z}function La(t){return k7(t)||rd(t)}function m1(t){return La(t)||td(t)}function mA(t){return t>=G.LATIN_CAPITAL_A&&t<=G.LATIN_CAPITAL_F}function gA(t){return t>=G.LATIN_SMALL_A&&t<=G.LATIN_SMALL_F}function I7(t){return td(t)||mA(t)||gA(t)}function jh(t){return t+32}function bA(t){return t===G.SPACE||t===G.LINE_FEED||t===G.TABULATION||t===G.FORM_FEED}function D7(t){return t===G.EQUALS_SIGN||m1(t)}function yA(t){return bA(t)||t===G.SOLIDUS||t===G.GREATER_THAN_SIGN}let N7=class{constructor(e,r){this.options=e,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=J.DATA,this.returnState=J.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new E7(r),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var r,n;(n=(r=this.handler).onParseError)===null||n===void 0||n.call(r,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,r,n){this.active=!0,this.preprocessor.write(e,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,r){this.state=e,this._callState(r)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let r=0;r<e;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,r){return this.preprocessor.startsWith(e,r)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ft.START_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ft.END_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Ft.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Ft.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,r){this.currentCharacterToken={type:e,chars:r,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,r;const n=this.currentToken;if(hA(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(e=(r=n.location).attrs)!==null&&e!==void 0?e:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ke.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=$h(e.tagName),e.type===Ft.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ke.endTagWithAttributes),e.selfClosing&&this._err(ke.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Ft.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ft.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ft.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Ft.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=r;return}this._createCharacterToken(e,r)}_emitCodePoint(e){const r=bA(e)?Ft.WHITESPACE_CHARACTER:e===G.NULL?Ft.NULL_CHARACTER:Ft.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Ft.CHARACTER,e)}_matchNamedCharacterReference(e){let r=null,n=0,i=!1;for(let s=0,a=ea[0];s>=0&&(s=fE(ea,a,s+1,e),!(s<0));e=this._consume()){n+=1,a=ea[s];const o=a&Es.VALUE_LENGTH;if(o){const l=(o>>14)-1;if(e!==G.SEMICOLON&&this._isCharacterReferenceInAttribute()&&D7(this.preprocessor.peek(1))?(r=[G.AMPERSAND],s+=l):(r=l===0?[ea[s]&~Es.VALUE_LENGTH]:l===1?[ea[++s]]:[ea[++s],ea[++s]],n=0,i=e!==G.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(n),i&&!this.preprocessor.endOfChunkHit&&this._err(ke.missingSemicolonAfterCharacterReference),this._unconsume(1),r}_isCharacterReferenceInAttribute(){return this.returnState===J.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===J.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===J.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case J.DATA:{this._stateData(e);break}case J.RCDATA:{this._stateRcdata(e);break}case J.RAWTEXT:{this._stateRawtext(e);break}case J.SCRIPT_DATA:{this._stateScriptData(e);break}case J.PLAINTEXT:{this._statePlaintext(e);break}case J.TAG_OPEN:{this._stateTagOpen(e);break}case J.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case J.TAG_NAME:{this._stateTagName(e);break}case J.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case J.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case J.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case J.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case J.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case J.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case J.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case J.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case J.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case J.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case J.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case J.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case J.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case J.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case J.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case J.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case J.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case J.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case J.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case J.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case J.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case J.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case J.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case J.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case J.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case J.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case J.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case J.BOGUS_COMMENT:{this._stateBogusComment(e);break}case J.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case J.COMMENT_START:{this._stateCommentStart(e);break}case J.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case J.COMMENT:{this._stateComment(e);break}case J.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case J.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case J.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case J.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case J.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case J.COMMENT_END:{this._stateCommentEnd(e);break}case J.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case J.DOCTYPE:{this._stateDoctype(e);break}case J.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case J.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case J.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case J.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case J.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case J.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case J.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case J.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case J.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case J.CDATA_SECTION:{this._stateCdataSection(e);break}case J.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case J.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case J.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case J.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case J.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case J.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case J.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case J.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case J.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case J.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case G.LESS_THAN_SIGN:{this.state=J.TAG_OPEN;break}case G.AMPERSAND:{this.returnState=J.DATA,this.state=J.CHARACTER_REFERENCE;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitCodePoint(e);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case G.AMPERSAND:{this.returnState=J.RCDATA,this.state=J.CHARACTER_REFERENCE;break}case G.LESS_THAN_SIGN:{this.state=J.RCDATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitChars(gr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case G.LESS_THAN_SIGN:{this.state=J.RAWTEXT_LESS_THAN_SIGN;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitChars(gr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitChars(gr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitChars(gr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(La(e))this._createStartTagToken(),this.state=J.TAG_NAME,this._stateTagName(e);else switch(e){case G.EXCLAMATION_MARK:{this.state=J.MARKUP_DECLARATION_OPEN;break}case G.SOLIDUS:{this.state=J.END_TAG_OPEN;break}case G.QUESTION_MARK:{this._err(ke.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=J.BOGUS_COMMENT,this._stateBogusComment(e);break}case G.EOF:{this._err(ke.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ke.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=J.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(La(e))this._createEndTagToken(),this.state=J.TAG_NAME,this._stateTagName(e);else switch(e){case G.GREATER_THAN_SIGN:{this._err(ke.missingEndTagName),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ke.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=J.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this.state=J.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.tagName+=gr;break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(rd(e)?jh(e):e)}}_stateRcdataLessThanSign(e){e===G.SOLIDUS?this.state=J.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=J.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){La(e)?(this.state=J.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=J.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=J.BEFORE_ATTRIBUTE_NAME,!1;case G.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=J.SELF_CLOSING_START_TAG,!1;case G.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=J.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=J.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===G.SOLIDUS?this.state=J.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=J.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){La(e)?(this.state=J.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=J.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=J.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case G.SOLIDUS:{this.state=J.SCRIPT_DATA_END_TAG_OPEN;break}case G.EXCLAMATION_MARK:{this.state=J.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=J.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){La(e)?(this.state=J.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=J.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=J.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===G.HYPHEN_MINUS?(this.state=J.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=J.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===G.HYPHEN_MINUS?(this.state=J.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=J.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitChars(gr);break}case G.EOF:{this._err(ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_ESCAPED,this._emitChars(gr);break}case G.EOF:{this._err(ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.GREATER_THAN_SIGN:{this.state=J.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_ESCAPED,this._emitChars(gr);break}case G.EOF:{this._err(ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===G.SOLIDUS?this.state=J.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:La(e)?(this._emitChars("<"),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){La(e)?(this.state=J.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(qn.SCRIPT,!1)&&yA(this.preprocessor.peek(qn.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<qn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this._emitChars(gr);break}case G.EOF:{this._err(ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gr);break}case G.EOF:{this._err(ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.GREATER_THAN_SIGN:{this.state=J.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gr);break}case G.EOF:{this._err(ke.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===G.SOLIDUS?(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(qn.SCRIPT,!1)&&yA(this.preprocessor.peek(qn.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<qn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=J.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this.state=J.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case G.EQUALS_SIGN:{this._err(ke.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=J.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=J.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this._leaveAttrName(),this.state=J.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case G.EQUALS_SIGN:{this._leaveAttrName(),this.state=J.BEFORE_ATTRIBUTE_VALUE;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:{this._err(ke.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.currentAttr.name+=gr;break}default:this.currentAttr.name+=String.fromCodePoint(rd(e)?jh(e):e)}}_stateAfterAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:{this.state=J.SELF_CLOSING_START_TAG;break}case G.EQUALS_SIGN:{this.state=J.BEFORE_ATTRIBUTE_VALUE;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=J.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{this.state=J.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this.state=J.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(ke.missingAttributeValue),this.state=J.DATA,this.emitCurrentTagToken();break}default:this.state=J.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case G.QUOTATION_MARK:{this.state=J.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this.returnState=J.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=J.CHARACTER_REFERENCE;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.currentAttr.value+=gr;break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case G.APOSTROPHE:{this.state=J.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this.returnState=J.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=J.CHARACTER_REFERENCE;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.currentAttr.value+=gr;break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=J.BEFORE_ATTRIBUTE_NAME;break}case G.AMPERSAND:{this.returnState=J.ATTRIBUTE_VALUE_UNQUOTED,this.state=J.CHARACTER_REFERENCE;break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=J.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(ke.unexpectedNullCharacter),this.currentAttr.value+=gr;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:case G.EQUALS_SIGN:case G.GRAVE_ACCENT:{this._err(ke.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=J.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this._leaveAttrValue(),this.state=J.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=J.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:this._err(ke.missingWhitespaceBetweenAttributes),this.state=J.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case G.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=J.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(ke.eofInTag),this._emitEOFToken();break}default:this._err(ke.unexpectedSolidusInTag),this.state=J.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const r=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentComment(r);break}case G.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.data+=gr;break}default:r.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(qn.DASH_DASH,!0)?(this._createCommentToken(qn.DASH_DASH.length+1),this.state=J.COMMENT_START):this._consumeSequenceIfMatch(qn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(qn.DOCTYPE.length+1),this.state=J.DOCTYPE):this._consumeSequenceIfMatch(qn.CDATA_START,!0)?this.inForeignNode?this.state=J.CDATA_SECTION:(this._err(ke.cdataInHtmlContent),this._createCommentToken(qn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=J.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ke.incorrectlyOpenedComment),this._createCommentToken(2),this.state=J.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case G.HYPHEN_MINUS:{this.state=J.COMMENT_START_DASH;break}case G.GREATER_THAN_SIGN:{this._err(ke.abruptClosingOfEmptyComment),this.state=J.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=J.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const r=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=J.COMMENT_END;break}case G.GREATER_THAN_SIGN:{this._err(ke.abruptClosingOfEmptyComment),this.state=J.DATA,this.emitCurrentComment(r);break}case G.EOF:{this._err(ke.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=J.COMMENT,this._stateComment(e)}}_stateComment(e){const r=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=J.COMMENT_END_DASH;break}case G.LESS_THAN_SIGN:{r.data+="<",this.state=J.COMMENT_LESS_THAN_SIGN;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.data+=gr;break}case G.EOF:{this._err(ke.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const r=this.currentToken;switch(e){case G.EXCLAMATION_MARK:{r.data+="!",this.state=J.COMMENT_LESS_THAN_SIGN_BANG;break}case G.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=J.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===G.HYPHEN_MINUS?this.state=J.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=J.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===G.HYPHEN_MINUS?this.state=J.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=J.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==G.GREATER_THAN_SIGN&&e!==G.EOF&&this._err(ke.nestedComment),this.state=J.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const r=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=J.COMMENT_END;break}case G.EOF:{this._err(ke.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=J.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const r=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentComment(r);break}case G.EXCLAMATION_MARK:{this.state=J.COMMENT_END_BANG;break}case G.HYPHEN_MINUS:{r.data+="-";break}case G.EOF:{this._err(ke.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=J.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const r=this.currentToken;switch(e){case G.HYPHEN_MINUS:{r.data+="--!",this.state=J.COMMENT_END_DASH;break}case G.GREATER_THAN_SIGN:{this._err(ke.incorrectlyClosedComment),this.state=J.DATA,this.emitCurrentComment(r);break}case G.EOF:{this._err(ke.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=J.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=J.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case G.EOF:{this._err(ke.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingWhitespaceBeforeDoctypeName),this.state=J.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(rd(e))this._createDoctypeToken(String.fromCharCode(jh(e))),this.state=J.DOCTYPE_NAME;else switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.NULL:{this._err(ke.unexpectedNullCharacter),this._createDoctypeToken(gr),this.state=J.DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this._err(ke.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=J.DOCTYPE_NAME}}_stateDoctypeName(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.AFTER_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.name+=gr;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(rd(e)?jh(e):e)}}_stateAfterDoctypeName(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(qn.PUBLIC,!1)?this.state=J.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(qn.SYSTEM,!1)?this.state=J.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ke.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(ke.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(ke.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(ke.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{r.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{r.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(ke.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case G.QUOTATION_MARK:{this.state=J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.publicId+=gr;break}case G.GREATER_THAN_SIGN:{this._err(ke.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case G.APOSTROPHE:{this.state=J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.publicId+=gr;break}case G.GREATER_THAN_SIGN:{this._err(ke.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.QUOTATION_MARK:{this._err(ke.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(ke.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.QUOTATION_MARK:{r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(ke.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(ke.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(ke.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{r.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(ke.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(r);break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case G.QUOTATION_MARK:{this.state=J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.systemId+=gr;break}case G.GREATER_THAN_SIGN:{this._err(ke.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case G.APOSTROPHE:{this.state=J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(ke.unexpectedNullCharacter),r.systemId+=gr;break}case G.GREATER_THAN_SIGN:{this._err(ke.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.EOF:{this._err(ke.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ke.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const r=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=J.DATA;break}case G.NULL:{this._err(ke.unexpectedNullCharacter);break}case G.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case G.RIGHT_SQUARE_BRACKET:{this.state=J.CDATA_SECTION_BRACKET;break}case G.EOF:{this._err(ke.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===G.RIGHT_SQUARE_BRACKET?this.state=J.CDATA_SECTION_END:(this._emitChars("]"),this.state=J.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case G.GREATER_THAN_SIGN:{this.state=J.DATA;break}case G.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=J.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===G.NUMBER_SIGN?this.state=J.NUMERIC_CHARACTER_REFERENCE:m1(e)?(this.state=J.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const r=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(r){for(let n=0;n<r.length;n++)this._flushCodePointConsumedAsCharacterReference(r[n]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this.state=J.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){m1(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===G.SEMICOLON&&this._err(ke.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===G.LATIN_SMALL_X||e===G.LATIN_CAPITAL_X?this.state=J.HEXADEMICAL_CHARACTER_REFERENCE_START:td(e)?(this.state=J.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(ke.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(G.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){I7(e)?(this.state=J.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(ke.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(G.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){mA(e)?this.charRefCode=this.charRefCode*16+e-55:gA(e)?this.charRefCode=this.charRefCode*16+e-87:td(e)?this.charRefCode=this.charRefCode*16+e-48:e===G.SEMICOLON?this.state=J.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ke.missingSemicolonAfterCharacterReference),this.state=J.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){td(e)?this.charRefCode=this.charRefCode*10+e-48:e===G.SEMICOLON?this.state=J.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ke.missingSemicolonAfterCharacterReference),this.state=J.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===G.NULL)this._err(ke.nullCharacterReference),this.charRefCode=G.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ke.characterReferenceOutsideUnicodeRange),this.charRefCode=G.REPLACEMENT_CHARACTER;else if(cA(this.charRefCode))this._err(ke.surrogateCharacterReference),this.charRefCode=G.REPLACEMENT_CHARACTER;else if(fA(this.charRefCode))this._err(ke.noncharacterCharacterReference);else if(dA(this.charRefCode)||this.charRefCode===G.CARRIAGE_RETURN){this._err(ke.controlCharacterReference);const r=S7.get(this.charRefCode);r!==void 0&&(this.charRefCode=r)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}};const _A=new Set([T.DD,T.DT,T.LI,T.OPTGROUP,T.OPTION,T.P,T.RB,T.RP,T.RT,T.RTC]),vA=new Set([..._A,T.CAPTION,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]),Hh=new Map([[T.APPLET,Me.HTML],[T.CAPTION,Me.HTML],[T.HTML,Me.HTML],[T.MARQUEE,Me.HTML],[T.OBJECT,Me.HTML],[T.TABLE,Me.HTML],[T.TD,Me.HTML],[T.TEMPLATE,Me.HTML],[T.TH,Me.HTML],[T.ANNOTATION_XML,Me.MATHML],[T.MI,Me.MATHML],[T.MN,Me.MATHML],[T.MO,Me.MATHML],[T.MS,Me.MATHML],[T.MTEXT,Me.MATHML],[T.DESC,Me.SVG],[T.FOREIGN_OBJECT,Me.SVG],[T.TITLE,Me.SVG]]),M7=[T.H1,T.H2,T.H3,T.H4,T.H5,T.H6],O7=[T.TR,T.TEMPLATE,T.HTML],L7=[T.TBODY,T.TFOOT,T.THEAD,T.TEMPLATE,T.HTML],R7=[T.TABLE,T.TEMPLATE,T.HTML],B7=[T.TD,T.TH];class P7{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=T.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===T.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Me.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,r){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,r,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,r){const n=this._indexOf(e);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(e,r,n){const i=this._indexOf(e)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(e,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==Me.HTML);this.shortenToLength(r<0?0:r)}shortenToLength(e){for(;this.stackTop>=e;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<e)}}popUntilElementPopped(e){const r=this._indexOf(e);this.shortenToLength(r<0?0:r)}popUntilPopped(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(M7,Me.HTML)}popUntilTableCellPopped(){this.popUntilPopped(B7,Me.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,r){for(let n=this.stackTop;n>=0;n--)if(e.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(R7,Me.HTML)}clearBackToTableBodyContext(){this.clearBackTo(L7,Me.HTML)}clearBackToTableRowContext(){this.clearBackTo(O7,Me.HTML)}remove(e){const r=this._indexOf(e);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===T.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const r=this._indexOf(e)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===T.HTML}hasInScope(e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r],i=this.treeAdapter.getNamespaceURI(this.items[r]);if(n===e&&i===Me.HTML)return!0;if(Hh.get(n)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e],n=this.treeAdapter.getNamespaceURI(this.items[e]);if(pA(r)&&n===Me.HTML)return!0;if(Hh.get(r)===n)return!1}return!0}hasInListItemScope(e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r],i=this.treeAdapter.getNamespaceURI(this.items[r]);if(n===e&&i===Me.HTML)return!0;if((n===T.UL||n===T.OL)&&i===Me.HTML||Hh.get(n)===i)return!1}return!0}hasInButtonScope(e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r],i=this.treeAdapter.getNamespaceURI(this.items[r]);if(n===e&&i===Me.HTML)return!0;if(n===T.BUTTON&&i===Me.HTML||Hh.get(n)===i)return!1}return!0}hasInTableScope(e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===Me.HTML){if(n===e)return!0;if(n===T.TABLE||n===T.TEMPLATE||n===T.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===Me.HTML){if(r===T.TBODY||r===T.THEAD||r===T.TFOOT)return!0;if(r===T.TABLE||r===T.HTML)return!1}}return!0}hasInSelectScope(e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===Me.HTML){if(n===e)return!0;if(n!==T.OPTION&&n!==T.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;_A.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;vA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&vA.has(this.currentTagId);)this.pop()}}const g1=3;var Ji;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Ji=Ji||(Ji={}));const TA={type:Ji.Marker};class F7{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===Ji.Marker)break;const{element:d}=l;if(this.treeAdapter.getTagName(d)===s&&this.treeAdapter.getNamespaceURI(d)===a){const f=this.treeAdapter.getAttrList(d);f.length===i&&n.push({idx:o,attrs:f})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<g1)return;const r=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,r);if(n.length<g1)return;const i=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=g1&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(TA)}pushElement(e,r){this._ensureNoahArkCondition(e),this.entries.unshift({type:Ji.Element,element:e,token:r})}insertElementAfterBookmark(e,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Ji.Element,element:e,token:r})}removeEntry(e){const r=this.entries.indexOf(e);r>=0&&this.entries.splice(r,1)}clearToLastMarker(){const e=this.entries.indexOf(TA);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const r=this.entries.find(n=>n.type===Ji.Marker||this.treeAdapter.getTagName(n.element)===e);return r&&r.type===Ji.Element?r:null}getElementEntry(e){return this.entries.find(r=>r.type===Ji.Element&&r.element===e)}}function EA(t){return{nodeName:"#text",value:t,parentNode:null}}const Do={createDocument(){return{nodeName:"#document",mode:Wn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,r){return{nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const n=t.childNodes.indexOf(r);t.childNodes.splice(n,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,r,n){const i=t.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=e,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:e,publicId:r,systemId:n,parentNode:null};Do.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(Do.isTextNode(r)){r.value+=e;return}}Do.appendChild(t,EA(e))},insertTextBefore(t,e,r){const n=t.childNodes[t.childNodes.indexOf(r)-1];n&&Do.isTextNode(n)?n.value+=e:Do.insertBefore(t,EA(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map(n=>n.name));for(let n=0;n<e.length;n++)r.has(e[n].name)||t.attrs.push(e[n])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},AA="html",U7="about:legacy-compat",$7="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",xA=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],j7=[...xA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],H7=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),CA=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],z7=[...CA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function wA(t,e){return e.some(r=>t.startsWith(r))}function V7(t){return t.name===AA&&t.publicId===null&&(t.systemId===null||t.systemId===U7)}function q7(t){if(t.name!==AA)return Wn.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===$7)return Wn.QUIRKS;let{publicId:r}=t;if(r!==null){if(r=r.toLowerCase(),H7.has(r))return Wn.QUIRKS;let n=e===null?j7:xA;if(wA(r,n))return Wn.QUIRKS;if(n=e===null?CA:z7,wA(r,n))return Wn.LIMITED_QUIRKS}return Wn.NO_QUIRKS}const SA={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},W7="definitionurl",G7="definitionURL",Y7=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Q7=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Me.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Me.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Me.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Me.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Me.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Me.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Me.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Me.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Me.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Me.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Me.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Me.XMLNS}]]),K7=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),X7=new Set([T.B,T.BIG,T.BLOCKQUOTE,T.BODY,T.BR,T.CENTER,T.CODE,T.DD,T.DIV,T.DL,T.DT,T.EM,T.EMBED,T.H1,T.H2,T.H3,T.H4,T.H5,T.H6,T.HEAD,T.HR,T.I,T.IMG,T.LI,T.LISTING,T.MENU,T.META,T.NOBR,T.OL,T.P,T.PRE,T.RUBY,T.S,T.SMALL,T.SPAN,T.STRONG,T.STRIKE,T.SUB,T.SUP,T.TABLE,T.TT,T.U,T.UL,T.VAR]);function Z7(t){const e=t.tagID;return e===T.FONT&&t.attrs.some(({name:n})=>n===Oa.COLOR||n===Oa.SIZE||n===Oa.FACE)||X7.has(e)}function kA(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===W7){t.attrs[e].name=G7;break}}function IA(t){for(let e=0;e<t.attrs.length;e++){const r=Y7.get(t.attrs[e].name);r!=null&&(t.attrs[e].name=r)}}function b1(t){for(let e=0;e<t.attrs.length;e++){const r=Q7.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function J7(t){const e=K7.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=$h(t.tagName))}function eF(t,e){return e===Me.MATHML&&(t===T.MI||t===T.MO||t===T.MN||t===T.MS||t===T.MTEXT)}function tF(t,e,r){if(e===Me.MATHML&&t===T.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Oa.ENCODING){const i=r[n].value.toLowerCase();return i===SA.TEXT_HTML||i===SA.APPLICATION_XML}}return e===Me.SVG&&(t===T.FOREIGN_OBJECT||t===T.DESC||t===T.TITLE)}function rF(t,e,r,n){return(!n||n===Me.HTML)&&tF(t,e,r)||(!n||n===Me.MATHML)&&eF(t,e)}const nF="hidden",iF=8,sF=3;var oe;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(oe||(oe={}));const aF={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},DA=new Set([T.TABLE,T.TBODY,T.TFOOT,T.THEAD,T.TR]),NA={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Do,onParseError:null};let MA=class{constructor(e,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=oe.INITIAL,this.originalInsertionMode=oe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...NA,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new N7(this.options,this),this.activeFormattingElements=new F7(this.treeAdapter),this.fragmentContextID=n?$h(this.treeAdapter.getTagName(n)):T.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new P7(this.document,this.treeAdapter,this)}static parse(e,r){const n=new this(r);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,r){const n={...NA,...r};e??(e=n.treeAdapter.createElement(ve.TEMPLATE,Me.HTML,[]));const i=n.treeAdapter.createElement("documentmock",Me.HTML,[]),s=new this(n,i,e);return s.fragmentContextID===T.TEMPLATE&&s.tmplInsertionModeStack.unshift(oe.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,r),r}_err(e,r,n){var i;if(!this.onParseError)return;const s=(i=e.location)!==null&&i!==void 0?i:aF,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(e,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,r)}onItemPop(e,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,e,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(e,r){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===Me.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(r,e)}_switchToTextParsing(e,r){this._insertElement(e,Me.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=oe.TEXT}switchToPlaintextParsing(){this.insertionMode=oe.TEXT,this.originalInsertionMode=oe.IN_BODY,this.tokenizer.state=Gn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ve.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Me.HTML))switch(this.fragmentContextID){case T.TITLE:case T.TEXTAREA:{this.tokenizer.state=Gn.RCDATA;break}case T.STYLE:case T.XMP:case T.IFRAME:case T.NOEMBED:case T.NOFRAMES:case T.NOSCRIPT:{this.tokenizer.state=Gn.RAWTEXT;break}case T.SCRIPT:{this.tokenizer.state=Gn.SCRIPT_DATA;break}case T.PLAINTEXT:{this.tokenizer.state=Gn.PLAINTEXT;break}}}_setDocumentType(e){const r=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n,e)}}_appendElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,r){const n=this.treeAdapter.createElement(e,Me.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(e){const r=this.treeAdapter.createElement(e.tagName,Me.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ve.HTML,Me.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,T.HTML)}_appendCommentNode(e,r){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,e.chars,n):this.treeAdapter.insertText(r,e.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:d,endOffset:f}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:d,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,r){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(e,r){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(e),s=r.type===Ft.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,e.tagID===T.SVG&&this.treeAdapter.getTagName(r)===ve.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===Me.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===T.MGLYPH||e.tagID===T.MALIGNMARK)&&!this._isIntegrationPoint(n,r,Me.HTML)}_processToken(e){switch(e.type){case Ft.CHARACTER:{this.onCharacter(e);break}case Ft.NULL_CHARACTER:{this.onNullCharacter(e);break}case Ft.COMMENT:{this.onComment(e);break}case Ft.DOCTYPE:{this.onDoctype(e);break}case Ft.START_TAG:{this._processStartTag(e);break}case Ft.END_TAG:{this.onEndTag(e);break}case Ft.EOF:{this.onEof(e);break}case Ft.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return rF(e,i,s,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===Ji.Marker||this.openElements.contains(i.element)),n=r<0?e-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=oe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(T.P),this.openElements.popUntilTagNamePopped(T.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case T.TR:{this.insertionMode=oe.IN_ROW;return}case T.TBODY:case T.THEAD:case T.TFOOT:{this.insertionMode=oe.IN_TABLE_BODY;return}case T.CAPTION:{this.insertionMode=oe.IN_CAPTION;return}case T.COLGROUP:{this.insertionMode=oe.IN_COLUMN_GROUP;return}case T.TABLE:{this.insertionMode=oe.IN_TABLE;return}case T.BODY:{this.insertionMode=oe.IN_BODY;return}case T.FRAMESET:{this.insertionMode=oe.IN_FRAMESET;return}case T.SELECT:{this._resetInsertionModeForSelect(e);return}case T.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case T.HTML:{this.insertionMode=this.headElement?oe.AFTER_HEAD:oe.BEFORE_HEAD;return}case T.TD:case T.TH:{if(e>0){this.insertionMode=oe.IN_CELL;return}break}case T.HEAD:{if(e>0){this.insertionMode=oe.IN_HEAD;return}break}}this.insertionMode=oe.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let r=e-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===T.TEMPLATE)break;if(n===T.TABLE){this.insertionMode=oe.IN_SELECT_IN_TABLE;return}}this.insertionMode=oe.IN_SELECT}_isElementCausesFosterParenting(e){return DA.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const r=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case T.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===Me.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case T.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,e,r.beforeElement):this.treeAdapter.appendChild(r.parent,e)}_isSpecialElement(e,r){const n=this.treeAdapter.getNamespaceURI(e);return x7[n].has(r)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){BU(this,e);return}switch(this.insertionMode){case oe.INITIAL:{nd(this,e);break}case oe.BEFORE_HTML:{id(this,e);break}case oe.BEFORE_HEAD:{sd(this,e);break}case oe.IN_HEAD:{ad(this,e);break}case oe.IN_HEAD_NO_SCRIPT:{od(this,e);break}case oe.AFTER_HEAD:{ld(this,e);break}case oe.IN_BODY:case oe.IN_CAPTION:case oe.IN_CELL:case oe.IN_TEMPLATE:{LA(this,e);break}case oe.TEXT:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case oe.IN_TABLE:case oe.IN_TABLE_BODY:case oe.IN_ROW:{T1(this,e);break}case oe.IN_TABLE_TEXT:{HA(this,e);break}case oe.IN_COLUMN_GROUP:{qh(this,e);break}case oe.AFTER_BODY:{Yh(this,e);break}case oe.AFTER_AFTER_BODY:{Qh(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){RU(this,e);return}switch(this.insertionMode){case oe.INITIAL:{nd(this,e);break}case oe.BEFORE_HTML:{id(this,e);break}case oe.BEFORE_HEAD:{sd(this,e);break}case oe.IN_HEAD:{ad(this,e);break}case oe.IN_HEAD_NO_SCRIPT:{od(this,e);break}case oe.AFTER_HEAD:{ld(this,e);break}case oe.TEXT:{this._insertCharacters(e);break}case oe.IN_TABLE:case oe.IN_TABLE_BODY:case oe.IN_ROW:{T1(this,e);break}case oe.IN_COLUMN_GROUP:{qh(this,e);break}case oe.AFTER_BODY:{Yh(this,e);break}case oe.AFTER_AFTER_BODY:{Qh(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){_1(this,e);return}switch(this.insertionMode){case oe.INITIAL:case oe.BEFORE_HTML:case oe.BEFORE_HEAD:case oe.IN_HEAD:case oe.IN_HEAD_NO_SCRIPT:case oe.AFTER_HEAD:case oe.IN_BODY:case oe.IN_TABLE:case oe.IN_CAPTION:case oe.IN_COLUMN_GROUP:case oe.IN_TABLE_BODY:case oe.IN_ROW:case oe.IN_CELL:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:case oe.IN_TEMPLATE:case oe.IN_FRAMESET:case oe.AFTER_FRAMESET:{_1(this,e);break}case oe.IN_TABLE_TEXT:{dd(this,e);break}case oe.AFTER_BODY:{hF(this,e);break}case oe.AFTER_AFTER_BODY:case oe.AFTER_AFTER_FRAMESET:{pF(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case oe.INITIAL:{mF(this,e);break}case oe.BEFORE_HEAD:case oe.IN_HEAD:case oe.IN_HEAD_NO_SCRIPT:case oe.AFTER_HEAD:{this._err(e,ke.misplacedDoctype);break}case oe.IN_TABLE_TEXT:{dd(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ke.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?PU(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case oe.INITIAL:{nd(this,e);break}case oe.BEFORE_HTML:{gF(this,e);break}case oe.BEFORE_HEAD:{yF(this,e);break}case oe.IN_HEAD:{es(this,e);break}case oe.IN_HEAD_NO_SCRIPT:{TF(this,e);break}case oe.AFTER_HEAD:{AF(this,e);break}case oe.IN_BODY:{bn(this,e);break}case oe.IN_TABLE:{Gl(this,e);break}case oe.IN_TABLE_TEXT:{dd(this,e);break}case oe.IN_CAPTION:{_U(this,e);break}case oe.IN_COLUMN_GROUP:{E1(this,e);break}case oe.IN_TABLE_BODY:{Wh(this,e);break}case oe.IN_ROW:{Gh(this,e);break}case oe.IN_CELL:{EU(this,e);break}case oe.IN_SELECT:{qA(this,e);break}case oe.IN_SELECT_IN_TABLE:{xU(this,e);break}case oe.IN_TEMPLATE:{wU(this,e);break}case oe.AFTER_BODY:{kU(this,e);break}case oe.IN_FRAMESET:{IU(this,e);break}case oe.AFTER_FRAMESET:{NU(this,e);break}case oe.AFTER_AFTER_BODY:{OU(this,e);break}case oe.AFTER_AFTER_FRAMESET:{LU(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?FU(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case oe.INITIAL:{nd(this,e);break}case oe.BEFORE_HTML:{bF(this,e);break}case oe.BEFORE_HEAD:{_F(this,e);break}case oe.IN_HEAD:{vF(this,e);break}case oe.IN_HEAD_NO_SCRIPT:{EF(this,e);break}case oe.AFTER_HEAD:{xF(this,e);break}case oe.IN_BODY:{Vh(this,e);break}case oe.TEXT:{uU(this,e);break}case oe.IN_TABLE:{ud(this,e);break}case oe.IN_TABLE_TEXT:{dd(this,e);break}case oe.IN_CAPTION:{vU(this,e);break}case oe.IN_COLUMN_GROUP:{TU(this,e);break}case oe.IN_TABLE_BODY:{A1(this,e);break}case oe.IN_ROW:{VA(this,e);break}case oe.IN_CELL:{AU(this,e);break}case oe.IN_SELECT:{WA(this,e);break}case oe.IN_SELECT_IN_TABLE:{CU(this,e);break}case oe.IN_TEMPLATE:{SU(this,e);break}case oe.AFTER_BODY:{YA(this,e);break}case oe.IN_FRAMESET:{DU(this,e);break}case oe.AFTER_FRAMESET:{MU(this,e);break}case oe.AFTER_AFTER_BODY:{Qh(this,e);break}}}onEof(e){switch(this.insertionMode){case oe.INITIAL:{nd(this,e);break}case oe.BEFORE_HTML:{id(this,e);break}case oe.BEFORE_HEAD:{sd(this,e);break}case oe.IN_HEAD:{ad(this,e);break}case oe.IN_HEAD_NO_SCRIPT:{od(this,e);break}case oe.AFTER_HEAD:{ld(this,e);break}case oe.IN_BODY:case oe.IN_TABLE:case oe.IN_CAPTION:case oe.IN_COLUMN_GROUP:case oe.IN_TABLE_BODY:case oe.IN_ROW:case oe.IN_CELL:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:{$A(this,e);break}case oe.TEXT:{cU(this,e);break}case oe.IN_TABLE_TEXT:{dd(this,e);break}case oe.IN_TEMPLATE:{GA(this,e);break}case oe.AFTER_BODY:case oe.IN_FRAMESET:case oe.AFTER_FRAMESET:case oe.AFTER_AFTER_BODY:case oe.AFTER_AFTER_FRAMESET:{v1(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===G.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case oe.IN_HEAD:case oe.IN_HEAD_NO_SCRIPT:case oe.AFTER_HEAD:case oe.TEXT:case oe.IN_COLUMN_GROUP:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:case oe.IN_FRAMESET:case oe.AFTER_FRAMESET:{this._insertCharacters(e);break}case oe.IN_BODY:case oe.IN_CAPTION:case oe.IN_CELL:case oe.IN_TEMPLATE:case oe.AFTER_BODY:case oe.AFTER_AFTER_BODY:case oe.AFTER_AFTER_FRAMESET:{OA(this,e);break}case oe.IN_TABLE:case oe.IN_TABLE_BODY:case oe.IN_ROW:{T1(this,e);break}case oe.IN_TABLE_TEXT:{jA(this,e);break}}}};function oF(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):UA(t,e),r}function lF(t,e){let r=null,n=t.openElements.stackTop;for(;n>=0;n--){const i=t.openElements.items[n];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[n])&&(r=i)}return r||(t.openElements.shortenToLength(n<0?0:n),t.activeFormattingElements.removeEntry(e)),r}function uF(t,e,r){let n=e,i=t.openElements.getCommonAncestor(e);for(let s=0,a=i;a!==r;s++,a=i){i=t.openElements.getCommonAncestor(a);const o=t.activeFormattingElements.getElementEntry(a),l=o&&s>=sF;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=cF(t,o),n===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(n),t.treeAdapter.appendChild(a,n),n=a)}return n}function cF(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),n=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,n),e.element=n,n}function dF(t,e,r){const n=t.treeAdapter.getTagName(e),i=$h(n);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(r);else{const s=t.treeAdapter.getNamespaceURI(e);i===T.TEMPLATE&&s===Me.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function fF(t,e,r){const n=t.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=t.treeAdapter.createElement(i.tagName,n,i.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,i),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,s,i.tagID)}function y1(t,e){for(let r=0;r<iF;r++){const n=oF(t,e);if(!n)break;const i=lF(t,n);if(!i)break;t.activeFormattingElements.bookmark=n;const s=uF(t,i,n.element),a=t.openElements.getCommonAncestor(n.element);t.treeAdapter.detachNode(s),a&&dF(t,a,s),fF(t,i,n)}}function _1(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function hF(t,e){t._appendCommentNode(e,t.openElements.items[0])}function pF(t,e){t._appendCommentNode(e,t.document)}function v1(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let n=t.openElements.stackTop;n>=r;n--)t._setEndLocation(t.openElements.items[n],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const n=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(t._setEndLocation(n,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&t._setEndLocation(s,e)}}}}function mF(t,e){t._setDocumentType(e);const r=e.forceQuirks?Wn.QUIRKS:q7(e);V7(e)||t._err(e,ke.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,r),t.insertionMode=oe.BEFORE_HTML}function nd(t,e){t._err(e,ke.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Wn.QUIRKS),t.insertionMode=oe.BEFORE_HTML,t._processToken(e)}function gF(t,e){e.tagID===T.HTML?(t._insertElement(e,Me.HTML),t.insertionMode=oe.BEFORE_HEAD):id(t,e)}function bF(t,e){const r=e.tagID;(r===T.HTML||r===T.HEAD||r===T.BODY||r===T.BR)&&id(t,e)}function id(t,e){t._insertFakeRootElement(),t.insertionMode=oe.BEFORE_HEAD,t._processToken(e)}function yF(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.HEAD:{t._insertElement(e,Me.HTML),t.headElement=t.openElements.current,t.insertionMode=oe.IN_HEAD;break}default:sd(t,e)}}function _F(t,e){const r=e.tagID;r===T.HEAD||r===T.BODY||r===T.HTML||r===T.BR?sd(t,e):t._err(e,ke.endTagWithoutMatchingOpenElement)}function sd(t,e){t._insertFakeElement(ve.HEAD,T.HEAD),t.headElement=t.openElements.current,t.insertionMode=oe.IN_HEAD,t._processToken(e)}function es(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:{t._appendElement(e,Me.HTML),e.ackSelfClosing=!0;break}case T.TITLE:{t._switchToTextParsing(e,Gn.RCDATA);break}case T.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Gn.RAWTEXT):(t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_HEAD_NO_SCRIPT);break}case T.NOFRAMES:case T.STYLE:{t._switchToTextParsing(e,Gn.RAWTEXT);break}case T.SCRIPT:{t._switchToTextParsing(e,Gn.SCRIPT_DATA);break}case T.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=oe.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(oe.IN_TEMPLATE);break}case T.HEAD:{t._err(e,ke.misplacedStartTagForHeadElement);break}default:ad(t,e)}}function vF(t,e){switch(e.tagID){case T.HEAD:{t.openElements.pop(),t.insertionMode=oe.AFTER_HEAD;break}case T.BODY:case T.BR:case T.HTML:{ad(t,e);break}case T.TEMPLATE:{No(t,e);break}default:t._err(e,ke.endTagWithoutMatchingOpenElement)}}function No(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==T.TEMPLATE&&t._err(e,ke.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ke.endTagWithoutMatchingOpenElement)}function ad(t,e){t.openElements.pop(),t.insertionMode=oe.AFTER_HEAD,t._processToken(e)}function TF(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.BASEFONT:case T.BGSOUND:case T.HEAD:case T.LINK:case T.META:case T.NOFRAMES:case T.STYLE:{es(t,e);break}case T.NOSCRIPT:{t._err(e,ke.nestedNoscriptInHead);break}default:od(t,e)}}function EF(t,e){switch(e.tagID){case T.NOSCRIPT:{t.openElements.pop(),t.insertionMode=oe.IN_HEAD;break}case T.BR:{od(t,e);break}default:t._err(e,ke.endTagWithoutMatchingOpenElement)}}function od(t,e){const r=e.type===Ft.EOF?ke.openElementsLeftAfterEof:ke.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=oe.IN_HEAD,t._processToken(e)}function AF(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.BODY:{t._insertElement(e,Me.HTML),t.framesetOk=!1,t.insertionMode=oe.IN_BODY;break}case T.FRAMESET:{t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_FRAMESET;break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{t._err(e,ke.abandonedHeadElementChild),t.openElements.push(t.headElement,T.HEAD),es(t,e),t.openElements.remove(t.headElement);break}case T.HEAD:{t._err(e,ke.misplacedStartTagForHeadElement);break}default:ld(t,e)}}function xF(t,e){switch(e.tagID){case T.BODY:case T.HTML:case T.BR:{ld(t,e);break}case T.TEMPLATE:{No(t,e);break}default:t._err(e,ke.endTagWithoutMatchingOpenElement)}}function ld(t,e){t._insertFakeElement(ve.BODY,T.BODY),t.insertionMode=oe.IN_BODY,zh(t,e)}function zh(t,e){switch(e.type){case Ft.CHARACTER:{LA(t,e);break}case Ft.WHITESPACE_CHARACTER:{OA(t,e);break}case Ft.COMMENT:{_1(t,e);break}case Ft.START_TAG:{bn(t,e);break}case Ft.END_TAG:{Vh(t,e);break}case Ft.EOF:{$A(t,e);break}}}function OA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function LA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function CF(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function wF(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(r,e.attrs))}function SF(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&r&&(t.treeAdapter.detachNode(r),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_FRAMESET)}function kF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML)}function IF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),pA(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Me.HTML)}function DF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function NF(t,e){const r=t.openElements.tmplCount>0;(!t.formElement||r)&&(t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),r||(t.formElement=t.openElements.current))}function MF(t,e){t.framesetOk=!1;const r=e.tagID;for(let n=t.openElements.stackTop;n>=0;n--){const i=t.openElements.tagIDs[n];if(r===T.LI&&i===T.LI||(r===T.DD||r===T.DT)&&(i===T.DD||i===T.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==T.ADDRESS&&i!==T.DIV&&i!==T.P&&t._isSpecialElement(t.openElements.items[n],i))break}t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML)}function OF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),t.tokenizer.state=Gn.PLAINTEXT}function LF(t,e){t.openElements.hasInScope(T.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.framesetOk=!1}function RF(t,e){const r=t.activeFormattingElements.getElementEntryInScopeWithTagName(ve.A);r&&(y1(t,e),t.openElements.remove(r.element),t.activeFormattingElements.removeEntry(r)),t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function BF(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function PF(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(T.NOBR)&&(y1(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Me.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function FF(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function UF(t,e){t.treeAdapter.getDocumentMode(t.document)!==Wn.QUIRKS&&t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Me.HTML),t.framesetOk=!1,t.insertionMode=oe.IN_TABLE}function RA(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Me.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function BA(t){const e=hA(t,Oa.TYPE);return e!=null&&e.toLowerCase()===nF}function $F(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Me.HTML),BA(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function jF(t,e){t._appendElement(e,Me.HTML),e.ackSelfClosing=!0}function HF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._appendElement(e,Me.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function zF(t,e){e.tagName=ve.IMG,e.tagID=T.IMG,RA(t,e)}function VF(t,e){t._insertElement(e,Me.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Gn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=oe.TEXT}function qF(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Gn.RAWTEXT)}function WF(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Gn.RAWTEXT)}function PA(t,e){t._switchToTextParsing(e,Gn.RAWTEXT)}function GF(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===oe.IN_TABLE||t.insertionMode===oe.IN_CAPTION||t.insertionMode===oe.IN_TABLE_BODY||t.insertionMode===oe.IN_ROW||t.insertionMode===oe.IN_CELL?oe.IN_SELECT_IN_TABLE:oe.IN_SELECT}function YF(t,e){t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML)}function QF(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Me.HTML)}function KF(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(T.RTC),t._insertElement(e,Me.HTML)}function XF(t,e){t._reconstructActiveFormattingElements(),kA(e),b1(e),e.selfClosing?t._appendElement(e,Me.MATHML):t._insertElement(e,Me.MATHML),e.ackSelfClosing=!0}function ZF(t,e){t._reconstructActiveFormattingElements(),IA(e),b1(e),e.selfClosing?t._appendElement(e,Me.SVG):t._insertElement(e,Me.SVG),e.ackSelfClosing=!0}function FA(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Me.HTML)}function bn(t,e){switch(e.tagID){case T.I:case T.S:case T.B:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.SMALL:case T.STRIKE:case T.STRONG:{BF(t,e);break}case T.A:{RF(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{IF(t,e);break}case T.P:case T.DL:case T.OL:case T.UL:case T.DIV:case T.DIR:case T.NAV:case T.MAIN:case T.MENU:case T.ASIDE:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.DETAILS:case T.ADDRESS:case T.ARTICLE:case T.SECTION:case T.SUMMARY:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{kF(t,e);break}case T.LI:case T.DD:case T.DT:{MF(t,e);break}case T.BR:case T.IMG:case T.WBR:case T.AREA:case T.EMBED:case T.KEYGEN:{RA(t,e);break}case T.HR:{HF(t,e);break}case T.RB:case T.RTC:{QF(t,e);break}case T.RT:case T.RP:{KF(t,e);break}case T.PRE:case T.LISTING:{DF(t,e);break}case T.XMP:{qF(t,e);break}case T.SVG:{ZF(t,e);break}case T.HTML:{CF(t,e);break}case T.BASE:case T.LINK:case T.META:case T.STYLE:case T.TITLE:case T.SCRIPT:case T.BGSOUND:case T.BASEFONT:case T.TEMPLATE:{es(t,e);break}case T.BODY:{wF(t,e);break}case T.FORM:{NF(t,e);break}case T.NOBR:{PF(t,e);break}case T.MATH:{XF(t,e);break}case T.TABLE:{UF(t,e);break}case T.INPUT:{$F(t,e);break}case T.PARAM:case T.TRACK:case T.SOURCE:{jF(t,e);break}case T.IMAGE:{zF(t,e);break}case T.BUTTON:{LF(t,e);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{FF(t,e);break}case T.IFRAME:{WF(t,e);break}case T.SELECT:{GF(t,e);break}case T.OPTION:case T.OPTGROUP:{YF(t,e);break}case T.NOEMBED:{PA(t,e);break}case T.FRAMESET:{SF(t,e);break}case T.TEXTAREA:{VF(t,e);break}case T.NOSCRIPT:{t.options.scriptingEnabled?PA(t,e):FA(t,e);break}case T.PLAINTEXT:{OF(t,e);break}case T.COL:case T.TH:case T.TD:case T.TR:case T.HEAD:case T.FRAME:case T.TBODY:case T.TFOOT:case T.THEAD:case T.CAPTION:case T.COLGROUP:break;default:FA(t,e)}}function JF(t,e){if(t.openElements.hasInScope(T.BODY)&&(t.insertionMode=oe.AFTER_BODY,t.options.sourceCodeLocationInfo)){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t._setEndLocation(r,e)}}function eU(t,e){t.openElements.hasInScope(T.BODY)&&(t.insertionMode=oe.AFTER_BODY,YA(t,e))}function tU(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r))}function rU(t){const e=t.openElements.tmplCount>0,{formElement:r}=t;e||(t.formElement=null),(r||e)&&t.openElements.hasInScope(T.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(T.FORM):r&&t.openElements.remove(r))}function nU(t){t.openElements.hasInButtonScope(T.P)||t._insertFakeElement(ve.P,T.P),t._closePElement()}function iU(t){t.openElements.hasInListItemScope(T.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(T.LI),t.openElements.popUntilTagNamePopped(T.LI))}function sU(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r))}function aU(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function oU(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker())}function lU(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ve.BR,T.BR),t.openElements.pop(),t.framesetOk=!1}function UA(t,e){const r=e.tagName,n=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const s=t.openElements.items[i],a=t.openElements.tagIDs[i];if(n===a&&(n!==T.UNKNOWN||t.treeAdapter.getTagName(s)===r)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(s,a))break}}function Vh(t,e){switch(e.tagID){case T.A:case T.B:case T.I:case T.S:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.NOBR:case T.SMALL:case T.STRIKE:case T.STRONG:{y1(t,e);break}case T.P:{nU(t);break}case T.DL:case T.UL:case T.OL:case T.DIR:case T.DIV:case T.NAV:case T.PRE:case T.MAIN:case T.MENU:case T.ASIDE:case T.BUTTON:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.ADDRESS:case T.ARTICLE:case T.DETAILS:case T.SECTION:case T.SUMMARY:case T.LISTING:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{tU(t,e);break}case T.LI:{iU(t);break}case T.DD:case T.DT:{sU(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{aU(t);break}case T.BR:{lU(t);break}case T.BODY:{JF(t,e);break}case T.HTML:{eU(t,e);break}case T.FORM:{rU(t);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{oU(t,e);break}case T.TEMPLATE:{No(t,e);break}default:UA(t,e)}}function $A(t,e){t.tmplInsertionModeStack.length>0?GA(t,e):v1(t,e)}function uU(t,e){var r;e.tagID===T.SCRIPT&&((r=t.scriptHandler)===null||r===void 0||r.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function cU(t,e){t._err(e,ke.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function T1(t,e){if(DA.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=oe.IN_TABLE_TEXT,e.type){case Ft.CHARACTER:{HA(t,e);break}case Ft.WHITESPACE_CHARACTER:{jA(t,e);break}}else cd(t,e)}function dU(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_CAPTION}function fU(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_COLUMN_GROUP}function hU(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ve.COLGROUP,T.COLGROUP),t.insertionMode=oe.IN_COLUMN_GROUP,E1(t,e)}function pU(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_TABLE_BODY}function mU(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ve.TBODY,T.TBODY),t.insertionMode=oe.IN_TABLE_BODY,Wh(t,e)}function gU(t,e){t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function bU(t,e){BA(e)?t._appendElement(e,Me.HTML):cd(t,e),e.ackSelfClosing=!0}function yU(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Me.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Gl(t,e){switch(e.tagID){case T.TD:case T.TH:case T.TR:{mU(t,e);break}case T.STYLE:case T.SCRIPT:case T.TEMPLATE:{es(t,e);break}case T.COL:{hU(t,e);break}case T.FORM:{yU(t,e);break}case T.TABLE:{gU(t,e);break}case T.TBODY:case T.TFOOT:case T.THEAD:{pU(t,e);break}case T.INPUT:{bU(t,e);break}case T.CAPTION:{dU(t,e);break}case T.COLGROUP:{fU(t,e);break}default:cd(t,e)}}function ud(t,e){switch(e.tagID){case T.TABLE:{t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode());break}case T.TEMPLATE:{No(t,e);break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:cd(t,e)}}function cd(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,zh(t,e),t.fosterParentingEnabled=r}function jA(t,e){t.pendingCharacterTokens.push(e)}function HA(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function dd(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)cd(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const zA=new Set([T.CAPTION,T.COL,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]);function _U(t,e){const r=e.tagID;zA.has(r)?t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=oe.IN_TABLE,Gl(t,e)):bn(t,e)}function vU(t,e){const r=e.tagID;switch(r){case T.CAPTION:case T.TABLE:{t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=oe.IN_TABLE,r===T.TABLE&&ud(t,e));break}case T.BODY:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:Vh(t,e)}}function E1(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.COL:{t._appendElement(e,Me.HTML),e.ackSelfClosing=!0;break}case T.TEMPLATE:{es(t,e);break}default:qh(t,e)}}function TU(t,e){switch(e.tagID){case T.COLGROUP:{t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=oe.IN_TABLE);break}case T.TEMPLATE:{No(t,e);break}case T.COL:break;default:qh(t,e)}}function qh(t,e){t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=oe.IN_TABLE,t._processToken(e))}function Wh(t,e){switch(e.tagID){case T.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_ROW;break}case T.TH:case T.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ve.TR,T.TR),t.insertionMode=oe.IN_ROW,Gh(t,e);break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE,Gl(t,e));break}default:Gl(t,e)}}function A1(t,e){const r=e.tagID;switch(e.tagID){case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE);break}case T.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE,ud(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:case T.TR:break;default:ud(t,e)}}function Gh(t,e){switch(e.tagID){case T.TH:case T.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Me.HTML),t.insertionMode=oe.IN_CELL,t.activeFormattingElements.insertMarker();break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE_BODY,Wh(t,e));break}default:Gl(t,e)}}function VA(t,e){switch(e.tagID){case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE_BODY);break}case T.TABLE:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE_BODY,A1(t,e));break}case T.TBODY:case T.TFOOT:case T.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(T.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=oe.IN_TABLE_BODY,A1(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:break;default:ud(t,e)}}function EU(t,e){const r=e.tagID;zA.has(r)?(t.openElements.hasInTableScope(T.TD)||t.openElements.hasInTableScope(T.TH))&&(t._closeTableCell(),Gh(t,e)):bn(t,e)}function AU(t,e){const r=e.tagID;switch(r){case T.TD:case T.TH:{t.openElements.hasInTableScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=oe.IN_ROW);break}case T.TABLE:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(r)&&(t._closeTableCell(),VA(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:break;default:Vh(t,e)}}function qA(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._insertElement(e,Me.HTML);break}case T.OPTGROUP:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Me.HTML);break}case T.INPUT:case T.KEYGEN:case T.TEXTAREA:case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),e.tagID!==T.SELECT&&t._processStartTag(e));break}case T.SCRIPT:case T.TEMPLATE:{es(t,e);break}}}function WA(t,e){switch(e.tagID){case T.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===T.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===T.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop();break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop();break}case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode());break}case T.TEMPLATE:{No(t,e);break}}}function xU(t,e){const r=e.tagID;r===T.CAPTION||r===T.TABLE||r===T.TBODY||r===T.TFOOT||r===T.THEAD||r===T.TR||r===T.TD||r===T.TH?(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t._processStartTag(e)):qA(t,e)}function CU(t,e){const r=e.tagID;r===T.CAPTION||r===T.TABLE||r===T.TBODY||r===T.TFOOT||r===T.THEAD||r===T.TR||r===T.TD||r===T.TH?t.openElements.hasInTableScope(r)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t.onEndTag(e)):WA(t,e)}function wU(t,e){switch(e.tagID){case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{es(t,e);break}case T.CAPTION:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.tmplInsertionModeStack[0]=oe.IN_TABLE,t.insertionMode=oe.IN_TABLE,Gl(t,e);break}case T.COL:{t.tmplInsertionModeStack[0]=oe.IN_COLUMN_GROUP,t.insertionMode=oe.IN_COLUMN_GROUP,E1(t,e);break}case T.TR:{t.tmplInsertionModeStack[0]=oe.IN_TABLE_BODY,t.insertionMode=oe.IN_TABLE_BODY,Wh(t,e);break}case T.TD:case T.TH:{t.tmplInsertionModeStack[0]=oe.IN_ROW,t.insertionMode=oe.IN_ROW,Gh(t,e);break}default:t.tmplInsertionModeStack[0]=oe.IN_BODY,t.insertionMode=oe.IN_BODY,bn(t,e)}}function SU(t,e){e.tagID===T.TEMPLATE&&No(t,e)}function GA(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):v1(t,e)}function kU(t,e){e.tagID===T.HTML?bn(t,e):Yh(t,e)}function YA(t,e){var r;if(e.tagID===T.HTML){if(t.fragmentContext||(t.insertionMode=oe.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===T.HTML){t._setEndLocation(t.openElements.items[0],e);const n=t.openElements.items[1];n&&!(!((r=t.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&t._setEndLocation(n,e)}}else Yh(t,e)}function Yh(t,e){t.insertionMode=oe.IN_BODY,zh(t,e)}function IU(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.FRAMESET:{t._insertElement(e,Me.HTML);break}case T.FRAME:{t._appendElement(e,Me.HTML),e.ackSelfClosing=!0;break}case T.NOFRAMES:{es(t,e);break}}}function DU(t,e){e.tagID===T.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==T.FRAMESET&&(t.insertionMode=oe.AFTER_FRAMESET))}function NU(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.NOFRAMES:{es(t,e);break}}}function MU(t,e){e.tagID===T.HTML&&(t.insertionMode=oe.AFTER_AFTER_FRAMESET)}function OU(t,e){e.tagID===T.HTML?bn(t,e):Qh(t,e)}function Qh(t,e){t.insertionMode=oe.IN_BODY,zh(t,e)}function LU(t,e){switch(e.tagID){case T.HTML:{bn(t,e);break}case T.NOFRAMES:{es(t,e);break}}}function RU(t,e){e.chars=gr,t._insertCharacters(e)}function BU(t,e){t._insertCharacters(e),t.framesetOk=!1}function QA(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Me.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function PU(t,e){if(Z7(e))QA(t),t._startTagOutsideForeignContent(e);else{const r=t._getAdjustedCurrentElement(),n=t.treeAdapter.getNamespaceURI(r);n===Me.MATHML?kA(e):n===Me.SVG&&(J7(e),IA(e)),b1(e),e.selfClosing?t._appendElement(e,n):t._insertElement(e,n),e.ackSelfClosing=!0}}function FU(t,e){if(e.tagID===T.P||e.tagID===T.BR){QA(t),t._endTagOutsideForeignContent(e);return}for(let r=t.openElements.stackTop;r>0;r--){const n=t.openElements.items[r];if(t.treeAdapter.getNamespaceURI(n)===Me.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(n);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(r);break}}}const UU=new Set([ve.AREA,ve.BASE,ve.BASEFONT,ve.BGSOUND,ve.BR,ve.COL,ve.EMBED,ve.FRAME,ve.HR,ve.IMG,ve.INPUT,ve.KEYGEN,ve.LINK,ve.META,ve.PARAM,ve.SOURCE,ve.TRACK,ve.WBR]);function $U(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Me.HTML&&UU.has(e.treeAdapter.getTagName(t))}const jU={treeAdapter:Do,scriptingEnabled:!0};function HU(t,e){const r={...jU,...e};return KA(t,r)}function zU(t,e){let r="";const n=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===ve.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Me.HTML?e.treeAdapter.getTemplateContent(t):t,i=e.treeAdapter.getChildNodes(n);if(i)for(const s of i)r+=KA(s,e);return r}function KA(t,e){return e.treeAdapter.isElementNode(t)?VU(t,e):e.treeAdapter.isTextNode(t)?WU(t,e):e.treeAdapter.isCommentNode(t)?GU(t,e):e.treeAdapter.isDocumentTypeNode(t)?YU(t,e):""}function VU(t,e){const r=e.treeAdapter.getTagName(t);return`<${r}${qU(t,e)}>${$U(t,e)?"":`${zU(t,e)}</${r}>`}`}function qU(t,{treeAdapter:e}){let r="";for(const n of e.getAttrList(t)){if(r+=" ",!n.namespace)r+=n.name;else switch(n.namespace){case Me.XML:{r+=`xml:${n.name}`;break}case Me.XMLNS:{n.name!=="xmlns"&&(r+="xmlns:"),r+=n.name;break}case Me.XLINK:{r+=`xlink:${n.name}`;break}default:r+=`${n.prefix}:${n.name}`}r+=`="${gE(n.value)}"`}return r}function WU(t,e){const{treeAdapter:r}=e,n=r.getTextNodeContent(t),i=r.getParentNode(t),s=i&&r.isElementNode(i)&&r.getTagName(i);return s&&r.getNamespaceURI(i)===Me.HTML&&w7(s,e.scriptingEnabled)?n:bE(n)}function GU(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function YU(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function QU(t,e){return MA.parse(t,e)}function KU(t,e,r){typeof t=="string"&&(r=e,e=t,t=null);const n=MA.getFragmentParser(t,r);return n.tokenizer.write(e,!0),n.getFragment()}function XA(t){return new qc(t)}function ZA(t){const e=t.includes('"')?"'":'"';return e+t+e}function XU(t,e,r){let n="!DOCTYPE ";return t&&(n+=t),e?n+=` PUBLIC ${ZA(e)}`:r&&(n+=" SYSTEM"),r&&(n+=` ${ZA(r)}`),n}const Yl={isCommentNode:Ah,isElementNode:Tt,isTextNode:Ts,createDocument(){const t=new Co([]);return t["x-mode"]=Wn.NO_QUIRKS,t},createDocumentFragment(){return new Co([])},createElement(t,e,r){const n=Object.create(null),i=Object.create(null),s=Object.create(null);for(let o=0;o<r.length;o++){const l=r[o].name;n[l]=r[o].value,i[l]=r[o].namespace,s[l]=r[o].prefix}const a=new Fg(t,n,[]);return a.namespace=e,a["x-attribsNamespace"]=i,a["x-attribsPrefix"]=s,a},createCommentNode(t){return new Rg(t)},appendChild(t,e){const r=t.children[t.children.length-1];r&&(r.next=e,e.prev=r),t.children.push(e),e.parent=t},insertBefore(t,e,r){const n=t.children.indexOf(r),{prev:i}=r;i&&(i.next=e,e.prev=i),r.prev=e,e.next=r,t.children.splice(n,0,e),e.parent=t},setTemplateContent(t,e){Yl.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,r,n){const i=XU(e,r,n);let s=t.children.find(a=>Ug(a)&&a.name==="!doctype");s?s.data=i??null:(s=new Bg("!doctype",i),Yl.appendChild(t,s)),s["x-name"]=e??void 0,s["x-publicId"]=r??void 0,s["x-systemId"]=n??void 0},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:r,next:n}=t;t.prev=null,t.next=null,r&&(r.next=n),n&&(n.prev=r),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const r=t.children[t.children.length-1];r&&Ts(r)?r.data+=e:Yl.appendChild(t,XA(e))},insertTextBefore(t,e,r){const n=t.children[t.children.indexOf(r)-1];n&&Ts(n)?n.data+=e:Yl.insertBefore(t,XA(e),r)},adoptAttributes(t,e){for(let r=0;r<e.length;r++){const n=e[r].name;typeof t.attribs[n]>"u"&&(t.attribs[n]=e[r].value,t["x-attribsNamespace"][n]=e[r].namespace,t["x-attribsPrefix"][n]=e[r].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return Ug(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function ZU(t,e,r,n){var i;return(i=e.treeAdapter)!==null&&i!==void 0||(e.treeAdapter=Yl),e.scriptingEnabled!==!1&&(e.scriptingEnabled=!0),r?QU(t,e):KU(n,t,e)}const JU={treeAdapter:Yl};function e$(t){const e="length"in t?t:[t];for(let n=0;n<e.length;n+=1){const i=e[n];Da(i)&&Array.prototype.splice.call(e,n,1,...i.children)}let r="";for(let n=0;n<e.length;n+=1){const i=e[n];r+=HU(i,JU)}return r}var mt;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(mt||(mt={}));var Ue;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Ue||(Ue={}));function ra(t){return t===mt.Space||t===mt.NewLine||t===mt.Tab||t===mt.FormFeed||t===mt.CarriageReturn}function Kh(t){return t===mt.Slash||t===mt.Gt||ra(t)}function t$(t){return t>=mt.LowerA&&t<=mt.LowerZ||t>=mt.UpperA&&t<=mt.UpperZ}var xs;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(xs||(xs={}));const ln={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class r${constructor({xmlMode:e=!1,decodeEntities:r=!0},n){this.cbs=n,this.state=Ue.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Ue.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=r,this.entityDecoder=new cE(e?uE:ea,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=Ue.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ue.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===mt.Lt||!this.decodeEntities&&this.fastForwardTo(mt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Ue.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===mt.Amp&&this.startEntity()}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Kh(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Ue.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===mt.Gt||ra(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ln.TitleEnd?this.decodeEntities&&e===mt.Amp&&this.startEntity():this.fastForwardTo(mt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===mt.Lt)}stateCDATASequence(e){e===ln.Cdata[this.sequenceIndex]?++this.sequenceIndex===ln.Cdata.length&&(this.state=Ue.InCommentLike,this.currentSequence=ln.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Ue.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ln.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Ue.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Kh(e):t$(e)}startSpecial(e,r){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=r,this.state=Ue.SpecialStartSequence}stateBeforeTagName(e){if(e===mt.ExclamationMark)this.state=Ue.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===mt.Questionmark)this.state=Ue.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const r=e|32;this.sectionStart=this.index,this.xmlMode?this.state=Ue.InTagName:r===ln.ScriptEnd[2]?this.state=Ue.BeforeSpecialS:r===ln.TitleEnd[2]?this.state=Ue.BeforeSpecialT:this.state=Ue.InTagName}else e===mt.Slash?this.state=Ue.BeforeClosingTagName:(this.state=Ue.Text,this.stateText(e))}stateInTagName(e){Kh(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){ra(e)||(e===mt.Gt?this.state=Ue.Text:(this.state=this.isTagStartChar(e)?Ue.InClosingTagName:Ue.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===mt.Gt||ra(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ue.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.state=Ue.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===mt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Ue.InSpecialTag,this.sequenceIndex=0):this.state=Ue.Text,this.sectionStart=this.index+1):e===mt.Slash?this.state=Ue.InSelfClosingTag:ra(e)||(this.state=Ue.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===mt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Ue.Text,this.sectionStart=this.index+1,this.isSpecial=!1):ra(e)||(this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===mt.Eq||Kh(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Ue.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===mt.Eq?this.state=Ue.BeforeAttributeValue:e===mt.Slash||e===mt.Gt?(this.cbs.onattribend(xs.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e)):ra(e)||(this.cbs.onattribend(xs.NoValue,this.sectionStart),this.state=Ue.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===mt.DoubleQuote?(this.state=Ue.InAttributeValueDq,this.sectionStart=this.index+1):e===mt.SingleQuote?(this.state=Ue.InAttributeValueSq,this.sectionStart=this.index+1):ra(e)||(this.sectionStart=this.index,this.state=Ue.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,r){e===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===mt.DoubleQuote?xs.Double:xs.Single,this.index+1),this.state=Ue.BeforeAttributeName):this.decodeEntities&&e===mt.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,mt.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,mt.SingleQuote)}stateInAttributeValueNoQuotes(e){ra(e)||e===mt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(xs.Unquoted,this.index),this.state=Ue.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===mt.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===mt.OpeningSquareBracket?(this.state=Ue.CDATASequence,this.sequenceIndex=0):this.state=e===mt.Dash?Ue.BeforeComment:Ue.InDeclaration}stateInDeclaration(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Ue.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Ue.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===mt.Dash?(this.state=Ue.InCommentLike,this.currentSequence=ln.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Ue.InDeclaration}stateInSpecialComment(e){(e===mt.Gt||this.fastForwardTo(mt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Ue.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const r=e|32;r===ln.ScriptEnd[3]?this.startSpecial(ln.ScriptEnd,4):r===ln.StyleEnd[3]?this.startSpecial(ln.StyleEnd,4):(this.state=Ue.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){const r=e|32;r===ln.TitleEnd[3]?this.startSpecial(ln.TitleEnd,4):r===ln.TextareaEnd[3]?this.startSpecial(ln.TextareaEnd,4):(this.state=Ue.InTagName,this.stateInTagName(e))}startEntity(){this.baseState=this.state,this.state=Ue.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?As.Strict:this.baseState===Ue.Text||this.baseState===Ue.InSpecialTag?As.Legacy:As.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Ue.Text||this.state===Ue.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Ue.InAttributeValueDq||this.state===Ue.InAttributeValueSq||this.state===Ue.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Ue.Text:{this.stateText(e);break}case Ue.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case Ue.InSpecialTag:{this.stateInSpecialTag(e);break}case Ue.CDATASequence:{this.stateCDATASequence(e);break}case Ue.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case Ue.InAttributeName:{this.stateInAttributeName(e);break}case Ue.InCommentLike:{this.stateInCommentLike(e);break}case Ue.InSpecialComment:{this.stateInSpecialComment(e);break}case Ue.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case Ue.InTagName:{this.stateInTagName(e);break}case Ue.InClosingTagName:{this.stateInClosingTagName(e);break}case Ue.BeforeTagName:{this.stateBeforeTagName(e);break}case Ue.AfterAttributeName:{this.stateAfterAttributeName(e);break}case Ue.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case Ue.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case Ue.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case Ue.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case Ue.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case Ue.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case Ue.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case Ue.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case Ue.InDeclaration:{this.stateInDeclaration(e);break}case Ue.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case Ue.BeforeComment:{this.stateBeforeComment(e);break}case Ue.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case Ue.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Ue.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===Ue.InCommentLike?this.currentSequence===ln.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Ue.InTagName||this.state===Ue.BeforeAttributeName||this.state===Ue.BeforeAttributeValue||this.state===Ue.AfterAttributeName||this.state===Ue.InAttributeName||this.state===Ue.InAttributeValueSq||this.state===Ue.InAttributeValueDq||this.state===Ue.InAttributeValueNq||this.state===Ue.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){this.baseState!==Ue.Text&&this.baseState!==Ue.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+r,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+r,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}const Ql=new Set(["input","option","optgroup","select","button","datalist","textarea"]),ir=new Set(["p"]),JA=new Set(["thead","tbody"]),ex=new Set(["dd","dt"]),tx=new Set(["rt","rp"]),n$=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",ir],["h1",ir],["h2",ir],["h3",ir],["h4",ir],["h5",ir],["h6",ir],["select",Ql],["input",Ql],["output",Ql],["button",Ql],["datalist",Ql],["textarea",Ql],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",ex],["dt",ex],["address",ir],["article",ir],["aside",ir],["blockquote",ir],["details",ir],["div",ir],["dl",ir],["fieldset",ir],["figcaption",ir],["figure",ir],["footer",ir],["form",ir],["header",ir],["hr",ir],["main",ir],["nav",ir],["ol",ir],["pre",ir],["section",ir],["table",ir],["ul",ir],["rt",tx],["rp",tx],["tbody",JA],["tfoot",JA]]),i$=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),rx=new Set(["math","svg"]),nx=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),s$=/\s|\//;let a$=class{constructor(e,r={}){var n,i,s,a,o,l;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:this.htmlMode,this.lowerCaseAttributeNames=(i=r.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=r.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((a=r.Tokenizer)!==null&&a!==void 0?a:r$)(this.options,this),this.foreignContext=[!this.htmlMode],(l=(o=this.cbs).onparserinit)===null||l===void 0||l.call(o,this)}ontext(e,r){var n,i;const s=this.getSlice(e,r);this.endIndex=r-1,(i=(n=this.cbs).ontext)===null||i===void 0||i.call(n,s),this.startIndex=r}ontextentity(e,r){var n,i;this.endIndex=r-1,(i=(n=this.cbs).ontext)===null||i===void 0||i.call(n,Hg(e)),this.startIndex=r}isVoidElement(e){return this.htmlMode&&i$.has(e)}onopentagname(e,r){this.endIndex=r;let n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(e){var r,n,i,s;this.openTagStart=this.startIndex,this.tagname=e;const a=this.htmlMode&&n$.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[0]);){const o=this.stack.shift();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,o,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(rx.has(e)?this.foreignContext.unshift(!0):nx.has(e)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,r){var n,i,s,a,o,l,d,f;this.endIndex=r;let c=this.getSlice(e,r);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),this.htmlMode&&(rx.has(c)||nx.has(c))&&this.foreignContext.shift(),this.isVoidElement(c))this.htmlMode&&c==="br"&&((a=(s=this.cbs).onopentagname)===null||a===void 0||a.call(s,"br"),(l=(o=this.cbs).onopentag)===null||l===void 0||l.call(o,"br",{},!0),(f=(d=this.cbs).onclosetag)===null||f===void 0||f.call(d,"br",!1));else{const h=this.stack.indexOf(c);if(h!==-1)for(let p=0;p<=h;p++){const m=this.stack.shift();(i=(n=this.cbs).onclosetag)===null||i===void 0||i.call(n,m,p!==h)}else this.htmlMode&&c==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var r,n;const i=this.tagname;this.endOpenTag(e),this.stack[0]===i&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,i,!e),this.stack.shift())}onattribname(e,r){this.startIndex=e;const n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(e,r){this.attribvalue+=this.getSlice(e,r)}onattribentity(e){this.attribvalue+=Hg(e)}onattribend(e,r){var n,i;this.endIndex=r,(i=(n=this.cbs).onattribute)===null||i===void 0||i.call(n,this.attribname,this.attribvalue,e===xs.Double?'"':e===xs.Single?"'":e===xs.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const r=e.search(s$);let n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(e,r){this.endIndex=r;const n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${i}`,`!${n}`)}this.startIndex=r+1}onprocessinginstruction(e,r){this.endIndex=r;const n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${i}`,`?${n}`)}this.startIndex=r+1}oncomment(e,r,n){var i,s,a,o;this.endIndex=r,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(e,r-n)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=r+1}oncdata(e,r,n){var i,s,a,o,l,d,f,c,h,p;this.endIndex=r;const m=this.getSlice(e,r-n);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,m),(d=(l=this.cbs).oncdataend)===null||d===void 0||d.call(l)):((c=(f=this.cbs).oncomment)===null||c===void 0||c.call(f,`[CDATA[${m}]]`),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1}onend(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let n=0;n<this.stack.length;n++)this.cbs.onclosetag(this.stack[n],!0)}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)}reset(){var e,r,n,i;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(n=this.cbs).onparserinit)===null||i===void 0||i.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);for(;r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function o$(t,e){const r=new c9(void 0,e);return new a$(r,e).end(t),r.root}const l$=PP((t,e,r,n)=>e._useHtmlParser2?o$(t,e):ZU(t,e,r,n)),u$=g7(l$,(t,e)=>e._useHtmlParser2?xh(t,e):e$(t));var ix={exports:{}};/*!
 * Autolinker.js
 * v4.0.0
 *
 * Copyright(c) 2024 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */(function(t,e){(function(r,n){t.exports=n()})(It,function(){var r="4.0.0";function n(ie){return ie===void 0}function i(ie){return typeof ie=="boolean"}function s(ie,te){for(var ce in te)te.hasOwnProperty(ce)&&n(ie[ce])&&(ie[ce]=te[ce]);return ie}function a(ie,te,ce){var Ae;return ie.length>te&&(ce==null?(ce="&hellip;",Ae=3):Ae=ce.length,ie=ie.substring(0,te-Ae)+ce),ie}function o(ie,te){for(var ce=ie.length-1;ce>=0;ce--)ie[ce]===te&&ie.splice(ce,1)}function l(ie,te){for(var ce=ie.length-1;ce>=0;ce--)te(ie[ce])===!0&&ie.splice(ce,1)}function d(ie){throw new Error("Unhandled case for value: '".concat(ie,"'"))}var f=/[A-Za-z]/,c=/[\d]/,h=/\s/,p=/['"]/,m=/[\x00-\x1F\x7F]/,b=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,y=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source,_=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,x=b+y+_,C=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,k=x+C,S=new RegExp("[".concat(k,"]")),w=function(){function ie(te){te===void 0&&(te={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=te.tagName||"",this.attrs=te.attrs||{},this.innerHTML=te.innerHtml||te.innerHTML||""}return ie.prototype.setTagName=function(te){return this.tagName=te,this},ie.prototype.getTagName=function(){return this.tagName||""},ie.prototype.setAttr=function(te,ce){var Ae=this.getAttrs();return Ae[te]=ce,this},ie.prototype.getAttr=function(te){return this.getAttrs()[te]},ie.prototype.setAttrs=function(te){return Object.assign(this.getAttrs(),te),this},ie.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},ie.prototype.setClass=function(te){return this.setAttr("class",te)},ie.prototype.addClass=function(te){for(var ce=this.getClass(),Ae=ce?ce.split(h):[],ot=te.split(h),gt;gt=ot.shift();)Ae.indexOf(gt)===-1&&Ae.push(gt);return this.getAttrs().class=Ae.join(" "),this},ie.prototype.removeClass=function(te){for(var ce=this.getClass(),Ae=ce?ce.split(h):[],ot=te.split(h),gt;Ae.length&&(gt=ot.shift());){var qt=Ae.indexOf(gt);qt!==-1&&Ae.splice(qt,1)}return this.getAttrs().class=Ae.join(" "),this},ie.prototype.getClass=function(){return this.getAttrs().class||""},ie.prototype.hasClass=function(te){return(" "+this.getClass()+" ").indexOf(" "+te+" ")!==-1},ie.prototype.setInnerHTML=function(te){return this.innerHTML=te,this},ie.prototype.setInnerHtml=function(te){return this.setInnerHTML(te)},ie.prototype.getInnerHTML=function(){return this.innerHTML||""},ie.prototype.getInnerHtml=function(){return this.getInnerHTML()},ie.prototype.toAnchorString=function(){var te=this.getTagName(),ce=this.buildAttrsStr();return ce=ce?" "+ce:"",["<",te,ce,">",this.getInnerHtml(),"</",te,">"].join("")},ie.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var te=this.getAttrs(),ce=[];for(var Ae in te)te.hasOwnProperty(Ae)&&ce.push(Ae+'="'+te[Ae]+'"');return ce.join(" ")},ie}();function L(ie,te,ce){var Ae,ot;ce==null?(ce="&hellip;",ot=3,Ae=8):(ot=ce.length,Ae=ce.length);var gt=function(Or){var Ur={},er=Or,tr=er.match(/^([a-z]+):\/\//i);return tr&&(Ur.scheme=tr[1],er=er.substr(tr[0].length)),tr=er.match(/^(.*?)(?=(\?|#|\/|$))/i),tr&&(Ur.host=tr[1],er=er.substr(tr[0].length)),tr=er.match(/^\/(.*?)(?=(\?|#|$))/i),tr&&(Ur.path=tr[1],er=er.substr(tr[0].length)),tr=er.match(/^\?(.*?)(?=(#|$))/i),tr&&(Ur.query=tr[1],er=er.substr(tr[0].length)),tr=er.match(/^#(.*?)$/i),tr&&(Ur.fragment=tr[1]),Ur},qt=function(Or){var Ur="";return Or.scheme&&Or.host&&(Ur+=Or.scheme+"://"),Or.host&&(Ur+=Or.host),Or.path&&(Ur+="/"+Or.path),Or.query&&(Ur+="?"+Or.query),Or.fragment&&(Ur+="#"+Or.fragment),Ur},Fr=function(Or,Ur){var er=Ur/2,tr=Math.ceil(er),ho=-1*Math.floor(er),Ks="";return ho<0&&(Ks=Or.substr(ho)),Or.substr(0,tr)+ce+Ks};if(ie.length<=te)return ie;var St=te-ot,Pt=gt(ie);if(Pt.query){var je=Pt.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);je&&(Pt.query=Pt.query.substr(0,je[1].length),ie=qt(Pt))}if(ie.length<=te||(Pt.host&&(Pt.host=Pt.host.replace(/^www\./,""),ie=qt(Pt)),ie.length<=te))return ie;var dt="";if(Pt.host&&(dt+=Pt.host),dt.length>=St)return Pt.host.length==te?(Pt.host.substr(0,te-ot)+ce).substr(0,St+Ae):Fr(dt,St).substr(0,St+Ae);var Ve="";if(Pt.path&&(Ve+="/"+Pt.path),Pt.query&&(Ve+="?"+Pt.query),Ve)if((dt+Ve).length>=St){if((dt+Ve).length==te)return(dt+Ve).substr(0,te);var $t=St-dt.length;return(dt+Fr(Ve,$t)).substr(0,St+Ae)}else dt+=Ve;if(Pt.fragment){var lt="#"+Pt.fragment;if((dt+lt).length>=St){if((dt+lt).length==te)return(dt+lt).substr(0,te);var Gi=St-dt.length;return(dt+Fr(lt,Gi)).substr(0,St+Ae)}else dt+=lt}if(Pt.scheme&&Pt.host){var ys=Pt.scheme+"://";if((dt+ys).length<St)return(ys+dt).substr(0,te)}if(dt.length<=te)return dt;var Ca="";return St>0&&(Ca=dt.substr(-1*Math.floor(St/2))),(dt.substr(0,Math.ceil(St/2))+ce+Ca).substr(0,St+Ae)}function D(ie,te,ce){if(ie.length<=te)return ie;var Ae,ot;ce==null?(ce="&hellip;",Ae=8,ot=3):(Ae=ce.length,ot=ce.length);var gt=te-ot,qt="";return gt>0&&(qt=ie.substr(-1*Math.floor(gt/2))),(ie.substr(0,Math.ceil(gt/2))+ce+qt).substr(0,gt+Ae)}function I(ie,te,ce){return a(ie,te,ce)}var P=function(){function ie(te){te===void 0&&(te={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=te.newWindow||!1,this.truncate=te.truncate||{},this.className=te.className||""}return ie.prototype.build=function(te){return new w({tagName:"a",attrs:this.createAttrs(te),innerHtml:this.processAnchorText(te.getAnchorText())})},ie.prototype.createAttrs=function(te){var ce={href:te.getAnchorHref()},Ae=this.createCssClass(te);return Ae&&(ce.class=Ae),this.newWindow&&(ce.target="_blank",ce.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<te.getAnchorText().length&&(ce.title=te.getAnchorHref()),ce},ie.prototype.createCssClass=function(te){var ce=this.className;if(ce){for(var Ae=[ce],ot=te.getCssClassSuffixes(),gt=0,qt=ot.length;gt<qt;gt++)Ae.push(ce+"-"+ot[gt]);return Ae.join(" ")}else return""},ie.prototype.processAnchorText=function(te){return te=this.doTruncate(te),te},ie.prototype.doTruncate=function(te){var ce=this.truncate;if(!ce||!ce.length)return te;var Ae=ce.length,ot=ce.location;return ot==="smart"?L(te,Ae):ot==="middle"?D(te,Ae):I(te,Ae)},ie}(),z=function(ie,te){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,Ae){ce.__proto__=Ae}||function(ce,Ae){for(var ot in Ae)Object.prototype.hasOwnProperty.call(Ae,ot)&&(ce[ot]=Ae[ot])},z(ie,te)};function U(ie,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");z(ie,te);function ce(){this.constructor=ie}ie.prototype=te===null?Object.create(te):(ce.prototype=te.prototype,new ce)}var $=function(){return $=Object.assign||function(te){for(var ce,Ae=1,ot=arguments.length;Ae<ot;Ae++){ce=arguments[Ae];for(var gt in ce)Object.prototype.hasOwnProperty.call(ce,gt)&&(te[gt]=ce[gt])}return te},$.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var H=function(){function ie(te){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=te.tagBuilder,this.matchedText=te.matchedText,this.offset=te.offset}return ie.prototype.getMatchedText=function(){return this.matchedText},ie.prototype.setOffset=function(te){this.offset=te},ie.prototype.getOffset=function(){return this.offset},ie.prototype.getCssClassSuffixes=function(){return[this.type]},ie.prototype.buildTag=function(){return this.tagBuilder.build(this)},ie}(),Y="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermgensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich||||||||abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)",F=new RegExp("^"+Y+"$"),j=/[\/?#]/,se=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,W=/[?!:,.;^]/,R=/https?:\/\//i,N=new RegExp("^"+R.source,"i"),V=new RegExp(W.source+"$"),Z=/^(javascript|vbscript):/i,X=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,K=/^(?:\/\/)?([^/#?:]+)/;function de(ie){return S.test(ie)}function le(ie){return S.test(ie)||c.test(ie)||ie==="+"||ie==="-"||ie==="."}function Te(ie){return S.test(ie)}function ge(ie){return ie==="_"||Te(ie)}function me(ie){return S.test(ie)||se.test(ie)||W.test(ie)}function Ce(ie){return j.test(ie)}function Ne(ie){return F.test(ie.toLowerCase())}function Fe(ie){if(Z.test(ie))return!1;var te=ie.match(X);if(!te)return!1;var ce=!!te[1],Ae=te[2];return ce?!0:!(Ae.indexOf(".")===-1||!f.test(Ae))}function he(ie){var te=ie.match(K);if(!te)return!1;var ce=te[0],Ae=ce.split(".");if(Ae.length<2)return!1;var ot=Ae[Ae.length-1];return!!Ne(ot)}var Re=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,rt=/[:/?#]/;function be(ie){var te=ie.split(rt,1)[0];return Re.test(te)}var Le=/^(https?:\/\/)?(www\.)?/i,xe=/^\/\//,B=function(ie){U(te,ie);function te(ce){var Ae=ie.call(this,ce)||this;return Ae.type="url",Ae.url="",Ae.urlMatchType="scheme",Ae.protocolRelativeMatch=!1,Ae.stripPrefix={scheme:!0,www:!0},Ae.stripTrailingSlash=!0,Ae.decodePercentEncoding=!0,Ae.protocolPrepended=!1,Ae.urlMatchType=ce.urlMatchType,Ae.url=ce.url,Ae.protocolRelativeMatch=ce.protocolRelativeMatch,Ae.stripPrefix=ce.stripPrefix,Ae.stripTrailingSlash=ce.stripTrailingSlash,Ae.decodePercentEncoding=ce.decodePercentEncoding,Ae}return te.prototype.getType=function(){return"url"},te.prototype.getUrlMatchType=function(){return this.urlMatchType},te.prototype.getUrl=function(){var ce=this.url;return!this.protocolRelativeMatch&&this.urlMatchType!=="scheme"&&!this.protocolPrepended&&(ce=this.url="http://"+ce,this.protocolPrepended=!0),ce},te.prototype.getAnchorHref=function(){var ce=this.getUrl();return ce.replace(/&amp;/g,"&")},te.prototype.getAnchorText=function(){var ce=this.getMatchedText();return this.protocolRelativeMatch&&(ce=ye(ce)),this.stripPrefix.scheme&&(ce=q(ce)),this.stripPrefix.www&&(ce=ue(ce)),this.stripTrailingSlash&&(ce=Pe(ce)),this.decodePercentEncoding&&(ce=$e(ce)),ce},te}(H);function q(ie){return ie.replace(N,"")}function ue(ie){return ie.replace(Le,"$1")}function ye(ie){return ie.replace(xe,"")}function Pe(ie){return ie.charAt(ie.length-1)==="/"&&(ie=ie.slice(0,-1)),ie}function $e(ie){var te=ie.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(te)}catch{return te}}var ze=/^mailto:/i,_e=new RegExp("[".concat(k,"!#$%&'*+/=?^_`{|}~-]"));function Oe(ie){return S.test(ie)}function nt(ie){return _e.test(ie)}function bt(ie){var te=ie.split(".").pop()||"";return Ne(te)}var Nt=function(ie){U(te,ie);function te(ce){var Ae=ie.call(this,ce)||this;return Ae.type="email",Ae.email="",Ae.email=ce.email,Ae}return te.prototype.getType=function(){return"email"},te.prototype.getEmail=function(){return this.email},te.prototype.getAnchorHref=function(){return"mailto:"+this.email},te.prototype.getAnchorText=function(){return this.email},te}(H);function st(ie){return ie==="_"||S.test(ie)}function Zt(ie){return ie.length<=140}var Ot=["twitter","facebook","instagram","tiktok"],wr=function(ie){U(te,ie);function te(ce){var Ae=ie.call(this,ce)||this;return Ae.type="hashtag",Ae.serviceName="twitter",Ae.hashtag="",Ae.serviceName=ce.serviceName,Ae.hashtag=ce.hashtag,Ae}return te.prototype.getType=function(){return"hashtag"},te.prototype.getServiceName=function(){return this.serviceName},te.prototype.getHashtag=function(){return this.hashtag},te.prototype.getAnchorHref=function(){var ce=this.serviceName,Ae=this.hashtag;switch(ce){case"twitter":return"https://twitter.com/hashtag/"+Ae;case"facebook":return"https://www.facebook.com/hashtag/"+Ae;case"instagram":return"https://instagram.com/explore/tags/"+Ae;case"tiktok":return"https://www.tiktok.com/tag/"+Ae;default:throw d(ce),new Error("Invalid hashtag service: ".concat(ce))}},te.prototype.getAnchorText=function(){return"#"+this.hashtag},te.prototype.getCssClassSuffixes=function(){var ce=ie.prototype.getCssClassSuffixes.call(this),Ae=this.getServiceName();return Ae&&ce.push(Ae),ce},te}(H),Nr={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},gs=/[-\w.]/;function Gs(ie){return gs.test(ie)}function Ys(ie,te){var ce=Nr[te];return ce.test(ie)}var bs=["twitter","instagram","soundcloud","tiktok"],Qs=function(ie){U(te,ie);function te(ce){var Ae=ie.call(this,ce)||this;return Ae.type="mention",Ae.serviceName="twitter",Ae.mention="",Ae.mention=ce.mention,Ae.serviceName=ce.serviceName,Ae}return te.prototype.getType=function(){return"mention"},te.prototype.getMention=function(){return this.mention},te.prototype.getServiceName=function(){return this.serviceName},te.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},te.prototype.getAnchorText=function(){return"@"+this.mention},te.prototype.getCssClassSuffixes=function(){var ce=ie.prototype.getCssClassSuffixes.call(this),Ae=this.getServiceName();return Ae&&ce.push(Ae),ce},te}(H),hn=/[-. ]/,pn=/[-. ()]/,Vi=/[,;]/,Ti=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/,vr=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/,Ei=new RegExp("^".concat(Ti.source,"|").concat(vr.source,"$"));function Fn(ie){return hn.test(ie)}function xl(ie){return Vi.test(ie)}function Cl(ie){var te=ie.charAt(0)==="+"||pn.test(ie);return te&&Ei.test(ie)}var Mr=function(ie){U(te,ie);function te(ce){var Ae=ie.call(this,ce)||this;return Ae.type="phone",Ae.number="",Ae.plusSign=!1,Ae.number=ce.number,Ae.plusSign=ce.plusSign,Ae}return te.prototype.getType=function(){return"phone"},te.prototype.getPhoneNumber=function(){return this.number},te.prototype.getNumber=function(){return this.getPhoneNumber()},te.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},te.prototype.getAnchorText=function(){return this.matchedText},te}(H);function Un(ie,te){for(var ce=te.tagBuilder,Ae=te.stripPrefix,ot=te.stripTrailingSlash,gt=te.decodePercentEncoding,qt=te.hashtagServiceName,Fr=te.mentionServiceName,St=[],Pt=ie.length,je=[],dt=0;dt<Pt;dt++){var Ve=ie.charAt(dt);if(je.length===0)ys(Ve);else for(var $t=je.length-1;$t>=0;$t--){var lt=je[$t];switch(lt.state){case 11:ho(lt,Ve);break;case 12:Ks(lt,Ve);break;case 0:Ca(lt,Ve);break;case 1:Or(lt,Ve);break;case 2:Ur(lt,Ve);break;case 3:er(lt,Ve);break;case 4:tr(lt,Ve);break;case 5:wl(lt,Ve);break;case 6:$n(lt,Ve);break;case 7:Jf(lt,Ve);break;case 13:po(lt,Ve);break;case 14:wa(lt,Ve);break;case 8:mo(lt,Ve);break;case 9:Xs(lt,Ve);break;case 10:Sl(lt,Ve);break;case 15:Sc(lt,Ve);break;case 16:kl(lt,Ve);break;case 17:eh(lt,Ve);break;case 18:jn(lt,Ve);break;case 19:di(lt,Ve);break;case 20:mn(lt,Ve);break;case 21:kc(lt,Ve);break;case 22:Ci(lt,Ve);break;case 23:Ic(lt,Ve);break;case 24:We(lt,Ve);break;case 25:eg(lt,Ve);break;case 26:jv(lt,Ve);break;case 27:Dc(lt,Ve);break;case 28:Il(lt,Ve);break;case 29:tg(lt,Ve);break;case 30:Hv(lt,Ve);break;case 31:zv(lt,Ve);break;case 32:ng(lt,Ve);break;case 33:Vv(lt,Ve);break;case 34:ig(lt,Ve);break;case 35:qv(lt,Ve);break;case 36:Wv(lt,Ve);break;case 37:rg(lt,Ve);break;case 38:Gv(lt,Ve);break;case 39:Yv(lt,Ve);break;case 40:Qv(lt,Ve);break;case 41:Kv(lt,Ve);break;default:d(lt.state)}}}for(var Gi=je.length-1;Gi>=0;Gi--)je.forEach(function(fe){return or(fe)});return St;function ys(fe){if(fe==="#")je.push(Yt(dt,28));else if(fe==="@")je.push($v(dt,30));else if(fe==="/")je.push(qi(dt,11));else if(fe==="+")je.push(fo(dt,37));else if(fe==="(")je.push(fo(dt,32));else{if(c.test(fe)&&(je.push(fo(dt,38)),je.push(ci(dt,13))),Oe(fe)){var we=fe.toLowerCase()==="m"?15:22;je.push(co(dt,we))}de(fe)&&je.push(xi(dt,0)),S.test(fe)&&je.push(qi(dt,5))}}function Ca(fe,we){we===":"?fe.state=2:we==="-"?fe.state=1:le(we)||o(je,fe)}function Or(fe,we){we==="-"||(we==="/"?(o(je,fe),je.push(qi(dt,11))):le(we)?fe.state=0:o(je,fe))}function Ur(fe,we){we==="/"?fe.state=3:we==="."?o(je,fe):Te(we)?(fe.state=5,de(we)&&je.push(xi(dt,0))):o(je,fe)}function er(fe,we){we==="/"?fe.state=4:me(we)?(fe.state=10,fe.acceptStateReached=!0):or(fe)}function tr(fe,we){we==="/"?fe.state=10:Te(we)?(fe.state=5,fe.acceptStateReached=!0):o(je,fe)}function ho(fe,we){we==="/"?fe.state=12:o(je,fe)}function Ks(fe,we){Te(we)?fe.state=5:o(je,fe)}function wl(fe,we){we==="."?fe.state=7:we==="-"?fe.state=6:we===":"?fe.state=8:Ce(we)?fe.state=10:ge(we)||or(fe)}function $n(fe,we){we==="-"||(we==="."?or(fe):Te(we)?fe.state=5:or(fe))}function Jf(fe,we){we==="."?or(fe):Te(we)?(fe.state=5,fe.acceptStateReached=!0):or(fe)}function po(fe,we){we==="."?fe.state=14:we===":"?fe.state=8:c.test(we)||(Ce(we)?fe.state=10:S.test(we)?o(je,fe):or(fe))}function wa(fe,we){c.test(we)?(fe.octetsEncountered++,fe.octetsEncountered===4&&(fe.acceptStateReached=!0),fe.state=13):or(fe)}function mo(fe,we){c.test(we)?fe.state=9:or(fe)}function Xs(fe,we){c.test(we)||(Ce(we)?fe.state=10:or(fe))}function Sl(fe,we){me(we)||or(fe)}function Sc(fe,we){we.toLowerCase()==="a"?fe.state=16:Ci(fe,we)}function kl(fe,we){we.toLowerCase()==="i"?fe.state=17:Ci(fe,we)}function eh(fe,we){we.toLowerCase()==="l"?fe.state=18:Ci(fe,we)}function jn(fe,we){we.toLowerCase()==="t"?fe.state=19:Ci(fe,we)}function di(fe,we){we.toLowerCase()==="o"?fe.state=20:Ci(fe,we)}function mn(fe,we){we.toLowerCase()===":"?fe.state=21:Ci(fe,we)}function kc(fe,we){nt(we)?fe.state=22:o(je,fe)}function Ci(fe,we){we==="."?fe.state=23:we==="@"?fe.state=24:nt(we)?fe.state=22:o(je,fe)}function Ic(fe,we){we==="."||we==="@"?o(je,fe):nt(we)?fe.state=22:o(je,fe)}function We(fe,we){Te(we)?fe.state=25:o(je,fe)}function eg(fe,we){we==="."?fe.state=27:we==="-"?fe.state=26:ge(we)||or(fe)}function jv(fe,we){we==="-"||we==="."?or(fe):ge(we)?fe.state=25:or(fe)}function Dc(fe,we){we==="."||we==="-"?or(fe):Te(we)?(fe.state=25,fe.acceptStateReached=!0):or(fe)}function Il(fe,we){st(we)?(fe.state=29,fe.acceptStateReached=!0):o(je,fe)}function tg(fe,we){st(we)||or(fe)}function Hv(fe,we){Gs(we)?(fe.state=31,fe.acceptStateReached=!0):o(je,fe)}function zv(fe,we){Gs(we)||(S.test(we)?o(je,fe):or(fe))}function rg(fe,we){c.test(we)?fe.state=38:(o(je,fe),ys(we))}function ng(fe,we){c.test(we)?fe.state=33:o(je,fe),ys(we)}function Vv(fe,we){c.test(we)?fe.state=34:o(je,fe)}function ig(fe,we){c.test(we)?fe.state=35:o(je,fe)}function qv(fe,we){we===")"?fe.state=36:o(je,fe)}function Wv(fe,we){c.test(we)?fe.state=38:Fn(we)?fe.state=39:o(je,fe)}function Gv(fe,we){fe.acceptStateReached=!0,xl(we)?fe.state=40:we==="#"?fe.state=41:c.test(we)||(we==="("?fe.state=32:Fn(we)?fe.state=39:(or(fe),de(we)&&je.push(xi(dt,0))))}function Yv(fe,we){c.test(we)?fe.state=38:we==="("?fe.state=32:(or(fe),ys(we))}function Qv(fe,we){xl(we)||(we==="#"?fe.state=41:c.test(we)?fe.state=38:or(fe))}function Kv(fe,we){xl(we)?fe.state=40:c.test(we)?o(je,fe):or(fe)}function or(fe){if(o(je,fe),!!fe.acceptStateReached){var we=fe.startIdx,Qt=ie.slice(fe.startIdx,dt);if(Qt=Ai(Qt),fe.type==="url"){var Xv=ie.charAt(fe.startIdx-1);if(Xv==="@")return;var Dl=fe.matchType;if(Dl==="scheme"){var th=R.exec(Qt);if(th&&(we=we+th.index,Qt=Qt.slice(th.index)),!Fe(Qt))return}else if(Dl==="tld"){if(!he(Qt))return}else if(Dl==="ipV4"){if(!be(Qt))return}else d(Dl);St.push(new B({tagBuilder:ce,matchedText:Qt,offset:we,urlMatchType:Dl,url:Qt,protocolRelativeMatch:Qt.slice(0,2)==="//",stripPrefix:Ae,stripTrailingSlash:ot,decodePercentEncoding:gt}))}else if(fe.type==="email")bt(Qt)&&St.push(new Nt({tagBuilder:ce,matchedText:Qt,offset:we,email:Qt.replace(ze,"")}));else if(fe.type==="hashtag")Zt(Qt)&&St.push(new wr({tagBuilder:ce,matchedText:Qt,offset:we,serviceName:qt,hashtag:Qt.slice(1)}));else if(fe.type==="mention")Ys(Qt,Fr)&&St.push(new Qs({tagBuilder:ce,matchedText:Qt,offset:we,serviceName:Fr,mention:Qt.slice(1)}));else if(fe.type==="phone"){if(Qt=Qt.replace(/ +$/g,""),Cl(Qt)){var Zv=Qt.replace(/[^0-9,;#]/g,"");St.push(new Mr({tagBuilder:ce,matchedText:Qt,offset:we,number:Zv,plusSign:Qt.charAt(0)==="+"}))}}else d(fe)}}}var an=/[\(\{\[]/,Wr=/[\)\}\]]/,Vt={")":"(","}":"{","]":"["};function Ai(ie){for(var te={"(":0,"{":0,"[":0},ce=0;ce<ie.length;ce++){var Ae=ie.charAt(ce);an.test(Ae)?te[Ae]++:Wr.test(Ae)&&te[Vt[Ae]]--}for(var ot=ie.length-1,gt;ot>=0;)if(gt=ie.charAt(ot),Wr.test(gt)){var qt=Vt[gt];if(te[qt]<0)te[qt]++,ot--;else break}else if(V.test(gt))ot--;else break;return ie.slice(0,ot+1)}function xi(ie,te){return{type:"url",startIdx:ie,state:te,acceptStateReached:!1,matchType:"scheme"}}function qi(ie,te){return{type:"url",startIdx:ie,state:te,acceptStateReached:!1,matchType:"tld"}}function ci(ie,te){return{type:"url",startIdx:ie,state:te,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}function co(ie,te){return{type:"email",startIdx:ie,state:te,acceptStateReached:!1}}function Yt(ie,te){return{type:"hashtag",startIdx:ie,state:te,acceptStateReached:!1}}function $v(ie,te){return{type:"mention",startIdx:ie,state:te,acceptStateReached:!1}}function fo(ie,te){return{type:"phone",startIdx:ie,state:te,acceptStateReached:!1}}function Cc(ie,te){for(var ce=te.onOpenTag,Ae=te.onCloseTag,ot=te.onText,gt=te.onComment,qt=te.onDoctype,Fr=new Wi,St=0,Pt=ie.length,je=0,dt=0,Ve=Fr;St<Pt;){var $t=ie.charAt(St);switch(je){case 0:lt($t);break;case 1:Gi($t);break;case 2:Ca($t);break;case 3:ys($t);break;case 4:Or($t);break;case 5:Ur($t);break;case 6:er($t);break;case 7:tr($t);break;case 8:ho($t);break;case 9:Ks($t);break;case 10:wl($t);break;case 11:$n($t);break;case 12:Jf($t);break;case 13:po();break;case 14:wa($t);break;case 15:mo($t);break;case 16:Xs($t);break;case 17:Sl($t);break;case 18:Sc($t);break;case 19:kl($t);break;case 20:eh($t);break;default:d(je)}St++}dt<St&&kc();function lt(We){We==="<"&&di()}function Gi(We){We==="!"?je=13:We==="/"?(je=2,Ve=new Wi($($({},Ve),{isClosing:!0}))):We==="<"?di():f.test(We)?(je=3,Ve=new Wi($($({},Ve),{isOpening:!0}))):(je=0,Ve=Fr)}function ys(We){h.test(We)?(Ve=new Wi($($({},Ve),{name:Ci()})),je=4):We==="<"?di():We==="/"?(Ve=new Wi($($({},Ve),{name:Ci()})),je=12):We===">"?(Ve=new Wi($($({},Ve),{name:Ci()})),mn()):!f.test(We)&&!c.test(We)&&We!==":"&&jn()}function Ca(We){We===">"?jn():f.test(We)?je=3:jn()}function Or(We){h.test(We)||(We==="/"?je=12:We===">"?mn():We==="<"?di():We==="="||p.test(We)||m.test(We)?jn():je=5)}function Ur(We){h.test(We)?je=6:We==="/"?je=12:We==="="?je=7:We===">"?mn():We==="<"?di():p.test(We)&&jn()}function er(We){h.test(We)||(We==="/"?je=12:We==="="?je=7:We===">"?mn():We==="<"?di():p.test(We)?jn():je=5)}function tr(We){h.test(We)||(We==='"'?je=8:We==="'"?je=9:/[>=`]/.test(We)?jn():We==="<"?di():je=10)}function ho(We){We==='"'&&(je=11)}function Ks(We){We==="'"&&(je=11)}function wl(We){h.test(We)?je=4:We===">"?mn():We==="<"&&di()}function $n(We){h.test(We)?je=4:We==="/"?je=12:We===">"?mn():We==="<"?di():(je=4,Ic())}function Jf(We){We===">"?(Ve=new Wi($($({},Ve),{isClosing:!0})),mn()):je=4}function po(We){ie.substr(St,2)==="--"?(St+=2,Ve=new Wi($($({},Ve),{type:"comment"})),je=14):ie.substr(St,7).toUpperCase()==="DOCTYPE"?(St+=7,Ve=new Wi($($({},Ve),{type:"doctype"})),je=20):jn()}function wa(We){We==="-"?je=15:We===">"?jn():je=16}function mo(We){We==="-"?je=18:We===">"?jn():je=16}function Xs(We){We==="-"&&(je=17)}function Sl(We){We==="-"?je=18:je=16}function Sc(We){We===">"?mn():We==="!"?je=19:We==="-"||(je=16)}function kl(We){We==="-"?je=17:We===">"?mn():je=16}function eh(We){We===">"?mn():We==="<"&&di()}function jn(){je=0,Ve=Fr}function di(){je=1,Ve=new Wi({idx:St})}function mn(){var We=ie.slice(dt,Ve.idx);We&&ot(We,dt),Ve.type==="comment"?gt(Ve.idx):Ve.type==="doctype"?qt(Ve.idx):(Ve.isOpening&&ce(Ve.name,Ve.idx),Ve.isClosing&&Ae(Ve.name,Ve.idx)),jn(),dt=St+1}function kc(){var We=ie.slice(dt,St);ot(We,dt),dt=St+1}function Ci(){var We=Ve.idx+(Ve.isClosing?2:1);return ie.slice(We,St).toLowerCase()}function Ic(){St--}}var Wi=function(){function ie(te){te===void 0&&(te={}),this.idx=te.idx!==void 0?te.idx:-1,this.type=te.type||"tag",this.name=te.name||"",this.isOpening=!!te.isOpening,this.isClosing=!!te.isClosing}return ie}(),xa=function(){function ie(te){te===void 0&&(te={}),this.version=ie.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=cr(te.urls),this.email=i(te.email)?te.email:this.email,this.phone=i(te.phone)?te.phone:this.phone,this.hashtag=te.hashtag||this.hashtag,this.mention=te.mention||this.mention,this.newWindow=i(te.newWindow)?te.newWindow:this.newWindow,this.stripPrefix=Jm(te.stripPrefix),this.stripTrailingSlash=i(te.stripTrailingSlash)?te.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=i(te.decodePercentEncoding)?te.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=te.sanitizeHtml||!1;var ce=this.mention;if(ce!==!1&&bs.indexOf(ce)===-1)throw new Error("invalid `mention` cfg '".concat(ce,"' - see docs"));var Ae=this.hashtag;if(Ae!==!1&&Ot.indexOf(Ae)===-1)throw new Error("invalid `hashtag` cfg '".concat(Ae,"' - see docs"));this.truncate=wc(te.truncate),this.className=te.className||this.className,this.replaceFn=te.replaceFn||this.replaceFn,this.context=te.context||this}return ie.link=function(te,ce){var Ae=new ie(ce);return Ae.link(te)},ie.parse=function(te,ce){var Ae=new ie(ce);return Ae.parse(te)},ie.prototype.parse=function(te){var ce=this,Ae=["a","style","script"],ot=0,gt=[];return Cc(te,{onOpenTag:function(qt){Ae.indexOf(qt)>=0&&ot++},onText:function(qt,Fr){if(ot===0){var St=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,Pt=qt.split(St),je=Fr;Pt.forEach(function(dt,Ve){if(Ve%2===0){var $t=ce.parseText(dt,je);gt.push.apply(gt,$t)}je+=dt.length})}},onCloseTag:function(qt){Ae.indexOf(qt)>=0&&(ot=Math.max(ot-1,0))},onComment:function(qt){},onDoctype:function(qt){}}),gt=this.compactMatches(gt),gt=this.removeUnwantedMatches(gt),gt},ie.prototype.compactMatches=function(te){te.sort(function(St,Pt){return St.getOffset()-Pt.getOffset()});for(var ce=0;ce<te.length-1;){var Ae=te[ce],ot=Ae.getOffset(),gt=Ae.getMatchedText().length,qt=ot+gt;if(ce+1<te.length){if(te[ce+1].getOffset()===ot){var Fr=te[ce+1].getMatchedText().length>gt?ce:ce+1;te.splice(Fr,1);continue}if(te[ce+1].getOffset()<qt){te.splice(ce+1,1);continue}}ce++}return te},ie.prototype.removeUnwantedMatches=function(te){return this.hashtag||l(te,function(ce){return ce.getType()==="hashtag"}),this.email||l(te,function(ce){return ce.getType()==="email"}),this.phone||l(te,function(ce){return ce.getType()==="phone"}),this.mention||l(te,function(ce){return ce.getType()==="mention"}),this.urls.schemeMatches||l(te,function(ce){return ce.getType()==="url"&&ce.getUrlMatchType()==="scheme"}),this.urls.tldMatches||l(te,function(ce){return ce.getType()==="url"&&ce.getUrlMatchType()==="tld"}),this.urls.ipV4Matches||l(te,function(ce){return ce.getType()==="url"&&ce.getUrlMatchType()==="ipV4"}),te},ie.prototype.parseText=function(te,ce){ce===void 0&&(ce=0),ce=ce||0;for(var Ae=Un(te,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),ot=0,gt=Ae.length;ot<gt;ot++)Ae[ot].setOffset(ce+Ae[ot].getOffset());return Ae},ie.prototype.link=function(te){if(!te)return"";this.sanitizeHtml&&(te=te.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var ce=this.parse(te),Ae=[],ot=0,gt=0,qt=ce.length;gt<qt;gt++){var Fr=ce[gt];Ae.push(te.substring(ot,Fr.getOffset())),Ae.push(this.createMatchReturnVal(Fr)),ot=Fr.getOffset()+Fr.getMatchedText().length}return Ae.push(te.substring(ot)),Ae.join("")},ie.prototype.createMatchReturnVal=function(te){var ce;if(this.replaceFn&&(ce=this.replaceFn.call(this.context,te)),typeof ce=="string")return ce;if(ce===!1)return te.getMatchedText();if(ce instanceof w)return ce.toAnchorString();var Ae=te.buildTag();return Ae.toAnchorString()},ie.prototype.getTagBuilder=function(){var te=this.tagBuilder;return te||(te=this.tagBuilder=new P({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),te},ie.version=r,ie}();function cr(ie){return ie==null&&(ie=!0),i(ie)?{schemeMatches:ie,tldMatches:ie,ipV4Matches:ie}:{schemeMatches:i(ie.schemeMatches)?ie.schemeMatches:!0,tldMatches:i(ie.tldMatches)?ie.tldMatches:!0,ipV4Matches:i(ie.ipV4Matches)?ie.ipV4Matches:!0}}function Jm(ie){return ie==null&&(ie=!0),i(ie)?{scheme:ie,www:ie}:{scheme:i(ie.scheme)?ie.scheme:!0,www:i(ie.www)?ie.www:!0}}function wc(ie){return typeof ie=="number"?{length:ie,location:"end"}:s(ie||{},{length:Number.POSITIVE_INFINITY,location:"end"})}return xa})})(ix);var c$=ix.exports;const d$=on(c$);class Ra{constructor(e){Ge(this,"id");Ge(this,"nickname");Ge(this,"avatarUrl");Ge(this,"country");Ge(this,"city");Ge(this,"clientType");Ge(this,"memberIds");const{_id:r,nickname:n,avatarUrl:i,country:s,city:a,clientType:o,members:l}=e;this.id=r,this.nickname=n??r,this.avatarUrl=i,this.country=s??null,this.city=a??null,this.clientType=o??null,this.memberIds={},l==null||l.forEach(d=>{this.memberIds[d._id]=!0})}}var sx={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(It,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",d="day",f="week",c="month",h="quarter",p="year",m="date",b="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var Y=["th","st","nd","rd"],F=H%100;return"["+H+(Y[(F-20)%10]||Y[F]||Y[0])+"]"}},C=function(H,Y,F){var j=String(H);return!j||j.length>=Y?H:""+Array(Y+1-j.length).join(F)+H},k={s:C,z:function(H){var Y=-H.utcOffset(),F=Math.abs(Y),j=Math.floor(F/60),se=F%60;return(Y<=0?"+":"-")+C(j,2,"0")+":"+C(se,2,"0")},m:function H(Y,F){if(Y.date()<F.date())return-H(F,Y);var j=12*(F.year()-Y.year())+(F.month()-Y.month()),se=Y.clone().add(j,c),W=F-se<0,R=Y.clone().add(j+(W?-1:1),c);return+(-(j+(F-se)/(W?se-R:R-se))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:c,y:p,w:f,d,D:m,h:l,m:o,s:a,ms:s,Q:h}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},S="en",w={};w[S]=x;var L="$isDayjsObject",D=function(H){return H instanceof U||!(!H||!H[L])},I=function H(Y,F,j){var se;if(!Y)return S;if(typeof Y=="string"){var W=Y.toLowerCase();w[W]&&(se=W),F&&(w[W]=F,se=W);var R=Y.split("-");if(!se&&R.length>1)return H(R[0])}else{var N=Y.name;w[N]=Y,se=N}return!j&&se&&(S=se),se||!j&&S},P=function(H,Y){if(D(H))return H.clone();var F=typeof Y=="object"?Y:{};return F.date=H,F.args=arguments,new U(F)},z=k;z.l=I,z.i=D,z.w=function(H,Y){return P(H,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var U=function(){function H(F){this.$L=I(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[L]=!0}var Y=H.prototype;return Y.parse=function(F){this.$d=function(j){var se=j.date,W=j.utc;if(se===null)return new Date(NaN);if(z.u(se))return new Date;if(se instanceof Date)return new Date(se);if(typeof se=="string"&&!/Z$/i.test(se)){var R=se.match(y);if(R){var N=R[2]-1||0,V=(R[7]||"0").substring(0,3);return W?new Date(Date.UTC(R[1],N,R[3]||1,R[4]||0,R[5]||0,R[6]||0,V)):new Date(R[1],N,R[3]||1,R[4]||0,R[5]||0,R[6]||0,V)}}return new Date(se)}(F),this.init()},Y.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},Y.$utils=function(){return z},Y.isValid=function(){return this.$d.toString()!==b},Y.isSame=function(F,j){var se=P(F);return this.startOf(j)<=se&&se<=this.endOf(j)},Y.isAfter=function(F,j){return P(F)<this.startOf(j)},Y.isBefore=function(F,j){return this.endOf(j)<P(F)},Y.$g=function(F,j,se){return z.u(F)?this[j]:this.set(se,F)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(F,j){var se=this,W=!!z.u(j)||j,R=z.p(F),N=function(ge,me){var Ce=z.w(se.$u?Date.UTC(se.$y,me,ge):new Date(se.$y,me,ge),se);return W?Ce:Ce.endOf(d)},V=function(ge,me){return z.w(se.toDate()[ge].apply(se.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(me)),se)},Z=this.$W,X=this.$M,K=this.$D,de="set"+(this.$u?"UTC":"");switch(R){case p:return W?N(1,0):N(31,11);case c:return W?N(1,X):N(0,X+1);case f:var le=this.$locale().weekStart||0,Te=(Z<le?Z+7:Z)-le;return N(W?K-Te:K+(6-Te),X);case d:case m:return V(de+"Hours",0);case l:return V(de+"Minutes",1);case o:return V(de+"Seconds",2);case a:return V(de+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(F){return this.startOf(F,!1)},Y.$set=function(F,j){var se,W=z.p(F),R="set"+(this.$u?"UTC":""),N=(se={},se[d]=R+"Date",se[m]=R+"Date",se[c]=R+"Month",se[p]=R+"FullYear",se[l]=R+"Hours",se[o]=R+"Minutes",se[a]=R+"Seconds",se[s]=R+"Milliseconds",se)[W],V=W===d?this.$D+(j-this.$W):j;if(W===c||W===p){var Z=this.clone().set(m,1);Z.$d[N](V),Z.init(),this.$d=Z.set(m,Math.min(this.$D,Z.daysInMonth())).$d}else N&&this.$d[N](V);return this.init(),this},Y.set=function(F,j){return this.clone().$set(F,j)},Y.get=function(F){return this[z.p(F)]()},Y.add=function(F,j){var se,W=this;F=Number(F);var R=z.p(j),N=function(X){var K=P(W);return z.w(K.date(K.date()+Math.round(X*F)),W)};if(R===c)return this.set(c,this.$M+F);if(R===p)return this.set(p,this.$y+F);if(R===d)return N(1);if(R===f)return N(7);var V=(se={},se[o]=n,se[l]=i,se[a]=r,se)[R]||1,Z=this.$d.getTime()+F*V;return z.w(Z,this)},Y.subtract=function(F,j){return this.add(-1*F,j)},Y.format=function(F){var j=this,se=this.$locale();if(!this.isValid())return se.invalidDate||b;var W=F||"YYYY-MM-DDTHH:mm:ssZ",R=z.z(this),N=this.$H,V=this.$m,Z=this.$M,X=se.weekdays,K=se.months,de=se.meridiem,le=function(me,Ce,Ne,Fe){return me&&(me[Ce]||me(j,W))||Ne[Ce].slice(0,Fe)},Te=function(me){return z.s(N%12||12,me,"0")},ge=de||function(me,Ce,Ne){var Fe=me<12?"AM":"PM";return Ne?Fe.toLowerCase():Fe};return W.replace(_,function(me,Ce){return Ce||function(Ne){switch(Ne){case"YY":return String(j.$y).slice(-2);case"YYYY":return z.s(j.$y,4,"0");case"M":return Z+1;case"MM":return z.s(Z+1,2,"0");case"MMM":return le(se.monthsShort,Z,K,3);case"MMMM":return le(K,Z);case"D":return j.$D;case"DD":return z.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return le(se.weekdaysMin,j.$W,X,2);case"ddd":return le(se.weekdaysShort,j.$W,X,3);case"dddd":return X[j.$W];case"H":return String(N);case"HH":return z.s(N,2,"0");case"h":return Te(1);case"hh":return Te(2);case"a":return ge(N,V,!0);case"A":return ge(N,V,!1);case"m":return String(V);case"mm":return z.s(V,2,"0");case"s":return String(j.$s);case"ss":return z.s(j.$s,2,"0");case"SSS":return z.s(j.$ms,3,"0");case"Z":return R}return null}(me)||R.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(F,j,se){var W,R=this,N=z.p(j),V=P(F),Z=(V.utcOffset()-this.utcOffset())*n,X=this-V,K=function(){return z.m(R,V)};switch(N){case p:W=K()/12;break;case c:W=K();break;case h:W=K()/3;break;case f:W=(X-Z)/6048e5;break;case d:W=(X-Z)/864e5;break;case l:W=X/i;break;case o:W=X/n;break;case a:W=X/r;break;default:W=X}return se?W:z.a(W)},Y.daysInMonth=function(){return this.endOf(c).$D},Y.$locale=function(){return w[this.$L]},Y.locale=function(F,j){if(!F)return this.$L;var se=this.clone(),W=I(F,j,!0);return W&&(se.$L=W),se},Y.clone=function(){return z.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},H}(),$=U.prototype;return P.prototype=$,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",d],["$M",c],["$y",p],["$D",m]].forEach(function(H){$[H[1]]=function(Y){return this.$g(Y,H[0],H[1])}}),P.extend=function(H,Y){return H.$i||(H(Y,U,P),H.$i=!0),P},P.locale=I,P.isDayjs=D,P.unix=function(H){return P(1e3*H)},P.en=w[S],P.Ls=w,P.p={},P})})(sx);var f$=sx.exports;const dr=on(f$);/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const ts=typeof window<"u";let fi,Mo;if(process.env.NODE_ENV!=="production"){const t=ts&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(fi=e=>{t.mark(e)},Mo=(e,r,n)=>{t.measure(e,r,n),t.clearMarks(r),t.clearMarks(n)})}const h$=/\{([0-9a-zA-Z]+)\}/g;function x1(t,...e){return e.length===1&&jt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(h$,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const Cs=(t,e=!1)=>e?Symbol.for(t):Symbol(t),p$=(t,e,r)=>m$({l:t,k:e,s:r}),m$=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Yr=t=>typeof t=="number"&&isFinite(t),g$=t=>ux(t)==="[object Date]",Ba=t=>ux(t)==="[object RegExp]",Xh=t=>Et(t)&&Object.keys(t).length===0,un=Object.assign;let ax;const na=()=>ax||(ax=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ox(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const b$=Object.prototype.hasOwnProperty;function Zh(t,e){return b$.call(t,e)}const lr=Array.isArray,sr=t=>typeof t=="function",Xe=t=>typeof t=="string",Dt=t=>typeof t=="boolean",jt=t=>t!==null&&typeof t=="object",y$=t=>jt(t)&&sr(t.then)&&sr(t.catch),lx=Object.prototype.toString,ux=t=>lx.call(t),Et=t=>{if(!jt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},_$=t=>t==null?"":lr(t)||Et(t)&&t.toString===lx?JSON.stringify(t,null,2):String(t);function v$(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const cx=2;function T$(t,e=0,r=t.length){const n=t.split(/\r?\n/);let i=0;const s=[];for(let a=0;a<n.length;a++)if(i+=n[a].length+1,i>=e){for(let o=a-cx;o<=a+cx||r>i;o++){if(o<0||o>=n.length)continue;const l=o+1;s.push(`${l}${" ".repeat(3-String(l).length)}|  ${n[o]}`);const d=n[o].length;if(o===a){const f=e-(i-d)+1,c=Math.max(1,r>i?d-f:r-e);s.push("   |  "+" ".repeat(f)+"^".repeat(c))}else if(o>a){if(r>i){const f=Math.max(Math.min(r-i,d),1);s.push("   |  "+"^".repeat(f))}i+=d+1}}break}return s.join(`
`)}function Jh(t){let e=t;return()=>++e}function Qr(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const dx={};function fx(t){dx[t]||(dx[t]=!0,Qr(t))}function C1(){const t=new Map;return{events:t,on(r,n){const i=t.get(r);i&&i.push(n)||t.set(r,[n])},off(r,n){const i=t.get(r);i&&i.splice(i.indexOf(n)>>>0,1)},emit(r,n){(t.get(r)||[]).slice().map(i=>i(n)),(t.get("*")||[]).slice().map(i=>i(r,n))}}}const ep=t=>!jt(t)||lr(t);function tp(t,e){if(ep(t)||ep(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{ep(n[s])||ep(i[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function E$(t,e,r){return{line:t,column:e,offset:r}}function rp(t,e,r){return{start:t,end:e}}const A$=/\{([0-9a-zA-Z]+)\}/g;function hx(t,...e){return e.length===1&&x$(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(A$,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const px=Object.assign,mx=t=>typeof t=="string",x$=t=>t!==null&&typeof t=="object";function gx(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const np={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},C$={[np.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function w$(t,e,...r){const n=hx(C$[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const yt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},S$={[yt.EXPECTED_TOKEN]:"Expected token: '{0}'",[yt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[yt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[yt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[yt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[yt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[yt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[yt.EMPTY_PLACEHOLDER]:"Empty placeholder",[yt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[yt.INVALID_LINKED_FORMAT]:"Invalid linked format",[yt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[yt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[yt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[yt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[yt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[yt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Kl(t,e,r={}){const{domain:n,messages:i,args:s}=r,a=hx((i||S$)[t]||"",...s||[]),o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=n,o}function k$(t){throw t}const I$=/<\/?[\w\s="/.':;#-\/]+>/,D$=t=>I$.test(t),ia=" ",N$="\r",In=`
`,M$="\u2028",O$="\u2029";function L$(t){const e=t;let r=0,n=1,i=1,s=0;const a=L=>e[L]===N$&&e[L+1]===In,o=L=>e[L]===In,l=L=>e[L]===O$,d=L=>e[L]===M$,f=L=>a(L)||o(L)||l(L)||d(L),c=()=>r,h=()=>n,p=()=>i,m=()=>s,b=L=>a(L)||l(L)||d(L)?In:e[L],y=()=>b(r),_=()=>b(r+s);function x(){return s=0,f(r)&&(n++,i=0),a(r)&&r++,r++,i++,e[r]}function C(){return a(r+s)&&s++,s++,e[r+s]}function k(){r=0,n=1,i=1,s=0}function S(L=0){s=L}function w(){const L=r+s;for(;L!==r;)x();s=0}return{index:c,line:h,column:p,peekOffset:m,charAt:b,currentChar:y,currentPeek:_,next:x,peek:C,reset:k,resetPeek:S,skipToPeek:w}}const Pa=void 0,R$=".",bx="'",B$="tokenizer";function P$(t,e={}){const r=e.location!==!1,n=L$(t),i=()=>n.index(),s=()=>E$(n.line(),n.column(),n.index()),a=s(),o=i(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},d=()=>l,{onError:f}=e;function c(B,q,ue,...ye){const Pe=d();if(q.column+=ue,q.offset+=ue,f){const $e=r?rp(Pe.startLoc,q):null,ze=Kl(B,$e,{domain:B$,args:ye});f(ze)}}function h(B,q,ue){B.endLoc=s(),B.currentType=q;const ye={type:q};return r&&(ye.loc=rp(B.startLoc,B.endLoc)),ue!=null&&(ye.value=ue),ye}const p=B=>h(B,14);function m(B,q){return B.currentChar()===q?(B.next(),q):(c(yt.EXPECTED_TOKEN,s(),0,q),"")}function b(B){let q="";for(;B.currentPeek()===ia||B.currentPeek()===In;)q+=B.currentPeek(),B.peek();return q}function y(B){const q=b(B);return B.skipToPeek(),q}function _(B){if(B===Pa)return!1;const q=B.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q===95}function x(B){if(B===Pa)return!1;const q=B.charCodeAt(0);return q>=48&&q<=57}function C(B,q){const{currentType:ue}=q;if(ue!==2)return!1;b(B);const ye=_(B.currentPeek());return B.resetPeek(),ye}function k(B,q){const{currentType:ue}=q;if(ue!==2)return!1;b(B);const ye=B.currentPeek()==="-"?B.peek():B.currentPeek(),Pe=x(ye);return B.resetPeek(),Pe}function S(B,q){const{currentType:ue}=q;if(ue!==2)return!1;b(B);const ye=B.currentPeek()===bx;return B.resetPeek(),ye}function w(B,q){const{currentType:ue}=q;if(ue!==8)return!1;b(B);const ye=B.currentPeek()===".";return B.resetPeek(),ye}function L(B,q){const{currentType:ue}=q;if(ue!==9)return!1;b(B);const ye=_(B.currentPeek());return B.resetPeek(),ye}function D(B,q){const{currentType:ue}=q;if(!(ue===8||ue===12))return!1;b(B);const ye=B.currentPeek()===":";return B.resetPeek(),ye}function I(B,q){const{currentType:ue}=q;if(ue!==10)return!1;const ye=()=>{const $e=B.currentPeek();return $e==="{"?_(B.peek()):$e==="@"||$e==="%"||$e==="|"||$e===":"||$e==="."||$e===ia||!$e?!1:$e===In?(B.peek(),ye()):U(B,!1)},Pe=ye();return B.resetPeek(),Pe}function P(B){b(B);const q=B.currentPeek()==="|";return B.resetPeek(),q}function z(B){const q=b(B),ue=B.currentPeek()==="%"&&B.peek()==="{";return B.resetPeek(),{isModulo:ue,hasSpace:q.length>0}}function U(B,q=!0){const ue=(Pe=!1,$e="",ze=!1)=>{const _e=B.currentPeek();return _e==="{"?$e==="%"?!1:Pe:_e==="@"||!_e?$e==="%"?!0:Pe:_e==="%"?(B.peek(),ue(Pe,"%",!0)):_e==="|"?$e==="%"||ze?!0:!($e===ia||$e===In):_e===ia?(B.peek(),ue(!0,ia,ze)):_e===In?(B.peek(),ue(!0,In,ze)):!0},ye=ue();return q&&B.resetPeek(),ye}function $(B,q){const ue=B.currentChar();return ue===Pa?Pa:q(ue)?(B.next(),ue):null}function H(B){const q=B.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36}function Y(B){return $(B,H)}function F(B){const q=B.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36||q===45}function j(B){return $(B,F)}function se(B){const q=B.charCodeAt(0);return q>=48&&q<=57}function W(B){return $(B,se)}function R(B){const q=B.charCodeAt(0);return q>=48&&q<=57||q>=65&&q<=70||q>=97&&q<=102}function N(B){return $(B,R)}function V(B){let q="",ue="";for(;q=W(B);)ue+=q;return ue}function Z(B){y(B);const q=B.currentChar();return q!=="%"&&c(yt.EXPECTED_TOKEN,s(),0,q),B.next(),"%"}function X(B){let q="";for(;;){const ue=B.currentChar();if(ue==="{"||ue==="}"||ue==="@"||ue==="|"||!ue)break;if(ue==="%")if(U(B))q+=ue,B.next();else break;else if(ue===ia||ue===In)if(U(B))q+=ue,B.next();else{if(P(B))break;q+=ue,B.next()}else q+=ue,B.next()}return q}function K(B){y(B);let q="",ue="";for(;q=j(B);)ue+=q;return B.currentChar()===Pa&&c(yt.UNTERMINATED_CLOSING_BRACE,s(),0),ue}function de(B){y(B);let q="";return B.currentChar()==="-"?(B.next(),q+=`-${V(B)}`):q+=V(B),B.currentChar()===Pa&&c(yt.UNTERMINATED_CLOSING_BRACE,s(),0),q}function le(B){return B!==bx&&B!==In}function Te(B){y(B),m(B,"'");let q="",ue="";for(;q=$(B,le);)q==="\\"?ue+=ge(B):ue+=q;const ye=B.currentChar();return ye===In||ye===Pa?(c(yt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),ye===In&&(B.next(),m(B,"'")),ue):(m(B,"'"),ue)}function ge(B){const q=B.currentChar();switch(q){case"\\":case"'":return B.next(),`\\${q}`;case"u":return me(B,q,4);case"U":return me(B,q,6);default:return c(yt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,q),""}}function me(B,q,ue){m(B,q);let ye="";for(let Pe=0;Pe<ue;Pe++){const $e=N(B);if(!$e){c(yt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${q}${ye}${B.currentChar()}`);break}ye+=$e}return`\\${q}${ye}`}function Ce(B){return B!=="{"&&B!=="}"&&B!==ia&&B!==In}function Ne(B){y(B);let q="",ue="";for(;q=$(B,Ce);)ue+=q;return ue}function Fe(B){let q="",ue="";for(;q=Y(B);)ue+=q;return ue}function he(B){const q=ue=>{const ye=B.currentChar();return ye==="{"||ye==="%"||ye==="@"||ye==="|"||ye==="("||ye===")"||!ye||ye===ia?ue:(ue+=ye,B.next(),q(ue))};return q("")}function Re(B){y(B);const q=m(B,"|");return y(B),q}function rt(B,q){let ue=null;switch(B.currentChar()){case"{":return q.braceNest>=1&&c(yt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),B.next(),ue=h(q,2,"{"),y(B),q.braceNest++,ue;case"}":return q.braceNest>0&&q.currentType===2&&c(yt.EMPTY_PLACEHOLDER,s(),0),B.next(),ue=h(q,3,"}"),q.braceNest--,q.braceNest>0&&y(B),q.inLinked&&q.braceNest===0&&(q.inLinked=!1),ue;case"@":return q.braceNest>0&&c(yt.UNTERMINATED_CLOSING_BRACE,s(),0),ue=be(B,q)||p(q),q.braceNest=0,ue;default:{let Pe=!0,$e=!0,ze=!0;if(P(B))return q.braceNest>0&&c(yt.UNTERMINATED_CLOSING_BRACE,s(),0),ue=h(q,1,Re(B)),q.braceNest=0,q.inLinked=!1,ue;if(q.braceNest>0&&(q.currentType===5||q.currentType===6||q.currentType===7))return c(yt.UNTERMINATED_CLOSING_BRACE,s(),0),q.braceNest=0,Le(B,q);if(Pe=C(B,q))return ue=h(q,5,K(B)),y(B),ue;if($e=k(B,q))return ue=h(q,6,de(B)),y(B),ue;if(ze=S(B,q))return ue=h(q,7,Te(B)),y(B),ue;if(!Pe&&!$e&&!ze)return ue=h(q,13,Ne(B)),c(yt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ue.value),y(B),ue;break}}return ue}function be(B,q){const{currentType:ue}=q;let ye=null;const Pe=B.currentChar();switch((ue===8||ue===9||ue===12||ue===10)&&(Pe===In||Pe===ia)&&c(yt.INVALID_LINKED_FORMAT,s(),0),Pe){case"@":return B.next(),ye=h(q,8,"@"),q.inLinked=!0,ye;case".":return y(B),B.next(),h(q,9,".");case":":return y(B),B.next(),h(q,10,":");default:return P(B)?(ye=h(q,1,Re(B)),q.braceNest=0,q.inLinked=!1,ye):w(B,q)||D(B,q)?(y(B),be(B,q)):L(B,q)?(y(B),h(q,12,Fe(B))):I(B,q)?(y(B),Pe==="{"?rt(B,q)||ye:h(q,11,he(B))):(ue===8&&c(yt.INVALID_LINKED_FORMAT,s(),0),q.braceNest=0,q.inLinked=!1,Le(B,q))}}function Le(B,q){let ue={type:14};if(q.braceNest>0)return rt(B,q)||p(q);if(q.inLinked)return be(B,q)||p(q);switch(B.currentChar()){case"{":return rt(B,q)||p(q);case"}":return c(yt.UNBALANCED_CLOSING_BRACE,s(),0),B.next(),h(q,3,"}");case"@":return be(B,q)||p(q);default:{if(P(B))return ue=h(q,1,Re(B)),q.braceNest=0,q.inLinked=!1,ue;const{isModulo:Pe,hasSpace:$e}=z(B);if(Pe)return $e?h(q,0,X(B)):h(q,4,Z(B));if(U(B))return h(q,0,X(B));break}}return ue}function xe(){const{currentType:B,offset:q,startLoc:ue,endLoc:ye}=l;return l.lastType=B,l.lastOffset=q,l.lastStartLoc=ue,l.lastEndLoc=ye,l.offset=i(),l.startLoc=s(),n.currentChar()===Pa?h(l,14):Le(n,l)}return{nextToken:xe,currentOffset:i,currentPosition:s,context:d}}const F$="parser",U$=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function $$(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function j$(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(C,k,S,w,...L){const D=C.currentPosition();if(D.offset+=w,D.column+=w,r){const I=e?rp(S,D):null,P=Kl(k,I,{domain:F$,args:L});r(P)}}function s(C,k,S,w,...L){const D=C.currentPosition();if(D.offset+=w,D.column+=w,n){const I=e?rp(S,D):null;n(w$(k,I,L))}}function a(C,k,S){const w={type:C};return e&&(w.start=k,w.end=k,w.loc={start:S,end:S}),w}function o(C,k,S,w){e&&(C.end=k,C.loc&&(C.loc.end=S))}function l(C,k){const S=C.context(),w=a(3,S.offset,S.startLoc);return w.value=k,o(w,C.currentOffset(),C.currentPosition()),w}function d(C,k){const S=C.context(),{lastOffset:w,lastStartLoc:L}=S,D=a(5,w,L);return D.index=parseInt(k,10),C.nextToken(),o(D,C.currentOffset(),C.currentPosition()),D}function f(C,k,S){const w=C.context(),{lastOffset:L,lastStartLoc:D}=w,I=a(4,L,D);return I.key=k,S===!0&&(I.modulo=!0),C.nextToken(),o(I,C.currentOffset(),C.currentPosition()),I}function c(C,k){const S=C.context(),{lastOffset:w,lastStartLoc:L}=S,D=a(9,w,L);return D.value=k.replace(U$,$$),C.nextToken(),o(D,C.currentOffset(),C.currentPosition()),D}function h(C){const k=C.nextToken(),S=C.context(),{lastOffset:w,lastStartLoc:L}=S,D=a(8,w,L);return k.type!==12?(i(C,yt.UNEXPECTED_EMPTY_LINKED_MODIFIER,S.lastStartLoc,0),D.value="",o(D,w,L),{nextConsumeToken:k,node:D}):(k.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,rs(k)),D.value=k.value||"",o(D,C.currentOffset(),C.currentPosition()),{node:D})}function p(C,k){const S=C.context(),w=a(7,S.offset,S.startLoc);return w.value=k,o(w,C.currentOffset(),C.currentPosition()),w}function m(C){const k=C.context(),S=a(6,k.offset,k.startLoc);let w=C.nextToken();if(w.type===9){const L=h(C);S.modifier=L.node,w=L.nextConsumeToken||C.nextToken()}switch(w.type!==10&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(w)),w=C.nextToken(),w.type===2&&(w=C.nextToken()),w.type){case 11:w.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(w)),S.key=p(C,w.value||"");break;case 5:w.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(w)),S.key=f(C,w.value||"");break;case 6:w.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(w)),S.key=d(C,w.value||"");break;case 7:w.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(w)),S.key=c(C,w.value||"");break;default:{i(C,yt.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const L=C.context(),D=a(7,L.offset,L.startLoc);return D.value="",o(D,L.offset,L.startLoc),S.key=D,o(S,L.offset,L.startLoc),{nextConsumeToken:w,node:S}}}return o(S,C.currentOffset(),C.currentPosition()),{node:S}}function b(C){const k=C.context(),S=k.currentType===1?C.currentOffset():k.offset,w=k.currentType===1?k.endLoc:k.startLoc,L=a(2,S,w);L.items=[];let D=null,I=null;do{const U=D||C.nextToken();switch(D=null,U.type){case 0:U.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(U)),L.items.push(l(C,U.value||""));break;case 6:U.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(U)),L.items.push(d(C,U.value||""));break;case 4:I=!0;break;case 5:U.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(U)),L.items.push(f(C,U.value||"",!!I)),I&&(s(C,np.USE_MODULO_SYNTAX,k.lastStartLoc,0,rs(U)),I=null);break;case 7:U.value==null&&i(C,yt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,rs(U)),L.items.push(c(C,U.value||""));break;case 8:{const $=m(C);L.items.push($.node),D=$.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const P=k.currentType===1?k.lastOffset:C.currentOffset(),z=k.currentType===1?k.lastEndLoc:C.currentPosition();return o(L,P,z),L}function y(C,k,S,w){const L=C.context();let D=w.items.length===0;const I=a(1,k,S);I.cases=[],I.cases.push(w);do{const P=b(C);D||(D=P.items.length===0),I.cases.push(P)}while(L.currentType!==14);return D&&i(C,yt.MUST_HAVE_MESSAGES_IN_PLURAL,S,0),o(I,C.currentOffset(),C.currentPosition()),I}function _(C){const k=C.context(),{offset:S,startLoc:w}=k,L=b(C);return k.currentType===14?L:y(C,S,w,L)}function x(C){const k=P$(C,px({},t)),S=k.context(),w=a(0,S.offset,S.startLoc);return e&&w.loc&&(w.loc.source=C),w.body=_(k),t.onCacheKey&&(w.cacheKey=t.onCacheKey(C)),S.currentType!==14&&i(k,yt.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,C[S.offset]||""),o(w,k.currentOffset(),k.currentPosition()),w}return{parse:x}}function rs(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function H$(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function yx(t,e){for(let r=0;r<t.length;r++)w1(t[r],e)}function w1(t,e){switch(t.type){case 1:yx(t.cases,e),e.helper("plural");break;case 2:yx(t.items,e);break;case 6:{w1(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function z$(t,e={}){const r=H$(t);r.helper("normalize"),t.body&&w1(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function V$(t){const e=t.body;return e.type===2?_x(e):e.cases.forEach(r=>_x(r)),t}function _x(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=gx(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const q$="minifier";function Xl(t){switch(t.t=t.type,t.type){case 0:{const e=t;Xl(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)Xl(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)Xl(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Xl(e.key),e.k=e.key,delete e.key,e.modifier&&(Xl(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Kl(yt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:q$,args:[t.type]})}delete t.type}const W$="parser";function G$(t,e){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:s}=e,a=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const l=()=>o;function d(y,_){o.code+=y}function f(y,_=!0){const x=_?i:"";d(s?x+"  ".repeat(y):x)}function c(y=!0){const _=++o.indentLevel;y&&f(_)}function h(y=!0){const _=--o.indentLevel;y&&f(_)}function p(){f(o.indentLevel)}return{context:l,push:d,indent:c,deindent:h,newline:p,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function Y$(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),Zl(t,e.key),e.modifier?(t.push(", "),Zl(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Q$(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(Zl(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function K$(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(Zl(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function X$(t,e){e.body?Zl(t,e.body):t.push("null")}function Zl(t,e){const{helper:r}=t;switch(e.type){case 0:X$(t,e);break;case 1:K$(t,e);break;case 2:Q$(t,e);break;case 6:Y$(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Kl(yt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:W$,args:[e.type]})}}const Z$=(t,e={})=>{const r=mx(e.mode)?e.mode:"normal",n=mx(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,a=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],l=G$(t,{mode:r,filename:n,sourceMap:i,breakLineCode:s,needIndent:a});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${gx(o.map(c=>`${c}: _${c}`),", ")} } = ctx`),l.newline()),l.push("return "),Zl(l,t),l.deindent(a),l.push("}"),delete t.helpers;const{code:d,map:f}=l.context();return{ast:t,code:d,map:f?f.toJSON():void 0}};function J$(t,e={}){const r=px({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,o=j$(r).parse(t);return n?(s&&V$(o),i&&Xl(o),{ast:o,code:""}):(z$(o,r),Z$(o,r))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function ej(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(na().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(na().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(na().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Fa=[];Fa[0]={w:[0],i:[3,0],"[":[4],o:[7]},Fa[1]={w:[1],".":[2],"[":[4],o:[7]},Fa[2]={w:[2],i:[3,0],0:[3,0]},Fa[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Fa[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Fa[5]={"'":[4,0],o:8,l:[5,0]},Fa[6]={'"':[4,0],o:8,l:[6,0]};const tj=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function rj(t){return tj.test(t)}function nj(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function ij(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function sj(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:rj(e)?nj(e):"*"+e}function aj(t){const e=[];let r=-1,n=0,i=0,s,a,o,l,d,f,c;const h=[];h[0]=()=>{a===void 0?a=o:a+=o},h[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,a===void 0||(a=sj(a),a===!1))return!1;h[1]()}};function p(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,o="\\"+m,h[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&p())){if(l=ij(s),c=Fa[n],d=c[l]||c.l||8,d===8||(n=d[0],d[1]!==void 0&&(f=h[d[1]],f&&(o=s,f()===!1))))return;if(n===7)return e}}const vx=new Map;function oj(t,e){return jt(t)?t[e]:null}function lj(t,e){if(!jt(t))return null;let r=vx.get(e);if(r||(r=aj(e),r&&vx.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const a=i[r[s]];if(a===void 0||sr(i))return null;i=a,s++}return i}const uj=t=>t,cj=t=>"",dj="text",fj=t=>t.length===0?"":v$(t),hj=_$;function Tx(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function pj(t){const e=Yr(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Yr(t.named.count)||Yr(t.named.n))?Yr(t.named.count)?t.named.count:Yr(t.named.n)?t.named.n:e:e}function mj(t,e){e.count||(e.count=t),e.n||(e.n=t)}function gj(t={}){const e=t.locale,r=pj(t),n=jt(t.pluralRules)&&Xe(e)&&sr(t.pluralRules[e])?t.pluralRules[e]:Tx,i=jt(t.pluralRules)&&Xe(e)&&sr(t.pluralRules[e])?Tx:void 0,s=_=>_[n(r,_.length,i)],a=t.list||[],o=_=>a[_],l=t.named||{};Yr(t.pluralIndex)&&mj(r,l);const d=_=>l[_];function f(_){const x=sr(t.messages)?t.messages(_):jt(t.messages)?t.messages[_]:!1;return x||(t.parent?t.parent.message(_):cj)}const c=_=>t.modifiers?t.modifiers[_]:uj,h=Et(t.processor)&&sr(t.processor.normalize)?t.processor.normalize:fj,p=Et(t.processor)&&sr(t.processor.interpolate)?t.processor.interpolate:hj,m=Et(t.processor)&&Xe(t.processor.type)?t.processor.type:dj,y={list:o,named:d,plural:s,linked:(_,...x)=>{const[C,k]=x;let S="text",w="";x.length===1?jt(C)?(w=C.modifier||w,S=C.type||S):Xe(C)&&(w=C||w):x.length===2&&(Xe(C)&&(w=C||w),Xe(k)&&(S=k||S));const L=f(_)(y),D=S==="vnode"&&lr(L)&&w?L[0]:L;return w?c(w)(D,S):D},message:f,type:m,interpolate:p,normalize:h,values:un({},a,l)};return y}let fd=null;function bj(t){fd=t}function yj(t,e,r){fd&&fd.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const _j=vj("function:translate");function vj(t){return e=>fd&&fd.emit(t,e)}const Ex=np.__EXTEND_POINT__,Oo=Jh(Ex),Dn={NOT_FOUND_KEY:Ex,FALLBACK_TO_TRANSLATE:Oo(),CANNOT_FORMAT_NUMBER:Oo(),FALLBACK_TO_NUMBER_FORMAT:Oo(),CANNOT_FORMAT_DATE:Oo(),FALLBACK_TO_DATE_FORMAT:Oo(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Oo(),__EXTEND_POINT__:Oo()},Tj={[Dn.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[Dn.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[Dn.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[Dn.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[Dn.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[Dn.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[Dn.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function Lo(t,...e){return x1(Tj[t],...e)}const Ax=yt.__EXTEND_POINT__,Ro=Jh(Ax),tn={INVALID_ARGUMENT:Ax,INVALID_DATE_ARGUMENT:Ro(),INVALID_ISO_DATE_ARGUMENT:Ro(),NOT_SUPPORT_NON_STRING_MESSAGE:Ro(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ro(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ro(),NOT_SUPPORT_LOCALE_TYPE:Ro(),__EXTEND_POINT__:Ro()};function ws(t){return Kl(t,null,process.env.NODE_ENV!=="production"?{messages:Ej}:void 0)}const Ej={[tn.INVALID_ARGUMENT]:"Invalid arguments",[tn.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[tn.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[tn.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[tn.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[tn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[tn.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function S1(t,e){return e.locale!=null?xx(e.locale):xx(t.locale)}let k1;function xx(t){if(Xe(t))return t;if(sr(t)){if(t.resolvedOnce&&k1!=null)return k1;if(t.constructor.name==="Function"){const e=t();if(y$(e))throw ws(tn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return k1=e}else throw ws(tn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ws(tn.NOT_SUPPORT_LOCALE_TYPE)}function Aj(t,e,r){return[...new Set([r,...lr(e)?e:jt(e)?Object.keys(e):Xe(e)?[e]:[r]])]}function Cx(t,e,r){const n=Xe(r)?r:Jl,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let a=[r];for(;lr(a);)a=wx(s,a,e);const o=lr(e)||!Et(e)?e:e.default?e.default:null;a=Xe(o)?[o]:o,lr(a)&&wx(s,a,!1),i.__localeChainCache.set(n,s)}return s}function wx(t,e,r){let n=!0;for(let i=0;i<e.length&&Dt(n);i++){const s=e[i];Xe(s)&&(n=xj(t,e[i],r))}return n}function xj(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=Cj(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function Cj(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(lr(r)||Et(r))&&r[i]&&(n=r[i])}return n}const wj="9.13.1",ip=-1,Jl="en-US",sp="",Sx=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Sj(){return{upper:(t,e)=>e==="text"&&Xe(t)?t.toUpperCase():e==="vnode"&&jt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Xe(t)?t.toLowerCase():e==="vnode"&&jt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Xe(t)?Sx(t):e==="vnode"&&jt(t)&&"__v_isVNode"in t?Sx(t.children):t}}let kx;function Ix(t){kx=t}let Dx;function kj(t){Dx=t}let Nx;function Ij(t){Nx=t}let Mx=null;const Dj=t=>{Mx=t},Nj=()=>Mx;let Ox=null;const Lx=t=>{Ox=t},Mj=()=>Ox;let Rx=0;function Oj(t={}){const e=sr(t.onWarn)?t.onWarn:Qr,r=Xe(t.version)?t.version:wj,n=Xe(t.locale)||sr(t.locale)?t.locale:Jl,i=sr(n)?Jl:n,s=lr(t.fallbackLocale)||Et(t.fallbackLocale)||Xe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,a=Et(t.messages)?t.messages:{[i]:{}},o=Et(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},l=Et(t.numberFormats)?t.numberFormats:{[i]:{}},d=un({},t.modifiers||{},Sj()),f=t.pluralRules||{},c=sr(t.missing)?t.missing:null,h=Dt(t.missingWarn)||Ba(t.missingWarn)?t.missingWarn:!0,p=Dt(t.fallbackWarn)||Ba(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,b=!!t.unresolving,y=sr(t.postTranslation)?t.postTranslation:null,_=Et(t.processor)?t.processor:null,x=Dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,C=!!t.escapeParameter,k=sr(t.messageCompiler)?t.messageCompiler:kx;process.env.NODE_ENV!=="production"&&sr(t.messageCompiler)&&fx(Lo(Dn.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const S=sr(t.messageResolver)?t.messageResolver:Dx||oj,w=sr(t.localeFallbacker)?t.localeFallbacker:Nx||Aj,L=jt(t.fallbackContext)?t.fallbackContext:void 0,D=t,I=jt(D.__datetimeFormatters)?D.__datetimeFormatters:new Map,P=jt(D.__numberFormatters)?D.__numberFormatters:new Map,z=jt(D.__meta)?D.__meta:{};Rx++;const U={version:r,cid:Rx,locale:n,fallbackLocale:s,messages:a,modifiers:d,pluralRules:f,missing:c,missingWarn:h,fallbackWarn:p,fallbackFormat:m,unresolving:b,postTranslation:y,processor:_,warnHtmlMessage:x,escapeParameter:C,messageCompiler:k,messageResolver:S,localeFallbacker:w,fallbackContext:L,onWarn:e,__meta:z};return U.datetimeFormats=o,U.numberFormats=l,U.__datetimeFormatters=I,U.__numberFormatters=P,process.env.NODE_ENV!=="production"&&(U.__v_emitter=D.__v_emitter!=null?D.__v_emitter:void 0),(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__)&&yj(U,r,z),U}function ap(t,e){return t instanceof RegExp?t.test(e):t}function Bx(t,e){return t instanceof RegExp?t.test(e):t}function I1(t,e,r,n,i){const{missing:s,onWarn:a}=t;if(process.env.NODE_ENV!=="production"){const o=t.__v_emitter;o&&o.emit("missing",{locale:r,key:e,type:i,groupId:`${i}:${e}`})}if(s!==null){const o=s(t,r,e,i);return Xe(o)?o:e}else return process.env.NODE_ENV!=="production"&&Bx(n,e)&&a(Lo(Dn.NOT_FOUND_KEY,{key:e,locale:r})),e}function hd(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function Px(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Lj(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(Px(t,e[n]))return!0;return!1}function D1(t){return r=>Rj(r,t)}function Rj(t,e){const r=e.b||e.body;if((r.t||r.type)===1){const n=r,i=n.c||n.cases;return t.plural(i.reduce((s,a)=>[...s,Fx(t,a)],[]))}else return Fx(t,r)}function Fx(t,e){const r=e.s||e.static;if(r)return t.type==="text"?r:t.normalize([r]);{const n=(e.i||e.items).reduce((i,s)=>[...i,N1(t,s)],[]);return t.normalize(n)}}function N1(t,e){const r=e.t||e.type;switch(r){case 3:{const n=e;return n.v||n.value}case 9:{const n=e;return n.v||n.value}case 4:{const n=e;return t.interpolate(t.named(n.k||n.key))}case 5:{const n=e;return t.interpolate(t.list(n.i!=null?n.i:n.index))}case 6:{const n=e,i=n.m||n.modifier;return t.linked(N1(t,n.k||n.key),i?N1(t,i):void 0,t.type)}case 7:{const n=e;return n.v||n.value}case 8:{const n=e;return n.v||n.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const Bj="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function Ux(t,e){e&&D$(t)&&Qr(x1(Bj,{source:t}))}const $x=t=>t;let eu=Object.create(null);function jx(t){t.code===np.USE_MODULO_SYNTAX&&Qr(`The use of named interpolation with modulo syntax is deprecated. It will be removed in v10.
reference: https://vue-i18n.intlify.dev/guide/essentials/syntax#rails-i18n-format 
(message compiler warning message: ${t.message})`)}const Ua=t=>jt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function Hx(t,e={}){let r=!1;const n=e.onError||k$;return e.onError=i=>{r=!0,n(i)},{...J$(t,e),detectError:r}}const Pj=(t,e)=>{if(!Xe(t))throw ws(tn.NOT_SUPPORT_NON_STRING_MESSAGE);process.env.NODE_ENV!=="production"&&(e.onWarn=jx);{const r=Dt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Ux(t,r);const i=(e.onCacheKey||$x)(t),s=eu[i];if(s)return s;const{code:a,detectError:o}=Hx(t,e),l=new Function(`return ${a}`)();return o?l:eu[i]=l}};function Fj(t,e){if(process.env.NODE_ENV!=="production"&&(e.onWarn=jx),__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Xe(t)){const r=Dt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Ux(t,r);const i=(e.onCacheKey||$x)(t),s=eu[i];if(s)return s;const{ast:a,detectError:o}=Hx(t,{...e,location:process.env.NODE_ENV!=="production",jit:!0}),l=D1(a);return o?l:eu[i]=l}else{if(process.env.NODE_ENV!=="production"&&!Ua(t))return Qr(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const r=t.cacheKey;if(r){const n=eu[r];return n||(eu[r]=D1(t))}else return D1(t)}}const zx=()=>"",Si=t=>sr(t);function Vx(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:o}=t,[l,d]=M1(...e),f=Dt(d.missingWarn)?d.missingWarn:t.missingWarn,c=Dt(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn,h=Dt(d.escapeParameter)?d.escapeParameter:t.escapeParameter,p=!!d.resolvedMessage,m=Xe(d.default)||Dt(d.default)?Dt(d.default)?s?l:()=>l:d.default:r?s?l:()=>l:"",b=r||m!=="",y=S1(t,d);h&&Uj(d);let[_,x,C]=p?[l,y,o[y]||{}]:qx(t,l,y,a,c,f),k=_,S=l;if(!p&&!(Xe(k)||Ua(k)||Si(k))&&b&&(k=m,S=k),!p&&(!(Xe(k)||Ua(k)||Si(k))||!Xe(x)))return i?ip:l;if(process.env.NODE_ENV!=="production"&&Xe(k)&&t.messageCompiler==null)return Qr(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let w=!1;const L=()=>{w=!0},D=Si(k)?k:Wx(t,l,x,k,S,L);if(w)return k;const I=zj(t,x,C,d),P=gj(I),z=$j(t,D,P),U=n?n(z,l):z;if(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const $={timestamp:Date.now(),key:Xe(l)?l:Si(k)?k.key:"",locale:x||(Si(k)?k.locale:""),format:Xe(k)?k:Si(k)?k.source:"",message:U};$.meta=un({},t.__meta,Nj()||{}),_j($)}return U}function Uj(t){lr(t.list)?t.list=t.list.map(e=>Xe(e)?ox(e):e):jt(t.named)&&Object.keys(t.named).forEach(e=>{Xe(t.named[e])&&(t.named[e]=ox(t.named[e]))})}function qx(t,e,r,n,i,s){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:d}=t,f=d(t,n,r);let c={},h,p=null,m=r,b=null;const y="translate";for(let _=0;_<f.length;_++){if(h=b=f[_],process.env.NODE_ENV!=="production"&&r!==h&&!Px(r,h)&&ap(i,e)&&o(Lo(Dn.FALLBACK_TO_TRANSLATE,{key:e,target:h})),process.env.NODE_ENV!=="production"&&r!==h){const S=t.__v_emitter;S&&S.emit("fallback",{type:y,key:e,from:m,to:b,groupId:`${y}:${e}`})}c=a[h]||{};let x=null,C,k;if(process.env.NODE_ENV!=="production"&&ts&&(x=window.performance.now(),C="intlify-message-resolve-start",k="intlify-message-resolve-end",fi&&fi(C)),(p=l(c,e))===null&&(p=c[e]),process.env.NODE_ENV!=="production"&&ts){const S=window.performance.now(),w=t.__v_emitter;w&&x&&p&&w.emit("message-resolve",{type:"message-resolve",key:e,message:p,time:S-x,groupId:`${y}:${e}`}),C&&k&&fi&&Mo&&(fi(k),Mo("intlify message resolve",C,k))}if(Xe(p)||Ua(p)||Si(p))break;if(!Lj(h,f)){const S=I1(t,e,h,s,y);S!==e&&(p=S)}m=b}return[p,h,c]}function Wx(t,e,r,n,i,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Si(n)){const h=n;return h.locale=h.locale||r,h.key=h.key||e,h}if(a==null){const h=()=>n;return h.locale=r,h.key=e,h}let l=null,d,f;process.env.NODE_ENV!=="production"&&ts&&(l=window.performance.now(),d="intlify-message-compilation-start",f="intlify-message-compilation-end",fi&&fi(d));const c=a(n,jj(t,r,i,n,o,s));if(process.env.NODE_ENV!=="production"&&ts){const h=window.performance.now(),p=t.__v_emitter;p&&l&&p.emit("message-compilation",{type:"message-compilation",message:n,time:h-l,groupId:`translate:${e}`}),d&&f&&fi&&Mo&&(fi(f),Mo("intlify message compilation",d,f))}return c.locale=r,c.key=e,c.source=n,c}function $j(t,e,r){let n=null,i,s;process.env.NODE_ENV!=="production"&&ts&&(n=window.performance.now(),i="intlify-message-evaluation-start",s="intlify-message-evaluation-end",fi&&fi(i));const a=e(r);if(process.env.NODE_ENV!=="production"&&ts){const o=window.performance.now(),l=t.__v_emitter;l&&n&&l.emit("message-evaluation",{type:"message-evaluation",value:a,time:o-n,groupId:`translate:${e.key}`}),i&&s&&fi&&Mo&&(fi(s),Mo("intlify message evaluation",i,s))}return a}function M1(...t){const[e,r,n]=t,i={};if(!Xe(e)&&!Yr(e)&&!Si(e)&&!Ua(e))throw ws(tn.INVALID_ARGUMENT);const s=Yr(e)?String(e):(Si(e),e);return Yr(r)?i.plural=r:Xe(r)?i.default=r:Et(r)&&!Xh(r)?i.named=r:lr(r)&&(i.list=r),Yr(n)?i.plural=n:Xe(n)?i.default=n:Et(n)&&un(i,n),[s,i]}function jj(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:a=>{if(s&&s(a),process.env.NODE_ENV!=="production"){const o=Hj(n),l=`Message compilation error: ${a.message}`,d=a.location&&o&&T$(o,a.location.start.offset,a.location.end.offset),f=t.__v_emitter;f&&o&&f.emit("compile-error",{message:o,error:a.message,start:a.location&&a.location.start.offset,end:a.location&&a.location.end.offset,groupId:`translate:${r}`}),console.error(d?`${l}
${d}`:l)}else throw a},onCacheKey:a=>p$(e,r,a)}}function Hj(t){if(Xe(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function zj(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:d,fallbackContext:f}=t,h={locale:e,modifiers:i,pluralRules:s,messages:p=>{let m=a(r,p);if(m==null&&f){const[,,b]=qx(f,p,e,o,l,d);m=a(b,p)}if(Xe(m)||Ua(m)){let b=!1;const _=Wx(t,p,e,m,p,()=>{b=!0});return b?zx:_}else return Si(m)?m:zx}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Yr(n.plural)&&(h.pluralIndex=n.plural),h}const Gx=typeof Intl<"u",Yx={dateTimeFormat:Gx&&typeof Intl.DateTimeFormat<"u",numberFormat:Gx&&typeof Intl.NumberFormat<"u"};function Qx(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t;if(process.env.NODE_ENV!=="production"&&!Yx.dateTimeFormat)return s(Lo(Dn.CANNOT_FORMAT_DATE)),sp;const[l,d,f,c]=O1(...e),h=Dt(f.missingWarn)?f.missingWarn:t.missingWarn,p=Dt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,b=S1(t,f),y=a(t,i,b);if(!Xe(l)||l==="")return new Intl.DateTimeFormat(b,c).format(d);let _={},x,C=null,k=b,S=null;const w="datetime format";for(let I=0;I<y.length;I++){if(x=S=y[I],process.env.NODE_ENV!=="production"&&b!==x&&ap(p,l)&&s(Lo(Dn.FALLBACK_TO_DATE_FORMAT,{key:l,target:x})),process.env.NODE_ENV!=="production"&&b!==x){const P=t.__v_emitter;P&&P.emit("fallback",{type:w,key:l,from:k,to:S,groupId:`${w}:${l}`})}if(_=r[x]||{},C=_[l],Et(C))break;I1(t,l,x,h,w),k=S}if(!Et(C)||!Xe(x))return n?ip:l;let L=`${x}__${l}`;Xh(c)||(L=`${L}__${JSON.stringify(c)}`);let D=o.get(L);return D||(D=new Intl.DateTimeFormat(x,un({},C,c)),o.set(L,D)),m?D.formatToParts(d):D.format(d)}const Kx=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function O1(...t){const[e,r,n,i]=t,s={};let a={},o;if(Xe(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw ws(tn.INVALID_ISO_DATE_ARGUMENT);const d=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(d);try{o.toISOString()}catch{throw ws(tn.INVALID_ISO_DATE_ARGUMENT)}}else if(g$(e)){if(isNaN(e.getTime()))throw ws(tn.INVALID_DATE_ARGUMENT);o=e}else if(Yr(e))o=e;else throw ws(tn.INVALID_ARGUMENT);return Xe(r)?s.key=r:Et(r)&&Object.keys(r).forEach(l=>{Kx.includes(l)?a[l]=r[l]:s[l]=r[l]}),Xe(n)?s.locale=n:Et(n)&&(a=n),Et(i)&&(a=i),[s.key||"",o,s,a]}function Xx(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function Zx(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t;if(process.env.NODE_ENV!=="production"&&!Yx.numberFormat)return s(Lo(Dn.CANNOT_FORMAT_NUMBER)),sp;const[l,d,f,c]=L1(...e),h=Dt(f.missingWarn)?f.missingWarn:t.missingWarn,p=Dt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,b=S1(t,f),y=a(t,i,b);if(!Xe(l)||l==="")return new Intl.NumberFormat(b,c).format(d);let _={},x,C=null,k=b,S=null;const w="number format";for(let I=0;I<y.length;I++){if(x=S=y[I],process.env.NODE_ENV!=="production"&&b!==x&&ap(p,l)&&s(Lo(Dn.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:x})),process.env.NODE_ENV!=="production"&&b!==x){const P=t.__v_emitter;P&&P.emit("fallback",{type:w,key:l,from:k,to:S,groupId:`${w}:${l}`})}if(_=r[x]||{},C=_[l],Et(C))break;I1(t,l,x,h,w),k=S}if(!Et(C)||!Xe(x))return n?ip:l;let L=`${x}__${l}`;Xh(c)||(L=`${L}__${JSON.stringify(c)}`);let D=o.get(L);return D||(D=new Intl.NumberFormat(x,un({},C,c)),o.set(L,D)),m?D.formatToParts(d):D.format(d)}const Jx=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function L1(...t){const[e,r,n,i]=t,s={};let a={};if(!Yr(e))throw ws(tn.INVALID_ARGUMENT);const o=e;return Xe(r)?s.key=r:Et(r)&&Object.keys(r).forEach(l=>{Jx.includes(l)?a[l]=r[l]:s[l]=r[l]}),Xe(n)?s.locale=n:Et(n)&&(a=n),Et(i)&&(a=i),[s.key||"",o,s,a]}function e3(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}ej();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Vj="9.13.1";function qj(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(na().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(na().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(na().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(na().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(na().__INTLIFY_PROD_DEVTOOLS__=!1)}const t3=Dn.__EXTEND_POINT__,sa=Jh(t3),br={FALLBACK_TO_ROOT:t3,NOT_SUPPORTED_PRESERVE:sa(),NOT_SUPPORTED_FORMATTER:sa(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:sa(),NOT_SUPPORTED_GET_CHOICE_INDEX:sa(),COMPONENT_NAME_LEGACY_COMPATIBLE:sa(),NOT_FOUND_PARENT_SCOPE:sa(),IGNORE_OBJ_FLATTEN:sa(),NOTICE_DROP_ALLOW_COMPOSITION:sa(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:sa()},Wj={[br.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[br.NOT_SUPPORTED_PRESERVE]:"Not supported 'preserve'.",[br.NOT_SUPPORTED_FORMATTER]:"Not supported 'formatter'.",[br.NOT_SUPPORTED_PRESERVE_DIRECTIVE]:"Not supported 'preserveDirectiveContent'.",[br.NOT_SUPPORTED_GET_CHOICE_INDEX]:"Not supported 'getChoiceIndex'.",[br.COMPONENT_NAME_LEGACY_COMPATIBLE]:"Component name legacy compatible: '{name}' -> 'i18n'",[br.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[br.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[br.NOTICE_DROP_ALLOW_COMPOSITION]:"'allowComposition' option will be dropped in the next major version. For more information, please see  https://tinyurl.com/2p97mcze",[br.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG]:"'translateExistCompatible' option will be dropped in the next major version."};function Yn(t,...e){return x1(Wj[t],...e)}const r3=tn.__EXTEND_POINT__,Qn=Jh(r3),Ut={UNEXPECTED_RETURN_TYPE:r3,INVALID_ARGUMENT:Qn(),MUST_BE_CALL_SETUP_TOP:Qn(),NOT_INSTALLED:Qn(),NOT_AVAILABLE_IN_LEGACY_MODE:Qn(),REQUIRED_VALUE:Qn(),INVALID_VALUE:Qn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Qn(),NOT_INSTALLED_WITH_PROVIDE:Qn(),UNEXPECTED_ERROR:Qn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Qn(),BRIDGE_SUPPORT_VUE_2_ONLY:Qn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Qn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Qn(),__EXTEND_POINT__:Qn()};function Kr(t,...e){return Kl(t,null,process.env.NODE_ENV!=="production"?{messages:Gj,args:e}:void 0)}const Gj={[Ut.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Ut.INVALID_ARGUMENT]:"Invalid argument",[Ut.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Ut.NOT_INSTALLED]:"Need to install with `app.use` function",[Ut.UNEXPECTED_ERROR]:"Unexpected error",[Ut.NOT_AVAILABLE_IN_LEGACY_MODE]:"Not available in legacy mode",[Ut.REQUIRED_VALUE]:"Required in value: {0}",[Ut.INVALID_VALUE]:"Invalid value",[Ut.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Ut.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Ut.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Ut.BRIDGE_SUPPORT_VUE_2_ONLY]:"vue-i18n-bridge support Vue 2.x only",[Ut.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]:"Must define i18n option or custom block in Composition API with using local scope in Legacy API mode",[Ut.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},R1=Cs("__translateVNode"),B1=Cs("__datetimeParts"),P1=Cs("__numberParts"),Bo=Cs("__enableEmitter"),pd=Cs("__disableEmitter"),n3=Cs("__setPluralRules"),i3=Cs("__injectWithOption"),F1=Cs("__dispose");function md(t){if(!jt(t))return t;for(const e in t)if(Zh(t,e))if(!e.includes("."))jt(t[e])&&md(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let a=0;a<n;a++){if(r[a]in i||(i[r[a]]={}),!jt(i[r[a]])){process.env.NODE_ENV!=="production"&&Qr(Yn(br.IGNORE_OBJ_FLATTEN,{key:r[a]})),s=!0;break}i=i[r[a]]}s||(i[r[n]]=t[e],delete t[e]),jt(i[r[n]])&&md(i[r[n]])}return t}function op(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,a=Et(r)?r:lr(n)?{}:{[t]:{}};if(lr(n)&&n.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:d}=o;l?(a[l]=a[l]||{},tp(d,a[l])):tp(d,a)}else Xe(o)&&tp(JSON.parse(o),a)}),i==null&&s)for(const o in a)Zh(a,o)&&md(a[o]);return a}function s3(t){return t.type}function a3(t,e,r){let n=jt(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=op(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(jt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(jt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function o3(t){return u.createVNode(u.Text,null,t,0)}const l3="__INTLIFY_META__",u3=()=>[],Yj=()=>!1;let c3=0;function d3(t){return(e,r,n,i)=>t(r,n,u.getCurrentInstance()||void 0,i)}const Qj=()=>{const t=u.getCurrentInstance();let e=null;return t&&(e=s3(t)[l3])?{[l3]:e}:null};function U1(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,a=ts?u.ref:u.shallowRef,o=!!t.translateExistCompatible;process.env.NODE_ENV!=="production"&&o&&fx(Yn(br.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG));let l=Dt(t.inheritLocale)?t.inheritLocale:!0;const d=a(r&&l?r.locale.value:Xe(t.locale)?t.locale:Jl),f=a(r&&l?r.fallbackLocale.value:Xe(t.fallbackLocale)||lr(t.fallbackLocale)||Et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),c=a(op(d.value,t)),h=a(Et(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),p=a(Et(t.numberFormats)?t.numberFormats:{[d.value]:{}});let m=r?r.missingWarn:Dt(t.missingWarn)||Ba(t.missingWarn)?t.missingWarn:!0,b=r?r.fallbackWarn:Dt(t.fallbackWarn)||Ba(t.fallbackWarn)?t.fallbackWarn:!0,y=r?r.fallbackRoot:Dt(t.fallbackRoot)?t.fallbackRoot:!0,_=!!t.fallbackFormat,x=sr(t.missing)?t.missing:null,C=sr(t.missing)?d3(t.missing):null,k=sr(t.postTranslation)?t.postTranslation:null,S=r?r.warnHtmlMessage:Dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter;const L=r?r.modifiers:Et(t.modifiers)?t.modifiers:{};let D=t.pluralRules||r&&r.pluralRules,I;I=(()=>{i&&Lx(null);const _e={version:Vj,locale:d.value,fallbackLocale:f.value,messages:c.value,modifiers:L,pluralRules:D,missing:C===null?void 0:C,missingWarn:m,fallbackWarn:b,fallbackFormat:_,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:S,escapeParameter:w,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};_e.datetimeFormats=h.value,_e.numberFormats=p.value,_e.__datetimeFormatters=Et(I)?I.__datetimeFormatters:void 0,_e.__numberFormatters=Et(I)?I.__numberFormatters:void 0,process.env.NODE_ENV!=="production"&&(_e.__v_emitter=Et(I)?I.__v_emitter:void 0);const Oe=Oj(_e);return i&&Lx(Oe),Oe})(),hd(I,d.value,f.value);function z(){return[d.value,f.value,c.value,h.value,p.value]}const U=u.computed({get:()=>d.value,set:_e=>{d.value=_e,I.locale=d.value}}),$=u.computed({get:()=>f.value,set:_e=>{f.value=_e,I.fallbackLocale=f.value,hd(I,d.value,_e)}}),H=u.computed(()=>c.value),Y=u.computed(()=>h.value),F=u.computed(()=>p.value);function j(){return sr(k)?k:null}function se(_e){k=_e,I.postTranslation=_e}function W(){return x}function R(_e){_e!==null&&(C=d3(_e)),x=_e,I.missing=C}function N(_e,Oe){return _e!=="translate"||!Oe.resolvedMessage}const V=(_e,Oe,nt,bt,Nt,st)=>{z();let Zt;try{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(I.fallbackContext=r?Mj():void 0),Zt=_e(I)}finally{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(I.fallbackContext=void 0)}if(nt!=="translate exists"&&Yr(Zt)&&Zt===ip||nt==="translate exists"&&!Zt){const[Ot,wr]=Oe();if(process.env.NODE_ENV!=="production"&&r&&Xe(Ot)&&N(nt,wr)&&(y&&(ap(b,Ot)||Bx(m,Ot))&&Qr(Yn(br.FALLBACK_TO_ROOT,{key:Ot,type:nt})),process.env.NODE_ENV!=="production")){const{__v_emitter:Nr}=I;Nr&&y&&Nr.emit("fallback",{type:nt,key:Ot,to:"global",groupId:`${nt}:${Ot}`})}return r&&y?bt(r):Nt(Ot)}else{if(st(Zt))return Zt;throw Kr(Ut.UNEXPECTED_RETURN_TYPE)}};function Z(..._e){return V(Oe=>Reflect.apply(Vx,null,[Oe,..._e]),()=>M1(..._e),"translate",Oe=>Reflect.apply(Oe.t,Oe,[..._e]),Oe=>Oe,Oe=>Xe(Oe))}function X(..._e){const[Oe,nt,bt]=_e;if(bt&&!jt(bt))throw Kr(Ut.INVALID_ARGUMENT);return Z(Oe,nt,un({resolvedMessage:!0},bt||{}))}function K(..._e){return V(Oe=>Reflect.apply(Qx,null,[Oe,..._e]),()=>O1(..._e),"datetime format",Oe=>Reflect.apply(Oe.d,Oe,[..._e]),()=>sp,Oe=>Xe(Oe))}function de(..._e){return V(Oe=>Reflect.apply(Zx,null,[Oe,..._e]),()=>L1(..._e),"number format",Oe=>Reflect.apply(Oe.n,Oe,[..._e]),()=>sp,Oe=>Xe(Oe))}function le(_e){return _e.map(Oe=>Xe(Oe)||Yr(Oe)||Dt(Oe)?o3(String(Oe)):Oe)}const ge={normalize:le,interpolate:_e=>_e,type:"vnode"};function me(..._e){return V(Oe=>{let nt;const bt=Oe;try{bt.processor=ge,nt=Reflect.apply(Vx,null,[bt,..._e])}finally{bt.processor=null}return nt},()=>M1(..._e),"translate",Oe=>Oe[R1](..._e),Oe=>[o3(Oe)],Oe=>lr(Oe))}function Ce(..._e){return V(Oe=>Reflect.apply(Zx,null,[Oe,..._e]),()=>L1(..._e),"number format",Oe=>Oe[P1](..._e),u3,Oe=>Xe(Oe)||lr(Oe))}function Ne(..._e){return V(Oe=>Reflect.apply(Qx,null,[Oe,..._e]),()=>O1(..._e),"datetime format",Oe=>Oe[B1](..._e),u3,Oe=>Xe(Oe)||lr(Oe))}function Fe(_e){D=_e,I.pluralRules=D}function he(_e,Oe){return V(()=>{if(!_e)return!1;const nt=Xe(Oe)?Oe:d.value,bt=be(nt),Nt=I.messageResolver(bt,_e);return o?Nt!=null:Ua(Nt)||Si(Nt)||Xe(Nt)},()=>[_e],"translate exists",nt=>Reflect.apply(nt.te,nt,[_e,Oe]),Yj,nt=>Dt(nt))}function Re(_e){let Oe=null;const nt=Cx(I,f.value,d.value);for(let bt=0;bt<nt.length;bt++){const Nt=c.value[nt[bt]]||{},st=I.messageResolver(Nt,_e);if(st!=null){Oe=st;break}}return Oe}function rt(_e){const Oe=Re(_e);return Oe??(r?r.tm(_e)||{}:{})}function be(_e){return c.value[_e]||{}}function Le(_e,Oe){if(s){const nt={[_e]:Oe};for(const bt in nt)Zh(nt,bt)&&md(nt[bt]);Oe=nt[_e]}c.value[_e]=Oe,I.messages=c.value}function xe(_e,Oe){c.value[_e]=c.value[_e]||{};const nt={[_e]:Oe};if(s)for(const bt in nt)Zh(nt,bt)&&md(nt[bt]);Oe=nt[_e],tp(Oe,c.value[_e]),I.messages=c.value}function B(_e){return h.value[_e]||{}}function q(_e,Oe){h.value[_e]=Oe,I.datetimeFormats=h.value,Xx(I,_e,Oe)}function ue(_e,Oe){h.value[_e]=un(h.value[_e]||{},Oe),I.datetimeFormats=h.value,Xx(I,_e,Oe)}function ye(_e){return p.value[_e]||{}}function Pe(_e,Oe){p.value[_e]=Oe,I.numberFormats=p.value,e3(I,_e,Oe)}function $e(_e,Oe){p.value[_e]=un(p.value[_e]||{},Oe),I.numberFormats=p.value,e3(I,_e,Oe)}c3++,r&&ts&&(u.watch(r.locale,_e=>{l&&(d.value=_e,I.locale=_e,hd(I,d.value,f.value))}),u.watch(r.fallbackLocale,_e=>{l&&(f.value=_e,I.fallbackLocale=_e,hd(I,d.value,f.value))}));const ze={id:c3,locale:U,fallbackLocale:$,get inheritLocale(){return l},set inheritLocale(_e){l=_e,_e&&r&&(d.value=r.locale.value,f.value=r.fallbackLocale.value,hd(I,d.value,f.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:H,get modifiers(){return L},get pluralRules(){return D||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(_e){m=_e,I.missingWarn=m},get fallbackWarn(){return b},set fallbackWarn(_e){b=_e,I.fallbackWarn=b},get fallbackRoot(){return y},set fallbackRoot(_e){y=_e},get fallbackFormat(){return _},set fallbackFormat(_e){_=_e,I.fallbackFormat=_},get warnHtmlMessage(){return S},set warnHtmlMessage(_e){S=_e,I.warnHtmlMessage=_e},get escapeParameter(){return w},set escapeParameter(_e){w=_e,I.escapeParameter=_e},t:Z,getLocaleMessage:be,setLocaleMessage:Le,mergeLocaleMessage:xe,getPostTranslationHandler:j,setPostTranslationHandler:se,getMissingHandler:W,setMissingHandler:R,[n3]:Fe};return ze.datetimeFormats=Y,ze.numberFormats=F,ze.rt=X,ze.te=he,ze.tm=rt,ze.d=K,ze.n=de,ze.getDateTimeFormat=B,ze.setDateTimeFormat=q,ze.mergeDateTimeFormat=ue,ze.getNumberFormat=ye,ze.setNumberFormat=Pe,ze.mergeNumberFormat=$e,ze[i3]=n,ze[R1]=me,ze[B1]=Ne,ze[P1]=Ce,process.env.NODE_ENV!=="production"&&(ze[Bo]=_e=>{I.__v_emitter=_e},ze[pd]=()=>{I.__v_emitter=void 0}),ze}function Kj(t){const e=Xe(t.locale)?t.locale:Jl,r=Xe(t.fallbackLocale)||lr(t.fallbackLocale)||Et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=sr(t.missing)?t.missing:void 0,i=Dt(t.silentTranslationWarn)||Ba(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=Dt(t.silentFallbackWarn)||Ba(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=Dt(t.fallbackRoot)?t.fallbackRoot:!0,o=!!t.formatFallbackMessages,l=Et(t.modifiers)?t.modifiers:{},d=t.pluralizationRules,f=sr(t.postTranslation)?t.postTranslation:void 0,c=Xe(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,p=Dt(t.sync)?t.sync:!0;process.env.NODE_ENV!=="production"&&t.formatter&&Qr(Yn(br.NOT_SUPPORTED_FORMATTER)),process.env.NODE_ENV!=="production"&&t.preserveDirectiveContent&&Qr(Yn(br.NOT_SUPPORTED_PRESERVE_DIRECTIVE));let m=t.messages;if(Et(t.sharedMessages)){const w=t.sharedMessages;m=Object.keys(w).reduce((D,I)=>{const P=D[I]||(D[I]={});return un(P,w[I]),D},m||{})}const{__i18n:b,__root:y,__injectWithOption:_}=t,x=t.datetimeFormats,C=t.numberFormats,k=t.flatJson,S=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:k,datetimeFormats:x,numberFormats:C,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:a,fallbackFormat:o,modifiers:l,pluralRules:d,postTranslation:f,warnHtmlMessage:c,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:S,__i18n:b,__root:y,__injectWithOption:_}}function $1(t={},e){{const r=U1(Kj(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return process.env.NODE_ENV!=="production"&&Qr(Yn(br.NOT_SUPPORTED_FORMATTER)),{interpolate(){return[]}}},set formatter(s){process.env.NODE_ENV!=="production"&&Qr(Yn(br.NOT_SUPPORTED_FORMATTER))},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return Dt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=Dt(s)?!s:s},get silentFallbackWarn(){return Dt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=Dt(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return process.env.NODE_ENV!=="production"&&Qr(Yn(br.NOT_SUPPORTED_PRESERVE_DIRECTIVE)),!0},set preserveDirectiveContent(s){process.env.NODE_ENV!=="production"&&Qr(Yn(br.NOT_SUPPORTED_PRESERVE_DIRECTIVE))},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[a,o,l]=s,d={};let f=null,c=null;if(!Xe(a))throw Kr(Ut.INVALID_ARGUMENT);const h=a;return Xe(o)?d.locale=o:lr(o)?f=o:Et(o)&&(c=o),lr(l)?f=l:Et(l)&&(c=l),Reflect.apply(r.t,r,[h,f||c||{},d])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[a,o,l]=s,d={plural:1};let f=null,c=null;if(!Xe(a))throw Kr(Ut.INVALID_ARGUMENT);const h=a;return Xe(o)?d.locale=o:Yr(o)?d.plural=o:lr(o)?f=o:Et(o)&&(c=o),Xe(l)?d.locale=l:lr(l)?f=l:Et(l)&&(c=l),Reflect.apply(r.t,r,[h,f||c||{},d])},te(s,a){return r.te(s,a)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,a){r.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){r.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,a){r.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){r.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,a){r.setNumberFormat(s,a)},mergeNumberFormat(s,a){r.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return process.env.NODE_ENV!=="production"&&Qr(Yn(br.NOT_SUPPORTED_GET_CHOICE_INDEX)),-1}};return i.__extender=n,process.env.NODE_ENV!=="production"&&(i.__enableEmitter=s=>{const a=r;a[Bo]&&a[Bo](s)},i.__disableEmitter=()=>{const s=r;s[pd]&&s[pd]()}),i}}const j1={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Xj({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===u.Fragment?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},{})}function f3(t){return u.Fragment}const H1=u.defineComponent({name:"i18n-t",props:un({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Yr(t)||!isNaN(t)}},j1),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||Ss({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(c=>c!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Xe(t.plural)?+t.plural:t.plural);const o=Xj(e,s),l=i[R1](t.keypath,o,a),d=un({},n),f=Xe(t.tag)||jt(t.tag)?t.tag:f3();return u.h(f,d,l)}}});function Zj(t){return lr(t)&&!Xe(t[0])}function h3(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),Xe(t.format)?a.key=t.format:jt(t.format)&&(Xe(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((h,p)=>r.includes(p)?un({},h,{[p]:t.format[p]}):h,{}));const l=n(t.value,a,o);let d=[a.key];lr(l)?d=l.map((h,p)=>{const m=i[h.type],b=m?m({[h.type]:h.value,index:p,parts:l}):[h.value];return Zj(b)&&(b[0].key=`${h.type}-${p}`),b}):Xe(l)&&(d=[l]);const f=un({},s),c=Xe(t.tag)||jt(t.tag)?t.tag:f3();return u.h(c,f,d)}}const p3=u.defineComponent({name:"i18n-n",props:un({value:{type:Number,required:!0},format:{type:[String,Object]}},j1),setup(t,e){const r=t.i18n||Ss({useScope:t.scope,__useComponent:!0});return h3(t,e,Jx,(...n)=>r[P1](...n))}}),m3=u.defineComponent({name:"i18n-d",props:un({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},j1),setup(t,e){const r=t.i18n||Ss({useScope:t.scope,__useComponent:!0});return h3(t,e,Kx,(...n)=>r[B1](...n))}});function Jj(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function eH(t){const e=a=>{const{instance:o,modifiers:l,value:d}=a;if(!o||!o.$)throw Kr(Ut.UNEXPECTED_ERROR);const f=Jj(t,o.$);process.env.NODE_ENV!=="production"&&l.preserve&&Qr(Yn(br.NOT_SUPPORTED_PRESERVE));const c=g3(d);return[Reflect.apply(f.t,f,[...b3(c)]),f]};return{created:(a,o)=>{const[l,d]=e(o);ts&&t.global===d&&(a.__i18nWatcher=u.watch(d.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=d,a.textContent=l},unmounted:a=>{ts&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,d=g3(o);a.textContent=Reflect.apply(l.t,l,[...b3(d)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function g3(t){if(Xe(t))return{path:t};if(Et(t)){if(!("path"in t))throw Kr(Ut.REQUIRED_VALUE,"path");return t}else throw Kr(Ut.INVALID_VALUE)}function b3(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,a={},o=n||{};return Xe(r)&&(a.locale=r),Yr(i)&&(a.plural=i),Yr(s)&&(a.plural=s),[e,o,a]}function tH(t,e,...r){const n=Et(r[0])?r[0]:{},i=!!n.useI18nComponentName,s=Dt(n.globalInstall)?n.globalInstall:!0;process.env.NODE_ENV!=="production"&&s&&i&&Qr(Yn(br.COMPONENT_NAME_LEGACY_COMPATIBLE,{name:H1.name})),s&&([i?"i18n":H1.name,"I18nT"].forEach(a=>t.component(a,H1)),[p3.name,"I18nN"].forEach(a=>t.component(a,p3)),[m3.name,"I18nD"].forEach(a=>t.component(a,m3))),t.directive("t",eH(e))}const z1={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},rH={"vue-i18n-resource-inspector":"Search for scopes ..."},nH={"vue-i18n-timeline":16764185},y3="vue-i18n: composer properties";let V1;async function iH(t,e){return new Promise((r,n)=>{try{PT({id:"vue-devtools-plugin-vue-i18n",label:z1["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[y3],app:t},i=>{V1=i,i.on.visitComponentTree(({componentInstance:a,treeNode:o})=>{sH(a,o,e)}),i.on.inspectComponent(({componentInstance:a,instanceData:o})=>{a.vnode.el&&a.vnode.el.__VUE_I18N__&&o&&(e.mode==="legacy"?a.vnode.el.__VUE_I18N__!==e.global.__composer&&v3(o,a.vnode.el.__VUE_I18N__):v3(o,a.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:z1["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:rH["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(a=>{a.app===t&&a.inspectorId==="vue-i18n-resource-inspector"&&cH(a,e)});const s=new Map;i.on.getInspectorState(async a=>{if(a.app===t&&a.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),fH(a,e),a.nodeId==="global"){if(!s.has(a.app)){const[o]=await i.getComponentInstances(a.app);s.set(a.app,o)}i.highlightElement(s.get(a.app))}else{const o=dH(a.nodeId,e);o&&i.highlightElement(o)}}),i.on.editInspectorState(a=>{a.app===t&&a.inspectorId==="vue-i18n-resource-inspector"&&pH(a,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:z1["vue-i18n-timeline"],color:nH["vue-i18n-timeline"]}),r(!0)})}catch(i){console.error(i),n(!1)}})}function _3(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function sH(t,e,r){const n=r.mode==="composition"?r.global:r.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==n){const i={label:`i18n (${_3(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function v3(t,e){const r=y3;t.state.push({type:r,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:r,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:r,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:r,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:r,key:"messages",editable:!1,value:q1(e.messages.value)}),t.state.push({type:r,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:r,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function q1(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];sr(n)&&"source"in n?e[r]=uH(n):Ua(n)&&n.loc&&n.loc.source?e[r]=n.loc.source:jt(n)?e[r]=q1(n):e[r]=n}),e}const aH={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function oH(t){return t.replace(/[<>"&]/g,lH)}function lH(t){return aH[t]||t}function uH(t){return{_custom:{type:"function",display:`<span></span> ${t.source?`("${oH(t.source)}")`:"(?)"}`}}}function cH(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const r=e.mode==="composition"?e.global:e.global.__composer;for(const[n,i]of e.__instances){const s=e.mode==="composition"?i:i.__composer;r!==s&&t.rootNodes.push({id:s.id.toString(),label:`${_3(n)} Scope`})}}function dH(t,e){let r=null;if(t!=="global"){for(const[n,i]of e.__instances.entries())if(i.id.toString()===t){r=n;break}}return r}function T3(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const r=Array.from(e.__instances.values()).find(n=>n.id.toString()===t);return r?e.mode==="composition"?r:r.__composer:null}}function fH(t,e){const r=T3(t.nodeId,e);return r&&(t.state=hH(r)),null}function hH(t){const e={},r="Locale related info",n=[{type:r,key:"locale",editable:!0,value:t.locale.value},{type:r,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:r,key:"availableLocales",editable:!1,value:t.availableLocales},{type:r,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[r]=n;const i="Locale messages info",s=[{type:i,key:"messages",editable:!1,value:q1(t.messages.value)}];e[i]=s;{const a="Datetime formats info",o=[{type:a,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[a]=o;const l="Datetime formats info",d=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=d}return e}function gd(t,e){if(V1){let r;e&&"groupId"in e&&(r=e.groupId,delete e.groupId),V1.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:r,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function pH(t,e){const r=T3(t.nodeId,e);if(r){const[n]=t.path;n==="locale"&&Xe(t.state.value)?r.locale.value=t.state.value:n==="fallbackLocale"&&(Xe(t.state.value)||lr(t.state.value)||jt(t.state.value))?r.fallbackLocale.value=t.state.value:n==="inheritLocale"&&Dt(t.state.value)&&(r.inheritLocale=t.state.value)}}function mH(t,e,r){return{beforeCreate(){const n=u.getCurrentInstance();if(!n)throw Kr(Ut.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=E3(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=$1(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=E3(t,i);else{this.$i18n=$1({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&a3(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){if(process.env.NODE_ENV!=="production"&&this.$el&&this.$i18n){const n=this.$i18n;this.$el.__VUE_I18N__=n.__composer;const i=this.__v_emitter=C1();n.__enableEmitter&&n.__enableEmitter(i),i.on("*",gd)}},unmounted(){const n=u.getCurrentInstance();if(!n)throw Kr(Ut.UNEXPECTED_ERROR);const i=this.$i18n;process.env.NODE_ENV!=="production"&&this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",gd),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function E3(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[n3](e.pluralizationRules||t.pluralizationRules);const r=op(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const gH=Cs("global-vue-i18n");function bH(t={},e){const r=__VUE_I18N_LEGACY_API__&&Dt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=Dt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[a,o]=yH(t,r),l=Cs(process.env.NODE_ENV!=="production"?"vue-i18n":"");process.env.NODE_ENV!=="production"&&r&&i&&Qr(Yn(br.NOTICE_DROP_ALLOW_COMPOSITION));function d(h){return s.get(h)||null}function f(h,p){s.set(h,p)}function c(h){s.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(p,...m){if(process.env.NODE_ENV!=="production"&&(p.__VUE_I18N__=h),p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,h),Et(m[0])){const _=m[0];h.__composerExtend=_.__composerExtend,h.__vueI18nExtend=_.__vueI18nExtend}let b=null;!r&&n&&(b=SH(p,h.global)),__VUE_I18N_FULL_INSTALL__&&tH(p,h,...m),__VUE_I18N_LEGACY_API__&&r&&p.mixin(mH(o,o.__composer,h));const y=p.unmount;if(p.unmount=()=>{b&&b(),h.dispose(),y()},process.env.NODE_ENV!=="production"){if(!await iH(p,h))throw Kr(Ut.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const x=C1();if(r){const C=o;C.__enableEmitter&&C.__enableEmitter(x)}else{const C=o;C[Bo]&&C[Bo](x)}x.on("*",gd)}},get global(){return o},dispose(){a.stop()},__instances:s,__getInstance:d,__setInstance:f,__deleteInstance:c};return h}}function Ss(t={}){const e=u.getCurrentInstance();if(e==null)throw Kr(Ut.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Kr(Ut.NOT_INSTALLED);const r=_H(e),n=TH(r),i=s3(e),s=vH(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Kr(Ut.NOT_AVAILABLE_IN_LEGACY_MODE);return CH(e,s,n,t)}if(s==="global")return a3(n,t,i),n;if(s==="parent"){let l=EH(r,e,t.__useComponent);return l==null&&(process.env.NODE_ENV!=="production"&&Qr(Yn(br.NOT_FOUND_PARENT_SCOPE)),l=n),l}const a=r;let o=a.__getInstance(e);if(o==null){const l=un({},t);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),o=U1(l),a.__composerExtend&&(o[F1]=a.__composerExtend(o)),xH(a,e,o),a.__setInstance(e,o)}return o}function yH(t,e,r){const n=u.effectScope();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>$1(t)):n.run(()=>U1(t));if(i==null)throw Kr(Ut.UNEXPECTED_ERROR);return[n,i]}}function _H(t){{const e=u.inject(t.isCE?gH:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Kr(t.isCE?Ut.NOT_INSTALLED_WITH_PROVIDE:Ut.UNEXPECTED_ERROR);return e}}function vH(t,e){return Xh(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function TH(t){return t.mode==="composition"?t.global:t.global.__composer}function EH(t,e,r=!1){let n=null;const i=e.root;let s=AH(e,r);for(;s!=null;){const a=t;if(t.mode==="composition")n=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const o=a.__getInstance(s);o!=null&&(n=o.__composer,r&&n&&!n[i3]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function AH(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function xH(t,e,r){let n=null;u.onMounted(()=>{if(process.env.NODE_ENV!=="production"&&e.vnode.el){e.vnode.el.__VUE_I18N__=r,n=C1();const i=r;i[Bo]&&i[Bo](n),n.on("*",gd)}},e),u.onUnmounted(()=>{const i=r;process.env.NODE_ENV!=="production"&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&(n&&n.off("*",gd),i[pd]&&i[pd](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const s=i[F1];s&&(s(),delete i[F1])},e)}function CH(t,e,r,n={}){const i=e==="local",s=u.shallowRef(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Kr(Ut.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=Dt(n.inheritLocale)?n.inheritLocale:!Xe(n.locale),o=u.ref(!i||a?r.locale.value:Xe(n.locale)?n.locale:Jl),l=u.ref(!i||a?r.fallbackLocale.value:Xe(n.fallbackLocale)||lr(n.fallbackLocale)||Et(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:o.value),d=u.ref(op(o.value,n)),f=u.ref(Et(n.datetimeFormats)?n.datetimeFormats:{[o.value]:{}}),c=u.ref(Et(n.numberFormats)?n.numberFormats:{[o.value]:{}}),h=i?r.missingWarn:Dt(n.missingWarn)||Ba(n.missingWarn)?n.missingWarn:!0,p=i?r.fallbackWarn:Dt(n.fallbackWarn)||Ba(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:Dt(n.fallbackRoot)?n.fallbackRoot:!0,b=!!n.fallbackFormat,y=sr(n.missing)?n.missing:null,_=sr(n.postTranslation)?n.postTranslation:null,x=i?r.warnHtmlMessage:Dt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,C=!!n.escapeParameter,k=i?r.modifiers:Et(n.modifiers)?n.modifiers:{},S=n.pluralRules||i&&r.pluralRules;function w(){return[o.value,l.value,d.value,f.value,c.value]}const L=u.computed({get:()=>s.value?s.value.locale.value:o.value,set:he=>{s.value&&(s.value.locale.value=he),o.value=he}}),D=u.computed({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:he=>{s.value&&(s.value.fallbackLocale.value=he),l.value=he}}),I=u.computed(()=>s.value?s.value.messages.value:d.value),P=u.computed(()=>f.value),z=u.computed(()=>c.value);function U(){return s.value?s.value.getPostTranslationHandler():_}function $(he){s.value&&s.value.setPostTranslationHandler(he)}function H(){return s.value?s.value.getMissingHandler():y}function Y(he){s.value&&s.value.setMissingHandler(he)}function F(he){return w(),he()}function j(...he){return s.value?F(()=>Reflect.apply(s.value.t,null,[...he])):F(()=>"")}function se(...he){return s.value?Reflect.apply(s.value.rt,null,[...he]):""}function W(...he){return s.value?F(()=>Reflect.apply(s.value.d,null,[...he])):F(()=>"")}function R(...he){return s.value?F(()=>Reflect.apply(s.value.n,null,[...he])):F(()=>"")}function N(he){return s.value?s.value.tm(he):{}}function V(he,Re){return s.value?s.value.te(he,Re):!1}function Z(he){return s.value?s.value.getLocaleMessage(he):{}}function X(he,Re){s.value&&(s.value.setLocaleMessage(he,Re),d.value[he]=Re)}function K(he,Re){s.value&&s.value.mergeLocaleMessage(he,Re)}function de(he){return s.value?s.value.getDateTimeFormat(he):{}}function le(he,Re){s.value&&(s.value.setDateTimeFormat(he,Re),f.value[he]=Re)}function Te(he,Re){s.value&&s.value.mergeDateTimeFormat(he,Re)}function ge(he){return s.value?s.value.getNumberFormat(he):{}}function me(he,Re){s.value&&(s.value.setNumberFormat(he,Re),c.value[he]=Re)}function Ce(he,Re){s.value&&s.value.mergeNumberFormat(he,Re)}const Ne={get id(){return s.value?s.value.id:-1},locale:L,fallbackLocale:D,messages:I,datetimeFormats:P,numberFormats:z,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(he){s.value&&(s.value.inheritLocale=he)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:k},get pluralRules(){return s.value?s.value.pluralRules:S},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:h},set missingWarn(he){s.value&&(s.value.missingWarn=he)},get fallbackWarn(){return s.value?s.value.fallbackWarn:p},set fallbackWarn(he){s.value&&(s.value.missingWarn=he)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(he){s.value&&(s.value.fallbackRoot=he)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat(he){s.value&&(s.value.fallbackFormat=he)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:x},set warnHtmlMessage(he){s.value&&(s.value.warnHtmlMessage=he)},get escapeParameter(){return s.value?s.value.escapeParameter:C},set escapeParameter(he){s.value&&(s.value.escapeParameter=he)},t:j,getPostTranslationHandler:U,setPostTranslationHandler:$,getMissingHandler:H,setMissingHandler:Y,rt:se,d:W,n:R,tm:N,te:V,getLocaleMessage:Z,setLocaleMessage:X,mergeLocaleMessage:K,getDateTimeFormat:de,setDateTimeFormat:le,mergeDateTimeFormat:Te,getNumberFormat:ge,setNumberFormat:me,mergeNumberFormat:Ce};function Fe(he){he.locale.value=o.value,he.fallbackLocale.value=l.value,Object.keys(d.value).forEach(Re=>{he.mergeLocaleMessage(Re,d.value[Re])}),Object.keys(f.value).forEach(Re=>{he.mergeDateTimeFormat(Re,f.value[Re])}),Object.keys(c.value).forEach(Re=>{he.mergeNumberFormat(Re,c.value[Re])}),he.escapeParameter=C,he.fallbackFormat=b,he.fallbackRoot=m,he.fallbackWarn=p,he.missingWarn=h,he.warnHtmlMessage=x}return u.onBeforeMount(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Kr(Ut.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const he=s.value=t.proxy.$i18n.__composer;e==="global"?(o.value=he.locale.value,l.value=he.fallbackLocale.value,d.value=he.messages.value,f.value=he.datetimeFormats.value,c.value=he.numberFormats.value):i&&Fe(he)}),Ne}const wH=["locale","fallbackLocale","availableLocales"],A3=["t","rt","d","n","tm","te"];function SH(t,e){const r=Object.create(null);return wH.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Kr(Ut.UNEXPECTED_ERROR);const a=u.isRef(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,a)}),t.config.globalProperties.$i18n=r,A3.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Kr(Ut.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,A3.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(qj(),__INTLIFY_JIT_COMPILATION__?Ix(Fj):Ix(Pj),kj(lj),Ij(Cx),process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const t=na();t.__INTLIFY__=!0,bj(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}process.env.NODE_ENV;const x3={"en-US":{close:"Close",confirm:"Confirm",folderName:"Folder Name",createFolder:"Create Folder",tag:"Tag",inputTag:"Input Tag",inputTagPlaceholder:"Input Tag Color #02B13F",download:"Download",someoneUnsentMessage:"{0} unsent a message",read:"Read",pin:"Pin",unpin:"Unpin",emptyChat:"Empty Chat",members:"Members",createdAt:"Created At",updatedAt:"Updated At",leaveGroup:"Leave Group",text:"Text",image:"Image",video:"Video",sticker:"Sticker",message:"Message",youSent:"{0} sent",someoneSent:"{0} sent a {1}",tapOpen:"Tap here to open the link.",TypeMessage:"Type a message...",isTyping:"{0} is typing...",someoneJoinedTheChat:"{0} joined the chat",someoneLeftTheChat:"{0} left the chat",someoneInvited:"{0} invited {1}",someoneKicked:"{0} kicked {1}",youUnsentMessage:"You unsent a message",fileSize:"File size",file:"File",translation:"Translation",search:"Search",location:"Location",sendCurrentLocation:"Send Current Location",noAccessLocationPermission:"No access location permission.","locationInfoUnavailable.":"Location information is unavailable.",requestLocationTimeout:"The request to get location timed out.",addressUnavailable:"The address is unavailable.",audio:"Audio Message",noAccessMicrophonePermission:"No access microphone permission.",removeFromFolder:"Remove from folder",editFolder:"Edit Folder",addToFolder:"Add to Folder",numberOfChatroom:"{n} Chatrooms","no-chatroom":"No chatroom",roomName:"Room Name",roomMember:"Member",roomPrefTags:"Tag",roomPrefFolder:"Folder",roomTags:"Attribute",massTexting:"Mass Texting",inputMessage:"Input Message",searchInConversation:"Search in Conversation",yesterday:"Yesterday",today:"Today",confirmToDeleteFolder:"Confirm Delete Folder",hide:"Hide",delete:"Delete",cancel:"Cancel",create:"Create",save:"Save",createTag:"Create Tag",confirmDeleteTag:"Confirm Delete Tag?",editTag:"Edit Tag",chooseColor:"Choose Color",block:"Block",unblock:"Unblock"},"zh-TW":{close:"",confirm:"",folderName:"",createFolder:"",tag:"",inputTag:"",inputTagPlaceholder:" #02B13F",download:"",someoneUnsentMessage:"{0} ",read:"",pin:"",unpin:"",emptyChat:"",members:"",createdAt:"",updatedAt:"",leaveGroup:"",text:"",image:"",video:"",sticker:"",message:"",youSent:"{0}",someoneSent:"{0}{1}",tapOpen:"",TypeMessage:"...",isTyping:"{0} ...",someoneJoinedTheChat:"{0}",someoneLeftTheChat:"{0}",someoneInvited:"{0}{1}",someoneKicked:"{0}{1}",youUnsentMessage:"",fileSize:"",file:"",translation:"",search:"",location:"",sendCurrentLocation:"",noAccessLocationPermission:"","locationInfoUnavailable.":"",requestLocationTimeout:"",addressUnavailable:"",audio:"",noAccessMicrophonePermission:"",removeFromFolder:"",editFolder:"",addToFolder:"",numberOfChatroom:"{n} ","no-chatroom":"",roomName:"",roomMember:"",roomPrefTags:"",roomPrefFolder:"",roomTags:"",massTexting:"",inputMessage:"",searchInConversation:"",yesterday:"",today:"",confirmToDeleteFolder:"",hide:"",delete:"",cancel:"",create:"",save:"",createTag:"",confirmDeleteTag:"?",editTag:"",chooseColor:"",block:"",unblock:""},"ja-JP":{close:"",confirm:"",folderName:"",createFolder:"",tag:"",inputTag:"",inputTagPlaceholder:"#02B13F",download:"",someoneUnsentMessage:"{0}",read:"",pin:"",unpin:"",emptyChat:"",members:"",createdAt:"",updatedAt:"",leaveGroup:"",text:"",image:"",video:"",sticker:"",message:"",youSent:"{0}",someoneSent:"{0}{1}",tapOpen:"",TypeMessage:"...",isTyping:"{0}...",someoneJoinedTheChat:"{0}",someoneLeftTheChat:"{0}",someoneInvited:"{0}{1}",someoneKicked:"{0}{1}",youUnsentMessage:"",fileSize:"",file:"",translation:"",search:"",location:"",sendCurrentLocation:"",noAccessLocationPermission:"","locationInfoUnavailable.":"",requestLocationTimeout:"",addressUnavailable:"",audio:"",noAccessMicrophonePermission:"",removeFromFolder:"",editFolder:"",addToFolder:"",numberOfChatroom:"{n}","no-chatroom":"",roomName:"",roomMember:"",roomPrefTags:"",roomPrefFolder:"",roomTags:"",massTexting:"",inputMessage:"",searchInConversation:"",yesterday:"",today:"",confirmToDeleteFolder:"",hide:"",delete:"",cancel:"",create:"",save:"",createTag:"",confirmDeleteTag:"",editTag:"",chooseColor:"",block:"",unblock:""}},ki=bH({legacy:!1,locale:typeof navigator<"u"&&navigator.language in x3?navigator.language:"en-US",messages:x3});var W1={exports:{}},G1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function r(i){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(i)}function n(i){var s=typeof i=="string"||i instanceof String;if(!s){var a=r(i);throw i===null?a="null":a==="object"&&(a=i.constructor.name),new TypeError("Expected a string but received a ".concat(a))}}t.exports=e.default,t.exports.default=e.default})(G1,G1.exports);var Y1=G1.exports,Q1={exports:{}},K1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var s in i)typeof n[s]>"u"&&(n[s]=i[s]);return n}t.exports=e.default,t.exports.default=e.default})(K1,K1.exports);var C3=K1.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(Y1),n=i(C3);function i(o){return o&&o.__esModule?o:{default:o}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(o,l){(0,r.default)(o),l=(0,n.default)(l,s),l.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),l.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var d=o.split("."),f=d[d.length-1];return l.require_tld&&(d.length<2||!l.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/\s/.test(f))||!l.allow_numeric_tld&&/^\d+$/.test(f)?!1:d.every(function(c){return!(c.length>63&&!l.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(c)||/[\uff01-\uff5e]/.test(c)||/^-|-$/.test(c)||!l.allow_underscores&&/_/.test(c))})}t.exports=e.default,t.exports.default=e.default})(Q1,Q1.exports);var kH=Q1.exports,X1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var r=n(Y1);function n(f){return f&&f.__esModule?f:{default:f}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(i,"[.]){3}").concat(i),a=new RegExp("^".concat(s,"$")),o="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(o,":){7}(?:").concat(o,"|:)|")+"(?:".concat(o,":){6}(?:").concat(s,"|:").concat(o,"|:)|")+"(?:".concat(o,":){5}(?::").concat(s,"|(:").concat(o,"){1,2}|:)|")+"(?:".concat(o,":){4}(?:(:").concat(o,"){0,1}:").concat(s,"|(:").concat(o,"){1,3}|:)|")+"(?:".concat(o,":){3}(?:(:").concat(o,"){0,2}:").concat(s,"|(:").concat(o,"){1,4}|:)|")+"(?:".concat(o,":){2}(?:(:").concat(o,"){0,3}:").concat(s,"|(:").concat(o,"){1,5}|:)|")+"(?:".concat(o,":){1}(?:(:").concat(o,"){0,4}:").concat(s,"|(:").concat(o,"){1,6}|:)|")+"(?::((?::".concat(o,"){0,5}:").concat(s,"|(?::").concat(o,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function d(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,r.default)(f),c=String(c),c?c==="4"?a.test(f):c==="6"?l.test(f):!1:d(f,4)||d(f,6)}t.exports=e.default,t.exports.default=e.default})(X1,X1.exports);var IH=X1.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;var r=a(Y1),n=a(kH),i=a(IH),s=a(C3);function a(x){return x&&x.__esModule?x:{default:x}}function o(x,C){return h(x)||c(x,C)||d(x,C)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(x,C){if(x){if(typeof x=="string")return f(x,C);var k=Object.prototype.toString.call(x).slice(8,-1);if(k==="Object"&&x.constructor&&(k=x.constructor.name),k==="Map"||k==="Set")return Array.from(x);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return f(x,C)}}function f(x,C){(C==null||C>x.length)&&(C=x.length);for(var k=0,S=new Array(C);k<C;k++)S[k]=x[k];return S}function c(x,C){var k=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(k!=null){var S,w,L,D,I=[],P=!0,z=!1;try{if(L=(k=k.call(x)).next,C!==0)for(;!(P=(S=L.call(k)).done)&&(I.push(S.value),I.length!==C);P=!0);}catch(U){z=!0,w=U}finally{try{if(!P&&k.return!=null&&(D=k.return(),Object(D)!==D))return}finally{if(z)throw w}}return I}}function h(x){if(Array.isArray(x))return x}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},m=/^\[([^\]]+)\](?::([0-9]+))?$/;function b(x){return Object.prototype.toString.call(x)==="[object RegExp]"}function y(x,C){for(var k=0;k<C.length;k++){var S=C[k];if(x===S||b(S)&&S.test(x))return!0}return!1}function _(x,C){if((0,r.default)(x),!x||/[\s<>]/.test(x)||x.indexOf("mailto:")===0||(C=(0,s.default)(C,p),C.validate_length&&x.length>=2083)||!C.allow_fragments&&x.includes("#")||!C.allow_query_components&&(x.includes("?")||x.includes("&")))return!1;var k,S,w,L,D,I,P,z;if(P=x.split("#"),x=P.shift(),P=x.split("?"),x=P.shift(),P=x.split("://"),P.length>1){if(k=P.shift().toLowerCase(),C.require_valid_protocol&&C.protocols.indexOf(k)===-1)return!1}else{if(C.require_protocol)return!1;if(x.slice(0,2)==="//"){if(!C.allow_protocol_relative_urls)return!1;P[0]=x.slice(2)}}if(x=P.join("://"),x==="")return!1;if(P=x.split("/"),x=P.shift(),x===""&&!C.require_host)return!0;if(P=x.split("@"),P.length>1){if(C.disallow_auth||P[0]===""||(S=P.shift(),S.indexOf(":")>=0&&S.split(":").length>2))return!1;var U=S.split(":"),$=o(U,2),H=$[0],Y=$[1];if(H===""&&Y==="")return!1}L=P.join("@"),I=null,z=null;var F=L.match(m);if(F?(w="",z=F[1],I=F[2]||null):(P=L.split(":"),w=P.shift(),P.length&&(I=P.join(":"))),I!==null&&I.length>0){if(D=parseInt(I,10),!/^[0-9]+$/.test(I)||D<=0||D>65535)return!1}else if(C.require_port)return!1;return C.host_whitelist?y(w,C.host_whitelist):w===""&&!C.require_host?!0:!(!(0,i.default)(w)&&!(0,n.default)(w,C)&&(!z||!(0,i.default)(z,6))||(w=w||z,C.host_blacklist&&y(w,C.host_blacklist)))}t.exports=e.default,t.exports.default=e.default})(W1,W1.exports);var DH=W1.exports;const NH=on(DH),ks=Object.create(null);ks.open="0",ks.close="1",ks.ping="2",ks.pong="3",ks.message="4",ks.upgrade="5",ks.noop="6";const lp=Object.create(null);Object.keys(ks).forEach(t=>{lp[ks[t]]=t});const Z1={type:"error",data:"parser error"},w3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",S3=typeof ArrayBuffer=="function",k3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,J1=({type:t,data:e},r,n)=>w3&&e instanceof Blob?r?n(e):I3(e,n):S3&&(e instanceof ArrayBuffer||k3(e))?r?n(e):I3(new Blob([e]),n):n(ks[t]+(e||"")),I3=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function D3(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let eb;function MH(t,e){if(w3&&t.data instanceof Blob)return t.data.arrayBuffer().then(D3).then(e);if(S3&&(t.data instanceof ArrayBuffer||k3(t.data)))return e(D3(t.data));J1(t,!1,r=>{eb||(eb=new TextEncoder),e(eb.encode(r))})}const N3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<N3.length;t++)bd[N3.charCodeAt(t)]=t;const OH=t=>{let e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(n=0;n<r;n+=4)s=bd[t.charCodeAt(n)],a=bd[t.charCodeAt(n+1)],o=bd[t.charCodeAt(n+2)],l=bd[t.charCodeAt(n+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|o>>2,f[i++]=(o&3)<<6|l&63;return d},LH=typeof ArrayBuffer=="function",tb=(t,e)=>{if(typeof t!="string")return{type:"message",data:M3(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:RH(t.substring(1),e)}:lp[r]?t.length>1?{type:lp[r],data:t.substring(1)}:{type:lp[r]}:Z1},RH=(t,e)=>{if(LH){const r=OH(t);return M3(r,e)}else return{base64:!0,data:t}},M3=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},O3="",BH=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,a)=>{J1(s,!1,o=>{n[a]=o,++i===r&&e(n.join(O3))})})},PH=(t,e)=>{const r=t.split(O3),n=[];for(let i=0;i<r.length;i++){const s=tb(r[i],e);if(n.push(s),s.type==="error")break}return n};function FH(){return new TransformStream({transform(t,e){MH(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let rb;function up(t){return t.reduce((e,r)=>e+r.length,0)}function cp(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function UH(t,e){rb||(rb=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(r.push(a);;){if(n===0){if(up(r)<1)break;const l=cp(r,1);s=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(up(r)<2)break;const l=cp(r,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(up(r)<8)break;const l=cp(r,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){o.enqueue(Z1);break}i=f*Math.pow(2,32)+d.getUint32(4),n=3}else{if(up(r)<i)break;const l=cp(r,i);o.enqueue(tb(s?l:rb.decode(l),e)),n=0}if(i===0||i>t){o.enqueue(Z1);break}}}})}const L3=4;function zr(t){if(t)return $H(t)}function $H(t){for(var e in zr.prototype)t[e]=zr.prototype[e];return t}zr.prototype.on=zr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},zr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},zr.prototype.off=zr.prototype.removeListener=zr.prototype.removeAllListeners=zr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this},zr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},zr.prototype.emitReserved=zr.prototype.emit,zr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},zr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ii=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function R3(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const jH=Ii.setTimeout,HH=Ii.clearTimeout;function dp(t,e){e.useNativeTimers?(t.setTimeoutFn=jH.bind(Ii),t.clearTimeoutFn=HH.bind(Ii)):(t.setTimeoutFn=Ii.setTimeout.bind(Ii),t.clearTimeoutFn=Ii.clearTimeout.bind(Ii))}const zH=1.33;function VH(t){return typeof t=="string"?qH(t):Math.ceil((t.byteLength||t.size)*zH)}function qH(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function WH(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function GH(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class YH extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class nb extends zr{constructor(e){super(),this.writable=!1,dp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new YH(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=tb(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=WH(e);return r.length?"?"+r:""}}const B3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ib=64,QH={};let P3=0,fp=0,F3;function U3(t){let e="";do e=B3[t%ib]+e,t=Math.floor(t/ib);while(t>0);return e}function $3(){const t=U3(+new Date);return t!==F3?(P3=0,F3=t):t+"."+U3(P3++)}for(;fp<ib;fp++)QH[B3[fp]]=fp;let j3=!1;try{j3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const KH=j3;function H3(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||KH))return new XMLHttpRequest}catch{}if(!e)try{return new Ii[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function P3e(){}function XH(){}const ZH=function(){return new H3({xdomain:!1}).responseType!=null}();class JH extends nb{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const r=e&&e.forceBase64;this.supportsBinary=ZH&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};PH(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,BH(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=$3()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new tu(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let tu=class mg extends zr{constructor(e,r){super(),dp(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=R3(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new H3(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=mg.requestsCount++,mg.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=XH,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete mg.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(tu.requestsCount=0,tu.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",z3);else if(typeof addEventListener=="function"){const t="onpagehide"in Ii?"pagehide":"unload";addEventListener(t,z3,!1)}}function z3(){for(let t in tu.requests)tu.requests.hasOwnProperty(t)&&tu.requests[t].abort()}const sb=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),hp=Ii.WebSocket||Ii.MozWebSocket,V3=!0,ez="arraybuffer",q3=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class tz extends nb{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=q3?{}:R3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=V3&&!q3?r?new hp(e,r):new hp(e):new hp(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;J1(n,this.supportsBinary,s=>{const a={};try{V3&&this.ws.send(s)}catch{}i&&sb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=$3()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!hp}}class rz extends nb{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=UH(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=FH();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const s=()=>{n.read().then(({done:o,value:l})=>{o||(this.onPacket(l),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&sb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const nz={websocket:tz,webtransport:rz,polling:JH},iz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ab(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=iz.exec(t||""),s={},a=14;for(;a--;)s[sz[a]]=i[a]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=az(s,s.path),s.queryKey=oz(s,s.query),s}function az(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function oz(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}let W3=class Lc extends zr{constructor(e,r={}){super(),this.binaryType=ez,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=ab(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=ab(r.host).host),dp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=GH(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=L3,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new nz[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Lc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;Lc.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",c=>{if(!n)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Lc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}const a=c=>{const h=new Error("probe error: "+c);h.transport=r.name,s(),this.emitReserved("upgradeError",h)};function o(){a("transport closed")}function l(){a("socket closed")}function d(c){r&&c.name!==r.name&&s()}const f=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",o),this.off("close",l),this.off("upgrading",d)};r.once("open",i),r.once("error",a),r.once("close",o),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Lc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=VH(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Lc.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};W3.protocol=L3;function lz(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=ab(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const uz=typeof ArrayBuffer=="function",cz=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,G3=Object.prototype.toString,dz=typeof Blob=="function"||typeof Blob<"u"&&G3.call(Blob)==="[object BlobConstructor]",fz=typeof File=="function"||typeof File<"u"&&G3.call(File)==="[object FileConstructor]";function ob(t){return uz&&(t instanceof ArrayBuffer||cz(t))||dz&&t instanceof Blob||fz&&t instanceof File}function pp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(pp(t[r]))return!0;return!1}if(ob(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return pp(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&pp(t[r]))return!0;return!1}function hz(t){const e=[],r=t.data,n=t;return n.data=lb(r,e),n.attachments=e.length,{packet:n,buffers:e}}function lb(t,e){if(!t)return t;if(ob(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=lb(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=lb(t[n],e));return r}return t}function pz(t,e){return t.data=ub(t.data,e),delete t.attachments,t}function ub(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=ub(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=ub(t[r],e));return t}const mz=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gz=5;var Bt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Bt||(Bt={}));class bz{constructor(e){this.replacer=e}encode(e){return(e.type===Bt.EVENT||e.type===Bt.ACK)&&pp(e)?this.encodeAsBinary({type:e.type===Bt.EVENT?Bt.BINARY_EVENT:Bt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Bt.BINARY_EVENT||e.type===Bt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=hz(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Y3(t){return Object.prototype.toString.call(t)==="[object Object]"}class cb extends zr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Bt.BINARY_EVENT;n||r.type===Bt.BINARY_ACK?(r.type=n?Bt.EVENT:Bt.ACK,this.reconstructor=new yz(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ob(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Bt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Bt.BINARY_EVENT||n.type===Bt.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(s,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(cb.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Bt.CONNECT:return Y3(r);case Bt.DISCONNECT:return r===void 0;case Bt.CONNECT_ERROR:return typeof r=="string"||Y3(r);case Bt.EVENT:case Bt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&mz.indexOf(r[0])===-1);case Bt.ACK:case Bt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yz{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=pz(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const _z=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cb,Encoder:bz,get PacketType(){return Bt},protocol:gz},Symbol.toStringTag,{value:"Module"}));function ns(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const vz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Q3 extends zr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ns(e,"open",this.onopen.bind(this)),ns(e,"packet",this.onpacket.bind(this)),ns(e,"error",this.onerror.bind(this)),ns(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(vz.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:Bt.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const a=this.ids++,o=r.pop();this._registerAckCallback(a,o),n.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},i),a=(...o)=>{this.io.clearTimeoutFn(s),r.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...r){return new Promise((n,i)=>{const s=(a,o)=>a?i(a):n(o);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Bt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Bt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Bt.EVENT:case Bt.BINARY_EVENT:this.onevent(e);break;case Bt.ACK:case Bt.BINARY_ACK:this.onack(e);break;case Bt.DISCONNECT:this.ondisconnect();break;case Bt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Bt.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Bt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ru(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ru.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0},ru.prototype.reset=function(){this.attempts=0},ru.prototype.setMin=function(t){this.ms=t},ru.prototype.setMax=function(t){this.max=t},ru.prototype.setJitter=function(t){this.jitter=t};class db extends zr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,dp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ru({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||_z;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new W3(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ns(r,"open",function(){n.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=ns(r,"error",s);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ns(e,"ping",this.onping.bind(this)),ns(e,"data",this.ondata.bind(this)),ns(e,"error",this.onerror.bind(this)),ns(e,"close",this.onclose.bind(this)),ns(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){sb(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Q3(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yd={};function _d(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=lz(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,a=yd[i]&&s in yd[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return o?l=new db(n,e):(yd[i]||(yd[i]=new db(n,e)),l=yd[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(_d,{Manager:db,Socket:Q3,io:_d,connect:_d});function K3(t,e){return function(){return t.apply(e,arguments)}}const{toString:Tz}=Object.prototype,{getPrototypeOf:fb}=Object,mp=(t=>e=>{const r=Tz.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),is=t=>(t=t.toLowerCase(),e=>mp(e)===t),gp=t=>e=>typeof e===t,{isArray:nu}=Array,vd=gp("undefined");function Ez(t){return t!==null&&!vd(t)&&t.constructor!==null&&!vd(t.constructor)&&hi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const X3=is("ArrayBuffer");function Az(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&X3(t.buffer),e}const xz=gp("string"),hi=gp("function"),Z3=gp("number"),bp=t=>t!==null&&typeof t=="object",Cz=t=>t===!0||t===!1,yp=t=>{if(mp(t)!=="object")return!1;const e=fb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wz=is("Date"),Sz=is("File"),kz=is("Blob"),Iz=is("FileList"),Dz=t=>bp(t)&&hi(t.pipe),Nz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hi(t.append)&&((e=mp(t))==="formdata"||e==="object"&&hi(t.toString)&&t.toString()==="[object FormData]"))},Mz=is("URLSearchParams"),[Oz,Lz,Rz,Bz]=["ReadableStream","Request","Response","Headers"].map(is),Pz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Td(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),nu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function J3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eC=t=>!vd(t)&&t!==Po;function hb(){const{caseless:t}=eC(this)&&this||{},e={},r=(n,i)=>{const s=t&&J3(e,i)||i;yp(e[s])&&yp(n)?e[s]=hb(e[s],n):yp(n)?e[s]=hb({},n):nu(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Td(arguments[n],r);return e}const Fz=(t,e,r,{allOwnKeys:n}={})=>(Td(e,(i,s)=>{r&&hi(i)?t[s]=K3(i,r):t[s]=i},{allOwnKeys:n}),t),Uz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$z=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},jz=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&fb(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Hz=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},zz=t=>{if(!t)return null;if(nu(t))return t;let e=t.length;if(!Z3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Vz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fb(Uint8Array)),qz=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Wz=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Gz=is("HTMLFormElement"),Yz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),tC=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Qz=is("RegExp"),rC=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Td(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Kz=t=>{rC(t,(e,r)=>{if(hi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(hi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Xz=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return nu(t)?n(t):n(String(t).split(e)),r},Zz=()=>{},Jz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,pb="abcdefghijklmnopqrstuvwxyz",nC="0123456789",iC={DIGIT:nC,ALPHA:pb,ALPHA_DIGIT:pb+pb.toUpperCase()+nC},eV=(t=16,e=iC.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function tV(t){return!!(t&&hi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const rV=t=>{const e=new Array(10),r=(n,i)=>{if(bp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=nu(n)?[]:{};return Td(n,(a,o)=>{const l=r(a,i+1);!vd(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},nV=is("AsyncFunction"),iV=t=>t&&(bp(t)||hi(t))&&hi(t.then)&&hi(t.catch),sC=((t,e)=>t?setImmediate:e?((r,n)=>(Po.addEventListener("message",({source:i,data:s})=>{i===Po&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Po.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",hi(Po.postMessage)),sV=typeof queueMicrotask<"u"?queueMicrotask.bind(Po):typeof process<"u"&&process.nextTick||sC,Ie={isArray:nu,isArrayBuffer:X3,isBuffer:Ez,isFormData:Nz,isArrayBufferView:Az,isString:xz,isNumber:Z3,isBoolean:Cz,isObject:bp,isPlainObject:yp,isReadableStream:Oz,isRequest:Lz,isResponse:Rz,isHeaders:Bz,isUndefined:vd,isDate:wz,isFile:Sz,isBlob:kz,isRegExp:Qz,isFunction:hi,isStream:Dz,isURLSearchParams:Mz,isTypedArray:Vz,isFileList:Iz,forEach:Td,merge:hb,extend:Fz,trim:Pz,stripBOM:Uz,inherits:$z,toFlatObject:jz,kindOf:mp,kindOfTest:is,endsWith:Hz,toArray:zz,forEachEntry:qz,matchAll:Wz,isHTMLForm:Gz,hasOwnProperty:tC,hasOwnProp:tC,reduceDescriptors:rC,freezeMethods:Kz,toObjectSet:Xz,toCamelCase:Yz,noop:Zz,toFiniteNumber:Jz,findKey:J3,global:Po,isContextDefined:eC,ALPHABET:iC,generateString:eV,isSpecCompliantForm:tV,toJSONObject:rV,isAsyncFn:nV,isThenable:iV,setImmediate:sC,asap:sV};function kt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Ie.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const aC=kt.prototype,oC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oC[t]={value:t}}),Object.defineProperties(kt,oC),Object.defineProperty(aC,"isAxiosError",{value:!0}),kt.from=(t,e,r,n,i,s)=>{const a=Object.create(aC);return Ie.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),kt.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const aV=null;function mb(t){return Ie.isPlainObject(t)||Ie.isArray(t)}function lC(t){return Ie.endsWith(t,"[]")?t.slice(0,-2):t}function uC(t,e,r){return t?t.concat(e).map(function(i,s){return i=lC(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function oV(t){return Ie.isArray(t)&&!t.some(mb)}const lV=Ie.toFlatObject(Ie,{},null,function(e){return/^is[A-Z]/.test(e)});function _p(t,e,r){if(!Ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Ie.isUndefined(y[b])});const n=r.metaTokens,i=r.visitor||f,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(e);if(!Ie.isFunction(i))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(Ie.isDate(m))return m.toISOString();if(!l&&Ie.isBlob(m))throw new kt("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(m)||Ie.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,b,y){let _=m;if(m&&!y&&typeof m=="object"){if(Ie.endsWith(b,"{}"))b=n?b:b.slice(0,-2),m=JSON.stringify(m);else if(Ie.isArray(m)&&oV(m)||(Ie.isFileList(m)||Ie.endsWith(b,"[]"))&&(_=Ie.toArray(m)))return b=lC(b),_.forEach(function(C,k){!(Ie.isUndefined(C)||C===null)&&e.append(a===!0?uC([b],k,s):a===null?b:b+"[]",d(C))}),!1}return mb(m)?!0:(e.append(uC(y,b,s),d(m)),!1)}const c=[],h=Object.assign(lV,{defaultVisitor:f,convertValue:d,isVisitable:mb});function p(m,b){if(!Ie.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));c.push(m),Ie.forEach(m,function(_,x){(!(Ie.isUndefined(_)||_===null)&&i.call(e,_,Ie.isString(x)?x.trim():x,b,h))===!0&&p(_,b?b.concat(x):[x])}),c.pop()}}if(!Ie.isObject(t))throw new TypeError("data must be an object");return p(t),e}function cC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function gb(t,e){this._pairs=[],t&&_p(t,this,e)}const dC=gb.prototype;dC.append=function(e,r){this._pairs.push([e,r])},dC.toString=function(e){const r=e?function(n){return e.call(this,n,cC)}:cC;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function uV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fC(t,e,r){if(!e)return t;const n=r&&r.encode||uV,i=r&&r.serialize;let s;if(i?s=i(e,r):s=Ie.isURLSearchParams(e)?e.toString():new gb(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class hC{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ie.forEach(this.handlers,function(n){n!==null&&e(n)})}}const pC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cV={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:gb,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},bb=typeof window<"u"&&typeof document<"u",dV=(t=>bb&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),fV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hV=bb&&window.location.href||"http://localhost",ss={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bb,hasStandardBrowserEnv:dV,hasStandardBrowserWebWorkerEnv:fV,origin:hV},Symbol.toStringTag,{value:"Module"})),...cV};function pV(t,e){return _p(t,new ss.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return ss.isNode&&Ie.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function mV(t){return Ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gV(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function mC(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&Ie.isArray(i)?i.length:a,l?(Ie.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!Ie.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&Ie.isArray(i[a])&&(i[a]=gV(i[a])),!o)}if(Ie.isFormData(t)&&Ie.isFunction(t.entries)){const r={};return Ie.forEachEntry(t,(n,i)=>{e(mV(n),i,r,0)}),r}return null}function bV(t,e,r){if(Ie.isString(t))try{return(e||JSON.parse)(t),Ie.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ed={transitional:pC,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Ie.isObject(e);if(s&&Ie.isHTMLForm(e)&&(e=new FormData(e)),Ie.isFormData(e))return i?JSON.stringify(mC(e)):e;if(Ie.isArrayBuffer(e)||Ie.isBuffer(e)||Ie.isStream(e)||Ie.isFile(e)||Ie.isBlob(e)||Ie.isReadableStream(e))return e;if(Ie.isArrayBufferView(e))return e.buffer;if(Ie.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pV(e,this.formSerializer).toString();if((o=Ie.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _p(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),bV(e)):e}],transformResponse:[function(e){const r=this.transitional||Ed.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ie.isResponse(e)||Ie.isReadableStream(e))return e;if(e&&Ie.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?kt.from(o,kt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],t=>{Ed.headers[t]={}});const yV=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_V=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&yV[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},gC=Symbol("internals");function Ad(t){return t&&String(t).trim().toLowerCase()}function vp(t){return t===!1||t==null?t:Ie.isArray(t)?t.map(vp):String(t)}function vV(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const TV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yb(t,e,r,n,i){if(Ie.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ie.isString(e)){if(Ie.isString(n))return e.indexOf(n)!==-1;if(Ie.isRegExp(n))return n.test(e)}}function EV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function AV(t,e){const r=Ie.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Kn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,d){const f=Ad(l);if(!f)throw new Error("header name must be a non-empty string");const c=Ie.findKey(i,f);(!c||i[c]===void 0||d===!0||d===void 0&&i[c]!==!1)&&(i[c||l]=vp(o))}const a=(o,l)=>Ie.forEach(o,(d,f)=>s(d,f,l));if(Ie.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Ie.isString(e)&&(e=e.trim())&&!TV(e))a(_V(e),r);else if(Ie.isHeaders(e))for(const[o,l]of e.entries())s(l,o,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=Ad(e),e){const n=Ie.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return vV(i);if(Ie.isFunction(r))return r.call(this,i,n);if(Ie.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ad(e),e){const n=Ie.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||yb(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Ad(a),a){const o=Ie.findKey(n,a);o&&(!r||yb(n,n[o],o,r))&&(delete n[o],i=!0)}}return Ie.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||yb(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Ie.forEach(this,(i,s)=>{const a=Ie.findKey(n,s);if(a){r[a]=vp(i),delete r[s];return}const o=e?EV(s):String(s).trim();o!==s&&delete r[s],r[o]=vp(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ie.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ie.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[gC]=this[gC]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Ad(a);n[o]||(AV(i,a),n[o]=!0)}return Ie.isArray(e)?e.forEach(s):s(e),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ie.reduceDescriptors(Kn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),Ie.freezeMethods(Kn);function _b(t,e){const r=this||Ed,n=e||r,i=Kn.from(n.headers);let s=n.data;return Ie.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function bC(t){return!!(t&&t.__CANCEL__)}function iu(t,e,r){kt.call(this,t??"canceled",kt.ERR_CANCELED,e,r),this.name="CanceledError"}Ie.inherits(iu,kt,{__CANCEL__:!0});function yC(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new kt("Request failed with status code "+r.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function CV(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=n[s];a||(a=d),r[i]=l,n[i]=d;let c=s,h=0;for(;c!==i;)h+=r[c++],c=c%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const p=f&&d-f;return p?Math.round(h*1e3/p):void 0}}function wV(t,e){let r=0,n=1e3/e,i,s;const a=(d,f=Date.now())=>{r=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),c=f-r;c>=n?a(d,f):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},n-c)))},()=>i&&a(i)]}const Tp=(t,e,r=3)=>{let n=0;const i=CV(50,250);return wV(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,d=i(l),f=a<=o;n=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:d||void 0,estimated:d&&o&&f?(o-a)/d:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(c)},r)},_C=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},vC=t=>(...e)=>Ie.asap(()=>t(...e)),SV=ss.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const o=Ie.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),kV=ss.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];Ie.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ie.isString(n)&&a.push("path="+n),Ie.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function TC(t,e){return t&&!IV(e)?DV(t,e):e}const EC=t=>t instanceof Kn?{...t}:t;function Fo(t,e){e=e||{};const r={};function n(d,f,c){return Ie.isPlainObject(d)&&Ie.isPlainObject(f)?Ie.merge.call({caseless:c},d,f):Ie.isPlainObject(f)?Ie.merge({},f):Ie.isArray(f)?f.slice():f}function i(d,f,c){if(Ie.isUndefined(f)){if(!Ie.isUndefined(d))return n(void 0,d,c)}else return n(d,f,c)}function s(d,f){if(!Ie.isUndefined(f))return n(void 0,f)}function a(d,f){if(Ie.isUndefined(f)){if(!Ie.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function o(d,f,c){if(c in e)return n(d,f);if(c in t)return n(void 0,d)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(d,f)=>i(EC(d),EC(f),!0)};return Ie.forEach(Object.keys(Object.assign({},t,e)),function(f){const c=l[f]||i,h=c(t[f],e[f],f);Ie.isUndefined(h)&&c!==o||(r[f]=h)}),r}const AC=t=>{const e=Fo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Kn.from(a),e.url=fC(TC(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(Ie.isFormData(r)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[d,...f]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(ss.hasStandardBrowserEnv&&(n&&Ie.isFunction(n)&&(n=n(e)),n||n!==!1&&SV(e.url))){const d=i&&s&&kV.read(s);d&&a.set(i,d)}return e},NV=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){const i=AC(t);let s=i.data;const a=Kn.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:d}=i,f,c,h,p,m;function b(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function _(){if(!y)return;const C=Kn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:t,request:y};yC(function(L){r(L),b()},function(L){n(L),b()},S),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(n(new kt("Request aborted",kt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new kt("Network Error",kt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||pC;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new kt(k,S.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,y)),y=null},s===void 0&&a.setContentType(null),"setRequestHeader"in y&&Ie.forEach(a.toJSON(),function(k,S){y.setRequestHeader(S,k)}),Ie.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),d&&([h,m]=Tp(d,!0),y.addEventListener("progress",h)),l&&y.upload&&([c,p]=Tp(l),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(f=C=>{y&&(n(!C||C.type?new iu(null,t,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const x=xV(i.url);if(x&&ss.protocols.indexOf(x)===-1){n(new kt("Unsupported protocol "+x+":",kt.ERR_BAD_REQUEST,t));return}y.send(s||null)})},MV=(t,e)=>{let r=new AbortController,n;const i=function(l){if(!n){n=!0,a();const d=l instanceof Error?l:this.reason;r.abort(d instanceof kt?d:new iu(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{i(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=a,[o,()=>{s&&clearTimeout(s),s=null}]},OV=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},LV=async function*(t,e,r){for await(const n of t)yield*OV(ArrayBuffer.isView(n)?n:await r(String(n)),e)},xC=(t,e,r,n,i)=>{const s=LV(t,e,i);let a=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:c}=await s.next();if(f){l(),d.close();return}let h=c.byteLength;if(r){let p=a+=h;r(p)}d.enqueue(new Uint8Array(c))}catch(f){throw l(f),f}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},Ep=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CC=Ep&&typeof ReadableStream=="function",vb=Ep&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},RV=CC&&wC(()=>{let t=!1;const e=new Request(ss.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),SC=64*1024,Tb=CC&&wC(()=>Ie.isReadableStream(new Response("").body)),Ap={stream:Tb&&(t=>t.body)};Ep&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ap[e]&&(Ap[e]=Ie.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,n)})})})(new Response);const BV=async t=>{if(t==null)return 0;if(Ie.isBlob(t))return t.size;if(Ie.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(t)||Ie.isArrayBuffer(t))return t.byteLength;if(Ie.isURLSearchParams(t)&&(t=t+""),Ie.isString(t))return(await vb(t)).byteLength},PV=async(t,e)=>{const r=Ie.toFiniteNumber(t.getContentLength());return r??BV(e)},Eb={http:aV,xhr:NV,fetch:Ep&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:d,headers:f,withCredentials:c="same-origin",fetchOptions:h}=AC(t);d=d?(d+"").toLowerCase():"text";let[p,m]=i||s||a?MV([i,s],a):[],b,y;const _=()=>{!b&&setTimeout(()=>{p&&p.unsubscribe()}),b=!0};let x;try{if(l&&RV&&r!=="get"&&r!=="head"&&(x=await PV(f,n))!==0){let w=new Request(e,{method:"POST",body:n,duplex:"half"}),L;if(Ie.isFormData(n)&&(L=w.headers.get("content-type"))&&f.setContentType(L),w.body){const[D,I]=_C(x,Tp(vC(l)));n=xC(w.body,SC,D,I,vb)}}Ie.isString(c)||(c=c?"include":"omit"),y=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:c});let C=await fetch(y);const k=Tb&&(d==="stream"||d==="response");if(Tb&&(o||k)){const w={};["status","statusText","headers"].forEach(P=>{w[P]=C[P]});const L=Ie.toFiniteNumber(C.headers.get("content-length")),[D,I]=o&&_C(L,Tp(vC(o),!0))||[];C=new Response(xC(C.body,SC,D,()=>{I&&I(),k&&_()},vb),w)}d=d||"text";let S=await Ap[Ie.findKey(Ap,d)||"text"](C,t);return!k&&_(),m&&m(),await new Promise((w,L)=>{yC(w,L,{data:S,headers:Kn.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:y})})}catch(C){throw _(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,t,y),{cause:C.cause||C}):kt.from(C,C&&C.code,t,y)}})};Ie.forEach(Eb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kC=t=>`- ${t}`,FV=t=>Ie.isFunction(t)||t===null||t===!1,IC={getAdapter:t=>{t=Ie.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!FV(r)&&(n=Eb[(a=String(r)).toLowerCase()],n===void 0))throw new kt(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(kC).join(`
`):" "+kC(s[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Eb};function Ab(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new iu(null,t)}function DC(t){return Ab(t),t.headers=Kn.from(t.headers),t.data=_b.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IC.getAdapter(t.adapter||Ed.adapter)(t).then(function(n){return Ab(t),n.data=_b.call(t,t.transformResponse,n),n.headers=Kn.from(n.headers),n},function(n){return bC(n)||(Ab(t),n&&n.response&&(n.response.data=_b.call(t,t.transformResponse,n.response),n.response.headers=Kn.from(n.response.headers))),Promise.reject(n)})}const NC="1.7.4",xb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xb[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const MC={};xb.transitional=function(e,r,n){function i(s,a){return"[Axios v"+NC+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new kt(i(a," has been removed"+(r?" in "+r:"")),kt.ERR_DEPRECATED);return r&&!MC[a]&&(MC[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};function UV(t,e,r){if(typeof t!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new kt("option "+s+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const Cb={assertOptions:UV,validators:xb},$a=Cb.validators;let Uo=class{constructor(e){this.defaults=e,this.interceptors={request:new hC,response:new hC}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Fo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Cb.assertOptions(n,{silentJSONParsing:$a.transitional($a.boolean),forcedJSONParsing:$a.transitional($a.boolean),clarifyTimeoutError:$a.transitional($a.boolean)},!1),i!=null&&(Ie.isFunction(i)?r.paramsSerializer={serialize:i}:Cb.assertOptions(i,{encode:$a.function,serialize:$a.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&Ie.merge(s.common,s[r.method]);s&&Ie.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Kn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let f,c=0,h;if(!l){const m=[DC.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,d),h=m.length,f=Promise.resolve(r);c<h;)f=f.then(m[c++],m[c++]);return f}h=o.length;let p=r;for(c=0;c<h;){const m=o[c++],b=o[c++];try{p=m(p)}catch(y){b.call(this,y);break}}try{f=DC.call(this,p)}catch(m){return Promise.reject(m)}for(c=0,h=d.length;c<h;)f=f.then(d[c++],d[c++]);return f}getUri(e){e=Fo(this.defaults,e);const r=TC(e.baseURL,e.url);return fC(r,e.params,e.paramsSerializer)}};Ie.forEach(["delete","get","head","options"],function(e){Uo.prototype[e]=function(r,n){return this.request(Fo(n||{},{method:e,url:r,data:(n||{}).data}))}}),Ie.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Fo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Uo.prototype[e]=r(),Uo.prototype[e+"Form"]=r(!0)});let $V=class RO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new iu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new RO(function(i){e=i}),cancel:e}}};function jV(t){return function(r){return t.apply(null,r)}}function HV(t){return Ie.isObject(t)&&t.isAxiosError===!0}const wb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wb).forEach(([t,e])=>{wb[e]=t});function OC(t){const e=new Uo(t),r=K3(Uo.prototype.request,e);return Ie.extend(r,Uo.prototype,e,{allOwnKeys:!0}),Ie.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return OC(Fo(t,i))},r}const fr=OC(Ed);fr.Axios=Uo,fr.CanceledError=iu,fr.CancelToken=$V,fr.isCancel=bC,fr.VERSION=NC,fr.toFormData=_p,fr.AxiosError=kt,fr.Cancel=fr.CanceledError,fr.all=function(e){return Promise.all(e)},fr.spread=jV,fr.isAxiosError=HV,fr.mergeConfig=Fo,fr.AxiosHeaders=Kn,fr.formToJSON=t=>mC(Ie.isHTMLForm(t)?new FormData(t):t),fr.getAdapter=IC.getAdapter,fr.HttpStatusCode=wb,fr.default=fr;const{Axios:V3e,AxiosError:q3e,CanceledError:W3e,isCancel:G3e,CancelToken:Y3e,VERSION:Q3e,all:K3e,Cancel:X3e,isAxiosError:Z3e,spread:J3e,toFormData:eCe,AxiosHeaders:LC,HttpStatusCode:tCe,formToJSON:rCe,getAdapter:nCe,mergeConfig:iCe}=fr;var RC={},BC={},Sb={},xd={};Object.defineProperty(xd,"__esModule",{value:!0}),xd.createTimeAwareMapObserver=void 0;var zV=function(t){var e=new Map;return{create:function(r,n){var i=setTimeout(function(){n(r)},t);e.set(r,i)},cancel:function(r){if(e.has(r)){var n=e.get(r);e.delete(r),clearTimeout(n)}}}};xd.createTimeAwareMapObserver=zV,Object.defineProperty(Sb,"__esModule",{value:!0});var VV=xd;function qV(t){var e=new Map,r=(0,VV.createTimeAwareMapObserver)(t.timeToClear);function n(d){var f=e.get(d);return f||null}function i(d){return e.delete(d),r.cancel(d),!0}function s(){return e.size}function a(d){return e.has(d)}function o(){return Array.from(e.keys())}function l(d,f){return e.set(d,f),r.create(d,i),!0}return{keys:o,size:s,has:a,get:n,set:l,remove:i}}Sb.default=qV;var kb={},xp={};Object.defineProperty(xp,"__esModule",{value:!0}),xp.LRULinkedList=void 0;var PC=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),WV=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,s=new PC(e,r);return s.next=i,s.prev=null,i.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new PC(e,r);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();xp.LRULinkedList=WV,Object.defineProperty(kb,"__esModule",{value:!0});var GV=xp;function YV(t){var e=new GV.LRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function s(){return e.size}function a(){return e.keys()}function o(l,d){return e.addNodeToHead(l,d),!0}return{keys:a,size:s,get:r,set:o,remove:n,has:i}}kb.default=YV;var Ib={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.MRULinkedList=void 0;var wp=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),QV=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.mruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.moveToTail=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToTail(r.id,r.data);return n}return null},t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,s=new wp(e,r);return s.next=i,s.prev=null,i.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new wp(e,r);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.addNodeToTail=function(e,r){if(this.positions.has(e)){var n=this.moveToTail(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.TAIL){var i=this.TAIL,s=new wp(e,r);return s.prev=i,s.next=null,i.next=s,this.TAIL=s,this.positions.set(e,s),this.size++,s}else{var a=new wp(e,r);return this.TAIL=a,this.HEAD||(this.HEAD=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToTail(r);return n?n.data:null}return null},t}();Cp.MRULinkedList=QV,Object.defineProperty(Ib,"__esModule",{value:!0});var KV=Cp;function XV(t){var e=new KV.MRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function s(){return e.size}function a(){return e.keys()}function o(l,d){return e.addNodeToHead(l,d),!0}return{keys:a,size:s,has:i,get:r,set:o,remove:n}}Ib.default=XV;var Db={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.TLRULinkedList=void 0;var ZV=xd,FC=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),JV=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize,this.timer=(0,ZV.createTimeAwareMapObserver)(e.timeToClear)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}var i=this.remove.bind(this);if(this.timer.create(e,i),this.HEAD){var s=this.HEAD,a=new FC(e,r);return a.next=s,a.prev=null,s.prev=a,this.HEAD=a,this.positions.set(e,a),this.size++,a}else{var o=new FC(e,r);return this.HEAD=o,this.TAIL||(this.TAIL=o),this.positions.set(e,o),this.size++,o}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.timer.cancel(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.timer.cancel(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Sp.TLRULinkedList=JV,Object.defineProperty(Db,"__esModule",{value:!0});var eq=Sp;function tq(t){var e=new eq.TLRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function s(){return e.size}function a(){return e.keys()}function o(l,d){return e.addNodeToHead(l,d),!0}return{keys:a,size:s,get:r,set:o,remove:n,has:i}}Db.default=tq,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0;var e=Sb,r=kb,n=Ib,i=Db;t.defaultConfig={strategy:"lru",policy:"lru",timeToClear:72e5,lruSize:500,mruSize:500};function s(a){var o={};typeof a=="object"&&(o=a);var l=Object.assign({},t.defaultConfig,o);switch(l.policy){case"timeout":return(0,e.default)(l);case"lru":return(0,r.default)(l);case"mru":return(0,n.default)(l);case"tlru":return(0,i.default)(l);default:throw new Error(l.policy+" is not a supported policy.")}}t.default=s}(BC),Object.defineProperty(RC,"__esModule",{value:!0});var rq=BC,UC=RC.default=rq.default;class $C{constructor(e=null){Ge(this,"head");Ge(this,"tail");Ge(this,"main");Ge(this,"length");this.head=e,this.tail=e,this.main=e,this.length=e?1:0}numberOfMessages(){let e=0,r=this.head;for(;r;)e+=r.length,r=r.next;return e}concate(e){var r;(r=this.main)==null||r.concate(e)}unshift(e){var r;(r=this.main)==null||r.unshift(e)}insert(e){if(this.length===0){this.head=this.tail=this.main=e,this.length=1;return}if(e.length===0)return;let r=this.tail;for(;r&&r.head.createdAt>e.head.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,e.next&&(e.next.prev=e),r.next=e,e.prev=r):(e.next=this.head,e.next&&(e.next.prev=e),this.head=e),this.main=e,this.length++}merge(){if(this.length<=1)return;let e=this.tail;for(;e;){if(e.prev&&e.canCombine(e.prev)){e.combine(e.prev),e.prev===this.main&&(this.main=e),e.prev=e.prev.prev,e.prev?e.prev.next=e:this.head=e,this.length--;break}e=e.prev}e&&this.merge()}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}var Di=(t=>(t.RoomName="roomName",t.RoomMember="roomMember",t.RoomPrefTags="roomPrefTags",t.RoomPrefFolder="roomPrefFolder",t.RoomTags="roomTags",t))(Di||{});const jC={count:0,config:{},uid:"",axios:fr,isRequesting:{},socket:_d({autoConnect:!1}),imageCache:UC(),translationCache:UC(),users:{},rooms:{},sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,uploadProgresses:{},downloadProgresses:{},linkPreviews:{},actionMenuRoomId:"",folders:{},sortedFolderIds:[],roomIdsInFolders:{},selectedRoomIdsForCreateFolder:{},selectedFolderId:"",searchKeyword:"",searchType:Di.RoomName,searchRooms:{},roomTag:"",deliveringMessages:new Map,processingMessages:new Map,selectedRoomId:"",messageMultiList:new $C,numberOfTotalMessages:-1,replyId:"",navigationTargetId:"",isRoomInfoVisible:!1,isTyping:{},isSearchInRoomMode:!1,messageSearchKeyword:"",blockedUsers:{}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},nq=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},zC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=s>>2,c=(s&3)<<4|o>>4;let h=(o&15)<<2|d>>6,p=d&63;l||(p=64,a||(h=64)),n.push(r[f],r[c],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const c=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||d==null||c==null)throw new iq;const h=s<<2|o>>4;if(n.push(h),d!==64){const p=o<<4&240|d>>2;if(n.push(p),c!==64){const m=d<<6&192|c;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sq=function(t){const e=HC(t);return zC.encodeByteArray(e,!0)},VC=function(t){return sq(t).replace(/\./g,"")},aq=function(t){try{return zC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=()=>oq().__FIREBASE_DEFAULTS__,uq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aq(t[1]);return e&&JSON.parse(e)},dq=()=>{try{return lq()||uq()||cq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qC=()=>{var t;return(t=dq())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function WC(){try{return typeof indexedDB=="object"}catch{return!1}}function GC(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function hq(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq="FirebaseError";class su extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=pq,Object.setPrototypeOf(this,su.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kp.prototype.create)}}class kp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?mq(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new su(i,o,n)}}function mq(t,e){return t.replace(gq,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const gq=/\{\$([^}]+)}/g;function Nb(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(YC(s)&&YC(a)){if(!Nb(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){return t&&t._delegate?t._delegate:t}let ja=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new fq;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_q(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:yq(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yq(t){return t===$o?void 0:t}function _q(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bq(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(hr||(hr={}));const Tq={debug:hr.DEBUG,verbose:hr.VERBOSE,info:hr.INFO,warn:hr.WARN,error:hr.ERROR,silent:hr.SILENT},Eq=hr.INFO,Aq={[hr.DEBUG]:"log",[hr.VERBOSE]:"log",[hr.INFO]:"info",[hr.WARN]:"warn",[hr.ERROR]:"error"},xq=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Aq[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cq{constructor(e){this.name=e,this._logLevel=Eq,this._logHandler=xq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hr.DEBUG,...e),this._logHandler(this,hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hr.VERBOSE,...e),this._logHandler(this,hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hr.INFO,...e),this._logHandler(this,hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hr.WARN,...e),this._logHandler(this,hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hr.ERROR,...e),this._logHandler(this,hr.ERROR,...e)}}const wq=(t,e)=>e.some(r=>t instanceof r);let KC,XC;function Sq(){return KC||(KC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kq(){return XC||(XC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,Mb=new WeakMap,JC=new WeakMap,Ob=new WeakMap,Lb=new WeakMap;function Iq(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(aa(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&ZC.set(r,t)}).catch(()=>{}),Lb.set(e,t),e}function Dq(t){if(Mb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Mb.set(t,e)}let Rb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Mb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JC.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return aa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nq(t){Rb=t(Rb)}function Mq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Bb(this),e,...r);return JC.set(n,e.sort?e.sort():[e]),aa(n)}:kq().includes(t)?function(...e){return t.apply(Bb(this),e),aa(ZC.get(this))}:function(...e){return aa(t.apply(Bb(this),e))}}function Oq(t){return typeof t=="function"?Mq(t):(t instanceof IDBTransaction&&Dq(t),wq(t,Sq())?new Proxy(t,Rb):t)}function aa(t){if(t instanceof IDBRequest)return Iq(t);if(Ob.has(t))return Ob.get(t);const e=Oq(t);return e!==t&&(Ob.set(t,e),Lb.set(e,t)),e}const Bb=t=>Lb.get(t);function Ip(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=aa(a);return n&&a.addEventListener("upgradeneeded",l=>{n(aa(a.result),l.oldVersion,l.newVersion,aa(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}function Pb(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),aa(r).then(()=>{})}const Lq=["get","getKey","getAll","getAllKeys","count"],Rq=["put","add","delete","clear"],Fb=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fb.get(e))return Fb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Rq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Lq.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(o.shift())),(await Promise.all([d[r](...o),i&&l.done]))[0]};return Fb.set(e,s),s}Nq(t=>({...t,get:(e,r,n)=>ew(e,r)||t.get(e,r,n),has:(e,r)=>!!ew(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Pq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Pq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ub="@firebase/app",tw="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Cq("@firebase/app"),Fq="@firebase/app-compat",Uq="@firebase/analytics-compat",$q="@firebase/analytics",jq="@firebase/app-check-compat",Hq="@firebase/app-check",zq="@firebase/auth",Vq="@firebase/auth-compat",qq="@firebase/database",Wq="@firebase/database-compat",Gq="@firebase/functions",Yq="@firebase/functions-compat",Qq="@firebase/installations",Kq="@firebase/installations-compat",Xq="@firebase/messaging",Zq="@firebase/messaging-compat",Jq="@firebase/performance",eW="@firebase/performance-compat",tW="@firebase/remote-config",rW="@firebase/remote-config-compat",nW="@firebase/storage",iW="@firebase/storage-compat",sW="@firebase/firestore",aW="@firebase/vertexai-preview",oW="@firebase/firestore-compat",lW="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="[DEFAULT]",uW={[Ub]:"fire-core",[Fq]:"fire-core-compat",[$q]:"fire-analytics",[Uq]:"fire-analytics-compat",[Hq]:"fire-app-check",[jq]:"fire-app-check-compat",[zq]:"fire-auth",[Vq]:"fire-auth-compat",[qq]:"fire-rtdb",[Wq]:"fire-rtdb-compat",[Gq]:"fire-fn",[Yq]:"fire-fn-compat",[Qq]:"fire-iid",[Kq]:"fire-iid-compat",[Xq]:"fire-fcm",[Zq]:"fire-fcm-compat",[Jq]:"fire-perf",[eW]:"fire-perf-compat",[tW]:"fire-rc",[rW]:"fire-rc-compat",[nW]:"fire-gcs",[iW]:"fire-gcs-compat",[sW]:"fire-fst",[oW]:"fire-fst-compat",[aW]:"fire-vertex","fire-js":"fire-js",[lW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,cW=new Map,jb=new Map;function rw(t,e){try{t.container.addComponent(e)}catch(r){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function jo(t){const e=t.name;if(jb.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;jb.set(e,t);for(const r of Dp.values())rw(r,t);for(const r of cW.values())rw(r,t);return!0}function Hb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new kp("app","Firebase",dW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}function nw(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:$b,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(r||(r=qC()),!r)throw Ha.create("no-options");const s=Dp.get(i);if(s){if(Nb(r,s.options)&&Nb(n,s.config))return s;throw Ha.create("duplicate-app",{appName:i})}const a=new vq(i);for(const l of jb.values())a.addComponent(l);const o=new fW(r,n,a);return Dp.set(i,o),o}function hW(t=$b){const e=Dp.get(t);if(!e&&t===$b&&qC())return nw();if(!e)throw Ha.create("no-app",{appName:t});return e}function za(t,e,r){var n;let i=(n=uW[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(o.join(" "));return}jo(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW="firebase-heartbeat-database",mW=1,Cd="firebase-heartbeat-store";let zb=null;function iw(){return zb||(zb=Ip(pW,mW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),zb}async function gW(t){try{const r=(await iw()).transaction(Cd),n=await r.objectStore(Cd).get(aw(t));return await r.done,n}catch(e){if(e instanceof su)oa.warn(e.message);else{const r=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(r.message)}}}async function sw(t,e){try{const n=(await iw()).transaction(Cd,"readwrite");await n.objectStore(Cd).put(e,aw(t)),await n.done}catch(r){if(r instanceof su)oa.warn(r.message);else{const n=Ha.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});oa.warn(n.message)}}}function aw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=1024,yW=30*24*60*60*1e3;class _W{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new TW(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ow();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=yW}),this._storage.overwrite(this._heartbeatsCache))}catch(i){oa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ow(),{heartbeatsToSend:n,unsentEntries:i}=vW(this._heartbeatsCache.heartbeats),s=VC(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return oa.warn(r),""}}}function ow(){return new Date().toISOString().substring(0,10)}function vW(t,e=bW){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),lw(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),lw(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class TW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WC()?GC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gW(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sw(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sw(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lw(t){return VC(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){jo(new ja("platform-logger",e=>new Bq(e),"PRIVATE")),jo(new ja("heartbeat",e=>new _W(e),"PRIVATE")),za(Ub,tw,t),za(Ub,tw,"esm2017"),za("fire-js","")}EW("");const uw="@firebase/installations",Vb="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1e4,dw=`w:${Vb}`,fw="FIS_v2",AW="https://firebaseinstallations.googleapis.com/v1",xW=60*60*1e3,CW="installations",wW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ho=new kp(CW,wW,SW);function hw(t){return t instanceof su&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw({projectId:t}){return`${AW}/projects/${t}/installations`}function mw(t){return{token:t.token,requestStatus:2,expiresIn:IW(t.expiresIn),creationTime:Date.now()}}async function gw(t,e){const n=(await e.json()).error;return Ho.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function bw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kW(t,{refreshToken:e}){const r=bw(t);return r.append("Authorization",DW(e)),r}async function yw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IW(t){return Number(t.replace("s","000"))}function DW(t){return`${fw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=pw(t),i=bw(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:r,authVersion:fw,appId:t.appId,sdkVersion:dw},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await yw(()=>fetch(n,o));if(l.ok){const d=await l.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:mw(d.authToken)}}else throw await gw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=/^[cdef][\w-]{21}$/,qb="";function LW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=RW(t);return OW.test(r)?r:qb}catch{return qb}}function RW(t){return MW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Tw(t,e){const r=Np(t);Ew(r,e),BW(r,e)}function Ew(t,e){const r=vw.get(t);if(r)for(const n of r)n(e)}function BW(t,e){const r=PW();r&&r.postMessage({key:t,fid:e}),FW()}let zo=null;function PW(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=t=>{Ew(t.data.key,t.data.fid)}),zo}function FW(){vw.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="firebase-installations-database",$W=1,Vo="firebase-installations-store";let Wb=null;function Gb(){return Wb||(Wb=Ip(UW,$W,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vo)}}})),Wb}async function Mp(t,e){const r=Np(t),i=(await Gb()).transaction(Vo,"readwrite"),s=i.objectStore(Vo),a=await s.get(r);return await s.put(e,r),await i.done,(!a||a.fid!==e.fid)&&Tw(t,e.fid),e}async function Aw(t){const e=Np(t),n=(await Gb()).transaction(Vo,"readwrite");await n.objectStore(Vo).delete(e),await n.done}async function Op(t,e){const r=Np(t),i=(await Gb()).transaction(Vo,"readwrite"),s=i.objectStore(Vo),a=await s.get(r),o=e(a);return o===void 0?await s.delete(r):await s.put(o,r),await i.done,o&&(!a||a.fid!==o.fid)&&Tw(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(t){let e;const r=await Op(t.appConfig,n=>{const i=jW(n),s=HW(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===qb?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function jW(t){const e=t||{fid:LW(),registrationStatus:0};return Cw(e)}function HW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ho.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=zW(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VW(t)}:{installationEntry:e}}async function zW(t,e){try{const r=await NW(t,e);return Mp(t.appConfig,r)}catch(r){throw hw(r)&&r.customData.serverCode===409?await Aw(t.appConfig):await Mp(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function VW(t){let e=await xw(t.appConfig);for(;e.registrationStatus===1;)await _w(100),e=await xw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Yb(t);return n||r}return e}function xw(t){return Op(t,e=>{if(!e)throw Ho.create("installation-not-found");return Cw(e)})}function Cw(t){return qW(t)?{fid:t.fid,registrationStatus:0}:t}function qW(t){return t.registrationStatus===1&&t.registrationTime+cw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WW({appConfig:t,heartbeatServiceProvider:e},r){const n=GW(t,r),i=kW(t,r),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:dw,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await yw(()=>fetch(n,o));if(l.ok){const d=await l.json();return mw(d)}else throw await gw("Generate Auth Token",l)}function GW(t,{fid:e}){return`${pw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e=!1){let r;const n=await Op(t.appConfig,s=>{if(!Sw(s))throw Ho.create("not-registered");const a=s.authToken;if(!e&&KW(a))return s;if(a.requestStatus===1)return r=YW(t,e),s;{if(!navigator.onLine)throw Ho.create("app-offline");const o=ZW(s);return r=QW(t,o),o}});return r?await r:n.authToken}async function YW(t,e){let r=await ww(t.appConfig);for(;r.authToken.requestStatus===1;)await _w(100),r=await ww(t.appConfig);const n=r.authToken;return n.requestStatus===0?Qb(t,e):n}function ww(t){return Op(t,e=>{if(!Sw(e))throw Ho.create("not-registered");const r=e.authToken;return JW(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QW(t,e){try{const r=await WW(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Mp(t.appConfig,n),r}catch(r){if(hw(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Aw(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mp(t.appConfig,n)}throw r}}function Sw(t){return t!==void 0&&t.registrationStatus===2}function KW(t){return t.requestStatus===2&&!XW(t)}function XW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xW}function ZW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function JW(t){return t.requestStatus===1&&t.requestTime+cw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t){const e=t,{installationEntry:r,registrationPromise:n}=await Yb(e);return n?n.catch(console.error):Qb(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(t,e=!1){const r=t;return await rG(r),(await Qb(r,e)).token}async function rG(t){const{registrationPromise:e}=await Yb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){if(!t||!t.options)throw Kb("App Configuration");if(!t.name)throw Kb("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Kb(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kb(t){return Ho.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="installations",iG="installations-internal",sG=t=>{const e=t.getProvider("app").getImmediate(),r=nG(e),n=Hb(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},aG=t=>{const e=t.getProvider("app").getImmediate(),r=Hb(e,kw).getImmediate();return{getId:()=>eG(r),getToken:i=>tG(r,i)}};function oG(){jo(new ja(kw,sG,"PUBLIC")),jo(new ja(iG,aG,"PRIVATE"))}oG(),za(uw,Vb),za(uw,Vb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="/firebase-messaging-sw.js",uG="/firebase-cloud-messaging-push-scope",Iw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cG="https://fcmregistrations.googleapis.com/v1",Dw="google.c.a.c_id",dG="google.c.a.c_l",fG="google.c.a.ts",hG="google.c.a.e";var Nw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Nw||(Nw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var wd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(wd||(wd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pG(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="fcm_token_details_db",mG=5,Mw="fcm_token_object_Store";async function gG(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Xb))return null;let e=null;return(await Ip(Xb,mG,{upgrade:async(n,i,s,a)=>{var o;if(i<2||!n.objectStoreNames.contains(Mw))return;const l=a.objectStore(Mw),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(i===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(o=f.createTime)!==null&&o!==void 0?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:la(f.vapidKey)}}}else if(i===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:la(f.auth),p256dh:la(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:la(f.vapidKey)}}}else if(i===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:la(f.auth),p256dh:la(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:la(f.vapidKey)}}}}}})).close(),await Pb(Xb),await Pb("fcm_vapid_details_db"),await Pb("undefined"),bG(e)?e:null}function bG(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG="firebase-messaging-database",_G=1,Sd="firebase-messaging-store";let Zb=null;function Ow(){return Zb||(Zb=Ip(yG,_G,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sd)}}})),Zb}async function vG(t){const e=Lw(t),n=await(await Ow()).transaction(Sd).objectStore(Sd).get(e);if(n)return n;{const i=await gG(t.appConfig.senderId);if(i)return await Jb(t,i),i}}async function Jb(t,e){const r=Lw(t),i=(await Ow()).transaction(Sd,"readwrite");return await i.objectStore(Sd).put(e,r),await i.done,e}function Lw({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Nn=new kp("messaging","Messaging",TG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(t,e){const r=await t2(t),n=Rw(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(e2(t.appConfig),i)).json()}catch(a){throw Nn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Nn.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Nn.create("token-subscribe-no-token");return s.token}async function AG(t,e){const r=await t2(t),n=Rw(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${e2(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Nn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Nn.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Nn.create("token-update-no-token");return s.token}async function xG(t,e){const n={method:"DELETE",headers:await t2(t)};try{const s=await(await fetch(`${e2(t.appConfig)}/${e}`,n)).json();if(s.error){const a=s.error.message;throw Nn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw Nn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function e2({projectId:t}){return`${cG}/projects/${t}/registrations`}async function t2({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Rw({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==Iw&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=7*24*60*60*1e3;async function wG(t){const e=await kG(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:la(e.getKey("auth")),p256dh:la(e.getKey("p256dh"))},n=await vG(t.firebaseDependencies);if(n){if(IG(n.subscriptionOptions,r))return Date.now()>=n.createTime+CG?SG(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await xG(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return Bw(t.firebaseDependencies,r)}else return Bw(t.firebaseDependencies,r)}async function SG(t,e){try{const r=await AG(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await Jb(t.firebaseDependencies,n),r}catch(r){throw r}}async function Bw(t,e){const n={token:await EG(t,e),createTime:Date.now(),subscriptionOptions:e};return await Jb(t,n),n.token}async function kG(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pG(e)})}function IG(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return DG(e,t),NG(e,t),MG(e,t),e}function DG(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function NG(t,e){e.data&&(t.data=e.data)}function MG(t,e){var r,n,i,s,a;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const o=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;o&&(t.fcmOptions.link=o);const l=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){return typeof t=="object"&&!!t&&Dw in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fw("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fw("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Fw(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){if(!t||!t.options)throw r2("App Configuration Object");if(!t.name)throw r2("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw r2(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function r2(t){return Nn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=LG(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BG(t){try{t.swRegistration=await navigator.serviceWorker.register(lG,{scope:uG}),t.swRegistration.update().catch(()=>{})}catch(e){throw Nn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PG(t,e){if(!e&&!t.swRegistration&&await BG(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Nn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FG(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Iw)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(t,e){if(!navigator)throw Nn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Nn.create("permission-blocked");return await FG(t,e==null?void 0:e.vapidKey),await PG(t,e==null?void 0:e.serviceWorkerRegistration),wG(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UG(t,e,r){const n=$G(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[Dw],message_name:r[dG],message_time:r[fG],message_device_time:Math.floor(Date.now()/1e3)})}function $G(t){switch(t){case wd.NOTIFICATION_CLICKED:return"notification_open";case wd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===wd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Pw(r)):t.onMessageHandler.next(Pw(r)));const n=r.data;OG(n)&&n[hG]==="1"&&await UG(t,r.messageType,n)}const $w="@firebase/messaging",jw="0.12.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=t=>{const e=new RG(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>jG(e,r)),e},zG=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>Uw(e,n)}};function VG(){jo(new ja("messaging",HG,"PUBLIC")),jo(new ja("messaging-internal",zG,"PRIVATE")),za($w,jw),za($w,jw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qG(){try{await GC()}catch{return!1}return typeof window<"u"&&WC()&&hq()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t=hW()){return qG().then(e=>{if(!e)throw Nn.create("unsupported-browser")},e=>{throw Nn.create("indexed-db-unsupported")}),Hb(QC(t),"messaging").getImmediate()}async function GG(t,e){return t=QC(t),Uw(t,e)}VG();var Is=(t=>(t.FetchRooms="/rooms",t.Search="/search",t.Subscribe="/me/subscribe",t.Unsubscribe="/me/unsubscribe",t))(Is||{});class au{constructor(e,r,n){Ge(this,"id");Ge(this,"name");Ge(this,"roomIds");this.id=e,this.name=r,this.roomIds=n}get payload(){return{children:this.roomIds.map(e=>({id:e,type:"room"}))}}}var Ke=(t=>(t.increment="increment",t.fetchRooms="fetchRooms",t.fetchRoom="fetchRoom",t.loadMessages="loadMessages",t.updateLastRead="updateLastRead",t.handleMessageFromSocket="handleMessageFromSocket",t.handleRoomFromSocket="handleRoomFromSocket",t.handleLastReadFromSocket="handleLastReadFromSocket",t.sendMessage="sendMessage",t.recallMessage="recallMessage",t.uploadMedia="uploadMedia",t.fetchLinkPreview="fetchLinkPreview",t.handleLinkPreviews="handleLinkPreviews",t.fetchVideoBlob="fetchVideoBlob",t.navigateToMessage="navigateToMessage",t.uploadImage="uploadImage",t.updateRoomPrefs="updateRoomPrefs",t.fetchPrefs="fetchPrefs",t.updatePref="updatePref",t.deletePref="deletePref",t.updateFolder="updateFolder",t.removeFolder="removeFolder",t.handlePrefChangeFromSocket="handlePrefChangeFromSocket",t.handlePrefDeleteFromSocket="handlePrefDeleteFromSocket",t.aggregateRoomsAndFolders="aggregateRoomsAndFolders",t.removeMembers="removeMembers",t.handleTypingFromSocket="handleTypingFromSocket",t.insertUnreadMessage="insertUnreadMessage",t.translate="translate",t.searchRooms="searchRooms",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.removeRoomFromFolder="removeRoomFromFolder",t.addRoomToFolder="addRoomToFolder",t.fetchRoomsInFolders="fetchRoomsInFolders",t.batchSendMessage="batchSendMessage",t.toggleNotification="toggleNotification",t.removeRoom="removeRoom",t.translateMessage="translateMessage",t.blockUser="blockUser",t.unblockUser="unblockUser",t.getBlockList="getBlockList",t.quickReply="quickReply",t))(Ke||{}),Ye=(t=>(t.increment="increment",t.setState="setState",t.updateField="updateField",t.deleteField="deleteField",t.updateRoom="updateRoom",t.updateLastRead="updateLastRead",t.pushMessage="pushMessage",t.replaceMessage="replaceMessage",t.clearChatRoom="clearChatRoom",t.deleteRoom="deleteRoom",t.setMap="setMap",t.deleteMap="deleteMap",t.insertMessageLinkedList="insertMessageLinkedList",t.concateMessageLinkedList="concateMessageLinkedList",t.unshiftMessageLinkedList="unshiftMessageLinkedList",t))(Ye||{});class YG{constructor(e){Ge(this,"head");Ge(this,"tail");Ge(this,"length");Ge(this,"map");Ge(this,"messageGroups");Ge(this,"firstMessageOfDate");Ge(this,"prev",null);Ge(this,"next",null);this.head=null,this.tail=null,this.length=0,this.map=new Map,this.messageGroups=new Map,this.firstMessageOfDate=new Map;const r=n=>{const i=Er.fromRaw(n);return i?[i].concat(r(n.reply)):[]};for(const n of e.reverse()){const i=Er.fromRaw(n);i&&this.append(i);for(const s of r(n.reply))this.map.set(s.id,s)}}append(e){if(!this.contains(e.id)){if(this.tail){let r=this.tail;for(;r&&r.createdAt>e.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,r.next=e,e.prev=r):(e.next=this.head,this.head=e),e.next&&(e.next.prev=e)}else this.head=this.tail=e;this.map.set(e.id,e),this.length++,this.insertMessageToGroup(e)}}insertMessageToGroup(e){if(e.isSystem)return;if(this.messageGroups.has(e.groupId)){const n=this.messageGroups.get(e.groupId);if(n){let i=!1;for(let s=n.length-1;s>=0;s--)if(n[s].createdAt<e.createdAt){s==n.length-1?n.push(e):n.splice(s+1,0,e),i=!0;break}i||n.unshift(e)}}else this.messageGroups.set(e.groupId,[e]);const r=this.firstMessageOfDate.get(e.dateId);(!r||r.createdAt>e.createdAt)&&this.firstMessageOfDate.set(e.dateId,e)}remove(e){var i,s;const r=this.finds(e);if(!r)return;r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev,this.map.delete(e),this.length--;const n=this.messageGroups.get(r.groupId);if(n){const a=n.indexOf(r);a>=0&&(n.splice(a,1),n.length===0&&this.messageGroups.delete(r.groupId))}((i=this.firstMessageOfDate.get(r.dateId))==null?void 0:i.id)===r.id&&(r.dateId===((s=r.next)==null?void 0:s.dateId)?this.firstMessageOfDate.set(r.dateId,r.next):this.firstMessageOfDate.delete(r.dateId))}replace(e,r){var i;const n=this.finds(e);if(n){n.prev?n.prev.next=r:this.head=r,n.next?n.next.prev=r:this.tail=r,r.prev=n.prev,r.next=n.next,this.map.delete(e),this.map.set(r.id,r);const s=this.messageGroups.get(n.groupId);if(s){const a=s.indexOf(n);a>=0&&(r.isSystem?s.splice(a,1):s[a]=r)}((i=this.firstMessageOfDate.get(n.dateId))==null?void 0:i.id)===n.id&&this.firstMessageOfDate.set(n.dateId,r)}}concate(e){if(e.length!==0){this.tail?(this.tail.next=e.head,e.head&&(e.head.prev=this.tail),this.tail=e.tail):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const s of n)this.insertMessageToGroup(s)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}unshift(e){if(e.length!==0){this.head?(this.head.prev=e.tail,e.tail&&(e.tail.next=this.head),this.head=e.head):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const s of n)this.insertMessageToGroup(s)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}resetHead(e){if(this.head&&this.head.id===e)return;const r=this.finds(e);if(r){this.head=r,r.prev=null;let n=0,i=r;for(;i;)n++,i=i.next;this.length=n}}resetTail(e){if(this.tail&&this.tail.id===e)return;const r=this.finds(e);if(r){this.tail=r,r.next=null;let n=0,i=r;for(;i;)n++,i=i.prev;this.length=n}}canCombine(e){var r,n;return e.length===0||!e.head||!e.tail?!1:this.contains(e.tail.id)||this.contains(e.head.id)||e.contains(((r=this.head)==null?void 0:r.id)??"")&&e.contains(((n=this.tail)==null?void 0:n.id)??"")}combine(e){var i,s,a,o;if(e.length===0||!e.head||!e.tail)return;const r=this.contains(e.head.id),n=this.contains(e.tail.id);if(!(r&&n)){if(!r&&!n)e.contains(((i=this.head)==null?void 0:i.id)??"")&&e.contains(((s=this.tail)==null?void 0:s.id)??"")&&(this.head=e.head,this.tail=e.tail,this.length=e.length,this.map=e.map);else if(n){const l=(a=this.finds(e.tail.id))==null?void 0:a.next;l?this.resetHead(l.id):(this.head=null,this.tail=null,this.length=0),this.unshift(e)}else if(r){const l=(o=this.finds(e.head.id))==null?void 0:o.prev;l?this.resetTail(l.id):(this.head=null,this.tail=null,this.length=0),this.concate(e)}}}array(){const e=[];let r=this.head;for(;r;)e.push(r),r=r.next;return e}finds(e){const r=this.map.get(e);if(r)return r.next||r.prev||this.head===r&&this.tail===r?r:void 0}contains(e){return this.finds(e)!==void 0}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}var Lp=(t=>(t.Direct="direct",t.Group="group",t))(Lp||{});class kd{constructor(e,r){Ge(this,"id");Ge(this,"name");Ge(this,"type");Ge(this,"createdAt");Ge(this,"updatedAt");Ge(this,"memberIds");Ge(this,"isOutgoingGroupSender");Ge(this,"coverUrl");Ge(this,"lastMessage");Ge(this,"numberOfUnread");Ge(this,"lastReadMessageId");Ge(this,"pref");Ge(this,"roomTags");Ge(this,"extra");Ge(this,"muted",!1);Ge(this,"isSuperuser",!1);Ge(this,"description");var x;const{_id:n,name:i,roomType:s,createdTimeMS:a,lastMessage:o,members:l,cover:d,unread:f,memberProperties:c,extParams:h,pref:p,roomTags:m,muted:b,isSuperuser:y,description:_}=e;if(this.id=n,this.name=i,this.type=s||"direct",this.createdAt=a,this.lastMessage=Er.fromRaw(o),this.updatedAt=((x=this.lastMessage)==null?void 0:x.createdAt)??a,this.memberIds=[],this.isOutgoingGroupSender={},l.forEach(C=>{this.memberIds.push(C._id),C.clientType==="group"&&C.members.some(k=>k._id===r)&&C.members.forEach(k=>{this.isOutgoingGroupSender[k._id]=!0})}),this.coverUrl=d??"",this.numberOfUnread=f??0,this.lastReadMessageId={},this.pref=p,this.roomTags=m??[],this.muted=b,this.description=_??"",c)for(const{client:C,lastRead:k}of c)this.lastReadMessageId[C]=k;try{this.extra=JSON.parse(h)}catch{this.extra={}}s==="custom"&&(this.type=this.extra.roomType),this.isSuperuser=y??!1}get memberIdsWithoutMeAndMyGroup(){const{state:{imkit:{uid:e,users:r}}}=nr();return this.memberIds.filter(n=>n!==e&&!r[n].memberIds[e])}_displayName(e,r){if(this.type=="group")return`${this.name} (${this.memberIds.length})`;if(this.type=="direct")if(this.extra.guestId){const n=this.extra.guestId;return r[n].nickname??""}else return this.memberIds.filter(n=>n!==e).map(n=>r[n].nickname).join(", ");return""}get displayName(){var n;const{state:{imkit:{uid:e,users:r}}}=nr();if(this.memberIdsWithoutMeAndMyGroup.length===0){const{t:i}=Ss();return i("emptyChat")}else{if(this.type=="direct")return(n=this.memberIdsWithoutMeAndMyGroup.map(i=>r[i])[0])==null?void 0:n.nickname;if(this.type=="group")return this.name?this.name:this.memberIds.filter(i=>i!==e).map(i=>r[i].nickname).join(", ")}return""}get avatars(){const{state:{imkit:{uid:e,users:r}}}=nr();return this.memberIdsWithoutMeAndMyGroup.length===0?[{url:r[e].avatarUrl??"",name:r[e].nickname??""}]:this.type=="direct"?this.memberIdsWithoutMeAndMyGroup.map(n=>({url:r[n].avatarUrl??"",name:r[n].nickname??""})):this.type=="group"?this.coverUrl&&this.coverUrl.length>0?[{url:this.coverUrl,name:this.displayName??""}]:this.memberIds.map(n=>r[n]).sort((n,i)=>n.id===e?1:i.id===e?-1:(i.avatarUrl??"").length-(n.avatarUrl??"").length).map(n=>({url:n.avatarUrl??"",name:n.nickname??""})):[{url:"",name:this.displayName??""}]}}function QG(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function Hw(t,e){return new Promise(function(r,n){let i;return KG(t).then(function(s){try{return i=s,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return n(a)}},n)})}const KG=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const d=a+10;let f;switch(s.getUint16(d)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(s.getUint16(d+2,f)!==42)return r("TIFF header contains invalid version");const c=s.getUint32(d+4,f),h=d+c+2+12*s.getUint16(d+c,f);for(let p=d+c+2;p<h;p+=12)if(s.getUint16(p,f)==274){if(s.getUint16(p+2,f)!==3)return r("Orientation data type is invalid");if(s.getUint32(p+4,f)!==1)return r("Orientation data count is invalid");s.setUint16(p+8,1,f);break}return e(i.slice(a,a+2+l))}a+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var Rp={},XG={get exports(){return Rp},set exports(t){Rp=t}};(function(t){var e,r,n={};XG.exports=n,n.parse=function(i,s){for(var a=n.bin.readUshort,o=n.bin.readUint,l=0,d={},f=new Uint8Array(i),c=f.length-4;o(f,c)!=101010256;)c--;l=c,l+=4;var h=a(f,l+=4);a(f,l+=2);var p=o(f,l+=2),m=o(f,l+=4);l+=4,l=m;for(var b=0;b<h;b++){o(f,l),l+=4,l+=4,l+=4,o(f,l+=4),p=o(f,l+=4);var y=o(f,l+=4),_=a(f,l+=4),x=a(f,l+2),C=a(f,l+4);l+=6;var k=o(f,l+=8);l+=4,l+=_+x+C,n._readLocal(f,k,d,p,y,s)}return d},n._readLocal=function(i,s,a,o,l,d){var f=n.bin.readUshort,c=n.bin.readUint;c(i,s),f(i,s+=4),f(i,s+=2);var h=f(i,s+=2);c(i,s+=2),c(i,s+=4),s+=4;var p=f(i,s+=8),m=f(i,s+=2);s+=2;var b=n.bin.readUTF8(i,s,p);if(s+=p,s+=m,d)a[b]={size:l,csize:o};else{var y=new Uint8Array(i.buffer,s);if(h==0)a[b]=new Uint8Array(y.buffer.slice(s,s+o));else{if(h!=8)throw"unknown compression method: "+h;var _=new Uint8Array(l);n.inflateRaw(y,_),a[b]=_}}},n.inflateRaw=function(i,s){return n.F.inflate(i,s)},n.inflate=function(i,s){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},n.deflate=function(i,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[a]=120,o[a+1]=156,a+=2,a=n.F.deflateRaw(i,o,a,s.level);var l=n.adler(i,0,i.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},n.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),o=n.F.deflateRaw(i,a,o,s.level);return new Uint8Array(a.buffer,0,o)},n.encode=function(i,s){s==null&&(s=!1);var a=0,o=n.bin.writeUint,l=n.bin.writeUshort,d={};for(var f in i){var c=!n._noNeed(f)&&!s,h=i[f],p=n.crc.crc(h,0,h.length);d[f]={cpr:c,usize:h.length,crc:p,file:c?n.deflateRaw(h):h}}for(var f in d)a+=d[f].file.length+30+46+2*n.bin.sizeUTF8(f);a+=22;var m=new Uint8Array(a),b=0,y=[];for(var f in d){var _=d[f];y.push(b),b=n._writeHeader(m,b,f,_,0)}var x=0,C=b;for(var f in d)_=d[f],y.push(b),b=n._writeHeader(m,b,f,_,1,y[x++]);var k=b-C;return o(m,b,101010256),b+=4,l(m,b+=4,x),l(m,b+=2,x),o(m,b+=2,k),o(m,b+=4,C),b+=4,b+=2,m.buffer},n._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},n._writeHeader=function(i,s,a,o,l,d){var f=n.bin.writeUint,c=n.bin.writeUshort,h=o.file;return f(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),c(i,s,20),c(i,s+=2,0),c(i,s+=2,o.cpr?8:0),f(i,s+=2,0),f(i,s+=4,o.crc),f(i,s+=4,h.length),f(i,s+=4,o.usize),c(i,s+=4,n.bin.sizeUTF8(a)),c(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,f(i,s+=6,d),s+=4),s+=n.bin.writeUTF8(i,s,a),l==0&&(i.set(h,s),s+=h.length),s},n.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,o){for(var l=0;l<o;l++)i=n.crc.table[255&(i^s[a+l])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^n.crc.update(4294967295,i,s,a)}},n.adler=function(i,s,a){for(var o=1,l=0,d=s,f=s+a;d<f;){for(var c=Math.min(d+5552,f);d<c;)l+=o+=i[d++];o%=65521,l%=65521}return l<<16|o},n.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},writeASCII:function(i,s,a){for(var o=0;o<a.length;o++)i[s+o]=a.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var o,l="",d=0;d<a;d++)l+="%"+n.bin.pad(i[s+d].toString(16));try{o=decodeURIComponent(l)}catch{return n.bin.readASCII(i,s,a)}return o},writeUTF8:function(i,s,a){for(var o=a.length,l=0,d=0;d<o;d++){var f=a.charCodeAt(d);if(!(4294967168&f))i[s+l]=f,l++;else if(!(4294965248&f))i[s+l]=192|f>>6,i[s+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))i[s+l]=224|f>>12,i[s+l+1]=128|f>>6&63,i[s+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";i[s+l]=240|f>>18,i[s+l+1]=128|f>>12&63,i[s+l+2]=128|f>>6&63,i[s+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,a=0,o=0;o<s;o++){var l=i.charCodeAt(o);if(!(4294967168&l))a++;else if(!(4294965248&l))a+=2;else if(!(4294901760&l))a+=3;else{if(4292870144&l)throw"e";a+=4}}return a}},n.F={},n.F.deflateRaw=function(i,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],d=n.F.U,f=n.F._goodIndex;n.F._hash;var c=n.F._putsE,h=0,p=a<<3,m=0,b=i.length;if(o==0){for(;h<b;)c(s,p,h+(z=Math.min(65535,b-h))==b?1:0),p=n.F._copyExact(i,h,z,s,p+8),h+=z;return p>>>3}var y=d.lits,_=d.strt,x=d.prev,C=0,k=0,S=0,w=0,L=0,D=0;for(b>2&&(_[D=n.F._hash(i,0)]=0),h=0;h<b;h++){if(L=D,h+1<b-2){D=n.F._hash(i,h+1);var I=h+1&32767;x[I]=_[D],_[D]=I}if(m<=h){(C>14e3||k>26697)&&b-h>100&&(m<h&&(y[C]=h-m,C+=2,m=h),p=n.F._writeBlock(h==b-1||m==b?1:0,y,C,w,i,S,h-S,s,p),C=k=w=0,S=h);var P=0;h<b-2&&(P=n.F._bestMatch(i,h,x,L,Math.min(l[2],b-h),l[3]));var z=P>>>16,U=65535&P;if(P!=0){U=65535&P;var $=f(z=P>>>16,d.of0);d.lhst[257+$]++;var H=f(U,d.df0);d.dhst[H]++,w+=d.exb[$]+d.dxb[H],y[C]=z<<23|h-m,y[C+1]=U<<16|$<<8|H,C+=2,m=h+z}else d.lhst[i[h]]++;k++}}for(S==h&&i.length!=0||(m<h&&(y[C]=h-m,C+=2,m=h),p=n.F._writeBlock(1,y,C,w,i,S,h-S,s,p),C=0,k=0,C=k=w=0,S=h);7&p;)p++;return p>>>3},n.F._bestMatch=function(i,s,a,o,l,d){var f=32767&s,c=a[f],h=f-c+32768&32767;if(c==f||o!=n.F._hash(i,s-h))return 0;for(var p=0,m=0,b=Math.min(32767,s);h<=b&&--d!=0&&c!=f;){if(p==0||i[s+p]==i[s+p-h]){var y=n.F._howLong(i,s,h);if(y>p){if(m=h,(p=y)>=l)break;h+2<y&&(y=h+2);for(var _=0,x=0;x<y-2;x++){var C=s-h+x+32768&32767,k=C-a[C]+32768&32767;k>_&&(_=k,c=C)}}}h+=(f=c)-(c=a[f])+32768&32767}return p<<16|m},n.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var o=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-a];)s++;return s-o},n.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,s,a,o,l,d,f,c,h){var p,m,b,y,_,x,C,k,S,w=n.F.U,L=n.F._putsF,D=n.F._putsE;w.lhst[256]++,m=(p=n.F.getTrees())[0],b=p[1],y=p[2],_=p[3],x=p[4],C=p[5],k=p[6],S=p[7];var I=32+(h+3&7?8-(h+3&7):0)+(f<<3),P=o+n.F.contSize(w.fltree,w.lhst)+n.F.contSize(w.fdtree,w.dhst),z=o+n.F.contSize(w.ltree,w.lhst)+n.F.contSize(w.dtree,w.dhst);z+=14+3*C+n.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var U=0;U<286;U++)w.lhst[U]=0;for(U=0;U<30;U++)w.dhst[U]=0;for(U=0;U<19;U++)w.ihst[U]=0;var $=I<P&&I<z?0:P<z?1:2;if(L(c,h,i),L(c,h+1,$),h+=3,$==0){for(;7&h;)h++;h=n.F._copyExact(l,d,f,c,h)}else{var H,Y;if($==1&&(H=w.fltree,Y=w.fdtree),$==2){n.F.makeCodes(w.ltree,m),n.F.revCodes(w.ltree,m),n.F.makeCodes(w.dtree,b),n.F.revCodes(w.dtree,b),n.F.makeCodes(w.itree,y),n.F.revCodes(w.itree,y),H=w.ltree,Y=w.dtree,D(c,h,_-257),D(c,h+=5,x-1),D(c,h+=5,C-4),h+=4;for(var F=0;F<C;F++)D(c,h+3*F,w.itree[1+(w.ordr[F]<<1)]);h+=3*C,h=n.F._codeTiny(k,w.itree,c,h),h=n.F._codeTiny(S,w.itree,c,h)}for(var j=d,se=0;se<a;se+=2){for(var W=s[se],R=W>>>23,N=j+(8388607&W);j<N;)h=n.F._writeLit(l[j++],H,c,h);if(R!=0){var V=s[se+1],Z=V>>16,X=V>>8&255,K=255&V;D(c,h=n.F._writeLit(257+X,H,c,h),R-w.of0[X]),h+=w.exb[X],L(c,h=n.F._writeLit(K,Y,c,h),Z-w.df0[K]),h+=w.dxb[K],j+=R}}h=n.F._writeLit(256,H,c,h)}return h},n.F._copyExact=function(i,s,a,o,l){var d=l>>>3;return o[d]=a,o[d+1]=a>>>8,o[d+2]=255-o[d],o[d+3]=255-o[d+1],d+=4,o.set(new Uint8Array(i.buffer,s,a),d),l+(a+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,s=n.F._hufTree(i.lhst,i.ltree,15),a=n.F._hufTree(i.dhst,i.dtree,15),o=[],l=n.F._lenCodes(i.ltree,o),d=[],f=n.F._lenCodes(i.dtree,d),c=0;c<o.length;c+=2)i.ihst[o[c]]++;for(c=0;c<d.length;c+=2)i.ihst[d[c]]++;for(var h=n.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,a,h,l,f,p,o,d]},n.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},n.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},n.F.contSize=function(i,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*i[1+(o<<1)];return a},n.F._codeTiny=function(i,s,a,o){for(var l=0;l<i.length;l+=2){var d=i[l],f=i[l+1];o=n.F._writeLit(d,s,a,o);var c=d==16?2:d==17?3:7;d>15&&(n.F._putsE(a,o,f,c),o+=c)}return o},n.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=i[o+1],d=o+3<a?i[o+3]:-1,f=o+5<a?i[o+5]:-1,c=o==0?-1:i[o-1];if(l==0&&d==l&&f==l){for(var h=o+5;h+2<a&&i[h+2]==l;)h+=2;(p=Math.min(h+1-o>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),o+=2*p-2}else if(l==c&&d==l&&f==l){for(h=o+5;h+2<a&&i[h+2]==l;)h+=2;var p=Math.min(h+1-o>>>1,6);s.push(16,p-3),o+=2*p-2}else s.push(l,0)}return a>>>1},n.F._hufTree=function(i,s,a){var o=[],l=i.length,d=s.length,f=0;for(f=0;f<d;f+=2)s[f]=0,s[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&o.push({lit:f,f:i[f]});var c=o.length,h=o.slice(0);if(c==0)return 0;if(c==1){var p=o[0].lit;return h=p==0?1:0,s[1+(p<<1)]=1,s[1+(h<<1)]=1,1}o.sort(function(k,S){return k.f-S.f});var m=o[0],b=o[1],y=0,_=1,x=2;for(o[0]={lit:-1,f:m.f+b.f,l:m,r:b,d:0};_!=c-1;)m=y!=_&&(x==c||o[y].f<o[x].f)?o[y++]:o[x++],b=y!=_&&(x==c||o[y].f<o[x].f)?o[y++]:o[x++],o[_++]={lit:-1,f:m.f+b.f,l:m,r:b};var C=n.F.setDepth(o[_-1],0);for(C>a&&(n.F.restrictDepth(h,a,C),C=a),f=0;f<c;f++)s[1+(h[f].lit<<1)]=h[f].d;return C},n.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(n.F.setDepth(i.l,s+1),n.F.setDepth(i.r,s+1))},n.F.restrictDepth=function(i,s,a){var o=0,l=1<<a-s,d=0;for(i.sort(function(c,h){return h.d==c.d?c.f-h.f:h.d-c.d}),o=0;o<i.length&&i[o].d>s;o++){var f=i[o].d;i[o].d=s,d+=l-(1<<a-f)}for(d>>>=a-s;d>0;)(f=i[o].d)<s?(i[o].d++,d-=1<<s-f-1):o++;for(;o>=0;o--)i[o].d==s&&d<0&&(i[o].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},n.F._writeLit=function(i,s,a,o){return n.F._putsF(a,o,s[i<<1]),o+s[1+(i<<1)]},n.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var o=n.F,l=o._bitsF,d=o._bitsE,f=o._decodeTiny,c=o.makeCodes,h=o.codes2map,p=o._get17,m=o.U,b=s==null;b&&(s=new a(i.length>>>2<<3));for(var y,_,x=0,C=0,k=0,S=0,w=0,L=0,D=0,I=0,P=0;x==0;)if(x=l(i,P,1),C=l(i,P+1,2),P+=3,C!=0){if(b&&(s=n.F._check(s,I+(1<<17))),C==1&&(y=m.flmap,_=m.fdmap,L=511,D=31),C==2){k=d(i,P,5)+257,S=d(i,P+5,5)+1,w=d(i,P+10,4)+4,P+=14;for(var z=0;z<38;z+=2)m.itree[z]=0,m.itree[z+1]=0;var U=1;for(z=0;z<w;z++){var $=d(i,P+3*z,3);m.itree[1+(m.ordr[z]<<1)]=$,$>U&&(U=$)}P+=3*w,c(m.itree,U),h(m.itree,U,m.imap),y=m.lmap,_=m.dmap,P=f(m.imap,(1<<U)-1,k+S,i,P,m.ttree);var H=o._copyOut(m.ttree,0,k,m.ltree);L=(1<<H)-1;var Y=o._copyOut(m.ttree,k,S,m.dtree);D=(1<<Y)-1,c(m.ltree,H),h(m.ltree,H,y),c(m.dtree,Y),h(m.dtree,Y,_)}for(;;){var F=y[p(i,P)&L];P+=15&F;var j=F>>>4;if(!(j>>>8))s[I++]=j;else{if(j==256)break;var se=I+j-254;if(j>264){var W=m.ldef[j-257];se=I+(W>>>3)+d(i,P,7&W),P+=7&W}var R=_[p(i,P)&D];P+=15&R;var N=R>>>4,V=m.ddef[N],Z=(V>>>4)+l(i,P,15&V);for(P+=15&V,b&&(s=n.F._check(s,I+(1<<17)));I<se;)s[I]=s[I++-Z],s[I]=s[I++-Z],s[I]=s[I++-Z],s[I]=s[I++-Z];I=se}}}else{7&P&&(P+=8-(7&P));var X=4+(P>>>3),K=i[X-4]|i[X-3]<<8;b&&(s=n.F._check(s,I+K)),s.set(new a(i.buffer,i.byteOffset+X,K),I),P=X+K<<3,I+=K}return s.length==I?s:s.slice(0,I)},n.F._check=function(i,s){var a=i.length;if(s<=a)return i;var o=new Uint8Array(Math.max(a<<1,s));return o.set(i,0),o},n.F._decodeTiny=function(i,s,a,o,l,d){for(var f=n.F._bitsE,c=n.F._get17,h=0;h<a;){var p=i[c(o,l)&s];l+=15&p;var m=p>>>4;if(m<=15)d[h]=m,h++;else{var b=0,y=0;m==16?(y=3+f(o,l,2),l+=2,b=d[h-1]):m==17?(y=3+f(o,l,3),l+=3):m==18&&(y=11+f(o,l,7),l+=7);for(var _=h+y;h<_;)d[h]=b,h++}}return l},n.F._copyOut=function(i,s,a,o){for(var l=0,d=0,f=o.length>>>1;d<a;){var c=i[d+s];o[d<<1]=0,o[1+(d<<1)]=c,c>l&&(l=c),d++}for(;d<f;)o[d<<1]=0,o[1+(d<<1)]=0,d++;return l},n.F.makeCodes=function(i,s){for(var a,o,l,d,f=n.F.U,c=i.length,h=f.bl_count,p=0;p<=s;p++)h[p]=0;for(p=1;p<c;p+=2)h[i[p]]++;var m=f.next_code;for(a=0,h[0]=0,o=1;o<=s;o++)a=a+h[o-1]<<1,m[o]=a;for(l=0;l<c;l+=2)(d=i[l+1])!=0&&(i[l]=m[d],m[d]++)},n.F.codes2map=function(i,s,a){for(var o=i.length,l=n.F.U.rev15,d=0;d<o;d+=2)if(i[d+1]!=0)for(var f=d>>1,c=i[d+1],h=f<<4|c,p=s-c,m=i[d]<<p,b=m+(1<<p);m!=b;)a[l[m]>>>15-s]=h,m++},n.F.revCodes=function(i,s){for(var a=n.F.U.rev15,o=15-s,l=0;l<i.length;l+=2){var d=i[l]<<s-i[l+1];i[l]=a[d]>>>o}},n.F._putsE=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8},n.F._putsF=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8,i[o+2]|=a>>>16},n.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},n.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},n.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},n.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,d,f){for(;d--!=0;)l.push(0,f)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),o(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var ZG=QG({__proto__:null,default:Rp},[Rp]);const as=function(){var t={nextZero(f,c){for(;f[c]!=0;)c++;return c},readUshort:(f,c)=>f[c]<<8|f[c+1],writeUshort(f,c,h){f[c]=h>>8&255,f[c+1]=255&h},readUint:(f,c)=>16777216*f[c]+(f[c+1]<<16|f[c+2]<<8|f[c+3]),writeUint(f,c,h){f[c]=h>>24&255,f[c+1]=h>>16&255,f[c+2]=h>>8&255,f[c+3]=255&h},readASCII(f,c,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(f[c+m]);return p},writeASCII(f,c,h){for(let p=0;p<h.length;p++)f[c+p]=h.charCodeAt(p)},readBytes(f,c,h){const p=[];for(let m=0;m<h;m++)p.push(f[c+m]);return p},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,c,h){let p,m="";for(let b=0;b<h;b++)m+=`%${t.pad(f[c+b].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(f,c,h)}return p}};function e(f,c,h,p){const m=c*h,b=s(p),y=Math.ceil(c*b/8),_=new Uint8Array(4*m),x=new Uint32Array(_.buffer),{ctype:C}=p,{depth:k}=p,S=t.readUshort;if(C==6){const W=m<<2;if(k==8)for(var w=0;w<W;w+=4)_[w]=f[w],_[w+1]=f[w+1],_[w+2]=f[w+2],_[w+3]=f[w+3];if(k==16)for(w=0;w<W;w++)_[w]=f[w<<1]}else if(C==2){const W=p.tabs.tRNS;if(W==null){if(k==8)for(w=0;w<m;w++){var L=3*w;x[w]=255<<24|f[L+2]<<16|f[L+1]<<8|f[L]}if(k==16)for(w=0;w<m;w++)L=6*w,x[w]=255<<24|f[L+4]<<16|f[L+2]<<8|f[L]}else{var D=W[0];const R=W[1],N=W[2];if(k==8)for(w=0;w<m;w++){var I=w<<2;L=3*w,x[w]=255<<24|f[L+2]<<16|f[L+1]<<8|f[L],f[L]==D&&f[L+1]==R&&f[L+2]==N&&(_[I+3]=0)}if(k==16)for(w=0;w<m;w++)I=w<<2,L=6*w,x[w]=255<<24|f[L+4]<<16|f[L+2]<<8|f[L],S(f,L)==D&&S(f,L+2)==R&&S(f,L+4)==N&&(_[I+3]=0)}}else if(C==3){const W=p.tabs.PLTE,R=p.tabs.tRNS,N=R?R.length:0;if(k==1)for(var P=0;P<h;P++){var z=P*y,U=P*c;for(w=0;w<c;w++){I=U+w<<2;var $=3*(H=f[z+(w>>3)]>>7-((7&w)<<0)&1);_[I]=W[$],_[I+1]=W[$+1],_[I+2]=W[$+2],_[I+3]=H<N?R[H]:255}}if(k==2)for(P=0;P<h;P++)for(z=P*y,U=P*c,w=0;w<c;w++)I=U+w<<2,$=3*(H=f[z+(w>>2)]>>6-((3&w)<<1)&3),_[I]=W[$],_[I+1]=W[$+1],_[I+2]=W[$+2],_[I+3]=H<N?R[H]:255;if(k==4)for(P=0;P<h;P++)for(z=P*y,U=P*c,w=0;w<c;w++)I=U+w<<2,$=3*(H=f[z+(w>>1)]>>4-((1&w)<<2)&15),_[I]=W[$],_[I+1]=W[$+1],_[I+2]=W[$+2],_[I+3]=H<N?R[H]:255;if(k==8)for(w=0;w<m;w++){var H;I=w<<2,$=3*(H=f[w]),_[I]=W[$],_[I+1]=W[$+1],_[I+2]=W[$+2],_[I+3]=H<N?R[H]:255}}else if(C==4){if(k==8)for(w=0;w<m;w++){I=w<<2;var Y=f[F=w<<1];_[I]=Y,_[I+1]=Y,_[I+2]=Y,_[I+3]=f[F+1]}if(k==16)for(w=0;w<m;w++){var F;I=w<<2,Y=f[F=w<<2],_[I]=Y,_[I+1]=Y,_[I+2]=Y,_[I+3]=f[F+2]}}else if(C==0)for(D=p.tabs.tRNS?p.tabs.tRNS:-1,P=0;P<h;P++){const W=P*y,R=P*c;if(k==1)for(var j=0;j<c;j++){var se=(Y=255*(f[W+(j>>>3)]>>>7-(7&j)&1))==255*D?0:255;x[R+j]=se<<24|Y<<16|Y<<8|Y}else if(k==2)for(j=0;j<c;j++)se=(Y=85*(f[W+(j>>>2)]>>>6-((3&j)<<1)&3))==85*D?0:255,x[R+j]=se<<24|Y<<16|Y<<8|Y;else if(k==4)for(j=0;j<c;j++)se=(Y=17*(f[W+(j>>>1)]>>>4-((1&j)<<2)&15))==17*D?0:255,x[R+j]=se<<24|Y<<16|Y<<8|Y;else if(k==8)for(j=0;j<c;j++)se=(Y=f[W+j])==D?0:255,x[R+j]=se<<24|Y<<16|Y<<8|Y;else if(k==16)for(j=0;j<c;j++)Y=f[W+(j<<1)],se=S(f,W+(j<<1))==D?0:255,x[R+j]=se<<24|Y<<16|Y<<8|Y}return _}function r(f,c,h,p){const m=s(f),b=Math.ceil(h*m/8),y=new Uint8Array((b+1+f.interlace)*p);return c=f.tabs.CgBI?i(c,y):n(c,y),f.interlace==0?c=a(c,f,0,h,p):f.interlace==1&&(c=function(x,C){const k=C.width,S=C.height,w=s(C),L=w>>3,D=Math.ceil(k*w/8),I=new Uint8Array(S*D);let P=0;const z=[0,0,4,0,2,0,1],U=[0,4,0,2,0,1,0],$=[8,8,8,4,4,2,2],H=[8,8,4,4,2,2,1];let Y=0;for(;Y<7;){const j=$[Y],se=H[Y];let W=0,R=0,N=z[Y];for(;N<S;)N+=j,R++;let V=U[Y];for(;V<k;)V+=se,W++;const Z=Math.ceil(W*w/8);a(x,C,P,W,R);let X=0,K=z[Y];for(;K<S;){let de=U[Y],le=P+X*Z<<3;for(;de<k;){var F;if(w==1&&(F=(F=x[le>>3])>>7-(7&le)&1,I[K*D+(de>>3)]|=F<<7-((7&de)<<0)),w==2&&(F=(F=x[le>>3])>>6-(7&le)&3,I[K*D+(de>>2)]|=F<<6-((3&de)<<1)),w==4&&(F=(F=x[le>>3])>>4-(7&le)&15,I[K*D+(de>>1)]|=F<<4-((1&de)<<2)),w>=8){const Te=K*D+de*L;for(let ge=0;ge<L;ge++)I[Te+ge]=x[(le>>3)+ge]}le+=w,de+=se}X++,K+=j}W*R!=0&&(P+=R*(1+Z)),Y+=1}return I}(c,f)),c}function n(f,c){return i(new Uint8Array(f.buffer,2,f.length-6),c)}var i=function(){const f={H:{}};return f.H.N=function(c,h){const p=Uint8Array;let m,b,y=0,_=0,x=0,C=0,k=0,S=0,w=0,L=0,D=0;if(c[0]==3&&c[1]==0)return h||new p(0);const I=f.H,P=I.b,z=I.e,U=I.R,$=I.n,H=I.A,Y=I.Z,F=I.m,j=h==null;for(j&&(h=new p(c.length>>>2<<5));y==0;)if(y=P(c,D,1),_=P(c,D+1,2),D+=3,_!=0){if(j&&(h=f.H.W(h,L+(1<<17))),_==1&&(m=F.J,b=F.h,S=511,w=31),_==2){x=z(c,D,5)+257,C=z(c,D+5,5)+1,k=z(c,D+10,4)+4,D+=14;let W=1;for(var se=0;se<38;se+=2)F.Q[se]=0,F.Q[se+1]=0;for(se=0;se<k;se++){const V=z(c,D+3*se,3);F.Q[1+(F.X[se]<<1)]=V,V>W&&(W=V)}D+=3*k,$(F.Q,W),H(F.Q,W,F.u),m=F.w,b=F.d,D=U(F.u,(1<<W)-1,x+C,c,D,F.v);const R=I.V(F.v,0,x,F.C);S=(1<<R)-1;const N=I.V(F.v,x,C,F.D);w=(1<<N)-1,$(F.C,R),H(F.C,R,m),$(F.D,N),H(F.D,N,b)}for(;;){const W=m[Y(c,D)&S];D+=15&W;const R=W>>>4;if(!(R>>>8))h[L++]=R;else{if(R==256)break;{let N=L+R-254;if(R>264){const de=F.q[R-257];N=L+(de>>>3)+z(c,D,7&de),D+=7&de}const V=b[Y(c,D)&w];D+=15&V;const Z=V>>>4,X=F.c[Z],K=(X>>>4)+P(c,D,15&X);for(D+=15&X;L<N;)h[L]=h[L++-K],h[L]=h[L++-K],h[L]=h[L++-K],h[L]=h[L++-K];L=N}}}}else{7&D&&(D+=8-(7&D));const W=4+(D>>>3),R=c[W-4]|c[W-3]<<8;j&&(h=f.H.W(h,L+R)),h.set(new p(c.buffer,c.byteOffset+W,R),L),D=W+R<<3,L+=R}return h.length==L?h:h.slice(0,L)},f.H.W=function(c,h){const p=c.length;if(h<=p)return c;const m=new Uint8Array(p<<1);return m.set(c,0),m},f.H.R=function(c,h,p,m,b,y){const _=f.H.e,x=f.H.Z;let C=0;for(;C<p;){const k=c[x(m,b)&h];b+=15&k;const S=k>>>4;if(S<=15)y[C]=S,C++;else{let w=0,L=0;S==16?(L=3+_(m,b,2),b+=2,w=y[C-1]):S==17?(L=3+_(m,b,3),b+=3):S==18&&(L=11+_(m,b,7),b+=7);const D=C+L;for(;C<D;)y[C]=w,C++}}return b},f.H.V=function(c,h,p,m){let b=0,y=0;const _=m.length>>>1;for(;y<p;){const x=c[y+h];m[y<<1]=0,m[1+(y<<1)]=x,x>b&&(b=x),y++}for(;y<_;)m[y<<1]=0,m[1+(y<<1)]=0,y++;return b},f.H.n=function(c,h){const p=f.H.m,m=c.length;let b,y,_,x;const C=p.j;for(var k=0;k<=h;k++)C[k]=0;for(k=1;k<m;k+=2)C[c[k]]++;const S=p.K;for(b=0,C[0]=0,y=1;y<=h;y++)b=b+C[y-1]<<1,S[y]=b;for(_=0;_<m;_+=2)x=c[_+1],x!=0&&(c[_]=S[x],S[x]++)},f.H.A=function(c,h,p){const m=c.length,b=f.H.m.r;for(let y=0;y<m;y+=2)if(c[y+1]!=0){const _=y>>1,x=c[y+1],C=_<<4|x,k=h-x;let S=c[y]<<k;const w=S+(1<<k);for(;S!=w;)p[b[S]>>>15-h]=C,S++}},f.H.l=function(c,h){const p=f.H.m.r,m=15-h;for(let b=0;b<c.length;b+=2){const y=c[b]<<h-c[b+1];c[b]=p[y]>>>m}},f.H.M=function(c,h,p){p<<=7&h;const m=h>>>3;c[m]|=p,c[m+1]|=p>>>8},f.H.I=function(c,h,p){p<<=7&h;const m=h>>>3;c[m]|=p,c[m+1]|=p>>>8,c[m+2]|=p>>>16},f.H.e=function(c,h,p){return(c[h>>>3]|c[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},f.H.b=function(c,h,p){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},f.H.Z=function(c,h){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16)>>>(7&h)},f.H.i=function(c,h){return(c[h>>>3]|c[1+(h>>>3)]<<8|c[2+(h>>>3)]<<16|c[3+(h>>>3)]<<24)>>>(7&h)},f.H.m=function(){const c=Uint16Array,h=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=f.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,c.r[h]=(m>>>16|m<<16)>>>17}function p(m,b,y){for(;b--!=0;)m.push(0,y)}for(h=0;h<32;h++)c.q[h]=c.S[h]<<3|c.T[h],c.c[h]=c.p[h]<<4|c.z[h];p(c._,144,8),p(c._,112,9),p(c._,24,7),p(c._,8,8),f.H.n(c._,9),f.H.A(c._,9,c.J),f.H.l(c._,9),p(c.$,32,5),f.H.n(c.$,5),f.H.A(c.$,5,c.h),f.H.l(c.$,5),p(c.Q,19,0),p(c.C,286,0),p(c.D,30,0),p(c.v,320,0)}(),f.H.N}();function s(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function a(f,c,h,p,m){let b=s(c);const y=Math.ceil(p*b/8);let _,x;b=Math.ceil(b/8);let C=f[h],k=0;if(C>1&&(f[h]=[0,0,1][C-2]),C==3)for(k=b;k<y;k++)f[k+1]=f[k+1]+(f[k+1-b]>>>1)&255;for(let S=0;S<m;S++)if(_=h+S*y,x=_+S+1,C=f[x-1],k=0,C==0)for(;k<y;k++)f[_+k]=f[x+k];else if(C==1){for(;k<b;k++)f[_+k]=f[x+k];for(;k<y;k++)f[_+k]=f[x+k]+f[_+k-b]}else if(C==2)for(;k<y;k++)f[_+k]=f[x+k]+f[_+k-y];else if(C==3){for(;k<b;k++)f[_+k]=f[x+k]+(f[_+k-y]>>>1);for(;k<y;k++)f[_+k]=f[x+k]+(f[_+k-y]+f[_+k-b]>>>1)}else{for(;k<b;k++)f[_+k]=f[x+k]+o(0,f[_+k-y],0);for(;k<y;k++)f[_+k]=f[x+k]+o(f[_+k-b],f[_+k-y],f[_+k-b-y])}return f}function o(f,c,h){const p=f+c-h,m=p-f,b=p-c,y=p-h;return m*m<=b*b&&m*m<=y*y?f:b*b<=y*y?c:h}function l(f,c,h){h.width=t.readUint(f,c),c+=4,h.height=t.readUint(f,c),c+=4,h.depth=f[c],c++,h.ctype=f[c],c++,h.compress=f[c],c++,h.filter=f[c],c++,h.interlace=f[c],c++}function d(f,c,h,p,m,b,y,_,x){const C=Math.min(c,m),k=Math.min(h,b);let S=0,w=0;for(let Y=0;Y<k;Y++)for(let F=0;F<C;F++)if(y>=0&&_>=0?(S=Y*c+F<<2,w=(_+Y)*m+y+F<<2):(S=(-_+Y)*c-y+F<<2,w=Y*m+F<<2),x==0)p[w]=f[S],p[w+1]=f[S+1],p[w+2]=f[S+2],p[w+3]=f[S+3];else if(x==1){var L=f[S+3]*.00392156862745098,D=f[S]*L,I=f[S+1]*L,P=f[S+2]*L,z=p[w+3]*(1/255),U=p[w]*z,$=p[w+1]*z,H=p[w+2]*z;const j=1-L,se=L+z*j,W=se==0?0:1/se;p[w+3]=255*se,p[w+0]=(D+U*j)*W,p[w+1]=(I+$*j)*W,p[w+2]=(P+H*j)*W}else if(x==2)L=f[S+3],D=f[S],I=f[S+1],P=f[S+2],z=p[w+3],U=p[w],$=p[w+1],H=p[w+2],L==z&&D==U&&I==$&&P==H?(p[w]=0,p[w+1]=0,p[w+2]=0,p[w+3]=0):(p[w]=D,p[w+1]=I,p[w+2]=P,p[w+3]=L);else if(x==3){if(L=f[S+3],D=f[S],I=f[S+1],P=f[S+2],z=p[w+3],U=p[w],$=p[w+1],H=p[w+2],L==z&&D==U&&I==$&&P==H)continue;if(L<220&&z>20)return!1}return!0}return{decode:function(c){const h=new Uint8Array(c);let p=8;const m=t,b=m.readUshort,y=m.readUint,_={tabs:{},frames:[]},x=new Uint8Array(h.length);let C,k=0,S=0;const w=[137,80,78,71,13,10,26,10];for(var L=0;L<8;L++)if(h[L]!=w[L])throw"The input is not a PNG file!";for(;p<h.length;){const Y=m.readUint(h,p);p+=4;const F=m.readASCII(h,p,4);if(p+=4,F=="IHDR")l(h,p,_);else if(F=="iCCP"){for(var D=p;h[D]!=0;)D++;m.readASCII(h,p,D-p),h[D+1];const j=h.slice(D+2,p+Y);let se=null;try{se=n(j)}catch{se=i(j)}_.tabs[F]=se}else if(F=="CgBI")_.tabs[F]=h.slice(p,p+4);else if(F=="IDAT"){for(L=0;L<Y;L++)x[k+L]=h[p+L];k+=Y}else if(F=="acTL")_.tabs[F]={num_frames:y(h,p),num_plays:y(h,p+4)},C=new Uint8Array(h.length);else if(F=="fcTL"){S!=0&&((H=_.frames[_.frames.length-1]).data=r(_,C.slice(0,S),H.rect.width,H.rect.height),S=0);const j={x:y(h,p+12),y:y(h,p+16),width:y(h,p+4),height:y(h,p+8)};let se=b(h,p+22);se=b(h,p+20)/(se==0?100:se);const W={rect:j,delay:Math.round(1e3*se),dispose:h[p+24],blend:h[p+25]};_.frames.push(W)}else if(F=="fdAT"){for(L=0;L<Y-4;L++)C[S+L]=h[p+L+4];S+=Y-4}else if(F=="pHYs")_.tabs[F]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(F=="cHRM")for(_.tabs[F]=[],L=0;L<8;L++)_.tabs[F].push(m.readUint(h,p+4*L));else if(F=="tEXt"||F=="zTXt"){_.tabs[F]==null&&(_.tabs[F]={});var I=m.nextZero(h,p),P=m.readASCII(h,p,I-p),z=p+Y-I-1;if(F=="tEXt")$=m.readASCII(h,I+1,z);else{var U=n(h.slice(I+2,I+2+z));$=m.readUTF8(U,0,U.length)}_.tabs[F][P]=$}else if(F=="iTXt"){_.tabs[F]==null&&(_.tabs[F]={}),I=0,D=p,I=m.nextZero(h,D),P=m.readASCII(h,D,I-D);const j=h[D=I+1];var $;h[D+1],D+=2,I=m.nextZero(h,D),m.readASCII(h,D,I-D),D=I+1,I=m.nextZero(h,D),m.readUTF8(h,D,I-D),z=Y-((D=I+1)-p),j==0?$=m.readUTF8(h,D,z):(U=n(h.slice(D,D+z)),$=m.readUTF8(U,0,U.length)),_.tabs[F][P]=$}else if(F=="PLTE")_.tabs[F]=m.readBytes(h,p,Y);else if(F=="hIST"){const j=_.tabs.PLTE.length/3;for(_.tabs[F]=[],L=0;L<j;L++)_.tabs[F].push(b(h,p+2*L))}else if(F=="tRNS")_.ctype==3?_.tabs[F]=m.readBytes(h,p,Y):_.ctype==0?_.tabs[F]=b(h,p):_.ctype==2&&(_.tabs[F]=[b(h,p),b(h,p+2),b(h,p+4)]);else if(F=="gAMA")_.tabs[F]=m.readUint(h,p)/1e5;else if(F=="sRGB")_.tabs[F]=h[p];else if(F=="bKGD")_.ctype==0||_.ctype==4?_.tabs[F]=[b(h,p)]:_.ctype==2||_.ctype==6?_.tabs[F]=[b(h,p),b(h,p+2),b(h,p+4)]:_.ctype==3&&(_.tabs[F]=h[p]);else if(F=="IEND")break;p+=Y,m.readUint(h,p),p+=4}var H;return S!=0&&((H=_.frames[_.frames.length-1]).data=r(_,C.slice(0,S),H.rect.width,H.rect.height)),_.data=r(_,x,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(c){const h=c.width,p=c.height;if(c.tabs.acTL==null)return[e(c.data,h,p,c).buffer];const m=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const b=h*p*4,y=new Uint8Array(b),_=new Uint8Array(b),x=new Uint8Array(b);for(let k=0;k<c.frames.length;k++){const S=c.frames[k],w=S.rect.x,L=S.rect.y,D=S.rect.width,I=S.rect.height,P=e(S.data,D,I,c);if(k!=0)for(var C=0;C<b;C++)x[C]=y[C];if(S.blend==0?d(P,D,I,y,h,p,w,L,0):S.blend==1&&d(P,D,I,y,h,p,w,L,1),m.push(y.buffer.slice(0)),S.dispose!=0){if(S.dispose==1)d(_,D,I,y,h,p,w,L,0);else if(S.dispose==2)for(C=0;C<b;C++)y[C]=x[C]}}return m},_paeth:o,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=as,{_bin:e}=as,r=as._paeth;var n={table:function(){const D=new Uint32Array(256);for(let I=0;I<256;I++){let P=I;for(let z=0;z<8;z++)1&P?P=3988292384^P>>>1:P>>>=1;D[I]=P}return D}(),update(D,I,P,z){for(let U=0;U<z;U++)D=n.table[255&(D^I[P+U])]^D>>>8;return D},crc:(D,I,P)=>4294967295^n.update(4294967295,D,I,P)};function i(D,I,P,z){I[P]+=D[0]*z>>4,I[P+1]+=D[1]*z>>4,I[P+2]+=D[2]*z>>4,I[P+3]+=D[3]*z>>4}function s(D){return Math.max(0,Math.min(255,D))}function a(D,I){const P=D[0]-I[0],z=D[1]-I[1],U=D[2]-I[2],$=D[3]-I[3];return P*P+z*z+U*U+$*$}function o(D,I,P,z,U,$,H){H==null&&(H=1);const Y=z.length,F=[];for(var j=0;j<Y;j++){const K=z[j];F.push([K>>>0&255,K>>>8&255,K>>>16&255,K>>>24&255])}for(j=0;j<Y;j++){let K=4294967295;for(var se=0,W=0;W<Y;W++){var R=a(F[j],F[W]);W!=j&&R<K&&(K=R,se=W)}}const N=new Uint32Array(U.buffer),V=new Int16Array(I*P*4),Z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<Z.length;j++)Z[j]=255*((Z[j]+.5)/16-.5);for(let K=0;K<P;K++)for(let de=0;de<I;de++){var X;j=4*(K*I+de),H!=2?X=[s(D[j]+V[j]),s(D[j+1]+V[j+1]),s(D[j+2]+V[j+2]),s(D[j+3]+V[j+3])]:(R=Z[4*(3&K)+(3&de)],X=[s(D[j]+R),s(D[j+1]+R),s(D[j+2]+R),s(D[j+3]+R)]),se=0;let le=16777215;for(W=0;W<Y;W++){const me=a(X,F[W]);me<le&&(le=me,se=W)}const Te=F[se],ge=[X[0]-Te[0],X[1]-Te[1],X[2]-Te[2],X[3]-Te[3]];H==1&&(de!=I-1&&i(ge,V,j+4,7),K!=P-1&&(de!=0&&i(ge,V,j+4*I-4,3),i(ge,V,j+4*I,5),de!=I-1&&i(ge,V,j+4*I+4,1))),$[j>>2]=se,N[j>>2]=z[se]}}function l(D,I,P,z,U){U==null&&(U={});const{crc:$}=n,H=e.writeUint,Y=e.writeUshort,F=e.writeASCII;let j=8;const se=D.frames.length>1;let W,R=!1,N=33+(se?20:0);if(U.sRGB!=null&&(N+=13),U.pHYs!=null&&(N+=21),U.iCCP!=null&&(W=pako.deflate(U.iCCP),N+=21+W.length+4),D.ctype==3){for(var V=D.plte.length,Z=0;Z<V;Z++)D.plte[Z]>>>24!=255&&(R=!0);N+=8+3*V+4+(R?8+1*V+4:0)}for(var X=0;X<D.frames.length;X++)se&&(N+=38),N+=(Te=D.frames[X]).cimg.length+12,X!=0&&(N+=4);N+=12;const K=new Uint8Array(N),de=[137,80,78,71,13,10,26,10];for(Z=0;Z<8;Z++)K[Z]=de[Z];if(H(K,j,13),j+=4,F(K,j,"IHDR"),j+=4,H(K,j,I),j+=4,H(K,j,P),j+=4,K[j]=D.depth,j++,K[j]=D.ctype,j++,K[j]=0,j++,K[j]=0,j++,K[j]=0,j++,H(K,j,$(K,j-17,17)),j+=4,U.sRGB!=null&&(H(K,j,1),j+=4,F(K,j,"sRGB"),j+=4,K[j]=U.sRGB,j++,H(K,j,$(K,j-5,5)),j+=4),U.iCCP!=null){const ge=13+W.length;H(K,j,ge),j+=4,F(K,j,"iCCP"),j+=4,F(K,j,"ICC profile"),j+=11,j+=2,K.set(W,j),j+=W.length,H(K,j,$(K,j-(ge+4),ge+4)),j+=4}if(U.pHYs!=null&&(H(K,j,9),j+=4,F(K,j,"pHYs"),j+=4,H(K,j,U.pHYs[0]),j+=4,H(K,j,U.pHYs[1]),j+=4,K[j]=U.pHYs[2],j++,H(K,j,$(K,j-13,13)),j+=4),se&&(H(K,j,8),j+=4,F(K,j,"acTL"),j+=4,H(K,j,D.frames.length),j+=4,H(K,j,U.loop!=null?U.loop:0),j+=4,H(K,j,$(K,j-12,12)),j+=4),D.ctype==3){for(H(K,j,3*(V=D.plte.length)),j+=4,F(K,j,"PLTE"),j+=4,Z=0;Z<V;Z++){const ge=3*Z,me=D.plte[Z],Ce=255&me,Ne=me>>>8&255,Fe=me>>>16&255;K[j+ge+0]=Ce,K[j+ge+1]=Ne,K[j+ge+2]=Fe}if(j+=3*V,H(K,j,$(K,j-3*V-4,3*V+4)),j+=4,R){for(H(K,j,V),j+=4,F(K,j,"tRNS"),j+=4,Z=0;Z<V;Z++)K[j+Z]=D.plte[Z]>>>24&255;j+=V,H(K,j,$(K,j-V-4,V+4)),j+=4}}let le=0;for(X=0;X<D.frames.length;X++){var Te=D.frames[X];se&&(H(K,j,26),j+=4,F(K,j,"fcTL"),j+=4,H(K,j,le++),j+=4,H(K,j,Te.rect.width),j+=4,H(K,j,Te.rect.height),j+=4,H(K,j,Te.rect.x),j+=4,H(K,j,Te.rect.y),j+=4,Y(K,j,z[X]),j+=2,Y(K,j,1e3),j+=2,K[j]=Te.dispose,j++,K[j]=Te.blend,j++,H(K,j,$(K,j-30,30)),j+=4);const ge=Te.cimg;H(K,j,(V=ge.length)+(X==0?0:4)),j+=4;const me=j;F(K,j,X==0?"IDAT":"fdAT"),j+=4,X!=0&&(H(K,j,le++),j+=4),K.set(ge,j),j+=V,H(K,j,$(K,me,j-me)),j+=4}return H(K,j,0),j+=4,F(K,j,"IEND"),j+=4,H(K,j,$(K,j-4,4)),j+=4,K.buffer}function d(D,I,P){for(let z=0;z<D.frames.length;z++){const U=D.frames[z];U.rect.width;const $=U.rect.height,H=new Uint8Array($*U.bpl+$);U.cimg=p(U.img,$,U.bpp,U.bpl,H,I,P)}}function f(D,I,P,z,U){const $=U[0],H=U[1],Y=U[2],F=U[3],j=U[4],se=U[5];let W=6,R=8,N=255;for(var V=0;V<D.length;V++){const rt=new Uint8Array(D[V]);for(var Z=rt.length,X=0;X<Z;X+=4)N&=rt[X+3]}const K=N!=255,de=function(be,Le,xe,B,q,ue){const ye=[];for(var Pe=0;Pe<be.length;Pe++){const bt=new Uint8Array(be[Pe]),Nt=new Uint32Array(bt.buffer);var $e;let st=0,Zt=0,Ot=Le,wr=xe,Nr=B?1:0;if(Pe!=0){const gs=ue||B||Pe==1||ye[Pe-2].dispose!=0?1:2;let Gs=0,Ys=1e9;for(let bs=0;bs<gs;bs++){var ze=new Uint8Array(be[Pe-1-bs]);const Qs=new Uint32Array(be[Pe-1-bs]);let hn=Le,pn=xe,Vi=-1,Ti=-1;for(let Ei=0;Ei<xe;Ei++)for(let Fn=0;Fn<Le;Fn++)Nt[Oe=Ei*Le+Fn]!=Qs[Oe]&&(Fn<hn&&(hn=Fn),Fn>Vi&&(Vi=Fn),Ei<pn&&(pn=Ei),Ei>Ti&&(Ti=Ei));Vi==-1&&(hn=pn=Vi=Ti=0),q&&((1&hn)==1&&hn--,(1&pn)==1&&pn--);const vr=(Vi-hn+1)*(Ti-pn+1);vr<Ys&&(Ys=vr,Gs=bs,st=hn,Zt=pn,Ot=Vi-hn+1,wr=Ti-pn+1)}ze=new Uint8Array(be[Pe-1-Gs]),Gs==1&&(ye[Pe-1].dispose=2),$e=new Uint8Array(Ot*wr*4),t(ze,Le,xe,$e,Ot,wr,-st,-Zt,0),Nr=t(bt,Le,xe,$e,Ot,wr,-st,-Zt,3)?1:0,Nr==1?h(bt,Le,xe,$e,{x:st,y:Zt,width:Ot,height:wr}):t(bt,Le,xe,$e,Ot,wr,-st,-Zt,0)}else $e=bt.slice(0);ye.push({rect:{x:st,y:Zt,width:Ot,height:wr},img:$e,blend:Nr,dispose:0})}if(B)for(Pe=0;Pe<ye.length;Pe++){if((nt=ye[Pe]).blend==1)continue;const bt=nt.rect,Nt=ye[Pe-1].rect,st=Math.min(bt.x,Nt.x),Zt=Math.min(bt.y,Nt.y),Ot={x:st,y:Zt,width:Math.max(bt.x+bt.width,Nt.x+Nt.width)-st,height:Math.max(bt.y+bt.height,Nt.y+Nt.height)-Zt};ye[Pe-1].dispose=1,Pe-1!=0&&c(be,Le,xe,ye,Pe-1,Ot,q),c(be,Le,xe,ye,Pe,Ot,q)}let _e=0;if(be.length!=1)for(var Oe=0;Oe<ye.length;Oe++){var nt;_e+=(nt=ye[Oe]).rect.width*nt.rect.height}return ye}(D,I,P,$,H,Y),le={},Te=[],ge=[];if(z!=0){const rt=[];for(X=0;X<de.length;X++)rt.push(de[X].img.buffer);const be=function(q){let ue=0;for(var ye=0;ye<q.length;ye++)ue+=q[ye].byteLength;const Pe=new Uint8Array(ue);let $e=0;for(ye=0;ye<q.length;ye++){const ze=new Uint8Array(q[ye]),_e=ze.length;for(let Oe=0;Oe<_e;Oe+=4){let nt=ze[Oe],bt=ze[Oe+1],Nt=ze[Oe+2];const st=ze[Oe+3];st==0&&(nt=bt=Nt=0),Pe[$e+Oe]=nt,Pe[$e+Oe+1]=bt,Pe[$e+Oe+2]=Nt,Pe[$e+Oe+3]=st}$e+=_e}return Pe.buffer}(rt),Le=b(be,z);for(X=0;X<Le.plte.length;X++)Te.push(Le.plte[X].est.rgba);let xe=0;for(X=0;X<de.length;X++){const B=(Ce=de[X]).img.length;var me=new Uint8Array(Le.inds.buffer,xe>>2,B>>2);ge.push(me);const q=new Uint8Array(Le.abuf,xe,B);se&&o(Ce.img,Ce.rect.width,Ce.rect.height,Te,q,me),Ce.img.set(q),xe+=B}}else for(V=0;V<de.length;V++){var Ce=de[V];const rt=new Uint32Array(Ce.img.buffer);var Ne=Ce.rect.width;for(Z=rt.length,me=new Uint8Array(Z),ge.push(me),X=0;X<Z;X++){const be=rt[X];if(X!=0&&be==rt[X-1])me[X]=me[X-1];else if(X>Ne&&be==rt[X-Ne])me[X]=me[X-Ne];else{let Le=le[be];if(Le==null&&(le[be]=Le=Te.length,Te.push(be),Te.length>=300))break;me[X]=Le}}}const Fe=Te.length;for(Fe<=256&&j==0&&(R=Fe<=2?1:Fe<=4?2:Fe<=16?4:8,R=Math.max(R,F)),V=0;V<de.length;V++){(Ce=de[V]).rect.x,Ce.rect.y,Ne=Ce.rect.width;const rt=Ce.rect.height;let be=Ce.img;new Uint32Array(be.buffer);let Le=4*Ne,xe=4;if(Fe<=256&&j==0){Le=Math.ceil(R*Ne/8);var he=new Uint8Array(Le*rt);const B=ge[V];for(let q=0;q<rt;q++){X=q*Le;const ue=q*Ne;if(R==8)for(var Re=0;Re<Ne;Re++)he[X+Re]=B[ue+Re];else if(R==4)for(Re=0;Re<Ne;Re++)he[X+(Re>>1)]|=B[ue+Re]<<4-4*(1&Re);else if(R==2)for(Re=0;Re<Ne;Re++)he[X+(Re>>2)]|=B[ue+Re]<<6-2*(3&Re);else if(R==1)for(Re=0;Re<Ne;Re++)he[X+(Re>>3)]|=B[ue+Re]<<7-1*(7&Re)}be=he,W=3,xe=1}else if(K==0&&de.length==1){he=new Uint8Array(Ne*rt*3);const B=Ne*rt;for(X=0;X<B;X++){const q=3*X,ue=4*X;he[q]=be[ue],he[q+1]=be[ue+1],he[q+2]=be[ue+2]}be=he,W=2,xe=3,Le=3*Ne}Ce.img=be,Ce.bpl=Le,Ce.bpp=xe}return{ctype:W,depth:R,plte:Te,frames:de}}function c(D,I,P,z,U,$,H){const Y=Uint8Array,F=Uint32Array,j=new Y(D[U-1]),se=new F(D[U-1]),W=U+1<D.length?new Y(D[U+1]):null,R=new Y(D[U]),N=new F(R.buffer);let V=I,Z=P,X=-1,K=-1;for(let le=0;le<$.height;le++)for(let Te=0;Te<$.width;Te++){const ge=$.x+Te,me=$.y+le,Ce=me*I+ge,Ne=N[Ce];Ne==0||z[U-1].dispose==0&&se[Ce]==Ne&&(W==null||W[4*Ce+3]!=0)||(ge<V&&(V=ge),ge>X&&(X=ge),me<Z&&(Z=me),me>K&&(K=me))}X==-1&&(V=Z=X=K=0),H&&((1&V)==1&&V--,(1&Z)==1&&Z--),$={x:V,y:Z,width:X-V+1,height:K-Z+1};const de=z[U];de.rect=$,de.blend=1,de.img=new Uint8Array($.width*$.height*4),z[U-1].dispose==0?(t(j,I,P,de.img,$.width,$.height,-$.x,-$.y,0),h(R,I,P,de.img,$)):t(R,I,P,de.img,$.width,$.height,-$.x,-$.y,0)}function h(D,I,P,z,U){t(D,I,P,z,U.width,U.height,-U.x,-U.y,2)}function p(D,I,P,z,U,$,H){const Y=[];let F,j=[0,1,2,3,4];$!=-1?j=[$]:(I*z>5e5||P==1)&&(j=[0]),H&&(F={level:0});const se=ZG;for(var W=0;W<j.length;W++){for(let V=0;V<I;V++)m(U,D,V,z,P,j[W]);Y.push(se.deflate(U,F))}let R,N=1e9;for(W=0;W<Y.length;W++)Y[W].length<N&&(R=W,N=Y[W].length);return Y[R]}function m(D,I,P,z,U,$){const H=P*z;let Y=H+P;if(D[Y]=$,Y++,$==0)if(z<500)for(var F=0;F<z;F++)D[Y+F]=I[H+F];else D.set(new Uint8Array(I.buffer,H,z),Y);else if($==1){for(F=0;F<U;F++)D[Y+F]=I[H+F];for(F=U;F<z;F++)D[Y+F]=I[H+F]-I[H+F-U]+256&255}else if(P==0){for(F=0;F<U;F++)D[Y+F]=I[H+F];if($==2)for(F=U;F<z;F++)D[Y+F]=I[H+F];if($==3)for(F=U;F<z;F++)D[Y+F]=I[H+F]-(I[H+F-U]>>1)+256&255;if($==4)for(F=U;F<z;F++)D[Y+F]=I[H+F]-r(I[H+F-U],0,0)+256&255}else{if($==2)for(F=0;F<z;F++)D[Y+F]=I[H+F]+256-I[H+F-z]&255;if($==3){for(F=0;F<U;F++)D[Y+F]=I[H+F]+256-(I[H+F-z]>>1)&255;for(F=U;F<z;F++)D[Y+F]=I[H+F]+256-(I[H+F-z]+I[H+F-U]>>1)&255}if($==4){for(F=0;F<U;F++)D[Y+F]=I[H+F]+256-r(0,I[H+F-z],0)&255;for(F=U;F<z;F++)D[Y+F]=I[H+F]+256-r(I[H+F-U],I[H+F-z],I[H+F-U-z])&255}}}function b(D,I){const P=new Uint8Array(D),z=P.slice(0),U=new Uint32Array(z.buffer),$=y(z,I),H=$[0],Y=$[1],F=P.length,j=new Uint8Array(F>>2);let se;if(P.length<2e7)for(var W=0;W<F;W+=4)se=_(H,R=P[W]*(1/255),N=P[W+1]*(1/255),V=P[W+2]*(1/255),Z=P[W+3]*(1/255)),j[W>>2]=se.ind,U[W>>2]=se.est.rgba;else for(W=0;W<F;W+=4){var R=P[W]*.00392156862745098,N=P[W+1]*(1/255),V=P[W+2]*(1/255),Z=P[W+3]*(1/255);for(se=H;se.left;)se=x(se.est,R,N,V,Z)<=0?se.left:se.right;j[W>>2]=se.ind,U[W>>2]=se.est.rgba}return{abuf:z.buffer,inds:j,plte:Y}}function y(D,I,P){P==null&&(P=1e-4);const z=new Uint32Array(D.buffer),U={i0:0,i1:D.length,bst:null,est:null,tdst:0,left:null,right:null};U.bst=S(D,U.i0,U.i1),U.est=w(U.bst);const $=[U];for(;$.length<I;){let Y=0,F=0;for(var H=0;H<$.length;H++)$[H].est.L>Y&&(Y=$[H].est.L,F=H);if(Y<P)break;const j=$[F],se=C(D,z,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=se||j.i1<=se){j.est.L=0;continue}const W={i0:j.i0,i1:se,bst:null,est:null,tdst:0,left:null,right:null};W.bst=S(D,W.i0,W.i1),W.est=w(W.bst);const R={i0:se,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(R.bst={R:[],m:[],N:j.bst.N-W.bst.N},H=0;H<16;H++)R.bst.R[H]=j.bst.R[H]-W.bst.R[H];for(H=0;H<4;H++)R.bst.m[H]=j.bst.m[H]-W.bst.m[H];R.est=w(R.bst),j.left=W,j.right=R,$[F]=W,$.push(R)}for($.sort((Y,F)=>F.bst.N-Y.bst.N),H=0;H<$.length;H++)$[H].ind=H;return[U,$]}function _(D,I,P,z,U){if(D.left==null)return D.tdst=function(W,R,N,V,Z){const X=R-W[0],K=N-W[1],de=V-W[2],le=Z-W[3];return X*X+K*K+de*de+le*le}(D.est.q,I,P,z,U),D;const $=x(D.est,I,P,z,U);let H=D.left,Y=D.right;$>0&&(H=D.right,Y=D.left);const F=_(H,I,P,z,U);if(F.tdst<=$*$)return F;const j=_(Y,I,P,z,U);return j.tdst<F.tdst?j:F}function x(D,I,P,z,U){const{e:$}=D;return $[0]*I+$[1]*P+$[2]*z+$[3]*U-D.eMq}function C(D,I,P,z,U,$){for(z-=4;P<z;){for(;k(D,P,U)<=$;)P+=4;for(;k(D,z,U)>$;)z-=4;if(P>=z)break;const H=I[P>>2];I[P>>2]=I[z>>2],I[z>>2]=H,P+=4,z-=4}for(;k(D,P,U)>$;)P-=4;return P+4}function k(D,I,P){return D[I]*P[0]+D[I+1]*P[1]+D[I+2]*P[2]+D[I+3]*P[3]}function S(D,I,P){const z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=[0,0,0,0],$=P-I>>2;for(let H=I;H<P;H+=4){const Y=D[H]*.00392156862745098,F=D[H+1]*(1/255),j=D[H+2]*(1/255),se=D[H+3]*(1/255);U[0]+=Y,U[1]+=F,U[2]+=j,U[3]+=se,z[0]+=Y*Y,z[1]+=Y*F,z[2]+=Y*j,z[3]+=Y*se,z[5]+=F*F,z[6]+=F*j,z[7]+=F*se,z[10]+=j*j,z[11]+=j*se,z[15]+=se*se}return z[4]=z[1],z[8]=z[2],z[9]=z[6],z[12]=z[3],z[13]=z[7],z[14]=z[11],{R:z,m:U,N:$}}function w(D){const{R:I}=D,{m:P}=D,{N:z}=D,U=P[0],$=P[1],H=P[2],Y=P[3],F=z==0?0:1/z,j=[I[0]-U*U*F,I[1]-U*$*F,I[2]-U*H*F,I[3]-U*Y*F,I[4]-$*U*F,I[5]-$*$*F,I[6]-$*H*F,I[7]-$*Y*F,I[8]-H*U*F,I[9]-H*$*F,I[10]-H*H*F,I[11]-H*Y*F,I[12]-Y*U*F,I[13]-Y*$*F,I[14]-Y*H*F,I[15]-Y*Y*F],se=j,W=L;let R=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,V=0;if(z!=0)for(let X=0;X<16&&(R=W.multVec(se,R),V=Math.sqrt(W.dot(R,R)),R=W.sml(1/V,R),!(X!=0&&Math.abs(V-N)<1e-9));X++)N=V;const Z=[U*F,$*F,H*F,Y*F];return{Cov:j,q:Z,e:R,L:N,eMq255:W.dot(W.sml(255,Z),R),eMq:W.dot(R,Z),rgba:(Math.round(255*Z[3])<<24|Math.round(255*Z[2])<<16|Math.round(255*Z[1])<<8|Math.round(255*Z[0])<<0)>>>0}}var L={multVec:(D,I)=>[D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3],D[4]*I[0]+D[5]*I[1]+D[6]*I[2]+D[7]*I[3],D[8]*I[0]+D[9]*I[1]+D[10]*I[2]+D[11]*I[3],D[12]*I[0]+D[13]*I[1]+D[14]*I[2]+D[15]*I[3]],dot:(D,I)=>D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3],sml:(D,I)=>[D*I[0],D*I[1],D*I[2],D*I[3]]};as.encode=function(I,P,z,U,$,H,Y){U==null&&(U=0),Y==null&&(Y=!1);const F=f(I,P,z,U,[!1,!1,!1,0,Y,!1]);return d(F,-1),l(F,P,z,$,H)},as.encodeLL=function(I,P,z,U,$,H,Y,F){const j={ctype:0+(U==1?0:2)+($==0?0:4),depth:H,frames:[]},se=(U+$)*H,W=se*P;for(let R=0;R<I.length;R++)j.frames.push({rect:{x:0,y:0,width:P,height:z},img:new Uint8Array(I[R]),blend:0,dispose:1,bpp:Math.ceil(se/8),bpl:Math.ceil(W/8)});return d(j,0,!0),l(j,P,z,Y,F)},as.encode.compress=f,as.encode.dither=o,as.quantize=b,as.quantize.getKDtree=y,as.quantize.getNearest=_})();const zw={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,s=t.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(s.data.buffer),o=(32*r+31)/32<<2,l=o*n,d=122+l,f=new ArrayBuffer(d),c=new DataView(f),h=1<<20;let p,m,b,y,_=h,x=0,C=0,k=0;function S(D){c.setUint16(C,D,!0),C+=2}function w(D){c.setUint32(C,D,!0),C+=4}function L(D){C+=D}S(19778),w(d),L(4),w(122),w(108),w(r),w(-n>>>0),S(1),S(32),w(3),w(l),w(2835),w(2835),L(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),function D(){for(;x<n&&_>0;){for(y=122+x*o,p=0;p<i;)_--,m=a[k++],b=m>>>24,c.setUint32(y+p,m<<8|b),p+=4;x++}k<a.length?(_=h,setTimeout(D,zw._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Xn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},JG={[Xn.CHROME]:16384,[Xn.FIREFOX]:11180,[Xn.DESKTOP_SAFARI]:16384,[Xn.IE]:8192,[Xn.IOS]:4096,[Xn.ETC]:8192};const n2=typeof window<"u",Vw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Bp=n2&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),eY=(n2||Vw)&&(Bp&&Bp.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qw=(n2||Vw)&&(Bp&&Bp.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function i2(t,e,r=Date.now()){return new Promise(n=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const d=new Blob([l],{type:s});d.name=e,d.lastModified=r,n(d)})}function Ww(t){return new Promise((e,r)=>{const n=new qw;n.onload=()=>e(n.result),n.onerror=i=>r(i),n.readAsDataURL(t)})}function Gw(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>r(i),n.src=t})}function qo(){if(qo.cachedResult!==void 0)return qo.cachedResult;let t=Xn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Xn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Xn.IOS:/Safari/i.test(e)?t=Xn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Xn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Xn.IE),qo.cachedResult=t,qo.cachedResult}function Yw(t,e){const r=qo(),n=JG[r];let i=t,s=e,a=i*s;const o=i>s?s/i:i/s;for(;a>n*n;){const l=(n+i)/2,d=(n+s)/2;l<d?(s=d,i=d*o):(s=l*o,i=l),a=i*s}return{width:i,height:s}}function Pp(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function Qw(t,e){const{width:r,height:n}=Yw(t.width,t.height),[i,s]=Pp(r,n);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Fp(){return Fp.cachedResult!==void 0||(Fp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Fp.cachedResult}function Up(t,e={}){return new Promise(function(r,n){let i,s;var a=function(){try{return s=Qw(i,e.fileType||t.type),r([i,s])}catch(l){return n(l)}},o=function(l){try{var d=function(f){try{throw f}catch(c){return n(c)}};try{let f;return Ww(t).then(function(c){try{return f=c,Gw(f).then(function(h){try{return i=h,function(){try{return a()}catch(p){return n(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(f){d(f)}}catch(f){return n(f)}};try{if(Fp()||[Xn.DESKTOP_SAFARI,Xn.MOBILE_SAFARI].includes(qo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,a()}catch{return o()}},o)}catch{o()}})}function $p(t,e,r,n,i=1){return new Promise(function(s,a){let o;if(e==="image/png"){let d,f,c;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),c=as.encode([f.buffer],t.width,t.height,4096*i),o=new Blob([c],{type:e}),o.name=r,o.lastModified=n,l.call(this)}{let d=function(){return l.call(this)};if(e==="image/bmp")return new Promise(f=>zw.toBlob(t,f)).then((function(f){try{return o=f,o.name=r,o.lastModified=n,d.call(this)}catch(c){return a(c)}}).bind(this),a);{let f=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(c){try{return o=c,o.name=r,o.lastModified=n,f.call(this)}catch(h){return a(h)}}).bind(this),a);{let c;return c=t.toDataURL(e,i),i2(c,r,n).then((function(h){try{return o=h,f.call(this)}catch(p){return a(p)}}).bind(this),a)}}}function l(){return s(o)}})}function Ds(t){t.width=0,t.height=0}function ou(){return new Promise(function(t,e){let r,n,i,s;return ou.cachedResult!==void 0?t(ou.cachedResult):i2("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,Up(r).then(function(o){try{return n=o[1],$p(n,r.type,r.name,r.lastModified).then(function(l){try{return i=l,Ds(n),Up(i).then(function(d){try{return s=d[0],ou.cachedResult=s.width===1&&s.height===2,t(ou.cachedResult)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function Kw(t){return new Promise((e,r)=>{const n=new qw;n.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return e(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const d=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,d);const f=s.getUint16(o,d);o+=2;for(let c=0;c<f;c++)if(s.getUint16(o+12*c,d)==274)return e(s.getUint16(o+12*c+8,d))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(t)})}function Xw(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let s,a=t;return isFinite(i)&&(r>i||n>i)&&([a,s]=Pp(r,n),r>n?(a.width=i,a.height=n/r*i):(a.width=r/n*i,a.height=i),s.drawImage(t,0,0,a.width,a.height),Ds(t)),a}function Zw(t,e){const{width:r}=t,{height:n}=t,[i,s]=Pp(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:s.transform(-1,0,0,1,r,0);break;case 3:s.transform(-1,0,0,-1,r,n);break;case 4:s.transform(1,0,0,-1,0,n);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,n,0);break;case 7:s.transform(0,-1,-1,0,n,r);break;case 8:s.transform(0,-1,1,0,0,r)}return s.drawImage(t,0,0,r,n),Ds(t),i}function Jw(t,e,r=0){return new Promise(function(n,i){let s,a,o,l,d,f,c,h,p,m,b,y,_,x,C,k,S,w,L,D;function I(z=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=z,e.onProgress(Math.min(s,100))}function P(z){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(z,s),100),e.onProgress(s)}return s=r,a=e.maxIteration||10,o=1024*e.maxSizeMB*1024,I(),Up(t,e).then((function(z){try{return[,l]=z,I(),d=Xw(l,e),I(),new Promise(function(U,$){var H;if(!(H=e.exifOrientation))return Kw(t).then((function(F){try{return H=F,Y.call(this)}catch(j){return $(j)}}).bind(this),$);function Y(){return U(H)}return Y.call(this)}).then((function(U){try{return f=U,I(),ou().then((function($){try{return c=$?d:Zw(d,f),I(),h=e.initialQuality||1,p=e.fileType||t.type,$p(c,p,t.name,t.lastModified,h).then((function(H){try{{let F=function(){if(a--&&(C>o||C>_)){let se,W;return se=D?.95*L.width:L.width,W=D?.95*L.height:L.height,[S,w]=Pp(se,W),w.drawImage(L,0,0,se,W),h*=p==="image/png"?.85:.95,$p(S,p,t.name,t.lastModified,h).then(function(R){try{return k=R,Ds(L),L=S,C=k.size,P(Math.min(99,Math.floor((x-C)/(x-o)*100))),F}catch(N){return i(N)}},i)}return[1]},j=function(){return Ds(L),Ds(S),Ds(d),Ds(c),Ds(l),P(100),n(k)};if(m=H,I(),b=m.size>o,y=m.size>t.size,!b&&!y)return P(100),n(m);var Y;return _=t.size,x=m.size,C=x,L=c,D=!e.alwaysKeepResolution&&b,(Y=(function(se){for(;se;){if(se.then)return void se.then(Y,i);try{if(se.pop){if(se.length)return se.pop()?j.call(this):se;se=F}else se=se.call(this)}catch(W){return i(W)}}}).bind(this))(F)}}catch(F){return i(F)}}).bind(this),i)}catch(H){return i(H)}}).bind(this),i)}catch($){return i($)}}).bind(this),i)}catch(U){return i(U)}}).bind(this),i)})}const tY=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let s2;function rY(t,e){return new Promise((r,n)=>{s2||(s2=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(tY));const i=new Worker(s2);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return n(new Error(a.data.error)),void i.terminate();r(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function yn(t,e){return new Promise(function(r,n){let i,s,a,o,l,d;if(i={...e},a=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{a=p,typeof o=="function"&&o(a)},!(t instanceof Blob||t instanceof eY))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||d)return Jw(t,i).then((function(p){try{return s=p,h.call(this)}catch(m){return n(m)}}).bind(this),n);var f=(function(){try{return h.call(this)}catch(p){return n(p)}}).bind(this),c=function(p){try{return Jw(t,i).then(function(m){try{return s=m,f()}catch(b){return n(b)}},n)}catch(m){return n(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",rY(t,i).then(function(p){try{return s=p,f()}catch{return c()}},c)}catch{c()}function h(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=Hw(t,s))}catch{}return r(s)}})}yn.getDataUrlFromFile=Ww,yn.getFilefromDataUrl=i2,yn.loadImage=Gw,yn.drawImageInCanvas=Qw,yn.drawFileInCanvas=Up,yn.canvasToFile=$p,yn.getExifOrientation=Kw,yn.handleMaxWidthOrHeight=Xw,yn.followExifOrientation=Zw,yn.cleanupCanvasMemory=Ds,yn.isAutoOrientationInBrowser=ou,yn.approximateBelowMaximumCanvasSizeOfBrowser=Yw,yn.copyExifWithoutOrientation=Hw,yn.getBrowserName=qo,yn.version="2.0.2";var nY="firebase",iY="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za(nY,iY,"app");let sY=class{constructor(e){Ge(this,"value");Ge(this,"next");this.value=e}};class aY{constructor(){pg(this,zi);pg(this,El);pg(this,Al);this.clear()}enqueue(e){const r=new sY(e);Js(this,zi)?(Js(this,El).next=r,ka(this,El,r)):(ka(this,zi,r),ka(this,El,r)),uT(this,Al)._++}dequeue(){const e=Js(this,zi);if(e)return ka(this,zi,Js(this,zi).next),uT(this,Al)._--,e.value}peek(){if(Js(this,zi))return Js(this,zi).value}clear(){ka(this,zi,void 0),ka(this,El,void 0),ka(this,Al,0)}get size(){return Js(this,Al)}*[Symbol.iterator](){let e=Js(this,zi);for(;e;)yield e.value,e=e.next}}zi=new WeakMap,El=new WeakMap,Al=new WeakMap;function oY(t){eS(t);const e=new aY;let r=0;const n=()=>{r<t&&e.size>0&&(e.dequeue()(),r++)},i=()=>{r--,n()},s=async(l,d,f)=>{const c=(async()=>l(...f))();d(c);try{await c}catch{}i()},a=(l,d,f)=>{new Promise(c=>{e.enqueue(c)}).then(s.bind(void 0,l,d,f)),(async()=>(await Promise.resolve(),r<t&&n()))()},o=(l,...d)=>new Promise(f=>{a(l,f,d)});return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>t,set(l){eS(l),t=l,queueMicrotask(()=>{for(;r<t&&e.size>0;)n()})}}}),o}function eS(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}for(var cn=[],a2=0;a2<256;++a2)cn.push((a2+256).toString(16).slice(1));function lY(t,e=0){return(cn[t[e+0]]+cn[t[e+1]]+cn[t[e+2]]+cn[t[e+3]]+"-"+cn[t[e+4]]+cn[t[e+5]]+"-"+cn[t[e+6]]+cn[t[e+7]]+"-"+cn[t[e+8]]+cn[t[e+9]]+"-"+cn[t[e+10]]+cn[t[e+11]]+cn[t[e+12]]+cn[t[e+13]]+cn[t[e+14]]+cn[t[e+15]]).toLowerCase()}var jp,uY=new Uint8Array(16);function cY(){if(!jp&&(jp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jp(uY)}var dY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const tS={randomUUID:dY};function Hp(t,e,r){if(tS.randomUUID&&!e&&!t)return tS.randomUUID();t=t||{};var n=t.random||(t.rng||cY)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,lY(n)}const fY={[Ke.increment]({commit:t}){t(Ye.increment)},async[Ke.fetchRooms]({state:t,commit:e,dispatch:r},{pageSize:n}={pageSize:void 0}){if(t.isRequesting[Is.FetchRooms])return;const{numberOfFetchedRooms:i,uid:s}=t;if(i===t.numberOfTotalRooms&&i>0)return;const a=n!==void 0?n:Math.min(Math.max(30,i),120),{data:{result:o}}=await t.axios.get(Is.FetchRooms,{params:{skip:i,limit:a,q:t.roomTag?`{ "members": "${s}", "roomTags": "${t.roomTag}" }`:`{ "members": "${s}" }`}}),{data:l,totalCount:d}=o,f={},c={};for(const h of l){f[h._id]=new kd(h,t.uid);for(const p of h.members)c[p.id]||(c[p.id]=new Ra(p))}e(Ye.updateField,{key:"rooms",value:f}),e(Ye.updateField,{key:"users",value:c}),e(Ye.setState,{numberOfTotalRooms:d,numberOfFetchedRooms:i+a}),r(Ke.aggregateRoomsAndFolders)},async[Ke.handleMessageFromSocket]({state:t,commit:e,dispatch:r},n){let i=t.rooms[n.roomId];if(i){const{id:s,numberOfUnread:a}=i;n.roomId===t.selectedRoomId?(t.processingMessages.has(n.id)||(await r(Ke.handleLinkPreviews,[n]),e(Ye.pushMessage,n)),e(Ye.updateRoom,{id:s,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:0}),r(Ke.updateLastRead,s),e(Ye.setState,{numberOfTotalMessages:t.numberOfTotalMessages+1})):e(Ye.updateRoom,{id:s,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:n.senderId!==t.uid?a+1:a}),r(Ke.aggregateRoomsAndFolders)}else await r(Ke.fetchRoom,n.roomId),i=t.rooms[n.roomId]},async[Ke.loadMessages]({state:t,commit:e,dispatch:r},{roomId:n,beforeMessageId:i,afterMessageId:s,targetMessageId:a}){const o=a?`/rooms/${n}/messages/${a}`:s?`/rooms/${n}/messages/${s}`:`/rooms/${n}/messages`;if(t.isRequesting[o]||t.messageMultiList.numberOfMessages()>=t.numberOfTotalMessages&&t.numberOfTotalMessages!==-1)return;const{data:{result:l}}=await t.axios.get(o,{params:a?{before:15,after:15}:i?{limit:30,beforeMessage:i}:s?{after:30}:{limit:30}}),d={};for(const m of l.data)d[m.sender.id]||(d[m.sender.id]=new Ra(m.sender));e(Ye.updateField,{key:"users",value:d});const{data:f,totalCount:c}=l;s&&f.shift();const h=new YG(f),p=h.array();return await r(Ke.handleLinkPreviews,p),e(i?Ye.unshiftMessageLinkedList:s?Ye.concateMessageLinkedList:Ye.insertMessageLinkedList,h),c>t.numberOfTotalMessages&&e(Ye.setState,{numberOfTotalMessages:c}),f},async[Ke.fetchRoom]({state:t,commit:e},r){const{data:{result:n}}=await t.axios.get(`/rooms/${r}`),i=new kd(n,t.uid),s={};s[i.id]=i,e(Ye.updateField,{key:"rooms",value:s});const a={};n.members.flatMap(o=>Array.isArray(o.members)?[...o.members,o]:[o]).forEach(o=>{a[o.id]||(a[o.id]=new Ra(o))}),e(Ye.updateField,{key:"users",value:a})},async[Ke.updateLastRead]({state:t,commit:e},r){var a;const n=`/rooms/${r}/lastRead`;if(t.isRequesting[n])return;const i=t.rooms[r],{data:{result:s}}=await t.axios.put(n,{message:(a=i.lastMessage)==null?void 0:a.id});s&&e(Ye.updateRoom,{id:r,numberOfUnread:0})},async[Ke.handleRoomFromSocket]({commit:t,dispatch:e},r){const n={};n[r.id]=r,await t(Ye.updateField,{key:"rooms",value:n}),e(Ke.aggregateRoomsAndFolders)},async[Ke.handleLastReadFromSocket]({commit:t},e){t(Ye.updateLastRead,e)},async[Ke.sendMessage]({state:t,commit:e,dispatch:r},n){const{roomId:i}=n;if(!i)return;const s=Er.fromPayload(n,t.uid);if(!s)return;if(e(Ye.setMap,{mapName:"deliveringMessages",key:s.id,value:s}),e(Ye.pushMessage,s),n.messageType===at.Image){const{files:l}=n,d=await Promise.all(n.images.map((c,h)=>r(Ke.uploadImage,{image:c,file:l[h]}))),f=[];n.images.forEach((c,h)=>{t.imageCache.set(d[h].thumbnailUrl,c.thumbnailUrl);const{id:p,width:m,height:b}=c;f.push({originalUrl:d[h].originalUrl,thumbnailUrl:d[h].thumbnailUrl,width:m,height:b}),e(Ye.deleteField,{key:"uploadProgresses",value:`${p}-original`}),e(Ye.deleteField,{key:"uploadProgresses",value:`${p}-thumbnail`})}),n.images=f,delete n.files}else if(n.messageType===at.Video){const{file:l,video:d}=n,f=d.thumbnailFile;if(!f)return;const c=await Promise.all([r(Ke.uploadMedia,{id:f.id,file:f.file}),r(Ke.uploadMedia,{id:d.id,file:l})]);n.width=d.width,n.height=d.height,n.duration=d.duration,n.thumbnailUrl=c[0],n.originalUrl=c[1],t.imageCache.set(c[0],d.thumbnailUrl),delete n.file,e(Ye.deleteField,{key:"uploadProgresses",value:d.id})}else if(n.messageType===at.File){const{file:l}=n,d=await r(Ke.uploadMedia,{id:s.id,file:l});n.originalUrl=d,delete n.file,e(Ye.deleteField,{key:"uploadProgresses",value:s.id})}else if(n.messageType===at.Audio){const{file:l}=n,d=await r(Ke.uploadMedia,{id:s.id,file:l});n.originalUrl=d,delete n.file,e(Ye.deleteField,{key:"uploadProgresses",value:s.id})}const{data:{result:a}}=await t.axios.post(`/rooms/${i}/message`,n),o=Er.fromRaw(a);if(o)return e(Ye.setMap,{mapName:"processingMessages",key:o.id,value:o}),e(Ye.deleteMap,{mapName:"deliveringMessages",key:s.id}),await r(Ke.handleLinkPreviews,[o]),o.roomId===t.selectedRoomId?e(Ye.replaceMessage,{message:o,targetMessageId:s.id}):e(Ye.updateRoom,{id:o.roomId,updatedAt:o.createdAt,lastMessage:o}),e(Ye.deleteMap,{mapName:"processingMessages",key:o.id}),o},async[Ke.batchSendMessage]({state:t},e){await t.axios.post("/messages/batch",e)},async[Ke.recallMessage]({state:t,commit:e},r){var o;const{roomId:n}=r;if(!n)return;const{data:{result:i}}=await t.axios.post(`/rooms/${n}/message`,r),s=Er.fromRaw(i);if(!s)return;const a=t.rooms[`${n}`];a&&((o=a.lastMessage)==null?void 0:o.id)===s.id&&e(Ye.updateRoom,{id:n,lastMessage:s}),e(Ye.replaceMessage,{targetMessageId:s.id,message:s})},async[Ke.uploadMedia]({state:t,commit:e},{id:r,file:n}){const i=new FormData;i.append("file",n);const{data:{result:{_id:s}}}=await t.axios.post("/files/chatserver-upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{const{total:o}=a;o&&e(Ye.updateField,{key:"uploadProgresses",value:{[r]:a.loaded/o}})}});return`${t.config.domain}/files/chatserver-upload/${s}`},async[Ke.uploadImage]({dispatch:t},{image:e,file:r}){if(r.size>1024*1024)try{const i=await yn(r,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),s=await Promise.all([t(Ke.uploadMedia,{id:`${e.id}-original`,file:r}),t(Ke.uploadMedia,{id:`${e.id}-thumbnail`,file:i})]);return{originalUrl:s[0],thumbnailUrl:s[1]}}catch(i){console.error(i)}const n=await t(Ke.uploadMedia,{id:`${e.id}-original`,file:r});return{originalUrl:n,thumbnailUrl:n}},async[Ke.fetchLinkPreview](t,e){const{data:r}=await fr.get(encodeURI(`https://url.imkit.io/?url=${e}`));return r},async[Ke.handleLinkPreviews]({state:t,commit:e,dispatch:r},n){const i=Array.from(new Set(n.flatMap(o=>(o==null?void 0:o.urls)||[]).filter(o=>!t.linkPreviews[o])));if(i.length===0)return;const s={};(await Promise.allSettled(i.map(o=>r(Ke.fetchLinkPreview,o)))).forEach((o,l)=>{o.status==="fulfilled"&&(s[i[l]]=o.value)}),e(Ye.updateField,{key:"linkPreviews",value:s})},async[Ke.fetchVideoBlob]({state:t},e){const{data:r}=await t.axios.get(e,{responseType:"blob"});return r},async[Ke.navigateToMessage]({state:t,commit:e,dispatch:r},n){var i;(i=t.messageMultiList.main)!=null&&i.contains(n)?e(Ye.setState,{navigationTargetId:n}):(await r(Ke.loadMessages,{roomId:t.selectedRoomId,targetMessageId:n}),await e(Ye.setState,{navigationTargetId:n}))},async[Ke.updateRoomPrefs]({state:t,commit:e,dispatch:r},{roomId:n,prefs:i}){await t.axios.post(`/roomPrefs/${n}`,i);const s=t.rooms[n];s&&(e(Ye.updateRoom,{id:n,pref:{...s.pref,...i}}),r(Ke.aggregateRoomsAndFolders))},async[Ke.fetchPrefs]({state:t,commit:e}){const{data:{result:r}}=await t.axios.get("/me/pref"),n={},i=[],s={},a={},o={};for(const l of r)if(l.key==="folders-meta")for(const d of l.data)s[d.key]=d.name,i.push(d.key);else{if(l.key==="blackList")continue;a[l.key]=l.data.children.map(d=>d.id)}for(const l of i){n[l]=new au(l,s[l],a[l]||[]);for(const d of a[l]||[])o[d]=!0}e(Ye.setState,{folders:n,sortedFolderIds:i,roomIdsInFolders:o})},async[Ke.fetchRoomsInFolders]({state:t,dispatch:e}){const r=Object.keys(t.roomIdsInFolders).length;for(;t.numberOfFetchedRooms<r;)await e(Ke.fetchRooms,{pageSize:200});const n=oY(6),i=Object.keys(t.roomIdsInFolders).filter(s=>!t.rooms[s]).map(s=>n(()=>e(Ke.fetchRoom,s)));await Promise.allSettled(i)},async[Ke.updatePref]({state:t},{key:e,value:r}){return await t.axios.post(`/me/pref/${e}`,r)},async[Ke.deletePref]({state:t},e){return await t.axios.delete(`/me/pref/${e}`)},async[Ke.updateFolder]({state:t,dispatch:e,commit:r},{folderKey:n,name:i}){const s=Object.keys(t.selectedRoomIdsForCreateFolder).filter(o=>t.selectedRoomIdsForCreateFolder[o]);await e(Ke.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(o=>t.folders[o]).filter(o=>!!o&&o.id!==n).map(o=>({key:o.id,name:o.name})).concat([{key:n,name:i}]).sort((o,l)=>o.key.localeCompare(l.key))}),await e(Ke.updatePref,{key:n,value:{children:s.map(o=>({id:o,type:"room"}))}}),t.folders[n]&&r(Ye.updateField,{key:"roomIdsInFolders",value:t.folders[n].roomIds.reduce((o,l)=>(o[l]=!1,o),{})});const a=new au(n,i,s);r(Ye.updateField,{key:"folders",value:{[n]:a}}),r(Ye.updateField,{key:"roomIdsInFolders",value:s.reduce((o,l)=>(o[l]=!0,o),{})}),r(Ye.setState,{sortedFolderIds:[...new Set([...t.sortedFolderIds,n])],selectedRoomIdsForCreateFolder:{}}),e(Ke.aggregateRoomsAndFolders)},async[Ke.removeFolder]({state:t,dispatch:e},r){await e(Ke.deletePref,r),await e(Ke.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(n=>t.folders[n]).filter(n=>!!n&&n.id!==r).map(n=>({key:n.id,name:n.name}))}),e(Ke.handlePrefDeleteFromSocket)},async[Ke.handlePrefChangeFromSocket]({state:t,commit:e,dispatch:r},n){const{key:i,data:s}=n;if(i==="folders-meta"){const a={},o=[];for(const{key:l,name:d}of s){const f=t.folders[l]||new au(l,d,[]);a[l]=f,o.push(l)}e(Ye.setState,{folders:a,sortedFolderIds:o})}else{const{id:a,name:o}=t.folders[i];if(a){const l=s.children.map(f=>f.id),d=new au(a,o,l);e(Ye.updateField,{key:"folders",value:{[i]:d}}),e(Ye.updateField,{key:"roomIdsInFolders",value:l.reduce((f,c)=>(f[c]=!0,f),{})})}}r(Ke.aggregateRoomsAndFolders)},async[Ke.handlePrefDeleteFromSocket]({state:t,commit:e,dispatch:r},n){const i=t.folders[n];if(!i)return;const s={};for(const a of i.roomIds)s[a]=!1;e(Ye.deleteField,{key:"folders",value:n}),e(Ye.updateField,{key:"roomIdsInFolders",value:s}),e(Ye.setState,{sortedFolderIds:t.sortedFolderIds.filter(a=>a!==n)}),r(Ke.aggregateRoomsAndFolders)},async[Ke.aggregateRoomsAndFolders]({state:t,commit:e}){const r=Object.values(t.rooms).filter(n=>{var i;return!t.roomIdsInFolders[n.id]&&n.lastMessage!==null&&!((i=n.pref)!=null&&i.hidden)}).sort((n,i)=>{var s,a,o;return((s=n.pref)==null?void 0:s.sticky)===((a=i.pref)==null?void 0:a.sticky)?i.updatedAt-n.updatedAt:(o=n.pref)!=null&&o.sticky?-1:1});e(Ye.setState,{sortedRooms:r})},async[Ke.removeMembers]({state:t,commit:e},{roomId:r,uids:n}){var s;if(t.rooms[r]&&(await t.axios.post(`/rooms/${r}/delete/members`,{systemMessage:!0,members:n}),n.includes(t.uid))){e(Ye.deleteRoom,r);const a=(s=t.sortedRooms.find(o=>o.numberOfUnread===0))==null?void 0:s.id;a&&e(Ye.setState,{selectedRoomId:a})}},async[Ke.handleTypingFromSocket]({state:t,commit:e},r){const{room:n,sender:i}=r;if(n!==t.selectedRoomId||i===t.uid)return;const s=t.isTyping[i];s!==void 0&&clearTimeout(s);const a=setTimeout(()=>{e(Ye.deleteField,{key:"isTyping",value:i})},6e3);e(Ye.updateField,{key:"isTyping",value:{[i]:a}})},async[Ke.insertUnreadMessage]({state:t,commit:e}){var a;const r=t.rooms[t.selectedRoomId];if(!r)return;const n=r.lastReadMessageId[t.uid];if(!n)return;const i=(a=t.messageMultiList.main)==null?void 0:a.finds(n);if(!i)return;const s=Er.fromPayload({roomId:t.selectedRoomId,messageType:at.Announcement,message:"",createdAtMS:i.createdAt+1},t.uid);s&&e(Ye.pushMessage,s)},async[Ke.translate]({state:t},e){if(t.translationCache.has(e))return t.translationCache.get(e)||e;let r=navigator.language.split("-")[0];const n={am:"am",ar:"ar",eu:"eu",bn:"bn","en-gb":"en-GB","pt-br":"pt-BR",bg:"bg",ca:"ca",chr:"chr",hr:"hr",cs:"cs",da:"da",nl:"nl",en:"en",et:"et",fil:"fil",fi:"fi",fr:"fr",de:"de",el:"el",gu:"gu",iw:"iw",hi:"hi",hu:"hu",is:"is",id:"id",it:"it",ja:"ja",kn:"kn",ko:"ko",lv:"lv",lt:"lt",ms:"ms",ml:"ml",mr:"mr",no:"no",pl:"pl","pt-pt":"pt-PT",ro:"ro",ru:"ru",sr:"sr","zh-cn":"zh-CN",sk:"sk",sl:"sl",es:"es",sw:"sw",sv:"sv",ta:"ta",te:"te",th:"th","zh-tw":"zh-TW",tr:"tr",ur:"ur",uk:"uk",vi:"vi",cy:"cy"};n[navigator.language.toLowerCase()]&&(r=n[navigator.language.toLowerCase()]);const i=await fetch("https://translation.googleapis.com/language/translate/v2",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({q:e,key:t.config.translationApiKey,target:r}),redirect:"follow"}).then(s=>s.json()).then(s=>{var a;return(a=s.data)==null?void 0:a.translations[0].translatedText});return t.translationCache.set(e,i),i},async[Ke.searchRooms]({state:t,commit:e},r){if(t.isRequesting[Is.Search])return;const n=Object.values(Di),{data:{result:i}}=await t.axios.post(Is.Search,{type:n,keyword:r}),s={},a={},o={};for(const f of n)i[f].forEach(c=>{s[c._id]=new kd(c,t.uid),o[f]||(o[f]=[]),o[f].push(s[c._id]);for(const h of c.members)a[h.id]||(a[h.id]=new Ra(h))});for(const f of Object.values(t.folders))f.name.includes(r)&&(o[Di.RoomPrefFolder]||(o[Di.RoomPrefFolder]=[]),o[Di.RoomPrefFolder].push(f));const l=Object.keys(o),d=l.length>0?l[0]:Di.RoomName;e(Ye.updateField,{key:"rooms",value:s}),e(Ye.updateField,{key:"users",value:a}),e(Ye.setState,{searchRooms:o,searchType:d,searchKeyword:r})},async[Ke.subscribe]({state:t}){if(!t.config.firebaseConfig||!t.config.firebaseVapidKey||await Notification.requestPermission()!=="granted")return;const r=nw(t.config.firebaseConfig),n=WG(r),i=await GG(n,{vapidKey:t.config.firebaseVapidKey});if(!i)return;let s=localStorage.getItem("imkit-deviceId");s||(s=Hp(),localStorage.setItem("imkit-deviceId",s)),await t.axios.post(Is.Subscribe,{type:"fcm",token:i,deviceId:s})},async[Ke.unsubscribe]({state:t}){let e=localStorage.getItem("imkit-deviceId");e||(e=Hp(),localStorage.setItem("imkit-deviceId",e)),await t.axios.post(Is.Unsubscribe,{type:"fcm",deviceId:e})},async[Ke.removeRoomFromFolder]({state:t,commit:e,dispatch:r},n){if(!t.roomIdsInFolders[n])return;const i=t.folders[t.selectedFolderId];if(!i)return;const s=i.id,a=i.roomIds.filter(l=>l!==n);await r(Ke.updatePref,{key:s,value:{children:a.map(l=>({id:l,type:"room"}))}});const o=new au(s,i.name,a);e(Ye.updateField,{key:"folders",value:{[s]:o}}),e(Ye.updateField,{key:"roomIdsInFolders",value:{[n]:!1}}),r(Ke.aggregateRoomsAndFolders)},async[Ke.addRoomToFolder]({state:t,commit:e,dispatch:r},{roomId:n,folderId:i}){const s=t.folders[i];if(!s)return;const a=Array.from(new Set([...s.roomIds,n]));await r(Ke.updatePref,{key:i,value:{children:a.map(l=>({id:l,type:"room"}))}});const o=new au(i,s.name,a);e(Ye.updateField,{key:"folders",value:{[i]:o}}),e(Ye.updateField,{key:"roomIdsInFolders",value:{[n]:!0}}),r(Ke.aggregateRoomsAndFolders)},async[Ke.toggleNotification]({state:t,commit:e},r){const n=t.rooms[r];n&&(n.muted?await t.axios.delete(`/me/mute/${r}`):await t.axios.post(`/me/mute/${r}`),e(Ye.updateRoom,{id:r,muted:!n.muted}))},async[Ke.removeRoom]({state:t,commit:e},r){await t.axios.delete(`/rooms/${r}`),e(Ye.deleteRoom,r)},async[Ke.translateMessage]({state:t,commit:e,dispatch:r},n){if(t.config.translationApiKey&&n.type===at.Text&&n.senderId!==t.uid){const i=n.text;try{const s=await r(Ke.translate,i);n.translatedText=s!==i?s:null,e(Ye.replaceMessage,{message:n,targetMessageId:n.id})}catch(s){console.error(s)}}},async[Ke.blockUser]({state:t,commit:e},{roomId:r,uid:n}){await t.axios.post(`/blockStatus/room/${r}/${n}`),e(Ye.updateField,{key:"blockedUsers",value:{[n]:!0}})},async[Ke.unblockUser]({state:t,commit:e},{roomId:r,uid:n}){await t.axios.delete(`/blockStatus/room/${r}/${n}`),e(Ye.deleteField,{key:"blockedUsers",value:n})},async[Ke.getBlockList]({state:t,commit:e},r){const n=await t.axios.get(`/blockStatus/room/${r}`),i={};for(const s of n.data.result.data)s.blockee&&(i[s.blockee.id]=!0);e(Ye.updateField,{key:"blockedUsers",value:i})},async[Ke.quickReply]({state:t,dispatch:e},r){const n={roomId:r.roomId,messageType:"text",message:r.message,reply:t.replyId?t.replyId:null};e(Ke.sendMessage,n)}},hY={doubleCount:t=>t.count*2,roomsInSelectedFolder:t=>{const{selectedFolderId:e}=t,r=t.folders[e];return r?r.roomIds.map(i=>t.rooms[i]).filter(i=>t.roomTag?i&&i.roomTags.includes(t.roomTag):i).sort((i,s)=>{var a,o,l;return((a=i.pref)==null?void 0:a.sticky)===((o=s.pref)==null?void 0:o.sticky)?s.updatedAt-i.updatedAt:(l=i.pref)!=null&&l.sticky?-1:1}):[]}},pY={[Ye.increment](t){t.count++},[Ye.setState](t,e){Object.assign(t,e)},[Ye.updateField](t,e){const{key:r,value:n}=e;Object.assign(t[r],n)},[Ye.deleteField](t,e){const{key:r,value:n}=e;delete t[r][n]},[Ye.updateRoom](t,e){const{id:r}=e,n=t.rooms[r];n&&Object.assign(n,e)},[Ye.updateLastRead](t,e){const{roomId:r,uid:n,messageId:i}=e,s=t.rooms[r];s&&(s.lastReadMessageId[n]=i)},[Ye.pushMessage](t,e){var r;e.roomId===t.selectedRoomId&&((r=t.messageMultiList.main)==null||r.append(e))},[Ye.replaceMessage](t,e){var i,s;const{targetMessageId:r,message:n}=e;r===n.id&&((i=t.messageMultiList.main)!=null&&i.contains(n.id))&&t.messageMultiList.main.remove(n.id),(s=t.messageMultiList.main)==null||s.replace(r,n)},[Ye.clearChatRoom](t){t.messageMultiList=new $C,t.numberOfTotalMessages=-1,t.replyId="",t.navigationTargetId="",t.isTyping={},t.isSearchInRoomMode=!1,t.messageSearchKeyword="",t.blockedUsers={}},[Ye.deleteRoom](t,e){delete t.rooms[e],delete t.roomIdsInFolders[e],delete t.selectedRoomIdsForCreateFolder[e],t.sortedRooms=t.sortedRooms.filter(r=>r.id!==e)},[Ye.setMap](t,e){const{mapName:r,key:n,value:i}=e;t[r].set(n,i)},[Ye.deleteMap](t,e){const{mapName:r,key:n}=e;t[r].delete(n)},[Ye.insertMessageLinkedList](t,e){t.messageMultiList.insert(e),t.messageMultiList.merge()},[Ye.concateMessageLinkedList](t,e){t.messageMultiList.concate(e),t.messageMultiList.merge()},[Ye.unshiftMessageLinkedList](t,e){t.messageMultiList.unshift(e),t.messageMultiList.merge()}},rS={state:jC,mutations:pY,getters:hY,actions:fY,namespaced:!0},lu=DR({plugins:[],modules:{imkit:rS}});var nS={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(It,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,s,a){var o,l=function(h,p,m){m===void 0&&(m={});var b=new Date(h),y=function(_,x){x===void 0&&(x={});var C=x.timeZoneName||"short",k=_+"|"+C,S=n[k];return S||(S=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:C}),n[k]=S),S}(p,m);return y.formatToParts(b)},d=function(h,p){for(var m=l(h,p),b=[],y=0;y<m.length;y+=1){var _=m[y],x=_.type,C=_.value,k=r[x];k>=0&&(b[k]=parseInt(C,10))}var S=b[3],w=S===24?0:S,L=b[0]+"-"+b[1]+"-"+b[2]+" "+w+":"+b[4]+":"+b[5]+":000",D=+h;return(a.utc(L).valueOf()-(D-=D%1e3))/6e4},f=s.prototype;f.tz=function(h,p){h===void 0&&(h=o);var m,b=this.utcOffset(),y=this.toDate(),_=y.toLocaleString("en-US",{timeZone:h}),x=Math.round((y-new Date(_))/1e3/60),C=15*-Math.round(y.getTimezoneOffset()/15)-x;if(!Number(C))m=this.utcOffset(0,p);else if(m=a(_,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(C,!0),p){var k=m.utcOffset();m=m.add(b-k,"minute")}return m.$x.$timezone=h,m},f.offsetName=function(h){var p=this.$x.$timezone||a.tz.guess(),m=l(this.valueOf(),p,{timeZoneName:h}).find(function(b){return b.type.toLowerCase()==="timezonename"});return m&&m.value};var c=f.startOf;f.startOf=function(h,p){if(!this.$x||!this.$x.$timezone)return c.call(this,h,p);var m=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(m,h,p).tz(this.$x.$timezone,!0)},a.tz=function(h,p,m){var b=m&&p,y=m||p||o,_=d(+a(),y);if(typeof h!="string")return a(h).tz(y);var x=function(w,L,D){var I=w-60*L*1e3,P=d(I,D);if(L===P)return[I,L];var z=d(I-=60*(P-L)*1e3,D);return P===z?[I,P]:[w-60*Math.min(P,z)*1e3,Math.max(P,z)]}(a.utc(h,b).valueOf(),_,y),C=x[0],k=x[1],S=a(C).utcOffset(k);return S.$x.$timezone=y,S},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(h){o=h}}})})(nS);var mY=nS.exports;const gY=on(mY);var iS={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(It,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,a,o){var l=a.prototype;o.utc=function(b){var y={date:b,utc:!0,args:arguments};return new a(y)},l.utc=function(b){var y=o(this.toDate(),{locale:this.$L,utc:!0});return b?y.add(this.utcOffset(),r):y},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),d.call(this,b)};var f=l.init;l.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else f.call(this)};var c=l.utcOffset;l.utcOffset=function(b,y){var _=this.$utils().u;if(_(b))return this.$u?0:_(this.$offset)?c.call(this):this.$offset;if(typeof b=="string"&&(b=function(S){S===void 0&&(S="");var w=S.match(n);if(!w)return null;var L=(""+w[0]).match(i)||["-",0,0],D=L[0],I=60*+L[1]+ +L[2];return I===0?0:D==="+"?I:-I}(b),b===null))return this;var x=Math.abs(b)<=16?60*b:b,C=this;if(y)return C.$offset=x,C.$u=b===0,C;if(b!==0){var k=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(x+k,r)).$offset=x,C.$x.$localOffset=k}else C=this.utc();return C};var h=l.format;l.format=function(b){var y=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,y)},l.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(b){return b==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(b,y,_){if(b&&this.$u===b.$u)return m.call(this,b,y,_);var x=this.local(),C=o(b).local();return m.call(x,C,y,_)}}})})(iS);var bY=iS.exports;const yY=on(bY);dr.extend(yY),dr.extend(gY);var at=(t=>(t.Text="text",t.Image="image",t.Sticker="sticker",t.Video="video",t.File="file",t.Template="template",t.Flex="flex",t.Location="location",t.Audio="audio",t.Recall="recall",t.JoinRoom="joinRoom",t.LeaveRoom="leaveRoom",t.AddMember="addMember",t.DeleteMember="deleteMember",t.AddMembers="addMembers",t.Announcement="announcement",t.Typing="typing",t))(at||{});class Er{constructor(e){Ge(this,"id");Ge(this,"roomId");Ge(this,"senderId");Ge(this,"type");Ge(this,"createdAt");Ge(this,"updatedAt");Ge(this,"groupId");Ge(this,"dateId");Ge(this,"template");Ge(this,"prev",null);Ge(this,"next",null);const{_id:r,room:n,sender:i,messageType:s,createdAtMS:a,updatedAtMS:o,extra:l}=e;this.id=r,this.roomId=n,this.senderId=(i==null?void 0:i._id)||"",s==="line"?this.type=l.type:this.type=s,this.createdAt=a,this.updatedAt=o,this.groupId=`${dr(a).startOf("minute").unix()}-${this.senderId}`,this.dateId=dr.tz(a).startOf("day").unix()}_string(e,r){var i,s;let n=ki.global.t("message");switch(this.type){case"image":n=ki.global.t("image");break;case"sticker":n=ki.global.t("sticker");break;case"video":n=ki.global.t("video");break;case"file":n=ki.global.t("file");break;case"location":n=ki.global.t("location");break;case"audio":n=ki.global.t("audio");break;case"recall":return this.senderId===e?ki.global.t("youUnsentMessage"):ki.global.t("someoneUnsentMessage",[((i=r[this.senderId])==null?void 0:i.nickname)??""])}return this.senderId===e?ki.global.t("youSent",[n]):ki.global.t("someoneSent",[((s=r[this.senderId])==null?void 0:s.nickname)??"",n])}get string(){const{state:{imkit:{uid:e,users:r}}}=lu;return this._string(e,r)}get isIncoming(){return!this.isOutgoing}get isOutgoing(){var n;const{state:{imkit:{rooms:e,uid:r}}}=lu;return this.senderId===r||((n=e[this.roomId])==null?void 0:n.isOutgoingGroupSender[this.senderId])}get isSystem(){return new Set(["recall","joinRoom","leaveRoom","addMember","deleteMember","addMembers","announcement"]).has(this.type)}static fromRaw(e){if(!e)return null;switch(e.messageType){case"text":return new zp(e);case"image":return new _Y(e);case"sticker":return new sS(e);case"video":return new vY(e);case"file":return new xY(e);case"template":return new TY(e);case"flex":return new EY(e);case"location":return new AY(e);case"audio":return new CY(e);case"announcement":return new zp(e);case"addMember":return new l2(e);case"deleteMember":return new l2(e);case"addMembers":return new l2(e);case"line":switch(e.extra!=="object"&&(e.extra=JSON.parse(e.extra)),e.extra.type){case"sticker":return new sS(e);default:return new Er(e)}default:return new Er(e)}}static fromPayload(e,r){const n=Date.now(),{roomId:i}=e,s={_id:Hp(),room:i,sender:{_id:r},createdAtMS:n,updatedAtMS:n,...e};return Er.fromRaw(s)}}const xc=class xc extends Er{constructor(r){super(r);Ge(this,"text");Ge(this,"translatedText");Ge(this,"replyId");Ge(this,"urls");const{message:n,reply:i}=r;this.text=n??"",this.translatedText=null,this.replyId=(i==null?void 0:i._id)??null;try{this.urls=Array.from(new Set(xc.autolinker.parse(n).map(s=>typeof s.getUrl=="function"?s.getUrl():"").filter(s=>s!=="")))}catch(s){this.urls=[],console.log(r),console.error(s)}}get string(){return u$(this.html).text()}get html(){return xc.autolinker.link(this.text.replaceAll(`
`,"<br>"))}static linkfy(r){try{return xc.autolinker.link(r.replaceAll(`
`,"<br>"))}catch(n){return console.error(n),r}}};Ge(xc,"autolinker",new d$({className:"underline",email:!1,phone:!1,stripPrefix:!1,stripTrailingSlash:!1,mention:"instagram",replaceFn:function(r){switch(r.getType()){case"url":return!0;case"mention":{if(!lu)return`@${r.getMention()}`;const n=r.getMention(),i=lu.state.imkit.users[n];return i?`<span class="cursor-pointer text-blue-500" data-uid="${n}">@${i.nickname}</span>`:`@${r.getMention()}`}}}}));let zp=xc;class _Y extends Er{constructor(r){super(r);Ge(this,"images");const{images:n,width:i,height:s,thumbnailUrl:a,originalUrl:o}=r;n&&n.length>0?this.images=n:this.images=[{id:o,width:i,height:s,thumbnailUrl:a,originalUrl:o}]}}class sS extends Er{constructor(r){super(r);Ge(this,"stickerId");Ge(this,"stickerUrl");const{sticker:n,extra:i}=r;n?NH(n)?(this.stickerId="",this.stickerUrl=n):(this.stickerId=n,this.stickerUrl=""):(this.stickerId="",this.stickerUrl=`https://stickershop.line-scdn.net/stickershop/v1/sticker/${i.stickerId}/ios/sticker.png`)}}class vY extends Er{constructor(r){super(r);Ge(this,"video");const{id:n,width:i,height:s,thumbnailUrl:a,originalUrl:o,duration:l,thumbnailFile:d,video:f}=r;f?this.video=f:this.video={id:n||o,width:i,height:s,thumbnailUrl:a,originalUrl:o,duration:l,thumbnailFile:d}}}var Wo=(t=>(t.Buttons="buttons",t.Confirm="confirm",t.Carousel="carousel",t.ImageCarousel="image_carousel",t))(Wo||{});class TY extends Er{constructor(r){super(r);Ge(this,"template");Ge(this,"templateType");const{template:n}=r;try{this.template=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.template;this.templateType=i}catch(i){console.log(r),console.error(i),this.template={},this.templateType="buttons"}}}var o2=(t=>(t.Bubble="bubble",t.Carousel="carousel",t))(o2||{});class EY extends Er{constructor(r){super(r);Ge(this,"contents");Ge(this,"flexType");const{contents:n}=r;try{this.contents=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.contents;this.flexType=i}catch(i){console.log(r),console.error(i),this.contents={},this.flexType="bubble"}}}class AY extends Er{constructor(r){super(r);Ge(this,"address");Ge(this,"latitude");Ge(this,"longitude");const{message:n,latitude:i,longitude:s}=r;this.address=n,this.latitude=i,this.longitude=s}}class l2 extends Er{constructor(r){super(r);Ge(this,"members");switch(r.messageType){case"addMember":this.members=[new Ra(r.member)];break;case"deleteMember":this.members=r.extra.members.map(n=>new Ra(n));break;case"addMembers":this.members=r.extra.invitees.map(n=>new Ra(n));break;default:this.members=[]}}}class xY extends Er{constructor(r){super(r);Ge(this,"url");Ge(this,"mimeType");Ge(this,"fileName");Ge(this,"bytes");Ge(this,"fileExtension");const{originalUrl:n,extra:i}=r;this.url=n;const{mimeType:s,fileName:a,bytes:o,fileExtension:l}=typeof i=="object"?i:JSON.parse(i);this.mimeType=s,this.fileName=a,this.bytes=o,this.fileExtension=l}}class CY extends Er{constructor(r){super(r);Ge(this,"url");Ge(this,"mimeType");Ge(this,"fileName");Ge(this,"bytes");Ge(this,"fileExtension");Ge(this,"duration");const{originalUrl:n,extra:i,duration:s}=r;this.url=n;const{mimeType:a,fileName:o,bytes:l,fileExtension:d}=typeof i=="object"?i:JSON.parse(i);this.mimeType=a,this.fileName=o,this.bytes=l,this.fileExtension=d,this.duration=s}}const aS=t=>(u.pushScopeId("data-v-5a87a495"),t=t(),u.popScopeId(),t),wY={class:"flex gap-3"},SY={class:"flex flex-col gap-1"},kY={class:"text-sm font-bold text-gray-600 dark:text-gray-300"},IY={class:"multiline-ellipsis text-xs text-gray-500 dark:text-gray-300"},DY={key:0,class:"ml-auto h-10 w-10 rounded object-cover"},NY=aS(()=>u.createElementVNode("div",{class:"-mx-4 h-px bg-gray-200 dark:bg-zinc-600"},null,-1)),MY=["innerHTML"],OY=["innerHTML"],LY=["innerHTML"],RY={key:3,class:"my-1 flex flex-col gap-3"},BY=["onClick"],PY=aS(()=>u.createElementVNode("div",{class:"my-0.5 w-0.5 flex-shrink-0 rounded-full bg-blue-300"},null,-1)),FY={class:"align-center flex grow flex-col justify-center gap-0.5 overflow-hidden"},UY={class:"ellipsis text-sm font-bold"},$Y={class:"multiline-ellipsis text-xs"},jY=["src"],Va=Sr(u.defineComponent({__name:"TextMessageContent",props:{message:{}},setup(t){const e=t,r=nr(),n=u.computed(()=>{var p;return(p=r.state.imkit.messageMultiList.main)==null?void 0:p.map.get(e.message.replyId)}),i=u.computed(()=>{const p=n.value;return p?r.state.imkit.users[p.senderId]:null}),s=u.computed(()=>e.message.isIncoming),a=u.computed(()=>{const{urls:p}=e.message;return p?p.map(m=>r.state.imkit.linkPreviews[m]).filter(m=>m):[]}),o=u.computed(()=>{if(n.value.type===at.Text)return n.value.text;if(n.value.type===at.Image){const{t:p}=Ss();return{[at.Text]:p("text"),[at.Image]:p("image"),[at.Video]:p("video"),[at.Sticker]:p("sticker")}[n.value.type]}return""}),l=u.computed(()=>{if(n.value.type===at.Image)return n.value.images[0]}),d=p=>{const m=p.target;if(m.tagName==="SPAN"&&m.dataset.uid){const b=r.state.imkit.users[m.dataset.uid];if(!b)return;const{open:y}=Ki({component:JT,attrs:{url:b.avatarUrl??"",name:b.nickname??""}});y()}},f=u.computed(()=>r.state.imkit.messageSearchKeyword?e.message.html.replace(new RegExp(r.state.imkit.messageSearchKeyword,"ig"),p=>`<span class="bg-amber-400 text-white">${p}</span>`):e.message.html),c=p=>{window.open(p,"_blank")},h=()=>{r.dispatch("imkit/navigateToMessage",e.message.replyId)};return(p,m)=>{const b=u.resolveDirective("src");return u.openBlock(),u.createElementBlock(u.Fragment,null,[n.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer flex-col gap-2",onClick:h},[u.createElementVNode("div",wY,[u.createVNode(gn,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg text-sm",url:i.value.avatarUrl??"",name:i.value.nickname??""},null,8,["url","name"]),u.createElementVNode("div",SY,[u.createElementVNode("div",kY,u.toDisplayString(i.value.nickname),1),u.createElementVNode("div",IY,u.toDisplayString(o.value),1)]),l.value?u.withDirectives((u.openBlock(),u.createElementBlock("img",DY,null,512)),[[b,l.value.thumbnailUrl]]):u.createCommentVNode("",!0)]),NY,u.createElementVNode("div",{class:"break-all",innerHTML:f.value},null,8,MY)])):(u.openBlock(),u.createElementBlock("div",{key:1,class:"break-all",innerHTML:f.value,onClick:d},null,8,OY)),s.value&&p.message.translatedText?(u.openBlock(),u.createElementBlock("div",{key:2,class:"break-all text-gray-400",innerHTML:p.$t("translation")+": "+p.message.translatedText},null,8,LY)):u.createCommentVNode("",!0),a.value.length>0?(u.openBlock(),u.createElementBlock("div",RY,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(a.value,y=>(u.openBlock(),u.createElementBlock("div",{key:y.url,class:"flex cursor-pointer items-stretch justify-center gap-2",onClick:_=>c(y.url)},[PY,u.createElementVNode("div",FY,[u.createElementVNode("div",UY,u.toDisplayString(y.title),1),u.createElementVNode("div",$Y,u.toDisplayString(y.description||p.$t("tapOpen")),1)]),y.images.length>0?(u.openBlock(),u.createElementBlock("img",{key:0,src:y.images[0],class:"my-auto h-12 w-12 flex-shrink-0 rounded object-cover"},null,8,jY)):u.createCommentVNode("",!0)],8,BY))),128))])):u.createCommentVNode("",!0)],64)}}}),[["__scopeId","data-v-5a87a495"]]);function HY(){return Math.random().toString(16).substring(2)}var u2=u.defineComponent({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(t){const e=u.reactive({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),r=`rg-${HY()}`,n=u.ref(0),i=u.ref(0),s=u.ref(null),a=u.computed(()=>t.diameter/2),o=u.computed(()=>t.diameter-t.innerStrokeWidth*2),l=u.computed(()=>Math.PI*o.value),d=u.computed(()=>t.totalSteps===0?0:100/t.totalSteps),f=u.computed(()=>d.value*t.completedSteps),c=u.computed(()=>2*Math.PI/t.totalSteps),h=u.computed(()=>100/t.fps),p=u.computed(()=>t.animateSpeed/h.value),m=u.computed(()=>c.value/p.value),b=u.computed(()=>o.value/2),y=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`})),_=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.strokeWidth}px`,strokeDashoffset:n.value,transition:`stroke-dashoffset ${t.animateSpeed}ms ${t.timingFunc}`})),x=u.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.innerStrokeWidth}px`})),C=u.computed(()=>({width:`${o.value}px`}));u.watch(()=>[t.diameter,t.totalSteps,t.completedSteps,t.strokeWidth],L,{immediate:!0});function k(D){const P=.5+.5*Math.cos(D),z=.5+.5*Math.sin(D);return{x:P,y:z}}function S(){const D=k(i.value);D.x&&D.y&&(e.fx=D.x,e.fy=D.y)}function w(){return t.isClockwise?1:-1}function L(){n.value=(100-f.value)/100*l.value*w(),s.value&&clearInterval(s.value);const D=(t.completedSteps-1)*c.value;let I=(i.value-D)/m.value;const P=Math.abs(I-p.value)/p.value,z=I<p.value;s.value=setInterval(()=>{if(z&&I>=p.value||!z&&I<p.value){s.value&&clearInterval(s.value);return}i.value=D+m.value*I,S(),I+=z?P:-P},h.value)}return{gradientAnimation:s,innerCircleRadius:b,radialGradientId:r,strokeDashoffset:n,innerCircleStyle:C,containerStyle:y,circumference:l,progressStyle:_,currentAngle:i,strokeStyle:x,gradient:e,radius:a}}});const zY=["width","height"],VY=["id","fx","fy","cx","cy","r"],qY=["stop-color"],WY=["stop-color"],GY=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],YY=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function QY(t,e,r,n,i,s){return u.openBlock(),u.createElementBlock("div",{class:"vrp__wrapper",style:u.normalizeStyle(t.containerStyle)},[u.createElementVNode("div",{class:"vrp__inner",style:u.normalizeStyle(t.innerCircleStyle)},[u.renderSlot(t.$slots,"default")],4),(u.openBlock(),u.createElementBlock("svg",{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("defs",null,[u.createElementVNode("radialGradient",{id:t.radialGradientId,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r},[u.createElementVNode("stop",{offset:"30%","stop-color":t.startColor},null,8,qY),u.createElementVNode("stop",{offset:"100%","stop-color":t.stopColor},null,8,WY)],8,VY)]),u.createElementVNode("circle",{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":t.strokeLinecap,style:u.normalizeStyle(t.strokeStyle)},null,12,GY),u.createElementVNode("circle",{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:`url('#${t.radialGradientId}')`,"stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":t.strokeLinecap,style:u.normalizeStyle(t.progressStyle)},null,12,YY)],8,zY))],4)}function KY(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var XY=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;KY(XY),u2.render=QY,u2.__scopeId="data-v-6a0cf1f6";var Vp=(()=>{const t=u2;return t.install=e=>{e.component("RadialProgressBar",t)},t})();const ZY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNklEQVR4nO2Z20sVURTGd9r9IlLmDYxuBEmBURBSkQWF2EsvUUT17EOFb9ZbFIRBQdEfYIUUBNlDd6KgIqOrhWU3MQiiIior7QLlL9Y5a07b0eM5xzPjmYnzgXj2ntnfWt+stfdes8eYLLLIIuMARgILgU3AdmArsBZYBOSaoANYDBwBvhEfH4BGoNIEDUAJcBLotRx+ChwHDgGHgWbgiUtUMzDLBAFAFfBOHfsE7AbKBrl/NrAL+KJjPgPVw+t1f6dWAz/UoRNAYQpjp2rEBL+BLf56G9+RcqBbHdk5RI4RMlZT8hew1HtPo4bG60qzUlLC6h8FPFYRezyws1e5JEXz03bcIp4JNAHfXZOzHVgH1Gn7GpDjgb0c4IpyNnglotqaiJK7rcBV4JUlSFLhDzDXE6MmYrdCOeXhFXlB1qPOylpf4rpeqcIiS2e6zrsBnFbuWpMOgJtKtC/BvKlN+6kNzL1Z7V9Ih2SBkryUyeyph8n7UKg+fEyHpM6rVSgd8G+BGTeUwcuAe0qQmY1JAXSqHzNMspA8tyaYU9DF9otMAHijvhwA1gCjEw2YYy2pnTrRUg+nxwDaXHvXe6B+wHkLTAE69MZTwEQTEAB5wBJgo27KUroI7vSr5YBjevFSplaoFKuMW1ZlkWcXe726e5eaEAAYq+WQoMnp3K8dB02IABQDXzUIFdJxX4UsNyED0BALgr6RCSb7ZExS4K6PZwKCNmn8jPyEMT4Zi8An7nyl75LGa22UhVDIBKXvlsZlbawPoZB5Sv9CGtu0cSaEQuqVvlEaBdYbYFVYhBB9D3LqsBqnc4d2vAWmh0TIUaVukdMXpzMXOG+JWRFUIUQj4YiQTCp33zAJOOcYBs4CG4BpCUtnn4UQdX6+zgknnWRXXxVvQK7e3EXquJGqEBnD0NDSLxJxDBTo0f9F3Wec0nkwXPdRSA/wXE9yamJzYjgxmJBQgayQgCGUEQEeAA/lpSeeEH0hegTcNkEFUQedz2zFbiEqQq4JWk1QQfSI0/lOIstlqbWEFlnXngX+fIC+T935b/+ORSvwoG9kbAQ/EkmICZ8IV5q161840ilBZJL+TJ2F+U/wF9Y5UmVGwaQRAAAAAElFTkSuQmCC",JY={key:0,class:"relative flex items-center justify-center"},eQ={class:"max-w-80vw max-h-80vh",alt:""},tQ={key:0,class:"max-w-80vw max-h-80vh absolute",alt:""},rQ=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),nQ={key:1,class:"mt-4 flex gap-4"},iQ=u.createElementVNode("img",{class:"h-5 w-5",src:ZY},null,-1),sQ=u.defineComponent({__name:"ImageModal",props:{image:{}},setup(t){const e=kn(),r=nr(),n=u.computed(()=>r.state.imkit.downloadProgresses),i=u.computed(()=>r.state.imkit.imageCache),s=a=>{const o=document.createElement("a"),l=i.value.get(a.originalUrl);o.href=l;const d=l.split(";")[0].replace("data:","").split("/")[1];o.download=`download.${d}`,o.click()};return(a,o)=>{const l=u.resolveDirective("src");return u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[a.image?(u.openBlock(),u.createElementBlock("div",JY,[u.withDirectives(u.createElementVNode("img",eQ,null,512),[[l,a.image.thumbnailUrl]]),a.image.thumbnailUrl!==a.image.originalUrl?u.withDirectives((u.openBlock(),u.createElementBlock("img",tQ,null,512)),[[l,a.image.originalUrl]]):u.createCommentVNode("",!0),(!n.value[a.image.originalUrl]||n.value[a.image.originalUrl]<1)&&a.image.thumbnailUrl!==a.image.originalUrl?(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[rQ,u.createVNode(u.unref(Vp),{class:"!absolute",diameter:40,"completed-steps":n.value[a.image.originalUrl]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)])):u.createCommentVNode("",!0),a.image?(u.openBlock(),u.createElementBlock("div",nQ,[u.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:o[0]||(o[0]=d=>s(a.image))},[iQ,u.createTextVNode(" "+u.toDisplayString(a.$t("download")),1)]),u.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:o[1]||(o[1]=d=>u.unref(e).closeAll())},u.toDisplayString(a.$t("close")),1)])):u.createCommentVNode("",!0)]),_:1})}}}),aQ=["onClick"],oQ=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),lQ=u.defineComponent({__name:"ImageMessageContent",props:{message:{}},setup(t){const e=t,r=nr(),n=u.computed(()=>r.state.imkit.uploadProgresses),i=(a,o)=>{if(e.message.images.length===1){const{width:d,height:f}=o;return d<f?{width:"200px",height:`${200*f/d}px`}:{width:`${200*d/f}px`,height:"200px"}}else return a===e.message.images.length-1&&a%2===0?{width:`${200*2+1}px`,height:"200px"}:{width:"200px",height:"200px"}},s=a=>{const{open:o}=Ki({component:sQ,attrs:{image:a}});o()};return(a,o)=>{const l=u.resolveDirective("src");return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["-mx-3 -my-2 grid gap-px",[a.message.images.length>1?"grid-cols-2":"grid-cols-1"]])},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(a.message.images,(d,f)=>(u.openBlock(),u.createElementBlock("div",{key:d.thumbnailUrl,class:u.normalizeClass(["relative flex items-center justify-center",{"col-span-2":a.message.images.length>1&&f===a.message.images.length-1&&f%2===0}]),onClick:c=>s(d)},[u.withDirectives(u.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:u.normalizeStyle(i(f,d))},null,4),[[l,d.thumbnailUrl]]),d.thumbnailUrl.startsWith("data")?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[oQ,u.createVNode(u.unref(Vp),{class:"!absolute",diameter:40,"completed-steps":n.value[`${d.id}-original`]===void 0?(n.value[`${d.id}-original`]+n.value[`${d.id}-thumbnail`])/2*100:n.value[`${d.id}-original`]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)],10,aQ))),128))],2)}}}),uQ=["src"],oS=u.defineComponent({__name:"StickerMessageContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.stickerUrl?e.message.stickerUrl:`/sticker/${e.message.stickerId.split("-")[0]}/${e.message.stickerId}.png`);return(n,i)=>(u.openBlock(),u.createElementBlock("img",{src:r.value,class:"h-32 w-32 border-0 object-contain"},null,8,uQ))}}),lS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR4nO3bP68MURzH4RMhNIobEhoJFaFCKRI6Ha/AW9DSKeUqVVqlmkQv8ScUOoVGgUSnQCM8MpFJZJmz17V398zO9ym32nwyO7O/M+eUEhERERERK4Z9OLDq79EcnMIjfPfLB9zA3jJ1OIMv/u41zpUpw0t13VV1B/vL1OCYrXuLS2VKcN6/uzeZGzku2J6PuFrWne0H6j3AkbKu/H+gzidcw66ybiwmUO8xjpd1YrGBOl9xE3vKOrD4QL1XOFvGzs4F6nzDrW6+K2NlZwP13uBiGSPLCdT5gbujG1csL1DvPS6XsbD8QL37OFhaZ3WBxjGuWG2g3sNmxxVtBGp3XNFOoN/HlROlFdoL1Na4os1Avac4nEB1z7E7V1DdlQSqu51AdZsJVJefWMWz3KSHPcGhPOb/lD+KFRk1BmRYrchyx4AsmFVkyXVAFu0H5LVPRV4cDsir54psXmh+TFgE2UBVly14c2QT5xzZBjxHNpLPgaO2bnpHETp4MSfMdA+zdHAanwfi5DhUBydnDtS9w/UcqJvRBcHG7OcREREREVEm5icELZJIi+Y1dAAAAABJRU5ErkJggg==";var Id;typeof window<"u"?Id=window:typeof It<"u"?Id=It:typeof self<"u"?Id=self:Id={};var qp=Id;const ne=on(qp),cQ=SB(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var uS=typeof It<"u"?It:typeof window<"u"?window:{},dQ=cQ,Dd;typeof document<"u"?Dd=document:(Dd=uS["__GLOBAL_DOCUMENT_CACHE@4"],Dd||(Dd=uS["__GLOBAL_DOCUMENT_CACHE@4"]=dQ));var cS=Dd;const qe=on(cS);var fQ=hQ;function hQ(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}const pQ=on(fQ);var c2={exports:{}},dS={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(dS);var mQ=dS.exports,gQ=yQ,bQ=Object.prototype.toString;function yQ(t){if(!t)return!1;var e=bQ.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function _Q(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=vQ(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(t,e){if(t){if(typeof t=="string")return fS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(t,e)}}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var TQ=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(n,i){this.typeToInterceptorsMap_.has(n)||this.typeToInterceptorsMap_.set(n,new Set);var s=this.typeToInterceptorsMap_.get(n);return s.has(i)?!1:(s.add(i),!0)},e.removeInterceptor=function(n,i){var s=this.typeToInterceptorsMap_.get(n);return s&&s.has(i)?(s.delete(i),!0):!1},e.clearInterceptorsByType=function(n){var i=this.typeToInterceptorsMap_.get(n);return i?(this.typeToInterceptorsMap_.delete(n),this.typeToInterceptorsMap_.set(n,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(n){return this.typeToInterceptorsMap_.get(n)||new Set},e.execute=function(n,i){for(var s=this.getForType(n),a=_Q(s),o;!(o=a()).done;){var l=o.value;try{i=l(i)}catch{}}return i},t}(),EQ=TQ,AQ=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(n){this.maxAttempts_=n},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(n){this.delayFactor_=n},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(n){this.fuzzFactor_=n},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(n){this.initialDelay_=n},e.createRetry=function(n){var i=n===void 0?{}:n,s=i.maxAttempts,a=i.delayFactor,o=i.fuzzFactor,l=i.initialDelay;return new xQ({maxAttempts:s||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),xQ=function(){function t(r){this.maxAttempts_=r.maxAttempts,this.delayFactor_=r.delayFactor,this.fuzzFactor_=r.fuzzFactor,this.currentDelay_=r.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var n=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+n},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var n=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return n+Math.random()*(i-n)},t}(),CQ=AQ,wQ=qp,SQ=function(e,r){return r===void 0&&(r=!1),function(n,i,s){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var a=s;if(r)if(wQ.TextDecoder){var o=kQ(i.headers&&i.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function kQ(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],s=n[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var IQ=SQ,hS=qp,DQ=mQ,NQ=gQ,pS=EQ,MQ=CQ;Lr.httpHandler=IQ,Lr.requestInterceptorsStorage=new pS,Lr.responseInterceptorsStorage=new pS,Lr.retryManager=new MQ;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var OQ=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),s=n.slice(0,i).trim().toLowerCase(),a=n.slice(i+1).trim();typeof r[s]>"u"?r[s]=a:Array.isArray(r[s])?r[s].push(a):r[s]=[r[s],a]}),r};c2.exports=Lr,c2.exports.default=Lr,Lr.XMLHttpRequest=hS.XMLHttpRequest||PQ,Lr.XDomainRequest="withCredentials"in new Lr.XMLHttpRequest?Lr.XMLHttpRequest:hS.XDomainRequest,LQ(["get","put","post","patch","head","delete"],function(t){Lr[t==="delete"?"del":t]=function(e,r,n){return r=mS(e,r,n),r.method=t.toUpperCase(),d2(r)}});function LQ(t,e){for(var r=0;r<t.length;r++)e(t[r])}function RQ(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function mS(t,e,r){var n=t;return NQ(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=DQ({},e,{uri:t}),n.callback=r,n}function Lr(t,e,r){return e=mS(t,e,r),d2(e)}function d2(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Lr.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},r=Lr.requestInterceptorsStorage.execute(t.requestType,e);t.uri=r.uri,t.headers=r.headers,t.body=r.body,t.metadata=r.metadata,t.retry=r.retry,t.timeout=r.timeout}var n=!1,i=function(S,w,L){n||(n=!0,t.callback(S,w,L))};function s(){d.readyState===4&&!Lr.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var k=void 0;if(d.response?k=d.response:k=d.responseText||BQ(d),_)try{k=JSON.parse(k)}catch{}return k}function o(k){if(clearTimeout(x),clearTimeout(t.retryTimeout),k instanceof Error||(k=new Error(""+(k||"Unknown XMLHttpRequest Error"))),k.statusCode=0,!c&&Lr.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=d,d2(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Lr.responseInterceptorsStorage.getIsEnabled()){var S={headers:C.headers||{},body:C.body,responseUrl:d.responseURL,responseType:d.responseType},w=Lr.responseInterceptorsStorage.execute(t.requestType,S);C.body=w.body,C.headers=w.headers}return i(k,C)}function l(){if(!c){var k;clearTimeout(x),clearTimeout(t.retryTimeout),t.useXDR&&d.status===void 0?k=200:k=d.status===1223?204:d.status;var S=C,w=null;if(k!==0?(S={body:a(),statusCode:k,method:p,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(S.headers=OQ(d.getAllResponseHeaders()))):w=new Error("Internal XMLHttpRequest Error"),t.requestType&&Lr.responseInterceptorsStorage.getIsEnabled()){var L={headers:S.headers||{},body:S.body,responseUrl:d.responseURL,responseType:d.responseType},D=Lr.responseInterceptorsStorage.execute(t.requestType,L);S.body=D.body,S.headers=D.headers}return i(w,S,S.body)}}var d=t.xhr||null;d||(t.cors||t.useXDR?d=new Lr.XDomainRequest:d=new Lr.XMLHttpRequest);var f,c,h=d.url=t.uri||t.url,p=d.method=t.method||"GET",m=t.body||t.data,b=d.headers=t.headers||{},y=!!t.sync,_=!1,x,C={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:d};if("json"in t&&t.json!==!1&&(_=!0,b.accept||b.Accept||(b.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),m=JSON.stringify(t.json===!0?m:t.json))),d.onreadystatechange=s,d.onload=l,d.onerror=o,d.onprogress=function(){},d.onabort=function(){c=!0,clearTimeout(t.retryTimeout)},d.ontimeout=o,d.open(p,h,!y,t.username,t.password),y||(d.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(x=setTimeout(function(){if(!c){c=!0,d.abort("timeout");var k=new Error("XMLHttpRequest timeout");k.code="ETIMEDOUT",o(k)}},t.timeout)),d.setRequestHeader)for(f in b)b.hasOwnProperty(f)&&d.setRequestHeader(f,b[f]);else if(t.headers&&!RQ(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(d),d.send(m||null),d}function BQ(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function PQ(){}var FQ=c2.exports;const gS=on(FQ);var bS={exports:{}},yS=cS,f2=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function pi(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}pi.prototype=f2(Error.prototype),pi.prototype.constructor=pi,pi.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function h2(t){function e(n,i,s,a){return(n|0)*3600+(i|0)*60+(s|0)+(a|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function Nd(){this.values=f2(null)}Nd.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Md(t,e,r,n){var i=n?t.split(n):[t];for(var s in i)if(typeof i[s]=="string"){var a=i[s].split(r);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function UQ(t,e,r){var n=t;function i(){var o=h2(t);if(o===null)throw new pi(pi.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var d=new Nd;Md(o,function(f,c){switch(f){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===c){d.set(f,r[h].region);break}break;case"vertical":d.alt(f,c,["rl","lr"]);break;case"line":var p=c.split(","),m=p[0];d.integer(f,m),d.percent(f,m)&&d.set("snapToLines",!1),d.alt(f,m,["auto"]),p.length===2&&d.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=c.split(","),d.percent(f,p[0]),p.length===2&&d.alt("positionAlign",p[1],["start","center","end"]);break;case"size":d.percent(f,c);break;case"align":d.alt(f,c,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=d.get("region",null),l.vertical=d.get("vertical","");try{l.line=d.get("line","auto")}catch{}l.lineAlign=d.get("lineAlign","start"),l.snapToLines=d.get("snapToLines",!0),l.size=d.get("size",100);try{l.align=d.get("align","center")}catch{l.align=d.get("align","middle")}try{l.position=d.get("position","auto")}catch{l.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.substr(0,3)!=="-->")throw new pi(pi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),a(),e.endTime=i(),a(),s(t,e)}var p2=yS.createElement&&yS.createElement("textarea"),$Q={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_S={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},jQ={v:"title",lang:"lang"},vS={rt:"ruby"};function TS(t,e){function r(){if(!e)return null;function m(y){return e=e.substr(y.length),y}var b=e.match(/^([^<]*)(<[^>]*>?)?/);return m(b[1]?b[1]:b[2])}function n(m){return p2.innerHTML=m,m=p2.textContent,p2.textContent="",m}function i(m,b){return!vS[b.localName]||vS[b.localName]===m.localName}function s(m,b){var y=$Q[m];if(!y)return null;var _=t.document.createElement(y),x=jQ[m];return x&&b&&(_[x]=b.trim()),_}for(var a=t.document.createElement("div"),o=a,l,d=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),o=o.parentNode);continue}var f=h2(l.substr(1,l.length-2)),c;if(f){c=t.document.createProcessingInstruction("timestamp",f),o.appendChild(c);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(c=s(h[1],h[3]),!c)||!i(o,c))continue;if(h[2]){var p=h[2].split(".");p.forEach(function(m){var b=/^bg_/.test(m),y=b?m.slice(3):m;if(_S.hasOwnProperty(y)){var _=b?"background-color":"color",x=_S[y];c.style[_]=x}}),c.className=p.join(" ")}d.push(h[1]),o.appendChild(c),o=c;continue}o.appendChild(t.document.createTextNode(n(l)))}return a}var ES=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function HQ(t){for(var e=0;e<ES.length;e++){var r=ES[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function zQ(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(o,l){for(var d=l.childNodes.length-1;d>=0;d--)o.push(l.childNodes[d])}function s(o){if(!o||!o.length)return null;var l=o.pop(),d=l.textContent||l.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(o.length=0,f[0]):d}if(l.tagName==="ruby")return s(o);if(l.childNodes)return i(o,l),s(o)}for(i(e,t);r=s(e);)for(var a=0;a<r.length;a++)if(n=r.charCodeAt(a),HQ(n))return"rtl";return"ltr"}function VQ(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function Wp(){}Wp.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},Wp.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Gp(t,e,r){Wp.call(this),this.cue=e,this.cueDiv=TS(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:zQ(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Gp.prototype=f2(Wp.prototype),Gp.prototype.constructor=Gp;function Mn(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}Mn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},Mn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Mn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Mn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Mn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Mn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)},Mn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Mn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function qQ(t,e,r,n){function i(y,_){for(var x,C=new Mn(y),k=1,S=0;S<_.length;S++){for(;y.overlapsOppositeAxis(r,_[S])||y.within(r)&&y.overlapsAny(n);)y.move(_[S]);if(y.within(r))return y;var w=y.intersectPercentage(r);k>w&&(x=new Mn(y),k=w),y=new Mn(C)}return x||C}var s=new Mn(e),a=e.cue,o=VQ(a),l=[];if(a.snapToLines){var d;switch(a.vertical){case"":l=["+y","-y"],d="height";break;case"rl":l=["+x","-x"],d="width";break;case"lr":l=["-x","+x"],d="width";break}var f=s.lineHeight,c=f*Math.round(o),h=r[d]+f,p=l[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/f)*f),o<0&&(c+=a.vertical===""?r.height:r.width,l=l.reverse()),s.move(p,c)}else{var m=s.lineHeight/r.height*100;switch(a.lineAlign){case"center":o-=m/2;break;case"end":o-=m;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Mn(e)}var b=i(s,l);e.move(b.toCSSCompatValues(r))}function uu(){}uu.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},uu.convertCueToDOMTree=function(t,e){return!t||!e?null:TS(t,e)};var WQ=.05,GQ="sans-serif",YQ="1.5%";uu.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=YQ,r.appendChild(n);function i(f){for(var c=0;c<f.length;c++)if(f[c].hasBeenReset||!f[c].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)n.appendChild(e[s].displayState);return}var a=[],o=Mn.getSimpleBoxPosition(n),l=Math.round(o.height*WQ*100)/100,d={font:l+"px "+GQ};(function(){for(var f,c,h=0;h<e.length;h++)c=e[h],f=new Gp(t,c,d),n.appendChild(f.div),qQ(t,f,o,a),c.displayState=f.div,a.push(Mn.getSimpleBoxPosition(f))})()},uu.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},uu.Parser.prototype={reportOrThrowError:function(t){if(t instanceof pi)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var f=e.buffer,c=0;c<f.length&&f[c]!=="\r"&&f[c]!==`
`;)++c;var h=f.substr(0,c);return f[c]==="\r"&&++c,f[c]===`
`&&++c,e.buffer=f.substr(c),h}function n(f){var c=new Nd;if(Md(f,function(p,m){switch(p){case"id":c.set(p,m);break;case"width":c.percent(p,m);break;case"lines":c.integer(p,m);break;case"regionanchor":case"viewportanchor":var b=m.split(",");if(b.length!==2)break;var y=new Nd;if(y.percent("x",b[0]),y.percent("y",b[1]),!y.has("x")||!y.has("y"))break;c.set(p+"X",y.get("x")),c.set(p+"Y",y.get("y"));break;case"scroll":c.alt(p,m,["up"]);break}},/=/,/\s/),c.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=c.get("width",100),h.lines=c.get("lines",3),h.regionAnchorX=c.get("regionanchorX",0),h.regionAnchorY=c.get("regionanchorY",100),h.viewportAnchorX=c.get("viewportanchorX",0),h.viewportAnchorY=c.get("viewportanchorY",100),h.scroll=c.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:c.get("id"),region:h})}}function i(f){var c=new Nd;Md(f,function(h,p){switch(h){case"MPEGT":c.integer(h+"S",p);break;case"LOCA":c.set(h+"L",h2(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:c.get("MPEGTS"),LOCAL:c.get("LOCAL")})}function s(f){f.match(/X-TIMESTAMP-MAP/)?Md(f,function(c,h){switch(c){case"X-TIMESTAMP-MAP":i(h);break}},/=/):Md(f,function(c,h){switch(c){case"Region":n(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=r();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new pi(pi.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=r(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{UQ(a,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=a.indexOf("-->")!==-1;if(!a||d&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new pi(pi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var QQ=uu,KQ="auto",XQ={"":1,lr:1,rl:1},ZQ={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function JQ(t){if(typeof t!="string")return!1;var e=XQ[t.toLowerCase()];return e?t.toLowerCase():!1}function m2(t){if(typeof t!="string")return!1;var e=ZQ[t.toLowerCase()];return e?t.toLowerCase():!1}function AS(t,e,r){this.hasBeenReset=!1;var n="",i=!1,s=t,a=e,o=r,l=null,d="",f=!0,c="auto",h="start",p="auto",m="auto",b=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(_){n=""+_}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(_){i=!!_}},startTime:{enumerable:!0,get:function(){return s},set:function(_){if(typeof _!="number")throw new TypeError("Start time must be set to a number.");s=_,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(_){if(typeof _!="number")throw new TypeError("End time must be set to a number.");a=_,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(_){o=""+_,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(_){l=_,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(_){var x=JQ(_);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(_){f=!!_,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return c},set:function(_){if(typeof _!="number"&&_!==KQ)throw new SyntaxError("Line: an invalid number or illegal string was specified.");c=_,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(_){var x=m2(_);x?(h=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(_){if(_<0||_>100)throw new Error("Position must be between 0 and 100.");p=_,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(_){var x=m2(_);x?(m=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(_){if(_<0||_>100)throw new Error("Size must be between 0 and 100.");b=_,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(_){var x=m2(_);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=x,this.hasBeenReset=!0}}}),this.displayState=void 0}AS.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var eK=AS,tK={"":!0,up:!0};function rK(t){if(typeof t!="string")return!1;var e=tK[t.toLowerCase()];return e?t.toLowerCase():!1}function Od(t){return typeof t=="number"&&t>=0&&t<=100}function nK(){var t=100,e=3,r=0,n=100,i=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Od(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!Od(o))throw new Error("RegionAnchorX must be between 0 and 100.");n=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Od(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!Od(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!Od(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=rK(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var iK=nK,ua=qp,Go=bS.exports={WebVTT:QQ,VTTCue:eK,VTTRegion:iK};ua.vttjs=Go,ua.WebVTT=Go.WebVTT;var sK=Go.VTTCue,aK=Go.VTTRegion,oK=ua.VTTCue,lK=ua.VTTRegion;Go.shim=function(){ua.VTTCue=sK,ua.VTTRegion=aK},Go.restore=function(){ua.VTTCue=oK,ua.VTTRegion=lK},ua.VTTCue||Go.shim();var uK=bS.exports;const xS=on(uK);function Rr(){return Rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rr.apply(null,arguments)}var CS={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,d,f){if(f=f||{},l=l.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return l;var c=o.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=o.normalizePath(c.path),o.buildURLFromParts(c)}var h=o.parseURL(d);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):d;var p=o.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=i.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var b={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(b.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)b.path=p.path,h.params||(b.params=p.params,h.query||(b.query=p.query));else{var y=p.path,_=y.substring(0,y.lastIndexOf("/")+1)+h.path;b.path=o.normalizePath(_)}return b.path===null&&(b.path=f.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(b)},parseURL:function(l){var d=n.exec(l);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(CS);var cK=CS.exports;const wS=on(cK);var SS="http://example.com",Yp=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=ne.location&&ne.location.href||"");var n=typeof ne.URL=="function",i=/^\/\//.test(e),s=!ne.location&&!/\/\//i.test(e);if(n?e=new ne.URL(e,ne.location||SS):/\/\//i.test(e)||(e=wS.buildAbsoluteURL(ne.location&&ne.location.href||"",e)),n){var a=new URL(r,e);return s?a.href.slice(SS.length):i?a.href.slice(a.protocol.length):a.href}return wS.buildAbsoluteURL(e,r)},g2=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=i.length,d=0;d<l;++d)i[d].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),dK=function(e){return ne.atob?ne.atob(e):Buffer.from(e,"base64").toString("binary")};function fK(t){for(var e=dK(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class hK extends g2{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const pK="	",b2=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},mK=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},mi=function(t){const e={};if(!t)return e;const r=t.split(mK());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class gK extends g2{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),r=/^#EXTM3U/.exec(s),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),r){n=Rr(b2(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(s),r){if(n={type:"tag",tagType:"map"},r[1]){const a=mi(r[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=b2(a.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),r){if(n={type:"tag",tagType:"stream-inf"},r[1]){if(n.attributes=mi(r[1]),n.attributes.RESOLUTION){const a=n.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),n.attributes.RESOLUTION=o}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(s),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=mi(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(s),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(s),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=mi(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(s),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=mi(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=mi(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(pK)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=mi(r[1]),["DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=b2(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=mi(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=mi(r[1]),["PART-TARGET"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=mi(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(n.attributes.hasOwnProperty(a)){n.attributes[a]=parseInt(n.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[o]=n.attributes[a],delete n.attributes[a]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=mi(r[1]),["LAST-MSN","LAST-PART"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseInt(n.attributes[a],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=mi(r[1]),["ID","CLASS"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=String(n.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=new Date(n.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/i.test(n.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=n.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in n.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[o]),d=/^\d+(\.\d+)?$/.test(n.attributes[o]);n.attributes[o]=l?n.attributes[o].toString(16):d?parseFloat(n.attributes[o]):String(n.attributes[o])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),r){n={type:"tag",tagType:"content-steering"},n.attributes=mi(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:n(s),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const bK=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),qa=function(t){const e={};return Object.keys(t).forEach(function(r){e[bK(r)]=t[r]}),e},y2=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=r&&r*3,l=n&&n*2;r&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),n&&!e.hasOwnProperty(a)&&(e[a]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),n&&e[a]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class yK extends g2{constructor(){super(),this.lineStream=new hK,this.parseStream=new gK,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,r=[];let n={},i,s,a=!1;const o=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let c=0,h=0;const p={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&i&&(n.map=i),!n.key&&s&&(n.key=s),!n.timeline&&typeof f=="number"&&(n.timeline=f),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(m){let b,y;({tag(){({version(){m.version&&(this.manifest.version=m.version)},"allow-cache"(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const _={};"length"in m&&(n.byterange=_,_.length=m.length,"offset"in m||(m.offset=c)),"offset"in m&&(n.byterange=_,_.offset=m.offset),c=_.offset+_.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.title&&(n.title=m.title),m.duration>0&&(n.duration=m.duration),m.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){s=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:m.attributes};return}if(m.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:m.attributes.URI};return}if(m.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:fK(m.attributes.URI.split(",")[1])};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(s.iv=m.attributes.IV)},"media-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,f=m.number},"playlist-type"(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map(){i={},m.uri&&(i.uri=m.uri),m.byterange&&(i.byterange=m.byterange),s&&(i.key=s)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Rr(n.attributes,m.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const _=this.manifest.mediaGroups[m.attributes.TYPE];_[m.attributes["GROUP-ID"]]=_[m.attributes["GROUP-ID"]]||{},b=_[m.attributes["GROUP-ID"]],y={default:/yes/i.test(m.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(y.language=m.attributes.LANGUAGE),m.attributes.URI&&(y.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(y.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(y.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(y.forced=/yes/i.test(m.attributes.FORCED)),b[m.attributes.NAME]=y},discontinuity(){f+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),n.dateTimeString=m.dateTimeString,n.dateTimeObject=m.dateTimeObject;const{lastProgramDateTime:_}=this;this.lastProgramDateTime=new Date(m.dateTimeString).getTime(),_===null&&this.manifest.segments.reduceRight((x,C)=>(C.programDateTime=x-C.duration*1e3,C.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration,y2.call(this,this.manifest)},start(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out"(){n.cueOut=m.data},"cue-out-cont"(){n.cueOutCont=m.data},"cue-in"(){n.cueIn=m.data},skip(){this.manifest.skip=qa(m.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",m.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const _=this.manifest.segments.length,x=qa(m.attributes);n.parts=n.parts||[],n.parts.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=h),h=x.byterange.offset+x.byterange.length);const C=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${C} for segment #${_}`,m.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((k,S)=>{k.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${S} lacks required attribute(s): LAST-PART`})})},"server-control"(){const _=this.manifest.serverControl=qa(m.attributes);_.hasOwnProperty("canBlockReload")||(_.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),y2.call(this,this.manifest),_.canSkipDateranges&&!_.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const _=this.manifest.segments.length,x=qa(m.attributes),C=x.type&&x.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=C?h:0,C&&(h=x.byterange.offset+x.byterange.length)));const k=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${k} for segment #${_}`,m.attributes,["TYPE","URI"]),!!x.type)for(let S=0;S<n.preloadHints.length-1;S++){const w=n.preloadHints[S];w.type&&w.type===x.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${k} for segment #${_} has the same TYPE ${x.type} as preload hint #${S}`})}},"rendition-report"(){const _=qa(m.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(_);const x=this.manifest.renditionReports.length-1,C=["LAST-MSN","URI"];a&&C.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${x}`,m.attributes,C)},"part-inf"(){this.manifest.partInf=qa(m.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",m.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),y2.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(qa(m.attributes));const _=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${_}`,m.attributes,["ID","START-DATE"]);const x=this.manifest.dateRanges[_];x.endDate&&x.startDate&&new Date(x.endDate)<new Date(x.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),x.duration&&x.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),x.plannedDuration&&x.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const C=!!x.endOnNext;if(C&&!x.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),C&&(x.duration||x.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),x.duration&&x.endDate){const S=x.startDate.getTime()+x.duration*1e3;this.manifest.dateRanges[_].endDate=new Date(S)}if(!p[x.id])p[x.id]=x;else{for(const S in p[x.id])if(x[S]&&JSON.stringify(p[x.id][S])!==JSON.stringify(x[S])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const k=this.manifest.dateRanges.findIndex(S=>S.id===x.id);this.manifest.dateRanges[k]=Rr(this.manifest.dateRanges[k],x),p[x.id]=Rr(p[x.id],x),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=qa(m.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",m.attributes,["SERVER-URI"])}}[m.tagType]||o).call(e)},uri(){n.uri=m.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),s&&(n.key=s),n.timeline=f,i&&(n.map=i),h=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){m.segment?(n.custom=n.custom||{},n.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(e)})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(s){r.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Yo={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},_K=["video","audio","text"],kS=["Video","Audio","Text"],IS=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var s=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Ns=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var s;_K.forEach(function(a){var o=Yo[a].exec(i.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=i.substring(0,o[1].length),d=i.replace(l,"");n.push({type:l,details:d,mediaType:a})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},vK=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return Ns(s.playlists[0].attributes.CODECS)}return null},DS=function(e){return e===void 0&&(e=""),Yo.audio.test(e.trim().toLowerCase())},TK=function(e){return e===void 0&&(e=""),Yo.text.test(e.trim().toLowerCase())},Ld=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(s){return IS(s.trim())}),n="video";r.length===1&&DS(r[0])?n="audio":r.length===1&&TK(r[0])&&(n="application");var i="mp4";return r.every(function(s){return Yo.mp4.test(s)})?i="mp4":r.every(function(s){return Yo.webm.test(s)})?i="webm":r.every(function(s){return Yo.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},Qp=function(e){return e===void 0&&(e=""),ne.MediaSource&&ne.MediaSource.isTypeSupported&&ne.MediaSource.isTypeSupported(Ld(e))||!1},_2=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<kS.length;n++){var i=kS[n];if(Yo["muxer"+i].test(r))return!0}return!1})},NS="mp4a.40.2",EK="avc1.4d400d",AK=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,xK=/^application\/dash\+xml/i,MS=function(e){return AK.test(e)?"hls":xK.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},CK=function(e){return e.toString(2).length},wK=function(e){return Math.ceil(CK(e)/8)},OS=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},SK=function(e){return OS(e)},ut=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!SK(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},dn=ne.BigInt||Number,v2=[dn("0x1"),dn("0x100"),dn("0x10000"),dn("0x1000000"),dn("0x100000000"),dn("0x10000000000"),dn("0x1000000000000"),dn("0x100000000000000"),dn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var kK=function(e,r){var n=r===void 0?{}:r,i=n.signed,s=i===void 0?!1:i,a=n.le,o=a===void 0?!1:a;e=ut(e);var l=o?"reduce":"reduceRight",d=e[l]?e[l]:Array.prototype[l],f=d.call(e,function(h,p,m){var b=o?m:Math.abs(m+1-e.length);return h+dn(p)*v2[b]},dn(0));if(s){var c=v2[e.length]/dn(2)-dn(1);f=dn(f),f>c&&(f-=c,f-=c,f-=dn(2))}return Number(f)},IK=function(e,r){var n={},i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=dn(e);for(var a=wK(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var d=s?l:Math.abs(l+1-o.length);o[d]=Number(e/v2[l]&dn(255)),e<0&&(o[d]=Math.abs(~o[d]),o[d]-=l===0?1:2)}return o},LS=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},DK=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return ut(r[0]);var i=r.reduce(function(o,l,d){return o+(l.byteLength||l.length)},0),s=new Uint8Array(i),a=0;return r.forEach(function(o){o=ut(o),s.set(o,a),a+=o.byteLength}),s},yr=function(e,r,n){var i=n===void 0?{}:n,s=i.offset,a=s===void 0?0:s,o=i.mask,l=o===void 0?[]:o;e=ut(e),r=ut(r);var d=r.every?r.every:Array.prototype.every;return r.length&&e.length-a>=r.length&&d.call(r,function(f,c){var h=l[c]?l[c]&e[a+c]:e[a+c];return f===h})},NK=function(e,r,n){r.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var o=e.mediaGroups[i][s][a];n(o,i,s,a)}})},MK=function(e){return ne.atob?ne.atob(e):Buffer.from(e,"base64").toString("binary")};function OK(t){for(var e=MK(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var Wa={},ca={};function LK(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function T2(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function RK(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var RS=T2({HTML:"text/html",isHTML:function(t){return t===RS.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),BS=T2({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===BS.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ca.assign=RK,ca.find=LK,ca.freeze=T2,ca.MIME_TYPE=RS,ca.NAMESPACE=BS;var PS=ca,Ms=PS.find,Rd=PS.NAMESPACE;function BK(t){return t!==""}function PK(t){return t?t.split(/[\t\n\f\r ]+/).filter(BK):[]}function FK(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function FS(t){if(!t)return[];var e=PK(t);return Object.keys(e.reduce(FK,{}))}function UK(t){return function(e){return t&&t.indexOf(e)!==-1}}function Bd(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function Zn(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,Bd(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Jn={},os=Jn.ELEMENT_NODE=1,cu=Jn.ATTRIBUTE_NODE=2,Kp=Jn.TEXT_NODE=3,US=Jn.CDATA_SECTION_NODE=4,$S=Jn.ENTITY_REFERENCE_NODE=5,$K=Jn.ENTITY_NODE=6,jS=Jn.PROCESSING_INSTRUCTION_NODE=7,HS=Jn.COMMENT_NODE=8,zS=Jn.DOCUMENT_NODE=9,VS=Jn.DOCUMENT_TYPE_NODE=10,da=Jn.DOCUMENT_FRAGMENT_NODE=11,jK=Jn.NOTATION_NODE=12,_n={},rn={};_n.INDEX_SIZE_ERR=(rn[1]="Index size error",1),_n.DOMSTRING_SIZE_ERR=(rn[2]="DOMString size error",2);var ei=_n.HIERARCHY_REQUEST_ERR=(rn[3]="Hierarchy request error",3);_n.WRONG_DOCUMENT_ERR=(rn[4]="Wrong document",4),_n.INVALID_CHARACTER_ERR=(rn[5]="Invalid character",5),_n.NO_DATA_ALLOWED_ERR=(rn[6]="No data allowed",6),_n.NO_MODIFICATION_ALLOWED_ERR=(rn[7]="No modification allowed",7);var qS=_n.NOT_FOUND_ERR=(rn[8]="Not found",8);_n.NOT_SUPPORTED_ERR=(rn[9]="Not supported",9);var WS=_n.INUSE_ATTRIBUTE_ERR=(rn[10]="Attribute in use",10);_n.INVALID_STATE_ERR=(rn[11]="Invalid state",11),_n.SYNTAX_ERR=(rn[12]="Syntax error",12),_n.INVALID_MODIFICATION_ERR=(rn[13]="Invalid modification",13),_n.NAMESPACE_ERR=(rn[14]="Invalid namespace",14),_n.INVALID_ACCESS_ERR=(rn[15]="Invalid access",15);function Br(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,rn[t]),this.message=rn[t],Error.captureStackTrace&&Error.captureStackTrace(this,Br);return r.code=t,e&&(this.message=this.message+": "+e),r}Br.prototype=Error.prototype,Bd(_n,Br);function fa(){}fa.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)fu(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function du(t,e){this._node=t,this._refresh=e,E2(this)}function E2(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(u4(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Bd(r,t),t._inc=e}}du.prototype.item=function(t){return E2(this),this[t]||null},Zn(du,fa);function Xp(){}function GS(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function YS(t,e,r,n){if(n?e[GS(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&ZS(i,t,n),HK(i,t,r))}}function QS(t,e,r){var n=GS(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(ZS(s,t,r),r.ownerElement=null)}}else throw new Br(qS,new Error(t.tagName+"@"+r))}Xp.prototype={length:0,item:fa.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Br(WS);var r=this.getNamedItem(t.nodeName);return YS(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Br(WS);return r=this.getNamedItemNS(t.namespaceURI,t.localName),YS(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return QS(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return QS(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function KS(){}KS.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new Fd;if(n.implementation=this,n.childNodes=new fa,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new e0;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Jt(){}Jt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Zp(this,t,e)},replaceChild:function(t,e){Zp(this,t,e,r4),e&&this.removeChild(e)},removeChild:function(t){return JS(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return N2(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Kp&&t.nodeType==Kp?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==cu?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==cu?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function XS(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Bd(Jn,Jt),Bd(Jn,Jt.prototype);function Pd(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Pd(t,e))return!0;while(t=t.nextSibling)}function Fd(){this.ownerDocument=this}function HK(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Rd.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function ZS(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Rd.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function A2(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function JS(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,A2(t.ownerDocument,t),e}function zK(t){return t&&(t.nodeType===Jt.DOCUMENT_NODE||t.nodeType===Jt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Jt.ELEMENT_NODE)}function VK(t){return t&&(Os(t)||x2(t)||ha(t)||t.nodeType===Jt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Jt.COMMENT_NODE||t.nodeType===Jt.PROCESSING_INSTRUCTION_NODE)}function ha(t){return t&&t.nodeType===Jt.DOCUMENT_TYPE_NODE}function Os(t){return t&&t.nodeType===Jt.ELEMENT_NODE}function x2(t){return t&&t.nodeType===Jt.TEXT_NODE}function e4(t,e){var r=t.childNodes||[];if(Ms(r,Os)||ha(e))return!1;var n=Ms(r,ha);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function t4(t,e){var r=t.childNodes||[];function n(s){return Os(s)&&s!==e}if(Ms(r,n))return!1;var i=Ms(r,ha);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function qK(t,e,r){if(!zK(t))throw new Br(ei,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new Br(qS,"child not in parent");if(!VK(e)||ha(e)&&t.nodeType!==Jt.DOCUMENT_NODE)throw new Br(ei,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function WK(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Jt.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Os);if(s.length>1||Ms(i,x2))throw new Br(ei,"More than one element or text in fragment");if(s.length===1&&!e4(t,r))throw new Br(ei,"Element in fragment can not be inserted before doctype")}if(Os(e)&&!e4(t,r))throw new Br(ei,"Only one element can be added and only after doctype");if(ha(e)){if(Ms(n,ha))throw new Br(ei,"Only one doctype is allowed");var a=Ms(n,Os);if(r&&n.indexOf(a)<n.indexOf(r))throw new Br(ei,"Doctype can only be inserted before an element");if(!r&&a)throw new Br(ei,"Doctype can not be appended since element is present")}}function r4(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Jt.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Os);if(s.length>1||Ms(i,x2))throw new Br(ei,"More than one element or text in fragment");if(s.length===1&&!t4(t,r))throw new Br(ei,"Element in fragment can not be inserted before doctype")}if(Os(e)&&!t4(t,r))throw new Br(ei,"Only one element can be added and only after doctype");if(ha(e)){if(Ms(n,function(l){return ha(l)&&l!==r}))throw new Br(ei,"Only one doctype is allowed");var a=Ms(n,Os);if(r&&n.indexOf(a)<n.indexOf(r))throw new Br(ei,"Doctype can only be inserted before an element")}}function Zp(t,e,r,n){qK(t,e,r),t.nodeType===Jt.DOCUMENT_NODE&&(n||WK)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===da){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=r?r.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=r,o?o.nextSibling=s:t.firstChild=s,r==null?t.lastChild=a:r.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return A2(t.ownerDocument||t,t),e.nodeType==da&&(e.firstChild=e.lastChild=null),e}function GK(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,A2(t.ownerDocument,t,e),e}Fd.prototype={nodeName:"#document",nodeType:zS,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==da){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return Zp(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===os&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),JS(this,t)},replaceChild:function(t,e){Zp(this,t,e,r4),t.ownerDocument=this,e&&this.removeChild(e),Os(t)&&(this.documentElement=t)},importNode:function(t,e){return l4(this,t,e)},getElementById:function(t){var e=null;return Pd(this.documentElement,function(r){if(r.nodeType==os&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=FS(t);return new du(this,function(r){var n=[];return e.length>0&&Pd(r.documentElement,function(i){if(i!==r&&i.nodeType===os){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=FS(s);a=e.every(UK(o))}a&&n.push(i)}}}),n})},createElement:function(t){var e=new Qo;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new fa;var r=e.attributes=new Xp;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new t0;return t.ownerDocument=this,t.childNodes=new fa,t},createTextNode:function(t){var e=new C2;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new w2;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new S2;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new I2;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new Jp;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new k2;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Qo,n=e.split(":"),i=r.attributes=new Xp;return r.childNodes=new fa,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new Jp,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},Zn(Fd,Jt);function Qo(){this._nsMap={}}Qo.prototype={nodeType:os,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===da?this.insertBefore(t,null):GK(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new du(this,function(e){var r=[];return Pd(e,function(n){n!==e&&n.nodeType==os&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new du(this,function(r){var n=[];return Pd(r,function(i){i!==r&&i.nodeType===os&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}},Fd.prototype.getElementsByTagName=Qo.prototype.getElementsByTagName,Fd.prototype.getElementsByTagNameNS=Qo.prototype.getElementsByTagNameNS,Zn(Qo,Jt);function Jp(){}Jp.prototype.nodeType=cu,Zn(Jp,Jt);function Ud(){}Ud.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(rn[ei])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}},Zn(Ud,Jt);function C2(){}C2.prototype={nodeName:"#text",nodeType:Kp,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},Zn(C2,Ud);function w2(){}w2.prototype={nodeName:"#comment",nodeType:HS},Zn(w2,Ud);function S2(){}S2.prototype={nodeName:"#cdata-section",nodeType:US},Zn(S2,Ud);function e0(){}e0.prototype.nodeType=VS,Zn(e0,Jt);function n4(){}n4.prototype.nodeType=jK,Zn(n4,Jt);function i4(){}i4.prototype.nodeType=$K,Zn(i4,Jt);function k2(){}k2.prototype.nodeType=$S,Zn(k2,Jt);function t0(){}t0.prototype.nodeName="#document-fragment",t0.prototype.nodeType=da,Zn(t0,Jt);function I2(){}I2.prototype.nodeType=jS,Zn(I2,Jt);function s4(){}s4.prototype.serializeToString=function(t,e,r){return a4.call(t,e,r)},Jt.prototype.toString=a4;function a4(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return fu(this,r,t,e,a),r.join("")}function o4(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Rd.XML||i===Rd.XMLNS)return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix===n)return a.namespace!==i}return!0}function D2(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,XS),'"')}function fu(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case os:var s=t.attributes,a=s.length,_=t.firstChild,o=t.tagName;r=Rd.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var d,f=0;f<s.length;f++)if(s.item(f).name==="xmlns"){d=s.item(f).value;break}if(!d)for(var c=i.length-1;c>=0;c--){var h=i[c];if(h.prefix===""&&h.namespace===t.namespaceURI){d=h.namespace;break}}if(d!==t.namespaceURI)for(var c=i.length-1;c>=0;c--){var h=i[c];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var p=0;p<a;p++){var m=s.item(p);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var p=0;p<a;p++){var m=s.item(p);if(o4(m,r,i)){var b=m.prefix||"",y=m.namespaceURI;D2(e,b?"xmlns:"+b:"xmlns",y),i.push({prefix:b,namespace:y})}fu(m,e,r,n,i)}if(o===l&&o4(t,r,i)){var b=t.prefix||"",y=t.namespaceURI;D2(e,b?"xmlns:"+b:"xmlns",y),i.push({prefix:b,namespace:y})}if(_||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;_;)_.data?e.push(_.data):fu(_,e,r,n,i.slice()),_=_.nextSibling;else for(;_;)fu(_,e,r,n,i.slice()),_=_.nextSibling;e.push("</",l,">")}else e.push("/>");return;case zS:case da:for(var _=t.firstChild;_;)fu(_,e,r,n,i.slice()),_=_.nextSibling;return;case cu:return D2(e,t.name,t.value);case Kp:return e.push(t.data.replace(/[<&>]/g,XS));case US:return e.push("<![CDATA[",t.data,"]]>");case HS:return e.push("<!--",t.data,"-->");case VS:var x=t.publicId,C=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),C&&C!="."&&e.push(" ",C),e.push(">");else if(C&&C!=".")e.push(" SYSTEM ",C,">");else{var k=t.internalSubset;k&&e.push(" [",k,"]"),e.push(">")}return;case jS:return e.push("<?",t.target," ",t.data,"?>");case $S:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function l4(t,e,r){var n;switch(e.nodeType){case os:n=e.cloneNode(!1),n.ownerDocument=t;case da:break;case cu:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(l4(t,i,r)),i=i.nextSibling;return n}function N2(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new fa),n.ownerDocument=t,n.nodeType){case os:var a=e.attributes,o=n.attributes=new Xp,l=a.length;o._ownerElement=n;for(var d=0;d<l;d++)n.setAttributeNode(N2(t,a.item(d),!0));break;case cu:r=!0}if(r)for(var f=e.firstChild;f;)n.appendChild(N2(t,f,r)),f=f.nextSibling;return n}function u4(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case os:case da:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(du.prototype,"length",{get:function(){return E2(this),this.$$length}}),Object.defineProperty(Jt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case os:case da:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),u4=function(e,r,n){e["$$"+r]=n}}}catch{}Wa.DocumentType=e0,Wa.DOMException=Br,Wa.DOMImplementation=KS,Wa.Element=Qo,Wa.Node=Jt,Wa.NodeList=fa,Wa.XMLSerializer=s4;var r0={},c4={};(function(t){var e=ca.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(c4);var M2={},$d=ca.NAMESPACE,O2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d4=new RegExp("[\\-\\.0-9"+O2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),f4=new RegExp("^"+O2.source+d4.source+"*(?::"+O2.source+d4.source+"*)?$"),jd=0,Ga=1,hu=2,Hd=3,pu=4,mu=5,zd=6,n0=7;function gu(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,gu)}gu.prototype=new Error,gu.prototype.name=gu.name;function h4(){}h4.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),g4(e,e={}),YK(t,e,r,n,this.errorHandler),n.endDocument()}};function YK(t,e,r,n,i){function s(F){if(F>65535){F-=65536;var j=55296+(F>>10),se=56320+(F&1023);return String.fromCharCode(j,se)}else return String.fromCharCode(F)}function a(F){var j=F.slice(1,-1);return Object.hasOwnProperty.call(r,j)?r[j]:j.charAt(0)==="#"?s(parseInt(j.substr(1).replace("x","0x"))):(i.error("entity not found:"+F),F)}function o(F){if(F>b){var j=t.substring(b,F).replace(/&#?\w+;/g,a);h&&l(b),n.characters(j,0,F-b),b=F}}function l(F,j){for(;F>=f&&(j=c.exec(t));)d=j.index,f=d+j[0].length,h.lineNumber++;h.columnNumber=F-d+1}for(var d=0,f=0,c=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,p=[{currentNSMap:e}],m={},b=0;;){try{var y=t.indexOf("<",b);if(y<0){if(!t.substr(b).match(/^\s*$/)){var _=n.doc,x=_.createTextNode(t.substr(b));_.appendChild(x),n.currentElement=x}return}switch(y>b&&o(y),t.charAt(y+1)){case"/":var z=t.indexOf(">",y+3),C=t.substring(y+2,z).replace(/[ \t\n\r]+$/g,""),k=p.pop();z<0?(C=t.substring(y+2).replace(/[\s<].*/,""),i.error("end tag name: "+C+" is not complete:"+k.tagName),z=y+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),i.error("end tag name: "+C+" maybe not complete"),z=y+1+C.length);var S=k.localNSMap,w=k.tagName==C,L=w||k.tagName&&k.tagName.toLowerCase()==C.toLowerCase();if(L){if(n.endElement(k.uri,k.localName,C),S)for(var D in S)Object.prototype.hasOwnProperty.call(S,D)&&n.endPrefixMapping(D);w||i.fatalError("end tag name: "+C+" is not match the current start tagName:"+k.tagName)}else p.push(k);z++;break;case"?":h&&l(y),z=JK(t,y,n);break;case"!":h&&l(y),z=ZK(t,y,n,i);break;default:h&&l(y);var I=new b4,P=p[p.length-1].currentNSMap,z=QK(t,y,I,P,a,i),U=I.length;if(!I.closed&&XK(t,z,I.tagName,m)&&(I.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&U){for(var $=p4(h,{}),H=0;H<U;H++){var Y=I[H];l(Y.offset),Y.locator=p4(h,{})}n.locator=$,m4(I,n,P)&&p.push(I),n.locator=h}else m4(I,n,P)&&p.push(I);$d.isHTML(I.uri)&&!I.closed?z=KK(t,z,I.tagName,a,n):z++}}catch(F){if(F instanceof gu)throw F;i.error("element parse error: "+F),z=-1}z>b?b=z:o(Math.max(y,b)+1)}}function p4(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function QK(t,e,r,n,i,s){function a(h,p,m){r.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),r.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),m)}for(var o,l,d=++e,f=jd;;){var c=t.charAt(d);switch(c){case"=":if(f===Ga)o=t.slice(e,d),f=Hd;else if(f===hu)f=Hd;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Hd||f===Ga)if(f===Ga&&(s.warning('attribute value must after "="'),o=t.slice(e,d)),e=d+1,d=t.indexOf(c,e),d>0)l=t.slice(e,d),a(o,l,e-1),f=mu;else throw new Error("attribute value no end '"+c+"' match");else if(f==pu)l=t.slice(e,d),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=d+1,f=mu;else throw new Error('attribute value must after "="');break;case"/":switch(f){case jd:r.setTagName(t.slice(e,d));case mu:case zd:case n0:f=n0,r.closed=!0;case pu:case Ga:break;case hu:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==jd&&r.setTagName(t.slice(e,d)),d;case">":switch(f){case jd:r.setTagName(t.slice(e,d));case mu:case zd:case n0:break;case pu:case Ga:l=t.slice(e,d),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case hu:f===hu&&(l=o),f==pu?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!$d.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Hd:throw new Error("attribute value missed!!")}return d;case"":c=" ";default:if(c<=" ")switch(f){case jd:r.setTagName(t.slice(e,d)),f=zd;break;case Ga:o=t.slice(e,d),f=hu;break;case pu:var l=t.slice(e,d);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case mu:f=zd;break}else switch(f){case hu:r.tagName,(!$d.isHTML(n[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=d,f=Ga;break;case mu:s.warning('attribute space is required"'+o+'"!!');case zd:f=Ga,e=d;break;case Hd:f=pu,e=d;break;case n0:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function m4(t,e,r){for(var n=t.tagName,i=null,c=t.length;c--;){var s=t[c],a=s.qName,o=s.value,h=a.indexOf(":");if(h>0)var l=s.prefix=a.slice(0,h),d=a.slice(h+1),f=l==="xmlns"&&d;else d=a,l=null,f=a==="xmlns"&&"";s.localName=d,f!==!1&&(i==null&&(i={},g4(r,r={})),r[f]=i[f]=o,s.uri=$d.XMLNS,e.startPrefixMapping(f,o))}for(var c=t.length;c--;){s=t[c];var l=s.prefix;l&&(l==="xml"&&(s.uri=$d.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),d=t.localName=n.slice(h+1)):(l=null,d=t.localName=n);var p=t.uri=r[l||""];if(e.startElement(p,d,n,t),t.closed){if(e.endElement(p,d,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function KK(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),s)}return e+1}function XK(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function g4(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function ZK(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var a=eX(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],d=!1,f=!1;o>3&&(/^public$/i.test(a[2][0])?(d=a[3][0],f=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(f=a[3][0]));var c=a[o-1];return r.startDTD(l,d,f),r.endDTD(),c.index+c[0].length}}return-1}function JK(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function b4(){this.attributeNames={}}b4.prototype={setTagName:function(t){if(!f4.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!f4.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function eX(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}M2.XMLReader=h4,M2.ParseError=gu;var tX=ca,rX=Wa,y4=c4,_4=M2,nX=rX.DOMImplementation,v4=tX.NAMESPACE,iX=_4.ParseError,sX=_4.XMLReader;function T4(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function E4(t){this.options=t||{locator:{}}}E4.prototype.parseFromString=function(t,e){var r=this.options,n=new sX,i=r.domBuilder||new Vd,s=r.errorHandler,a=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),d=l?y4.HTML_ENTITIES:y4.XML_ENTITIES;a&&i.setDocumentLocator(a),n.errorHandler=aX(s,i,a),n.domBuilder=r.domBuilder||i,l&&(o[""]=v4.HTML),o.xml=o.xml||v4.XML;var f=r.normalizeLineEndings||T4;return t&&typeof t=="string"?n.parse(f(t),o,d):n.errorHandler.error("invalid doc source"),i.doc};function aX(t,e,r){if(!t){if(e instanceof Vd)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),n[a]=o&&function(l){o("[xmldom "+a+"]	"+l+L2(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Vd(){this.cdata=!1}function bu(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Vd.prototype={startDocument:function(){this.doc=new nX().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),a=n.length;i0(this,s),this.currentElement=s,this.locator&&bu(this.locator,s);for(var o=0;o<a;o++){var t=n.getURI(o),l=n.getValue(o),r=n.getQName(o),d=i.createAttributeNS(t,r);this.locator&&bu(n.getLocator(o),d),d.value=d.nodeValue=l,s.setAttributeNode(d)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&bu(this.locator,r),i0(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=A4.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&bu(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=A4.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&bu(this.locator,n),i0(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&bu(this.locator,i),i0(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,L2(this.locator))},error:function(t){console.error("[xmldom error]	"+t,L2(this.locator))},fatalError:function(t){throw new iX(t,this.locator)}};function L2(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function A4(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Vd.prototype[t]=function(){return null}});function i0(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r0.__DOMHandler=Vd,r0.normalizeLineEndings=T4,r0.DOMParser=E4;var oX=r0.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const x4=t=>!!t&&typeof t=="object",nn=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):x4(e[n])&&x4(r[n])?e[n]=nn(e[n],r[n]):e[n]=r[n]}),e),{}),C4=t=>Object.keys(t).map(e=>t[e]),lX=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},yu=t=>t.reduce((e,r)=>e.concat(r),[]),w4=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},uX=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),cX=(t,e)=>C4(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var _u={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const qd=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:Yp(t||"",e)};if(r||n){const a=(r||n).split("-");let o=ne.BigInt?ne.BigInt(a[0]):parseInt(a[0],10),l=ne.BigInt?ne.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let d;typeof l=="bigint"||typeof o=="bigint"?d=ne.BigInt(l)-ne.BigInt(o)+ne.BigInt(1):d=l-o+1,typeof d=="bigint"&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),i.byterange={length:d,offset:o}}return i},dX=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ne.BigInt(t.offset)+ne.BigInt(t.length)-ne.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},S4=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),fX={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,s=S4(t.endNumber),a=e/r;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:n/a}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,d=S4(t.endNumber),f=(e+r)/1e3,c=n+a,p=f+o-c,m=Math.ceil(p*i/s),b=Math.floor((f-c-l)*i/s),y=Math.floor((f-c)*i/s);return{start:Math.max(0,b),end:typeof d=="number"?d:Math.min(m,y)}}},hX=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:r/n,timeline:i,time:e*r}},R2=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:s}=t,{start:a,end:o}=fX[e](t),l=lX(a,o).map(hX(t));if(e==="static"){const d=l.length-1,f=typeof i=="number"?i:s;l[d].duration=f-r/n*d}return l},k4=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(_u.NO_BASE_URL);const d=qd({baseUrl:e,source:r.sourceURL,range:r.range}),f=qd({baseUrl:e,source:e,indexRange:i});if(f.map=d,l){const c=R2(t);c.length&&(f.duration=c[0].duration,f.timeline=c[0].timeline)}else n&&(f.duration=n,f.timeline=s);return f.presentationTime=a||s,f.number=o,[f]},B2=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,d=e.references.filter(y=>y.referenceType!==1),f=[],c=t.endList?"static":"dynamic",h=t.sidx.timeline;let p=h,m=t.mediaSequence||0,b;typeof e.firstOffset=="bigint"?b=ne.BigInt(o)+e.firstOffset:b=o+e.firstOffset;for(let y=0;y<d.length;y++){const _=e.references[y],x=_.referencedSize,C=_.subsegmentDuration;let k;typeof b=="bigint"?k=b+ne.BigInt(x)-ne.BigInt(1):k=b+x-1;const S=`${b}-${k}`,L=k4({baseUrl:r,timescale:l,timeline:s,periodStart:h,presentationTime:p,number:m,duration:C,sourceDuration:i,indexRange:S,type:c})[0];n&&(L.map=n),f.push(L),typeof b=="bigint"?b+=ne.BigInt(x):b+=x,p+=C/l,m++}return t.segments=f,t},pX=["AUDIO","SUBTITLES"],mX=1/60,I4=t=>cX(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),gX=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},D4=t=>{let e=[];return NK(t,pX,(r,n,i,s)=>{e=e.concat(r.playlists||[])}),e},N4=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},bX=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:l}){return l===n.timeline});const i=gX(t,n.attributes.NAME);if(!i||n.sidx)return;const s=n.segments[0],a=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<mX});if(a===-1){N4({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),N4({playlist:n,mediaSequence:i.segments[a].number})})},yX=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(D4(t)),n=e.playlists.concat(D4(e));return e.timelineStarts=I4([t.timelineStarts,e.timelineStarts]),bX({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},s0=t=>t&&t.uri+"-"+dX(t.byterange),P2=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=C4(n.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=uX(n.segments||[],"discontinuity"),n))},F2=(t,e)=>{const r=s0(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&B2(t,n,t.sidx.resolvedUri),t},_X=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=F2(t[r],e);return t},vX=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),r&&(o.sidx=r),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},TX=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},EX=(t,e={},r=!1)=>{let n;const i=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let d=a.attributes.label||"main";if(l&&!a.attributes.label){const c=o?` (${o})`:"";d=`${a.attributes.lang}${c}`}s[d]||(s[d]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const f=F2(vX(a,r),e);return s[d].playlists.push(f),typeof n>"u"&&o==="main"&&(n=a,n.default=!0),s},{});if(!n){const s=Object.keys(i)[0];i[s].default=!0}return i},AX=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return r[i]||(r[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(F2(TX(n),e)),r},{}),xX=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:s}=n;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},n.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[s]["3D"]=n["3D"])}),e),{}),CX=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},wX=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",SX=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",kX=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",IX=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},M4=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],DX=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:d}=t[0].attributes,f=P2(t.filter(wX)).map(CX),c=P2(t.filter(SX)),h=P2(t.filter(kX)),p=t.map(k=>k.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:_X(f,n)};d>=0&&(m.minimumUpdatePeriod=d*1e3),e&&(m.locations=e),r&&(m.contentSteering=r),o==="dynamic"&&(m.suggestedPresentationDelay=l),s&&s.length>0&&(m.eventStream=s);const b=m.playlists.length===0,y=c.length?EX(c,n,b):null,_=h.length?AX(h,n):null,x=f.concat(M4(y),M4(_)),C=x.map(({timelineStarts:k})=>k);return m.timelineStarts=I4(C),IX(x,m.timelineStarts),y&&(m.mediaGroups.AUDIO.audio=y),_&&(m.mediaGroups.SUBTITLES.subs=_),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=xX(p)),i?yX({oldManifest:i,newManifest:m}):m},NX=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,d=(n+i)/1e3,f=s+o,h=d+l-f;return Math.ceil((h*a-e)/r)},O4=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,d=[];let f=-1;for(let c=0;c<e.length;c++){const h=e[c],p=h.d,m=h.r||0,b=h.t||0;f<0&&(f=b),b&&b>f&&(f=b);let y;if(m<0){const C=c+1;C===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?y=NX(t,f,p):y=(s*a-f)/p:y=(e[C].t-f)/p}else y=m+1;const _=o+d.length+y;let x=o+d.length;for(;x<_;)d.push({number:x,duration:p/a,time:f,timeline:l}),f+=p,x++}return d},MX=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,OX=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const s=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},L4=(t,e)=>t.replace(MX,OX(e)),LX=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?R2(t):O4(t,e),RX=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=qd({baseUrl:t.baseUrl,source:L4(n.sourceURL,r),range:n.range});return LX(t,e).map(a=>{r.Number=a.number,r.Time=a.time;const o=L4(t.media||"",r),l=t.timescale||1,d=t.presentationTimeOffset||0,f=t.periodStart+(a.time-d)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Yp(t.baseUrl||"",o),map:i,number:a.number,presentationTime:f}})},BX=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=qd({baseUrl:r,source:n.sourceURL,range:n.range}),s=qd({baseUrl:r,source:e.media,range:e.mediaRange});return s.map=i,s},PX=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(_u.SEGMENT_TIME_UNSPECIFIED);const s=n.map(l=>BX(t,l));let a;return r&&(a=R2(t)),e&&(a=O4(t,e)),a.map((l,d)=>{if(s[d]){const f=s[d],c=t.timescale||1,h=t.presentationTimeOffset||0;return f.timeline=l.timeline,f.duration=l.duration,f.number=l.number,f.presentationTime=i+(l.time-h)/c,f}}).filter(l=>l)},FX=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=RX,r=nn(t,e.template)):e.base?(n=k4,r=nn(t,e.base)):e.list&&(n=PX,r=nn(t,e.list));const i={attributes:t};if(!n)return i;const s=n(r,e.segmentTimeline);if(r.duration){const{duration:a,timescale:o=1}=r;r.duration=a/o}else s.length?r.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):r.duration=0;return i.attributes=r,i.segments=s,e.base&&r.indexRange&&(i.sidx=s[0],i.segments=[]),i},UX=t=>t.map(FX),_r=(t,e)=>w4(t.childNodes).filter(({tagName:r})=>r===e),Wd=t=>t.textContent.trim(),$X=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),vu=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,d,f,c,h,p]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(d||0)*2592e3+parseFloat(f||0)*86400+parseFloat(c||0)*3600+parseFloat(h||0)*60+parseFloat(p||0)},jX=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),R4={mediaPresentationDuration(t){return vu(t)},availabilityStartTime(t){return jX(t)/1e3},minimumUpdatePeriod(t){return vu(t)},suggestedPresentationDelay(t){return vu(t)},type(t){return t},timeShiftBufferDepth(t){return vu(t)},start(t){return vu(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return $X(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?vu(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Vr=t=>t&&t.attributes?w4(t.attributes).reduce((e,r)=>{const n=R4[r.name]||R4.DEFAULT;return e[r.name]=n(r.value),e},{}):{},HX={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},a0=(t,e)=>e.length?yu(t.map(function(r){return e.map(function(n){const i=Wd(n),s=Yp(r.baseUrl,i),a=nn(Vr(n),{baseUrl:s});return s!==i&&!a.serviceLocation&&r.serviceLocation&&(a.serviceLocation=r.serviceLocation),a})})):t,U2=t=>{const e=_r(t,"SegmentTemplate")[0],r=_r(t,"SegmentList")[0],n=r&&_r(r,"SegmentURL").map(c=>nn({tag:"SegmentURL"},Vr(c))),i=_r(t,"SegmentBase")[0],s=r||e,a=s&&_r(s,"SegmentTimeline")[0],o=r||i||e,l=o&&_r(o,"Initialization")[0],d=e&&Vr(e);d&&l?d.initialization=l&&Vr(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});const f={template:d,segmentTimeline:a&&_r(a,"S").map(c=>Vr(c)),list:r&&nn(Vr(r),{segmentUrls:n,initialization:Vr(l)}),base:i&&nn(Vr(i),{initialization:Vr(l)})};return Object.keys(f).forEach(c=>{f[c]||delete f[c]}),f},zX=(t,e,r)=>n=>{const i=_r(n,"BaseURL"),s=a0(e,i),a=nn(t,Vr(n)),o=U2(n);return s.map(l=>({segmentInfo:nn(r,o),attributes:nn(a,l)}))},VX=t=>t.reduce((e,r)=>{const n=Vr(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=HX[n.schemeIdUri];if(i){e[i]={attributes:n};const s=_r(r,"cenc:pssh")[0];if(s){const a=Wd(s);e[i].pssh=a&&OK(a)}}return e},{}),qX=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,s=""]=r.split("=");n.channel=i,n.language=r,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?n.language=l:o==="er"?n.easyReader=Number(l):o==="war"?n.aspectRatio=Number(l):o==="3D"&&(n["3D"]=Number(l))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},WX=t=>yu(_r(t.node,"EventStream").map(e=>{const r=Vr(e),n=r.schemeIdUri;return _r(e,"Event").map(i=>{const s=Vr(i),a=s.presentationTime||0,o=r.timescale||1,l=s.duration||0,d=a/o+t.attributes.start;return{schemeIdUri:n,value:r.value,id:s.id,start:d,end:d+l/o,messageData:Wd(i)||s.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),GX=(t,e,r)=>n=>{const i=Vr(n),s=a0(e,_r(n,"BaseURL")),a=_r(n,"Role")[0],o={role:Vr(a)};let l=nn(t,i,o);const d=_r(n,"Accessibility")[0],f=qX(Vr(d));f&&(l=nn(l,{captionServices:f}));const c=_r(n,"Label")[0];if(c&&c.childNodes.length){const y=c.childNodes[0].nodeValue.trim();l=nn(l,{label:y})}const h=VX(_r(n,"ContentProtection"));Object.keys(h).length&&(l=nn(l,{contentProtection:h}));const p=U2(n),m=_r(n,"Representation"),b=nn(r,p);return yu(m.map(zX(l,s,b)))},YX=(t,e)=>(r,n)=>{const i=a0(e,_r(r.node,"BaseURL")),s=nn(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(s.periodDuration=r.attributes.duration);const a=_r(r.node,"AdaptationSet"),o=U2(r.node);return yu(a.map(GX(s,i,o)))},QX=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=nn({serverURL:Wd(t[0])},Vr(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},KX=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,XX=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=_r(t,"Period");if(!a.length)throw new Error(_u.INVALID_NUMBER_OF_PERIOD);const o=_r(t,"Location"),l=Vr(t),d=a0([{baseUrl:r}],_r(t,"BaseURL")),f=_r(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,o.length&&(l.locations=o.map(Wd));const c=[];return a.forEach((h,p)=>{const m=Vr(h),b=c[p-1];m.start=KX({attributes:m,priorPeriodAttributes:b?b.attributes:null,mpdType:l.type}),c.push({node:h,attributes:m})}),{locations:l.locations,contentSteeringInfo:QX(f,s),representationInfo:yu(c.map(YX(l,d))),eventStream:yu(c.map(WX))}},B4=t=>{if(t==="")throw new Error(_u.DASH_EMPTY_MANIFEST);const e=new oX;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(_u.DASH_INVALID_XML);return n},ZX=t=>{const e=_r(t,"UTCTiming")[0];if(!e)return null;const r=Vr(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(_u.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},JX=(t,e={})=>{const r=XX(B4(t),e),n=UX(r.representationInfo);return DX({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},eZ=t=>ZX(B4(t));var P4=Math.pow(2,32),tZ=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*P4+e.getUint32(4)},rZ={getUint64:tZ,MAX_UINT32:P4},F4=rZ.getUint64,nZ=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=F4(t.subarray(n)),r.firstOffset=F4(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},iZ=nZ;const sZ=on(iZ);var aZ=ut([73,68,51]),oZ=function(e,r){r===void 0&&(r=0),e=ut(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],s=(n&16)>>4;return s?i+20:i+10},Gd=function t(e,r){return r===void 0&&(r=0),e=ut(e),e.length-r<10||!yr(e,aZ,{offset:r})?r:(r+=oZ(e,r),t(e,r))},U4=function(e){return typeof e=="string"?LS(e):e},lZ=function(e){return Array.isArray(e)?e.map(function(r){return U4(r)}):[U4(e)]},uZ=function t(e,r,n){n===void 0&&(n=!1),r=lZ(r),e=ut(e);var i=[];if(!r.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(n)break;l=e.length}var d=e.subarray(s+8,l);yr(o,r[0])&&(r.length===1?i.push(d):i.push.apply(i,t(d,r.slice(1),n))),s=l}return i},o0={EBML:ut([26,69,223,163]),DocType:ut([66,130]),Segment:ut([24,83,128,103]),SegmentInfo:ut([21,73,169,102]),Tracks:ut([22,84,174,107]),Track:ut([174]),TrackNumber:ut([215]),DefaultDuration:ut([35,227,131]),TrackEntry:ut([174]),TrackType:ut([131]),FlagDefault:ut([136]),CodecID:ut([134]),CodecPrivate:ut([99,162]),VideoTrack:ut([224]),AudioTrack:ut([225]),Cluster:ut([31,67,182,117]),Timestamp:ut([231]),TimestampScale:ut([42,215,177]),BlockGroup:ut([160]),BlockDuration:ut([155]),Block:ut([161]),SimpleBlock:ut([163])},$2=[128,64,32,16,8,4,2,1],cZ=function(e){for(var r=1,n=0;n<$2.length&&!(e&$2[n]);n++)r++;return r},l0=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=cZ(e[r]),a=e.subarray(r,r+s);return n&&(a=Array.prototype.slice.call(e,r,r+s),a[0]^=$2[s-1]),{length:s,value:kK(a,{signed:i}),bytes:a}},$4=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?IK(e):e},dZ=function(e){return Array.isArray(e)?e.map(function(r){return $4(r)}):[$4(e)]},fZ=function t(e,r,n){if(n>=r.length)return r.length;var i=l0(r,n,!1);if(yr(e.bytes,i.bytes))return n;var s=l0(r,n+i.length);return t(e,r,n+s.length+s.value+i.length)},j4=function t(e,r){r=dZ(r),e=ut(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var s=l0(e,i,!1),a=l0(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=fZ(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,d=e.subarray(o,l);yr(r[0],s.bytes)&&(r.length===1?n.push(d):n=n.concat(t(d,r.slice(1))));var f=s.length+a.length+d.length;i+=f}return n},hZ=ut([0,0,0,1]),pZ=ut([0,0,1]),mZ=ut([0,0,3]),gZ=function(e){for(var r=[],n=1;n<e.length-2;)yr(e.subarray(n,n+3),mZ)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,s=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),s[n]=e[a];return s},H4=function(e,r,n,i){e=ut(e),n=[].concat(n);for(var s=0,a,o=0;s<e.length&&(o<i||a);){var l=void 0;if(yr(e.subarray(s),hZ)?l=4:yr(e.subarray(s),pZ)&&(l=3),!l){s++;continue}if(o++,a)return gZ(e.subarray(a,s));var d=void 0;r==="h264"?d=e[s+l]&31:r==="h265"&&(d=e[s+l]>>1&63),n.indexOf(d)!==-1&&(a=s+l),s+=l+(r==="h264"?1:2)}return e.subarray(0,0)},bZ=function(e,r,n){return H4(e,"h264",r,n)},yZ=function(e,r,n){return H4(e,"h265",r,n)},On={webm:ut([119,101,98,109]),matroska:ut([109,97,116,114,111,115,107,97]),flac:ut([102,76,97,67]),ogg:ut([79,103,103,83]),ac3:ut([11,119]),riff:ut([82,73,70,70]),avi:ut([65,86,73]),wav:ut([87,65,86,69]),"3gp":ut([102,116,121,112,51,103]),mp4:ut([102,116,121,112]),fmp4:ut([115,116,121,112]),mov:ut([102,116,121,112,113,116]),moov:ut([109,111,111,118]),moof:ut([109,111,111,102])},Tu={aac:function(e){var r=Gd(e);return yr(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=Gd(e);return yr(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=j4(e,[o0.EBML,o0.DocType])[0];return yr(r,On.webm)},mkv:function(e){var r=j4(e,[o0.EBML,o0.DocType])[0];return yr(r,On.matroska)},mp4:function(e){if(Tu["3gp"](e)||Tu.mov(e))return!1;if(yr(e,On.mp4,{offset:4})||yr(e,On.fmp4,{offset:4})||yr(e,On.moof,{offset:4})||yr(e,On.moov,{offset:4}))return!0},mov:function(e){return yr(e,On.mov,{offset:4})},"3gp":function(e){return yr(e,On["3gp"],{offset:4})},ac3:function(e){var r=Gd(e);return yr(e,On.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=Gd(e);return yr(e,On.flac,{offset:r})},ogg:function(e){return yr(e,On.ogg)},avi:function(e){return yr(e,On.riff)&&yr(e,On.avi,{offset:8})},wav:function(e){return yr(e,On.riff)&&yr(e,On.wav,{offset:8})},h264:function(e){return bZ(e,7,3).length},h265:function(e){return yZ(e,[32,33],3).length}},j2=Object.keys(Tu).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);j2.forEach(function(t){var e=Tu[t];Tu[t]=function(r){return e(ut(r))}});var _Z=Tu,H2=function(e){e=ut(e);for(var r=0;r<j2.length;r++){var n=j2[r];if(_Z[n](e))return n}return""},vZ=function(e){return uZ(e,["moof"]).length>0},z2=9e4,V2,q2,u0,W2,z4,V4,q4;V2=function(t){return t*z2},q2=function(t,e){return t*e},u0=function(t){return t/z2},W2=function(t,e){return t/e},z4=function(t,e){return V2(W2(t,e))},V4=function(t,e){return q2(u0(t),e)},q4=function(t,e,r){return u0(r?t:t-e)};var Ko={ONE_SECOND_IN_TS:z2,secondsToVideoTs:V2,secondsToAudioTs:q2,videoTsToSeconds:u0,audioTsToSeconds:W2,audioTsToVideoTs:z4,videoTsToAudioTs:V4,metadataTsToSeconds:q4};/**
 * @license
 * Video.js 8.17.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var G2="8.17.3";const pa={},Ya=function(t,e){return pa[t]=pa[t]||[],e&&(pa[t]=pa[t].concat(e)),pa[t]},TZ=function(t,e){Ya(t,e)},W4=function(t,e){const r=Ya(t).indexOf(e);return r<=-1?!1:(pa[t]=pa[t].slice(),pa[t].splice(r,1),!0)},EZ=function(t,e){Ya(t,[].concat(e).map(r=>{const n=(...i)=>(W4(t,n),r(...i));return n}))},c0={prefixed:!0},d0=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],G4=d0[0];let Yd;for(let t=0;t<d0.length;t++)if(d0[t][1]in qe){Yd=d0[t];break}if(Yd){for(let t=0;t<Yd.length;t++)c0[G4[t]]=Yd[t];c0.prefixed=Yd[0]!==G4[0]}let ti=[];const AZ=(t,e,r)=>(n,i,s)=>{const a=e.levels[i],o=new RegExp(`^(${a})$`);let l=t;if(n!=="log"&&s.unshift(n.toUpperCase()+":"),r&&(l=`%c${t}`,s.unshift(r)),s.unshift(l+":"),ti){ti.push([].concat(s));const f=ti.length-1e3;ti.splice(0,f>0?f:0)}if(!ne.console)return;let d=ne.console[n];!d&&n==="debug"&&(d=ne.console.info||ne.console.log),!(!d||!a||!o.test(n))&&d[Array.isArray(s)?"apply":"call"](ne.console,s)};function Y2(t,e=":",r=""){let n="info",i;function s(...a){i("log",n,a)}return i=AZ(t,s,r),s.createLogger=(a,o,l)=>{const d=o!==void 0?o:e,f=l!==void 0?l:r,c=`${t} ${d} ${a}`;return Y2(c,d,f)},s.createNewLogger=(a,o,l)=>Y2(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);n=a}return n},s.history=()=>ti?[].concat(ti):[],s.history.filter=a=>(ti||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ti&&(ti.length=0)},s.history.disable=()=>{ti!==null&&(ti.length=0,ti=null)},s.history.enable=()=>{ti===null&&(ti=[])},s.error=(...a)=>i("error",n,a),s.warn=(...a)=>i("warn",n,a),s.debug=(...a)=>i("debug",n,a),s}const Lt=Y2("VIDEOJS"),Y4=Lt.createLogger,xZ=Object.prototype.toString,Q4=function(t){return Ls(t)?Object.keys(t):[]};function Eu(t,e){Q4(t).forEach(r=>e(t[r],r))}function K4(t,e,r=0){return Q4(t).reduce((n,i)=>e(n,t[i],i),r)}function Ls(t){return!!t&&typeof t=="object"}function Au(t){return Ls(t)&&xZ.call(t)==="[object Object]"&&t.constructor===Object}function ar(...t){const e={};return t.forEach(r=>{r&&Eu(r,(n,i)=>{if(!Au(n)){e[i]=n;return}Au(e[i])||(e[i]={}),e[i]=ar(e[i],n)})}),e}function X4(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function f0(t,e,r,n=!0){const i=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=r();return i(a),a}};return n&&(s.set=i),Object.defineProperty(t,e,s)}var CZ=Object.freeze({__proto__:null,each:Eu,reduce:K4,isObject:Ls,isPlain:Au,merge:ar,values:X4,defineLazyProperty:f0});let Q2=!1,Z4=null,Rs=!1,J4,ek=!1,xu=!1,Cu=!1,Bs=!1,K2=null,h0=null;const wZ=!!(ne.cast&&ne.cast.framework&&ne.cast.framework.CastReceiverContext);let tk=null,p0=!1,m0=!1,g0=!1,b0=!1,y0=!1,_0=!1,X2=!1;const Qd=!!(wu()&&("ontouchstart"in ne||ne.navigator.maxTouchPoints||ne.DocumentTouch&&ne.document instanceof ne.DocumentTouch)),Qa=ne.navigator&&ne.navigator.userAgentData;if(Qa&&Qa.platform&&Qa.brands&&(Rs=Qa.platform==="Android",xu=!!Qa.brands.find(t=>t.brand==="Microsoft Edge"),Cu=!!Qa.brands.find(t=>t.brand==="Chromium"),Bs=!xu&&Cu,K2=h0=(Qa.brands.find(t=>t.brand==="Chromium")||{}).version||null,m0=Qa.platform==="Windows"),!Cu){const t=ne.navigator&&ne.navigator.userAgent||"";Q2=/iPod/i.test(t),Z4=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Rs=/Android/i.test(t),J4=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null}(),ek=/Firefox/i.test(t),xu=/Edg/i.test(t),Cu=/Chrome/i.test(t)||/CriOS/i.test(t),Bs=!xu&&Cu,K2=h0=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),tk=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),y0=/Tizen/i.test(t),_0=/Web0S/i.test(t),X2=y0||_0,p0=/Safari/i.test(t)&&!Bs&&!Rs&&!xu&&!X2,m0=/Windows/i.test(t),g0=/iPad/i.test(t)||p0&&Qd&&!/iPhone/i.test(t),b0=/iPhone/i.test(t)&&!g0}const Ln=b0||g0||Q2,v0=(p0||Ln)&&!Bs;var rk=Object.freeze({__proto__:null,get IS_IPOD(){return Q2},get IOS_VERSION(){return Z4},get IS_ANDROID(){return Rs},get ANDROID_VERSION(){return J4},get IS_FIREFOX(){return ek},get IS_EDGE(){return xu},get IS_CHROMIUM(){return Cu},get IS_CHROME(){return Bs},get CHROMIUM_VERSION(){return K2},get CHROME_VERSION(){return h0},IS_CHROMECAST_RECEIVER:wZ,get IE_VERSION(){return tk},get IS_SAFARI(){return p0},get IS_WINDOWS(){return m0},get IS_IPAD(){return g0},get IS_IPHONE(){return b0},get IS_TIZEN(){return y0},get IS_WEBOS(){return _0},get IS_SMART_TV(){return X2},TOUCH_ENABLED:Qd,IS_IOS:Ln,IS_ANY_SAFARI:v0});function nk(t){return typeof t=="string"&&!!t.trim()}function SZ(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function wu(){return qe===ne.document}function Su(t){return Ls(t)&&t.nodeType===1}function ik(){try{return ne.parent!==ne.self}catch{return!0}}function sk(t){return function(e,r){if(!nk(e))return qe[t](null);nk(r)&&(r=qe.querySelector(r));const n=Su(r)?r:qe;return n[t]&&n[t](e)}}function _t(t="div",e={},r={},n){const i=qe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Ka(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(r).forEach(function(s){i.setAttribute(s,r[s])}),n&&J2(i,n),i}function Ka(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Z2(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Kd(t,e){return SZ(e),t.classList.contains(e)}function Xo(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function T0(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(Lt.warn("removeClass was called with an element that doesn't exist"),null)}function ak(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function ok(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function Xa(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const s=n[i].name;let a=n[i].value;r.includes(s)&&(a=a!==null),e[s]=a}}return e}function lk(t,e){return t.getAttribute(e)}function ku(t,e,r){t.setAttribute(e,r)}function E0(t,e){t.removeAttribute(e)}function uk(){qe.body.focus(),qe.onselectstart=function(){return!1}}function ck(){qe.onselectstart=function(){return!0}}function Iu(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(Du(t,"height"))),r.width||(r.width=parseFloat(Du(t,"width"))),r}}function Xd(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==qe[c0.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function A0(t,e){const r={x:0,y:0};if(Ln){let f=t;for(;f&&f.nodeName.toLowerCase()!=="html";){const c=Du(f,"transform");if(/^matrix/.test(c)){const h=c.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(c)){const h=c.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}if(f.assignedSlot&&f.assignedSlot.parentElement&&ne.WebKitCSSMatrix){const h=ne.getComputedStyle(f.assignedSlot.parentElement).transform,p=new ne.WebKitCSSMatrix(h);r.x+=p.m41,r.y+=p.m42}f=f.parentNode||f.host}}const n={},i=Xd(e.target),s=Xd(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-i.top),d=e.offsetX-(s.left-i.left);return e.changedTouches&&(d=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Ln&&(d-=r.x,l-=r.y)),n.y=1-Math.max(0,Math.min(1,l/o)),n.x=Math.max(0,Math.min(1,d/a)),n}function dk(t){return Ls(t)&&t.nodeType===3}function x0(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function fk(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Su(e)||dk(e))return e;if(typeof e=="string"&&/\S/.test(e))return qe.createTextNode(e)}).filter(e=>e)}function J2(t,e){return fk(e).forEach(r=>t.appendChild(r)),t}function hk(t,e){return J2(x0(t),e)}function Zd(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Za=sk("querySelector"),pk=sk("querySelectorAll");function Du(t,e){if(!t||!e)return"";if(typeof ne.getComputedStyle=="function"){let r;try{r=ne.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function mk(t){[...qe.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=qe.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=qe.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var gk=Object.freeze({__proto__:null,isReal:wu,isEl:Su,isInFrame:ik,createEl:_t,textContent:Ka,prependTo:Z2,hasClass:Kd,addClass:Xo,removeClass:T0,toggleClass:ak,setAttributes:ok,getAttributes:Xa,getAttribute:lk,setAttribute:ku,removeAttribute:E0,blockTextSelection:uk,unblockTextSelection:ck,getBoundingClientRect:Iu,findPosition:Xd,getPointerPosition:A0,isTextNode:dk,emptyEl:x0,normalizeContent:fk,appendContent:J2,insertContent:hk,isSingleLeftClick:Zd,$:Za,$$:pk,computedStyle:Du,copyStyleSheetsToWindow:mk});let bk=!1,ey;const kZ=function(){if(ey.options.autoSetup===!1)return;const t=Array.prototype.slice.call(qe.getElementsByTagName("video")),e=Array.prototype.slice.call(qe.getElementsByTagName("audio")),r=Array.prototype.slice.call(qe.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&ey(a);else{ty(1);break}}else bk||ty(1)};function ty(t,e){wu()&&(e&&(ey=e),ne.setTimeout(kZ,t))}function ry(){bk=!0,ne.removeEventListener("load",ry)}wu()&&(qe.readyState==="complete"?ry():ne.addEventListener("load",ry));const yk=function(t){const e=qe.createElement("style");return e.className=t,e},_k=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Rn=new WeakMap;let IZ=3;function Ni(){return IZ++}function vk(t,e){if(!Rn.has(t))return;const r=Rn.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&Rn.delete(t)}function ny(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function C0(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||ne.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in n)i.includes(s)||s==="returnValue"&&n.preventDefault||(t[s]=n[s]);if(t.target||(t.target=t.srcElement||qe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const s=qe.documentElement,a=qe.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let w0;const DZ=function(){if(typeof w0!="boolean"){w0=!1;try{const t=Object.defineProperty({},"passive",{get(){w0=!0}});ne.addEventListener("test",null,t),ne.removeEventListener("test",null,t)}catch{}}return w0},NZ=["touchstart","touchmove"];function gi(t,e,r){if(Array.isArray(e))return ny(gi,t,e,r);Rn.has(t)||Rn.set(t,{});const n=Rn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=Ni()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,s){if(n.disabled)return;i=C0(i);const a=n.handlers[i.type];if(a){const o=a.slice(0);for(let l=0,d=o.length;l<d&&!i.isImmediatePropagationStopped();l++)try{o[l].call(t,i,s)}catch(f){Lt.error(f)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;DZ()&&NZ.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function vn(t,e,r){if(!Rn.has(t))return;const n=Rn.get(t);if(!n.handlers)return;if(Array.isArray(e))return ny(vn,t,e,r);const i=function(a,o){n.handlers[o]=[],vk(a,o)};if(e===void 0){for(const a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&i(t,a);return}const s=n.handlers[e];if(s){if(!r){i(t,e);return}if(r.guid)for(let a=0;a<s.length;a++)s[a].guid===r.guid&&s.splice(a--,1);vk(t,e)}}function Nu(t,e,r){const n=Rn.has(t)?Rn.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=C0(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)Nu.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Rn.has(e.target)||Rn.set(e.target,{});const s=Rn.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function S0(t,e,r){if(Array.isArray(e))return ny(S0,t,e,r);const n=function(){vn(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ni(),gi(t,e,n)}function iy(t,e,r){const n=function(){vn(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ni(),gi(t,e,n)}var MZ=Object.freeze({__proto__:null,fixEvent:C0,on:gi,off:vn,trigger:Nu,one:S0,any:iy});const Mi=30,ur=function(t,e,r){e.guid||(e.guid=Ni());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},Ps=function(t,e){let r=ne.performance.now();return function(...i){const s=ne.performance.now();s-r>=e&&(t(...i),r=s)}},Tk=function(t,e,r,n=ne){let i;const s=()=>{n.clearTimeout(i),i=null},a=function(){const o=this,l=arguments;let d=function(){i=null,d=null,r||t.apply(o,l)};!i&&r&&t.apply(o,l),n.clearTimeout(i),i=n.setTimeout(d,e)};return a.cancel=s,a};var OZ=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Mi,bind_:ur,throttle:Ps,debounce:Tk});let Jd;class bi{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},gi(this,e,r),this.addEventListener=n}off(e,r){vn(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},S0(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},iy(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=C0(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),Nu(this,e)}queueTrigger(e){Jd||(Jd=new Map);const r=e.type||e;let n=Jd.get(this);n||(n=new Map,Jd.set(this,n));const i=n.get(r);n.delete(r),ne.clearTimeout(i);const s=ne.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,Jd.delete(this)),this.trigger(e)},0);n.set(r,s)}}bi.prototype.allowedEvents_={},bi.prototype.addEventListener=bi.prototype.on,bi.prototype.removeEventListener=bi.prototype.off,bi.prototype.dispatchEvent=bi.prototype.trigger;const k0=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,ma=t=>t instanceof bi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),LZ=(t,e)=>{ma(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},sy=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,I0=(t,e,r)=>{if(!t||!t.nodeName&&!ma(t))throw new Error(`Invalid target for ${k0(e)}#${r}; must be a DOM node or evented object.`)},Ek=(t,e,r)=>{if(!sy(t))throw new Error(`Invalid event type for ${k0(e)}#${r}; must be a non-empty string or array.`)},Ak=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${k0(e)}#${r}; must be a function.`)},ay=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,a;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(i=e[0],s=e[1],a=e[2]),I0(i,t,r),Ek(s,t,r),Ak(a,t,r),a=ur(t,a),{isTargetingSelf:n,target:i,type:s,listener:a}},Zo=(t,e,r,n)=>{I0(t,t,e),t.nodeName?MZ[e](t,r,n):t[e](r,n)},RZ={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=ay(this,t,"on");if(Zo(r,"on",n,i),!e){const s=()=>this.off(r,n,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,Zo(this,"on","dispose",s),Zo(r,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=ay(this,t,"one");if(e)Zo(r,"one",n,i);else{const s=(...a)=>{this.off(r,n,s),i.apply(null,a)};s.guid=i.guid,Zo(r,"one",n,s)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=ay(this,t,"any");if(e)Zo(r,"any",n,i);else{const s=(...a)=>{this.off(r,n,s),i.apply(null,a)};s.guid=i.guid,Zo(r,"any",n,s)}},off(t,e,r){if(!t||sy(t))vn(this.eventBusEl_,t,e);else{const n=t,i=e;I0(n,this,"off"),Ek(i,this,"off"),Ak(r,this,"off"),r=ur(this,r),this.off("dispose",r),n.nodeName?(vn(n,i,r),vn(n,"dispose",r)):ma(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){I0(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!sy(r))throw new Error(`Invalid event type for ${k0(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Nu(this.eventBusEl_,t,e)}};function oy(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=_t("span",{className:"vjs-event-bus"});return Object.assign(t,RZ),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&Rn.has(n)&&Rn.delete(n)}),ne.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const BZ={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Eu(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&ma(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function xk(t,e){return Object.assign(t,BZ),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&ma(t)&&t.on("statechanged",t.handleStateChanged),t}const ef=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},kr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Ck=function(t,e){return kr(t)===kr(e)};var PZ=Object.freeze({__proto__:null,toLowerCase:ef,toTitleCase:kr,titleCaseEquals:Ck});class De{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ar({},this.options_),r=this.options_=ar(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Ni()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(oy(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),xk(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,r){}off(e,r){}one(e,r){}any(e,r){}trigger(e,r){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=ar(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return _t(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],o=i&&i.split("-")[0],l=s&&s[o];let d=n;return a&&a[e]?d=a[e]:l&&l[e]&&(d=l[e]),r&&(d=d.replace(/\{(\d+)\}/g,function(f,c){const h=r[c-1];let p=h;return typeof h>"u"&&(p=f),p})),d}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=_t("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=qe.createElementNS(n,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=qe.createElementNS(n,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,s;if(typeof e=="string"){s=kr(e);const a=r.componentClass||s;r.name=s;const o=De.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;i=new o(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&kr(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[ef(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[n+1]&&(this.children_[n+1].el_?a=this.children_[n+1].el_:Su(this.children_[n+1])&&(a=this.children_[n+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[kr(e.name())]=null,this.childNameIndex_[ef(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=a=>{const o=a.name;let l=a.opts;if(r[o]!==void 0&&(l=r[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const d=this.addChild(o,l);d&&(this[o]=d)};let i;const s=De.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=De.getComponent(a.opts.componentClass||kr(a.name));return o&&!s.isTech(o)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return Za(e,r||this.contentEl())}$$(e,r){return pk(e,r||this.contentEl())}hasClass(e){return Kd(this.el_,e)}addClass(...e){Xo(this.el_,...e)}removeClass(...e){T0(this.el_,...e)}toggleClass(e,r){ak(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return lk(this.el_,e)}setAttribute(e,r){ku(this.el_,e,r)}removeAttribute(e){E0(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+kr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Du(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${kr(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},n={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:n}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(r={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=ne.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(r){const l=o.touches[0].pageX-r.pageX,d=o.touches[0].pageY-r.pageY;Math.sqrt(l*l+d*d)>n&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){r=null,s===!0&&ne.performance.now()-e<i&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=ur(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=ur(this,e),this.clearTimersOnDispose_(),n=ne.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),ne.clearTimeout(e)),e}setInterval(e,r){e=ur(this,e),this.clearTimersOnDispose_();const n=ne.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),ne.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=ur(this,e),r=ne.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),r=ur(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),ne.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(s){const a=ne.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function n(s){return!(!r(s.parentElement)||!r(s)||s.style.opacity==="0"||ne.getComputedStyle(s).height==="0px"||ne.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(qe.documentElement.clientWidth||ne.innerWidth)||a.y<0||a.y>(qe.documentElement.clientHeight||ne.innerHeight))return!1;let o=qe.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&n(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=De.getComponent("Tech"),i=n&&n.isTech(r),s=De===r||De.prototype.isPrototypeOf(r.prototype);if(i||!s){let o;throw i?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=kr(e),De.components_||(De.components_={});const a=De.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(d=>o[d]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return De.components_[e]=r,De.components_[ef(e)]=r,r}static getComponent(e){if(!(!e||!De.components_))return De.components_[e]}}De.registerComponent("Component",De);function FZ(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function wk(t,e,r,n){return FZ(t,n,r.length-1),r[n][e]}function ly(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:wk.bind(null,"start",0,t),end:wk.bind(null,"end",1,t)},ne.Symbol&&ne.Symbol.iterator&&(e[ne.Symbol.iterator]=()=>(t||[]).values()),e}function ls(t,e){return Array.isArray(t)?ly(t):t===void 0||e===void 0?ly():ly([[t,e]])}const Sk=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||a>0?i+":":"",n=((i||s>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let uy=Sk;function kk(t){uy=t}function Ik(){uy=Sk}function Jo(t,e=t){return uy(t,e)}var UZ=Object.freeze({__proto__:null,createTimeRanges:ls,createTimeRange:ls,setFormatTime:kk,resetFormatTime:Ik,formatTime:Jo});function Dk(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=ls(0,0));for(let s=0;s<t.length;s++)n=t.start(s),i=t.end(s),i>e&&(i=e),r+=i-n;return r/e}function Ar(t){if(t instanceof Ar)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Ls(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Ar.defaultMessages[this.code]||"")}Ar.prototype.code=0,Ar.prototype.message="",Ar.prototype.status=null,Ar.prototype.metadata=null,Ar.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ar.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},Ar.MEDIA_ERR_CUSTOM=0,Ar.prototype.MEDIA_ERR_CUSTOM=0,Ar.MEDIA_ERR_ABORTED=1,Ar.prototype.MEDIA_ERR_ABORTED=1,Ar.MEDIA_ERR_NETWORK=2,Ar.prototype.MEDIA_ERR_NETWORK=2,Ar.MEDIA_ERR_DECODE=3,Ar.prototype.MEDIA_ERR_DECODE=3,Ar.MEDIA_ERR_SRC_NOT_SUPPORTED=4,Ar.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,Ar.MEDIA_ERR_ENCRYPTED=5,Ar.prototype.MEDIA_ERR_ENCRYPTED=5;function tf(t){return t!=null&&typeof t.then=="function"}function Fs(t){tf(t)&&t.then(null,e=>{})}const cy=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})};var Nk={textTracksToJson:function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=cy(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(cy))},jsonToTextTracks:function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()},trackToJson_:cy};const dy="vjs-modal-dialog";class Mu extends De{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=_t("div",{className:`${dy}-content`},{role:"document"}),this.descEl_=_t("p",{className:`${dy}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Ka(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${dy} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),hk(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const s=this.getChild("closeButton");s&&n.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),x0(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=qe.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let s=0;s<r.length;s++)if(n===r[s]){i=s;break}qe.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof ne.HTMLAnchorElement||r instanceof ne.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof ne.HTMLInputElement||r instanceof ne.HTMLSelectElement||r instanceof ne.HTMLTextAreaElement||r instanceof ne.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof ne.HTMLIFrameElement||r instanceof ne.HTMLObjectElement||r instanceof ne.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}Mu.prototype.options_={pauseOnOpen:!0,temporary:!0},De.registerComponent("ModalDialog",Mu);class Ou extends bi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},ma(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}Ou.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Ou.prototype.allowedEvents_)Ou.prototype["on"+t]=null;const fy=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class $Z extends Ou{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){fy(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&fy(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,fy(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const hy=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class jZ extends Ou{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){hy(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&hy(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,hy(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Mk extends Ou{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class HZ{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class D0{constructor(e){D0.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(r<i)for(n=r;n<i;n++)s.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}const zZ={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},VZ={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},qZ={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ok={disabled:"disabled",hidden:"hidden",showing:"showing"};class py extends bi{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Ni(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const my=function(t){return new URL(t,qe.baseURI)},Lk=function(t){return new URL(t,qe.baseURI).href},gy=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},N0=function(t,e=ne.location){return my(t).origin!==e.origin};var WZ=Object.freeze({__proto__:null,parseUrl:my,getAbsoluteURL:Lk,getFileExtension:gy,isCrossOrigin:N0});const Rk=function(t,e){const r=new ne.WebVTT.Parser(ne,ne.vttjs,ne.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(ne.console&&ne.console.groupCollapsed&&ne.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>Lt.error(i)),ne.console&&ne.console.groupEnd&&ne.console.groupEnd()),r.flush()},Bk=function(t,e){const r={uri:t},n=N0(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),gS(r,ur(this,function(s,a,o){if(s)return Lt.error(s,a);e.loaded_=!0,typeof ne.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Lt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return Rk(o,e)}):Rk(o,e)}))};class rf extends py{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=ar(e,{kind:qZ[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=Ok[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new D0(this.cues_),a=new D0(this.activeCues_);let o=!1;this.timeupdateHandler=ur(this,function(d={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(d){Ok[d]&&n!==d&&(n=d,!this.preload_&&n!=="disabled"&&this.cues.length===0&&Bk(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const d=this.tech_.currentTime(),f=[];for(let c=0,h=this.cues.length;c<h;c++){const p=this.cues[c];p.startTime<=d&&p.endTime>=d&&f.push(p)}if(o=!1,f.length!==this.activeCues_.length)o=!0;else for(let c=0;c<f.length;c++)this.activeCues_.indexOf(f[c])===-1&&(o=!0);return this.activeCues_=f,a.setCues_(this.activeCues_),a},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&Bk(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new ne.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}rf.prototype.allowedEvents_={cuechange:"cuechange"};class Pk extends py{constructor(e={}){const r=ar(e,{kind:VZ[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class Fk extends py{constructor(e={}){const r=ar(e,{kind:zZ[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class ga extends bi{constructor(e={}){super();let r;const n=new rf(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=ga.NONE,n.addEventListener("loadeddata",()=>{r=ga.LOADED,this.trigger({type:"load",target:this})})}}ga.prototype.allowedEvents_={load:"load"},ga.NONE=0,ga.LOADING=1,ga.LOADED=2,ga.ERROR=3;const Oi={audio:{ListClass:$Z,TrackClass:Pk,capitalName:"Audio"},video:{ListClass:jZ,TrackClass:Fk,capitalName:"Video"},text:{ListClass:Mk,TrackClass:rf,capitalName:"Text"}};Object.keys(Oi).forEach(function(t){Oi[t].getterName=`${t}Tracks`,Oi[t].privateName=`${t}Tracks_`});const Lu={remoteText:{ListClass:Mk,TrackClass:rf,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:HZ,TrackClass:ga,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Bn=Object.assign({},Oi,Lu);Lu.names=Object.keys(Lu),Oi.names=Object.keys(Oi),Bn.names=[].concat(Lu.names).concat(Oi.names);function GZ(t,e,r,n,i={}){const s=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const a=new Bn.text.TrackClass(i);return s.addTrack(a),a}class wt extends De{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Bn.names.forEach(n=>{const i=Bn[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Bn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ur(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return ls(0,0)}bufferedPercent(){return Dk(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Oi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const s=n[i];r==="text"&&this.removeRemoteTextTrack(s),n.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Ar(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?ls(0,0):ls()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Oi.names.forEach(e=>{const r=Oi[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!ne.WebVTT)if(qe.body.contains(this.el())){if(!this.options_["vtt.js"]&&Au(xS)&&Object.keys(xS).length>0){this.trigger("vttjsloaded");return}const e=qe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),ne.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=o=>e.addTrack(o.track),i=o=>e.removeTrack(o.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return GZ(this,e,r,n)}createRemoteTextTrack(e){const r=ar(e,{tech:this});return new Lu.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Ni();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return wt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof wt||e instanceof wt||e===wt}static registerTech(e,r){if(wt.techs_||(wt.techs_={}),!wt.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!wt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!wt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=kr(e),wt.techs_[e]=r,wt.techs_[ef(e)]=r,e!=="Tech"&&wt.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(wt.techs_&&wt.techs_[e])return wt.techs_[e];if(e=kr(e),ne&&ne.videojs&&ne.videojs[e])return Lt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),ne.videojs[e]}}}Bn.names.forEach(function(t){const e=Bn[t];wt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),wt.prototype.featuresVolumeControl=!0,wt.prototype.featuresMuteControl=!0,wt.prototype.featuresFullscreenResize=!1,wt.prototype.featuresPlaybackRate=!1,wt.prototype.featuresProgressEvents=!1,wt.prototype.featuresSourceset=!1,wt.prototype.featuresTimeupdateEvents=!1,wt.prototype.featuresNativeTextTracks=!1,wt.prototype.featuresVideoFrameCallback=!1,wt.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let s=0;s<n.length;s++)if(i=n[s].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let s;for(let a=0;a<i.length;a++)if(s=i[a].canHandleSource(r,n),s)return i[a];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:Lt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},De.registerComponent("Tech",wt),wt.registerTech("Tech",wt),wt.defaultTechOrder_=[];const el={},M0={},O0={};function YZ(t,e){el[t]=el[t]||[],el[t].push(e)}function QZ(t,e,r){t.setTimeout(()=>tl(e,el[e.type],r,t),1)}function KZ(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function XZ(t,e,r){return t.reduceRight(by(r),e[r]())}function ZZ(t,e,r,n){return e[r](t.reduce(by(r),n))}function Uk(t,e,r,n=null){const i="call"+kr(r),s=t.reduce(by(i),n),a=s===O0,o=a?null:e[r](s);return tJ(t,r,o,a),o}const JZ={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},eJ={setCurrentTime:1,setMuted:1,setVolume:1},$k={play:1,pause:1};function by(t){return(e,r)=>e===O0?O0:r[t]?r[t](e):e}function tJ(t,e,r,n){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](n,r)}}function rJ(t){M0.hasOwnProperty(t.id())&&delete M0[t.id()]}function nJ(t,e){const r=M0[t.id()];let n=null;if(r==null)return n=e(t),M0[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[s,a]=r[i];s===e&&(n=a)}return n===null&&(n=e(t),r.push([e,n])),n}function tl(t={},e=[],r,n,i=[],s=!1){const[a,...o]=e;if(typeof a=="string")tl(t,el[a],r,n,i,s);else if(a){const l=nJ(n,a);if(!l.setSource)return i.push(l),tl(t,o,r,n,i,s);l.setSource(Object.assign({},t),function(d,f){if(d)return tl(t,o,r,n,i,s);i.push(l),tl(f,t.type===f.type?o:el[f.type],r,n,i,s)})}else o.length?tl(t,o,r,n,i,s):s?r(t,i):tl(t,el["*"],r,n,i,!0)}const iJ={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},L0=function(t=""){const e=gy(t);return iJ[e.toLowerCase()]||""},sJ=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const s=n[i];if(s.type&&s.src&&s.src===e)return s.type}return L0(e)},jk=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=jk(r),Array.isArray(r)?e=e.concat(r):Ls(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[Hk({src:t})]:Ls(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[Hk(t)]:t=[];return t};function Hk(t){if(!t.type){const e=L0(t.src);e&&(t.type=e)}return t}var aJ=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const zk=y0?10009:_0?461:8,Ru={codes:{play:415,pause:19,ff:417,rw:412,back:zk},names:{415:"play",19:"pause",417:"ff",412:"rw",[zk]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},Vk=5;class oJ extends bi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const n=r.key.substring(5).toLowerCase();this.move(n)}else if(Ru.isEventKey(r,"play")||Ru.isEventKey(r,"pause")||Ru.isEventKey(r,"ff")||Ru.isEventKey(r,"rw")){r.preventDefault();const n=Ru.getEventName(r);this.performMediaAction_(n)}else Ru.isEventKey(r,"Back")&&e.target&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+Vk);break;case"rw":this.userSeek_(this.player_.currentTime()-Vk);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);r&&(n=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!n||!r)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function n(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&r.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&n(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){r.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?n(i.children_):i.hasOwnProperty("items")&&i.items.length>0?n(i.items):this.findSuitableDOMChild(i)&&r.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{r.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const d=o.getBoundingClientRect(),f={x:d.x,y:d.y,width:d.width,height:d.height,top:d.top,right:d.right,bottom:d.bottom,left:d.left},c={x:d.left+d.width/2,y:d.top+d.height/2,width:0,height:0,top:d.top+d.height/2,right:d.left+d.width/2,bottom:d.top+d.height/2,left:d.left+d.width/2};return{boundingClientRect:f,center:c}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:d=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let i=0;i<n.children.length;i++){const s=n.children[i],a=r(s);if(a)return a}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const n of this.focusableComponents)if(n.el()===r)return n}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const n=r.getPositions(),i=this.focusableComponents.filter(a=>a!==r&&this.isInDirection_(n.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(n.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,n){let i=1/0,s=null;for(const a of r){const o=a.getPositions().center,l=this.calculateDistance_(e,o,n);l<i&&(i=l,s=a)}return s}isInDirection_(e,r,n){switch(n){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,n){const i=Math.abs(e.x-r.x),s=Math.abs(e.y-r.y);let a;switch(n){case"right":case"left":a=i+s*100;break;case"up":a=s*2+i*.5;break;case"down":a=s*5+i;break;default:a=i+s}return a}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class lJ extends De{constructor(e,r,n){const i=ar({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let s=0,a=r.playerOptions.techOrder;s<a.length;s++){const o=kr(a[s]);let l=wt.getTech(o);if(o||(l=De.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(r.playerOptions.sources)}}De.registerComponent("MediaLoader",lJ);class R0 extends De{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&Lt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=_t(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(_t("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=_t("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,Ka(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}De.registerComponent("ClickableComponent",R0);class yy extends R0{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return _t("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(_t("picture",{className:"vjs-poster",tabIndex:-1},{},_t("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Fs(this.player_.play()):this.player_.pause())}}yy.prototype.crossorigin=yy.prototype.crossOrigin,De.registerComponent("PosterImage",yy);const Li="#222",qk="#ccc",uJ={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function _y(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function nf(t,e,r){try{t.style[e]=r}catch{return}}function Wk(t){return t?`${t}px`:""}class cJ extends De{constructor(e,r,n){super(e,r,n);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(ur(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=ne.screen.orientation||ne,o=ne.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let d=0;d<l.length;d++)this.player_.addRemoteTextTrack(l[d],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,s,a;for(let o=0;o<r.length;o++){const l=r[o];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?a=l:a||(a=l):n&&!n.enabled?(a=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof ne.WebVTT=="function"&&ne.WebVTT.processCues(ne,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let n=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?n=a:i=a)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!ne.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(n-i)>.1&&(n>i?s=Math.round((e-r*i)/2):a=Math.round((r-e/i)/2)),nf(this.el_,"insetInline",Wk(s)),nf(this.el_,"insetBlock",Wk(a))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const s=n[i];if(!s)continue;const a=s.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&nf(a.firstChild,"color",_y(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&nf(a.firstChild,"backgroundColor",_y(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?nf(a,"backgroundColor",_y(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Li}, 2px 2px 4px ${Li}, 2px 2px 5px ${Li}`:r.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Li}, 2px 2px ${Li}, 3px 3px ${Li}`:r.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${qk}, 0 1px ${qk}, -1px -1px ${Li}, 0 -1px ${Li}`:r.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Li}, 0 0 4px ${Li}, 0 0 4px ${Li}, 0 0 4px ${Li}`)),r.fontPercent&&r.fontPercent!==1){const o=ne.parseFloat(a.style.fontSize);a.style.fontSize=o*r.fontPercent+"px",a.style.height="auto",a.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=uJ[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof ne.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s)r.push(i.activeCues[s])}ne.WebVTT.processCues(ne,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;Xo(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&ku(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}De.registerComponent("TextTrackDisplay",cJ);class dJ extends De{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=_t("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}De.registerComponent("LoadingSpinner",dJ);class Tn extends R0{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=_t(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(_t("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return Lt.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),De.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}De.registerComponent("Button",Tn);class Gk extends Tn{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Fs(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();tf(r)?r.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}Gk.prototype.controlText_="Play Video",De.registerComponent("BigPlayButton",Gk);class fJ extends Tn{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}De.registerComponent("CloseButton",fJ);class Yk extends Tn{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Fs(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}Yk.prototype.controlText_="Play",De.registerComponent("PlayToggle",Yk);class Bu extends De{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=_t("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return r.appendChild(n),this.contentEl_=_t("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Jo(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,Lt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=qe.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Bu.prototype.labelText_="Time",Bu.prototype.controlText_="Time",De.registerComponent("TimeDisplay",Bu);class vy extends Bu{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}vy.prototype.labelText_="Current Time",vy.prototype.controlText_="Current Time",De.registerComponent("CurrentTimeDisplay",vy);class Ty extends Bu{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}Ty.prototype.labelText_="Duration",Ty.prototype.controlText_="Duration",De.registerComponent("DurationDisplay",Ty);class hJ extends De{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}De.registerComponent("TimeDivider",hJ);class Ey extends Bu{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(_t("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}Ey.prototype.labelText_="Remaining Time",Ey.prototype.controlText_="Remaining Time",De.registerComponent("RemainingTimeDisplay",Ey);class pJ extends De{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=_t("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(_t("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(qe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}De.registerComponent("LiveDisplay",pJ);class Qk extends Tn{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=_t("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}Qk.prototype.controlText_="Seek to live, currently playing live",De.registerComponent("SeekToLive",Qk);function sf(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var mJ=Object.freeze({__proto__:null,clamp:sf});class Ay extends De{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Bs&&e.preventDefault(),uk(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;ck(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(sf(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=A0(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,n=r&&r.enabled,i=r&&r.horizontalSeek;n?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}De.registerComponent("Slider",Ay);const xy=(t,e)=>sf(t/e*100,0,100).toFixed(2)+"%";class gJ extends De{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=_t("span",{className:"vjs-control-text"}),n=_t("span",{textContent:this.localize("Loaded")}),i=qe.createTextNode(": ");return this.percentageEl_=_t("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=xy(s,i);this.percent_!==o&&(this.el_.style.width=o,Ka(this.percentageEl_,o),this.percent_=o);for(let l=0;l<n.length;l++){const d=n.start(l),f=n.end(l);let c=a[l];c||(c=this.el_.appendChild(_t()),a[l]=c),!(c.dataset.start===d&&c.dataset.end===f)&&(c.dataset.start=d,c.dataset.end=f,c.style.left=xy(d,s),c.style.width=xy(f-d,s))}for(let l=a.length;l>n.length;l--)this.el_.removeChild(a[l-1]);a.length=n.length})}}De.registerComponent("LoadProgressBar",gJ);class bJ extends De{constructor(e,r){super(e,r),this.update=Ps(ur(this,this.update),Mi)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=Xd(this.el_),s=Iu(this.player_.el()),a=e.width*r;if(!s||!i)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let d=i.width/2;o<d?d+=d-o:l<d&&(d=l),d<0?d=0:d>i.width&&(d=i.width),d=Math.round(d),this.el_.style.right=`-${d}px`,this.write(n)}write(e){Ka(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-r*o;s=(l<1?"":"-")+Jo(l,o)}else s=Jo(n,a);this.update(e,r,s),i&&i()})}}De.registerComponent("TimeTooltip",bJ);class Cy extends De{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=Ps(ur(this,this.update),Mi)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}Cy.prototype.options_={children:[]},!Ln&&!Rs&&Cy.prototype.options_.children.push("timeTooltip"),De.registerComponent("PlayProgressBar",Cy);class Kk extends De{constructor(e,r){super(e,r),this.update=Ps(ur(this,this.update),Mi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}Kk.prototype.options_={children:["timeTooltip"]},De.registerComponent("MouseTimeDisplay",Kk);const B0=5,Xk=12;class wy extends Ay{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=ur(this,this.update),this.update=Ps(this.update_,Mi),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in qe&&"visibilityState"in qe&&this.on(qe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){qe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Mi))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(qe.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Jo(n,s),Jo(s,s)],"{1} of {2}")),this.currentTime_=n,this.duration_=s),this.bar&&this.bar.update(Iu(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){Zd(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!Zd(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(n=a+i*s.liveWindow(),n>=o&&(n=o),n<=a&&(n=a+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Fs(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+B0)}stepBack(){this.userSeek_(this.player_.currentTime()-B0)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-B0*Xk)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+B0*Xk)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in qe&&"visibilityState"in qe&&this.off(qe,"visibilitychange",this.toggleVisibility_),super.dispose()}}wy.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!Ln&&!Rs&&wy.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),De.registerComponent("SeekBar",wy);class Zk extends De{constructor(e,r){super(e,r),this.handleMouseMove=Ps(ur(this,this.handleMouseMove),Mi),this.throttledHandleMouseSeek=Ps(ur(this,this.handleMouseSeek),Mi),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const s=r.el(),a=Xd(s);let o=A0(s,e).x;o=sf(o,0,1),i&&i.update(a,o),n&&n.update(a,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Fs(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Zk.prototype.options_={children:["seekBar"]},De.registerComponent("ProgressControl",Zk);class Jk extends Tn{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){qe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in ne?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof qe.exitPictureInPicture=="function"&&super.show()}}Jk.prototype.controlText_="Picture-in-Picture",De.registerComponent("PictureInPictureToggle",Jk);class eI extends Tn{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),qe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}eI.prototype.controlText_="Fullscreen",De.registerComponent("FullscreenToggle",eI);const yJ=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class _J extends De{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}De.registerComponent("VolumeLevel",_J);class vJ extends De{constructor(e,r){super(e,r),this.update=Ps(ur(this,this.update),Mi)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const s=Iu(this.el_),a=Iu(this.player_.el()),o=e.width*r;if(!a||!s)return;const l=e.left-a.left+o,d=e.width-o+(a.right-e.right);let f=s.width/2;l<f?f+=f-l:d<f&&(f=d),f<0?f=0:f>s.width&&(f=s.width),this.el_.style.right=`-${f}px`}this.write(`${i}%`)}write(e){Ka(this.el_,e)}updateVolume(e,r,n,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),s&&s()})}}De.registerComponent("VolumeLevelTooltip",vJ);class tI extends De{constructor(e,r){super(e,r),this.update=Ps(ur(this,this.update),Mi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}tI.prototype.options_={children:["volumeLevelTooltip"]},De.registerComponent("MouseVolumeLevelDisplay",tI);class P0 extends Ay{constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Zd(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=Iu(n),s=this.vertical();let a=A0(n,e);a=s?a.y:a.x,a=sf(a,0,1),r.update(i,a,s)}Zd(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}P0.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!Ln&&!Rs&&P0.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),P0.prototype.playerEvent="volumechange",De.registerComponent("VolumeBar",P0);class rI extends De{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Au(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),yJ(this,e),this.throttledHandleMouseMove=Ps(ur(this,this.handleMouseMove),Mi),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}rI.prototype.options_={children:["volumeBar"]},De.registerComponent("VolumeControl",rI);const TJ=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class nI extends Tn{constructor(e,r){super(e,r),TJ(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),Ln&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),T0(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),Xo(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}nI.prototype.controlText_="Mute",De.registerComponent("MuteToggle",nI);class iI extends De{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Au(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),gi(qe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),vn(qe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}iI.prototype.options_={children:["muteToggle","volumeControl"]},De.registerComponent("VolumePanel",iI);class sI extends Tn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let s;r+this.skipTime<=i?s=r+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}sI.prototype.controlText_="Skip Forward",De.registerComponent("SkipForward",sI);class aI extends Tn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let s;i&&r-this.skipTime<=i?s=i:r>=this.skipTime?s=r-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}aI.prototype.controlText_="Skip Backward",De.registerComponent("SkipBackward",aI);class oI extends De{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof De&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof De&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=_t(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),gi(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||qe.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}De.registerComponent("Menu",oI);class Sy extends De{constructor(e,r={}){super(e,r),this.menuButton_=new Tn(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=Tn.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),gi(qe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new oI(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=_t("li",{className:"vjs-menu-title",textContent:kr(this.options_.title),tabIndex:-1}),n=new De(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Tn.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),vn(qe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ln&&ik())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}De.registerComponent("MenuButton",Sy);class ky extends Sy{constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=ur(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}De.registerComponent("TrackButton",ky);class af extends R0{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),s=_t("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}De.registerComponent("MenuItem",af);class of extends af{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof ne.Event!="object")try{o=new ne.Event("change")}catch{}o||(o=qe.createEvent("Event"),o.initEvent("change",!0,!0)),i.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const s=n[i];this.kinds.indexOf(s.kind)!==-1&&(s===r?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}De.registerComponent("TextTrackMenuItem",of);class lI extends of{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const a=r[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const a=r[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}De.registerComponent("OffTextTrackMenuItem",lI);class Pu extends ky{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=of){let n;this.label_&&(n=`${this.label_} off`),e.push(new lI(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new r(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}De.registerComponent("TextTrackButton",Pu);class uI extends af{constructor(e,r){const n=r.track,i=r.cue,s=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=s&&s<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}De.registerComponent("ChaptersTrackMenuItem",uI);class Iy extends Pu{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(kr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const s=r[n],a=new uI(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}Iy.prototype.kind_="chapters",Iy.prototype.controlText_="Chapters",De.registerComponent("ChaptersButton",Iy);class Dy extends Pu{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),s=ur(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,s=r.length;i<s;i++){const a=r[i];if(a.kind!==this.kind_&&a.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Dy.prototype.kind_="descriptions",Dy.prototype.controlText_="Descriptions",De.registerComponent("DescriptionsButton",Dy);class Ny extends Pu{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Ny.prototype.kind_="subtitles",Ny.prototype.controlText_="Subtitles",De.registerComponent("SubtitlesButton",Ny);class My extends of{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}De.registerComponent("CaptionSettingsMenuItem",My);class Oy extends Pu{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new My(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Oy.prototype.kind_="captions",Oy.prototype.controlText_="Captions",De.registerComponent("CaptionsButton",Oy);class cI extends of{createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(_t("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(_t("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}De.registerComponent("SubsCapsMenuItem",cI);class Ly extends Pu{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(kr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new My(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,cI),e}}Ly.prototype.kinds_=["captions","subtitles"],Ly.prototype.controlText_="Subtitles",De.registerComponent("SubsCapsButton",Ly);class dI extends af{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(_t("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(_t("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}De.registerComponent("AudioTrackMenuItem",dI);class fI extends ky{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new dI(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}fI.prototype.controlText_="Audio Track",De.registerComponent("AudioTrackButton",fI);class Ry extends af{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Ry.prototype.contentElType="button",De.registerComponent("PlaybackRateMenuItem",Ry);class hI extends Sy{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=_t("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new Ry(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}hI.prototype.controlText_="Playback Rate",De.registerComponent("PlaybackRateMenuButton",hI);class pI extends De{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}De.registerComponent("Spacer",pI);class EJ extends pI{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}De.registerComponent("CustomControlSpacer",EJ);class mI extends De{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}mI.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},De.registerComponent("ControlBar",mI);class gI extends Mu{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}gI.prototype.options_=Object.assign({},Mu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),De.registerComponent("ErrorDisplay",gI);class bI extends De{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),_t("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Ni()}`)+"-"+r[1].replace(/\W+/g,""),i=_t("option",{id:n,value:this.localize(r[0]),textContent:r[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),i}))}}De.registerComponent("TextTrackSelect",bI);class rl extends De{constructor(e,r={}){super(e,r);const n=_t("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const s of i){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let d=null;const f=`vjs_select_${Ni()}`;if(this.options_.type==="colors"){d=_t("span",{className:o});const h=_t("label",{id:l,className:"vjs-label",textContent:a.label});h.setAttribute("for",f),d.appendChild(h)}const c=new bI(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:f,labelId:l});this.addChild(c),this.options_.type==="colors"&&(d.appendChild(c.el()),this.el().appendChild(d))}}createEl(){return _t("fieldset",{className:this.options_.className})}}De.registerComponent("TextTrackFieldset",rl);class yI extends De{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new rl(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new rl(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new rl(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return _t("div",{className:"vjs-track-settings-colors"})}}De.registerComponent("TextTrackSettingsColors",yI);class _I extends De{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new rl(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new rl(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new rl(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return _t("div",{className:"vjs-track-settings-font"})}}De.registerComponent("TextTrackSettingsFont",_I);class vI extends De{constructor(e,r={}){super(e,r);const n=this.localize("restore all settings to the default values"),i=new Tn(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new Tn(e,{controlText:n,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return _t("div",{className:"vjs-track-settings-controls"})}}De.registerComponent("TrackSettingsControls",vI);const By="vjs-text-track-settings",TI=["#000","Black"],EI=["#00F","Blue"],AI=["#0FF","Cyan"],xI=["#0F0","Green"],CI=["#F0F","Magenta"],wI=["#F00","Red"],SI=["#FFF","White"],kI=["#FF0","Yellow"],Py=["1","Opaque"],Fy=["0.5","Semi-Transparent"],II=["0","Transparent"],Ja={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[TI,SI,wI,xI,EI,kI,CI,AI],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Py,Fy,II],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[SI,TI,wI,xI,EI,kI,CI,AI],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Py,Fy],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[II,Fy,Py],className:"vjs-window-opacity vjs-opacity"}};Ja.windowColor.options=Ja.backgroundColor.options;function DI(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function AJ(t,e){const r=t.options[t.options.selectedIndex].value;return DI(r,e)}function xJ(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if(DI(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class CJ extends Mu{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=_t("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new yI(e,{textTrackComponentid:this.id_,selectConfigs:Ja,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const n=new _I(e,{textTrackComponentid:this.id_,selectConfigs:Ja,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new vI(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Eu(Ja,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return K4(Ja,(e,r,n)=>{const i=AJ(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){Eu(Ja,(r,n)=>{xJ(this.$(r.selector),e[n],r.parser)})}setDefaults(){Eu(Ja,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(ne.localStorage.getItem(By))}catch(r){Lt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?ne.localStorage.setItem(By,JSON.stringify(e)):ne.localStorage.removeItem(By)}catch(r){Lt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}De.registerComponent("TextTrackSettings",CJ);class wJ extends De{constructor(e,r){let n=r.ResizeObserver||ne.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=ar({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||ne.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Tk(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){vn(this,"resize",s),vn(this,"unload",a),a=null};gi(this.el_.contentWindow,"unload",a),gi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}De.registerComponent("ResizeManager",wJ);const SJ={trackingThreshold:20,liveTolerance:15};class kJ extends De{constructor(e,r){const n=ar(SJ,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(ne.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Mi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}De.registerComponent("LiveTracker",kJ);class IJ extends De{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:_t("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Ni()}`}),description:_t("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Ni()}`})},_t("div",{className:"vjs-title-bar"},{},X4(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],o=n[i];x0(a),s&&Ka(a,s),r&&(r.removeAttribute(o),s&&r.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}De.registerComponent("TitleBar",IJ);const DJ={initialDisplay:4e3,position:[],takeFocus:!1};class NJ extends Tn{constructor(e,r){r=ar(DJ,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],n=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=_t("button",{},{type:"button",class:this.buildCSSClass()},_t("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}De.registerComponent("TransientButton",NJ);const Uy=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let s=0;s<r.length;s++){const a=r[s].src;a&&n.indexOf(a)===-1&&n.push(a)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},MJ=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=qe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=qe.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",ne.Element.prototype.appendChild.call(this,r),this.innerHTML}}),NI=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},OJ=t=>NI([t.el(),ne.HTMLMediaElement.prototype,ne.Element.prototype,MJ],"innerHTML"),MI=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=OJ(t),i=s=>(...a)=>{const o=s.apply(e,a);return Uy(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(r[s]=e[s],e[s]=i(r[s]))}),Object.defineProperty(e,"innerHTML",ar(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(s=>{e[s]=r[s]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},LJ=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Lk(ne.Element.prototype.getAttribute.call(this,"src")):""},set(t){return ne.Element.prototype.setAttribute.call(this,"src",t),t}}),RJ=t=>NI([t.el(),ne.HTMLMediaElement.prototype,LJ],"src"),BJ=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=RJ(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",ar(r,{set:s=>{const a=r.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=n.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=i.call(e);return Uy(t)||(t.triggerSourceset(""),MI(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):Uy(t)||MI(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class et extends wt{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&N0(l.src)&&(i=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&Lt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Qd||b0)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),et.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){BJ(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&r.push({track:a,storedMode:a.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let s=0;s<r.length;s++){const a=r[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=Oi[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const s={change:o=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[Lu.remoteText.getterName]().trigger(l)},addtrack(o){i.addTrack(o.track)},removetrack(o){i.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<i.length;l++){let d=!1;for(let f=0;f<n.length;f++)if(n[f]===i[l]){d=!0;break}d||o.push(i[l])}for(;o.length;)i.removeTrack(o.shift())};this[r.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];n.addEventListener(o,l),this.on("dispose",d=>n.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Oi.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),et.disposeMediaElement(e),e=n}else{e=qe.createElement("video");const n=this.options_.tag&&Xa(this.options_.tag),i=ar({},n);(!Qd||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,ok(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&ku(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],s=this.options_[i];typeof s<"u"&&(s?ku(e,i,i):E0(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const s=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&v0?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){Lt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Rs&&Bs&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Fs(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){et.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=qe.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ne.performance&&(e.creationTime=ne.performance.now()),e}}f0(et,"TEST_VID",function(){if(!wu())return;const t=qe.createElement("video"),e=qe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}),et.isSupported=function(){try{et.TEST_VID.volume=.5}catch{return!1}return!!(et.TEST_VID&&et.TEST_VID.canPlayType)},et.canPlayType=function(t){return et.TEST_VID.canPlayType(t)},et.canPlaySource=function(t,e){return et.canPlayType(t.type)},et.canControlVolume=function(){try{const t=et.TEST_VID.volume;et.TEST_VID.volume=t/2+.1;const e=t!==et.TEST_VID.volume;return e&&Ln?(ne.setTimeout(()=>{et&&et.prototype&&(et.prototype.featuresVolumeControl=t!==et.TEST_VID.volume)}),!1):e}catch{return!1}},et.canMuteVolume=function(){try{const t=et.TEST_VID.muted;return et.TEST_VID.muted=!t,et.TEST_VID.muted?ku(et.TEST_VID,"muted","muted"):E0(et.TEST_VID,"muted","muted"),t!==et.TEST_VID.muted}catch{return!1}},et.canControlPlaybackRate=function(){if(Rs&&Bs&&h0<58)return!1;try{const t=et.TEST_VID.playbackRate;return et.TEST_VID.playbackRate=t/2+.1,t!==et.TEST_VID.playbackRate}catch{return!1}},et.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(qe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(qe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(qe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(qe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},et.supportsNativeTextTracks=function(){return v0||Ln&&Bs},et.supportsNativeVideoTracks=function(){return!!(et.TEST_VID&&et.TEST_VID.videoTracks)},et.supportsNativeAudioTracks=function(){return!!(et.TEST_VID&&et.TEST_VID.audioTracks)},et.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){f0(et.prototype,t,()=>et[e](),!0)}),et.prototype.featuresVolumeControl=et.canControlVolume(),et.prototype.movingMediaElementInDOM=!Ln,et.prototype.featuresFullscreenResize=!0,et.prototype.featuresProgressEvents=!0,et.prototype.featuresTimeupdateEvents=!0,et.prototype.featuresVideoFrameCallback=!!(et.TEST_VID&&et.TEST_VID.requestVideoFrameCallback),et.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}},et.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){et.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){et.prototype["set"+kr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){et.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){et.prototype["set"+kr(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){et.prototype[t]=function(){return this.el_[t]()}}),wt.withSourceHandlers(et),et.nativeSourceHandler={},et.nativeSourceHandler.canPlayType=function(t){try{return et.TEST_VID.canPlayType(t)}catch{return""}},et.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return et.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=gy(t.src);return et.nativeSourceHandler.canPlayType(`video/${r}`)}return""},et.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)},et.nativeSourceHandler.dispose=function(){},et.registerSourceHandler(et.nativeSourceHandler),wt.registerTech("Html5",et);const OI=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],$y={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},jy=["tiny","xsmall","small","medium","large","xlarge","huge"],F0={};jy.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;F0[t]=`vjs-layout-${e}`});const PJ={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class pr extends De{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${Ni()}`,r=Object.assign(pr.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const a=e.closest("[lang]");a&&(r.language=a.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=Y4(this.id_),this.fsApi_=c0,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Xa(e),this.language(this.options_.language),r.languages){const a={};Object.getOwnPropertyNames(r.languages).forEach(function(o){a[o.toLowerCase()]=r.languages[o]}),this.languages_=a}else this.languages_=pr.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),oy(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(gi(qe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=ar(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(a=>{this[a](r.plugins[a])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const o=new ne.DOMParser().parseFromString(aJ,"image/svg+xml");if(o.querySelector("parsererror"))Lt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const d=o.documentElement;d.style.display="none",this.el_.appendChild(d),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new oJ(this),this.addClass("vjs-spatial-navigation-enabled")),Qd&&this.addClass("vjs-touch-enabled"),Ln||this.addClass("vjs-workinghover"),pr.players[this.id_]=this;const s=G2.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),vn(qe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),vn(qe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),pr.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),rJ(this),Bn.names.forEach(e=>{const r=Bn[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const s=Xa(e);if(i){for(r=this.el_=e,e=this.tag=qe.createElement("video");r.children.length;)e.appendChild(r.firstChild);Kd(r,"video-js")||Xo(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",Bs&&m0&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||r.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>rk[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),ne.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=yk("vjs-styles-dimensions");const l=Za(".vjs-styles-defaults"),d=Za("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const d=o.item(l);Xo(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),Z2(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Lt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){Lt.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,ma(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),LZ(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(ne.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(o>=0&&(d.width=o),l>=0&&(d.height=l));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const s=n.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),_k(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=kr(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(wt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:r,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Bn.names.forEach(l=>{const d=Bn[l];a[d.getterName]=this[d.privateName]}),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=wt.getTech(e);if(!o)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(ur(this,this.handleTechReady_),!0),Nk.jsonToTextTracks(this.textTracksJson_||[],this.tech_),OI.forEach(l=>{this.on(this.tech_,l,d=>this[`handleTech${kr(l)}_`](d))}),Object.keys($y).forEach(l=>{this.on(this.tech_,l,d=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${$y[l]}_`].bind(this),event:d});return}this[`handleTech${$y[l]}_`](d)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,d)=>this.handleTechFullscreenChange_(l,d)),this.on(this.tech_,"fullscreenerror",(l,d)=>this.handleTechFullscreenError_(l,d)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&Z2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Bn.names.forEach(e=>{const r=Bn[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=Nk.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Lt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":G2}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(tf(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),tf(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!tf(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=sJ(this,r)),this.cache_.source=ar({},e,{src:r,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===r),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const d=Xa(a[l]);s.push(d),d.src&&d.src===r&&o.push(d.src)}o.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=s=>this.updateSourceCaches_(s);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Fs(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=qe[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in eJ)return ZZ(this.middleware_,this.tech_,e,r);if(e in $k)return Uk(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw Lt(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in JZ)return XZ(this.middleware_,this.tech_,e);if(e in $k)return Uk(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(Lt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(Lt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(Lt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Fs){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(v0||Ln);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||ls(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=ls(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=ls(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Dk(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function s(){r.off("fullscreenerror",o),r.off("fullscreenchange",a)}function a(){s(),n()}function o(d,f){s(),i(f)}r.one("fullscreenchange",a),r.one("fullscreenerror",o);const l=r.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),r()}function a(l,d){i(),n(d)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=qe[this.fsApi_.exitFullscreen]();return e&&Fs(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=qe.documentElement.style.overflow,gi(qe,"keydown",this.boundFullWindowOnEscKey_),qe.documentElement.style.overflow="hidden",Xo(qe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,vn(qe,"keydown",this.boundFullWindowOnEscKey_),qe.documentElement.style.overflow=this.docOrigOverflow,T0(qe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&ne.documentPictureInPicture){const e=qe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(_t("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),ne.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(mk(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in qe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(ne.documentPictureInPicture&&ne.documentPictureInPicture.window)return ne.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in qe)return qe.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=a=>e.key.toLowerCase()==="f",muteKey:i=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const a=De.getComponent("FullscreenToggle");qe[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),De.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),De.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const s=i[n];let a=wt.getTech(s);if(a||(a=De.getComponent(s)),!a){Lt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(r=a.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(o=>[o,wt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(Lt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(o,l,d){let f;return o.some(c=>l.some(h=>{if(f=d(c,h),f)return!0})),f};let i;const s=o=>(l,d)=>o(d,l),a=([o,l],d)=>{if(l.canPlaySource(d,this.options_[o.toLowerCase()]))return{source:d,tech:o}};return this.options_.sourceOrder?i=n(e,r,s(a)):i=n(r,e,a),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=jk(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),QZ(this,n[0],(i,s)=>{if(this.middleware_=s,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}KZ(s,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?Ck(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Fs(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),ma(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Ya("beforeerror").forEach(r=>{const n=r(this,e);if(!(Ls(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Ar(e),this.addClass("vjs-error"),Lt.error(`(CODE:${this.error_.code} ${Ar.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Ya("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=ur(this,this.reportUserActivity),s=function(c){(c.screenX!==r||c.screenY!==n)&&(r=c.screenX,n=c.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(c){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Ln&&!Rs&&(l.on("mouseenter",function(c){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(c){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let d;const f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);const c=this.options_.inactivityTimeout;c<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},c))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ma(this)&&this.trigger("languagechange"))}languages(){return ar(pr.prototype.options_.languages,this.languages_)}toJSON(){const e=ar(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=ar(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new Mu(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<jy.length;n++){const i=jy[n],s=this.breakpoints_[i];if(r<=s){if(e===i)return;e&&this.removeClass(F0[e]),this.addClass(F0[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},PJ,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return F0[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=ar(e);const{artist:i,artwork:s,description:a,poster:o,src:l,textTracks:d,title:f}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:L0(o)}]),n&&this.crossOrigin(n),l&&this.src(l),o&&this.poster(o),Array.isArray(d)&&d.forEach(c=>this.addRemoteTextTrack(c,!1)),this.titleBar&&this.titleBar.update({title:f,description:a||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:L0(i.poster)}]),i}return ar(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=Xa(e),i=n["data-setup"];if(Kd(e,"vjs-fill")&&(n.fill=!0),Kd(e,"vjs-fluid")&&(n.fluid=!0),i!==null){const[s,a]=pQ(i||"{}");s&&Lt.error(s),Object.assign(n,a)}if(Object.assign(r,n),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],d=l.nodeName.toLowerCase();d==="source"?r.sources.push(Xa(l)):d==="track"&&r.tracks.push(Xa(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Bn.names.forEach(function(t){const e=Bn[t];pr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),pr.prototype.crossorigin=pr.prototype.crossOrigin,pr.players={};const lf=ne.navigator;pr.prototype.options_={techOrder:wt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:lf&&(lf.languages&&lf.languages[0]||lf.userLanguage||lf.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1},OI.forEach(function(t){pr.prototype[`handleTech${kr(t)}_`]=function(){return this.trigger(t)}}),De.registerComponent("Player",pr);const U0="plugin",Fu="activePlugins_",Uu={},$0=t=>Uu.hasOwnProperty(t),j0=t=>$0(t)?Uu[t]:void 0,LI=(t,e)=>{t[Fu]=t[Fu]||{},t[Fu][e]=!0},H0=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},FJ=function(t,e){const r=function(){H0(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return LI(this,t),H0(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},RI=(t,e)=>(e.prototype.name=t,function(...r){H0(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,H0(this,n.getEventHash()),n});class ri{constructor(e){if(this.constructor===ri)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),oy(this),delete this.trigger,xk(this,this.constructor.defaultState),LI(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return Nu(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Fu][e]=!1,this.player=this.state=null,r[e]=RI(e,Uu[e])}static isBasic(e){const r=typeof e=="string"?j0(e):e;return typeof r=="function"&&!ri.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if($0(e))Lt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(pr.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return Uu[e]=r,e!==U0&&(ri.isBasic(r)?pr.prototype[e]=FJ(e,r):pr.prototype[e]=RI(e,r)),r}static deregisterPlugin(e){if(e===U0)throw new Error("Cannot de-register base plugin.");$0(e)&&(delete Uu[e],delete pr.prototype[e])}static getPlugins(e=Object.keys(Uu)){let r;return e.forEach(n=>{const i=j0(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=j0(e);return r&&r.VERSION||""}}ri.getPlugin=j0,ri.BASE_PLUGIN_NAME=U0,ri.registerPlugin(U0,ri),pr.prototype.usingPlugin=function(t){return!!this[Fu]&&this[Fu][t]===!0},pr.prototype.hasPlugin=function(t){return!!$0(t)};function UJ(t,e){let r=!1;return function(...n){return r||Lt.warn(t),r=!0,e.apply(this,n)}}function us(t,e,r,n){return UJ(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}var $J={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const BI=t=>t.indexOf("#")===0?t.slice(1):t;function Ee(t,e,r){let n=Ee.getPlayer(t);if(n)return e&&Lt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?Za("#"+BI(t)):t;if(!Su(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in i?i.getRootNode()instanceof ne.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!a.contains(i))&&Lt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Ya("beforesetup").forEach(l=>{const d=l(i,ar(e));if(!Ls(d)||Array.isArray(d)){Lt.error("please return an object in beforesetup hooks");return}e=ar(e,d)});const o=De.getComponent("Player");return n=new o(i,e,r),Ya("setup").forEach(l=>l(n)),n}if(Ee.hooks_=pa,Ee.hooks=Ya,Ee.hook=TZ,Ee.hookOnce=EZ,Ee.removeHook=W4,ne.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&wu()){let t=Za(".vjs-styles-defaults");if(!t){t=yk("vjs-styles-defaults");const e=Za("head");e&&e.insertBefore(t,e.firstChild),_k(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}ty(1,Ee),Ee.VERSION=G2,Ee.options=pr.prototype.options_,Ee.getPlayers=()=>pr.players,Ee.getPlayer=t=>{const e=pr.players;let r;if(typeof t=="string"){const n=BI(t),i=e[n];if(i)return i;r=Za("#"+n)}else r=t;if(Su(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}},Ee.getAllPlayers=()=>Object.keys(pr.players).map(t=>pr.players[t]).filter(Boolean),Ee.players=pr.players,Ee.getComponent=De.getComponent,Ee.registerComponent=(t,e)=>(wt.isTech(e)&&Lt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),De.registerComponent.call(De,t,e)),Ee.getTech=wt.getTech,Ee.registerTech=wt.registerTech,Ee.use=YZ,Object.defineProperty(Ee,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ee.middleware,"TERMINATOR",{value:O0,writeable:!1,enumerable:!0}),Ee.browser=rk,Ee.obj=CZ,Ee.mergeOptions=us(9,"videojs.mergeOptions","videojs.obj.merge",ar),Ee.defineLazyProperty=us(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",f0),Ee.bind=us(9,"videojs.bind","native Function.prototype.bind",ur),Ee.registerPlugin=ri.registerPlugin,Ee.deregisterPlugin=ri.deregisterPlugin,Ee.plugin=(t,e)=>(Lt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ri.registerPlugin(t,e)),Ee.getPlugins=ri.getPlugins,Ee.getPlugin=ri.getPlugin,Ee.getPluginVersion=ri.getPluginVersion,Ee.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Ee.options.languages=ar(Ee.options.languages,{[t]:e}),Ee.options.languages[t]},Ee.log=Lt,Ee.createLogger=Y4,Ee.time=UZ,Ee.createTimeRange=us(9,"videojs.createTimeRange","videojs.time.createTimeRanges",ls),Ee.createTimeRanges=us(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",ls),Ee.formatTime=us(9,"videojs.formatTime","videojs.time.formatTime",Jo),Ee.setFormatTime=us(9,"videojs.setFormatTime","videojs.time.setFormatTime",kk),Ee.resetFormatTime=us(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Ik),Ee.parseUrl=us(9,"videojs.parseUrl","videojs.url.parseUrl",my),Ee.isCrossOrigin=us(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",N0),Ee.EventTarget=bi,Ee.any=iy,Ee.on=gi,Ee.one=S0,Ee.off=vn,Ee.trigger=Nu,Ee.xhr=gS,Ee.TextTrack=rf,Ee.AudioTrack=Pk,Ee.VideoTrack=Fk,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Ee[t]=function(){return Lt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),gk[t].apply(null,arguments)}}),Ee.computedStyle=us(9,"videojs.computedStyle","videojs.dom.computedStyle",Du),Ee.dom=gk,Ee.fn=OZ,Ee.num=mJ,Ee.str=PZ,Ee.url=WZ,Ee.Error=$J;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class jJ{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class z0 extends Ee.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new jJ(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}z0.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in z0.prototype.allowedEvents_)z0.prototype["on"+t]=null;var PI="4.1.0";const HJ=function(t,e){const r=t.qualityLevels,n=new z0,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=PI,n},FI=function(t){return HJ(this,Ee.obj.merge({},t))};Ee.registerPlugin("qualityLevels",FI),FI.VERSION=PI;/*! @name @videojs/http-streaming @version 3.13.2 @license Apache-2.0 */const ni=Yp,V0=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Ri=t=>Ee.log.debug?Ee.log.debug.bind(Ee,"VHS:",`${t} >`):function(){};function Kt(...t){const e=Ee.obj||Ee;return(e.merge||e.mergeOptions).apply(e,t)}function fn(...t){const e=Ee.time||Ee;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function zJ(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const n=t.start(r),i=t.end(r);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const Us=1/30,$s=Us*3,UI=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return fn(r)},$u=function(t,e){return UI(t,function(r,n){return r-$s<=e&&n+$s>=e})},q0=function(t,e){return UI(t,function(r){return r-Us>=e})},VJ=function(t){if(t.length<2)return fn();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return fn(e)},qJ=function(t,e){let r=null,n=null,i=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return fn();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,d){return l.time-d.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(r=s[o].time)):s[o].type==="end"&&(i--,i===1&&(n=s[o].time)),r!==null&&n!==null&&(a.push([r,n]),r=null,n=null);return fn(a)},$I=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},WJ=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},nl=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},GJ=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},Hy=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},zy=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),s=t.end(n);if(!(e>s)){if(e>i&&e<=s){r+=s-e;continue}r+=s-i}}return r},Vy=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},qy=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:n,partIndex:s,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),jI=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},HI=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},zI=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=jI(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},YJ=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=Vy(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},QJ=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=Vy(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},VI=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=YJ(t,e);if(n.precise)return n.result;const i=QJ(t,e);return i.precise?i.result:n.result+r},qI=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return ne.Infinity}return VI(t,e,r)},uf=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let s=r;s<Math.min(0,n);s++)i+=t;r=0}for(let s=r;s<n;s++)i+=e[s].duration;return i},WI=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return qI(t);if(e===null)return null;e=e||0;let i=VI(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:zI(null,t),i-=n),Math.max(0,i)},KJ=function(t,e,r){const i=e||0;let s=WI(t,e,!0,r);return s===null?fn():(s<i&&(s=i),fn(i,s))},XJ=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:s}){let a=e-i;const o=qy(t);let l=0;for(let d=0;d<o.length;d++){const f=o[d];if(r===f.segmentIndex&&!(typeof n=="number"&&typeof f.partIndex=="number"&&n!==f.partIndex)){l=d;break}}if(a<0){if(l>0)for(let d=l-1;d>=0;d--){const f=o[d];if(a+=f.duration,s){if(a<0)continue}else if(a+Us<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i-uf({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:d})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let d=l;d<0;d++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let d=l;d<o.length;d++){const f=o[d];a-=f.duration;const c=f.duration>Us,h=a===0,p=c&&a+Us>=0;if(!((h||p)&&d!==o.length-1)){if(s){if(a>0)continue}else if(a-Us>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i+uf({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:d})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},GI=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Wy=function(t){return t.excludeUntil&&t.excludeUntil===1/0},W0=function(t){const e=GI(t);return!t.disabled&&!e},ZJ=function(t){return t.disabled},JJ=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},YI=function(t,e){return e.attributes&&e.attributes[t]},eee=function(t,e,r,n=0){return YI("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},Gy=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>W0(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},Yy=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),QI=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const s in r[i])if(n=e(r[i][s]),n)break;if(n)break}return!!n},cf=t=>{if(!t||!t.playlists||!t.playlists.length)return QI(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(s=>DS(s))||QI(t,s=>Yy(r,s))))return!1}return!0};var ii={liveEdgeDelay:zI,duration:qI,seekable:KJ,getMediaInfoForTime:XJ,isEnabled:W0,isDisabled:ZJ,isExcluded:GI,isIncompatible:Wy,playlistEnd:WI,isAes:JJ,hasAttribute:YI,estimateSegmentRequestTime:eee,isLowestEnabledRendition:Gy,isAudioOnly:cf,playlistMatch:Yy,segmentDurationWithParts:Vy};const{log:KI}=Ee,ju=(t,e)=>`${t}-${e}`,XI=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,tee=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:s})=>{const a=new yK;t&&a.on("warn",t),e&&a.on("info",e),n.forEach(d=>a.addParser(d)),i.forEach(d=>a.addTagMapper(d)),a.push(r),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(d){o.hasOwnProperty(d)&&delete o[d]}),o.segments&&o.segments.forEach(function(d){["parts","preloadHints"].forEach(function(f){d.hasOwnProperty(f)&&delete d[f]})})),!o.targetDuration){let d=10;o.segments&&o.segments.length&&(d=o.segments.reduce((f,c)=>Math.max(f,c.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${d}`}),o.targetDuration=d}const l=jI(o);if(l.length&&!o.partTargetDuration){const d=l.reduce((f,c)=>Math.max(f,c.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${d}`}),KI.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=d}return o},Hu=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const s=t.mediaGroups[r][n][i];e(s,r,n,i)}})},ZI=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},ree=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];ZI({playlist:r,id:ju(e,r.uri)}),r.resolvedUri=ni(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||KI.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},nee=t=>{Hu(t,e=>{e.uri&&(e.resolvedUri=ni(t.uri,e.uri))})},iee=(t,e)=>{const r=ju(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ne.location.href,resolvedUri:ne.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},JI=(t,e,r=XI)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const n=cf(t);Hu(t,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(n&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const d=t.playlists[l];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===a)return}i.playlists=[Rr({},i)]}i.playlists.forEach(function(l,d){const f=r(s,a,o,l),c=ju(d,f);l.uri?l.resolvedUri=l.resolvedUri||ni(t.uri,l.uri):(l.uri=d===0?f:c,l.resolvedUri=l.uri),l.id=l.id||c,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),ree(t),nee(t)};class e6{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const t6=22,il=({requestType:t,request:e,error:r,parseFailure:n})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=i&&!s||n;if(r&&s)a.error=Rr({},r),a.errorType=Ee.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=Ee.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=Ee.Error.NetworkRequestTimeout;else if(o){const l=n?Ee.Error.NetworkBodyParserFailed:Ee.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:see}=Ee,aee=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],a=HI(e)-1;a>-1&&a!==s.length-1&&(r._HLS_part=a),(a>-1||s.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new ne.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},oee=(t,e)=>{if(!t)return e;const r=Kt(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=Kt(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},lee=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=n[o+r],d=i[o];l?(a=l.map||a,s.push(oee(l,d))):(a&&!d.map&&(d.map=a),s.push(d))}return s},r6=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=ni(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=ni(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=ni(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=ni(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=ni(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=ni(e,r.uri))})},n6=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},i6=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Qy=(t,e,r=i6)=>{const n=Kt(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=n6(e);const s=Kt(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=lee(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{r6(a,s.resolvedUri)});for(let a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,Hu(t,(a,o,l,d)=>{if(a.playlists)for(let f=0;f<a.playlists.length;f++)e.id===a.playlists[f].id&&(a.playlists[f]=s)}),n},Ky=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],s=i&&i.duration||n&&n.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},s6=(t,e,r)=>{if(!t)return;const n=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=i.attributes;n.push({id:i.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:r,renditions:n}};class zu extends see{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Ri("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=r.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new e6,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=ni(this.main.uri,e.uri);this.llhls&&(r=aee(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:s}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:il({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{return tee({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:Ee.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:s});const a=r||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now(),ZI({playlist:a,uri:n,id:i});const o=Qy(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ky(this.media(),!!o)),s.parsedPlaylist=s6(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),ne.clearTimeout(this.mediaUpdateTimeout),ne.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new e6,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(ne.clearTimeout(this.finalRenditionTimeout),r){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=ne.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Ky(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=V0(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=ne.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=ne.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=ne.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:il({requestType:n.requestType,request:n,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=V0(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=s6(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,JI(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=n6(n),n.segments.forEach(i=>{r6(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||ne.location.href;this.main=iee(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let s=n.playlists.length;for(;s--;){const a=n.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(r){const d=this.createCloneURI_(a.resolvedUri,e),f=ju(i,d),c=this.createCloneAttributes_(i,a.attributes),h=this.createClonePlaylist_(a,f,e,c);n.playlists[s]=h,n.playlists[f]=h,n.playlists[d]=h}else n.playlists.splice(s,1);delete n.playlists[l],delete n.playlists[o]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||!n.mediaGroups[s][i])){for(const a in n.mediaGroups[s])if(a===i){for(const o in n.mediaGroups[s][a])n.mediaGroups[s][a][o].playlists.forEach((d,f)=>{const c=n.playlists[d.id],h=c.id,p=c.resolvedUri;delete n.playlists[h],delete n.playlists[p]});delete n.mediaGroups[s][a]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,s=this.createCloneURI_(r.resolvedUri,e),a=ju(e.ID,s),o=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,a,e,o);n.playlists[i]=l,n.playlists[a]=l,n.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][r]))for(const a in i.mediaGroups[s]){if(a===n)i.mediaGroups[s][r]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][r][o]=Rr({},l);const d=i.mediaGroups[s][r][o],f=this.createCloneURI_(l.resolvedUri,e);d.resolvedUri=f,d.uri=f,d.playlists=[],l.playlists.forEach((c,h)=>{const p=i.playlists[c.id],m=XI(s,r,o),b=ju(r,m);if(p&&!i.playlists[b]){const y=this.createClonePlaylist_(p,b,e),_=y.resolvedUri;i.playlists[b]=y,i.playlists[_]=y}d.playlists[h]=this.createClonePlaylist_(c,b,e)})}}})}createClonePlaylist_(e,r,n,i){const s=this.createCloneURI_(e.resolvedUri,n),a={resolvedUri:s,uri:s,id:r};return e.segments&&(a.segments=[]),i&&(a.attributes=i),Kt(e,a)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))n.searchParams.set(s,i[s]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const Xy=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},uee=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},cee=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},a6=function(){const t=function e(r,n){r=Kt({timeout:45e3},r);const i=e.beforeRequest||Ee.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Ee.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||Ee.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(Ee.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=Ee.Vhs.xhr.original===!0?Ee.xhr:Ee.Vhs.xhr,l=uee(s,r);s.delete(i);const d=o(l||r,function(c,h){return cee(a,d,c,h),Xy(d,c,h,n)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=r.uri,d.requestType=r.requestType,d.requestTime=Date.now(),d};return t.original=!0,t},dee=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ne.BigInt(t.offset)+ne.BigInt(t.length)-ne.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},Zy=function(t){const e={};return t.byterange&&(e.Range=dee(t.byterange)),e},fee=function(t,e){return t.start(e)+"-"+t.end(e)},hee=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},pee=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},o6=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];OS(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},G0=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},l6=function(t){return t.resolvedUri},u6=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,s;for(let a=0;a<e.length/r;a++)i=e.slice(a*r,a*r+r).map(hee).join(""),s=e.slice(a*r,a*r+r).map(pee).join(""),n+=i+" "+s+`
`;return n};var mee=Object.freeze({__proto__:null,createTransferableMessage:o6,initSegmentId:G0,segmentKeyId:l6,hexDump:u6,tagDump:({bytes:t})=>u6(t),textRanges:t=>{let e="",r;for(r=0;r<t.length;r++)e+=fee(t,r)+" ";return e}});const c6=.25,gee=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},bee=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,yee=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const d=new Date(e.segments[l+1].dateTimeObject);if(r<d)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?bee(i.videoTimingInfo):i.duration+i.duration*c6,o=new Date(s.getTime()+a*1e3);return r>o?null:(r>new Date(s)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:ii.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},_ee=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*c6)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},vee=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},Tee=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},Eee=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=_ee(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},s=gee(e,n.segment);return s&&(i.programDateTime=s.toISOString()),r(null,i)},d6=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!Tee(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=yee(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,d=vee(l.dateTimeObject,t);if(o.type==="estimate"){if(r===0)return a({message:`${t} is not buffered yet. Try again`});n(o.estimatedStart+d),s.one("seeked",()=>{d6({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:s,callback:a})});return}const f=l.start+d,c=()=>a(null,s.currentTime());s.one("seeked",c),i&&s.pause(),n(f)},Jy=(t,e)=>{if(t.readyState===4)return e()},Aee=(t,e,r,n)=>{let i=[],s,a=!1;const o=function(c,h,p,m){return h.abort(),a=!0,r(c,h,p,m)},l=function(c,h){if(a)return;if(c)return c.metadata=il({requestType:n,request:h,error:c}),o(c,h,"",i);const p=h.responseText.substring(i&&i.byteLength||0,h.responseText.length);if(i=DK(i,LS(p,!0)),s=s||Gd(i),i.length<10||s&&i.length<s+2)return Jy(h,()=>o(c,h,"",i));const m=H2(i);return m==="ts"&&i.length<188?Jy(h,()=>o(c,h,"",i)):!m&&i.length<376?Jy(h,()=>o(c,h,"",i)):o(null,h,m,i)},f=e({uri:t,beforeSend(c){c.overrideMimeType("text/plain; charset=x-user-defined"),c.addEventListener("progress",function({total:h,loaded:p}){return Xy(c,null,{statusCode:c.status},l)})}},function(c,h){return Xy(f,c,h,l)});return f},{EventTarget:xee}=Ee,f6=function(t,e){if(!i6(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const s=n.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},Cee=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},wee=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const s=JX(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return JI(s,e,Cee),s},See=(t,e)=>{Hu(t,(r,n,i,s)=>{s in e.mediaGroups[n][i]||delete t.mediaGroups[n][i][s]})},kee=(t,e,r)=>{let n=!0,i=Kt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=s0(a.sidx);r&&r[l]&&r[l].sidx&&B2(a,r[l].sidx,a.sidx.resolvedUri)}const o=Qy(i,a,f6);o&&(i=o,n=!1)}return Hu(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const d=s.playlists[0].id,f=Qy(i,s.playlists[0],f6);f&&(i=f,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[d],n=!1)}}),See(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},Iee=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,h6=(t,e)=>{const r={};for(const n in t){const s=t[n].sidx;if(s){const a=s0(s);if(!e[a])break;const o=e[a].sidxInfo;Iee(o,s)&&(r[a]=e[a])}}return r},Dee=(t,e)=>{let n=h6(t.playlists,e);return Hu(t,(i,s,a,o)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Kt(n,h6(l,e))}}),n};class e_ extends xee{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=r,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Ri("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&s0(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=ne.setTimeout(()=>n(!1),0);return}const s=V0(e.sidx.resolvedUri),a=(l,d)=>{if(this.requestErrored_(l,d,r))return;const f=this.mainPlaylistLoader_.sidxMapping_,{requestType:c}=d;let h;try{h=sZ(ut(d.response).subarray(8))}catch(p){p.metadata=il({requestType:c,request:d,parseFailure:!0}),this.requestErrored_(p,d,r);return}return f[i]={sidxInfo:e.sidx,sidx:h},B2(e,h,e.sidx.resolvedUri),n(!0)},o="dash-sidx";this.request=Aee(s,this.vhs_.xhr,(l,d,f,c)=>{if(l)return a(l,d);if(!f||f!=="mp4"){const m=f||"unknown";return a({status:d.status,message:`Unsupported ${m} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},d)}const{offset:h,length:p}=e.sidx.byterange;if(c.length>=p+h)return a(l,{response:c.subarray(h,h+p),status:d.status,uri:d.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:Zy({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ne.clearTimeout(this.minimumUpdatePeriodTimeout_),ne.clearTimeout(this.mediaRequest_),ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(ne.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ne.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=ne.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:a}=i;n.metadata=il({requestType:a,request:i,error:n})}if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=V0(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const r=eZ(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:ni(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:a}=i;return this.error.metadata=il({requestType:a,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let n;try{n=wee({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:Ee.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(n=kee(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:s,endList:a}=n,o=[];n.playlists.forEach(d=>{o.push({id:d.id,bandwidth:d.attributes.BANDWIDTH,resolution:d.attributes.RESOLUTION,codecs:d.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};r.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(ne.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=ne.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Dee(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=ne.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},Ky(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var sn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Nee=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},p6=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},Mee=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},m6=function(t){return function(){const e=Mee(t),r=p6(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},g6=function(t){return`var browserWorkerPolyFill = ${p6.toString()};
browserWorkerPolyFill(self);
`+t},b6=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},Oee=g6(b6(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var g={};this.on=function(v,A){g[v]||(g[v]=[]),g[v]=g[v].concat(A)},this.off=function(v,A){var E;return g[v]?(E=g[v].indexOf(A),g[v]=g[v].slice(),g[v].splice(E,1),E>-1):!1},this.trigger=function(v){var A,E,M,O;if(A=g[v],!!A)if(arguments.length===2)for(M=A.length,E=0;E<M;++E)A[E].call(this,arguments[1]);else{for(O=[],E=arguments.length,E=1;E<arguments.length;++E)O.push(arguments[E]);for(M=A.length,E=0;E<M;++E)A[E].apply(this,O)}},this.dispose=function(){g={}}}};e.prototype.pipe=function(g){return this.on("data",function(v){g.push(v)}),this.on("done",function(v){g.flush(v)}),this.on("partialdone",function(v){g.partialFlush(v)}),this.on("endedtimeline",function(v){g.endTimeline(v)}),this.on("reset",function(v){g.reset(v)}),g},e.prototype.push=function(g){this.trigger("data",g)},e.prototype.flush=function(g){this.trigger("done",g)},e.prototype.partialFlush=function(g){this.trigger("partialdone",g)},e.prototype.endTimeline=function(g){this.trigger("endedtimeline",g)},e.prototype.reset=function(g){this.trigger("reset",g)};var r=e,n=Math.pow(2,32),i=function(g){var v=new DataView(g.buffer,g.byteOffset,g.byteLength),A;return v.getBigUint64?(A=v.getBigUint64(0),A<Number.MAX_SAFE_INTEGER?Number(A):A):v.getUint32(0)*n+v.getUint32(4)},s={getUint64:i,MAX_UINT32:n},a=s.MAX_UINT32,o,l,d,f,c,h,p,m,b,y,_,x,C,k,S,w,L,D,I,P,z,U,$,H,Y,F,j,se,W,R,N,V,Z,X,K,de;(function(){var g;if($={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(g in $)$.hasOwnProperty(g)&&($[g]=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]);H=new Uint8Array([105,115,111,109]),F=new Uint8Array([97,118,99,49]),Y=new Uint8Array([0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),se=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),W={video:j,audio:se},V=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0]),Z=new Uint8Array([0,0,0,0,0,0,0,0]),X=Z,K=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),de=Z,R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(g){var v=[],A=0,E,M,O;for(E=1;E<arguments.length;E++)v.push(arguments[E]);for(E=v.length;E--;)A+=v[E].byteLength;for(M=new Uint8Array(A+8),O=new DataView(M.buffer,M.byteOffset,M.byteLength),O.setUint32(0,M.byteLength),M.set(g,4),E=0,A=8;E<v.length;E++)M.set(v[E],A),A+=v[E].byteLength;return M},l=function(){return o($.dinf,o($.dref,V))},d=function(g){return o($.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,g.audioobjecttype<<3|g.samplingfrequencyindex>>>1,g.samplingfrequencyindex<<7|g.channelcount<<3,6,1,2]))},f=function(){return o($.ftyp,H,Y,H,F)},w=function(g){return o($.hdlr,W[g])},c=function(g){return o($.mdat,g)},S=function(g){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,g.duration>>>24&255,g.duration>>>16&255,g.duration>>>8&255,g.duration&255,85,196,0,0]);return g.samplerate&&(v[12]=g.samplerate>>>24&255,v[13]=g.samplerate>>>16&255,v[14]=g.samplerate>>>8&255,v[15]=g.samplerate&255),o($.mdhd,v)},k=function(g){return o($.mdia,S(g),w(g.type),p(g))},h=function(g){return o($.mfhd,new Uint8Array([0,0,0,0,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255]))},p=function(g){return o($.minf,g.type==="video"?o($.vmhd,R):o($.smhd,N),l(),D(g))},m=function(g,v){for(var A=[],E=v.length;E--;)A[E]=P(v[E]);return o.apply(null,[$.moof,h(g)].concat(A))},b=function(g){for(var v=g.length,A=[];v--;)A[v]=x(g[v]);return o.apply(null,[$.moov,_(4294967295)].concat(A).concat(y(g)))},y=function(g){for(var v=g.length,A=[];v--;)A[v]=z(g[v]);return o.apply(null,[$.mvex].concat(A))},_=function(g){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o($.mvhd,v)},L=function(g){var v=g.samples||[],A=new Uint8Array(4+v.length),E,M;for(M=0;M<v.length;M++)E=v[M].flags,A[M+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return o($.sdtp,A)},D=function(g){return o($.stbl,I(g),o($.stts,de),o($.stsc,X),o($.stsz,K),o($.stco,Z))},function(){var g,v;I=function(A){return o($.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),A.type==="video"?g(A):v(A))},g=function(A){var E=A.sps||[],M=A.pps||[],O=[],Q=[],ee,re;for(ee=0;ee<E.length;ee++)O.push((E[ee].byteLength&65280)>>>8),O.push(E[ee].byteLength&255),O=O.concat(Array.prototype.slice.call(E[ee]));for(ee=0;ee<M.length;ee++)Q.push((M[ee].byteLength&65280)>>>8),Q.push(M[ee].byteLength&255),Q=Q.concat(Array.prototype.slice.call(M[ee]));if(re=[$.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(A.width&65280)>>8,A.width&255,(A.height&65280)>>8,A.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o($.avcC,new Uint8Array([1,A.profileIdc,A.profileCompatibility,A.levelIdc,255].concat([E.length],O,[M.length],Q))),o($.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],A.sarRatio){var ae=A.sarRatio[0],pe=A.sarRatio[1];re.push(o($.pasp,new Uint8Array([(ae&4278190080)>>24,(ae&16711680)>>16,(ae&65280)>>8,ae&255,(pe&4278190080)>>24,(pe&16711680)>>16,(pe&65280)>>8,pe&255])))}return o.apply(null,re)},v=function(A){return o($.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(A.channelcount&65280)>>8,A.channelcount&255,(A.samplesize&65280)>>8,A.samplesize&255,0,0,0,0,(A.samplerate&65280)>>8,A.samplerate&255,0,0]),d(A))}}(),C=function(g){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,0,(g.duration&4278190080)>>24,(g.duration&16711680)>>16,(g.duration&65280)>>8,g.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(g.width&65280)>>8,g.width&255,0,0,(g.height&65280)>>8,g.height&255,0,0]);return o($.tkhd,v)},P=function(g){var v,A,E,M,O,Q,ee;return v=o($.tfhd,new Uint8Array([0,0,0,58,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Q=Math.floor(g.baseMediaDecodeTime/a),ee=Math.floor(g.baseMediaDecodeTime%a),A=o($.tfdt,new Uint8Array([1,0,0,0,Q>>>24&255,Q>>>16&255,Q>>>8&255,Q&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee&255])),O=92,g.type==="audio"?(E=U(g,O),o($.traf,v,A,E)):(M=L(g),E=U(g,M.length+O),o($.traf,v,A,E,M))},x=function(g){return g.duration=g.duration||4294967295,o($.trak,C(g),k(g))},z=function(g){var v=new Uint8Array([0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return g.type!=="video"&&(v[v.length-1]=0),o($.trex,v)},function(){var g,v,A;A=function(E,M){var O=0,Q=0,ee=0,re=0;return E.length&&(E[0].duration!==void 0&&(O=1),E[0].size!==void 0&&(Q=2),E[0].flags!==void 0&&(ee=4),E[0].compositionTimeOffset!==void 0&&(re=8)),[0,0,O|Q|ee|re,1,(E.length&4278190080)>>>24,(E.length&16711680)>>>16,(E.length&65280)>>>8,E.length&255,(M&4278190080)>>>24,(M&16711680)>>>16,(M&65280)>>>8,M&255]},v=function(E,M){var O,Q,ee,re,ae,pe;for(re=E.samples||[],M+=20+16*re.length,ee=A(re,M),Q=new Uint8Array(ee.length+re.length*16),Q.set(ee),O=ee.length,pe=0;pe<re.length;pe++)ae=re[pe],Q[O++]=(ae.duration&4278190080)>>>24,Q[O++]=(ae.duration&16711680)>>>16,Q[O++]=(ae.duration&65280)>>>8,Q[O++]=ae.duration&255,Q[O++]=(ae.size&4278190080)>>>24,Q[O++]=(ae.size&16711680)>>>16,Q[O++]=(ae.size&65280)>>>8,Q[O++]=ae.size&255,Q[O++]=ae.flags.isLeading<<2|ae.flags.dependsOn,Q[O++]=ae.flags.isDependedOn<<6|ae.flags.hasRedundancy<<4|ae.flags.paddingValue<<1|ae.flags.isNonSyncSample,Q[O++]=ae.flags.degradationPriority&61440,Q[O++]=ae.flags.degradationPriority&15,Q[O++]=(ae.compositionTimeOffset&4278190080)>>>24,Q[O++]=(ae.compositionTimeOffset&16711680)>>>16,Q[O++]=(ae.compositionTimeOffset&65280)>>>8,Q[O++]=ae.compositionTimeOffset&255;return o($.trun,Q)},g=function(E,M){var O,Q,ee,re,ae,pe;for(re=E.samples||[],M+=20+8*re.length,ee=A(re,M),O=new Uint8Array(ee.length+re.length*8),O.set(ee),Q=ee.length,pe=0;pe<re.length;pe++)ae=re[pe],O[Q++]=(ae.duration&4278190080)>>>24,O[Q++]=(ae.duration&16711680)>>>16,O[Q++]=(ae.duration&65280)>>>8,O[Q++]=ae.duration&255,O[Q++]=(ae.size&4278190080)>>>24,O[Q++]=(ae.size&16711680)>>>16,O[Q++]=(ae.size&65280)>>>8,O[Q++]=ae.size&255;return o($.trun,O)},U=function(E,M){return E.type==="audio"?g(E,M):v(E,M)}}();var le={ftyp:f,mdat:c,moof:m,moov:b,initSegment:function(g){var v=f(),A=b(g),E;return E=new Uint8Array(v.byteLength+A.byteLength),E.set(v),E.set(A,v.byteLength),E}},Te=function(g){var v,A,E=[],M=[];for(M.byteLength=0,M.nalCount=0,M.duration=0,E.byteLength=0,v=0;v<g.length;v++)A=g[v],A.nalUnitType==="access_unit_delimiter_rbsp"?(E.length&&(E.duration=A.dts-E.dts,M.byteLength+=E.byteLength,M.nalCount+=E.length,M.duration+=E.duration,M.push(E)),E=[A],E.byteLength=A.data.byteLength,E.pts=A.pts,E.dts=A.dts):(A.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(E.keyFrame=!0),E.duration=A.dts-E.dts,E.byteLength+=A.data.byteLength,E.push(A));return M.length&&(!E.duration||E.duration<=0)&&(E.duration=M[M.length-1].duration),M.byteLength+=E.byteLength,M.nalCount+=E.length,M.duration+=E.duration,M.push(E),M},ge=function(g){var v,A,E=[],M=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=g[0].pts,E.dts=g[0].dts,M.byteLength=0,M.nalCount=0,M.duration=0,M.pts=g[0].pts,M.dts=g[0].dts,v=0;v<g.length;v++)A=g[v],A.keyFrame?(E.length&&(M.push(E),M.byteLength+=E.byteLength,M.nalCount+=E.nalCount,M.duration+=E.duration),E=[A],E.nalCount=A.length,E.byteLength=A.byteLength,E.pts=A.pts,E.dts=A.dts,E.duration=A.duration):(E.duration+=A.duration,E.nalCount+=A.length,E.byteLength+=A.byteLength,E.push(A));return M.length&&E.duration<=0&&(E.duration=M[M.length-1].duration),M.byteLength+=E.byteLength,M.nalCount+=E.nalCount,M.duration+=E.duration,M.push(E),M},me=function(g){var v;return!g[0][0].keyFrame&&g.length>1&&(v=g.shift(),g.byteLength-=v.byteLength,g.nalCount-=v.nalCount,g[0][0].dts=v.dts,g[0][0].pts=v.pts,g[0][0].duration+=v.duration),g},Ce=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Ne=function(g,v){var A=Ce();return A.dataOffset=v,A.compositionTimeOffset=g.pts-g.dts,A.duration=g.duration,A.size=4*g.length,A.size+=g.byteLength,g.keyFrame&&(A.flags.dependsOn=2,A.flags.isNonSyncSample=0),A},Fe=function(g,v){var A,E,M,O,Q,ee=v||0,re=[];for(A=0;A<g.length;A++)for(O=g[A],E=0;E<O.length;E++)Q=O[E],M=Ne(Q,ee),ee+=M.size,re.push(M);return re},he=function(g){var v,A,E,M,O,Q,ee=0,re=g.byteLength,ae=g.nalCount,pe=re+4*ae,Se=new Uint8Array(pe),Je=new DataView(Se.buffer);for(v=0;v<g.length;v++)for(M=g[v],A=0;A<M.length;A++)for(O=M[A],E=0;E<O.length;E++)Q=O[E],Je.setUint32(ee,Q.data.byteLength),ee+=4,Se.set(Q.data,ee),ee+=Q.data.byteLength;return Se},Re=function(g,v){var A,E=v||0,M=[];return A=Ne(g,E),M.push(A),M},rt=function(g){var v,A,E=0,M=g.byteLength,O=g.length,Q=M+4*O,ee=new Uint8Array(Q),re=new DataView(ee.buffer);for(v=0;v<g.length;v++)A=g[v],re.setUint32(E,A.data.byteLength),E+=4,ee.set(A.data,E),E+=A.data.byteLength;return ee},be={groupNalsIntoFrames:Te,groupFramesIntoGops:ge,extendFirstKeyFrame:me,generateSampleTable:Fe,concatenateNalData:he,generateSampleTableForFrame:Re,concatenateNalDataForFrame:rt},Le=[33,16,5,32,164,27],xe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],B=function(g){for(var v=[];g--;)v.push(0);return v},q=function(g){return Object.keys(g).reduce(function(v,A){return v[A]=new Uint8Array(g[A].reduce(function(E,M){return E.concat(M)},[])),v},{})},ue,ye=function(){if(!ue){var g={96e3:[Le,[227,64],B(154),[56]],88200:[Le,[231],B(170),[56]],64e3:[Le,[248,192],B(240),[56]],48e3:[Le,[255,192],B(268),[55,148,128],B(54),[112]],44100:[Le,[255,192],B(268),[55,163,128],B(84),[112]],32e3:[Le,[255,192],B(268),[55,234],B(226),[112]],24e3:[Le,[255,192],B(268),[55,255,128],B(268),[111,112],B(126),[224]],16e3:[Le,[255,192],B(268),[55,255,128],B(268),[111,255],B(269),[223,108],B(195),[1,192]],12e3:[xe,B(268),[3,127,248],B(268),[6,255,240],B(268),[13,255,224],B(268),[27,253,128],B(259),[56]],11025:[xe,B(268),[3,127,248],B(268),[6,255,240],B(268),[13,255,224],B(268),[27,255,192],B(268),[55,175,128],B(108),[112]],8e3:[xe,B(268),[3,121,16],B(47),[7]]};ue=q(g)}return ue},Pe=9e4,$e,ze,_e,Oe,nt,bt,Nt;$e=function(g){return g*Pe},ze=function(g,v){return g*v},_e=function(g){return g/Pe},Oe=function(g,v){return g/v},nt=function(g,v){return $e(Oe(g,v))},bt=function(g,v){return ze(_e(g),v)},Nt=function(g,v,A){return _e(A?g:g-v)};var st={ONE_SECOND_IN_TS:Pe,secondsToVideoTs:$e,secondsToAudioTs:ze,videoTsToSeconds:_e,audioTsToSeconds:Oe,audioTsToVideoTs:nt,videoTsToAudioTs:bt,metadataTsToSeconds:Nt},Zt=ye,Ot=st,wr=function(g){var v,A,E=0;for(v=0;v<g.length;v++)A=g[v],E+=A.data.byteLength;return E},Nr=function(g,v,A,E){var M,O=0,Q=0,ee=0,re=0,ae,pe,Se;if(v.length&&(M=Ot.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),O=Math.ceil(Ot.ONE_SECOND_IN_TS/(g.samplerate/1024)),A&&E&&(Q=M-Math.max(A,E),ee=Math.floor(Q/O),re=ee*O),!(ee<1||re>Ot.ONE_SECOND_IN_TS/2))){for(ae=Zt()[g.samplerate],ae||(ae=v[0].data),pe=0;pe<ee;pe++)Se=v[0],v.splice(0,0,{data:ae,dts:Se.dts-O,pts:Se.pts-O});return g.baseMediaDecodeTime-=Math.floor(Ot.videoTsToAudioTs(re,g.samplerate)),re}},gs=function(g,v,A){return v.minSegmentDts>=A?g:(v.minSegmentDts=1/0,g.filter(function(E){return E.dts>=A?(v.minSegmentDts=Math.min(v.minSegmentDts,E.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},Gs=function(g){var v,A,E=[];for(v=0;v<g.length;v++)A=g[v],E.push({size:A.data.byteLength,duration:1024});return E},Ys=function(g){var v,A,E=0,M=new Uint8Array(wr(g));for(v=0;v<g.length;v++)A=g[v],M.set(A.data,E),E+=A.data.byteLength;return M},bs={prefixWithSilence:Nr,trimAdtsFramesByEarliestDts:gs,generateSampleTable:Gs,concatenateFrameData:Ys},Qs=st.ONE_SECOND_IN_TS,hn=function(g,v){typeof v.pts=="number"&&(g.timelineStartInfo.pts===void 0&&(g.timelineStartInfo.pts=v.pts),g.minSegmentPts===void 0?g.minSegmentPts=v.pts:g.minSegmentPts=Math.min(g.minSegmentPts,v.pts),g.maxSegmentPts===void 0?g.maxSegmentPts=v.pts:g.maxSegmentPts=Math.max(g.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(g.timelineStartInfo.dts===void 0&&(g.timelineStartInfo.dts=v.dts),g.minSegmentDts===void 0?g.minSegmentDts=v.dts:g.minSegmentDts=Math.min(g.minSegmentDts,v.dts),g.maxSegmentDts===void 0?g.maxSegmentDts=v.dts:g.maxSegmentDts=Math.max(g.maxSegmentDts,v.dts))},pn=function(g){delete g.minSegmentDts,delete g.maxSegmentDts,delete g.minSegmentPts,delete g.maxSegmentPts},Vi=function(g,v){var A,E,M=g.minSegmentDts;return v||(M-=g.timelineStartInfo.dts),A=g.timelineStartInfo.baseMediaDecodeTime,A+=M,A=Math.max(0,A),g.type==="audio"&&(E=g.samplerate/Qs,A*=E,A=Math.floor(A)),A},Ti={clearDtsInfo:pn,calculateTrackBaseMediaDecodeTime:Vi,collectDtsInfo:hn},vr=4,Ei=128,Fn=function(g){for(var v=0,A={payloadType:-1,payloadSize:0},E=0,M=0;v<g.byteLength&&g[v]!==Ei;){for(;g[v]===255;)E+=255,v++;for(E+=g[v++];g[v]===255;)M+=255,v++;if(M+=g[v++],!A.payload&&E===vr){var O=String.fromCharCode(g[v+3],g[v+4],g[v+5],g[v+6]);if(O==="GA94"){A.payloadType=E,A.payloadSize=M,A.payload=g.subarray(v,v+M);break}else A.payload=void 0}v+=M,E=0,M=0}return A},xl=function(g){return g.payload[0]!==181||(g.payload[1]<<8|g.payload[2])!==49||String.fromCharCode(g.payload[3],g.payload[4],g.payload[5],g.payload[6])!=="GA94"||g.payload[7]!==3?null:g.payload.subarray(8,g.payload.length-1)},Cl=function(g,v){var A=[],E,M,O,Q;if(!(v[0]&64))return A;for(M=v[0]&31,E=0;E<M;E++)O=E*3,Q={type:v[O+2]&3,pts:g},v[O+2]&4&&(Q.ccData=v[O+3]<<8|v[O+4],A.push(Q));return A},Mr=function(g){for(var v=g.byteLength,A=[],E=1,M,O;E<v-2;)g[E]===0&&g[E+1]===0&&g[E+2]===3?(A.push(E+2),E+=2):E++;if(A.length===0)return g;M=v-A.length,O=new Uint8Array(M);var Q=0;for(E=0;E<M;Q++,E++)Q===A[0]&&(Q++,A.shift()),O[E]=g[Q];return O},Un={parseSei:Fn,parseUserData:xl,parseCaptionPackets:Cl,discardEmulationPreventionBytes:Mr,USER_DATA_REGISTERED_ITU_T_T35:vr},an=r,Wr=Un,Vt=function(g){g=g||{},Vt.prototype.init.call(this),this.parse708captions_=typeof g.parse708captions=="boolean"?g.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new cr(0,0),new cr(0,1),new cr(1,0),new cr(1,1)],this.parse708captions_&&(this.cc708Stream_=new Yt({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Vt.prototype=new an,Vt.prototype.push=function(g){var v,A,E;if(g.nalUnitType==="sei_rbsp"&&(v=Wr.parseSei(g.escapedRBSP),!!v.payload&&v.payloadType===Wr.USER_DATA_REGISTERED_ITU_T_T35&&(A=Wr.parseUserData(v),!!A))){if(g.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(g.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}E=Wr.parseCaptionPackets(g.pts,A),this.captionPackets_=this.captionPackets_.concat(E),this.latestDts_!==g.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=g.dts}},Vt.prototype.flushCCStreams=function(g){this.ccStreams_.forEach(function(v){return g==="flush"?v.flush():v.partialFlush()},this)},Vt.prototype.flushStream=function(g){if(!this.captionPackets_.length){this.flushCCStreams(g);return}this.captionPackets_.forEach(function(v,A){v.presortIndex=A}),this.captionPackets_.sort(function(v,A){return v.pts===A.pts?v.presortIndex-A.presortIndex:v.pts-A.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(g)},Vt.prototype.flush=function(){return this.flushStream("flush")},Vt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Vt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(g){g.reset()})},Vt.prototype.dispatchCea608Packet=function(g){this.setsTextOrXDSActive(g)?this.activeCea608Channel_[g.type]=null:this.setsChannel1Active(g)?this.activeCea608Channel_[g.type]=0:this.setsChannel2Active(g)&&(this.activeCea608Channel_[g.type]=1),this.activeCea608Channel_[g.type]!==null&&this.ccStreams_[(g.type<<1)+this.activeCea608Channel_[g.type]].push(g)},Vt.prototype.setsChannel1Active=function(g){return(g.ccData&30720)===4096},Vt.prototype.setsChannel2Active=function(g){return(g.ccData&30720)===6144},Vt.prototype.setsTextOrXDSActive=function(g){return(g.ccData&28928)===256||(g.ccData&30974)===4138||(g.ccData&30974)===6186},Vt.prototype.dispatchCea708Packet=function(g){this.parse708captions_&&this.cc708Stream_.push(g)};var Ai={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},xi=function(g){var v=Ai[g]||g;return g&4096&&g===v?"":String.fromCharCode(v)},qi=function(g){return 32<=g&&g<=127||160<=g&&g<=255},ci=function(g){this.windowNum=g,this.reset()};ci.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ci.prototype.getText=function(){return this.rows.join(`
`)},ci.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ci.prototype.newLine=function(g){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(g),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ci.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ci.prototype.addText=function(g){this.rows[this.rowIdx]+=g},ci.prototype.backspace=function(){if(!this.isEmpty()){var g=this.rows[this.rowIdx];this.rows[this.rowIdx]=g.substr(0,g.length-1)}};var co=function(g,v,A){this.serviceNum=g,this.text="",this.currentWindow=new ci(-1),this.windows=[],this.stream=A,typeof v=="string"&&this.createTextDecoder(v)};co.prototype.init=function(g,v){this.startPts=g;for(var A=0;A<8;A++)this.windows[A]=new ci(A),typeof v=="function"&&(this.windows[A].beforeRowOverflow=v)},co.prototype.setCurrentWindow=function(g){this.currentWindow=this.windows[g]},co.prototype.createTextDecoder=function(g){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(g)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+g+" encoding. "+v})}};var Yt=function(g){g=g||{},Yt.prototype.init.call(this);var v=this,A=g.captionServices||{},E={},M;Object.keys(A).forEach(O=>{M=A[O],/^SERVICE/.test(O)&&(E[O]=M.encoding)}),this.serviceEncodings=E,this.current708Packet=null,this.services={},this.push=function(O){O.type===3?(v.new708Packet(),v.add708Bytes(O)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(O))}};Yt.prototype=new an,Yt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Yt.prototype.add708Bytes=function(g){var v=g.ccData,A=v>>>8,E=v&255;this.current708Packet.ptsVals.push(g.pts),this.current708Packet.data.push(A),this.current708Packet.data.push(E)},Yt.prototype.push708Packet=function(){var g=this.current708Packet,v=g.data,A=null,E=null,M=0,O=v[M++];for(g.seq=O>>6,g.sizeCode=O&63;M<v.length;M++)O=v[M++],A=O>>5,E=O&31,A===7&&E>0&&(O=v[M++],A=O),this.pushServiceBlock(A,M,E),E>0&&(M+=E-1)},Yt.prototype.pushServiceBlock=function(g,v,A){var E,M=v,O=this.current708Packet.data,Q=this.services[g];for(Q||(Q=this.initService(g,M));M<v+A&&M<O.length;M++)E=O[M],qi(E)?M=this.handleText(M,Q):E===24?M=this.multiByteCharacter(M,Q):E===16?M=this.extendedCommands(M,Q):128<=E&&E<=135?M=this.setCurrentWindow(M,Q):152<=E&&E<=159?M=this.defineWindow(M,Q):E===136?M=this.clearWindows(M,Q):E===140?M=this.deleteWindows(M,Q):E===137?M=this.displayWindows(M,Q):E===138?M=this.hideWindows(M,Q):E===139?M=this.toggleWindows(M,Q):E===151?M=this.setWindowAttributes(M,Q):E===144?M=this.setPenAttributes(M,Q):E===145?M=this.setPenColor(M,Q):E===146?M=this.setPenLocation(M,Q):E===143?Q=this.reset(M,Q):E===8?Q.currentWindow.backspace():E===12?Q.currentWindow.clearText():E===13?Q.currentWindow.pendingNewLine=!0:E===14?Q.currentWindow.clearText():E===141&&M++},Yt.prototype.extendedCommands=function(g,v){var A=this.current708Packet.data,E=A[++g];return qi(E)&&(g=this.handleText(g,v,{isExtended:!0})),g},Yt.prototype.getPts=function(g){return this.current708Packet.ptsVals[Math.floor(g/2)]},Yt.prototype.initService=function(g,v){var E="SERVICE"+g,A=this,E,M;return E in this.serviceEncodings&&(M=this.serviceEncodings[E]),this.services[g]=new co(g,M,A),this.services[g].init(this.getPts(v),function(O){A.flushDisplayed(O,A.services[g])}),this.services[g]},Yt.prototype.handleText=function(g,v,A){var E=A&&A.isExtended,M=A&&A.isMultiByte,O=this.current708Packet.data,Q=E?4096:0,ee=O[g],re=O[g+1],ae=v.currentWindow,pe,Se;function Je(Be){return Be.map(pt=>("0"+(pt&255).toString(16)).slice(-2)).join("")}if(M?(Se=[ee,re],g++):Se=[ee],v.textDecoder_&&!E)pe=v.textDecoder_.decode(new Uint8Array(Se));else if(M){const Be=Je(Se);pe=String.fromCharCode(parseInt(Be,16))}else pe=xi(Q|ee);return ae.pendingNewLine&&!ae.isEmpty()&&ae.newLine(this.getPts(g)),ae.pendingNewLine=!1,ae.addText(pe),g},Yt.prototype.multiByteCharacter=function(g,v){var A=this.current708Packet.data,E=A[g+1],M=A[g+2];return qi(E)&&qi(M)&&(g=this.handleText(++g,v,{isMultiByte:!0})),g},Yt.prototype.setCurrentWindow=function(g,v){var A=this.current708Packet.data,E=A[g],M=E&7;return v.setCurrentWindow(M),g},Yt.prototype.defineWindow=function(g,v){var A=this.current708Packet.data,E=A[g],M=E&7;v.setCurrentWindow(M);var O=v.currentWindow;return E=A[++g],O.visible=(E&32)>>5,O.rowLock=(E&16)>>4,O.columnLock=(E&8)>>3,O.priority=E&7,E=A[++g],O.relativePositioning=(E&128)>>7,O.anchorVertical=E&127,E=A[++g],O.anchorHorizontal=E,E=A[++g],O.anchorPoint=(E&240)>>4,O.rowCount=E&15,E=A[++g],O.columnCount=E&63,E=A[++g],O.windowStyle=(E&56)>>3,O.penStyle=E&7,O.virtualRowCount=O.rowCount+1,g},Yt.prototype.setWindowAttributes=function(g,v){var A=this.current708Packet.data,E=A[g],M=v.currentWindow.winAttr;return E=A[++g],M.fillOpacity=(E&192)>>6,M.fillRed=(E&48)>>4,M.fillGreen=(E&12)>>2,M.fillBlue=E&3,E=A[++g],M.borderType=(E&192)>>6,M.borderRed=(E&48)>>4,M.borderGreen=(E&12)>>2,M.borderBlue=E&3,E=A[++g],M.borderType+=(E&128)>>5,M.wordWrap=(E&64)>>6,M.printDirection=(E&48)>>4,M.scrollDirection=(E&12)>>2,M.justify=E&3,E=A[++g],M.effectSpeed=(E&240)>>4,M.effectDirection=(E&12)>>2,M.displayEffect=E&3,g},Yt.prototype.flushDisplayed=function(g,v){for(var A=[],E=0;E<8;E++)v.windows[E].visible&&!v.windows[E].isEmpty()&&A.push(v.windows[E].getText());v.endPts=g,v.text=A.join(`

`),this.pushCaption(v),v.startPts=g},Yt.prototype.pushCaption=function(g){g.text!==""&&(this.trigger("data",{startPts:g.startPts,endPts:g.endPts,text:g.text,stream:"cc708_"+g.serviceNum}),g.text="",g.startPts=g.endPts)},Yt.prototype.displayWindows=function(g,v){var A=this.current708Packet.data,E=A[++g],M=this.getPts(g);this.flushDisplayed(M,v);for(var O=0;O<8;O++)E&1<<O&&(v.windows[O].visible=1);return g},Yt.prototype.hideWindows=function(g,v){var A=this.current708Packet.data,E=A[++g],M=this.getPts(g);this.flushDisplayed(M,v);for(var O=0;O<8;O++)E&1<<O&&(v.windows[O].visible=0);return g},Yt.prototype.toggleWindows=function(g,v){var A=this.current708Packet.data,E=A[++g],M=this.getPts(g);this.flushDisplayed(M,v);for(var O=0;O<8;O++)E&1<<O&&(v.windows[O].visible^=1);return g},Yt.prototype.clearWindows=function(g,v){var A=this.current708Packet.data,E=A[++g],M=this.getPts(g);this.flushDisplayed(M,v);for(var O=0;O<8;O++)E&1<<O&&v.windows[O].clearText();return g},Yt.prototype.deleteWindows=function(g,v){var A=this.current708Packet.data,E=A[++g],M=this.getPts(g);this.flushDisplayed(M,v);for(var O=0;O<8;O++)E&1<<O&&v.windows[O].reset();return g},Yt.prototype.setPenAttributes=function(g,v){var A=this.current708Packet.data,E=A[g],M=v.currentWindow.penAttr;return E=A[++g],M.textTag=(E&240)>>4,M.offset=(E&12)>>2,M.penSize=E&3,E=A[++g],M.italics=(E&128)>>7,M.underline=(E&64)>>6,M.edgeType=(E&56)>>3,M.fontStyle=E&7,g},Yt.prototype.setPenColor=function(g,v){var A=this.current708Packet.data,E=A[g],M=v.currentWindow.penColor;return E=A[++g],M.fgOpacity=(E&192)>>6,M.fgRed=(E&48)>>4,M.fgGreen=(E&12)>>2,M.fgBlue=E&3,E=A[++g],M.bgOpacity=(E&192)>>6,M.bgRed=(E&48)>>4,M.bgGreen=(E&12)>>2,M.bgBlue=E&3,E=A[++g],M.edgeRed=(E&48)>>4,M.edgeGreen=(E&12)>>2,M.edgeBlue=E&3,g},Yt.prototype.setPenLocation=function(g,v){var A=this.current708Packet.data,E=A[g],M=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,E=A[++g],M.row=E&15,E=A[++g],M.column=E&63,g},Yt.prototype.reset=function(g,v){var A=this.getPts(g);return this.flushDisplayed(A,v),this.initService(v.serviceNum,g)};var $v={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},fo=function(g){return g===null?"":(g=$v[g]||g,String.fromCharCode(g))},Cc=14,Wi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],xa=function(){for(var g=[],v=Cc+1;v--;)g.push({text:"",indent:0,offset:0});return g},cr=function(g,v){cr.prototype.init.call(this),this.field_=g||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(A){var E,M,O,Q,ee;if(E=A.ccData&32639,E===this.lastControlCode_){this.lastControlCode_=null;return}if((E&61440)===4096?this.lastControlCode_=E:E!==this.PADDING_&&(this.lastControlCode_=null),O=E>>>8,Q=E&255,E!==this.PADDING_)if(E===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(E===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(A.pts),this.flushDisplayed(A.pts),M=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=M,this.startPts_=A.pts;else if(E===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(A.pts);else if(E===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(A.pts);else if(E===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(A.pts);else if(E===this.CARRIAGE_RETURN_)this.clearFormatting(A.pts),this.flushDisplayed(A.pts),this.shiftRowsUp_(),this.startPts_=A.pts;else if(E===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(E===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(A.pts),this.displayed_=xa();else if(E===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=xa();else if(E===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(A.pts),this.displayed_=xa()),this.mode_="paintOn",this.startPts_=A.pts;else if(this.isSpecialCharacter(O,Q))O=(O&3)<<8,ee=fo(O|Q),this[this.mode_](A.pts,ee),this.column_++;else if(this.isExtCharacter(O,Q))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),O=(O&3)<<8,ee=fo(O|Q),this[this.mode_](A.pts,ee),this.column_++;else if(this.isMidRowCode(O,Q))this.clearFormatting(A.pts),this[this.mode_](A.pts," "),this.column_++,(Q&14)===14&&this.addFormatting(A.pts,["i"]),(Q&1)===1&&this.addFormatting(A.pts,["u"]);else if(this.isOffsetControlCode(O,Q)){const ae=Q&3;this.nonDisplayed_[this.row_].offset=ae,this.column_+=ae}else if(this.isPAC(O,Q)){var re=Wi.indexOf(E&7968);if(this.mode_==="rollUp"&&(re-this.rollUpRows_+1<0&&(re=this.rollUpRows_-1),this.setRollUp(A.pts,re)),re!==this.row_&&re>=0&&re<=14&&(this.clearFormatting(A.pts),this.row_=re),Q&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(A.pts,["u"]),(E&16)===16){const ae=(E&14)>>1;this.column_=ae*4,this.nonDisplayed_[this.row_].indent+=ae}this.isColorPAC(Q)&&(Q&14)===14&&this.addFormatting(A.pts,["i"])}else this.isNormalChar(O)&&(Q===0&&(Q=null),ee=fo(O),ee+=fo(Q),this[this.mode_](A.pts,ee),this.column_+=ee.length)}};cr.prototype=new an,cr.prototype.flushDisplayed=function(g){const v=E=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+E+"."})},A=[];this.displayed_.forEach((E,M)=>{if(E&&E.text&&E.text.length){try{E.text=E.text.trim()}catch{v(M)}E.text.length&&A.push({text:E.text,line:M+1,position:10+Math.min(70,E.indent*10)+E.offset*2.5})}else E==null&&v(M)}),A.length&&this.trigger("data",{startPts:this.startPts_,endPts:g,content:A,stream:this.name_})},cr.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=xa(),this.nonDisplayed_=xa(),this.lastControlCode_=null,this.column_=0,this.row_=Cc,this.rollUpRows_=2,this.formatting_=[]},cr.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},cr.prototype.isSpecialCharacter=function(g,v){return g===this.EXT_&&v>=48&&v<=63},cr.prototype.isExtCharacter=function(g,v){return(g===this.EXT_+1||g===this.EXT_+2)&&v>=32&&v<=63},cr.prototype.isMidRowCode=function(g,v){return g===this.EXT_&&v>=32&&v<=47},cr.prototype.isOffsetControlCode=function(g,v){return g===this.OFFSET_&&v>=33&&v<=35},cr.prototype.isPAC=function(g,v){return g>=this.BASE_&&g<this.BASE_+8&&v>=64&&v<=127},cr.prototype.isColorPAC=function(g){return g>=64&&g<=79||g>=96&&g<=127},cr.prototype.isNormalChar=function(g){return g>=32&&g<=127},cr.prototype.setRollUp=function(g,v){if(this.mode_!=="rollUp"&&(this.row_=Cc,this.mode_="rollUp",this.flushDisplayed(g),this.nonDisplayed_=xa(),this.displayed_=xa()),v!==void 0&&v!==this.row_)for(var A=0;A<this.rollUpRows_;A++)this.displayed_[v-A]=this.displayed_[this.row_-A],this.displayed_[this.row_-A]={text:"",indent:0,offset:0};v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},cr.prototype.addFormatting=function(g,v){this.formatting_=this.formatting_.concat(v);var A=v.reduce(function(E,M){return E+"<"+M+">"},"");this[this.mode_](g,A)},cr.prototype.clearFormatting=function(g){if(this.formatting_.length){var v=this.formatting_.reverse().reduce(function(A,E){return A+"</"+E+">"},"");this.formatting_=[],this[this.mode_](g,v)}},cr.prototype.popOn=function(g,v){var A=this.nonDisplayed_[this.row_].text;A+=v,this.nonDisplayed_[this.row_].text=A},cr.prototype.rollUp=function(g,v){var A=this.displayed_[this.row_].text;A+=v,this.displayed_[this.row_].text=A},cr.prototype.shiftRowsUp_=function(){var g;for(g=0;g<this.topRow_;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.row_+1;g<Cc+1;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.topRow_;g<this.row_;g++)this.displayed_[g]=this.displayed_[g+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},cr.prototype.paintOn=function(g,v){var A=this.displayed_[this.row_].text;A+=v,this.displayed_[this.row_].text=A};var Jm={CaptionStream:Vt,Cea608Stream:cr,Cea708Stream:Yt},wc={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ie=r,te=8589934592,ce=4294967296,Ae="shared",ot=function(g,v){var A=1;for(g>v&&(A=-1);Math.abs(v-g)>ce;)g+=A*te;return g},gt=function(g){var v,A;gt.prototype.init.call(this),this.type_=g||Ae,this.push=function(E){if(E.type==="metadata"){this.trigger("data",E);return}this.type_!==Ae&&E.type!==this.type_||(A===void 0&&(A=E.dts),E.dts=ot(E.dts,A),E.pts=ot(E.pts,A),v=E.dts,this.trigger("data",E))},this.flush=function(){A=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){A=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};gt.prototype=new ie;var qt={TimestampRolloverStream:gt,handleRollover:ot},Fr=(g,v,A)=>{if(!g)return-1;for(var E=A;E<g.length;E++)if(g[E]===v)return E;return-1},St={typedArrayIndexOf:Fr},Pt=St.typedArrayIndexOf,je={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},dt=function(g,v,A){var E,M="";for(E=v;E<A;E++)M+="%"+("00"+g[E].toString(16)).slice(-2);return M},Ve=function(g,v,A){return decodeURIComponent(dt(g,v,A))},$t=function(g,v,A){return unescape(dt(g,v,A))},lt=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},Gi={APIC:function(g){var v=1,A,E,M="-->";g.data[0]===je.Utf8&&(A=Pt(g.data,0,v),!(A<0)&&(g.mimeType=$t(g.data,v,A),v=A+1,g.pictureType=g.data[v],v++,E=Pt(g.data,0,v),!(E<0)&&(g.description=Ve(g.data,v,E),v=E+1,g.mimeType===M?g.url=$t(g.data,v,g.data.length):g.pictureData=g.data.subarray(v,g.data.length))))},"T*":function(g){g.data[0]===je.Utf8&&(g.value=Ve(g.data,1,g.data.length).replace(/\0*$/,""),g.values=g.value.split("\0"))},TXXX:function(g){var v;g.data[0]===je.Utf8&&(v=Pt(g.data,0,1),v!==-1&&(g.description=Ve(g.data,1,v),g.value=Ve(g.data,v+1,g.data.length).replace(/\0*$/,""),g.data=g.value))},"W*":function(g){g.url=$t(g.data,0,g.data.length).replace(/\0.*$/,"")},WXXX:function(g){var v;g.data[0]===je.Utf8&&(v=Pt(g.data,0,1),v!==-1&&(g.description=Ve(g.data,1,v),g.url=$t(g.data,v+1,g.data.length).replace(/\0.*$/,"")))},PRIV:function(g){var v;for(v=0;v<g.data.length;v++)if(g.data[v]===0){g.owner=$t(g.data,0,v);break}g.privateData=g.data.subarray(v+1),g.data=g.privateData}},ys=function(g){var v,A,E=10,M=0,O=[];if(!(g.length<10||g[0]!==73||g[1]!==68||g[2]!==51)){M=lt(g.subarray(6,10)),M+=10;var Q=g[5]&64;Q&&(E+=4,E+=lt(g.subarray(10,14)),M-=lt(g.subarray(16,20)));do{if(v=lt(g.subarray(E+4,E+8)),v<1)break;A=String.fromCharCode(g[E],g[E+1],g[E+2],g[E+3]);var ee={id:A,data:g.subarray(E+10,E+v+10)};ee.key=ee.id,Gi[ee.id]?Gi[ee.id](ee):ee.id[0]==="T"?Gi["T*"](ee):ee.id[0]==="W"&&Gi["W*"](ee),O.push(ee),E+=10,E+=v}while(E<M);return O}},Ca={parseId3Frames:ys,parseSyncSafeInteger:lt,frameParsers:Gi},Or=r,Ur=wc,er=Ca,tr;tr=function(g){var v={descriptor:g&&g.descriptor},A=0,E=[],M=0,O;if(tr.prototype.init.call(this),this.dispatchType=Ur.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(O=0;O<v.descriptor.length;O++)this.dispatchType+=("00"+v.descriptor[O].toString(16)).slice(-2);this.push=function(Q){var ee,re,ae,pe,Se,Je;if(Q.type==="timed-metadata"){if(Q.dataAlignmentIndicator&&(M=0,E.length=0),E.length===0&&(Q.data.length<10||Q.data[0]!==73||Q.data[1]!==68||Q.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(E.push(Q),M+=Q.data.byteLength,E.length===1&&(A=er.parseSyncSafeInteger(Q.data.subarray(6,10)),A+=10),!(M<A)){for(ee={data:new Uint8Array(A),frames:[],pts:E[0].pts,dts:E[0].dts},Se=0;Se<A;)ee.data.set(E[0].data.subarray(0,A-Se),Se),Se+=E[0].data.byteLength,M-=E[0].data.byteLength,E.shift();re=10,ee.data[5]&64&&(re+=4,re+=er.parseSyncSafeInteger(ee.data.subarray(10,14)),A-=er.parseSyncSafeInteger(ee.data.subarray(16,20)));do{if(ae=er.parseSyncSafeInteger(ee.data.subarray(re+4,re+8)),ae<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Je=String.fromCharCode(ee.data[re],ee.data[re+1],ee.data[re+2],ee.data[re+3]),pe={id:Je,data:ee.data.subarray(re+10,re+ae+10)},pe.key=pe.id,er.frameParsers[pe.id]?er.frameParsers[pe.id](pe):pe.id[0]==="T"?er.frameParsers["T*"](pe):pe.id[0]==="W"&&er.frameParsers["W*"](pe),pe.owner==="com.apple.streaming.transportStreamTimestamp"){var Be=pe.data,pt=(Be[3]&1)<<30|Be[4]<<22|Be[5]<<14|Be[6]<<6|Be[7]>>>2;pt*=4,pt+=Be[7]&3,pe.timeStamp=pt,ee.pts===void 0&&ee.dts===void 0&&(ee.pts=pe.timeStamp,ee.dts=pe.timeStamp),this.trigger("timestamp",pe)}ee.frames.push(pe),re+=10,re+=ae}while(re<A);this.trigger("data",ee)}}}},tr.prototype=new Or;var ho=tr,Ks=r,wl=Jm,$n=wc,Jf=qt.TimestampRolloverStream,po,wa,mo,Xs=188,Sl=71;po=function(){var g=new Uint8Array(Xs),v=0;po.prototype.init.call(this),this.push=function(A){var E=0,M=Xs,O;for(v?(O=new Uint8Array(A.byteLength+v),O.set(g.subarray(0,v)),O.set(A,v),v=0):O=A;M<O.byteLength;){if(O[E]===Sl&&O[M]===Sl){this.trigger("data",O.subarray(E,M)),E+=Xs,M+=Xs;continue}E++,M++}E<O.byteLength&&(g.set(O.subarray(E),0),v=O.byteLength-E)},this.flush=function(){v===Xs&&g[0]===Sl&&(this.trigger("data",g),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},po.prototype=new Ks,wa=function(){var g,v,A,E;wa.prototype.init.call(this),E=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,g=function(M,O){var Q=0;O.payloadUnitStartIndicator&&(Q+=M[Q]+1),O.type==="pat"?v(M.subarray(Q),O):A(M.subarray(Q),O)},v=function(M,O){O.section_number=M[7],O.last_section_number=M[8],E.pmtPid=(M[10]&31)<<8|M[11],O.pmtPid=E.pmtPid},A=function(M,O){var Q,ee,re,ae;if(M[5]&1){for(E.programMapTable={video:null,audio:null,"timed-metadata":{}},Q=(M[1]&15)<<8|M[2],ee=3+Q-4,re=(M[10]&15)<<8|M[11],ae=12+re;ae<ee;){var pe=M[ae],Se=(M[ae+1]&31)<<8|M[ae+2];pe===$n.H264_STREAM_TYPE&&E.programMapTable.video===null?E.programMapTable.video=Se:pe===$n.ADTS_STREAM_TYPE&&E.programMapTable.audio===null?E.programMapTable.audio=Se:pe===$n.METADATA_STREAM_TYPE&&(E.programMapTable["timed-metadata"][Se]=pe),ae+=((M[ae+3]&15)<<8|M[ae+4])+5}O.programMapTable=E.programMapTable}},this.push=function(M){var O={},Q=4;if(O.payloadUnitStartIndicator=!!(M[1]&64),O.pid=M[1]&31,O.pid<<=8,O.pid|=M[2],(M[3]&48)>>>4>1&&(Q+=M[Q]+1),O.pid===0)O.type="pat",g(M.subarray(Q),O),this.trigger("data",O);else if(O.pid===this.pmtPid)for(O.type="pmt",g(M.subarray(Q),O),this.trigger("data",O);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([M,Q,O]):this.processPes_(M,Q,O)},this.processPes_=function(M,O,Q){Q.pid===this.programMapTable.video?Q.streamType=$n.H264_STREAM_TYPE:Q.pid===this.programMapTable.audio?Q.streamType=$n.ADTS_STREAM_TYPE:Q.streamType=this.programMapTable["timed-metadata"][Q.pid],Q.type="pes",Q.data=M.subarray(O),this.trigger("data",Q)}},wa.prototype=new Ks,wa.STREAM_TYPES={h264:27,adts:15},mo=function(){var g=this,v=!1,A={data:[],size:0},E={data:[],size:0},M={data:[],size:0},O,Q=function(re,ae){var pe;const Se=re[0]<<16|re[1]<<8|re[2];ae.data=new Uint8Array,Se===1&&(ae.packetLength=6+(re[4]<<8|re[5]),ae.dataAlignmentIndicator=(re[6]&4)!==0,pe=re[7],pe&192&&(ae.pts=(re[9]&14)<<27|(re[10]&255)<<20|(re[11]&254)<<12|(re[12]&255)<<5|(re[13]&254)>>>3,ae.pts*=4,ae.pts+=(re[13]&6)>>>1,ae.dts=ae.pts,pe&64&&(ae.dts=(re[14]&14)<<27|(re[15]&255)<<20|(re[16]&254)<<12|(re[17]&255)<<5|(re[18]&254)>>>3,ae.dts*=4,ae.dts+=(re[18]&6)>>>1)),ae.data=re.subarray(9+re[8]))},ee=function(re,ae,pe){var Se=new Uint8Array(re.size),Je={type:ae},Be=0,pt=0,Ct=!1,Xr;if(!(!re.data.length||re.size<9)){for(Je.trackId=re.data[0].pid,Be=0;Be<re.data.length;Be++)Xr=re.data[Be],Se.set(Xr.data,pt),pt+=Xr.data.byteLength;Q(Se,Je),Ct=ae==="video"||Je.packetLength<=re.size,(pe||Ct)&&(re.size=0,re.data.length=0),Ct&&g.trigger("data",Je)}};mo.prototype.init.call(this),this.push=function(re){({pat:function(){},pes:function(){var ae,pe;switch(re.streamType){case $n.H264_STREAM_TYPE:ae=A,pe="video";break;case $n.ADTS_STREAM_TYPE:ae=E,pe="audio";break;case $n.METADATA_STREAM_TYPE:ae=M,pe="timed-metadata";break;default:return}re.payloadUnitStartIndicator&&ee(ae,pe,!0),ae.data.push(re),ae.size+=re.data.byteLength},pmt:function(){var ae={type:"metadata",tracks:[]};O=re.programMapTable,O.video!==null&&ae.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.video,codec:"avc",type:"video"}),O.audio!==null&&ae.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.audio,codec:"adts",type:"audio"}),v=!0,g.trigger("data",ae)}})[re.type]()},this.reset=function(){A.size=0,A.data.length=0,E.size=0,E.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ee(A,"video"),ee(E,"audio"),ee(M,"timed-metadata")},this.flush=function(){if(!v&&O){var re={type:"metadata",tracks:[]};O.video!==null&&re.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.video,codec:"avc",type:"video"}),O.audio!==null&&re.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.audio,codec:"adts",type:"audio"}),g.trigger("data",re)}v=!1,this.flushStreams_(),this.trigger("done")}},mo.prototype=new Ks;var Sc={PAT_PID:0,MP2T_PACKET_LENGTH:Xs,TransportPacketStream:po,TransportParseStream:wa,ElementaryStream:mo,TimestampRolloverStream:Jf,CaptionStream:wl.CaptionStream,Cea608Stream:wl.Cea608Stream,Cea708Stream:wl.Cea708Stream,MetadataStream:ho};for(var kl in $n)$n.hasOwnProperty(kl)&&(Sc[kl]=$n[kl]);var eh=Sc,jn=r,di=st.ONE_SECOND_IN_TS,mn,kc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];mn=function(g){var v,A=0;mn.prototype.init.call(this),this.skipWarn_=function(E,M){this.trigger("log",{level:"warn",message:`adts skiping bytes ${E} to ${M} in frame ${A} outside syncword`})},this.push=function(E){var M=0,O,Q,ee,re,ae;if(g||(A=0),E.type==="audio"){v&&v.length?(ee=v,v=new Uint8Array(ee.byteLength+E.data.byteLength),v.set(ee),v.set(E.data,ee.byteLength)):v=E.data;for(var pe;M+7<v.length;){if(v[M]!==255||(v[M+1]&246)!==240){typeof pe!="number"&&(pe=M),M++;continue}if(typeof pe=="number"&&(this.skipWarn_(pe,M),pe=null),Q=(~v[M+1]&1)*2,O=(v[M+3]&3)<<11|v[M+4]<<3|(v[M+5]&224)>>5,re=((v[M+6]&3)+1)*1024,ae=re*di/kc[(v[M+2]&60)>>>2],v.byteLength-M<O)break;this.trigger("data",{pts:E.pts+A*ae,dts:E.dts+A*ae,sampleCount:re,audioobjecttype:(v[M+2]>>>6&3)+1,channelcount:(v[M+2]&1)<<2|(v[M+3]&192)>>>6,samplerate:kc[(v[M+2]&60)>>>2],samplingfrequencyindex:(v[M+2]&60)>>>2,samplesize:16,data:v.subarray(M+7+Q,M+O)}),A++,M+=O}typeof pe=="number"&&(this.skipWarn_(pe,M),pe=null),v=v.subarray(M)}},this.flush=function(){A=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},mn.prototype=new jn;var Ci=mn,Ic;Ic=function(g){var v=g.byteLength,A=0,E=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+E},this.loadWord=function(){var M=g.byteLength-v,O=new Uint8Array(4),Q=Math.min(4,v);if(Q===0)throw new Error("no bytes available");O.set(g.subarray(M,M+Q)),A=new DataView(O.buffer).getUint32(0),E=Q*8,v-=Q},this.skipBits=function(M){var O;E>M?(A<<=M,E-=M):(M-=E,O=Math.floor(M/8),M-=O*8,v-=O,this.loadWord(),A<<=M,E-=M)},this.readBits=function(M){var O=Math.min(E,M),Q=A>>>32-O;return E-=O,E>0?A<<=O:v>0&&this.loadWord(),O=M-O,O>0?Q<<O|this.readBits(O):Q},this.skipLeadingZeros=function(){var M;for(M=0;M<E;++M)if(A&2147483648>>>M)return A<<=M,E-=M,M;return this.loadWord(),M+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var M=this.skipLeadingZeros();return this.readBits(M+1)-1},this.readExpGolomb=function(){var M=this.readUnsignedExpGolomb();return 1&M?1+M>>>1:-1*(M>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var We=Ic,eg=r,jv=We,Dc,Il,tg;Il=function(){var g=0,v,A;Il.prototype.init.call(this),this.push=function(E){var M;A?(M=new Uint8Array(A.byteLength+E.data.byteLength),M.set(A),M.set(E.data,A.byteLength),A=M):A=E.data;for(var O=A.byteLength;g<O-3;g++)if(A[g+2]===1){v=g+5;break}for(;v<O;)switch(A[v]){case 0:if(A[v-1]!==0){v+=2;break}else if(A[v-2]!==0){v++;break}g+3!==v-2&&this.trigger("data",A.subarray(g+3,v-2));do v++;while(A[v]!==1&&v<O);g=v-2,v+=3;break;case 1:if(A[v-1]!==0||A[v-2]!==0){v+=3;break}this.trigger("data",A.subarray(g+3,v-2)),g=v-2,v+=3;break;default:v+=3;break}A=A.subarray(g),v-=g,g=0},this.reset=function(){A=null,g=0,this.trigger("reset")},this.flush=function(){A&&A.byteLength>3&&this.trigger("data",A.subarray(g+3)),A=null,g=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Il.prototype=new eg,tg={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Dc=function(){var g=new Il,v,A,E,M,O,Q,ee;Dc.prototype.init.call(this),v=this,this.push=function(re){re.type==="video"&&(A=re.trackId,E=re.pts,M=re.dts,g.push(re))},g.on("data",function(re){var ae={trackId:A,pts:E,dts:M,data:re,nalUnitTypeCode:re[0]&31};switch(ae.nalUnitTypeCode){case 5:ae.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ae.nalUnitType="sei_rbsp",ae.escapedRBSP=O(re.subarray(1));break;case 7:ae.nalUnitType="seq_parameter_set_rbsp",ae.escapedRBSP=O(re.subarray(1)),ae.config=Q(ae.escapedRBSP);break;case 8:ae.nalUnitType="pic_parameter_set_rbsp";break;case 9:ae.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",ae)}),g.on("done",function(){v.trigger("done")}),g.on("partialdone",function(){v.trigger("partialdone")}),g.on("reset",function(){v.trigger("reset")}),g.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){g.flush()},this.partialFlush=function(){g.partialFlush()},this.reset=function(){g.reset()},this.endTimeline=function(){g.endTimeline()},ee=function(re,ae){var pe=8,Se=8,Je,Be;for(Je=0;Je<re;Je++)Se!==0&&(Be=ae.readExpGolomb(),Se=(pe+Be+256)%256),pe=Se===0?pe:Se},O=function(re){for(var ae=re.byteLength,pe=[],Se=1,Je,Be;Se<ae-2;)re[Se]===0&&re[Se+1]===0&&re[Se+2]===3?(pe.push(Se+2),Se+=2):Se++;if(pe.length===0)return re;Je=ae-pe.length,Be=new Uint8Array(Je);var pt=0;for(Se=0;Se<Je;pt++,Se++)pt===pe[0]&&(pt++,pe.shift()),Be[Se]=re[pt];return Be},Q=function(re){var ae=0,pe=0,Se=0,Je=0,Be,pt,Ct,Xr,Yi,Ol,kO,IO,DO,lT,NO,jr=[1,1],MO,Ll;if(Be=new jv(re),pt=Be.readUnsignedByte(),Xr=Be.readUnsignedByte(),Ct=Be.readUnsignedByte(),Be.skipUnsignedExpGolomb(),tg[pt]&&(Yi=Be.readUnsignedExpGolomb(),Yi===3&&Be.skipBits(1),Be.skipUnsignedExpGolomb(),Be.skipUnsignedExpGolomb(),Be.skipBits(1),Be.readBoolean()))for(NO=Yi!==3?8:12,Ll=0;Ll<NO;Ll++)Be.readBoolean()&&(Ll<6?ee(16,Be):ee(64,Be));if(Be.skipUnsignedExpGolomb(),Ol=Be.readUnsignedExpGolomb(),Ol===0)Be.readUnsignedExpGolomb();else if(Ol===1)for(Be.skipBits(1),Be.skipExpGolomb(),Be.skipExpGolomb(),kO=Be.readUnsignedExpGolomb(),Ll=0;Ll<kO;Ll++)Be.skipExpGolomb();if(Be.skipUnsignedExpGolomb(),Be.skipBits(1),IO=Be.readUnsignedExpGolomb(),DO=Be.readUnsignedExpGolomb(),lT=Be.readBits(1),lT===0&&Be.skipBits(1),Be.skipBits(1),Be.readBoolean()&&(ae=Be.readUnsignedExpGolomb(),pe=Be.readUnsignedExpGolomb(),Se=Be.readUnsignedExpGolomb(),Je=Be.readUnsignedExpGolomb()),Be.readBoolean()&&Be.readBoolean()){switch(MO=Be.readUnsignedByte(),MO){case 1:jr=[1,1];break;case 2:jr=[12,11];break;case 3:jr=[10,11];break;case 4:jr=[16,11];break;case 5:jr=[40,33];break;case 6:jr=[24,11];break;case 7:jr=[20,11];break;case 8:jr=[32,11];break;case 9:jr=[80,33];break;case 10:jr=[18,11];break;case 11:jr=[15,11];break;case 12:jr=[64,33];break;case 13:jr=[160,99];break;case 14:jr=[4,3];break;case 15:jr=[3,2];break;case 16:jr=[2,1];break;case 255:{jr=[Be.readUnsignedByte()<<8|Be.readUnsignedByte(),Be.readUnsignedByte()<<8|Be.readUnsignedByte()];break}}jr&&jr[0]/jr[1]}return{profileIdc:pt,levelIdc:Ct,profileCompatibility:Xr,width:(IO+1)*16-ae*2-pe*2,height:(2-lT)*(DO+1)*16-Se*2-Je*2,sarRatio:jr}}},Dc.prototype=new eg;var Hv={H264Stream:Dc,NalByteStream:Il},zv=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],rg=function(g,v){var A=g[v+6]<<21|g[v+7]<<14|g[v+8]<<7|g[v+9],E=g[v+5],M=(E&16)>>4;return A=A>=0?A:0,M?A+20:A+10},ng=function(g,v){return g.length-v<10||g[v]!==73||g[v+1]!==68||g[v+2]!==51?v:(v+=rg(g,v),ng(g,v))},Vv=function(g){var v=ng(g,0);return g.length>=v+2&&(g[v]&255)===255&&(g[v+1]&240)===240&&(g[v+1]&22)===16},ig=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},qv=function(g,v,A){var E,M="";for(E=v;E<A;E++)M+="%"+("00"+g[E].toString(16)).slice(-2);return M},Wv=function(g,v,A){return unescape(qv(g,v,A))},Gv=function(g,v){var A=(g[v+5]&224)>>5,E=g[v+4]<<3,M=g[v+3]&6144;return M|E|A},Yv=function(g,v){return g[v]===73&&g[v+1]===68&&g[v+2]===51?"timed-metadata":g[v]&!0&&(g[v+1]&240)===240?"audio":null},Qv=function(g){for(var v=0;v+5<g.length;){if(g[v]!==255||(g[v+1]&246)!==240){v++;continue}return zv[(g[v+2]&60)>>>2]}return null},Kv=function(g){var v,A,E,M;v=10,g[5]&64&&(v+=4,v+=ig(g.subarray(10,14)));do{if(A=ig(g.subarray(v+4,v+8)),A<1)return null;if(M=String.fromCharCode(g[v],g[v+1],g[v+2],g[v+3]),M==="PRIV"){E=g.subarray(v+10,v+A+10);for(var O=0;O<E.byteLength;O++)if(E[O]===0){var Q=Wv(E,0,O);if(Q==="com.apple.streaming.transportStreamTimestamp"){var ee=E.subarray(O+1),re=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;return re*=4,re+=ee[7]&3,re}break}}v+=10,v+=A}while(v<g.byteLength);return null},or={isLikelyAacData:Vv,parseId3TagSize:rg,parseAdtsSize:Gv,parseType:Yv,parseSampleRate:Qv,parseAacTimestamp:Kv},fe=r,we=or,Qt;Qt=function(){var g=new Uint8Array,v=0;Qt.prototype.init.call(this),this.setTimestamp=function(A){v=A},this.push=function(A){var E=0,M=0,O,Q,ee,re;for(g.length?(re=g.length,g=new Uint8Array(A.byteLength+re),g.set(g.subarray(0,re)),g.set(A,re)):g=A;g.length-M>=3;){if(g[M]===73&&g[M+1]===68&&g[M+2]===51){if(g.length-M<10||(E=we.parseId3TagSize(g,M),M+E>g.length))break;Q={type:"timed-metadata",data:g.subarray(M,M+E)},this.trigger("data",Q),M+=E;continue}else if((g[M]&255)===255&&(g[M+1]&240)===240){if(g.length-M<7||(E=we.parseAdtsSize(g,M),M+E>g.length))break;ee={type:"audio",data:g.subarray(M,M+E),pts:v,dts:v},this.trigger("data",ee),M+=E;continue}M++}O=g.length-M,O>0?g=g.subarray(M):g=new Uint8Array},this.reset=function(){g=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){g=new Uint8Array,this.trigger("endedtimeline")}},Qt.prototype=new fe;var Xv=Qt,Dl=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],th=Dl,Zv=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Rve=Zv,sg=r,rh=le,nh=be,ag=bs,_s=Ti,Sa=eh,og=st,sO=Ci,Bve=Hv.H264Stream,Pve=Xv,Fve=or.isLikelyAacData,Uve=st.ONE_SECOND_IN_TS,Jv=th,eT=Rve,ih,Nc,lg,Nl,$ve=function(g,v){v.stream=g,this.trigger("log",v)},aO=function(g,v){for(var A=Object.keys(v),E=0;E<A.length;E++){var M=A[E];M==="headOfPipeline"||!v[M].on||v[M].on("log",$ve.bind(g,M))}},oO=function(g,v){var A;if(g.length!==v.length)return!1;for(A=0;A<g.length;A++)if(g[A]!==v[A])return!1;return!0},tT=function(g,v,A,E,M,O){var Q=A-v,ee=E-v,re=M-A;return{start:{dts:g,pts:g+Q},end:{dts:g+ee,pts:g+re},prependedContentDuration:O,baseMediaDecodeTime:g}};Nc=function(g,v){var A=[],E,M=0,O=0,Q=1/0;v=v||{},E=v.firstSequenceNumber||0,Nc.prototype.init.call(this),this.push=function(ee){_s.collectDtsInfo(g,ee),g&&Jv.forEach(function(re){g[re]=ee[re]}),A.push(ee)},this.setEarliestDts=function(ee){M=ee},this.setVideoBaseMediaDecodeTime=function(ee){Q=ee},this.setAudioAppendStart=function(ee){O=ee},this.flush=function(){var ee,re,ae,pe,Se,Je,Be;if(A.length===0){this.trigger("done","AudioSegmentStream");return}ee=ag.trimAdtsFramesByEarliestDts(A,g,M),g.baseMediaDecodeTime=_s.calculateTrackBaseMediaDecodeTime(g,v.keepOriginalTimestamps),Be=ag.prefixWithSilence(g,ee,O,Q),g.samples=ag.generateSampleTable(ee),ae=rh.mdat(ag.concatenateFrameData(ee)),A=[],re=rh.moof(E,[g]),pe=new Uint8Array(re.byteLength+ae.byteLength),E++,pe.set(re),pe.set(ae,re.byteLength),_s.clearDtsInfo(g),Se=Math.ceil(Uve*1024/g.samplerate),ee.length&&(Je=ee.length*Se,this.trigger("segmentTimingInfo",tT(og.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),ee[0].dts,ee[0].pts,ee[0].dts+Je,ee[0].pts+Je,Be||0)),this.trigger("timingInfo",{start:ee[0].pts,end:ee[0].pts+Je})),this.trigger("data",{track:g,boxes:pe}),this.trigger("done","AudioSegmentStream")},this.reset=function(){_s.clearDtsInfo(g),A=[],this.trigger("reset")}},Nc.prototype=new sg,ih=function(g,v){var A,E=[],M=[],O,Q;v=v||{},A=v.firstSequenceNumber||0,ih.prototype.init.call(this),delete g.minPTS,this.gopCache_=[],this.push=function(ee){_s.collectDtsInfo(g,ee),ee.nalUnitType==="seq_parameter_set_rbsp"&&!O&&(O=ee.config,g.sps=[ee.data],eT.forEach(function(re){g[re]=O[re]},this)),ee.nalUnitType==="pic_parameter_set_rbsp"&&!Q&&(Q=ee.data,g.pps=[ee.data]),E.push(ee)},this.flush=function(){for(var ee,re,ae,pe,Se,Je,Be=0,pt,Ct;E.length&&E[0].nalUnitType!=="access_unit_delimiter_rbsp";)E.shift();if(E.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ee=nh.groupNalsIntoFrames(E),ae=nh.groupFramesIntoGops(ee),ae[0][0].keyFrame||(re=this.getGopForFusion_(E[0],g),re?(Be=re.duration,ae.unshift(re),ae.byteLength+=re.byteLength,ae.nalCount+=re.nalCount,ae.pts=re.pts,ae.dts=re.dts,ae.duration+=re.duration):ae=nh.extendFirstKeyFrame(ae)),M.length){var Xr;if(v.alignGopsAtEnd?Xr=this.alignGopsAtEnd_(ae):Xr=this.alignGopsAtStart_(ae),!Xr){this.gopCache_.unshift({gop:ae.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}_s.clearDtsInfo(g),ae=Xr}_s.collectDtsInfo(g,ae),g.samples=nh.generateSampleTable(ae),Se=rh.mdat(nh.concatenateNalData(ae)),g.baseMediaDecodeTime=_s.calculateTrackBaseMediaDecodeTime(g,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",ae.map(function(Yi){return{pts:Yi.pts,dts:Yi.dts,byteLength:Yi.byteLength}})),pt=ae[0],Ct=ae[ae.length-1],this.trigger("segmentTimingInfo",tT(g.baseMediaDecodeTime,pt.dts,pt.pts,Ct.dts+Ct.duration,Ct.pts+Ct.duration,Be)),this.trigger("timingInfo",{start:ae[0].pts,end:ae[ae.length-1].pts+ae[ae.length-1].duration}),this.gopCache_.unshift({gop:ae.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.trigger("baseMediaDecodeTime",g.baseMediaDecodeTime),this.trigger("timelineStartInfo",g.timelineStartInfo),pe=rh.moof(A,[g]),Je=new Uint8Array(pe.byteLength+Se.byteLength),A++,Je.set(pe),Je.set(Se,pe.byteLength),this.trigger("data",{track:g,boxes:Je}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),E=[],this.gopCache_.length=0,M.length=0,this.trigger("reset")},this.resetStream_=function(){_s.clearDtsInfo(g),O=void 0,Q=void 0},this.getGopForFusion_=function(ee){var re=45e3,ae=1e4,pe=1/0,Se,Je,Be,pt,Ct;for(Ct=0;Ct<this.gopCache_.length;Ct++)pt=this.gopCache_[Ct],Be=pt.gop,!(!(g.pps&&oO(g.pps[0],pt.pps[0]))||!(g.sps&&oO(g.sps[0],pt.sps[0])))&&(Be.dts<g.timelineStartInfo.dts||(Se=ee.dts-Be.dts-Be.duration,Se>=-ae&&Se<=re&&(!Je||pe>Se)&&(Je=pt,pe=Se)));return Je?Je.gop:null},this.alignGopsAtStart_=function(ee){var re,ae,pe,Se,Je,Be,pt,Ct;for(Je=ee.byteLength,Be=ee.nalCount,pt=ee.duration,re=ae=0;re<M.length&&ae<ee.length&&(pe=M[re],Se=ee[ae],pe.pts!==Se.pts);){if(Se.pts>pe.pts){re++;continue}ae++,Je-=Se.byteLength,Be-=Se.nalCount,pt-=Se.duration}return ae===0?ee:ae===ee.length?null:(Ct=ee.slice(ae),Ct.byteLength=Je,Ct.duration=pt,Ct.nalCount=Be,Ct.pts=Ct[0].pts,Ct.dts=Ct[0].dts,Ct)},this.alignGopsAtEnd_=function(ee){var re,ae,pe,Se,Je,Be;for(re=M.length-1,ae=ee.length-1,Je=null,Be=!1;re>=0&&ae>=0;){if(pe=M[re],Se=ee[ae],pe.pts===Se.pts){Be=!0;break}if(pe.pts>Se.pts){re--;continue}re===M.length-1&&(Je=ae),ae--}if(!Be&&Je===null)return null;var pt;if(Be?pt=ae:pt=Je,pt===0)return ee;var Ct=ee.slice(pt),Xr=Ct.reduce(function(Yi,Ol){return Yi.byteLength+=Ol.byteLength,Yi.duration+=Ol.duration,Yi.nalCount+=Ol.nalCount,Yi},{byteLength:0,duration:0,nalCount:0});return Ct.byteLength=Xr.byteLength,Ct.duration=Xr.duration,Ct.nalCount=Xr.nalCount,Ct.pts=Ct[0].pts,Ct.dts=Ct[0].dts,Ct},this.alignGopsWith=function(ee){M=ee}},ih.prototype=new sg,Nl=function(g,v){this.numberOfTracks=0,this.metadataStream=v,g=g||{},typeof g.remux<"u"?this.remuxTracks=!!g.remux:this.remuxTracks=!0,typeof g.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=g.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Nl.prototype.init.call(this),this.push=function(A){if(A.content||A.text)return this.pendingCaptions.push(A);if(A.frames)return this.pendingMetadata.push(A);this.pendingTracks.push(A.track),this.pendingBytes+=A.boxes.byteLength,A.track.type==="video"&&(this.videoTrack=A.track,this.pendingBoxes.push(A.boxes)),A.track.type==="audio"&&(this.audioTrack=A.track,this.pendingBoxes.unshift(A.boxes))}},Nl.prototype=new sg,Nl.prototype.flush=function(g){var v=0,A={captions:[],captionStreams:{},metadata:[],info:{}},E,M,O,Q=0,ee;if(this.pendingTracks.length<this.numberOfTracks){if(g!=="VideoSegmentStream"&&g!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(Q=this.videoTrack.timelineStartInfo.pts,eT.forEach(function(re){A.info[re]=this.videoTrack[re]},this)):this.audioTrack&&(Q=this.audioTrack.timelineStartInfo.pts,Jv.forEach(function(re){A.info[re]=this.audioTrack[re]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?A.type=this.pendingTracks[0].type:A.type="combined",this.emittedTracks+=this.pendingTracks.length,O=rh.initSegment(this.pendingTracks),A.initSegment=new Uint8Array(O.byteLength),A.initSegment.set(O),A.data=new Uint8Array(this.pendingBytes),ee=0;ee<this.pendingBoxes.length;ee++)A.data.set(this.pendingBoxes[ee],v),v+=this.pendingBoxes[ee].byteLength;for(ee=0;ee<this.pendingCaptions.length;ee++)E=this.pendingCaptions[ee],E.startTime=og.metadataTsToSeconds(E.startPts,Q,this.keepOriginalTimestamps),E.endTime=og.metadataTsToSeconds(E.endPts,Q,this.keepOriginalTimestamps),A.captionStreams[E.stream]=!0,A.captions.push(E);for(ee=0;ee<this.pendingMetadata.length;ee++)M=this.pendingMetadata[ee],M.cueTime=og.metadataTsToSeconds(M.pts,Q,this.keepOriginalTimestamps),A.metadata.push(M);for(A.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",A),ee=0;ee<A.captions.length;ee++)E=A.captions[ee],this.trigger("caption",E);for(ee=0;ee<A.metadata.length;ee++)M=A.metadata[ee],this.trigger("id3Frame",M)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Nl.prototype.setRemux=function(g){this.remuxTracks=g},lg=function(g){var v=this,A=!0,E,M;lg.prototype.init.call(this),g=g||{},this.baseMediaDecodeTime=g.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var O={};this.transmuxPipeline_=O,O.type="aac",O.metadataStream=new Sa.MetadataStream,O.aacStream=new Pve,O.audioTimestampRolloverStream=new Sa.TimestampRolloverStream("audio"),O.timedMetadataTimestampRolloverStream=new Sa.TimestampRolloverStream("timed-metadata"),O.adtsStream=new sO,O.coalesceStream=new Nl(g,O.metadataStream),O.headOfPipeline=O.aacStream,O.aacStream.pipe(O.audioTimestampRolloverStream).pipe(O.adtsStream),O.aacStream.pipe(O.timedMetadataTimestampRolloverStream).pipe(O.metadataStream).pipe(O.coalesceStream),O.metadataStream.on("timestamp",function(Q){O.aacStream.setTimestamp(Q.timeStamp)}),O.aacStream.on("data",function(Q){Q.type!=="timed-metadata"&&Q.type!=="audio"||O.audioSegmentStream||(M=M||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},O.coalesceStream.numberOfTracks++,O.audioSegmentStream=new Nc(M,g),O.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),O.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),O.adtsStream.pipe(O.audioSegmentStream).pipe(O.coalesceStream),v.trigger("trackinfo",{hasAudio:!!M,hasVideo:!!E}))}),O.coalesceStream.on("data",this.trigger.bind(this,"data")),O.coalesceStream.on("done",this.trigger.bind(this,"done")),aO(this,O)},this.setupTsPipeline=function(){var O={};this.transmuxPipeline_=O,O.type="ts",O.metadataStream=new Sa.MetadataStream,O.packetStream=new Sa.TransportPacketStream,O.parseStream=new Sa.TransportParseStream,O.elementaryStream=new Sa.ElementaryStream,O.timestampRolloverStream=new Sa.TimestampRolloverStream,O.adtsStream=new sO,O.h264Stream=new Bve,O.captionStream=new Sa.CaptionStream(g),O.coalesceStream=new Nl(g,O.metadataStream),O.headOfPipeline=O.packetStream,O.packetStream.pipe(O.parseStream).pipe(O.elementaryStream).pipe(O.timestampRolloverStream),O.timestampRolloverStream.pipe(O.h264Stream),O.timestampRolloverStream.pipe(O.adtsStream),O.timestampRolloverStream.pipe(O.metadataStream).pipe(O.coalesceStream),O.h264Stream.pipe(O.captionStream).pipe(O.coalesceStream),O.elementaryStream.on("data",function(Q){var ee;if(Q.type==="metadata"){for(ee=Q.tracks.length;ee--;)!E&&Q.tracks[ee].type==="video"?(E=Q.tracks[ee],E.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!M&&Q.tracks[ee].type==="audio"&&(M=Q.tracks[ee],M.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);E&&!O.videoSegmentStream&&(O.coalesceStream.numberOfTracks++,O.videoSegmentStream=new ih(E,g),O.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),O.videoSegmentStream.on("timelineStartInfo",function(re){M&&!g.keepOriginalTimestamps&&(M.timelineStartInfo=re,O.audioSegmentStream.setEarliestDts(re.dts-v.baseMediaDecodeTime))}),O.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),O.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),O.videoSegmentStream.on("baseMediaDecodeTime",function(re){M&&O.audioSegmentStream.setVideoBaseMediaDecodeTime(re)}),O.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),O.h264Stream.pipe(O.videoSegmentStream).pipe(O.coalesceStream)),M&&!O.audioSegmentStream&&(O.coalesceStream.numberOfTracks++,O.audioSegmentStream=new Nc(M,g),O.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),O.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),O.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),O.adtsStream.pipe(O.audioSegmentStream).pipe(O.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!M,hasVideo:!!E})}}),O.coalesceStream.on("data",this.trigger.bind(this,"data")),O.coalesceStream.on("id3Frame",function(Q){Q.dispatchType=O.metadataStream.dispatchType,v.trigger("id3Frame",Q)}),O.coalesceStream.on("caption",this.trigger.bind(this,"caption")),O.coalesceStream.on("done",this.trigger.bind(this,"done")),aO(this,O)},this.setBaseMediaDecodeTime=function(O){var Q=this.transmuxPipeline_;g.keepOriginalTimestamps||(this.baseMediaDecodeTime=O),M&&(M.timelineStartInfo.dts=void 0,M.timelineStartInfo.pts=void 0,_s.clearDtsInfo(M),Q.audioTimestampRolloverStream&&Q.audioTimestampRolloverStream.discontinuity()),E&&(Q.videoSegmentStream&&(Q.videoSegmentStream.gopCache_=[]),E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,_s.clearDtsInfo(E),Q.captionStream.reset()),Q.timestampRolloverStream&&Q.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(O){M&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(O)},this.setRemux=function(O){var Q=this.transmuxPipeline_;g.remux=O,Q&&Q.coalesceStream&&Q.coalesceStream.setRemux(O)},this.alignGopsWith=function(O){E&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(O)},this.getLogTrigger_=function(O){var Q=this;return function(ee){ee.stream=O,Q.trigger("log",ee)}},this.push=function(O){if(A){var Q=Fve(O);Q&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!Q&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),A=!1}this.transmuxPipeline_.headOfPipeline.push(O)},this.flush=function(){A=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},lg.prototype=new sg;var jve={Transmuxer:lg,VideoSegmentStream:ih,AudioSegmentStream:Nc,AUDIO_PROPERTIES:Jv,VIDEO_PROPERTIES:eT,generateSegmentTimingInfo:tT},Hve=function(g){return g>>>0},zve=function(g){return("00"+g.toString(16)).slice(-2)},ug={toUnsigned:Hve,toHexString:zve},Vve=function(g){var v="";return v+=String.fromCharCode(g[0]),v+=String.fromCharCode(g[1]),v+=String.fromCharCode(g[2]),v+=String.fromCharCode(g[3]),v},lO=Vve,qve=ug.toUnsigned,Wve=lO,uO=function(g,v){var A=[],E,M,O,Q,ee;if(!v.length)return null;for(E=0;E<g.byteLength;)M=qve(g[E]<<24|g[E+1]<<16|g[E+2]<<8|g[E+3]),O=Wve(g.subarray(E+4,E+8)),Q=M>1?E+M:g.byteLength,O===v[0]&&(v.length===1?A.push(g.subarray(E+8,Q)):(ee=uO(g.subarray(E+8,Q),v.slice(1)),ee.length&&(A=A.concat(ee)))),E=Q;return A},cO=uO,Gve=ug.toUnsigned,Yve=s.getUint64,Qve=function(g){var v={version:g[0],flags:new Uint8Array(g.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=Yve(g.subarray(4)):v.baseMediaDecodeTime=Gve(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),v},dO=Qve,Kve=function(g){return{isLeading:(g[0]&12)>>>2,dependsOn:g[0]&3,isDependedOn:(g[1]&192)>>>6,hasRedundancy:(g[1]&48)>>>4,paddingValue:(g[1]&14)>>>1,isNonSyncSample:g[1]&1,degradationPriority:g[2]<<8|g[3]}},Xve=Kve,fO=Xve,Zve=function(g){var v={version:g[0],flags:new Uint8Array(g.subarray(1,4)),samples:[]},A=new DataView(g.buffer,g.byteOffset,g.byteLength),E=v.flags[2]&1,M=v.flags[2]&4,O=v.flags[1]&1,Q=v.flags[1]&2,ee=v.flags[1]&4,re=v.flags[1]&8,ae=A.getUint32(4),pe=8,Se;for(E&&(v.dataOffset=A.getInt32(pe),pe+=4),M&&ae&&(Se={flags:fO(g.subarray(pe,pe+4))},pe+=4,O&&(Se.duration=A.getUint32(pe),pe+=4),Q&&(Se.size=A.getUint32(pe),pe+=4),re&&(v.version===1?Se.compositionTimeOffset=A.getInt32(pe):Se.compositionTimeOffset=A.getUint32(pe),pe+=4),v.samples.push(Se),ae--);ae--;)Se={},O&&(Se.duration=A.getUint32(pe),pe+=4),Q&&(Se.size=A.getUint32(pe),pe+=4),ee&&(Se.flags=fO(g.subarray(pe,pe+4)),pe+=4),re&&(v.version===1?Se.compositionTimeOffset=A.getInt32(pe):Se.compositionTimeOffset=A.getUint32(pe),pe+=4),v.samples.push(Se);return v},hO=Zve,Jve=function(g){var v=new DataView(g.buffer,g.byteOffset,g.byteLength),A={version:g[0],flags:new Uint8Array(g.subarray(1,4)),trackId:v.getUint32(4)},E=A.flags[2]&1,M=A.flags[2]&2,O=A.flags[2]&8,Q=A.flags[2]&16,ee=A.flags[2]&32,re=A.flags[0]&65536,ae=A.flags[0]&131072,pe;return pe=8,E&&(pe+=4,A.baseDataOffset=v.getUint32(12),pe+=4),M&&(A.sampleDescriptionIndex=v.getUint32(pe),pe+=4),O&&(A.defaultSampleDuration=v.getUint32(pe),pe+=4),Q&&(A.defaultSampleSize=v.getUint32(pe),pe+=4),ee&&(A.defaultSampleFlags=v.getUint32(pe)),re&&(A.durationIsEmpty=!0),!E&&ae&&(A.baseDataOffsetIsMoof=!0),A},pO=Jve,sh;typeof window<"u"?sh=window:typeof t<"u"?sh=t:typeof self<"u"?sh=self:sh={};var mO=sh,eTe=Un.discardEmulationPreventionBytes,tTe=Jm.CaptionStream,ah=cO,rTe=dO,nTe=hO,iTe=pO,gO=mO,sTe=function(g,v){for(var A=g,E=0;E<v.length;E++){var M=v[E];if(A<M.size)return M;A-=M.size}return null},aTe=function(g,v,A){var E=new DataView(g.buffer,g.byteOffset,g.byteLength),M={logs:[],seiNals:[]},O,Q,ee,re;for(Q=0;Q+4<g.length;Q+=ee)if(ee=E.getUint32(Q),Q+=4,!(ee<=0))switch(g[Q]&31){case 6:var ae=g.subarray(Q+1,Q+1+ee),pe=sTe(Q,v);if(O={nalUnitType:"sei_rbsp",size:ee,data:ae,escapedRBSP:eTe(ae),trackId:A},pe)O.pts=pe.pts,O.dts=pe.dts,re=pe;else if(re)O.pts=re.pts,O.dts=re.dts;else{M.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Q+" for trackId "+A+". See mux.js#223."});break}M.seiNals.push(O);break}return M},oTe=function(g,v,A){var E=v,M=A.defaultSampleDuration||0,O=A.defaultSampleSize||0,Q=A.trackId,ee=[];return g.forEach(function(re){var ae=nTe(re),pe=ae.samples;pe.forEach(function(Se){Se.duration===void 0&&(Se.duration=M),Se.size===void 0&&(Se.size=O),Se.trackId=Q,Se.dts=E,Se.compositionTimeOffset===void 0&&(Se.compositionTimeOffset=0),typeof E=="bigint"?(Se.pts=E+gO.BigInt(Se.compositionTimeOffset),E+=gO.BigInt(Se.duration)):(Se.pts=E+Se.compositionTimeOffset,E+=Se.duration)}),ee=ee.concat(pe)}),ee},lTe=function(g,v){var A=ah(g,["moof","traf"]),E=ah(g,["mdat"]),M={},O=[];return E.forEach(function(Q,ee){var re=A[ee];O.push({mdat:Q,traf:re})}),O.forEach(function(Q){var ee=Q.mdat,re=Q.traf,ae=ah(re,["tfhd"]),pe=iTe(ae[0]),Se=pe.trackId,Je=ah(re,["tfdt"]),Be=Je.length>0?rTe(Je[0]).baseMediaDecodeTime:0,pt=ah(re,["trun"]),Ct,Xr;v===Se&&pt.length>0&&(Ct=oTe(pt,Be,pe),Xr=aTe(ee,Ct,Se),M[Se]||(M[Se]={seiNals:[],logs:[]}),M[Se].seiNals=M[Se].seiNals.concat(Xr.seiNals),M[Se].logs=M[Se].logs.concat(Xr.logs))}),M},uTe=function(g,v,A){var E;if(v===null)return null;E=lTe(g,v);var M=E[v]||{};return{seiNals:M.seiNals,logs:M.logs,timescale:A}},cTe=function(){var g=!1,v,A,E,M,O,Q;this.isInitialized=function(){return g},this.init=function(ee){v=new tTe,g=!0,Q=ee?ee.isPartial:!1,v.on("data",function(re){re.startTime=re.startPts/M,re.endTime=re.endPts/M,O.captions.push(re),O.captionStreams[re.stream]=!0}),v.on("log",function(re){O.logs.push(re)})},this.isNewInit=function(ee,re){return ee&&ee.length===0||re&&typeof re=="object"&&Object.keys(re).length===0?!1:E!==ee[0]||M!==re[E]},this.parse=function(ee,re,ae){var pe;if(this.isInitialized()){if(!re||!ae)return null;if(this.isNewInit(re,ae))E=re[0],M=ae[E];else if(E===null||!M)return A.push(ee),null}else return null;for(;A.length>0;){var Se=A.shift();this.parse(Se,re,ae)}return pe=uTe(ee,E,M),pe&&pe.logs&&(O.logs=O.logs.concat(pe.logs)),pe===null||!pe.seiNals?O.logs.length?{logs:O.logs,captions:[],captionStreams:[]}:null:(this.pushNals(pe.seiNals),this.flushStream(),O)},this.pushNals=function(ee){if(!this.isInitialized()||!ee||ee.length===0)return null;ee.forEach(function(re){v.push(re)})},this.flushStream=function(){if(!this.isInitialized())return null;Q?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){O.captions=[],O.captionStreams={},O.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){A=[],E=null,M=null,O?this.clearParsedCaptions():O={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},dTe=cTe,fTe=function(g){for(var v=0,A=String.fromCharCode(g[v]),E="";A!=="\0";)E+=A,v++,A=String.fromCharCode(g[v]);return E+=A,E},hTe={uint8ToCString:fTe},cg=hTe.uint8ToCString,pTe=s.getUint64,mTe=function(g){var v=4,A=g[0],E,M,O,Q,ee,re,ae,pe;if(A===0){E=cg(g.subarray(v)),v+=E.length,M=cg(g.subarray(v)),v+=M.length;var Se=new DataView(g.buffer);O=Se.getUint32(v),v+=4,ee=Se.getUint32(v),v+=4,re=Se.getUint32(v),v+=4,ae=Se.getUint32(v),v+=4}else if(A===1){var Se=new DataView(g.buffer);O=Se.getUint32(v),v+=4,Q=pTe(g.subarray(v)),v+=8,re=Se.getUint32(v),v+=4,ae=Se.getUint32(v),v+=4,E=cg(g.subarray(v)),v+=E.length,M=cg(g.subarray(v)),v+=M.length}pe=new Uint8Array(g.subarray(v,g.byteLength));var Je={scheme_id_uri:E,value:M,timescale:O||1,presentation_time:Q,presentation_time_delta:ee,event_duration:re,id:ae,message_data:pe};return bTe(A,Je)?Je:void 0},gTe=function(g,v,A,E){return g||g===0?g/v:E+A/v},bTe=function(g,v){var A=v.scheme_id_uri!=="\0",E=g===0&&bO(v.presentation_time_delta)&&A,M=g===1&&bO(v.presentation_time)&&A;return!(g>1)&&E||M},bO=function(g){return g!==void 0||g!==null},yTe={parseEmsgBox:mTe,scaleTime:gTe},dg=ug.toUnsigned,oh=ug.toHexString,$r=cO,Mc=lO,rT=yTe,_Te=pO,vTe=hO,TTe=dO,ETe=s.getUint64,yO,_O,vO,TO,EO,nT,AO,iT=mO,ATe=Ca.parseId3Frames;yO=function(g){var v={},A=$r(g,["moov","trak"]);return A.reduce(function(E,M){var O,Q,ee,re,ae;return O=$r(M,["tkhd"])[0],!O||(Q=O[0],ee=Q===0?12:20,re=dg(O[ee]<<24|O[ee+1]<<16|O[ee+2]<<8|O[ee+3]),ae=$r(M,["mdia","mdhd"])[0],!ae)?null:(Q=ae[0],ee=Q===0?12:20,E[re]=dg(ae[ee]<<24|ae[ee+1]<<16|ae[ee+2]<<8|ae[ee+3]),E)},v)},_O=function(g,v){var A;A=$r(v,["moof","traf"]);var E=A.reduce(function(M,O){var Q=$r(O,["tfhd"])[0],ee=dg(Q[4]<<24|Q[5]<<16|Q[6]<<8|Q[7]),re=g[ee]||9e4,ae=$r(O,["tfdt"])[0],pe=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),Se;ae[0]===1?Se=ETe(ae.subarray(4,12)):Se=pe.getUint32(4);let Je;return typeof Se=="bigint"?Je=Se/iT.BigInt(re):typeof Se=="number"&&!isNaN(Se)&&(Je=Se/re),Je<Number.MAX_SAFE_INTEGER&&(Je=Number(Je)),Je<M&&(M=Je),M},1/0);return typeof E=="bigint"||isFinite(E)?E:0},vO=function(g,v){var A=$r(v,["moof","traf"]),E=0,M=0,O;if(A&&A.length){var Q=$r(A[0],["tfhd"])[0],ee=$r(A[0],["trun"])[0],re=$r(A[0],["tfdt"])[0];if(Q){var ae=_Te(Q);O=ae.trackId}if(re){var pe=TTe(re);E=pe.baseMediaDecodeTime}if(ee){var Se=vTe(ee);Se.samples&&Se.samples.length&&(M=Se.samples[0].compositionTimeOffset||0)}}var Je=g[O]||9e4;typeof E=="bigint"&&(M=iT.BigInt(M),Je=iT.BigInt(Je));var Be=(E+M)/Je;return typeof Be=="bigint"&&Be<Number.MAX_SAFE_INTEGER&&(Be=Number(Be)),Be},TO=function(g){var v=$r(g,["moov","trak"]),A=[];return v.forEach(function(E){var M=$r(E,["mdia","hdlr"]),O=$r(E,["tkhd"]);M.forEach(function(Q,ee){var re=Mc(Q.subarray(8,12)),ae=O[ee],pe,Se,Je;re==="vide"&&(pe=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),Se=pe.getUint8(0),Je=Se===0?pe.getUint32(12):pe.getUint32(20),A.push(Je))})}),A},nT=function(g){var v=g[0],A=v===0?12:20;return dg(g[A]<<24|g[A+1]<<16|g[A+2]<<8|g[A+3])},EO=function(g){var v=$r(g,["moov","trak"]),A=[];return v.forEach(function(E){var M={},O=$r(E,["tkhd"])[0],Q,ee;O&&(Q=new DataView(O.buffer,O.byteOffset,O.byteLength),ee=Q.getUint8(0),M.id=ee===0?Q.getUint32(12):Q.getUint32(20));var re=$r(E,["mdia","hdlr"])[0];if(re){var ae=Mc(re.subarray(8,12));ae==="vide"?M.type="video":ae==="soun"?M.type="audio":M.type=ae}var pe=$r(E,["mdia","minf","stbl","stsd"])[0];if(pe){var Se=pe.subarray(8);M.codec=Mc(Se.subarray(4,8));var Je=$r(Se,[M.codec])[0],Be,pt;Je&&(/^[asm]vc[1-9]$/i.test(M.codec)?(Be=Je.subarray(78),pt=Mc(Be.subarray(4,8)),pt==="avcC"&&Be.length>11?(M.codec+=".",M.codec+=oh(Be[9]),M.codec+=oh(Be[10]),M.codec+=oh(Be[11])):M.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(M.codec)?(Be=Je.subarray(28),pt=Mc(Be.subarray(4,8)),pt==="esds"&&Be.length>20&&Be[19]!==0?(M.codec+="."+oh(Be[19]),M.codec+="."+oh(Be[20]>>>2&63).replace(/^0/,"")):M.codec="mp4a.40.2"):M.codec=M.codec.toLowerCase())}var Ct=$r(E,["mdia","mdhd"])[0];Ct&&(M.timescale=nT(Ct)),A.push(M)}),A},AO=function(g,v=0){var A=$r(g,["emsg"]);return A.map(E=>{var M=rT.parseEmsgBox(new Uint8Array(E)),O=ATe(M.message_data);return{cueTime:rT.scaleTime(M.presentation_time,M.timescale,M.presentation_time_delta,v),duration:rT.scaleTime(M.event_duration,M.timescale),frames:O}})};var sT={findBox:$r,parseType:Mc,timescale:yO,startTime:_O,compositionStartTime:vO,videoTrackIds:TO,tracks:EO,getTimescaleFromMediaHeader:nT,getEmsgID3:AO},aT=wc,xO=function(g){var v=g[1]&31;return v<<=8,v|=g[2],v},fg=function(g){return!!(g[1]&64)},hg=function(g){var v=0;return(g[3]&48)>>>4>1&&(v+=g[4]+1),v},xTe=function(g,v){var A=xO(g);return A===0?"pat":A===v?"pmt":v?"pes":null},CTe=function(g){var v=fg(g),A=4+hg(g);return v&&(A+=g[A]+1),(g[A+10]&31)<<8|g[A+11]},wTe=function(g){var v={},A=fg(g),E=4+hg(g);if(A&&(E+=g[E]+1),!!(g[E+5]&1)){var M,O,Q;M=(g[E+1]&15)<<8|g[E+2],O=3+M-4,Q=(g[E+10]&15)<<8|g[E+11];for(var ee=12+Q;ee<O;){var re=E+ee;v[(g[re+1]&31)<<8|g[re+2]]=g[re],ee+=((g[re+3]&15)<<8|g[re+4])+5}return v}},STe=function(g,v){var A=xO(g),E=v[A];switch(E){case aT.H264_STREAM_TYPE:return"video";case aT.ADTS_STREAM_TYPE:return"audio";case aT.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},kTe=function(g){var v=fg(g);if(!v)return null;var A=4+hg(g);if(A>=g.byteLength)return null;var E=null,M;return M=g[A+7],M&192&&(E={},E.pts=(g[A+9]&14)<<27|(g[A+10]&255)<<20|(g[A+11]&254)<<12|(g[A+12]&255)<<5|(g[A+13]&254)>>>3,E.pts*=4,E.pts+=(g[A+13]&6)>>>1,E.dts=E.pts,M&64&&(E.dts=(g[A+14]&14)<<27|(g[A+15]&255)<<20|(g[A+16]&254)<<12|(g[A+17]&255)<<5|(g[A+18]&254)>>>3,E.dts*=4,E.dts+=(g[A+18]&6)>>>1)),E},oT=function(g){switch(g){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},ITe=function(g){for(var v=4+hg(g),A=g.subarray(v),E=0,M=0,O=!1,Q;M<A.byteLength-3;M++)if(A[M+2]===1){E=M+5;break}for(;E<A.byteLength;)switch(A[E]){case 0:if(A[E-1]!==0){E+=2;break}else if(A[E-2]!==0){E++;break}M+3!==E-2&&(Q=oT(A[M+3]&31),Q==="slice_layer_without_partitioning_rbsp_idr"&&(O=!0));do E++;while(A[E]!==1&&E<A.length);M=E-2,E+=3;break;case 1:if(A[E-1]!==0||A[E-2]!==0){E+=3;break}Q=oT(A[M+3]&31),Q==="slice_layer_without_partitioning_rbsp_idr"&&(O=!0),M=E-2,E+=3;break;default:E+=3;break}return A=A.subarray(M),E-=M,M=0,A&&A.byteLength>3&&(Q=oT(A[M+3]&31),Q==="slice_layer_without_partitioning_rbsp_idr"&&(O=!0)),O},DTe={parseType:xTe,parsePat:CTe,parsePmt:wTe,parsePayloadUnitStartIndicator:fg,parsePesType:STe,parsePesTime:kTe,videoPacketContainsKeyFrame:ITe},CO=wc,Oc=qt.handleRollover,rr={};rr.ts=DTe,rr.aac=or;var Ml=st.ONE_SECOND_IN_TS,Hn=188,Zs=71,NTe=function(g,v){for(var A=0,E=Hn,M,O;E<g.byteLength;){if(g[A]===Zs&&g[E]===Zs){switch(M=g.subarray(A,E),O=rr.ts.parseType(M,v.pid),O){case"pat":v.pid=rr.ts.parsePat(M);break;case"pmt":var Q=rr.ts.parsePmt(M);v.table=v.table||{},Object.keys(Q).forEach(function(ee){v.table[ee]=Q[ee]});break}A+=Hn,E+=Hn;continue}A++,E++}},wO=function(g,v,A){for(var E=0,M=Hn,O,Q,ee,re,ae,pe=!1;M<=g.byteLength;){if(g[E]===Zs&&(g[M]===Zs||M===g.byteLength)){switch(O=g.subarray(E,M),Q=rr.ts.parseType(O,v.pid),Q){case"pes":ee=rr.ts.parsePesType(O,v.table),re=rr.ts.parsePayloadUnitStartIndicator(O),ee==="audio"&&re&&(ae=rr.ts.parsePesTime(O),ae&&(ae.type="audio",A.audio.push(ae),pe=!0));break}if(pe)break;E+=Hn,M+=Hn;continue}E++,M++}for(M=g.byteLength,E=M-Hn,pe=!1;E>=0;){if(g[E]===Zs&&(g[M]===Zs||M===g.byteLength)){switch(O=g.subarray(E,M),Q=rr.ts.parseType(O,v.pid),Q){case"pes":ee=rr.ts.parsePesType(O,v.table),re=rr.ts.parsePayloadUnitStartIndicator(O),ee==="audio"&&re&&(ae=rr.ts.parsePesTime(O),ae&&(ae.type="audio",A.audio.push(ae),pe=!0));break}if(pe)break;E-=Hn,M-=Hn;continue}E--,M--}},MTe=function(g,v,A){for(var E=0,M=Hn,O,Q,ee,re,ae,pe,Se,Je,Be=!1,pt={data:[],size:0};M<g.byteLength;){if(g[E]===Zs&&g[M]===Zs){switch(O=g.subarray(E,M),Q=rr.ts.parseType(O,v.pid),Q){case"pes":if(ee=rr.ts.parsePesType(O,v.table),re=rr.ts.parsePayloadUnitStartIndicator(O),ee==="video"&&(re&&!Be&&(ae=rr.ts.parsePesTime(O),ae&&(ae.type="video",A.video.push(ae),Be=!0)),!A.firstKeyFrame)){if(re&&pt.size!==0){for(pe=new Uint8Array(pt.size),Se=0;pt.data.length;)Je=pt.data.shift(),pe.set(Je,Se),Se+=Je.byteLength;if(rr.ts.videoPacketContainsKeyFrame(pe)){var Ct=rr.ts.parsePesTime(pe);Ct?(A.firstKeyFrame=Ct,A.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}pt.size=0}pt.data.push(O),pt.size+=O.byteLength}break}if(Be&&A.firstKeyFrame)break;E+=Hn,M+=Hn;continue}E++,M++}for(M=g.byteLength,E=M-Hn,Be=!1;E>=0;){if(g[E]===Zs&&g[M]===Zs){switch(O=g.subarray(E,M),Q=rr.ts.parseType(O,v.pid),Q){case"pes":ee=rr.ts.parsePesType(O,v.table),re=rr.ts.parsePayloadUnitStartIndicator(O),ee==="video"&&re&&(ae=rr.ts.parsePesTime(O),ae&&(ae.type="video",A.video.push(ae),Be=!0));break}if(Be)break;E-=Hn,M-=Hn;continue}E--,M--}},OTe=function(g,v){if(g.audio&&g.audio.length){var A=v;(typeof A>"u"||isNaN(A))&&(A=g.audio[0].dts),g.audio.forEach(function(O){O.dts=Oc(O.dts,A),O.pts=Oc(O.pts,A),O.dtsTime=O.dts/Ml,O.ptsTime=O.pts/Ml})}if(g.video&&g.video.length){var E=v;if((typeof E>"u"||isNaN(E))&&(E=g.video[0].dts),g.video.forEach(function(O){O.dts=Oc(O.dts,E),O.pts=Oc(O.pts,E),O.dtsTime=O.dts/Ml,O.ptsTime=O.pts/Ml}),g.firstKeyFrame){var M=g.firstKeyFrame;M.dts=Oc(M.dts,E),M.pts=Oc(M.pts,E),M.dtsTime=M.dts/Ml,M.ptsTime=M.pts/Ml}}},LTe=function(g){for(var v=!1,A=0,E=null,M=null,O=0,Q=0,ee;g.length-Q>=3;){var re=rr.aac.parseType(g,Q);switch(re){case"timed-metadata":if(g.length-Q<10){v=!0;break}if(O=rr.aac.parseId3TagSize(g,Q),O>g.length){v=!0;break}M===null&&(ee=g.subarray(Q,Q+O),M=rr.aac.parseAacTimestamp(ee)),Q+=O;break;case"audio":if(g.length-Q<7){v=!0;break}if(O=rr.aac.parseAdtsSize(g,Q),O>g.length){v=!0;break}E===null&&(ee=g.subarray(Q,Q+O),E=rr.aac.parseSampleRate(ee)),A++,Q+=O;break;default:Q++;break}if(v)return null}if(E===null||M===null)return null;var ae=Ml/E,pe={audio:[{type:"audio",dts:M,pts:M},{type:"audio",dts:M+A*1024*ae,pts:M+A*1024*ae}]};return pe},RTe=function(g){var v={pid:null,table:null},A={};NTe(g,v);for(var E in v.table)if(v.table.hasOwnProperty(E)){var M=v.table[E];switch(M){case CO.H264_STREAM_TYPE:A.video=[],MTe(g,v,A),A.video.length===0&&delete A.video;break;case CO.ADTS_STREAM_TYPE:A.audio=[],wO(g,v,A),A.audio.length===0&&delete A.audio;break}}return A},BTe=function(g,v){var A=rr.aac.isLikelyAacData(g),E;return A?E=LTe(g):E=RTe(g),!E||!E.audio&&!E.video?null:(OTe(E,v),E)},PTe={inspect:BTe,parseAudioPes_:wO};const FTe=function(g,v){v.on("data",function(A){const E=A.initSegment;A.initSegment={data:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength};const M=A.data;A.data=M.buffer,g.postMessage({action:"data",segment:A,byteOffset:M.byteOffset,byteLength:M.byteLength},[A.data])}),v.on("done",function(A){g.postMessage({action:"done"})}),v.on("gopInfo",function(A){g.postMessage({action:"gopInfo",gopInfo:A})}),v.on("videoSegmentTimingInfo",function(A){const E={start:{decode:st.videoTsToSeconds(A.start.dts),presentation:st.videoTsToSeconds(A.start.pts)},end:{decode:st.videoTsToSeconds(A.end.dts),presentation:st.videoTsToSeconds(A.end.pts)},baseMediaDecodeTime:st.videoTsToSeconds(A.baseMediaDecodeTime)};A.prependedContentDuration&&(E.prependedContentDuration=st.videoTsToSeconds(A.prependedContentDuration)),g.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:E})}),v.on("audioSegmentTimingInfo",function(A){const E={start:{decode:st.videoTsToSeconds(A.start.dts),presentation:st.videoTsToSeconds(A.start.pts)},end:{decode:st.videoTsToSeconds(A.end.dts),presentation:st.videoTsToSeconds(A.end.pts)},baseMediaDecodeTime:st.videoTsToSeconds(A.baseMediaDecodeTime)};A.prependedContentDuration&&(E.prependedContentDuration=st.videoTsToSeconds(A.prependedContentDuration)),g.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:E})}),v.on("id3Frame",function(A){g.postMessage({action:"id3Frame",id3Frame:A})}),v.on("caption",function(A){g.postMessage({action:"caption",caption:A})}),v.on("trackinfo",function(A){g.postMessage({action:"trackinfo",trackInfo:A})}),v.on("audioTimingInfo",function(A){g.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:st.videoTsToSeconds(A.start),end:st.videoTsToSeconds(A.end)}})}),v.on("videoTimingInfo",function(A){g.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:st.videoTsToSeconds(A.start),end:st.videoTsToSeconds(A.end)}})}),v.on("log",function(A){g.postMessage({action:"log",log:A})})};class SO{constructor(v,A){this.options=A||{},this.self=v,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new jve.Transmuxer(this.options),FTe(this.self,this.transmuxer)}pushMp4Captions(v){this.captionParser||(this.captionParser=new dTe,this.captionParser.init());const A=new Uint8Array(v.data,v.byteOffset,v.byteLength),E=this.captionParser.parse(A,v.trackIds,v.timescales);this.self.postMessage({action:"mp4Captions",captions:E&&E.captions||[],logs:E&&E.logs||[],data:A.buffer},[A.buffer])}probeMp4StartTime({timescales:v,data:A}){const E=sT.startTime(v,A);this.self.postMessage({action:"probeMp4StartTime",startTime:E,data:A},[A.buffer])}probeMp4Tracks({data:v}){const A=sT.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:A,data:v},[v.buffer])}probeEmsgID3({data:v,offset:A}){const E=sT.getEmsgID3(v,A);this.self.postMessage({action:"probeEmsgID3",id3Frames:E,emsgData:v},[v.buffer])}probeTs({data:v,baseStartTime:A}){const E=typeof A=="number"&&!isNaN(A)?A*st.ONE_SECOND_IN_TS:void 0,M=PTe.inspect(v,E);let O=null;M&&(O={hasVideo:M.video&&M.video.length===2||!1,hasAudio:M.audio&&M.audio.length===2||!1},O.hasVideo&&(O.videoStart=M.video[0].ptsTime),O.hasAudio&&(O.audioStart=M.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:O,data:v},[v.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(v){const A=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.transmuxer.push(A)}reset(){this.transmuxer.reset()}setTimestampOffset(v){const A=v.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(st.secondsToVideoTs(A)))}setAudioAppendStart(v){this.transmuxer.setAudioAppendStart(Math.ceil(st.secondsToVideoTs(v.appendStart)))}setRemux(v){this.transmuxer.setRemux(v.remux)}flush(v){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(v){this.transmuxer.alignGopsWith(v.gopsToAlignWith.slice())}}self.onmessage=function(g){if(g.data.action==="init"&&g.data.options){this.messageHandlers=new SO(self,g.data.options);return}this.messageHandlers||(this.messageHandlers=new SO(self)),g.data&&g.data.action&&g.data.action!=="init"&&this.messageHandlers[g.data.action]&&this.messageHandlers[g.data.action](g.data)}}));var Lee=m6(Oee);const Ree=(t,e,r)=>{const{type:n,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:d}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const f=t.data.segment.boxes||{data:t.data.segment.data},c={type:n,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(c.videoFrameDtsTime=l),typeof d<"u"&&(c.videoFramePtsTime=d),r(c)},Bee=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},Pee=(t,e)=>{e.gopInfo=t.data.gopInfo},y6=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:c,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:b,onTransmuxerLog:y,isEndOfTimeline:_,segment:x,triggerSegmentEventFn:C}=t,k={buffer:[]};let S=_;const w=D=>{e.currentTransmux===t&&(D.data.action==="data"&&Ree(D,k,a),D.data.action==="trackinfo"&&o(D.data.trackInfo),D.data.action==="gopInfo"&&Pee(D,k),D.data.action==="audioTimingInfo"&&l(D.data.audioTimingInfo),D.data.action==="videoTimingInfo"&&d(D.data.videoTimingInfo),D.data.action==="videoSegmentTimingInfo"&&f(D.data.videoSegmentTimingInfo),D.data.action==="audioSegmentTimingInfo"&&c(D.data.audioSegmentTimingInfo),D.data.action==="id3Frame"&&h([D.data.id3Frame],D.data.id3Frame.dispatchType),D.data.action==="caption"&&p(D.data.caption),D.data.action==="endedtimeline"&&(S=!1,b()),D.data.action==="log"&&y(D.data.log),D.data.type==="transmuxed"&&(S||(e.onmessage=null,Bee({transmuxedData:k,callback:m}),_6(e))))},L=()=>{const D={message:"Received an error message from the transmuxer worker",metadata:{errorType:Ee.Error.StreamingFailedToTransmuxSegment,segmentInfo:sl({segment:x})}};m(null,D)};if(e.onmessage=w,e.onerror=L,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),r.byteLength){const D=r instanceof ArrayBuffer?r:r.buffer,I=r instanceof ArrayBuffer?0:r.byteOffset;C({type:"segmenttransmuxingstart",segment:x}),e.postMessage({action:"push",data:D,byteOffset:I,byteLength:r.byteLength},[D])}_&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},_6=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():y6(t.currentTransmux))},v6=(t,e)=>{t.postMessage({action:e}),_6(t)},T6=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,v6(e,t);return}e.transmuxQueue.push(v6.bind(null,e,t))},Fee=t=>{T6("reset",t)},Uee=t=>{T6("endTimeline",t)},E6=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,y6(t);return}t.transmuxer.transmuxQueue.push(t)};var t_={reset:Fee,endTimeline:Uee,transmux:E6,createTransmuxer:t=>{const e=new Lee;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e}};const df=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=Rr({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===r&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),n(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;i.byteOffset=a?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},js={FAILURE:2,TIMEOUT:-101,ABORTED:-102},r_=t=>{t.forEach(e=>{e.abort()})},$ee=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),jee=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},n_=(t,e)=>{const{requestType:r}=e,n=il({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:js.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:js.ABORTED,xhr:e,metadata:n}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:js.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:js.FAILURE,xhr:e,metadata:n}:null},A6=(t,e,r,n)=>(i,s)=>{const a=s.response,o=n_(i,s);if(o)return r(o,t);if(a.byteLength!==16)return r({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:js.FAILURE,xhr:s},t);const l=new DataView(a),d=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let c=0;c<e.length;c++)e[c].bytes=d;const f={uri:s.uri};return n({type:"segmentkeyloadcomplete",segment:t,keyInfo:f}),r(null,t)},x6=(t,e)=>{const r=H2(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri,i=r||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:js.FAILURE,metadata:{mediaType:i}})}df({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},Hee=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(n,i)=>{const s=n_(n,i);if(s)return e(s,t);const a=new Uint8Array(i.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,x6(t,function(o){if(o)return o.xhr=i,o.status=i.status,e(o,t);e(null,t)})},zee=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:n})=>(i,s)=>{const a=n_(i,s);if(a)return e(a,t);n({type:"segmentloaded",segment:t});const o=r==="arraybuffer"||!s.responseText?s.response:Nee(s.responseText.substring(t.lastReachedChar||0));return t.stats=$ee(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},Vee=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{const m=t.map&&t.map.tracks||{},b=!!(m.audio&&m.video);let y=n.bind(null,t,"audio","start");const _=n.bind(null,t,"audio","end");let x=n.bind(null,t,"video","start");const C=n.bind(null,t,"video","end"),k=()=>E6({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:b,onData:S=>{S.type=S.type==="combined"?"video":S.type,f(t,S)},onTrackInfo:S=>{r&&(b&&(S.isMuxed=!0),r(t,S))},onAudioTimingInfo:S=>{y&&typeof S.start<"u"&&(y(S.start),y=null),_&&typeof S.end<"u"&&_(S.end)},onVideoTimingInfo:S=>{x&&typeof S.start<"u"&&(x(S.start),x=null),C&&typeof S.end<"u"&&C(S.end)},onVideoSegmentTimingInfo:S=>{const w={pts:{start:S.start.presentation,end:S.end.presentation},dts:{start:S.start.decode,end:S.end.decode}};p({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:w}),i(S)},onAudioSegmentTimingInfo:S=>{const w={pts:{start:S.start.pts,end:S.end.pts},dts:{start:S.start.dts,end:S.end.dts}};p({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:w}),s(S)},onId3:(S,w)=>{a(t,S,w)},onCaptions:S=>{o(t,[S])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:h,onDone:(S,w)=>{c&&(S.type=S.type==="combined"?"video":S.type,p({type:"segmenttransmuxingcomplete",segment:t}),c(w,t,S))},segment:t,triggerSegmentEventFn:p});df({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:S=>{t.bytes=e=S.data;const w=S.result;w&&(r(t,{hasAudio:w.hasAudio,hasVideo:w.hasVideo,isMuxed:b}),r=null),k()}})},C6=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=new Uint8Array(e);if(vZ(m)){t.isFmp4=!0;const{tracks:b}=t.map,y={isFmp4:!0,hasVideo:!!b.video,hasAudio:!!b.audio};b.audio&&b.audio.codec&&b.audio.codec!=="enca"&&(y.audioCodec=b.audio.codec),b.video&&b.video.codec&&b.video.codec!=="encv"&&(y.videoCodec=b.video.codec),b.video&&b.audio&&(y.isMuxed=!0),r(t,y);const _=(x,C)=>{f(t,{data:m,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),C&&C.length&&a(t,C),x&&x.length&&o(t,x),c(null,t,{})};df({action:"probeMp4StartTime",timescales:t.map.timescales,data:m,transmuxer:t.transmuxer,callback:({data:x,startTime:C})=>{e=x.buffer,t.bytes=m=x,y.hasAudio&&!y.isMuxed&&n(t,"audio","start",C),y.hasVideo&&n(t,"video","start",C),df({action:"probeEmsgID3",data:m,transmuxer:t.transmuxer,offset:C,callback:({emsgData:k,id3Frames:S})=>{if(e=k.buffer,t.bytes=m=k,!b.video||!k.byteLength||!t.transmuxer){_(void 0,S);return}df({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:m,timescales:t.map.timescales,trackIds:[b.video.id],callback:w=>{e=w.data.buffer,t.bytes=m=w.data,w.logs.forEach(function(L){h(Kt(L,{stream:"mp4CaptionParser"}))}),_(w.captions,S)}})}})}});return}if(!t.transmuxer){c(null,t,{});return}if(typeof t.container>"u"&&(t.container=H2(m)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),c(null,t,{});return}Vee({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})},w6=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n,segment:i,doneFn:s},a){const o=d=>{if(d.data.source===t){n.removeEventListener("message",o);const f=d.data.decrypted;a(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};n.onerror=()=>{const d="An error occurred in the decryption worker",f=sl({segment:i}),c={message:d,metadata:{error:new Error(d),errorType:Ee.Error.StreamingFailedToDecryptSegment,segmentInfo:f,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(c,i)},n.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(o6({source:t,encrypted:r,key:l,iv:e.iv}),[r.buffer,l.buffer])},qee=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{p({type:"segmentdecryptionstart"}),w6({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:c},m=>{e.bytes=m,p({type:"segmentdecryptioncomplete",segment:e}),C6({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})})},Wee=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=0,b=!1;return(y,_)=>{if(!b){if(y)return b=!0,r_(t),c(y,_);if(m+=1,m===t.length){const x=function(){if(_.encryptedBytes)return qee({decryptionWorker:e,segment:_,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p});C6({segment:_,bytes:_.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:c,onTransmuxerLog:h,triggerSegmentEventFn:p})};if(_.endOfAllRequests=Date.now(),_.map&&_.map.encryptedBytes&&!_.map.bytes)return p({type:"segmentdecryptionstart",segment:_}),w6({decryptionWorker:e,id:_.requestId+"-init",encryptedBytes:_.map.encryptedBytes,key:_.map.key,segment:_,doneFn:c},C=>{_.map.bytes=C,p({type:"segmentdecryptioncomplete",segment:_}),x6(_,k=>{if(k)return r_(t),c(k,_);x()})});x()}}}},Gee=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},Yee=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f})=>c=>{if(!c.target.aborted)return t.stats=Kt(t.stats,jee(c)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(c,t)},Qee=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:b,onTransmuxerLog:y,triggerSegmentEventFn:_})=>{const x=[],C=Wee({activeXhrs:x,decryptionWorker:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:b,onTransmuxerLog:y,triggerSegmentEventFn:_});if(n.key&&!n.key.bytes){const D=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&D.push(n.map.key);const I=Kt(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),P=A6(n,D,C,_),z={uri:n.key.resolvedUri};_({type:"segmentkeyloadstart",segment:n,keyInfo:z});const U=t(I,P);x.push(U)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const U=Kt(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),$=A6(n,[n.map.key],C,_),H={uri:n.map.key.resolvedUri};_({type:"segmentkeyloadstart",segment:n,keyInfo:H});const Y=t(U,$);x.push(Y)}const I=Kt(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:Zy(n.map),requestType:"segment-media-initialization"}),P=Hee({segment:n,finishProcessingFn:C,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:n});const z=t(I,P);x.push(z)}const k=Kt(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:Zy(n),requestType:"segment"}),S=zee({segment:n,finishProcessingFn:C,responseType:k.responseType,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:n});const w=t(k,S);w.addEventListener("progress",Yee({segment:n,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:c,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),x.push(w);const L={};return x.forEach(D=>{D.addEventListener("loadend",Gee({loadendState:L,abortFn:i}))}),()=>r_(x)},Kee=Ri("CodecUtils"),Xee=function(t){const e=t.attributes||{};if(e.CODECS)return Ns(e.CODECS)},S6=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},Zee=(t,e)=>{if(!S6(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},Y0=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push(IS(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){Kee(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},k6=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},ff=function(t,e){const r=e.attributes||{},n=Y0(Xee(e)||[]);if(S6(t,e)&&!n.audio&&!Zee(t,e)){const i=Y0(vK(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},Q0=Ri("PlaylistSelector"),I6=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},K0=function(t,e){if(!t)return"";const r=ne.getComputedStyle(t);return r?r[e]:""},Vu=function(t,e){const r=t.slice();t.sort(function(n,i){const s=e(n,i);return s===0?r.indexOf(n)-r.indexOf(i):s})},i_=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||ne.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||ne.Number.MAX_VALUE,r-n},Jee=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||ne.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||ne.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let D6=function(t,e,r,n,i,s){if(!t)return;const a={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let o=t.playlists;ii.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(S=>{let w;const L=S.attributes&&S.attributes.RESOLUTION&&S.attributes.RESOLUTION.width,D=S.attributes&&S.attributes.RESOLUTION&&S.attributes.RESOLUTION.height;return w=S.attributes&&S.attributes.BANDWIDTH,w=w||ne.Number.MAX_VALUE,{bandwidth:w,width:L,height:D,playlist:S}});Vu(l,(S,w)=>S.bandwidth-w.bandwidth),l=l.filter(S=>!ii.isIncompatible(S.playlist));let d=l.filter(S=>ii.isEnabled(S.playlist));d.length||(d=l.filter(S=>!ii.isDisabled(S.playlist)));const f=d.filter(S=>S.bandwidth*sn.BANDWIDTH_VARIANCE<e);let c=f[f.length-1];const h=f.filter(S=>S.bandwidth===c.bandwidth)[0];if(i===!1){const S=h||d[0]||l[0];if(S&&S.playlist){let w="sortedPlaylistReps";return h&&(w="bandwidthBestRep"),d[0]&&(w="enabledPlaylistReps"),Q0(`choosing ${I6(S)} using ${w} with options`,a),S.playlist}return Q0("could not choose a playlist with options",a),null}const p=f.filter(S=>S.width&&S.height);Vu(p,(S,w)=>S.width-w.width);const m=p.filter(S=>S.width===r&&S.height===n);c=m[m.length-1];const b=m.filter(S=>S.bandwidth===c.bandwidth)[0];let y,_,x;b||(y=p.filter(S=>S.width>r||S.height>n),_=y.filter(S=>S.width===y[0].width&&S.height===y[0].height),c=_[_.length-1],x=_.filter(S=>S.bandwidth===c.bandwidth)[0]);let C;if(s.leastPixelDiffSelector){const S=p.map(w=>(w.pixelDiff=Math.abs(w.width-r)+Math.abs(w.height-n),w));Vu(S,(w,L)=>w.pixelDiff===L.pixelDiff?L.bandwidth-w.bandwidth:w.pixelDiff-L.pixelDiff),C=S[0]}const k=C||x||b||h||d[0]||l[0];if(k&&k.playlist){let S="sortedPlaylistReps";return C?S="leastPixelDiffRep":x?S="resolutionPlusOneRep":b?S="resolutionBestRep":h?S="bandwidthBestRep":d[0]&&(S="enabledPlaylistReps"),Q0(`choosing ${I6(k)} using ${S} with options`,a),k.playlist}return Q0("could not choose a playlist with options",a),null};const N6=function(){let t=this.useDevicePixelRatio&&ne.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),D6(this.playlists.main,this.systemBandwidth,parseInt(K0(this.tech_.el(),"width"),10)*t,parseInt(K0(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},ete=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&ne.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),D6(this.playlists.main,e,parseInt(K0(this.tech_.el(),"width"),10)*n,parseInt(K0(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},tte=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,d=e.playlists.filter(m=>!ii.isIncompatible(m));let f=d.filter(ii.isEnabled);f.length||(f=d.filter(m=>!ii.isDisabled(m)));const h=f.filter(ii.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const y=l.getSyncPoint(m,i,o,r)?1:2,x=ii.estimateSegmentRequestTime(s,n,m)*y-a;return{playlist:m,rebufferingImpact:x}}),p=h.filter(m=>m.rebufferingImpact<=0);return Vu(p,(m,b)=>i_(b.playlist,m.playlist)),p.length?p[0]:(Vu(h,(m,b)=>m.rebufferingImpact-b.rebufferingImpact),h[0]||null)},rte=function(){const t=this.playlists.main.playlists.filter(ii.isEnabled);return Vu(t,(r,n)=>i_(r,n)),t.filter(r=>!!ff(this.playlists.main,r).video)[0]||null},nte=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r};function M6(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const ite=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=r,o=r,l=!1;const d=s[n];d&&(a=d.label,o=d.language,l=d.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:a,language:o},!1).track}}},ste=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=ne.WebKitDataCue||ne.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new n(i.startTime+r,i.endTime+r,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},ate=function(t){Object.defineProperties(t.frame,{id:{get(){return Ee.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Ee.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Ee.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},ote=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=ne.WebKitDataCue||ne.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(f=>{const c=f.cueTime+r;typeof c!="number"||ne.isNaN(c)||c<0||!(c<1/0)||!f.frames||!f.frames.length||f.frames.forEach(h=>{const p=new i(c,c,h.value||h.url||h.data||"");p.frame=h,p.value=h,ate(p),s.addCue(p)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let f=0;f<a.length;f++)a[f]&&o.push(a[f]);const l=o.reduce((f,c)=>{const h=f[c.startTime]||[];return h.push(c),f[c.startTime]=h,f},{}),d=Object.keys(l).sort((f,c)=>Number(f)-Number(c));d.forEach((f,c)=>{const h=l[f],p=isFinite(n)?n:f,m=Number(d[c+1])||p;h.forEach(b=>{b.endTime=m})})},lte={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},ute=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),cte=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=ne.WebKitDataCue||ne.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(ute.has(s))continue;const a=new n(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:lte[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(a)}i.processDateRange()})},O6=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Ee.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},hf=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},dte=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],s=`${i.startTime}-${i.endTime}-${i.text}`;r[s]?t.removeCue(i):r[s]=i}},fte=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*Ko.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},hte=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},pte=(t,e,r,n)=>{const i=Math.ceil((e-n)*Ko.ONE_SECOND_IN_TS),s=Math.ceil((r-n)*Ko.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},mte=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i];if(s!==n[i]||t[s]!==e[s])return!1}return!0},gte=function(t,e,r){e=e||[];const n=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(n.push(s),i+=a.duration,i>r))return s}return n.length===0?0:n[n.length-1]},pf=1,bte=500,L6=t=>typeof t=="number"&&isFinite(t),X0=1/60,yte=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,_te=(t,e,r)=>{let n=e-sn.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},qu=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:d,timeline:f}=t,c=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const p=typeof d=="number",m=t.segment.uri?"segment":"pre-segment",b=p?HI({preloadSegment:n})-1:0;return`${m} [${s+l}/${s+c}]`+(p?` part [${d}/${b}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(p?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${f}] selected by [${h}] playlist [${a}]`},R6=t=>`${t}TimingInfo`,vte=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,B6=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if(n==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===r)}return!1},P6=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),n=e&&r,i=n&&e.to!==r.to;return!!(n&&e.from!==-1&&r.from!==-1&&i)},F6=t=>{t&&(t.pause(),t.resetEverything(),t.load())},Tte=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:s}=n;let a;typeof i=="bigint"||typeof s=="bigint"?a=ne.BigInt(s)-ne.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},U6=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Us:!1,Ete=(t,e)=>{if(e!=="hls")return null;const r=Tte({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=U6({segmentDuration:r,maxDuration:n*2}),s=U6({segmentDuration:r,maxDuration:n}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},sl=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:r,isMediaInitialization:n}};class s_ extends Ee.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Ri(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(Rr({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(Rr({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return t_.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ne.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&t_.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return fn();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=G0(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=l6(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${Hy(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&t_.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&n()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,r,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=pte(this.gopBuffer_,e,r,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,r,a));for(const o in this.inbandTextTracks_)hf(e,r,this.inbandTextTracks_[o]);hf(e,r,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ne.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ne.setTimeout(this.monitorBufferTick_.bind(this),bte)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:sl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],s=e+1===r.segments.length,a=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),r=Hy(e)||0,n=zy(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=gte(this.currentTimeline_,a,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],p=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:r,h.parts&&h.parts[p+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=p+1):o.mediaIndex=this.mediaIndex+1}else{let h,p,m;const b=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${b}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const y=this.getSyncInfoFromMediaSequenceSync_(b);if(!y){const _="No sync info found while using media sequence sync";return this.error({message:_,metadata:{errorType:Ee.Error.StreamingFailedToSelectNextSegment,error:new Error(_)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${y.start} --> ${y.end})`),h=y.segmentIndex,p=y.partIndex,m=y.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const y=ii.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:b,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=y.segmentIndex,p=y.partIndex,m=y.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${b}`:`currentTime ${b}`,o.mediaIndex=h,o.startOfSegment=m,o.partIndex=p,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let d=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!d)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,d=l.parts[0]);const f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&d&&!f&&!d.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],p=h.parts&&h.parts.length&&h.parts[h.parts.length-1];p&&p.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const c=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&c&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:d}=e,f=n.segments[i],c=typeof o=="number"&&f.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||f.resolvedUri,mediaIndex:i,partIndex:c?o:null,isSyncRequest:a,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:c&&c.duration||f.duration,segment:f,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:r},p=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:p});const m=Hy(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(h.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=fte(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return vte(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,s=ii.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),a=WJ(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=tte({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const d=s-a-o.rebufferingImpact;let f=.5;a<=Us&&(f=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||d<f)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*sn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${qu(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:n,hasVideo:i}=r,s={segmentInfo:sl({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},mte(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=R6(r);s[a]=s[a]||{},s[a][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};r.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+i),o.endTime=Math.max(o.endTime,a.endTime+i),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:d}=s[a],f=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),ite(f,this.vhs_.tech_,a),hf(o,l,f[a]),ste({captionArray:d,inbandTextTracks:f,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()&&B6({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})?(P6(this.timelineChangeController_)&&F6(this),!1):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:s}=r;return i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo?!1:B6({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})?(P6(this.timelineChangeController_)&&F6(this),!1):!0}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[R6(r.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const s=G0(n);if(this.activeInitSegmentId_===s)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+nl(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+nl(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,d=a.length?a.start(0):0,f=a.length?a.end(a.length-1):0;if(l-o<=pf&&f-d<=pf){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${nl(s).join(", ")}, video buffer: ${nl(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const h=this.currentTime_()-pf;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${pf}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=ne.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},pf*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===t6){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Ee.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:s}){if(!s){const o=[i];let l=i.byteLength;n&&(o.unshift(n),l+=n.byteLength),s=nte({bytes:l,segments:o})}const a={segmentInfo:sl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:s}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[s].transmuxedPresentationStart=n.start.presentation,i[s].transmuxedDecodeStart=n.start.decode,i[s].transmuxedPresentationEnd=n.end.presentation,i[s].transmuxedDecodeEnd=n.end.decode,i[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const r=Rr({},e,{forceTimestampOffset:!0});Rr(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||i&&s;this.logger_(`Requesting
${M6(e.uri)}
${qu(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Qee({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:d})=>{this.logger_(`${qu(e)} logged from transmuxer stream ${d} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:d,trackInfo:f,timingInfo:c})=>{const p={segmentInfo:sl({segment:l})};d&&(p.keyInfo=d),f&&(p.trackInfo=f),c&&(p.timingInfo=c),this.trigger({type:o,metadata:p})}})}trimBackBuffer_(e){const r=_te(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===r.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),r.key){const l=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(r.key),a.key.iv=l}return r.map&&(a.map=this.initSegmentForMap(r.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<X0){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${X0}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===js.ABORTED)return;if(this.pause(),e.code===js.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=hte(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const d=r.segments[n-1];return n===0||!d||typeof d.start>"u"||d.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:s}=r,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=yte(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:sl({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=Ete(e,this.sourceType_);if(r&&(r.severity==="warn"?Ee.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${qu(e)}`);return}this.logger_(`Appended ${qu(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${qu(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<X0){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${X0}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!L6(n)||!L6(i))return;hf(n,i,this.segmentMetadataTrack_);const s=ne.WebKitDataCue||ne.VTTCue,a={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},o=JSON.stringify(a),l=new s(n,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function ba(){}const $6=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Ate=["video","audio"],a_=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},xte=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},Wu=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),Wu("audio",e),Wu("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||a_(t,e))){if(n.type!==t){if(r=xte(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,Wu(t,e);return}}},j6=(t,e)=>{const r=e[`${t}Buffer`],n=$6(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Hs=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,yi={appendBuffer:(t,e,r)=>(n,i)=>{const s=i[`${n}Buffer`];if(Hs(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{s.appendBuffer(t)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===t6?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(a)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(Hs(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];Hs(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){Ee.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){Ee.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(Hs(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){Ee.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=$6(t),i=Ld(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=r.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",r[`on${n}UpdateEnd_`]),s.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(j6(t,e),!!Hs(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){Ee.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=Ld(t);if(!Hs(r.mediaSource,n))return;const s=t.substring(0,t.indexOf(".")),a=r.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:t}};r.trigger({type:"codecschange",metadata:l}),r.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(d){l.errorType=Ee.Error.StreamingCodecsChangeError,l.error=d,d.metadata=l,r.error_=d,r.trigger("error"),Ee.log.warn(`Failed to changeType on ${e}Buffer`,d)}}},_i=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),Wu(t,e)},H6=(t,e)=>r=>{const n=e[`${t}Buffered`](),i=zJ(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Wu(t,e)};class z6 extends Ee.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Wu("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Ri("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=H6("video",this),this.onAudioUpdateEnd_=H6("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){_i({type:"mediaSource",sourceUpdater:this,action:yi.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){_i({type:e,sourceUpdater:this,action:yi.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Ee.log.error("removeSourceBuffer is not supported!");return}_i({type:"mediaSource",sourceUpdater:this,action:yi.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Ee.browser.IS_FIREFOX&&ne.MediaSource&&ne.MediaSource.prototype&&typeof ne.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return ne.SourceBuffer&&ne.SourceBuffer.prototype&&typeof ne.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){Ee.log.error("changeType is not supported!");return}_i({type:e,sourceUpdater:this,action:yi.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=r;if(_i({type:i,sourceUpdater:this,action:yi.appendBuffer(s,n||{mediaIndex:-1},a),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Hs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:fn()}videoBuffered(){return Hs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:fn()}buffered(){const e=Hs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Hs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():qJ(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=ba){_i({type:"mediaSource",sourceUpdater:this,action:yi.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=ba){typeof e!="string"&&(e=void 0),_i({type:"mediaSource",sourceUpdater:this,action:yi.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=ba){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}_i({type:"audio",sourceUpdater:this,action:yi.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=ba){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}_i({type:"video",sourceUpdater:this,action:yi.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(a_("audio",this)||a_("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(_i({type:"audio",sourceUpdater:this,action:yi.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(_i({type:"video",sourceUpdater:this,action:yi.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&_i({type:"audio",sourceUpdater:this,action:yi.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&_i({type:"video",sourceUpdater:this,action:yi.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Ate.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>j6(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const V6=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),Cte=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},q6=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class wte extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Ste extends s_{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return fn();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return fn([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=G0(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const s=q6.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(q6,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){hf(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===js.TIMEOUT&&this.handleTimeout_(),e.code===js.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof ne.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:Ee.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new ne.VTTCue(a.startTime,a.endTime,a.text):a)}),dte(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof ne.WebVTT!="function")throw new wte;typeof ne.TextDecoder=="function"?r=new ne.TextDecoder("utf8"):(r=ne.WebVTT.StringDecoder(),n=!0);const i=new ne.WebVTT.Parser(ne,ne.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{Ee.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;n&&(a=V6(a)),i.parse(a)}let s=e.bytes;n&&(s=V6(s)),i.parse(s),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/Ko.ONE_SECOND_IN_TS-a+r.mapping;if(e.cues.forEach(d=>{const f=d.endTime-d.startTime,c=s===0?d.startTime+l:this.handleRollover_(d.startTime+l,r.time);d.startTime=Math.max(c,0),d.endTime=Math.max(c+f,0)}),!n.syncInfo){const d=e.cues[0].startTime,f=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(d,f-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*Ko.ONE_SECOND_IN_TS;const i=r*Ko.ONE_SECOND_IN_TS;let s;for(i<n?s=-8589934592:s=8589934592;Math.abs(n-i)>4294967296;)n+=s;return n/Ko.ONE_SECOND_IN_TS}}const kte=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},Ite=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(i||(i=kte(e,n+a.duration/2)),i){if("cueIn"in a){i.endTime=n,i.adEndTime=n,n+=a.duration,i=null;continue}if(n<i.endTime){n+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new ne.VTTCue(n,n+a.duration,a.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new ne.VTTCue(n,n+a.duration,""),i.adStartTime=n-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=a.duration}};class W6{constructor({start:e,end:r,segmentIndex:n,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=r,this.segmentIndex_=n,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Dte{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class G6{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,n){const i=new Map;let s=`
`,a=n,o=r;this.start_=a,e.forEach((l,d)=>{const f=this.storage_.get(o),c=a,h=c+l.duration,p=!!(f&&f.segmentSyncInfo&&f.segmentSyncInfo.isAppended),m=new W6({start:c,end:h,appended:p,segmentIndex:d});l.syncInfo=m;let b=a;const y=(l.parts||[]).map((_,x)=>{const C=b,k=b+_.duration,S=!!(f&&f.partsSyncInfo&&f.partsSyncInfo[x]&&f.partsSyncInfo[x].isAppended),w=new W6({start:C,end:k,appended:S,segmentIndex:d,partIndex:x});return b=k,s+=`Media Sequence: ${o}.${x} | Range: ${C} --> ${k} | Appended: ${S}
`,_.syncInfo=w,w});i.set(o,new Dte(m,y)),s+=`${M6(l.resolvedUri)} | Media Sequence: ${o} | Range: ${c} --> ${h} | Appended: ${p}
`,o++,a=h}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class Y6 extends G6{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r)}}const Nte=86400,o_=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=qy(e);i=i||0;for(let l=0;l<o.length;l++){const d=e.endList||i===0?l:o.length-(l+1),f=o[d],c=f.segment,h=t.timelineToDatetimeMappings[c.timeline];if(!h||!c.dateTimeObject)continue;let m=c.dateTimeObject.getTime()/1e3+h;if(c.parts&&typeof f.partIndex=="number")for(let y=0;y<f.partIndex;y++)m+=c.parts[y].duration;const b=Math.abs(i-m);if(a!==null&&(b===0||a<b))break;a=b,s={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return s}},{name:"Segment",run:(t,e,r,n,i)=>{let s=null,a=null;i=i||0;const o=qy(e);for(let l=0;l<o.length;l++){const d=e.endList||i===0?l:o.length-(l+1),f=o[d],c=f.segment,h=f.part&&f.part.start||c&&c.start;if(c.timeline===n&&typeof h<"u"){const p=Math.abs(i-h);if(a!==null&&a<p)break;(!s||a===null||a>=p)&&(a=p,s={time:h,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],d=e.discontinuitySequence+o+1,f=t.discontinuities[d];if(f){const c=Math.abs(i-f.time);if(a!==null&&a<c)break;(!s||a===null||a>=c)&&(a=c,s={time:f.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Mte extends Ee.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new G6,n=new Y6(r),i=new Y6(r);this.mediaSequenceStorage_={main:r,audio:n,vtt:i},this.logger_=Ri("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,n,i,s){if(r!==1/0)return o_.find(({name:l})=>l==="VOD").run(this,e,r);const a=this.runStrategies_(e,r,n,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:d}=o,{segmentIndex:f,time:c}=l;if(f<0)continue;const h=e.segments[f],p=c,m=p+h.duration;if(this.logger_(`Strategy: ${d}. Current time: ${i}. selected segment: ${f}. Time: [${p} -> ${m}]}`),i>=p&&i<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+uf({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,s){const a=[];for(let o=0;o<o_.length;o++){const l=o_[o],d=l.run(this,e,r,n,i,s);d&&(d.strategy=l.name,a.push({strategy:l.name,syncPoint:d}))}return a}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[r.key]-r.value);o<i&&(i=o,n=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>Nte){Ee.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&r&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=r.end+a.mapping;else if(a)o=r.start+a.mapping,l=r.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const s=r.discontinuityStarts[i],a=r.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let d;o<0?d=n.start-uf({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:s}):d=n.end+uf({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:d,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Ote extends Ee.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){if(typeof r=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:r,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Lte=g6(b6(function(){var t=function(){function b(){this.listeners={}}var y=b.prototype;return y.on=function(x,C){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(C)},y.off=function(x,C){if(!this.listeners[x])return!1;var k=this.listeners[x].indexOf(C);return this.listeners[x]=this.listeners[x].slice(0),this.listeners[x].splice(k,1),k>-1},y.trigger=function(x){var C=this.listeners[x];if(C)if(arguments.length===2)for(var k=C.length,S=0;S<k;++S)C[S].call(this,arguments[1]);else for(var w=Array.prototype.slice.call(arguments,1),L=C.length,D=0;D<L;++D)C[D].apply(this,w)},y.dispose=function(){this.listeners={}},y.pipe=function(x){this.on("data",function(C){x.push(C)})},b}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(b){return b.subarray(0,b.byteLength-b[b.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const b=[[[],[],[],[],[]],[[],[],[],[],[]]],y=b[0],_=b[1],x=y[4],C=_[4];let k,S,w;const L=[],D=[];let I,P,z,U,$,H;for(k=0;k<256;k++)D[(L[k]=k<<1^(k>>7)*283)^k]=k;for(S=w=0;!x[S];S^=I||1,w=D[w]||1)for(U=w^w<<1^w<<2^w<<3^w<<4,U=U>>8^U&255^99,x[S]=U,C[U]=S,z=L[P=L[I=L[S]]],H=z*16843009^P*65537^I*257^S*16843008,$=L[U]*257^U*16843008,k=0;k<4;k++)y[k][S]=$=$<<24^$>>>8,_[k][U]=H=H<<24^H>>>8;for(k=0;k<5;k++)y[k]=y[k].slice(0),_[k]=_[k].slice(0);return b};let n=null;class i{constructor(y){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let _,x,C;const k=this._tables[0][4],S=this._tables[1],w=y.length;let L=1;if(w!==4&&w!==6&&w!==8)throw new Error("Invalid aes key size");const D=y.slice(0),I=[];for(this._key=[D,I],_=w;_<4*w+28;_++)C=D[_-1],(_%w===0||w===8&&_%w===4)&&(C=k[C>>>24]<<24^k[C>>16&255]<<16^k[C>>8&255]<<8^k[C&255],_%w===0&&(C=C<<8^C>>>24^L<<24,L=L<<1^(L>>7)*283)),D[_]=D[_-w]^C;for(x=0;_;x++,_--)C=D[x&3?_:_-4],_<=4||x<4?I[x]=C:I[x]=S[0][k[C>>>24]]^S[1][k[C>>16&255]]^S[2][k[C>>8&255]]^S[3][k[C&255]]}decrypt(y,_,x,C,k,S){const w=this._key[1];let L=y^w[0],D=C^w[1],I=x^w[2],P=_^w[3],z,U,$;const H=w.length/4-2;let Y,F=4;const j=this._tables[1],se=j[0],W=j[1],R=j[2],N=j[3],V=j[4];for(Y=0;Y<H;Y++)z=se[L>>>24]^W[D>>16&255]^R[I>>8&255]^N[P&255]^w[F],U=se[D>>>24]^W[I>>16&255]^R[P>>8&255]^N[L&255]^w[F+1],$=se[I>>>24]^W[P>>16&255]^R[L>>8&255]^N[D&255]^w[F+2],P=se[P>>>24]^W[L>>16&255]^R[D>>8&255]^N[I&255]^w[F+3],F+=4,L=z,D=U,I=$;for(Y=0;Y<4;Y++)k[(3&-Y)+S]=V[L>>>24]<<24^V[D>>16&255]<<16^V[I>>8&255]<<8^V[P&255]^w[F++],z=L,L=D,D=I,I=P,P=z}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(y){this.jobs.push(y),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(b){return b<<24|(b&65280)<<8|(b&16711680)>>8|b>>>24},o=function(b,y,_){const x=new Int32Array(b.buffer,b.byteOffset,b.byteLength>>2),C=new i(Array.prototype.slice.call(y)),k=new Uint8Array(b.byteLength),S=new Int32Array(k.buffer);let w,L,D,I,P,z,U,$,H;for(w=_[0],L=_[1],D=_[2],I=_[3],H=0;H<x.length;H+=4)P=a(x[H]),z=a(x[H+1]),U=a(x[H+2]),$=a(x[H+3]),C.decrypt(P,z,U,$,S,H),S[H]=a(S[H]^w),S[H+1]=a(S[H+1]^L),S[H+2]=a(S[H+2]^D),S[H+3]=a(S[H+3]^I),w=P,L=z,D=U,I=$;return k};class l{constructor(y,_,x,C){const k=l.STEP,S=new Int32Array(y.buffer),w=new Uint8Array(y.byteLength);let L=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(S.subarray(L,L+k),_,x,w)),L=k;L<S.length;L+=k)x=new Uint32Array([a(S[L-4]),a(S[L-3]),a(S[L-2]),a(S[L-1])]),this.asyncStream_.push(this.decryptChunk_(S.subarray(L,L+k),_,x,w));this.asyncStream_.push(function(){C(null,e(w))})}static get STEP(){return 32e3}decryptChunk_(y,_,x,C){return function(){const k=o(y,_,x);C.set(k,y.byteOffset)}}}var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof d<"u"?f=d:typeof self<"u"?f=self:f={};var c=f,h=function(y){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(y):y&&y.buffer instanceof ArrayBuffer},p=c.BigInt||Number;p("0x1"),p("0x100"),p("0x10000"),p("0x1000000"),p("0x100000000"),p("0x10000000000"),p("0x1000000000000"),p("0x100000000000000"),p("0x10000000000000000"),function(){var b=new Uint16Array([65484]),y=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return y[0]===255?"big":y[0]===204?"little":"unknown"}();const m=function(b){const y={};return Object.keys(b).forEach(_=>{const x=b[_];h(x)?y[_]={bytes:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength}:y[_]=x}),y};self.onmessage=function(b){const y=b.data,_=new Uint8Array(y.encrypted.bytes,y.encrypted.byteOffset,y.encrypted.byteLength),x=new Uint32Array(y.key.bytes,y.key.byteOffset,y.key.byteLength/4),C=new Uint32Array(y.iv.bytes,y.iv.byteOffset,y.iv.byteLength/4);new l(_,x,C,function(k,S){self.postMessage(m({source:y.source,decrypted:S}),[S.buffer])})}}));var Rte=m6(Lte);const Bte=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Q6=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},l_=(t,e)=>{e.activePlaylistLoader=t,t.load()},Pte=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,Q6(r,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&n.resetEverything();return}r.resyncLoader(),l_(a.playlistLoader,i)}},Fte=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},Ute=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,d=s.lastTrack_;if(!(d&&a&&d.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,Q6(n,s),!!o)){if(o.isMainPlaylist){if(!a||!d||a.id===d.id)return;const f=e.vhs.playlistController_,c=f.selectPlaylist();if(f.media()===c)return;s.logger_(`track change. Switching main audio from ${d.id} to ${a.id}`),r.pause(),i.resetEverything(),f.fastQualityChange_(c);return}if(t==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){l_(o.playlistLoader,s);return}n.track&&n.track(a),n.resetEverything(),l_(o.playlistLoader,s)}},Z0={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),s=r.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=r.tracks[a];if(i===o){n({error:{message:"Problem encountered loading the default audio track."}});return}Ee.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===o;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;Ee.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},K6={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:s}}=r;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",Z0[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=r;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",Z0[t](t,r))}},$te={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:d}},mainPlaylistLoader:f}=e,c=cf(f.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},c&&(a[t].main.default.playlists=f.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const p in a[t][h]){let m=a[t][h][p],b;if(c?(d(`AUDIO group '${h}' label '${p}' is a main playlist`),m.isMainPlaylist=!0,b=null):n==="vhs-json"&&m.playlists?b=new zu(m.playlists[0],r,s):m.resolvedUri?b=new zu(m.resolvedUri,r,s):m.playlists&&n==="dash"?b=new e_(m.playlists[0],r,s,f):b=null,m=Kt({id:p,playlistLoader:b},m),K6[t](t,m.playlistLoader,e),o[h].push(m),typeof l[p]>"u"){const y=new Ee.AudioTrack({id:p,kind:Bte(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=y}}}i.on("error",Z0[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:d}},mainPlaylistLoader:f}=e;for(const c in o[t]){l[c]||(l[c]=[]);for(const h in o[t][c]){if(!n.options_.useForcedSubtitles&&o[t][c][h].forced)continue;let p=o[t][c][h],m;if(i==="hls")m=new zu(p.resolvedUri,n,a);else if(i==="dash"){if(!p.playlists.filter(y=>y.excludeUntil!==1/0).length)return;m=new e_(p.playlists[0],n,a,f)}else i==="vhs-json"&&(m=new zu(p.playlists?p.playlists[0]:p.resolvedUri,n,a));if(p=Kt({id:h,playlistLoader:m},p),K6[t](t,p.playlistLoader,e),l[c].push(p),typeof d[h]>"u"){const b=r.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;d[h]=b}}}s.on("error",Z0[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const a in n[t]){i[a]||(i[a]=[]);for(const o in n[t][a]){const l=n[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const d=r.options_.vhs&&r.options_.vhs.captionServices||{};let f={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(d[f.instreamId]&&(f=Kt(f,d[f.instreamId])),f.default===void 0&&delete f.default,i[a].push(Kt({id:o},l)),typeof s[o]>"u"){const c=r.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;s[o]=c}}}}},X6=(t,e)=>{for(let r=0;r<t.length;r++)if(Yy(e,t[r])||t[r].playlists&&X6(t[r].playlists,e))return!0;return!1},jte=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,s=n.media();if(!s)return null;let a=null;s.attributes[t]&&(a=i[s.attributes[t]]);const o=Object.keys(i);if(!a)if(t==="AUDIO"&&o.length>1&&cf(e.main))for(let l=0;l<o.length;l++){const d=i[o[l]];if(X6(d,s)){a=d;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof r>"u"?a:r===null||!a?null:a.filter(l=>l.id===r.id)[0]||null},Hte={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},zte=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},Vte=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(d=>{$te[d](d,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(d=>{e[d].activeGroup=jte(d,t),e[d].activeTrack=Hte[d](d,t),e[d].onGroupChanged=Pte(d,t),e[d].onGroupChanging=Fte(d,t),e[d].onTrackChanged=Ute(d,t),e[d].getActiveGroup=zte(d,t)});const o=e.AUDIO.activeGroup();if(o){const d=(o.filter(c=>c.default)[0]||o[0]).id;e.AUDIO.tracks[d].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const d in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[d])},qte=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ba,activeTrack:ba,getActiveGroup:ba,onGroupChanged:ba,onTrackChanged:ba,lastTrack_:null,logger_:Ri(`MediaGroups[${e}]`)}}),t};class Z6{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=ni(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class Wte extends Ee.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Z6,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Ri("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=ni(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(a.status===429){const d=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${d} seconds.`),this.startTTLTimeout_(parseInt(d,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let o;try{o=JSON.parse(this.request_.responseText)}catch(d){const f={errorType:Ee.Error.StreamingContentSteeringParserError,error:d};this.trigger({type:"error",metadata:f})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new ne.URL(e),n=new ne.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(ne.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new ne.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const s=`_${this.manifestType_}_pathway`;r.searchParams.set(s,n)}if(i){const s=`_${this.manifestType_}_throughput`;r.searchParams.set(s,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=ne.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){ne.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Z6}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(ni(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Gte=10;let ya;const Yte=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Qte=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Kte=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!n)return Ee.log.warn("We received no playlist to switch to. Please check your stream."),!1;const d=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${d} as current playlist is not set`),!0;if(n.id===t.id)return!1;const f=!!$u(e,r).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${d} as current playlist is live`),!0);const c=zy(e,r),h=o?sn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:sn.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${d} as duration < max low water line (${a} < ${h})`),!0;const p=n.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!o||c<s)){let b=`${d} as next bandwidth < current bandwidth (${p} < ${m})`;return o&&(b+=` and forwardBuffer < bufferHighWaterLine (${c} < ${s})`),l(b),!0}if((!o||p>m)&&c>=i){let b=`${d} as forwardBuffer >= bufferLowWaterLine (${c} >= ${i})`;return o&&(b+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(b),!0}return l(`not ${d} as no switching criteria met`),!1};class Xte extends Ee.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:d,sourceType:f,cacheEncryptionKeys:c,bufferBasedABR:h,leastPixelDiffSelector:p,captionServices:m}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:b}=e;(b===null||typeof b>"u")&&(b=1/0),ya=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!p,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=f,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=b,this.enableLowInitialPlaylist=d,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:b,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=qte(),this.mediaSource=new ne.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=fn(),this.hasPlayed_=!1,this.syncController_=new Mte(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Rte,this.sourceUpdater_=new z6(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Ote,this.keyStatusMap_=new Map;const y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:c,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new e_(r,this.vhs_,Kt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new zu(r,this.vhs_,Kt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new s_(Kt(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new s_(Kt(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Ste(Kt(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((C,k)=>{function S(){i.off("vttjserror",w),C()}function w(){i.off("vttjsloaded",S),k()}i.one("vttjsloaded",S),i.one("vttjserror",w),i.addWebVttScript_()})}),e);const _=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new Wte(this.vhs_.xhr,_),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Yte.forEach(C=>{this[C+"_"]=Qte.bind(this,C)}),this.logger_=Ri("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const x=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(x,()=>{const C=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-C,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${r}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const a=(n.length?n[0].playlists:n.playlists).filter(o=>o.attributes.serviceLocation===i);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=ne.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ne.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=n.main||i.length&&n[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return r;const a=[];for(const o in n)if(n[o][s.label]){const l=n[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let d=0;d<e.playlists.length;d++){const f=e.playlists[d];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===o&&a.push(f)}}return a.length?a:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;Gy(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),Vte({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;Gy(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,n=>{this.player_.trigger(Rr({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const s=Object.keys(n.AUDIO);for(const a in n.AUDIO)for(const o in n.AUDIO[a])n.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ya.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return Kte({buffered:a,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Gte}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(Rr({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(Rr({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(Rr({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(n+s,r.start(0)):i=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=ya.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-s<=$s;const o=a.end(a.length-1);return o-s<=$s&&i-o<=$s}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(W0),a=s.length===1&&s[0]===e;if(i.length===1&&n!==1/0)return Ee.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),b=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},b);return}let p=!1;i.forEach(m=>{if(m===e)return;const b=m.excludeUntil;typeof b<"u"&&b!==1/0&&(p=!0,delete m.excludeUntil)}),p&&(Ee.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+n*1e3,e.excludeUntil=o,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const d=r.internal?this.logger_:Ee.log.warn,f=r.message?" "+r.message:"";d(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const c=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=c;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&n.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&n.push(o)}),n.forEach(a=>r.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const r=$u(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ya.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,s=ya.Playlist.seekable(r,n,ya.Playlist.liveEdgeDelay(i,r));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=ya.Playlist.seekable(r,n,ya.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=fn([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${$I(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=ya.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=ff(this.main(),r),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||EK),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||NS}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||NS,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(d,f)=>d?Qp(f):_2(f),o={};let l;if(["video","audio"].forEach(function(d){if(i.hasOwnProperty(d)&&!a(e[d].isFmp4,i[d])){const f=e[d].isFmp4?"browser":"muxer";o[f]=o[f]||[],o[f].push(i[d]),d==="audio"&&(l=f)}}),s&&l&&r.attributes.AUDIO){const d=r.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===d&&f!==r&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${d} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const d=Object.keys(o).reduce((f,c)=>(f&&(f+=", "),f+=`${c} does not support codec(s): "${o[c].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:d},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const d=[];if(["video","audio"].forEach(f=>{const c=(Ns(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,h=(Ns(i[f]||"")[0]||{}).type;c&&h&&c.toLowerCase()!==h.toLowerCase()&&d.push(`"${this.sourceUpdater_.codecs[f]}" -> "${i[f]}"`)}),d.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${d.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const s=ff(this.main,i),a=[];s.audio&&!_2(s.audio)&&!Qp(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!_2(s.video)&&!Qp(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=Y0(Ns(e)),s=k6(i),a=i.video&&Ns(i.video)[0]||null,o=i.audio&&Ns(i.audio)[0]||null;Object.keys(n).forEach(l=>{const d=n[l];if(r.indexOf(d.id)!==-1||d.excludeUntil===1/0)return;r.push(d.id);const f=[],c=ff(this.mainPlaylistLoader_.main,d),h=k6(c);if(!(!c.audio&&!c.video)){if(h!==s&&f.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const p=c.video&&Ns(c.video)[0]||null,m=c.audio&&Ns(c.audio)[0]||null;p&&a&&p.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`video codec "${p.type}" !== "${a.type}"`),m&&o&&m.type.toLowerCase()!==o.type.toLowerCase()&&f.push(`audio codec "${m.type}" !== "${o.type}"`)}f.length&&(d.excludeUntil=1/0,this.logger_(`excluding ${d.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),Ite(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=sn.GOAL_BUFFER_LENGTH,n=sn.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,sn.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=sn.BUFFER_LOW_WATER_LINE,n=sn.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,sn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(r,sn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return sn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){O6(this.inbandTextTracks_,"com.apple.streaming",this.tech_),cte({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();O6(this.inbandTextTracks_,e,this.tech_),ote({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,n=>{this.trigger(Rr({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of r.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let s=!1;Object.keys(n).forEach(a=>{const o=n[a],l=this.pathwayAttribute_(o),d=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!d&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const c=!o.excludeUntil&&o.excludeUntil!==1/0;!i.has(o.id)&&d&&c&&(i.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[a,o]of n.entries())i.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of i.entries()){const l=n.get(a);if(!l){r.filter(f=>f.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(f=>{this.mainPlaylistLoader_.addClonePathway(o,f)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const s in n)if(n[s]!==i[s])return!1;for(const s in i)if(n[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=n.lastExcludeReason_===r&&n.excludeUntil===1/0;o?o&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${s} is ${a}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,s=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&s&&(delete n.excludeUntil,Ee.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const s=(typeof e=="string"?e:Cte(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Zte=(t,e,r)=>n=>{const i=t.main.playlists[e],s=Wy(i),a=W0(i);if(typeof n>"u")return a;n?delete i.disabled:i.disabled=!0;const o={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return n!==a&&!s&&(r(i),n?t.trigger({type:"renditionenabled",metadata:o}):t.trigger({type:"renditiondisabled",metadata:o})),n};class Jte{constructor(e,r,n){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(r.attributes){const a=r.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=ff(i.main(),r),this.playlist=r,this.id=n,this.enabled=Zte(e.playlists,r.id,s)}}const ere=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=cf(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!Wy(n)).map((n,i)=>new Jte(t,n,n.id)):[]}},J6=["seeking","seeked","pause","playing","error"];class tre extends Ee.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ri("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(f=>{l[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},a[`${f}SegmentLoader_`].on("appendsdone",l[f].updateend),a[`${f}SegmentLoader_`].on("playlistupdate",l[f].reset),this.tech_.on(["seeked","seeking"],l[f].reset)});const d=f=>{["main","audio"].forEach(c=>{a[`${c}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=()=>d("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(J6,s),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(J6,s),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(f=>{a[`${f}SegmentLoader_`].off("appendsdone",l[f].updateend),a[`${f}SegmentLoader_`].off("playlistupdate",l[f].reset),this.tech_.off(["seeked","seeking"],l[f].reset)}),this.checkCurrentTimeTimeout_&&ne.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ne.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ne.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),s=GJ(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};r.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:nl(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+$s>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(fn([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const m=r.start(0);s=m+(m===r.end(0)?0:$s)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${$I(r)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,d=a.videoBuffer?a.videoBuffered():null,f=this.media(),c=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-Us)*2,h=[l,d];for(let m=0;m<h.length;m++){if(!h[m])continue;if(zy(h[m],n)<c)return!1}const p=q0(o,n);return p.length===0?!1:(s=p.start(0)+$s,this.logger_(`Buffered region starts (${p.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=$u(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=q0(i,r);return a.length>0?(this.logger_(`Stopped at ${r} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+$s;const a=!n.endList,o=typeof n.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+n.targetDuration*3),r>s}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const s=$u(e,n-3),a=$u(e,n),o=$u(r,n);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else q0(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=q0(r,n);if(this.resetTimeUpdate_(),i.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Us);const s={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const n=VJ(e);for(let i=0;i<n.length;i++){const s=n.start(i),a=n.end(i);if(r-s<4&&r-s>2)return{start:s,end:a}}return null}}const rre={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},eD=function(t,e){let r=0,n=0;const i=Kt(rre,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&t.currentTime(n)},a=function(f){f!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){Ee.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},d=function(f){l(),eD(t,f)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=d},nre=function(t){eD(this,t)};var tD="3.13.2",ire="7.0.3",sre="1.3.0",are="7.1.0",ore="4.0.1";const xr={PlaylistLoader:zu,Playlist:ii,utils:mee,STANDARD_PLAYLIST_SELECTOR:N6,INITIAL_PLAYLIST_SELECTOR:rte,lastBandwidthSelector:N6,movingAverageBandwidthSelector:ete,comparePlaylistBandwidth:i_,comparePlaylistResolution:Jee,xhr:a6()};Object.keys(sn).forEach(t=>{Object.defineProperty(xr,t,{get(){return Ee.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),sn[t]},set(e){if(Ee.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Ee.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}sn[t]=e}})});const rD="videojs-vhs",nD=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},lre=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),nD(t,e.playlists)};xr.canPlaySource=function(){return Ee.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const ure=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=Y0(Ns(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=Ld(n.video),s=Ld(n.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return Kt(t,a)},cre=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((s,a)=>{const o=n.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&r.push(i),r},[]),dre=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,s=cre(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((d,f)=>{t.tech_.one("keysessioncreated",d)})),a.push(new Promise((d,f)=>{t.eme.initializeMediaKeys({keySystems:l},c=>{if(c){f(c);return}d()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},fre=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=ure(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(Ee.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},iD=()=>{if(!ne.localStorage)return null;const t=ne.localStorage.getItem(rD);if(!t)return null;try{return JSON.parse(t)}catch{return null}},hre=t=>{if(!ne.localStorage)return!1;let e=iD();e=e?Kt(e,t):t;try{ne.localStorage.setItem(rD,JSON.stringify(e))}catch{return!1}return e},pre=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,sD=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},aD=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},oD=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},lD=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};xr.supportsNativeHls=function(){if(!qe||!qe.createElement)return!1;const t=qe.createElement("video");return Ee.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}(),xr.supportsNativeDash=function(){return!qe||!qe.createElement||!Ee.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(qe.createElement("video").canPlayType("application/dash+xml"))}(),xr.supportsTypeNatively=t=>t==="hls"?xr.supportsNativeHls:t==="dash"?xr.supportsNativeDash:!1,xr.isSupported=function(){return Ee.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},xr.xhr.onRequest=function(t){sD(xr.xhr,t)},xr.xhr.onResponse=function(t){aD(xr.xhr,t)},xr.xhr.offRequest=function(t){oD(xr.xhr,t)},xr.xhr.offResponse=function(t){lD(xr.xhr,t)};const mre=Ee.getComponent("Component");class uD extends mre{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Ri("VhsHandler"),r.options_&&r.options_.playerId){const i=Ee.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(qe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=qe.fullscreenElement||qe.webkitFullscreenElement||qe.mozFullScreenElement||qe.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Kt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=iD();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=sn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===sn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=pre(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=xr,this.options_.sourceType=MS(r),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new Xte(this.options_);const n=Kt({liveRangeSafeTimeDelta:$s},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new tre(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Ee.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?xr.movingAverageBandwidthSelector(.55):xr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=xr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=ne.navigator.connection||ne.navigator.mozConnection||ne.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){Ee.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>nl(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>nl(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&hre({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{ere(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ne.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),dre({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=fre({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Ee.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{lre(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{nD(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":tD,"mux.js":ire,"mpd-parser":sre,"m3u8-parser":are,"aes-decrypter":ore}}version(){return this.constructor.version()}canChangeType(){return z6.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&ne.URL.revokeObjectURL&&(ne.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return Eee({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return d6({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{sD(this.xhr,e)},this.xhr.onResponse=e=>{aD(this.xhr,e)},this.xhr.offRequest=e=>{oD(this.xhr,e)},this.xhr.offResponse=e=>{lD(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,i=>{this.player_.trigger(Rr({},i))})}),r.forEach(n=>{this.playbackWatcher_.on(n,i=>{this.player_.trigger(Rr({},i))})})}}const J0={name:"videojs-http-streaming",VERSION:tD,canHandleSource(t,e={}){const r=Kt(Ee.options,e);return J0.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=Kt(Ee.options,r);return e.vhs=new uD(t,e,n),e.vhs.xhr=a6(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=MS(t);if(!r)return"";const n=J0.getOverrideNative(e);return!xr.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(Ee.browser.IS_ANY_SAFARI||Ee.browser.IS_IOS),{overrideNative:n=r}=e;return n}};Qp("avc1.4d400d,mp4a.40.2")&&Ee.getTech("Html5").registerSourceHandler(J0,0),Ee.VhsHandler=uD,Ee.VhsSourceHandler=J0,Ee.Vhs=xr,Ee.use||Ee.registerComponent("Vhs",xr),Ee.options.vhs=Ee.options.vhs||{},(!Ee.getPlugin||!Ee.getPlugin("reloadSourceOnError"))&&Ee.registerPlugin("reloadSourceOnError",nre);const gre=u.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),bre=u.createElementVNode("img",{class:"pointer-events-none absolute",src:lS,width:"24",height:"24"},null,-1),yre={class:"absolute bottom-2 right-2 rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},_re=u.defineComponent({__name:"VideoMessageContent",props:{message:{}},setup(t){const e=t,r=`vp-${Math.random()}`,n=u.ref(),i=u.ref(),s=u.ref(!1),a=()=>{const{width:c,height:h}=e.message.video;return c<h?{width:"200px",height:`${200*h/c}px`}:{width:`${200*c/h}px`,height:"200px"}},o=nr(),l=async()=>{if(s.value)return;s.value=!0;const f=await o.dispatch("imkit/fetchVideoBlob",e.message.video.originalUrl);n.value&&(n.value.src=URL.createObjectURL(f)),i.value=Ee(r)},d=u.computed(()=>o.state.imkit.uploadProgresses);return(f,c)=>{const h=u.resolveDirective("src");return u.openBlock(),u.createElementBlock("div",{class:"relative -m-2 flex cursor-pointer items-center justify-center",style:u.normalizeStyle(a()),onClick:l},[u.withDirectives(u.createElementVNode("video",{ref_key:"videoPlayer",ref:n,id:r,class:"video-js vjs-default-skin absolute inset-0 h-full w-full",controls:"",preload:"auto",autoplay:""},null,512),[[u.vShow,s.value]]),s.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[u.withDirectives(u.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:u.normalizeStyle(a())},null,4),[[h,f.message.video.thumbnailUrl]]),f.message.video.thumbnailUrl.startsWith("data")?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[gre,u.createVNode(u.unref(Vp),{class:"!absolute",diameter:40,"completed-steps":d.value[f.message.video.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[bre,u.createElementVNode("div",yre,u.toDisplayString(Math.floor(f.message.video.duration/60))+":"+u.toDisplayString(`${Math.floor(f.message.video.duration%60)}`.padStart(2,"0")),1)],64))],64))],4)}}}),vre="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR4nO3aMUpDQRSF4VmI1m5HtLCxkMxxA86JazAz2Ygi2LkgbVWMpQpKFCyihSZ33r0x58As4GP+F17gpaRp2sbs6GS6nUu7RGlPYHuzPrm029HJdDdFwYL1vgd0Af2Sx5MDb2/6uNnO2FBodMr4C8n6HAqN/re6t4gG62tmPfyX4PT52MRBYwBwKDQGAodBY0BwCDQGBruj4QB2RcMJ7IaGI9gFDWfwfMes+z+9kXX5w4HOYJyebS2LBuvN2oEz6/Uq6LUDY4BH4k/zBglM3bDtECBbPcPUj5bdECBbJU0lbTcEyFZJU0nbDQGyVdJU0nZDgGyVNJW03RAgWyVNJW03BMhWSVNJ2w0BslXSVNJ2Q4BslTSVtN2wcUmXvh+XrnJyaY/2YNarsGDWc3PwaDzZyaU9eOO+ndLufvupxHJfxZd2AdaZO5R1Nr/ZblhN01LEvQM/68r6Ex4bqgAAAABJRU5ErkJggg==",cD=t=>(u.pushScopeId("data-v-5248b347"),t=t(),u.popScopeId(),t),Tre=cD(()=>u.createElementVNode("img",{class:"w-8 object-contain",src:vre},null,-1)),Ere={class:"flex flex-col gap-0.5 font-normal"},Are={class:"break-all text-base"},xre=cD(()=>u.createElementVNode("div",{class:"absolute inset-0 -m-2 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1)),Cre=Sr(u.defineComponent({__name:"FileMessageContent",props:{message:{}},setup(t){const e=nr(),r=t,n=u.computed(()=>r.message.isIncoming),i=u.computed(()=>e.state.imkit.uploadProgresses),s=u.computed(()=>{const o=r.message.bytes;return o<1e3?o+"B":o<1e3*1e3?(o/1e3).toFixed(1)+"KB":o<1e3*1e3*1e3?(o/1e3/1e3).toFixed(1)+"MB":(o/1e3/1e3/1e3).toFixed(1)+"GB"}),a=async()=>{try{const{url:o,fileName:l,fileExtension:d}=r.message,f=await e.state.imkit.axios.get(o,{responseType:"arraybuffer",onDownloadProgress:p=>{const{total:m}=p;m&&e.commit("imkit/updateField",{key:"downloadProgresses",value:{[o]:p.loaded/m}})}}),c=btoa(new Uint8Array(f.data).reduce((p,m)=>p+String.fromCharCode(m),"")),h=document.createElement("a");h.href=`data:${f.headers["content-type"]};base64,${c}`,h.download=`${l}.${d}`,h.click()}catch(o){console.error(o)}};return(o,l)=>(u.openBlock(),u.createElementBlock("div",{class:"relative flex cursor-pointer items-center justify-center gap-2",onClick:a},[Tre,u.createElementVNode("div",Ere,[u.createElementVNode("div",Are,u.toDisplayString(o.message.fileName)+"."+u.toDisplayString(o.message.fileExtension),1),u.createElementVNode("div",{class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":n.value}])},u.toDisplayString(o.$t("fileSize"))+": "+u.toDisplayString(s.value),3)]),o.message.url===""?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[xre,u.createVNode(u.unref(Vp),{class:"!absolute",diameter:40,"completed-steps":i.value[o.message.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):u.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-5248b347"]]),zs=t=>{if(console.log(t),t.type==="uri")return window.open(t.uri,"_blank");(t.type==="message"||t.type==="text")&&lu&&lu.dispatch("imkit/quickReply",t)},wre={class:"w-[235px] cursor-pointer overflow-hidden text-base"},Sre=["src"],kre={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},Ire=["onClick"],Dre=u.defineComponent({__name:"TemplateMessageButtonsContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.isIncoming),n=u.computed(()=>!r.value);return(i,s)=>{var a;return u.openBlock(),u.createElementBlock("div",wre,[i.message.template.thumbnailImageUrl?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["object-cover text-gray-900 dark:text-gray-200",{"object-contain":i.message.template.imageSize==="contain"}]),style:u.normalizeStyle({"background-color":i.message.template.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:i.message.template.thumbnailImageUrl,onClick:s[0]||(s[0]=o=>u.unref(zs)(i.message.template.defaultAction))},null,14,Sre)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:s[1]||(s[1]=o=>u.unref(zs)(i.message.template.defaultAction))},[u.createElementVNode("div",null,u.toDisplayString((a=i.message.template.title)==null?void 0:a.substring(0,40)),1),i.message.template.text?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},u.toDisplayString(!i.message.template.thumbnailImageUrl&&!i.message.template.title?i.message.template.text.substring(0,160):i.message.template.text.substring(0,60)),3)):u.createCommentVNode("",!0)]),i.message.template.actions.length>0?(u.openBlock(),u.createElementBlock("div",kre,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.actions,o=>(u.openBlock(),u.createElementBlock("div",{key:o.label,class:u.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500 dark:text-slate-300":r.value,"text-slate-100":n.value}]),onClick:l=>u.unref(zs)(o)},u.toDisplayString(o.label),11,Ire))),128))])):u.createCommentVNode("",!0)])}}}),Nre={class:"w-[250px] overflow-hidden text-base"},Mre={class:"p-3"},Ore={class:"flex divide-x border-t"},Lre=["onClick"],Rre=u.defineComponent({__name:"TemplateMessageConfirmContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.isIncoming),n=u.computed(()=>!r.value);return(i,s)=>(u.openBlock(),u.createElementBlock("div",Nre,[u.createElementVNode("div",Mre,u.toDisplayString(i.message.template.text.substring(0,240)),1),u.createElementVNode("div",Ore,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.actions.slice(0,2),a=>(u.openBlock(),u.createElementBlock("div",{key:a.label,class:u.normalizeClass(["flex grow cursor-pointer items-center justify-center p-2",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:o=>u.unref(zs)(a)},u.toDisplayString(a.label),11,Lre))),128))])]))}}),Bre={class:"flex cursor-pointer gap-2 overflow-auto text-base"},Pre=["src","onClick"],Fre=["onClick"],Ure={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},$re=["onClick"],jre=u.defineComponent({__name:"TemplateMessageCarouselContent",props:{message:{}},setup(t){const e=t,r=u.computed(()=>e.message.isIncoming),n=u.computed(()=>!r.value);return(i,s)=>(u.openBlock(),u.createElementBlock("div",Bre,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.message.template.columns,(a,o)=>{var l;return u.openBlock(),u.createElementBlock("div",{key:o,class:u.normalizeClass(["w-[235px] cursor-pointer overflow-hidden rounded-xl text-base",[r.value?"bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-200":"bg-blue-400 text-white"]])},[a.thumbnailImageUrl?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:u.normalizeStyle({"background-color":a.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:a.thumbnailImageUrl,onClick:d=>u.unref(zs)(a.defaultAction)},null,14,Pre)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:d=>u.unref(zs)(a.defaultAction)},[u.createElementVNode("div",null,u.toDisplayString((l=a.title)==null?void 0:l.substring(0,40)),1),a.text?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},u.toDisplayString(!a.thumbnailImageUrl&&!a.title?a.text.substring(0,160):a.text.substring(0,60)),3)):u.createCommentVNode("",!0)],8,Fre),a.actions.length>0&&a.openQuickReply?(u.openBlock(),u.createElementBlock("div",Ure,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(a.actions,d=>(u.openBlock(),u.createElementBlock("div",{key:d.label,class:u.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500 dark:text-slate-300":r.value,"text-slate-100":n.value}]),onClick:f=>u.unref(zs)({type:d.type,roomId:e.message.roomId,message:d.label,uri:d.uri})},u.toDisplayString(d.label),11,$re))),128))])):u.createCommentVNode("",!0)],2)}),128))]))}}),Hre={class:"flex cursor-pointer gap-2 overflow-auto text-base"},zre=["src","onClick"],Vre=u.defineComponent({__name:"TemplateMessageImageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("div",Hre,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.message.template.columns,(n,i)=>(u.openBlock(),u.createElementBlock("img",{key:i,src:n.imageUrl,class:"h-[250px] w-[250px] rounded-xl object-cover",onClick:s=>u.unref(zs)(n.action)},null,8,zre))),128))]))}}),qre=u.defineComponent({__name:"TemplateMessageContent",props:{message:{}},setup(t){const e={[Wo.Buttons]:Dre,[Wo.Confirm]:Rre,[Wo.Carousel]:jre,[Wo.ImageCarousel]:Vre};return(r,n)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[r.message.templateType]),{message:r.message},null,8,["message"]))}}),Wre=u.defineComponent({__name:"FlexMessageBoxComponent",props:{content:{}},setup(t){const e=r=>({none:"0",xs:"2px",sm:"4px",md:"8px",lg:"12px",xl:"16px",xxl:"20px"})[r]??r;return(r,n)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["flex",{"flex-col":r.content.layout==="vertical","flex-row":r.content.layout==="horizontal","flex-row items-baseline":r.content.layout==="baseline"}]),style:u.normalizeStyle({backgroundColor:r.content.backgroundColor??"#00000000",borderColor:r.content.borderColor,borderWidth:r.content.borderWidth,borderRadius:r.content.cornerRadius,width:r.content.width,maxWidth:r.content.maxWidth,height:r.content.height,maxHeight:r.content.maxHeight})},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(r.content.contents,(i,s)=>(u.openBlock(),u.createBlock(mf,{key:s,content:i,style:u.normalizeStyle(r.content.layout==="vertical"?{marginTop:i.margin?e(i.margin):s===0?0:e(r.content.spacing)}:{marginLeft:i.margin?e(i.margin):s===0?0:e(r.content.spacing)})},null,8,["content","style"]))),128))],6))}}),Gre=u.defineComponent({__name:"FlexMessageButtonComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>e.content.style==="primary"?"#ffffff":e.content.style==="secondary"?"#000000":e.content.color||"#42659a"),n=u.computed(()=>e.content.style==="primary"?e.content.color||"#17c950":e.content.style==="secondary"?e.content.color||"#dcdfe5":"");return(i,s)=>(u.openBlock(),u.createElementBlock("button",{class:u.normalizeClass([[i.content.size==="md"?"h-52px":"h-10"],"rounded-lg"]),style:u.normalizeStyle({color:r.value,backgroundColor:n.value}),onClick:s[0]||(s[0]=a=>u.unref(zs)(i.content.action))},u.toDisplayString(i.content.action.label),7))}}),Yre=["src"],Qre=u.defineComponent({__name:"FlexMessageImageComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>e.content.aspectRatio?e.content.aspectRatio.replace(":","/"):"1/1");return(n,i)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["w-full overflow-hidden bg-gray-300",[n.content.aspectMode==="cover"?"object-cover":"object-contain"]]),style:u.normalizeStyle({"aspect-ratio":r.value})},[u.createElementVNode("img",{class:"h-full w-full",src:n.content.url},null,8,Yre)],6))}}),Kre=["src"],Xre=u.defineComponent({__name:"FlexMessageVideoComponent",props:{content:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("video",{src:e.content.url},null,8,Kre))}}),Zre=u.defineComponent({__name:"FlexMessageIconComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(u.openBlock(),u.createElementBlock("span",{style:u.normalizeStyle({overflow:"hidden",background:"no-repeat center",backgroundSize:"contain",backgroundImage:"url("+n.content.url+")",width:r.value,height:r.value})},null,4))}}),Jre=u.defineComponent({__name:"FlexMessageTextComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(u.openBlock(),u.createElementBlock("div",{class:"basis-0",style:u.normalizeStyle({flexGrow:n.content.flex??0})},[u.createElementVNode("p",{class:u.normalizeClass([n.content.weight==="bold"?"font-bold":"font-normal",n.content.wrap?"overflow-hidden overflow-clip whitespace-normal break-words":"overflow-hidden truncate whitespace-nowrap"]),style:u.normalizeStyle({fontSize:r.value,color:n.content.color,"text-size-adjust":"100%"})},u.toDisplayString(n.content.text),7)],4))}}),ene=u.defineComponent({__name:"FlexMessageSpanComponent",props:{content:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("span",null,u.toDisplayString(e.content.text),1))}}),tne=u.defineComponent({__name:"FlexMessageSeparatorComponent",props:{content:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("div"))}}),mf=u.defineComponent({__name:"FlexMessageComponent",props:{content:{}},setup(t){const e={box:Wre,button:Gre,image:Qre,video:Xre,icon:Zre,text:Jre,span:ene,separator:tne},r=t,n=u.computed(()=>r.content.type);return(i,s)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[n.value]),{content:i.content},null,8,["content"]))}}),dD=u.defineComponent({__name:"FlexMessageBubbleComponent",props:{content:{}},setup(t){const e=t,r=u.computed(()=>e.content.header),n=u.computed(()=>e.content.hero),i=u.computed(()=>e.content.body),s=u.computed(()=>e.content.footer),a=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.header}),o=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.hero}),l=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.body}),d=u.computed(()=>{var c;return(c=e.content.styles)==null?void 0:c.footer}),f=u.computed(()=>{switch(e.content.size){case"nano":return"10px";case"micro":return"13px";case"kilo":return s.value?"13px 13px 17px 13px":"13px";case"mega":return s.value?"19px 20px 10px 20px":"20px";case"giga":return s.value?"19px 20px 10px 20px":"20px";default:return"20px"}});return(c,h)=>{var p,m,b,y,_,x,C,k,S,w,L,D;return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["overflow-hidden rounded-xl bg-gray-100 text-[#444444] dark:bg-zinc-700",{"w-[120px]":c.content.size==="nano","w-[160px]":c.content.size==="micro","w-[260px]":c.content.size==="kilo","w-[300px]":c.content.size==="mega"||!c.content.size,"w-[386px]":c.content.size==="giga"}])},[r.value?(u.openBlock(),u.createBlock(mf,{key:0,content:r.value,style:u.normalizeStyle({backgroundColor:(p=a.value)==null?void 0:p.backgroundColor,borderBottom:(m=a.value)!=null&&m.separator?`1px solid ${(b=a.value)==null?void 0:b.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0),n.value?(u.openBlock(),u.createBlock(mf,{key:1,content:n.value,style:u.normalizeStyle({backgroundColor:(y=o.value)==null?void 0:y.backgroundColor,borderBottom:(_=o.value)!=null&&_.separator?`1px solid ${(x=o.value)==null?void 0:x.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0),i.value?(u.openBlock(),u.createBlock(mf,{key:2,content:i.value,style:u.normalizeStyle({backgroundColor:(C=l.value)==null?void 0:C.backgroundColor,borderBottom:(k=l.value)!=null&&k.separator?`1px solid ${(S=l.value)==null?void 0:S.separatorColor}`:"none",padding:f.value})},null,8,["content","style"])):u.createCommentVNode("",!0),s.value?(u.openBlock(),u.createBlock(mf,{key:3,content:s.value,class:"p-2.5",style:u.normalizeStyle({backgroundColor:(w=d.value)==null?void 0:w.backgroundColor,borderBottom:(L=d.value)!=null&&L.separator?`1px solid ${(D=d.value)==null?void 0:D.separatorColor}`:"none"})},null,8,["content","style"])):u.createCommentVNode("",!0)],2)}}}),rne=u.defineComponent({__name:"FlexMessageBubbleContent",props:{message:{}},setup(t){return(e,r)=>(u.openBlock(),u.createBlock(dD,{content:e.message.contents},null,8,["content"]))}}),nne={class:"flex items-start gap-2 overflow-auto"},ine=u.defineComponent({__name:"FlexMessageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(u.openBlock(),u.createElementBlock("div",nne,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.message.contents.contents,(n,i)=>(u.openBlock(),u.createBlock(dD,{key:i,content:n},null,8,["content"]))),128))]))}}),sne=u.defineComponent({__name:"FlexMessageContent",props:{message:{}},setup(t){const e={[o2.Bubble]:rne,[o2.Carousel]:ine};return(r,n)=>(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e[r.message.flexType]),{message:r.message},null,8,["message"]))}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".mapdiv[data-v-d05fc6bc]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var ane=Object.defineProperty,one=(t,e,r)=>e in t?ane(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fD=(t,e,r)=>(one(t,typeof e!="symbol"?e+"":e,r),r);const al=Symbol("map"),ol=Symbol("api"),u_=Symbol("marker"),c_=Symbol("markerCluster"),em=Symbol("CustomMarker"),hD=Symbol("mapTilesLoaded"),Gu=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function lne(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(c){a(c)}}function l(f){try{d(n.throw(f))}catch(c){a(c)}}function d(f){f.done?s(f.value):i(f.value).then(o,l)}d((n=n.apply(t,[])).next())})}var une=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r};const pD="__googleMapsScriptId";var Yu;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Yu||(Yu={}));let cne=class Rc{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:i,id:s=pD,language:a,libraries:o=[],mapIds:l,nonce:d,region:f,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=s||pD,this.language=a,this.libraries=o,this.mapIds=l,this.nonce=d,this.region=f,this.retries=c,this.url=h,this.version=p,Rc.instance){if(!une(this.options,Rc.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Rc.instance.options)}`);return Rc.instance}Rc.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Yu.FAILURE:this.done?Yu.SUCCESS:this.loading?Yu.LOADING:Yu.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(s=>!n[s]&&delete n[s]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(s=>{let a,o,l,d="The Google Maps JavaScript API",f="google",c="importLibrary",h="__ib__",p=document,m=window;m=m[f]||(m[f]={});const b=m.maps||(m.maps={}),y=new Set,_=new URLSearchParams,x=()=>a||(a=new Promise((C,k)=>lne(this,void 0,void 0,function*(){var S;yield o=p.createElement("script"),o.id=this.id,_.set("libraries",[...y]+"");for(l in s)_.set(l.replace(/[A-Z]/g,w=>"_"+w[0].toLowerCase()),s[l]);_.set("callback",f+".maps."+h),o.src=this.url+"?"+_,b[h]=C,o.onerror=()=>a=k(Error(d+" could not load.")),o.nonce=this.nonce||((S=p.querySelector("script[nonce]"))===null||S===void 0?void 0:S.nonce)||"",p.head.append(o)})));b[c]?console.warn(d+" only loads once. Ignoring:",s):b[c]=(C,...k)=>y.add(C)&&x().then(()=>b[c](C,...k))})(n);const i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{const a=new ErrorEvent("error",{error:s});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}};function dne(t){return class extends t.OverlayView{constructor(e){super(),fD(this,"element"),fD(this,"opts");const{element:r,...n}=e;this.element=r,this.opts=n,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof t.LatLng?this.opts.position:new t.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||Number(e.style.opacity)>.01)}onAdd(){if(!this.element)return;const e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const e=this.getProjection(),r=e==null?void 0:e.fromLatLngToDivPixel(this.getPosition());if(r){this.element.style.position="absolute";const n=this.element.offsetHeight,i=this.element.offsetWidth;let s,a;switch(this.opts.anchorPoint){case"TOP_CENTER":s=r.x-i/2,a=r.y;break;case"BOTTOM_CENTER":s=r.x-i/2,a=r.y-n;break;case"LEFT_CENTER":s=r.x,a=r.y-n/2;break;case"RIGHT_CENTER":s=r.x-i,a=r.y-n/2;break;case"TOP_LEFT":s=r.x,a=r.y;break;case"TOP_RIGHT":s=r.x-i,a=r.y;break;case"BOTTOM_LEFT":s=r.x,a=r.y-n;break;case"BOTTOM_RIGHT":s=r.x-i,a=r.y-n;break;default:s=r.x-i/2,a=r.y-n/2}this.element.style.left=s+"px",this.element.style.top=a+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(e){const{element:r,...n}=e;this.element=r,this.opts=n,this.draw()}}}let mD;const gD=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],fne=u.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:gD,setup(t,{emit:e}){const r=u.ref(),n=u.ref(!1),i=u.ref(),s=u.ref(),a=u.ref(!1);u.provide(al,i),u.provide(ol,s),u.provide(hD,a);const o=()=>{const c={...t};Object.keys(c).forEach(m=>{c[m]===void 0&&delete c[m]});const h=m=>{var b;return m?{position:(b=s.value)==null?void 0:b.ControlPosition[m]}:{}},p={scaleControlOptions:t.scaleControlStyle?{style:t.scaleControlStyle}:{},panControlOptions:h(t.panControlPosition),zoomControlOptions:h(t.zoomControlPosition),rotateControlOptions:h(t.rotateControlPosition),streetViewControlOptions:h(t.streetViewControlPosition),fullscreenControlOptions:h(t.fullscreenControlPosition),disableDefaultUI:t.disableDefaultUi};return{...c,...p}},l=u.watch([s,i],([c,h])=>{const p=c,m=h;p&&m&&(p.event.addListenerOnce(m,"tilesloaded",()=>{a.value=!0}),setTimeout(l,0))},{immediate:!0}),d=()=>{try{const{apiKey:c,region:h,version:p,language:m,libraries:b,nonce:y}=t;mD=new cne({apiKey:c,region:h,version:p,language:m,libraries:b,nonce:y})}catch(c){console.error(c)}},f=c=>{s.value=u.markRaw(c.maps),i.value=u.markRaw(new c.maps.Map(r.value,o()));const h=dne(s.value);s.value[em]=h,gD.forEach(m=>{var b;(b=i.value)==null||b.addListener(m,y=>e(m,y))}),n.value=!0;const p=Object.keys(t).filter(m=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(m)).map(m=>u.toRef(t,m));u.watch([()=>t.center,()=>t.zoom,...p],([m,b],[y,_])=>{var x,C,k;const{center:S,zoom:w,...L}=o();(x=i.value)==null||x.setOptions(L),b!==void 0&&b!==_&&((C=i.value)==null||C.setZoom(b));const D=!y||m.lng!==y.lng||m.lat!==y.lat;m&&D&&((k=i.value)==null||k.panTo(m))})};return u.onMounted(()=>{t.apiPromise&&t.apiPromise instanceof Promise?t.apiPromise.then(f):(d(),mD.load().then(f))}),u.onBeforeUnmount(()=>{var c;a.value=!1,i.value&&((c=s.value)==null||c.event.clearInstanceListeners(i.value))}),{mapRef:r,ready:n,map:i,api:s,mapTilesLoaded:a}}}),hne=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},pne={ref:"mapRef",class:"mapdiv"};function mne(t,e,r,n,i,s){return u.openBlock(),u.createElementBlock("div",null,[u.createElementVNode("div",pne,null,512),u.renderSlot(t.$slots,"default",u.normalizeProps(u.guardReactiveProps({ready:t.ready,map:t.map,api:t.api,mapTilesLoaded:t.mapTilesLoaded})),void 0,!0)])}const bD=hne(fne,[["render",mne],["__scopeId","data-v-d05fc6bc"]]);function gne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bne=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r};const _a=gne(bne),yD=["click","drag","dragend","dragstart","gmp-click"];u.defineComponent({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:yD,setup(t,{emit:e,expose:r,slots:n}){const i=u.toRef(t,"options"),s=u.toRef(t,"pinOptions"),a=u.ref(),o=u.inject(al,u.ref()),l=u.inject(ol,u.ref()),d=u.inject(c_,u.ref()),f=u.computed(()=>!!(d.value&&l.value&&a.value instanceof google.maps.marker.AdvancedMarkerElement));return u.watch([o,i,s],async(c,[h,p,m])=>{var b,y,_;const x=!_a(i.value,p)||!_a(s.value,m)||o.value!==h;if(!o.value||!l.value||!x)return;const{AdvancedMarkerElement:C,PinElement:k}=l.value.marker;if(a.value){const{map:S,content:w,...L}=i.value;Object.assign(a.value,{content:s.value?new k(s.value).element:w,...L}),f.value&&((b=d.value)==null||b.removeMarker(a.value),(y=d.value)==null||y.addMarker(a.value))}else s.value&&(i.value.content=new k(s.value).element),a.value=u.markRaw(new C(i.value)),f.value?(_=d.value)==null||_.addMarker(a.value):a.value.map=o.value,yD.forEach(S=>{var w;(w=a.value)==null||w.addListener(S,L=>e(S,L))})},{immediate:!0}),u.onBeforeUnmount(()=>{var c,h;a.value&&((c=l.value)==null||c.event.clearInstanceListeners(a.value),f.value?(h=d.value)==null||h.removeMarker(a.value):a.value.map=null)}),u.provide(u_,a),r({marker:a}),()=>{var c;return(c=n.default)==null?void 0:c.call(n)}}});const yne=t=>t==="Marker",_ne=t=>t===em,Qu=(t,e,r,n)=>{const i=u.ref(),s=u.inject(al,u.ref()),a=u.inject(ol,u.ref()),o=u.inject(c_,u.ref()),l=u.computed(()=>!!(o.value&&a.value&&(i.value instanceof a.value.Marker||i.value instanceof a.value[em])));return u.watch([s,r],(d,[f,c])=>{var h,p,m;const b=!_a(r.value,c)||s.value!==f;!s.value||!a.value||!b||(i.value?(i.value.setOptions(r.value),l.value&&((h=o.value)==null||h.removeMarker(i.value),(p=o.value)==null||p.addMarker(i.value))):(yne(t)?i.value=u.markRaw(new a.value[t](r.value)):_ne(t)?i.value=u.markRaw(new a.value[t](r.value)):i.value=u.markRaw(new a.value[t]({...r.value,map:s.value})),l.value?(m=o.value)==null||m.addMarker(i.value):i.value.setMap(s.value),e.forEach(y=>{var _;(_=i.value)==null||_.addListener(y,x=>n(y,x))})))},{immediate:!0}),u.onBeforeUnmount(()=>{var d,f;i.value&&((d=a.value)==null||d.event.clearInstanceListeners(i.value),l.value?(f=o.value)==null||f.removeMarker(i.value):i.value.setMap(null))}),i},_D=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],vD=u.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:_D,setup(t,{emit:e,expose:r,slots:n}){const i=u.toRef(t,"options"),s=Qu("Marker",_D,i,e);return u.provide(u_,s),r({marker:s}),()=>{var a;return(a=n.default)==null?void 0:a.call(n)}}});u.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:Gu,setup(t,{emit:e}){const r=u.toRef(t,"options");return{polyline:Qu("Polyline",Gu,r,e)}},render:()=>null}),u.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:Gu,setup(t,{emit:e}){const r=u.toRef(t,"options");return{polygon:Qu("Polygon",Gu,r,e)}},render:()=>null});const TD=Gu.concat(["bounds_changed"]);u.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:TD,setup(t,{emit:e}){const r=u.toRef(t,"options");return{rectangle:Qu("Rectangle",TD,r,e)}},render:()=>null});const ED=Gu.concat(["center_changed","radius_changed"]);u.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:ED,setup(t,{emit:e}){const r=u.toRef(t,"options");return{circle:Qu("Circle",ED,r,e)}},render:()=>null}),u.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(t,{emit:e}){const r=u.ref(null),n=u.inject(al,u.ref()),i=u.inject(ol,u.ref()),s=u.inject(hD,u.ref(!1)),a=u.watch([s,i,r],([d,f,c])=>{f&&d&&c&&(o(t.position),e("content:loaded"),setTimeout(a,0))},{immediate:!0}),o=d=>{if(n.value&&i.value&&r.value){const f=i.value.ControlPosition[d];n.value.controls[f].push(r.value)}},l=d=>{if(n.value&&i.value){let f=null;const c=i.value.ControlPosition[d];n.value.controls[c].forEach((h,p)=>{h===r.value&&(f=p)}),f!==null&&n.value.controls[c].removeAt(f)}};return u.onBeforeUnmount(()=>l(t.position)),u.watch(()=>t.position,(d,f)=>{l(f),o(d)}),u.watch(()=>t.index,d=>{d&&r.value&&(r.value.index=t.index)}),{controlRef:r}}});const AD=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"];u.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...AD,"update:modelValue"],setup(t,{slots:e,emit:r,expose:n}){const i=u.ref(),s=u.ref(),a=u.inject(al,u.ref()),o=u.inject(ol,u.ref()),l=u.inject(u_,u.ref());let d,f=t.modelValue;const c=u.computed(()=>{var b;return(b=e.default)==null?void 0:b.call(e).some(y=>y.type!==u.Comment)}),h=b=>{f=b,r("update:modelValue",b)},p=b=>{i.value&&(i.value.open({map:a.value,anchor:l.value,...b}),h(!0))},m=()=>{i.value&&(i.value.close(),h(!1))};return u.onMounted(()=>{u.watch([a,()=>t.options],([b,y],[_,x])=>{var C;const k=!_a(y,x)||a.value!==_;a.value&&o.value&&k&&(i.value?(i.value.setOptions({...y,content:c.value?s.value:y.content}),l.value||p()):(i.value=u.markRaw(new o.value.InfoWindow({...y,content:c.value?s.value:y.content})),l.value&&(d=l.value.addListener("click",()=>{p()})),(!l.value||f)&&p(),AD.forEach(S=>{var w;(w=i.value)==null||w.addListener(S,L=>r(S,L))}),(C=i.value)==null||C.addListener("closeclick",()=>h(!1))))},{immediate:!0}),u.watch(()=>t.modelValue,b=>{b!==f&&(b?p():m())})}),u.onBeforeUnmount(()=>{var b;d&&d.remove(),i.value&&((b=o.value)==null||b.event.clearInstanceListeners(i.value),m())}),n({infoWindow:i,open:p,close:m}),{infoWindow:i,infoWindowRef:s,hasSlotContent:c,open:p,close:m}}});const xD=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],d_=1,gf=8;let vne=class BO{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==d_)throw new Error(`Got v${i} data when expected v${d_}.`);const s=xD[n&15];if(!s)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new BO(o,a,s,e)}constructor(e,r=64,n=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=xD.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-o%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,gf,e),this.coords=new this.ArrayType(this.data,gf+o+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(gf+a+o+l),this.ids=new this.IndexArrayType(this.data,gf,e),this.coords=new this.ArrayType(this.data,gf+o+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(d_<<4)+s]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return f_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:a,nodeSize:o}=this,l=[0,s.length-1,0],d=[];for(;l.length;){const f=l.pop()||0,c=l.pop()||0,h=l.pop()||0;if(c-h<=o){for(let y=h;y<=c;y++){const _=a[2*y],x=a[2*y+1];_>=e&&_<=n&&x>=r&&x<=i&&d.push(s[y])}continue}const p=h+c>>1,m=a[2*p],b=a[2*p+1];m>=e&&m<=n&&b>=r&&b<=i&&d.push(s[p]),(f===0?e<=m:r<=b)&&(l.push(h),l.push(p-1),l.push(1-f)),(f===0?n>=m:i>=b)&&(l.push(p+1),l.push(c),l.push(1-f))}return d}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:a}=this,o=[0,i.length-1,0],l=[],d=n*n;for(;o.length;){const f=o.pop()||0,c=o.pop()||0,h=o.pop()||0;if(c-h<=a){for(let y=h;y<=c;y++)wD(s[2*y],s[2*y+1],e,r)<=d&&l.push(i[y]);continue}const p=h+c>>1,m=s[2*p],b=s[2*p+1];wD(m,b,e,r)<=d&&l.push(i[p]),(f===0?e-n<=m:r-n<=b)&&(o.push(h),o.push(p-1),o.push(1-f)),(f===0?e+n>=m:r+n>=b)&&(o.push(p+1),o.push(c),o.push(1-f))}return l}};function f_(t,e,r,n,i,s){if(i-n<=r)return;const a=n+i>>1;CD(t,e,a,n,i,s),f_(t,e,r,n,a-1,1-s),f_(t,e,r,a+1,i,1-s)}function CD(t,e,r,n,i,s){for(;i>n;){if(i-n>600){const d=i-n+1,f=r-n+1,c=Math.log(d),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(d-h)/d)*(f-d/2<0?-1:1),m=Math.max(n,Math.floor(r-f*h/d+p)),b=Math.min(i,Math.floor(r+(d-f)*h/d+p));CD(t,e,r,m,b,s)}const a=e[2*r+s];let o=n,l=i;for(bf(t,e,n,r),e[2*i+s]>a&&bf(t,e,n,i);o<l;){for(bf(t,e,o,l),o++,l--;e[2*o+s]<a;)o++;for(;e[2*l+s]>a;)l--}e[2*n+s]===a?bf(t,e,n,l):(l++,bf(t,e,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1)}}function bf(t,e,r,n){h_(t,r,n),h_(e,2*r,2*n),h_(e,2*r+1,2*n+1)}function h_(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function wD(t,e,r,n){const i=t-r,s=e-n;return i*i+s*s}const Tne={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},SD=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ll=2,eo=3,p_=4,to=5,kD=6;let ID=class{constructor(e){this.options=Object.assign(Object.create(Tne),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const s=`prepare ${e.length} points`;r&&console.time(s),this.points=e;const a=[];for(let l=0;l<e.length;l++){const d=e[l];if(!d.geometry)continue;const[f,c]=d.geometry.coordinates,h=SD(tm(f)),p=SD(rm(c));a.push(h,p,1/0,l,-1,1),this.options.reduce&&a.push(0)}let o=this.trees[i+1]=this._createTree(a);r&&console.timeEnd(s);for(let l=i;l>=n;l--){const d=+Date.now();o=this.trees[l]=this._createTree(this._cluster(o,l)),r&&console.log("z%d: %d clusters in %dms",l,o.numItems,+Date.now()-d)}return r&&console.timeEnd("total time"),this}getClusters(e,r){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){const c=this.getClusters([n,i,180,a],r),h=this.getClusters([-180,i,s,a],r);return c.concat(h)}const o=this.trees[this._limitZoom(r)],l=o.range(tm(n),rm(a),tm(s),rm(i)),d=o.data,f=[];for(const c of l){const h=this.stride*c;f.push(d[h+to]>1?DD(d,h,this.clusterProps):this.points[d[h+eo]])}return f}getChildren(e){const r=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(i);const a=s.data;if(r*this.stride>=a.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=a[r*this.stride],d=a[r*this.stride+1],f=s.within(l,d,o),c=[];for(const h of f){const p=h*this.stride;a[p+p_]===e&&c.push(a[p+to]>1?DD(a,p,this.clusterProps):this.points[a[p+eo]])}if(c.length===0)throw new Error(i);return c}getLeaves(e,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,e,r,n,0),i}getTile(e,r,n){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,d=(n-l)/s,f=(n+1+l)/s,c={features:[]};return this._addTileFeatures(i.range((r-l)/s,d,(r+1+l)/s,f),i.data,r,n,s,c),r===0&&this._addTileFeatures(i.range(1-l/s,d,1,f),i.data,s,n,s,c),r===s-1&&this._addTileFeatures(i.range(0,d,l/s,f),i.data,-1,n,s,c),c.features.length?c:null}getClusterExpansionZoom(e){let r=this._getOriginZoom(e)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,i,s){const a=this.getChildren(r);for(const o of a){const l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,n,i,s):s<i?s++:e.push(o),e.length===n)break}return s}_createTree(e){const r=new vne(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,i,s,a){for(const o of e){const l=o*this.stride,d=r[l+to]>1;let f,c,h;if(d)f=ND(r,l,this.clusterProps),c=r[l],h=r[l+1];else{const b=this.points[r[l+eo]];f=b.properties;const[y,_]=b.geometry.coordinates;c=tm(y),h=rm(_)}const p={type:1,geometry:[[Math.round(this.options.extent*(c*s-n)),Math.round(this.options.extent*(h*s-i))]],tags:f};let m;d||this.options.generateId?m=r[l+eo]:m=this.points[r[l+eo]].id,m!==void 0&&(p.id=m),a.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){const{radius:n,extent:i,reduce:s,minPoints:a}=this.options,o=n/(i*Math.pow(2,r)),l=e.data,d=[],f=this.stride;for(let c=0;c<l.length;c+=f){if(l[c+ll]<=r)continue;l[c+ll]=r;const h=l[c],p=l[c+1],m=e.within(l[c],l[c+1],o),b=l[c+to];let y=b;for(const _ of m){const x=_*f;l[x+ll]>r&&(y+=l[x+to])}if(y>b&&y>=a){let _=h*b,x=p*b,C,k=-1;const S=((c/f|0)<<5)+(r+1)+this.points.length;for(const w of m){const L=w*f;if(l[L+ll]<=r)continue;l[L+ll]=r;const D=l[L+to];_+=l[L]*D,x+=l[L+1]*D,l[L+p_]=S,s&&(C||(C=this._map(l,c,!0),k=this.clusterProps.length,this.clusterProps.push(C)),s(C,this._map(l,L)))}l[c+p_]=S,d.push(_/y,x/y,1/0,S,-1,y),s&&d.push(k)}else{for(let _=0;_<f;_++)d.push(l[c+_]);if(y>1)for(const _ of m){const x=_*f;if(!(l[x+ll]<=r)){l[x+ll]=r;for(let C=0;C<f;C++)d.push(l[x+C])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+to]>1){const a=this.clusterProps[e[r+kD]];return n?Object.assign({},a):a}const i=this.points[e[r+eo]].properties,s=this.options.map(i);return n&&s===i?Object.assign({},s):s}};function DD(t,e,r){return{type:"Feature",id:t[e+eo],properties:ND(t,e,r),geometry:{type:"Point",coordinates:[Ene(t[e]),Ane(t[e+1])]}}}function ND(t,e,r){const n=t[e+to],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,s=t[e+kD],a=s===-1?{}:Object.assign({},r[s]);return Object.assign(a,{cluster:!0,cluster_id:t[e+eo],point_count:n,point_count_abbreviated:i})}function tm(t){return t/360+.5}function rm(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Ene(t){return(t-.5)*360}function Ane(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function m_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}let En=class{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}};class yf{constructor({markers:e,position:r}){this.markers=e,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)e.extend(En.getPosition(r));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>En.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(En.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const xne=(t,e,r,n)=>{const i=MD(t.getBounds(),e,n);return r.filter(s=>i.contains(En.getPosition(s)))},MD=(t,e,r)=>{const{northEast:n,southWest:i}=Cne(t,e),s=wne({northEast:n,southWest:i},r);return Sne(s,e)},OD=(t,e,r)=>{const n=MD(t,e,r),i=n.getNorthEast(),s=n.getSouthWest();return[s.lng(),s.lat(),i.lng(),i.lat()]},Cne=(t,e)=>({northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}),wne=({northEast:t,southWest:e},r)=>(t.x+=r,t.y-=r,e.x-=r,e.y+=r,{northEast:t,southWest:e}),Sne=({northEast:t,southWest:e},r)=>{const n=r.fromDivPixelToLatLng(e),i=r.fromDivPixelToLatLng(t);return new google.maps.LatLngBounds(n,i)};let LD=class{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Ine(e)}},kne=class extends LD{constructor(e){var{viewportPadding:r=60}=e,n=m_(e,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=r}calculate({markers:e,map:r,mapCanvasProjection:n}){return r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:xne(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}};const Ine=t=>t.map(e=>new yf({position:En.getPosition(e),markers:[e]}));let Dne=class extends LD{constructor(e){var{maxZoom:r,radius:n=60}=e,i=m_(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new ID(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){let r=!1;const n={zoom:e.map.getZoom()};if(!_a(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const a=En.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!_a(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new yf({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new yf({markers:[i],position:En.getPosition(i)})}},Nne=class extends kne{constructor(e){var{maxZoom:r,radius:n=60,viewportPadding:i=60}=e,s=m_(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:r,viewportPadding:i}),this.superCluster=new ID(Object.assign({maxZoom:this.maxZoom,radius:n},s)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const r={zoom:Math.round(e.map.getZoom()),view:OD(e.map.getBounds(),e.mapCanvasProjection,this.viewportPadding)};let n=!_a(this.state,r);if(!_a(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const a=En.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n&&(this.clusters=this.cluster(e),this.state=r),{clusters:this.clusters,changed:n}}cluster({map:e,mapCanvasProjection:r}){const n={zoom:Math.round(e.getZoom()),view:OD(e.getBounds(),r,this.viewportPadding)};return this.superCluster.getClusters(n.view,n.zoom).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new yf({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new yf({markers:[i],position:En.getPosition(i)})}},Mne=class{constructor(e,r){this.markers={sum:e.length};const n=r.map(s=>s.count),i=n.reduce((s,a)=>s+a,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}},One=class{render({count:e,position:r},n,i){const s=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,o=Number(google.maps.Marker.MAX_ZINDEX)+e;if(En.isAdvancedMarkerAvailable(i)){const d=document.createElement("div");d.innerHTML=s;const f=d.firstElementChild;f.setAttribute("transform","translate(0 25)");const c={map:i,position:r,zIndex:o,title:a,content:f};return new google.maps.marker.AdvancedMarkerElement(c)}const l={position:r,zIndex:o,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}};function Lne(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}let Rne=class PO{constructor(){Lne(PO,google.maps.OverlayView)}};var Ku;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Ku||(Ku={}));const Bne=(t,e,r)=>{r.fitBounds(e.bounds)};let Pne=class extends Rne{constructor({map:e,markers:r=[],algorithmOptions:n={},algorithm:i=new Dne(n),renderer:s=new One,onClusterClick:a=Bne}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=a,e&&this.setMap(e)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){const n=this.markers.indexOf(e);return n===-1?!1:(En.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){let n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ku.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const a of r)a.markers.length==1&&i.add(a.markers[0]);const s=[];for(const a of this.clusters)a.marker!=null&&(a.markers.length==1?i.has(a.marker)||En.setMap(a.marker,null):s.push(a.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>s.forEach(a=>En.setMap(a,null)))}google.maps.event.trigger(this,Ku.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>En.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Mne(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,r),n.markers.forEach(i=>En.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Ku.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),En.setMap(n.marker,r)})}};const RD=Object.values(Ku);u.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:RD,setup(t,{emit:e,expose:r,slots:n}){const i=u.ref(),s=u.inject(al,u.ref()),a=u.inject(ol,u.ref());return u.provide(c_,i),u.watch(s,()=>{s.value&&(i.value=u.markRaw(new Pne({map:s.value,algorithm:new Nne(t.options.algorithmOptions??{}),...t.options})),RD.forEach(o=>{var l;(l=i.value)==null||l.addListener(o,d=>e(o,d))}))},{immediate:!0}),u.onBeforeUnmount(()=>{var o;i.value&&((o=a.value)==null||o.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),r({markerCluster:i}),()=>{var o;return(o=n.default)==null?void 0:o.call(n)}}}),u.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(t,{slots:e,emit:r,expose:n}){const i=u.ref(),s=u.computed(()=>{var l;return(l=e.default)==null?void 0:l.call(e).some(d=>d.type!==u.Comment)}),a=u.computed(()=>({...t.options,element:i.value})),o=Qu(em,[],a,r);return n({customMarker:o}),{customMarkerRef:i,customMarker:o,hasSlotContent:s}}}),u.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=u.ref(),r=u.inject(al,u.ref()),n=u.inject(ol,u.ref());return u.watch([r,()=>t.options],([i,s],[a,o])=>{var l;const d=!_a(s,o)||r.value!==a;if(r.value&&n.value&&d){const f=structuredClone(s);if(f.data&&!(f.data instanceof n.value.MVCArray)){const c=n.value.LatLng;f.data=(l=f.data)==null?void 0:l.map(h=>h instanceof c||"location"in h&&(h.location instanceof c||h.location===null)?h:"location"in h?{...h,location:new c(h.location)}:new c(h))}e.value?e.value.setOptions(f):e.value=u.markRaw(new n.value.visualization.HeatmapLayer({...f,map:r.value}))}},{immediate:!0}),u.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const Fne=t=>(u.pushScopeId("data-v-b091599d"),t=t(),u.popScopeId(),t),Une={class:"w-[250px] p-2 underline sm:w-[300px]"},$ne=Fne(()=>u.createElementVNode("div",{class:"absolute inset-0"},null,-1)),jne=Sr(u.defineComponent({__name:"LocationMessageContent",props:{message:{}},setup(t){const e=t,n=nr().state.imkit.config.mapApiKey,i=u.computed(()=>({lat:e.message.latitude,lng:e.message.longitude})),s=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e.message.address}`,"_blank")};return(a,o)=>(u.openBlock(),u.createElementBlock("div",{class:"relative -mx-3 -my-2 flex cursor-pointer flex-col",onClick:s},[u.createVNode(u.unref(bD),{"api-key":u.unref(n),center:i.value,zoom:15,disableDefaultUi:!0,class:"h-[150px] w-[250px] sm:h-[200px] sm:w-[300px]"},{default:u.withCtx(()=>[u.createVNode(u.unref(vD),{options:{position:i.value}},null,8,["options"])]),_:1},8,["api-key","center"]),u.createElementVNode("div",Une,u.toDisplayString(a.message.address),1),$ne]))}}),[["__scopeId","data-v-b091599d"]]),Hne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVR4nO2bPYsUQRCGG1E0MRAFTQSNTjRSQxE0M9NfoGCwOv3O3k7XKpxR9e7hdyRGlxoan2B+4AcamBmYGKhgZqAmoitzB87eMh93595uz877QCcbLQ9dNV3V1cYQQgghhBBCpswV1T3Anf3T/h/BYZP+Cev0uXX+N8QPIPoFzt9qtx/tNk0HiZ6C+B9rYtYv6/z7OOmdMU0GTt/myRmSlO6qx1dv3t9rmkbcXTxaJmfdcvrROr1gmkSc9M5uWFAm6kljEjm6em7TglYl+a+R08tm1sFWBWW7aTmSxcNmVsH/ClqT9A3iO6q6w8waGIegLOxWrnf6c2aWwDgFpUcC0Z9w6lutpV1mFsCYBQ2Jehd1+6dN3cE2CVqV5PwvK3ovre9MXcE2ChpaHyLXO2/qCCYjKC1+/1jnl2pXrmBigv6F3Web9C6auoAJCxpK4k9bogdM6GBKgmpTrmCagrL1LNhyBWEICrdcQSiCsrBbiUWPmVBAaIJCK1cQoKBMlH9pb+ghCpJSSa9VdSd3kBRLikUvUZCU7CLnH1KQlOUjfUBBwhAbbO1cpK+YpKXwPPRifv72QX7mhQfFwcZDiqXGoCDXsFhF8c5huwP54cSGGYq/UGy5Ir9sYNMe+eUCr31QnIR5cYj8cOLVM4qTMIcXEHo/eRyAA1TlcASvAg5xVsAx4Ao4SF7BtY4e2UT7s3lPEVKs+DcV1y7NfcyS0pb+Sev0e4EcPodKaXf1+MiDuk9WdIEP6kZIhUQLd/eN/k4IIYQQQggxDeMvr6MHGaopSLgAAAAASUVORK5CYII=",zne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO2bzy5DQRTGJ8GaDQ+ANZ4FXbDxZ9HoGTc1p01scA5SGmshfQLBAu+gkYgXYqEyjUhEae/0Ti/y/ZJZ3vnO/e733d0xBgAAAAAAgFhsVGSCKrJoK1L8cpwsJ9XDqaw1ycm0v7uz5v5CktTGTd6IyLBlObEsL5a19f2RV8t6WS7LWL+a/g7r9PpnPW2R02fr9NjPaPKCnDa6DfrpOG32M3Cx2Bgh1od0mnJm8oDKMveejN6H9V+WZTVYk2U9rZ6fsVSVGTNorJO99MO2B74N1SSndyGaxLqb7dv3MizreZBBTh5DNf2zgQadm1///+EPg55CNf2zQQY5bZhBQzAIBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAb1lyDGKkKUZRZyemMGvcziZMcMmk13MBuyDmW3dCVU0zpd+zPrUCE1I5b7fhbq2huOTpsp03Nq8kJEhoml3l5/7PIVifWiuF0fzWIlk1iueqjyM7EcFQpXQyZvkqQ2XqrIfKcFW2JdKm3JZNaa/k5/dydNP8uvWOoFAAAAAADm3/IGGLsxyp+ApQ8AAAAASUVORK5CYII=",Vne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nO3bTy5DYRSG8ZuosU5qAWWMtZQJE38GVkGHiHGj6QoEA+yBSJpuiIFXGtesvPee77sp+vwS057zPcXsFAUAAADQFEmrknYkHc/42ZO01sDM9fKzZ83cltTJPTOyZEvSpaQ3/exd0o2kdoaZbUl38l4lnU93zPPa2LIj1fOcsrCkZUkvNWde5X119WW3yt+Mug4SZh4F5k133Mj7+mrL9hXzkDDzMTjzNO/rqy07DC47Tpg5Ds4c5n19M/9/vkwSZk4UM8r7+mrLjoLLEsggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZBDIIJBBIINABoEMAhkEMghkEMggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZCxMoGFw2YU5RegHl72fwzHLSd7XV1t2M3gOtZ8w8/DPnEMF/8yeEg/qWuVRXh2DYl70ufBFef7ovsVrSSuZTjJvK4SZ7nQmaSnPa9OW7kjqfXNguyup28DMbvnZs2b2fsVRLwAAAIp/6wPxkEFCV8mUxgAAAABJRU5ErkJggg==";var BD={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||r;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var h=this||r;if(c=parseFloat(c),h.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(h._volume=c,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),b=0;b<m.length;b++){var y=h._howls[p]._soundById(m[b]);y&&y._node&&(y._node.volume=y._volume*c)}return h}return h._volume},mute:function(c){var h=this||r;h.ctx||f(),h._muted=c,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c?0:h._volume,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),b=0;b<m.length;b++){var y=h._howls[p]._soundById(m[b]);y&&y._node&&(y._node.muted=c?!0:y._muted)}return h},stop:function(){for(var c=this||r,h=0;h<c._howls.length;h++)c._howls[h].stop();return c},unload:function(){for(var c=this||r,h=c._howls.length-1;h>=0;h--)c._howls[h].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||r)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||r;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var h=new Audio;h.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||r,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return c}if(!h||typeof h.canPlayType!="function")return c;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=c._navigator?c._navigator.userAgent:"",b=m.match(/OPR\/(\d+)/g),y=b&&parseInt(b[0].split("/")[1],10)<33,_=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),C=_&&x&&parseInt(x[1],10)<15;return c._codecs={mp3:!!(!y&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||r;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var h=function(p){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,c._releaseHtml5Audio(m)}catch{c.noAudio=!0;break}for(var b=0;b<c._howls.length;b++)if(!c._howls[b]._webAudio)for(var y=c._howls[b]._getSoundIds(),_=0;_<y.length;_++){var x=c._howls[b]._soundById(y[_]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}c._autoResume();var C=c.ctx.createBufferSource();C.buffer=c._scratchBuffer,C.connect(c.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),C.onended=function(){C.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var k=0;k<c._howls.length;k++)c._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),c}},_obtainHtml5Audio:function(){var c=this||r;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var h=this||r;return c._unlocked&&h._html5AudioPool.push(c),h},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!r.usingWebAudio)){for(var h=0;h<c._howls.length;h++)if(c._howls[h]._webAudio){for(var p=0;p<c._howls[h]._sounds.length;p++)if(!c._howls[h]._sounds[p]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var m=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(m,m)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!r.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var h=0;h<c._howls.length;h++)c._howls[h]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var r=new e,n=function(c){var h=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(c)};n.prototype={init:function(c){var h=this;return r.ctx||f(),h._autoplay=c.autoplay||!1,h._format=typeof c.format!="string"?c.format:[c.format],h._html5=c.html5||!1,h._muted=c.mute||!1,h._loop=c.loop||!1,h._pool=c.pool||5,h._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,h._rate=c.rate||1,h._sprite=c.sprite||{},h._src=typeof c.src!="string"?c.src:[c.src],h._volume=c.volume!==void 0?c.volume:1,h._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=c.onend?[{fn:c.onend}]:[],h._onfade=c.onfade?[{fn:c.onfade}]:[],h._onload=c.onload?[{fn:c.onload}]:[],h._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],h._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],h._onpause=c.onpause?[{fn:c.onpause}]:[],h._onplay=c.onplay?[{fn:c.onplay}]:[],h._onstop=c.onstop?[{fn:c.onstop}]:[],h._onmute=c.onmute?[{fn:c.onmute}]:[],h._onvolume=c.onvolume?[{fn:c.onvolume}]:[],h._onrate=c.onrate?[{fn:c.onrate}]:[],h._onseek=c.onseek?[{fn:c.onseek}]:[],h._onunlock=c.onunlock?[{fn:c.onunlock}]:[],h._onresume=[],h._webAudio=r.usingWebAudio&&!h._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var c=this,h=null;if(r.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var p=0;p<c._src.length;p++){var m,b;if(c._format&&c._format[p])m=c._format[p];else{if(b=c._src[p],typeof b!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(b),m||(m=/\.([^.]+)$/.exec(b.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&r.codecs(m)){h=c._src[p];break}}if(!h){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=h,c._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&a(c),c},play:function(c,h){var p=this,m=null;if(typeof c=="number")m=c,c=null;else{if(typeof c=="string"&&p._state==="loaded"&&!p._sprite[c])return null;if(typeof c>"u"&&(c="__default",!p._playLock)){for(var b=0,y=0;y<p._sounds.length;y++)p._sounds[y]._paused&&!p._sounds[y]._ended&&(b++,m=p._sounds[y]._id);b===1?c=null:m=null}}var _=m?p._soundById(m):p._inactiveSound();if(!_)return null;if(m&&!c&&(c=_._sprite||"__default"),p._state!=="loaded"){_._sprite=c,_._ended=!1;var x=_._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(m&&!_._paused)return h||p._loadQueue("play"),_._id;p._webAudio&&r._autoResume();var C=Math.max(0,_._seek>0?_._seek:p._sprite[c][0]/1e3),k=Math.max(0,(p._sprite[c][0]+p._sprite[c][1])/1e3-C),S=k*1e3/Math.abs(_._rate),w=p._sprite[c][0]/1e3,L=(p._sprite[c][0]+p._sprite[c][1])/1e3;_._sprite=c,_._ended=!1;var D=function(){_._paused=!1,_._seek=C,_._start=w,_._stop=L,_._loop=!!(_._loop||p._sprite[c][2])};if(C>=L){p._ended(_);return}var I=_._node;if(p._webAudio){var P=function(){p._playLock=!1,D(),p._refreshBuffer(_);var H=_._muted||p._muted?0:_._volume;I.gain.setValueAtTime(H,r.ctx.currentTime),_._playStart=r.ctx.currentTime,typeof I.bufferSource.start>"u"?_._loop?I.bufferSource.noteGrainOn(0,C,86400):I.bufferSource.noteGrainOn(0,C,k):_._loop?I.bufferSource.start(0,C,86400):I.bufferSource.start(0,C,k),S!==1/0&&(p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),S)),h||setTimeout(function(){p._emit("play",_._id),p._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?P():(p._playLock=!0,p.once("resume",P),p._clearTimer(_._id))}else{var z=function(){I.currentTime=C,I.muted=_._muted||p._muted||r._muted||I.muted,I.volume=_._volume*r.volume(),I.playbackRate=_._rate;try{var H=I.play();if(H&&typeof Promise<"u"&&(H instanceof Promise||typeof H.then=="function")?(p._playLock=!0,D(),H.then(function(){p._playLock=!1,I._unlocked=!0,h?p._loadQueue():p._emit("play",_._id)}).catch(function(){p._playLock=!1,p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):h||(p._playLock=!1,D(),p._emit("play",_._id)),I.playbackRate=_._rate,I.paused){p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||_._loop?p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),S):(p._endTimers[_._id]=function(){p._ended(_),I.removeEventListener("ended",p._endTimers[_._id],!1)},I.addEventListener("ended",p._endTimers[_._id],!1))}catch(Y){p._emit("playerror",_._id,Y)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=p._src,I.load());var U=window&&window.ejecta||!I.readyState&&r._navigator.isCocoonJS;if(I.readyState>=3||U)z();else{p._playLock=!0,p._state="loading";var $=function(){p._state="loaded",z(),I.removeEventListener(r._canPlayEvent,$,!1)};I.addEventListener(r._canPlayEvent,$,!1),p._clearTimer(_._id)}}return _._id},pause:function(c){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(c)}}),h;for(var p=h._getSoundIds(c),m=0;m<p.length;m++){h._clearTimer(p[m]);var b=h._soundById(p[m]);if(b&&!b._paused&&(b._seek=h.seek(p[m]),b._rateSeek=0,b._paused=!0,h._stopFade(p[m]),b._node))if(h._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),h._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||h._emit("pause",b?b._id:null)}return h},stop:function(c,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(c)}}),p;for(var m=p._getSoundIds(c),b=0;b<m.length;b++){p._clearTimer(m[b]);var y=p._soundById(m[b]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,p._stopFade(m[b]),y._node&&(p._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),p._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&p._clearSound(y._node))),h||p._emit("stop",y._id))}return p},mute:function(c,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(c,h)}}),p;if(typeof h>"u")if(typeof c=="boolean")p._muted=c;else return p._muted;for(var m=p._getSoundIds(h),b=0;b<m.length;b++){var y=p._soundById(m[b]);y&&(y._muted=c,y._interval&&p._stopFade(y._id),p._webAudio&&y._node?y._node.gain.setValueAtTime(c?0:y._volume,r.ctx.currentTime):y._node&&(y._node.muted=r._muted?!0:c),p._emit("mute",y._id))}return p},volume:function(){var c=this,h=arguments,p,m;if(h.length===0)return c._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var b=c._getSoundIds(),y=b.indexOf(h[0]);y>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var _;if(typeof p<"u"&&p>=0&&p<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,h)}}),c;typeof m>"u"&&(c._volume=p),m=c._getSoundIds(m);for(var x=0;x<m.length;x++)_=c._soundById(m[x]),_&&(_._volume=p,h[2]||c._stopFade(m[x]),c._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(p,r.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=p*r.volume()),c._emit("volume",_._id))}else return _=m?c._soundById(m):c._sounds[0],_?_._volume:0;return c},fade:function(c,h,p,m){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(c,h,p,m)}}),b;c=Math.min(Math.max(0,parseFloat(c)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),b.volume(c,m);for(var y=b._getSoundIds(m),_=0;_<y.length;_++){var x=b._soundById(y[_]);if(x){if(m||b._stopFade(y[_]),b._webAudio&&!x._muted){var C=r.ctx.currentTime,k=C+p/1e3;x._volume=c,x._node.gain.setValueAtTime(c,C),x._node.gain.linearRampToValueAtTime(h,k)}b._startFadeInterval(x,c,h,p,y[_],typeof m>"u")}}return b},_startFadeInterval:function(c,h,p,m,b,y){var _=this,x=h,C=p-h,k=Math.abs(C/.01),S=Math.max(4,k>0?m/k:m),w=Date.now();c._fadeTo=p,c._interval=setInterval(function(){var L=(Date.now()-w)/m;w=Date.now(),x+=C*L,x=Math.round(x*100)/100,C<0?x=Math.max(p,x):x=Math.min(p,x),_._webAudio?c._volume=x:_.volume(x,c._id,!0),y&&(_._volume=x),(p<h&&x<=p||p>h&&x>=p)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,_.volume(p,c._id),_._emit("fade",c._id))},S)},_stopFade:function(c){var h=this,p=h._soundById(c);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,c),p._fadeTo=null,h._emit("fade",c)),h},loop:function(){var c=this,h=arguments,p,m,b;if(h.length===0)return c._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],c._loop=p;else return b=c._soundById(parseInt(h[0],10)),b?b._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var y=c._getSoundIds(m),_=0;_<y.length;_++)b=c._soundById(y[_]),b&&(b._loop=p,c._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=p,p&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,c.playing(y[_])&&(c.pause(y[_],!0),c.play(y[_],!0)))));return c},rate:function(){var c=this,h=arguments,p,m;if(h.length===0)m=c._sounds[0]._id;else if(h.length===1){var b=c._getSoundIds(),y=b.indexOf(h[0]);y>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var _;if(typeof p=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,h)}}),c;typeof m>"u"&&(c._rate=p),m=c._getSoundIds(m);for(var x=0;x<m.length;x++)if(_=c._soundById(m[x]),_){c.playing(m[x])&&(_._rateSeek=c.seek(m[x]),_._playStart=c._webAudio?r.ctx.currentTime:_._playStart),_._rate=p,c._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(p,r.ctx.currentTime):_._node&&(_._node.playbackRate=p);var C=c.seek(m[x]),k=(c._sprite[_._sprite][0]+c._sprite[_._sprite][1])/1e3-C,S=k*1e3/Math.abs(_._rate);(c._endTimers[m[x]]||!_._paused)&&(c._clearTimer(m[x]),c._endTimers[m[x]]=setTimeout(c._ended.bind(c,_),S)),c._emit("rate",_._id)}}else return _=c._soundById(m),_?_._rate:c._rate;return c},seek:function(){var c=this,h=arguments,p,m;if(h.length===0)c._sounds.length&&(m=c._sounds[0]._id);else if(h.length===1){var b=c._getSoundIds(),y=b.indexOf(h[0]);y>=0?m=parseInt(h[0],10):c._sounds.length&&(m=c._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,h)}}),c;var _=c._soundById(m);if(_)if(typeof p=="number"&&p>=0){var x=c.playing(m);x&&c.pause(m,!0),_._seek=p,_._ended=!1,c._clearTimer(m),!c._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=p);var C=function(){x&&c.play(m,!0),c._emit("seek",m)};if(x&&!c._webAudio){var k=function(){c._playLock?setTimeout(k,0):C()};setTimeout(k,0)}else C()}else if(c._webAudio){var S=c.playing(m)?r.ctx.currentTime-_._playStart:0,w=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(w+S*Math.abs(_._rate))}else return _._node.currentTime;return c},playing:function(c){var h=this;if(typeof c=="number"){var p=h._soundById(c);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(c){var h=this,p=h._duration,m=h._soundById(c);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var c=this,h=c._sounds,p=0;p<h.length;p++)h[p]._paused||c.stop(h[p]._id),c._webAudio||(c._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(r._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),r._releaseHtml5Audio(h[p]._node)),delete h[p]._node,c._clearTimer(h[p]._id);var m=r._howls.indexOf(c);m>=0&&r._howls.splice(m,1);var b=!0;for(p=0;p<r._howls.length;p++)if(r._howls[p]._src===c._src||c._src.indexOf(r._howls[p]._src)>=0){b=!1;break}return s&&b&&delete s[c._src],r.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,h,p,m){var b=this,y=b["_on"+c];return typeof h=="function"&&y.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),b},off:function(c,h,p){var m=this,b=m["_on"+c],y=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(y=0;y<b.length;y++){var _=p===b[y].id;if(h===b[y].fn&&_||!h&&_){b.splice(y,1);break}}else if(c)m["_on"+c]=[];else{var x=Object.keys(m);for(y=0;y<x.length;y++)x[y].indexOf("_on")===0&&Array.isArray(m[x[y]])&&(m[x[y]]=[])}return m},once:function(c,h,p){var m=this;return m.on(c,h,p,1),m},_emit:function(c,h,p){for(var m=this,b=m["_on"+c],y=b.length-1;y>=0;y--)(!b[y].id||b[y].id===h||c==="load")&&(setTimeout((function(_){_.call(this,h,p)}).bind(m,b[y].fn),0),b[y].once&&m.off(c,b[y].fn,b[y].id));return m._loadQueue(c),m},_loadQueue:function(c){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===c&&(h._queue.shift(),h._loadQueue()),c||p.action()}return h},_ended:function(c){var h=this,p=c._sprite;if(!h._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(h._ended.bind(h,c),100),h;var m=!!(c._loop||h._sprite[p][2]);if(h._emit("end",c._id),!h._webAudio&&m&&h.stop(c._id,!0).play(c._id),h._webAudio&&m){h._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=r.ctx.currentTime;var b=(c._stop-c._start)*1e3/Math.abs(c._rate);h._endTimers[c._id]=setTimeout(h._ended.bind(h,c),b)}return h._webAudio&&!m&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,h._clearTimer(c._id),h._cleanBuffer(c._node),r._autoSuspend()),!h._webAudio&&!m&&h.stop(c._id,!0),h},_clearTimer:function(c){var h=this;if(h._endTimers[c]){if(typeof h._endTimers[c]!="function")clearTimeout(h._endTimers[c]);else{var p=h._soundById(c);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[c],!1)}delete h._endTimers[c]}return h},_soundById:function(c){for(var h=this,p=0;p<h._sounds.length;p++)if(c===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var c=this;c._drain();for(var h=0;h<c._sounds.length;h++)if(c._sounds[h]._ended)return c._sounds[h].reset();return new i(c)},_drain:function(){var c=this,h=c._pool,p=0,m=0;if(!(c._sounds.length<h)){for(m=0;m<c._sounds.length;m++)c._sounds[m]._ended&&p++;for(m=c._sounds.length-1;m>=0;m--){if(p<=h)return;c._sounds[m]._ended&&(c._webAudio&&c._sounds[m]._node&&c._sounds[m]._node.disconnect(0),c._sounds.splice(m,1),p--)}}},_getSoundIds:function(c){var h=this;if(typeof c>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[c]},_refreshBuffer:function(c){var h=this;return c._node.bufferSource=r.ctx.createBufferSource(),c._node.bufferSource.buffer=s[h._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,r.ctx.currentTime),h},_cleanBuffer:function(c){var h=this,p=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return h;if(r._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),p))try{c.bufferSource.buffer=r._scratchBuffer}catch{}return c.bufferSource=null,h},_clearSound:function(c){var h=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);h||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++r._counter,h._sounds.push(c),c.create(),c},create:function(){var c=this,h=c._parent,p=r._muted||c._muted||c._parent._muted?0:c._volume;return h._webAudio?(c._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),c._node.gain.setValueAtTime(p,r.ctx.currentTime),c._node.paused=!0,c._node.connect(r.masterGain)):r.noAudio||(c._node=r._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(r._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=h._src,c._node.preload=h._preload===!0?"auto":h._preload,c._node.volume=p*r.volume(),c._node.load()),c},reset:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++r._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,h=c._parent;h._duration=Math.ceil(c._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),c._node.removeEventListener(r._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,h=c._parent;h._duration===1/0&&(h._duration=Math.ceil(c._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},a=function(c){var h=c._src;if(s[h]){c._duration=s[h].duration,d(c);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),b=0;b<p.length;++b)m[b]=p.charCodeAt(b);l(m.buffer,c)}else{var y=new XMLHttpRequest;y.open(c._xhr.method,h,!0),y.withCredentials=c._xhr.withCredentials,y.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(_){y.setRequestHeader(_,c._xhr.headers[_])}),y.onload=function(){var _=(y.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}l(y.response,c)},y.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[h],c.load())},o(y)}},o=function(c){try{c.send()}catch{c.onerror()}},l=function(c,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(b){b&&h._sounds.length>0?(s[h._src]=b,d(h,b)):p()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(c).then(m).catch(p):r.ctx.decodeAudioData(c,m,p)},d=function(c,h){h&&!c._duration&&(c._duration=h.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(c&&p&&p<9){var m=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!m&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof It<"u"?(It.HowlerGlobal=e,It.Howler=r,It.Howl=n,It.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,a,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,a=typeof a!="number"?d[4]:a,o=typeof o!="number"?d[5]:o,typeof r=="number")l._orientation=[r,n,i,s,a,o],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,n,i,s,a,o);else return d;return l},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var a=i._getSoundIds(n),o=0;o<a.length;o++){var l=i._soundById(a[o]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(r,n,i,s)}}),a;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")a._pos=[r,n,i];else return a._pos;for(var o=a._getSoundIds(s),l=0;l<o.length;l++){var d=a._soundById(o[l]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),a._emit("pos",d._id);else return d._pos}return a},Howl.prototype.orientation=function(r,n,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(r,n,i,s)}}),a;if(n=typeof n!="number"?a._orientation[1]:n,i=typeof i!="number"?a._orientation[2]:i,typeof s>"u")if(typeof r=="number")a._orientation=[r,n,i];else return a._orientation;for(var o=a._getSoundIds(s),l=0;l<o.length;l++){var d=a._soundById(o[l]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=a._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),a._emit("orientation",d._id);else return d._orientation}return a},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,a;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return a=r._soundById(parseInt(n[0],10)),a?a._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var o=r._getSoundIds(s),l=0;l<o.length;l++)if(a=r._soundById(o[l]),a){var d=a._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var f=a._panner;f||(a._pos||(a._pos=r._pos||[0,0,-.5]),e(a,"spatial"),f=a._panner),f.coneInnerAngle=d.coneInnerAngle,f.coneOuterAngle=d.coneOuterAngle,f.coneOuterGain=d.coneOuterGain,f.distanceModel=d.distanceModel,f.maxDistance=d.maxDistance,f.refDistance=d.refDistance,f.rolloffFactor=d.rolloffFactor,f.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(BD);const qne={key:0,src:Hne,width:"24",height:"24"},Wne={key:1,src:lS,width:"24",height:"24"},Gne={key:1,class:"flex h-5 items-center justify-center"},Yne=[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)],Qne={key:0,src:zne,width:"24",height:"24"},Kne={key:1,src:Vne,width:"24",height:"24"},Xne={class:"rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},Zne=u.defineComponent({__name:"AudioMessageContent",props:{message:{}},setup(t){const e=t,r=nr(),n=u.ref(0),i=u.ref(),s=u.ref(0),a=u.ref(),o=u.computed(()=>e.message.isIncoming),l=()=>{i.value&&(s.value=i.value.seek()/i.value.duration()*100,i.value.playing()&&requestAnimationFrame(l))},d=async()=>{var c,h;switch(n.value){case 0:{const p=new BD.Howl({src:e.message.url,format:["m4a","mp3","wav","aac","webm"],onload:()=>{p.play(),n.value=3},onplay:()=>{requestAnimationFrame(l)},onend:()=>{n.value=2},onloaderror:(m,b)=>console.log(2,m,b),xhr:{headers:{"IM-Authorization":r.state.imkit.config.token,"IM-Client-Key":r.state.imkit.config.clientKey}}});i.value=p,n.value=1;break}case 2:case 4:(c=i.value)==null||c.play(),n.value=3;break;case 3:(h=i.value)==null||h.pause(),n.value=4;break}},f=async c=>{if(!i.value||!a.value)return;const{x:h,width:p}=a.value.getBoundingClientRect();s.value=(c.clientX-h)/p*100,i.value.seek(i.value.duration()*s.value/100)};return(c,h)=>(u.openBlock(),u.createElementBlock(u.Fragment,null,[u.createElementVNode("div",{class:u.normalizeClass(["pointer-events-none absolute bottom-0 left-0 top-0",[o.value?"bg-gray-300":"bg-blue-300"]]),style:u.normalizeStyle({width:`${s.value}%`})},null,6),u.createElementVNode("div",{ref_key:"container",ref:a,class:"relative -m-2 flex w-[250px] items-center justify-between p-3",onClick:f},[u.createElementVNode("button",{onClick:u.withModifiers(d,["stop"])},[new Set([0,2,4]).has(n.value)?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[o.value?(u.openBlock(),u.createElementBlock("img",qne)):(u.openBlock(),u.createElementBlock("img",Wne))],64)):n.value===1?(u.openBlock(),u.createElementBlock("div",Gne,[(u.openBlock(),u.createElementBlock("svg",{class:u.normalizeClass(["h-5 w-5 animate-spin",[o.value?"fill-gray-100 text-gray-400":"fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700"]]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yne,2))])):n.value===3?(u.openBlock(),u.createElementBlock(u.Fragment,{key:2},[o.value?(u.openBlock(),u.createElementBlock("img",Qne)):(u.openBlock(),u.createElementBlock("img",Kne))],64)):u.createCommentVNode("",!0)]),u.createElementVNode("div",Xne,u.toDisplayString(Math.floor(c.message.duration/60))+":"+u.toDisplayString(`${Math.floor(c.message.duration%60)}`.padStart(2,"0")),1)],512)],64))}}),Jne={class:"flex items-center justify-center"},eie={class:"my-3 rounded-lg bg-gray-100 px-2 py-1.5 text-sm text-gray-700 dark:bg-zinc-700 dark:text-gray-200 dark:text-gray-300"},tie=u.defineComponent({__name:"SystemMessageContent",props:{message:{}},setup(t){const e=t,r=nr(),n=u.computed(()=>r.state.imkit.users),{t:i}=Ss(),s=u.computed(()=>{const a=n.value[e.message.senderId].nickname;switch(e.message.type){case at.Recall:return e.message.senderId===r.state.imkit.uid?i("youUnsentMessage"):i("someoneUnsentMessage",[a]);case at.JoinRoom:return i("someoneJoinedTheChat",[a]);case at.LeaveRoom:return i("someoneLeftTheChat",[a]);case at.AddMember:return i("someoneInvited",[a,e.message.members.map(o=>o.nickname).join(", ")]);case at.DeleteMember:return i("someoneKicked",[a,e.message.members.map(o=>o.nickname).join(", ")]);case at.AddMembers:return i("someoneInvited",[a,e.message.members.map(o=>o.nickname).join(", ")]);case at.Announcement:return e.message.text;default:return""}});return(a,o)=>(u.openBlock(),u.createElementBlock("div",Jne,[u.createElementVNode("div",eie,u.toDisplayString(s.value),1)]))}}),rie={},nie={class:"flex h-4 items-center"};function iie(t,e){return u.openBlock(),u.createElementBlock("div",nie,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(3,r=>u.createElementVNode("div",{key:r,class:u.normalizeClass(["mr-0.5 h-1 w-1 rounded-full bg-gray-400",[`animate-bounce-${r}`]])},null,2)),64))])}const sie=Sr(rie,[["render",iie],["__scopeId","data-v-40e5e96c"]]);class ul extends Error{}class aie extends ul{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class oie extends ul{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class lie extends ul{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Xu extends ul{}class PD extends ul{constructor(e){super(`Invalid unit ${e}`)}}class An extends ul{}class ro extends ul{constructor(){super("Zone is an abstract class")}}const Ze="numeric",cs="short",vi="long",nm={year:Ze,month:Ze,day:Ze},FD={year:Ze,month:cs,day:Ze},uie={year:Ze,month:cs,day:Ze,weekday:cs},UD={year:Ze,month:vi,day:Ze},$D={year:Ze,month:vi,day:Ze,weekday:vi},jD={hour:Ze,minute:Ze},HD={hour:Ze,minute:Ze,second:Ze},zD={hour:Ze,minute:Ze,second:Ze,timeZoneName:cs},VD={hour:Ze,minute:Ze,second:Ze,timeZoneName:vi},qD={hour:Ze,minute:Ze,hourCycle:"h23"},WD={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23"},GD={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23",timeZoneName:cs},YD={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23",timeZoneName:vi},QD={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze},KD={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze,second:Ze},XD={year:Ze,month:cs,day:Ze,hour:Ze,minute:Ze},ZD={year:Ze,month:cs,day:Ze,hour:Ze,minute:Ze,second:Ze},cie={year:Ze,month:cs,day:Ze,weekday:cs,hour:Ze,minute:Ze},JD={year:Ze,month:vi,day:Ze,hour:Ze,minute:Ze,timeZoneName:cs},eN={year:Ze,month:vi,day:Ze,hour:Ze,minute:Ze,second:Ze,timeZoneName:cs},tN={year:Ze,month:vi,day:Ze,weekday:vi,hour:Ze,minute:Ze,timeZoneName:vi},rN={year:Ze,month:vi,day:Ze,weekday:vi,hour:Ze,minute:Ze,second:Ze,timeZoneName:vi};class _f{get type(){throw new ro}get name(){throw new ro}get ianaName(){return this.name}get isUniversal(){throw new ro}offsetName(e,r){throw new ro}formatOffset(e,r){throw new ro}offset(e){throw new ro}equals(e){throw new ro}get isValid(){throw new ro}}let g_=null;class im extends _f{static get instance(){return g_===null&&(g_=new im),g_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return SN(e,r,n)}formatOffset(e,r){return Af(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let sm={};function die(t){return sm[t]||(sm[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),sm[t]}const fie={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hie(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,a,o,l,d,f]=n;return[a,i,s,o,l,d,f]}function pie(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:s,value:a}=r[i],o=fie[s];s==="era"?n[o]=a:At(o)||(n[o]=parseInt(a,10))}return n}let am={};class va extends _f{static create(e){return am[e]||(am[e]=new va(e)),am[e]}static resetCache(){am={},sm={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=va.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return SN(e,r,n,this.name)}formatOffset(e,r){return Af(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=die(this.name);let[i,s,a,o,l,d,f]=n.formatToParts?pie(n,r):hie(n,r);o==="BC"&&(i=-Math.abs(i)+1);const h=dm({year:i,month:s,day:a,hour:l===24?0:l,minute:d,second:f,millisecond:0});let p=+r;const m=p%1e3;return p-=m>=0?m:1e3+m,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let nN={};function mie(t,e={}){const r=JSON.stringify([t,e]);let n=nN[r];return n||(n=new Intl.ListFormat(t,e),nN[r]=n),n}let b_={};function y_(t,e={}){const r=JSON.stringify([t,e]);let n=b_[r];return n||(n=new Intl.DateTimeFormat(t,e),b_[r]=n),n}let __={};function gie(t,e={}){const r=JSON.stringify([t,e]);let n=__[r];return n||(n=new Intl.NumberFormat(t,e),__[r]=n),n}let v_={};function bie(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let s=v_[i];return s||(s=new Intl.RelativeTimeFormat(t,e),v_[i]=s),s}let vf=null;function yie(){return vf||(vf=new Intl.DateTimeFormat().resolvedOptions().locale,vf)}let iN={};function _ie(t){let e=iN[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,iN[t]=e}return e}function vie(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=y_(t).resolvedOptions(),i=t}catch{const l=t.substring(0,r);n=y_(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=n;return[i,s,a]}}function Tie(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function Eie(t){const e=[];for(let r=1;r<=12;r++){const n=xt.utc(2009,r,1);e.push(t(n))}return e}function Aie(t){const e=[];for(let r=1;r<=7;r++){const n=xt.utc(2016,11,13+r);e.push(t(n))}return e}function om(t,e,r,n){const i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function xie(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Cie{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...a}=n;if(!r||Object.keys(a).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=gie(e,o)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):k_(e,3);return qr(r,this.padTo)}}}class wie{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&va.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=y_(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Sie{constructor(e,r,n){this.opts={style:"long",...n},!r&&AN()&&(this.rtf=bie(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Kie(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const kie={firstDay:1,minimalDays:4,weekend:[6,7]};class Xt{static fromOpts(e){return Xt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,s=!1){const a=e||Ir.defaultLocale,o=a||(s?"en-US":yie()),l=r||Ir.defaultNumberingSystem,d=n||Ir.defaultOutputCalendar,f=w_(i)||Ir.defaultWeekSettings;return new Xt(o,l,d,f,a)}static resetCache(){vf=null,b_={},__={},v_={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Xt.create(e,r,n,i)}constructor(e,r,n,i,s){const[a,o,l]=vie(e);this.locale=a,this.numberingSystem=r||o||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=Tie(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=xie(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Xt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,w_(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return om(this,e,DN,()=>{const n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Eie(s=>this.extract(s,n,"month"))),this.monthsCache[i][e]})}weekdays(e,r=!1){return om(this,e,ON,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Aie(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return om(this,void 0,()=>LN,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xt.utc(2016,11,13,9),xt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return om(this,e,RN,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[xt.utc(-40,1,1),xt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new Cie(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new wie(e,this.intl,r)}relFormatter(e={}){return new Sie(this.intl,this.isEnglish(),e)}listFormatter(e={}){return mie(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:xN()?_ie(this.locale):kie}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let T_=null;class Pn extends _f{static get utcInstance(){return T_===null&&(T_=new Pn(0)),T_}static instance(e){return e===0?Pn.utcInstance:new Pn(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Pn(fm(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Af(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Af(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Af(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Iie extends _f{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function no(t,e){if(At(t)||t===null)return e;if(t instanceof _f)return t;if(Rie(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?im.instance:r==="utc"||r==="gmt"?Pn.utcInstance:Pn.parseSpecifier(r)||va.create(t)}else return io(t)?Pn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Iie(t)}const E_={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},sN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Die=E_.hanidec.replace(/[\[|\]]/g,"").split("");function Nie(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(E_.hanidec)!==-1)e+=Die.indexOf(t[r]);else for(const i in sN){const[s,a]=sN[i];n>=s&&n<=a&&(e+=n-s)}}return parseInt(e,10)}else return e}let Zu={};function Mie(){Zu={}}function ds({numberingSystem:t},e=""){const r=t||"latn";return Zu[r]||(Zu[r]={}),Zu[r][e]||(Zu[r][e]=new RegExp(`${E_[r]}${e}`)),Zu[r][e]}let aN=()=>Date.now(),oN="system",lN=null,uN=null,cN=null,dN=60,fN,hN=null;class Ir{static get now(){return aN}static set now(e){aN=e}static set defaultZone(e){oN=e}static get defaultZone(){return no(oN,im.instance)}static get defaultLocale(){return lN}static set defaultLocale(e){lN=e}static get defaultNumberingSystem(){return uN}static set defaultNumberingSystem(e){uN=e}static get defaultOutputCalendar(){return cN}static set defaultOutputCalendar(e){cN=e}static get defaultWeekSettings(){return hN}static set defaultWeekSettings(e){hN=w_(e)}static get twoDigitCutoffYear(){return dN}static set twoDigitCutoffYear(e){dN=e%100}static get throwOnInvalid(){return fN}static set throwOnInvalid(e){fN=e}static resetCaches(){Xt.resetCache(),va.resetCache(),xt.resetCache(),Mie()}}class fs{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const pN=[0,31,59,90,120,151,181,212,243,273,304,334],mN=[0,31,60,91,121,152,182,213,244,274,305,335];function Bi(t,e){return new fs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function A_(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function gN(t,e,r){return r+(Tf(t)?mN:pN)[e-1]}function bN(t,e){const r=Tf(t)?mN:pN,n=r.findIndex(s=>s<e),i=e-r[n];return{month:n+1,day:i}}function x_(t,e){return(t-e+7)%7+1}function lm(t,e=4,r=1){const{year:n,month:i,day:s}=t,a=gN(n,i,s),o=x_(A_(n,i,s),r);let l=Math.floor((a-o+14-e)/7),d;return l<1?(d=n-1,l=Ef(d,e,r)):l>Ef(n,e,r)?(d=n+1,l=1):d=n,{weekYear:d,weekNumber:l,weekday:o,...pm(t)}}function yN(t,e=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=t,a=x_(A_(n,1,e),r),o=ec(n);let l=i*7+s-a-7+e,d;l<1?(d=n-1,l+=ec(d)):l>o?(d=n+1,l-=ec(n)):d=n;const{month:f,day:c}=bN(d,l);return{year:d,month:f,day:c,...pm(t)}}function C_(t){const{year:e,month:r,day:n}=t,i=gN(e,r,n);return{year:e,ordinal:i,...pm(t)}}function _N(t){const{year:e,ordinal:r}=t,{month:n,day:i}=bN(e,r);return{year:e,month:n,day:i,...pm(t)}}function vN(t,e){if(!At(t.localWeekday)||!At(t.localWeekNumber)||!At(t.localWeekYear)){if(!At(t.weekday)||!At(t.weekNumber)||!At(t.weekYear))throw new Xu("Cannot mix locale-based week fields with ISO-based week fields");return At(t.localWeekday)||(t.weekday=t.localWeekday),At(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),At(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Oie(t,e=4,r=1){const n=um(t.weekYear),i=Pi(t.weekNumber,1,Ef(t.weekYear,e,r)),s=Pi(t.weekday,1,7);return n?i?s?!1:Bi("weekday",t.weekday):Bi("week",t.weekNumber):Bi("weekYear",t.weekYear)}function Lie(t){const e=um(t.year),r=Pi(t.ordinal,1,ec(t.year));return e?r?!1:Bi("ordinal",t.ordinal):Bi("year",t.year)}function TN(t){const e=um(t.year),r=Pi(t.month,1,12),n=Pi(t.day,1,cm(t.year,t.month));return e?r?n?!1:Bi("day",t.day):Bi("month",t.month):Bi("year",t.year)}function EN(t){const{hour:e,minute:r,second:n,millisecond:i}=t,s=Pi(e,0,23)||e===24&&r===0&&n===0&&i===0,a=Pi(r,0,59),o=Pi(n,0,59),l=Pi(i,0,999);return s?a?o?l?!1:Bi("millisecond",i):Bi("second",n):Bi("minute",r):Bi("hour",e)}function At(t){return typeof t>"u"}function io(t){return typeof t=="number"}function um(t){return typeof t=="number"&&t%1===0}function Rie(t){return typeof t=="string"}function Bie(t){return Object.prototype.toString.call(t)==="[object Date]"}function AN(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function xN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Pie(t){return Array.isArray(t)?t:[t]}function CN(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const s=[e(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function Fie(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Ju(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w_(t){if(t==null)return null;if(typeof t!="object")throw new An("Week settings must be an object");if(!Pi(t.firstDay,1,7)||!Pi(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Pi(e,1,7)))throw new An("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Pi(t,e,r){return um(t)&&t>=e&&t<=r}function Uie(t,e){return t-e*Math.floor(t/e)}function qr(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function so(t){if(!(At(t)||t===null||t===""))return parseInt(t,10)}function cl(t){if(!(At(t)||t===null||t===""))return parseFloat(t)}function S_(t){if(!(At(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function k_(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Tf(t){return t%4===0&&(t%100!==0||t%400===0)}function ec(t){return Tf(t)?366:365}function cm(t,e){const r=Uie(e-1,12)+1,n=t+(e-r)/12;return r===2?Tf(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function dm(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function wN(t,e,r){return-x_(A_(t,1,e),r)+e-1}function Ef(t,e=4,r=1){const n=wN(t,e,r),i=wN(t+1,e,r);return(ec(t)-n+i)/7}function I_(t){return t>99?t:t>Ir.twoDigitCutoffYear?1900+t:2e3+t}function SN(t,e,r,n=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(r,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function fm(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function kN(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new An(`Invalid unit value ${t}`);return e}function hm(t,e){const r={};for(const n in t)if(Ju(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=kN(i)}return r}function Af(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${qr(r,2)}:${qr(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${qr(r,2)}${qr(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function pm(t){return Fie(t,["hour","minute","second","millisecond"])}const $ie=["January","February","March","April","May","June","July","August","September","October","November","December"],IN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jie=["J","F","M","A","M","J","J","A","S","O","N","D"];function DN(t){switch(t){case"narrow":return[...jie];case"short":return[...IN];case"long":return[...$ie];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const NN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],MN=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hie=["M","T","W","T","F","S","S"];function ON(t){switch(t){case"narrow":return[...Hie];case"short":return[...MN];case"long":return[...NN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const LN=["AM","PM"],zie=["Before Christ","Anno Domini"],Vie=["BC","AD"],qie=["B","A"];function RN(t){switch(t){case"narrow":return[...qie];case"short":return[...Vie];case"long":return[...zie];default:return null}}function Wie(t){return LN[t.hour<12?0:1]}function Gie(t,e){return ON(e)[t.weekday-1]}function Yie(t,e){return DN(e)[t.month-1]}function Qie(t,e){return RN(e)[t.year<0?0:1]}function Kie(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,d=i[t],f=n?l?d[1]:d[2]||d[1]:l?i[t][0]:t;return a?`${o} ${f} ago`:`in ${o} ${f}`}function BN(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const Xie={D:nm,DD:FD,DDD:UD,DDDD:$D,t:jD,tt:HD,ttt:zD,tttt:VD,T:qD,TT:WD,TTT:GD,TTTT:YD,f:QD,ff:XD,fff:JD,ffff:tN,F:KD,FF:ZD,FFF:eN,FFFF:rN};class xn{static create(e,r={}){return new xn(e,r)}static parseFormat(e){let r=null,n="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||o===r?n+=o:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return Xie[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return qr(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(p,m)=>this.loc.extract(e,p,m),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>n?Wie(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,m)=>n?Yie(e,p):s(m?{month:p}:{month:p,day:"numeric"},"month"),d=(p,m)=>n?Gie(e,p):s(m?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const m=xn.macroTokenToFormatOpts(p);return m?this.formatWithSystemDefault(e,m):p},c=p=>n?Qie(e,p):s({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return BN(xn.parseFormat(r),h)}formatDurationFromString(e,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>d=>{const f=n(d);return f?this.num(l.get(f),d.length):d},s=xn.parseFormat(r),a=s.reduce((l,{literal:d,val:f})=>d?l:l.concat(f),[]),o=e.shiftTo(...a.map(n).filter(l=>l));return BN(s,i(o))}}const PN=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function tc(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function rc(...t){return e=>t.reduce(([r,n,i],s)=>{const[a,o,l]=s(e,i);return[{...r,...a},o||n,l]},[{},null,1]).slice(0,2)}function nc(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function FN(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=so(e[r+i]);return[n,null,r+i]}}const UN=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zie=`(?:${UN.source}?(?:\\[(${PN.source})\\])?)?`,D_=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$N=RegExp(`${D_.source}${Zie}`),N_=RegExp(`(?:T${$N.source})?`),Jie=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ese=/(\d{4})-?W(\d\d)(?:-?(\d))?/,tse=/(\d{4})-?(\d{3})/,rse=FN("weekYear","weekNumber","weekDay"),nse=FN("year","ordinal"),ise=/(\d{4})-(\d\d)-(\d\d)/,jN=RegExp(`${D_.source} ?(?:${UN.source}|(${PN.source}))?`),sse=RegExp(`(?: ${jN.source})?`);function ic(t,e,r){const n=t[e];return At(n)?r:so(n)}function ase(t,e){return[{year:ic(t,e),month:ic(t,e+1,1),day:ic(t,e+2,1)},null,e+3]}function sc(t,e){return[{hours:ic(t,e,0),minutes:ic(t,e+1,0),seconds:ic(t,e+2,0),milliseconds:S_(t[e+3])},null,e+4]}function xf(t,e){const r=!t[e]&&!t[e+1],n=fm(t[e+1],t[e+2]),i=r?null:Pn.instance(n);return[{},i,e+3]}function Cf(t,e){const r=t[e]?va.create(t[e]):null;return[{},r,e+1]}const ose=RegExp(`^T?${D_.source}$`),lse=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function use(t){const[e,r,n,i,s,a,o,l,d]=t,f=e[0]==="-",c=l&&l[0]==="-",h=(p,m=!1)=>p!==void 0&&(m||p&&f)?-p:p;return[{years:h(cl(r)),months:h(cl(n)),weeks:h(cl(i)),days:h(cl(s)),hours:h(cl(a)),minutes:h(cl(o)),seconds:h(cl(l),l==="-0"),milliseconds:h(S_(d),c)}]}const cse={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function M_(t,e,r,n,i,s,a){const o={year:e.length===2?I_(so(e)):so(e),month:IN.indexOf(r)+1,day:so(n),hour:so(i),minute:so(s)};return a&&(o.second=so(a)),t&&(o.weekday=t.length>3?NN.indexOf(t)+1:MN.indexOf(t)+1),o}const dse=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function fse(t){const[,e,r,n,i,s,a,o,l,d,f,c]=t,h=M_(e,i,n,r,s,a,o);let p;return l?p=cse[l]:d?p=0:p=fm(f,c),[h,new Pn(p)]}function hse(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const pse=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,mse=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,gse=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function HN(t){const[,e,r,n,i,s,a,o]=t;return[M_(e,i,n,r,s,a,o),Pn.utcInstance]}function bse(t){const[,e,r,n,i,s,a,o]=t;return[M_(e,o,r,n,i,s,a),Pn.utcInstance]}const yse=tc(Jie,N_),_se=tc(ese,N_),vse=tc(tse,N_),Tse=tc($N),zN=rc(ase,sc,xf,Cf),Ese=rc(rse,sc,xf,Cf),Ase=rc(nse,sc,xf,Cf),xse=rc(sc,xf,Cf);function Cse(t){return nc(t,[yse,zN],[_se,Ese],[vse,Ase],[Tse,xse])}function wse(t){return nc(hse(t),[dse,fse])}function Sse(t){return nc(t,[pse,HN],[mse,HN],[gse,bse])}function kse(t){return nc(t,[lse,use])}const Ise=rc(sc);function Dse(t){return nc(t,[ose,Ise])}const Nse=tc(ise,sse),Mse=tc(jN),Ose=rc(sc,xf,Cf);function Lse(t){return nc(t,[Nse,zN],[Mse,Ose])}const VN="Invalid Duration",qN={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Rse={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...qN},Fi=146097/400,ac=146097/4800,Bse={years:{quarters:4,months:12,weeks:Fi/7,days:Fi,hours:Fi*24,minutes:Fi*24*60,seconds:Fi*24*60*60,milliseconds:Fi*24*60*60*1e3},quarters:{months:3,weeks:Fi/28,days:Fi/4,hours:Fi*24/4,minutes:Fi*24*60/4,seconds:Fi*24*60*60/4,milliseconds:Fi*24*60*60*1e3/4},months:{weeks:ac/7,days:ac,hours:ac*24,minutes:ac*24*60,seconds:ac*24*60*60,milliseconds:ac*24*60*60*1e3},...qN},dl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Pse=dl.slice(0).reverse();function ao(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ht(n)}function WN(t,e){let r=e.milliseconds??0;for(const n of Pse.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function GN(t,e){const r=WN(t,e)<0?-1:1;dl.reduceRight((n,i)=>{if(At(e[i]))return n;if(n){const s=e[n]*r,a=t[i][n],o=Math.floor(s/a);e[i]+=o*r,e[n]-=o*a*r}return i},null),dl.reduce((n,i)=>{if(At(e[i]))return n;if(n){const s=e[n]%1;e[n]-=s,e[i]+=s*t[n][i]}return i},null)}function Fse(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class Ht{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?Bse:Rse;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Xt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return Ht.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new An(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Ht({values:hm(e,Ht.normalizeUnit),loc:Xt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(io(e))return Ht.fromMillis(e);if(Ht.isDuration(e))return e;if(typeof e=="object")return Ht.fromObject(e);throw new An(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=kse(e);return n?Ht.fromObject(n,r):Ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=Dse(e);return n?Ht.fromObject(n,r):Ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new An("need to specify a reason the Duration is invalid");const n=e instanceof fs?e:new fs(e,r);if(Ir.throwOnInvalid)throw new lie(n);return new Ht({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new PD(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?xn.create(this.loc,n).formatDurationFromString(this,e):VN}toHuman(e={}){if(!this.isValid)return VN;const r=dl.map(n=>{const i=this.values[n];return At(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=k_(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},xt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?WN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=Ht.fromDurationLike(e),n={};for(const i of dl)(Ju(r.values,i)||Ju(this.values,i))&&(n[i]=r.get(i)+this.get(i));return ao(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=Ht.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=kN(e(this.values[n],n));return ao(this,{values:r},!0)}get(e){return this[Ht.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...hm(e,Ht.normalizeUnit)};return ao(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return ao(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return GN(this.matrix,e),ao(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Fse(this.normalize().shiftToAll().toObject());return ao(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Ht.normalizeUnit(a));const r={},n={},i=this.toObject();let s;for(const a of dl)if(e.indexOf(a)>=0){s=a;let o=0;for(const d in n)o+=this.matrix[d][a]*n[d],n[d]=0;io(i[a])&&(o+=i[a]);const l=Math.trunc(o);r[a]=l,n[a]=(o*1e3-l*1e3)/1e3}else io(i[a])&&(n[a]=i[a]);for(const a in n)n[a]!==0&&(r[s]+=a===s?n[a]:n[a]/this.matrix[s][a]);return GN(this.matrix,r),ao(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ao(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of dl)if(!r(this.values[n],e.values[n]))return!1;return!0}}const oc="Invalid Interval";function Use(t,e){return!t||!t.isValid?Dr.invalid("missing or invalid start"):!e||!e.isValid?Dr.invalid("missing or invalid end"):e<t?Dr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Dr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new An("need to specify a reason the Interval is invalid");const n=e instanceof fs?e:new fs(e,r);if(Ir.throwOnInvalid)throw new oie(n);return new Dr({invalid:n})}static fromDateTimes(e,r){const n=Sf(e),i=Sf(r),s=Use(n,i);return s??new Dr({start:n,end:i})}static after(e,r){const n=Ht.fromDurationLike(r),i=Sf(e);return Dr.fromDateTimes(i,i.plus(n))}static before(e,r){const n=Ht.fromDurationLike(r),i=Sf(e);return Dr.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let s,a;try{s=xt.fromISO(n,r),a=s.isValid}catch{a=!1}let o,l;try{o=xt.fromISO(i,r),l=o.isValid}catch{l=!1}if(a&&l)return Dr.fromDateTimes(s,o);if(a){const d=Ht.fromISO(i,r);if(d.isValid)return Dr.after(s,d)}else if(l){const d=Ht.fromISO(n,r);if(d.isValid)return Dr.before(o,d)}}return Dr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?Dr.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Sf).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const a=r[s]||this.e,o=+a>+this.e?this.e:a;n.push(Dr.fromDateTimes(i,o)),i=o,s+=1}return n}splitBy(e){const r=Ht.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const a=[];for(;n<this.e;){const o=this.start.plus(r.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(Dr.fromDateTimes(n,s)),n=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:Dr.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Dr.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,d)=>l.time-d.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(Dr.fromDateTimes(r,l.time)),r=null);return Dr.merge(i)}difference(...e){return Dr.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:oc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=nm,r={}){return this.isValid?xn.create(this.s.loc.clone(r),e).formatInterval(this):oc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:oc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:oc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:oc}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:oc}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Ht.invalid(this.invalidReason)}mapEndpoints(e){return Dr.fromDateTimes(e(this.s),e(this.e))}}class mm{static hasDST(e=Ir.defaultZone){const r=xt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return va.isValidZone(e)}static normalizeZone(e){return no(e,Ir.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Xt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Xt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Xt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Xt.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Xt.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Xt.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Xt.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Xt.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Xt.create(r,null,"gregory").eras(e)}static features(){return{relative:AN(),localeWeek:xN()}}}function YN(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Ht.fromMillis(n).as("days"))}function $se(t,e,r){const n=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const f=YN(l,d);return(f-f%7)/7}],["days",YN]],i={},s=t;let a,o;for(const[l,d]of n)r.indexOf(l)>=0&&(a=l,i[l]=d(t,e),o=s.plus(i),o>e?(i[l]--,t=s.plus(i),t>e&&(o=t,i[l]--,t=s.plus(i))):t=o);return[t,i,o,a]}function jse(t,e,r,n){let[i,s,a,o]=$se(t,e,r);const l=e-i,d=r.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);d.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const f=Ht.fromObject(s,n);return d.length>0?Ht.fromMillis(l,n).shiftTo(...d).plus(f):f}const Hse="missing Intl.DateTimeFormat.formatToParts support";function Gt(t,e=r=>r){return{regex:t,deser:([r])=>e(Nie(r))}}const QN="[ ]",KN=new RegExp(QN,"g");function zse(t){return t.replace(/\./g,"\\.?").replace(KN,QN)}function XN(t){return t.replace(/\./g,"").replace(KN," ").toLowerCase()}function hs(t,e){return t===null?null:{regex:RegExp(t.map(zse).join("|")),deser:([r])=>t.findIndex(n=>XN(r)===XN(n))+e}}function ZN(t,e){return{regex:t,deser:([,r,n])=>fm(r,n),groups:e}}function gm(t){return{regex:t,deser:([e])=>e}}function Vse(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function qse(t,e){const r=ds(e),n=ds(e,"{2}"),i=ds(e,"{3}"),s=ds(e,"{4}"),a=ds(e,"{6}"),o=ds(e,"{1,2}"),l=ds(e,"{1,3}"),d=ds(e,"{1,6}"),f=ds(e,"{1,9}"),c=ds(e,"{2,4}"),h=ds(e,"{4,6}"),p=y=>({regex:RegExp(Vse(y.val)),deser:([_])=>_,literal:!0}),b=(y=>{if(t.literal)return p(y);switch(y.val){case"G":return hs(e.eras("short"),0);case"GG":return hs(e.eras("long"),0);case"y":return Gt(d);case"yy":return Gt(c,I_);case"yyyy":return Gt(s);case"yyyyy":return Gt(h);case"yyyyyy":return Gt(a);case"M":return Gt(o);case"MM":return Gt(n);case"MMM":return hs(e.months("short",!0),1);case"MMMM":return hs(e.months("long",!0),1);case"L":return Gt(o);case"LL":return Gt(n);case"LLL":return hs(e.months("short",!1),1);case"LLLL":return hs(e.months("long",!1),1);case"d":return Gt(o);case"dd":return Gt(n);case"o":return Gt(l);case"ooo":return Gt(i);case"HH":return Gt(n);case"H":return Gt(o);case"hh":return Gt(n);case"h":return Gt(o);case"mm":return Gt(n);case"m":return Gt(o);case"q":return Gt(o);case"qq":return Gt(n);case"s":return Gt(o);case"ss":return Gt(n);case"S":return Gt(l);case"SSS":return Gt(i);case"u":return gm(f);case"uu":return gm(o);case"uuu":return Gt(r);case"a":return hs(e.meridiems(),0);case"kkkk":return Gt(s);case"kk":return Gt(c,I_);case"W":return Gt(o);case"WW":return Gt(n);case"E":case"c":return Gt(r);case"EEE":return hs(e.weekdays("short",!1),1);case"EEEE":return hs(e.weekdays("long",!1),1);case"ccc":return hs(e.weekdays("short",!0),1);case"cccc":return hs(e.weekdays("long",!0),1);case"Z":case"ZZ":return ZN(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return ZN(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return gm(/[a-z_+-/]{1,256}?/i);case" ":return gm(/[^\S\n\r]/);default:return p(y)}})(t)||{invalidReason:Hse};return b.token=t,b}const Wse={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Gse(t,e,r){const{type:n,value:i}=t;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[n];let a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let o=Wse[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Yse(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Qse(t,e,r){const n=t.match(e);if(n){const i={};let s=1;for(const a in r)if(Ju(r,a)){const o=r[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function Kse(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return At(t.z)||(r=va.create(t.z)),At(t.Z)||(r||(r=new Pn(t.Z)),n=t.Z),At(t.q)||(t.M=(t.q-1)*3+1),At(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),At(t.u)||(t.S=S_(t.u)),[Object.keys(t).reduce((s,a)=>{const o=e(a);return o&&(s[o]=t[a]),s},{}),r,n]}let O_=null;function Xse(){return O_||(O_=xt.fromMillis(1555555555555)),O_}function Zse(t,e){if(t.literal)return t;const r=xn.macroTokenToFormatOpts(t.val),n=r5(r,e);return n==null||n.includes(void 0)?t:n}function JN(t,e){return Array.prototype.concat(...t.map(r=>Zse(r,e)))}class e5{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=JN(xn.parseFormat(r),e),this.units=this.tokens.map(n=>qse(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=Yse(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[r,n]=Qse(e,this.regex,this.handlers),[i,s,a]=n?Kse(n):[null,null,void 0];if(Ju(n,"a")&&Ju(n,"H"))throw new Xu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:s,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function t5(t,e,r){return new e5(t,r).explainFromTokens(e)}function Jse(t,e,r){const{result:n,zone:i,specificOffset:s,invalidReason:a}=t5(t,e,r);return[n,i,s,a]}function r5(t,e){if(!t)return null;const n=xn.create(e,t).dtFormatter(Xse()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(a=>Gse(a,t,s))}const L_="Invalid DateTime",n5=864e13;function wf(t){return new fs("unsupported zone",`the zone "${t.name}" is not supported`)}function R_(t){return t.weekData===null&&(t.weekData=lm(t.c)),t.weekData}function B_(t){return t.localWeekData===null&&(t.localWeekData=lm(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function fl(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xt({...r,...e,old:r})}function i5(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function bm(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function ym(t,e,r){return i5(dm(t),e,r)}function s5(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:n,month:i,day:Math.min(t.c.day,cm(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Ht.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=dm(s);let[l,d]=i5(o,r,t.zone);return a!==0&&(l+=a,d=t.zone.offset(l)),{ts:l,o:d}}function lc(t,e,r,n,i,s){const{setZone:a,zone:o}=r;if(t&&Object.keys(t).length!==0||e){const l=e||o,d=xt.fromObject(t,{...r,zone:l,specificOffset:s});return a?d:d.setZone(o)}else return xt.invalid(new fs("unparsable",`the input "${i}" can't be parsed as ${n}`))}function _m(t,e,r=!0){return t.isValid?xn.create(Xt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function P_(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=qr(t.c.year,r?6:4),e?(n+="-",n+=qr(t.c.month),n+="-",n+=qr(t.c.day)):(n+=qr(t.c.month),n+=qr(t.c.day)),n}function a5(t,e,r,n,i,s){let a=qr(t.c.hour);return e?(a+=":",a+=qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=":")):a+=qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=qr(t.c.second),(t.c.millisecond!==0||!n)&&(a+=".",a+=qr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=qr(Math.trunc(-t.o/60)),a+=":",a+=qr(Math.trunc(-t.o%60))):(a+="+",a+=qr(Math.trunc(t.o/60)),a+=":",a+=qr(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const o5={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},eae={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},tae={ordinal:1,hour:0,minute:0,second:0,millisecond:0},l5=["year","month","day","hour","minute","second","millisecond"],rae=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nae=["year","ordinal","hour","minute","second","millisecond"];function iae(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new PD(t);return e}function u5(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return iae(t)}}function sae(t){return Tm[t]||(vm===void 0&&(vm=Ir.now()),Tm[t]=t.offset(vm)),Tm[t]}function c5(t,e){const r=no(e.zone,Ir.defaultZone);if(!r.isValid)return xt.invalid(wf(r));const n=Xt.fromObject(e);let i,s;if(At(t.year))i=Ir.now();else{for(const l of l5)At(t[l])&&(t[l]=o5[l]);const a=TN(t)||EN(t);if(a)return xt.invalid(a);const o=sae(r);[i,s]=ym(t,o,r)}return new xt({ts:i,zone:r,loc:n,o:s})}function d5(t,e,r){const n=At(r.round)?!0:r.round,i=(a,o)=>(a=k_(a,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(a,o)),s=a=>r.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(r.unit)return i(s(r.unit),r.unit);for(const a of r.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,r.units[r.units.length-1])}function f5(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let vm,Tm={};class xt{constructor(e){const r=e.zone||Ir.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new fs("invalid input"):null)||(r.isValid?null:wf(r));this.ts=At(e.ts)?Ir.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,s]=[e.old.c,e.old.o];else{const o=io(e.o)&&!e.old?e.o:r.offset(this.ts);i=bm(this.ts,o),n=Number.isNaN(i.year)?new fs("invalid input"):null,i=n?null:i,s=n?null:o}this._zone=r,this.loc=e.loc||Xt.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new xt({})}static local(){const[e,r]=f5(arguments),[n,i,s,a,o,l,d]=r;return c5({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:d},e)}static utc(){const[e,r]=f5(arguments),[n,i,s,a,o,l,d]=r;return e.zone=Pn.utcInstance,c5({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:d},e)}static fromJSDate(e,r={}){const n=Bie(e)?e.valueOf():NaN;if(Number.isNaN(n))return xt.invalid("invalid input");const i=no(r.zone,Ir.defaultZone);return i.isValid?new xt({ts:n,zone:i,loc:Xt.fromObject(r)}):xt.invalid(wf(i))}static fromMillis(e,r={}){if(io(e))return e<-n5||e>n5?xt.invalid("Timestamp out of range"):new xt({ts:e,zone:no(r.zone,Ir.defaultZone),loc:Xt.fromObject(r)});throw new An(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(io(e))return new xt({ts:e*1e3,zone:no(r.zone,Ir.defaultZone),loc:Xt.fromObject(r)});throw new An("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=no(r.zone,Ir.defaultZone);if(!n.isValid)return xt.invalid(wf(n));const i=Xt.fromObject(r),s=hm(e,u5),{minDaysInFirstWeek:a,startOfWeek:o}=vN(s,i),l=Ir.now(),d=At(r.specificOffset)?n.offset(l):r.specificOffset,f=!At(s.ordinal),c=!At(s.year),h=!At(s.month)||!At(s.day),p=c||h,m=s.weekYear||s.weekNumber;if((p||f)&&m)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new Xu("Can't mix ordinal dates with month/day");const b=m||s.weekday&&!p;let y,_,x=bm(l,d);b?(y=rae,_=eae,x=lm(x,a,o)):f?(y=nae,_=tae,x=C_(x)):(y=l5,_=o5);let C=!1;for(const P of y){const z=s[P];At(z)?C?s[P]=_[P]:s[P]=x[P]:C=!0}const k=b?Oie(s,a,o):f?Lie(s):TN(s),S=k||EN(s);if(S)return xt.invalid(S);const w=b?yN(s,a,o):f?_N(s):s,[L,D]=ym(w,d,n),I=new xt({ts:L,zone:n,o:D,loc:i});return s.weekday&&p&&e.weekday!==I.weekday?xt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${I.toISO()}`):I.isValid?I:xt.invalid(I.invalid)}static fromISO(e,r={}){const[n,i]=Cse(e);return lc(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=wse(e);return lc(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=Sse(e);return lc(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(At(e)||At(r))throw new An("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,a=Xt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,d,f]=Jse(a,e,r);return f?xt.invalid(f):lc(o,l,n,`format ${r}`,e,d)}static fromString(e,r,n={}){return xt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=Lse(e);return lc(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new An("need to specify a reason the DateTime is invalid");const n=e instanceof fs?e:new fs(e,r);if(Ir.throwOnInvalid)throw new aie(n);return new xt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=r5(e,Xt.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return JN(xn.parseFormat(e),Xt.fromObject(r)).map(i=>i.val).join("")}static resetCache(){vm=void 0,Tm={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?R_(this).weekYear:NaN}get weekNumber(){return this.isValid?R_(this).weekNumber:NaN}get weekday(){return this.isValid?R_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?B_(this).weekday:NaN}get localWeekNumber(){return this.isValid?B_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?B_(this).weekYear:NaN}get ordinal(){return this.isValid?C_(this.c).ordinal:NaN}get monthShort(){return this.isValid?mm.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?mm.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?mm.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?mm.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=dm(this.c),i=this.zone.offset(n-e),s=this.zone.offset(n+e),a=this.zone.offset(n-i*r),o=this.zone.offset(n-s*r);if(a===o)return[this];const l=n-a*r,d=n-o*r,f=bm(l,a),c=bm(d,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[fl(this,{ts:l}),fl(this,{ts:d})]:[this]}get isInLeapYear(){return Tf(this.year)}get daysInMonth(){return cm(this.year,this.month)}get daysInYear(){return this.isValid?ec(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ef(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ef(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=xn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(Pn.instance(e),r)}toLocal(){return this.setZone(Ir.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=no(e,Ir.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const s=e.offset(this.ts),a=this.toObject();[i]=ym(a,s,e)}return fl(this,{ts:i,zone:e})}else return xt.invalid(wf(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return fl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=hm(e,u5),{minDaysInFirstWeek:n,startOfWeek:i}=vN(r,this.loc),s=!At(r.weekYear)||!At(r.weekNumber)||!At(r.weekday),a=!At(r.ordinal),o=!At(r.year),l=!At(r.month)||!At(r.day),d=o||l,f=r.weekYear||r.weekNumber;if((d||a)&&f)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Xu("Can't mix ordinal dates with month/day");let c;s?c=yN({...lm(this.c,n,i),...r},n,i):At(r.ordinal)?(c={...this.toObject(),...r},At(r.day)&&(c.day=Math.min(cm(c.year,c.month),c.day))):c=_N({...C_(this.c),...r});const[h,p]=ym(c,this.o,this.zone);return fl(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const r=Ht.fromDurationLike(e);return fl(this,s5(this,r))}minus(e){if(!this.isValid)return this;const r=Ht.fromDurationLike(e).negate();return fl(this,s5(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Ht.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?xn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):L_}toLocaleString(e=nm,r={}){return this.isValid?xn.create(this.loc.clone(r),e).formatDateTime(this):L_}toLocaleParts(e={}){return this.isValid?xn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=P_(this,a);return o+="T",o+=a5(this,a,r,n,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?P_(this,e==="extended"):null}toISOWeekDate(){return _m(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+a5(this,a==="extended",r,e,n,s):null}toRFC2822(){return _m(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return _m(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?P_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),_m(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():L_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Ht.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=Pie(r).map(Ht.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,d=jse(o,l,s,i);return a?d.negate():d}diffNow(e="milliseconds",r={}){return this.diff(xt.now(),e,r)}until(e){return this.isValid?Dr.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||xt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),d5(r,this.plus(n),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?d5(e.base||xt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(xt.isDateTime))throw new An("min requires all arguments be DateTimes");return CN(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(xt.isDateTime))throw new An("max requires all arguments be DateTimes");return CN(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,a=Xt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return t5(a,e,r)}static fromStringExplain(e,r,n={}){return xt.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:i=null}=r,s=Xt.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new e5(s,e)}static fromFormatParser(e,r,n={}){if(At(e)||At(r))throw new An("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=n,a=Xt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!a.equals(r.locale))throw new An(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${r.locale}`);const{result:o,zone:l,specificOffset:d,invalidReason:f}=r.explainFromTokens(e);return f?xt.invalid(f):lc(o,l,n,`format ${r.format}`,e,d)}static get DATE_SHORT(){return nm}static get DATE_MED(){return FD}static get DATE_MED_WITH_WEEKDAY(){return uie}static get DATE_FULL(){return UD}static get DATE_HUGE(){return $D}static get TIME_SIMPLE(){return jD}static get TIME_WITH_SECONDS(){return HD}static get TIME_WITH_SHORT_OFFSET(){return zD}static get TIME_WITH_LONG_OFFSET(){return VD}static get TIME_24_SIMPLE(){return qD}static get TIME_24_WITH_SECONDS(){return WD}static get TIME_24_WITH_SHORT_OFFSET(){return GD}static get TIME_24_WITH_LONG_OFFSET(){return YD}static get DATETIME_SHORT(){return QD}static get DATETIME_SHORT_WITH_SECONDS(){return KD}static get DATETIME_MED(){return XD}static get DATETIME_MED_WITH_SECONDS(){return ZD}static get DATETIME_MED_WITH_WEEKDAY(){return cie}static get DATETIME_FULL(){return JD}static get DATETIME_FULL_WITH_SECONDS(){return eN}static get DATETIME_HUGE(){return tN}static get DATETIME_HUGE_WITH_SECONDS(){return rN}}function Sf(t){if(xt.isDateTime(t))return t;if(t&&t.valueOf&&io(t.valueOf()))return xt.fromJSDate(t);if(t&&typeof t=="object")return xt.fromObject(t);throw new An(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const aae=(t,e,r=dr())=>{const n=dr(t);if(n.isSame(r,"day"))return e("today");if(n.isSame(r.subtract(1,"day"),"day"))return e("yesterday");const i=xt.fromMillis(t);return n.isSame(r,"week")?i.toLocaleString({month:"numeric",day:"numeric",weekday:"short"}):n.isSame(r,"year")?i.toLocaleString({month:"numeric",day:"numeric"}):i.toLocaleString({month:"numeric",day:"numeric",year:"numeric"})},oae=["width","height"],lae=[u.createStaticVNode('<g id="Icon"><path d="m23.25 3.75v7c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-.773l-2.811 1.874c-.23.153-.526.168-.77.037-.244-.13-.396-.384-.396-.661v-1.25h-2.25c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h7c.729 0 1.429.29 1.945.805.515.516.805 1.216.805 1.945zm-1.5 0c0-.332-.132-.649-.366-.884-.235-.234-.552-.366-.884-.366h-7c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h3c.414 0 .75.336.75.75v.599l1.834-1.223c.123-.082.268-.126.416-.126h1c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m11.75 12.482c0-.414.336-.75.75-.75s.75.336.75.75v5.768c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-2.25v1.25c0 .277-.152.531-.396.661-.244.131-.54.116-.77-.037l-2.811-1.874h-.773c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h8c.414 0 .75.336.75.75s-.336.75-.75.75h-8c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h1c.148 0 .293.044.416.126 0 0 1.834 1.223 1.834 1.223v-.599c0-.414.336-.75.75-.75h3c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m17.75 5.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.5c0-.414.336-.75.75-.75s.75.336.75.75z"></path><path d="m14.5 6.5c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h5c.414 0 .75.336.75.75s-.336.75-.75.75z"></path><path d="m17.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 2.623-2.127 4.75-4.75 4.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.795 0 3.25-1.455 3.25-3.25z"></path><path d="m14.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 1.795 1.455 3.25 3.25 3.25.414 0 .75.336.75.75s-.336.75-.75.75c-2.623 0-4.75-2.127-4.75-4.75z"></path><path d="m5.696 17.529c-.153.384-.59.571-.975.417-.384-.153-.571-.59-.417-.975l2-5c.114-.284.389-.471.696-.471s.582.187.696.471l2 5c.154.385-.033.822-.417.975-.385.154-.822-.033-.975-.417l-1.304-3.26z"></path><path d="m6 17c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h2c.414 0 .75.336.75.75s-.336.75-.75.75z"></path></g>',1)],uae={__name:"TranslateSvg",props:{width:{type:[Number,String],default:19},height:{type:[Number,String],default:19}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,"stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},lae,8,oae))}},cae={key:0,class:"mb-2 mt-4 flex items-center justify-center"},dae={class:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600 dark:bg-zinc-700 dark:text-gray-400"},fae={key:3,class:"flex flex-col items-end self-end text-xs text-gray-500 dark:text-gray-300"},hae={key:0},pae={key:5,class:"w-[30px]"},mae={class:"flex max-w-[70%] flex-col items-start sm:max-w-[60%]"},gae={key:0,class:"mb-1 ml-1 text-xs font-medium text-gray-500 dark:text-gray-300"},bae={key:6,class:"self-end text-xs text-gray-500 dark:text-gray-300"},yae=Sr(u.defineComponent({inheritAttrs:!1,__name:"MessageCell",props:{source:{}},setup(t){const e=t,r=Ss(),n=e.source,i={[at.Text]:Va,[at.Image]:lQ,[at.Sticker]:oS,[at.Video]:_re,[at.File]:Cre,[at.Template]:qre,[at.Flex]:sne,[at.Location]:jne,[at.Audio]:Zne,[at.Recall]:Va,[at.JoinRoom]:Va,[at.LeaveRoom]:Va,[at.AddMember]:Va,[at.DeleteMember]:Va,[at.AddMembers]:Va,[at.Announcement]:Va,[at.Typing]:sie},s=nr(),a=u.computed(()=>{if(s.state.imkit.uid!==e.source.senderId)return 0;const{rooms:I,uid:P,messageMultiList:z}=s.state.imkit,U=I[e.source.roomId];return U?Object.keys(U.lastReadMessageId).filter($=>$!==P).map($=>{var Y;const H=U.lastReadMessageId[$];return(Y=z.main)==null?void 0:Y.finds(H)}).reduce(($,H)=>H&&H.createdAt>=e.source.createdAt?$+1:$,0):0}),o=u.computed(()=>e.source.isIncoming),l=u.computed(()=>!o.value),d=u.computed(()=>{var z;if(n.type===at.Typing)return!0;const P=(((z=s.state.imkit.messageMultiList.main)==null?void 0:z.messageGroups)??new Map).get(n.groupId);return P?P[0].id===n.id:!1}),f=u.computed(()=>{var z;if(n.type===at.Typing)return!0;const P=(((z=s.state.imkit.messageMultiList.main)==null?void 0:z.messageGroups)??new Map).get(n.groupId);return P?P[P.length-1].id===n.id:!1}),c=u.computed(()=>{var I,P;return((P=(I=e.source.template)==null?void 0:I.quickReply)==null?void 0:P.items)||[]}),h=u.ref(!1),p=I=>{h.value=!0,I.preventDefault()},m=()=>{s.commit("imkit/setState",{replyId:e.source.id})},b=()=>{let I="";switch(e.source.type){case at.Text:I=e.source.text;break;case at.Location:I=e.source.address;break}navigator.clipboard.writeText(I)},y=()=>{s.dispatch("imkit/recallMessage",{roomId:e.source.roomId,_id:e.source.id,messageType:"recall"})},_=u.computed(()=>{const I=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;if(e.source.type===at.Text){const P=e.source.text;for(let z=0;z<P.length;z++)if(!I.test(P[z]))return!1;return!0}return!1}),x=u.computed(()=>e.source),C=u.computed(()=>e.source.isSystem),k=u.computed(()=>s.state.imkit.config.styles),S=u.computed(()=>s.state.imkit.config.translationApiKey),w=u.computed(()=>s.state.imkit.users[e.source.senderId]),L=u.computed(()=>{var P,z;return((z=(((P=s.state.imkit.messageMultiList.main)==null?void 0:P.firstMessageOfDate)??new Map).get(e.source.dateId))==null?void 0:z.id)===e.source.id}),D=()=>{s.dispatch("imkit/translateMessage",e.source)};return(I,P)=>{var z,U,$;return u.openBlock(),u.createElementBlock(u.Fragment,null,[L.value?(u.openBlock(),u.createElementBlock("div",cae,[u.createElementVNode("div",dae,u.toDisplayString(u.unref(aae)(I.source.createdAt,u.unref(r).t)),1)])):u.createCommentVNode("",!0),C.value?(u.openBlock(),u.createBlock(tie,{key:1,message:I.source},null,8,["message"])):(u.openBlock(),u.createElementBlock("div",{key:2,class:u.normalizeClass(["flex gap-2",[o.value?"justify-start":"justify-end",d.value?"mt-1":"mt-[0.0625rem]",f.value?"mb-1":"mb-[0.0625rem]",c.value.length>0?"mb-[40px]":""]]),onMouseleave:P[1]||(P[1]=H=>h.value=!1),onClick:P[2]||(P[2]=H=>h.value=!1)},[l.value&&h.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:JR,class:"my-auto h-5 w-5 cursor-pointer",onClick:y})):u.createCommentVNode("",!0),l.value&&h.value?(u.openBlock(),u.createElementBlock("img",{key:1,src:iE,class:"my-auto h-5 w-5 cursor-pointer",onClick:b})):u.createCommentVNode("",!0),l.value&&h.value?(u.openBlock(),u.createElementBlock("img",{key:2,src:sE,class:"my-auto h-5 w-5 cursor-pointer",onClick:m})):u.createCommentVNode("",!0),l.value&&f.value&&!h.value?(u.openBlock(),u.createElementBlock("div",fae,[a.value>0?(u.openBlock(),u.createElementBlock("div",hae,u.toDisplayString(I.$t("read"))+" "+u.toDisplayString(a.value),1)):u.createCommentVNode("",!0),u.createElementVNode("div",null,u.toDisplayString(u.unref(dr)(I.source.createdAt).format("H:mm")),1)])):u.createCommentVNode("",!0),o.value&&d.value?(u.openBlock(),u.createBlock(gn,{key:4,url:((z=w.value)==null?void 0:z.avatarUrl)??"",name:((U=w.value)==null?void 0:U.nickname)??"",class:"!h-[30px] !w-[30px] rounded-full text-xs"},null,8,["url","name"])):o.value?(u.openBlock(),u.createElementBlock("div",pae)):u.createCommentVNode("",!0),u.createElementVNode("div",mae,[o.value&&d.value?(u.openBlock(),u.createElementBlock("div",gae,u.toDisplayString((($=w.value)==null?void 0:$.nickname)??""),1)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:u.normalizeClass(["relative overflow-hidden rounded bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100",[o.value?"rounded-r-xl":"rounded-l-xl",l.value&&d.value?"rounded-tr-xl":"",l.value&&f.value?"rounded-br-xl":"",o.value&&d.value?"rounded-tl-xl":"",o.value&&f.value?"rounded-bl-xl":"",[u.unref(at).Sticker,u.unref(at).Image].includes(I.source.type)?"!bg-white dark:!bg-zinc-800":"",_.value?"!bg-white !text-3xl dark:!bg-zinc-800":"",[u.unref(at).Template,u.unref(at).Flex].includes(I.source.type)?"!rounded-none !bg-white dark:!bg-zinc-800":"px-3 py-2",[u.unref(Wo).ImageCarousel,u.unref(Wo).Carousel].includes(x.value.templateType)?"!rounded-none !bg-white dark:bg-zinc-800":""]]),style:u.normalizeStyle([o.value?k.value.incomingMessageCell:k.value.outgoingMessageCell]),onContextmenu:p,onMouseenter:P[0]||(P[0]=H=>h.value=!0)},[(u.openBlock(),u.createBlock(u.resolveDynamicComponent(i[I.source.type]),{message:u.unref(n)},null,8,["message"]))],38)]),o.value&&f.value&&!h.value&&u.unref(n).type!==u.unref(at).Typing?(u.openBlock(),u.createElementBlock("div",bae,u.toDisplayString(u.unref(dr)(I.source.createdAt).format("H:mm")),1)):u.createCommentVNode("",!0),o.value&&h.value?(u.openBlock(),u.createElementBlock("div",{key:7,class:u.normalizeClass(["flex items-center justify-center gap-2",{"mt-5":d.value}])},[u.createElementVNode("img",{src:sE,class:u.normalizeClass(["my-auto h-5 w-5 cursor-pointer",d.value?"ml-1":"ml-2"]),onClick:m},null,2),u.createElementVNode("img",{src:iE,class:"my-auto h-5 w-5 cursor-pointer",onClick:b}),S.value?(u.openBlock(),u.createBlock(uae,{key:0,class:"cursor-pointer fill-gray-600",onClick:D})):u.createCommentVNode("",!0)],2)):u.createCommentVNode("",!0)],34))],64)}}}),[["__scopeId","data-v-8498e872"]]),_ae={class:"absolute bottom-[110%] right-0 flex h-80 w-80 max-w-full flex-col divide-y overflow-auto rounded-xl border bg-white dark:bg-zinc-800"},vae={class:"grid grow grid-cols-3 items-center justify-center gap-4 overflow-y-auto p-4 sm:grid-cols-4"},Tae=["src","onClick"],Eae={key:0,class:"flex h-14 w-full flex-shrink-0 gap-4 overflow-x-auto p-3"},Aae=["src","onClick"],xae=u.defineComponent({__name:"StickerPanel",emits:["close"],setup(t,{emit:e}){const r=nr(),n=[{name:"FunFunFamily",number:40}],i=u.ref(n[0]),s=u.computed(()=>r.state.imkit.rooms[r.state.imkit.selectedRoomId]),a=e,o=async l=>{const d={roomId:s.value.id,messageType:"sticker",sticker:l};await r.dispatch("imkit/sendMessage",d),a("close")};return(l,d)=>(u.openBlock(),u.createElementBlock("div",_ae,[u.createElementVNode("div",vae,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value.number,f=>(u.openBlock(),u.createElementBlock("img",{src:`/sticker/${i.value.name}/${i.value.name}-${f}.png`,key:f,class:"cursor-pointer border-0 object-contain",onClick:c=>o(`${i.value.name}-${f}`)},null,8,Tae))),128))]),n.length>1?(u.openBlock(),u.createElementBlock("div",Eae,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(n,f=>u.createElementVNode("img",{src:`/sticker/${f.name}/${f.name}-1.png`,key:f.name,class:"h-full cursor-pointer border-0 object-contain",onClick:c=>i.value=f},null,8,Aae)),64))])):u.createCommentVNode("",!0)]))}}),h5="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64",p5={recent:"Recently used",smileys_people:"Smiles & People",animals_nature:"Animals & Nature",food_drink:"Food & Drink",activities:"Activities",travel_places:"Travel places",objects:"Objects",symbols:"Symbols",flags:"Flags"},m5="u",Em="n",Am="v",kf="r",Cae={[Em]:["grinning face","grinning"],[m5]:"1f600",[kf]:"1f600"},xm="neutral",wae=[xm,"1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"],Sae={placeholder:"Search emoji",skinTone:"Skin tone"},kae=["light","dark","auto"];var Iae={smileys_people:[{n:["grinning face","grinning"],u:"1f600"},{n:["grinning face with smiling eyes","grin"],u:"1f601"},{n:["face with tears of joy","joy"],u:"1f602"},{n:["rolling on the floor laughing","rolling_on_the_floor_laughing"],u:"1f923"},{n:["smiling face with open mouth","smiley"],u:"1f603"},{n:["smiling face with open mouth and smiling eyes","smile"],u:"1f604"},{n:["smiling face with open mouth and cold sweat","sweat_smile"],u:"1f605"},{n:["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],u:"1f606"},{n:["winking face","wink"],u:"1f609"},{n:["smiling face with smiling eyes","blush"],u:"1f60a"},{n:["face savouring delicious food","yum"],u:"1f60b"},{n:["smiling face with sunglasses","sunglasses"],u:"1f60e"},{n:["smiling face with heart-shaped eyes","heart_eyes"],u:"1f60d"},{n:["face throwing a kiss","kissing_heart"],u:"1f618"},{n:["kissing face","kissing"],u:"1f617"},{n:["kissing face with smiling eyes","kissing_smiling_eyes"],u:"1f619"},{n:["kissing face with closed eyes","kissing_closed_eyes"],u:"1f61a"},{n:["white smiling face","relaxed"],u:"263a-fe0f"},{n:["slightly smiling face","slightly_smiling_face"],u:"1f642"},{n:["hugging face","hugging_face"],u:"1f917"},{n:["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],u:"1f929"},{n:["thinking face","thinking_face"],u:"1f914"},{n:["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],u:"1f928"},{n:["neutral face","neutral_face"],u:"1f610"},{n:["expressionless face","expressionless"],u:"1f611"},{n:["face without mouth","no_mouth"],u:"1f636"},{n:["face with rolling eyes","face_with_rolling_eyes"],u:"1f644"},{n:["smirking face","smirk"],u:"1f60f"},{n:["persevering face","persevere"],u:"1f623"},{n:["disappointed but relieved face","disappointed_relieved"],u:"1f625"},{n:["face with open mouth","open_mouth"],u:"1f62e"},{n:["zipper-mouth face","zipper_mouth_face"],u:"1f910"},{n:["hushed face","hushed"],u:"1f62f"},{n:["sleepy face","sleepy"],u:"1f62a"},{n:["tired face","tired_face"],u:"1f62b"},{n:["sleeping face","sleeping"],u:"1f634"},{n:["relieved face","relieved"],u:"1f60c"},{n:["face with stuck-out tongue","stuck_out_tongue"],u:"1f61b"},{n:["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],u:"1f61c"},{n:["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],u:"1f61d"},{n:["drooling face","drooling_face"],u:"1f924"},{n:["unamused face","unamused"],u:"1f612"},{n:["face with cold sweat","sweat"],u:"1f613"},{n:["pensive face","pensive"],u:"1f614"},{n:["confused face","confused"],u:"1f615"},{n:["upside-down face","upside_down_face"],u:"1f643"},{n:["money-mouth face","money_mouth_face"],u:"1f911"},{n:["astonished face","astonished"],u:"1f632"},{n:["white_frowning_face"],u:"2639-fe0f"},{n:["slightly frowning face","slightly_frowning_face"],u:"1f641"},{n:["confounded face","confounded"],u:"1f616"},{n:["disappointed face","disappointed"],u:"1f61e"},{n:["worried face","worried"],u:"1f61f"},{n:["face with look of triumph","triumph"],u:"1f624"},{n:["crying face","cry"],u:"1f622"},{n:["loudly crying face","sob"],u:"1f62d"},{n:["frowning face with open mouth","frowning"],u:"1f626"},{n:["anguished face","anguished"],u:"1f627"},{n:["fearful face","fearful"],u:"1f628"},{n:["weary face","weary"],u:"1f629"},{n:["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],u:"1f92f"},{n:["grimacing face","grimacing"],u:"1f62c"},{n:["face with open mouth and cold sweat","cold_sweat"],u:"1f630"},{n:["face screaming in fear","scream"],u:"1f631"},{n:["flushed face","flushed"],u:"1f633"},{n:["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],u:"1f92a"},{n:["dizzy face","dizzy_face"],u:"1f635"},{n:["pouting face","rage"],u:"1f621"},{n:["angry face","angry"],u:"1f620"},{n:["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],u:"1f92c"},{n:["face with medical mask","mask"],u:"1f637"},{n:["face with thermometer","face_with_thermometer"],u:"1f912"},{n:["face with head-bandage","face_with_head_bandage"],u:"1f915"},{n:["nauseated face","nauseated_face"],u:"1f922"},{n:["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],u:"1f92e"},{n:["sneezing face","sneezing_face"],u:"1f927"},{n:["smiling face with halo","innocent"],u:"1f607"},{n:["face with cowboy hat","face_with_cowboy_hat"],u:"1f920"},{n:["clown face","clown_face"],u:"1f921"},{n:["lying face","lying_face"],u:"1f925"},{n:["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],u:"1f92b"},{n:["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],u:"1f92d"},{n:["face with monocle","face_with_monocle"],u:"1f9d0"},{n:["nerd face","nerd_face"],u:"1f913"},{n:["smiling face with horns","smiling_imp"],u:"1f608"},{n:["imp"],u:"1f47f"},{n:["japanese ogre","japanese_ogre"],u:"1f479"},{n:["japanese goblin","japanese_goblin"],u:"1f47a"},{n:["skull"],u:"1f480"},{n:["skull_and_crossbones"],u:"2620-fe0f"},{n:["ghost"],u:"1f47b"},{n:["extraterrestrial alien","alien"],u:"1f47d"},{n:["alien monster","space_invader"],u:"1f47e"},{n:["robot face","robot_face"],u:"1f916"},{n:["pile of poo","hankey","poop","shit"],u:"1f4a9"},{n:["smiling cat face with open mouth","smiley_cat"],u:"1f63a"},{n:["grinning cat face with smiling eyes","smile_cat"],u:"1f638"},{n:["cat face with tears of joy","joy_cat"],u:"1f639"},{n:["smiling cat face with heart-shaped eyes","heart_eyes_cat"],u:"1f63b"},{n:["cat face with wry smile","smirk_cat"],u:"1f63c"},{n:["kissing cat face with closed eyes","kissing_cat"],u:"1f63d"},{n:["weary cat face","scream_cat"],u:"1f640"},{n:["crying cat face","crying_cat_face"],u:"1f63f"},{n:["pouting cat face","pouting_cat"],u:"1f63e"},{n:["see-no-evil monkey","see_no_evil"],u:"1f648"},{n:["hear-no-evil monkey","hear_no_evil"],u:"1f649"},{n:["speak-no-evil monkey","speak_no_evil"],u:"1f64a"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{n:["older adult","older_adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{n:["older man","older_man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{n:["older woman","older_woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{n:["male-doctor"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{n:["female-doctor"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{n:["male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{n:["female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{n:["male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{n:["female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{n:["male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{n:["female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{n:["male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{n:["female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{n:["male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{n:["female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{n:["male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{n:["female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{n:["male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{n:["female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{n:["male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{n:["female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{n:["male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{n:["female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{n:["male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{n:["female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{n:["male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{n:["female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{n:["male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{n:["female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{n:["male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{n:["female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{n:["male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{n:["female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{n:["male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{n:["female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{n:["police officer","cop"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{n:["male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{n:["female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{n:["sleuth_or_spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{n:["male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{n:["female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{n:["male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{n:["female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{n:["construction worker","construction_worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{n:["male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{n:["female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{n:["man with turban","man_with_turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{n:["man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{n:["woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{n:["man with gua pi mao","man_with_gua_pi_mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{n:["person with headscarf","person_with_headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{n:["bearded person","bearded_person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{n:["person with blond hair","person_with_blond_hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{n:["blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{n:["blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{n:["man in tuxedo","man_in_tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{n:["bride with veil","bride_with_veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{n:["pregnant woman","pregnant_woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{n:["baby angel","angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{n:["father christmas","santa"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{n:["mother christmas","mrs_claus","mother_christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{n:["female_mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{n:["male_mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{n:["female_fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{n:["male_fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{n:["female_vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{n:["male_vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{n:["female_elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{n:["male_elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{n:["genie"],u:"1f9de"},{n:["female_genie"],u:"1f9de-200d-2640-fe0f"},{n:["male_genie"],u:"1f9de-200d-2642-fe0f"},{n:["zombie"],u:"1f9df"},{n:["female_zombie"],u:"1f9df-200d-2640-fe0f"},{n:["male_zombie"],u:"1f9df-200d-2642-fe0f"},{n:["person frowning","person_frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{n:["man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{n:["woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{n:["person with pouting face","person_with_pouting_face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{n:["man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{n:["woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{n:["face with no good gesture","no_good"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{n:["man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{n:["face with ok gesture","ok_woman"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{n:["man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{n:["information desk person","information_desk_person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{n:["man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{n:["woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{n:["happy person raising one hand","raising_hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{n:["man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{n:["woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{n:["person bowing deeply","bow"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{n:["man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{n:["woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{n:["face palm","face_palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{n:["man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{n:["woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{n:["man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{n:["woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{n:["face massage","massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{n:["man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{n:["man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{n:["pedestrian","walking"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{n:["man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{n:["woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{n:["man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{n:["woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{n:["man dancing","man_dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{n:["woman with bunny ears","dancers"],u:"1f46f"},{n:["man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f"},{n:["woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f"},{n:["person in steamy room","person_in_steamy_room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{n:["woman_in_steamy_room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{n:["man_in_steamy_room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{n:["person climbing","person_climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{n:["woman_climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{n:["man_climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{n:["person in lotus position","person_in_lotus_position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{n:["woman_in_lotus_position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{n:["man_in_lotus_position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{n:["sleeping accommodation","sleeping_accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{n:["man_in_business_suit_levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{n:["speaking_head_in_silhouette"],u:"1f5e3-fe0f"},{n:["bust in silhouette","bust_in_silhouette"],u:"1f464"},{n:["busts in silhouette","busts_in_silhouette"],u:"1f465"},{n:["fencer"],u:"1f93a"},{n:["horse racing","horse_racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{n:["skier"],u:"26f7-fe0f"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{n:["golfer"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{n:["man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{n:["woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{n:["man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{n:["woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{n:["man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{n:["woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{n:["man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{n:["woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{n:["person_with_ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{n:["man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{n:["woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{n:["weight_lifter"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{n:["man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{n:["woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{n:["man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{n:["woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{n:["mountain bicyclist","mountain_bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{n:["man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{n:["woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{n:["racing_car"],u:"1f3ce-fe0f"},{n:["racing_motorcycle"],u:"1f3cd-fe0f"},{n:["person doing cartwheel","person_doing_cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{n:["man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{n:["woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{n:["wrestlers"],u:"1f93c"},{n:["man-wrestling"],u:"1f93c-200d-2642-fe0f"},{n:["woman-wrestling"],u:"1f93c-200d-2640-fe0f"},{n:["water polo","water_polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{n:["man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{n:["man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{n:["man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{n:["woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{n:["man and woman holding hands","couple","man_and_woman_holding_hands"],u:"1f46b"},{n:["two men holding hands","two_men_holding_hands"],u:"1f46c"},{n:["two women holding hands","two_women_holding_hands"],u:"1f46d"},{n:["kiss","couplekiss"],u:"1f48f"},{n:["woman-kiss-man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["man-kiss-man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["woman-kiss-woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{n:["couple with heart","couple_with_heart"],u:"1f491"},{n:["woman-heart-man"],u:"1f469-200d-2764-fe0f-200d-1f468"},{n:["man-heart-man"],u:"1f468-200d-2764-fe0f-200d-1f468"},{n:["woman-heart-woman"],u:"1f469-200d-2764-fe0f-200d-1f469"},{n:["family","man-woman-boy"],u:"1f46a"},{n:["man-woman-boy","family"],u:"1f468-200d-1f469-200d-1f466"},{n:["man-woman-girl"],u:"1f468-200d-1f469-200d-1f467"},{n:["man-woman-girl-boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466"},{n:["man-woman-boy-boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466"},{n:["man-woman-girl-girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467"},{n:["man-man-boy"],u:"1f468-200d-1f468-200d-1f466"},{n:["man-man-girl"],u:"1f468-200d-1f468-200d-1f467"},{n:["man-man-girl-boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466"},{n:["man-man-boy-boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466"},{n:["man-man-girl-girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467"},{n:["woman-woman-boy"],u:"1f469-200d-1f469-200d-1f466"},{n:["woman-woman-girl"],u:"1f469-200d-1f469-200d-1f467"},{n:["woman-woman-girl-boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466"},{n:["woman-woman-boy-boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466"},{n:["woman-woman-girl-girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467"},{n:["man-boy"],u:"1f468-200d-1f466"},{n:["man-boy-boy"],u:"1f468-200d-1f466-200d-1f466"},{n:["man-girl"],u:"1f468-200d-1f467"},{n:["man-girl-boy"],u:"1f468-200d-1f467-200d-1f466"},{n:["man-girl-girl"],u:"1f468-200d-1f467-200d-1f467"},{n:["woman-boy"],u:"1f469-200d-1f466"},{n:["woman-boy-boy"],u:"1f469-200d-1f466-200d-1f466"},{n:["woman-girl"],u:"1f469-200d-1f467"},{n:["woman-girl-boy"],u:"1f469-200d-1f467-200d-1f466"},{n:["woman-girl-girl"],u:"1f469-200d-1f467-200d-1f467"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{n:["flexed biceps","muscle"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{n:["white left pointing backhand index","point_left"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{n:["white right pointing backhand index","point_right"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{n:["white up pointing index","point_up"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{n:["white up pointing backhand index","point_up_2"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{n:["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{n:["white down pointing backhand index","point_down"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{n:["victory hand","v"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{n:["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{n:["raised hand with part between middle and ring fingers","spock-hand"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{n:["sign of the horns","the_horns","sign_of_the_horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{n:["call me hand","call_me_hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{n:["raised_hand_with_fingers_splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{n:["raised hand","hand","raised_hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{n:["ok hand sign","ok_hand"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{n:["thumbs up sign","+1","thumbsup"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{n:["thumbs down sign","-1","thumbsdown"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{n:["raised fist","fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{n:["fisted hand sign","facepunch","punch"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{n:["left-facing fist","left-facing_fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{n:["right-facing fist","right-facing_fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{n:["raised back of hand","raised_back_of_hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{n:["waving hand sign","wave"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{n:["i love you hand sign","i_love_you_hand_sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{n:["writing_hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{n:["clapping hands sign","clap"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{n:["open hands sign","open_hands"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{n:["person raising both hands in celebration","raised_hands"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{n:["palms up together","palms_up_together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{n:["person with folded hands","pray"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{n:["handshake"],u:"1f91d"},{n:["nail polish","nail_care"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{n:["footprints"],u:"1f463"},{n:["eyes"],u:"1f440"},{n:["eye"],u:"1f441-fe0f"},{n:["eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f"},{n:["brain"],u:"1f9e0"},{n:["tongue"],u:"1f445"},{n:["mouth","lips"],u:"1f444"},{n:["kiss mark","kiss"],u:"1f48b"},{n:["heart with arrow","cupid"],u:"1f498"},{n:["heavy black heart","heart"],u:"2764-fe0f"},{n:["beating heart","heartbeat"],u:"1f493"},{n:["broken heart","broken_heart"],u:"1f494"},{n:["two hearts","two_hearts"],u:"1f495"},{n:["sparkling heart","sparkling_heart"],u:"1f496"},{n:["growing heart","heartpulse"],u:"1f497"},{n:["blue heart","blue_heart"],u:"1f499"},{n:["green heart","green_heart"],u:"1f49a"},{n:["yellow heart","yellow_heart"],u:"1f49b"},{n:["orange heart","orange_heart"],u:"1f9e1"},{n:["purple heart","purple_heart"],u:"1f49c"},{n:["black heart","black_heart"],u:"1f5a4"},{n:["heart with ribbon","gift_heart"],u:"1f49d"},{n:["revolving hearts","revolving_hearts"],u:"1f49e"},{n:["heart decoration","heart_decoration"],u:"1f49f"},{n:["heavy_heart_exclamation_mark_ornament"],u:"2763-fe0f"},{n:["love letter","love_letter"],u:"1f48c"},{n:["sleeping symbol","zzz"],u:"1f4a4"},{n:["anger symbol","anger"],u:"1f4a2"},{n:["bomb"],u:"1f4a3"},{n:["collision symbol","boom","collision"],u:"1f4a5"},{n:["splashing sweat symbol","sweat_drops"],u:"1f4a6"},{n:["dash symbol","dash"],u:"1f4a8"},{n:["dizzy symbol","dizzy"],u:"1f4ab"},{n:["speech balloon","speech_balloon"],u:"1f4ac"},{n:["left_speech_bubble"],u:"1f5e8-fe0f"},{n:["right_anger_bubble"],u:"1f5ef-fe0f"},{n:["thought balloon","thought_balloon"],u:"1f4ad"},{n:["hole"],u:"1f573-fe0f"},{n:["eyeglasses"],u:"1f453"},{n:["dark_sunglasses"],u:"1f576-fe0f"},{n:["necktie"],u:"1f454"},{n:["t-shirt","shirt","tshirt"],u:"1f455"},{n:["jeans"],u:"1f456"},{n:["scarf"],u:"1f9e3"},{n:["gloves"],u:"1f9e4"},{n:["coat"],u:"1f9e5"},{n:["socks"],u:"1f9e6"},{n:["dress"],u:"1f457"},{n:["kimono"],u:"1f458"},{n:["bikini"],u:"1f459"},{n:["womans clothes","womans_clothes"],u:"1f45a"},{n:["purse"],u:"1f45b"},{n:["handbag"],u:"1f45c"},{n:["pouch"],u:"1f45d"},{n:["shopping_bags"],u:"1f6cd-fe0f"},{n:["school satchel","school_satchel"],u:"1f392"},{n:["mans shoe","mans_shoe","shoe"],u:"1f45e"},{n:["athletic shoe","athletic_shoe"],u:"1f45f"},{n:["high-heeled shoe","high_heel"],u:"1f460"},{n:["womans sandal","sandal"],u:"1f461"},{n:["womans boots","boot"],u:"1f462"},{n:["crown"],u:"1f451"},{n:["womans hat","womans_hat"],u:"1f452"},{n:["top hat","tophat"],u:"1f3a9"},{n:["graduation cap","mortar_board"],u:"1f393"},{n:["billed cap","billed_cap"],u:"1f9e2"},{n:["helmet_with_white_cross"],u:"26d1-fe0f"},{n:["prayer beads","prayer_beads"],u:"1f4ff"},{n:["lipstick"],u:"1f484"},{n:["ring"],u:"1f48d"},{n:["gem stone","gem"],u:"1f48e"}],animals_nature:[{n:["monkey face","monkey_face"],u:"1f435"},{n:["monkey"],u:"1f412"},{n:["gorilla"],u:"1f98d"},{n:["dog face","dog"],u:"1f436"},{n:["dog","dog2"],u:"1f415"},{n:["poodle"],u:"1f429"},{n:["wolf face","wolf"],u:"1f43a"},{n:["fox face","fox_face"],u:"1f98a"},{n:["cat face","cat"],u:"1f431"},{n:["cat","cat2"],u:"1f408"},{n:["lion face","lion_face"],u:"1f981"},{n:["tiger face","tiger"],u:"1f42f"},{n:["tiger","tiger2"],u:"1f405"},{n:["leopard"],u:"1f406"},{n:["horse face","horse"],u:"1f434"},{n:["horse","racehorse"],u:"1f40e"},{n:["unicorn face","unicorn_face"],u:"1f984"},{n:["zebra face","zebra_face"],u:"1f993"},{n:["deer"],u:"1f98c"},{n:["cow face","cow"],u:"1f42e"},{n:["ox"],u:"1f402"},{n:["water buffalo","water_buffalo"],u:"1f403"},{n:["cow","cow2"],u:"1f404"},{n:["pig face","pig"],u:"1f437"},{n:["pig","pig2"],u:"1f416"},{n:["boar"],u:"1f417"},{n:["pig nose","pig_nose"],u:"1f43d"},{n:["ram"],u:"1f40f"},{n:["sheep"],u:"1f411"},{n:["goat"],u:"1f410"},{n:["dromedary camel","dromedary_camel"],u:"1f42a"},{n:["bactrian camel","camel"],u:"1f42b"},{n:["giraffe face","giraffe_face"],u:"1f992"},{n:["elephant"],u:"1f418"},{n:["rhinoceros"],u:"1f98f"},{n:["mouse face","mouse"],u:"1f42d"},{n:["mouse","mouse2"],u:"1f401"},{n:["rat"],u:"1f400"},{n:["hamster face","hamster"],u:"1f439"},{n:["rabbit face","rabbit"],u:"1f430"},{n:["rabbit","rabbit2"],u:"1f407"},{n:["chipmunk"],u:"1f43f-fe0f"},{n:["hedgehog"],u:"1f994"},{n:["bat"],u:"1f987"},{n:["bear face","bear"],u:"1f43b"},{n:["koala"],u:"1f428"},{n:["panda face","panda_face"],u:"1f43c"},{n:["paw prints","feet","paw_prints"],u:"1f43e"},{n:["turkey"],u:"1f983"},{n:["chicken"],u:"1f414"},{n:["rooster"],u:"1f413"},{n:["hatching chick","hatching_chick"],u:"1f423"},{n:["baby chick","baby_chick"],u:"1f424"},{n:["front-facing baby chick","hatched_chick"],u:"1f425"},{n:["bird"],u:"1f426"},{n:["penguin"],u:"1f427"},{n:["dove_of_peace"],u:"1f54a-fe0f"},{n:["eagle"],u:"1f985"},{n:["duck"],u:"1f986"},{n:["owl"],u:"1f989"},{n:["frog face","frog"],u:"1f438"},{n:["crocodile"],u:"1f40a"},{n:["turtle"],u:"1f422"},{n:["lizard"],u:"1f98e"},{n:["snake"],u:"1f40d"},{n:["dragon face","dragon_face"],u:"1f432"},{n:["dragon"],u:"1f409"},{n:["sauropod"],u:"1f995"},{n:["t-rex"],u:"1f996"},{n:["spouting whale","whale"],u:"1f433"},{n:["whale","whale2"],u:"1f40b"},{n:["dolphin","flipper"],u:"1f42c"},{n:["fish"],u:"1f41f"},{n:["tropical fish","tropical_fish"],u:"1f420"},{n:["blowfish"],u:"1f421"},{n:["shark"],u:"1f988"},{n:["octopus"],u:"1f419"},{n:["spiral shell","shell"],u:"1f41a"},{n:["crab"],u:"1f980"},{n:["shrimp"],u:"1f990"},{n:["squid"],u:"1f991"},{n:["snail"],u:"1f40c"},{n:["butterfly"],u:"1f98b"},{n:["bug"],u:"1f41b"},{n:["ant"],u:"1f41c"},{n:["honeybee","bee"],u:"1f41d"},{n:["lady beetle","beetle"],u:"1f41e"},{n:["cricket"],u:"1f997"},{n:["spider"],u:"1f577-fe0f"},{n:["spider_web"],u:"1f578-fe0f"},{n:["scorpion"],u:"1f982"},{n:["bouquet"],u:"1f490"},{n:["cherry blossom","cherry_blossom"],u:"1f338"},{n:["white flower","white_flower"],u:"1f4ae"},{n:["rosette"],u:"1f3f5-fe0f"},{n:["rose"],u:"1f339"},{n:["wilted flower","wilted_flower"],u:"1f940"},{n:["hibiscus"],u:"1f33a"},{n:["sunflower"],u:"1f33b"},{n:["blossom"],u:"1f33c"},{n:["tulip"],u:"1f337"},{n:["seedling"],u:"1f331"},{n:["evergreen tree","evergreen_tree"],u:"1f332"},{n:["deciduous tree","deciduous_tree"],u:"1f333"},{n:["palm tree","palm_tree"],u:"1f334"},{n:["cactus"],u:"1f335"},{n:["ear of rice","ear_of_rice"],u:"1f33e"},{n:["herb"],u:"1f33f"},{n:["shamrock"],u:"2618-fe0f"},{n:["four leaf clover","four_leaf_clover"],u:"1f340"},{n:["maple leaf","maple_leaf"],u:"1f341"},{n:["fallen leaf","fallen_leaf"],u:"1f342"},{n:["leaf fluttering in wind","leaves"],u:"1f343"}],food_drink:[{n:["grapes"],u:"1f347"},{n:["melon"],u:"1f348"},{n:["watermelon"],u:"1f349"},{n:["tangerine"],u:"1f34a"},{n:["lemon"],u:"1f34b"},{n:["banana"],u:"1f34c"},{n:["pineapple"],u:"1f34d"},{n:["red apple","apple"],u:"1f34e"},{n:["green apple","green_apple"],u:"1f34f"},{n:["pear"],u:"1f350"},{n:["peach"],u:"1f351"},{n:["cherries"],u:"1f352"},{n:["strawberry"],u:"1f353"},{n:["kiwifruit"],u:"1f95d"},{n:["tomato"],u:"1f345"},{n:["coconut"],u:"1f965"},{n:["avocado"],u:"1f951"},{n:["aubergine","eggplant"],u:"1f346"},{n:["potato"],u:"1f954"},{n:["carrot"],u:"1f955"},{n:["ear of maize","corn"],u:"1f33d"},{n:["hot_pepper"],u:"1f336-fe0f"},{n:["cucumber"],u:"1f952"},{n:["broccoli"],u:"1f966"},{n:["mushroom"],u:"1f344"},{n:["peanuts"],u:"1f95c"},{n:["chestnut"],u:"1f330"},{n:["bread"],u:"1f35e"},{n:["croissant"],u:"1f950"},{n:["baguette bread","baguette_bread"],u:"1f956"},{n:["pretzel"],u:"1f968"},{n:["pancakes"],u:"1f95e"},{n:["cheese wedge","cheese_wedge"],u:"1f9c0"},{n:["meat on bone","meat_on_bone"],u:"1f356"},{n:["poultry leg","poultry_leg"],u:"1f357"},{n:["cut of meat","cut_of_meat"],u:"1f969"},{n:["bacon"],u:"1f953"},{n:["hamburger"],u:"1f354"},{n:["french fries","fries"],u:"1f35f"},{n:["slice of pizza","pizza"],u:"1f355"},{n:["hot dog","hotdog"],u:"1f32d"},{n:["sandwich"],u:"1f96a"},{n:["taco"],u:"1f32e"},{n:["burrito"],u:"1f32f"},{n:["stuffed flatbread","stuffed_flatbread"],u:"1f959"},{n:["egg"],u:"1f95a"},{n:["cooking","fried_egg"],u:"1f373"},{n:["shallow pan of food","shallow_pan_of_food"],u:"1f958"},{n:["pot of food","stew"],u:"1f372"},{n:["bowl with spoon","bowl_with_spoon"],u:"1f963"},{n:["green salad","green_salad"],u:"1f957"},{n:["popcorn"],u:"1f37f"},{n:["canned food","canned_food"],u:"1f96b"},{n:["bento box","bento"],u:"1f371"},{n:["rice cracker","rice_cracker"],u:"1f358"},{n:["rice ball","rice_ball"],u:"1f359"},{n:["cooked rice","rice"],u:"1f35a"},{n:["curry and rice","curry"],u:"1f35b"},{n:["steaming bowl","ramen"],u:"1f35c"},{n:["spaghetti"],u:"1f35d"},{n:["roasted sweet potato","sweet_potato"],u:"1f360"},{n:["oden"],u:"1f362"},{n:["sushi"],u:"1f363"},{n:["fried shrimp","fried_shrimp"],u:"1f364"},{n:["fish cake with swirl design","fish_cake"],u:"1f365"},{n:["dango"],u:"1f361"},{n:["dumpling"],u:"1f95f"},{n:["fortune cookie","fortune_cookie"],u:"1f960"},{n:["takeout box","takeout_box"],u:"1f961"},{n:["soft ice cream","icecream"],u:"1f366"},{n:["shaved ice","shaved_ice"],u:"1f367"},{n:["ice cream","ice_cream"],u:"1f368"},{n:["doughnut"],u:"1f369"},{n:["cookie"],u:"1f36a"},{n:["birthday cake","birthday"],u:"1f382"},{n:["shortcake","cake"],u:"1f370"},{n:["pie"],u:"1f967"},{n:["chocolate bar","chocolate_bar"],u:"1f36b"},{n:["candy"],u:"1f36c"},{n:["lollipop"],u:"1f36d"},{n:["custard"],u:"1f36e"},{n:["honey pot","honey_pot"],u:"1f36f"},{n:["baby bottle","baby_bottle"],u:"1f37c"},{n:["glass of milk","glass_of_milk"],u:"1f95b"},{n:["hot beverage","coffee"],u:"2615"},{n:["teacup without handle","tea"],u:"1f375"},{n:["sake bottle and cup","sake"],u:"1f376"},{n:["bottle with popping cork","champagne"],u:"1f37e"},{n:["wine glass","wine_glass"],u:"1f377"},{n:["cocktail glass","cocktail"],u:"1f378"},{n:["tropical drink","tropical_drink"],u:"1f379"},{n:["beer mug","beer"],u:"1f37a"},{n:["clinking beer mugs","beers"],u:"1f37b"},{n:["clinking glasses","clinking_glasses"],u:"1f942"},{n:["tumbler glass","tumbler_glass"],u:"1f943"},{n:["cup with straw","cup_with_straw"],u:"1f964"},{n:["chopsticks"],u:"1f962"},{n:["knife_fork_plate"],u:"1f37d-fe0f"},{n:["fork and knife","fork_and_knife"],u:"1f374"},{n:["spoon"],u:"1f944"},{n:["hocho","knife"],u:"1f52a"},{n:["amphora"],u:"1f3fa"}],activities:[{n:["jack-o-lantern","jack_o_lantern"],u:"1f383"},{n:["christmas tree","christmas_tree"],u:"1f384"},{n:["fireworks"],u:"1f386"},{n:["firework sparkler","sparkler"],u:"1f387"},{n:["sparkles"],u:"2728"},{n:["balloon"],u:"1f388"},{n:["party popper","tada"],u:"1f389"},{n:["confetti ball","confetti_ball"],u:"1f38a"},{n:["tanabata tree","tanabata_tree"],u:"1f38b"},{n:["pine decoration","bamboo"],u:"1f38d"},{n:["japanese dolls","dolls"],u:"1f38e"},{n:["carp streamer","flags"],u:"1f38f"},{n:["wind chime","wind_chime"],u:"1f390"},{n:["moon viewing ceremony","rice_scene"],u:"1f391"},{n:["ribbon"],u:"1f380"},{n:["wrapped present","gift"],u:"1f381"},{n:["reminder_ribbon"],u:"1f397-fe0f"},{n:["admission_tickets"],u:"1f39f-fe0f"},{n:["ticket"],u:"1f3ab"},{n:["medal"],u:"1f396-fe0f"},{n:["trophy"],u:"1f3c6"},{n:["sports medal","sports_medal"],u:"1f3c5"},{n:["first place medal","first_place_medal"],u:"1f947"},{n:["second place medal","second_place_medal"],u:"1f948"},{n:["third place medal","third_place_medal"],u:"1f949"},{n:["soccer ball","soccer"],u:"26bd"},{n:["baseball"],u:"26be"},{n:["basketball and hoop","basketball"],u:"1f3c0"},{n:["volleyball"],u:"1f3d0"},{n:["american football","football"],u:"1f3c8"},{n:["rugby football","rugby_football"],u:"1f3c9"},{n:["tennis racquet and ball","tennis"],u:"1f3be"},{n:["billiards","8ball"],u:"1f3b1"},{n:["bowling"],u:"1f3b3"},{n:["cricket bat and ball","cricket_bat_and_ball"],u:"1f3cf"},{n:["field hockey stick and ball","field_hockey_stick_and_ball"],u:"1f3d1"},{n:["ice hockey stick and puck","ice_hockey_stick_and_puck"],u:"1f3d2"},{n:["table tennis paddle and ball","table_tennis_paddle_and_ball"],u:"1f3d3"},{n:["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],u:"1f3f8"},{n:["boxing glove","boxing_glove"],u:"1f94a"},{n:["martial arts uniform","martial_arts_uniform"],u:"1f94b"},{n:["goal net","goal_net"],u:"1f945"},{n:["direct hit","dart"],u:"1f3af"},{n:["flag in hole","golf"],u:"26f3"},{n:["ice_skate"],u:"26f8-fe0f"},{n:["fishing pole and fish","fishing_pole_and_fish"],u:"1f3a3"},{n:["running shirt with sash","running_shirt_with_sash"],u:"1f3bd"},{n:["ski and ski boot","ski"],u:"1f3bf"},{n:["sled"],u:"1f6f7"},{n:["curling stone","curling_stone"],u:"1f94c"},{n:["video game","video_game"],u:"1f3ae"},{n:["joystick"],u:"1f579-fe0f"},{n:["game die","game_die"],u:"1f3b2"},{n:["black spade suit","spades"],u:"2660-fe0f"},{n:["black heart suit","hearts"],u:"2665-fe0f"},{n:["black diamond suit","diamonds"],u:"2666-fe0f"},{n:["black club suit","clubs"],u:"2663-fe0f"},{n:["playing card black joker","black_joker"],u:"1f0cf"},{n:["mahjong tile red dragon","mahjong"],u:"1f004"},{n:["flower playing cards","flower_playing_cards"],u:"1f3b4"}],travel_places:[{n:["earth globe europe-africa","earth_africa"],u:"1f30d"},{n:["earth globe americas","earth_americas"],u:"1f30e"},{n:["earth globe asia-australia","earth_asia"],u:"1f30f"},{n:["globe with meridians","globe_with_meridians"],u:"1f310"},{n:["world_map"],u:"1f5fa-fe0f"},{n:["silhouette of japan","japan"],u:"1f5fe"},{n:["snow_capped_mountain"],u:"1f3d4-fe0f"},{n:["mountain"],u:"26f0-fe0f"},{n:["volcano"],u:"1f30b"},{n:["mount fuji","mount_fuji"],u:"1f5fb"},{n:["camping"],u:"1f3d5-fe0f"},{n:["beach_with_umbrella"],u:"1f3d6-fe0f"},{n:["desert"],u:"1f3dc-fe0f"},{n:["desert_island"],u:"1f3dd-fe0f"},{n:["national_park"],u:"1f3de-fe0f"},{n:["stadium"],u:"1f3df-fe0f"},{n:["classical_building"],u:"1f3db-fe0f"},{n:["building_construction"],u:"1f3d7-fe0f"},{n:["house_buildings"],u:"1f3d8-fe0f"},{n:["cityscape"],u:"1f3d9-fe0f"},{n:["derelict_house_building"],u:"1f3da-fe0f"},{n:["house building","house"],u:"1f3e0"},{n:["house with garden","house_with_garden"],u:"1f3e1"},{n:["office building","office"],u:"1f3e2"},{n:["japanese post office","post_office"],u:"1f3e3"},{n:["european post office","european_post_office"],u:"1f3e4"},{n:["hospital"],u:"1f3e5"},{n:["bank"],u:"1f3e6"},{n:["hotel"],u:"1f3e8"},{n:["love hotel","love_hotel"],u:"1f3e9"},{n:["convenience store","convenience_store"],u:"1f3ea"},{n:["school"],u:"1f3eb"},{n:["department store","department_store"],u:"1f3ec"},{n:["factory"],u:"1f3ed"},{n:["japanese castle","japanese_castle"],u:"1f3ef"},{n:["european castle","european_castle"],u:"1f3f0"},{n:["wedding"],u:"1f492"},{n:["tokyo tower","tokyo_tower"],u:"1f5fc"},{n:["statue of liberty","statue_of_liberty"],u:"1f5fd"},{n:["church"],u:"26ea"},{n:["mosque"],u:"1f54c"},{n:["synagogue"],u:"1f54d"},{n:["shinto_shrine"],u:"26e9-fe0f"},{n:["kaaba"],u:"1f54b"},{n:["fountain"],u:"26f2"},{n:["tent"],u:"26fa"},{n:["foggy"],u:"1f301"},{n:["night with stars","night_with_stars"],u:"1f303"},{n:["sunrise over mountains","sunrise_over_mountains"],u:"1f304"},{n:["sunrise"],u:"1f305"},{n:["cityscape at dusk","city_sunset"],u:"1f306"},{n:["sunset over buildings","city_sunrise"],u:"1f307"},{n:["bridge at night","bridge_at_night"],u:"1f309"},{n:["hot springs","hotsprings"],u:"2668-fe0f"},{n:["milky way","milky_way"],u:"1f30c"},{n:["carousel horse","carousel_horse"],u:"1f3a0"},{n:["ferris wheel","ferris_wheel"],u:"1f3a1"},{n:["roller coaster","roller_coaster"],u:"1f3a2"},{n:["barber pole","barber"],u:"1f488"},{n:["circus tent","circus_tent"],u:"1f3aa"},{n:["performing arts","performing_arts"],u:"1f3ad"},{n:["frame_with_picture"],u:"1f5bc-fe0f"},{n:["artist palette","art"],u:"1f3a8"},{n:["slot machine","slot_machine"],u:"1f3b0"},{n:["steam locomotive","steam_locomotive"],u:"1f682"},{n:["railway car","railway_car"],u:"1f683"},{n:["high-speed train","bullettrain_side"],u:"1f684"},{n:["high-speed train with bullet nose","bullettrain_front"],u:"1f685"},{n:["train","train2"],u:"1f686"},{n:["metro"],u:"1f687"},{n:["light rail","light_rail"],u:"1f688"},{n:["station"],u:"1f689"},{n:["tram"],u:"1f68a"},{n:["monorail"],u:"1f69d"},{n:["mountain railway","mountain_railway"],u:"1f69e"},{n:["tram car","train"],u:"1f68b"},{n:["bus"],u:"1f68c"},{n:["oncoming bus","oncoming_bus"],u:"1f68d"},{n:["trolleybus"],u:"1f68e"},{n:["minibus"],u:"1f690"},{n:["ambulance"],u:"1f691"},{n:["fire engine","fire_engine"],u:"1f692"},{n:["police car","police_car"],u:"1f693"},{n:["oncoming police car","oncoming_police_car"],u:"1f694"},{n:["taxi"],u:"1f695"},{n:["oncoming taxi","oncoming_taxi"],u:"1f696"},{n:["automobile","car","red_car"],u:"1f697"},{n:["oncoming automobile","oncoming_automobile"],u:"1f698"},{n:["recreational vehicle","blue_car"],u:"1f699"},{n:["delivery truck","truck"],u:"1f69a"},{n:["articulated lorry","articulated_lorry"],u:"1f69b"},{n:["tractor"],u:"1f69c"},{n:["bicycle","bike"],u:"1f6b2"},{n:["scooter"],u:"1f6f4"},{n:["motor scooter","motor_scooter"],u:"1f6f5"},{n:["bus stop","busstop"],u:"1f68f"},{n:["motorway"],u:"1f6e3-fe0f"},{n:["railway_track"],u:"1f6e4-fe0f"},{n:["fuel pump","fuelpump"],u:"26fd"},{n:["police cars revolving light","rotating_light"],u:"1f6a8"},{n:["horizontal traffic light","traffic_light"],u:"1f6a5"},{n:["vertical traffic light","vertical_traffic_light"],u:"1f6a6"},{n:["construction sign","construction"],u:"1f6a7"},{n:["octagonal sign","octagonal_sign"],u:"1f6d1"},{n:["anchor"],u:"2693"},{n:["sailboat","boat"],u:"26f5"},{n:["canoe"],u:"1f6f6"},{n:["speedboat"],u:"1f6a4"},{n:["passenger_ship"],u:"1f6f3-fe0f"},{n:["ferry"],u:"26f4-fe0f"},{n:["motor_boat"],u:"1f6e5-fe0f"},{n:["ship"],u:"1f6a2"},{n:["airplane"],u:"2708-fe0f"},{n:["small_airplane"],u:"1f6e9-fe0f"},{n:["airplane departure","airplane_departure"],u:"1f6eb"},{n:["airplane arriving","airplane_arriving"],u:"1f6ec"},{n:["seat"],u:"1f4ba"},{n:["helicopter"],u:"1f681"},{n:["suspension railway","suspension_railway"],u:"1f69f"},{n:["mountain cableway","mountain_cableway"],u:"1f6a0"},{n:["aerial tramway","aerial_tramway"],u:"1f6a1"},{n:["satellite"],u:"1f6f0-fe0f"},{n:["rocket"],u:"1f680"},{n:["flying saucer","flying_saucer"],u:"1f6f8"},{n:["bellhop_bell"],u:"1f6ce-fe0f"},{n:["door"],u:"1f6aa"},{n:["bed"],u:"1f6cf-fe0f"},{n:["couch_and_lamp"],u:"1f6cb-fe0f"},{n:["toilet"],u:"1f6bd"},{n:["shower"],u:"1f6bf"},{n:["bathtub"],u:"1f6c1"},{n:["hourglass"],u:"231b"},{n:["hourglass with flowing sand","hourglass_flowing_sand"],u:"23f3"},{n:["watch"],u:"231a"},{n:["alarm clock","alarm_clock"],u:"23f0"},{n:["stopwatch"],u:"23f1-fe0f"},{n:["timer_clock"],u:"23f2-fe0f"},{n:["mantelpiece_clock"],u:"1f570-fe0f"},{n:["clock face twelve oclock","clock12"],u:"1f55b"},{n:["clock face twelve-thirty","clock1230"],u:"1f567"},{n:["clock face one oclock","clock1"],u:"1f550"},{n:["clock face one-thirty","clock130"],u:"1f55c"},{n:["clock face two oclock","clock2"],u:"1f551"},{n:["clock face two-thirty","clock230"],u:"1f55d"},{n:["clock face three oclock","clock3"],u:"1f552"},{n:["clock face three-thirty","clock330"],u:"1f55e"},{n:["clock face four oclock","clock4"],u:"1f553"},{n:["clock face four-thirty","clock430"],u:"1f55f"},{n:["clock face five oclock","clock5"],u:"1f554"},{n:["clock face five-thirty","clock530"],u:"1f560"},{n:["clock face six oclock","clock6"],u:"1f555"},{n:["clock face six-thirty","clock630"],u:"1f561"},{n:["clock face seven oclock","clock7"],u:"1f556"},{n:["clock face seven-thirty","clock730"],u:"1f562"},{n:["clock face eight oclock","clock8"],u:"1f557"},{n:["clock face eight-thirty","clock830"],u:"1f563"},{n:["clock face nine oclock","clock9"],u:"1f558"},{n:["clock face nine-thirty","clock930"],u:"1f564"},{n:["clock face ten oclock","clock10"],u:"1f559"},{n:["clock face ten-thirty","clock1030"],u:"1f565"},{n:["clock face eleven oclock","clock11"],u:"1f55a"},{n:["clock face eleven-thirty","clock1130"],u:"1f566"},{n:["new moon symbol","new_moon"],u:"1f311"},{n:["waxing crescent moon symbol","waxing_crescent_moon"],u:"1f312"},{n:["first quarter moon symbol","first_quarter_moon"],u:"1f313"},{n:["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],u:"1f314"},{n:["full moon symbol","full_moon"],u:"1f315"},{n:["waning gibbous moon symbol","waning_gibbous_moon"],u:"1f316"},{n:["last quarter moon symbol","last_quarter_moon"],u:"1f317"},{n:["waning crescent moon symbol","waning_crescent_moon"],u:"1f318"},{n:["crescent moon","crescent_moon"],u:"1f319"},{n:["new moon with face","new_moon_with_face"],u:"1f31a"},{n:["first quarter moon with face","first_quarter_moon_with_face"],u:"1f31b"},{n:["last quarter moon with face","last_quarter_moon_with_face"],u:"1f31c"},{n:["thermometer"],u:"1f321-fe0f"},{n:["black sun with rays","sunny"],u:"2600-fe0f"},{n:["full moon with face","full_moon_with_face"],u:"1f31d"},{n:["sun with face","sun_with_face"],u:"1f31e"},{n:["white medium star","star"],u:"2b50"},{n:["glowing star","star2"],u:"1f31f"},{n:["shooting star","stars"],u:"1f320"},{n:["cloud"],u:"2601-fe0f"},{n:["sun behind cloud","partly_sunny"],u:"26c5"},{n:["thunder_cloud_and_rain"],u:"26c8-fe0f"},{n:["mostly_sunny","sun_small_cloud"],u:"1f324-fe0f"},{n:["barely_sunny","sun_behind_cloud"],u:"1f325-fe0f"},{n:["partly_sunny_rain","sun_behind_rain_cloud"],u:"1f326-fe0f"},{n:["rain_cloud"],u:"1f327-fe0f"},{n:["snow_cloud"],u:"1f328-fe0f"},{n:["lightning","lightning_cloud"],u:"1f329-fe0f"},{n:["tornado","tornado_cloud"],u:"1f32a-fe0f"},{n:["fog"],u:"1f32b-fe0f"},{n:["wind_blowing_face"],u:"1f32c-fe0f"},{n:["cyclone"],u:"1f300"},{n:["rainbow"],u:"1f308"},{n:["closed umbrella","closed_umbrella"],u:"1f302"},{n:["umbrella"],u:"2602-fe0f"},{n:["umbrella with rain drops","umbrella_with_rain_drops"],u:"2614"},{n:["umbrella_on_ground"],u:"26f1-fe0f"},{n:["high voltage sign","zap"],u:"26a1"},{n:["snowflake"],u:"2744-fe0f"},{n:["snowman"],u:"2603-fe0f"},{n:["snowman without snow","snowman_without_snow"],u:"26c4"},{n:["comet"],u:"2604-fe0f"},{n:["fire"],u:"1f525"},{n:["droplet"],u:"1f4a7"},{n:["water wave","ocean"],u:"1f30a"}],objects:[{n:["speaker with cancellation stroke","mute"],u:"1f507"},{n:["speaker"],u:"1f508"},{n:["speaker with one sound wave","sound"],u:"1f509"},{n:["speaker with three sound waves","loud_sound"],u:"1f50a"},{n:["public address loudspeaker","loudspeaker"],u:"1f4e2"},{n:["cheering megaphone","mega"],u:"1f4e3"},{n:["postal horn","postal_horn"],u:"1f4ef"},{n:["bell"],u:"1f514"},{n:["bell with cancellation stroke","no_bell"],u:"1f515"},{n:["musical score","musical_score"],u:"1f3bc"},{n:["musical note","musical_note"],u:"1f3b5"},{n:["multiple musical notes","notes"],u:"1f3b6"},{n:["studio_microphone"],u:"1f399-fe0f"},{n:["level_slider"],u:"1f39a-fe0f"},{n:["control_knobs"],u:"1f39b-fe0f"},{n:["microphone"],u:"1f3a4"},{n:["headphone","headphones"],u:"1f3a7"},{n:["radio"],u:"1f4fb"},{n:["saxophone"],u:"1f3b7"},{n:["guitar"],u:"1f3b8"},{n:["musical keyboard","musical_keyboard"],u:"1f3b9"},{n:["trumpet"],u:"1f3ba"},{n:["violin"],u:"1f3bb"},{n:["drum with drumsticks","drum_with_drumsticks"],u:"1f941"},{n:["mobile phone","iphone"],u:"1f4f1"},{n:["mobile phone with rightwards arrow at left","calling"],u:"1f4f2"},{n:["black telephone","phone","telephone"],u:"260e-fe0f"},{n:["telephone receiver","telephone_receiver"],u:"1f4de"},{n:["pager"],u:"1f4df"},{n:["fax machine","fax"],u:"1f4e0"},{n:["battery"],u:"1f50b"},{n:["electric plug","electric_plug"],u:"1f50c"},{n:["personal computer","computer"],u:"1f4bb"},{n:["desktop_computer"],u:"1f5a5-fe0f"},{n:["printer"],u:"1f5a8-fe0f"},{n:["keyboard"],u:"2328-fe0f"},{n:["three_button_mouse"],u:"1f5b1-fe0f"},{n:["trackball"],u:"1f5b2-fe0f"},{n:["minidisc"],u:"1f4bd"},{n:["floppy disk","floppy_disk"],u:"1f4be"},{n:["optical disc","cd"],u:"1f4bf"},{n:["dvd"],u:"1f4c0"},{n:["movie camera","movie_camera"],u:"1f3a5"},{n:["film_frames"],u:"1f39e-fe0f"},{n:["film_projector"],u:"1f4fd-fe0f"},{n:["clapper board","clapper"],u:"1f3ac"},{n:["television","tv"],u:"1f4fa"},{n:["camera"],u:"1f4f7"},{n:["camera with flash","camera_with_flash"],u:"1f4f8"},{n:["video camera","video_camera"],u:"1f4f9"},{n:["videocassette","vhs"],u:"1f4fc"},{n:["left-pointing magnifying glass","mag"],u:"1f50d"},{n:["right-pointing magnifying glass","mag_right"],u:"1f50e"},{n:["microscope"],u:"1f52c"},{n:["telescope"],u:"1f52d"},{n:["satellite antenna","satellite_antenna"],u:"1f4e1"},{n:["candle"],u:"1f56f-fe0f"},{n:["electric light bulb","bulb"],u:"1f4a1"},{n:["electric torch","flashlight"],u:"1f526"},{n:["izakaya lantern","izakaya_lantern","lantern"],u:"1f3ee"},{n:["notebook with decorative cover","notebook_with_decorative_cover"],u:"1f4d4"},{n:["closed book","closed_book"],u:"1f4d5"},{n:["open book","book","open_book"],u:"1f4d6"},{n:["green book","green_book"],u:"1f4d7"},{n:["blue book","blue_book"],u:"1f4d8"},{n:["orange book","orange_book"],u:"1f4d9"},{n:["books"],u:"1f4da"},{n:["notebook"],u:"1f4d3"},{n:["ledger"],u:"1f4d2"},{n:["page with curl","page_with_curl"],u:"1f4c3"},{n:["scroll"],u:"1f4dc"},{n:["page facing up","page_facing_up"],u:"1f4c4"},{n:["newspaper"],u:"1f4f0"},{n:["rolled_up_newspaper"],u:"1f5de-fe0f"},{n:["bookmark tabs","bookmark_tabs"],u:"1f4d1"},{n:["bookmark"],u:"1f516"},{n:["label"],u:"1f3f7-fe0f"},{n:["money bag","moneybag"],u:"1f4b0"},{n:["banknote with yen sign","yen"],u:"1f4b4"},{n:["banknote with dollar sign","dollar"],u:"1f4b5"},{n:["banknote with euro sign","euro"],u:"1f4b6"},{n:["banknote with pound sign","pound"],u:"1f4b7"},{n:["money with wings","money_with_wings"],u:"1f4b8"},{n:["credit card","credit_card"],u:"1f4b3"},{n:["chart with upwards trend and yen sign","chart"],u:"1f4b9"},{n:["currency exchange","currency_exchange"],u:"1f4b1"},{n:["heavy dollar sign","heavy_dollar_sign"],u:"1f4b2"},{n:["envelope","email"],u:"2709-fe0f"},{n:["e-mail symbol","e-mail"],u:"1f4e7"},{n:["incoming envelope","incoming_envelope"],u:"1f4e8"},{n:["envelope with downwards arrow above","envelope_with_arrow"],u:"1f4e9"},{n:["outbox tray","outbox_tray"],u:"1f4e4"},{n:["inbox tray","inbox_tray"],u:"1f4e5"},{n:["package"],u:"1f4e6"},{n:["closed mailbox with raised flag","mailbox"],u:"1f4eb"},{n:["closed mailbox with lowered flag","mailbox_closed"],u:"1f4ea"},{n:["open mailbox with raised flag","mailbox_with_mail"],u:"1f4ec"},{n:["open mailbox with lowered flag","mailbox_with_no_mail"],u:"1f4ed"},{n:["postbox"],u:"1f4ee"},{n:["ballot_box_with_ballot"],u:"1f5f3-fe0f"},{n:["pencil","pencil2"],u:"270f-fe0f"},{n:["black nib","black_nib"],u:"2712-fe0f"},{n:["lower_left_fountain_pen"],u:"1f58b-fe0f"},{n:["lower_left_ballpoint_pen"],u:"1f58a-fe0f"},{n:["lower_left_paintbrush"],u:"1f58c-fe0f"},{n:["lower_left_crayon"],u:"1f58d-fe0f"},{n:["memo","pencil"],u:"1f4dd"},{n:["briefcase"],u:"1f4bc"},{n:["file folder","file_folder"],u:"1f4c1"},{n:["open file folder","open_file_folder"],u:"1f4c2"},{n:["card_index_dividers"],u:"1f5c2-fe0f"},{n:["calendar","date"],u:"1f4c5"},{n:["tear-off calendar","calendar"],u:"1f4c6"},{n:["spiral_note_pad"],u:"1f5d2-fe0f"},{n:["spiral_calendar_pad"],u:"1f5d3-fe0f"},{n:["card index","card_index"],u:"1f4c7"},{n:["chart with upwards trend","chart_with_upwards_trend"],u:"1f4c8"},{n:["chart with downwards trend","chart_with_downwards_trend"],u:"1f4c9"},{n:["bar chart","bar_chart"],u:"1f4ca"},{n:["clipboard"],u:"1f4cb"},{n:["pushpin"],u:"1f4cc"},{n:["round pushpin","round_pushpin"],u:"1f4cd"},{n:["paperclip"],u:"1f4ce"},{n:["linked_paperclips"],u:"1f587-fe0f"},{n:["straight ruler","straight_ruler"],u:"1f4cf"},{n:["triangular ruler","triangular_ruler"],u:"1f4d0"},{n:["black scissors","scissors"],u:"2702-fe0f"},{n:["card_file_box"],u:"1f5c3-fe0f"},{n:["file_cabinet"],u:"1f5c4-fe0f"},{n:["wastebasket"],u:"1f5d1-fe0f"},{n:["lock"],u:"1f512"},{n:["open lock","unlock"],u:"1f513"},{n:["lock with ink pen","lock_with_ink_pen"],u:"1f50f"},{n:["closed lock with key","closed_lock_with_key"],u:"1f510"},{n:["key"],u:"1f511"},{n:["old_key"],u:"1f5dd-fe0f"},{n:["hammer"],u:"1f528"},{n:["pick"],u:"26cf-fe0f"},{n:["hammer_and_pick"],u:"2692-fe0f"},{n:["hammer_and_wrench"],u:"1f6e0-fe0f"},{n:["dagger_knife"],u:"1f5e1-fe0f"},{n:["crossed_swords"],u:"2694-fe0f"},{n:["pistol","gun"],u:"1f52b"},{n:["bow and arrow","bow_and_arrow"],u:"1f3f9"},{n:["shield"],u:"1f6e1-fe0f"},{n:["wrench"],u:"1f527"},{n:["nut and bolt","nut_and_bolt"],u:"1f529"},{n:["gear"],u:"2699-fe0f"},{n:["compression"],u:"1f5dc-fe0f"},{n:["alembic"],u:"2697-fe0f"},{n:["scales"],u:"2696-fe0f"},{n:["link symbol","link"],u:"1f517"},{n:["chains"],u:"26d3-fe0f"},{n:["syringe"],u:"1f489"},{n:["pill"],u:"1f48a"},{n:["smoking symbol","smoking"],u:"1f6ac"},{n:["coffin"],u:"26b0-fe0f"},{n:["funeral_urn"],u:"26b1-fe0f"},{n:["moyai"],u:"1f5ff"},{n:["oil_drum"],u:"1f6e2-fe0f"},{n:["crystal ball","crystal_ball"],u:"1f52e"},{n:["shopping trolley","shopping_trolley"],u:"1f6d2"}],symbols:[{n:["automated teller machine","atm"],u:"1f3e7"},{n:["put litter in its place symbol","put_litter_in_its_place"],u:"1f6ae"},{n:["potable water symbol","potable_water"],u:"1f6b0"},{n:["wheelchair symbol","wheelchair"],u:"267f"},{n:["mens symbol","mens"],u:"1f6b9"},{n:["womens symbol","womens"],u:"1f6ba"},{n:["restroom"],u:"1f6bb"},{n:["baby symbol","baby_symbol"],u:"1f6bc"},{n:["water closet","wc"],u:"1f6be"},{n:["passport control","passport_control"],u:"1f6c2"},{n:["customs"],u:"1f6c3"},{n:["baggage claim","baggage_claim"],u:"1f6c4"},{n:["left luggage","left_luggage"],u:"1f6c5"},{n:["warning sign","warning"],u:"26a0-fe0f"},{n:["children crossing","children_crossing"],u:"1f6b8"},{n:["no entry","no_entry"],u:"26d4"},{n:["no entry sign","no_entry_sign"],u:"1f6ab"},{n:["no bicycles","no_bicycles"],u:"1f6b3"},{n:["no smoking symbol","no_smoking"],u:"1f6ad"},{n:["do not litter symbol","do_not_litter"],u:"1f6af"},{n:["non-potable water symbol","non-potable_water"],u:"1f6b1"},{n:["no pedestrians","no_pedestrians"],u:"1f6b7"},{n:["no mobile phones","no_mobile_phones"],u:"1f4f5"},{n:["no one under eighteen symbol","underage"],u:"1f51e"},{n:["radioactive_sign"],u:"2622-fe0f"},{n:["biohazard_sign"],u:"2623-fe0f"},{n:["upwards black arrow","arrow_up"],u:"2b06-fe0f"},{n:["north east arrow","arrow_upper_right"],u:"2197-fe0f"},{n:["black rightwards arrow","arrow_right"],u:"27a1-fe0f"},{n:["south east arrow","arrow_lower_right"],u:"2198-fe0f"},{n:["downwards black arrow","arrow_down"],u:"2b07-fe0f"},{n:["south west arrow","arrow_lower_left"],u:"2199-fe0f"},{n:["leftwards black arrow","arrow_left"],u:"2b05-fe0f"},{n:["north west arrow","arrow_upper_left"],u:"2196-fe0f"},{n:["up down arrow","arrow_up_down"],u:"2195-fe0f"},{n:["left right arrow","left_right_arrow"],u:"2194-fe0f"},{n:["leftwards arrow with hook","leftwards_arrow_with_hook"],u:"21a9-fe0f"},{n:["rightwards arrow with hook","arrow_right_hook"],u:"21aa-fe0f"},{n:["arrow pointing rightwards then curving upwards","arrow_heading_up"],u:"2934-fe0f"},{n:["arrow pointing rightwards then curving downwards","arrow_heading_down"],u:"2935-fe0f"},{n:["clockwise downwards and upwards open circle arrows","arrows_clockwise"],u:"1f503"},{n:["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],u:"1f504"},{n:["back with leftwards arrow above","back"],u:"1f519"},{n:["end with leftwards arrow above","end"],u:"1f51a"},{n:["on with exclamation mark with left right arrow above","on"],u:"1f51b"},{n:["soon with rightwards arrow above","soon"],u:"1f51c"},{n:["top with upwards arrow above","top"],u:"1f51d"},{n:["place of worship","place_of_worship"],u:"1f6d0"},{n:["atom_symbol"],u:"269b-fe0f"},{n:["om_symbol"],u:"1f549-fe0f"},{n:["star_of_david"],u:"2721-fe0f"},{n:["wheel_of_dharma"],u:"2638-fe0f"},{n:["yin_yang"],u:"262f-fe0f"},{n:["latin_cross"],u:"271d-fe0f"},{n:["orthodox_cross"],u:"2626-fe0f"},{n:["star_and_crescent"],u:"262a-fe0f"},{n:["peace_symbol"],u:"262e-fe0f"},{n:["menorah with nine branches","menorah_with_nine_branches"],u:"1f54e"},{n:["six pointed star with middle dot","six_pointed_star"],u:"1f52f"},{n:["aries"],u:"2648"},{n:["taurus"],u:"2649"},{n:["gemini"],u:"264a"},{n:["cancer"],u:"264b"},{n:["leo"],u:"264c"},{n:["virgo"],u:"264d"},{n:["libra"],u:"264e"},{n:["scorpius"],u:"264f"},{n:["sagittarius"],u:"2650"},{n:["capricorn"],u:"2651"},{n:["aquarius"],u:"2652"},{n:["pisces"],u:"2653"},{n:["ophiuchus"],u:"26ce"},{n:["twisted rightwards arrows","twisted_rightwards_arrows"],u:"1f500"},{n:["clockwise rightwards and leftwards open circle arrows","repeat"],u:"1f501"},{n:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],u:"1f502"},{n:["black right-pointing triangle","arrow_forward"],u:"25b6-fe0f"},{n:["black right-pointing double triangle","fast_forward"],u:"23e9"},{n:["black_right_pointing_double_triangle_with_vertical_bar"],u:"23ed-fe0f"},{n:["black_right_pointing_triangle_with_double_vertical_bar"],u:"23ef-fe0f"},{n:["black left-pointing triangle","arrow_backward"],u:"25c0-fe0f"},{n:["black left-pointing double triangle","rewind"],u:"23ea"},{n:["black_left_pointing_double_triangle_with_vertical_bar"],u:"23ee-fe0f"},{n:["up-pointing small red triangle","arrow_up_small"],u:"1f53c"},{n:["black up-pointing double triangle","arrow_double_up"],u:"23eb"},{n:["down-pointing small red triangle","arrow_down_small"],u:"1f53d"},{n:["black down-pointing double triangle","arrow_double_down"],u:"23ec"},{n:["double_vertical_bar"],u:"23f8-fe0f"},{n:["black_square_for_stop"],u:"23f9-fe0f"},{n:["black_circle_for_record"],u:"23fa-fe0f"},{n:["eject"],u:"23cf-fe0f"},{n:["cinema"],u:"1f3a6"},{n:["low brightness symbol","low_brightness"],u:"1f505"},{n:["high brightness symbol","high_brightness"],u:"1f506"},{n:["antenna with bars","signal_strength"],u:"1f4f6"},{n:["vibration mode","vibration_mode"],u:"1f4f3"},{n:["mobile phone off","mobile_phone_off"],u:"1f4f4"},{n:["female_sign"],u:"2640-fe0f"},{n:["male_sign"],u:"2642-fe0f"},{n:["medical_symbol","staff_of_aesculapius"],u:"2695-fe0f"},{n:["black universal recycling symbol","recycle"],u:"267b-fe0f"},{n:["fleur_de_lis"],u:"269c-fe0f"},{n:["trident emblem","trident"],u:"1f531"},{n:["name badge","name_badge"],u:"1f4db"},{n:["japanese symbol for beginner","beginner"],u:"1f530"},{n:["heavy large circle","o"],u:"2b55"},{n:["white heavy check mark","white_check_mark"],u:"2705"},{n:["ballot box with check","ballot_box_with_check"],u:"2611-fe0f"},{n:["heavy check mark","heavy_check_mark"],u:"2714-fe0f"},{n:["heavy multiplication x","heavy_multiplication_x"],u:"2716-fe0f"},{n:["cross mark","x"],u:"274c"},{n:["negative squared cross mark","negative_squared_cross_mark"],u:"274e"},{n:["heavy plus sign","heavy_plus_sign"],u:"2795"},{n:["heavy minus sign","heavy_minus_sign"],u:"2796"},{n:["heavy division sign","heavy_division_sign"],u:"2797"},{n:["curly loop","curly_loop"],u:"27b0"},{n:["double curly loop","loop"],u:"27bf"},{n:["part alternation mark","part_alternation_mark"],u:"303d-fe0f"},{n:["eight spoked asterisk","eight_spoked_asterisk"],u:"2733-fe0f"},{n:["eight pointed black star","eight_pointed_black_star"],u:"2734-fe0f"},{n:["sparkle"],u:"2747-fe0f"},{n:["double exclamation mark","bangbang"],u:"203c-fe0f"},{n:["exclamation question mark","interrobang"],u:"2049-fe0f"},{n:["black question mark ornament","question"],u:"2753"},{n:["white question mark ornament","grey_question"],u:"2754"},{n:["white exclamation mark ornament","grey_exclamation"],u:"2755"},{n:["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],u:"2757"},{n:["wavy dash","wavy_dash"],u:"3030-fe0f"},{n:["copyright sign","copyright"],u:"00a9-fe0f"},{n:["registered sign","registered"],u:"00ae-fe0f"},{n:["trade mark sign","tm"],u:"2122-fe0f"},{n:["hash key","hash"],u:"0023-fe0f-20e3"},{n:["keycap_star"],u:"002a-fe0f-20e3"},{n:["keycap 0","zero"],u:"0030-fe0f-20e3"},{n:["keycap 1","one"],u:"0031-fe0f-20e3"},{n:["keycap 2","two"],u:"0032-fe0f-20e3"},{n:["keycap 3","three"],u:"0033-fe0f-20e3"},{n:["keycap 4","four"],u:"0034-fe0f-20e3"},{n:["keycap 5","five"],u:"0035-fe0f-20e3"},{n:["keycap 6","six"],u:"0036-fe0f-20e3"},{n:["keycap 7","seven"],u:"0037-fe0f-20e3"},{n:["keycap 8","eight"],u:"0038-fe0f-20e3"},{n:["keycap 9","nine"],u:"0039-fe0f-20e3"},{n:["keycap ten","keycap_ten"],u:"1f51f"},{n:["hundred points symbol","100"],u:"1f4af"},{n:["input symbol for latin capital letters","capital_abcd"],u:"1f520"},{n:["input symbol for latin small letters","abcd"],u:"1f521"},{n:["input symbol for numbers","1234"],u:"1f522"},{n:["input symbol for symbols","symbols"],u:"1f523"},{n:["input symbol for latin letters","abc"],u:"1f524"},{n:["negative squared latin capital letter a","a"],u:"1f170-fe0f"},{n:["negative squared ab","ab"],u:"1f18e"},{n:["negative squared latin capital letter b","b"],u:"1f171-fe0f"},{n:["squared cl","cl"],u:"1f191"},{n:["squared cool","cool"],u:"1f192"},{n:["squared free","free"],u:"1f193"},{n:["information source","information_source"],u:"2139-fe0f"},{n:["squared id","id"],u:"1f194"},{n:["circled latin capital letter m","m"],u:"24c2-fe0f"},{n:["squared new","new"],u:"1f195"},{n:["squared ng","ng"],u:"1f196"},{n:["negative squared latin capital letter o","o2"],u:"1f17e-fe0f"},{n:["squared ok","ok"],u:"1f197"},{n:["negative squared latin capital letter p","parking"],u:"1f17f-fe0f"},{n:["squared sos","sos"],u:"1f198"},{n:["squared up with exclamation mark","up"],u:"1f199"},{n:["squared vs","vs"],u:"1f19a"},{n:["squared katakana koko","koko"],u:"1f201"},{n:["squared katakana sa","sa"],u:"1f202-fe0f"},{n:["squared cjk unified ideograph-6708","u6708"],u:"1f237-fe0f"},{n:["squared cjk unified ideograph-6709","u6709"],u:"1f236"},{n:["squared cjk unified ideograph-6307","u6307"],u:"1f22f"},{n:["circled ideograph advantage","ideograph_advantage"],u:"1f250"},{n:["squared cjk unified ideograph-5272","u5272"],u:"1f239"},{n:["squared cjk unified ideograph-7121","u7121"],u:"1f21a"},{n:["squared cjk unified ideograph-7981","u7981"],u:"1f232"},{n:["circled ideograph accept","accept"],u:"1f251"},{n:["squared cjk unified ideograph-7533","u7533"],u:"1f238"},{n:["squared cjk unified ideograph-5408","u5408"],u:"1f234"},{n:["squared cjk unified ideograph-7a7a","u7a7a"],u:"1f233"},{n:["circled ideograph congratulation","congratulations"],u:"3297-fe0f"},{n:["circled ideograph secret","secret"],u:"3299-fe0f"},{n:["squared cjk unified ideograph-55b6","u55b6"],u:"1f23a"},{n:["squared cjk unified ideograph-6e80","u6e80"],u:"1f235"},{n:["black small square","black_small_square"],u:"25aa-fe0f"},{n:["white small square","white_small_square"],u:"25ab-fe0f"},{n:["white medium square","white_medium_square"],u:"25fb-fe0f"},{n:["black medium square","black_medium_square"],u:"25fc-fe0f"},{n:["white medium small square","white_medium_small_square"],u:"25fd"},{n:["black medium small square","black_medium_small_square"],u:"25fe"},{n:["black large square","black_large_square"],u:"2b1b"},{n:["white large square","white_large_square"],u:"2b1c"},{n:["large orange diamond","large_orange_diamond"],u:"1f536"},{n:["large blue diamond","large_blue_diamond"],u:"1f537"},{n:["small orange diamond","small_orange_diamond"],u:"1f538"},{n:["small blue diamond","small_blue_diamond"],u:"1f539"},{n:["up-pointing red triangle","small_red_triangle"],u:"1f53a"},{n:["down-pointing red triangle","small_red_triangle_down"],u:"1f53b"},{n:["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],u:"1f4a0"},{n:["radio button","radio_button"],u:"1f518"},{n:["black square button","black_square_button"],u:"1f532"},{n:["white square button","white_square_button"],u:"1f533"},{n:["medium white circle","white_circle"],u:"26aa"},{n:["medium black circle","black_circle"],u:"26ab"},{n:["large red circle","red_circle"],u:"1f534"},{n:["large blue circle","large_blue_circle"],u:"1f535"}],flags:[{n:["chequered flag","checkered_flag"],u:"1f3c1"},{n:["triangular flag on post","triangular_flag_on_post"],u:"1f6a9"},{n:["crossed flags","crossed_flags"],u:"1f38c"},{n:["waving black flag","waving_black_flag"],u:"1f3f4"},{n:["waving_white_flag"],u:"1f3f3-fe0f"},{n:["rainbow-flag"],u:"1f3f3-fe0f-200d-1f308"},{n:["ascension island flag","flag-ac"],u:"1f1e6-1f1e8"},{n:["andorra flag","flag-ad"],u:"1f1e6-1f1e9"},{n:["united arab emirates flag","flag-ae"],u:"1f1e6-1f1ea"},{n:["afghanistan flag","flag-af"],u:"1f1e6-1f1eb"},{n:["antigua & barbuda flag","flag-ag"],u:"1f1e6-1f1ec"},{n:["anguilla flag","flag-ai"],u:"1f1e6-1f1ee"},{n:["albania flag","flag-al"],u:"1f1e6-1f1f1"},{n:["armenia flag","flag-am"],u:"1f1e6-1f1f2"},{n:["angola flag","flag-ao"],u:"1f1e6-1f1f4"},{n:["antarctica flag","flag-aq"],u:"1f1e6-1f1f6"},{n:["argentina flag","flag-ar"],u:"1f1e6-1f1f7"},{n:["american samoa flag","flag-as"],u:"1f1e6-1f1f8"},{n:["austria flag","flag-at"],u:"1f1e6-1f1f9"},{n:["australia flag","flag-au"],u:"1f1e6-1f1fa"},{n:["aruba flag","flag-aw"],u:"1f1e6-1f1fc"},{n:["land islands flag","flag-ax"],u:"1f1e6-1f1fd"},{n:["azerbaijan flag","flag-az"],u:"1f1e6-1f1ff"},{n:["bosnia & herzegovina flag","flag-ba"],u:"1f1e7-1f1e6"},{n:["barbados flag","flag-bb"],u:"1f1e7-1f1e7"},{n:["bangladesh flag","flag-bd"],u:"1f1e7-1f1e9"},{n:["belgium flag","flag-be"],u:"1f1e7-1f1ea"},{n:["burkina faso flag","flag-bf"],u:"1f1e7-1f1eb"},{n:["bulgaria flag","flag-bg"],u:"1f1e7-1f1ec"},{n:["bahrain flag","flag-bh"],u:"1f1e7-1f1ed"},{n:["burundi flag","flag-bi"],u:"1f1e7-1f1ee"},{n:["benin flag","flag-bj"],u:"1f1e7-1f1ef"},{n:["st. barthlemy flag","flag-bl"],u:"1f1e7-1f1f1"},{n:["bermuda flag","flag-bm"],u:"1f1e7-1f1f2"},{n:["brunei flag","flag-bn"],u:"1f1e7-1f1f3"},{n:["bolivia flag","flag-bo"],u:"1f1e7-1f1f4"},{n:["caribbean netherlands flag","flag-bq"],u:"1f1e7-1f1f6"},{n:["brazil flag","flag-br"],u:"1f1e7-1f1f7"},{n:["bahamas flag","flag-bs"],u:"1f1e7-1f1f8"},{n:["bhutan flag","flag-bt"],u:"1f1e7-1f1f9"},{n:["bouvet island flag","flag-bv"],u:"1f1e7-1f1fb"},{n:["botswana flag","flag-bw"],u:"1f1e7-1f1fc"},{n:["belarus flag","flag-by"],u:"1f1e7-1f1fe"},{n:["belize flag","flag-bz"],u:"1f1e7-1f1ff"},{n:["canada flag","flag-ca"],u:"1f1e8-1f1e6"},{n:["cocos (keeling) islands flag","flag-cc"],u:"1f1e8-1f1e8"},{n:["congo - kinshasa flag","flag-cd"],u:"1f1e8-1f1e9"},{n:["central african republic flag","flag-cf"],u:"1f1e8-1f1eb"},{n:["congo - brazzaville flag","flag-cg"],u:"1f1e8-1f1ec"},{n:["switzerland flag","flag-ch"],u:"1f1e8-1f1ed"},{n:["cte divoire flag","flag-ci"],u:"1f1e8-1f1ee"},{n:["cook islands flag","flag-ck"],u:"1f1e8-1f1f0"},{n:["chile flag","flag-cl"],u:"1f1e8-1f1f1"},{n:["cameroon flag","flag-cm"],u:"1f1e8-1f1f2"},{n:["china flag","cn","flag-cn"],u:"1f1e8-1f1f3"},{n:["colombia flag","flag-co"],u:"1f1e8-1f1f4"},{n:["clipperton island flag","flag-cp"],u:"1f1e8-1f1f5"},{n:["costa rica flag","flag-cr"],u:"1f1e8-1f1f7"},{n:["cuba flag","flag-cu"],u:"1f1e8-1f1fa"},{n:["cape verde flag","flag-cv"],u:"1f1e8-1f1fb"},{n:["curaao flag","flag-cw"],u:"1f1e8-1f1fc"},{n:["christmas island flag","flag-cx"],u:"1f1e8-1f1fd"},{n:["cyprus flag","flag-cy"],u:"1f1e8-1f1fe"},{n:["czechia flag","flag-cz"],u:"1f1e8-1f1ff"},{n:["germany flag","de","flag-de"],u:"1f1e9-1f1ea"},{n:["diego garcia flag","flag-dg"],u:"1f1e9-1f1ec"},{n:["djibouti flag","flag-dj"],u:"1f1e9-1f1ef"},{n:["denmark flag","flag-dk"],u:"1f1e9-1f1f0"},{n:["dominica flag","flag-dm"],u:"1f1e9-1f1f2"},{n:["dominican republic flag","flag-do"],u:"1f1e9-1f1f4"},{n:["algeria flag","flag-dz"],u:"1f1e9-1f1ff"},{n:["ceuta & melilla flag","flag-ea"],u:"1f1ea-1f1e6"},{n:["ecuador flag","flag-ec"],u:"1f1ea-1f1e8"},{n:["estonia flag","flag-ee"],u:"1f1ea-1f1ea"},{n:["egypt flag","flag-eg"],u:"1f1ea-1f1ec"},{n:["western sahara flag","flag-eh"],u:"1f1ea-1f1ed"},{n:["eritrea flag","flag-er"],u:"1f1ea-1f1f7"},{n:["spain flag","es","flag-es"],u:"1f1ea-1f1f8"},{n:["ethiopia flag","flag-et"],u:"1f1ea-1f1f9"},{n:["european union flag","flag-eu"],u:"1f1ea-1f1fa"},{n:["finland flag","flag-fi"],u:"1f1eb-1f1ee"},{n:["fiji flag","flag-fj"],u:"1f1eb-1f1ef"},{n:["falkland islands flag","flag-fk"],u:"1f1eb-1f1f0"},{n:["micronesia flag","flag-fm"],u:"1f1eb-1f1f2"},{n:["faroe islands flag","flag-fo"],u:"1f1eb-1f1f4"},{n:["france flag","fr","flag-fr"],u:"1f1eb-1f1f7"},{n:["gabon flag","flag-ga"],u:"1f1ec-1f1e6"},{n:["united kingdom flag","gb","uk","flag-gb"],u:"1f1ec-1f1e7"},{n:["grenada flag","flag-gd"],u:"1f1ec-1f1e9"},{n:["georgia flag","flag-ge"],u:"1f1ec-1f1ea"},{n:["french guiana flag","flag-gf"],u:"1f1ec-1f1eb"},{n:["guernsey flag","flag-gg"],u:"1f1ec-1f1ec"},{n:["ghana flag","flag-gh"],u:"1f1ec-1f1ed"},{n:["gibraltar flag","flag-gi"],u:"1f1ec-1f1ee"},{n:["greenland flag","flag-gl"],u:"1f1ec-1f1f1"},{n:["gambia flag","flag-gm"],u:"1f1ec-1f1f2"},{n:["guinea flag","flag-gn"],u:"1f1ec-1f1f3"},{n:["guadeloupe flag","flag-gp"],u:"1f1ec-1f1f5"},{n:["equatorial guinea flag","flag-gq"],u:"1f1ec-1f1f6"},{n:["greece flag","flag-gr"],u:"1f1ec-1f1f7"},{n:["south georgia & south sandwich islands flag","flag-gs"],u:"1f1ec-1f1f8"},{n:["guatemala flag","flag-gt"],u:"1f1ec-1f1f9"},{n:["guam flag","flag-gu"],u:"1f1ec-1f1fa"},{n:["guinea-bissau flag","flag-gw"],u:"1f1ec-1f1fc"},{n:["guyana flag","flag-gy"],u:"1f1ec-1f1fe"},{n:["hong kong sar china flag","flag-hk"],u:"1f1ed-1f1f0"},{n:["heard & mcdonald islands flag","flag-hm"],u:"1f1ed-1f1f2"},{n:["honduras flag","flag-hn"],u:"1f1ed-1f1f3"},{n:["croatia flag","flag-hr"],u:"1f1ed-1f1f7"},{n:["haiti flag","flag-ht"],u:"1f1ed-1f1f9"},{n:["hungary flag","flag-hu"],u:"1f1ed-1f1fa"},{n:["canary islands flag","flag-ic"],u:"1f1ee-1f1e8"},{n:["indonesia flag","flag-id"],u:"1f1ee-1f1e9"},{n:["ireland flag","flag-ie"],u:"1f1ee-1f1ea"},{n:["israel flag","flag-il"],u:"1f1ee-1f1f1"},{n:["isle of man flag","flag-im"],u:"1f1ee-1f1f2"},{n:["india flag","flag-in"],u:"1f1ee-1f1f3"},{n:["british indian ocean territory flag","flag-io"],u:"1f1ee-1f1f4"},{n:["iraq flag","flag-iq"],u:"1f1ee-1f1f6"},{n:["iran flag","flag-ir"],u:"1f1ee-1f1f7"},{n:["iceland flag","flag-is"],u:"1f1ee-1f1f8"},{n:["italy flag","it","flag-it"],u:"1f1ee-1f1f9"},{n:["jersey flag","flag-je"],u:"1f1ef-1f1ea"},{n:["jamaica flag","flag-jm"],u:"1f1ef-1f1f2"},{n:["jordan flag","flag-jo"],u:"1f1ef-1f1f4"},{n:["japan flag","jp","flag-jp"],u:"1f1ef-1f1f5"},{n:["kenya flag","flag-ke"],u:"1f1f0-1f1ea"},{n:["kyrgyzstan flag","flag-kg"],u:"1f1f0-1f1ec"},{n:["cambodia flag","flag-kh"],u:"1f1f0-1f1ed"},{n:["kiribati flag","flag-ki"],u:"1f1f0-1f1ee"},{n:["comoros flag","flag-km"],u:"1f1f0-1f1f2"},{n:["st. kitts & nevis flag","flag-kn"],u:"1f1f0-1f1f3"},{n:["north korea flag","flag-kp"],u:"1f1f0-1f1f5"},{n:["south korea flag","kr","flag-kr"],u:"1f1f0-1f1f7"},{n:["kuwait flag","flag-kw"],u:"1f1f0-1f1fc"},{n:["cayman islands flag","flag-ky"],u:"1f1f0-1f1fe"},{n:["kazakhstan flag","flag-kz"],u:"1f1f0-1f1ff"},{n:["laos flag","flag-la"],u:"1f1f1-1f1e6"},{n:["lebanon flag","flag-lb"],u:"1f1f1-1f1e7"},{n:["st. lucia flag","flag-lc"],u:"1f1f1-1f1e8"},{n:["liechtenstein flag","flag-li"],u:"1f1f1-1f1ee"},{n:["sri lanka flag","flag-lk"],u:"1f1f1-1f1f0"},{n:["liberia flag","flag-lr"],u:"1f1f1-1f1f7"},{n:["lesotho flag","flag-ls"],u:"1f1f1-1f1f8"},{n:["lithuania flag","flag-lt"],u:"1f1f1-1f1f9"},{n:["luxembourg flag","flag-lu"],u:"1f1f1-1f1fa"},{n:["latvia flag","flag-lv"],u:"1f1f1-1f1fb"},{n:["libya flag","flag-ly"],u:"1f1f1-1f1fe"},{n:["morocco flag","flag-ma"],u:"1f1f2-1f1e6"},{n:["monaco flag","flag-mc"],u:"1f1f2-1f1e8"},{n:["moldova flag","flag-md"],u:"1f1f2-1f1e9"},{n:["montenegro flag","flag-me"],u:"1f1f2-1f1ea"},{n:["st. martin flag","flag-mf"],u:"1f1f2-1f1eb"},{n:["madagascar flag","flag-mg"],u:"1f1f2-1f1ec"},{n:["marshall islands flag","flag-mh"],u:"1f1f2-1f1ed"},{n:["macedonia flag","flag-mk"],u:"1f1f2-1f1f0"},{n:["mali flag","flag-ml"],u:"1f1f2-1f1f1"},{n:["myanmar (burma) flag","flag-mm"],u:"1f1f2-1f1f2"},{n:["mongolia flag","flag-mn"],u:"1f1f2-1f1f3"},{n:["macau sar china flag","flag-mo"],u:"1f1f2-1f1f4"},{n:["northern mariana islands flag","flag-mp"],u:"1f1f2-1f1f5"},{n:["martinique flag","flag-mq"],u:"1f1f2-1f1f6"},{n:["mauritania flag","flag-mr"],u:"1f1f2-1f1f7"},{n:["montserrat flag","flag-ms"],u:"1f1f2-1f1f8"},{n:["malta flag","flag-mt"],u:"1f1f2-1f1f9"},{n:["mauritius flag","flag-mu"],u:"1f1f2-1f1fa"},{n:["maldives flag","flag-mv"],u:"1f1f2-1f1fb"},{n:["malawi flag","flag-mw"],u:"1f1f2-1f1fc"},{n:["mexico flag","flag-mx"],u:"1f1f2-1f1fd"},{n:["malaysia flag","flag-my"],u:"1f1f2-1f1fe"},{n:["mozambique flag","flag-mz"],u:"1f1f2-1f1ff"},{n:["namibia flag","flag-na"],u:"1f1f3-1f1e6"},{n:["new caledonia flag","flag-nc"],u:"1f1f3-1f1e8"},{n:["niger flag","flag-ne"],u:"1f1f3-1f1ea"},{n:["norfolk island flag","flag-nf"],u:"1f1f3-1f1eb"},{n:["nigeria flag","flag-ng"],u:"1f1f3-1f1ec"},{n:["nicaragua flag","flag-ni"],u:"1f1f3-1f1ee"},{n:["netherlands flag","flag-nl"],u:"1f1f3-1f1f1"},{n:["norway flag","flag-no"],u:"1f1f3-1f1f4"},{n:["nepal flag","flag-np"],u:"1f1f3-1f1f5"},{n:["nauru flag","flag-nr"],u:"1f1f3-1f1f7"},{n:["niue flag","flag-nu"],u:"1f1f3-1f1fa"},{n:["new zealand flag","flag-nz"],u:"1f1f3-1f1ff"},{n:["oman flag","flag-om"],u:"1f1f4-1f1f2"},{n:["panama flag","flag-pa"],u:"1f1f5-1f1e6"},{n:["peru flag","flag-pe"],u:"1f1f5-1f1ea"},{n:["french polynesia flag","flag-pf"],u:"1f1f5-1f1eb"},{n:["papua new guinea flag","flag-pg"],u:"1f1f5-1f1ec"},{n:["philippines flag","flag-ph"],u:"1f1f5-1f1ed"},{n:["pakistan flag","flag-pk"],u:"1f1f5-1f1f0"},{n:["poland flag","flag-pl"],u:"1f1f5-1f1f1"},{n:["st. pierre & miquelon flag","flag-pm"],u:"1f1f5-1f1f2"},{n:["pitcairn islands flag","flag-pn"],u:"1f1f5-1f1f3"},{n:["puerto rico flag","flag-pr"],u:"1f1f5-1f1f7"},{n:["palestinian territories flag","flag-ps"],u:"1f1f5-1f1f8"},{n:["portugal flag","flag-pt"],u:"1f1f5-1f1f9"},{n:["palau flag","flag-pw"],u:"1f1f5-1f1fc"},{n:["paraguay flag","flag-py"],u:"1f1f5-1f1fe"},{n:["qatar flag","flag-qa"],u:"1f1f6-1f1e6"},{n:["runion flag","flag-re"],u:"1f1f7-1f1ea"},{n:["romania flag","flag-ro"],u:"1f1f7-1f1f4"},{n:["serbia flag","flag-rs"],u:"1f1f7-1f1f8"},{n:["russia flag","ru","flag-ru"],u:"1f1f7-1f1fa"},{n:["rwanda flag","flag-rw"],u:"1f1f7-1f1fc"},{n:["saudi arabia flag","flag-sa"],u:"1f1f8-1f1e6"},{n:["solomon islands flag","flag-sb"],u:"1f1f8-1f1e7"},{n:["seychelles flag","flag-sc"],u:"1f1f8-1f1e8"},{n:["sudan flag","flag-sd"],u:"1f1f8-1f1e9"},{n:["sweden flag","flag-se"],u:"1f1f8-1f1ea"},{n:["singapore flag","flag-sg"],u:"1f1f8-1f1ec"},{n:["st. helena flag","flag-sh"],u:"1f1f8-1f1ed"},{n:["slovenia flag","flag-si"],u:"1f1f8-1f1ee"},{n:["svalbard & jan mayen flag","flag-sj"],u:"1f1f8-1f1ef"},{n:["slovakia flag","flag-sk"],u:"1f1f8-1f1f0"},{n:["sierra leone flag","flag-sl"],u:"1f1f8-1f1f1"},{n:["san marino flag","flag-sm"],u:"1f1f8-1f1f2"},{n:["senegal flag","flag-sn"],u:"1f1f8-1f1f3"},{n:["somalia flag","flag-so"],u:"1f1f8-1f1f4"},{n:["suriname flag","flag-sr"],u:"1f1f8-1f1f7"},{n:["south sudan flag","flag-ss"],u:"1f1f8-1f1f8"},{n:["so tom & prncipe flag","flag-st"],u:"1f1f8-1f1f9"},{n:["el salvador flag","flag-sv"],u:"1f1f8-1f1fb"},{n:["sint maarten flag","flag-sx"],u:"1f1f8-1f1fd"},{n:["syria flag","flag-sy"],u:"1f1f8-1f1fe"},{n:["swaziland flag","flag-sz"],u:"1f1f8-1f1ff"},{n:["tristan da cunha flag","flag-ta"],u:"1f1f9-1f1e6"},{n:["turks & caicos islands flag","flag-tc"],u:"1f1f9-1f1e8"},{n:["chad flag","flag-td"],u:"1f1f9-1f1e9"},{n:["french southern territories flag","flag-tf"],u:"1f1f9-1f1eb"},{n:["togo flag","flag-tg"],u:"1f1f9-1f1ec"},{n:["thailand flag","flag-th"],u:"1f1f9-1f1ed"},{n:["tajikistan flag","flag-tj"],u:"1f1f9-1f1ef"},{n:["tokelau flag","flag-tk"],u:"1f1f9-1f1f0"},{n:["timor-leste flag","flag-tl"],u:"1f1f9-1f1f1"},{n:["turkmenistan flag","flag-tm"],u:"1f1f9-1f1f2"},{n:["tunisia flag","flag-tn"],u:"1f1f9-1f1f3"},{n:["tonga flag","flag-to"],u:"1f1f9-1f1f4"},{n:["turkey flag","flag-tr"],u:"1f1f9-1f1f7"},{n:["trinidad & tobago flag","flag-tt"],u:"1f1f9-1f1f9"},{n:["tuvalu flag","flag-tv"],u:"1f1f9-1f1fb"},{n:["taiwan flag","flag-tw"],u:"1f1f9-1f1fc"},{n:["tanzania flag","flag-tz"],u:"1f1f9-1f1ff"},{n:["ukraine flag","flag-ua"],u:"1f1fa-1f1e6"},{n:["uganda flag","flag-ug"],u:"1f1fa-1f1ec"},{n:["u.s. outlying islands flag","flag-um"],u:"1f1fa-1f1f2"},{n:["united nations flag","flag-un"],u:"1f1fa-1f1f3"},{n:["united states flag","us","flag-us"],u:"1f1fa-1f1f8"},{n:["uruguay flag","flag-uy"],u:"1f1fa-1f1fe"},{n:["uzbekistan flag","flag-uz"],u:"1f1fa-1f1ff"},{n:["vatican city flag","flag-va"],u:"1f1fb-1f1e6"},{n:["st. vincent & grenadines flag","flag-vc"],u:"1f1fb-1f1e8"},{n:["venezuela flag","flag-ve"],u:"1f1fb-1f1ea"},{n:["british virgin islands flag","flag-vg"],u:"1f1fb-1f1ec"},{n:["u.s. virgin islands flag","flag-vi"],u:"1f1fb-1f1ee"},{n:["vietnam flag","flag-vn"],u:"1f1fb-1f1f3"},{n:["vanuatu flag","flag-vu"],u:"1f1fb-1f1fa"},{n:["wallis & futuna flag","flag-wf"],u:"1f1fc-1f1eb"},{n:["samoa flag","flag-ws"],u:"1f1fc-1f1f8"},{n:["kosovo flag","flag-xk"],u:"1f1fd-1f1f0"},{n:["yemen flag","flag-ye"],u:"1f1fe-1f1ea"},{n:["mayotte flag","flag-yt"],u:"1f1fe-1f1f9"},{n:["south africa flag","flag-za"],u:"1f1ff-1f1e6"},{n:["zambia flag","flag-zm"],u:"1f1ff-1f1f2"},{n:["zimbabwe flag","flag-zw"],u:"1f1ff-1f1fc"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}]},g5=[{key:"recent",title:"Recently Used",u:"1f551"},{key:"smileys_people",title:"Smiles & People",u:"1f600"},{key:"animals_nature",title:"Animals & Nature",u:"1F431"},{key:"food_drink",title:"Food & Drink",u:"2615"},{key:"activities",title:"Activities",u:"26BD"},{key:"travel_places",title:"Travel & Places",u:"1F697"},{key:"objects",title:"Objects",u:"1F4A1"},{key:"symbols",title:"Symbols",u:"1f4af"},{key:"flags",title:"Flags",u:"1f3f3-fe0f"}];const Dae=(t,e)=>e.some(r=>t instanceof r);let b5,y5;function Nae(){return b5||(b5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mae(){return y5||(y5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _5=new WeakMap,F_=new WeakMap,v5=new WeakMap,U_=new WeakMap,$_=new WeakMap;function Oae(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(oo(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&_5.set(r,t)}).catch(()=>{}),$_.set(e,t),e}function Lae(t){if(F_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});F_.set(t,e)}let j_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return F_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v5.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return oo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rae(t){j_=t(j_)}function Bae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(H_(this),e,...r);return v5.set(n,e.sort?e.sort():[e]),oo(n)}:Mae().includes(t)?function(...e){return t.apply(H_(this),e),oo(_5.get(this))}:function(...e){return oo(t.apply(H_(this),e))}}function Pae(t){return typeof t=="function"?Bae(t):(t instanceof IDBTransaction&&Lae(t),Dae(t,Nae())?new Proxy(t,j_):t)}function oo(t){if(t instanceof IDBRequest)return Oae(t);if(U_.has(t))return U_.get(t);const e=Pae(t);return e!==t&&(U_.set(t,e),$_.set(e,t)),e}const H_=t=>$_.get(t);function z_(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=oo(a);return n&&a.addEventListener("upgradeneeded",l=>{n(oo(a.result),l.oldVersion,l.newVersion,oo(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const Fae=["get","getKey","getAll","getAllKeys","count"],Uae=["put","add","delete","clear"],V_=new Map;function T5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(V_.get(e))return V_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Uae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Fae.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(o.shift())),(await Promise.all([d[r](...o),i&&l.done]))[0]};return V_.set(e,s),s}Rae(t=>({...t,get:(e,r,n)=>T5(e,r)||t.get(e,r,n),has:(e,r)=>!!T5(e,r)||t.has(e,r)}));const q_="EMJ",uc="emojis",W_=3;async function $ae(){(await z_(q_,W_,{upgrade(e,r){e.objectStoreNames.contains(uc)||e.createObjectStore(uc,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})).close()}$ae();const jae={native:!1,hideSearch:!0,hideGroupIcons:!1,hideGroupNames:!1,staticTexts:{},disabledGroups:[],groupNames:{},displayRecent:!1,additionalGroups:{},groupOrder:[],groupIcons:{}};async function Hae(){return await(await z_(q_,W_)).transaction(uc,"readonly").objectStore(uc).getAll()}function zae(){const t=u.reactive({search:"",emoji:Cae,activeGroup:"",skinTone:xm,options:jae,additionalGroups:{},recent:[],get emojis(){return{recent:this.recent,...this.options.additionalGroups,...Iae}},get disabled(){let c=Array.isArray(this.options.disabledGroups)?this.options.disabledGroups:[];return this.options.displayRecent||(c=["recent",...c]),c},get groups(){return g5.filter(c=>!this.disabled.includes(c.key))},get orderedGroupKeys(){const c=[...this.options.groupOrder,...Object.keys(this.options.additionalGroups),...g5.map(h=>h.key)];return[...new Set(c)].filter(h=>!this.disabled.includes(h))}});function e(){t.options.displayRecent&&n()}async function r(){var c;let h=await Hae();return Array.isArray(h)&&h.length?h=JSON.parse(((c=h[0])==null?void 0:c.value)||""):h=[],h}function n(){r().then(c=>{t.recent=c,d()})}const i=c=>{t.search=c},s=c=>{t.emoji=c},a=c=>{t.activeGroup=c},o=(c=xm)=>{t.skinTone=c},l=c=>{t.options=Object.assign({},t.options,c),e()};async function d(){(await z_(q_,W_)).transaction(uc,"readwrite").objectStore(uc).put({id:0,value:JSON.stringify(t.recent)})}const f=c=>{if(t.options.displayRecent!==!0)return;const h=t.recent.findIndex(m=>m.u===c.u);if(h>0&&t.recent.splice(h,1),h===0)return;const p={u:c.u,n:u.toRaw(c.n)};t.recent=[p,...t.recent],t.recent.length>24&&(t.recent.length=24),d()};return{state:u.readonly(t),updateSearch:i,updateEmoji:s,updateActiveGroup:a,updateSkinTone:o,updateOptions:l,updateSelect:f}}var si="top",Ui="bottom",$i="right",ai="left",G_="auto",If=[si,Ui,$i,ai],cc="start",Df="end",Vae="clippingParents",E5="viewport",Nf="popper",qae="reference",A5=If.reduce(function(t,e){return t.concat([e+"-"+cc,e+"-"+Df])},[]),x5=[].concat(If,[G_]).reduce(function(t,e){return t.concat([e,e+"-"+cc,e+"-"+Df])},[]),Wae="beforeRead",Gae="read",Yae="afterRead",Qae="beforeMain",Kae="main",Xae="afterMain",Zae="beforeWrite",Jae="write",eoe="afterWrite",toe=[Wae,Gae,Yae,Qae,Kae,Xae,Zae,Jae,eoe];function Vs(t){return t?(t.nodeName||"").toLowerCase():null}function ps(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function dc(t){var e=ps(t).Element;return t instanceof e||t instanceof Element}function ji(t){var e=ps(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function C5(t){if(typeof ShadowRoot>"u")return!1;var e=ps(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function roe(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!ji(s)||!Vs(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function noe(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,d){return l[d]="",l},{});!ji(i)||!Vs(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var ioe={name:"applyStyles",enabled:!0,phase:"write",fn:roe,effect:noe,requires:["computeStyles"]};function qs(t){return t.split("-")[0]}var hl=Math.max,Cm=Math.min,fc=Math.round;function hc(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(ji(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(n=fc(r.width)/a||1),s>0&&(i=fc(r.height)/s||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function Y_(t){var e=hc(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function w5(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&C5(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ws(t){return ps(t).getComputedStyle(t)}function soe(t){return["table","td","th"].indexOf(Vs(t))>=0}function lo(t){return((dc(t)?t.ownerDocument:t.document)||window.document).documentElement}function wm(t){return Vs(t)==="html"?t:t.assignedSlot||t.parentNode||(C5(t)?t.host:null)||lo(t)}function S5(t){return!ji(t)||Ws(t).position==="fixed"?null:t.offsetParent}function aoe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ji(t)){var n=Ws(t);if(n.position==="fixed")return null}for(var i=wm(t);ji(i)&&["html","body"].indexOf(Vs(i))<0;){var s=Ws(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Mf(t){for(var e=ps(t),r=S5(t);r&&soe(r)&&Ws(r).position==="static";)r=S5(r);return r&&(Vs(r)==="html"||Vs(r)==="body"&&Ws(r).position==="static")?e:r||aoe(t)||e}function Q_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Of(t,e,r){return hl(t,Cm(e,r))}function ooe(t,e,r){var n=Of(t,e,r);return n>r?r:n}function k5(){return{top:0,right:0,bottom:0,left:0}}function I5(t){return Object.assign({},k5(),t)}function D5(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var loe=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,I5(typeof e!="number"?e:D5(e,If))};function uoe(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,a=r.modifiersData.popperOffsets,o=qs(r.placement),l=Q_(o),d=[ai,$i].indexOf(o)>=0,f=d?"height":"width";if(!(!s||!a)){var c=loe(i.padding,r),h=Y_(s),p=l==="y"?si:ai,m=l==="y"?Ui:$i,b=r.rects.reference[f]+r.rects.reference[l]-a[l]-r.rects.popper[f],y=a[l]-r.rects.reference[l],_=Mf(s),x=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,C=b/2-y/2,k=c[p],S=x-h[f]-c[m],w=x/2-h[f]/2+C,L=Of(k,w,S),D=l;r.modifiersData[n]=(e={},e[D]=L,e.centerOffset=L-w,e)}}function coe(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||w5(e.elements.popper,i)&&(e.elements.arrow=i))}var doe={name:"arrow",enabled:!0,phase:"main",fn:uoe,effect:coe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pc(t){return t.split("-")[1]}var foe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hoe(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:fc(e*i)/i||0,y:fc(r*i)/i||0}}function N5(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,c=t.isFixed,h=f===!0?hoe(a):typeof f=="function"?f(a):a,p=h.x,m=p===void 0?0:p,b=h.y,y=b===void 0?0:b,_=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),C=ai,k=si,S=window;if(d){var w=Mf(r),L="clientHeight",D="clientWidth";if(w===ps(r)&&(w=lo(r),Ws(w).position!=="static"&&o==="absolute"&&(L="scrollHeight",D="scrollWidth")),w=w,i===si||(i===ai||i===$i)&&s===Df){k=Ui;var I=c&&S.visualViewport?S.visualViewport.height:w[L];y-=I-n.height,y*=l?1:-1}if(i===ai||(i===si||i===Ui)&&s===Df){C=$i;var P=c&&S.visualViewport?S.visualViewport.width:w[D];m-=P-n.width,m*=l?1:-1}}var z=Object.assign({position:o},d&&foe);if(l){var U;return Object.assign({},z,(U={},U[k]=x?"0":"",U[C]=_?"0":"",U.transform=(S.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",U))}return Object.assign({},z,(e={},e[k]=x?y+"px":"",e[C]=_?m+"px":"",e.transform="",e))}function poe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,d={placement:qs(e.placement),variation:pc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,N5(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,N5(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var moe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:poe,data:{}},Sm={passive:!0};function goe(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=ps(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",r.update,Sm)}),o&&l.addEventListener("resize",r.update,Sm),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",r.update,Sm)}),o&&l.removeEventListener("resize",r.update,Sm)}}var boe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:goe,data:{}},yoe={left:"right",right:"left",bottom:"top",top:"bottom"};function km(t){return t.replace(/left|right|bottom|top/g,function(e){return yoe[e]})}var _oe={start:"end",end:"start"};function M5(t){return t.replace(/start|end/g,function(e){return _oe[e]})}function K_(t){var e=ps(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function X_(t){return hc(lo(t)).left+K_(t).scrollLeft}function voe(t){var e=ps(t),r=lo(t),n=e.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,o=0;return n&&(i=n.width,s=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,o=n.offsetTop)),{width:i,height:s,x:a+X_(t),y:o}}function Toe(t){var e,r=lo(t),n=K_(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=hl(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=hl(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+X_(t),l=-n.scrollTop;return Ws(i||r).direction==="rtl"&&(o+=hl(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function Z_(t){var e=Ws(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function O5(t){return["html","body","#document"].indexOf(Vs(t))>=0?t.ownerDocument.body:ji(t)&&Z_(t)?t:O5(wm(t))}function Lf(t,e){var r;e===void 0&&(e=[]);var n=O5(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=ps(n),a=i?[s].concat(s.visualViewport||[],Z_(n)?n:[]):n,o=e.concat(a);return i?o:o.concat(Lf(wm(a)))}function J_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Eoe(t){var e=hc(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function L5(t,e){return e===E5?J_(voe(t)):dc(e)?Eoe(e):J_(Toe(lo(t)))}function Aoe(t){var e=Lf(wm(t)),r=["absolute","fixed"].indexOf(Ws(t).position)>=0,n=r&&ji(t)?Mf(t):t;return dc(n)?e.filter(function(i){return dc(i)&&w5(i,n)&&Vs(i)!=="body"&&(r?Ws(i).position!=="static":!0)}):[]}function xoe(t,e,r){var n=e==="clippingParents"?Aoe(t):[].concat(e),i=[].concat(n,[r]),s=i[0],a=i.reduce(function(o,l){var d=L5(t,l);return o.top=hl(d.top,o.top),o.right=Cm(d.right,o.right),o.bottom=Cm(d.bottom,o.bottom),o.left=hl(d.left,o.left),o},L5(t,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function R5(t){var e=t.reference,r=t.element,n=t.placement,i=n?qs(n):null,s=n?pc(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(i){case si:l={x:a,y:e.y-r.height};break;case Ui:l={x:a,y:e.y+e.height};break;case $i:l={x:e.x+e.width,y:o};break;case ai:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var d=i?Q_(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case cc:l[d]=l[d]-(e[f]/2-r[f]/2);break;case Df:l[d]=l[d]+(e[f]/2-r[f]/2);break}}return l}function Rf(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.boundary,a=s===void 0?Vae:s,o=r.rootBoundary,l=o===void 0?E5:o,d=r.elementContext,f=d===void 0?Nf:d,c=r.altBoundary,h=c===void 0?!1:c,p=r.padding,m=p===void 0?0:p,b=I5(typeof m!="number"?m:D5(m,If)),y=f===Nf?qae:Nf,_=t.rects.popper,x=t.elements[h?y:f],C=xoe(dc(x)?x:x.contextElement||lo(t.elements.popper),a,l),k=hc(t.elements.reference),S=R5({reference:k,element:_,strategy:"absolute",placement:i}),w=J_(Object.assign({},_,S)),L=f===Nf?w:k,D={top:C.top-L.top+b.top,bottom:L.bottom-C.bottom+b.bottom,left:C.left-L.left+b.left,right:L.right-C.right+b.right},I=t.modifiersData.offset;if(f===Nf&&I){var P=I[i];Object.keys(D).forEach(function(z){var U=[$i,Ui].indexOf(z)>=0?1:-1,$=[si,Ui].indexOf(z)>=0?"y":"x";D[z]+=P[$]*U})}return D}function Coe(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,d=l===void 0?x5:l,f=pc(n),c=f?o?A5:A5.filter(function(m){return pc(m)===f}):If,h=c.filter(function(m){return d.indexOf(m)>=0});h.length===0&&(h=c);var p=h.reduce(function(m,b){return m[b]=Rf(t,{placement:b,boundary:i,rootBoundary:s,padding:a})[qs(b)],m},{});return Object.keys(p).sort(function(m,b){return p[m]-p[b]})}function woe(t){if(qs(t)===G_)return[];var e=km(t);return[M5(t),e,M5(e)]}function Soe(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,d=r.padding,f=r.boundary,c=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,b=r.allowedAutoPlacements,y=e.options.placement,_=qs(y),x=_===y,C=l||(x||!m?[km(y)]:woe(y)),k=[y].concat(C).reduce(function(X,K){return X.concat(qs(K)===G_?Coe(e,{placement:K,boundary:f,rootBoundary:c,padding:d,flipVariations:m,allowedAutoPlacements:b}):K)},[]),S=e.rects.reference,w=e.rects.popper,L=new Map,D=!0,I=k[0],P=0;P<k.length;P++){var z=k[P],U=qs(z),$=pc(z)===cc,H=[si,Ui].indexOf(U)>=0,Y=H?"width":"height",F=Rf(e,{placement:z,boundary:f,rootBoundary:c,altBoundary:h,padding:d}),j=H?$?$i:ai:$?Ui:si;S[Y]>w[Y]&&(j=km(j));var se=km(j),W=[];if(s&&W.push(F[U]<=0),o&&W.push(F[j]<=0,F[se]<=0),W.every(function(X){return X})){I=z,D=!1;break}L.set(z,W)}if(D)for(var R=m?3:1,N=function(K){var de=k.find(function(le){var Te=L.get(le);if(Te)return Te.slice(0,K).every(function(ge){return ge})});if(de)return I=de,"break"},V=R;V>0;V--){var Z=N(V);if(Z==="break")break}e.placement!==I&&(e.modifiersData[n]._skip=!0,e.placement=I,e.reset=!0)}}var koe={name:"flip",enabled:!0,phase:"main",fn:Soe,requiresIfExists:["offset"],data:{_skip:!1}};function B5(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function P5(t){return[si,$i,Ui,ai].some(function(e){return t[e]>=0})}function Ioe(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Rf(e,{elementContext:"reference"}),o=Rf(e,{altBoundary:!0}),l=B5(a,n),d=B5(o,i,s),f=P5(l),c=P5(d);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}var Doe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ioe};function Noe(t,e,r){var n=qs(t),i=[ai,si].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[ai,$i].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function Moe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=x5.reduce(function(f,c){return f[c]=Noe(c,e.rects,s),f},{}),o=a[e.placement],l=o.x,d=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=a}var Ooe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Moe};function Loe(t){var e=t.state,r=t.name;e.modifiersData[r]=R5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Roe={name:"popperOffsets",enabled:!0,phase:"read",fn:Loe,data:{}};function Boe(t){return t==="x"?"y":"x"}function Poe(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,d=r.rootBoundary,f=r.altBoundary,c=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,b=m===void 0?0:m,y=Rf(e,{boundary:l,rootBoundary:d,padding:c,altBoundary:f}),_=qs(e.placement),x=pc(e.placement),C=!x,k=Q_(_),S=Boe(k),w=e.modifiersData.popperOffsets,L=e.rects.reference,D=e.rects.popper,I=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(w){if(s){var $,H=k==="y"?si:ai,Y=k==="y"?Ui:$i,F=k==="y"?"height":"width",j=w[k],se=j+y[H],W=j-y[Y],R=p?-D[F]/2:0,N=x===cc?L[F]:D[F],V=x===cc?-D[F]:-L[F],Z=e.elements.arrow,X=p&&Z?Y_(Z):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:k5(),de=K[H],le=K[Y],Te=Of(0,L[F],X[F]),ge=C?L[F]/2-R-Te-de-P.mainAxis:N-Te-de-P.mainAxis,me=C?-L[F]/2+R+Te+le+P.mainAxis:V+Te+le+P.mainAxis,Ce=e.elements.arrow&&Mf(e.elements.arrow),Ne=Ce?k==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,Fe=($=z==null?void 0:z[k])!=null?$:0,he=j+ge-Fe-Ne,Re=j+me-Fe,rt=Of(p?Cm(se,he):se,j,p?hl(W,Re):W);w[k]=rt,U[k]=rt-j}if(o){var be,Le=k==="x"?si:ai,xe=k==="x"?Ui:$i,B=w[S],q=S==="y"?"height":"width",ue=B+y[Le],ye=B-y[xe],Pe=[si,ai].indexOf(_)!==-1,$e=(be=z==null?void 0:z[S])!=null?be:0,ze=Pe?ue:B-L[q]-D[q]-$e+P.altAxis,_e=Pe?B+L[q]+D[q]-$e-P.altAxis:ye,Oe=p&&Pe?ooe(ze,B,_e):Of(p?ze:ue,B,p?_e:ye);w[S]=Oe,U[S]=Oe-B}e.modifiersData[n]=U}}var Foe={name:"preventOverflow",enabled:!0,phase:"main",fn:Poe,requiresIfExists:["offset"]};function Uoe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $oe(t){return t===ps(t)||!ji(t)?K_(t):Uoe(t)}function joe(t){var e=t.getBoundingClientRect(),r=fc(e.width)/t.offsetWidth||1,n=fc(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Hoe(t,e,r){r===void 0&&(r=!1);var n=ji(e),i=ji(e)&&joe(e),s=lo(e),a=hc(t,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Vs(e)!=="body"||Z_(s))&&(o=$oe(e)),ji(e)?(l=hc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=X_(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function zoe(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function Voe(t){var e=zoe(t);return toe.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function qoe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Woe(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var F5={placement:"bottom",modifiers:[],strategy:"absolute"};function U5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Goe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?F5:i;return function(o,l,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},F5,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},c=[],h=!1,p={state:f,setOptions:function(_){var x=typeof _=="function"?_(f.options):_;b(),f.options=Object.assign({},s,f.options,x),f.scrollParents={reference:dc(o)?Lf(o):o.contextElement?Lf(o.contextElement):[],popper:Lf(l)};var C=Voe(Woe([].concat(n,f.options.modifiers)));return f.orderedModifiers=C.filter(function(k){return k.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var _=f.elements,x=_.reference,C=_.popper;if(U5(x,C)){f.rects={reference:Hoe(x,Mf(C),f.options.strategy==="fixed"),popper:Y_(C)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(P){return f.modifiersData[P.name]=Object.assign({},P.data)});for(var k=0;k<f.orderedModifiers.length;k++){if(f.reset===!0){f.reset=!1,k=-1;continue}var S=f.orderedModifiers[k],w=S.fn,L=S.options,D=L===void 0?{}:L,I=S.name;typeof w=="function"&&(f=w({state:f,options:D,name:I,instance:p})||f)}}}},update:qoe(function(){return new Promise(function(y){p.forceUpdate(),y(f)})}),destroy:function(){b(),h=!0}};if(!U5(o,l))return p;p.setOptions(d).then(function(y){!h&&d.onFirstUpdate&&d.onFirstUpdate(y)});function m(){f.orderedModifiers.forEach(function(y){var _=y.name,x=y.options,C=x===void 0?{}:x,k=y.effect;if(typeof k=="function"){var S=k({state:f,name:_,instance:p,options:C}),w=function(){};c.push(S||w)}})}function b(){c.forEach(function(y){return y()}),c=[]}return p}}var Yoe=[boe,Roe,moe,ioe,Ooe,koe,Foe,doe,Doe],Qoe=Goe({defaultModifiers:Yoe}),$5="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgOS4zODI4MTMgNCA0IDkuMzgyODEzIDQgMTYgQyA0IDIyLjYxNzE4OCA5LjM4MjgxMyAyOCAxNiAyOCBDIDIyLjYxNzE4OCAyOCAyOCAyMi42MTcxODggMjggMTYgQyAyOCA5LjM4MjgxMyAyMi42MTcxODggNCAxNiA0IFogTSAxNiA2IEMgMjEuNTM1MTU2IDYgMjYgMTAuNDY0ODQ0IDI2IDE2IEMgMjYgMjEuNTM1MTU2IDIxLjUzNTE1NiAyNiAxNiAyNiBDIDEwLjQ2NDg0NCAyNiA2IDIxLjUzNTE1NiA2IDE2IEMgNiAxMC40NjQ4NDQgMTAuNDY0ODQ0IDYgMTYgNiBaIE0gMTEuNSAxMiBDIDEwLjY3MTg3NSAxMiAxMCAxMi42NzE4NzUgMTAgMTMuNSBDIDEwIDE0LjMyODEyNSAxMC42NzE4NzUgMTUgMTEuNSAxNSBDIDEyLjMyODEyNSAxNSAxMyAxNC4zMjgxMjUgMTMgMTMuNSBDIDEzIDEyLjY3MTg3NSAxMi4zMjgxMjUgMTIgMTEuNSAxMiBaIE0gMjAuNSAxMiBDIDE5LjY3MTg3NSAxMiAxOSAxMi42NzE4NzUgMTkgMTMuNSBDIDE5IDE0LjMyODEyNSAxOS42NzE4NzUgMTUgMjAuNSAxNSBDIDIxLjMyODEyNSAxNSAyMiAxNC4zMjgxMjUgMjIgMTMuNSBDIDIyIDEyLjY3MTg3NSAyMS4zMjgxMjUgMTIgMjAuNSAxMiBaIE0gMTAuODEyNSAxOSBMIDkuMDkzNzUgMjAgQyAxMC40NzY1NjMgMjIuMzg2NzE5IDEzLjA0Njg3NSAyNCAxNiAyNCBDIDE4Ljk1MzEyNSAyNCAyMS41MjM0MzggMjIuMzg2NzE5IDIyLjkwNjI1IDIwIEwgMjEuMTg3NSAxOSBDIDIwLjE0ODQzOCAyMC43OTI5NjkgMTguMjI2NTYzIDIyIDE2IDIyIEMgMTMuNzczNDM4IDIyIDExLjg1MTU2MyAyMC43OTI5NjkgMTAuODEyNSAxOSBaIi8+PC9zdmc+";function Im(t){return t.split("-").map(e=>parseInt(e,16)).map(e=>String.fromCodePoint(e)).join("")}function Koe(t,e,r,n=[]){const i={};return Object.keys(t).forEach(s=>{if(n.includes(s))return;const a=[];t[s].forEach(o=>{var l;if(o[Em][0].includes(e.toLocaleLowerCase())){let d=o[m5];if(r!==xm&&Array.isArray(o[Am])){const f=((l=o[Am])==null?void 0:l.findIndex(c=>c.includes(r)))||-1;f!==-1&&o[Am]&&(d=o[Am][f])}return a.push({...o,[kf]:d})}}),a.length&&(i[s]=a)}),i}function j5(){var t;return(((t=navigator==null?void 0:navigator.userAgentData)==null?void 0:t.platform)||(navigator==null?void 0:navigator.platform)||"unknown").toUpperCase().indexOf("MAC")!==-1}function H5(t){return t.replace(/^_*(.)|_+(.)/g,(e,r,n)=>r?r.toUpperCase():" "+n.toUpperCase())}var Bf=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const Xoe=u.defineComponent({name:"Body",emits:{select:t=>!0},setup(){const{state:t,updateEmoji:e,updateSelect:r}=u.inject("store"),n=u.ref(null),i=u.computed(()=>Koe(t.emojis,t.search,t.skinTone,t.options.disabledGroups)),s=u.getCurrentInstance(),a=u.computed(()=>!t.options.hideGroupNames),o=u.computed(()=>!t.options.disableStickyGroupNames),l=u.toRaw(t.options.groupNames),d=t.orderedGroupKeys;t.options.additionalGroups&&Object.keys(t.options.additionalGroups).map(m=>{t.options.groupNames[m]?l[m]=t.options.groupNames[m]:l[m]=H5(m)});const f=j5()?"is-mac":"";function c(m){e(m)}function h(m){r(m),s==null||s.emit("select",{...m,t:t.skinTone,i:Im(m.r)})}function p(m,b){var y;const _=(y=m==null?void 0:m.target)==null?void 0:y.closest("button");_&&(_.innerHTML=`<span>${Im(b)}</span>`)}return u.watch(()=>t.activeGroup,()=>{var m;const b=(m=n.value)==null?void 0:m.querySelector("#"+t.activeGroup);b&&(b.parentNode.scrollTop=b.offsetTop-b.parentNode.offsetTop)}),{emojis:i,bodyInner:n,EMOJI_REMOTE_SRC:h5,GROUP_NAMES:p5,handleClick:h,handleError:p,handleMouseEnter:c,native:t.options.native,unicodeToEmoji:Im,EMOJI_RESULT_KEY:kf,EMOJI_NAME_KEY:Em,hasGroupNames:a,isSticky:o,platform:f,groupNames:l,orderedKeys:d}}}),Zoe={class:"v3-body"},Joe=["id"],ele={class:"v3-emojis"},tle=["onMouseenter","onClick"],rle={key:0},nle=["src","alt","onError"],ile={key:1,class:"v3-no-result"};function sle(t,e,r,n,i,s){return u.openBlock(),u.createElementBlock("div",Zoe,[u.createElementVNode("div",{ref:"bodyInner",class:u.normalizeClass([t.platform,"v3-body-inner"])},[t.orderedKeys.length?(u.openBlock(!0),u.createElementBlock(u.Fragment,{key:0},u.renderList(t.orderedKeys,a=>(u.openBlock(),u.createElementBlock("div",{id:a,key:a,class:"v3-group"},[t.hasGroupNames?u.withDirectives((u.openBlock(),u.createElementBlock("h5",{key:0,class:u.normalizeClass(t.isSticky?"v3-sticky":"")},u.toDisplayString(t.groupNames[a]),3)),[[u.vShow,t.emojis[a]]]):u.createCommentVNode("",!0),u.withDirectives(u.createElementVNode("div",ele,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.emojis[a],o=>(u.openBlock(),u.createElementBlock("button",{key:o.r,type:"button",onMouseenter:l=>t.handleMouseEnter(o),onClick:l=>t.handleClick(o)},[t.native?(u.openBlock(),u.createElementBlock("span",rle,u.toDisplayString(t.unicodeToEmoji(o.r)),1)):(u.openBlock(),u.createElementBlock("img",{key:1,src:t.EMOJI_REMOTE_SRC+`/${o.r}.png`,alt:o.n[0],onError:l=>t.handleError(l,o.r)},null,40,nle))],40,tle))),128))],512),[[u.vShow,t.emojis[a]]])],8,Joe))),128)):(u.openBlock(),u.createElementBlock("span",ile," No emoji has been found! "))],2)])}var ale=Bf(Xoe,[["render",sle]]),ole="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMi41IDUgQyAxMS40Mjk2ODggNSAxMC41IDUuNjA5Mzc1IDkuOTA2MjUgNi40Mzc1IEMgOS4zMTI1IDcuMjY1NjI1IDkgOC4zMzk4NDQgOSA5LjUgQyA5IDEwLjY2MDE1NiA5LjMxMjUgMTEuNzM0Mzc1IDkuOTA2MjUgMTIuNTYyNSBDIDEwLjUgMTMuMzkwNjI1IDExLjQyOTY4OCAxNCAxMi41IDE0IEMgMTMuNTcwMzEzIDE0IDE0LjUgMTMuMzkwNjI1IDE1LjA5Mzc1IDEyLjU2MjUgQyAxNS42ODc1IDExLjczNDM3NSAxNiAxMC42NjAxNTYgMTYgOS41IEMgMTYgOC4zMzk4NDQgMTUuNjg3NSA3LjI2NTYyNSAxNS4wOTM3NSA2LjQzNzUgQyAxNC41IDUuNjA5Mzc1IDEzLjU3MDMxMyA1IDEyLjUgNSBaIE0gMTYgOS41IEMgMTYgMTAuNjYwMTU2IDE2LjMxMjUgMTEuNzM0Mzc1IDE2LjkwNjI1IDEyLjU2MjUgQyAxNy41IDEzLjM5MDYyNSAxOC40Mjk2ODggMTQgMTkuNSAxNCBDIDIwLjU3MDMxMyAxNCAyMS41IDEzLjM5MDYyNSAyMi4wOTM3NSAxMi41NjI1IEMgMjIuNjg3NSAxMS43MzQzNzUgMjMgMTAuNjYwMTU2IDIzIDkuNSBDIDIzIDguMzM5ODQ0IDIyLjY4NzUgNy4yNjU2MjUgMjIuMDkzNzUgNi40Mzc1IEMgMjEuNSA1LjYwOTM3NSAyMC41NzAzMTMgNSAxOS41IDUgQyAxOC40Mjk2ODggNSAxNy41IDUuNjA5Mzc1IDE2LjkwNjI1IDYuNDM3NSBDIDE2LjMxMjUgNy4yNjU2MjUgMTYgOC4zMzk4NDQgMTYgOS41IFogTSAxMi41IDcgQyAxMi44MTI1IDcgMTMuMTU2MjUgNy4xNTYyNSAxMy40Njg3NSA3LjU5Mzc1IEMgMTMuNzgxMjUgOC4wMzEyNSAxNCA4LjcyNjU2MyAxNCA5LjUgQyAxNCAxMC4yNzM0MzggMTMuNzgxMjUgMTAuOTY4NzUgMTMuNDY4NzUgMTEuNDA2MjUgQyAxMy4xNTYyNSAxMS44NDM3NSAxMi44MTI1IDEyIDEyLjUgMTIgQyAxMi4xODc1IDEyIDExLjg0Mzc1IDExLjg0Mzc1IDExLjUzMTI1IDExLjQwNjI1IEMgMTEuMjE4NzUgMTAuOTY4NzUgMTEgMTAuMjczNDM4IDExIDkuNSBDIDExIDguNzI2NTYzIDExLjIxODc1IDguMDMxMjUgMTEuNTMxMjUgNy41OTM3NSBDIDExLjg0Mzc1IDcuMTU2MjUgMTIuMTg3NSA3IDEyLjUgNyBaIE0gMTkuNSA3IEMgMTkuODEyNSA3IDIwLjE1NjI1IDcuMTU2MjUgMjAuNDY4NzUgNy41OTM3NSBDIDIwLjc4MTI1IDguMDMxMjUgMjEgOC43MjY1NjMgMjEgOS41IEMgMjEgMTAuMjczNDM4IDIwLjc4MTI1IDEwLjk2ODc1IDIwLjQ2ODc1IDExLjQwNjI1IEMgMjAuMTU2MjUgMTEuODQzNzUgMTkuODEyNSAxMiAxOS41IDEyIEMgMTkuMTg3NSAxMiAxOC44NDM3NSAxMS44NDM3NSAxOC41MzEyNSAxMS40MDYyNSBDIDE4LjIxODc1IDEwLjk2ODc1IDE4IDEwLjI3MzQzOCAxOCA5LjUgQyAxOCA4LjcyNjU2MyAxOC4yMTg3NSA4LjAzMTI1IDE4LjUzMTI1IDcuNTkzNzUgQyAxOC44NDM3NSA3LjE1NjI1IDE5LjE4NzUgNyAxOS41IDcgWiBNIDcuNSAxMiBDIDYuNDI5Njg4IDEyIDUuNSAxMi42MDkzNzUgNC45MDYyNSAxMy40Mzc1IEMgNC4zMTI1IDE0LjI2NTYyNSA0IDE1LjMzOTg0NCA0IDE2LjUgQyA0IDE3LjY2MDE1NiA0LjMxMjUgMTguNzM0Mzc1IDQuOTA2MjUgMTkuNTYyNSBDIDUuNSAyMC4zOTA2MjUgNi40Mjk2ODggMjEgNy41IDIxIEMgOC41NzAzMTMgMjEgOS41IDIwLjM5MDYyNSAxMC4wOTM3NSAxOS41NjI1IEMgMTAuNjg3NSAxOC43MzQzNzUgMTEgMTcuNjYwMTU2IDExIDE2LjUgQyAxMSAxNS4zMzk4NDQgMTAuNjg3NSAxNC4yNjU2MjUgMTAuMDkzNzUgMTMuNDM3NSBDIDkuNSAxMi42MDkzNzUgOC41NzAzMTMgMTIgNy41IDEyIFogTSAyNC41IDEyIEMgMjMuNDI5Njg4IDEyIDIyLjUgMTIuNjA5Mzc1IDIxLjkwNjI1IDEzLjQzNzUgQyAyMS4zMTI1IDE0LjI2NTYyNSAyMSAxNS4zMzk4NDQgMjEgMTYuNSBDIDIxIDE3LjY2MDE1NiAyMS4zMTI1IDE4LjczNDM3NSAyMS45MDYyNSAxOS41NjI1IEMgMjIuNSAyMC4zOTA2MjUgMjMuNDI5Njg4IDIxIDI0LjUgMjEgQyAyNS41NzAzMTMgMjEgMjYuNSAyMC4zOTA2MjUgMjcuMDkzNzUgMTkuNTYyNSBDIDI3LjY4NzUgMTguNzM0Mzc1IDI4IDE3LjY2MDE1NiAyOCAxNi41IEMgMjggMTUuMzM5ODQ0IDI3LjY4NzUgMTQuMjY1NjI1IDI3LjA5Mzc1IDEzLjQzNzUgQyAyNi41IDEyLjYwOTM3NSAyNS41NzAzMTMgMTIgMjQuNSAxMiBaIE0gNy41IDE0IEMgNy44MTI1IDE0IDguMTU2MjUgMTQuMTU2MjUgOC40Njg3NSAxNC41OTM3NSBDIDguNzgxMjUgMTUuMDMxMjUgOSAxNS43MjY1NjMgOSAxNi41IEMgOSAxNy4yNzM0MzggOC43ODEyNSAxNy45Njg3NSA4LjQ2ODc1IDE4LjQwNjI1IEMgOC4xNTYyNSAxOC44NDM3NSA3LjgxMjUgMTkgNy41IDE5IEMgNy4xODc1IDE5IDYuODQzNzUgMTguODQzNzUgNi41MzEyNSAxOC40MDYyNSBDIDYuMjE4NzUgMTcuOTY4NzUgNiAxNy4yNzM0MzggNiAxNi41IEMgNiAxNS43MjY1NjMgNi4yMTg3NSAxNS4wMzEyNSA2LjUzMTI1IDE0LjU5Mzc1IEMgNi44NDM3NSAxNC4xNTYyNSA3LjE4NzUgMTQgNy41IDE0IFogTSAyNC41IDE0IEMgMjQuODEyNSAxNCAyNS4xNTYyNSAxNC4xNTYyNSAyNS40Njg3NSAxNC41OTM3NSBDIDI1Ljc4MTI1IDE1LjAzMTI1IDI2IDE1LjcyNjU2MyAyNiAxNi41IEMgMjYgMTcuMjczNDM4IDI1Ljc4MTI1IDE3Ljk2ODc1IDI1LjQ2ODc1IDE4LjQwNjI1IEMgMjUuMTU2MjUgMTguODQzNzUgMjQuODEyNSAxOSAyNC41IDE5IEMgMjQuMTg3NSAxOSAyMy44NDM3NSAxOC44NDM3NSAyMy41MzEyNSAxOC40MDYyNSBDIDIzLjIxODc1IDE3Ljk2ODc1IDIzIDE3LjI3MzQzOCAyMyAxNi41IEMgMjMgMTUuNzI2NTYzIDIzLjIxODc1IDE1LjAzMTI1IDIzLjUzMTI1IDE0LjU5Mzc1IEMgMjMuODQzNzUgMTQuMTU2MjUgMjQuMTg3NSAxNCAyNC41IDE0IFogTSAxNiAxNiBDIDE0LjY2Nzk2OSAxNiAxMy43MzgyODEgMTYuODY3MTg4IDEzLjI4MTI1IDE3LjYyNSBDIDEyLjgyNDIxOSAxOC4zODI4MTMgMTIuNTQ2ODc1IDE5LjAxNTYyNSAxMi4yODEyNSAxOS4yODEyNSBDIDEyLjEyNSAxOS40Mzc1IDExLjE2MDE1NiAxOS44MDA3ODEgMTAuMTU2MjUgMjAuMzEyNSBDIDkuNjUyMzQ0IDIwLjU3MDMxMyA5LjE0NDUzMSAyMC45MTQwNjMgOC43MTg3NSAyMS40Mzc1IEMgOC4yOTI5NjkgMjEuOTYwOTM4IDggMjIuNjg3NSA4IDIzLjUgQyA4IDI1LjQyMTg3NSA5LjU3ODEyNSAyNyAxMS41IDI3IEMgMTIuMzY3MTg4IDI3IDEzLjI2OTUzMSAyNi43MjI2NTYgMTQuMTU2MjUgMjYuNDY4NzUgQyAxNS4wNDI5NjkgMjYuMjE0ODQ0IDE2IDI2IDE2IDI2IEMgMTYgMjYgMTYuOTU3MDMxIDI2LjIxNDg0NCAxNy44NDM3NSAyNi40Njg3NSBDIDE4LjczMDQ2OSAyNi43MjI2NTYgMTkuNjMyODEzIDI3IDIwLjUgMjcgQyAyMi40MjE4NzUgMjcgMjQgMjUuNDIxODc1IDI0IDIzLjUgQyAyNCAyMi43MDcwMzEgMjMuNzA3MDMxIDIxLjk4MDQ2OSAyMy4yODEyNSAyMS40Njg3NSBDIDIyLjg1NTQ2OSAyMC45NTcwMzEgMjIuMzQzNzUgMjAuNjQwNjI1IDIxLjg0Mzc1IDIwLjM3NSBDIDIwLjg0Mzc1IDE5Ljg0Mzc1IDE5Ljg1OTM3NSAxOS40MjE4NzUgMTkuNzE4NzUgMTkuMjgxMjUgQyAxOS40ODA0NjkgMTkuMDQyOTY5IDE5LjIxMDkzOCAxOC4zOTA2MjUgMTguNzUgMTcuNjI1IEMgMTguMjg5MDYzIDE2Ljg1OTM3NSAxNy4zMzk4NDQgMTYgMTYgMTYgWiBNIDE2IDE4IEMgMTYuNjYwMTU2IDE4IDE2LjczNDM3NSAxOC4xNjAxNTYgMTcuMDMxMjUgMTguNjU2MjUgQyAxNy4zMjgxMjUgMTkuMTUyMzQ0IDE3LjU1NDY4OCAxOS45OTIxODggMTguMjgxMjUgMjAuNzE4NzUgQyAxOS4xMDU0NjkgMjEuNTQyOTY5IDIwLjE0ODQzOCAyMS43MjI2NTYgMjAuOTA2MjUgMjIuMTI1IEMgMjEuMjg1MTU2IDIyLjMyODEyNSAyMS41NzgxMjUgMjIuNTQyOTY5IDIxLjc1IDIyLjc1IEMgMjEuOTIxODc1IDIyLjk1NzAzMSAyMiAyMy4xNDg0MzggMjIgMjMuNSBDIDIyIDI0LjMzOTg0NCAyMS4zMzk4NDQgMjUgMjAuNSAyNSBDIDIwLjIxMDkzOCAyNSAxOS4yNzczNDQgMjQuNzc3MzQ0IDE4LjQwNjI1IDI0LjUzMTI1IEMgMTcuNTM1MTU2IDI0LjI4NTE1NiAxNi44MTY0MDYgMjQgMTYgMjQgQyAxNS4xODM1OTQgMjQgMTQuNDY0ODQ0IDI0LjI4NTE1NiAxMy41OTM3NSAyNC41MzEyNSBDIDEyLjcyMjY1NiAyNC43NzczNDQgMTEuNzg5MDYzIDI1IDExLjUgMjUgQyAxMC42NjAxNTYgMjUgMTAgMjQuMzM5ODQ0IDEwIDIzLjUgQyAxMCAyMy4wOTc2NTYgMTAuMDgyMDMxIDIyLjg5MDYyNSAxMC4yNSAyMi42ODc1IEMgMTAuNDE3OTY5IDIyLjQ4NDM3NSAxMC43MjI2NTYgMjIuMjg1MTU2IDExLjA5Mzc1IDIyLjA5Mzc1IEMgMTEuODM5ODQ0IDIxLjcxNDg0NCAxMi44NzUgMjEuNTYyNSAxMy43MTg3NSAyMC43MTg3NSBDIDE0LjQ1MzEyNSAxOS45ODQzNzUgMTQuNjc1NzgxIDE5LjExNzE4OCAxNC45Njg3NSAxOC42MjUgQyAxNS4yNjE3MTkgMTguMTMyODEzIDE1LjMzMjAzMSAxOCAxNiAxOCBaIi8+PC9zdmc+",lle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSAzIEwgMTEgNyBMIDEzIDcgTCAxMyAzIFogTSAxNSA0IEwgMTUgNyBMIDE3IDcgTCAxNyA0IFogTSA0Ljg3NSA4IEwgNSA5LjA5Mzc1IEwgNi44MTI1IDI2LjMxMjUgQyA2Ljk3MjY1NiAyNy44MzIwMzEgOC4yODUxNTYgMjkgOS44MTI1IDI5IEwgMTkuMTg3NSAyOSBDIDIwLjcxNDg0NCAyOSAyMi4wMjczNDQgMjcuODMyMDMxIDIyLjE4NzUgMjYuMzEyNSBMIDIyLjY1NjI1IDIyIEwgMjUgMjIgQyAyNi42NDQ1MzEgMjIgMjggMjAuNjQ0NTMxIDI4IDE5IEwgMjggMTYgQyAyOCAxNC4zNTU0NjkgMjYuNjQ0NTMxIDEzIDI1IDEzIEwgMjMuNTkzNzUgMTMgTCAyNCA5LjA5Mzc1IEwgMjQuMTI1IDggWiBNIDcuMTI1IDEwIEwgMjEuODc1IDEwIEwgMjAuMTg3NSAyNi4wOTM3NSBDIDIwLjEzMjgxMyAyNi42MTMyODEgMTkuNzA3MDMxIDI3IDE5LjE4NzUgMjcgTCA5LjgxMjUgMjcgQyA5LjI5Mjk2OSAyNyA4Ljg2NzE4OCAyNi42MTMyODEgOC44MTI1IDI2LjA5Mzc1IFogTSAyMy4zNzUgMTUgTCAyNSAxNSBDIDI1LjU2NjQwNiAxNSAyNiAxNS40MzM1OTQgMjYgMTYgTCAyNiAxOSBDIDI2IDE5LjU2NjQwNiAyNS41NjY0MDYgMjAgMjUgMjAgTCAyMi44NDM3NSAyMCBaIi8+PC9zdmc+",ule="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiAzIEMgOC44MzIwMzEgMyAzIDguODMyMDMxIDMgMTYgQyAzIDIzLjE2Nzk2OSA4LjgzMjAzMSAyOSAxNiAyOSBDIDIzLjE2Nzk2OSAyOSAyOSAyMy4xNjc5NjkgMjkgMTYgQyAyOSA4LjgzMjAzMSAyMy4xNjc5NjkgMyAxNiAzIFogTSAxNiA1IEMgMTYuNjAxNTYzIDUgMTcuMTc1NzgxIDUuMDYyNSAxNy43NSA1LjE1NjI1IEwgMTYgNi40MDYyNSBMIDE0LjI1IDUuMTU2MjUgQyAxNC44MjAzMTMgNS4wNjY0MDYgMTUuNDAyMzQ0IDUgMTYgNSBaIE0gMTEuODEyNSA1Ljg0Mzc1IEwgMTUuNDA2MjUgOC40Njg3NSBMIDE2IDguOTA2MjUgTCAxNi41OTM3NSA4LjQ2ODc1IEwgMjAuMTg3NSA1Ljg0Mzc1IEMgMjEuNzg1MTU2IDYuNTA3ODEzIDIzLjE5NTMxMyA3LjUyMzQzOCAyNC4zMTI1IDguODEyNSBMIDIyLjkzNzUgMTMuMDkzNzUgTCAyMi43MTg3NSAxMy43ODEyNSBMIDIzLjMxMjUgMTQuMTg3NSBMIDI2LjkzNzUgMTYuODQzNzUgQyAyNi44MDQ2ODggMTguNjA1NDY5IDI2LjI2NTYyNSAyMC4yNTc4MTMgMjUuNDA2MjUgMjEuNjg3NSBMIDIwLjEyNSAyMS42ODc1IEwgMTkuOTA2MjUgMjIuMzc1IEwgMTguNSAyNi43MTg3NSBDIDE3LjY5OTIxOSAyNi45MDYyNSAxNi44NTkzNzUgMjcgMTYgMjcgQyAxNS4xMDU0NjkgMjcgMTQuMjM4MjgxIDI2Ljg4NjcxOSAxMy40MDYyNSAyNi42ODc1IEwgMTIuMDMxMjUgMjIuNDA2MjUgTCAxMS44MTI1IDIxLjcxODc1IEwgNi41OTM3NSAyMS43MTg3NSBDIDUuNzE4NzUgMjAuMjgxMjUgNS4xOTkyMTkgMTguNjIxMDk0IDUuMDYyNSAxNi44NDM3NSBMIDguNjU2MjUgMTQuMjE4NzUgTCA5LjI1IDEzLjgxMjUgTCA5LjAzMTI1IDEzLjEyNSBMIDcuNjI1IDguODc1IEMgOC43NSA3LjU1NDY4OCAxMC4xODM1OTQgNi41MTU2MjUgMTEuODEyNSA1Ljg0Mzc1IFogTSAxNiAxMC4wOTM3NSBMIDE1LjQwNjI1IDEwLjUzMTI1IEwgMTAuODQzNzUgMTMuODQzNzUgTCAxMC4yODEyNSAxNC4yODEyNSBMIDEwLjUgMTQuOTY4NzUgTCAxMi4yNSAyMC4zMTI1IEwgMTIuNDY4NzUgMjEgTCAxOS41MzEyNSAyMSBMIDE5Ljc1IDIwLjMxMjUgTCAyMS41IDE0Ljk2ODc1IEwgMjEuNzE4NzUgMTQuMjgxMjUgTCAyMS4xNTYyNSAxMy44NDM3NSBMIDE2LjU5Mzc1IDEwLjUzMTI1IFogTSAyNS43NSAxMC45MDYyNSBDIDI2LjI5Njg3NSAxMS45NTMxMjUgMjYuNjU2MjUgMTMuMTAxNTYzIDI2Ljg0Mzc1IDE0LjMxMjUgTCAyNS4wNjI1IDEzLjAzMTI1IFogTSA2LjIxODc1IDEwLjk2ODc1IEwgNi45MDYyNSAxMy4wMzEyNSBMIDUuMTU2MjUgMTQuMzEyNSBDIDUuMzM5ODQ0IDEzLjEyNSA1LjY4NzUgMTIgNi4yMTg3NSAxMC45Njg3NSBaIE0gMTYgMTIuNTkzNzUgTCAxOS4zNzUgMTUuMDMxMjUgTCAxOC4wOTM3NSAxOSBMIDEzLjkwNjI1IDE5IEwgMTIuNjI1IDE1LjAzMTI1IFogTSAyMS41OTM3NSAyMy42ODc1IEwgMjMuODQzNzUgMjMuNjg3NSBDIDIyLjk5MjE4OCAyNC41NjY0MDYgMjIuMDExNzE5IDI1LjI5Mjk2OSAyMC45MDYyNSAyNS44NDM3NSBaIE0gOC4xNTYyNSAyMy43MTg3NSBMIDEwLjM0Mzc1IDIzLjcxODc1IEwgMTEuMDMxMjUgMjUuODEyNSBDIDkuOTYwOTM4IDI1LjI2OTUzMSA4Ljk4ODI4MSAyNC41NjI1IDguMTU2MjUgMjMuNzE4NzUgWiIvPjwvc3ZnPg==",cle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5LjUgNiBDIDguMTc5Njg4IDYgNy4wMDM5MDYgNi44NTkzNzUgNi42MjUgOC4xMjUgTCA1LjI1IDEyLjcxODc1IEwgMy4zMTI1IDEyLjA2MjUgTCAyLjY4NzUgMTMuOTM3NSBMIDQuNjU2MjUgMTQuNTkzNzUgTCA0LjAzMTI1IDE2LjcxODc1IEMgNC4wMDc4MTMgMTYuODA4NTk0IDMuOTk2MDk0IDE2LjkwNjI1IDQgMTcgTCA0IDI0IEMgNCAyNC4wMzEyNSA0IDI0LjA2MjUgNCAyNC4wOTM3NSBMIDQgMjUgQyA0IDI1LjU1MDc4MSA0LjQ0OTIxOSAyNiA1IDI2IEwgOCAyNiBMIDguMzQzNzUgMjUgTCAyMy42NTYyNSAyNSBMIDI0IDI2IEwgMjcgMjYgQyAyNy41NTA3ODEgMjYgMjggMjUuNTUwNzgxIDI4IDI1IEwgMjggMjQuMTU2MjUgQyAyOC4wMDM5MDYgMjQuMTA1NDY5IDI4LjAwMzkwNiAyNC4wNTA3ODEgMjggMjQgTCAyOCAxNyBDIDI4LjAwMzkwNiAxNi45MDYyNSAyNy45OTIxODggMTYuODA4NTk0IDI3Ljk2ODc1IDE2LjcxODc1IEwgMjcuMzQzNzUgMTQuNTkzNzUgTCAyOS4zMTI1IDEzLjkzNzUgTCAyOC42ODc1IDEyLjA2MjUgTCAyNi43NSAxMi43MTg3NSBMIDI1LjM3NSA4LjEyNSBDIDI0Ljk5NjA5NCA2Ljg1OTM3NSAyMy44MjAzMTMgNiAyMi41IDYgWiBNIDkuNSA4IEwgMjIuNSA4IEMgMjIuOTQ1MzEzIDggMjMuMzM5ODQ0IDguMjkyOTY5IDIzLjQ2ODc1IDguNzE4NzUgTCAyNC43NSAxMyBMIDcuMjUgMTMgTCA4LjUzMTI1IDguNzE4NzUgQyA4LjY2MDE1NiA4LjI4OTA2MyA5LjA1NDY4OCA4IDkuNSA4IFogTSA2LjY1NjI1IDE1IEwgMjUuMzQzNzUgMTUgTCAyNiAxNy4xODc1IEwgMjYgMjMgTCA2IDIzIEwgNiAxNy4xODc1IFogTSA4LjUgMTYgQyA3LjY3MTg3NSAxNiA3IDE2LjY3MTg3NSA3IDE3LjUgQyA3IDE4LjMyODEyNSA3LjY3MTg3NSAxOSA4LjUgMTkgQyA5LjMyODEyNSAxOSAxMCAxOC4zMjgxMjUgMTAgMTcuNSBDIDEwIDE2LjY3MTg3NSA5LjMyODEyNSAxNiA4LjUgMTYgWiBNIDIzLjUgMTYgQyAyMi42NzE4NzUgMTYgMjIgMTYuNjcxODc1IDIyIDE3LjUgQyAyMiAxOC4zMjgxMjUgMjIuNjcxODc1IDE5IDIzLjUgMTkgQyAyNC4zMjgxMjUgMTkgMjUgMTguMzI4MTI1IDI1IDE3LjUgQyAyNSAxNi42NzE4NzUgMjQuMzI4MTI1IDE2IDIzLjUgMTYgWiBNIDEyIDE5IEwgMTAuNzUgMjIgTCAxMi45MDYyNSAyMiBMIDEzLjM0Mzc1IDIxIEwgMTguNjU2MjUgMjEgTCAxOS4wOTM3NSAyMiBMIDIxLjI1IDIyIEwgMjAgMTkgWiIvPjwvc3ZnPg==",dle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuMDQyOTY5IDQgNyA4LjA0Mjk2OSA3IDEzIEMgNyAxNC45MTc5NjkgNy44NDM3NSAxNi45MDYyNSA5IDE4LjY4NzUgQyA5Ljg1OTM3NSAyMC4wMTE3MTkgMTAuODg2NzE5IDIxLjIzMDQ2OSAxMiAyMi4xNTYyNSBMIDEyIDI1IEMgMTIgMjYuMDkzNzUgMTIuOTA2MjUgMjcgMTQgMjcgTCAxNSAyOCBMIDE3IDI4IEwgMTggMjcgQyAxOS4wOTM3NSAyNyAyMCAyNi4wOTM3NSAyMCAyNSBMIDIwIDIyLjE1NjI1IEMgMjEuMTEzMjgxIDIxLjIzMDQ2OSAyMi4xNDA2MjUgMjAuMDExNzE5IDIzIDE4LjY4NzUgQyAyNC4xNTYyNSAxNi45MDYyNSAyNSAxNC45MTc5NjkgMjUgMTMgQyAyNSA4LjA0Mjk2OSAyMC45NTcwMzEgNCAxNiA0IFogTSAxNiA2IEMgMTkuODc4OTA2IDYgMjMgOS4xMjEwOTQgMjMgMTMgQyAyMyAxNC4zMDg1OTQgMjIuMzU1NDY5IDE2LjAzNTE1NiAyMS4zNDM3NSAxNy41OTM3NSBDIDIwLjQ0MTQwNiAxOC45ODQzNzUgMTkuMjUzOTA2IDIwLjIyMjY1NiAxOC4xNTYyNSAyMSBMIDEzLjg0Mzc1IDIxIEMgMTIuNzQ2MDk0IDIwLjIyMjY1NiAxMS41NTg1OTQgMTguOTg0Mzc1IDEwLjY1NjI1IDE3LjU5Mzc1IEMgOS42NDQ1MzEgMTYuMDM1MTU2IDkgMTQuMzA4NTk0IDkgMTMgQyA5IDkuMTIxMDk0IDEyLjEyMTA5NCA2IDE2IDYgWiBNIDE0LjI1IDIzIEwgMTcuNzUgMjMgQyAxNy44MjgxMjUgMjMuMDU0Njg4IDE3LjkxMDE1NiAyMy4wOTM3NSAxOCAyMy4xMjUgTCAxOCAyNSBMIDE0IDI1IEwgMTQgMjMuMTI1IEMgMTQuMDg5ODQ0IDIzLjA5Mzc1IDE0LjE3MTg3NSAyMy4wNTQ2ODggMTQuMjUgMjMgWiIvPjwvc3ZnPg==",fle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSA1IEwgMTEgMTEgTCA1IDExIEwgNSAxMyBMIDExIDEzIEwgMTEgMTkgTCA1IDE5IEwgNSAyMSBMIDExIDIxIEwgMTEgMjcgTCAxMyAyNyBMIDEzIDIxIEwgMTkgMjEgTCAxOSAyNyBMIDIxIDI3IEwgMjEgMjEgTCAyNyAyMSBMIDI3IDE5IEwgMjEgMTkgTCAyMSAxMyBMIDI3IDEzIEwgMjcgMTEgTCAyMSAxMSBMIDIxIDUgTCAxOSA1IEwgMTkgMTEgTCAxMyAxMSBMIDEzIDUgWiBNIDEzIDEzIEwgMTkgMTMgTCAxOSAxOSBMIDEzIDE5IFoiLz48L3N2Zz4=",hle="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5IDQgQyA3LjM0NiA0IDYgNS4zNDYgNiA3IEMgNiA4LjMwMTYwOTQgNi44Mzg3NDg2IDkuNDAyMTM5MSA4IDkuODE2NDA2MiBMIDggMTEuMzA0Njg4IEwgOCAyMy4yMDcwMzEgTCA4IDI3LjAyMzQzOCBDIDggMjcuNTYzNDM4IDguNDM2NTYyNSAyOCA4Ljk3NjU2MjUgMjggTCA5LjAyMzQzNzUgMjggQyA5LjU2MzQzNzUgMjggMTAgMjcuNTYzNDM3IDEwIDI3LjAyMzQzOCBMIDEwIDIyLjIyODUxNiBDIDEwLjMzNDcwNyAyMS44Mzk3NTYgMTEuMTM4NDIzIDIxLjA0Njg3NSAxMy40NDUzMTIgMjEuMDQ2ODc1IEMgMTQuNjY5MzEzIDIxLjA0Njg3NSAxNS42NzA0MjIgMjEuNDczNzgxIDE2LjczMjQyMiAyMS45MjU3ODEgQyAxNy43Njk0MjIgMjIuMzY3NzgxIDE4Ljg0MTg5MSAyMi44MjQyMTkgMjAuMDg3ODkxIDIyLjgyNDIxOSBDIDIyLjQ0Njg5MSAyMi44MjQyMTkgMjQuMDQ5Mzc1IDIxLjU4NDY4OCAyNC43MzQzNzUgMjEuMDU0Njg4IEwgMjQuODg2NzE5IDIwLjkzOTQ1MyBDIDI1LjQzNzcxOSAyMC41NDA0NTMgMjYgMTkuOTk2IDI2IDE5IEwgMjYgMTAuNjc1NzgxIEMgMjYgOS43Njc3ODEyIDI1LjIyMTgyOCA5IDI0LjI5ODgyOCA5IEMgMjMuODAzODI4IDkgMjMuNDQwNDA2IDkuMjg2NTkzNyAyMi45NDE0MDYgOS42ODM1OTM4IEMgMjIuMjc5NDA2IDEwLjIwNzU5NCAyMS4yODA4OTEgMTEgMjAuMDg3ODkxIDExIEMgMTkuMjcyODkxIDExIDE4LjQ3NzY4OCAxMC42MTk3MzQgMTcuNTU0Njg4IDEwLjE3NzczNCBDIDE2LjQwMzY4NyA5LjYyNTczNDQgMTUuMDk4MzU5IDkgMTMuNDQzMzU5IDkgQyAxMi4zMDgyNTcgOSAxMS40MjE2ODcgOS4xODgzMzkzIDEwLjcxMjg5MSA5LjQ1NzAzMTIgQyAxMS40ODkwNzEgOC45MTQxODI0IDEyIDguMDE2NzgwMiAxMiA3IEMgMTIgNS4zNDYgMTAuNjU0IDQgOSA0IHogTSA5IDYgQyA5LjU1MiA2IDEwIDYuNDQ5IDEwIDcgQyAxMCA3LjU1MSA5LjU1MiA4IDkgOCBDIDguNDQ4IDggOCA3LjU1MSA4IDcgQyA4IDYuNDQ5IDguNDQ4IDYgOSA2IHogTSAxMy40NDMzNTkgMTEgQyAxNC42NDUzNTkgMTEgMTUuNjM4NDA2IDExLjQ3NjQ2OSAxNi42OTE0MDYgMTEuOTgwNDY5IEMgMTcuNzM2NDA2IDEyLjQ4MjQ2OSAxOC44MTc4OTEgMTMgMjAuMDg3ODkxIDEzIEMgMjEuODQyODkxIDEzIDIzLjE1ODA0NyAxMi4wNTQ0ODQgMjMuOTk4MDQ3IDExLjM5NjQ4NCBMIDIzLjk5ODA0NyAxOS4wNjY0MDYgQyAyMy45OTcwNDcgMTkuMDcwNDA2IDIzLjk1Mjk4NCAxOS4xNDUyNjYgMjMuNzA4OTg0IDE5LjMyMjI2NiBMIDIzLjUwOTc2NiAxOS40NzQ2MDkgQyAyMi45NDI3NjYgMTkuOTEyNjA5IDIxLjc2Mjg5MSAyMC44MjQyMTkgMjAuMDg3ODkxIDIwLjgyNDIxOSBDIDE5LjI0OTg5MSAyMC44MjQyMTkgMTguNDQ2NjI1IDIwLjQ4MjkzNyAxNy41MTU2MjUgMjAuMDg1OTM4IEMgMTYuMzcyNjI1IDE5LjU5NzkzOCAxNS4wNzYzNTkgMTkuMDQ0OTIyIDEzLjQ0MzM1OSAxOS4wNDQ5MjIgQyAxMS44OTEzNTkgMTkuMDQ0OTIyIDEwLjc4NiAxOS4zNTggMTAgMTkuNzUgTCAxMCAxMi4zNjEzMjggQyAxMC4zNDUgMTEuOTA1MzI4IDExLjEzMjM1OSAxMSAxMy40NDMzNTkgMTEgeiIvPjwvc3ZnPg==",ple="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuODMyMDMxIDQgOC4xNTIzNDQgNi4xMTMyODEgNiA5LjM0Mzc1IEwgNiA2IEwgNCA2IEwgNCAxMyBMIDExIDEzIEwgMTEgMTEgTCA3LjM3NSAxMSBDIDkuMTAxNTYzIDguMDE5NTMxIDEyLjI5Njg3NSA2IDE2IDYgQyAyMS41MzUxNTYgNiAyNiAxMC40NjQ4NDQgMjYgMTYgQyAyNiAyMS41MzUxNTYgMjEuNTM1MTU2IDI2IDE2IDI2IEMgMTAuNDY0ODQ0IDI2IDYgMjEuNTM1MTU2IDYgMTYgTCA0IDE2IEMgNCAyMi42MTcxODggOS4zODI4MTMgMjggMTYgMjggQyAyMi42MTcxODggMjggMjggMjIuNjE3MTg4IDI4IDE2IEMgMjggOS4zODI4MTMgMjIuNjE3MTg4IDQgMTYgNCBaIE0gMTUgOCBMIDE1IDE3IEwgMjIgMTcgTCAyMiAxNSBMIDE3IDE1IEwgMTcgOCBaIi8+PC9zdmc+Cg==";const mle=u.defineComponent({name:"Header",setup(t){const{state:e,updateSearch:r,updateActiveGroup:n}=u.inject("store"),i=u.computed(()=>!e.options.hideSearch),s=u.computed(()=>!e.options.hideGroupIcons),a=JSON.parse(JSON.stringify(e.orderedGroupKeys)),o=u.computed(()=>e.options.staticTexts.placeholder||""),l=u.computed({get:()=>e.search,set:c=>r(c)}),d=[...e.groups,...Object.keys(e.options.additionalGroups).map(c=>({key:c,title:e.options.groupNames[c]?e.options.groupNames[c]:H5(c)}))],f=[];return a.forEach(c=>{const h=d.findIndex(p=>p.key===c);h!==-1&&(f.push(d[h]),d.splice(h,1))}),{orderedGroups:f,orderedKeys:a,searchValue:l,updateActiveGroup:n,hasSearch:i,hasGroupIcons:s,placeholder:o,icons:{smileys_people:$5,animals_nature:ole,food_drink:lle,activities:ule,travel_places:cle,objects:dle,symbols:fle,flags:hle,...e.options.groupIcons,recent:ple}}}}),gle={key:0,class:"v3-header"},ble={key:0,class:"v3-groups"},yle=["onClick"],_le=["title"],vle=["src"],Tle={key:1,class:"v3-spacing"},Ele={key:2,class:"v3-search"},Ale=["placeholder"];function xle(t,e,r,n,i,s){return t.hasGroupIcons||t.hasSearch?(u.openBlock(),u.createElementBlock("div",gle,[t.hasGroupIcons?(u.openBlock(),u.createElementBlock("div",ble,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.orderedGroups,a=>(u.openBlock(),u.createElementBlock("button",{key:a.key,type:"button",class:u.normalizeClass(["v3-group",{"v3-is-hidden":!t.icons[a.key]}]),onClick:o=>t.updateActiveGroup(a.key)},[u.createElementVNode("span",{title:a.title,class:"v3-icon"},[u.createElementVNode("img",{src:t.icons[a.key],alt:""},null,8,vle)],8,_le)],10,yle))),128))])):u.createCommentVNode("",!0),t.hasGroupIcons&&t.hasSearch?(u.openBlock(),u.createElementBlock("div",Tle)):u.createCommentVNode("",!0),t.hasSearch?(u.openBlock(),u.createElementBlock("div",Ele,[u.withDirectives(u.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.searchValue=a),type:"text",placeholder:t.placeholder},null,8,Ale),[[u.vModelText,t.searchValue]])])):u.createCommentVNode("",!0)])):u.createCommentVNode("",!0)}var Cle=Bf(mle,[["render",xle]]);const wle=u.defineComponent({name:"Header",setup(){const{state:t,updateSkinTone:e}=u.inject("store"),r=u.ref(!1),n=u.ref(!1),i=u.computed(()=>t.skinTone),s=u.computed(()=>t.options.staticTexts.skinTone||"Skin tone"),a=u.computed(()=>!t.options.disableSkinTones),o=j5()?"is-mac":"",l=u.computed(()=>({...t.emoji,src:h5+"/"+t.emoji[kf]+".png"}));function d(h=!0){r.value=h}function f(){r.value=!r.value}function c(h){e(h),d(!1)}return u.watch(()=>t.emoji,()=>{n.value=!1}),{emoji:l,SKIN_TONES:wae,updateSkinToneState:d,skinTone:r,stateSkinTone:i,selectSkinTone:c,toggleSkinToneState:f,EMOJI_RESULT_KEY:kf,EMOJI_NAME_KEY:Em,skinToneText:s,hasSkinTones:a,native:t.options.native,unicodeToEmoji:Im,platform:o,hasError:n}}}),Sle={class:"v3-foot-left"},kle={key:0},Ile=["alt","src"],Dle={class:"v3-text"},Nle={class:"v3-text"},Mle=["onClick"];function Ole(t,e,r,n,i,s){return u.openBlock(),u.createElementBlock("div",{class:"v3-footer",onMouseleave:e[2]||(e[2]=a=>t.updateSkinToneState(!1))},[u.createElementVNode("div",Sle,[u.createElementVNode("span",{class:u.normalizeClass([t.platform,"v3-icon"])},[t.native||t.hasError?(u.openBlock(),u.createElementBlock("span",kle,u.toDisplayString(t.unicodeToEmoji(t.emoji.r)),1)):(u.openBlock(),u.createElementBlock("img",{key:1,alt:t.unicodeToEmoji(t.emoji.r),src:t.emoji.src,onError:e[0]||(e[0]=a=>t.hasError=!0)},null,40,Ile))],2),u.createElementVNode("span",Dle," :"+u.toDisplayString(t.emoji[t.EMOJI_NAME_KEY][1]||t.emoji[t.EMOJI_NAME_KEY][0])+": ",1)]),t.hasSkinTones?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[u.createElementVNode("button",{type:"button",class:"v3-tone",onClick:e[1]||(e[1]=(...a)=>t.toggleSkinToneState&&t.toggleSkinToneState(...a))},[u.createElementVNode("span",Nle,u.toDisplayString(t.skinToneText),1),u.createElementVNode("span",{class:u.normalizeClass(`v3-icon v3-tone-${t.stateSkinTone}`)},null,2)]),u.createElementVNode("div",{class:u.normalizeClass([t.skinTone?"v3-is-open":"","v3-skin-tones"])},[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(t.SKIN_TONES,a=>(u.openBlock(),u.createElementBlock("button",{key:a,type:"button",class:u.normalizeClass(["v3-skin-tone-"+a,"v3-skin-tone"]),onClick:o=>t.selectSkinTone(a)},null,10,Mle))),128))],2)],64)):u.createCommentVNode("",!0)],32)}var Lle=Bf(wle,[["render",Ole]]);const Rle=u.defineComponent({name:"PickerRoot",components:{Header:Cle,Body:ale,Footer:Lle},props:{type:{type:String,default:""},text:{type:String,default:""},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},groupNames:{type:Object,default:()=>({})}},emits:{select:t=>!0,"update:text":t=>!0},setup(t,{emit:e}){const r=u.ref(),n=u.ref(),i=u.ref(),s=u.ref(!1),a=u.ref(t.text),o=t.type==="input"||t.type==="textarea";let l=-1;const{state:d}=u.inject("store"),f=u.computed(()=>d.options.colorTheme);function c(y){if(o){const _=d.options.mode;_==="prepend"?a.value=y.i+a.value:_==="insert"&&l!==-1?(a.value=`${a.value.slice(0,l)}${y.i}${a.value.slice(l)}`,l+=y.i.length):a.value+=y.i,e("update:text",a.value)}e("select",y)}function h(){var y;r.value&&(l=((y=r.value)==null?void 0:y.selectionEnd)||-1)}function p(y){var _;!((_=y.target)!=null&&_.closest(".v3-input-picker-wrap"))&&s.value&&(s.value=!1)}function m(){if(n.value&&i.value&&o){let y=d.options.offset;typeof y!="number"&&(y=6),Qoe(n.value,i.value,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,y]}}]}),document.body.addEventListener("click",p)}}function b(y){a.value=y.target.value||"",e("update:text",a.value)}return u.onMounted(()=>{m()}),u.onBeforeUnmount(()=>{document.body.removeEventListener("click",p)}),{face:$5,open:s,onSelect:c,input:a,elem:r,updateCursor:h,button:n,picker:i,isInputType:o,onChangeText:b,colorTheme:f}}}),Ble={key:0,class:"v3-input-emoji-picker"},Ple={class:"v3-input-picker-root"},Fle=["value"],Ule=["value"],$le=["src"];function jle(t,e,r,n,i,s){const a=u.resolveComponent("Header"),o=u.resolveComponent("Body"),l=u.resolveComponent("Footer");return t.isInputType?(u.openBlock(),u.createElementBlock("div",Ble,[u.createElementVNode("div",Ple,[t.type==="input"?(u.openBlock(),u.createElementBlock("input",{key:0,ref:"elem",value:t.input,type:"text",class:"v3-emoji-picker-input",onInput:e[0]||(e[0]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[1]||(e[1]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,Fle)):(u.openBlock(),u.createElementBlock("textarea",{key:1,ref:"elem",value:t.input,class:"v3-emoji-picker-textarea",onInput:e[2]||(e[2]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[3]||(e[3]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,Ule)),u.createElementVNode("div",{class:u.normalizeClass(["v3-input-picker-wrap",t.open?"v3-picker-is-open":""])},[u.createElementVNode("button",{ref:"button",type:"button",class:"v3-input-picker-icon",onClick:e[4]||(e[4]=d=>t.open=!t.open)},[u.createElementVNode("img",{src:t.face,alt:""},null,8,$le)],512),u.createElementVNode("div",{ref:"picker",class:u.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[u.createVNode(a),u.createVNode(o,{onSelect:t.onSelect},null,8,["onSelect"]),u.createVNode(l)],2)],2)])])):(u.openBlock(),u.createElementBlock("div",{key:1,class:u.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[u.createVNode(a),u.createVNode(o,{onSelect:t.onSelect},null,8,["onSelect"]),u.createVNode(l)],2))}var Hle=Bf(Rle,[["render",jle]]);const zle=u.defineComponent({name:"Picker",components:{PickerRoot:Hle},props:{native:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1},hideGroupIcons:{type:Boolean,default:!1},hideGroupNames:{type:Boolean,default:!1},staticTexts:{type:Object,default:()=>({})},disableStickyGroupNames:{type:Boolean,default:!1},disabledGroups:{type:Array,default:()=>[]},groupNames:{type:Object,default:()=>({})},disableSkinTones:{type:Boolean,default:!1},text:{type:String,default:""},mode:{type:String,default:"insert"},offset:{type:Number,default:6},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},pickerType:{type:String,default:""},displayRecent:{type:Boolean,default:!1},theme:{type:String,default:"light"}},emits:{"update:text":t=>!0,select:t=>!0},setup(t,{emit:e}){const r=u.ref(t.text);function n(s){r.value=s||"",e("update:text",r.value)}const i=zae();return i.updateOptions({native:t.native,hideSearch:t.hideSearch,hideGroupIcons:t.hideGroupIcons,hideGroupNames:t.hideGroupNames,staticTexts:{...Sae,...t.staticTexts},disableStickyGroupNames:t.disableStickyGroupNames,disabledGroups:t.disabledGroups,groupNames:{...p5,...t.groupNames},disableSkinTones:t.disableSkinTones,displayRecent:t.displayRecent,additionalGroups:t.additionalGroups,mode:t.mode,offset:t.offset,groupOrder:t.groupOrder,groupIcons:t.groupIcons,colorTheme:kae.includes(t.theme)?t.theme:"light"}),u.provide("store",i),{type:t.pickerType,input:r,onChangeText:n}}});function Vle(t,e,r,n,i,s){const a=u.resolveComponent("picker-root");return u.openBlock(),u.createBlock(a,{type:t.type,text:t.input,onSelect:e[0]||(e[0]=o=>t.$emit("select",o)),"onUpdate:text":t.onChangeText},null,8,["type","text","onUpdate:text"])}var qle=Bf(zle,[["render",Vle]]);/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function Pf(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(c){a(c)}}function l(f){try{d(n.throw(f))}catch(c){a(c)}}function d(f){f.done?s(f.value):i(f.value).then(o,l)}d((n=n.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Cr{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(r=>{e=r})}dispatch(e){return Pf(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(e())}finally{r()}})}}var ev;function Wle(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const tv=Wle(),rv=(ev=tv.Buffer)!==null&&ev!==void 0?ev:null,Gle=tv.TextEncoder?new tv.TextEncoder:null;function z5(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function Yle(t,e){const r=e.length>>1;for(let n=0;n<r;n++){const i=n<<1;t[n]=z5(e.charCodeAt(i),e.charCodeAt(i+1))}}function Qle(t,e){if(t.length!==e.length*2)return!1;for(let r=0;r<e.length;r++){const n=r<<1;if(e[r]!==z5(t.charCodeAt(n),t.charCodeAt(n+1)))return!1}return!0}const V5=87,q5=48;function W5(t,e,r){let n=0;for(let i=0;i<r;i++){let s=e[i]>>>4;t[n++]=s>9?s+V5:s+q5,s=e[i]&15,t[n++]=s>9?s+V5:s+q5}return String.fromCharCode.apply(null,t)}const G5=rv!==null?t=>{if(typeof t=="string"){const e=rv.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(rv.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return Gle.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},Y5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ff=new Uint8Array(256);for(let t=0;t<Y5.length;t++)Ff[Y5.charCodeAt(t)]=t;function Kle(t){let e=Math.floor(t.length*.75);const r=t.length;return t[r-1]==="="&&(e-=1,t[r-2]==="="&&(e-=1)),e}function Xle(t){const e=Kle(t),r=t.length,n=new Uint8Array(e);let i=0;for(let s=0;s<r;s+=4){const a=Ff[t.charCodeAt(s)],o=Ff[t.charCodeAt(s+1)],l=Ff[t.charCodeAt(s+2)],d=Ff[t.charCodeAt(s+3)];n[i]=a<<2|o>>4,i+=1,n[i]=(o&15)<<4|l>>2,i+=1,n[i]=(l&3)<<6|d&63,i+=1}return n}const Dm=16*1024,Uf=4,Zle=new Cr,nv=new Map;function Jle(t,e){return Pf(this,void 0,void 0,function*(){let r=null,n=null,i=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const s=(w,L=0)=>{n.set(w,L)},a=()=>n,o=()=>r.exports,l=w=>{r.exports.Hash_SetMemorySize(w);const L=r.exports.Hash_GetBuffer(),D=r.exports.memory.buffer;n=new Uint8Array(D,L,w)},d=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),f=Zle.dispatch(()=>Pf(this,void 0,void 0,function*(){if(!nv.has(t.name)){const L=Xle(t.data),D=WebAssembly.compile(L);nv.set(t.name,D)}const w=yield nv.get(t.name);r=yield WebAssembly.instantiate(w,{})})),c=()=>Pf(this,void 0,void 0,function*(){r||(yield f);const w=r.exports.Hash_GetBuffer(),L=r.exports.memory.buffer;n=new Uint8Array(L,w,Dm)}),h=(w=null)=>{i=!0,r.exports.Hash_Init(w)},p=w=>{let L=0;for(;L<w.length;){const D=w.subarray(L,L+Dm);L+=D.length,n.set(D),r.exports.Hash_Update(D.length)}},m=w=>{if(!i)throw new Error("update() called before init()");const L=G5(w);p(L)},b=new Uint8Array(e*2),y=(w,L=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(L),w==="binary"?n.slice(0,e):W5(b,n,e)},_=()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const w=r.exports.Hash_GetState(),L=d(),D=r.exports.memory.buffer,I=new Uint8Array(D,w,L),P=new Uint8Array(Uf+L);return Yle(P,t.hash),P.set(I,Uf),P},x=w=>{if(!(w instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const L=r.exports.Hash_GetState(),D=d(),I=Uf+D,P=r.exports.memory.buffer;if(w.length!==I)throw new Error(`Bad state length (expected ${I} bytes, got ${w.length})`);if(!Qle(t.hash,w.subarray(0,Uf)))throw new Error("This state was written by an incompatible hash implementation");const z=w.subarray(Uf);new Uint8Array(P,L,D).set(z),i=!0},C=w=>typeof w=="string"?w.length<Dm/4:w.byteLength<Dm;let k=C;switch(t.name){case"argon2":case"scrypt":k=()=>!0;break;case"blake2b":case"blake2s":k=(w,L)=>L<=512&&C(w);break;case"blake3":k=(w,L)=>L===0&&C(w);break;case"xxhash64":case"xxhash3":case"xxhash128":k=()=>!1;break}const S=(w,L=null,D=null)=>{if(!k(w,L))return h(L),m(w),y("hex",D);const I=G5(w);return n.set(I),r.exports.Hash_Calculate(I.length,L,D),W5(b,n,e)};return yield c(),{getMemory:a,writeMemory:s,getExports:o,setMemorySize:l,init:h,update:m,digest:y,save:_,load:x,calculate:S,hashLength:e}})}function eue(t,e,r){return Pf(this,void 0,void 0,function*(){const n=yield t.lock(),i=yield Jle(e,r);return n(),i})}new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr;var tue="sha1",rue="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwkIAAECAwECAAEFBAEBAgIGDgJ/AUHgiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUABApIYXNoX0ZpbmFsAAUNSGFzaF9HZXRTdGF0ZQAGDkhhc2hfQ2FsY3VsYXRlAAcKU1RBVEVfU0laRQMBCpoqCAUAQYAJC68iCgF+An8BfgF/AX4DfwF+AX8Bfkd/QQAgACkDECIBQiCIpyICQRh0IAJBgP4DcUEIdHIgAUIoiKdBgP4DcSABQjiIp3JyIgMgACkDCCIEQiCIpyICQRh0IAJBgP4DcUEIdHIgBEIoiKdBgP4DcSAEQjiIp3JyIgVzIAApAygiBkIgiKciAkEYdCACQYD+A3FBCHRyIAZCKIinQYD+A3EgBkI4iKdyciIHcyAEpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciIIIAApAwAiBKciAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCXMgACkDICIKpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciILcyAAKQMwIgxCIIinIgJBGHQgAkGA/gNxQQh0ciAMQiiIp0GA/gNxIAxCOIincnIiAnNBAXciDXNBAXciDiAFIARCIIinIg9BGHQgD0GA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiEHMgCkIgiKciD0EYdCAPQYD+A3FBCHRyIApCKIinQYD+A3EgCkI4iKdyciIRcyAAKQM4IgSnIg9BGHQgD0GA/gNxQQh0ciAPQQh2QYD+A3EgD0EYdnJyIg9zQQF3IhJzIAcgEXMgEnMgCyAAKQMYIgqnIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyIhNzIA9zIA5zQQF3IgBzQQF3IhRzIA0gD3MgAHMgAiAHcyAOcyAGpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIWIAtzIA1zIApCIIinIhVBGHQgFUGA/gNxQQh0ciAKQiiIp0GA/gNxIApCOIincnIiFyADcyACcyABpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIYIAhzIBZzIARCIIinIhVBGHQgFUGA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiFXNBAXciGXNBAXciGnNBAXciG3NBAXciHHNBAXciHXNBAXciHiASIBVzIBEgF3MgFXMgEyAYcyAMpyIfQRh0IB9BgP4DcUEIdHIgH0EIdkGA/gNxIB9BGHZyciIgcyASc0EBdyIfc0EBdyIhcyAPICBzIB9zIBRzQQF3IiJzQQF3IiNzIBQgIXMgI3MgACAfcyAicyAec0EBdyIkc0EBdyIlcyAdICJzICRzIBwgFHMgHnMgGyAAcyAdcyAaIA5zIBxzIBkgDXMgG3MgFSACcyAacyAgIBZzIBlzICFzQQF3IiZzQQF3IidzQQF3IihzQQF3IilzQQF3IipzQQF3IitzQQF3IixzQQF3Ii0gIyAncyAhIBpzICdzIB8gGXMgJnMgI3NBAXciLnNBAXciL3MgIiAmcyAucyAlc0EBdyIwc0EBdyIxcyAlIC9zIDFzICQgLnMgMHMgLXNBAXciMnNBAXciM3MgLCAwcyAycyArICVzIC1zICogJHMgLHMgKSAecyArcyAoIB1zICpzICcgHHMgKXMgJiAbcyAocyAvc0EBdyI0c0EBdyI1c0EBdyI2c0EBdyI3c0EBdyI4c0EBdyI5c0EBdyI6c0EBdyI7IDEgNXMgLyApcyA1cyAuIChzIDRzIDFzQQF3IjxzQQF3Ij1zIDAgNHMgPHMgM3NBAXciPnNBAXciP3MgMyA9cyA/cyAyIDxzID5zIDtzQQF3IkBzQQF3IkFzIDogPnMgQHMgOSAzcyA7cyA4IDJzIDpzIDcgLXMgOXMgNiAscyA4cyA1ICtzIDdzIDQgKnMgNnMgPXNBAXciQnNBAXciQ3NBAXciRHNBAXciRXNBAXciRnNBAXciR3NBAXciSHNBAXciSSA+IEJzIDwgNnMgQnMgP3NBAXciSnMgQXNBAXciSyA9IDdzIENzIEpzQQF3IkwgRCA5IDIgMSA0ICkgHSAUIB8gFSAWQQAoAoCJASJNQQV3QQAoApCJASJOaiAJakEAKAKMiQEiT0EAKAKIiQEiCXNBACgChIkBIlBxIE9zakGZ84nUBWoiUUEedyJSIANqIFBBHnciAyAFaiBPIAMgCXMgTXEgCXNqIBBqIFFBBXdqQZnzidQFaiIQIFIgTUEedyIFc3EgBXNqIAkgCGogUSADIAVzcSADc2ogEEEFd2pBmfOJ1AVqIlFBBXdqQZnzidQFaiJTIFFBHnciAyAQQR53IghzcSAIc2ogBSAYaiBRIAggUnNxIFJzaiBTQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhhBHnciUmogU0EedyIWIAtqIAggE2ogBSAWIANzcSADc2ogGEEFd2pBmfOJ1AVqIgggUiAFQR53IgtzcSALc2ogAyAXaiAYIAsgFnNxIBZzaiAIQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhMgBUEedyIWIAhBHnciA3NxIANzaiALIBFqIAUgAyBSc3EgUnNqIBNBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiUkEedyILaiACIBNBHnciFWogByADaiARIBUgFnNxIBZzaiBSQQV3akGZ84nUBWoiByALIBFBHnciAnNxIAJzaiAgIBZqIFIgAiAVc3EgFXNqIAdBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiFiARQR53IhUgB0EedyIHc3EgB3NqIA8gAmogESAHIAtzcSALc2ogFkEFd2pBmfOJ1AVqIgtBBXdqQZnzidQFaiIRQR53IgJqIBIgFWogESALQR53Ig8gFkEedyISc3EgEnNqIA0gB2ogCyASIBVzcSAVc2ogEUEFd2pBmfOJ1AVqIg1BBXdqQZnzidQFaiIVQR53Ih8gDUEedyIHcyAZIBJqIA0gAiAPc3EgD3NqIBVBBXdqQZnzidQFaiINc2ogDiAPaiAVIAcgAnNxIAJzaiANQQV3akGZ84nUBWoiAkEFd2pBodfn9gZqIg5BHnciD2ogACAfaiACQR53IgAgDUEedyINcyAOc2ogGiAHaiANIB9zIAJzaiAOQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg5BHnciEiACQR53IhRzICEgDWogDyAAcyACc2ogDkEFd2pBodfn9gZqIgJzaiAbIABqIBQgD3MgDnNqIAJBBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyIOaiAcIBJqIABBHnciDyACQR53IgJzIA1zaiAmIBRqIAIgEnMgAHNqIA1BBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyISIABBHnciFHMgIiACaiAOIA9zIABzaiANQQV3akGh1+f2BmoiAHNqICcgD2ogFCAOcyANc2ogAEEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53Ig5qICggEmogAkEedyIPIABBHnciAHMgDXNqICMgFGogACAScyACc2ogDUEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53IhIgAkEedyIUcyAeIABqIA4gD3MgAnNqIA1BBXdqQaHX5/YGaiIAc2ogLiAPaiAUIA5zIA1zaiAAQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg1BHnciDmogKiAAQR53IgBqIA4gAkEedyIPcyAkIBRqIAAgEnMgAnNqIA1BBXdqQaHX5/YGaiIUc2ogLyASaiAPIABzIA1zaiAUQQV3akGh1+f2BmoiDUEFd2pBodfn9gZqIgAgDUEedyICciAUQR53IhJxIAAgAnFyaiAlIA9qIBIgDnMgDXNqIABBBXdqQaHX5/YGaiINQQV3akHc+e74eGoiDkEedyIPaiA1IABBHnciAGogKyASaiANIAByIAJxIA0gAHFyaiAOQQV3akHc+e74eGoiEiAPciANQR53Ig1xIBIgD3FyaiAwIAJqIA4gDXIgAHEgDiANcXJqIBJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAiAAQR53Ig5yIBJBHnciEnEgAiAOcXJqICwgDWogACASciAPcSAAIBJxcmogAkEFd2pB3Pnu+HhqIgBBBXdqQdz57vh4aiINQR53Ig9qIDwgAkEedyICaiA2IBJqIAAgAnIgDnEgACACcXJqIA1BBXdqQdz57vh4aiISIA9yIABBHnciAHEgEiAPcXJqIC0gDmogDSAAciACcSANIABxcmogEkEFd2pB3Pnu+HhqIgJBBXdqQdz57vh4aiINIAJBHnciDnIgEkEedyIScSANIA5xcmogNyAAaiACIBJyIA9xIAIgEnFyaiANQQV3akHc+e74eGoiAEEFd2pB3Pnu+HhqIgJBHnciD2ogMyANQR53Ig1qID0gEmogACANciAOcSAAIA1xcmogAkEFd2pB3Pnu+HhqIhIgD3IgAEEedyIAcSASIA9xcmogOCAOaiACIAByIA1xIAIgAHFyaiASQQV3akHc+e74eGoiAkEFd2pB3Pnu+HhqIg0gAkEedyIOciASQR53IhJxIA0gDnFyaiBCIABqIAIgEnIgD3EgAiAScXJqIA1BBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyIPaiBDIA5qIAIgAEEedyIUciANQR53Ig1xIAIgFHFyaiA+IBJqIAAgDXIgDnEgACANcXJqIAJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyISIABBHnciDnMgOiANaiAAIA9yIBRxIAAgD3FyaiACQQV3akHc+e74eGoiAHNqID8gFGogAiAOciAPcSACIA5xcmogAEEFd2pB3Pnu+HhqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEogEmogAkEedyIUIABBHnciAHMgDXNqIDsgDmogACAScyACc2ogDUEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig4gAkEedyIScyBFIABqIA8gFHMgAnNqIA1BBXdqQdaDi9N8aiIAc2ogQCAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciD2ogQSAOaiACQR53IhQgAEEedyIAcyANc2ogRiASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzIEIgOHMgRHMgTHNBAXciFSAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEcgFGogEiAPcyANc2ogAEEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEggDmogAkEedyIUIABBHnciAHMgDXNqIEMgOXMgRXMgFXNBAXciGSASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzID8gQ3MgTHMgS3NBAXciGiAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEQgOnMgRnMgGXNBAXciGyAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDyBOajYCkIkBQQAgTyBKIERzIBVzIBpzQQF3IhQgEmogAEEedyIAIA5zIAJzaiANQQV3akHWg4vTfGoiEkEedyIVajYCjIkBQQAgCSBFIDtzIEdzIBtzQQF3IA5qIAJBHnciAiAAcyANc2ogEkEFd2pB1oOL03xqIg1BHndqNgKIiQFBACBQIEAgSnMgS3MgSXNBAXcgAGogDyACcyASc2ogDUEFd2pB1oOL03xqIgBqNgKEiQFBACBNIEwgRXMgGXMgFHNBAXdqIAJqIBUgD3MgDXNqIABBBXdqQdaDi9N8ajYCgIkBCzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqAMBCH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQBBACgCmIkBIAQgA0lqIAFBHXZqNgKYiQECQCADQQN2QT9xIgUgAWpBwABJDQBBwAAgBWsiAkEDcSEGQQAhAwJAIAVBP3NBA0kNACAFQYCJAWohByACQfwAcSEIQQAhAwNAIAcgA2oiBEEcaiAAIANqIgktAAA6AAAgBEEdaiAJQQFqLQAAOgAAIARBHmogCUECai0AADoAACAEQR9qIAlBA2otAAA6AAAgCCADQQRqIgNHDQALCwJAIAZFDQAgACADaiEEIAMgBWpBnIkBaiEDA0AgAyAELQAAOgAAIARBAWohBCADQQFqIQMgBkF/aiIGDQALC0GciQEQASAFQf8AcyEDQQAhBSADIAFPDQADQCAAIAJqEAEgAkH/AGohAyACQcAAaiIEIQIgAyABSQ0ACyAEIQILAkAgASACRg0AIAEgAmshCSAAIAJqIQIgBUGciQFqIQNBACEEA0AgAyACLQAAOgAAIAJBAWohAiADQQFqIQMgCSAEQQFqIgRB/wFxSw0ACwsLCQBBgAkgABADC6YDAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAggAEEAKAKUiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAwgAEEHakEBEAMCQEEAKAKUiQFB+ANxQcADRg0AA0AgAEEAOgAHIABBB2pBARADQQAoApSJAUH4A3FBwANHDQALCyAAQQhqQQgQA0EAQQAoAoCJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AoQJQQBBACgCiIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKICUEAQQAoAoyJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2ApAJIABBEGokAAsGAEGAiQELQwBBAEL+uevF6Y6VmRA3AoiJAUEAQoHGlLqW8ermbzcCgIkBQQBC8MPLngw3ApCJAUEAQQA2ApiJAUGACSAAEAMQBQsLCwEAQYAICwRcAAAA",nue="6b530c24",iue={name:tue,data:rue,hash:nue};const sue=new Cr;let Nm=null;function iv(t){if(Nm===null)return eue(sue,iue,20).then(e=>(Nm=e,Nm.calculate(t)));try{const e=Nm.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr,new Cr;const sv=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=new Image;i.src=n.result,i.onload=async()=>{e({id:await iv(i.src),width:i.width,height:i.height,thumbnailUrl:i.src,originalUrl:i.src})},i.onerror=()=>r},n.onerror=()=>{r(n.error)},n.readAsDataURL(t)}),aue=t=>new Promise((e,r)=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}const s=document.createElement("video");s.src=URL.createObjectURL(t),s.autoplay=!0,s.onloadedmetadata=()=>{n.width=s.videoWidth,n.height=s.videoHeight},s.onloadeddata=()=>{i.drawImage(s,0,0,n.width,n.height),n.toBlob(async a=>{if(!a){r(new Error("Could not create blob"));return}const o=new File([a],"snapshot.jpg",{type:"image/jpeg"}),l=new FileReader;l.readAsDataURL(a),l.onloadend=async()=>{e({id:await iv(s.src),width:n.width,height:n.height,duration:s.duration,thumbnailUrl:l.result,originalUrl:"",thumbnailFile:{id:await iv(n.toDataURL()),file:o}})}},"image/jpeg")},s.onerror=()=>r}),Mm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSElEQVR4nO1azW9bRRBfia8jggKlfPSAACFF4f8AKkQ/0lYFxAFw6lnHeMYNCRdmbJqkEtAol6KKK4iqd+DAAYFEKyq+BEJUcKINLVAqoCQF0jageXYav33P4a3f87Mj/JNWSuzd2R3v7MxvdtaYAQYYYIAB/qew43wHVOVJIJkFlPct8Ukg+dWS/KMNSH4HlG+A5D2LfLBEsqtQ2b/JrCdYO73BEpNF/sQSL68ol7QByhWL8pElea4wceBG068Yxf13WuRDFuVPXyXXaH9YkrlyeWqj6Rcw8/UWWYD4YoaKhhvyBSCeLBQOX9dTZS3Wh4H4y/aL5ctAfMyiTBWrvA0q9aHi5MxNunBt+nfwWZW3aR8gOR6YdHvFT1ji+3uibIlkFyAvtFnYKYsyoWbuK3fseb5LdxNQTrc3c95i8gQgl+McEhD/bKtcUDPP5KhUeK9FORdnOfqdyQMWuRLrXUneROSbM5/PTm8AkrdilF4uoTxtugmo8o7oGeMlS/xM961KRhtzhXe6RPxYNx3UReeXXixVaw+ZnADID+ucjr/4rTxevy/TicbG5m6IemNeylPZFRSrtUfcnQbkz5j52swmAZJazBnquhm3Q+DMogytmonwcpk3R0wZ+Q3TYwDyETdcwT6+PQPB8roberrhjX1RIL4FiH9xdvnlVEL3Vvm2CDeucsH0CYrI4JzlBWVvHQu0KBMug8qCVGTqTB1GBiTFjgVaks/DCstE4rFY2wrEP1rieYu17Qn6b7fEZ7SpJ046j9JQR+HjphMUK3yPG+R9uLFF+SlEBZH3tO/Le4I+q2fxh8TrpJfuDpMhXh4bm7o16firsBV5ynFWx4wHwgpfVXp3tB/vblW22XfeZy4g+bh1fIlqIz7jAwDKYcecp4wHdFJXEUC5pFlWOOOSS9Ef5r+PQCssyozjaw76jA9gUT4IC6ltNZ6ACu+MUwhIHm/y8sh3JeQnvOep8g4nJr/tK8MAyfeh3anUh7yFNE3WVUz/j/sszuSTzVEfdsLTtx0IkVD8TUM24k23val3QkKc43fOW4h1Evy08bdhdm56t2riaeOx42D/8hIwMnL0GndhqRWOPc9N867wzp4qrHDvq9KZdG1kLZPu1Flla9LIp9ar07Ik33kLAeIPexGWtDSTNiwB8jud7Mwh51xM+40PuHEuxAOID4TXKrM+4wPojWAaUm5Rzqaglmf85tIL+tbj14ETLJd5s7M7V/SSPPEigsyns+TBR+HgRsZJHjSPTzo+BIvylWPWkyYhtDqwku75poc+lQWL8kIaSwwBUMadXT7dbxcAQb7dska9BelYYLk8tRFQ/g6dr7xKHAkAyCXHOy9opSKdUJLXHJM5r4He9EPhPVJ34ldSCy6r83ISCa31mB4DiI+GeQJfyOSaVmGRX4zhwKOmR7AktmsX8S23g1875rOktR6TM9SDR2gpyaeZvw6ASn0opgC+mKfSjVAXLqY1XgLxvV2ZsNSggtFyaQ6eW804loYSP5prKLCrIeFIN7y3XrlGHFSTUQHKsyavJw8Q8/hEaz0a+PXMZ+M3uKRhMEbZy7kpu4JGetfmUQvxvNJQvSQ3ntAxDboYZlCtZ7brZtwOJeIHgPiLeKUbCUdwSY4yE+SsWB/WmxOlp9r07+I+fjD48TTFQz6x1rMl9cZdc1BJoeFAnwlq4G+30Azaoj5+6yceb4KnhyRzkTcYKZoeGUB5NTMG1bVCtTo1p96TvPGypngahvqh8O6dbQWxm2TWkrzbfD58XjOwoAUemE/qd9pH+3acvA8wwAADDGDWP/4FAPVu0JK6ZhcAAAAASUVORK5CYII=",oue={key:0,class:"mb-3 flex gap-2 rounded-lg bg-gray-200 p-2 dark:bg-zinc-600"},lue={class:"flex flex-col gap-1"},uue={class:"text-sm font-bold text-gray-600"},cue={class:"multiline-ellipsis text-xs text-gray-500 dark:text-gray-300"},due={class:"ml-auto flex flex-shrink-0 gap-2"},fue={key:0},hue={key:1},pue={src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"h-[2.8rem] w-[2.8rem] border-0 object-contain"},mue={key:2,class:"h-10 w-10 rounded object-cover"},gue=Sr(u.defineComponent({__name:"ReplyMessagePreview",setup(t){const e=nr(),r=u.computed(()=>{var f;const{replyId:d}=e.state.imkit;return(f=e.state.imkit.messageMultiList.main)==null?void 0:f.map.get(d)}),n=u.computed(()=>{const d=r.value;if(d)return e.state.imkit.users[d.senderId]}),i=u.computed(()=>{if(r.value.type===at.Text)return r.value.text;if(r.value.type===at.Image||r.value.type===at.Sticker||r.value.type===at.Video){const{t:d}=Ss();return{[at.Image]:d("image"),[at.Video]:d("video"),[at.Sticker]:d("sticker")}[r.value.type]}return""}),s=u.computed(()=>{if(r.value.type===at.Image)return r.value.images[0]}),a=u.computed(()=>r.value),o=u.computed(()=>r.value),l=()=>{e.commit("imkit/setState",{replyId:""})};return(d,f)=>{var h,p,m;const c=u.resolveDirective("src");return r.value?(u.openBlock(),u.createElementBlock("div",oue,[u.createVNode(gn,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg bg-gray-300 text-sm",url:((h=n.value)==null?void 0:h.avatarUrl)??"",name:((p=n.value)==null?void 0:p.nickname)??""},null,8,["url","name"]),u.createElementVNode("div",lue,[u.createElementVNode("div",uue,u.toDisplayString((m=n.value)==null?void 0:m.nickname),1),u.createElementVNode("div",cue,u.toDisplayString(i.value),1)]),u.createElementVNode("div",due,[r.value.type===u.unref(at).Sticker?(u.openBlock(),u.createElementBlock("div",fue,[u.createVNode(oS,{class:u.normalizeClass({"h-[2.8rem] w-[2.8rem]":!0}),message:a.value},null,8,["message"])])):u.createCommentVNode("",!0),r.value.type===u.unref(at).Video?(u.openBlock(),u.createElementBlock("div",hue,[u.withDirectives(u.createElementVNode("img",pue,null,512),[[c,o.value.video.thumbnailUrl]])])):u.createCommentVNode("",!0),s.value?u.withDirectives((u.openBlock(),u.createElementBlock("img",mue,null,512)),[[c,s.value.thumbnailUrl]]):u.createCommentVNode("",!0),u.createElementVNode("img",{src:Mm,class:"h-5 w-5 cursor-pointer text-gray-400",onClick:l})])])):u.createCommentVNode("",!0)}}}),[["__scopeId","data-v-5db3707c"]]),bue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXElEQVR4nO2Zv2sUQRTHH4qKhYWFiljYSqLVFbl9M3aiQbAzWFgGrA0Wlrvz7oKKRLAMWomN9w8o2AdLG7EJgj8awUKy995GRFcWklxiSLxzf8zMMh/49vtlZt/37XcBAoFAIBAIBAL7oyidVsRGGXnUpfQCtBF8kB9TSTaviFcUSb4lwxLF6XloC2gkQuKnSJzuMLpNSPwQfEYvrp1A4gUkfreXyb9OOQHviPMDupddQuJnxTUdy+iW0mnwhW6fz2iSu2j4w2QmN8Ur4DpTcX5YGb6GJAMk/vl/RjeUZPPgKlG8fg4N31ckX0uZHA2rtJje4BLdpfyoNjKHhl8rw7+rMDoaVvIEXEETd5BkWRleq9TkdvW5a9fkve/HNfEtNPK2NpOjYfXewziRMu/vgmdxImVO90exnPgVJ1TmdGXgVZyokorM8EotRjGRG7u+TiwLiT8Wc6N6szS8attcox8KiuSOdXO7xL+inpytxfDF/vC0Mrxq3+QOvYK6p7LeXAvtm82LZ4GmV0UkzqwYNvJt9nF+BJpmZjE9VSwciuRzw+/vEthkqvHr7lCroWu/7o62GjN1XXeXW42qr7uTrcZ+IMmb1rQa44CJ3PS61ZiUznJ+SBn54lerUZJi4fei1aiKKE5PouF1J1uNulDEzyc6XcMvwGc0cWciw73sMvgOjhlRaPjT3CA/CL6DY0YUksTQBjpjRVSNrYaLEYVGXkKbiP4RURHxdWgbaq+IstVq2Isoy61G8xHlUKtRf0Q52mpU/GNu1UoFa4uNsv+27g1nrT1EIBAIBAJghT+Mm9s2KhDbfwAAAABJRU5ErkJggg==",Q5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR4nO1Zu24TQRRdAaGg5FHx+AsQfIgFgj5NZOeeSQGi2Y7QWiQKiCaW0iFCAaHhD1JEAoUPIKQiMRKR7Jld4wy66weOsbUzuzO7RvKRrmTJo/U5O/feOXMdBHPMMUdu6ErlfHt5+Z4ieiqBt5LoqyT6KYE4id7nff6O17SAuzoMzwVloy3ETUn0XBEdKkBbxncJrLaq1RuFEz+pVq8p4JUkijIQPxOy94yNEyGuFkI+Ah5KomZe4hPiOAIeeCOuFxcXFPDaA3F9Johe8m+5Jn9JAh+9k8cwrXb4N12RXyiSvPobn3QYXswtoJC0wdTYyEW+TfSoRPKaIxLifibyv5aWriiio7IFSKJmphbLfb5s8moQROtW5Pl0tDqkhNBxvW5MKFkrhM0uRO1a7ZaxgMQeWJD/vburdberO1tb6eQ3N5O13b09rVZWzEUAq0bk2WSxT7EiP0CKiAH54fI9CxFEh2waUwUkrtIiFUYJDUTEjca/axuNyWvrFqkH3EkVwHbXpsDG3+qknZi2JjZIubFdeGKS/9tWD00R4Yw8kjp4ky4A2Ld98FQRp6e9cEBe9brRF5MdyGyVJ4pwRF71UujIRECuS0oiYvyt93cjF3kkKaRKFdApSEDTZwp1vKcQ/Bdxx3MRbzsh3y9Yk3NCuWyjrg6y0YJ1KOJxqgAeOs2slajVbpuZOaKDrGYu9mXmgG/G0zy2rlnsdOzTThM9MyI/kxcaQLWA64ENeCJgWWD+guhFYAsNXJ6FS70CjjPPTXlWWbaASIhKkAc8qyxRwFqQF3wPlcC7oslL4IMOwwu5BQyHu0Q7hZEneu9suDs2Xi+iM605e/OTwLNKT93pR+6CtZybrvMB4yDXFfd5bttB0eDTMbEdpt5pNIgO2B5Yn7A+wCaLh048t2HPzhcPvtmxHelHUwKf+Tu2xOwqZ+Jv1jnmCP5//AFGuxmMzLZJIgAAAABJRU5ErkJggg==";function $f(t,e,r){var n=r||{},i=n.noTrailing,s=i===void 0?!1:i,a=n.noLeading,o=a===void 0?!1:a,l=n.debounceMode,d=l===void 0?void 0:l,f,c=!1,h=0;function p(){f&&clearTimeout(f)}function m(y){var _=y||{},x=_.upcomingOnly,C=x===void 0?!1:x;p(),c=!C}function b(){for(var y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];var C=this,k=Date.now()-h;if(c)return;function S(){h=Date.now(),e.apply(C,_)}function w(){f=void 0}!o&&d&&!f&&S(),p(),d===void 0&&k>t?o?(h=Date.now(),s||(f=setTimeout(d?w:S,t))):S():s!==!0&&(f=setTimeout(d?w:S,d===void 0?t-k:t))}return b.cancel=m,b}function av(t,e,r){var n=r||{},i=n.atBegin,s=i===void 0?!1:i;return $f(t,e,{debounceMode:s!==!1})}const K5=t=>(u.pushScopeId("data-v-c9c51bc0"),t=t(),u.popScopeId(),t),yue={class:"relative flex justify-center"},_ue={key:0,class:"absolute bottom-2 flex items-center gap-1 rounded-full bg-white bg-opacity-85 p-2 text-xs shadow-lg transition duration-150 ease-in-out dark:bg-zinc-800"},vue=K5(()=>u.createElementVNode("img",{class:"h-4 w-4",src:Q5},null,-1)),Tue=["disabled"],Eue={key:0,class:"h-10.5 flex w-full items-center justify-center"},Aue=[K5(()=>u.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-300 text-gray-200",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],xue={class:"text-base font-semibold"},Cue={class:"text-xs"},wue=Sr(u.defineComponent({__name:"LocationModal",setup(t){class e{constructor(k,S,w=null){Ge(this,"lat");Ge(this,"lng");Ge(this,"address");this.lat=k,this.lng=S,this.address=w}get isValid(){return this.address!==null}}const r=kn(),{t:n}=Ss(),i=nr(),s=i.state.imkit.config.mapApiKey,a=u.ref(),o=u.ref(new e(21.30895,-157.826182)),l=u.ref({lat:o.value.lat,lng:o.value.lng}),d=u.computed(()=>({position:{lat:o.value.lat,lng:o.value.lng}})),f=u.ref(""),c=u.ref(!1),h=u.ref(10),p=u.ref(!1),m=u.ref(""),b=()=>new Promise((C,k)=>{c.value=!0,navigator.geolocation.getCurrentPosition(S=>{let{latitude:w,longitude:L}=S.coords;m.value="",c.value=!1,C({lat:w,lng:L})},S=>{switch(c.value=!1,S.code){case S.PERMISSION_DENIED:m.value=n("noAccessLocationPermission");break;case S.POSITION_UNAVAILABLE:m.value=n("locationInfoUnavailable");break;case S.TIMEOUT:m.value=n("requestLocationTimeout");break}k(S)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),y=async(C,k)=>{try{const{data:S}=await fr.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${C},${k}&key=${s}`);if(S.error_message)throw new Error(S.error_message);return S.results[0].formatted_address}catch(S){throw m.value=n("addressUnavailable"),S}},_=$f(700,async C=>{var k,S;try{if(C===0){const D=(k=a.value)==null?void 0:k.map.getCenter();if(D){const{lat:I,lng:P}=D;o.value=new e(I(),P())}}else if(C===1){const{lat:D,lng:I}=await b();o.value=new e(D,I),h.value=17,(S=a.value)==null||S.map.panTo({lat:D,lng:I})}let{lat:w,lng:L}=o.value;L=((L+180)%360+360)%360-180,w=Math.max(Math.min(w,90),-90),f.value=await y(w,L),o.value=new e(w,L,f.value)}catch(w){console.error(w)}},{noLeading:!1,noTrailing:!1}),x=async()=>{p.value=!0;const C={roomId:i.state.imkit.selectedRoomId,messageType:"location",message:f.value,latitude:d.value.position.lat,longitude:d.value.position.lng};r.closeAll(),await i.dispatch("imkit/sendMessage",C),p.value=!1};return _(1),(C,k)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"flex flex-col bg-white dark:bg-zinc-800 rounded-lg overflow-hidden sm:w-[450px] w-[350px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",yue,[u.createVNode(u.unref(bD),{ref_key:"mapRef",ref:a,"api-key":u.unref(s),center:l.value,zoom:h.value,disableDefaultUi:!0,onCenter_changed:k[0]||(k[0]=S=>u.unref(_)(0)),class:"h-[250px] w-[350px] sm:h-[350px] sm:w-[450px]"},{default:u.withCtx(()=>[u.createVNode(u.unref(vD),{options:d.value},null,8,["options"])]),_:1},8,["api-key","center","zoom"]),u.createElementVNode("button",{class:"absolute right-2 top-2 flex items-center justify-center rounded-full shadow-lg",onClick:k[1]||(k[1]=S=>u.unref(r).closeAll())},[u.createVNode(Ul,{class:"h-9 w-9"})]),u.createElementVNode("button",{class:"absolute bottom-2 right-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:k[2]||(k[2]=S=>u.unref(_)(1))},[u.createElementVNode("img",{class:u.normalizeClass(["h-5 w-5",{"animate-pulse":c.value}]),src:bue},null,2)]),u.createVNode(u.Transition,null,{default:u.withCtx(()=>[m.value?(u.openBlock(),u.createElementBlock("div",_ue,[vue,u.createTextVNode(" "+u.toDisplayString(m.value),1)])):u.createCommentVNode("",!0)]),_:1})]),u.createElementVNode("button",{class:"disabled:( cursor-not-allowed) m-2 flex flex-col items-center gap-0.5 rounded-lg bg-blue-400 p-2 text-white",disabled:c.value||p.value||!o.value.isValid,onClick:x},[p.value?(u.openBlock(),u.createElementBlock("div",Eue,Aue)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[u.createElementVNode("div",xue,u.toDisplayString(C.$t("sendCurrentLocation")),1),u.createElementVNode("div",Cue,u.toDisplayString(f.value),1)],64))],8,Tue)]),_:1}))}}),[["__scopeId","data-v-c9c51bc0"]]),X5="1.77.3",Sue=u.defineComponent({__name:"VersionModal",setup(t){const e=kn(),r=()=>{e.closeAll()};return(n,i)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createTextVNode(" IMKIT version: "+u.toDisplayString(u.unref(X5))+" ",1),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg bg-blue-400 text-base text-white",onClick:r},u.toDisplayString(n.$t("confirm")),1)]),_:1}))}});var Z5={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(R,N){if(!R)throw"First parameter is required.";N=N||{type:"video"},N=new r(R,N);var V=this;function Z(be){return N.disableLogs||console.log("RecordRTC version: ",V.version),be&&(N=new r(R,be)),N.disableLogs||console.log("started recording "+N.type+" stream."),he?(he.clearRecordedData(),he.record(),Ce("recording"),V.recordingDuration&&me(),V):(X(function(){V.recordingDuration&&me()}),V)}function X(be){be&&(N.initCallback=function(){be(),be=N.initCallback=null});var Le=new n(R,N);he=new Le(R,N),he.record(),Ce("recording"),N.disableLogs||console.log("Initialized recorderType:",he.constructor.name,"for output-type:",N.type)}function K(be){if(be=be||function(){},!he){Fe();return}if(V.state==="paused"){V.resumeRecording(),setTimeout(function(){K(be)},1);return}V.state!=="recording"&&!N.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',V.state),N.disableLogs||console.log("Stopped recording "+N.type+" stream."),N.type!=="gif"?he.stop(Le):(he.stop(),Le()),Ce("stopped");function Le(xe){if(!he){typeof be.call=="function"?be.call(V,""):be("");return}Object.keys(he).forEach(function(ue){typeof he[ue]!="function"&&(V[ue]=he[ue])});var B=he.blob;if(!B)if(xe)he.blob=B=xe;else throw"Recording failed.";if(B&&!N.disableLogs&&console.log(B.type,"->",_(B.size)),be){var q;try{q=f.createObjectURL(B)}catch{}typeof be.call=="function"?be.call(V,q):be(q)}N.autoWriteToDisk&&ge(function(ue){var ye={};ye[N.type+"Blob"]=ue,H.Store(ye)})}}function de(){if(!he){Fe();return}if(V.state!=="recording"){N.disableLogs||console.warn("Unable to pause the recording. Recording state: ",V.state);return}Ce("paused"),he.pause(),N.disableLogs||console.log("Paused recording.")}function le(){if(!he){Fe();return}if(V.state!=="paused"){N.disableLogs||console.warn("Unable to resume the recording. Recording state: ",V.state);return}Ce("recording"),he.resume(),N.disableLogs||console.log("Resumed recording.")}function Te(be){postMessage(new FileReaderSync().readAsDataURL(be))}function ge(be,Le){if(!be)throw"Pass a callback function over getDataURL.";var xe=Le?Le.blob:(he||{}).blob;if(!xe){N.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){ge(be,Le)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var B=ue(Te);B.onmessage=function(ye){be(ye.data)},B.postMessage(xe)}else{var q=new FileReader;q.readAsDataURL(xe),q.onload=function(ye){be(ye.target.result)}}function ue(ye){try{var Pe=f.createObjectURL(new Blob([ye.toString(),"this.onmessage =  function (eee) {"+ye.name+"(eee.data);}"],{type:"application/javascript"})),$e=new Worker(Pe);return f.revokeObjectURL(Pe),$e}catch{}}}function me(be){if(be=be||0,V.state==="paused"){setTimeout(function(){me(be)},1e3);return}if(V.state!=="stopped"){if(be>=V.recordingDuration){K(V.onRecordingStopped);return}be+=1e3,setTimeout(function(){me(be)},1e3)}}function Ce(be){V&&(V.state=be,typeof V.onStateChanged.call=="function"?V.onStateChanged.call(V,be):V.onStateChanged(be))}var Ne='It seems that recorder is destroyed or "startRecording" is not invoked for '+N.type+" recorder.";function Fe(){N.disableLogs!==!0&&console.warn(Ne)}var he,Re={startRecording:Z,stopRecording:K,pauseRecording:de,resumeRecording:le,initRecorder:X,setRecordingDuration:function(be,Le){if(typeof be>"u")throw"recordingDuration is required.";if(typeof be!="number")throw"recordingDuration must be a number.";return V.recordingDuration=be,V.onRecordingStopped=Le||function(){},{onRecordingStopped:function(xe){V.onRecordingStopped=xe}}},clearRecordedData:function(){if(!he){Fe();return}he.clearRecordedData(),N.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!he){Fe();return}return he.blob},getDataURL:ge,toURL:function(){if(!he){Fe();return}return f.createObjectURL(he.blob)},getInternalRecorder:function(){return he},save:function(be){if(!he){Fe();return}x(he.blob,be)},getFromDisk:function(be){if(!he){Fe();return}e.getFromDisk(N.type,be)},setAdvertisementArray:function(be){N.advertisement=[];for(var Le=be.length,xe=0;xe<Le;xe++)N.advertisement.push({duration:xe,image:be[xe]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){V.state==="recording"&&!N.disableLogs&&console.warn("Stop an active recorder."),he&&typeof he.clearRecordedData=="function"&&he.clearRecordedData(),he=null,Ce("inactive"),V.blob=null},onStateChanged:function(be){N.disableLogs||console.log("Recorder state changed:",be)},state:"inactive",getState:function(){return V.state},destroy:function(){var be=N.disableLogs;N={disableLogs:!0},V.reset(),Ce("destroyed"),Re=V=null,L.AudioContextConstructor&&(L.AudioContextConstructor.close(),L.AudioContextConstructor=null),N.disableLogs=be,N.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return V=Re,Re;for(var rt in Re)this[rt]=Re[rt];return V=this,Re}e.version="5.6.2",t.exports=e,e.getFromDisk=function(R,N){if(!N)throw"callback is mandatory.";console.log("Getting recorded "+(R==="all"?"blobs":R+" blob ")+" from disk!"),H.Fetch(function(V,Z){R!=="all"&&Z===R+"Blob"&&N&&N(V),R==="all"&&N&&N(V,Z.replace("Blob",""))})},e.writeToDisk=function(R){console.log("Writing recorded blob(s) to disk!"),R=R||{},R.audio&&R.video&&R.gif?R.audio.getDataURL(function(N){R.video.getDataURL(function(V){R.gif.getDataURL(function(Z){H.Store({audioBlob:N,videoBlob:V,gifBlob:Z})})})}):R.audio&&R.video?R.audio.getDataURL(function(N){R.video.getDataURL(function(V){H.Store({audioBlob:N,videoBlob:V})})}):R.audio&&R.gif?R.audio.getDataURL(function(N){R.gif.getDataURL(function(V){H.Store({audioBlob:N,gifBlob:V})})}):R.video&&R.gif?R.video.getDataURL(function(N){R.gif.getDataURL(function(V){H.Store({videoBlob:N,gifBlob:V})})}):R.audio?R.audio.getDataURL(function(N){H.Store({audioBlob:N})}):R.video?R.video.getDataURL(function(N){H.Store({videoBlob:N})}):R.gif&&R.gif.getDataURL(function(N){H.Store({gifBlob:N})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(R,N){return!N.recorderType&&!N.type&&(N.audio&&N.video?N.type="video":N.audio&&!N.video&&(N.type="audio")),N.recorderType&&!N.type&&(N.recorderType===U||N.recorderType===z||typeof W<"u"&&N.recorderType===W?N.type="video":N.recorderType===Y?N.type="gif":N.recorderType===P?N.type="audio":N.recorderType===I&&(k(R,"audio").length&&k(R,"video").length||!k(R,"audio").length&&k(R,"video").length?N.type="video":k(R,"audio").length&&!k(R,"video").length&&(N.type="audio"))),typeof I<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(N.mimeType||(N.mimeType="video/webm"),N.type||(N.type=N.mimeType.split("/")[0]),N.bitsPerSecond),N.type||(N.mimeType&&(N.type=N.mimeType.split("/")[0]),N.type||(N.type="audio")),N}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(R,N){var V;return(m||c||h)&&(V=P),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!m&&(V=I),N.type==="video"&&(m||h)&&(V=U,typeof W<"u"&&typeof ReadableStream<"u"&&(V=W)),N.type==="gif"&&(V=Y),N.type==="canvas"&&(V=z),D()&&V!==z&&V!==Y&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(k(R,"video").length||k(R,"audio").length)&&(N.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(V=I):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(V=I)),R instanceof Array&&R.length&&(V=j),N.recorderType&&(V=N.recorderType),!N.disableLogs&&V&&V.name&&console.log("Using recorderType:",V.name||V.constructor.name),!V&&b&&(V=I),V}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(R){this.addStream=function(N){N&&(R=N)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var N=this.mediaType,V,Z=this.mimeType||{audio:null,video:null,gif:null};if(typeof N.audio!="function"&&D()&&!k(R,"audio").length&&(N.audio=!1),typeof N.video!="function"&&D()&&!k(R,"video").length&&(N.video=!1),typeof N.gif!="function"&&D()&&!k(R,"video").length&&(N.gif=!1),!N.audio&&!N.video&&!N.gif)throw"MediaStream must have either audio or video tracks.";if(N.audio&&(V=null,typeof N.audio=="function"&&(V=N.audio),this.audioRecorder=new e(R,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:V,mimeType:Z.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),N.video||this.audioRecorder.startRecording()),N.video){V=null,typeof N.video=="function"&&(V=N.video);var X=R;if(D()&&N.audio&&typeof N.audio=="function"){var K=k(R,"video")[0];p?(X=new y,X.addTrack(K),V&&V===U&&(V=I)):(X=new y,X.addTrack(K))}this.videoRecorder=new e(X,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:V,mimeType:Z.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),N.audio||this.videoRecorder.startRecording()}if(N.audio&&N.video){var de=this,le=D()===!0;(N.audio instanceof P&&N.video||N.audio!==!0&&N.video!==!0&&N.audio!==N.video)&&(le=!1),le===!0?(de.audioRecorder=null,de.videoRecorder.startRecording()):de.videoRecorder.initRecorder(function(){de.audioRecorder.initRecorder(function(){de.videoRecorder.startRecording(),de.audioRecorder.startRecording()})})}N.gif&&(V=null,typeof N.gif=="function"&&(V=N.gif),this.gifRecorder=new e(R,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:V,mimeType:Z.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(N){N=N||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(V){N(V,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(V){N(V,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(V){N(V,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(N){var V={};return this.audioRecorder&&(V.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(V.video=this.videoRecorder.getBlob()),this.gifRecorder&&(V.gif=this.gifRecorder.getBlob()),N&&N(V),V},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(N){this.getBlob(function(X){X.audio&&X.video?V(X.audio,function(K){V(X.video,function(de){N({audio:K,video:de})})}):X.audio?V(X.audio,function(K){N({audio:K})}):X.video&&V(X.video,function(K){N({video:K})})});function V(X,K){if(typeof Worker<"u"){var de=Z(function(ge){postMessage(new FileReaderSync().readAsDataURL(ge))});de.onmessage=function(Te){K(Te.data)},de.postMessage(X)}else{var le=new FileReader;le.readAsDataURL(X),le.onload=function(Te){K(Te.target.result)}}}function Z(X){var K=f.createObjectURL(new Blob([X.toString(),"this.onmessage =  function (eee) {"+X.name+"(eee.data);}"],{type:"application/javascript"})),de=new Worker(K),le;if(typeof f<"u")le=f;else if(typeof webkitURL<"u")le=webkitURL;else throw"Neither URL nor webkitURL detected.";return le.revokeObjectURL(K),de}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(N){N=N||{audio:!0,video:!0,gif:!0},N.audio&&this.audioRecorder&&this.audioRecorder.save(typeof N.audio=="string"?N.audio:""),N.video&&this.videoRecorder&&this.videoRecorder.save(typeof N.video=="string"?N.video:""),N.gif&&this.gifRecorder&&this.gifRecorder.save(typeof N.gif=="string"?N.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(R){R&&(typeof window<"u"||typeof It>"u"||(It.navigator={userAgent:s,getUserMedia:function(){}},It.console||(It.console={}),(typeof It.console.log>"u"||typeof It.console.error>"u")&&(It.console.error=It.console.log=It.console.log||function(){console.log(arguments)}),typeof document>"u"&&(R.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var N={getContext:function(){return N},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return N},R.HTMLVideoElement=function(){}),typeof location>"u"&&(R.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(R.screen={width:0,height:0}),typeof f>"u"&&(R.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),R.window=It))})(typeof It<"u"?It:null);var a=window.requestAnimationFrame;if(typeof a>"u"){if(typeof webkitRequestAnimationFrame<"u")a=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")a=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")a=msRequestAnimationFrame;else if(typeof a>"u"){var o=0;a=function(R,N){var V=new Date().getTime(),Z=Math.max(0,16-(V-o)),X=setTimeout(function(){R(V+Z)},Z);return o=V+Z,X}}}var l=window.cancelAnimationFrame;typeof l>"u"&&(typeof webkitCancelAnimationFrame<"u"?l=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?l=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?l=msCancelAnimationFrame:typeof l>"u"&&(l=function(R){clearTimeout(R)}));var d=window.AudioContext;typeof d>"u"&&(typeof webkitAudioContext<"u"&&(d=webkitAudioContext),typeof mozAudioContext<"u"&&(d=mozAudioContext));var f=window.URL;typeof f>"u"&&typeof webkitURL<"u"&&(f=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var c=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),h=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!h&&!c&&!!navigator.webkitGetUserMedia||C()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);b&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(b=!1,m=!0);var y=window.MediaStream;typeof y>"u"&&typeof webkitMediaStream<"u"&&(y=webkitMediaStream),typeof y<"u"&&typeof y.prototype.stop>"u"&&(y.prototype.stop=function(){this.getTracks().forEach(function(R){R.stop()})});function _(R){var N=1e3,V=["Bytes","KB","MB","GB","TB"];if(R===0)return"0 Bytes";var Z=parseInt(Math.floor(Math.log(R)/Math.log(N)),10);return(R/Math.pow(N,Z)).toPrecision(3)+" "+V[Z]}function x(R,N){if(!R)throw"Blob object is required.";if(!R.type)try{R.type="video/webm"}catch{}var V=(R.type||"video/webm").split("/")[1];if(V.indexOf(";")!==-1&&(V=V.split(";")[0]),N&&N.indexOf(".")!==-1){var Z=N.split(".");N=Z[0],V=Z[1]}var X=(N||Math.round(Math.random()*9999999999)+888888888)+"."+V;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(R,X);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(R,X);var K=document.createElement("a");K.href=f.createObjectURL(R),K.download=X,K.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(K),typeof K.click=="function"?K.click():(K.target="_blank",K.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(K.href)}function C(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function k(R,N){return!R||!R.getTracks?[]:R.getTracks().filter(function(V){return V.kind===(N||"audio")})}function S(R,N){"srcObject"in N?N.srcObject=R:"mozSrcObject"in N?N.mozSrcObject=R:N.srcObject=R}function w(R,N){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var V=new EBML.Reader,Z=new EBML.Decoder,X=EBML.tools,K=new FileReader;K.onload=function(de){var le=Z.decode(this.result);le.forEach(function(Ce){V.read(Ce)}),V.stop();var Te=X.makeMetadataSeekable(V.metadatas,V.duration,V.cues),ge=this.result.slice(V.metadataSize),me=new Blob([Te,ge],{type:"video/webm"});N(me)},K.readAsArrayBuffer(R)}typeof e<"u"&&(e.invokeSaveAsDialog=x,e.getTracks=k,e.getSeekableBlob=w,e.bytesToSize=_,e.isElectron=C);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var L={};typeof d<"u"?L.AudioContext=d:typeof webkitAudioContext<"u"&&(L.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=L);function D(){if(p||b||c)return!0;var R=navigator.userAgent,N=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10),Z,X;return(m||h)&&(Z=R.indexOf("Chrome"),N=R.substring(Z+7)),(X=N.indexOf(";"))!==-1&&(N=N.substring(0,X)),(X=N.indexOf(" "))!==-1&&(N=N.substring(0,X)),V=parseInt(""+N,10),isNaN(V)&&(N=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10)),V>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function I(R,N){var me=this;if(typeof R>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(N=N||{mimeType:"video/webm"},N.type==="audio"){if(k(R,"video").length&&k(R,"audio").length){var V;navigator.mozGetUserMedia?(V=new y,V.addTrack(k(R,"audio")[0])):V=new y(k(R,"audio")),R=V}(!N.mimeType||N.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(N.mimeType=m?"audio/webm":"audio/ogg"),N.mimeType&&N.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(N.mimeType="audio/ogg")}var Z=[];this.getArrayOfBlobs=function(){return Z},this.record=function(){me.blob=null,me.clearRecordedData(),me.timestamps=[],ge=[],Z=[];var Ce=N;N.disableLogs||console.log("Passing following config over MediaRecorder API.",Ce),le&&(le=null),m&&!D()&&(Ce="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&Ce.mimeType&&(MediaRecorder.isTypeSupported(Ce.mimeType)||(N.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Ce.mimeType),Ce.mimeType=N.type==="audio"?"audio/webm":"video/webm"));try{le=new MediaRecorder(R,Ce),N.mimeType=Ce.mimeType}catch{le=new MediaRecorder(R)}Ce.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in le&&le.canRecordMimeType(Ce.mimeType)===!1&&(N.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Ce.mimeType)),le.ondataavailable=function(Ne){if(Ne.data&&ge.push("ondataavailable: "+_(Ne.data.size)),typeof N.timeSlice=="number"){if(Ne.data&&Ne.data.size&&(Z.push(Ne.data),X(),typeof N.ondataavailable=="function")){var Fe=N.getNativeBlob?Ne.data:new Blob([Ne.data],{type:K(Ce)});N.ondataavailable(Fe)}return}if(!Ne.data||!Ne.data.size||Ne.data.size<100||me.blob){me.recordingCallback&&(me.recordingCallback(new Blob([],{type:K(Ce)})),me.recordingCallback=null);return}me.blob=N.getNativeBlob?Ne.data:new Blob([Ne.data],{type:K(Ce)}),me.recordingCallback&&(me.recordingCallback(me.blob),me.recordingCallback=null)},le.onstart=function(){ge.push("started")},le.onpause=function(){ge.push("paused")},le.onresume=function(){ge.push("resumed")},le.onstop=function(){ge.push("stopped")},le.onerror=function(Ne){Ne&&(Ne.name||(Ne.name="UnknownError"),ge.push("error: "+Ne),N.disableLogs||(Ne.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",Ne):Ne.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",Ce.mimeType,") is not supported.",Ne):Ne.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",Ne):Ne.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",Ne):Ne.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",Ne):Ne.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",Ne):Ne.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",Ne):console.error("MediaRecorder Error",Ne)),function(Fe){if(!me.manuallyStopped&&le&&le.state==="inactive"){delete N.timeslice,le.start(10*60*1e3);return}setTimeout(Fe,1e3)}(),le.state!=="inactive"&&le.state!=="stopped"&&le.stop())},typeof N.timeSlice=="number"?(X(),le.start(N.timeSlice)):le.start(36e5),N.initCallback&&N.initCallback()},this.timestamps=[];function X(){me.timestamps.push(new Date().getTime()),typeof N.onTimeStamp=="function"&&N.onTimeStamp(me.timestamps[me.timestamps.length-1],me.timestamps)}function K(Ce){return le&&le.mimeType?le.mimeType:Ce.mimeType||"video/webm"}this.stop=function(Ce){Ce=Ce||function(){},me.manuallyStopped=!0,le&&(this.recordingCallback=Ce,le.state==="recording"&&le.stop(),typeof N.timeSlice=="number"&&setTimeout(function(){me.blob=new Blob(Z,{type:K(N)}),me.recordingCallback(me.blob)},100))},this.pause=function(){le&&le.state==="recording"&&le.pause()},this.resume=function(){le&&le.state==="paused"&&le.resume()},this.clearRecordedData=function(){le&&le.state==="recording"&&me.stop(de),de()};function de(){Z=[],le=null,me.timestamps=[]}var le;this.getInternalRecorder=function(){return le};function Te(){if("active"in R){if(!R.active)return!1}else if("ended"in R&&R.ended)return!1;return!0}this.blob=null,this.getState=function(){return le&&le.state||"inactive"};var ge=[];this.getAllStates=function(){return ge},typeof N.checkForInactiveTracks>"u"&&(N.checkForInactiveTracks=!1);var me=this;(function Ce(){if(!(!le||N.checkForInactiveTracks===!1)){if(Te()===!1){N.disableLogs||console.log("MediaStream seems stopped."),me.stop();return}setTimeout(Ce,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=I);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function P(R,N){if(!k(R,"audio").length)throw"Your stream has no audio tracks.";N=N||{};var V=this,Z=[],X=[],K=!1,de=0,le,Te=2,ge=N.desiredSampRate;N.leftChannel===!0&&(Te=1),N.numberOfAudioChannels===1&&(Te=1),(!Te||Te<1)&&(Te=2),N.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+Te),typeof N.checkForInactiveTracks>"u"&&(N.checkForInactiveTracks=!0);function me(){if(N.checkForInactiveTracks===!1)return!0;if("active"in R){if(!R.active)return!1}else if("ended"in R&&R.ended)return!1;return!0}this.record=function(){if(me()===!1)throw"Please make sure MediaStream is active.";xe(),q=Le=!1,K=!0,typeof N.timeSlice<"u"&&Pe()};function Ce($e,ze){function _e(nt,bt){var Nt=nt.numberOfAudioChannels,st=nt.leftBuffers.slice(0),Zt=nt.rightBuffers.slice(0),Ot=nt.sampleRate,wr=nt.internalInterleavedLength,Nr=nt.desiredSampRate;Nt===2&&(st=Ys(st,wr),Zt=Ys(Zt,wr),Nr&&(st=gs(st,Nr,Ot),Zt=gs(Zt,Nr,Ot))),Nt===1&&(st=Ys(st,wr),Nr&&(st=gs(st,Nr,Ot))),Nr&&(Ot=Nr);function gs(Mr,Un,an){var Wr=Math.round(Mr.length*(Un/an)),Vt=[],Ai=Number((Mr.length-1)/(Wr-1));Vt[0]=Mr[0];for(var xi=1;xi<Wr-1;xi++){var qi=xi*Ai,ci=Number(Math.floor(qi)).toFixed(),co=Number(Math.ceil(qi)).toFixed(),Yt=qi-ci;Vt[xi]=Gs(Mr[ci],Mr[co],Yt)}return Vt[Wr-1]=Mr[Mr.length-1],Vt}function Gs(Mr,Un,an){return Mr+(Un-Mr)*an}function Ys(Mr,Un){for(var an=new Float64Array(Un),Wr=0,Vt=Mr.length,Ai=0;Ai<Vt;Ai++){var xi=Mr[Ai];an.set(xi,Wr),Wr+=xi.length}return an}function bs(Mr,Un){for(var an=Mr.length+Un.length,Wr=new Float64Array(an),Vt=0,Ai=0;Ai<an;)Wr[Ai++]=Mr[Vt],Wr[Ai++]=Un[Vt],Vt++;return Wr}function Qs(Mr,Un,an){for(var Wr=an.length,Vt=0;Vt<Wr;Vt++)Mr.setUint8(Un+Vt,an.charCodeAt(Vt))}var hn;Nt===2&&(hn=bs(st,Zt)),Nt===1&&(hn=st);var pn=hn.length,Vi=44+pn*2,Ti=new ArrayBuffer(Vi),vr=new DataView(Ti);Qs(vr,0,"RIFF"),vr.setUint32(4,36+pn*2,!0),Qs(vr,8,"WAVE"),Qs(vr,12,"fmt "),vr.setUint32(16,16,!0),vr.setUint16(20,1,!0),vr.setUint16(22,Nt,!0),vr.setUint32(24,Ot,!0),vr.setUint32(28,Ot*Nt*2,!0),vr.setUint16(32,Nt*2,!0),vr.setUint16(34,16,!0),Qs(vr,36,"data"),vr.setUint32(40,pn*2,!0);for(var Ei=pn,Fn=44,xl=1,Cl=0;Cl<Ei;Cl++)vr.setInt16(Fn,hn[Cl]*(32767*xl),!0),Fn+=2;if(bt)return bt({buffer:Ti,view:vr});postMessage({buffer:Ti,view:vr})}if($e.noWorker){_e($e,function(nt){ze(nt.buffer,nt.view)});return}var Oe=Ne(_e);Oe.onmessage=function(nt){ze(nt.data.buffer,nt.data.view),f.revokeObjectURL(Oe.workerURL),Oe.terminate()},Oe.postMessage($e)}function Ne($e){var ze=f.createObjectURL(new Blob([$e.toString(),";this.onmessage =  function (eee) {"+$e.name+"(eee.data);}"],{type:"application/javascript"})),_e=new Worker(ze);return _e.workerURL=ze,_e}this.stop=function($e){$e=$e||function(){},K=!1,Ce({desiredSampRate:ge,sampleRate:be,numberOfAudioChannels:Te,internalInterleavedLength:de,leftBuffers:Z,rightBuffers:Te===1?[]:X,noWorker:N.noWorker},function(ze,_e){V.blob=new Blob([_e],{type:"audio/wav"}),V.buffer=new ArrayBuffer(_e.buffer.byteLength),V.view=_e,V.sampleRate=ge||be,V.bufferSize=rt,V.length=de,q=!1,$e&&$e(V.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var Fe=e.Storage.AudioContextConstructor,he=Fe.createMediaStreamSource(R),Re=[0,256,512,1024,2048,4096,8192,16384],rt=typeof N.bufferSize>"u"?4096:N.bufferSize;if(Re.indexOf(rt)===-1&&(N.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(Re,null,"	"))),Fe.createJavaScriptNode)le=Fe.createJavaScriptNode(rt,Te,Te);else if(Fe.createScriptProcessor)le=Fe.createScriptProcessor(rt,Te,Te);else throw"WebAudio API has no support on this browser.";he.connect(le),N.bufferSize||(rt=le.bufferSize);var be=typeof N.sampleRate<"u"?N.sampleRate:Fe.sampleRate||44100;(be<22050||be>96e3)&&(N.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),N.disableLogs||N.desiredSampRate&&console.log("Desired sample-rate: "+N.desiredSampRate);var Le=!1;this.pause=function(){Le=!0},this.resume=function(){if(me()===!1)throw"Please make sure MediaStream is active.";if(!K){N.disableLogs||console.log("Seems recording has been restarted."),this.record();return}Le=!1},this.clearRecordedData=function(){N.checkForInactiveTracks=!1,K&&this.stop(B),B()};function xe(){Z=[],X=[],de=0,q=!1,K=!1,Le=!1,Fe=null,V.leftchannel=Z,V.rightchannel=X,V.numberOfAudioChannels=Te,V.desiredSampRate=ge,V.sampleRate=be,V.recordingLength=de,ye={left:[],right:[],recordingLength:0}}function B(){le&&(le.onaudioprocess=null,le.disconnect(),le=null),he&&(he.disconnect(),he=null),xe()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var q=!1;function ue($e){if(!Le){if(me()===!1&&(N.disableLogs||console.log("MediaStream seems stopped."),le.disconnect(),K=!1),!K){he&&(he.disconnect(),he=null);return}q||(q=!0,N.onAudioProcessStarted&&N.onAudioProcessStarted(),N.initCallback&&N.initCallback());var ze=$e.inputBuffer.getChannelData(0),_e=new Float32Array(ze);if(Z.push(_e),Te===2){var Oe=$e.inputBuffer.getChannelData(1),nt=new Float32Array(Oe);X.push(nt)}de+=rt,V.recordingLength=de,typeof N.timeSlice<"u"&&(ye.recordingLength+=rt,ye.left.push(_e),Te===2&&ye.right.push(nt))}}le.onaudioprocess=ue,Fe.createMediaStreamDestination?le.connect(Fe.createMediaStreamDestination()):le.connect(Fe.destination),this.leftchannel=Z,this.rightchannel=X,this.numberOfAudioChannels=Te,this.desiredSampRate=ge,this.sampleRate=be,V.recordingLength=de;var ye={left:[],right:[],recordingLength:0};function Pe(){!K||typeof N.ondataavailable!="function"||typeof N.timeSlice>"u"||(ye.left.length?(Ce({desiredSampRate:ge,sampleRate:be,numberOfAudioChannels:Te,internalInterleavedLength:ye.recordingLength,leftBuffers:ye.left,rightBuffers:Te===1?[]:ye.right},function($e,ze){var _e=new Blob([ze],{type:"audio/wav"});N.ondataavailable(_e),setTimeout(Pe,N.timeSlice)}),ye={left:[],right:[],recordingLength:0}):setTimeout(Pe,N.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=P);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function z(R,N){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";N=N||{},N.frameInterval||(N.frameInterval=10);var V=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(Re){Re in document.createElement("canvas")&&(V=!0)});var Z=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,X=50,K=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);Z&&K&&K[2]&&(X=parseInt(K[2],10)),Z&&X<52&&(V=!1),N.useWhammyRecorder&&(V=!1);var de,le;if(V)if(N.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),R instanceof HTMLCanvasElement)de=R;else if(R instanceof CanvasRenderingContext2D)de=R.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(N.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var Te;this.record=function(){if(Te=!0,V&&!N.useWhammyRecorder){var Re;"captureStream"in de?Re=de.captureStream(25):"mozCaptureStream"in de?Re=de.mozCaptureStream(25):"webkitCaptureStream"in de&&(Re=de.webkitCaptureStream(25));try{var rt=new y;rt.addTrack(k(Re,"video")[0]),Re=rt}catch{}if(!Re)throw"captureStream API are NOT available.";le=new I(Re,{mimeType:N.mimeType||"video/webm"}),le.record()}else he.frames=[],Fe=new Date().getTime(),Ne();N.initCallback&&N.initCallback()},this.getWebPImages=function(Re){if(R.nodeName.toLowerCase()!=="canvas"){Re();return}var rt=he.frames.length;he.frames.forEach(function(be,Le){var xe=rt-Le;N.disableLogs||console.log(xe+"/"+rt+" frames remaining"),N.onEncodingCallback&&N.onEncodingCallback(xe,rt);var B=be.image.toDataURL("image/webp",1);he.frames[Le].image=B}),N.disableLogs||console.log("Generating WebM"),Re()},this.stop=function(Re){Te=!1;var rt=this;if(V&&le){le.stop(Re);return}this.getWebPImages(function(){he.compile(function(be){N.disableLogs||console.log("Recording finished!"),rt.blob=be,rt.blob.forEach&&(rt.blob=new Blob([],{type:"video/webm"})),Re&&Re(rt.blob),he.frames=[]})})};var ge=!1;this.pause=function(){if(ge=!0,le instanceof I){le.pause();return}},this.resume=function(){if(ge=!1,le instanceof I){le.resume();return}Te||this.record()},this.clearRecordedData=function(){Te&&this.stop(me),me()};function me(){he.frames=[],Te=!1,ge=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function Ce(){var Re=document.createElement("canvas"),rt=Re.getContext("2d");return Re.width=R.width,Re.height=R.height,rt.drawImage(R,0,0),Re}function Ne(){if(ge)return Fe=new Date().getTime(),setTimeout(Ne,500);if(R.nodeName.toLowerCase()==="canvas"){var Re=new Date().getTime()-Fe;Fe=new Date().getTime(),he.frames.push({image:Ce(),duration:Re}),Te&&setTimeout(Ne,N.frameInterval);return}html2canvas(R,{grabMouse:typeof N.showMousePointer>"u"||N.showMousePointer,onrendered:function(rt){var be=new Date().getTime()-Fe;if(!be)return setTimeout(Ne,N.frameInterval);Fe=new Date().getTime(),he.frames.push({image:rt.toDataURL("image/webp",1),duration:be}),Te&&setTimeout(Ne,N.frameInterval)}})}var Fe=new Date().getTime(),he=new $.Video(100)}typeof e<"u"&&(e.CanvasRecorder=z);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function U(R,N){N=N||{},N.frameInterval||(N.frameInterval=10),N.disableLogs||console.log("Using frames-interval:",N.frameInterval),this.record=function(){N.width||(N.width=320),N.height||(N.height=240),N.video||(N.video={width:N.width,height:N.height}),N.canvas||(N.canvas={width:N.width,height:N.height}),Te.width=N.canvas.width||320,Te.height=N.canvas.height||240,ge=Te.getContext("2d"),N.video&&N.video instanceof HTMLVideoElement?(me=N.video.cloneNode(),N.initCallback&&N.initCallback()):(me=document.createElement("video"),S(R,me),me.onloadedmetadata=function(){N.initCallback&&N.initCallback()},me.width=N.video.width,me.height=N.video.height),me.muted=!0,me.play(),Ce=new Date().getTime(),Ne=new $.Video,N.disableLogs||(console.log("canvas resolutions",Te.width,"*",Te.height),console.log("video width/height",me.width||Te.width,"*",me.height||Te.height)),V(N.frameInterval)};function V(Fe){Fe=typeof Fe<"u"?Fe:10;var he=new Date().getTime()-Ce;if(!he)return setTimeout(V,Fe,Fe);if(de)return Ce=new Date().getTime(),setTimeout(V,100);Ce=new Date().getTime(),me.paused&&me.play(),ge.drawImage(me,0,0,Te.width,Te.height),Ne.frames.push({duration:he,image:Te.toDataURL("image/webp")}),K||setTimeout(V,Fe,Fe)}function Z(Fe){var he=-1,Re=Fe.length;(function rt(){if(he++,he===Re){Fe.callback();return}setTimeout(function(){Fe.functionToLoop(rt,he)},1)})()}function X(Fe,he,Re,rt,be){var Le=document.createElement("canvas");Le.width=Te.width,Le.height=Te.height;var xe=Le.getContext("2d"),B=[],q=Fe.length,ue={r:0,g:0,b:0},ye=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Pe=0,$e=0,ze=!1;Z({length:q,functionToLoop:function(_e,Oe){var nt,bt,Nt,st=function(){!ze&&Nt-nt<=Nt*$e||(ze=!0,B.push(Fe[Oe])),_e()};if(ze)st();else{var Zt=new Image;Zt.onload=function(){xe.drawImage(Zt,0,0,Te.width,Te.height);var Ot=xe.getImageData(0,0,Te.width,Te.height);nt=0,bt=Ot.data.length,Nt=Ot.data.length/4;for(var wr=0;wr<bt;wr+=4){var Nr={r:Ot.data[wr],g:Ot.data[wr+1],b:Ot.data[wr+2]},gs=Math.sqrt(Math.pow(Nr.r-ue.r,2)+Math.pow(Nr.g-ue.g,2)+Math.pow(Nr.b-ue.b,2));gs<=ye*Pe&&nt++}st()},Zt.src=Fe[Oe].image}},callback:function(){B=B.concat(Fe.slice(q)),B.length<=0&&B.push(Fe[Fe.length-1]),be(B)}})}var K=!1;this.stop=function(Fe){Fe=Fe||function(){},K=!0;var he=this;setTimeout(function(){X(Ne.frames,-1,null,null,function(Re){Ne.frames=Re,N.advertisement&&N.advertisement.length&&(Ne.frames=N.advertisement.concat(Ne.frames)),Ne.compile(function(rt){he.blob=rt,he.blob.forEach&&(he.blob=new Blob([],{type:"video/webm"})),Fe&&Fe(he.blob)})})},10)};var de=!1;this.pause=function(){de=!0},this.resume=function(){de=!1,K&&this.record()},this.clearRecordedData=function(){K||this.stop(le),le()};function le(){Ne.frames=[],K=!0,de=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var Te=document.createElement("canvas"),ge=Te.getContext("2d"),me,Ce,Ne}typeof e<"u"&&(e.WhammyRecorder=U);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var $=function(){function R(Z){this.frames=[],this.duration=Z||1,this.quality=.8}R.prototype.add=function(Z,X){if("canvas"in Z&&(Z=Z.canvas),"toDataURL"in Z&&(Z=Z.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(Z))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:Z,duration:X||this.duration})};function N(Z){var X=f.createObjectURL(new Blob([Z.toString(),"this.onmessage =  function (eee) {"+Z.name+"(eee.data);}"],{type:"application/javascript"})),K=new Worker(X);return f.revokeObjectURL(X),K}function V(Z){function X(be){var Le=de(be);if(!Le)return[];for(var xe=3e4,B=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:Re(Le.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Le.width,id:176},{data:Le.height,id:186}]}]}]}]}],q=0,ue=0;q<be.length;){var ye=[],Pe=0;do ye.push(be[q]),Pe+=be[q].duration,q++;while(q<be.length&&Pe<xe);var $e=0,ze={id:524531317,data:K(ue,$e,ye)};B[1].data.push(ze),ue+=Pe}return me(B)}function K(be,Le,xe){return[{data:be,id:231}].concat(xe.map(function(B){var q=Ce({discardable:0,frame:B.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(Le)});return Le+=B.duration,{data:q,id:163}}))}function de(be){if(!be[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var Le=be[0].width,xe=be[0].height,B=be[0].duration,q=1;q<be.length;q++)B+=be[q].duration;return{duration:B,width:Le,height:xe}}function le(be){for(var Le=[];be>0;)Le.push(be&255),be=be>>8;return new Uint8Array(Le.reverse())}function Te(be){return new Uint8Array(be.split("").map(function(Le){return Le.charCodeAt(0)}))}function ge(be){var Le=[],xe=be.length%8?new Array(9-be.length%8).join("0"):"";be=xe+be;for(var B=0;B<be.length;B+=8)Le.push(parseInt(be.substr(B,8),2));return new Uint8Array(Le)}function me(be){for(var Le=[],xe=0;xe<be.length;xe++){var B=be[xe].data;typeof B=="object"&&(B=me(B)),typeof B=="number"&&(B=ge(B.toString(2))),typeof B=="string"&&(B=Te(B));var q=B.size||B.byteLength||B.length,ue=Math.ceil(Math.ceil(Math.log(q)/Math.log(2))/8),ye=q.toString(2),Pe=new Array(ue*7+7+1-ye.length).join("0")+ye,$e=new Array(ue).join("0")+"1"+Pe;Le.push(le(be[xe].id)),Le.push(ge($e)),Le.push(B)}return new Blob(Le,{type:"video/webm"})}function Ce(be){var Le=0;if(Le|=128,be.trackNum>127)throw"TrackNumber > 127 not supported";var xe=[be.trackNum|128,be.timecode>>8,be.timecode&255,Le].map(function(B){return String.fromCharCode(B)}).join("")+be.frame;return xe}function Ne(be){for(var Le=be.RIFF[0].WEBP[0],xe=Le.indexOf("*"),B=0,q=[];B<4;B++)q[B]=Le.charCodeAt(xe+3+B);var ue,ye,Pe;return Pe=q[1]<<8|q[0],ue=Pe&16383,Pe=q[3]<<8|q[2],ye=Pe&16383,{width:ue,height:ye,data:Le,riff:be}}function Fe(be,Le){return parseInt(be.substr(Le+4,4).split("").map(function(xe){var B=xe.charCodeAt(0).toString(2);return new Array(8-B.length+1).join("0")+B}).join(""),2)}function he(be){for(var Le=0,xe={};Le<be.length;){var B=be.substr(Le,4),q=Fe(be,Le),ue=be.substr(Le+4+4,q);Le+=8+q,xe[B]=xe[B]||[],B==="RIFF"||B==="LIST"?xe[B].push(he(ue)):xe[B].push(ue)}return xe}function Re(be){return[].slice.call(new Uint8Array(new Float64Array([be]).buffer),0).map(function(Le){return String.fromCharCode(Le)}).reverse().join("")}var rt=new X(Z.map(function(be){var Le=Ne(he(atob(be.image.slice(23))));return Le.duration=be.duration,Le}));postMessage(rt)}return R.prototype.compile=function(Z){var X=N(V);X.onmessage=function(K){if(K.data.error){console.error(K.data.error);return}Z(K.data)},X.postMessage(this.frames)},{Video:R}}();typeof e<"u"&&(e.Whammy=$);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var H={init:function(){var R=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var N=1,V=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),Z,X=indexedDB.open(V,N);function K(le){le.createObjectStore(R.dataStoreName)}function de(){var le=Z.transaction([R.dataStoreName],"readwrite");R.videoBlob&&le.objectStore(R.dataStoreName).put(R.videoBlob,"videoBlob"),R.gifBlob&&le.objectStore(R.dataStoreName).put(R.gifBlob,"gifBlob"),R.audioBlob&&le.objectStore(R.dataStoreName).put(R.audioBlob,"audioBlob");function Te(ge){le.objectStore(R.dataStoreName).get(ge).onsuccess=function(me){R.callback&&R.callback(me.target.result,ge)}}Te("audioBlob"),Te("videoBlob"),Te("gifBlob")}X.onerror=R.onError,X.onsuccess=function(){if(Z=X.result,Z.onerror=R.onError,Z.setVersion)if(Z.version!==N){var le=Z.setVersion(N);le.onsuccess=function(){K(Z),de()}}else de();else de()},X.onupgradeneeded=function(le){K(le.target.result)}},Fetch:function(R){return this.callback=R,this.init(),this},Store:function(R){return this.audioBlob=R.audioBlob,this.videoBlob=R.videoBlob,this.gifBlob=R.gifBlob,this.init(),this},onError:function(R){console.error(JSON.stringify(R,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=H);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function Y(R,N){if(typeof GIFEncoder>"u"){var V=document.createElement("script");V.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(V)}N=N||{};var Z=R instanceof CanvasRenderingContext2D||R instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(Fe.record,1e3);return}if(!Te){setTimeout(Fe.record,1e3);return}Z||(N.width||(N.width=ge.offsetWidth||320),N.height||(N.height=ge.offsetHeight||240),N.video||(N.video={width:N.width,height:N.height}),N.canvas||(N.canvas={width:N.width,height:N.height}),de.width=N.canvas.width||320,de.height=N.canvas.height||240,ge.width=N.video.width||320,ge.height=N.video.height||240),Ne=new GIFEncoder,Ne.setRepeat(0),Ne.setDelay(N.frameRate||200),Ne.setQuality(N.quality||10),Ne.start(),typeof N.onGifRecordingStarted=="function"&&N.onGifRecordingStarted();function he(Re){if(Fe.clearedRecordedData!==!0){if(X)return setTimeout(function(){he(Re)},100);me=a(he),typeof Ce===void 0&&(Ce=Re),!(Re-Ce<90)&&(!Z&&ge.paused&&ge.play(),Z||le.drawImage(ge,0,0,de.width,de.height),N.onGifPreview&&N.onGifPreview(de.toDataURL("image/png")),Ne.addFrame(le),Ce=Re)}}me=a(he),N.initCallback&&N.initCallback()},this.stop=function(he){he=he||function(){},me&&l(me),this.blob=new Blob([new Uint8Array(Ne.stream().bin)],{type:"image/gif"}),he(this.blob),Ne.stream().bin=[]};var X=!1;this.pause=function(){X=!0},this.resume=function(){X=!1},this.clearRecordedData=function(){Fe.clearedRecordedData=!0,K()};function K(){Ne&&(Ne.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var de=document.createElement("canvas"),le=de.getContext("2d");Z&&(R instanceof CanvasRenderingContext2D?(le=R,de=le.canvas):R instanceof HTMLCanvasElement&&(le=R.getContext("2d"),de=R));var Te=!0;if(!Z){var ge=document.createElement("video");ge.muted=!0,ge.autoplay=!0,ge.playsInline=!0,Te=!1,ge.onloadedmetadata=function(){Te=!0},S(R,ge),ge.play()}var me=null,Ce,Ne,Fe=this}typeof e<"u"&&(e.GifRecorder=Y);function F(R,N){var V="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(B){typeof e<"u"||B&&(typeof window<"u"||typeof It>"u"||(It.navigator={userAgent:V,getUserMedia:function(){}},It.console||(It.console={}),(typeof It.console.log>"u"||typeof It.console.error>"u")&&(It.console.error=It.console.log=It.console.log||function(){console.log(arguments)}),typeof document>"u"&&(B.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var q={getContext:function(){return q},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return q},B.HTMLVideoElement=function(){}),typeof location>"u"&&(B.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(B.screen={width:0,height:0}),typeof ge>"u"&&(B.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),B.window=It))})(typeof It<"u"?It:null),N=N||"multi-streams-mixer";var Z=[],X=!1,K=document.createElement("canvas"),de=K.getContext("2d");K.style.opacity=0,K.style.position="absolute",K.style.zIndex=-1,K.style.top="-1000em",K.style.left="-1000em",K.className=N,(document.body||document.documentElement).appendChild(K),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var le=this,Te=window.AudioContext;typeof Te>"u"&&(typeof webkitAudioContext<"u"&&(Te=webkitAudioContext),typeof mozAudioContext<"u"&&(Te=mozAudioContext));var ge=window.URL;typeof ge>"u"&&typeof webkitURL<"u"&&(ge=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var me=window.MediaStream;typeof me>"u"&&typeof webkitMediaStream<"u"&&(me=webkitMediaStream),typeof me<"u"&&typeof me.prototype.stop>"u"&&(me.prototype.stop=function(){this.getTracks().forEach(function(B){B.stop()})});var Ce={};typeof Te<"u"?Ce.AudioContext=Te:typeof webkitAudioContext<"u"&&(Ce.AudioContext=webkitAudioContext);function Ne(B,q){"srcObject"in q?q.srcObject=B:"mozSrcObject"in q?q.mozSrcObject=B:q.srcObject=B}this.startDrawingFrames=function(){Fe()};function Fe(){if(!X){var B=Z.length,q=!1,ue=[];if(Z.forEach(function(Pe){Pe.stream||(Pe.stream={}),Pe.stream.fullcanvas?q=Pe:ue.push(Pe)}),q)K.width=q.stream.width,K.height=q.stream.height;else if(ue.length){K.width=B>1?ue[0].width*2:ue[0].width;var ye=1;(B===3||B===4)&&(ye=2),(B===5||B===6)&&(ye=3),(B===7||B===8)&&(ye=4),(B===9||B===10)&&(ye=5),K.height=ue[0].height*ye}else K.width=le.width||360,K.height=le.height||240;q&&q instanceof HTMLVideoElement&&he(q),ue.forEach(function(Pe,$e){he(Pe,$e)}),setTimeout(Fe,le.frameInterval)}}function he(B,q){if(!X){var ue=0,ye=0,Pe=B.width,$e=B.height;q===1&&(ue=B.width),q===2&&(ye=B.height),q===3&&(ue=B.width,ye=B.height),q===4&&(ye=B.height*2),q===5&&(ue=B.width,ye=B.height*2),q===6&&(ye=B.height*3),q===7&&(ue=B.width,ye=B.height*3),typeof B.stream.left<"u"&&(ue=B.stream.left),typeof B.stream.top<"u"&&(ye=B.stream.top),typeof B.stream.width<"u"&&(Pe=B.stream.width),typeof B.stream.height<"u"&&($e=B.stream.height),de.drawImage(B,ue,ye,Pe,$e),typeof B.stream.onRender=="function"&&B.stream.onRender(de,ue,ye,Pe,$e,q)}}function Re(){X=!1;var B=rt(),q=be();return q&&q.getTracks().filter(function(ue){return ue.kind==="audio"}).forEach(function(ue){B.addTrack(ue)}),R.forEach(function(ue){ue.fullcanvas}),B}function rt(){xe();var B;"captureStream"in K?B=K.captureStream():"mozCaptureStream"in K?B=K.mozCaptureStream():le.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var q=new me;return B.getTracks().filter(function(ue){return ue.kind==="video"}).forEach(function(ue){q.addTrack(ue)}),K.stream=q,q}function be(){Ce.AudioContextConstructor||(Ce.AudioContextConstructor=new Ce.AudioContext),le.audioContext=Ce.AudioContextConstructor,le.audioSources=[],le.useGainNode===!0&&(le.gainNode=le.audioContext.createGain(),le.gainNode.connect(le.audioContext.destination),le.gainNode.gain.value=0);var B=0;if(R.forEach(function(q){if(q.getTracks().filter(function(ye){return ye.kind==="audio"}).length){B++;var ue=le.audioContext.createMediaStreamSource(q);le.useGainNode===!0&&ue.connect(le.gainNode),le.audioSources.push(ue)}}),!!B)return le.audioDestination=le.audioContext.createMediaStreamDestination(),le.audioSources.forEach(function(q){q.connect(le.audioDestination)}),le.audioDestination.stream}function Le(B){var q=document.createElement("video");return Ne(B,q),q.className=N,q.muted=!0,q.volume=0,q.width=B.width||le.width||360,q.height=B.height||le.height||240,q.play(),q}this.appendStreams=function(B){if(!B)throw"First parameter is required.";B instanceof Array||(B=[B]),B.forEach(function(q){var ue=new me;if(q.getTracks().filter(function($e){return $e.kind==="video"}).length){var ye=Le(q);ye.stream=q,Z.push(ye),ue.addTrack(q.getTracks().filter(function($e){return $e.kind==="video"})[0])}if(q.getTracks().filter(function($e){return $e.kind==="audio"}).length){var Pe=le.audioContext.createMediaStreamSource(q);le.audioDestination=le.audioContext.createMediaStreamDestination(),Pe.connect(le.audioDestination),ue.addTrack(le.audioDestination.stream.getTracks().filter(function($e){return $e.kind==="audio"})[0])}R.push(ue)})},this.releaseStreams=function(){Z=[],X=!0,le.gainNode&&(le.gainNode.disconnect(),le.gainNode=null),le.audioSources.length&&(le.audioSources.forEach(function(B){B.disconnect()}),le.audioSources=[]),le.audioDestination&&(le.audioDestination.disconnect(),le.audioDestination=null),le.audioContext&&le.audioContext.close(),le.audioContext=null,de.clearRect(0,0,K.width,K.height),K.stream&&(K.stream.stop(),K.stream=null)},this.resetVideoStreams=function(B){B&&!(B instanceof Array)&&(B=[B]),xe(B)};function xe(B){Z=[],B=B||R,B.forEach(function(q){if(q.getTracks().filter(function(ye){return ye.kind==="video"}).length){var ue=Le(q);ue.stream=q,Z.push(ue)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=Re}typeof e>"u"&&(t.exports=F);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function j(R,N){R=R||[];var V=this,Z,X;N=N||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},N.frameInterval||(N.frameInterval=10),N.video||(N.video={}),N.video.width||(N.video.width=360),N.video.height||(N.video.height=240),this.record=function(){Z=new F(R,N.elementClass||"multi-streams-mixer"),K().length&&(Z.frameInterval=N.frameInterval||10,Z.width=N.video.width||360,Z.height=N.video.height||240,Z.startDrawingFrames()),N.previewStream&&typeof N.previewStream=="function"&&N.previewStream(Z.getMixedStream()),X=new I(Z.getMixedStream(),N),X.record()};function K(){var de=[];return R.forEach(function(le){k(le,"video").forEach(function(Te){de.push(Te)})}),de}this.stop=function(de){X&&X.stop(function(le){V.blob=le,de(le),V.clearRecordedData()})},this.pause=function(){X&&X.pause()},this.resume=function(){X&&X.resume()},this.clearRecordedData=function(){X&&(X.clearRecordedData(),X=null),Z&&(Z.releaseStreams(),Z=null)},this.addStreams=function(de){if(!de)throw"First parameter is required.";de instanceof Array||(de=[de]),R.concat(de),!(!X||!Z)&&(Z.appendStreams(de),N.previewStream&&typeof N.previewStream=="function"&&N.previewStream(Z.getMixedStream()))},this.resetVideoStreams=function(de){Z&&(de&&!(de instanceof Array)&&(de=[de]),Z.resetVideoStreams(de))},this.getMixer=function(){return Z},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=j);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function se(R,N){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof R>"u")throw'First argument "MediaStream" is required.';var V=this;V.recordRTC=new e(R,N),this.startRecording=function(){return new Promise(function(Z,X){try{V.recordRTC.startRecording(),Z()}catch(K){X(K)}})},this.stopRecording=function(){return new Promise(function(Z,X){try{V.recordRTC.stopRecording(function(K){if(V.blob=V.recordRTC.getBlob(),!V.blob||!V.blob.size){X("Empty blob.",V.blob);return}Z(K)})}catch(K){X(K)}})},this.pauseRecording=function(){return new Promise(function(Z,X){try{V.recordRTC.pauseRecording(),Z()}catch(K){X(K)}})},this.resumeRecording=function(){return new Promise(function(Z,X){try{V.recordRTC.resumeRecording(),Z()}catch(K){X(K)}})},this.getDataURL=function(Z){return new Promise(function(X,K){try{V.recordRTC.getDataURL(function(de){X(de)})}catch(de){K(de)}})},this.getBlob=function(){return new Promise(function(Z,X){try{Z(V.recordRTC.getBlob())}catch(K){X(K)}})},this.getInternalRecorder=function(){return new Promise(function(Z,X){try{Z(V.recordRTC.getInternalRecorder())}catch(K){X(K)}})},this.reset=function(){return new Promise(function(Z,X){try{Z(V.recordRTC.reset())}catch(K){X(K)}})},this.destroy=function(){return new Promise(function(Z,X){try{Z(V.recordRTC.destroy())}catch(K){X(K)}})},this.getState=function(){return new Promise(function(Z,X){try{Z(V.recordRTC.getState())}catch(K){X(K)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=se);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function W(R,N){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),N=N||{},N.width=N.width||640,N.height=N.height||480,N.frameRate=N.frameRate||30,N.bitrate=N.bitrate||1200,N.realtime=N.realtime||!0;var V;function Z(){return new ReadableStream({start:function(ge){var me=document.createElement("canvas"),Ce=document.createElement("video"),Ne=!0;Ce.srcObject=R,Ce.muted=!0,Ce.height=N.height,Ce.width=N.width,Ce.volume=0,Ce.onplaying=function(){me.width=N.width,me.height=N.height;var Fe=me.getContext("2d"),he=1e3/N.frameRate,Re=setInterval(function(){if(V&&(clearInterval(Re),ge.close()),Ne&&(Ne=!1,N.onVideoProcessStarted&&N.onVideoProcessStarted()),Fe.drawImage(Ce,0,0),ge._controlledReadableStream.state!=="closed")try{ge.enqueue(Fe.getImageData(0,0,N.width,N.height))}catch{}},he)},Ce.play()}})}var X;function K(ge,me){if(!N.workerPath&&!me){V=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(Ne){Ne.arrayBuffer().then(function(Fe){K(ge,Fe)})});return}if(!N.workerPath&&me instanceof ArrayBuffer){var Ce=new Blob([me],{type:"text/javascript"});N.workerPath=f.createObjectURL(Ce)}N.workerPath||console.error("workerPath parameter is missing."),X=new Worker(N.workerPath),X.postMessage(N.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),X.addEventListener("message",function(Ne){Ne.data==="READY"?(X.postMessage({width:N.width,height:N.height,bitrate:N.bitrate||1200,timebaseDen:N.frameRate||30,realtime:N.realtime}),Z().pipeTo(new WritableStream({write:function(Fe){if(V){console.error("Got image, but recorder is finished!");return}X.postMessage(Fe.data.buffer,[Fe.data.buffer])}}))):Ne.data&&(de||Te.push(Ne.data))})}this.record=function(){Te=[],de=!1,this.blob=null,K(R),typeof N.initCallback=="function"&&N.initCallback()};var de;this.pause=function(){de=!0},this.resume=function(){de=!1};function le(ge){if(!X){ge&&ge();return}X.addEventListener("message",function(me){me.data===null&&(X.terminate(),X=null,ge&&ge())}),X.postMessage(null)}var Te=[];this.stop=function(ge){V=!0;var me=this;le(function(){me.blob=new Blob(Te,{type:"video/webm"}),ge(me.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){Te=[],de=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=W)})(Z5);var kue=Z5.exports,J5={};function Iue(t){return t&&t.__esModule?t:{default:t}}var Due=Iue,ov={exports:{}},eM;function Nue(){return eM||(eM=1,function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(W,R,N){W[R]=N.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function c(W,R,N){return Object.defineProperty(W,R,{value:N,enumerable:!0,configurable:!0,writable:!0}),W[R]}try{c({},"")}catch{c=function(R,N,V){return R[N]=V}}function h(W,R,N,V){var Z=R&&R.prototype instanceof C?R:C,X=Object.create(Z.prototype),K=new F(V||[]);return s(X,"_invoke",{value:U(W,N,K)}),X}r.wrap=h;function p(W,R,N){try{return{type:"normal",arg:W.call(R,N)}}catch(V){return{type:"throw",arg:V}}}var m="suspendedStart",b="suspendedYield",y="executing",_="completed",x={};function C(){}function k(){}function S(){}var w={};c(w,l,function(){return this});var L=Object.getPrototypeOf,D=L&&L(L(j([])));D&&D!==n&&i.call(D,l)&&(w=D);var I=S.prototype=C.prototype=Object.create(w);k.prototype=S,s(I,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:k,configurable:!0}),k.displayName=c(S,f,"GeneratorFunction");function P(W){["next","throw","return"].forEach(function(R){c(W,R,function(N){return this._invoke(R,N)})})}r.isGeneratorFunction=function(W){var R=typeof W=="function"&&W.constructor;return R?R===k||(R.displayName||R.name)==="GeneratorFunction":!1},r.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,S):(W.__proto__=S,c(W,f,"GeneratorFunction")),W.prototype=Object.create(I),W},r.awrap=function(W){return{__await:W}};function z(W,R){function N(X,K,de,le){var Te=p(W[X],W,K);if(Te.type==="throw")le(Te.arg);else{var ge=Te.arg,me=ge.value;return me&&typeof me=="object"&&i.call(me,"__await")?R.resolve(me.__await).then(function(Ce){N("next",Ce,de,le)},function(Ce){N("throw",Ce,de,le)}):R.resolve(me).then(function(Ce){ge.value=Ce,de(ge)},function(Ce){return N("throw",Ce,de,le)})}}var V;function Z(X,K){function de(){return new R(function(le,Te){N(X,K,le,Te)})}return V=V?V.then(de,de):de()}s(this,"_invoke",{value:Z})}P(z.prototype),c(z.prototype,d,function(){return this}),r.AsyncIterator=z,r.async=function(W,R,N,V,Z){Z===void 0&&(Z=Promise);var X=new z(h(W,R,N,V),Z);return r.isGeneratorFunction(R)?X:X.next().then(function(K){return K.done?K.value:X.next()})};function U(W,R,N){var V=m;return function(X,K){if(V===y)throw new Error("Generator is already running");if(V===_){if(X==="throw")throw K;return se()}for(N.method=X,N.arg=K;;){var de=N.delegate;if(de){var le=$(de,N);if(le){if(le===x)continue;return le}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(V===m)throw V=_,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);V=y;var Te=p(W,R,N);if(Te.type==="normal"){if(V=N.done?_:b,Te.arg===x)continue;return{value:Te.arg,done:N.done}}else Te.type==="throw"&&(V=_,N.method="throw",N.arg=Te.arg)}}}function $(W,R){var N=R.method,V=W.iterator[N];if(V===a)return R.delegate=null,N==="throw"&&W.iterator.return&&(R.method="return",R.arg=a,$(W,R),R.method==="throw")||N!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+N+"' method")),x;var Z=p(V,W.iterator,R.arg);if(Z.type==="throw")return R.method="throw",R.arg=Z.arg,R.delegate=null,x;var X=Z.arg;if(!X)return R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,x;if(X.done)R[W.resultName]=X.value,R.next=W.nextLoc,R.method!=="return"&&(R.method="next",R.arg=a);else return X;return R.delegate=null,x}P(I),c(I,f,"Generator"),c(I,l,function(){return this}),c(I,"toString",function(){return"[object Generator]"});function H(W){var R={tryLoc:W[0]};1 in W&&(R.catchLoc=W[1]),2 in W&&(R.finallyLoc=W[2],R.afterLoc=W[3]),this.tryEntries.push(R)}function Y(W){var R=W.completion||{};R.type="normal",delete R.arg,W.completion=R}function F(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(H,this),this.reset(!0)}r.keys=function(W){var R=Object(W),N=[];for(var V in R)N.push(V);return N.reverse(),function Z(){for(;N.length;){var X=N.pop();if(X in R)return Z.value=X,Z.done=!1,Z}return Z.done=!0,Z}};function j(W){if(W){var R=W[l];if(R)return R.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length)){var N=-1,V=function Z(){for(;++N<W.length;)if(i.call(W,N))return Z.value=W[N],Z.done=!1,Z;return Z.value=a,Z.done=!0,Z};return V.next=V}}return{next:se}}r.values=j;function se(){return{value:a,done:!0}}return F.prototype={constructor:F,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Y),!W)for(var R in this)R.charAt(0)==="t"&&i.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=a)},stop:function(){this.done=!0;var W=this.tryEntries[0],R=W.completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var R=this;function N(le,Te){return X.type="throw",X.arg=W,R.next=le,Te&&(R.method="next",R.arg=a),!!Te}for(var V=this.tryEntries.length-1;V>=0;--V){var Z=this.tryEntries[V],X=Z.completion;if(Z.tryLoc==="root")return N("end");if(Z.tryLoc<=this.prev){var K=i.call(Z,"catchLoc"),de=i.call(Z,"finallyLoc");if(K&&de){if(this.prev<Z.catchLoc)return N(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return N(Z.finallyLoc)}else if(K){if(this.prev<Z.catchLoc)return N(Z.catchLoc,!0)}else if(de){if(this.prev<Z.finallyLoc)return N(Z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(W,R){for(var N=this.tryEntries.length-1;N>=0;--N){var V=this.tryEntries[N];if(V.tryLoc<=this.prev&&i.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var Z=V;break}}Z&&(W==="break"||W==="continue")&&Z.tryLoc<=R&&R<=Z.finallyLoc&&(Z=null);var X=Z?Z.completion:{};return X.type=W,X.arg=R,Z?(this.method="next",this.next=Z.finallyLoc,x):this.complete(X)},complete:function(W,R){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&R&&(this.next=R),x},finish:function(W){for(var R=this.tryEntries.length-1;R>=0;--R){var N=this.tryEntries[R];if(N.finallyLoc===W)return this.complete(N.completion,N.afterLoc),Y(N),x}},catch:function(W){for(var R=this.tryEntries.length-1;R>=0;--R){var N=this.tryEntries[R];if(N.tryLoc===W){var V=N.completion;if(V.type==="throw"){var Z=V.arg;Y(N)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(W,R,N){return this.delegate={iterator:j(W),resultName:R,nextLoc:N},this.method==="next"&&(this.arg=a),x}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(ov)),ov.exports}var lv,tM;function Mue(){return tM||(tM=1,lv=Nue()),lv}var uv,rM;function Oue(){if(rM)return uv;rM=1;function t(r,n,i,s,a,o,l){try{var d=r[o](l),f=d.value}catch(c){i(c);return}d.done?n(f):Promise.resolve(f).then(s,a)}function e(r){return function(){var n=this,i=arguments;return new Promise(function(s,a){var o=r.apply(n,i);function l(f){t(o,s,a,l,d,"next",f)}function d(f){t(o,s,a,l,d,"throw",f)}l(void 0)})}}return uv=e,uv}(function(t){var e=Due;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=e(Mue()),n=e(Oue());function i(a){return s.apply(this,arguments)}function s(){return(s=(0,n.default)(r.default.mark(function a(o){var l,d;return r.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=document.createElement("video"),d=new Promise(function(c,h){l.addEventListener("loadedmetadata",function(){l.duration===1/0?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,c(l.duration),l.currentTime=0}):c(l.duration)}),l.onerror=function(p){return h(p.target.error)}}),l.src=typeof o=="string"||o instanceof String?o:window.URL.createObjectURL(o),f.abrupt("return",d);case 4:case"end":return f.stop()}},a)}))).apply(this,arguments)}})(J5);const Lue=on(J5),Rue=t=>(u.pushScopeId("data-v-d7ca8ae1"),t=t(),u.popScopeId(),t),Bue={class:"flex grow items-center gap-1"},Pue={class:"relative flex h-12 w-0 min-w-0 grow items-center gap-3 rounded-xl bg-gray-100 px-3 dark:bg-zinc-700"},Fue={key:0,class:"flex items-center gap-1 rounded-xl bg-white p-2 text-xs text-gray-600 transition duration-150 ease-in-out dark:bg-zinc-800"},Uue=Rue(()=>u.createElementVNode("img",{class:"h-4 w-4",src:Q5},null,-1)),$ue={class:"volumes"},jue={class:"ml-auto rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},Hue={key:1,class:"ml-2 mr-1 h-6 w-6 cursor-not-allowed",src:RT},nM="audio/webm",zue=180,Vue=Sr(u.defineComponent({__name:"AudioInput",setup(t){const{t:e}=Ss(),r=nr(),n=u.ref(3),i=u.ref(),s=u.ref(),a=u.ref(0),o=u.ref(0),l=u.ref(),d=u.ref(),f=u.reactive([]),c=u.ref(""),h=u.computed(()=>a.value>1),p=async()=>{var b,y;try{switch(n.value){case 3:{n.value=0,f.splice(0),a.value=0,o.value=0,i.value=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),s.value=new kue.RecordRTCPromisesHandler(i.value,{type:"audio",mimeType:nM});let _=new AudioContext,x=_.createAnalyser();x.fftSize=64,x.smoothingTimeConstant=0,_.createMediaStreamSource(i.value).connect(x),d.value=window.setInterval(()=>{let k=new Uint8Array(x.frequencyBinCount);x.getByteFrequencyData(k);let S=k.reduce((L,D)=>L+D)/k.length;const w=Math.min(1,S/128);f.unshift(w)},100),await s.value.startRecording(),o.value=Date.now(),l.value=window.setInterval(()=>{a.value=(Date.now()-o.value)/1e3,a.value>=zue&&p()},1e3),n.value=1;break}case 1:n.value=2,await((b=s.value)==null?void 0:b.stopRecording()),(y=i.value)==null||y.getTracks().forEach(_=>_.stop()),clearInterval(l.value),clearInterval(d.value),n.value=3;break;default:break}}catch(_){console.error(_),c.value=e("noAccessMicrophonePermission")}},m=async()=>{var y;n.value!==3&&await p(),f.splice(0),a.value=0,o.value=0;let b=await((y=s.value)==null?void 0:y.getBlob());if(b){const _=await Lue(b),x=new File([b],`${Hp()}.webm`),C={roomId:r.state.imkit.selectedRoomId,messageType:"audio",file:x,duration:_,originalUrl:"",extra:{mimeType:nM,fileName:x.name.split(".").slice(0,-1).join("."),bytes:x.size,fileExtension:x.name.split(".").pop()}};await r.dispatch("imkit/sendMessage",C)}};return u.onUnmounted(()=>{clearInterval(l.value),clearInterval(d.value)}),(b,y)=>(u.openBlock(),u.createElementBlock("div",Bue,[u.createElementVNode("div",Pue,[u.createElementVNode("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full border-2 border-gray-300",onClick:p},[u.createElementVNode("div",{class:u.normalizeClass(["h-6 w-6 rounded-full bg-red-500 transition-all duration-200 ease-in",{"h-3.5 w-3.5 rounded":n.value==1,"cursor-not-allowed bg-red-300":c.value}])},null,2)]),u.createVNode(u.Transition,null,{default:u.withCtx(()=>[c.value?(u.openBlock(),u.createElementBlock("div",Fue,[Uue,u.createTextVNode(" "+u.toDisplayString(c.value),1)])):u.createCommentVNode("",!0)]),_:1}),u.createElementVNode("div",$ue,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(f,(_,x)=>(u.openBlock(),u.createElementBlock("div",{key:x,class:"!min-h-0.5 w-0.5 flex-shrink-0 rounded bg-gray-400",style:u.normalizeStyle({height:`${_*28}px`})},null,4))),128))]),u.createElementVNode("div",jue,u.toDisplayString(Math.floor(a.value/60))+":"+u.toDisplayString(`${Math.floor(a.value%60)}`.padStart(2,"0")),1)]),h.value?(u.openBlock(),u.createElementBlock("img",{key:0,class:"ml-2 mr-1 h-6 w-6 cursor-pointer",src:LT,onClick:m})):(u.openBlock(),u.createElementBlock("img",Hue))]))}}),[["__scopeId","data-v-d7ca8ae1"]]),que=()=>{const t=window.location.href,e=t.substring(t.indexOf("?"));return new URLSearchParams(e.lastIndexOf("#/")==-1?e:e.substring(0,e.lastIndexOf("#/")))};function jf(t){var e;const r=yo(t);return(e=r==null?void 0:r.$el)!=null?e:r}const iM=yg?window:void 0;function Om(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=iM):[e,r,n,i]=t,!e)return Rl;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],a=()=>{s.forEach(f=>f()),s.length=0},o=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[jf(e),yo(i)],([f,c])=>{if(a(),!f)return;const h=cT(c)?{...c}:c;s.push(...r.flatMap(p=>n.map(m=>o(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),a()};return bg(d),d}let sM=!1;function aM(t,e,r={}){const{window:n=iM,ignore:i=[],capture:s=!0,detectIframe:a=!1}=r;if(!n)return Rl;_g&&!sM&&(sM=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",Rl)),n.document.documentElement.addEventListener("click",Rl));let o=!0;const l=h=>i.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=jf(p);return m&&(h.target===m||h.composedPath().includes(m))}}),f=[Om(n,"click",h=>{const p=jf(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(o=!l(h)),!o){o=!0;return}e(h)}},{passive:!0,capture:s}),Om(n,"pointerdown",h=>{const p=jf(t);o=!l(h)&&!!(p&&!h.composedPath().includes(p))},{passive:!0}),a&&Om(n,"blur",h=>{setTimeout(()=>{var p;const m=jf(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&e(h)},0)})].filter(Boolean);return()=>f.forEach(h=>h())}const Hf={[dT.mounted](t,e){const r=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=aM(t,e.value,{capture:r});else{const[n,i]=e.value;t.__onClickOutside_stop=aM(t,n,Object.assign({capture:r},i))}},[dT.unmounted](t){t.__onClickOutside_stop()}};function cv(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function oM(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:oM(r)}}function Wue(t){const e=t||window.event,r=e.target;return oM(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const dv=new WeakMap;function Gue(t,e=!1){const r=u.ref(e);let n=null,i="";u.watch(GO(t),o=>{const l=cv(yo(o));if(l){const d=l;if(dv.get(d)||dv.set(d,d.style.overflow),d.style.overflow!=="hidden"&&(i=d.style.overflow),d.style.overflow==="hidden")return r.value=!0;if(r.value)return d.style.overflow="hidden"}},{immediate:!0});const s=()=>{const o=cv(yo(t));!o||r.value||(_g&&(n=Om(o,"touchmove",l=>{Wue(l)},{passive:!1})),o.style.overflow="hidden",r.value=!0)},a=()=>{const o=cv(yo(t));!o||!r.value||(_g&&(n==null||n()),o.style.overflow=i,dv.delete(o),r.value=!1)};return bg(a),u.computed({get(){return r.value},set(o){o?s():a()}})}function Yue(){let t=!1;const e=u.ref(!1);return(r,n)=>{if(e.value=n.value,t)return;t=!0;const i=Gue(r,n.value);u.watch(e,s=>i.value=s)}}Yue();const Que="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UMU7DQBCF4ZEo4Aq0nICCKg03oMJpOIOVN1Nlx4UPAJcDypwgdInoiAJaCB3YG7IQ1nmftJJlWWP9XnlFiIiIiIiIiIhoR8D0DPA71XAbr2XIzJqRalio+uvHCot4Tw4j1t8X4M+q4VIOIVaHGG09sYOKtsTYQUSbNSPAl1+HhZe4voleFneQWffOroDmBgjXHdHl7LQlxH4+W3y0bRFbfLT9ILbYaNshtrhowC96TuNx+qww7jq947t+tyYB4I85YtOiw4PsU9u2JzljE6LXdV0f563YUvzqOWN7ou9l3yYTPwd8tomdm02vcs2Os1T9afMPz+K75L8A/LSqqqPcc+PMODv3XCIiIiIiIiIiIiIi+QNvk5r+mltEG0oAAAAASUVORK5CYII=",Kue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR4nO3UMU7DMBiGYUsMcAVWTsDA1IUbdEIsHIlejrKlQ5r8H07SjYqtiCCrRUxNU2ooTt9HsmQp0W+9iWTnAAAAAAAAcKCiqK/MqolZ9Rj2bsikZmTmX6WqDWu9b0buFGL1Hf1Wlv7WnUKshhitHbGDilbP2EFEax273BK2CmvLs2VyF5k6/qyZfy/Llwczf9cRnc6fVo/Yr3eTj9YesclH6wexyUbrgNjkoovC33TdxlJ133dWeLfr9g5n/W5ND5J/jhHbJ1ryU3dMeZ5fxIzdFW3mP7IsO49bsafw1WPGdkf7J3dskq4lP9vENlI9jje7HptVi03sLJzl/ov5fHHZtu1Z7LlhZpgdey4AAAAAAAAAAO4PfAKuTjfhZH9KRQAAAABJRU5ErkJggg==",Xue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVR4nO3UMU7DMBTGcSMGOAMbnICBBRZuwES6cIbIn1NFynOG7NwOWOECMBWxgQA91EqA2iRtLCW2vp/k0c/5x5KNISIiIiIiIiIiIiKKz15ZlkdZlu2HHqwzdbaeYabAWn/qnH9yzn8555+LoroKNVtnAfKiswF51LPM2AD/sIz9WYC8AzIbPldmOuvf7HszpqZpDn9/UKjodbHL9Znn+UHYii3pXw8Z3RKr686MDfBngH8NEd0Wq2foWWYKrK3OnZPFhlv5AOqbrhmAXLfEvjknl2ZK7IDo6GKHREcbu0t09LHbRCcTu1IU9UXH673xNda9Jka2/abTuNldo5OI7RudVGxXdJKxK/oY/Y2WRbQPVF9AdQLIra75vD7uvZGIiIiIiIiIiMx632C5/lbO/M2+AAAAAElFTkSuQmCC",Zue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO3UMU7DMBTGcVcd4AxscAIGFli4QSfUhRtxO2CLQJHzPp5TOoHYQBiZhEqgNk0To8bR95MiZcmz/7FkY4iIiIiIiIiIiIiIEuO9n1i7PPLeT/9h9rSePTFDAOAU0EfAeRH3DJSzeLPLmYhbhtmAPoS1Ys3uDND7akPVI6LvgJv3n+vm9azVbEDvzD7leX74e0NxotfHfs/9zLLsIG7FjsJfjxm9KbY+4Vuzb9bqmYi+xohuig1rhLXMEADluYi+bNjoR1E8XW+bIaJXDbFvRaGXZkjQIzq52D7RycZ2iU4+dpfo0cT+ABYXTbd3020cvjUpQsNJj+Zku0aPIrZt9Khit0WPMvbPRbaKrt4TvaDasrY8EdGb8Djnjlt/SEREREREREREZr0vWIQ93o81LZQAAAAASUVORK5CYII=",Jue={class:"flex grow items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},ece={key:0,class:"flex h-6 w-6 items-center justify-center"},tce=[u.createElementVNode("svg",{class:"h-5 w-5 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1)],rce={key:1,class:"h-5 w-5 cursor-pointer",src:bh},nce=["placeholder"],ice={class:"pb-0.5 text-sm font-medium text-gray-500 dark:text-gray-300"},sce={key:1,width:"20",height:"20",src:Kue,alt:"collapse-arrow"},ace={key:3,width:"20",height:"20",src:Zue,alt:"expand-arrow"},oce=u.defineComponent({__name:"SearchPanel",setup(t){const e=nr(),r=u.ref(""),n=u.ref(0),i=u.ref([]),s=u.ref(!1),a=u.ref(!1),o=async()=>{var p;if(!s.value&&r.value){a.value=!0;const{data:{result:m}}=await e.state.imkit.axios.post(Is.Search,{type:["messages"],room:e.state.imkit.selectedRoomId,keyword:r.value});i.value=((p=m.messages[0])==null?void 0:p.messages)??[],a.value=!1,i.value.length>0?(n.value=i.value.length,await e.commit("imkit/setState",{messageSearchKeyword:r.value}),await e.dispatch("imkit/navigateToMessage",i.value[n.value-1])):n.value=0}},l=p=>{p>0&&p<=i.value.length&&(n.value=p,e.dispatch("imkit/navigateToMessage",i.value[p-1]))},d=$f(1e3,o),f=av(500,d,{atBegin:!1}),c=u.computed(()=>e.state.imkit.config.styles);u.watch(r,f);const h=()=>{e.commit("imkit/setState",{isSearchInRoomMode:!1})};return(p,m)=>(u.openBlock(),u.createElementBlock("div",{class:"flex h-[60px] items-center justify-center border-b border-solid p-2 dark:border-zinc-700",style:u.normalizeStyle(c.value.chatRoomHeader)},[u.createElementVNode("div",Jue,[a.value?(u.openBlock(),u.createElementBlock("div",ece,tce)):(u.openBlock(),u.createElementBlock("img",rce)),u.withDirectives(u.createElementVNode("input",{class:"h-5 grow bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[0]||(m[0]=b=>r.value=b),placeholder:p.$t("searchInConversation"),onCompositionstart:m[1]||(m[1]=b=>s.value=!0),onCompositionend:m[2]||(m[2]=b=>s.value=!1)},null,40,nce),[[u.vModelText,r.value]]),!a.value&&r.value.length>0?(u.openBlock(),u.createElementBlock(u.Fragment,{key:2},[u.createElementVNode("div",ice,u.toDisplayString(n.value)+"/"+u.toDisplayString(i.value.length),1),n.value>1?(u.openBlock(),u.createElementBlock("img",{key:0,class:"cursor-pointer",width:"20",height:"20",src:Que,alt:"collapse-arrow",onClick:m[3]||(m[3]=b=>l(n.value-1))})):(u.openBlock(),u.createElementBlock("img",sce)),n.value<i.value.length?(u.openBlock(),u.createElementBlock("img",{key:2,class:"cursor-pointer",width:"20",height:"20",src:Xue,alt:"expand-arrow",onClick:m[4]||(m[4]=b=>l(n.value+1))})):(u.openBlock(),u.createElementBlock("img",ace))],64)):u.createCommentVNode("",!0),u.createElementVNode("img",{src:Mm,class:"h-5 w-5 cursor-pointer",onClick:m[5]||(m[5]=()=>{u.unref(f).cancel({upcomingOnly:!0}),r.value="",u.unref(d)(),h()})})])],4))}});function Ta(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function fv(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}const lM={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},mc="^\\s*",gc="\\s*$",pl="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",ml="([0-9A-Fa-f])",gl="([0-9A-Fa-f]{2})",lce=new RegExp(`${mc}rgb\\s*\\(${pl},${pl},${pl}\\)${gc}`),uce=new RegExp(`${mc}rgba\\s*\\(${pl},${pl},${pl},${pl}\\)${gc}`),cce=new RegExp(`${mc}#${ml}${ml}${ml}${gc}`),dce=new RegExp(`${mc}#${gl}${gl}${gl}${gc}`),fce=new RegExp(`${mc}#${ml}${ml}${ml}${ml}${gc}`),hce=new RegExp(`${mc}#${gl}${gl}${gl}${gl}${gc}`);function oi(t){return parseInt(t,16)}function Ea(t){try{let e;if(e=dce.exec(t))return[oi(e[1]),oi(e[2]),oi(e[3]),1];if(e=lce.exec(t))return[Cn(e[1]),Cn(e[5]),Cn(e[9]),1];if(e=uce.exec(t))return[Cn(e[1]),Cn(e[5]),Cn(e[9]),zf(e[13])];if(e=cce.exec(t))return[oi(e[1]+e[1]),oi(e[2]+e[2]),oi(e[3]+e[3]),1];if(e=hce.exec(t))return[oi(e[1]),oi(e[2]),oi(e[3]),zf(oi(e[4])/255)];if(e=fce.exec(t))return[oi(e[1]+e[1]),oi(e[2]+e[2]),oi(e[3]+e[3]),zf(oi(e[4]+e[4])/255)];if(t in lM)return Ea(lM[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function pce(t){return t>1?1:t<0?0:t}function hv(t,e,r,n){return`rgba(${Cn(t)}, ${Cn(e)}, ${Cn(r)}, ${pce(n)})`}function pv(t,e,r,n,i){return Cn((t*e*(1-n)+r*n)/i)}function ht(t,e){Array.isArray(t)||(t=Ea(t)),Array.isArray(e)||(e=Ea(e));const r=t[3],n=e[3],i=zf(r+n-r*n);return hv(pv(t[0],r,e[0],n,i),pv(t[1],r,e[1],n,i),pv(t[2],r,e[2],n,i),i)}function it(t,e){const[r,n,i,s=1]=Array.isArray(t)?t:Ea(t);return e.alpha?hv(r,n,i,e.alpha):hv(r,n,i,s)}function Pr(t,e){const[r,n,i,s=1]=Array.isArray(t)?t:Ea(t),{lightness:a=1,alpha:o=1}=e;return mce([r*a,n*a,i*a,s*o])}function zf(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Cn(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function mce(t){const[e,r,n]=t;return 3 in t?`rgba(${Cn(e)}, ${Cn(r)}, ${Cn(n)}, ${zf(t[3])})`:`rgba(${Cn(e)}, ${Cn(r)}, ${Cn(n)}, 1)`}function Lm(t,...e){if(Array.isArray(t))t.forEach(r=>Lm(r,...e));else return t(...e)}const uM=new Set;function gce(t,e){const r=`[naive/${t}]: ${e}`;uM.has(r)||(uM.add(r),console.error(r))}function bce(t,e){console.error(`[naive/${t}]: ${e}`)}function cM(t,e){throw new Error(`[naive/${t}]: ${e}`)}function mv(t){return t.some(e=>u.isVNode(e)?!(e.type===u.Comment||e.type===u.Fragment&&!mv(e.children)):!0)?t:null}function bl(t,e){const r=t&&mv(t());return e(r||null)}function gv(t){return!(t&&mv(t()))}const yce=/^(\d|\.)+$/,dM=/(\d|\.)+/;function _ce(t,{c:e=1,offset:r=0,attachPx:n=!0}={}){if(typeof t=="number"){const i=(t+r)*e;return i===0?"0":`${i}px`}else if(typeof t=="string")if(yce.test(t)){const i=(Number(t)+r)*e;return n?i===0?"0":`${i}px`:`${i}`}else{const i=dM.exec(t);return i?t.replace(dM,String((Number(i[0])+r)*e)):t}return t}function vce(t){let e=0;for(let r=0;r<t.length;++r)t[r]==="&"&&++e;return e}const fM=/\s*,(?![^(]*\))\s*/g,Tce=/\s+/g;function Ece(t,e){const r=[];return e.split(fM).forEach(n=>{let i=vce(n);if(i){if(i===1){t.forEach(a=>{r.push(n.replace("&",a))});return}}else{t.forEach(a=>{r.push((a&&a+" ")+n)});return}let s=[n];for(;i--;){const a=[];s.forEach(o=>{t.forEach(l=>{a.push(o.replace("&",l))})}),s=a}s.forEach(a=>r.push(a))}),r}function Ace(t,e){const r=[];return e.split(fM).forEach(n=>{t.forEach(i=>{r.push((i&&i+" ")+n)})}),r}function xce(t){let e=[""];return t.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?e=Ece(e,r):e=Ace(e,r))}),e.join(", ").replace(Tce," ")}function hM(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function bv(t){return document.querySelector(`style[cssr-id="${t}"]`)}function Cce(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Rm(t){return t?/^\s*@(s|m)/.test(t):!1}const wce=/[A-Z]/g;function pM(t){return t.replace(wce,e=>"-"+e.toLowerCase())}function Sce(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(r=>e+`  ${pM(r[0])}: ${r[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function kce(t,e,r){return typeof t=="function"?t({context:e.context,props:r}):t}function mM(t,e,r,n){if(!e)return"";const i=kce(e,r,n);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const s=Object.keys(i);if(s.length===0)return r.config.keepEmptyBlock?t+` {
}`:"";const a=t?[t+" {"]:[];return s.forEach(o=>{const l=i[o];if(o==="raw"){a.push(`
`+l+`
`);return}o=pM(o),l!=null&&a.push(`  ${o}${Sce(l)}`)}),t&&a.push("}"),a.join(`
`)}function yv(t,e,r){t&&t.forEach(n=>{if(Array.isArray(n))yv(n,e,r);else if(typeof n=="function"){const i=n(e);Array.isArray(i)?yv(i,e,r):i&&r(i)}else n&&r(n)})}function gM(t,e,r,n,i,s){const a=t.$;let o="";if(!a||typeof a=="string")Rm(a)?o=a:e.push(a);else if(typeof a=="function"){const f=a({context:n.context,props:i});Rm(f)?o=f:e.push(f)}else if(a.before&&a.before(n.context),!a.$||typeof a.$=="string")Rm(a.$)?o=a.$:e.push(a.$);else if(a.$){const f=a.$({context:n.context,props:i});Rm(f)?o=f:e.push(f)}const l=xce(e),d=mM(l,t.props,n,i);o?(r.push(`${o} {`),s&&d&&s.insertRule(`${o} {
${d}
}
`)):(s&&d&&s.insertRule(d),!s&&d.length&&r.push(d)),t.children&&yv(t.children,{context:n.context,props:i},f=>{if(typeof f=="string"){const c=mM(l,{raw:f},n,i);s?s.insertRule(c):r.push(c)}else gM(f,e,r,n,i,s)}),e.pop(),o&&r.push("}"),a&&a.after&&a.after(n.context)}function bM(t,e,r,n=!1){const i=[];return gM(t,[],i,e,r,n?t.instance.__styleSheet:void 0),n?"":i.join(`

`)}function _v(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function Ice(t,e,r){const{els:n}=e;if(r===void 0)n.forEach(hM),e.els=[];else{const i=bv(r);i&&n.includes(i)&&(hM(i),e.els=n.filter(s=>s!==i))}}function yM(t,e){t.push(e)}function Dce(t,e,r,n,i,s,a,o,l){if(s&&!l){if(r===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const h=window.__cssrContext;h[r]||(h[r]=!0,bM(e,t,n,s));return}let d;if(r===void 0&&(d=e.render(n),r=_v(d)),l){l.adapter(r,d??e.render(n));return}const f=bv(r);if(f!==null&&!a)return f;const c=f??Cce(r);if(d===void 0&&(d=e.render(n)),c.textContent=d,f!==null)return f;if(o){const h=document.head.querySelector(`meta[name="${o}"]`);if(h)return document.head.insertBefore(c,h),yM(e.els,c),c}return i?document.head.insertBefore(c,document.head.querySelector("style, link")):document.head.appendChild(c),yM(e.els,c),c}function Nce(t){return bM(this,this.instance,t)}function Mce(t={}){const{id:e,ssr:r,props:n,head:i=!1,silent:s=!1,force:a=!1,anchorMetaName:o}=t;return Dce(this.instance,this,e,n,i,s,a,o,r)}function Oce(t={}){const{id:e}=t;Ice(this.instance,this,e)}const Bm=function(t,e,r,n){return{instance:t,$:e,props:r,children:n,els:[],render:Nce,mount:Mce,unmount:Oce}},Lce=function(t,e,r,n){return Array.isArray(e)?Bm(t,{$:null},null,e):Array.isArray(r)?Bm(t,e,null,r):Array.isArray(n)?Bm(t,e,r,n):Bm(t,e,r,null)};function Rce(t={}){let e=null;const r={c:(...n)=>Lce(r,...n),use:(n,...i)=>n.install(r,...i),find:bv,context:{},config:t,get __styleSheet(){if(!e){const n=document.createElement("style");return document.head.appendChild(n),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return r}function Bce(t){let e=".",r="__",n="--",i;if(t){let f=t.blockPrefix;f&&(e=f),f=t.elementPrefix,f&&(r=f),f=t.modifierPrefix,f&&(n=f)}const s={install(f){i=f.c;const c=f.context;c.bem={},c.bem.b=null,c.bem.els=null}};function a(f){let c,h;return{before(p){c=p.bem.b,h=p.bem.els,p.bem.els=null},after(p){p.bem.b=c,p.bem.els=h},$({context:p,props:m}){return f=typeof f=="string"?f:f({context:p,props:m}),p.bem.b=f,`${(m==null?void 0:m.bPrefix)||e}${p.bem.b}`}}}function o(f){let c;return{before(h){c=h.bem.els},after(h){h.bem.els=c},$({context:h,props:p}){return f=typeof f=="string"?f:f({context:h,props:p}),h.bem.els=f.split(",").map(m=>m.trim()),h.bem.els.map(m=>`${(p==null?void 0:p.bPrefix)||e}${h.bem.b}${r}${m}`).join(", ")}}}function l(f){return{$({context:c,props:h}){f=typeof f=="string"?f:f({context:c,props:h});const p=f.split(",").map(y=>y.trim());function m(y){return p.map(_=>`&${(h==null?void 0:h.bPrefix)||e}${c.bem.b}${y!==void 0?`${r}${y}`:""}${n}${_}`).join(", ")}const b=c.bem.els;if(b!==null){if(process.env.NODE_ENV!=="production"&&b.length>=2)throw Error(`[css-render/plugin-bem]: m(${f}) is invalid, using modifier inside multiple elements is not allowed`);return m(b[0])}else return m()}}}function d(f){return{$({context:c,props:h}){f=typeof f=="string"?f:f({context:c,props:h});const p=c.bem.els;if(process.env.NODE_ENV!=="production"&&p!==null&&p.length>=2)throw Error(`[css-render/plugin-bem]: notM(${f}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(h==null?void 0:h.bPrefix)||e}${c.bem.b}${p!==null&&p.length>0?`${r}${p[0]}`:""}${n}${f})`}}}return Object.assign(s,{cB:(...f)=>i(a(f[0]),f[1],f[2]),cE:(...f)=>i(o(f[0]),f[1],f[2]),cM:(...f)=>i(l(f[0]),f[1],f[2]),cNotM:(...f)=>i(d(f[0]),f[1],f[2])}),s}function uo(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,r=>r.toUpperCase()))}uo("abc","def");const Pce="n",Fce=`.${Pce}-`,Uce="__",$ce="--",_M=Rce(),vM=Bce({blockPrefix:Fce,elementPrefix:Uce,modifierPrefix:$ce});_M.use(vM);const{c:wn,find:jCe}=_M,{cB:Pm,cE:Rt,cM:ms,cNotM:TM}=vM;function jce(t,e){return u.watch(t,r=>{r!==void 0&&(e.value=r)}),u.computed(()=>t.value===void 0?e.value:t.value)}function Hce(){const t=u.ref(!1);return u.onMounted(()=>{t.value=!0}),u.readonly(t)}const EM=Symbol("@css-render/vue3-ssr");function zce(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function Vce(t,e){const r=u.inject(EM,null);if(r===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:n,ids:i}=r;i.has(t)||n!==null&&(i.add(t),n.push(zce(t,e)))}const qce=typeof document<"u";function vv(){if(qce)return;const t=u.inject(EM,null);if(t!==null)return{adapter:Vce,context:t}}const AM="n-form-item";function Wce(t,{defaultSize:e="medium",mergedSize:r,mergedDisabled:n}={}){const i=u.inject(AM,null);u.provide(AM,null);const s=u.computed(r?()=>r(i):()=>{const{size:l}=t;if(l)return l;if(i){const{mergedSize:d}=i;if(d.value!==void 0)return d.value}return e}),a=u.computed(n?()=>n(i):()=>{const{disabled:l}=t;return l!==void 0?l:i?i.disabled.value:!1}),o=u.computed(()=>{const{status:l}=t;return l||(i==null?void 0:i.mergedValidationStatus.value)});return u.onBeforeUnmount(()=>{i&&i.restoreValidation()}),{mergedSizeRef:s,mergedDisabledRef:a,mergedStatusRef:o,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var Gce=typeof global=="object"&&global&&global.Object===Object&&global;const xM=Gce;var Yce=typeof self=="object"&&self&&self.Object===Object&&self,Qce=xM||Yce||Function("return this")();const bc=Qce;var Kce=bc.Symbol;const Fm=Kce;var CM=Object.prototype,Xce=CM.hasOwnProperty,Zce=CM.toString,Vf=Fm?Fm.toStringTag:void 0;function Jce(t){var e=Xce.call(t,Vf),r=t[Vf];try{t[Vf]=void 0;var n=!0}catch{}var i=Zce.call(t);return n&&(e?t[Vf]=r:delete t[Vf]),i}var ede=Object.prototype,tde=ede.toString;function rde(t){return tde.call(t)}var nde="[object Null]",ide="[object Undefined]",wM=Fm?Fm.toStringTag:void 0;function Um(t){return t==null?t===void 0?ide:nde:wM&&wM in Object(t)?Jce(t):rde(t)}function qf(t){return t!=null&&typeof t=="object"}var sde=Array.isArray;const Tv=sde;function yl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function SM(t){return t}var ade="[object AsyncFunction]",ode="[object Function]",lde="[object GeneratorFunction]",ude="[object Proxy]";function Ev(t){if(!yl(t))return!1;var e=Um(t);return e==ode||e==lde||e==ade||e==ude}var cde=bc["__core-js_shared__"];const Av=cde;var kM=function(){var t=/[^.]+$/.exec(Av&&Av.keys&&Av.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dde(t){return!!kM&&kM in t}var fde=Function.prototype,hde=fde.toString;function pde(t){if(t!=null){try{return hde.call(t)}catch{}try{return t+""}catch{}}return""}var mde=/[\\^$.*+?()[\]{}|]/g,gde=/^\[object .+?Constructor\]$/,bde=Function.prototype,yde=Object.prototype,_de=bde.toString,vde=yde.hasOwnProperty,Tde=RegExp("^"+_de.call(vde).replace(mde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ede(t){if(!yl(t)||dde(t))return!1;var e=Ev(t)?Tde:gde;return e.test(pde(t))}function Ade(t,e){return t==null?void 0:t[e]}function xv(t,e){var r=Ade(t,e);return Ede(r)?r:void 0}var IM=Object.create,xde=function(){function t(){}return function(e){if(!yl(e))return{};if(IM)return IM(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Cde=xde;function wde(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Sde(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var kde=800,Ide=16,Dde=Date.now;function Nde(t){var e=0,r=0;return function(){var n=Dde(),i=Ide-(n-r);if(r=n,i>0){if(++e>=kde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Mde(t){return function(){return t}}var Ode=function(){try{var t=xv(Object,"defineProperty");return t({},"",{}),t}catch{}}();const $m=Ode;var Lde=$m?function(t,e){return $m(t,"toString",{configurable:!0,enumerable:!1,value:Mde(e),writable:!0})}:SM,Rde=Nde(Lde);const Bde=Rde;var Pde=9007199254740991,Fde=/^(?:0|[1-9]\d*)$/;function DM(t,e){var r=typeof t;return e=e??Pde,!!e&&(r=="number"||r!="symbol"&&Fde.test(t))&&t>-1&&t%1==0&&t<e}function Cv(t,e,r){e=="__proto__"&&$m?$m(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function jm(t,e){return t===e||t!==t&&e!==e}var Ude=Object.prototype,$de=Ude.hasOwnProperty;function jde(t,e,r){var n=t[e];(!($de.call(t,e)&&jm(n,r))||r===void 0&&!(e in t))&&Cv(t,e,r)}function Hde(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),i?Cv(r,o,l):jde(r,o,l)}return r}var NM=Math.max;function zde(t,e,r){return e=NM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=NM(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),wde(t,this,o)}}function Vde(t,e){return Bde(zde(t,e,SM),t+"")}var qde=9007199254740991;function MM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qde}function wv(t){return t!=null&&MM(t.length)&&!Ev(t)}function Wde(t,e,r){if(!yl(r))return!1;var n=typeof e;return(n=="number"?wv(r)&&DM(e,r.length):n=="string"&&e in r)?jm(r[e],t):!1}function Gde(t){return Vde(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&Wde(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,s)}return e})}var Yde=Object.prototype;function OM(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Yde;return t===r}function Qde(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Kde="[object Arguments]";function LM(t){return qf(t)&&Um(t)==Kde}var RM=Object.prototype,Xde=RM.hasOwnProperty,Zde=RM.propertyIsEnumerable,Jde=LM(function(){return arguments}())?LM:function(t){return qf(t)&&Xde.call(t,"callee")&&!Zde.call(t,"callee")};const Sv=Jde;function efe(){return!1}var BM=typeof vt=="object"&&vt&&!vt.nodeType&&vt,PM=BM&&typeof module=="object"&&module&&!module.nodeType&&module,tfe=PM&&PM.exports===BM,FM=tfe?bc.Buffer:void 0,rfe=FM?FM.isBuffer:void 0,nfe=rfe||efe;const UM=nfe;var ife="[object Arguments]",sfe="[object Array]",afe="[object Boolean]",ofe="[object Date]",lfe="[object Error]",ufe="[object Function]",cfe="[object Map]",dfe="[object Number]",ffe="[object Object]",hfe="[object RegExp]",pfe="[object Set]",mfe="[object String]",gfe="[object WeakMap]",bfe="[object ArrayBuffer]",yfe="[object DataView]",_fe="[object Float32Array]",vfe="[object Float64Array]",Tfe="[object Int8Array]",Efe="[object Int16Array]",Afe="[object Int32Array]",xfe="[object Uint8Array]",Cfe="[object Uint8ClampedArray]",wfe="[object Uint16Array]",Sfe="[object Uint32Array]",mr={};mr[_fe]=mr[vfe]=mr[Tfe]=mr[Efe]=mr[Afe]=mr[xfe]=mr[Cfe]=mr[wfe]=mr[Sfe]=!0,mr[ife]=mr[sfe]=mr[bfe]=mr[afe]=mr[yfe]=mr[ofe]=mr[lfe]=mr[ufe]=mr[cfe]=mr[dfe]=mr[ffe]=mr[hfe]=mr[pfe]=mr[mfe]=mr[gfe]=!1;function kfe(t){return qf(t)&&MM(t.length)&&!!mr[Um(t)]}function Ife(t){return function(e){return t(e)}}var $M=typeof vt=="object"&&vt&&!vt.nodeType&&vt,Wf=$M&&typeof module=="object"&&module&&!module.nodeType&&module,Dfe=Wf&&Wf.exports===$M,kv=Dfe&&xM.process,Nfe=function(){try{var t=Wf&&Wf.require&&Wf.require("util").types;return t||kv&&kv.binding&&kv.binding("util")}catch{}}();const jM=Nfe;var HM=jM&&jM.isTypedArray,Mfe=HM?Ife(HM):kfe;const zM=Mfe;function Ofe(t,e){var r=Tv(t),n=!r&&Sv(t),i=!r&&!n&&UM(t),s=!r&&!n&&!i&&zM(t),a=r||n||i||s,o=a?Qde(t.length,String):[],l=o.length;for(var d in t)!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||DM(d,l)))&&o.push(d);return o}function Lfe(t,e){return function(r){return t(e(r))}}function Rfe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Bfe=Object.prototype,Pfe=Bfe.hasOwnProperty;function Ffe(t){if(!yl(t))return Rfe(t);var e=OM(t),r=[];for(var n in t)n=="constructor"&&(e||!Pfe.call(t,n))||r.push(n);return r}function VM(t){return wv(t)?Ofe(t):Ffe(t)}var Ufe=xv(Object,"create");const Gf=Ufe;function $fe(){this.__data__=Gf?Gf(null):{},this.size=0}function jfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hfe="__lodash_hash_undefined__",zfe=Object.prototype,Vfe=zfe.hasOwnProperty;function qfe(t){var e=this.__data__;if(Gf){var r=e[t];return r===Hfe?void 0:r}return Vfe.call(e,t)?e[t]:void 0}var Wfe=Object.prototype,Gfe=Wfe.hasOwnProperty;function Yfe(t){var e=this.__data__;return Gf?e[t]!==void 0:Gfe.call(e,t)}var Qfe="__lodash_hash_undefined__";function Kfe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Gf&&e===void 0?Qfe:e,this}function _l(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_l.prototype.clear=$fe,_l.prototype.delete=jfe,_l.prototype.get=qfe,_l.prototype.has=Yfe,_l.prototype.set=Kfe;function Xfe(){this.__data__=[],this.size=0}function Hm(t,e){for(var r=t.length;r--;)if(jm(t[r][0],e))return r;return-1}var Zfe=Array.prototype,Jfe=Zfe.splice;function ehe(t){var e=this.__data__,r=Hm(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Jfe.call(e,r,1),--this.size,!0}function the(t){var e=this.__data__,r=Hm(e,t);return r<0?void 0:e[r][1]}function rhe(t){return Hm(this.__data__,t)>-1}function nhe(t,e){var r=this.__data__,n=Hm(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Aa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Aa.prototype.clear=Xfe,Aa.prototype.delete=ehe,Aa.prototype.get=the,Aa.prototype.has=rhe,Aa.prototype.set=nhe;var ihe=xv(bc,"Map");const qM=ihe;function she(){this.size=0,this.__data__={hash:new _l,map:new(qM||Aa),string:new _l}}function ahe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zm(t,e){var r=t.__data__;return ahe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function ohe(t){var e=zm(this,t).delete(t);return this.size-=e?1:0,e}function lhe(t){return zm(this,t).get(t)}function uhe(t){return zm(this,t).has(t)}function che(t,e){var r=zm(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function yc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yc.prototype.clear=she,yc.prototype.delete=ohe,yc.prototype.get=lhe,yc.prototype.has=uhe,yc.prototype.set=che;var dhe=Lfe(Object.getPrototypeOf,Object);const WM=dhe;var fhe="[object Object]",hhe=Function.prototype,phe=Object.prototype,GM=hhe.toString,mhe=phe.hasOwnProperty,ghe=GM.call(Object);function bhe(t){if(!qf(t)||Um(t)!=fhe)return!1;var e=WM(t);if(e===null)return!0;var r=mhe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&GM.call(r)==ghe}function yhe(){this.__data__=new Aa,this.size=0}function _he(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function vhe(t){return this.__data__.get(t)}function The(t){return this.__data__.has(t)}var Ehe=200;function Ahe(t,e){var r=this.__data__;if(r instanceof Aa){var n=r.__data__;if(!qM||n.length<Ehe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yc(n)}return r.set(t,e),this.size=r.size,this}function _c(t){var e=this.__data__=new Aa(t);this.size=e.size}_c.prototype.clear=yhe,_c.prototype.delete=_he,_c.prototype.get=vhe,_c.prototype.has=The,_c.prototype.set=Ahe;var YM=typeof vt=="object"&&vt&&!vt.nodeType&&vt,QM=YM&&typeof module=="object"&&module&&!module.nodeType&&module,xhe=QM&&QM.exports===YM,KM=xhe?bc.Buffer:void 0;KM&&KM.allocUnsafe;function Che(t,e){return t.slice()}var whe=bc.Uint8Array;const XM=whe;function She(t){var e=new t.constructor(t.byteLength);return new XM(e).set(new XM(t)),e}function khe(t,e){var r=She(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function Ihe(t){return typeof t.constructor=="function"&&!OM(t)?Cde(WM(t)):{}}function Dhe(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return e}}var Nhe=Dhe();const Mhe=Nhe;function Iv(t,e,r){(r!==void 0&&!jm(t[e],r)||r===void 0&&!(e in t))&&Cv(t,e,r)}function Ohe(t){return qf(t)&&wv(t)}function Dv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Lhe(t){return Hde(t,VM(t))}function Rhe(t,e,r,n,i,s,a){var o=Dv(t,r),l=Dv(e,r),d=a.get(l);if(d){Iv(t,r,d);return}var f=s?s(o,l,r+"",t,e,a):void 0,c=f===void 0;if(c){var h=Tv(l),p=!h&&UM(l),m=!h&&!p&&zM(l);f=l,h||p||m?Tv(o)?f=o:Ohe(o)?f=Sde(o):p?(c=!1,f=Che(l)):m?(c=!1,f=khe(l)):f=[]:bhe(l)||Sv(l)?(f=o,Sv(o)?f=Lhe(o):(!yl(o)||Ev(o))&&(f=Ihe(l))):c=!1}c&&(a.set(l,f),i(f,l,n,s,a),a.delete(l)),Iv(t,r,f)}function ZM(t,e,r,n,i){t!==e&&Mhe(e,function(s,a){if(i||(i=new _c),yl(s))Rhe(t,e,a,r,ZM,n,i);else{var o=n?n(Dv(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),Iv(t,a,o)}},VM)}var Bhe=Gde(function(t,e,r){ZM(t,e,r)});const Vm=Bhe,qm={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:Phe,fontFamily:Fhe,lineHeight:Uhe}=qm,JM=wn("body",`
 margin: 0;
 font-size: ${Phe};
 font-family: ${Fhe};
 line-height: ${Uhe};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[wn("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),Wm="n-config-provider",Gm="naive-ui-style";function Yf(t,e,r,n,i,s){const a=vv(),o=u.inject(Wm,null);if(r){const l=()=>{const d=s==null?void 0:s.value;r.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:Gm,ssr:a}),o!=null&&o.preflightStyleDisabled||JM.mount({id:"n-global",head:!0,anchorMetaName:Gm,ssr:a})};a?l():u.onBeforeMount(l)}return u.computed(()=>{var l;const{theme:{common:d,self:f,peers:c={}}={},themeOverrides:h={},builtinThemeOverrides:p={}}=i,{common:m,peers:b}=h,{common:y=void 0,[t]:{common:_=void 0,self:x=void 0,peers:C={}}={}}=(o==null?void 0:o.mergedThemeRef.value)||{},{common:k=void 0,[t]:S={}}=(o==null?void 0:o.mergedThemeOverridesRef.value)||{},{common:w,peers:L={}}=S,D=Vm({},d||_||y||n.common,k,w,m),I=Vm((l=f||x||n.self)===null||l===void 0?void 0:l(D),p,S,h);return{common:D,self:I,peers:Vm({},n.peers,C,c),peerOverrides:Vm({},p.peers,L,b)}})}Yf.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const $he="n";function e8(t={},e={defaultBordered:!0}){const r=u.inject(Wm,null);return{inlineThemeDisabled:r==null?void 0:r.inlineThemeDisabled,mergedRtlRef:r==null?void 0:r.mergedRtlRef,mergedComponentPropsRef:r==null?void 0:r.mergedComponentPropsRef,mergedBreakpointsRef:r==null?void 0:r.mergedBreakpointsRef,mergedBorderedRef:u.computed(()=>{var n,i;const{bordered:s}=t;return s!==void 0?s:(i=(n=r==null?void 0:r.mergedBorderedRef.value)!==null&&n!==void 0?n:e.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:r?r.mergedClsPrefixRef:u.shallowRef($he),namespaceRef:u.computed(()=>r==null?void 0:r.mergedNamespaceRef.value)}}function jhe(t,e,r){if(!e){process.env.NODE_ENV!=="production"&&cM("use-style","No style is specified.");return}const n=vv(),i=u.inject(Wm,null),s=()=>{const a=r.value;e.mount({id:a===void 0?t:a+t,head:!0,anchorMetaName:Gm,props:{bPrefix:a?`.${a}-`:void 0},ssr:n}),i!=null&&i.preflightStyleDisabled||JM.mount({id:"n-global",head:!0,anchorMetaName:Gm,ssr:n})};n?s():u.onBeforeMount(s)}function t8(t,e,r,n){var i;r||cM("useThemeClass","cssVarsRef is not passed");const s=(i=u.inject(Wm,null))===null||i===void 0?void 0:i.mergedThemeHashRef,a=u.ref(""),o=vv();let l;const d=`__${t}`,f=()=>{let c=d;const h=e?e.value:void 0,p=s==null?void 0:s.value;p&&(c+="-"+p),h&&(c+="-"+h);const{themeOverrides:m,builtinThemeOverrides:b}=n;m&&(c+="-"+_v(JSON.stringify(m))),b&&(c+="-"+_v(JSON.stringify(b))),a.value=c,l=()=>{const y=r.value;let _="";for(const x in y)_+=`${x}: ${y[x]};`;wn(`.${c}`,_).mount({id:c,ssr:o}),l=void 0}};return u.watchEffect(()=>{f()}),{themeClass:a,onRender:()=>{l==null||l()}}}const r8=u.defineComponent({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const r=Hce();return()=>u.h(u.Transition,{name:"icon-switch-transition",appear:r.value},e)}}),{cubicBezierEaseInOut:Hhe}=qm;function Ym({originalTransform:t="",left:e=0,top:r=0,transition:n=`all .3s ${Hhe} !important`}={}){return[wn("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:t+" scale(0.75)",left:e,top:r,opacity:0}),wn("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:r,opacity:1}),wn("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:r,transition:n})]}const zhe=wn([wn("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),wn("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),wn("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),wn("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),Pm("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[Rt("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[Ym()]),Rt("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[Rt("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),Rt("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[Rt("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[Rt("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),Rt("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[Rt("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),Rt("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[Rt("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),Rt("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Ym({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),Vhe={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},qhe=u.defineComponent({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},Vhe),setup(t){jhe("-base-loading",zhe,u.toRef(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:r,stroke:n,scale:i}=this,s=e/i;return u.h("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},u.h(r8,null,{default:()=>this.show?u.h("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},u.h("div",{class:`${t}-base-loading__container`},u.h("div",{class:`${t}-base-loading__container-layer`},u.h("div",{class:`${t}-base-loading__container-layer-left`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:s,cy:s,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),u.h("div",{class:`${t}-base-loading__container-layer-patch`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:s,cy:s,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),u.h("div",{class:`${t}-base-loading__container-layer-right`},u.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*s} ${2*s}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},u.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:s,cy:s,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e})))))):u.h("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),tt={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},Whe=Ea(tt.neutralBase),n8=Ea(tt.neutralInvertBase),Ghe="rgba("+n8.slice(0,3).join(", ")+", ";function zt(t){return Ghe+String(t)+")"}function Yhe(t){const e=Array.from(n8);return e[3]=Number(t),ht(Whe,e)}const Qhe=Object.assign(Object.assign({name:"common"},qm),{baseColor:tt.neutralBase,primaryColor:tt.primaryDefault,primaryColorHover:tt.primaryHover,primaryColorPressed:tt.primaryActive,primaryColorSuppl:tt.primarySuppl,infoColor:tt.infoDefault,infoColorHover:tt.infoHover,infoColorPressed:tt.infoActive,infoColorSuppl:tt.infoSuppl,successColor:tt.successDefault,successColorHover:tt.successHover,successColorPressed:tt.successActive,successColorSuppl:tt.successSuppl,warningColor:tt.warningDefault,warningColorHover:tt.warningHover,warningColorPressed:tt.warningActive,warningColorSuppl:tt.warningSuppl,errorColor:tt.errorDefault,errorColorHover:tt.errorHover,errorColorPressed:tt.errorActive,errorColorSuppl:tt.errorSuppl,textColorBase:tt.neutralTextBase,textColor1:zt(tt.alpha1),textColor2:zt(tt.alpha2),textColor3:zt(tt.alpha3),textColorDisabled:zt(tt.alpha4),placeholderColor:zt(tt.alpha4),placeholderColorDisabled:zt(tt.alpha5),iconColor:zt(tt.alpha4),iconColorDisabled:zt(tt.alpha5),iconColorHover:zt(Number(tt.alpha4)*1.25),iconColorPressed:zt(Number(tt.alpha4)*.8),opacity1:tt.alpha1,opacity2:tt.alpha2,opacity3:tt.alpha3,opacity4:tt.alpha4,opacity5:tt.alpha5,dividerColor:zt(tt.alphaDivider),borderColor:zt(tt.alphaBorder),closeIconColorHover:zt(Number(tt.alphaClose)),closeIconColor:zt(Number(tt.alphaClose)),closeIconColorPressed:zt(Number(tt.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:zt(tt.alpha4),clearColorHover:Pr(zt(tt.alpha4),{alpha:1.25}),clearColorPressed:Pr(zt(tt.alpha4),{alpha:.8}),scrollbarColor:zt(tt.alphaScrollbar),scrollbarColorHover:zt(tt.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:zt(tt.alphaProgressRail),railColor:zt(tt.alphaRail),popoverColor:tt.neutralPopover,tableColor:tt.neutralCard,cardColor:tt.neutralCard,modalColor:tt.neutralModal,bodyColor:tt.neutralBody,tagColor:Yhe(tt.alphaTag),avatarColor:zt(tt.alphaAvatar),invertedColor:tt.neutralBase,inputColor:zt(tt.alphaInput),codeColor:zt(tt.alphaCode),tabColor:zt(tt.alphaTab),actionColor:zt(tt.alphaAction),tableHeaderColor:zt(tt.alphaAction),hoverColor:zt(tt.alphaPending),tableColorHover:zt(tt.alphaTablePending),tableColorStriped:zt(tt.alphaTableStriped),pressedColor:zt(tt.alphaPressed),opacityDisabled:tt.alphaDisabled,inputColorDisabled:zt(tt.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Qe=Qhe,ct={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},Khe=Ea(ct.neutralBase),i8=Ea(ct.neutralInvertBase),Xhe="rgba("+i8.slice(0,3).join(", ")+", ";function s8(t){return Xhe+String(t)+")"}function Sn(t){const e=Array.from(i8);return e[3]=Number(t),ht(Khe,e)}const Zhe=Object.assign(Object.assign({name:"common"},qm),{baseColor:ct.neutralBase,primaryColor:ct.primaryDefault,primaryColorHover:ct.primaryHover,primaryColorPressed:ct.primaryActive,primaryColorSuppl:ct.primarySuppl,infoColor:ct.infoDefault,infoColorHover:ct.infoHover,infoColorPressed:ct.infoActive,infoColorSuppl:ct.infoSuppl,successColor:ct.successDefault,successColorHover:ct.successHover,successColorPressed:ct.successActive,successColorSuppl:ct.successSuppl,warningColor:ct.warningDefault,warningColorHover:ct.warningHover,warningColorPressed:ct.warningActive,warningColorSuppl:ct.warningSuppl,errorColor:ct.errorDefault,errorColorHover:ct.errorHover,errorColorPressed:ct.errorActive,errorColorSuppl:ct.errorSuppl,textColorBase:ct.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:Sn(ct.alpha4),placeholderColor:Sn(ct.alpha4),placeholderColorDisabled:Sn(ct.alpha5),iconColor:Sn(ct.alpha4),iconColorHover:Pr(Sn(ct.alpha4),{lightness:.75}),iconColorPressed:Pr(Sn(ct.alpha4),{lightness:.9}),iconColorDisabled:Sn(ct.alpha5),opacity1:ct.alpha1,opacity2:ct.alpha2,opacity3:ct.alpha3,opacity4:ct.alpha4,opacity5:ct.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:Sn(Number(ct.alphaClose)),closeIconColorHover:Sn(Number(ct.alphaClose)),closeIconColorPressed:Sn(Number(ct.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:Sn(ct.alpha4),clearColorHover:Pr(Sn(ct.alpha4),{lightness:.75}),clearColorPressed:Pr(Sn(ct.alpha4),{lightness:.9}),scrollbarColor:s8(ct.alphaScrollbar),scrollbarColorHover:s8(ct.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:Sn(ct.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:ct.neutralPopover,tableColor:ct.neutralCard,cardColor:ct.neutralCard,modalColor:ct.neutralModal,bodyColor:ct.neutralBody,tagColor:"#eee",avatarColor:Sn(ct.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:Sn(ct.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:ct.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Nv=Zhe,Jhe={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},a8=t=>{const{textColorDisabled:e,iconColor:r,textColor2:n,fontSizeSmall:i,fontSizeMedium:s,fontSizeLarge:a,fontSizeHuge:o}=t;return Object.assign(Object.assign({},Jhe),{fontSizeSmall:i,fontSizeMedium:s,fontSizeLarge:a,fontSizeHuge:o,textColor:e,iconColor:r,extraTextColor:n})},epe={name:"Empty",common:Nv,self:a8},tpe=epe,rpe={name:"Empty",common:Qe,self:a8},vl=rpe,npe=t=>{const{scrollbarColor:e,scrollbarColorHover:r}=t;return{color:e,colorHover:r}},ipe={name:"Scrollbar",common:Qe,self:npe},li=ipe,spe={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},ape=t=>{const{borderRadius:e,popoverColor:r,textColor3:n,dividerColor:i,textColor2:s,primaryColorPressed:a,textColorDisabled:o,primaryColor:l,opacityDisabled:d,hoverColor:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p,fontSizeHuge:m,heightSmall:b,heightMedium:y,heightLarge:_,heightHuge:x}=t;return Object.assign(Object.assign({},spe),{optionFontSizeSmall:c,optionFontSizeMedium:h,optionFontSizeLarge:p,optionFontSizeHuge:m,optionHeightSmall:b,optionHeightMedium:y,optionHeightLarge:_,optionHeightHuge:x,borderRadius:e,color:r,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:s,optionTextColorPressed:a,optionTextColorDisabled:o,optionTextColorActive:l,optionOpacityDisabled:d,optionCheckColor:l,optionColorPending:f,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:f,actionTextColor:s,loadingColor:l})},ope={name:"InternalSelectMenu",common:Qe,peers:{Scrollbar:li,Empty:vl},self:ape},Qf=ope,lpe={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},upe=t=>{const{boxShadow2:e,popoverColor:r,textColor2:n,borderRadius:i,fontSize:s,dividerColor:a}=t;return Object.assign(Object.assign({},lpe),{fontSize:s,borderRadius:i,color:r,dividerColor:a,textColor:n,boxShadow:e})},cpe={name:"Popover",common:Qe,self:upe},Tl=cpe,dpe={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},fpe={name:"Tag",common:Qe,self(t){const{textColor2:e,primaryColorHover:r,primaryColorPressed:n,primaryColor:i,infoColor:s,successColor:a,warningColor:o,errorColor:l,baseColor:d,borderColor:f,tagColor:c,opacityDisabled:h,closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:b,closeColorHover:y,closeColorPressed:_,borderRadiusSmall:x,fontSizeMini:C,fontSizeTiny:k,fontSizeSmall:S,fontSizeMedium:w,heightMini:L,heightTiny:D,heightSmall:I,heightMedium:P,buttonColor2Hover:z,buttonColor2Pressed:U,fontWeightStrong:$}=t;return Object.assign(Object.assign({},dpe),{closeBorderRadius:x,heightTiny:L,heightSmall:D,heightMedium:I,heightLarge:P,borderRadius:x,opacityDisabled:h,fontSizeTiny:C,fontSizeSmall:k,fontSizeMedium:S,fontSizeLarge:w,fontWeightStrong:$,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:d,colorCheckable:"#0000",colorHoverCheckable:z,colorPressedCheckable:U,colorChecked:i,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${f}`,textColor:e,color:c,colorBordered:"#0000",closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:b,closeColorHover:y,closeColorPressed:_,borderPrimary:`1px solid ${it(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:it(i,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:Pr(i,{lightness:.7}),closeIconColorHoverPrimary:Pr(i,{lightness:.7}),closeIconColorPressedPrimary:Pr(i,{lightness:.7}),closeColorHoverPrimary:it(i,{alpha:.16}),closeColorPressedPrimary:it(i,{alpha:.12}),borderInfo:`1px solid ${it(s,{alpha:.3})}`,textColorInfo:s,colorInfo:it(s,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:Pr(s,{alpha:.7}),closeIconColorHoverInfo:Pr(s,{alpha:.7}),closeIconColorPressedInfo:Pr(s,{alpha:.7}),closeColorHoverInfo:it(s,{alpha:.16}),closeColorPressedInfo:it(s,{alpha:.12}),borderSuccess:`1px solid ${it(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:it(a,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:Pr(a,{alpha:.7}),closeIconColorHoverSuccess:Pr(a,{alpha:.7}),closeIconColorPressedSuccess:Pr(a,{alpha:.7}),closeColorHoverSuccess:it(a,{alpha:.16}),closeColorPressedSuccess:it(a,{alpha:.12}),borderWarning:`1px solid ${it(o,{alpha:.3})}`,textColorWarning:o,colorWarning:it(o,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:Pr(o,{alpha:.7}),closeIconColorHoverWarning:Pr(o,{alpha:.7}),closeIconColorPressedWarning:Pr(o,{alpha:.7}),closeColorHoverWarning:it(o,{alpha:.16}),closeColorPressedWarning:it(o,{alpha:.11}),borderError:`1px solid ${it(l,{alpha:.3})}`,textColorError:l,colorError:it(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:Pr(l,{alpha:.7}),closeIconColorHoverError:Pr(l,{alpha:.7}),closeIconColorPressedError:Pr(l,{alpha:.7}),closeColorHoverError:it(l,{alpha:.16}),closeColorPressedError:it(l,{alpha:.12})})}},o8=fpe,hpe={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},ppe={name:"InternalSelection",common:Qe,peers:{Popover:Tl},self(t){const{borderRadius:e,textColor2:r,textColorDisabled:n,inputColor:i,inputColorDisabled:s,primaryColor:a,primaryColorHover:o,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:c,iconColor:h,iconColorDisabled:p,clearColor:m,clearColorHover:b,clearColorPressed:y,placeholderColor:_,placeholderColorDisabled:x,fontSizeTiny:C,fontSizeSmall:k,fontSizeMedium:S,fontSizeLarge:w,heightTiny:L,heightSmall:D,heightMedium:I,heightLarge:P}=t;return Object.assign(Object.assign({},hpe),{fontSizeTiny:C,fontSizeSmall:k,fontSizeMedium:S,fontSizeLarge:w,heightTiny:L,heightSmall:D,heightMedium:I,heightLarge:P,borderRadius:e,textColor:r,textColorDisabled:n,placeholderColor:_,placeholderColorDisabled:x,color:i,colorDisabled:s,colorActive:it(a,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${o}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${o}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${it(a,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${it(a,{alpha:.4})}`,caretColor:a,arrowColor:h,arrowColorDisabled:p,loadingColor:a,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${it(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${it(l,{alpha:.4})}`,colorActiveWarning:it(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${c}`,borderActiveError:`1px solid ${f}`,borderFocusError:`1px solid ${c}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${it(f,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${it(f,{alpha:.4})}`,colorActiveError:it(f,{alpha:.1}),caretColorError:f,clearColor:m,clearColorHover:b,clearColorPressed:y})}},Mv=ppe,mpe={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},gpe={name:"Alert",common:Qe,self(t){const{lineHeight:e,borderRadius:r,fontWeightStrong:n,dividerColor:i,inputColor:s,textColor1:a,textColor2:o,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,infoColorSuppl:p,successColorSuppl:m,warningColorSuppl:b,errorColorSuppl:y,fontSize:_}=t;return Object.assign(Object.assign({},mpe),{fontSize:_,lineHeight:e,titleFontWeight:n,borderRadius:r,border:`1px solid ${i}`,color:s,titleTextColor:a,iconColor:o,contentTextColor:o,closeBorderRadius:r,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,borderInfo:`1px solid ${it(p,{alpha:.35})}`,colorInfo:it(p,{alpha:.25}),titleTextColorInfo:a,iconColorInfo:p,contentTextColorInfo:o,closeColorHoverInfo:l,closeColorPressedInfo:d,closeIconColorInfo:f,closeIconColorHoverInfo:c,closeIconColorPressedInfo:h,borderSuccess:`1px solid ${it(m,{alpha:.35})}`,colorSuccess:it(m,{alpha:.25}),titleTextColorSuccess:a,iconColorSuccess:m,contentTextColorSuccess:o,closeColorHoverSuccess:l,closeColorPressedSuccess:d,closeIconColorSuccess:f,closeIconColorHoverSuccess:c,closeIconColorPressedSuccess:h,borderWarning:`1px solid ${it(b,{alpha:.35})}`,colorWarning:it(b,{alpha:.25}),titleTextColorWarning:a,iconColorWarning:b,contentTextColorWarning:o,closeColorHoverWarning:l,closeColorPressedWarning:d,closeIconColorWarning:f,closeIconColorHoverWarning:c,closeIconColorPressedWarning:h,borderError:`1px solid ${it(y,{alpha:.35})}`,colorError:it(y,{alpha:.25}),titleTextColorError:a,iconColorError:y,contentTextColorError:o,closeColorHoverError:l,closeColorPressedError:d,closeIconColorError:f,closeIconColorHoverError:c,closeIconColorPressedError:h})}},bpe=gpe,ype={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},_pe=t=>{const{borderRadius:e,railColor:r,primaryColor:n,primaryColorHover:i,primaryColorPressed:s,textColor2:a}=t;return Object.assign(Object.assign({},ype),{borderRadius:e,railColor:r,railColorActive:n,linkColor:it(n,{alpha:.15}),linkTextColor:a,linkTextColorHover:i,linkTextColorPressed:s,linkTextColorActive:n})},vpe={name:"Anchor",common:Qe,self:_pe},Tpe=vpe,Epe={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},Ape={name:"Input",common:Qe,self(t){const{textColor2:e,textColor3:r,textColorDisabled:n,primaryColor:i,primaryColorHover:s,inputColor:a,inputColorDisabled:o,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:c,borderRadius:h,lineHeight:p,fontSizeTiny:m,fontSizeSmall:b,fontSizeMedium:y,fontSizeLarge:_,heightTiny:x,heightSmall:C,heightMedium:k,heightLarge:S,clearColor:w,clearColorHover:L,clearColorPressed:D,placeholderColor:I,placeholderColorDisabled:P,iconColor:z,iconColorDisabled:U,iconColorHover:$,iconColorPressed:H}=t;return Object.assign(Object.assign({},Epe),{countTextColorDisabled:n,countTextColor:r,heightTiny:x,heightSmall:C,heightMedium:k,heightLarge:S,fontSizeTiny:m,fontSizeSmall:b,fontSizeMedium:y,fontSizeLarge:_,lineHeight:p,lineHeightTextarea:p,borderRadius:h,iconSize:"16px",groupLabelColor:a,textColor:e,textColorDisabled:n,textDecorationColor:e,groupLabelTextColor:e,caretColor:i,placeholderColor:I,placeholderColorDisabled:P,color:a,colorDisabled:o,colorFocus:it(i,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${s}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${s}`,boxShadowFocus:`0 0 8px 0 ${it(i,{alpha:.3})}`,loadingColor:i,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:it(l,{alpha:.1}),borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 8px 0 ${it(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${c}`,colorFocusError:it(f,{alpha:.1}),borderFocusError:`1px solid ${c}`,boxShadowFocusError:`0 0 8px 0 ${it(f,{alpha:.3})}`,caretColorError:f,clearColor:w,clearColorHover:L,clearColorPressed:D,iconColor:z,iconColorDisabled:U,iconColorHover:$,iconColorPressed:H,suffixTextColor:e})}},Hi=Ape;function xpe(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const Cpe={name:"AutoComplete",common:Qe,peers:{InternalSelectMenu:Qf,Input:Hi},self:xpe},wpe=Cpe,Spe=t=>{const{borderRadius:e,avatarColor:r,cardColor:n,fontSize:i,heightTiny:s,heightSmall:a,heightMedium:o,heightLarge:l,heightHuge:d,modalColor:f,popoverColor:c}=t;return{borderRadius:e,fontSize:i,border:`2px solid ${n}`,heightTiny:s,heightSmall:a,heightMedium:o,heightLarge:l,heightHuge:d,color:ht(n,r),colorModal:ht(f,r),colorPopover:ht(c,r)}},kpe={name:"Avatar",common:Qe,self:Spe},l8=kpe,Ipe=()=>({gap:"-12px"}),Dpe={name:"AvatarGroup",common:Qe,peers:{Avatar:l8},self:Ipe},Npe=Dpe,Mpe={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},Ope={name:"BackTop",common:Qe,self(t){const{popoverColor:e,textColor2:r,primaryColorHover:n,primaryColorPressed:i}=t;return Object.assign(Object.assign({},Mpe),{color:e,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},Lpe=Ope,Rpe={name:"Badge",common:Qe,self(t){const{errorColorSuppl:e,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:i,fontFamily:s}=t;return{color:e,colorInfo:r,colorSuccess:n,colorError:e,colorWarning:i,fontSize:"12px",fontFamily:s}}},Bpe=Rpe,Ppe={fontWeightActive:"400"},Fpe=t=>{const{fontSize:e,textColor3:r,textColor2:n,borderRadius:i,buttonColor2Hover:s,buttonColor2Pressed:a}=t;return Object.assign(Object.assign({},Ppe),{fontSize:e,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:i,itemColorHover:s,itemColorPressed:a,separatorColor:r})},Upe={name:"Breadcrumb",common:Qe,self:Fpe},$pe=Upe,jpe={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},Hpe=t=>{const{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadius:s,fontSizeTiny:a,fontSizeSmall:o,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,textColor2:c,textColor3:h,primaryColorHover:p,primaryColorPressed:m,borderColor:b,primaryColor:y,baseColor:_,infoColor:x,infoColorHover:C,infoColorPressed:k,successColor:S,successColorHover:w,successColorPressed:L,warningColor:D,warningColorHover:I,warningColorPressed:P,errorColor:z,errorColorHover:U,errorColorPressed:$,fontWeight:H,buttonColor2:Y,buttonColor2Hover:F,buttonColor2Pressed:j,fontWeightStrong:se}=t;return Object.assign(Object.assign({},jpe),{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadiusTiny:s,borderRadiusSmall:s,borderRadiusMedium:s,borderRadiusLarge:s,fontSizeTiny:a,fontSizeSmall:o,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:Y,colorSecondaryHover:F,colorSecondaryPressed:j,colorTertiary:Y,colorTertiaryHover:F,colorTertiaryPressed:j,colorQuaternary:"#0000",colorQuaternaryHover:F,colorQuaternaryPressed:j,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:c,textColorTertiary:h,textColorHover:p,textColorPressed:m,textColorFocus:p,textColorDisabled:c,textColorText:c,textColorTextHover:p,textColorTextPressed:m,textColorTextFocus:p,textColorTextDisabled:c,textColorGhost:c,textColorGhostHover:p,textColorGhostPressed:m,textColorGhostFocus:p,textColorGhostDisabled:c,border:`1px solid ${b}`,borderHover:`1px solid ${p}`,borderPressed:`1px solid ${m}`,borderFocus:`1px solid ${p}`,borderDisabled:`1px solid ${b}`,rippleColor:y,colorPrimary:y,colorHoverPrimary:p,colorPressedPrimary:m,colorFocusPrimary:p,colorDisabledPrimary:y,textColorPrimary:_,textColorHoverPrimary:_,textColorPressedPrimary:_,textColorFocusPrimary:_,textColorDisabledPrimary:_,textColorTextPrimary:y,textColorTextHoverPrimary:p,textColorTextPressedPrimary:m,textColorTextFocusPrimary:p,textColorTextDisabledPrimary:c,textColorGhostPrimary:y,textColorGhostHoverPrimary:p,textColorGhostPressedPrimary:m,textColorGhostFocusPrimary:p,textColorGhostDisabledPrimary:y,borderPrimary:`1px solid ${y}`,borderHoverPrimary:`1px solid ${p}`,borderPressedPrimary:`1px solid ${m}`,borderFocusPrimary:`1px solid ${p}`,borderDisabledPrimary:`1px solid ${y}`,rippleColorPrimary:y,colorInfo:x,colorHoverInfo:C,colorPressedInfo:k,colorFocusInfo:C,colorDisabledInfo:x,textColorInfo:_,textColorHoverInfo:_,textColorPressedInfo:_,textColorFocusInfo:_,textColorDisabledInfo:_,textColorTextInfo:x,textColorTextHoverInfo:C,textColorTextPressedInfo:k,textColorTextFocusInfo:C,textColorTextDisabledInfo:c,textColorGhostInfo:x,textColorGhostHoverInfo:C,textColorGhostPressedInfo:k,textColorGhostFocusInfo:C,textColorGhostDisabledInfo:x,borderInfo:`1px solid ${x}`,borderHoverInfo:`1px solid ${C}`,borderPressedInfo:`1px solid ${k}`,borderFocusInfo:`1px solid ${C}`,borderDisabledInfo:`1px solid ${x}`,rippleColorInfo:x,colorSuccess:S,colorHoverSuccess:w,colorPressedSuccess:L,colorFocusSuccess:w,colorDisabledSuccess:S,textColorSuccess:_,textColorHoverSuccess:_,textColorPressedSuccess:_,textColorFocusSuccess:_,textColorDisabledSuccess:_,textColorTextSuccess:S,textColorTextHoverSuccess:w,textColorTextPressedSuccess:L,textColorTextFocusSuccess:w,textColorTextDisabledSuccess:c,textColorGhostSuccess:S,textColorGhostHoverSuccess:w,textColorGhostPressedSuccess:L,textColorGhostFocusSuccess:w,textColorGhostDisabledSuccess:S,borderSuccess:`1px solid ${S}`,borderHoverSuccess:`1px solid ${w}`,borderPressedSuccess:`1px solid ${L}`,borderFocusSuccess:`1px solid ${w}`,borderDisabledSuccess:`1px solid ${S}`,rippleColorSuccess:S,colorWarning:D,colorHoverWarning:I,colorPressedWarning:P,colorFocusWarning:I,colorDisabledWarning:D,textColorWarning:_,textColorHoverWarning:_,textColorPressedWarning:_,textColorFocusWarning:_,textColorDisabledWarning:_,textColorTextWarning:D,textColorTextHoverWarning:I,textColorTextPressedWarning:P,textColorTextFocusWarning:I,textColorTextDisabledWarning:c,textColorGhostWarning:D,textColorGhostHoverWarning:I,textColorGhostPressedWarning:P,textColorGhostFocusWarning:I,textColorGhostDisabledWarning:D,borderWarning:`1px solid ${D}`,borderHoverWarning:`1px solid ${I}`,borderPressedWarning:`1px solid ${P}`,borderFocusWarning:`1px solid ${I}`,borderDisabledWarning:`1px solid ${D}`,rippleColorWarning:D,colorError:z,colorHoverError:U,colorPressedError:$,colorFocusError:U,colorDisabledError:z,textColorError:_,textColorHoverError:_,textColorPressedError:_,textColorFocusError:_,textColorDisabledError:_,textColorTextError:z,textColorTextHoverError:U,textColorTextPressedError:$,textColorTextFocusError:U,textColorTextDisabledError:c,textColorGhostError:z,textColorGhostHoverError:U,textColorGhostPressedError:$,textColorGhostFocusError:U,textColorGhostDisabledError:z,borderError:`1px solid ${z}`,borderHoverError:`1px solid ${U}`,borderPressedError:`1px solid ${$}`,borderFocusError:`1px solid ${U}`,borderDisabledError:`1px solid ${z}`,rippleColorError:z,waveOpacity:"0.6",fontWeight:H,fontWeightStrong:se})},zpe={name:"Button",common:Qe,self(t){const e=Hpe(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},ui=zpe,Vpe={titleFontSize:"22px"},qpe=t=>{const{borderRadius:e,fontSize:r,lineHeight:n,textColor2:i,textColor1:s,textColorDisabled:a,dividerColor:o,fontWeightStrong:l,primaryColor:d,baseColor:f,hoverColor:c,cardColor:h,modalColor:p,popoverColor:m}=t;return Object.assign(Object.assign({},Vpe),{borderRadius:e,borderColor:ht(h,o),borderColorModal:ht(p,o),borderColorPopover:ht(m,o),textColor:i,titleFontWeight:l,titleTextColor:s,dayTextColor:a,fontSize:r,lineHeight:n,dateColorCurrent:d,dateTextColorCurrent:f,cellColorHover:ht(h,c),cellColorHoverModal:ht(p,c),cellColorHoverPopover:ht(m,c),cellColor:h,cellColorModal:p,cellColorPopover:m,barColor:d})},Wpe={name:"Calendar",common:Qe,peers:{Button:ui},self:qpe},Gpe=Wpe,Ype=t=>{const{fontSize:e,boxShadow2:r,popoverColor:n,textColor2:i,borderRadius:s,borderColor:a,heightSmall:o,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,dividerColor:p}=t;return{panelFontSize:e,boxShadow:r,color:n,textColor:i,borderRadius:s,border:`1px solid ${a}`,heightSmall:o,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,dividerColor:p}},Qpe={name:"ColorPicker",common:Qe,peers:{Input:Hi,Button:ui},self:Ype},Kpe=Qpe,Xpe={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},Zpe=t=>{const{primaryColor:e,borderRadius:r,lineHeight:n,fontSize:i,cardColor:s,textColor2:a,textColor1:o,dividerColor:l,fontWeightStrong:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,closeColorHover:p,closeColorPressed:m,modalColor:b,boxShadow1:y,popoverColor:_,actionColor:x}=t;return Object.assign(Object.assign({},Xpe),{lineHeight:n,color:s,colorModal:b,colorPopover:_,colorTarget:e,colorEmbedded:x,colorEmbeddedModal:x,colorEmbeddedPopover:x,textColor:a,titleTextColor:o,borderColor:l,actionColor:x,titleFontWeight:d,closeColorHover:p,closeColorPressed:m,closeBorderRadius:r,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:y,borderRadius:r})},Jpe={name:"Card",common:Qe,self(t){const e=Zpe(t),{cardColor:r,modalColor:n,popoverColor:i}=t;return e.colorEmbedded=r,e.colorEmbeddedModal=n,e.colorEmbeddedPopover=i,e}},u8=Jpe,e0e=t=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),t0e={name:"Carousel",common:Qe,self:e0e},r0e=t0e,n0e={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},i0e=t=>{const{baseColor:e,inputColorDisabled:r,cardColor:n,modalColor:i,popoverColor:s,textColorDisabled:a,borderColor:o,primaryColor:l,textColor2:d,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,borderRadiusSmall:p,lineHeight:m}=t;return Object.assign(Object.assign({},n0e),{labelLineHeight:m,fontSizeSmall:f,fontSizeMedium:c,fontSizeLarge:h,borderRadius:p,color:e,colorChecked:l,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:i,colorTableHeaderPopover:s,checkMarkColor:e,checkMarkColorDisabled:a,checkMarkColorDisabledChecked:a,border:`1px solid ${o}`,borderDisabled:`1px solid ${o}`,borderDisabledChecked:`1px solid ${o}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${it(l,{alpha:.3})}`,textColor:d,textColorDisabled:a})},s0e={name:"Checkbox",common:Qe,self(t){const{cardColor:e}=t,r=i0e(t);return r.color="#0000",r.checkMarkColor=e,r}},vc=s0e,a0e=t=>{const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i,textColor3:s,primaryColor:a,textColorDisabled:o,dividerColor:l,hoverColor:d,fontSizeMedium:f,heightMedium:c}=t;return{menuBorderRadius:e,menuColor:n,menuBoxShadow:r,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:s,optionHeight:c,optionFontSize:f,optionColorHover:d,optionTextColor:i,optionTextColorActive:a,optionTextColorDisabled:o,optionCheckMarkColor:a,loadingColor:a,columnWidth:"180px"}},o0e={name:"Cascader",common:Qe,peers:{InternalSelectMenu:Qf,InternalSelection:Mv,Scrollbar:li,Checkbox:vc,Empty:tpe},self:a0e},l0e=o0e,u0e={name:"Code",common:Qe,self(t){const{textColor2:e,fontSize:r,fontWeightStrong:n,textColor3:i}=t;return{textColor:e,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:i}}},c8=u0e,c0e=t=>{const{fontWeight:e,textColor1:r,textColor2:n,textColorDisabled:i,dividerColor:s,fontSize:a}=t;return{titleFontSize:a,titleFontWeight:e,dividerColor:s,titleTextColor:r,titleTextColorDisabled:i,fontSize:a,textColor:n,arrowColor:n,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},d0e={name:"Collapse",common:Qe,self:c0e},f0e=d0e,h0e=t=>{const{cubicBezierEaseInOut:e}=t;return{bezier:e}},p0e={name:"CollapseTransition",common:Qe,self:h0e},m0e=p0e,g0e={name:"Popselect",common:Qe,peers:{Popover:Tl,InternalSelectMenu:Qf}},d8=g0e;function b0e(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const y0e={name:"Select",common:Qe,peers:{InternalSelection:Mv,InternalSelectMenu:Qf},self:b0e},f8=y0e,_0e={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},v0e=t=>{const{textColor2:e,primaryColor:r,primaryColorHover:n,primaryColorPressed:i,inputColorDisabled:s,textColorDisabled:a,borderColor:o,borderRadius:l,fontSizeTiny:d,fontSizeSmall:f,fontSizeMedium:c,heightTiny:h,heightSmall:p,heightMedium:m}=t;return Object.assign(Object.assign({},_0e),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${o}`,buttonBorderHover:`1px solid ${o}`,buttonBorderPressed:`1px solid ${o}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:n,itemTextColorPressed:i,itemTextColorActive:r,itemTextColorDisabled:a,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:s,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${o}`,itemBorderRadius:l,itemSizeSmall:h,itemSizeMedium:p,itemSizeLarge:m,itemFontSizeSmall:d,itemFontSizeMedium:f,itemFontSizeLarge:c,jumperFontSizeSmall:d,jumperFontSizeMedium:f,jumperFontSizeLarge:c,jumperTextColor:e,jumperTextColorDisabled:a})},T0e={name:"Pagination",common:Qe,peers:{Select:f8,Input:Hi,Popselect:d8},self(t){const{primaryColor:e,opacity3:r}=t,n=it(e,{alpha:Number(r)}),i=v0e(t);return i.itemBorderActive=`1px solid ${n}`,i.itemBorderDisabled="1px solid #0000",i}},h8=T0e,E0e={padding:"8px 14px"},A0e={name:"Tooltip",common:Qe,peers:{Popover:Tl},self(t){const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i}=t;return Object.assign(Object.assign({},E0e),{borderRadius:e,boxShadow:r,color:n,textColor:i})}},Qm=A0e,x0e={name:"Ellipsis",common:Qe,peers:{Tooltip:Qm}},p8=x0e,C0e={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},w0e={name:"Radio",common:Qe,self(t){const{borderColor:e,primaryColor:r,baseColor:n,textColorDisabled:i,inputColorDisabled:s,textColor2:a,opacityDisabled:o,borderRadius:l,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:c,heightSmall:h,heightMedium:p,heightLarge:m,lineHeight:b}=t;return Object.assign(Object.assign({},C0e),{labelLineHeight:b,buttonHeightSmall:h,buttonHeightMedium:p,buttonHeightLarge:m,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:c,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${it(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:s,colorActive:"#0000",textColor:a,textColorDisabled:i,dotColorActive:r,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:a,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:o,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${it(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},m8=w0e,S0e={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},k0e=t=>{const{primaryColor:e,textColor2:r,dividerColor:n,hoverColor:i,popoverColor:s,invertedColor:a,borderRadius:o,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:c,heightSmall:h,heightMedium:p,heightLarge:m,heightHuge:b,textColor3:y,opacityDisabled:_}=t;return Object.assign(Object.assign({},S0e),{optionHeightSmall:h,optionHeightMedium:p,optionHeightLarge:m,optionHeightHuge:b,borderRadius:o,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:c,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:e,optionTextColorChildActive:e,color:s,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:i,optionColorActive:it(e,{alpha:.1}),groupHeaderTextColor:y,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:a,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:_})},I0e={name:"Dropdown",common:Qe,peers:{Popover:Tl},self(t){const{primaryColorSuppl:e,primaryColor:r,popoverColor:n}=t,i=k0e(t);return i.colorInverted=n,i.optionColorActive=it(r,{alpha:.15}),i.optionColorActiveInverted=e,i.optionColorHoverInverted=e,i}},Ov=I0e,D0e={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},N0e=t=>{const{cardColor:e,modalColor:r,popoverColor:n,textColor2:i,textColor1:s,tableHeaderColor:a,tableColorHover:o,iconColor:l,primaryColor:d,fontWeightStrong:f,borderRadius:c,lineHeight:h,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:b,dividerColor:y,heightSmall:_,opacityDisabled:x,tableColorStriped:C}=t;return Object.assign(Object.assign({},D0e),{actionDividerColor:y,lineHeight:h,borderRadius:c,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:b,borderColor:ht(e,y),tdColorHover:ht(e,o),tdColorStriped:ht(e,C),thColor:ht(e,a),thColorHover:ht(ht(e,a),o),tdColor:e,tdTextColor:i,thTextColor:s,thFontWeight:f,thButtonColorHover:o,thIconColor:l,thIconColorActive:d,borderColorModal:ht(r,y),tdColorHoverModal:ht(r,o),tdColorStripedModal:ht(r,C),thColorModal:ht(r,a),thColorHoverModal:ht(ht(r,a),o),tdColorModal:r,borderColorPopover:ht(n,y),tdColorHoverPopover:ht(n,o),tdColorStripedPopover:ht(n,C),thColorPopover:ht(n,a),thColorHoverPopover:ht(ht(n,a),o),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:d,loadingSize:_,opacityLoading:x})},M0e={name:"DataTable",common:Qe,peers:{Button:ui,Checkbox:vc,Radio:m8,Pagination:h8,Scrollbar:li,Empty:vl,Popover:Tl,Ellipsis:p8,Dropdown:Ov},self(t){const e=N0e(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},O0e=M0e,g8=t=>{const{textColorBase:e,opacity1:r,opacity2:n,opacity3:i,opacity4:s,opacity5:a}=t;return{color:e,opacity1Depth:r,opacity2Depth:n,opacity3Depth:i,opacity4Depth:s,opacity5Depth:a}},L0e={name:"Icon",common:Nv,self:g8},R0e=L0e,B0e={name:"Icon",common:Qe,self:g8},P0e=B0e,F0e=Pm("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[ms("color-transition",{transition:"color .3s var(--n-bezier)"}),ms("depth",{color:"var(--n-color)"},[wn("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),wn("svg",{height:"1em",width:"1em"})]),U0e=Object.assign(Object.assign({},Yf.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),b8=u.defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:U0e,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=e8(t),n=Yf("Icon","-icon",F0e,R0e,t,e),i=u.computed(()=>{const{depth:a}=t,{common:{cubicBezierEaseInOut:o},self:l}=n.value;if(a!==void 0){const{color:d,[`opacity${a}Depth`]:f}=l;return{"--n-bezier":o,"--n-color":d,"--n-opacity":f}}return{"--n-bezier":o,"--n-color":"","--n-opacity":""}}),s=r?t8("icon",u.computed(()=>`${t.depth||"d"}`),i,t):void 0;return{mergedClsPrefix:e,mergedStyle:u.computed(()=>{const{size:a,color:o}=t;return{fontSize:_ce(a),color:o}}),cssVars:r?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t;const{$parent:e,depth:r,mergedClsPrefix:n,component:i,onRender:s,themeClass:a}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&bce("icon","don't wrap `n-icon` inside `n-icon`"),s==null||s(),u.h("i",u.mergeProps(this.$attrs,{role:"img",class:[`${n}-icon`,a,{[`${n}-icon--depth`]:r,[`${n}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?u.h(i):this.$slots)}}),$0e={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},j0e=t=>{const{popoverColor:e,textColor2:r,primaryColor:n,hoverColor:i,dividerColor:s,opacityDisabled:a,boxShadow2:o,borderRadius:l,iconColor:d,iconColorDisabled:f}=t;return Object.assign(Object.assign({},$0e),{panelColor:e,panelBoxShadow:o,panelDividerColor:s,itemTextColor:r,itemTextColorActive:n,itemColorHover:i,itemOpacityDisabled:a,itemBorderRadius:l,borderRadius:l,iconColor:d,iconColorDisabled:f})},H0e={name:"TimePicker",common:Qe,peers:{Scrollbar:li,Button:ui,Input:Hi},self:j0e},y8=H0e,z0e={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},V0e=t=>{const{hoverColor:e,fontSize:r,textColor2:n,textColorDisabled:i,popoverColor:s,primaryColor:a,borderRadiusSmall:o,iconColor:l,iconColorDisabled:d,textColor1:f,dividerColor:c,boxShadow2:h,borderRadius:p,fontWeightStrong:m}=t;return Object.assign(Object.assign({},z0e),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:i,itemTextColorActive:s,itemTextColorCurrent:a,itemColorIncluded:it(a,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:a,itemBorderRadius:o,panelColor:s,panelTextColor:n,arrowColor:l,calendarTitleTextColor:f,calendarTitleColorHover:e,calendarDaysTextColor:n,panelHeaderDividerColor:c,calendarDaysDividerColor:c,calendarDividerColor:c,panelActionDividerColor:c,panelBoxShadow:h,panelBorderRadius:p,calendarTitleFontWeight:m,scrollItemBorderRadius:p,iconColor:l,iconColorDisabled:d})},q0e={name:"DatePicker",common:Qe,peers:{Input:Hi,Button:ui,TimePicker:y8,Scrollbar:li},self(t){const{popoverColor:e,hoverColor:r,primaryColor:n}=t,i=V0e(t);return i.itemColorDisabled=ht(e,r),i.itemColorIncluded=it(n,{alpha:.15}),i.itemColorHover=ht(e,r),i}},W0e=q0e,G0e={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},Y0e=t=>{const{tableHeaderColor:e,textColor2:r,textColor1:n,cardColor:i,modalColor:s,popoverColor:a,dividerColor:o,borderRadius:l,fontWeightStrong:d,lineHeight:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p}=t;return Object.assign(Object.assign({},G0e),{lineHeight:f,fontSizeSmall:c,fontSizeMedium:h,fontSizeLarge:p,titleTextColor:n,thColor:ht(i,e),thColorModal:ht(s,e),thColorPopover:ht(a,e),thTextColor:n,thFontWeight:d,tdTextColor:r,tdColor:i,tdColorModal:s,tdColorPopover:a,borderColor:ht(i,o),borderColorModal:ht(s,o),borderColorPopover:ht(a,o),borderRadius:l})},Q0e={name:"Descriptions",common:Qe,self:Y0e},K0e=Q0e,X0e={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},Z0e=t=>{const{textColor1:e,textColor2:r,modalColor:n,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeColorHover:o,closeColorPressed:l,infoColor:d,successColor:f,warningColor:c,errorColor:h,primaryColor:p,dividerColor:m,borderRadius:b,fontWeightStrong:y,lineHeight:_,fontSize:x}=t;return Object.assign(Object.assign({},X0e),{fontSize:x,lineHeight:_,border:`1px solid ${m}`,titleTextColor:e,textColor:r,color:n,closeColorHover:o,closeColorPressed:l,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeBorderRadius:b,iconColor:p,iconColorInfo:d,iconColorSuccess:f,iconColorWarning:c,iconColorError:h,borderRadius:b,titleFontWeight:y})},J0e={name:"Dialog",common:Qe,peers:{Button:ui},self:Z0e},_8=J0e,eme=t=>{const{modalColor:e,textColor2:r,boxShadow3:n}=t;return{color:e,textColor:r,boxShadow:n}},tme={name:"Modal",common:Qe,peers:{Scrollbar:li,Dialog:_8,Card:u8},self:eme},rme=tme,nme=t=>{const{textColor1:e,dividerColor:r,fontWeightStrong:n}=t;return{textColor:e,color:r,fontWeight:n}},ime={name:"Divider",common:Qe,self:nme},sme=ime,ame=t=>{const{modalColor:e,textColor1:r,textColor2:n,boxShadow3:i,lineHeight:s,fontWeightStrong:a,dividerColor:o,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,borderRadius:p,primaryColorHover:m}=t;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:a,boxShadow:i,lineHeight:s,headerBorderBottom:`1px solid ${o}`,footerBorderTop:`1px solid ${o}`,closeIconColor:f,closeIconColorHover:c,closeIconColorPressed:h,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:d,closeBorderRadius:p,resizableTriggerColorHover:m}},ome={name:"Drawer",common:Qe,peers:{Scrollbar:li},self:ame},lme=ome,ume={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},cme={name:"DynamicInput",common:Qe,peers:{Input:Hi,Button:ui},self(){return ume}},dme=cme,fme={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},hme={name:"Space",self(){return fme}},v8=hme,pme={name:"DynamicTags",common:Qe,peers:{Input:Hi,Button:ui,Tag:o8,Space:v8},self(){return{inputWidth:"64px"}}},mme=pme,gme={name:"Element",common:Qe},bme=gme,yme={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},_me=t=>{const{heightSmall:e,heightMedium:r,heightLarge:n,textColor1:i,errorColor:s,warningColor:a,lineHeight:o,textColor3:l}=t;return Object.assign(Object.assign({},yme),{blankHeightSmall:e,blankHeightMedium:r,blankHeightLarge:n,lineHeight:o,labelTextColor:i,asteriskColor:s,feedbackTextColorError:s,feedbackTextColorWarning:a,feedbackTextColor:l})},vme={name:"Form",common:Qe,self:_me},Tme=vme,Eme={name:"GradientText",common:Qe,self(t){const{primaryColor:e,successColor:r,warningColor:n,errorColor:i,infoColor:s,primaryColorSuppl:a,successColorSuppl:o,warningColorSuppl:l,errorColorSuppl:d,infoColorSuppl:f,fontWeightStrong:c}=t;return{fontWeight:c,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:a,colorStartInfo:s,colorEndInfo:f,colorStartWarning:n,colorEndWarning:l,colorStartError:i,colorEndError:d,colorStartSuccess:r,colorEndSuccess:o}}},Ame=Eme,xme=t=>{const{primaryColor:e,baseColor:r}=t;return{color:e,iconColor:r}},Cme={name:"IconWrapper",common:Qe,self:xme},wme=Cme,Sme={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},kme=t=>{const{textColor2:e,successColor:r,infoColor:n,warningColor:i,errorColor:s,popoverColor:a,closeIconColor:o,closeIconColorHover:l,closeIconColorPressed:d,closeColorHover:f,closeColorPressed:c,textColor1:h,textColor3:p,borderRadius:m,fontWeightStrong:b,boxShadow2:y,lineHeight:_,fontSize:x}=t;return Object.assign(Object.assign({},Sme),{borderRadius:m,lineHeight:_,fontSize:x,headerFontWeight:b,iconColor:e,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:i,iconColorError:s,color:a,textColor:e,closeIconColor:o,closeIconColorHover:l,closeIconColorPressed:d,closeBorderRadius:m,closeColorHover:f,closeColorPressed:c,headerTextColor:h,descriptionTextColor:p,actionTextColor:e,boxShadow:y})},Ime={name:"Notification",common:Qe,peers:{Scrollbar:li},self:kme},Dme=Ime,Nme={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},Mme=t=>{const{textColor2:e,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,infoColor:s,successColor:a,errorColor:o,warningColor:l,popoverColor:d,boxShadow2:f,primaryColor:c,lineHeight:h,borderRadius:p,closeColorHover:m,closeColorPressed:b}=t;return Object.assign(Object.assign({},Nme),{closeBorderRadius:p,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:d,colorInfo:d,colorSuccess:d,colorError:d,colorWarning:d,colorLoading:d,boxShadow:f,boxShadowInfo:f,boxShadowSuccess:f,boxShadowError:f,boxShadowWarning:f,boxShadowLoading:f,iconColor:e,iconColorInfo:s,iconColorSuccess:a,iconColorWarning:l,iconColorError:o,iconColorLoading:c,closeColorHover:m,closeColorPressed:b,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,closeColorHoverInfo:m,closeColorPressedInfo:b,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:i,closeColorHoverSuccess:m,closeColorPressedSuccess:b,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:i,closeColorHoverError:m,closeColorPressedError:b,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:i,closeColorHoverWarning:m,closeColorPressedWarning:b,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:i,closeColorHoverLoading:m,closeColorPressedLoading:b,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:i,loadingColor:c,lineHeight:h,borderRadius:p})},Ome={name:"Message",common:Qe,self:Mme},Lme=Ome,Rme={name:"ButtonGroup",common:Qe},Bme=Rme,Pme={name:"InputNumber",common:Qe,peers:{Button:ui,Input:Hi},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}},Fme=Pme,Ume={name:"Layout",common:Qe,peers:{Scrollbar:li},self(t){const{textColor2:e,bodyColor:r,popoverColor:n,cardColor:i,dividerColor:s,scrollbarColor:a,scrollbarColorHover:o}=t;return{textColor:e,textColorInverted:e,color:r,colorEmbedded:r,headerColor:i,headerColorInverted:i,footerColor:i,footerColorInverted:i,headerBorderColor:s,headerBorderColorInverted:s,footerBorderColor:s,footerBorderColorInverted:s,siderBorderColor:s,siderBorderColorInverted:s,siderColor:i,siderColorInverted:i,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:ht(r,a),siderToggleBarColorHover:ht(r,o),__invertScrollbar:"false"}}},$me=Ume,jme=t=>{const{textColor2:e,cardColor:r,modalColor:n,popoverColor:i,dividerColor:s,borderRadius:a,fontSize:o,hoverColor:l}=t;return{textColor:e,color:r,colorHover:l,colorModal:n,colorHoverModal:ht(n,l),colorPopover:i,colorHoverPopover:ht(i,l),borderColor:s,borderColorModal:ht(n,s),borderColorPopover:ht(i,s),borderRadius:a,fontSize:o}},Hme={name:"List",common:Qe,self:jme},zme=Hme,Vme={name:"LoadingBar",common:Qe,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}},qme=Vme,Wme={name:"Log",common:Qe,peers:{Scrollbar:li,Code:c8},self(t){const{textColor2:e,inputColor:r,fontSize:n,primaryColor:i}=t;return{loaderFontSize:n,loaderTextColor:e,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:i}}},Gme=Wme,Yme={name:"Mention",common:Qe,peers:{InternalSelectMenu:Qf,Input:Hi},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}},Qme=Yme;function Kme(t,e,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:t,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:t,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}const Xme=t=>{const{borderRadius:e,textColor3:r,primaryColor:n,textColor2:i,textColor1:s,fontSize:a,dividerColor:o,hoverColor:l,primaryColorHover:d}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:r,itemColorHover:l,itemColorActive:it(n,{alpha:.1}),itemColorActiveHover:it(n,{alpha:.1}),itemColorActiveCollapsed:it(n,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:d,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:s,itemIconColorHover:s,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:s,itemIconColorHorizontal:s,itemIconColorHoverHorizontal:d,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:a,dividerColor:o},Kme("#BBB",n,"#FFF","#AAA"))},Zme={name:"Menu",common:Qe,peers:{Tooltip:Qm,Dropdown:Ov},self(t){const{primaryColor:e,primaryColorSuppl:r}=t,n=Xme(t);return n.itemColorActive=it(e,{alpha:.15}),n.itemColorActiveHover=it(e,{alpha:.15}),n.itemColorActiveCollapsed=it(e,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},Jme=Zme,ege={titleFontSize:"18px",backSize:"22px"};function tge(t){const{textColor1:e,textColor2:r,textColor3:n,fontSize:i,fontWeightStrong:s,primaryColorHover:a,primaryColorPressed:o}=t;return Object.assign(Object.assign({},ege),{titleFontWeight:s,fontSize:i,titleTextColor:e,backColor:r,backColorHover:a,backColorPressed:o,subtitleTextColor:n})}const rge={name:"PageHeader",common:Qe,self:tge},nge={iconSize:"22px"},ige=t=>{const{fontSize:e,warningColor:r}=t;return Object.assign(Object.assign({},nge),{fontSize:e,iconColor:r})},sge={name:"Popconfirm",common:Qe,peers:{Button:ui,Popover:Tl},self:ige},age=sge,oge=t=>{const{infoColor:e,successColor:r,warningColor:n,errorColor:i,textColor2:s,progressRailColor:a,fontSize:o,fontWeight:l}=t;return{fontSize:o,fontSizeCircle:"28px",fontWeightCircle:l,railColor:a,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:r,iconColorWarning:n,iconColorError:i,textColorCircle:s,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:s,fillColor:e,fillColorInfo:e,fillColorSuccess:r,fillColorWarning:n,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},lge={name:"Progress",common:Qe,self(t){const e=oge(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},T8=lge,uge={name:"Rate",common:Qe,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},cge=uge,dge={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},fge=t=>{const{textColor2:e,textColor1:r,errorColor:n,successColor:i,infoColor:s,warningColor:a,lineHeight:o,fontWeightStrong:l}=t;return Object.assign(Object.assign({},dge),{lineHeight:o,titleFontWeight:l,titleTextColor:r,textColor:e,iconColorError:n,iconColorSuccess:i,iconColorInfo:s,iconColorWarning:a})},hge={name:"Result",common:Qe,self:fge},pge=hge,mge={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},gge={name:"Slider",common:Qe,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:i,popoverColor:s,textColor2:a,cardColor:o,borderRadius:l,fontSize:d,opacityDisabled:f}=t;return Object.assign(Object.assign({},mge),{fontSize:d,markFontSize:d,railColor:r,railColorHover:r,fillColor:i,fillColorHover:i,opacityDisabled:f,handleColor:"#FFF",dotColor:o,dotColorModal:n,dotColorPopover:s,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:s,indicatorBoxShadow:e,indicatorTextColor:a,indicatorBorderRadius:l,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}},bge=gge,yge=t=>{const{opacityDisabled:e,heightTiny:r,heightSmall:n,heightMedium:i,heightLarge:s,heightHuge:a,primaryColor:o,fontSize:l}=t;return{fontSize:l,textColor:o,sizeTiny:r,sizeSmall:n,sizeMedium:i,sizeLarge:s,sizeHuge:a,color:o,opacitySpinning:e}},_ge={name:"Spin",common:Qe,self:yge},vge=_ge,Tge=t=>{const{textColor2:e,textColor3:r,fontSize:n,fontWeight:i}=t;return{labelFontSize:n,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}},Ege={name:"Statistic",common:Qe,self:Tge},Age=Ege,xge={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},Cge=t=>{const{fontWeightStrong:e,baseColor:r,textColorDisabled:n,primaryColor:i,errorColor:s,textColor1:a,textColor2:o}=t;return Object.assign(Object.assign({},xge),{stepHeaderFontWeight:e,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:i,indicatorTextColorError:s,indicatorBorderColorProcess:i,indicatorBorderColorWait:n,indicatorBorderColorFinish:i,indicatorBorderColorError:s,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:i,splitorColorError:n,headerTextColorProcess:a,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:s,descriptionTextColorProcess:o,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:s})},wge={name:"Steps",common:Qe,self:Cge},Sge=wge,E8={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},kge={name:"Switch",common:Qe,self(t){const{primaryColorSuppl:e,opacityDisabled:r,borderRadius:n,primaryColor:i,textColor2:s,baseColor:a}=t;return Object.assign(Object.assign({},E8),{iconColor:a,textColor:s,loadingColor:e,opacityDisabled:r,railColor:"rgba(255, 255, 255, .20)",railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${it(i,{alpha:.3})}`})}},Ige=kge,Dge=t=>{const{primaryColor:e,opacityDisabled:r,borderRadius:n,textColor3:i}=t;return Object.assign(Object.assign({},E8),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:r,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 0 2px ${it(e,{alpha:.2})}`})},Nge={name:"Switch",common:Nv,self:Dge},Mge=Nge,Oge={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},Lge=t=>{const{dividerColor:e,cardColor:r,modalColor:n,popoverColor:i,tableHeaderColor:s,tableColorStriped:a,textColor1:o,textColor2:l,borderRadius:d,fontWeightStrong:f,lineHeight:c,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m}=t;return Object.assign(Object.assign({},Oge),{fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,lineHeight:c,borderRadius:d,borderColor:ht(r,e),borderColorModal:ht(n,e),borderColorPopover:ht(i,e),tdColor:r,tdColorModal:n,tdColorPopover:i,tdColorStriped:ht(r,a),tdColorStripedModal:ht(n,a),tdColorStripedPopover:ht(i,a),thColor:ht(r,s),thColorModal:ht(n,s),thColorPopover:ht(i,s),thTextColor:o,tdTextColor:l,thFontWeight:f})},Rge={name:"Table",common:Qe,self:Lge},Bge=Rge,Pge={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},Fge=t=>{const{textColor2:e,primaryColor:r,textColorDisabled:n,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeColorHover:o,closeColorPressed:l,tabColor:d,baseColor:f,dividerColor:c,fontWeight:h,textColor1:p,borderRadius:m,fontSize:b,fontWeightStrong:y}=t;return Object.assign(Object.assign({},Pge),{colorSegment:d,tabFontSizeCard:b,tabTextColorLine:p,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:p,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:n,tabTextColorBar:p,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:p,tabTextColorHoverCard:p,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:i,closeIconColorHover:s,closeIconColorPressed:a,closeColorHover:o,closeColorPressed:l,closeBorderRadius:m,tabColor:d,tabColorSegment:f,tabBorderColor:c,tabFontWeightActive:h,tabFontWeight:h,tabBorderRadius:m,paneTextColor:e,fontWeightStrong:y})},Uge={name:"Tabs",common:Qe,self(t){const e=Fge(t),{inputColor:r}=t;return e.colorSegment=r,e.tabColorSegment=r,e}},$ge=Uge,jge=t=>{const{textColor1:e,textColor2:r,fontWeightStrong:n,fontSize:i}=t;return{fontSize:i,titleTextColor:e,textColor:r,titleFontWeight:n}},Hge={name:"Thing",common:Qe,self:jge},zge=Hge,Vge={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},qge={name:"Timeline",common:Qe,self(t){const{textColor3:e,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:i,warningColorSuppl:s,textColor1:a,textColor2:o,railColor:l,fontWeightStrong:d,fontSize:f}=t;return Object.assign(Object.assign({},Vge),{contentFontSize:f,titleFontWeight:d,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${s}`,iconColor:e,iconColorInfo:r,iconColorError:n,iconColorSuccess:i,iconColorWarning:s,titleTextColor:a,contentTextColor:o,metaTextColor:e,lineColor:l})}},Wge=qge,Gge={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},Yge={name:"Transfer",common:Qe,peers:{Checkbox:vc,Scrollbar:li,Input:Hi,Empty:vl,Button:ui},self(t){const{fontWeight:e,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:i,heightLarge:s,heightMedium:a,borderRadius:o,inputColor:l,tableHeaderColor:d,textColor1:f,textColorDisabled:c,textColor2:h,textColor3:p,hoverColor:m,closeColorHover:b,closeColorPressed:y,closeIconColor:_,closeIconColorHover:x,closeIconColorPressed:C,dividerColor:k}=t;return Object.assign(Object.assign({},Gge),{itemHeightSmall:a,itemHeightMedium:a,itemHeightLarge:s,fontSizeSmall:i,fontSizeMedium:n,fontSizeLarge:r,borderRadius:o,dividerColor:k,borderColor:"#0000",listColor:l,headerColor:d,titleTextColor:f,titleTextColorDisabled:c,extraTextColor:p,extraTextColorDisabled:c,itemTextColor:h,itemTextColorDisabled:c,itemColorPending:m,titleFontWeight:e,closeColorHover:b,closeColorPressed:y,closeIconColor:_,closeIconColorHover:x,closeIconColorPressed:C})}},Qge=Yge,Kge=t=>{const{borderRadiusSmall:e,hoverColor:r,pressedColor:n,primaryColor:i,textColor3:s,textColor2:a,textColorDisabled:o,fontSize:l}=t;return{fontSize:l,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:r,nodeColorPressed:n,nodeColorActive:it(i,{alpha:.1}),arrowColor:s,nodeTextColor:a,nodeTextColorDisabled:o,loadingColor:i,dropMarkColor:i}},Xge={name:"Tree",common:Qe,peers:{Checkbox:vc,Scrollbar:li,Empty:vl},self(t){const{primaryColor:e}=t,r=Kge(t);return r.nodeColorActive=it(e,{alpha:.15}),r}},A8=Xge,Zge={name:"TreeSelect",common:Qe,peers:{Tree:A8,Empty:vl,InternalSelection:Mv}},Jge=Zge,e1e={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},t1e=t=>{const{primaryColor:e,textColor2:r,borderColor:n,lineHeight:i,fontSize:s,borderRadiusSmall:a,dividerColor:o,fontWeightStrong:l,textColor1:d,textColor3:f,infoColor:c,warningColor:h,errorColor:p,successColor:m,codeColor:b}=t;return Object.assign(Object.assign({},e1e),{aTextColor:e,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:i,blockquoteFontSize:s,codeBorderRadius:a,liTextColor:r,liLineHeight:i,liFontSize:s,hrColor:o,headerFontWeight:l,headerTextColor:d,pTextColor:r,pTextColor1Depth:d,pTextColor2Depth:r,pTextColor3Depth:f,pLineHeight:i,pFontSize:s,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:c,headerBarColorError:p,headerBarColorWarning:h,headerBarColorSuccess:m,textColor:r,textColor1Depth:d,textColor2Depth:r,textColor3Depth:f,textColorPrimary:e,textColorInfo:c,textColorSuccess:m,textColorWarning:h,textColorError:p,codeTextColor:r,codeColor:b,codeBorder:"1px solid #0000"})},r1e={name:"Typography",common:Qe,self:t1e},n1e=r1e,i1e=t=>{const{iconColor:e,primaryColor:r,errorColor:n,textColor2:i,successColor:s,opacityDisabled:a,actionColor:o,borderColor:l,hoverColor:d,lineHeight:f,borderRadius:c,fontSize:h}=t;return{fontSize:h,lineHeight:f,borderRadius:c,draggerColor:o,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:d,itemColorHoverError:it(n,{alpha:.06}),itemTextColor:i,itemTextColorError:n,itemTextColorSuccess:s,itemIconColor:e,itemDisabledOpacity:a,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}},s1e={name:"Upload",common:Qe,peers:{Button:ui,Progress:T8},self(t){const{errorColor:e}=t,r=i1e(t);return r.itemColorHoverError=it(e,{alpha:.09}),r}},a1e=s1e,o1e={name:"Watermark",common:Qe,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},l1e=o1e,u1e={name:"Row",common:Qe},c1e=u1e,d1e={name:"Image",common:Qe,peers:{Tooltip:Qm},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},f1e={extraFontSize:"12px",width:"440px"},h1e={name:"Transfer",common:Qe,peers:{Checkbox:vc,Scrollbar:li,Input:Hi,Empty:vl,Button:ui},self(t){const{iconColorDisabled:e,iconColor:r,fontWeight:n,fontSizeLarge:i,fontSizeMedium:s,fontSizeSmall:a,heightLarge:o,heightMedium:l,heightSmall:d,borderRadius:f,inputColor:c,tableHeaderColor:h,textColor1:p,textColorDisabled:m,textColor2:b,hoverColor:y}=t;return Object.assign(Object.assign({},f1e),{itemHeightSmall:d,itemHeightMedium:l,itemHeightLarge:o,fontSizeSmall:a,fontSizeMedium:s,fontSizeLarge:i,borderRadius:f,borderColor:"#0000",listColor:c,headerColor:h,titleTextColor:p,titleTextColorDisabled:m,extraTextColor:b,filterDividerColor:"#0000",itemTextColor:b,itemTextColorDisabled:m,itemColorPending:y,titleFontWeight:n,iconColor:r,iconColorDisabled:e})}},p1e=h1e,m1e={name:"Skeleton",common:Qe,self(t){const{heightSmall:e,heightMedium:r,heightLarge:n,borderRadius:i}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:i,heightSmall:e,heightMedium:r,heightLarge:n}}},g1e=Pm("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[Rt("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),Rt("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),Rt("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),Pm("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Ym({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),Rt("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),Rt("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Rt("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),wn("&:focus",[Rt("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),ms("round",[Rt("rail","border-radius: calc(var(--n-rail-height) / 2);",[Rt("button","border-radius: calc(var(--n-button-height) / 2);")])]),TM("disabled",[TM("icon",[ms("rubber-band",[ms("pressed",[Rt("rail",[Rt("button","max-width: var(--n-button-width-pressed);")])]),Rt("rail",[wn("&:active",[Rt("button","max-width: var(--n-button-width-pressed);")])]),ms("active",[ms("pressed",[Rt("rail",[Rt("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),Rt("rail",[wn("&:active",[Rt("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),ms("active",[Rt("rail",[Rt("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),Rt("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[Rt("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Ym()]),Rt("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),ms("active",[Rt("rail","background-color: var(--n-rail-color-active);")]),ms("loading",[Rt("rail",`
 cursor: wait;
 `)]),ms("disabled",[Rt("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),b1e=Object.assign(Object.assign({},Yf.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let Kf;const y1e=u.defineComponent({name:"Switch",props:b1e,setup(t){process.env.NODE_ENV!=="production"&&u.watchEffect(()=>{t.onChange&&gce("switch","`on-change` is deprecated, please use `on-update:value` instead.")}),Kf===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?Kf=CSS.supports("width","max(1px)"):Kf=!1:Kf=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=e8(t),n=Yf("Switch","-switch",g1e,Mge,t,e),i=Wce(t),{mergedSizeRef:s,mergedDisabledRef:a}=i,o=u.ref(t.defaultValue),l=u.toRef(t,"value"),d=jce(l,o),f=u.computed(()=>d.value===t.checkedValue),c=u.ref(!1),h=u.ref(!1),p=u.computed(()=>{const{railStyle:D}=t;if(D)return D({focused:h.value,checked:f.value})});function m(D){const{"onUpdate:value":I,onChange:P,onUpdateValue:z}=t,{nTriggerFormInput:U,nTriggerFormChange:$}=i;I&&Lm(I,D),z&&Lm(z,D),P&&Lm(P,D),o.value=D,U(),$()}function b(){const{nTriggerFormFocus:D}=i;D()}function y(){const{nTriggerFormBlur:D}=i;D()}function _(){t.loading||a.value||(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue))}function x(){h.value=!0,b()}function C(){h.value=!1,y(),c.value=!1}function k(D){t.loading||a.value||D.key===" "&&(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue),c.value=!1)}function S(D){t.loading||a.value||D.key===" "&&(D.preventDefault(),c.value=!0)}const w=u.computed(()=>{const{value:D}=s,{self:{opacityDisabled:I,railColor:P,railColorActive:z,buttonBoxShadow:U,buttonColor:$,boxShadowFocus:H,loadingColor:Y,textColor:F,iconColor:j,[uo("buttonHeight",D)]:se,[uo("buttonWidth",D)]:W,[uo("buttonWidthPressed",D)]:R,[uo("railHeight",D)]:N,[uo("railWidth",D)]:V,[uo("railBorderRadius",D)]:Z,[uo("buttonBorderRadius",D)]:X},common:{cubicBezierEaseInOut:K}}=n.value;let de,le,Te;return Kf?(de=`calc((${N} - ${se}) / 2)`,le=`max(${N}, ${se})`,Te=`max(${V}, calc(${V} + ${se} - ${N}))`):(de=fv((Ta(N)-Ta(se))/2),le=fv(Math.max(Ta(N),Ta(se))),Te=Ta(N)>Ta(se)?V:fv(Ta(V)+Ta(se)-Ta(N))),{"--n-bezier":K,"--n-button-border-radius":X,"--n-button-box-shadow":U,"--n-button-color":$,"--n-button-width":W,"--n-button-width-pressed":R,"--n-button-height":se,"--n-height":le,"--n-offset":de,"--n-opacity-disabled":I,"--n-rail-border-radius":Z,"--n-rail-color":P,"--n-rail-color-active":z,"--n-rail-height":N,"--n-rail-width":V,"--n-width":Te,"--n-box-shadow-focus":H,"--n-loading-color":Y,"--n-text-color":F,"--n-icon-color":j}}),L=r?t8("switch",u.computed(()=>s.value[0]),w,t):void 0;return{handleClick:_,handleBlur:C,handleFocus:x,handleKeyup:k,handleKeydown:S,mergedRailStyle:p,pressed:c,mergedClsPrefix:e,mergedValue:d,checked:f,mergedDisabled:a,cssVars:r?void 0:w,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:r,mergedRailStyle:n,onRender:i,$slots:s}=this;i==null||i();const{checked:a,unchecked:o,icon:l,"checked-icon":d,"unchecked-icon":f}=s,c=!(gv(l)&&gv(d)&&gv(f));return u.h("div",{role:"switch","aria-checked":r,class:[`${t}-switch`,this.themeClass,c&&`${t}-switch--icon`,r&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},u.h("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:n},bl(a,h=>bl(o,p=>h||p?u.h("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},u.h("div",{class:`${t}-switch__rail-placeholder`},u.h("div",{class:`${t}-switch__button-placeholder`}),h),u.h("div",{class:`${t}-switch__rail-placeholder`},u.h("div",{class:`${t}-switch__button-placeholder`}),p)):null)),u.h("div",{class:`${t}-switch__button`},bl(l,h=>bl(d,p=>bl(f,m=>u.h(r8,null,{default:()=>this.loading?u.h(qhe,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(p||h)?u.h("div",{class:`${t}-switch__button-icon`,key:p?"checked-icon":"icon"},p||h):!this.checked&&(m||h)?u.h("div",{class:`${t}-switch__button-icon`,key:m?"unchecked-icon":"icon"},m||h):null})))),bl(a,h=>h&&u.h("div",{key:"checked",class:`${t}-switch__checked`},h)),bl(o,h=>h&&u.h("div",{key:"unchecked",class:`${t}-switch__unchecked`},h)))))}}),_1e=()=>({}),v1e={name:"Equation",common:Qe,self:_1e},T1e=v1e,E1e={name:"dark",common:Qe,Alert:bpe,Anchor:Tpe,AutoComplete:wpe,Avatar:l8,AvatarGroup:Npe,BackTop:Lpe,Badge:Bpe,Breadcrumb:$pe,Button:ui,ButtonGroup:Bme,Calendar:Gpe,Card:u8,Carousel:r0e,Cascader:l0e,Checkbox:vc,Code:c8,Collapse:f0e,CollapseTransition:m0e,ColorPicker:Kpe,DataTable:O0e,DatePicker:W0e,Descriptions:K0e,Dialog:_8,Divider:sme,Drawer:lme,Dropdown:Ov,DynamicInput:dme,DynamicTags:mme,Element:bme,Empty:vl,Ellipsis:p8,Equation:T1e,Form:Tme,GradientText:Ame,Icon:P0e,IconWrapper:wme,Image:d1e,Input:Hi,InputNumber:Fme,LegacyTransfer:p1e,Layout:$me,List:zme,LoadingBar:qme,Log:Gme,Menu:Jme,Mention:Qme,Message:Lme,Modal:rme,Notification:Dme,PageHeader:rge,Pagination:h8,Popconfirm:age,Popover:Tl,Popselect:d8,Progress:T8,Radio:m8,Rate:cge,Result:pge,Row:c1e,Scrollbar:li,Select:f8,Skeleton:m1e,Slider:bge,Space:v8,Spin:vge,Statistic:Age,Steps:Sge,Switch:Ige,Table:Bge,Tabs:$ge,Tag:o8,Thing:zge,TimePicker:y8,Timeline:Wge,Tooltip:Qm,Transfer:Qge,Tree:A8,TreeSelect:Jge,Typography:n1e,Upload:a1e,Watermark:l1e};var x8;const C8=typeof window<"u",A1e=t=>typeof t=="function",x1e=t=>typeof t=="string",C1e=()=>{};C8&&(x8=window==null?void 0:window.navigator)!=null&&x8.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Xf(t){return typeof t=="function"?t():u.unref(t)}function w1e(t,e){function r(...n){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(s)})}return r}const w8=t=>t();function S1e(t=w8){const e=u.ref(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...s)=>{e.value&&t(...s)};return{isActive:u.readonly(e),pause:r,resume:n,eventFilter:i}}function k1e(t){return t}function S8(t){return u.getCurrentScope()?(u.onScopeDispose(t),!0):!1}function I1e(t){return typeof t=="function"?u.computed(t):u.ref(t)}function k8(t,e=!0){u.getCurrentInstance()?u.onMounted(t):e?t():u.nextTick(t)}function D1e(t=!1,e={}){const{truthyValue:r=!0,falsyValue:n=!1}=e,i=u.isRef(t),s=u.ref(t);function a(o){if(arguments.length)return s.value=o,s.value;{const l=Xf(r);return s.value=s.value===l?Xf(n):l,s.value}}return i?a:[s,a]}var I8=Object.getOwnPropertySymbols,N1e=Object.prototype.hasOwnProperty,M1e=Object.prototype.propertyIsEnumerable,O1e=(t,e)=>{var r={};for(var n in t)N1e.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&I8)for(var n of I8(t))e.indexOf(n)<0&&M1e.call(t,n)&&(r[n]=t[n]);return r};function L1e(t,e,r={}){const n=r,{eventFilter:i=w8}=n,s=O1e(n,["eventFilter"]);return u.watch(t,w1e(i,e),s)}var R1e=Object.defineProperty,B1e=Object.defineProperties,P1e=Object.getOwnPropertyDescriptors,Km=Object.getOwnPropertySymbols,D8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,M8=(t,e,r)=>e in t?R1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F1e=(t,e)=>{for(var r in e||(e={}))D8.call(e,r)&&M8(t,r,e[r]);if(Km)for(var r of Km(e))N8.call(e,r)&&M8(t,r,e[r]);return t},U1e=(t,e)=>B1e(t,P1e(e)),$1e=(t,e)=>{var r={};for(var n in t)D8.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Km)for(var n of Km(t))e.indexOf(n)<0&&N8.call(t,n)&&(r[n]=t[n]);return r};function j1e(t,e,r={}){const n=r,{eventFilter:i}=n,s=$1e(n,["eventFilter"]),{eventFilter:a,pause:o,resume:l,isActive:d}=S1e(i);return{stop:L1e(t,e,U1e(F1e({},s),{eventFilter:a})),pause:o,resume:l,isActive:d}}function H1e(t){var e;const r=Xf(t);return(e=r==null?void 0:r.$el)!=null?e:r}const Tc=C8?window:void 0;function O8(...t){let e,r,n,i;if(x1e(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=Tc):[e,r,n,i]=t,!e)return C1e;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],a=()=>{s.forEach(f=>f()),s.length=0},o=(f,c,h,p)=>(f.addEventListener(c,h,p),()=>f.removeEventListener(c,h,p)),l=u.watch(()=>[H1e(e),Xf(i)],([f,c])=>{a(),f&&s.push(...r.flatMap(h=>n.map(p=>o(f,h,p,c))))},{immediate:!0,flush:"post"}),d=()=>{l(),a()};return S8(d),d}function z1e(t,e=!1){const r=u.ref(),n=()=>r.value=!!t();return n(),k8(n,e),r}function V1e(t,e={}){const{window:r=Tc}=e,n=z1e(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const s=u.ref(!1),a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},o=()=>{n.value&&(a(),i=r.matchMedia(I1e(t).value),s.value=i.matches,"addEventListener"in i?i.addEventListener("change",o):i.addListener(o))};return u.watchEffect(o),S8(()=>a()),s}const Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rv="__vueuse_ssr_handlers__";Lv[Rv]=Lv[Rv]||{};const q1e=Lv[Rv];function L8(t,e){return q1e[t]||e}function W1e(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var G1e=Object.defineProperty,R8=Object.getOwnPropertySymbols,Y1e=Object.prototype.hasOwnProperty,Q1e=Object.prototype.propertyIsEnumerable,B8=(t,e,r)=>e in t?G1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P8=(t,e)=>{for(var r in e||(e={}))Y1e.call(e,r)&&B8(t,r,e[r]);if(R8)for(var r of R8(e))Q1e.call(e,r)&&B8(t,r,e[r]);return t};const K1e={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},F8="vueuse-storage";function X1e(t,e,r,n={}){var i;const{flush:s="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:d=!1,shallow:f,window:c=Tc,eventFilter:h,onError:p=D=>{console.error(D)}}=n,m=(f?u.shallowRef:u.ref)(e);if(!r)try{r=L8("getDefaultStorage",()=>{var D;return(D=Tc)==null?void 0:D.localStorage})()}catch(D){p(D)}if(!r)return m;const b=Xf(e),y=W1e(b),_=(i=n.serializer)!=null?i:K1e[y],{pause:x,resume:C}=j1e(m,()=>k(m.value),{flush:s,deep:a,eventFilter:h});return c&&o&&(O8(c,"storage",L),O8(c,F8,w)),L(),m;function k(D){try{if(D==null)r.removeItem(t);else{const I=_.write(D),P=r.getItem(t);P!==I&&(r.setItem(t,I),c&&c.dispatchEvent(new CustomEvent(F8,{detail:{key:t,oldValue:P,newValue:I,storageArea:r}})))}}catch(I){p(I)}}function S(D){const I=D?D.newValue:r.getItem(t);if(I==null)return l&&b!==null&&r.setItem(t,_.write(b)),b;if(!D&&d){const P=_.read(I);return A1e(d)?d(P,b):y==="object"&&!Array.isArray(P)?P8(P8({},b),P):P}else return typeof I!="string"?I:_.read(I)}function w(D){L(D.detail)}function L(D){if(!(D&&D.storageArea!==r)){if(D&&D.key==null){m.value=b;return}if(!(D&&D.key!==t)){x();try{m.value=S(D)}catch(I){p(I)}finally{D?u.nextTick(C):C()}}}}}function U8(t){return V1e("(prefers-color-scheme: dark)",t)}var Z1e=Object.defineProperty,$8=Object.getOwnPropertySymbols,J1e=Object.prototype.hasOwnProperty,ebe=Object.prototype.propertyIsEnumerable,j8=(t,e,r)=>e in t?Z1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tbe=(t,e)=>{for(var r in e||(e={}))J1e.call(e,r)&&j8(t,r,e[r]);if($8)for(var r of $8(e))ebe.call(e,r)&&j8(t,r,e[r]);return t};function rbe(t={}){const{selector:e="html",attribute:r="class",initialValue:n="auto",window:i=Tc,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:d}=t,f=tbe({auto:"",light:"light",dark:"dark"},t.modes||{}),c=U8({window:i}),h=u.computed(()=>c.value?"dark":"light"),p=l||(a==null?u.ref(n):X1e(a,n,s,{window:i,listenToStorageChanges:o})),m=u.computed({get(){return p.value==="auto"&&!d?h.value:p.value},set(x){p.value=x}}),b=L8("updateHTMLAttrs",(x,C,k)=>{const S=i==null?void 0:i.document.querySelector(x);if(S)if(C==="class"){const w=k.split(/\s/g);Object.values(f).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{w.includes(L)?S.classList.add(L):S.classList.remove(L)})}else S.setAttribute(C,k)});function y(x){var C;const k=x==="auto"?h.value:x;b(e,r,(C=f[k])!=null?C:k)}function _(x){t.onChanged?t.onChanged(x,y):y(x)}return u.watch(m,_,{flush:"post",immediate:!0}),d&&u.watch(h,()=>_(m.value),{flush:"post"}),k8(()=>_(m.value)),m}var nbe=Object.defineProperty,ibe=Object.defineProperties,sbe=Object.getOwnPropertyDescriptors,H8=Object.getOwnPropertySymbols,abe=Object.prototype.hasOwnProperty,obe=Object.prototype.propertyIsEnumerable,z8=(t,e,r)=>e in t?nbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lbe=(t,e)=>{for(var r in e||(e={}))abe.call(e,r)&&z8(t,r,e[r]);if(H8)for(var r of H8(e))obe.call(e,r)&&z8(t,r,e[r]);return t},ube=(t,e)=>ibe(t,sbe(e));function cbe(t={}){const{valueDark:e="dark",valueLight:r="",window:n=Tc}=t,i=rbe(ube(lbe({},t),{onChanged:(a,o)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,a==="dark"):o(a)},modes:{dark:e,light:r}})),s=U8({window:n});return u.computed({get(){return i.value==="dark"},set(a){a===s.value?i.value="auto":i.value=a?"dark":"light"}})}var V8;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(V8||(V8={}));var dbe=Object.defineProperty,q8=Object.getOwnPropertySymbols,fbe=Object.prototype.hasOwnProperty,hbe=Object.prototype.propertyIsEnumerable,W8=(t,e,r)=>e in t?dbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pbe=(t,e)=>{for(var r in e||(e={}))fbe.call(e,r)&&W8(t,r,e[r]);if(q8)for(var r of q8(e))hbe.call(e,r)&&W8(t,r,e[r]);return t};pbe({linear:k1e},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Zf=cbe();D1e(Zf),u.computed(()=>Zf.value?E1e:null);const mbe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},gbe=u.createElementVNode("path",{d:"M6.76 4.84l-1.8-1.79l-1.41 1.41l1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407l-1.79 1.79l-1.407-1.408zm-1.8 15.115l1.79 1.8l1.41-1.41l-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41l1.79-1.8l-1.41-1.41z",fill:"currentColor"},null,-1),bbe=[gbe],ybe=u.defineComponent({name:"WbSunnyOutlined",render:function(t,e){return u.openBlock(),u.createElementBlock("svg",mbe,bbe)}}),_be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},vbe=u.createElementVNode("path",{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4c.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7c0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z",fill:"currentColor"},null,-1),Tbe=[vbe],Ebe=u.defineComponent({name:"DarkModeOutlined",render:function(t,e){return u.openBlock(),u.createElementBlock("svg",_be,Tbe)}}),Abe=u.defineComponent({__name:"switch",props:{round:{type:Boolean,default:!1},darkBackground:{default:"linear-gradient(135deg,#42e695,#3bb2b8)"},lightBackground:{default:""}},setup(t){const e=t,r=({checked:n})=>({background:n?e.darkBackground:e.lightBackground});return(n,i)=>(u.openBlock(),u.createBlock(u.unref(y1e),{round:n.round,"rail-style":r,value:u.unref(Zf),"onUpdate:value":i[0]||(i[0]=s=>u.isRef(Zf)?Zf.value=s:null)},{"checked-icon":u.withCtx(()=>[u.createVNode(u.unref(b8),null,{default:u.withCtx(()=>[u.renderSlot(n.$slots,"dark",{},()=>[u.createVNode(u.unref(Ebe))])]),_:3})]),"unchecked-icon":u.withCtx(()=>[u.createVNode(u.unref(b8),null,{default:u.withCtx(()=>[u.renderSlot(n.$slots,"light",{},()=>[u.createVNode(u.unref(ybe))])]),_:3})]),_:3},8,["round","value"]))}}),xbe=["width","height"],Cbe=[u.createElementVNode("path",{d:"M480 336V160C479.961 126.064 466.463 93.5296 442.467 69.5334C418.47 45.5371 385.936 32.039 352 32H160C126.064 32.039 93.5296 45.5371 69.5334 69.5334C45.5371 93.5296 32.039 126.064 32 160V352C32.039 385.936 45.5371 418.47 69.5334 442.467C93.5296 466.463 126.064 479.961 160 480H320C323.919 480 327.703 478.564 330.634 475.962L474.634 347.962C477.371 345.395 479.105 341.938 479.528 338.21L479.566 338.026C479.756 337.361 479.901 336.684 480 336ZM336 428.07V392C336.014 380.971 340.401 370.398 348.199 362.599C355.998 354.801 366.571 350.414 377.6 350.4H422.304L336 428.07ZM64 352V160C64.028 134.548 74.1512 110.146 92.1486 92.1486C110.146 74.1512 134.548 64.028 160 64H352C377.452 64.028 401.854 74.1512 419.851 92.1486C437.849 110.146 447.972 134.548 448 160V318.4H377.6C358.087 318.422 339.379 326.183 325.581 339.981C311.783 353.779 304.022 372.487 304 392V448H160C134.548 447.972 110.146 437.849 92.1486 419.851C74.1512 401.854 64.028 377.452 64 352Z"},null,-1),u.createElementVNode("path",{d:"M208 176V168C208 157.391 203.786 147.217 196.284 139.716C188.783 132.214 178.609 128 168 128C157.391 128 147.217 132.214 139.716 139.716C132.214 147.217 128 157.391 128 168V176C128 180.243 129.686 184.313 132.686 187.314C135.687 190.314 139.757 192 144 192C148.243 192 152.313 190.314 155.314 187.314C158.314 184.313 160 180.243 160 176V168C160 165.878 160.843 163.843 162.343 162.343C163.843 160.843 165.878 160 168 160C170.122 160 172.157 160.843 173.657 162.343C175.157 163.843 176 165.878 176 168V176C176 180.243 177.686 184.313 180.686 187.314C183.687 190.314 187.757 192 192 192C196.243 192 200.313 190.314 203.314 187.314C206.314 184.313 208 180.243 208 176Z"},null,-1),u.createElementVNode("path",{d:"M320 192C324.243 192 328.313 190.314 331.314 187.314C334.314 184.313 336 180.243 336 176V168C336 165.878 336.843 163.843 338.343 162.343C339.843 160.843 341.878 160 344 160C346.122 160 348.157 160.843 349.657 162.343C351.157 163.843 352 165.878 352 168V176C352 180.243 353.686 184.313 356.686 187.314C359.687 190.314 363.757 192 368 192C372.243 192 376.313 190.314 379.314 187.314C382.314 184.313 384 180.243 384 176V168C384 157.391 379.786 147.217 372.284 139.716C364.783 132.214 354.609 128 344 128C333.391 128 323.217 132.214 315.716 139.716C308.214 147.217 304 157.391 304 168V176C304 180.243 305.686 184.313 308.686 187.314C311.687 190.314 315.757 192 320 192Z"},null,-1),u.createElementVNode("path",{d:"M328 264V240C328 235.757 326.314 231.687 323.314 228.686C320.313 225.686 316.243 224 312 224H200C195.757 224 191.687 225.686 188.686 228.686C185.686 231.687 184 235.757 184 240V264C184 283.096 191.586 301.409 205.088 314.912C218.591 328.414 236.904 336 256 336C275.096 336 293.409 328.414 306.912 314.912C320.414 301.409 328 283.096 328 264ZM216 264V256H296V264C296 274.609 291.786 284.783 284.284 292.284C276.783 299.786 266.609 304 256 304C245.391 304 235.217 299.786 227.716 292.284C220.214 284.783 216 274.609 216 264Z"},null,-1)],wbe={__name:"StickerSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Cbe,8,xbe))}},Sbe=["width","height"],kbe=[u.createElementVNode("path",{d:"M256 32C211.697 32 168.389 45.1374 131.552 69.7508C94.7158 94.3642 66.0051 129.348 49.0511 170.279C32.0971 211.21 27.6611 256.248 36.3042 299.7C44.9473 343.152 66.2812 383.065 97.6082 414.392C128.935 445.719 168.848 467.053 212.3 475.696C255.752 484.339 300.791 479.903 341.721 462.949C382.652 445.995 417.636 417.284 442.249 380.448C466.863 343.611 480 300.303 480 256C479.933 196.612 456.312 139.676 414.318 97.682C372.324 55.6883 315.388 32.0669 256 32ZM256 448C218.026 448 180.905 436.739 149.331 415.642C117.756 394.545 93.1473 364.559 78.6152 329.475C64.0832 294.392 60.281 255.787 67.6893 218.543C75.0977 181.298 93.3839 147.087 120.236 120.235C147.087 93.3838 181.298 75.0976 218.543 67.6892C255.787 60.2809 294.392 64.0831 329.475 78.6151C364.559 93.1472 394.545 117.756 415.642 149.331C436.739 180.905 448 218.026 448 256C447.942 306.904 427.695 355.706 391.701 391.7C355.706 427.695 306.904 447.942 256 448Z"},null,-1),u.createElementVNode("path",{d:"M352 268.531C347.757 268.531 343.687 270.217 340.686 273.218C337.686 276.218 336 280.288 336 284.531C336 314.821 302.984 339.469 262.4 339.469H249.6C209.014 339.469 176 314.829 176 284.531C176 280.288 174.314 276.218 171.314 273.218C168.313 270.217 164.243 268.531 160 268.531C155.757 268.531 151.687 270.217 148.686 273.218C145.686 276.218 144 280.288 144 284.531C144 332.469 191.374 371.469 249.6 371.469H262.4C320.627 371.469 368 332.469 368 284.531C368 280.288 366.314 276.218 363.314 273.218C360.313 270.217 356.243 268.531 352 268.531Z"},null,-1),u.createElementVNode("path",{d:"M176 224C180.243 224 184.313 222.314 187.314 219.314C190.314 216.313 192 212.243 192 208V200C192 197.878 192.843 195.843 194.343 194.343C195.843 192.843 197.878 192 200 192C202.122 192 204.157 192.843 205.657 194.343C207.157 195.843 208 197.878 208 200V208C208 212.243 209.686 216.313 212.686 219.314C215.687 222.314 219.757 224 224 224C228.243 224 232.313 222.314 235.314 219.314C238.314 216.313 240 212.243 240 208V200C240 189.391 235.786 179.217 228.284 171.716C220.783 164.214 210.609 160 200 160C189.391 160 179.217 164.214 171.716 171.716C164.214 179.217 160 189.391 160 200V208C160 212.243 161.686 216.313 164.686 219.314C167.687 222.314 171.757 224 176 224Z"},null,-1),u.createElementVNode("path",{d:"M288 224C292.243 224 296.313 222.314 299.314 219.314C302.314 216.313 304 212.243 304 208V200C304 197.878 304.843 195.843 306.343 194.343C307.843 192.843 309.878 192 312 192C314.122 192 316.157 192.843 317.657 194.343C319.157 195.843 320 197.878 320 200V208C320 212.243 321.686 216.313 324.686 219.314C327.687 222.314 331.757 224 336 224C340.243 224 344.313 222.314 347.314 219.314C350.314 216.313 352 212.243 352 208V200C352 189.391 347.786 179.217 340.284 171.716C332.783 164.214 322.609 160 312 160C301.391 160 291.217 164.214 283.716 171.716C276.214 179.217 272 189.391 272 200V208C272 212.243 273.686 216.313 276.686 219.314C279.687 222.314 283.757 224 288 224Z"},null,-1)],Ibe={__name:"EmojiSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},kbe,8,Sbe))}},Dbe=["width","height"],Nbe=[u.createElementVNode("g",{"clip-path":"url(#clip0_4129_855)"},[u.createElementVNode("path",{d:"M87.6177 316.621L87.6236 316.615L352.802 48.4514C352.803 48.4503 352.804 48.4493 352.805 48.4482C374.902 26.3552 413.467 26.3563 435.561 48.4514L436.622 47.3907L435.561 48.4514C458.376 71.2656 458.376 108.383 435.561 131.197L435.555 131.203L180.985 388.774C180.984 388.775 180.983 388.776 180.982 388.777C173.07 396.686 159.194 396.685 151.282 388.774C143.091 380.584 143.091 367.247 151.282 359.055L151.288 359.049L395.235 112.102C395.236 112.101 395.237 112.1 395.238 112.099C398.132 109.202 399.469 104.729 399.469 100.434C399.469 96.1361 398.131 91.6612 395.235 88.7642L394.174 89.8248L395.235 88.7641C388.788 82.3173 378.343 82.3173 371.896 88.7641L371.89 88.7706L127.944 335.718C127.943 335.719 127.942 335.721 127.94 335.722C106.874 356.793 106.875 391.044 127.944 412.112C148.37 432.538 183.929 432.508 204.324 412.112L204.33 412.106L458.9 154.536C458.901 154.535 458.902 154.534 458.903 154.533C494.311 119.121 494.31 60.5257 458.9 25.1141L457.839 26.1747L458.9 25.1141C441.6 7.81479 418.608 -1.50024 394.175 -1.50024C369.742 -1.50024 346.747 7.81473 329.463 25.1135L329.457 25.119L64.2793 293.284C13.9626 343.601 13.9625 425.447 64.2783 475.762C114.595 526.079 196.455 526.079 246.772 475.762L436.683 285.852C443.129 279.406 443.129 268.961 436.683 262.514C430.236 256.067 419.791 256.067 413.344 262.514L223.435 452.424C223.435 452.424 223.434 452.424 223.434 452.424C187.155 488.674 123.897 488.674 87.6177 452.424C50.1805 414.987 50.1805 354.059 87.6177 316.621Z","stroke-width":"3"})],-1)],Mbe={__name:"FileSvg",props:{width:{type:[Number,String],default:20},height:{type:[Number,String],default:20}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Nbe,8,Dbe))}},Obe=["width","height"],Lbe=[u.createElementVNode("g",null,[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"m256 439.98c-13.81 0-25-11.19-25-25v-317.96c0-13.81 11.19-25 25-25s25 11.19 25 25v317.96c0 13.81-11.19 25-25 25z"})]),u.createElementVNode("g",null,[u.createElementVNode("path",{d:"m414.98 281h-317.96c-13.81 0-25-11.19-25-25s11.19-25 25-25h317.96c13.81 0 25 11.19 25 25s-11.19 25-25 25z"})])],-1)],Rbe={__name:"AddSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,"enable-background":"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Lbe,8,Obe))}},Bbe=["width","height"],Pbe=[u.createElementVNode("path",{d:"M255.999 0C153.754 0 70.572 83.182 70.572 185.426C70.572 312.314 236.511 498.593 243.576 506.461C250.212 513.852 261.798 513.839 268.422 506.461C275.487 498.593 441.426 312.314 441.426 185.426C441.424 83.182 358.243 0 255.999 0ZM255.999 469.729C200.152 403.391 103.964 272.512 103.964 185.428C103.964 101.594 172.166 33.392 255.999 33.392C339.832 33.392 408.034 101.594 408.034 185.427C408.033 272.515 311.86 403.37 255.999 469.729Z"},null,-1),u.createElementVNode("path",{d:"M255.999 92.1338C204.557 92.1338 162.707 133.985 162.707 185.427C162.707 236.869 204.558 278.72 255.999 278.72C307.44 278.72 349.29 236.869 349.29 185.427C349.29 133.985 307.44 92.1338 255.999 92.1338ZM255.999 245.328C222.969 245.328 196.099 218.457 196.099 185.427C196.099 152.397 222.97 125.526 255.999 125.526C289.028 125.526 315.899 152.397 315.899 185.427C315.899 218.457 289.028 245.328 255.999 245.328Z"},null,-1)],Fbe={__name:"LocationSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Pbe,8,Bbe))}},Ube=["width","height"],$be=[u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M223.999 48C188.653 48 159.999 76.6538 159.999 112V192V272C159.999 307.346 188.653 336 223.999 336H255.999H287.999C323.345 336 351.999 307.346 351.999 272V192V112C351.999 76.6538 323.345 48 287.999 48H255.999H223.999ZM191.999 112C191.999 94.3272 206.326 80 223.999 80H255.999H287.999C305.672 80 319.999 94.3272 319.999 112V192V272C319.999 289.673 305.672 304 287.999 304H255.999H223.999C206.326 304 191.999 289.673 191.999 272V192V112ZM127.999 224C127.999 215.163 120.836 208 111.999 208C103.162 208 95.999 215.163 95.999 224V272C95.999 342.693 153.306 400 223.999 400H239.999V464H191.999C183.162 464 175.999 471.163 175.999 480C175.999 488.837 183.162 496 191.999 496H255.999H319.999C328.836 496 335.999 488.837 335.999 480C335.999 471.163 328.836 464 319.999 464H271.999V400H287.999C358.692 400 415.999 342.693 415.999 272V224C415.999 215.163 408.836 208 399.999 208C391.162 208 383.999 215.163 383.999 224V272C383.999 325.019 341.018 368 287.999 368H255.999H223.999C170.98 368 127.999 325.019 127.999 272V224Z"},null,-1)],jbe={__name:"RecordSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(u.openBlock(),u.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},$be,8,Ube))}};function Bv(t,e){if(typeof t!="object")return;if(t.getRangeAt){if(t.rangeCount===0)return;t=t.getRangeAt(0)}if(t.cloneRange){let n=t.cloneRange();n.collapse(!0),t=n.startContainer,t.nodeType===1&&(t=t.childNodes[n.startOffset])}if(!t)return;let r=t;for(;r&&r.nodeType!==1;)r=r.previousSibling;t=r||t.parentNode,t&&Hbe(t,e)}function Hbe(t,e){if(t.scrollIntoViewIfNeeded)t.scrollIntoViewIfNeeded(!1);else{e=e||t.parentElement;const r=t.offsetTop-e.scrollTop;(r<0||r>e.offsetHeight-t.offsetHeight)&&(e.scrollTop=t.offsetTop)}}function Ec(t){const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(t))}function Pv(){const t=window.getSelection();if(t&&t.rangeCount>0)return t.getRangeAt(0)}function Ac(t,e){return e.map(r=>({at:r,index:t.lastIndexOf(r)})).reduce((r,n)=>r.index>n.index?r:n)}function zbe(t,e){e=e||window;for(var r={top:t.offsetTop,left:t.offsetLeft},n=t.offsetParent;n!=null&&n!=e;)r.left+=n.offsetLeft,r.top+=n.offsetTop,n=n.offsetParent;return r}function Vbe(t,e){do if(e(t))return t;while(t=t&&t.parentNode)}function G8(){const t=Pv();if(t){const e=t.cloneRange();return e.collapse(!0),e.setStart(e.endContainer,0),e}}const qbe={name:"VueAt",emits:["update:value","at","insert"],props:{value:{type:String,default:null},at:{type:String,default:null},ats:{type:Array,default:()=>["@"]},suffix:{type:String,default:" "},loop:{type:Boolean,default:!0},allowSpaces:{type:Boolean,default:!0},tabSelect:{type:Boolean,default:!1},avoidEmail:{type:Boolean,default:!0},showUnique:{type:Boolean,default:!0},hoverSelect:{type:Boolean,default:!0},members:{type:Array,default:()=>[]},nameKey:{type:String,default:""},filterMatch:{type:Function,default:(t,e)=>t.toLowerCase().indexOf(e.toLowerCase())>-1},deleteMatch:{type:Function,default:(t,e,r)=>e===t+r},scrollRef:{type:String,default:""}},data(){return{bindsValue:this.value!=null,customsEmbedded:!1,hasComposition:!1,atwho:null}},computed:{atItems(){return this.at?[this.at]:this.ats},currentItem(){return this.atwho?this.atwho.list[this.atwho.cur]:""},style(){if(this.atwho){const{x:t,y:e}=this.atwho,{wrap:r}=this.$refs;if(r){const n=zbe(r),i=this.scrollRef?document.querySelector(this.scrollRef).scrollLeft:0,s=this.scrollRef?document.querySelector(this.scrollRef).scrollTop:0,a=t+i+window.pageXOffset-n.left+"px",o=e+s+window.pageYOffset-n.top+"px";return{left:a,top:o}}}return null}},watch:{"atwho.cur"(t){t!=null&&this.$nextTick(()=>{this.scrollToCur()})},members(){this.handleInput(!0)},value(t){this.bindsValue&&this.handleValueUpdate(t)}},mounted(){this.$slots.embeddedItem&&(this.customsEmbedded=!0),this.bindsValue&&this.handleValueUpdate(this.value)},methods:{itemName(t){const{nameKey:e}=this;return e?t[e]:t},isCur(t){return t===this.atwho.cur},handleValueUpdate(t){const e=this.$el.querySelector("[contenteditable]");t!==e.innerHTML&&(e.innerHTML=t,this.dispatchInput())},dispatchInput(){let t=this.$el.querySelector("[contenteditable]"),e=new Event("input",{bubbles:!0});t.dispatchEvent(e)},handleItemHover(t){this.hoverSelect&&this.selectByMouse(t)},handleItemClick(t){this.selectByMouse(t),this.insertItem()},handleDelete(t){const e=G8();if(e){if(this.customsEmbedded&&e.endOffset>=1){let f=e.endContainer.childNodes[e.endOffset]||e.endContainer.childNodes[e.endOffset-1];if(!f||f.nodeType===Node.TEXT_NODE&&!/^\s?$/.test(f.data))return;f.nodeType===Node.TEXT_NODE?f.previousSibling&&(f=f.previousSibling):f.previousElementSibling&&(f=f.previousElementSibling);let c=[].slice.call(f.childNodes);c=[].reverse.call(c),c.unshift(f);let h;if([].some.call(c,p=>{if(p.getAttribute&&p.getAttribute("data-at-embedded")!=null)return h=p,!0}),h){t.preventDefault(),t.stopPropagation();const p=Pv();p&&(p.setStartBefore(h),p.deleteContents(),Ec(p),this.handleInput())}return}const{atItems:r,members:n,suffix:i,deleteMatch:s,itemName:a}=this,o=e.toString(),{at:l,index:d}=Ac(o,r);if(d>-1){const f=o.slice(d+l.length);if(n.some(h=>{const p=a(h);return s(p,f,i)})){t.preventDefault(),t.stopPropagation();const h=Pv();h&&(h.setStart(h.endContainer,d),h.deleteContents(),Ec(h),this.handleInput())}}}},handleKeyDown(t){const{atwho:e}=this;if(e){if(t.keyCode===38||t.keyCode===40){t.metaKey||t.ctrlKey||(t.preventDefault(),t.stopPropagation(),this.selectByKeyboard(t));return}if(t.keyCode===13||this.tabSelect&&t.keyCode===9){t.preventDefault(),t.stopPropagation(),this.insertItem();return}if(t.keyCode===27){this.closePanel();return}}(t.keyCode>=48&&t.keyCode<=90||t.keyCode===8)&&setTimeout(()=>{this.handleInput()},50),t.keyCode===8&&this.handleDelete(t)},handleCompositionStart(){this.hasComposition=!0},handleCompositionEnd(){this.hasComposition=!1,this.handleInput()},handleInput(t){if(this.hasComposition)return;const e=this.$el.querySelector("[contenteditable]");this.$emit("update:value",e.innerHTML);const r=G8();if(r){const{atItems:n,avoidEmail:i,allowSpaces:s,showUnique:a}=this;let o=!0;const l=r.toString(),{at:d,index:f}=Ac(l,n);f<0&&(o=!1);const c=l[f-1],h=l.slice(f+d.length,l.length);if(i&&/^[a-z0-9]$/i.test(c)&&(o=!1),!s&&/\s/.test(h)&&(o=!1),/^\s/.test(h)&&(o=!1),!o)this.closePanel();else{const{members:p,filterMatch:m,itemName:b}=this;!t&&h&&this.$emit("at",h);const y=p.filter(_=>{const x=b(_);return m(x,h,d)});if(o=!1,y.length&&(o=!0,!a)){let _=y[0];h===b(_)&&(o=!1)}o?this.openPanel(y,r,f,d):this.closePanel()}}},closePanel(){this.atwho&&(this.atwho=null)},openPanel(t,e,r,n){const i=()=>{const s=e.cloneRange();s.setStart(s.endContainer,r+n.length);const a=s.getClientRects()[0];this.atwho={range:e,offset:r,list:t,x:a.left,y:a.top-4,cur:0}};this.atwho?i():setTimeout(i,10)},scrollToCur(){let{wrap:t}=this.$refs,{cur:e}=this.atwho;const r=t.querySelector(`.atwho-li[data-index="${e}"]`),n=r.parentElement.parentElement;Bv(r,n)},selectByMouse(t){const r=+Vbe(t.target,n=>n.getAttribute("data-index")).getAttribute("data-index");this.atwho={...this.atwho,cur:r}},selectByKeyboard(t){const e=t.keyCode===38?-1:1,{cur:r,list:n}=this.atwho,i=this.loop?(r+e+n.length)%n.length:Math.max(0,Math.min(r+e,n.length-1));this.atwho={...this.atwho,cur:i}},insertText(t,e){e.deleteContents();const r=e.endContainer;if(r.nodeType===Node.TEXT_NODE){const n=e.endOffset;r.data=r.data.slice(0,n)+t+r.data.slice(n),e.setEnd(r,n+t.length)}else{const n=document.createTextNode(t);e.insertNode(n),e.setEndAfter(n)}e.collapse(!1),Ec(e),this.dispatchInput()},insertHtml(t,e){e.deleteContents();const r=e.endContainer,n=document.createElement("span");if(n.appendChild(document.createTextNode(" ")),n.appendChild(this.htmlToElement(t)),n.appendChild(document.createTextNode(" ")),n.setAttribute("data-at-embedded",""),n.setAttribute("contenteditable",!1),r.nodeType===Node.TEXT_NODE){const i=e.endOffset;let s=r.splitText(i);r.parentNode.insertBefore(n,s),e.setEndBefore(s)}else{const i=document.createTextNode(this.suffix);e.insertNode(n),e.setEndAfter(n),e.insertNode(i),e.setEndAfter(i)}e.collapse(!1),Ec(e)},insertItem(){const{range:t,list:e,cur:r}=this.atwho,{suffix:n,atItems:i,itemName:s,customsEmbedded:a}=this,o=t.cloneRange(),l=t.toString(),{at:d,index:f}=Ac(l,i),c=a?f:f+d.length;o.setStart(o.endContainer,c),Ec(o),Ec(o);const h=e[r];if(a){const p=this.$refs.embeddedItem.firstElementChild.innerHTML;this.insertHtml(p,o)}else{const p=s(h)+n;this.insertText(p,o)}Bv(window.getSelection()),this.$emit("insert",h),this.handleInput(),Bv(o)},htmlToElement(t){const e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild}}},Wbe={class:"atwho-inner"},Gbe={class:"atwho-view"},Ybe={class:"atwho-ul"},Qbe=["data-index"],Kbe=["textContent"],Xbe={ref:"embeddedItem"};function Zbe(t,e,r,n,i,s){return u.openBlock(),u.createElementBlock("div",{ref:"wrap",class:"atwho-wrap",onCompositionstart:e[2]||(e[2]=(...a)=>s.handleCompositionStart&&s.handleCompositionStart(...a)),onCompositionend:e[3]||(e[3]=(...a)=>s.handleCompositionEnd&&s.handleCompositionEnd(...a)),onInput:e[4]||(e[4]=a=>s.handleInput()),onKeydownCapture:e[5]||(e[5]=(...a)=>s.handleKeyDown&&s.handleKeyDown(...a))},[i.atwho?(u.openBlock(),u.createElementBlock("div",{key:0,class:"atwho-panel",style:u.normalizeStyle(s.style)},[u.createElementVNode("div",Wbe,[u.createElementVNode("div",Gbe,[u.createElementVNode("ul",Ybe,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.atwho.list,(a,o)=>(u.openBlock(),u.createElementBlock("li",{class:u.normalizeClass(["atwho-li",s.isCur(o)&&"atwho-cur"]),key:o,"data-index":o,onMouseenter:e[0]||(e[0]=(...l)=>s.handleItemHover&&s.handleItemHover(...l)),onClick:e[1]||(e[1]=(...l)=>s.handleItemClick&&s.handleItemClick(...l))},[u.renderSlot(t.$slots,"item",{item:a},()=>[u.createElementVNode("span",{textContent:u.toDisplayString(s.itemName(a))},null,8,Kbe)])],42,Qbe))),128))])])])],4)):u.createCommentVNode("",!0),u.withDirectives(u.createElementVNode("span",Xbe,[u.renderSlot(t.$slots,"embeddedItem",{current:s.currentItem})],512),[[u.vShow,!1]]),u.renderSlot(t.$slots,"default")],544)}const Jbe=Sr(qbe,[["render",Zbe]]);var Y8={exports:{}};(function(t){(function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r=typeof window<"u",n=r&&window.mozInnerScreenX!=null;function i(s,a,o){if(!r)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var l=o&&o.debug||!1;if(l){var d=document.querySelector("#input-textarea-caret-position-mirror-div");d&&d.parentNode.removeChild(d)}var f=document.createElement("div");f.id="input-textarea-caret-position-mirror-div",document.body.appendChild(f);var c=f.style,h=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,p=s.nodeName==="INPUT";c.whiteSpace="pre-wrap",p||(c.wordWrap="break-word"),c.position="absolute",l||(c.visibility="hidden"),e.forEach(function(y){p&&y==="lineHeight"?c.lineHeight=h.height:c[y]=h[y]}),n?s.scrollHeight>parseInt(h.height)&&(c.overflowY="scroll"):c.overflow="hidden",f.textContent=s.value.substring(0,a),p&&(f.textContent=f.textContent.replace(/\s/g,""));var m=document.createElement("span");m.textContent=s.value.substring(a)||".",f.appendChild(m);var b={top:m.offsetTop+parseInt(h.borderTopWidth),left:m.offsetLeft+parseInt(h.borderLeftWidth),height:parseInt(h.lineHeight)};return l?m.style.backgroundColor="#aaa":document.body.removeChild(f),b}t.exports=i})()})(Y8);var e2e=Y8.exports;const t2e=on(e2e),r2e={extends:Jbe,name:"AtTextarea",emits:["update:value","at","insert"],computed:{style(){if(this.atwho){const{x:t,y:e}=this.atwho,{wrap:r}=this.$refs,n=this.$el.querySelector("textarea");if(r){const i=t+n.offsetLeft-n.scrollLeft+"px",s=e+n.offsetTop-n.scrollTop+"px";return{left:i,top:s}}}return null}},methods:{handleValueUpdate(t){const e=this.$el.querySelector("textarea");t!==e.value&&(e.value=t,this.dispatchInput())},dispatchInput(){let t=this.$el.querySelector("textarea"),e=new Event("input",{bubbles:!0});t.dispatchEvent(e)},handleDelete(){const t=this.$el.querySelector("textarea");if(t.selectionEnd-t.selectionStart>0)return;const r=t.value.slice(0,t.selectionEnd);if(r){const{atItems:n,members:i,suffix:s,deleteMatch:a,itemName:o}=this,{at:l,index:d}=Ac(r,n);if(d>-1){const f=r.slice(d+l.length);i.some(h=>{const p=o(h);return a(p,f,s)})&&(t.value=t.value.slice(0,d)+t.value.slice(t.selectionEnd-1),t.selectionStart=d+1,t.selectionEnd=d+1,this.handleInput())}}},handleInput(t){if(this.hasComposition)return;const e=this.$el.querySelector("textarea");this.$emit("update:value",e.value);const r=e.value.slice(0,e.selectionEnd);if(r){const{atItems:n,avoidEmail:i,allowSpaces:s}=this;let a=!0;const{at:o,index:l}=Ac(r,n);l<0&&(a=!1);const d=r[l-1],f=r.slice(l+o.length,r.length);if(i&&/^[a-z0-9]$/i.test(d)&&(a=!1),!s&&/\s/.test(f)&&(a=!1),/^\s/.test(f)&&(a=!1),!a)this.closePanel();else{const{members:c,filterMatch:h,itemName:p}=this;t||this.$emit("at",f);const m=c.filter(b=>{const y=p(b);return h(y,f,o)});m.length?this.openPanel(m,f,l,o,t):this.closePanel()}}else this.closePanel()},openPanel(t,e,r,n){const i=()=>{const s=this.$el.querySelector("textarea"),a=r+n.length,o=t2e(s,a);this.atwho={chunk:e,offset:r,list:t,atEnd:a,x:o.left,y:o.top-4,cur:0}};this.atwho?i():setTimeout(i,10)},insertText(t,e){const r=e.selectionStart,n=e.selectionEnd;e.value=e.value.slice(0,r)+t+e.value.slice(n);const i=r+t.length;e.selectionStart=i,e.selectionEnd=i,this.dispatchInput()},insertItem(){const{list:t,cur:e,atEnd:r}=this.atwho,{suffix:n,atItems:i,itemName:s}=this,a=this.$el.querySelector("textarea"),o=a.value.slice(0,r),{at:l,index:d}=Ac(o,i),f=d+l.length;a.selectionStart=f,a.focus();const c=t[e],h=s(c)+n;this.insertText(h,a),this.$emit("insert",c),this.handleInput()}}},Q8=t=>(u.pushScopeId("data-v-1587b7e4"),t=t(),u.popScopeId(),t),n2e={key:1,class:"relative h-10 w-10"},i2e={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100"},s2e=Q8(()=>u.createElementVNode("div",{class:"flex-grow"},null,-1)),a2e={key:0,slot:"header",class:"flex h-12 w-full items-center justify-center"},o2e=[Q8(()=>u.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],l2e={class:"relative flex items-end justify-center gap-3 p-2 pl-3"},u2e={key:2,class:"absolute bottom-16 left-2 z-10 flex items-stretch gap-1 rounded-lg bg-white p-1.5 text-gray-900 shadow-md dark:bg-zinc-800 dark:text-gray-100"},c2e={class:"text-xs"},d2e={class:"whitespace-nowrap text-xs"},f2e={key:4,class:"relative flex grow flex-col items-stretch rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},h2e={key:0,class:"absolute left-[50%] top-[-40px] flex translate-x-[-50%] gap-5"},p2e=["onClick"],m2e={class:"flex items-center gap-3 bg-gray-100 dark:bg-zinc-700"},g2e={class:"flex w-0 min-w-0 grow flex-col items-stretch justify-center gap-3"},b2e=["disabled","placeholder"],y2e={key:0,class:"flex gap-3"},_2e=["src"],v2e=["onClick"],T2e=Sr(u.defineComponent({__name:"ChatRoom",props:{isTestPreview:{type:Boolean},pinchatLink:{}},emits:["send"],setup(t,{emit:e}){const r=e,n=t,i=nr(),{open:s}=Ki({component:wue}),a=u.computed(()=>n.isTestPreview?`Test Bot ${n.pinchatLink.split("_")[0]}`:o.value.displayName),o=u.computed(()=>i.state.imkit.rooms[i.state.imkit.selectedRoomId]),l=u.computed(()=>i.state.imkit.selectedRoomId),d=u.computed(()=>!!i.state.imkit.isRequesting[`/rooms/${i.state.imkit.selectedRoomId}/messages`]),f=u.computed(()=>{var B;const xe=Object.keys(i.state.imkit.isTyping).map(q=>new Er({_id:q,messageType:"typing",sender:{_id:q}}));return((B=i.state.imkit.messageMultiList.main)==null?void 0:B.array().concat(xe))??[]}),c=u.computed(()=>que().has("roomId")),h=u.computed(()=>f.value.at(-1)),p=u.computed(()=>i.state.imkit.isRoomInfoVisible),m=u.computed(()=>i.state.imkit.navigationTargetId),b=u.ref(null),y=u.ref(""),_=u.ref(!1),x=u.ref(!1),C=u.ref(!1),k=u.ref(!1),S=u.ref(),w=u.ref([]),L=u.ref([]),D=u.ref(!1),I=u.ref(!1),P=u.ref(),z=u.ref(dr().subtract(5,"second")),U=u.ref(!1),$=u.computed(()=>!0),H=u.computed(()=>{var xe,B;return(B=(xe=f.value[f.value.length-1])==null?void 0:xe.template)==null?void 0:B.quickReply.items}),Y=u.computed(()=>i.state.imkit.replyId),F=u.computed(()=>i.state.imkit.config.settings),j=u.computed(()=>i.state.imkit.isSearchInRoomMode),se=u.computed(()=>i.state.imkit.config.styles),W=async()=>{const xe=async()=>{if(y.value){const{replyId:q}=i.state.imkit;let ue=y.value.trim(),ye=[];if(ue.includes("@"))for(const $e of o.value.memberIds){const ze=i.state.imkit.users[$e];ue.includes(`@${ze.nickname}`)&&(ye.push(ze.id),ue=ue.replace(`@${ze.nickname}`,`@${ze.id}`))}const Pe={roomId:o.value.id,messageType:"text",message:ue,reply:q||null,mentions:ye};y.value="",await u.nextTick(),P.value&&(P.value.style.height="auto",P.value.style.height=Math.min(P.value.scrollHeight,64)+"px"),await i.dispatch("imkit/sendMessage",Pe),i.commit("imkit/setState",{replyId:null})}},B=async()=>{if(w.value.length>0){const q={roomId:o.value.id,messageType:"image",images:w.value,files:L.value};w.value=[],L.value=[],await i.dispatch("imkit/sendMessage",q)}};await Promise.all([B(),xe()]),r("send")},R=async()=>{var B,q;if(f.value.length>=i.state.imkit.numberOfTotalMessages)return;const xe=await i.dispatch("imkit/loadMessages",{roomId:o.value.id,beforeMessageId:(B=f.value[0])==null?void 0:B.id});xe&&xe.length>0&&((q=b.value)==null||q.scrollToIndex(xe.length))},N=async()=>{var xe;I.value=!1,i.state.imkit.messageMultiList.main!=i.state.imkit.messageMultiList.tail&&await i.dispatch("imkit/loadMessages",{roomId:o.value.id,afterMessageId:(xe=f.value[f.value.length-1])==null?void 0:xe.id})},V=xe=>{y.value+=xe.i,C.value=!1},Z=()=>{var xe;(xe=S.value)==null||xe.click()},X=async xe=>{var $e;const q=Array.from((($e=xe==null?void 0:xe.target)==null?void 0:$e.files)||[]).filter(ze=>ze.size<2e7);if(q.length===0||q.length>10)return;const ue=q.filter(ze=>ze.type.startsWith("image")),ye=q.filter(ze=>ze.type.startsWith("video")),Pe=q.filter(ze=>!ze.type.startsWith("image")&&!ze.type.startsWith("video"));if(ue.length>0){const ze=await Promise.all(ue.map(sv)),_e={roomId:o.value.id,messageType:"image",images:ze,files:Array.from(q)};await i.dispatch("imkit/sendMessage",_e)}if(ye.length>0)for(const ze of ye){const _e=await aue(ze),{width:Oe,height:nt,duration:bt}=_e,Nt={roomId:o.value.id,messageType:"video",video:_e,file:ze,width:Oe,height:nt,duration:bt};await i.dispatch("imkit/sendMessage",Nt)}if(Pe.length>0)for(const ze of Pe){const _e={roomId:o.value.id,messageType:"file",file:ze,originalUrl:"",extra:{mimeType:ze.type,fileName:ze.name.split(".").slice(0,-1).join("."),bytes:ze.size,fileExtension:ze.name.split(".").pop()}};await i.dispatch("imkit/sendMessage",_e)}S.value&&(S.value.value="")},K=async xe=>{const B=((xe==null?void 0:xe.dataTransfer)||{}).files||[];if(B.length===0||B.length>10)return;const q=await Promise.all(Array.from(B).map(sv)),ue={roomId:o.value.id,messageType:"image",images:q,files:Array.from(B)};await i.dispatch("imkit/sendMessage",ue)},de=xe=>{xe.preventDefault()},le=async xe=>{const q=(xe.clipboardData||{}).files;q.length===0||q.length>10||(xe.preventDefault(),w.value=w.value.concat(await Promise.all(Array.from(q).map(sv))),L.value=L.value.concat(Array.from(q)))},Te=()=>{i.commit("imkit/setState",{selectedRoomId:""})},ge=xe=>{w.value.splice(xe,1),L.value.splice(xe,1)},me=()=>{setTimeout(()=>{_.value=!1},0)},Ce=xe=>{!_.value&&xe.keyCode==13&&!xe.shiftKey&&!F.value.sendButtonEnabled&&(xe.preventDefault(),W())},Ne=()=>{P.value&&(P.value.style.height="auto",P.value.style.height=Math.min(P.value.scrollHeight,64)+"px")},Fe=()=>{i.commit("imkit/setState",{isSearchInRoomMode:!0})};let he=0;const Re=async xe=>{D.value=!1,i.commit("imkit/clearChatRoom"),Promise.all([i.dispatch("imkit/loadMessages",{roomId:xe}),i.dispatch("imkit/fetchRoom",xe)]).finally(()=>{var B,q,ue;(((B=o.value)==null?void 0:B.numberOfUnread)??0)>0&&(i.dispatch("imkit/updateLastRead",xe),i.dispatch("imkit/insertUnreadMessage")),(q=o.value)!=null&&q.isSuperuser&&i.dispatch("imkit/getBlockList",o.value.id);for(const ye of i.state.imkit.deliveringMessages.values())ye.roomId===xe&&i.commit("imkit/pushMessage",ye);(ue=b.value)==null||ue.scrollToBottom(),D.value=!0})};u.onMounted(()=>{u.watch(l,async(xe,B)=>{xe!==B&&xe&&Re(xe)},{immediate:!0}),u.watch([()=>f.value.length,()=>h.value],([xe],[B])=>{var q,ue,ye,Pe,$e,ze;((q=b.value)==null?void 0:q.getOffset())!==void 0&&(xe-B>1||(((ue=b.value)==null?void 0:ue.getOffset())+((ye=b.value)==null?void 0:ye.getClientSize())==((Pe=b.value)==null?void 0:Pe.getScrollSize())||(($e=f.value[f.value.length-1])==null?void 0:$e.senderId)===i.state.imkit.uid?(I.value=!1,(ze=b.value)==null||ze.scrollToBottom()):I.value=!0))}),u.watch(m,xe=>{var q;if(!xe)return;const B=f.value.findIndex(ue=>ue.id===xe);B!==-1&&((q=b.value)==null||q.scrollToIndex(B)),i.commit("imkit/setState",{navigationTargetId:""})}),u.watch(Y,()=>{Y.value&&(k.value=!1,setTimeout(()=>{var xe;(xe=P.value)==null||xe.focus()},0))}),u.watch(y,()=>{if(z.value.add(5,"second")>dr())return;z.value=dr();const{socket:xe,selectedRoomId:B}=i.state.imkit;xe.emit("typing",B)}),document.addEventListener("visibilitychange",()=>{document.hidden?he=dr().unix():dr().unix()-he>60&&(i.state.imkit.socket.connect(),Re(l.value))})});const rt=()=>{const{open:xe}=Ki({component:Sue});xe()},be=u.computed(()=>o.value.memberIds.map(xe=>{var B;return(B=i.state.imkit.users[xe])==null?void 0:B.nickname})),Le=u.computed(()=>{var xe;return(xe=o.value)!=null&&xe.isSuperuser||o.value.memberIds.length<=1?!1:o.value.memberIds.filter(B=>B!==i.state.imkit.uid).reduce((B,q)=>B&&i.state.imkit.blockedUsers[q],!0)});return(xe,B)=>{var ue;const q=u.resolveDirective("touch");return o.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex h-dvh flex-col bg-white dark:bg-zinc-800",onDrop:u.withModifiers(K,["prevent"]),onDragenter:de,onDragover:de},[j.value?(u.openBlock(),u.createBlock(oce,{key:0})):u.withDirectives((u.openBlock(),u.createElementBlock("div",{key:1,class:"flex h-[60px] select-none items-center gap-3 border-b border-solid px-3 py-2.5 dark:border-zinc-700",style:u.normalizeStyle(se.value.chatRoomHeader)},[c.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock("img",{key:0,src:OT,class:"flex cursor-pointer sm:!hidden",width:"36",height:"36",onClick:Te})),n.isTestPreview?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[o.value.avatars.length===1?(u.openBlock(),u.createBlock(gn,{key:0,url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",n2e,[u.createVNode(gn,{url:o.value.avatars[1].url,name:o.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl !text-base"},null,8,["url","name"]),u.createVNode(gn,{url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white !text-base group-hover:border-gray-100 dark:border-zinc-800"},null,8,["url","name"])]))],64)),u.createElementVNode("div",i2e,u.toDisplayString(a.value),1),s2e,F.value.showDarkModeSwitch&&!n.isTestPreview?(u.openBlock(),u.createBlock(u.unref(Abe),{key:2,round:""})):u.createCommentVNode("",!0),F.value.searchInRoomEnabled&&!n.isTestPreview?(u.openBlock(),u.createElementBlock("img",{key:3,class:"h-6 w-6 cursor-pointer",src:bh,onClick:Fe})):u.createCommentVNode("",!0),o.value.type===u.unref(Lp).Group&&F.value.showGroupChatRoomInfoButton||o.value.type===u.unref(Lp).Direct&&F.value.showDirectChatRoomInfoButton&&!n.isTestPreview?(u.openBlock(),u.createElementBlock("img",{key:4,src:nR,class:"h-6 w-6 cursor-pointer",onClick:B[0]||(B[0]=ye=>u.unref(i).commit("imkit/setState",{isRoomInfoVisible:!p.value}))})):u.createCommentVNode("",!0)],4)),[[q,rt,"longtap"]]),u.createVNode(u.unref(Th),{class:u.normalizeClass(["grow overflow-auto p-2",{"opacity-0":!D.value&&!d.value}]),ref_key:"vl",ref:b,"data-key":"id","data-sources":f.value,"data-component":yae,"wrap-class":"flex flex-col","estimated-size":66,keeps:50,onTotop:R,onTobottom:N},{header:u.withCtx(()=>[d.value?(u.openBlock(),u.createElementBlock("div",a2e,o2e)):u.createCommentVNode("",!0)]),_:1},8,["class","data-sources"]),u.createElementVNode("div",l2e,[I.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"absolute -top-10 flex h-10 w-full cursor-pointer items-center bg-gray-200 bg-opacity-90 px-3 dark:bg-zinc-600",onClick:B[1]||(B[1]=(...ye)=>b.value.scrollToBottom&&b.value.scrollToBottom(...ye))},u.toDisplayString((ue=o.value.lastMessage)==null?void 0:ue.string),1)):u.createCommentVNode("",!0),F.value.locationInputEnabled||F.value.audioInputEnabled?(u.openBlock(),u.createBlock(Rbe,{key:1,class:u.normalizeClass(["h-12 w-5 flex-shrink-0 transform cursor-pointer fill-slate-500 object-contain transition dark:fill-slate-400",{"rotate-45":k.value}]),onClick:B[2]||(B[2]=()=>{k.value?k.value=!1:U.value=!0})},null,8,["class"])):u.createCommentVNode("",!0),U.value?u.withDirectives((u.openBlock(),u.createElementBlock("div",u2e,[F.value.locationInputEnabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:B[3]||(B[3]=(...ye)=>u.unref(s)&&u.unref(s)(...ye))},[u.createVNode(Fbe,{class:"fill-slate-500 dark:fill-slate-400"}),u.createElementVNode("div",c2e,u.toDisplayString(xe.$t("location")),1)])):u.createCommentVNode("",!0),F.value.audioInputEnabled?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:B[4]||(B[4]=()=>{U.value=!1,k.value=!0})},[u.createVNode(jbe,{class:"fill-slate-500 dark:fill-slate-400"}),u.createElementVNode("div",d2e,u.toDisplayString(xe.$t("audio")),1)])):u.createCommentVNode("",!0)])),[[u.unref(Hf),()=>{U.value=!1}]]):u.createCommentVNode("",!0),F.value.audioInputEnabled&&k.value?(u.openBlock(),u.createBlock(Vue,{key:3})):(u.openBlock(),u.createElementBlock("div",f2e,[u.createVNode(gue),$.value?(u.openBlock(),u.createElementBlock("div",h2e,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(H.value,(ye,Pe)=>(u.openBlock(),u.createElementBlock("div",{key:Pe,class:"cursor-pointer rounded-full bg-gray-100 px-2 py-1 text-center text-xs dark:bg-zinc-700",onClick:$e=>u.unref(zs)({type:ye.action.type,roomId:l.value,message:ye.action.label})},u.toDisplayString(ye.action.label),9,p2e))),128))])):u.createCommentVNode("",!0),u.createElementVNode("div",m2e,[u.createElementVNode("div",g2e,[u.createVNode(r2e,{members:be.value},{default:u.withCtx(()=>[u.withDirectives(u.createElementVNode("textarea",{disabled:Le.value,ref_key:"input",ref:P,type:"text",rows:"1","onUpdate:modelValue":B[5]||(B[5]=ye=>y.value=ye),class:u.normalizeClass(["w-full resize-none bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700",{"cursor-not-allowed":Le.value}]),placeholder:xe.$t("TypeMessage"),onCompositionstart:B[6]||(B[6]=ye=>_.value=!0),onCompositionend:me,onKeydown:u.withKeys(Ce,["enter"]),onInput:Ne,onPaste:le},null,42,b2e),[[u.vModelText,y.value]])]),_:1},8,["members"]),w.value.length>0?(u.openBlock(),u.createElementBlock("div",y2e,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(w.value,(ye,Pe)=>(u.openBlock(),u.createElementBlock("div",{key:`${ye.id}-${Pe}`,class:"group relative h-12 w-12"},[u.createElementVNode("img",{src:ye.thumbnailUrl,class:"absolute bottom-0 left-0 h-full w-full rounded-lg bg-gray-200 object-cover dark:bg-zinc-600"},null,8,_2e),u.createElementVNode("img",{src:iR,class:"absolute -right-2 -top-2 hidden h-5 w-5 cursor-pointer group-hover:block",onClick:$e=>ge(Pe)},null,8,v2e)]))),128))])):u.createCommentVNode("",!0)]),F.value.stickerInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:0,class:"flex-shrink-0",onClick:B[7]||(B[7]=ye=>x.value=!0)},[u.createVNode(wbe,{class:"fill-slate-500 dark:fill-slate-400"})])):u.createCommentVNode("",!0),F.value.emojiInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:1,class:"flex-shrink-0",onClick:B[8]||(B[8]=ye=>C.value=!0)},[u.createVNode(Ibe,{class:"fill-slate-500 dark:fill-slate-400"})])):u.createCommentVNode("",!0),F.value.fileInputEnabled?(u.openBlock(),u.createElementBlock("button",{key:2,class:"flex-shrink-0",onClick:Z},[u.createVNode(Mbe,{class:"fill-slate-500 dark:fill-slate-400"}),u.createElementVNode("input",{ref_key:"fileInput",ref:S,type:"file",multiple:"true",onChange:X,class:"hidden"},null,544)])):u.createCommentVNode("",!0)]),F.value.stickerInputEnabled&&x.value?u.withDirectives((u.openBlock(),u.createBlock(xae,{key:1,onClose:B[9]||(B[9]=()=>{x.value=!1})},null,512)),[[u.unref(Hf),()=>{x.value=!1}]]):u.createCommentVNode("",!0)])),F.value.emojiInputEnabled&&C.value?u.withDirectives((u.openBlock(),u.createBlock(u.unref(qle),{key:5,class:"absolute bottom-16 right-2.5 overflow-auto",native:!0,onSelect:V},null,512)),[[u.unref(Hf),()=>{C.value=!1}]]):u.createCommentVNode("",!0),k.value?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock(u.Fragment,{key:6},[y.value.length>0?(u.openBlock(),u.createElementBlock("img",{key:0,class:u.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-pointer",{"sm:hidden":!F.value.sendButtonEnabled}]),src:LT,onClick:W},null,2)):(u.openBlock(),u.createElementBlock("img",{key:1,class:u.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-not-allowed",{"sm:hidden":!F.value.sendButtonEnabled}]),src:RT},null,2))],64))])],32)):u.createCommentVNode("",!0)}}}),[["__scopeId","data-v-1587b7e4"]]);var K8={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(It,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var a=i.prototype,o=a.format;s.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(c,h){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,b){var y=b&&b.toUpperCase();return m||h[b]||r[b]||h[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,x,C){return x||C.slice(1)})})}(l,d===void 0?{}:d);return o.call(this,f)}}})})(K8);var E2e=K8.exports;const Fv=on(E2e),A2e={class:"flex flex-col divide-y bg-white dark:divide-zinc-700 dark:bg-zinc-800"},x2e={class:"flex h-[59px] items-center gap-4 px-3"},C2e={key:1,class:"relative h-10 w-10"},w2e={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-200"},S2e={class:"flex flex-col gap-4 overflow-auto p-2"},k2e={class:"mb-2 text-base text-gray-500 dark:text-gray-300"},I2e={class:"flex flex-col gap-3"},D2e={class:"relative h-[50px] w-[50px]"},N2e={class:"flex flex-col overflow-hidden overflow-ellipsis whitespace-nowrap text-base"},M2e={class:"text-base text-gray-900 dark:text-gray-100"},O2e={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},L2e={key:0,class:"ml-auto"},R2e=["onClick"],B2e={key:1,class:"ml-auto"},P2e=["onClick"],F2e={class:"text-gray-500 dark:text-gray-300"},U2e={class:"text-gray-500 dark:text-gray-300"},$2e=["src"],j2e=u.defineComponent({__name:"ChatRoomInfo",setup(t){dr.extend(Fv);const e=nr(),r=u.computed(()=>e.state.imkit.rooms[e.state.imkit.selectedRoomId]),n=u.computed(()=>e.state.imkit.users),i=u.computed(()=>e.state.imkit.uid),s=u.computed(()=>e.state.imkit.config.settings),a=u.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl),o=u.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl+`?roomId=${e.state.imkit.selectedRoomId}`),l=u.computed(()=>e.state.imkit.blockedUsers),d=()=>{e.commit("imkit/setState",{isRoomInfoVisible:!1})},f=p=>{e.dispatch("imkit/blockUser",{roomId:r.value.id,uid:p})},c=p=>{e.dispatch("imkit/unblockUser",{roomId:r.value.id,uid:p})},h=u.computed(()=>!!e.state.imkit.isRequesting[`/blockStatus/room/${r.value.id}`]);return(p,m)=>(u.openBlock(),u.createElementBlock("div",A2e,[u.createElementVNode("div",x2e,[u.createElementVNode("img",{src:OT,class:"cursor-pointer sm:hidden",width:"36",height:"36",onClick:d}),r.value.avatars.length===1?(u.openBlock(),u.createBlock(gn,{key:0,url:r.value.avatars[0].url,name:r.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",C2e,[u.createVNode(gn,{url:r.value.avatars[1].url,name:r.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl !text-base"},null,8,["url","name"]),u.createVNode(gn,{url:r.value.avatars[0].url,name:r.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white !text-base group-hover:border-gray-100 dark:border-zinc-800"},null,8,["url","name"])])),u.createElementVNode("div",w2e,u.toDisplayString(r.value.displayName),1)]),u.createElementVNode("div",S2e,[u.createElementVNode("div",null,[u.createElementVNode("div",k2e,u.toDisplayString(p.$t("members")),1),u.createElementVNode("div",I2e,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(r.value.memberIds,b=>(u.openBlock(),u.createElementBlock("div",{key:b,class:"flex items-center gap-4"},[u.createElementVNode("div",D2e,[u.createVNode(gn,{url:n.value[b].avatarUrl??"",name:n.value[b].nickname,class:"relative h-[50px] w-[50px] text-lg"},null,8,["url","name"])]),u.createElementVNode("div",N2e,[u.createElementVNode("div",M2e,u.toDisplayString(n.value[b].nickname),1),n.value[b].city&&n.value[b].country?(u.openBlock(),u.createElementBlock("div",O2e,u.toDisplayString(n.value[b].city)+", "+u.toDisplayString(n.value[b].country),1)):u.createCommentVNode("",!0)]),r.value.isSuperuser&&b!=i.value&&!h.value?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[l.value[b]?(u.openBlock(),u.createElementBlock("div",L2e,[u.createElementVNode("button",{onClick:y=>c(b),class:"rounded-md bg-blue-100 px-4 py-2 text-blue-800 transition duration-300 ease-in-out hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 dark:bg-blue-800 dark:text-blue-100 dark:hover:bg-blue-700"},u.toDisplayString(p.$t("unblock")),9,R2e)])):(u.openBlock(),u.createElementBlock("div",B2e,[u.createElementVNode("button",{onClick:y=>f(b),class:"rounded-md bg-red-100 px-4 py-2 text-red-800 transition duration-300 ease-in-out hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 dark:bg-red-800 dark:text-red-100 dark:hover:bg-red-700"},u.toDisplayString(p.$t("block")),9,P2e)]))],64)):u.createCommentVNode("",!0)]))),128))])]),u.createElementVNode("div",null,[u.createElementVNode("div",F2e,u.toDisplayString(p.$t("createdAt"))+" "+u.toDisplayString(u.unref(dr)(r.value.createdAt).format("lll")),1),u.createElementVNode("div",U2e,u.toDisplayString(p.$t("updatedAt"))+" "+u.toDisplayString(u.unref(dr)(r.value.updatedAt).format("lll")),1)]),r.value.type===u.unref(Lp).Group&&s.value.showLeaveRoomButton?(u.openBlock(),u.createElementBlock("button",{key:0,class:"w-full rounded-lg border p-2 text-gray-500 dark:text-gray-300",onClick:m[0]||(m[0]=b=>u.unref(e).dispatch("imkit/removeMembers",{roomId:r.value.id,uids:[i.value]}))},u.toDisplayString(p.$t("leaveGroup")),1)):u.createCommentVNode("",!0),a.value?(u.openBlock(),u.createElementBlock("iframe",{key:1,src:o.value,frameborder:"0"},null,8,$2e)):u.createCommentVNode("",!0)])]))}}),H2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAbUExURUdwTP///////////////////////////////xb9HQ4AAAAIdFJOUwCAvz5nE+qvkBVomAAAAT1JREFUWMPtl70LwjAQxatWXP0aHHUQOlZxcFRcHIuIriIOHV0ER6ui+bMl2ErvcmlCEKQxb+tLf5RqLu/V85yc7NKkBRS+3docuB1MrRjUM+JuPUD2CWFntM763G1g9wqpGl5nN25PBTsEWEVYv3O7J9gzBZbQWLOk2CD7V4M8ds3ctgT7WL08ltD3OMxhDvsFZjjdlh54Po0tFZhh4ng4/9iRu1XsPlEsbnH+vdMUp+UQp/AIhHQ3y26Y6AvXcayuaqnW3Yim6KqWzUfMDjRGV7VUU3HrFw5Objz6FCapaqn49U4PSxB2KTcmHuZamBgdVmPjGJ6eoRbmF205ObbB2CPSwZY6Xx105Ctj8WtPM3w3w1/SG0NqH/7ZVjacbksPPL8Qi2WYYeJIqpoq3yRVTZmmkqqmym4np5LrBeYgWB5+6q94AAAAAElFTkSuQmCC",z2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQUlEQVR4nO2bu2sUURSHz4CISlR8pNi4e24S151zx0ez2XMmD1gROxEVEcRHIYJYCPaCna9CBBULK/uUAUX0D1Ax4gpa2EUbg6CkMaiIyjWKSdjsIzs7z/vBVFvsnW9/587cc+8CWCwWi8ViscQL5cpu1PJQaZ5Ad3gk6vHEijwN7VCaZ5WWX+ZCkm/9mg9EPa54UK2uUFqe/5MzT9J3pfkgZB0kvrRYjpX0FyQpzyWlvqBMJ0mp6ipF8rqRnExLUsS3WpGTSUno8R6l5Wc7gjIjqVjkdUg81a6cBZKocgjSCmq+t1w5qZdUcP39ncpJraRcqbwZST4EJSh1khTJeJByUiUJtZzohpxUSCq4I32K+FM3BSVZkjPXwuiunPmSsOSPQlLALpdW/YsnICkMDpbXI/HTMAUh8QNIEoOhSuLZfvKrod6g646sNd29gpbzqPmq0nIbSS6i5tMDJdkVF0mo+VWr4wkCxywKleZHpv3ZJNJTqOUGUjkXjST+gVqueJ63MhQzWPJHkfhZ2wMl+aI0X8uVy2vCkoRa3iqqDIcixoAkZ5p1+JpPklLr18MKGknS8qRDOaZVcrfXq/ZAWKArhwP7ZYmnTTu1G0lCkveo/b0QAU67Xb4m8Z8Z8Hxu2BdqN0kk43nP3wgR4sRREmr+GKdlhBMnSUh8v9kTMpOSUMuMeWhAjHEik0T8eOv2oQIkAAc13wlKkiL+3PTppvmk+V5IEE6YkpKKY9ZggZUb8XRSSihCSfKy0bIkqThBlptZZEIKcYJLEs/mt/lbIG0Ui2O9ZrINJkV8HdIE7hzboLRMBjgXvYO0gAHL+XeZM4qQkq3jWt2b7LTcPDkFaU0OktT+zEkdTdx8AdKYHCSpmc87fgUgvglpTE7uv5yOXgGQ5DJkQM6yJSHxOUhpWS1FW+WGxPsgA8lZVj8JNX8NdXciJnJalpSYvXQMXk5Lksy5RciwnIaSzA5u7LuHfVTZ1OGE3CoLJu65E2HsQ8aT0yBJlbMQZ/rCS85iHLPNDXEmn/dXK80vIpCTDBTJ0aXkmGRB1kHPP27lNKDXq/YokjfzJE3a5NST5FaOocdHzL//uhpZi8VisVgsFosFYs5vllNJQwrDPNkAAAAASUVORK5CYII=",V2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVR4nO3WPQrCMBiA4W+yh/BcniABFyNIsrsnOPRS/kz1KlJ35SsdOkhtRaGp7wOB0pZ3CGlSEQAAAAAAAAAAJsC5sjA+bU2IZxviXUd77fTZrHrr3WFpQ7zakB6vhvGp0ndm0XOuLPpi3eiQmZx6T3SZvIt1opvce2J9ugwOhnjKvScmxHpEsM69J2OCNsRb7j35uyVtQ3Tf3BSm3pP2QK8GxKrVfr/IvdfQQ7sv+smPwpR7DZ0dXRL6HehG0WwWPh313uCZy6gHAAAAAAAAAID8wBNoenSqsgBAfQAAAABJRU5ErkJggg==",q2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO2bz2sUSRTHe6K7/jgIiyxozFQFHZ33OojoOO+NUchRA7q7Fw9ehM0ejR7iwt7UgwcNCOqfkL/Do7/BX+BlYTHir+hZYY3rzsjrnsiYVFfPD2e6OtQXGoaZ7p6qT7/36tWr6iDw8vLy8vLy8vLy8vLyck6l0pF1KqydVkB3NfAHjdzo4fhfI73SwHOjY7QnyLtGdta2KeDHPUJJOOizBp4Jcm050C843xwXgjxKIZ8ZAJz8QlJA9wYIqKGQrgTB8TVBXqSB3g8SUBPSkyLQyW0lGnEe1qDh6EEdwB8U8h0FNB2G4Y8eEFosFuhhsTw+7C0IbVZFD7qypMxdAQcY+4BOeUBoAYR8xwNCW+Cm9x4Q2t3MA0IPqNFLoPYWhB5Qw1sQ9i8X8i6GHlDDWxB6F2tkNR/zMQg9oIa3ILSVLHhRA99QQOeL5doxPcaodh/6KZiYWDsyUtsgZVxZi9NAJzTQ1Xidj/5b9S6mgB4qpD8iGJ32MaxuUcB/KeS/Vx0gBfx4tFw9HHwfFVYNIIX0rzz1zFc9HLWaFwq4ErigrGHo5Qfw/WGobg5ckVuWQ3dLJdqU1uZKpfKDgupRDXRNId9WQO8U8Kf4oHfynQaeVbtqB4MgGFodgID+KZUO/Zy20UKX+axA6MBdF+QauTa3gBTSR40H9trbSb8poOc9WOfzUaRf8wroT0sTC7IrRCPXv8N/1SXB7Gi4zxqOBn4qMSURDvBcH/5zrm1IWQMqhvyLpW0X+ma1QOecB6SQniQ9SYk5JreSeCXTjmgPZLqlvGxOUT4afq/bHo4bgICmjW3SE+vNAZluyn7KFohTps7H39HU0nkygZVrDefNp45u2QGiz0kJoQzLpk63wmlp/2QrpObnyeXnCSSjJaVtMM0Q0M3kJHBlniOuYulDBCkJzpIU8KOV9+UFazKZoXtdNHeiejQB6KuUBz1pg9NMF94Y21I+MO4eoJCOG9sDdN1idV/jSqeSWlLifYFnndrEqSMLqu0zd4RvJ1/Di1JF7BSO1JOkfNKpu8cNkpIkDh7Q9rCiEtpjnWelxZm0IG4GT29tgKazALS1Utlobg8vplpfm5DagbN0v8SbyMZGFSVeHlCiiuXx4UFDyo2LLbOkU3Gxqf+BO6mkag3SHcJpH5IlSLsmDTyb2JGQf+/6vkhTXQ3zrkntqh3sU6IokF53nCg6qKGoTLrSJR9lMtVwURp4xhR/4reDupus7hjbXzSmEHl8G7Ikb0EizZuCaQukQrQU3Ua5Q+BopFsG93rWdTE/a0mB3VgwA16MXcUcT5YBfS3nJiSf9W6mLU7JiZKr4ypkXrTPgQqyiSF+F79nOHWNdCl3o1Y7kgK7OXC36VJI87mPOWmKlp6BZ0x5UnKs4QW5JrejVdCdhiT7jacldEsmm9HoFi8JvY1WMIAvNzPkttzpCzIGFAwMLQUoAAAAAElFTkSuQmCC";var X8={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(It,function(){return function(r,n,i){n.prototype.isYesterday=function(){var s="YYYY-MM-DD",a=i().subtract(1,"day");return this.format(s)===a.format(s)}}})})(X8);var W2e=X8.exports;const G2e=on(W2e),Z8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UQU7CUBSF4bcQGbsVYeAajO90A9wHa5B32YhO3BEkRgYkxggbgDTRxBGa0Nse5XzJnXXQk79pSiIicsGa6fIW5hsUP5w88037bPrrcqnbH8d+XvtsYpFni0k2X//25fu69p0a83Hng1Hqy9DjTnwZrxp8rsZ8nEtdEdZd5VJvzh4oIv8TCH5U30+DuwaCqiocCQRVVTgSCKqqcCQQVFXhSCCoqsKRQFBVhSOBoKoKRwJBVRWOBIKqKhwJBFVVOBIIqqpwJBBUVeFIIKiqwpFAUFWFI4GgqgpHgvl+6Kpfl80/4geX+kwzuNTH8MH3s8V1Nn8feizM3zB/uEp9uJsuRzB/Qqm7/sfWXVu2t7EiIiKSunIEhOq3p0W+CNEAAAAASUVORK5CYII=",Y2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAEGAAABBgHN0zO8AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAoNJREFUOI2tlL9PU1EUxz/n9t1XBQelk7+ipChurp1k15TEmJLwQ9sGEwedjDvhD4AJB4mm5UdqpItC4o4TDO4oGgcjWwlGiLS3fcfh+ZpSCgnGM713bs7nfs+55xxRVf6neUcd5F/XbihmSFQHRDkPoMIWyCoSlAvD/kanOGlXmJ0nEfPctMIYYI64L0BYiHn26csM20cCs2+q103DvAeSQAV0RpEVqdmvAOq7pKBpkCdAQuGLENwujMQ3DwGz8ySM59ZDmLz1rZd7keFnx3IUOSvx+pyqDip80bpNzT2gQmtKMc9NR7Crm969VtijWboezdIV/Rdy7Fz57N0FeSfQZ6ybis4MRA/AGFDxrZebmCBoVVQ749ZqZ9xaq29igoCalwMqKPfHF6v9TaBihsJvnemUpkKvQm+7v5BjR1SfAyYwsaEmUFRvAUggy51qdpxJTFbCS0NG1IeXAGw8fM2hMqe7nVsDLgMIdAPkSy5qke971qaWMvzeD+xXH4dRLjYVhllBbQ85qcLTNoxRCRmRwh/ADfVdEuzHpQy/wd6MgnIl9wugOGJ72oGNmksioLDVVKgiHwCM6uBJFSKaDkGy2gQKwRIQqMjjfJGzh2Lgm8C3dv9oiXMgj4GGBI1yE1gY9jcQFoAEfr04OXlwhv1dm/J3barVNzmJ8anPAT0K86/G4p9CwX9H72GZnrpz6wJ9IrKsVS9byLHTKcvREudCmKaBzZi1qWhJHFgO+VL1mmLeC/QB26I6IzFZ2Q/CdjplXFIbmlaRJ0APsAnBnY7LIbLsPAlj3RTKfY5ZXwpznrXPjl1frTa+WO0Px0kHRLmggipsGWRVgkY5qlm7HQn8V/sDpc0NjXW+Pa0AAAAASUVORK5CYII=",Q2e={key:0},K2e={class:"mb-3 flex items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},X2e=u.createElementVNode("div",null,"",-1),Z2e={class:"mb-1 flex items-center justify-between text-xl text-gray-700 dark:text-gray-300"},J2e=["placeholder"],swe={key:0,class:"mt-1 flex flex-wrap gap-2"},awe=["onClick"],owe={class:"overflow-hidden overflow-ellipsis whitespace-nowrap"},eye={class:"mb-1 mt-3 text-base"},tye={class:"divide-y rounded bg-gray-100 dark:bg-zinc-800"},rye={class:"grid grid-cols-6 gap-3 p-4"},nye=["onClick"],iye={class:"flex items-center justify-center gap-3 rounded p-3"},sye=["placeholder"],aye={class:"mt-5 flex gap-3"},oye=["disabled"],lye={key:1},uye={class:"mb-1 mb-5 flex min-w-[380px] items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},cye=u.createElementVNode("div",null,"",-1),dye={key:0,class:"mt-1 flex flex-wrap gap-2"},fye=["onClick"],hye={class:"flex items-center gap-3"},pye={class:"w-64 overflow-hidden truncate overflow-ellipsis whitespace-nowrap text-base text-black"},mye={class:"flex items-center gap-3"},gye=["onClick"],bye=["onClick"],yye={class:"mt-3"},_ye=u.createElementVNode("img",{width:"20",height:"20",src:Y2e},null,-1),vye={class:"text-[#60A5FA]"},Tye={key:2},Eye={class:"mb-2 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Aye=u.defineComponent({__name:"TagsModal",props:{roomId:{}},setup(t){const e=kn(),r=t,n=nr(),i=u.ref([]),s=u.ref({}),a=u.ref([]),o=u.ref({}),l=u.ref(""),d=u.ref("#60a5fa"),f=u.ref(!0),c=u.ref("edit"),h=u.ref(""),p=u.ref(!1),m=["#f43f5e","#f97316","#f59e0b","#84cc16","#10b981","#06b6d4","#0ea5e9","#6366f1","#8b5cf6","#6b7280","#64748B","#78716c"],b=P=>{n.dispatch("imkit/updateRoomPrefs",{roomId:P,prefs:{tags:i.value,tagColors:s.value}})},y=n.state.imkit.rooms[r.roomId];y.pref&&(i.value=[...y.pref.tags],a.value=[...y.pref.tags],s.value={...y.pref.tagColors},o.value={...y.pref.tagColors},i.value.length>0&&(c.value="list",p.value=!1));const _=()=>{l.value&&(i.value.length>=5||(i.value.includes(l.value)||i.value.push(l.value),d.value.startsWith("#")&&(s.value[l.value]=d.value,l.value="")))},x=()=>{i.value=i.value.filter(P=>P!==h.value),delete s.value[h.value]},C=P=>{h.value=P,c.value="confirmDelete"},k=P=>{l.value=P,d.value=s.value[P]},S=()=>{d.value=d.value.replace(/[^#0-9a-fA-F]/g,""),d.value.charAt(0)!=="#"&&(d.value="#"+d.value)},w=()=>{c.value="edit",f.value=!0,l.value="",d.value="#60a5fa"},L=P=>{c.value="edit",f.value=!1,l.value=P,d.value=s.value[P]},D=()=>{c.value="list",p.value=!1},I=()=>{p.value=!0};return(P,z)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[c.value=="edit"?(u.openBlock(),u.createElementBlock("div",Q2e,[u.createElementVNode("div",K2e,[X2e,u.createTextVNode(" "+u.toDisplayString(f.value===!0?P.$t("createTag"):P.$t("editTag"))+" ",1),u.createElementVNode("button",{class:"flex items-center justify-center",onClick:z[0]||(z[0]=U=>u.unref(e).closeAll())},[u.createVNode(Ul,{class:"h-7 w-7"})])]),u.createElementVNode("div",Z2e,[u.withDirectives(u.createElementVNode("input",{type:"text",class:"w-32 grow rounded-md bg-gray-100 p-2 text-base placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:f.value===!0?P.$t("createTag"):P.$t("editTag"),onInput:z[1]||(z[1]=U=>I()),"onUpdate:modelValue":z[2]||(z[2]=U=>l.value=U)},null,40,J2e),[[u.vModelText,l.value]])]),(i.value.length>0,u.createCommentVNode("",!0)),u.createElementVNode("div",null,[u.createElementVNode("div",eye,u.toDisplayString(P.$t("chooseColor")),1),u.createElementVNode("div",tye,[u.createElementVNode("div",rye,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(m,U=>u.createElementVNode("div",{key:U,class:"h-8 w-12 rounded",style:u.normalizeStyle({backgroundColor:U}),onClick:$=>(d.value=U,I())},null,12,nye)),64))]),u.createElementVNode("div",iye,[u.createElementVNode("div",{class:"h-8 w-12 rounded-md bg-white p-2 text-base",style:u.normalizeStyle({backgroundColor:d.value})},"  ",4),u.withDirectives(u.createElementVNode("input",{type:"text",class:"w-50 h-8 grow rounded-md bg-gray-100 p-2 text-base placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:P.$t("inputTagPlaceholder"),maxlength:"7",pattern:"^#[0-9a-fA-F]{6}$","onUpdate:modelValue":z[4]||(z[4]=U=>d.value=U),onInput:z[5]||(z[5]=U=>(I(),S()))},null,40,sye),[[u.vModelText,d.value]])])])]),u.createElementVNode("div",aye,[u.createElementVNode("button",{class:"h-10 grow rounded-lg border bg-white text-base text-black dark:bg-transparent dark:text-white",onClick:z[6]||(z[6]=U=>D())},u.toDisplayString(P.$t("cancel")),1),u.createElementVNode("button",{class:"h-10 w-[40%] grow rounded-lg bg-blue-400 text-base text-white disabled:cursor-not-allowed disabled:bg-gray-200 dark:disabled:bg-gray-700 dark:disabled:text-gray-500",disabled:!l.value||!d.value||!p.value,onClick:z[7]||(z[7]=()=>{_(),b(P.roomId),D()})},u.toDisplayString(f.value==!0?P.$t("create"):P.$t("save")),9,oye)])])):u.createCommentVNode("",!0),c.value=="list"?(u.openBlock(),u.createElementBlock("div",lye,[u.createElementVNode("div",uye,[cye,u.createTextVNode(" "+u.toDisplayString(P.$t("tag"))+" ",1),u.createElementVNode("button",{class:"flex items-center justify-center",onClick:z[8]||(z[8]=U=>u.unref(e).closeAll())},[u.createVNode(Ul,{class:"h-7 w-7"})])]),i.value.length>0?(u.openBlock(),u.createElementBlock("div",dye,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value,U=>(u.openBlock(),u.createElementBlock("div",{key:U,class:"flex min-w-[380px] items-center justify-between gap-1 overflow-hidden rounded-md bg-gray-200 p-3 text-base text-white dark:bg-zinc-600",onClick:$=>k(U)},[u.createElementVNode("div",hye,[u.createElementVNode("div",{class:"circle-shadow h-4 w-4 rounded-full",style:u.normalizeStyle({backgroundColor:s.value[U]})},null,4),u.createElementVNode("div",pye,u.toDisplayString(U),1)]),u.createElementVNode("div",mye,[u.createElementVNode("img",{width:"20",height:"20",class:"cursor-pointer",onClick:u.withModifiers($=>L(U),["stop"]),src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,8,gye),u.createElementVNode("img",{width:"20",height:"20",src:Z8,class:"cursor-pointer",onClick:u.withModifiers($=>C(U),["stop"])},null,8,bye)])],8,fye))),128))])):u.createCommentVNode("",!0),u.createElementVNode("div",yye,[u.createElementVNode("div",{class:"flex cursor-pointer gap-2",onClick:z[9]||(z[9]=U=>w())},[_ye,u.createElementVNode("div",vye,u.toDisplayString(P.$t("createTag")),1)])])])):u.createCommentVNode("",!0),c.value=="confirmDelete"?(u.openBlock(),u.createElementBlock("div",Tye,[u.createElementVNode("div",Eye,[u.createTextVNode(u.toDisplayString(P.$t("confirmDeleteTag"))+" ",1),u.createElementVNode("button",{class:"ml-2 flex items-center justify-center",onClick:z[10]||(z[10]=U=>D())},[u.createVNode(Ul,{class:"h-7 w-7"})])]),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) mt-3 h-10 w-full grow rounded-lg bg-blue-400 text-base text-white",onClick:z[11]||(z[11]=U=>(x(),b(P.roomId),D()))},u.toDisplayString(P.$t("confirm")),1)])):u.createCommentVNode("",!0)]),_:1}))}}),J8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVR4nO2asUrEQBCGp7PxEbSx8VnEFzG7Bp05sJ05rS18jDsEX8Pn8CxV9ArbkVVEUEJyJrhZ838wXYr92ORLM0QAAAAAGBWVXOwG0evIuo5i3mUC2yqwXYag21SerD12Ff0xrLd1fbVFpRDSzf5W9vO2xZRKIW7wGjcL62t1qntUArGnbPZhXQe2m6OT8/1pCH+JP6UeTUf449NaTkzYXiYlHMUcwgCA/0U1mx9G0fvif0lsq+PZ/KBVOD2Y+7CDDetdq3D2Qw48BOFv5L4R3LDglXZ8w4JoOSrdRO6qotKCSjsqLai0o9JN5K4qKi2otKPSgko7Kt1E7qqi0oJKOyotfSrN/ZdaRjOsz63CaSEk+0GHm0WrcNp+SQshIzhsrwmiD/WZ7tAGq4fLtCNRnuj7mRedZQEAAABAf8UbgvvRyv0JTvIAAAAASUVORK5CYII=",xye={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},Cye=["onClick"],wye=u.createElementVNode("img",{width:"30",height:"30",src:J8},null,-1),Sye=u.defineComponent({__name:"AddToFolderModal",props:{roomId:{}},setup(t){const e=kn(),r=t,n=nr(),i=u.computed(()=>n.state.imkit.sortedFolderIds.map(a=>n.state.imkit.folders[a]).filter(a=>a)),s=a=>{r.roomId&&n.dispatch("imkit/addRoomToFolder",{roomId:r.roomId,folderId:a})};return(a,o)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px] relative max-h-80vh overflow-y-auto","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",xye,[u.createTextVNode(u.toDisplayString(a.$t("addToFolder"))+" ",1),u.createElementVNode("button",{class:"flex items-center justify-center",onClick:o[0]||(o[0]=l=>u.unref(e).closeAll())},[u.createVNode(Ul,{class:"h-7 w-7"})])]),(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(i.value,l=>(u.openBlock(),u.createElementBlock("div",{key:l.id,class:"group relative flex cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:()=>{s(l.id),u.unref(e).closeAll()}},[wye,u.createTextVNode(" "+u.toDisplayString(l.name),1)],8,Cye))),128))]),_:1}))}}),kye={},Iye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",class:"fill-slate-700 dark:fill-slate-300"},Dye=[u.createElementVNode("path",{d:"M15.478,15.48c-0.976,0.976-1.468,2.25-1.468,3.528c0,1.278,0.492,2.553,1.468,3.528c1.952,1.952,5.106,1.951,7.058-0.001s1.952-5.106,0-7.058C20.586,13.529,17.431,13.529,15.478,15.48z M20.011,17.001v1h1c0.552,0,1,0.448,1,1v0c0,0.552-0.448,1-1,1h-1v1c0,0.552-0.448,1-1,1h0c-0.552,0-1-0.448-1-1v-1h-1c-0.552,0-1-0.448-1-1v0c0-0.552,0.448-1,1-1h1v-1c0-0.552,0.448-1,1-1h0C19.563,16.002,20.011,16.449,20.011,17.001z"},null,-1),u.createElementVNode("path",{d:"M12,19c0-3.866,3.134-7,7-7c1.075,0,2.09,0.25,3,0.683h0V8c0-1.1-0.9-2-2-2h-7.172c-0.53,0-1.039-0.211-1.414-0.586l-0.828-0.828C10.211,4.211,9.702,4,9.172,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h8.08C12.033,19.673,12,19.34,12,19z"},null,-1)];function Nye(t,e){return u.openBlock(),u.createElementBlock("svg",Iye,Dye)}const eO=Sr(kye,[["render",Nye]]),Mye={},Oye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},Lye=[u.createElementVNode("path",{id:"XMLID_11_",style:{fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:"M20,4H4"},null,-1),u.createElementVNode("path",{d:"M15,3v1H9V3l0.429-0.429C9.795,2.205,10.29,2,10.807,2h2.386c0.517,0,1.012,0.205,1.377,0.571L15,3z"},null,-1),u.createElementVNode("path",{d:"M4.366,7l1.527,13.264C6.025,21.254,6.877,22,7.875,22h8.249c0.998,0,1.85-0.746,1.983-1.745L19.634,7H4.366z"},null,-1)];function Rye(t,e){return u.openBlock(),u.createElementBlock("svg",Oye,Lye)}const Bye=Sr(Mye,[["render",Rye]]),Pye={},Fye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Uye=[u.createStaticVNode('<g id="Rounded" class="fill-slate-700 dark:fill-slate-300"><g><path d="M10.69,9.313C9.693,9.801,9,10.815,9,12c0,1.657,1.343,3,3,3c1.185,0,2.199-0.693,2.687-1.69L10.69,9.313z"></path></g><g><path d="M16.155,14.779c-1.033,1.542-2.899,2.478-4.956,2.159c-2.098-0.326-3.811-2.039-4.137-4.137C6.743,10.744,7.68,8.878,9.221,7.845L6.732,5.355c-2.905,1.621-4.677,4.296-5.46,5.706c-0.332,0.598-0.321,1.318,0.004,1.92C2.431,15.119,5.751,20,12,20c2.952,0,5.219-1.092,6.91-2.467L16.155,14.779z"></path><path d="M11.278,7.073C11.515,7.038,11.753,7,12,7c2.761,0,5,2.239,5,5c0,0.247-0.038,0.485-0.073,0.722l3.43,3.43c1.074-1.192,1.86-2.401,2.33-3.205c0.354-0.604,0.354-1.345,0.019-1.96C21.537,8.834,18.219,4,12,4c-1.212,0-2.295,0.199-3.284,0.511L11.278,7.073z"></path></g><line class="stroke-slate-700 dark:stroke-slate-300" style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="4" y1="4" x2="20" y2="20"></line></g>',1)];function $ye(t,e){return u.openBlock(),u.createElementBlock("svg",Fye,Uye)}const jye=Sr(Pye,[["render",$ye]]),Hye={},zye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 30 30",class:"fill-slate-700 dark:fill-slate-300"},Vye=[u.createElementVNode("path",{d:"M29.399,13.199l-4.5-5.999C24.337,6.448,23.439,6,22.5,6H4C2.897,6,2,6.897,2,8v14c0,1.103,0.897,2,2,2h18.5c0.939,0,1.837-0.448,2.399-1.2l4.5-5.999C30.195,15.74,30.195,14.26,29.399,13.199z M25,16.5c-0.828,0-1.5-0.672-1.5-1.5c0-0.828,0.672-1.5,1.5-1.5s1.5,0.672,1.5,1.5C26.5,15.828,25.828,16.5,25,16.5z"},null,-1)];function qye(t,e){return u.openBlock(),u.createElementBlock("svg",zye,Vye)}const Wye=Sr(Hye,[["render",qye]]),Gye={},Yye={width:"512",height:"512",viewBox:"0 0 512 512",class:"fill-slate-700 dark:fill-slate-300",xmlns:"http://www.w3.org/2000/svg"},Qye=[u.createElementVNode("path",{d:"M138.24 351.289L160.853 373.618L50.9156 483.413C50.9156 483.413 41 494 29.5 483C18 472 28.4445 461.084 28.4445 461.084L138.24 351.289Z"},null,-1),u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M329.102 372.196C330.43 377.518 330.356 383.094 328.885 388.378C327.414 393.663 324.598 398.476 320.711 402.347L278.044 445.013L66.56 234.667L109.227 191.289C113.128 187.45 117.948 184.677 123.226 183.232C128.505 181.788 134.066 181.722 139.378 183.04L219.022 202.951L299.378 122.738L388.978 212.48L308.764 292.551C308.764 292.551 322.133 344.178 329.102 372.196Z"},null,-1),u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M483.556 171.947C483.556 171.947 472.32 183.04 461.227 194.276C455.618 199.804 448.183 203.091 440.32 203.52C435.912 203.734 431.509 203.022 427.394 201.43C423.278 199.838 419.542 197.401 416.427 194.276L317.724 95.7156C313.909 91.946 311.133 87.2553 309.662 82.0976C308.192 76.9399 308.079 71.49 309.333 66.2756C310.582 60.4502 313.497 55.1136 317.724 50.9156C328.818 39.68 340.053 28.4445 340.053 28.4445L483.556 171.947Z"},null,-1)];function Kye(t,e){return u.openBlock(),u.createElementBlock("svg",Yye,Qye)}const Xye=Sr(Gye,[["render",Kye]]),Zye={},Jye={width:"512",height:"512",viewBox:"0 0 512 512",class:"fill-slate-700 dark:fill-slate-300",xmlns:"http://www.w3.org/2000/svg"},e_e=[u.createStaticVNode('<path d="M138.24 351.289L160.854 373.618L50.9156 483.413C50.9156 483.413 41 494 29.5 483C18 472 28.4445 461.084 28.4445 461.084L138.24 351.289Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M329.102 372.196C330.43 377.518 330.356 383.094 328.885 388.378C327.414 393.663 324.598 398.476 320.711 402.347L278.044 445.013L66.56 234.667L109.227 191.289C113.128 187.45 117.948 184.677 123.226 183.232C128.505 181.788 134.066 181.722 139.378 183.04L219.022 202.951L299.378 122.738L388.978 212.48L308.764 292.551C308.764 292.551 322.133 344.178 329.102 372.196Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M483.556 171.947C483.556 171.947 472.32 183.04 461.227 194.276C455.618 199.804 448.183 203.091 440.32 203.52C435.912 203.734 431.509 203.022 427.394 201.43C423.278 199.838 419.542 197.401 416.427 194.276L317.724 95.7156C313.909 91.946 311.133 87.2553 309.662 82.0976C308.192 76.9399 308.079 71.49 309.333 66.2756C310.582 60.4502 313.497 55.1136 317.724 50.9156C328.818 39.68 340.053 28.4445 340.053 28.4445L483.556 171.947Z"></path><g clip-path="url(#clip0_4859_1096)"><path d="M463.188 394.812L378.812 479.188" class="stroke-slate-700 dark:stroke-slate-300" stroke-width="30" stroke-linecap="round" stroke-linejoin="round"></path><path d="M463.188 479.188L378.812 394.812" class="stroke-slate-700 dark:stroke-slate-300" stroke-width="30" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_4859_1096"><rect width="150" height="150" fill="white" transform="translate(346 362)"></rect></clipPath></defs>',5)];function t_e(t,e){return u.openBlock(),u.createElementBlock("svg",Jye,e_e)}const r_e=Sr(Zye,[["render",t_e]]),n_e={},i_e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},s_e=[u.createElementVNode("line",{"stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",x1:"32",y1:"20",x2:"42",y2:"30"},null,-1),u.createElementVNode("line",{"stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",x1:"42",y1:"20",x2:"32",y2:"30"},null,-1),u.createElementVNode("path",{d:"M7.01,31.754V18.247c0-0.658,0.143-1.494,0.477-2.287H3c-1.676,0-3.04,1.364-3.04,3.04v12c0,1.676,1.364,3.04,3.04,3.04h4.481C7.151,33.253,7.01,32.415,7.01,31.754z"},null,-1),u.createElementVNode("path",{d:"M24.16,46.992c1.667,0,2.831-1.514,2.831-3.678V6.327c0-2.278-1.456-3.316-2.808-3.316c-0.91,0-1.838,0.433-2.607,1.213l-11.631,11.6c-0.64,0.566-0.934,1.648-0.934,2.422v13.507c0,0.767,0.293,1.841,0.881,2.358L21.51,45.695C22.565,46.768,23.533,46.992,24.16,46.992z"},null,-1)];function a_e(t,e){return u.openBlock(),u.createElementBlock("svg",i_e,s_e)}const o_e=Sr(n_e,[["render",a_e]]),l_e={},u_e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},c_e=[u.createStaticVNode('<path d="M5,16c-1.654,0-3,1.347-3,3.001V31c0,1.654,1.346,3,3,3h5V16H5z"></path><g><path d="M46,25c0,5.508-2.992,10.318-7.428,12.927l1.124,1.654C44.66,36.609,48,31.194,48,25s-3.34-11.609-8.304-14.581l-1.124,1.654C43.008,14.682,46,19.492,46,25z"></path><path d="M42,25c0-4.135-2.295-7.74-5.676-9.619l-1.13,1.662C38.049,18.554,40,21.552,40,25s-1.951,6.446-4.806,7.957l1.13,1.662C39.705,32.74,42,29.135,42,25z"></path><path d="M31.753,27.893l1.169,1.721C34.727,28.858,36,27.076,36,25s-1.273-3.858-3.078-4.613l-1.169,1.721C33.042,22.444,34,23.607,34,25S33.042,27.556,31.753,27.893z"></path></g><path d="M26.607,2c-0.663,0-1.303,0.279-1.753,0.765L12,16v18l12.854,13.234C25.305,47.721,25.944,48,26.607,48C27.927,48,29,46.927,29,45.607V4.393C29,3.073,27.927,2,26.607,2z"></path>',3)];function d_e(t,e){return u.openBlock(),u.createElementBlock("svg",u_e,c_e)}const f_e=Sr(l_e,[["render",d_e]]),h_e={class:"relative flex items-center justify-center gap-1.5"},p_e={class:"relative !h-[50px] !w-[50px] flex-shrink-0"},m_e={key:2,class:"absolute -bottom-1 -right-1 h-5 w-5 rounded-lg bg-slate-200 p-[3px]",src:z2e},g_e={class:"flex w-0 min-w-0 grow flex-col text-left"},b_e={class:"flex justify-between gap-2"},y_e={class:"flex items-center justify-center gap-1"},__e=["innerHTML"],v_e={key:0,width:"14",height:"14",class:"mt-0.5",src:"https://img.icons8.com/ios-filled/50/4b5563/mute--v1.png",alt:"mute--v1"},T_e={class:"whitespace-nowrap text-xs text-gray-500 dark:text-gray-300"},E_e={class:"text-xs text-gray-500"},A_e=["innerHTML"],x_e={key:0,class:"mt-1 flex flex-wrap gap-1"},C_e=[u.createElementVNode("img",{width:"20",height:"20",src:V2e},null,-1)],w_e={key:0,class:"absolute right-3 top-[calc(50%_+_28px)] z-10 flex flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},S_e=u.createElementVNode("img",{width:"24",height:"24",src:q2e},null,-1),k_e=u.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){dr.extend(Fv),dr.extend(G2e);const e=t,r=u.computed(()=>i.state.imkit.config.styles),n=u.computed(()=>{let I=dr(e.source.updatedAt);return I.isSame(dr(),"day")?I.format("H:mm"):I.isYesterday()?"Yesterday":I.isSame(dr(),"week")?I.format("dddd"):I.isSame(dr(),"year")?I.format("MMM D"):I.format("ll")}),i=nr(),s=u.computed(()=>i.state.imkit.rooms[e.source.id]),a=u.computed(()=>i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===Di.RoomName?s.value.displayName.replaceAll(i.state.imkit.searchKeyword,`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`):s.value.displayName),o=u.computed(()=>{var I;return i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===Di.RoomMember?[`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`,...s.value.memberIds.map(P=>i.state.imkit.users[P]).filter(P=>P).map(P=>P.nickname||P.id).filter(P=>P!==i.state.imkit.searchKeyword)].join(", "):(I=s.value.lastMessage)==null?void 0:I.string}),l=u.computed(()=>i.state.imkit.selectedRoomId===e.source.id),d=u.computed(()=>!!i.state.imkit.roomIdsInFolders[e.source.id]),f=u.computed(()=>i.state.imkit.actionMenuRoomId),c=u.computed(()=>i.state.imkit.searchKeyword),h=u.computed(()=>{var I;return((I=s.value.pref)==null?void 0:I.sticky)??!1}),p=u.computed(()=>i.state.imkit.sortedFolderIds),m=()=>{const{open:I}=Ki({component:Aye,attrs:{roomId:e.source.id}});I(),i.commit("imkit/setState",{actionMenuRoomId:""})},b=()=>{f.value===e.source.id?i.commit("imkit/setState",{actionMenuRoomId:""}):i.commit("imkit/setState",{actionMenuRoomId:e.source.id})},y=()=>{i.commit("imkit/setState",{selectedRoomId:e.source.id,actionMenuRoomId:""})},_=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{sticky:!h.value}})},x=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{hidden:!0}})},C=async()=>{await i.dispatch("imkit/removeRoom",e.source.id)},k=async()=>{await i.dispatch("imkit/removeRoomFromFolder",e.source.id)},S=async()=>{const{open:I}=Ki({component:Sye,attrs:{roomId:e.source.id}});I()},w=u.ref(null);ZO(w,()=>{b()},{modifiers:{prevent:!0}});const D=u.computed(()=>i.getters["imkit/roomsInSelectedFolder"]);return(I,P)=>{var z,U;return u.openBlock(),u.createElementBlock("div",h_e,[d.value&&!c.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(["absolute left-2 h-[120%] w-1 flex-shrink-0 rounded-full bg-slate-500",{"mt-4 !h-full":D.value[0].id===e.source.id,"mb-4 !h-full":D.value[D.value.length-1].id===e.source.id}])},null,2)):u.createCommentVNode("",!0),u.createElementVNode("div",{ref_key:"roomCellRef",ref:w,class:u.normalizeClass(["group relative flex min-h-[66px] grow cursor-pointer select-none items-center gap-3 rounded-lg p-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700":l.value,"ml-4":d.value&&!c.value}]),onClick:y},[u.createElementVNode("div",p_e,[s.value.avatars.length===1?(u.openBlock(),u.createBlock(gn,{key:0,url:s.value.avatars[0].url,name:s.value.avatars[0].name,class:"relative"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[u.createVNode(gn,{url:s.value.avatars[1].url,name:s.value.avatars[1].name,class:"absolute right-0 top-0 !h-9 !w-9 text-base"},null,8,["url","name"]),u.createVNode(gn,{url:s.value.avatars[0].url,name:s.value.avatars[0].name,class:u.normalizeClass(["absolute bottom-0 left-0 !h-[38px] !w-[38px] border-2 border-white text-base group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":l.value}])},null,8,["url","name","class"])],64)),h.value?(u.openBlock(),u.createElementBlock("img",m_e)):u.createCommentVNode("",!0)]),u.createElementVNode("div",g_e,[u.createElementVNode("div",b_e,[u.createElementVNode("div",y_e,[u.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100",innerHTML:a.value},null,8,__e),s.value.muted?(u.openBlock(),u.createElementBlock("img",v_e)):u.createCommentVNode("",!0)]),u.createElementVNode("div",T_e,u.toDisplayString(n.value),1)]),u.createElementVNode("div",E_e,u.toDisplayString(s.value.description),1),u.createElementVNode("div",{class:u.normalizeClass(["flex items-center justify-between pt-1",{"text-gray-800":s.value.numberOfUnread>0}])},[u.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",innerHTML:o.value},null,8,A_e),s.value.numberOfUnread>0&&!l.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 px-1.5 text-center text-xs font-semibold leading-none text-white",style:u.normalizeStyle(r.value.roomListUnreadBadge)},u.toDisplayString(s.value.numberOfUnread>99?"99+":s.value.numberOfUnread),5)):u.createCommentVNode("",!0)],2),(z=s.value.pref)!=null&&z.tags?(u.openBlock(),u.createElementBlock("div",x_e,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(((U=s.value.pref)==null?void 0:U.tags)??[],$=>{var H;return u.openBlock(),u.createElementBlock("div",{key:$,class:"overflow-hidden overflow-ellipsis whitespace-nowrap rounded-md bg-blue-400 px-1 py-0.5 text-xs text-white",style:u.normalizeStyle({backgroundColor:(((H=s.value.pref)==null?void 0:H.tagColors)||{})[$]})},u.toDisplayString($),5)}),128))])):u.createCommentVNode("",!0)]),u.createElementVNode("div",{class:u.normalizeClass(["absolute right-4 hidden h-8 w-8 items-center justify-center rounded-full bg-white shadow-md hover:scale-110 hover:transform hover:transition dark:bg-zinc-800 sm:group-hover:flex",{"!flex":f.value==I.source.id}]),onClick:u.withModifiers(b,["stop"])},C_e,2),f.value==I.source.id?u.withDirectives((u.openBlock(),u.createElementBlock("div",w_e,[u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(m,["stop"])},[u.createVNode(Wye,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(I.$t("tag")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(_,["stop"])},[h.value?(u.openBlock(),u.createBlock(r_e,{key:0,class:"h-6 w-6"})):(u.openBlock(),u.createBlock(Xye,{key:1,class:"h-6 w-6"})),u.createTextVNode(" "+u.toDisplayString(h.value?I.$t("unpin"):I.$t("pin")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(x,["stop"])},[u.createVNode(jye,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(I.$t("hide")),1)]),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(C,["stop"])},[u.createVNode(Bye,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(I.$t("delete")),1)]),d.value?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(k,["stop"])},[S_e,u.createTextVNode(" "+u.toDisplayString(I.$t("removeFromFolder")),1)])):p.value.length>0?(u.openBlock(),u.createElementBlock("div",{key:1,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:u.withModifiers(S,["stop"])},[u.createVNode(eO,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(I.$t("addToFolder")),1)])):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:P[0]||(P[0]=u.withModifiers(()=>{u.unref(i).commit("imkit/setState",{actionMenuRoomId:""}),u.unref(i).dispatch("imkit/toggleNotification",e.source.id)},["stop"]))},[s.value.muted?(u.openBlock(),u.createBlock(f_e,{key:0,class:"h-6 w-6"})):(u.openBlock(),u.createBlock(o_e,{key:1,class:"h-6 w-6"})),u.createTextVNode(" "+u.toDisplayString(s.value.muted?I.$t(""):I.$t("")),1)])])),[[u.unref(Hf),()=>{u.unref(i).commit("imkit/setState",{actionMenuRoomId:""})}]]):u.createCommentVNode("",!0)],2)])}}}),I_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVR4nO2Zzy4EQRCH2wUHJ3F1IeLIwZ9n4B1wE9u9i6rhXLWLo+DGKwiReAESBw/AGxAnJEhcSFZmiUhmd3uYpvVMfcnvXl9qZnp+M0oJgiAIgvAvKeFav0Y6MECPBrmeJhr4SgNvak09KjxZvksrmhBHPq9UdrpUKOh4sz+U/SJNKhTMNy7j1sL0XFqmARUCJqPsnwfoUQMfLSzVhoshjJ/i9/HzpzjC2LiV9gsmzA+FEjbIdRG24XtDsmGUS7ou9zBmeGgJghAWRNRpkHfil2/fZ6izAN1roO3YLSHckPU94C9FI28lhfO02YQw3RZMmO+aCPNhjjd8kBAuAc3mVjjimYQwAPVq4Bffw7kPvc4j9TU9mgzSae62C3zS8iw2SJg74YihpXBlZW3Q94Cus7haG2op/LHlS99DOgvwRVvZhjDwhvdBHUUDrVuFdVSd9D2oq5SBJqzCSqkOg3Tte9jsoZvYJY2w0sB7ORDeTSX7LkzT/gfOlnJUnUotHP/IdvG71GOe5oi61XcIuUw0LQs2Qi4TTcuCjXDLRJuyYCPEMtG2LNgIsUy0LQs2QiwT1rJgwwCf+ZZIHeAzlZVSVB2PzzXvMvY8mWUaUy7QSzRqkI7/5ZfNxkx0XIbaiBNZQRAEQRDUb/EGC4sae12sFiYAAAAASUVORK5CYII=",D_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO2aS2gTURSG4/sBilZxI1grghtBaF0VxKXgq6uKgiiIpJ17k2bOGUVX/neS4mPhQtSFuhUXxZVEW3HlxlU3uqgKrlTEF/jAR+ujlZvpxFaCySQzmUkyB84mZM78H+e/987cuYlEHHHE0TJxGFicsnIdhpXtikJqLVqT76DCtHsEYUSQmpCspqKUgjEuWQ0bpr2nZlApT68SrO6FDVUxPGGECG3Vw5J6GjaEd2j1uCpo0UCdLZHD3mBNuycComtKT2NasrobtuBaUxDuVASrp/kozsaegRnjABaWBTZMbAhbrF/Zl8H68nY20Rm2UN/SRGf5DlvZrtCF+pSGle2Kgf+NuMMcvjVjS3MLjGHBeG+QvV0SRpseWDDGU6a9Tes7cvzcMsl41dTABuGQq08STjV1hwVh0NWWYrtXMiabFlgwbgKYW+isia2S1VdPzrAaCZgwmkxiqdYkrFy7YLz2WsNoHGC87KPBtcVJitTDauoYDQFM+Jyi7Batpbd3aJ5k3Kq2lhF1YEHqt2TsdbVIVhdrqWcEBSxYffIJOuPqEIRUrfWMIIAF421/JrtJkjrhZcko0d1rfztr7xCkfkYUWB0oCjXR79jSKyxGAMzXNfotbPbLMUZAwB8MRncRmrBfMn5UXgNjmQxW6GuTjNWC8MwP2MCApdOhL9qGbg1B2CkY38peS+qdIGwsbh4yHvgFGyiwdMbghH70c+voh31J+Pgf2O8znDFHEq77CRs4sHTs+Usyjs7aECT1psT/JlOEg0VHsLL9hq0TsCrASMYxt54zg+P57O5CFWFN7Ktldo8AsHIszjjr1hwYwDrJeDL9+5C2cOFejG5t7SBg6w4sncnskvu2029hjWRcdT9g64/Zeg0PCjYUYOnY90YyeWXBzHuk01guGI+ChA0PmAvQeaLzS4ovBIR80LDhAnNhGbqvOytZXa4HbPjAXFirX9QLNhLAss5pxMAlIu4wN7mlZat9EE9ZuY7QhfqUwsq1lwVOpy8smj7ON9XQSep7RYdaCrZmNdz4wMgnKg19qCt0wTWmYdm7El5Cb6y1RHfd0Ac09UHN0MV7TowZJ8+sTFQTRGhrqPFMyFcNOzMkY7c+uxjJ2dvZMbntecxWEnrJ0sf5wj7676bWojVVJD6OOOJINEP8AR99+lKlJ3IWAAAAAElFTkSuQmCC",N_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2aTU4CQRCFm5W6N7jSiEeAgxjkAO6UmQakaw5QPRCXLlzCRVRAEzd6CfUSSoIrTfET40wbZpA4hdSX1LI7703PvCbhKSUIwtpgzMWW18QDL2iVOEwtaBdI07J95rQJK77Bnm/suwb7wWmmmm60Ccuk9VdOG43zHW3sfdamkg/eVQPML2zWN/iSvYnU87yI6dxqnWz8pFO93tqEFddGvsE3H2xfA3Z9YztZzlgD2D5pcpqefNPJoICKmQV88KC9q5hBmkib43CuE21wjLjpSONXjmZnNBq4Fz1p8lCvX27MXUz3rONp9RRztMFBVHctaBfmL2xi0RECXcUc0hjT3cTi3IX0CyZ+wrajmDMJsu+6vaBVmrtQDIOcMEvklQb5ht1IaIGEFksktEBCy42EFkhosURCCyS03EhogYQWSyS0QELLjYQWSGixREILJLTcSGiBhBZLJLRAQsvN2oWWXrc/xGtBuxAvtNi+Yo5v7G1U9+kZ7q9PqQVwlKjUQoy7i47aEm2sOJoF++joal0l3sQL8OiHlttw0pbhUUybNneGzhJdMzxM8+ByVN9bfiXwj8bgIPWrUg0wT0XNzMWnHN/g0wngdmrDX6ZX6KQNDhY2GymIl6m7yLIgDjiigEr7zSaCriy627Ku/s+GtCS+egRBUP+BT4sLtV3SLOLeAAAAAElFTkSuQmCC",M_e={key:1,class:"relative h-[34px] w-[34px] flex-shrink-0"},O_e={class:"flex w-0 min-w-0 grow flex-col text-left"},L_e={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},R_e={key:2,width:"20",height:"20",src:D_e},B_e={key:3,width:"20",height:"20",src:N_e},tO=u.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){dr.extend(Fv);const e=t,r=nr(),n=u.computed(()=>!!r.state.imkit.selectedRoomIdsForCreateFolder[e.source.id]),i=s=>{const a=new Date;r.commit("imkit/updateField",{key:"selectedRoomIdsForCreateFolder",value:{[e.source.id]:s?a:void 0}})};return(s,a)=>(u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["group relative flex min-h-11 w-full cursor-pointer items-center gap-3 rounded-md p-1 px-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700 hover:dark:bg-zinc-700":n.value}]),onClick:a[0]||(a[0]=o=>i(!n.value))},[s.source.avatars.length===1?(u.openBlock(),u.createBlock(gn,{key:0,url:s.source.avatars[0].url,name:s.source.avatars[0].name,class:"!h-[34px] !w-[34px] flex-shrink-0 rounded-xl text-base"},null,8,["url","name"])):(u.openBlock(),u.createElementBlock("div",M_e,[u.createVNode(gn,{url:s.source.avatars[1].url,name:s.source.avatars[1].name,class:"rounded-10px absolute right-0 top-0 !h-[26px] !w-[26px] text-base"},null,8,["url","name"]),u.createVNode(gn,{url:s.source.avatars[0].url,name:s.source.avatars[0].name,class:u.normalizeClass(["rounded-10px absolute bottom-0 left-0 !h-7 !w-7 border-2 border-white text-xs group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":n.value}])},null,8,["url","name","class"])])),u.createElementVNode("div",O_e,[u.createElementVNode("div",L_e,u.toDisplayString(s.source.displayName),1)]),n.value?(u.openBlock(),u.createElementBlock("img",R_e)):(u.openBlock(),u.createElementBlock("img",B_e))],2))}}),P_e={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},F_e=["placeholder"],U_e={class:"flex items-center justify-center gap-2"},$_e=["disabled"],rO=u.defineComponent({__name:"UpdateFolderModal",props:{folderId:{}},setup(t){const e=kn(),r=t,n=nr(),i=u.ref(),s=u.ref(""),a=u.computed(()=>i.value?i.value.roomIds.map(d=>n.state.imkit.rooms[d]).concat(n.state.imkit.sortedRooms).sort((d,f)=>{var c,h,p;return((c=d.pref)==null?void 0:c.sticky)===((h=f.pref)==null?void 0:h.sticky)?f.updatedAt-d.updatedAt:(p=d.pref)!=null&&p.sticky?-1:1}):n.state.imkit.sortedRooms),o=u.computed(()=>s.value.length>0&&Object.keys(n.state.imkit.selectedRoomIdsForCreateFolder).length>0),l=()=>{var d;n.dispatch("imkit/updateFolder",{folderKey:((d=i.value)==null?void 0:d.id)||`folder_${Date.now()}`,name:s.value})};return i.value=n.state.imkit.folders[r.folderId],i.value&&(s.value=i.value.name,n.commit("imkit/setState",{selectedRoomIdsForCreateFolder:i.value.roomIds.reduce((d,f)=>(d[f]=!0,d),{})})),(d,f)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",P_e,u.toDisplayString(i.value?d.$t("editFolder"):d.$t("createFolder")),1),u.withDirectives(u.createElementVNode("input",{type:"text",class:"grow rounded-md bg-gray-100 p-2 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:d.$t("folderName"),"onUpdate:modelValue":f[0]||(f[0]=c=>s.value=c)},null,8,F_e),[[u.vModelText,s.value]]),u.createVNode(u.unref(Th),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":a.value,"data-component":tO,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},null,8,["data-sources"]),u.createElementVNode("div",U_e,[u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:f[1]||(f[1]=()=>{u.unref(e).closeAll()})},u.toDisplayString(d.$t("cancel")),1),u.createElementVNode("button",{class:u.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!o.value}]),disabled:!o.value,onClick:f[2]||(f[2]=()=>{l(),u.unref(e).closeAll()})},u.toDisplayString(d.$t("confirm")),11,$_e)])]),_:1}))}}),j_e={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},H_e={class:"flex items-center justify-center gap-2"},z_e=u.defineComponent({__name:"DeleteFolderConfirmModal",props:{folder:{}},setup(t){const e=kn(),r=t,n=nr(),i=s=>{n.dispatch("imkit/removeFolder",s)};return(s,a)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 min-w-[200px] max-w-full rounded-xl p-5 flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",j_e,u.toDisplayString(s.$t("confirmToDeleteFolder")),1),u.createElementVNode("div",H_e,[u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 w-[100px] grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:a[0]||(a[0]=()=>{u.unref(e).closeAll()})},u.toDisplayString(s.$t("cancel")),1),u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 w-[100px] grow rounded-lg bg-blue-400 text-base text-white",onClick:a[1]||(a[1]=()=>{i(r.folder.id),u.unref(e).closeAll()})},u.toDisplayString(s.$t("confirm")),1)])]),_:1}))}}),V_e={key:0,width:"30",height:"30",src:I_e},q_e={key:1,width:"30",height:"30",src:J8},W_e={class:"flex flex-col overflow-hidden"},G_e=["innerHTML"],Y_e={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Q_e={key:2,class:"ml-auto flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 text-center text-xs font-semibold leading-none text-white"},K_e=[u.createElementVNode("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,-1)],X_e=[u.createElementVNode("img",{width:"20",height:"20",src:Z8},null,-1)],Z_e=u.defineComponent({__name:"FolderCell",props:{source:{}},setup(t){const e=t,r=nr(),n=u.computed(()=>r.state.imkit.searchKeyword.length>0&&r.state.imkit.searchType===Di.RoomPrefFolder?e.source.name.replaceAll(r.state.imkit.searchKeyword,`<span class="text-blue-400">${r.state.imkit.searchKeyword}</span>`):e.source.name),i=u.computed(()=>r.state.imkit.selectedFolderId),s=u.computed(()=>e.source.roomIds.filter(c=>r.state.imkit.selectedRoomId!==c).reduce((c,h)=>{const p=r.state.imkit.rooms[h];return p?c+p.numberOfUnread:c},0)),a=u.computed(()=>r.state.imkit.roomTag),o=u.computed(()=>e.source.roomIds.map(c=>r.state.imkit.rooms[c]).filter(c=>a.value?c&&c.roomTags.includes(a.value):c).length),l=()=>{r.state.imkit.selectedFolderId===e.source.id?r.commit("imkit/setState",{selectedFolderId:""}):r.commit("imkit/setState",{selectedFolderId:e.source.id})},d=()=>{const{open:c}=Ki({component:z_e,attrs:{folder:e.source}});c()},f=()=>{const{open:c}=Ki({component:rO,attrs:{folderId:e.source.id}});c()};return(c,h)=>(u.openBlock(),u.createElementBlock("div",{class:"group relative flex min-h-[66px] cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:l},[i.value===c.source.id?(u.openBlock(),u.createElementBlock("img",V_e)):(u.openBlock(),u.createElementBlock("img",q_e)),u.createElementVNode("div",W_e,[u.createElementVNode("div",{class:"text-basse overflow-hidden overflow-ellipsis whitespace-nowrap text-gray-900 dark:text-gray-100",innerHTML:n.value},null,8,G_e),u.createElementVNode("div",Y_e,u.toDisplayString(o.value?c.$t("numberOfChatroom",o.value):c.$t("no-chatroom")),1)]),s.value>0?(u.openBlock(),u.createElementBlock("div",Q_e,u.toDisplayString(s.value),1)):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-14 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:u.withModifiers(f,["stop"])},K_e),u.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-4 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:u.withModifiers(d,["stop"])},X_e)]))}}),J_e=u.defineComponent({__name:"RoomListWrapperCell",props:{source:{}},setup(t){return(e,r)=>e.source instanceof u.unref(kd)?(u.openBlock(),u.createBlock(k_e,{key:0,source:e.source},null,8,["source"])):(u.openBlock(),u.createBlock(Z_e,{key:1,source:e.source},null,8,["source"]))}}),Uv=t=>(u.pushScopeId("data-v-4b24a960"),t=t(),u.popScopeId(),t),eve={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},tve=["placeholder"],rve={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},nve=Uv(()=>u.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:bh},null,-1)),ive={class:"grow overflow-hidden"},sve=["placeholder"],ave={key:0,slot:"header",class:"flex flex-col gap-1"},ove=[Uv(()=>u.createElementVNode("div",{class:"loading h-[34px] w-[34px] rounded-xl"},null,-1)),Uv(()=>u.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[u.createElementVNode("div",{class:"loading h-3 w-full rounded-md"}),u.createElementVNode("div",{class:"loading h-3 w-4/5 rounded-md"})],-1))],lve={class:"flex items-center justify-center gap-2"},uve=["disabled"],cve=Sr(u.defineComponent({__name:"MassTextingModal",setup(t){const e=kn(),r=nr(),n=u.ref(""),i=u.computed(()=>r.state.imkit.searchKeyword?r.state.imkit.searchRooms[Di.RoomName]||[]:Object.values(r.state.imkit.rooms).sort((p,m)=>{const b=!!r.state.imkit.selectedRoomIdsForCreateFolder[p.id],y=!!r.state.imkit.selectedRoomIdsForCreateFolder[m.id];return b&&!y?-1:!b&&y?1:b&&y?r.state.imkit.selectedRoomIdsForCreateFolder[p.id]-r.state.imkit.selectedRoomIdsForCreateFolder[m.id]:0})),s=u.computed(()=>n.value.length>0),a=u.ref(""),o=u.ref(!1),d=$f(1e3,async()=>{a.value!==r.state.imkit.searchKeyword&&(a.value?r.dispatch("imkit/searchRooms",a.value):r.commit("imkit/setState",{searchKeyword:""}))}),f=av(500,d,{atBegin:!1});u.watch(a,f);const c=u.computed(()=>!!r.state.imkit.isRequesting[Is.Search]),h=async()=>{await r.dispatch("imkit/batchSendMessage",{message:n.value,messageType:"text",paras:Object.keys(r.state.imkit.selectedRoomIdsForCreateFolder).map(p=>({room:p}))}),r.commit("imkit/setState",{selectedRoomIdsForCreateFolder:{},searchKeyword:""})};return(p,m)=>(u.openBlock(),u.createBlock(u.unref(vs),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:u.withCtx(()=>[u.createElementVNode("div",eve,u.toDisplayString(p.$t("massTexting")),1),u.withDirectives(u.createElementVNode("textarea",{rows:"3",class:"grow rounded-md bg-gray-100 p-2 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:p.$t("inputMessage"),"onUpdate:modelValue":m[0]||(m[0]=b=>n.value=b)},null,8,tve),[[u.vModelText,n.value]]),u.createVNode(u.unref(Th),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":i.value,"data-component":tO,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},{header:u.withCtx(()=>[u.createElementVNode("div",rve,[nve,u.createElementVNode("div",ive,[u.withDirectives(u.createElementVNode("input",{ref:"searchInput",class:"bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[1]||(m[1]=b=>a.value=b),placeholder:p.$t("search"),onCompositionstart:m[2]||(m[2]=b=>o.value=!0),onCompositionend:m[3]||(m[3]=b=>o.value=!1)},null,40,sve),[[u.vModelText,a.value]])]),a.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:Mm,class:"h-5 w-5 cursor-pointer",onClick:m[4]||(m[4]=()=>{u.unref(f).cancel({upcomingOnly:!0}),a.value="",u.unref(d)()})})):u.createCommentVNode("",!0)]),c.value?(u.openBlock(),u.createElementBlock("div",ave,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(10,b=>u.createElementVNode("div",{key:b,class:"flex gap-3 p-2"},ove)),64))])):u.createCommentVNode("",!0)]),_:1},8,["data-sources"]),u.createElementVNode("div",lve,[u.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:m[5]||(m[5]=()=>{u.unref(e).closeAll()})},u.toDisplayString(p.$t("cancel")),1),u.createElementVNode("button",{class:u.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!s.value}]),disabled:!s.value,onClick:m[6]||(m[6]=()=>{h(),u.unref(e).closeAll()})},u.toDisplayString(p.$t("confirm")),11,uve)])]),_:1}))}}),[["__scopeId","data-v-4b24a960"]]),dve={},fve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 dark:fill-slate-300"},hve=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M17.005,15.005H7c-2.754,0-4.995,2.241-4.995,4.995v5c0,2.754,2.241,4.995,4.995,4.995h10.005V15.005z"}),u.createElementVNode("path",{d:"M17.837,40.925c-0.271-0.427-0.704-2.805-0.812-8.93h-0.02H7c-0.123,0-0.243-0.012-0.364-0.018c1.13,3.08,2.197,8.651,2.97,12.7c0.157,0.822,0.635,3.323,3.84,3.323h3.335C19.441,47.999,20,46.368,20,45C20,43.223,19.001,42.08,17.837,40.925z"}),u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M39.852,1.999c-1.485,0-2.395,1.359-3.655,3.241c-2.371,3.542-6.314,9.383-17.202,9.727v15.061c11.029,0.298,14.808,6.388,17.316,10.462C37.564,42.528,38.47,44,40.074,44C41.378,44,43,44,43,23C43,1.999,41.029,1.999,39.852,1.999z"}),u.createElementVNode("path",{d:"M44.977,19.289C44.992,20.467,45,21.699,45,23c0,1.691-0.011,3.263-0.031,4.734c1.752-0.6,2.984-2.2,2.984-4.149C47.954,21.604,46.707,19.928,44.977,19.289z"})])],-1)];function pve(t,e){return u.openBlock(),u.createElementBlock("svg",fve,hve)}const mve=Sr(dve,[["render",pve]]),Xm=t=>(u.pushScopeId("data-v-f7d4b60d"),t=t(),u.popScopeId(),t),gve={class:"relative overflow-auto"},bve={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},yve=Xm(()=>u.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:bh},null,-1)),_ve={class:"grow overflow-hidden"},vve=["placeholder"],Tve={key:0,class:"mb-2 flex items-center gap-2 overflow-auto text-sm text-gray-900 dark:text-gray-200"},Eve=["onClick"],Ave={key:1,slot:"header",class:"flex flex-col gap-1"},xve=[Xm(()=>u.createElementVNode("div",{class:"loading h-[50px] w-[50px] rounded-2xl bg-white dark:bg-zinc-800"},null,-1)),Xm(()=>u.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[u.createElementVNode("div",{class:"loading h-5 w-full rounded-md bg-white dark:bg-zinc-800"}),u.createElementVNode("div",{class:"loading h-4 w-4/5 rounded-md bg-white dark:bg-zinc-800"})],-1))],Cve={class:"absolute bottom-0 right-0 flex flex-col items-end gap-2 p-3"},wve={key:0,class:"transform-gpu flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},Sve=[Xm(()=>u.createElementVNode("img",{width:"30",height:"30",src:H2e},null,-1))],kve=Sr(u.defineComponent({__name:"RoomList",setup(t){const e=nr(),r=u.ref(""),n=kn(),i=u.ref(!1),s=u.ref(),a=u.computed(()=>e.state.imkit.sortedRooms),o=u.computed(()=>e.state.imkit.sortedFolderIds.map(P=>e.state.imkit.folders[P]).filter(P=>P)),l=u.computed(()=>e.state.imkit.folders[e.state.imkit.selectedFolderId]),d=u.computed(()=>e.state.imkit.searchType),f=u.computed(()=>e.state.imkit.searchKeyword?Object.keys(e.state.imkit.searchRooms):[]),c=u.computed(()=>e.state.imkit.roomTag),h=u.computed(()=>e.state.imkit.config.settings),p=u.computed(()=>{if(e.state.imkit.searchKeyword&&n.modals.length===0){if(d.value===Di.RoomPrefFolder&&l.value){const z=[...e.state.imkit.searchRooms[d.value]],U=l.value.roomIds.map(H=>e.state.imkit.rooms[H]).filter(H=>c.value?H&&H.roomTags.includes(c.value):H),$=z.findIndex(H=>H.id===l.value.id);return $>-1&&z.splice($+1,0,...U),z}return e.state.imkit.searchRooms[d.value]||[]}const P=[...o.value,...a.value];if(l.value){const z=e.getters["imkit/roomsInSelectedFolder"],U=o.value.findIndex($=>$.id===l.value.id);U>-1&&P.splice(U+1,0,...z)}return P}),m=u.ref(!1),b=u.ref(!1),y=u.computed(()=>n.modals.length===0&&(i.value||m.value||!!e.state.imkit.isRequesting[Is.Search]&&r.value.length>0)),_=()=>{e.dispatch("imkit/fetchRooms")},x=()=>{b.value=!b.value},C=()=>{const{open:P}=Ki({component:rO});P()},k=()=>{const{open:P}=Ki({component:cve});P()},w=$f(1e3,async()=>{r.value!==e.state.imkit.searchKeyword&&(r.value?e.dispatch("imkit/searchRooms",r.value):(e.commit("imkit/setState",{sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,folders:{},sortedFolderIds:[],roomIdsInFolders:{},searchKeyword:""}),D()))}),L=av(500,w,{atBegin:!1});u.watch(r,L),u.watch(a,P=>{if(jC.config.settings.autoSelectRoomWhenLoaded&&!e.state.imkit.selectedRoomId&&document.body.clientWidth>640){const z=Object.values(P).find(U=>U.numberOfUnread===0);z&&e.commit("imkit/setState",{selectedRoomId:z.id})}});const D=async()=>{m.value=!0,await e.dispatch("imkit/fetchPrefs"),await e.dispatch("imkit/fetchRooms"),m.value=!1,await e.dispatch("imkit/fetchRoomsInFolders")};let I=0;return u.onMounted(()=>{D(),document.addEventListener("visibilitychange",()=>{document.hidden?I=dr().unix():dr().unix()-I>60&&(D(),e.state.imkit.socket.connect())})}),(P,z)=>(u.openBlock(),u.createElementBlock("div",gve,[u.createVNode(u.unref(Th),{class:"h-full overflow-auto p-2 transition ease-in-out","data-key":"id","data-sources":p.value,"data-component":J_e,"wrap-class":"flex flex-col gap-1.5","estimated-size":66,keeps:60,onTobottom:_},{header:u.withCtx(()=>[u.createElementVNode("div",bve,[yve,u.createElementVNode("div",_ve,[u.withDirectives(u.createElementVNode("input",{ref_key:"searchInput",ref:s,class:"w-full bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":z[0]||(z[0]=U=>r.value=U),placeholder:P.$t("search"),onCompositionstart:z[1]||(z[1]=U=>i.value=!0),onCompositionend:z[2]||(z[2]=U=>i.value=!1)},null,40,vve),[[u.vModelText,r.value]])]),r.value?(u.openBlock(),u.createElementBlock("img",{key:0,src:Mm,class:"h-5 w-5 cursor-pointer",onClick:z[3]||(z[3]=()=>{u.unref(L).cancel({upcomingOnly:!0}),r.value="",u.unref(w)()})})):u.createCommentVNode("",!0)]),f.value.length>0&&u.unref(n).modals.length===0?(u.openBlock(),u.createElementBlock("div",Tve,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(f.value,U=>(u.openBlock(),u.createElementBlock("div",{key:U,class:u.normalizeClass(["cursor-pointer whitespace-nowrap rounded-lg p-2 hover:bg-gray-100 hover:dark:bg-white hover:dark:text-gray-900",{"bg-gray-100 font-medium text-gray-800":U===d.value}]),onClick:$=>u.unref(e).commit("imkit/setState",{searchType:U})},u.toDisplayString(P.$t(U)),11,Eve))),128))])):u.createCommentVNode("",!0),y.value?(u.openBlock(),u.createElementBlock("div",Ave,[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(20,U=>u.createElementVNode("div",{key:U,class:"flex gap-3 p-2"},xve)),64))])):u.createCommentVNode("",!0)]),_:1},8,["data-sources"]),u.withDirectives((u.openBlock(),u.createElementBlock("div",Cve,[u.createVNode(u.Transition,{name:"slide-fade"},{default:u.withCtx(()=>[b.value?(u.openBlock(),u.createElementBlock("div",wve,[h.value.massTextingEnabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:k},[u.createVNode(mve,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(P.$t("massTexting")),1)])):u.createCommentVNode("",!0),u.createElementVNode("div",{class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:C},[u.createVNode(eO,{class:"h-6 w-6"}),u.createTextVNode(" "+u.toDisplayString(P.$t("createFolder")),1)])])):u.createCommentVNode("",!0)]),_:1}),u.createElementVNode("button",{class:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-slate-500 shadow-md hover:scale-110 hover:transform hover:transition sm:group-hover:flex",onClick:u.withModifiers(x,["stop"])},Sve)])),[[u.unref(Hf),()=>{b.value=!1}]])]))}}),[["__scopeId","data-v-f7d4b60d"]]);function nO(t){return t.type.indexOf("mouse")!==-1?t.clientX:t.touches[0].clientX}function iO(t){return t.type.indexOf("mouse")!==-1?t.clientY:t.touches[0].clientY}var Ive=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}(),Dve={install:function(t,e){var r=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100,namespace:"touch"},e);function n(b){var y=this.$$touchObj,_=b.type.indexOf("touch")>=0,x=b.type.indexOf("mouse")>=0,C=this;_&&(y.lastTouchStartTime=b.timeStamp),!(x&&y.lastTouchStartTime&&b.timeStamp-y.lastTouchStartTime<350)&&(y.touchStarted||(c(this),y.touchStarted=!0,y.touchMoved=!1,y.swipeOutBounded=!1,y.startX=nO(b),y.startY=iO(b),y.currentX=0,y.currentY=0,y.touchStartTime=b.timeStamp,y.hasSwipe=d(this,"swipe")||d(this,"swipe.left")||d(this,"swipe.right")||d(this,"swipe.top")||d(this,"swipe.bottom"),d(this,"hold")&&(y.touchHoldTimer=setTimeout(function(){y.touchHoldTimer=null,f(b,C,"hold")},y.options.touchHoldTolerance)),f(b,this,"press")))}function i(b){var y=this.$$touchObj,_=nO(b),x=iO(b),C=y.currentX!=_||y.currentY!=x;if(y.currentX=_,y.currentY=x,y.touchMoved){if(y.hasSwipe&&!y.swipeOutBounded){var S=y.options.swipeTolerance;y.swipeOutBounded=Math.abs(y.startX-y.currentX)>S&&Math.abs(y.startY-y.currentY)>S}}else{var k=y.options.tapTolerance;y.touchMoved=Math.abs(y.startX-y.currentX)>k||Math.abs(y.startY-y.currentY)>k,y.touchMoved&&(p(y),f(b,this,"drag.once"))}if(d(this,"rollover")&&C){var w=b.timeStamp,L=y.options.rollOverFrequency;(y.touchRollTime==null||w>y.touchRollTime+L)&&(y.touchRollTime=w,f(b,this,"rollover"))}if(d(this,"drag")&&y.touchStarted&&y.touchMoved&&C){var w=b.timeStamp,L=y.options.dragFrequency;(y.touchDragTime==null||w>y.touchDragTime+L)&&(y.touchDragTime=w,f(b,this,"drag"))}}function s(){var b=this.$$touchObj;p(b),h(this),b.touchStarted=b.touchMoved=!1,b.startX=b.startY=0}function a(b){var y=this.$$touchObj,_=b.type.indexOf("touch")>=0,x=b.type.indexOf("mouse")>=0;_&&(y.lastTouchEndTime=b.timeStamp);var C=_&&!y.touchHoldTimer;if(p(y),y.touchStarted=!1,h(this),!(x&&y.lastTouchEndTime&&b.timeStamp-y.lastTouchEndTime<350))if(f(b,this,"release"),y.touchMoved){if(y.hasSwipe&&!y.swipeOutBounded){var k=y.options.swipeTolerance,S,w=Math.abs(y.startY-y.currentY),L=Math.abs(y.startX-y.currentX);(w>k||L>k)&&(w>L?S=y.startY>y.currentY?"top":"bottom":S=y.startX>y.currentX?"left":"right",d(this,"swipe."+S)?f(b,this,"swipe."+S,S):f(b,this,"swipe",S))}}else if(d(this,"longtap")&&b.timeStamp-y.touchStartTime>y.options.longTapTimeInterval)b.cancelable&&b.preventDefault(),f(b,this,"longtap");else if(d(this,"hold")&&C){b.cancelable&&b.preventDefault();return}else f(b,this,"tap")}function o(){c(this)}function l(){h(this)}function d(b,y){var _=b.$$touchObj.callbacks[y];return _!=null&&_.length>0}function f(b,y,_,x){var C=y.$$touchObj,k=C.callbacks[_];if(k==null||k.length===0)return null;for(var S=0;S<k.length;S++){var w=k[S];w.modifiers.stop&&b.stopPropagation(),w.modifiers.prevent&&b.preventDefault(),!(w.modifiers.self&&b.target!==b.currentTarget)&&typeof w.value=="function"&&(x?w.value(x,b):w.value(b))}}function c(b){var y=b.$$touchObj.options.touchClass;y&&b.classList.add(y)}function h(b){var y=b.$$touchObj.options.touchClass;y&&b.classList.remove(y)}function p(b){b&&b.touchHoldTimer&&(clearTimeout(b.touchHoldTimer),b.touchHoldTimer=null)}function m(b,y){var _=b.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:r};return y&&(_.options=Object.assign({},_.options,y)),b.$$touchObj=_,b.$$touchObj}t.directive(r.namespace,{beforeMount:function(b,y){var _=m(b),x=Ive?{passive:!0}:!1,C=y.arg||"tap";switch(C){case"swipe":var k=y.modifiers;if(k.left||k.right||k.top||k.bottom){for(var S in y.modifiers)if(["left","right","top","bottom"].indexOf(S)>=0){var w="swipe."+S;_.callbacks[w]=_.callbacks[w]||[],_.callbacks[w].push(y)}}else _.callbacks.swipe=_.callbacks.swipe||[],_.callbacks.swipe.push(y);break;case"press":case"drag":y.modifiers.disablePassive&&(x=!1);default:_.callbacks[C]=_.callbacks[C]||[],_.callbacks[C].push(y)}_.hasBindTouchEvents||(b.addEventListener("touchstart",n,x),b.addEventListener("touchmove",i,x),b.addEventListener("touchcancel",s),b.addEventListener("touchend",a),_.options.disableClick||(b.addEventListener("mousedown",n),b.addEventListener("mousemove",i),b.addEventListener("mouseup",a),b.addEventListener("mouseenter",o),b.addEventListener("mouseleave",l)),_.hasBindTouchEvents=!0)},unmounted:function(b){p(b.$$touchObj),b.removeEventListener("touchstart",n),b.removeEventListener("touchmove",i),b.removeEventListener("touchcancel",s),b.removeEventListener("touchend",a),b.$$touchObj&&!b.$$touchObj.options.disableClick&&(b.removeEventListener("mousedown",n),b.removeEventListener("mousemove",i),b.removeEventListener("mouseup",a),b.removeEventListener("mouseenter",o),b.removeEventListener("mouseleave",l)),delete b.$$touchObj}}),t.directive(`${r.namespace}-class`,{beforeMount:function(b,y){m(b,{touchClass:y.value})}}),t.directive(`${r.namespace}-options`,{beforeMount:function(b,y){m(b,y.value)}})}};function Zm(t,e,r){const{url:n}=e,i=n==null?void 0:n.split("?")[0];if(!i)return;const s={};s[i]=t==0?new Date:null,r.commit("imkit/updateField",{key:"isRequesting",value:s})}const Nve=async t=>{localStorage.getItem("imkit-token")&&(localStorage.removeItem("imkit-token"),window.location.reload())};function Mve(t,e){const{domain:r}=t,n=fr.create({baseURL:r});return n.interceptors.request.use(i=>{Zm(0,i,e);const s=new LC({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return i.headers=s,i},i=>{const{config:s}=i;return Zm(1,s,e),Promise.reject(i)}),n.interceptors.response.use(i=>{const{config:s}=i;return Zm(1,s,e),i},async i=>{const{config:s}=i;if(Zm(1,s,e),i.response.status===401){await Nve();const a=new LC({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return s.headers=a,fr.request(s)}return Promise.reject(i)}),n}function Ove(t,e){const{domain:r,clientKey:n,token:i}=t,s=_d(r,{forceBase64:!0,transports:["websocket","webtransport"],reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3});return s.on("connect",()=>{s.emit("auth2",i,{CLIENT_KEY:n,Authorization:i},a=>{console.log(a)})}),s.on("disconnect",a=>{console.log(a)}),s.on("chat message",a=>{e.dispatch("imkit/handleMessageFromSocket",Er.fromRaw(a))}),s.on("room",a=>{const o=new kd(a,e.state.uid);if(!o.id)return;const l={};for(const d of a.members)l[d.id]||(l[d.id]=new Ra(d));e.dispatch("imkit/handleRoomFromSocket",o),e.commit("imkit/updateField",{key:"users",value:l})}),s.on("lastRead",a=>{const{roomID:o,memberID:l,messageID:d}=a;e.dispatch("imkit/handleLastReadFromSocket",{roomId:o,uid:l,messageId:d})}),s.on("roomPref",a=>{const{room:o,...l}=a;o&&(e.commit("imkit/updateRoom",{id:o,pref:l}),l.sticky!==void 0&&e.dispatch("imkit/aggregateRoomsAndFolders"))}),s.on("myPrefChange",a=>{e.dispatch("imkit/handlePrefChangeFromSocket",a)}),s.on("myPrefDelete",a=>{e.dispatch("imkit/handlePrefDeleteFromSocket",a)}),s.on("typing",a=>{e.dispatch("imkit/handleTypingFromSocket",a)}),s}const Lve={install:async(t,e)=>{console.log("IMKIT version:",X5);const{store:r,config:n}=e;r.hasModule("imkit")||r.registerModule("imkit",rS);let i="";try{const{id:o,_id:l}=zO(n.token);i=o||l}catch(o){console.log(o)}const s=Mve(n,r),a=Ove(n,r);r.commit("imkit/setState",{config:n,uid:i,axios:s,socket:a}),t.use(JL()),t.use(ki),t.use(Dve,{disableClick:!1}),t.directive("src",async(o,l)=>{const{value:d,oldValue:f}=l;if(d.startsWith("data:")){o.src=d;return}const{imageCache:c}=r.state.imkit;if(f===void 0||d!==f){if(c.has(d)){o.src=c.get(d);return}try{o.classList.add("opacity-0");const h=await s.get(d,{responseType:"arraybuffer",onDownloadProgress:b=>{const{total:y}=b;y&&r.commit("imkit/updateField",{key:"downloadProgresses",value:{[d]:b.loaded/y}})}}),p=btoa(new Uint8Array(h.data).reduce((b,y)=>b+String.fromCharCode(y),"")),m=`data:${h.headers["content-type"]};base64,${p}`;c.set(d,m),o.src=m}catch{o.src=d}o.classList.remove("opacity-0")}})}};vt.ChatRoom=T2e,vt.ChatRoomInfo=j2e,vt.ModalsContainer=rR,vt.RoomList=kve,vt.default=Lve,Object.defineProperties(vt,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
