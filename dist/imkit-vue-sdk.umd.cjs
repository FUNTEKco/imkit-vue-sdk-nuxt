(function(lt,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],c):(lt=typeof globalThis<"u"?globalThis:lt||self,c(lt["IMKIT Vue SDK"]={},lt.Vue))})(this,function(lt,c){"use strict";var nhe=Object.defineProperty;var I6=lt=>{throw TypeError(lt)};var ihe=(lt,c,Ar)=>c in lt?nhe(lt,c,{enumerable:!0,configurable:!0,writable:!0,value:Ar}):lt[c]=Ar;var Fe=(lt,c,Ar)=>ihe(lt,typeof c!="symbol"?c+"":c,Ar),D6=(lt,c,Ar)=>c.has(lt)||I6("Cannot "+Ar);var bo=(lt,c,Ar)=>(D6(lt,c,"read from private field"),Ar?Ar.call(lt):c.get(lt)),um=(lt,c,Ar)=>c.has(lt)?I6("Cannot add the same private member more than once"):c instanceof WeakSet?c.add(lt):c.set(lt,Ar),Ho=(lt,c,Ar,Ss)=>(D6(lt,c,"write to private field"),Ss?Ss.call(lt,Ar):c.set(lt,Ar),Ar);var a2=(lt,c,Ar,Ss)=>({set _(fm){Ho(lt,c,fm,Ar)},get _(){return bo(lt,c,Ss)}});var hi,Ca,Sa;var Ar=document.createElement("style");Ar.textContent=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.static{position:static}.\\!absolute{position:absolute!important}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-1{bottom:-.25rem}.-right-1{right:-.25rem}.-right-2{right:-.5rem}.-top-10{top:-2.5rem}.-top-2{top:-.5rem}.bottom-0{bottom:0}.bottom-16{bottom:4rem}.bottom-2{bottom:.5rem}.bottom-\\[110\\%\\]{bottom:110%}.left-0{left:0}.left-2{left:.5rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-14{right:3.5rem}.right-2{right:.5rem}.right-2\\.5{right:.625rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-2{top:.5rem}.top-\\[-40px\\]{top:-40px}.top-\\[calc\\(50\\%_\\+_28px\\)\\]{top:calc(50% + 28px)}.z-10{z-index:10}.col-span-2{grid-column:span 2 / span 2}.row-span-2{grid-row:span 2 / span 2}.-m-2{margin:-.5rem}.m-2{margin:.5rem}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.-mx-3{margin-left:-.75rem;margin-right:-.75rem}.-my-2{margin-top:-.5rem;margin-bottom:-.5rem}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-\\[0\\.0625rem\\]{margin-bottom:.0625rem}.mb-\\[40px\\]{margin-bottom:40px}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-0\\.5{margin-right:.125rem}.mr-1{margin-right:.25rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-\\[0\\.0625rem\\]{margin-top:.0625rem}.block{display:block}.\\!flex{display:flex!important}.grid{display:grid}.contents{display:contents}.hidden{display:none}.\\!h-10{height:2.5rem!important}.\\!h-7{height:1.75rem!important}.\\!h-9{height:2.25rem!important}.\\!h-\\[26px\\]{height:26px!important}.\\!h-\\[30px\\]{height:30px!important}.\\!h-\\[34px\\]{height:34px!important}.\\!h-\\[38px\\]{height:38px!important}.\\!h-\\[50px\\]{height:50px!important}.\\!h-full{height:100%!important}.h-1{height:.25rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[120\\%\\]{height:120%}.h-\\[150px\\]{height:150px}.h-\\[2\\.8rem\\]{height:2.8rem}.h-\\[250px\\]{height:250px}.h-\\[300px\\]{height:300px}.h-\\[34px\\]{height:34px}.h-\\[50px\\]{height:50px}.h-\\[50vh\\]{height:50vh}.h-\\[59px\\]{height:59px}.h-\\[60px\\]{height:60px}.h-dvh{height:100dvh}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.\\!min-h-0\\.5{min-height:.125rem!important}.min-h-11{min-height:2.75rem}.min-h-\\[66px\\]{min-height:66px}.\\!w-10{width:2.5rem!important}.\\!w-7{width:1.75rem!important}.\\!w-9{width:2.25rem!important}.\\!w-\\[26px\\]{width:26px!important}.\\!w-\\[30px\\]{width:30px!important}.\\!w-\\[34px\\]{width:34px!important}.\\!w-\\[38px\\]{width:38px!important}.\\!w-\\[50px\\]{width:50px!important}.w-0{width:0px}.w-0\\.5{width:.125rem}.w-1{width:.25rem}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-12{width:3rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-4{width:1rem}.w-4\\/5{width:80%}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[100px\\]{width:100px}.w-\\[120px\\]{width:120px}.w-\\[160px\\]{width:160px}.w-\\[2\\.8rem\\]{width:2.8rem}.w-\\[235px\\]{width:235px}.w-\\[250px\\]{width:250px}.w-\\[260px\\]{width:260px}.w-\\[300px\\]{width:300px}.w-\\[30px\\]{width:30px}.w-\\[34px\\]{width:34px}.w-\\[350px\\]{width:350px}.w-\\[360px\\]{width:360px}.w-\\[386px\\]{width:386px}.w-\\[40\\%\\]{width:40%}.w-\\[50px\\]{width:50px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-16{min-width:4rem}.min-w-5{min-width:1.25rem}.min-w-\\[200px\\]{min-width:200px}.min-w-\\[300px\\]{min-width:300px}.min-w-\\[380px\\]{min-width:380px}.max-w-\\[360px\\]{max-width:360px}.max-w-\\[420px\\]{max-width:420px}.max-w-\\[70\\%\\]{max-width:70%}.max-w-full{max-width:100%}.flex-shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.basis-0{flex-basis:0px}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-px{gap:1px}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.\\!rounded-none{border-radius:0!important}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-l-xl{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-xl{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.rounded-tl-xl{border-top-left-radius:.75rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.\\!bg-gray-400{--tw-bg-opacity: 1 !important;background-color:rgb(156 163 175 / var(--tw-bg-opacity))!important}.\\!bg-white{--tw-bg-opacity: 1 !important;background-color:rgb(255 255 255 / var(--tw-bg-opacity))!important}.bg-amber-400{--tw-bg-opacity: 1;background-color:rgb(251 191 36 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-200{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-500{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-opacity-30{--tw-bg-opacity: .3}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-85{--tw-bg-opacity: .85}.bg-opacity-90{--tw-bg-opacity: .9}.fill-blue-300{fill:#93c5fd}.fill-blue-400{fill:#60a5fa}.fill-current{fill:currentColor}.fill-gray-100{fill:#f3f4f6}.fill-gray-600{fill:#4b5563}.fill-slate-500{fill:#64748b}.fill-slate-700{fill:#334155}.fill-zinc-100{fill:#f4f4f5}.stroke-slate-700{stroke:#334155}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-\\[3px\\]{padding:3px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-0\\.5{padding-bottom:.125rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.\\!text-3xl{font-size:1.875rem!important;line-height:2.25rem!important}.\\!text-base{font-size:1rem!important;line-height:1.5rem!important}.\\!text-lg{font-size:1.125rem!important;line-height:1.75rem!important}.text-\\[150px\\]{font-size:150px}.text-\\[50px\\]{font-size:50px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.leading-none{line-height:1}.text-\\[\\#444444\\]{--tw-text-opacity: 1;color:rgb(68 68 68 / var(--tw-text-opacity))}.text-\\[\\#60A5FA\\]{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-zinc-600{--tw-text-opacity: 1;color:rgb(82 82 91 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.placeholder-gray-400::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.placeholder-gray-400::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.opacity-0{opacity:0}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:transform:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-200:disabled{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:flex{display:flex}.group:hover .group-hover\\:border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.dark\\:divide-zinc-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(63 63 70 / var(--tw-divide-opacity))}.dark\\:border-gray-500:is(.dark *){--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}.dark\\:border-zinc-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(39 39 42 / var(--tw-border-opacity))}.dark\\:\\!bg-zinc-800:is(.dark *){--tw-bg-opacity: 1 !important;background-color:rgb(39 39 42 / var(--tw-bg-opacity))!important}.dark\\:bg-slate-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark\\:bg-transparent:is(.dark *){background-color:transparent}.dark\\:bg-zinc-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\\:bg-zinc-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.dark\\:bg-zinc-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.dark\\:fill-sky-700:is(.dark *){fill:#0369a1}.dark\\:fill-slate-300:is(.dark *){fill:#cbd5e1}.dark\\:fill-slate-400:is(.dark *){fill:#94a3b8}.dark\\:fill-zinc-600:is(.dark *){fill:#52525b}.dark\\:stroke-slate-300:is(.dark *){stroke:#cbd5e1}.dark\\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.dark\\:text-gray-700:is(.dark *){--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.dark\\:text-slate-300:is(.dark *){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark\\:text-zinc-100:is(.dark *){--tw-text-opacity: 1;color:rgb(244 244 245 / var(--tw-text-opacity))}.hover\\:dark\\:bg-white:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.hover\\:dark\\:text-gray-900:is(.dark *):hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.dark\\:disabled\\:bg-gray-700:disabled:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.dark\\:disabled\\:text-gray-500:disabled:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.group:hover .group-hover\\:dark\\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}@media (min-width: 640px){.sm\\:relative{position:relative}.sm\\:flex{display:flex}.sm\\:\\!hidden{display:none!important}.sm\\:hidden{display:none}.sm\\:h-\\[200px\\]{height:200px}.sm\\:h-\\[350px\\]{height:350px}.sm\\:w-1\\/4{width:25%}.sm\\:w-3\\/4{width:75%}.sm\\:w-\\[300px\\]{width:300px}.sm\\:w-\\[450px\\]{width:450px}.sm\\:min-w-\\[300px\\]{min-width:300px}.sm\\:max-w-\\[60\\%\\]{max-width:60%}.sm\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\\:hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.group:hover .sm\\:group-hover\\:flex{display:flex}.sm\\:hover\\:dark\\:bg-zinc-700:is(.dark *):hover{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.vfm--fixed{position:fixed}.vfm--absolute{position:absolute}.vfm--inset{top:0;right:0;bottom:0;left:0}.vfm--overlay{z-index:-1;background-color:#00000080}.vfm--prevent-none{pointer-events:none}.vfm--prevent-auto{pointer-events:auto}.vfm--outline-none:focus{outline:none}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.vfm-fade-enter-active{animation:fade-in .3s ease}.vfm-fade-leave-active{animation:fade-out .3s ease}.vfm-bounce-back{transition-property:transform;transition-duration:.3s}.vfm-slide-up-enter-active,.vfm-slide-up-leave-active,.vfm-slide-down-enter-active,.vfm-slide-down-leave-active{transition:transform .3s ease}.vfm-slide-down-enter-from,.vfm-slide-down-leave-to{transform:translateY(100vh)!important}.vfm-slide-up-enter-from,.vfm-slide-up-leave-to{transform:translateY(-100vh)!important}.vfm-slide-right-enter-active,.vfm-slide-right-leave-active,.vfm-slide-left-enter-active,.vfm-slide-left-leave-active{transition:transform .3s ease}.vfm-slide-right-enter-from,.vfm-slide-right-leave-to{transform:translate(100vw)!important}.vfm-slide-left-enter-from,.vfm-slide-left-leave-to{transform:translate(-100vw)!important}.vfm-swipe-banner-back,.vfm-swipe-banner-forward{position:fixed;top:0;bottom:0;width:27px;z-index:10}.vfm-swipe-banner-back{left:0}.vfm-swipe-banner-forward{right:0}.multiline-ellipsis[data-v-4082b57b]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.ellipsis[data-v-4082b57b]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.multiline-ellipsis[data-v-5248b347]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}[data-v-b091599d] .mapdiv>div>div{border-top-left-radius:12px!important;border-top-right-radius:12px!important;overflow:hidden}@keyframes bounce-40e5e96c{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.animate-bounce-1[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .1s}.animate-bounce-2[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .2s}.animate-bounce-3[data-v-40e5e96c]{animation:bounce-40e5e96c 1s infinite .3s}a[data-v-cd9e46d9]{color:#42b983}label[data-v-cd9e46d9]{margin:0 .5em;font-weight:700}code[data-v-cd9e46d9]{background-color:#eee;padding:2px 4px;border-radius:4px;color:#304455}.multiline-ellipsis[data-v-5db3707c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.v-enter-active[data-v-c9c51bc0],.v-leave-active[data-v-c9c51bc0]{transition:opacity .2s ease-in-out}.v-enter-from[data-v-c9c51bc0],.v-leave-to[data-v-c9c51bc0]{opacity:0}[data-v-c9c51bc0] .mapdiv>div>div{border-top-left-radius:8px!important;border-top-right-radius:8px!important;overflow:hidden}.volumes[data-v-d7ca8ae1]{display:flex;height:100%;flex-direction:row-reverse;align-items:center;gap:.125rem;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.volumes[data-v-d7ca8ae1]::-webkit-scrollbar{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgba(0,0,0,0);--un-ring-shadow:0 0 rgba(0,0,0,0);--un-shadow-inset: ;--un-shadow:0 0 rgba(0,0,0,0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.flex{display:flex}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}html{transition-duration:.25s;transition-property:background-color;transition-timing-function:ease-in-out}html.dark{color:#e5e7eb;background-color:#22272e}.rotate-enter-active[data-v-dc349f35],.rotate-leave-active[data-v-dc349f35]{transition:all .25s ease-out}.rotate-enter-from[data-v-dc349f35]{opacity:0;transform:rotate(270deg)}.rotate-leave-to[data-v-dc349f35]{opacity:0;transform:rotate(180deg)}[data-v-607e4765] .v3-body-inner{scrollbar-color:#393d3f rgba(0,0,0,.1);scrollbar-width:thin}[data-v-607e4765] .v3-body-inner::-webkit-scrollbar{width:8px}[data-v-607e4765] .v3-body-inner::-webkit-scrollbar-track{background-color:transparent}[data-v-607e4765] .v3-body-inner::-webkit-scrollbar-thumb{display:none;background:#0000004d;border-radius:5px}[data-v-607e4765] .v3-body-inner:hover::-webkit-scrollbar-thumb{display:block}[data-v-607e4765] .v3-emoji-picker{height:320px;width:280px;background:#fff;color:#000;box-shadow:0 2px 10px #0003;border-radius:10px;margin:0 auto;box-sizing:border-box;display:flex;flex-direction:column;text-align:left}[data-v-607e4765] .v3-emoji-picker *{box-sizing:border-box}[data-v-607e4765] .v3-emoji-picker .v3-header{padding:15px 15px 13px;border-bottom:1px solid #ddd}[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups{display:flex}[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups .v3-group{flex-grow:1;padding:0;margin:0;border:none;background:none;font-size:24px;cursor:pointer;position:relative;display:block;opacity:.7;transition:.2s}[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups .v3-group:first-child,[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups .v3-group:last-child{flex-grow:0}[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups .v3-group:hover{opacity:1}[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups .v3-group span{display:flex;align-items:center;justify-content:center}[data-v-607e4765] .v3-emoji-picker .v3-header .v3-groups .v3-group span img{display:block;width:1em;height:auto}[data-v-607e4765] .v3-emoji-picker .v3-spacing{height:11px}[data-v-607e4765] .v3-emoji-picker .v3-search input{width:100%;display:block;height:26px;padding:0 10px;border:1px solid #ccc;border-radius:3px;font-size:12px;transition:.2s}[data-v-607e4765] .v3-emoji-picker .v3-search input:focus{outline:none;border-color:#000}[data-v-607e4765] .v3-emoji-picker .v3-body{padding:0 0 15px 11px;min-height:0;flex-grow:1}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner{flex-grow:1;min-height:0;overflow-y:auto;overflow-x:hidden;height:100%;padding-right:11px}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5{margin:0;top:0;background:#fff;padding:7px 0 3px 4px}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group h5.v3-sticky{position:sticky}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis{display:flex;font-size:18px;flex-wrap:wrap}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button{cursor:pointer;border:none;background:none;margin:0;text-align:center;display:flex;align-items:center;justify-content:center;flex-basis:12.5%;max-width:12.5%;flex-grow:1;padding:0;font-size:22px}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button span{display:inline-block;padding-left:1px}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button:hover{background:#f7f7f7}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner .v3-group .v3-emojis button img{max-width:100%;padding:4px}[data-v-607e4765] .v3-emoji-picker .v3-body .v3-body-inner.is-mac .v3-emojis button{font-family:"Apple Color Emoji"}[data-v-607e4765] .v3-emoji-picker .v3-footer{font-size:14px;border-top:1px solid #dddddd;padding:15px;display:flex;align-items:center;justify-content:space-between;position:relative}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone,[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-foot-left{display:flex;align-items:center}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone img,[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-foot-left img{width:20px;display:block}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone>span:first-child,[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-foot-left>span:first-child{margin-right:6px}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-foot-left>span.v3-text{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone{border:none;padding:0;background:none;cursor:pointer}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone>span{display:inline-flex;vertical-align:top}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone .v3-text{font-size:13px}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone .v3-icon{padding-bottom:3px}[data-v-607e4765] .v3-emoji-picker .v3-footer .v3-tone .is-mac span{font-family:"Apple Color Emoji"}[data-v-607e4765] .v3-skin-tones{position:absolute;background:#fff;height:100%;width:60%;top:0;left:0;display:flex;align-items:center;justify-content:flex-end;padding:0 15px;opacity:0;visibility:hidden;transition:.2s;border-radius:0 0 10px 10px}[data-v-607e4765] .v3-skin-tones.v3-is-open{opacity:1;visibility:visible}[data-v-607e4765] .v3-skin-tones .v3-skin-tone{display:inline-block;height:15px;width:25px;border:none;padding:0;cursor:pointer;transition:0ms}[data-v-607e4765] .v3-skin-tones .v3-skin-tone:hover{transform:scale(1.1);transition:.2s}[data-v-607e4765] .v3-skin-tones .v3-skin-tone-neutral{color:#ffd225;background-color:#ffd225}[data-v-607e4765] .v3-skin-tones .v3-skin-tone-1f3fb{color:#ffdfbd;background-color:#ffdfbd}[data-v-607e4765] .v3-skin-tones .v3-skin-tone-1f3fc{color:#e9c197;background-color:#e9c197}[data-v-607e4765] .v3-skin-tones .v3-skin-tone-1f3fd{color:#c88e62;background-color:#c88e62}[data-v-607e4765] .v3-skin-tones .v3-skin-tone-1f3fe{color:#a86637;background-color:#a86637}[data-v-607e4765] .v3-skin-tones .v3-skin-tone-1f3ff{color:#60463a;background-color:#60463a}[data-v-607e4765] .v3-input-emoji-picker *{box-sizing:border-box}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root{position:relative}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-input,[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{width:100%;height:40px;border:1px solid #999;padding-left:15px}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea{min-height:80px;resize:vertical}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-emoji-picker-textarea+.v3-input-picker-wrap .v3-input-picker-icon{top:auto;bottom:5px}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon{display:inline-flex;position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:24px;border:none;background:none;padding:0 5px;cursor:pointer}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-input-picker-icon img{display:block;width:1em;height:1em}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap .v3-emoji-picker{opacity:0;visibility:hidden;transition:.2s}[data-v-607e4765] .v3-input-emoji-picker .v3-input-picker-root .v3-input-picker-wrap.v3-picker-is-open .v3-emoji-picker{opacity:1;visibility:visible;z-index:999}.multiline-ellipsis[data-v-607e4765]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}@keyframes bg-4b24a960{0% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 0%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); } 50% { --tw-bg-opacity: 1; background-color: rgb(229 231 235 / var(--tw-bg-opacity)); } 50%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(82 82 91 / var(--tw-bg-opacity)); } 100% { --tw-bg-opacity: 1; background-color: rgb(243 244 246 / var(--tw-bg-opacity)); } 100%:is(.dark *) { --tw-bg-opacity: 1; background-color: rgb(63 63 70 / var(--tw-bg-opacity)); }}.loading[data-v-4b24a960]{animation:bg-4b24a960 2s infinite}@keyframes bg-13165148{0%{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}}@keyframes bg-dark-13165148{0%{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}50%{--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}to{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}}.dark .loading[data-v-13165148]{animation:bg-dark-13165148 2s infinite}.loading[data-v-13165148]{animation:bg-13165148 2s infinite}.slide-fade-enter-from[data-v-13165148]{transform:translateY(20px);opacity:0}.slide-fade-enter-active[data-v-13165148]{transition:all .15s ease-in-out}.slide-fade-enter-to[data-v-13165148],.slide-fade-leave-from[data-v-13165148]{transform:translateY(0);opacity:1}.slide-fade-leave-active[data-v-13165148]{transition:all .15s ease-in-out}.slide-fade-leave-to[data-v-13165148]{transform:translateY(20px);opacity:0}
`,document.head.appendChild(Ar),new TextEncoder;const Ss=new TextDecoder,fm=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},L6=t=>{let e=t;e instanceof Uint8Array&&(e=Ss.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return fm(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class B6 extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}class Es extends B6{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function R6(t){return typeof t=="object"&&t!==null}function P6(t){if(!R6(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const F6=L6;function U6(t){if(typeof t!="string")throw new Es("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new Es("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new Es("Invalid JWT");if(!e)throw new Es("JWTs must contain a payload");let n;try{n=F6(e)}catch{throw new Es("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Ss.decode(n))}catch{throw new Es("Failed to parse the decoded payload as JSON")}if(!P6(i))throw new Es("Invalid JWT Claims Set");return i}function hm(t){return c.getCurrentScope()?(c.onScopeDispose(t),!0):!1}function ks(t){return typeof t=="function"?t():c.unref(t)}const pm=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const j6=Object.prototype.toString,l2=t=>j6.call(t)==="[object Object]",Fa=()=>{},mm=$6();function $6(){var t,e;return pm&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const c2={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function z6(t){return c.getCurrentInstance()}function V6(...t){if(t.length!==1)return c.toRef(...t);const e=t[0];return typeof e=="function"?c.readonly(c.customRef(()=>({get:e,set:Fa}))):c.ref(e)}function H6(t,e){z6()&&c.onUnmounted(t,e)}function u2(t){var e;const r=ks(t);return(e=r==null?void 0:r.$el)!=null?e:r}const q6=pm?window:void 0;function vi(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=q6):[e,r,n,i]=t,!e)return Fa;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,u,h,p)=>(f.addEventListener(u,h,p),()=>f.removeEventListener(u,h,p)),l=c.watch(()=>[u2(e),ks(i)],([f,u])=>{if(s(),!f)return;const h=l2(u)?{...u}:u;o.push(...r.flatMap(p=>n.map(m=>a(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return hm(d),d}const W6=500,G6=10;function Q6(t,e,r){var n,i;const o=c.computed(()=>u2(t));let s,a,l,d=!1;function f(){s&&(clearTimeout(s),s=void 0),a=void 0,l=void 0,d=!1}function u(v){var E,A,k;const[C,T,O]=[l,a,d];if(f(),!(r!=null&&r.onMouseUp)||!T||!C||(E=r==null?void 0:r.modifiers)!=null&&E.self&&v.target!==o.value)return;(A=r==null?void 0:r.modifiers)!=null&&A.prevent&&v.preventDefault(),(k=r==null?void 0:r.modifiers)!=null&&k.stop&&v.stopPropagation();const D=v.x-T.x,S=v.y-T.y,R=Math.sqrt(D*D+S*S);r.onMouseUp(v.timeStamp-C,R,O)}function h(v){var E,A,k,C;(E=r==null?void 0:r.modifiers)!=null&&E.self&&v.target!==o.value||(f(),(A=r==null?void 0:r.modifiers)!=null&&A.prevent&&v.preventDefault(),(k=r==null?void 0:r.modifiers)!=null&&k.stop&&v.stopPropagation(),a={x:v.x,y:v.y},l=v.timeStamp,s=setTimeout(()=>{d=!0,e(v)},(C=r==null?void 0:r.delay)!=null?C:W6))}function p(v){var E,A,k,C;if((E=r==null?void 0:r.modifiers)!=null&&E.self&&v.target!==o.value||!a||(r==null?void 0:r.distanceThreshold)===!1)return;(A=r==null?void 0:r.modifiers)!=null&&A.prevent&&v.preventDefault(),(k=r==null?void 0:r.modifiers)!=null&&k.stop&&v.stopPropagation();const T=v.x-a.x,O=v.y-a.y;Math.sqrt(T*T+O*O)>=((C=r==null?void 0:r.distanceThreshold)!=null?C:G6)&&f()}const m={capture:(n=r==null?void 0:r.modifiers)==null?void 0:n.capture,once:(i=r==null?void 0:r.modifiers)==null?void 0:i.once},y=[vi(o,"pointerdown",h,m),vi(o,"pointermove",p,m),vi(o,["pointerup","pointerleave"],u,m)];return()=>y.forEach(v=>v())}function Y6(t){return c.getCurrentScope()?(c.onScopeDispose(t),!0):!1}function K6(t){return typeof t=="function"?t():c.unref(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function X6(t){var e;const r=K6(t);return(e=r==null?void 0:r.$el)!=null?e:r}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var d2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Nd=d2.join(","),f2=typeof Element>"u",Is=f2?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Od=!f2&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ld=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=i===""||i==="true",s=o||r&&e&&t(e.parentNode);return s},Z6=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},h2=function(e,r,n){if(Ld(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Nd));return r&&Is.call(e,Nd)&&i.unshift(e),i=i.filter(n),i},p2=function t(e,r,n){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!Ld(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,d=t(l,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else{var f=Is.call(s,Nd);f&&n.filter(s)&&(r||!e.includes(s))&&i.push(s);var u=s.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(s),h=!Ld(u,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(u&&h){var p=t(u===!0?s.children:u.children,!0,n);n.flatten?i.push.apply(i,p):i.push({scopeParent:s,candidates:p})}else o.unshift.apply(o,s.children)}}return i},m2=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ds=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Z6(e))&&!m2(e)?0:e.tabIndex},J6=function(e,r){var n=Ds(e);return n<0&&r&&!m2(e)?0:n},e5=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},g2=function(e){return e.tagName==="INPUT"},t5=function(e){return g2(e)&&e.type==="hidden"},r5=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},n5=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},i5=function(e){if(!e.name)return!0;var r=e.form||Od(e),n=function(a){return r.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=n5(i,e.form);return!o||o===e},o5=function(e){return g2(e)&&e.type==="radio"},s5=function(e){return o5(e)&&!i5(e)},a5=function(e){var r,n=e&&Od(e),i=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&i;){var d,f,u;n=Od(i),i=(d=n)===null||d===void 0?void 0:d.host,o=!!((f=i)!==null&&f!==void 0&&(u=f.ownerDocument)!==null&&u!==void 0&&u.contains(i))}}return o},y2=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},l5=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Is.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(Is.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,d=Od(e);if(l&&!l.shadowRoot&&i(l)===!0)return y2(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=a}if(a5(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return y2(e);return!1},c5=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return Is.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},Bd=function(e,r){return!(r.disabled||Ld(r)||t5(r)||l5(r,e)||r5(r)||c5(r))},gm=function(e,r){return!(s5(r)||Ds(r)<0||!Bd(e,r))},u5=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},d5=function t(e){var r=[],n=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=J6(a,s),d=s?t(i.candidates):a;l===0?s?r.push.apply(r,d):r.push(a):n.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:d})}),n.sort(e5).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(r)},f5=function(e,r){r=r||{};var n;return r.getShadowRoot?n=p2([e],r.includeContainer,{filter:gm.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:u5}):n=h2(e,r.includeContainer,gm.bind(null,r)),d5(n)},h5=function(e,r){r=r||{};var n;return r.getShadowRoot?n=p2([e],r.includeContainer,{filter:Bd.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=h2(e,r.includeContainer,Bd.bind(null,r)),n},Ua=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Is.call(e,Nd)===!1?!1:gm(r,e)},p5=d2.concat("iframe").join(","),ym=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Is.call(e,p5)===!1?!1:Bd(r,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){m5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m5(t,e,r){return e=y5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y5(t){var e=g5(t,"string");return typeof e=="symbol"?e:String(e)}var _2={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},b5=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},v5=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},kc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},_5=function(e){return kc(e)&&!e.shiftKey},w5=function(e){return kc(e)&&e.shiftKey},w2=function(e){return setTimeout(e,0)},x2=function(e,r){var n=-1;return e.every(function(i,o){return r(i)?(n=o,!1):!0}),n},Ic=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Rd=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},x5=[],T5=function(e,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||x5,o=v2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:_5,isKeyBackward:w5},r),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(F,P,$){return F&&F[P]!==void 0?F[P]:o[$||P]},d=function(F,P){var $=typeof(P==null?void 0:P.composedPath)=="function"?P.composedPath():void 0;return s.containerGroups.findIndex(function(W){var B=W.container,j=W.tabbableNodes;return B.contains(F)||($==null?void 0:$.includes(B))||j.find(function(re){return re===F})})},f=function(F){var P=o[F];if(typeof P=="function"){for(var $=arguments.length,W=new Array($>1?$-1:0),B=1;B<$;B++)W[B-1]=arguments[B];P=P.apply(void 0,W)}if(P===!0&&(P=void 0),!P){if(P===void 0||P===!1)return P;throw new Error("`".concat(F,"` was specified but was not a node, or did not return a node"))}var j=P;if(typeof P=="string"&&(j=n.querySelector(P),!j))throw new Error("`".concat(F,"` as selector refers to no known node"));return j},u=function(){var F=f("initialFocus");if(F===!1)return!1;if(F===void 0||!ym(F,o.tabbableOptions))if(d(n.activeElement)>=0)F=n.activeElement;else{var P=s.tabbableGroups[0],$=P&&P.firstTabbableNode;F=$||f("fallbackFocus")}if(!F)throw new Error("Your focus-trap needs to have at least one focusable element");return F},h=function(){if(s.containerGroups=s.containers.map(function(F){var P=f5(F,o.tabbableOptions),$=h5(F,o.tabbableOptions),W=P.length>0?P[0]:void 0,B=P.length>0?P[P.length-1]:void 0,j=$.find(function(L){return Ua(L)}),re=$.slice().reverse().find(function(L){return Ua(L)}),H=!!P.find(function(L){return Ds(L)>0});return{container:F,tabbableNodes:P,focusableNodes:$,posTabIndexesFound:H,firstTabbableNode:W,lastTabbableNode:B,firstDomTabbableNode:j,lastDomTabbableNode:re,nextTabbableNode:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=P.indexOf(I);return K<0?V?$.slice($.indexOf(I)+1).find(function(Y){return Ua(Y)}):$.slice(0,$.indexOf(I)).reverse().find(function(Y){return Ua(Y)}):P[K+(V?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(F){return F.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(F){return F.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function z(F){var P=F.activeElement;if(P)return P.shadowRoot&&P.shadowRoot.activeElement!==null?z(P.shadowRoot):P},m=function z(F){if(F!==!1&&F!==p(document)){if(!F||!F.focus){z(u());return}F.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=F,b5(F)&&F.select()}},y=function(F){var P=f("setReturnFocus",F);return P||(P===!1?!1:F)},b=function(F){var P=F.target,$=F.event,W=F.isBackward,B=W===void 0?!1:W;P=P||Rd($),h();var j=null;if(s.tabbableGroups.length>0){var re=d(P,$),H=re>=0?s.containerGroups[re]:void 0;if(re<0)B?j=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:j=s.tabbableGroups[0].firstTabbableNode;else if(B){var L=x2(s.tabbableGroups,function(le){var ie=le.firstTabbableNode;return P===ie});if(L<0&&(H.container===P||ym(P,o.tabbableOptions)&&!Ua(P,o.tabbableOptions)&&!H.nextTabbableNode(P,!1))&&(L=re),L>=0){var I=L===0?s.tabbableGroups.length-1:L-1,V=s.tabbableGroups[I];j=Ds(P)>=0?V.lastTabbableNode:V.lastDomTabbableNode}else kc($)||(j=H.nextTabbableNode(P,!1))}else{var K=x2(s.tabbableGroups,function(le){var ie=le.lastTabbableNode;return P===ie});if(K<0&&(H.container===P||ym(P,o.tabbableOptions)&&!Ua(P,o.tabbableOptions)&&!H.nextTabbableNode(P))&&(K=re),K>=0){var Y=K===s.tabbableGroups.length-1?0:K+1,Q=s.tabbableGroups[Y];j=Ds(P)>=0?Q.firstTabbableNode:Q.firstDomTabbableNode}else kc($)||(j=H.nextTabbableNode(P))}}else j=f("fallbackFocus");return j},v=function(F){var P=Rd(F);if(!(d(P,F)>=0)){if(Ic(o.clickOutsideDeactivates,F)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Ic(o.allowOutsideClick,F)||F.preventDefault()}},E=function(F){var P=Rd(F),$=d(P,F)>=0;if($||P instanceof Document)$&&(s.mostRecentlyFocusedNode=P);else{F.stopImmediatePropagation();var W,B=!0;if(s.mostRecentlyFocusedNode)if(Ds(s.mostRecentlyFocusedNode)>0){var j=d(s.mostRecentlyFocusedNode),re=s.containerGroups[j].tabbableNodes;if(re.length>0){var H=re.findIndex(function(L){return L===s.mostRecentlyFocusedNode});H>=0&&(o.isKeyForward(s.recentNavEvent)?H+1<re.length&&(W=re[H+1],B=!1):H-1>=0&&(W=re[H-1],B=!1))}}else s.containerGroups.some(function(L){return L.tabbableNodes.some(function(I){return Ds(I)>0})})||(B=!1);else B=!1;B&&(W=b({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),m(W||s.mostRecentlyFocusedNode||u())}s.recentNavEvent=void 0},A=function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=F;var $=b({event:F,isBackward:P});$&&(kc(F)&&F.preventDefault(),m($))},k=function(F){if(v5(F)&&Ic(o.escapeDeactivates,F)!==!1){F.preventDefault(),a.deactivate();return}(o.isKeyForward(F)||o.isKeyBackward(F))&&A(F,o.isKeyBackward(F))},C=function(F){var P=Rd(F);d(P,F)>=0||Ic(o.clickOutsideDeactivates,F)||Ic(o.allowOutsideClick,F)||(F.preventDefault(),F.stopImmediatePropagation())},T=function(){if(s.active)return _2.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?w2(function(){m(u())}):m(u()),n.addEventListener("focusin",E,!0),n.addEventListener("mousedown",v,{capture:!0,passive:!1}),n.addEventListener("touchstart",v,{capture:!0,passive:!1}),n.addEventListener("click",C,{capture:!0,passive:!1}),n.addEventListener("keydown",k,{capture:!0,passive:!1}),a},O=function(){if(s.active)return n.removeEventListener("focusin",E,!0),n.removeEventListener("mousedown",v,!0),n.removeEventListener("touchstart",v,!0),n.removeEventListener("click",C,!0),n.removeEventListener("keydown",k,!0),a},D=function(F){var P=F.some(function($){var W=Array.from($.removedNodes);return W.some(function(B){return B===s.mostRecentlyFocusedNode})});P&&m(u())},S=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,R=function(){S&&(S.disconnect(),s.active&&!s.paused&&s.containers.map(function(F){S.observe(F,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(F){if(s.active)return this;var P=l(F,"onActivate"),$=l(F,"onPostActivate"),W=l(F,"checkCanFocusTrap");W||h(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=n.activeElement,P==null||P();var B=function(){W&&h(),T(),R(),$==null||$()};return W?(W(s.containers.concat()).then(B,B),this):(B(),this)},deactivate:function(F){if(!s.active)return this;var P=v2({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},F);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,O(),s.active=!1,s.paused=!1,R(),_2.deactivateTrap(i,a);var $=l(P,"onDeactivate"),W=l(P,"onPostDeactivate"),B=l(P,"checkCanReturnFocus"),j=l(P,"returnFocus","returnFocusOnDeactivate");$==null||$();var re=function(){w2(function(){j&&m(y(s.nodeFocusedBeforeActivation)),W==null||W()})};return j&&B?(B(y(s.nodeFocusedBeforeActivation)).then(re,re),this):(re(),this)},pause:function(F){if(s.paused||!s.active)return this;var P=l(F,"onPause"),$=l(F,"onPostPause");return s.paused=!0,P==null||P(),O(),R(),$==null||$(),this},unpause:function(F){if(!s.paused||!s.active)return this;var P=l(F,"onUnpause"),$=l(F,"onPostUnpause");return s.paused=!1,P==null||P(),h(),T(),R(),$==null||$(),this},updateContainerElements:function(F){var P=[].concat(F).filter(Boolean);return s.containers=P.map(function($){return typeof $=="string"?n.querySelector($):$}),s.active&&h(),R(),this}},a.updateContainerElements(e),a};function A5(t,e={}){let r;const{immediate:n,...i}=e,o=c.ref(!1),s=c.ref(!1),a=u=>r&&r.activate(u),l=u=>r&&r.deactivate(u),d=()=>{r&&(r.pause(),s.value=!0)},f=()=>{r&&(r.unpause(),s.value=!1)};return c.watch(()=>X6(t),u=>{u&&(r=T5(u,{...i,onActivate(){o.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){o.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&a())},{flush:"post"}),Y6(()=>l()),{hasFocus:o,isPaused:s,activate:a,deactivate:l,pause:d,unpause:f}}const C5=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Dc=()=>{};function Pd(t,e,r){return t>r?r:t<e?e:t}const bm=t=>typeof t=="string";function vm(t,e){var r;const n=((r=Mc(t,e))==null?void 0:r[0])||e;t.push(n)}function Mc(t,e){const r=t.indexOf(e);if(r!==-1)return t.splice(r,1)}function T2(t){return Object.entries(t)}const S5={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function A2(t=!1){const e=c.ref(t),r=c.ref(e.value?0:void 0);return[e,r,{beforeEnter(){r.value=1},afterEnter(){r.value=0},beforeLeave(){r.value=3},afterLeave(){r.value=2}}]}function E5(t,e){const{modelValueLocal:r,onEntering:n,onEnter:i,onLeaving:o,onLeave:s}=e,a=c.ref(r.value),[l,d,f]=A2(a.value),[u,h,p]=A2(a.value),m=c.computed(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),y=c.computed(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),b=c.computed(()=>(t.hideOverlay||h.value===2)&&d.value===2);c.watch(b,A=>{A&&(a.value=!1)}),c.watch(d,A=>{if(A===1){if(!a.value)return;n==null||n()}else if(A===0){if(!a.value)return;i==null||i()}else A===3?o==null||o():A===2&&(s==null||s())});async function v(){a.value=!0,await c.nextTick(),l.value=!0,u.value=!0}function E(){l.value=!1,u.value=!1}return{visible:a,contentVisible:l,contentListeners:f,contentTransition:m,overlayVisible:u,overlayListeners:p,overlayTransition:y,enterTransition:v,leaveTransition:E}}function k5(t,e,r){const{vfmRootEl:n,vfmContentEl:i,visible:o,modelValueLocal:s}=r,a=c.ref();function l(){o.value&&t.escToClose&&(s.value=!1)}function d(u){a.value=u==null?void 0:u.target}function f(){var u;a.value===n.value&&(t.clickToClose?s.value=!1:((u=i.value)==null||u.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:f,onMousedown:d}}function I5(t,e,r){let n=!1;const{open:i,close:o}=r,s=c.ref(!1),a={get value(){return s.value},set value(d){l(d)}};function l(d){(d?i():o())?(s.value=d,d!==t.modelValue&&e("update:modelValue",d)):(n=!0,e("update:modelValue",!d),c.nextTick(()=>{n=!1}))}return c.watch(()=>t.modelValue,d=>{n||(a.value=!!d)}),{modelValueLocal:a}}function D5(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:r}=e,{hasFocus:n,activate:i,deactivate:o}=A5(r,t.focusTrap);function s(){requestAnimationFrame(()=>{i()})}function a(){n.value&&o()}return{focus:s,blur:a}}let _m=!1;if(typeof window<"u"){const t={get passive(){_m=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const C2=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let qo=[],Fd=!1,Ud=0,S2=-1,Nc,Oc;const M5=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},N5=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),O5=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},L5=(t,e)=>{let r=!1;return O5(t).forEach(n=>{M5(n)&&N5(n,e)&&(r=!0)}),r},E2=t=>qo.some(()=>L5(t,-Ud)),wm=t=>{const e=t||window.event;return E2(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},B5=t=>{if(Oc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(e&&r>0){const n=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Oc=document.body.style.paddingRight,document.body.style.paddingRight=`${n+r}px`}}Nc===void 0&&(Nc=document.body.style.overflow,document.body.style.overflow="hidden")},R5=()=>{Oc!==void 0&&(document.body.style.paddingRight=Oc,Oc=void 0),Nc!==void 0&&(document.body.style.overflow=Nc,Nc=void 0)},P5=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,F5=(t,e)=>(Ud=t.targetTouches[0].clientY-S2,E2(t.target)?!1:e&&e.scrollTop===0&&Ud>0||P5(e)&&Ud<0?wm(t):(t.stopPropagation(),!0)),U5=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(qo.some(n=>n.targetElement===t))return;const r={targetElement:t,options:e||{}};qo=[...qo,r],C2?(t.ontouchstart=n=>{n.targetTouches.length===1&&(S2=n.targetTouches[0].clientY)},t.ontouchmove=n=>{n.targetTouches.length===1&&F5(n,t)},Fd||(document.addEventListener("touchmove",wm,_m?{passive:!1}:void 0),Fd=!0)):B5(e)},j5=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}qo=qo.filter(e=>e.targetElement!==t),C2?(t.ontouchstart=null,t.ontouchmove=null,Fd&&qo.length===0&&(document.removeEventListener("touchmove",wm,_m?{passive:!1}:void 0),Fd=!1)):qo.length||R5()};function $5(t,e){const{lockScrollEl:r,modelValueLocal:n}=e;let i;c.watch(r,a=>{a&&(i=a)},{immediate:!0}),c.watch(()=>t.lockScroll,a=>{a?s():o()}),c.onBeforeUnmount(()=>{o()});function o(){i&&j5(i)}function s(){n.value&&t.lockScroll&&i&&U5(i,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:o,disableBodyScroll:s}}function z5(t){const e=c.ref();function r(i){var o;e.value=(o=t.zIndexFn)==null?void 0:o.call(t,{index:i<=-1?0:i})}function n(){e.value=void 0}return{zIndex:e,refreshZIndex:r,resetZIndex:n}}const xm={beforeMount(t,{value:e},{transition:r}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,r&&e?r.beforeEnter(t):Lc(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Lc(t,!0),n.enter(t)):n.leave(t,()=>{Lc(t,!1)}):Lc(t,e))},beforeUnmount(t,{value:e}){Lc(t,e)}};function Lc(t,e){t.style.visibility=e?t._vov:"hidden"}const k2=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:r}=t;return{x:e,y:r}}else{const{clientX:e,clientY:r}=t.targetTouches[0];return{x:e,y:r}}};function V5(t){if(!t)return!1;let e=!1;const r={get passive(){return e=!0,!1}};return t.addEventListener("x",Dc,r),t.removeEventListener("x",Dc),e}function H5(t,{threshold:e=0,onSwipeStart:r,onSwipe:n,onSwipeEnd:i,passive:o=!0}){const s=c.reactive({x:0,y:0}),a=c.reactive({x:0,y:0}),l=c.computed(()=>s.x-a.x),d=c.computed(()=>s.y-a.y),{max:f,abs:u}=Math,h=c.computed(()=>f(u(l.value),u(d.value))>=e),p=c.ref(!1),m=c.computed(()=>h.value?u(l.value)>u(d.value)?l.value>0?"left":"right":d.value>0?"up":"down":"none"),y=(O,D)=>{s.x=O,s.y=D},b=(O,D)=>{a.x=O,a.y=D};let v,E;function A(O){v.capture&&!v.passive&&O.preventDefault();const{x:D,y:S}=k2(O);y(D,S),b(D,S),r==null||r(O),E=[vi(t,"mousemove",k,v),vi(t,"touchmove",k,v),vi(t,"mouseup",C,v),vi(t,"touchend",C,v),vi(t,"touchcancel",C,v)]}function k(O){const{x:D,y:S}=k2(O);b(D,S),!p.value&&h.value&&(p.value=!0),p.value&&(n==null||n(O))}function C(O){p.value&&(i==null||i(O,m.value)),p.value=!1,E.forEach(D=>D())}let T=[];return c.onMounted(()=>{const O=V5(window==null?void 0:window.document);o?v=O?{passive:!0}:{capture:!1}:v=O?{passive:!1,capture:!0}:{capture:!0},T=[vi(t,"mousedown",A,v),vi(t,"touchstart",A,v)]}),{isSwiping:p,direction:m,coordsStart:s,coordsEnd:a,lengthX:l,lengthY:d,stop:()=>{T.forEach(O=>O()),E.forEach(O=>O())}}}function q5(t,e){const{vfmContentEl:r,modelValueLocal:n}=e,i=.1,o=300,s=c.ref(),a=c.computed(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?s.value:r.value}),l=c.ref(0),d=c.ref(!0);let f=Dc,u=!0,h,p=!1;const{lengthX:m,lengthY:y,direction:b,isSwiping:v}=H5(a,{threshold:t.threshold,onSwipeStart(C){f=vi(document,"selectionchange",()=>{var T;d.value=(T=window.getSelection())==null?void 0:T.isCollapsed}),h=new Date().getTime(),p=k(C==null?void 0:C.target)},onSwipe(){var C,T,O,D;if(p&&d.value&&b.value===t.swipeToClose){if(b.value==="up"){const S=Pd(Math.abs(y.value||0),0,((C=a.value)==null?void 0:C.offsetHeight)||0)-(t.threshold||0);l.value=S}else if(b.value==="down"){const S=Pd(Math.abs(y.value||0),0,((T=a.value)==null?void 0:T.offsetHeight)||0)-(t.threshold||0);l.value=-S}else if(b.value==="right"){const S=Pd(Math.abs(m.value||0),0,((O=a.value)==null?void 0:O.offsetWidth)||0)-(t.threshold||0);l.value=-S}else if(b.value==="left"){const S=Pd(Math.abs(m.value||0),0,((D=a.value)==null?void 0:D.offsetWidth)||0)-(t.threshold||0);l.value=S}}},onSwipeEnd(C,T){if(f(),!d.value){d.value=!0;return}const O=new Date().getTime(),D=T===t.swipeToClose,S=(()=>{var z,F;if(T==="up"||T==="down")return Math.abs((y==null?void 0:y.value)||0)>i*(((z=a.value)==null?void 0:z.offsetHeight)||0);if(T==="left"||T==="right")return Math.abs((m==null?void 0:m.value)||0)>i*(((F=a.value)==null?void 0:F.offsetWidth)||0)})(),R=O-h<=o;if(u&&p&&D&&(S||R)){n.value=!1;return}l.value=0}}),E=c.computed(()=>{if(t.swipeToClose==="none")return;const C=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!v.value},style:{transform:`${C}(${-l.value}px)`}}});c.watch(()=>d.value,C=>{C||(l.value=0)}),c.watch(()=>n.value,C=>{C&&(l.value=0)}),c.watch(()=>l.value,(C,T)=>{switch(t.swipeToClose){case"down":case"right":u=C<T;break;case"up":case"left":u=C>T;break}});function A(C){t.preventNavigationGestures&&C.preventDefault()}function k(C){const T=C==null?void 0:C.tagName;if(!T||["INPUT","TEXTAREA"].includes(T))return!1;const O=(()=>{switch(t.swipeToClose){case"up":return(C==null?void 0:C.scrollTop)+(C==null?void 0:C.clientHeight)===(C==null?void 0:C.scrollHeight);case"left":return(C==null?void 0:C.scrollLeft)+(C==null?void 0:C.clientWidth)===(C==null?void 0:C.scrollWidth);case"down":return(C==null?void 0:C.scrollTop)===0;case"right":return(C==null?void 0:C.scrollLeft)===0;default:return!1}})();return C===a.value?O:O&&k(C==null?void 0:C.parentElement)}return{vfmContentEl:r,swipeBannerEl:s,bindSwipe:E,onTouchStartSwipeBanner:A}}const I2=Symbol("vfm");let Ms;const W5=t=>Ms=t,G5={install:Dc,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:c.ref([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},Q5=()=>c.getCurrentInstance()&&c.inject(I2,G5)||Ms;function Y5(){const t=c.shallowReactive([]),e=c.shallowReactive([]),r=c.shallowReactive([]),n=c.shallowReactive([]),i=c.ref([]),o=c.markRaw({install(s){s.provide(I2,o),s.config.globalProperties.$vfm=o},modals:t,openedModals:e,openedModalOverlays:r,dynamicModals:n,modalsContainers:i,get(s){return t.find(a=>{var l,d;return((d=(l=Bc(a))==null?void 0:l.value.modalId)==null?void 0:d.value)===s})},toggle(s,a){var l;const d=o.get(s);return(l=Bc(d))==null?void 0:l.value.toggle(a)},open(s){return o.toggle(s,!0)},close(s){return o.toggle(s,!1)},closeAll(){return Promise.allSettled(e.reduce((s,a)=>{const l=Bc(a),d=l==null?void 0:l.value.toggle(!1);return d&&s.push(d),s},[]))}});return W5(o),o}function Bc(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const K5=c.defineComponent({inheritAttrs:!1}),zi=c.defineComponent({...K5,__name:"VueFinalModal",props:S5,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:r}){const n=t,i=r,o=c.useAttrs(),s=c.getCurrentInstance(),{modals:a,openedModals:l,openedModalOverlays:d}=rn(),f=c.ref(),u=c.ref(),{focus:h,blur:p}=D5(n,{focusEl:f}),{zIndex:m,refreshZIndex:y,resetZIndex:b}=z5(n),{modelValueLocal:v}=I5(n,i,{open:I,close:V}),{enableBodyScroll:E,disableBodyScroll:A}=$5(n,{lockScrollEl:f,modelValueLocal:v});let k=Dc;const{visible:C,contentVisible:T,contentListeners:O,contentTransition:D,overlayVisible:S,overlayListeners:R,overlayTransition:z,enterTransition:F,leaveTransition:P}=E5(n,{modelValueLocal:v,onEntering(){c.nextTick(()=>{A(),h()})},onEnter(){i("opened"),k("opened")},onLeave(){Mc(l,s),b(),E(),i("closed"),k("closed")}}),{onEsc:$,onMouseupRoot:W,onMousedown:B}=k5(n,i,{vfmRootEl:f,vfmContentEl:u,visible:C,modelValueLocal:v}),{swipeBannerEl:j,bindSwipe:re,onTouchStartSwipeBanner:H}=q5(n,{vfmContentEl:u,modelValueLocal:v}),L=c.computed(()=>s?l.indexOf(s):-1);c.watch([()=>n.zIndexFn,L],()=>{C.value&&y(L.value)}),c.onMounted(()=>{vm(a,s)}),n.modelValue&&(v.value=!0);function I(){let he=!1;return i("beforeOpen",{stop:()=>he=!0}),he?!1:(vm(l,s),vm(d,s),Y(),F(),!0)}function V(){let he=!1;return i("beforeClose",{stop:()=>he=!0}),he?!1:(Mc(d,s),Y(),p(),P(),!0)}function K(){v.value=!1}c.onBeforeUnmount(()=>{E(),Mc(a,s),Mc(l,s),p(),Y()});async function Y(){await c.nextTick();const he=d.filter(fe=>{var ve;const Se=Bc(fe);return(Se==null?void 0:Se.value.overlayBehavior.value)==="auto"&&!((ve=Se==null?void 0:Se.value.hideOverlay)!=null&&ve.value)});he.forEach((fe,ve)=>{const Se=Bc(fe);Se!=null&&Se.value&&(Se.value.overlayVisible.value=ve===he.length-1)})}const Q=c.toRef(()=>n.modalId),le=c.toRef(()=>n.hideOverlay),ie=c.toRef(()=>n.overlayBehavior),me=c.computed(()=>({modalId:Q,hideOverlay:le,overlayBehavior:ie,overlayVisible:S,toggle(he){return new Promise(fe=>{k=C5(Se=>fe(Se));const ve=typeof he=="boolean"?he:!v.value;v.value=ve})}}));return e({modalExposed:me}),(he,fe)=>(c.openBlock(),c.createBlock(c.Teleport,{to:he.teleportTo?he.teleportTo:void 0,disabled:!he.teleportTo},[he.displayDirective!=="if"||c.unref(C)?c.withDirectives((c.openBlock(),c.createElementBlock("div",c.mergeProps({key:0},c.unref(o),{ref_key:"vfmRootEl",ref:f,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":he.background==="interactive"}],style:{zIndex:c.unref(m)},role:"dialog","aria-modal":"true",onKeydown:fe[7]||(fe[7]=c.withKeys(()=>c.unref($)(),["esc"])),onMouseup:fe[8]||(fe[8]=c.withModifiers(()=>c.unref(W)(),["self"])),onMousedown:fe[9]||(fe[9]=c.withModifiers(ve=>c.unref(B)(ve),["self"]))}),[le.value?c.createCommentVNode("",!0):(c.openBlock(),c.createBlock(c.Transition,c.mergeProps({key:0},c.unref(z),c.toHandlers(c.unref(R))),{default:c.withCtx(()=>[he.displayDirective!=="if"||c.unref(S)?c.withDirectives((c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",he.overlayClass]),style:c.normalizeStyle(he.overlayStyle),"aria-hidden":"true"},null,6)),[[c.vShow,he.displayDirective!=="show"||c.unref(S)],[c.unref(xm),he.displayDirective!=="visible"||c.unref(S)]]):c.createCommentVNode("",!0)]),_:1},16)),c.createVNode(c.Transition,c.mergeProps(c.unref(D),c.toHandlers(c.unref(O))),{default:c.withCtx(()=>[he.displayDirective!=="if"||c.unref(T)?c.withDirectives((c.openBlock(),c.createElementBlock("div",c.mergeProps({key:0,ref_key:"vfmContentEl",ref:u,class:["vfm__content vfm--outline-none",[he.contentClass,{"vfm--prevent-auto":he.background==="interactive"}]],style:he.contentStyle,tabindex:"0"},c.unref(re),{onMousedown:fe[6]||(fe[6]=()=>c.unref(B)())}),[c.renderSlot(he.$slots,"default",c.normalizeProps(c.guardReactiveProps({close:K}))),he.showSwipeBanner?(c.openBlock(),c.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:j,class:"vfm-swipe-banner-container",onTouchstart:fe[2]||(fe[2]=ve=>c.unref(H)(ve))},[c.renderSlot(he.$slots,"swipe-banner",{},()=>[c.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:fe[0]||(fe[0]=ve=>he.swipeToClose==="left"&&ve.preventDefault())},null,32),c.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:fe[1]||(fe[1]=ve=>he.swipeToClose==="right"&&ve.preventDefault())},null,32)])],544)):!he.showSwipeBanner&&he.preventNavigationGestures?(c.openBlock(),c.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:fe[5]||(fe[5]=ve=>c.unref(H)(ve))},[c.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:fe[3]||(fe[3]=ve=>he.swipeToClose==="left"&&ve.preventDefault())},null,32),c.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:fe[4]||(fe[4]=ve=>he.swipeToClose==="right"&&ve.preventDefault())},null,32)],32)):c.createCommentVNode("",!0)],16)),[[c.vShow,he.displayDirective!=="show"||c.unref(T)],[c.unref(xm),he.displayDirective!=="visible"||c.unref(T)]]):c.createCommentVNode("",!0)]),_:3},16)],16)),[[c.vShow,he.displayDirective!=="show"||c.unref(C)],[c.unref(xm),he.displayDirective!=="visible"||c.unref(C)]]):c.createCommentVNode("",!0)],8,["to","disabled"]))}});function rn(){const t=Q5();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function D2(t,e=zi){const{component:r,slots:n,...i}=t,o=typeof n>"u"?{}:Object.fromEntries(T2(n).map(([s,a])=>bm(a)?[s,a]:jd(a)?[s,{...a,component:c.markRaw(a.component)}]:[s,c.markRaw(a)]));return{...i,component:c.markRaw(r||e),slots:o}}function Vi(t){const e=c.reactive({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...D2(t)});H6(()=>{e!=null&&e.keepAlive||a()}),e.modelValue===!0&&(Ms?Ms==null||Ms.dynamicModals.push(e):c.nextTick(()=>{const l=rn();l==null||l.dynamicModals.push(e)}));async function r(){let l;return Ms?l=Ms:(await c.nextTick(),l=rn()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(a(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(d=>{e.resolveOpened=()=>d("opened")}))}function n(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function i(l){const{slots:d,...f}=D2(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),o(e,f),d&&T2(d).forEach(([u,h])=>{const p=e.slots[u];bm(p)?e.slots[u]=h:jd(p)&&jd(h)?o(p,h):e.slots[u]=h})}function o(l,d){d.component&&(l.component=d.component),d.attrs&&s(l.attrs,d.attrs)}function s(l,d){return Object.entries(d).forEach(([f,u])=>{l[f]=u}),l}function a(){const l=rn(),d=l.dynamicModals.indexOf(e);d!==-1&&l.dynamicModals.splice(d,1)}return{options:e,open:r,close:n,patchOptions:i,destroy:a}}function jd(t){return typeof t=="object"&&t!==null?"component"in t:!1}const X5=["innerHTML"],Z5=c.defineComponent({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:r}=rn(),n=Symbol("ModalsContainer"),i=c.computed(()=>{var a;return n===((a=e.value)==null?void 0:a[0])});e.value.push(n),c.onBeforeUnmount(()=>{e.value=e.value.filter(a=>a!==n)});function o(a){var l,d,f;(d=(l=r[a])==null?void 0:l.resolveClosed)==null||d.call(l),(f=r[a])!=null&&f.keepAlive||r.splice(a,1)}function s(a){var l,d;(d=(l=r[a])==null?void 0:l.resolveOpened)==null||d.call(l)}return(a,l)=>i.value?(c.openBlock(!0),c.createElementBlock(c.Fragment,{key:0},c.renderList(c.unref(r),(d,f)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(d.component),c.mergeProps({key:d.id},{displayDirective:d!=null&&d.keepAlive?"show":void 0,...typeof d.attrs=="object"?d.attrs:{}},{modelValue:d.modelValue,"onUpdate:modelValue":u=>d.modelValue=u,onClosed:()=>o(f),onOpened:()=>s(f)}),c.createSlots({_:2},[c.renderList(d.slots,(u,h)=>({name:h,fn:c.withCtx(()=>[c.unref(bm)(u)?(c.openBlock(),c.createElementBlock("div",{key:0,innerHTML:u},null,8,X5)):c.unref(jd)(u)?(c.openBlock(),c.createBlock(c.resolveDynamicComponent(u.component),c.normalizeProps(c.mergeProps({key:1},u.attrs)),null,16)):(c.openBlock(),c.createBlock(c.resolveDynamicComponent(u),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):c.createCommentVNode("",!0)}}),M2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVR4nO3aP0oEMRSA8SfiFl7CPu1AgpV51ovmLeQK9v45gF7Aq6jXEO/gegy1WBlhQZHNvEJQNt8P0kw1fMyEhEQEAAAAAAAAALCtaq27Ue0qqT19jry4HJ/99Xv9C6HWWVK7T2qrbyOXW+ldqHUWc3n4EUdtFdXeh/l8X3oVGnHW41AXB9Kj4IgT1Z5FZEd6ExxxUi6vUe1YOp2Q7ybjHJ0W6U0gzmbEaSBOA3EaiNNAnAbiNAzD2Z5nEZjUTqRHSe2GOA0plxdWyA0xl+XmL6i8dbmF+CqpXfOLNTBJOyNN7th7/90GIk0jkgORHIjkQCQHIjkQyYFjn986OMxl2eXB4RpHzw5cXnDg+ovDeFkq5XKRcnkcR1Q75wIVAAAAAAAAAMg2+AByUSBd2KYVoQAAAABJRU5ErkJggg==",$d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAExElEQVR4nO2bS4hcRRSGa4yOGkUMKKKiID6yUbIRH7iI7hSiQWV0IwYXtn2rbj9OtaMBF/+5PTPEGNQZIQufCxUkAQVFRIwustfBx8ZkY1ATVCRO8DE+xiinOyNOcuvenqT71u2Z+uBup/7+63XqnDNKBQKBQCAQCAQCPqjVpi6MbTKmCc9py3uM5a8M4bCxOGos/6otftCEWW35DU08bpq4fmxs9xq1kgEwGhMeEEM08d/G8j/L+3BIE+8wFteolQSA041lYwhfL9+UE79j5u6qNtrr1bCjW8mNhvizfhiTYtQfhniqVps5Uw0hI8Zyo/MjBmDOEqMsf6IJV6lhYWxs9xpD/PKgjVnyEQ7HzeQWVXYqlefP0MRv97hFvjGWd8aW7zfUvi7aum2drLxKBWvNOC6JKLlNbjBN+MBYLOT/PfwSUbJRlZgRQ3g1f7Z5b9xK7gBwWq9/uNKcvFjOG0OYy1lJczG1N6gyEls8ln1W4LuohXtOZYx6feoiiY1yTDpwbDWW7Lay+DNj+c9GduKyfo1nLGzWttMWb6kyxTna4tOMGX231dpxTr/H1YTbDfG8e9zkblUGIoLOWjmDMGcRicyztppE78onAEZdEbKcOfU6Lh+0Bk28PeOmfFj5JM6cweTe4kIL7E/XgS/ldlW+0N2XeOpVXqQOyQw4J6qR3Kx8pSy041UucU7BckbkyZG+1flZ5QPdxH2OZf2tj9yNthw5zsLPi9bSQZJdjmW9U3mgE213E27HT9hRL4Gjdpw/8rYqXMyiJuJ9pTmHjKRJU8RUW7hWeUIi6DRNEeFBD2L4pzQxjQbOV54wlmcc275RuBhN/FeaGHl6FC7mP02YdBj0RPFiLH5LE0P09NnKE8biKUdc9njxYoi/TxPzCE1eqjyhLV5yxEJR8WIIs6mz1cKtyhMSwTtis02Fi9GOxJUkzgoX03mTYa1r29fH21cXLkhLxTN9Oe/xknZpJnem6iE+6EOPknKwYzkvSFRbuB5XJYXwuvJW3rE45Lg1porUIulcZ3aR+CHlC92plafO2pwk2IvSYSxecGz3I7UazlO+qDba610pDznEi9AQE25wFgwIzyjfGMu7HNGrnEd2kGNXLC5wN0VgIW5NXKF8U+2uIkcNHgtSfRjEuNK0YAgfuieHZ1RZMFL1dAklnpfc9QCymR+5x8QBrXGuKgu17mx+nDGbEo9slwR7f1pqsnuNdDPZrMpG7dGJK7XFj9kmYb8k2E+m0iAlJE38oiuLcNw475Wyb6hKuEm6LHrq6bEc5QWUnU4Pi7skCNQWv+f93aEwKaJkY24XxtKtt88Qv6kJ09riSfk6UTHxXtfbauhNiqm9QQ7KU/lx/fpKa1K0dds6V464b5/cVs1ks5gwlCYJ0mXR/9XUaX2ZWbzK5ccPtUkARqWRwFmW6XW7WD4iz4e0CHnoTVpEalRSDjbEX6QX+k44xA9qy6/Jqzzv4bliTPr/OSWGmSZvkdKMJNfl65aRselk2ntXnEkD61uyeCfHpPe3AGep1QqCSfkEk3ogmNQD4eDun0nTajVTyzfpZ69Nn6U3iXh+Of9DsupM0hav+NZWNpOmZVvJyhFzSpXHLhFy5qzucycQCAQCgUBA9ca/01SgfkYyM0gAAAAASUVORK5CYII=",J5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvElEQVR4nO1cW48URRSu9RovaLzj/fIo6i/wEqLogyjqim8aXOLA1JlZp07vAuLDqQZWWGETffQV77jqA08mxEeioiAIRh4gogmy6Bq5bVYwYE7PoBG3q3unq7p6ZvtLOtnsTFd1f3Pq3OqcEqJEiRIlSpQoUaJEB6FnaUD3gNIvgtJrJdInEmmXVLQfFP0OSCel0n82/9b7+DNQ+uPWdxfxvTyGmMmoLF93pUTqA9QfgtJjgPpMlksiHZKKPuAfpV6nK8QMQQ9g+JhE/b5EmshKooHcCVD0XrVBj3al5BLRedVG+IREvc0ViQZyd1UVvbBw4abzRTcAMJwHSN/nTeT/iFV6j8TwYdGpqDTW3AiKNvomcgpiN1dx9a2ikwBIT0rU477Ji70U/SEDelYUHUR0kVT0BiCdbkNyTkmkrYD0ek3pxRLp/lqw+s7qirVXVSpvXcgX/83/qzXCB6LvKL2e7+F7p08snZZKj/C4oohgVwWQPp8WiUiToPRHshEukJIub3fuvsHhWTWkpyTSaDTm9KR1C98vioT+/qEbpKLt0yDykERawRJn+1l4TFD6lWn5toq+XhrQ9aI4ZOq96YjUR6TSgVIjl7h+rkqFLgWkAVB0NKXK2eudVF7maSVTIm2CQbop72dcotbczGolraR6W/5sgFLqzBMcDgrPaIW5J9LoVC+GqmnNEx/uR9lYNUcUBJxEkagPpPAANuT6YIA0P8k1kkrvKaIDzQGHRPo20aVqhAty1ElRGs0gmfo7pehqUVDwswHS7gQDOi4HaLbzh4nSbWbJ/Lm/n24TBQcbSFZJCSrrnRwSHWYDJC3pTI6UQOnlU138mY05QK2615xGpNNVFc4VrlJwiVkjZc+agyJtkBxtax4OYZPUF7+7sA3ZoOeS/ExhEXkRyuCQ1Uxq2Gtzvtak+hvDCx5lYyU6lNCm5ddHDKTusJr5522LBEMUWJvMA6GMGtIys30I51mbjPeADDpmzEVsDjkTGsX+poSKLYvfTMvFh2ycNRIOADkTypBIK00ejJU4vxUDx5E56SIFx6g16BGJtG6qiz8Tjhx+Uz6VN/ucOvK2LXsRwEUW8e+r3806fo9Jr+QW7+aIakDPGOzFL5msPUcS8TqFTmbZtih0RYthjypTJBjVGsUv962iSyFRf+lEj3IxlsH3XC+6FFLpEcOyH8oy8KcGCe0TXQqp9EuG9x5te2BQeqdhYCsZH5/Zpti5A3owIQxtD6Z8oQxW3271LQrg2J8FF1PEqzra3/bApnIa1xl58EhoBelagw79te2Bo6rhmIF511N0KaH1+psXG1TdZNsDl4Rqy4SWS/6M1SVvMkpLXqY72h54pholn24TeCTUmdtkzry4dezBJ6EGx57rpDoy9AS/hDoKPZEW+UqOgE9CDckRGejn2x446m6Ll9BTLkv/wBOhnL4DpL/i5q4HdHeW8Xu42jhucC7DFl1GKKiwN94g0cHM28lRu58LBV1QQk0ZNis7nwl61NkmHXggNNqkM4TbmfTnTNxGBtSvxtsMOm7NZnAjqmHZj3GRgJWJPBc6SKTD8YKj37Y2GXf1xivqyOIPig4nFDh5bXhH67UA3CHRrcVi9WV0C6A+Zlju2623iXNvpOkXtG3xIUdCo9MhjO8WPi0cFdwa69JrSi/uNEKNcXtTUHY6O8SA+82Nk6M+0Tr/oyNqm6oDdF+KkvCHhEsYSxuxc5oWWt0sSU0LG/PqnjC31SDtLnJbDcBr13AflVEwkH7Lpa2GUQ3Cxzu18QsigYhPnJ9d6rkXwhlzhviPM3yAC85EQcA6ExT9lPjcSg/n/nDcYMqNpsmk0oRN65/Fmqc82ugzb6c8cGxrdPjxP8SOsgOd9zNGTnuSn/nvitrmvUSTm/bTHkAAqI9xt4WL2P9cBMH6y1rhZGwEdI7e/KFeH7pOFAFMalpJhaa0HuZjLFx4Aq06+ZWmRMdUkun9NIeY5b8l7Uu0iJ3knVUuw85yXl20baHCXk4Om/KZcTrT+zI3GiqkDe0cMxTt4yj6gu9nA8IRSrVBd7HEcR0VX/w3/48/i4yM0iPNDbX4PaCEY4aGiegCUXQA0nx2jKf/kvlc/GzsS4tOghyg2c2j2tqRVodkKr3Zh7dhDVUVzuUWad9EcnTkPNGRI3r4uEtQ9JUfIrvouMspDmSdx9uxqY78aXtZ03HeA3LVwlhI9A0Oz2LJ4XY/7lDLTiQd5B+Kt3oL6wblCdlYNYcJ5mKs1gkLO5oHWOtx9i2jq1kAvI/3eKLvKD3E92QtjylRokSJEiVKlCgh8sbfxQL1rY5eoTYAAAAASUVORK5CYII=",eM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVR4nM2ZX0hTYRTA1z8o6KEiooiiCCEqiCDqxTLopR6Dbnf3nO/u7l8XSvLBhx58UZo+JEEYmUYDzQ3MhCDC6bb2FqSNVIikt0gTaTMlMPpj+cU37/Squ/d+d5uuAwf2sLPz4/z7vu/M4ShQBEHYAADbZVneL0nSYUmSylwu115FUbY51lIkSdqJiJcB4C4ixhHxIwD8RERqpgAwAwAfEPEFANwihFwQBGFLUaBqa2vXI+IlDWjWCgY5lUEjYich5HQhETsFAMPFgkJj2OeiKO6zBQcAPgD4vdpwuKhTiHiOCw4Rr68hGNVF8ockSeVWaS1HxD+lAMR5TRNCduWEq6io2AgAIyWEo1okQ0Z1J5caDucB/yLikVy1N1BqOFyEvLcEThTFA4g4Z2VYV1dHn3Z306amJkoI4Xbodrvpo2CQPunqotXV1TyAE+yE0qdXtTIK1NfTVDpN05OTGY3H49Tlclk6U1WVDg0PL9h9Hh+nN6qqLO0IIcf16W2zMujp6VlwwgupLoPLamtrqyWgJEnX9ICDVgZt7e0rHKVNII3gmAYCAZ7SeKBP8TeeOnqTTHJBqiZwLBOctRvPwAmCsJW32D0eD33d35/TcSKRyED6/X46ODSU8zvRWIzKsszbySPZ9O7hBWTq8/kMI/kykTCOXCRiq/MRcTR7vJXZAcxGsn9gICdIoZHTRXA6A+h0Ok/YBbQDGc0DTtPZbIOczQeQBzKaP1xGFUXZzGrwTL4/4DdpCH3jFASYb4qt4NKFQ87m3SS8cOnCIKcygIqi7LZjaDaEe/v6uIe5lQLAJ9uDmkXu7eCgaUN4TBrHTiQB4L3+qJu2MvB6vdxD2GcyzGOxGNfABoCoHjBpZRAKhXI6jPT25nRoBtnQ0MATxfv620wwn+tWxADOCrKlpYUnglf1gF6e2/SXVMr22erz+WhSBzk6NkYrKyst7ZxO59EFQLbs0R4rpkY1NTU0HA7T242N3N2I8wOXNjc308cdHVy3ae2isG75o+mVHaerrHdyvequ/AdglC0ORFE8ZLTnW/VlEVpr0GEksiyfRMRfJYQbFwRhhyGgNhPdPG/kYisAzLAAmcLp6pHwbE+xeHATbB/psCOEkGNr0NlziBg23GhxRvM8ADxj+7sign1FxIdLhnGhwm49AHCRLcI14HfaZtSwqQDgOyKmtLO+EwBushu8qqqbigbGI8wh+yuCEHKQ7ZvZ5xUnQZ7yD8zfzl1rwXkSAAAAAElFTkSuQmCC",N2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR4nO2bsWtUQRDGV1AxWCoWWgsS7ULgbufI2RxWNlraqq34F7ybiYgaYqVFsBP/AEWFgJWQUtBCkICW0Sg2ejeTa3RlL57cJXfcnXkvu++9+cG0B/vdt9/uzts1RlEURVEURVGmYTZxh4H4rkX5DCjfLcqDBeqcnupHioxFvgMkbrD4F5A8raHUTdnpOod2CjRQb2vE1+uJO2LKyBhxXK8syRdAbs7f/nHMlIlJBYKeUMgdS/y4lnRmTRmYViDoyymL/AqQLxrnDpii8v8CSZ+r5F1hcyoNgaBXKJs+p+rJz+OmKKQqEBUwp7IQCP45in/nPqcyFYh251Rl2c2YPLFfAkFec2rfBaLBnAJqnTUxE0ogyEtOBReI+lxFvA7EN6LKqdCiwPD66rsMNuGTofWJVSDXn1PVpHVOBaKx028tSE6FdgnEnlN+FYEIBj51oWxakqSatE5kLdDH4IPdm6O2AOVRZvsp22xfCz3IdBzVnQmrVWxfSD2ngPgSkLwA4g8WuR18sHt1Fcp7S+2rmfWnKstuxu9BasRzfuXwh0x/frIkKxbluSV5M0GzP3hZlG9+P1W5xadMCBpL7mg16ZypLsqCbcoVS3wTUO4D8RNAfh2LI//up5bmVtwhEyONSIT0Ipk808hYSD/lTJ5plFWgRiRTDJDvlXPgND6kvTj1xB1MZeAVXeYHsciXAeVlLP94VBvF7iaQwg8q2qOGJf6Ua7dkfVjVdscYcuiY9f1tmOVHmDVtudIOUbRpL6Mco599IIZ8mYTQ2QL66VmGu0UvL8jIfNHrLzTMMXqByuUuXyYhk00d6iVOV4jrdZOQjmNEL5LDLmH0KYIrfL5MwrT5Ml/C51AbY8Qp94O6kU8yUZ7B4tZ5U3b8o167LdJG91EvyUN91KsoiqIoiqIoZps/5GTgdqN3Zd0AAAAASUVORK5CYII=",O2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVR4nO2bv4vUUBDHn6DicaViobUgnp292lnZaGmrtuJfoOV5B1ZaiJ34BygqCFaC5YEWCyIoy2XfzOzOxEIQ3MYbye3q/Yomuyb3XpL5wLQL893J900mb5wzDMMwDMMwjFno9fSwR74HKAjEKSA/GDCfmulH2oxHXgYS3R4e+adHfobIF1zXmVSO6D/iPaLc7Pf7R1wXKRBHt6pKCEjuev/tqOsSZQWCrRh74ieI6RnXBeYQSH/7FCC/8SSXVfWAayvzCgTbA+VDa32qEoHoj08NM58CgGOuLVQpELTRp2oSSKc+tdF4n6pTIMjxqSRJFlyT2DeBqKE+td8CwS6fIvq65GImoEDaCJ8KLRDsjE8w5FtR+VQEoujeqpJRNmVYFzkRWp8oBYK9PnXWBKKCqiJ5F8SnIqgSjdqnNk8RCp70XP2UR75DRMdrFQhQPodO9j/jh0d5XFs/BcA3IkiygoriDU/yGmB0qXKfQkyvAMpLT/zRo3xvgVg9GPL12uZTSZIsZD0IopzLTo7sJXNzHk3yCFBeeJK1EsP+4OFJOOunkiQ96UJARIsAchqRzwPItQHybSC574mfepK3EVXkGIhX11QPuRihaITkVddkqGYhs0fONRnqqkAUyyOGvNLNxKmESSOvqOrBShJP7JjfCeLoKpC8iugfj6dRnDaB2vSo7VXDo3wJnVzUL6s27iggggrQqAdmESSsZcJGrpQrjA3tIa9a7LOPxOEvZQjuLWifnrXAX+zyAuzyF7v+QjkVYxeopHn+UoaazHdslzipBdfrylBJxaBdJNccf7FVBGi7v5RhVn/xnVuHQoYCcbq9UPe3lUxAfj4guei6znSpd3lSSZwC8UNb6jUMwzAMwzAMN+EXe4XJ/lKRL1IAAAAASUVORK5CYII=";function tM(){return L2().__VUE_DEVTOOLS_GLOBAL_HOOK__}function L2(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const rM=typeof Proxy=="function",nM="devtools-plugin:setup",iM="plugin:settings:set";let ja,Tm;function oM(){var t;return ja!==void 0||(typeof window<"u"&&window.performance?(ja=!0,Tm=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(ja=!0,Tm=globalThis.perf_hooks.performance):ja=!1),ja}function sM(){return oM()?Tm.now():Date.now()}class aM{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const s in e.settings){const a=e.settings[s];n[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return sM()}},r&&r.on(iM,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(d=>{this.targetQueue.push({method:a,args:l,resolve:d})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function B2(t,e){const r=t,n=L2(),i=tM(),o=rM&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(nM,t,e);else{const s=o?new aM(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var R2="store";function Bt(t){return t===void 0&&(t=null),c.inject(t!==null?t:R2)}function Ns(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function lM(t){return t!==null&&typeof t=="object"}function cM(t){return t&&typeof t.then=="function"}function _i(t,e){if(!t)throw new Error("[vuex] "+e)}function uM(t,e){return function(){return t(e)}}function P2(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function F2(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;zd(t,r,[],t._modules.root,!0),Am(t,r,e)}function Am(t,e,r){var n=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=c.effectScope(!0);l.run(function(){Ns(o,function(d,f){s[f]=uM(d,t),a[f]=c.computed(function(){return s[f]()}),Object.defineProperty(t.getters,f,{get:function(){return a[f].value},enumerable:!0})})}),t._state=c.reactive({data:e}),t._scope=l,t.strict&&mM(t),n&&r&&t._withCommit(function(){n.data=null}),i&&i.stop()}function zd(t,e,r,n,i){var o=!r.length,s=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[s]&&process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+r.join("/")),t._modulesNamespaceMap[s]=n),!o&&!i){var a=Cm(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit(function(){process.env.NODE_ENV!=="production"&&l in a&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+r.join(".")+'"'),a[l]=n.state})}var d=n.context=dM(t,s,r);n.forEachMutation(function(f,u){var h=s+u;fM(t,h,f,d)}),n.forEachAction(function(f,u){var h=f.root?u:s+u,p=f.handler||f;hM(t,h,p,d)}),n.forEachGetter(function(f,u){var h=s+u;pM(t,h,f,d)}),n.forEachChild(function(f,u){zd(t,e,r.concat(u),f,i)})}function dM(t,e,r){var n=e==="",i={dispatch:n?t.dispatch:function(o,s,a){var l=Vd(o,s,a),d=l.payload,f=l.options,u=l.type;if((!f||!f.root)&&(u=e+u,process.env.NODE_ENV!=="production"&&!t._actions[u])){console.error("[vuex] unknown local action type: "+l.type+", global type: "+u);return}return t.dispatch(u,d)},commit:n?t.commit:function(o,s,a){var l=Vd(o,s,a),d=l.payload,f=l.options,u=l.type;if((!f||!f.root)&&(u=e+u,process.env.NODE_ENV!=="production"&&!t._mutations[u])){console.error("[vuex] unknown local mutation type: "+l.type+", global type: "+u);return}t.commit(u,d,f)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return U2(t,e)}},state:{get:function(){return Cm(t.state,r)}}}),i}function U2(t,e){if(!t._makeLocalGettersCache[e]){var r={},n=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function fM(t,e,r,n){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){r.call(t,n.state,s)})}function hM(t,e,r,n){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},s);return cM(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function pM(t,e,r,n){if(t._wrappedGetters[e]){process.env.NODE_ENV!=="production"&&console.error("[vuex] duplicate getter key: "+e);return}t._wrappedGetters[e]=function(o){return r(n.state,n.getters,o.state,o.getters)}}function mM(t){c.watch(function(){return t._state.data},function(){process.env.NODE_ENV!=="production"&&_i(t._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function Cm(t,e){return e.reduce(function(r,n){return r[n]},t)}function Vd(t,e,r){return lM(t)&&t.type&&(r=e,e=t,t=t.type),process.env.NODE_ENV!=="production"&&_i(typeof t=="string","expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:r}}var gM="vuex bindings",j2="vuex:mutations",Sm="vuex:actions",$a="vuex",yM=0;function bM(t,e){B2({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[gM]},function(r){r.addTimelineLayer({id:j2,label:"Vuex Mutations",color:$2}),r.addTimelineLayer({id:Sm,label:"Vuex Actions",color:$2}),r.addInspector({id:$a,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(n){if(n.app===t&&n.inspectorId===$a)if(n.filter){var i=[];q2(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[H2(e._modules.root,"")]}),r.on.getInspectorState(function(n){if(n.app===t&&n.inspectorId===$a){var i=n.nodeId;U2(e,i),n.state=wM(TM(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),r.on.editInspectorState(function(n){if(n.app===t&&n.inspectorId===$a){var i=n.nodeId,o=n.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){n.set(e._state.data,o,n.state.value)})}}),e.subscribe(function(n,i){var o={};n.payload&&(o.payload=n.payload),o.state=i,r.notifyComponentUpdate(),r.sendInspectorTree($a),r.sendInspectorState($a),r.addTimelineEvent({layerId:j2,event:{time:Date.now(),title:n.type,data:o}})}),e.subscribeAction({before:function(n,i){var o={};n.payload&&(o.payload=n.payload),n._id=yM++,n._time=Date.now(),o.state=i,r.addTimelineEvent({layerId:Sm,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:o}})},after:function(n,i){var o={},s=Date.now()-n._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},n.payload&&(o.payload=n.payload),o.state=i,r.addTimelineEvent({layerId:Sm,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:o}})}})})}var $2=8702998,vM=6710886,_M=16777215,z2={label:"namespaced",textColor:_M,backgroundColor:vM};function V2(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function H2(t,e){return{id:e||"root",label:V2(e),tags:t.namespaced?[z2]:[],children:Object.keys(t._children).map(function(r){return H2(t._children[r],e+r+"/")})}}function q2(t,e,r,n){n.includes(r)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[z2]:[]}),Object.keys(e._children).forEach(function(i){q2(t,e._children[i],r,n+i+"/")})}function wM(t,e,r){e=r==="root"?e:e[r];var n=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(n.length){var o=xM(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?V2(s):s,editable:!1,value:Em(function(){return o[s]})}})}return i}function xM(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split("/");if(n.length>1){var i=e,o=n.pop();n.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=Em(function(){return t[r]})}else e[r]=Em(function(){return t[r]})}),e}function TM(t,e){var r=e.split("/").filter(function(n){return n});return r.reduce(function(n,i,o){var s=n[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===r.length-1?s:s._children},e==="root"?t:t.root._children)}function Em(t){try{return t()}catch(e){return e}}var wi=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},W2={namespaced:{configurable:!0}};W2.namespaced.get=function(){return!!this._rawModule.namespaced},wi.prototype.addChild=function(e,r){this._children[e]=r},wi.prototype.removeChild=function(e){delete this._children[e]},wi.prototype.getChild=function(e){return this._children[e]},wi.prototype.hasChild=function(e){return e in this._children},wi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},wi.prototype.forEachChild=function(e){Ns(this._children,e)},wi.prototype.forEachGetter=function(e){this._rawModule.getters&&Ns(this._rawModule.getters,e)},wi.prototype.forEachAction=function(e){this._rawModule.actions&&Ns(this._rawModule.actions,e)},wi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ns(this._rawModule.mutations,e)},Object.defineProperties(wi.prototype,W2);var Os=function(e){this.register([],e,!1)};Os.prototype.get=function(e){return e.reduce(function(r,n){return r.getChild(n)},this.root)},Os.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")},Os.prototype.update=function(e){G2([],this.root,e)},Os.prototype.register=function(e,r,n){var i=this;n===void 0&&(n=!0),process.env.NODE_ENV!=="production"&&K2(e,r);var o=new wi(r,n);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}r.modules&&Ns(r.modules,function(a,l){i.register(e.concat(l),a,n)})},Os.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1],i=r.getChild(n);if(!i){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to unregister module '"+n+"', which is not registered");return}i.runtime&&r.removeChild(n)},Os.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1];return r?r.hasChild(n):!1};function G2(t,e,r){if(process.env.NODE_ENV!=="production"&&K2(t,r),e.update(r),r.modules)for(var n in r.modules){if(!e.getChild(n)){process.env.NODE_ENV!=="production"&&console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");return}G2(t.concat(n),e.getChild(n),r.modules[n])}}var Q2={assert:function(t){return typeof t=="function"},expected:"function"},AM={assert:function(t){return typeof t=="function"||typeof t=="object"&&typeof t.handler=="function"},expected:'function or object with "handler" function'},Y2={getters:Q2,mutations:Q2,actions:AM};function K2(t,e){Object.keys(Y2).forEach(function(r){if(e[r]){var n=Y2[r];Ns(e[r],function(i,o){_i(n.assert(i),CM(t,r,o,i,n.expected))})}})}function CM(t,e,r,n,i){var o=e+" should be "+i+' but "'+e+"."+r+'"';return t.length>0&&(o+=' in module "'+t.join(".")+'"'),o+=" is "+JSON.stringify(n)+".",o}function SM(t){return new bn(t)}var bn=function t(e){var r=this;e===void 0&&(e={}),process.env.NODE_ENV!=="production"&&(_i(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),_i(this instanceof t,"store must be called with the new operator."));var n=e.plugins;n===void 0&&(n=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Os(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,d=a.commit;this.dispatch=function(h,p){return l.call(s,h,p)},this.commit=function(h,p,m){return d.call(s,h,p,m)},this.strict=i;var f=this._modules.root.state;zd(this,f,[],this._modules.root),Am(this,f),n.forEach(function(u){return u(r)})},km={state:{configurable:!0}};bn.prototype.install=function(e,r){e.provide(r||R2,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:process.env.NODE_ENV!=="production"||!1;n&&bM(e,this)},km.state.get=function(){return this._state.data},km.state.set=function(t){process.env.NODE_ENV!=="production"&&_i(!1,"use store.replaceState() to explicit replace store state.")},bn.prototype.commit=function(e,r,n){var i=this,o=Vd(e,r,n),s=o.type,a=o.payload,l=o.options,d={type:s,payload:a},f=this._mutations[s];if(!f){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown mutation type: "+s);return}this._withCommit(function(){f.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(d,i.state)}),process.env.NODE_ENV!=="production"&&l&&l.silent&&console.warn("[vuex] mutation type: "+s+". Silent option has been removed. Use the filter functionality in the vue-devtools")},bn.prototype.dispatch=function(e,r){var n=this,i=Vd(e,r),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(!l){process.env.NODE_ENV!=="production"&&console.error("[vuex] unknown action type: "+o);return}try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(a,n.state)})}catch(f){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in before action subscribers: "),console.error(f))}var d=l.length>1?Promise.all(l.map(function(f){return f(s)})):l[0](s);return new Promise(function(f,u){d.then(function(h){try{n._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,n.state)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in after action subscribers: "),console.error(p))}f(h)},function(h){try{n._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,n.state,h)})}catch(p){process.env.NODE_ENV!=="production"&&(console.warn("[vuex] error in error action subscribers: "),console.error(p))}u(h)})})},bn.prototype.subscribe=function(e,r){return P2(e,this._subscribers,r)},bn.prototype.subscribeAction=function(e,r){var n=typeof e=="function"?{before:e}:e;return P2(n,this._actionSubscribers,r)},bn.prototype.watch=function(e,r,n){var i=this;return process.env.NODE_ENV!=="production"&&_i(typeof e=="function","store.watch only accepts a function."),c.watch(function(){return e(i.state,i.getters)},r,Object.assign({},n))},bn.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})},bn.prototype.registerModule=function(e,r,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&(_i(Array.isArray(e),"module path must be a string or an Array."),_i(e.length>0,"cannot register the root module by using registerModule.")),this._modules.register(e,r),zd(this,this.state,e,this._modules.get(e),n.preserveState),Am(this,this.state)},bn.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&_i(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var n=Cm(r.state,e.slice(0,-1));delete n[e[e.length-1]]}),F2(this)},bn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),process.env.NODE_ENV!=="production"&&_i(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},bn.prototype.hotUpdate=function(e){this._modules.update(e),F2(this,!0)},bn.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r},Object.defineProperties(bn.prototype,km);const pr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},EM={},kM={viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",class:"text-zinc-600 dark:text-zinc-100"},IM=[c.createElementVNode("circle",{cx:"25",cy:"25",r:"23",class:"fill-zinc-100 dark:fill-zinc-600"},null,-1),c.createElementVNode("path",{d:`M33.71,32.29L26.42,25l7.29-7.29c0.39-0.39,0.39-1.03,0-1.42c-0.39-0.39-1.03-0.39-1.42,0L25,23.58l-7.29-7.29
        c-0.39-0.39-1.03-0.39-1.42,0c-0.39,0.39-0.39,1.03,0,1.42L23.58,25l-7.29,7.29c-0.39,0.39-0.39,1.03,0,1.42
        C16.49,33.9,16.74,34,17,34s0.51-0.1,0.71-0.29L25,26.42l7.29,7.29C32.49,33.9,32.74,34,33,34s0.51-0.1,0.71-0.29
        C34.1,33.32,34.1,32.68,33.71,32.29z`,class:"fill-current"},null,-1)];function DM(t,e){return c.openBlock(),c.createElementBlock("svg",kM,IM)}const za=pr(EM,[["render",DM]]),MM={class:"relative"},NM=["src"],OM={key:1,class:"flex h-[300px] w-[300px] items-center justify-center bg-gray-200 text-[150px] font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300"},LM=c.defineComponent({__name:"AvatarModal",props:{url:{},name:{}},setup(t){const e=rn(),r=t,n=c.ref(!1);n.value=r.url.length===0;const i=()=>{n.value=!0};return(o,s)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl overflow-hidden flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",MM,[c.createElementVNode("button",{class:"absolute right-2 top-2 ml-auto flex items-center justify-center rounded-full",onClick:s[0]||(s[0]=a=>c.unref(e).closeAll())},[c.createVNode(za,{class:"h-7 w-7"})]),n.value?(c.openBlock(),c.createElementBlock("div",OM,c.toDisplayString(o.name&&o.name.length>0?o.name.charAt(0).toUpperCase():""),1)):(c.openBlock(),c.createElementBlock("img",{key:0,src:o.url,class:"h-[300px] w-[300px] object-cover",onError:i},null,40,NM))])]),_:1}))}}),BM=["src"],qr=c.defineComponent({__name:"AvatarView",props:{url:{},name:{}},setup(t){const e=t,r=c.ref(!1);r.value=e.url.length===0;const n=()=>{r.value=!0};c.watch(()=>[e.url,e.name],()=>{r.value=!1});const i=()=>{const{open:o}=Vi({component:LM,attrs:{url:e.url,name:e.name}});o()};return(o,s)=>r.value?(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex h-[50px] w-[50px] cursor-pointer items-center justify-center rounded-2xl bg-gray-200 text-xl font-semibold text-gray-500 dark:bg-zinc-600 dark:text-gray-300",onClick:c.withModifiers(i,["stop"])},c.toDisplayString(o.name&&o.name.length>0?o.name.charAt(0).toUpperCase():""),1)):(c.openBlock(),c.createElementBlock("img",{key:0,src:o.url,class:"h-[50px] w-[50px] cursor-pointer rounded-2xl object-cover",onError:n,onClick:c.withModifiers(i,["stop"])},null,40,BM))}});function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){UM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function FM(t,e,r){return e&&PM(t.prototype,e),t}function UM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jM(t){return $M(t)||zM(t)||VM(t)||HM()}function $M(t){if(Array.isArray(t))return Im(t)}function zM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VM(t,e){if(t){if(typeof t=="string")return Im(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Im(t,e)}}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Va={FRONT:"FRONT",BEHIND:"BEHIND"},Ls={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},Z2=2,qM=function(){function t(e,r){RM(this,t),this.init(e,r)}return FM(t,[{key:"init",value:function(r,n){this.param=r,this.callUpdate=n,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=Ls.INIT,this.offset=0,this.direction="",this.range=Object.create(null),r&&this.checkRange(0,r.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var r=Object.create(null);return r.start=this.range.start,r.end=this.range.end,r.padFront=this.range.padFront,r.padBehind=this.range.padBehind,r}},{key:"isBehind",value:function(){return this.direction===Va.BEHIND}},{key:"isFront",value:function(){return this.direction===Va.FRONT}},{key:"getOffset",value:function(r){return(r<1?0:this.getIndexOffset(r))+this.param.slotHeaderSize}},{key:"updateParam",value:function(r,n){var i=this;this.param&&r in this.param&&(r==="uniqueIds"&&this.sizes.forEach(function(o,s){n.includes(s)||i.sizes.delete(s)}),this.param[r]=n)}},{key:"saveSize",value:function(r,n){this.sizes.set(r,n),this.calcType===Ls.INIT?(this.fixedSizeValue=n,this.calcType=Ls.FIXED):this.calcType===Ls.FIXED&&this.fixedSizeValue!==n&&(this.calcType=Ls.DYNAMIC,delete this.fixedSizeValue),this.calcType!==Ls.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=jM(this.sizes.values()).reduce(function(i,o){return i+o},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var r=this.range.start;this.isFront()?r=r-Z2:this.isBehind()&&(r=r+Z2),r=Math.max(r,0),this.updateRange(this.range.start,this.getEndByStart(r))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(r){this.direction=r<this.offset?Va.FRONT:Va.BEHIND,this.offset=r,this.param&&(this.direction===Va.FRONT?this.handleFront():this.direction===Va.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var r=this.getScrollOvers();if(!(r>this.range.start)){var n=Math.max(r-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}}},{key:"handleBehind",value:function(){var r=this.getScrollOvers();r<this.range.start+this.param.buffer||this.checkRange(r,this.getEndByStart(r))}},{key:"getScrollOvers",value:function(){var r=this.offset-this.param.slotHeaderSize;if(r<=0)return 0;if(this.isFixedType())return Math.floor(r/this.fixedSizeValue);for(var n=0,i=0,o=0,s=this.param.uniqueIds.length;n<=s;){if(i=n+Math.floor((s-n)/2),o=this.getIndexOffset(i),o===r)return i;o<r?n=i+1:o>r&&(s=i-1)}return n>0?--n:0}},{key:"getIndexOffset",value:function(r){if(!r)return 0;for(var n=0,i=0,o=0;o<r;o++)i=this.sizes.get(this.param.uniqueIds[o]),n=n+(typeof i=="number"?i:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,r-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}},{key:"isFixedType",value:function(){return this.calcType===Ls.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(r,n){var i=this.param.keeps,o=this.param.uniqueIds.length;o<=i?(r=0,n=this.getLastIndex()):n-r<i-1&&(r=n-i+1),this.range.start!==r&&this.updateRange(r,n)}},{key:"updateRange",value:function(r,n){this.range.start=r,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(r){var n=r+this.param.keeps-1,i=Math.min(n,this.getLastIndex());return i}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var r=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-r)*this.fixedSizeValue:this.lastCalcIndex===n?this.getIndexOffset(n)-this.getIndexOffset(r):(n-r)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),t}(),WM={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},GM={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},QM={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},J2=function(e,r,n){var i=null,o=c.computed(function(){return e.horizontal?"offsetWidth":"offsetHeight"}),s=function(){return r.value?r.value[o.value]:0},a=function(){var d=e.event,f=e.uniqueKey,u=e.hasInitial;n(d,f,s(),u)};c.onMounted(function(){typeof ResizeObserver<"u"&&(i=new ResizeObserver(function(){a()}),r.value&&i.observe(r.value))}),c.onUpdated(function(){a()}),c.onUnmounted(function(){i&&(i.disconnect(),i=null)})},YM=c.defineComponent({name:"VirtualListItem",props:GM,emits:["itemResize"],setup:function(e,r){var n=r.emit,i=c.ref(null);return J2(e,i,n),function(){var o=e.tag,s=e.component,a=e.extraProps,l=a===void 0?{}:a,d=e.index,f=e.source,u=e.scopedSlots,h=u===void 0?{}:u,p=e.uniqueKey,m=Hd(Hd({},l),{},{source:f,index:d});return c.createVNode(o,{key:p,ref:i},{default:function(){return[c.createVNode(s,Hd(Hd({},m),{},{scopedSlots:h}),null)]}})}}}),ev=c.defineComponent({name:"VirtualListSlot",props:QM,emits:["slotResize"],setup:function(e,r){var n=r.slots,i=r.emit,o=c.ref(null);return J2(e,o,i),function(){var s,a=e.tag,l=e.uniqueKey;return c.createVNode(a,{ref:o,key:l},{default:function(){return[(s=n.default)===null||s===void 0?void 0:s.call(n)]}})}}}),Rc;(function(t){t.ITEM="itemResize",t.SLOT="slotResize"})(Rc||(Rc={}));var Ha;(function(t){t.HEADER="thead",t.FOOTER="tfoot"})(Ha||(Ha={}));var qd=c.defineComponent({name:"VirtualList",props:WM,setup:function(e,r){var n=r.emit,i=r.slots,o=r.expose,s=e.direction==="horizontal",a=s?"scrollLeft":"scrollTop",l=c.ref(null),d=c.ref(),f=c.ref(null),u;c.watch(function(){return e.dataSources.length},function(){u.updateParam("uniqueIds",E()),u.handleDataSourcesChange()}),c.watch(function(){return e.keeps},function(P){u.updateParam("keeps",P),u.handleSlotSizeChange()}),c.watch(function(){return e.start},function(P){C(P)}),c.watch(function(){return e.offset},function(P){return T(P)});var h=function($){return u.sizes.get($)},p=function(){return e.pageMode?document.documentElement[a]||document.body[a]:d.value?Math.ceil(d.value[a]):0},m=function(){var $=s?"clientWidth":"clientHeight";return e.pageMode?document.documentElement[$]||document.body[$]:d.value?Math.ceil(d.value[$]):0},y=function(){var $=s?"scrollWidth":"scrollHeight";return e.pageMode?document.documentElement[$]||document.body[$]:d.value?Math.ceil(d.value[$]):0},b=function($,W,B,j){n("scroll",j,u.getRange()),u.isFront()&&e.dataSources.length&&$-e.topThreshold<=0?n("totop"):u.isBehind()&&$+W+e.bottomThreshold>=B&&n("tobottom")},v=function($){var W=p(),B=m(),j=y();W<0||W+B>j+1||!j||(u.handleScroll(W),b(W,B,j,$))},E=function(){var $=e.dataKey,W=e.dataSources,B=W===void 0?[]:W;return B.map(function(j){return typeof $=="function"?$(j):j[$]})},A=function($){l.value=$},k=function(){u=new qM({slotHeaderSize:0,slotFooterSize:0,keeps:e.keeps,estimateSize:e.estimateSize,buffer:Math.round(e.keeps/3),uniqueIds:E()},A),l.value=u.getRange()},C=function($){if($>=e.dataSources.length-1)R();else{var W=u.getOffset($);T(W)}},T=function($){e.pageMode?(document.body[a]=$,document.documentElement[a]=$):d.value&&(d.value[a]=$)},O=function(){for(var $=[],W=l.value,B=W.start,j=W.end,re=e.dataSources,H=e.dataKey,L=e.itemClass,I=e.itemTag,V=e.itemStyle,K=e.extraProps,Y=e.dataComponent,Q=e.itemScopedSlots,le=B;le<=j;le++){var ie=re[le];if(ie){var me=typeof H=="function"?H(ie):ie[H];typeof me=="string"||typeof me=="number"?$.push(c.createVNode(YM,{index:le,tag:I,event:Rc.ITEM,horizontal:s,uniqueKey:me,source:ie,extraProps:K,component:Y,scopedSlots:Q,style:V,class:"".concat(L).concat(e.itemClassAdd?" "+e.itemClassAdd(le):""),onItemResize:D},null)):console.warn("Cannot get the data-key '".concat(H,"' from data-sources."))}else console.warn("Cannot get the index '".concat(le,"' from data-sources."))}return $},D=function($,W){u.saveSize($,W),n("resized",$,W)},S=function($,W,B){$===Ha.HEADER?u.updateParam("slotHeaderSize",W):$===Ha.FOOTER&&u.updateParam("slotFooterSize",W),B&&u.handleSlotSizeChange()},R=function P(){if(f.value){var $=f.value[s?"offsetLeft":"offsetTop"];T($),setTimeout(function(){p()+m()<y()&&P()},3)}},z=function(){if(d.value){var $=d.value.getBoundingClientRect(),W=d.value.ownerDocument.defaultView,B=s?$.left+W.pageXOffset:$.top+W.pageYOffset;u.updateParam("slotHeaderSize",B)}},F=function(){return u.sizes.size};return c.onBeforeMount(function(){k()}),c.onActivated(function(){T(u.offset)}),c.onMounted(function(){e.start?C(e.start):e.offset&&T(e.offset),e.pageMode&&(z(),document.addEventListener("scroll",v,{passive:!1}))}),c.onUnmounted(function(){u.destroy(),e.pageMode&&document.removeEventListener("scroll",v)}),o({scrollToBottom:R,getSizes:F,getSize:h,getOffset:p,getScrollSize:y,getClientSize:m,scrollToOffset:T,scrollToIndex:C}),function(){var P=e.pageMode,$=e.rootTag,W=e.wrapTag,B=e.wrapClass,j=e.wrapStyle,re=e.headerTag,H=e.headerClass,L=e.headerStyle,I=e.footerTag,V=e.footerClass,K=e.footerStyle,Y=l.value,Q=Y.padFront,le=Y.padBehind,ie={padding:s?"0px ".concat(le,"px 0px ").concat(Q,"px"):"".concat(Q,"px 0px ").concat(le,"px")},me=j?Object.assign({},j,ie):ie,he=i.header,fe=i.footer;return c.createVNode($,{ref:d,onScroll:!P&&v},{default:function(){return[he&&c.createVNode(ev,{class:H,style:L,tag:re,event:Rc.SLOT,uniqueKey:Ha.HEADER,onSlotResize:S},{default:function(){return[he()]}}),c.createVNode(W,{class:B,style:me},{default:function(){return[O()]}}),fe&&c.createVNode(ev,{class:V,style:K,tag:I,event:Rc.SLOT,uniqueKey:Ha.FOOTER,onSlotResize:S},{default:function(){return[fe()]}}),c.createVNode("div",{ref:f,style:{width:s?"0px":"100%",height:s?"100%":"0px"}},null)]}})}}});const KM="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20id='Layer'%20height='512'%20viewBox='0%200%2024%2024'%20width='512'%20version='1.1'%20sodipodi:docname='unsend-message.svg'%20inkscape:version='1.2%20(dc2aeda,%202022-05-15)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1053'%20/%3e%3csodipodi:namedview%20id='namedview1051'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='1.7128906'%20inkscape:cx='256'%20inkscape:cy='256.58381'%20inkscape:window-width='1390'%20inkscape:window-height='847'%20inkscape:window-x='1828'%20inkscape:window-y='70'%20inkscape:window-maximized='0'%20inkscape:current-layer='Layer'%20/%3e%3cpath%20id='chat-dots-times'%20d='m13.745%2020.847a.749.749%200%200%201%20-.654.835%209.688%209.688%200%200%201%20-5.165-.835%201.189%201.189%200%200%200%20-.875-.025l-2.489.836a1.77%201.77%200%200%201%20-.557.091%201.76%201.76%200%200%201%20-1.664-2.308l.841-2.5a1.181%201.181%200%200%200%20-.027-.858%209.746%209.746%200%201%201%2018.595-4.083%208.936%208.936%200%200%201%20-.065%201.09.75.75%200%201%201%20-1.489-.181%207.585%207.585%200%200%200%20.054-.909%208.249%208.249%200%201%200%20-15.737%203.442%202.68%202.68%200%200%201%20.094%201.963l-.843%202.512a.24.24%200%200%200%20.064.255.244.244%200%200%200%20.257.064l2.5-.839a2.681%202.681%200%200%201%201.981.093%208.159%208.159%200%200%200%204.347.7.756.756%200%200%201%20.832.657zm7.785-4.377a.749.749%200%200%200%20-1.06%200l-1.47%201.469-1.47-1.469a.75.75%200%200%200%20-1.06%201.06l1.469%201.47-1.469%201.47a.75.75%200%201%200%201.06%201.06l1.47-1.469%201.47%201.469a.75.75%200%200%200%201.06-1.06l-1.469-1.47%201.469-1.47a.749.749%200%200%200%200-1.06zm-9.52-5.47a1.005%201.005%200%201%200%20.01%200zm5.01%201a1%201%200%200%200%20-1-1h-.01a1%201%200%201%200%201.01%201zm-9.01-1a1.005%201.005%200%201%200%20.01%200z'%20fill='rgb(0,0,0)'%20style='fill:%234b5563;fill-opacity:1'%20/%3e%3c/svg%3e",tv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR4nO2ZS0oDQRCGBwT1AD5AfN1E0KhJV1QSuzSuYqqCiOBar6AHiBHBA3gLieglfIsLcRPduFBQesKYjijCTLckWB/MIh3yd1X13wn8CQJBEP4vs8vFcUDaB6Q7hfwGyO9xHxV+nu4AqaryNOa9+OwizSjk5yRFw0+P5idYKqW8Tt5b8dhsIotro14aaNgmOnq6zGB5EhG7k2giYnd2kaZA89Wntua9wAcNrzY2McW71M6aJprDuXEjurLWB8hH0Wv7wiad/FeMnn2xg6TMFXgQkC+MYLRmezXwALjUV0iHX8U6qwFNjx3dAHwjJg38AsgJWIiFYgBiIQuxUAxALGQhFooBiIUsxEIxALGQhVgoBiAW+mUaHZVKqNZiu8I1zbe+ciFYKqWsoV0nFlSa7yPB+QINhZsgVa0I8Mps6iKZyyBPtyRzSJXkDSDXmsVSIVzL01gYwPrMRpHqTrJRhbxtebLWctTemqC6iRgDFywsr46A5pdm4Eob0XtmQuaYTYbp4v8BFepQxXkqDci71nRe7SY6golisRc0nbVMTdOJwvJKOlcejr6d2prp3PqAQj71eHGPvDeRTm/2KKQd+044eTSdmwg/+CvCi420BZqPze9E/AtMD4B0kMZS/58VLwhC0FZ8ALiaxMwFZ/dcAAAAAElFTkSuQmCC",rv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR4nO2Xu4sUQRCHC8HHJYqgiAgmXqKpkQgqIjjTtRss9m/v9MBzqpbB9TA08MUECv4DcslhaCSYGZkoCAZiYCCoaGRwoKKooIi6K+OB2w4LB+exsyX9wUQzDPV1PbqbKBKpj2RmZqOD3GpCJ8li8OzlIUP7DF1MkO0ho8H3GdpzkFNkNfgUnTmyQBKDr4kkrnxNJP/ZyveHPl7eM+Q1Qx8x5KaDXuRjeujg7OyGWgUcZL4SbG9Zmb/E9Kvzcoe9TAOYGN8MYPnHQT8w9ErjeL6lbokeQ7vhN3yiu5lxckfa1v0OmbKX6wx9OlxEPjP0cpKcXT9WEsNoIN/JkAsMfTYkIy9cWw7QuEuUFEWxhpG1nNfHFYkfzsul8v3YS5SUgaZeOw76riJye2QT618lSprTuo293q1MrPtHkG8iKxJLZSVXK5m4V2smVnIfSNGZc15+huVUV08suindvZL/NCCnK+V0nqzdiRlybSAh38s9hSxRlD0RNraX5yPd7FaDo618+9LBsIZSWi0Y2g0EPpbHFLJWSg7y5M9U8lKQNRyydiDw1lwvFL8bWl4OplLWIms4L0W4uZE1mtDJQODT3jxfS9bgoIwakH1kDYYsBDe5c2QN5+XMYBrpDbJGis7h4GjxgKyRTOW7glPqK7JGgmxrIPCGrAFgIhilX8gaANYFAt/IGogCkUgkQiPgF1+GFsoZdsMBAAAAAElFTkSuQmCC";var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var nv={exports:{}};/*!
 * Autolinker.js
 * v4.0.0
 *
 * Copyright(c) 2024 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r="4.0.0";function n(te){return te===void 0}function i(te){return typeof te=="boolean"}function o(te,Z){for(var se in Z)Z.hasOwnProperty(se)&&n(te[se])&&(te[se]=Z[se]);return te}function s(te,Z,se){var be;return te.length>Z&&(se==null?(se="&hellip;",be=3):be=se.length,te=te.substring(0,Z-be)+se),te}function a(te,Z){for(var se=te.length-1;se>=0;se--)te[se]===Z&&te.splice(se,1)}function l(te,Z){for(var se=te.length-1;se>=0;se--)Z(te[se])===!0&&te.splice(se,1)}function d(te){throw new Error("Unhandled case for value: '".concat(te,"'"))}var f=/[A-Za-z]/,u=/[\d]/,h=/\s/,p=/['"]/,m=/[\x00-\x1F\x7F]/,y=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,b=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source,v=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,E=y+b+v,A=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,k=E+A,C=new RegExp("[".concat(k,"]")),T=function(){function te(Z){Z===void 0&&(Z={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=Z.tagName||"",this.attrs=Z.attrs||{},this.innerHTML=Z.innerHtml||Z.innerHTML||""}return te.prototype.setTagName=function(Z){return this.tagName=Z,this},te.prototype.getTagName=function(){return this.tagName||""},te.prototype.setAttr=function(Z,se){var be=this.getAttrs();return be[Z]=se,this},te.prototype.getAttr=function(Z){return this.getAttrs()[Z]},te.prototype.setAttrs=function(Z){return Object.assign(this.getAttrs(),Z),this},te.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},te.prototype.setClass=function(Z){return this.setAttr("class",Z)},te.prototype.addClass=function(Z){for(var se=this.getClass(),be=se?se.split(h):[],Ze=Z.split(h),ot;ot=Ze.shift();)be.indexOf(ot)===-1&&be.push(ot);return this.getAttrs().class=be.join(" "),this},te.prototype.removeClass=function(Z){for(var se=this.getClass(),be=se?se.split(h):[],Ze=Z.split(h),ot;be.length&&(ot=Ze.shift());){var Mt=be.indexOf(ot);Mt!==-1&&be.splice(Mt,1)}return this.getAttrs().class=be.join(" "),this},te.prototype.getClass=function(){return this.getAttrs().class||""},te.prototype.hasClass=function(Z){return(" "+this.getClass()+" ").indexOf(" "+Z+" ")!==-1},te.prototype.setInnerHTML=function(Z){return this.innerHTML=Z,this},te.prototype.setInnerHtml=function(Z){return this.setInnerHTML(Z)},te.prototype.getInnerHTML=function(){return this.innerHTML||""},te.prototype.getInnerHtml=function(){return this.getInnerHTML()},te.prototype.toAnchorString=function(){var Z=this.getTagName(),se=this.buildAttrsStr();return se=se?" "+se:"",["<",Z,se,">",this.getInnerHtml(),"</",Z,">"].join("")},te.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var Z=this.getAttrs(),se=[];for(var be in Z)Z.hasOwnProperty(be)&&se.push(be+'="'+Z[be]+'"');return se.join(" ")},te}();function O(te,Z,se){var be,Ze;se==null?(se="&hellip;",Ze=3,be=8):(Ze=se.length,be=se.length);var ot=function(hr){var wr={},jt=hr,$t=jt.match(/^([a-z]+):\/\//i);return $t&&(wr.scheme=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^(.*?)(?=(\?|#|\/|$))/i),$t&&(wr.host=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^\/(.*?)(?=(\?|#|$))/i),$t&&(wr.path=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^\?(.*?)(?=(#|$))/i),$t&&(wr.query=$t[1],jt=jt.substr($t[0].length)),$t=jt.match(/^#(.*?)$/i),$t&&(wr.fragment=$t[1]),wr},Mt=function(hr){var wr="";return hr.scheme&&hr.host&&(wr+=hr.scheme+"://"),hr.host&&(wr+=hr.host),hr.path&&(wr+="/"+hr.path),hr.query&&(wr+="?"+hr.query),hr.fragment&&(wr+="#"+hr.fragment),wr},_r=function(hr,wr){var jt=wr/2,$t=Math.ceil(jt),Ts=-1*Math.floor(jt),mo="";return Ts<0&&(mo=hr.substr(Ts)),hr.substr(0,$t)+se+mo};if(te.length<=Z)return te;var mt=Z-Ze,At=ot(te);if(At.query){var Ne=At.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);Ne&&(At.query=At.query.substr(0,Ne[1].length),te=Mt(At))}if(te.length<=Z||(At.host&&(At.host=At.host.replace(/^www\./,""),te=Mt(At)),te.length<=Z))return te;var rt="";if(At.host&&(rt+=At.host),rt.length>=mt)return At.host.length==Z?(At.host.substr(0,Z-Ze)+se).substr(0,mt+be):_r(rt,mt).substr(0,mt+be);var Le="";if(At.path&&(Le+="/"+At.path),At.query&&(Le+="?"+At.query),Le)if((rt+Le).length>=mt){if((rt+Le).length==Z)return(rt+Le).substr(0,Z);var St=mt-rt.length;return(rt+_r(Le,St)).substr(0,mt+be)}else rt+=Le;if(At.fragment){var Je="#"+At.fragment;if((rt+Je).length>=mt){if((rt+Je).length==Z)return(rt+Je).substr(0,Z);var yi=mt-rt.length;return(rt+_r(Je,yi)).substr(0,mt+be)}else rt+=Je}if(At.scheme&&At.host){var ji=At.scheme+"://";if((rt+ji).length<mt)return(ji+rt).substr(0,Z)}if(rt.length<=Z)return rt;var $o="";return mt>0&&($o=rt.substr(-1*Math.floor(mt/2))),(rt.substr(0,Math.ceil(mt/2))+se+$o).substr(0,mt+be)}function D(te,Z,se){if(te.length<=Z)return te;var be,Ze;se==null?(se="&hellip;",be=8,Ze=3):(be=se.length,Ze=se.length);var ot=Z-Ze,Mt="";return ot>0&&(Mt=te.substr(-1*Math.floor(ot/2))),(te.substr(0,Math.ceil(ot/2))+se+Mt).substr(0,ot+be)}function S(te,Z,se){return s(te,Z,se)}var R=function(){function te(Z){Z===void 0&&(Z={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=Z.newWindow||!1,this.truncate=Z.truncate||{},this.className=Z.className||""}return te.prototype.build=function(Z){return new T({tagName:"a",attrs:this.createAttrs(Z),innerHtml:this.processAnchorText(Z.getAnchorText())})},te.prototype.createAttrs=function(Z){var se={href:Z.getAnchorHref()},be=this.createCssClass(Z);return be&&(se.class=be),this.newWindow&&(se.target="_blank",se.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<Z.getAnchorText().length&&(se.title=Z.getAnchorHref()),se},te.prototype.createCssClass=function(Z){var se=this.className;if(se){for(var be=[se],Ze=Z.getCssClassSuffixes(),ot=0,Mt=Ze.length;ot<Mt;ot++)be.push(se+"-"+Ze[ot]);return be.join(" ")}else return""},te.prototype.processAnchorText=function(Z){return Z=this.doTruncate(Z),Z},te.prototype.doTruncate=function(Z){var se=this.truncate;if(!se||!se.length)return Z;var be=se.length,Ze=se.location;return Ze==="smart"?O(Z,be):Ze==="middle"?D(Z,be):S(Z,be)},te}(),z=function(te,Z){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,be){se.__proto__=be}||function(se,be){for(var Ze in be)Object.prototype.hasOwnProperty.call(be,Ze)&&(se[Ze]=be[Ze])},z(te,Z)};function F(te,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");z(te,Z);function se(){this.constructor=te}te.prototype=Z===null?Object.create(Z):(se.prototype=Z.prototype,new se)}var P=function(){return P=Object.assign||function(Z){for(var se,be=1,Ze=arguments.length;be<Ze;be++){se=arguments[be];for(var ot in se)Object.prototype.hasOwnProperty.call(se,ot)&&(Z[ot]=se[ot])}return Z},P.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var $=function(){function te(Z){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=Z.tagBuilder,this.matchedText=Z.matchedText,this.offset=Z.offset}return te.prototype.getMatchedText=function(){return this.matchedText},te.prototype.setOffset=function(Z){this.offset=Z},te.prototype.getOffset=function(){return this.offset},te.prototype.getCssClassSuffixes=function(){return[this.type]},te.prototype.buildTag=function(){return this.tagBuilder.build(this)},te}(),W="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermgensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich||||||||abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)",B=new RegExp("^"+W+"$"),j=/[\/?#]/,re=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,H=/[?!:,.;^]/,L=/https?:\/\//i,I=new RegExp("^"+L.source,"i"),V=new RegExp(H.source+"$"),K=/^(javascript|vbscript):/i,Y=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,Q=/^(?:\/\/)?([^/#?:]+)/;function le(te){return C.test(te)}function ie(te){return C.test(te)||u.test(te)||te==="+"||te==="-"||te==="."}function me(te){return C.test(te)}function he(te){return te==="_"||me(te)}function fe(te){return C.test(te)||re.test(te)||H.test(te)}function ve(te){return j.test(te)}function Se(te){return B.test(te.toLowerCase())}function Me(te){if(K.test(te))return!1;var Z=te.match(Y);if(!Z)return!1;var se=!!Z[1],be=Z[2];return se?!0:!(be.indexOf(".")===-1||!f.test(be))}function de(te){var Z=te.match(Q);if(!Z)return!1;var se=Z[0],be=se.split(".");if(be.length<2)return!1;var Ze=be[be.length-1];return!!Se(Ze)}var pe=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ke=/[:/?#]/;function ae(te){var Z=te.split(ke,1)[0];return pe.test(Z)}var Te=/^(https?:\/\/)?(www\.)?/i,De=/^\/\//,U=function(te){F(Z,te);function Z(se){var be=te.call(this,se)||this;return be.type="url",be.url="",be.urlMatchType="scheme",be.protocolRelativeMatch=!1,be.stripPrefix={scheme:!0,www:!0},be.stripTrailingSlash=!0,be.decodePercentEncoding=!0,be.protocolPrepended=!1,be.urlMatchType=se.urlMatchType,be.url=se.url,be.protocolRelativeMatch=se.protocolRelativeMatch,be.stripPrefix=se.stripPrefix,be.stripTrailingSlash=se.stripTrailingSlash,be.decodePercentEncoding=se.decodePercentEncoding,be}return Z.prototype.getType=function(){return"url"},Z.prototype.getUrlMatchType=function(){return this.urlMatchType},Z.prototype.getUrl=function(){var se=this.url;return!this.protocolRelativeMatch&&this.urlMatchType!=="scheme"&&!this.protocolPrepended&&(se=this.url="http://"+se,this.protocolPrepended=!0),se},Z.prototype.getAnchorHref=function(){var se=this.getUrl();return se.replace(/&amp;/g,"&")},Z.prototype.getAnchorText=function(){var se=this.getMatchedText();return this.protocolRelativeMatch&&(se=we(se)),this.stripPrefix.scheme&&(se=q(se)),this.stripPrefix.www&&(se=oe(se)),this.stripTrailingSlash&&(se=Oe(se)),this.decodePercentEncoding&&(se=Pe(se)),se},Z}($);function q(te){return te.replace(I,"")}function oe(te){return te.replace(Te,"$1")}function we(te){return te.replace(De,"")}function Oe(te){return te.charAt(te.length-1)==="/"&&(te=te.slice(0,-1)),te}function Pe(te){var Z=te.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(Z)}catch{return Z}}var Ge=/^mailto:/i,ge=new RegExp("[".concat(k,"!#$%&'*+/=?^_`{|}~-]"));function Ee(te){return C.test(te)}function Qe(te){return ge.test(te)}function ct(te){var Z=te.split(".").pop()||"";return Se(Z)}var _t=function(te){F(Z,te);function Z(se){var be=te.call(this,se)||this;return be.type="email",be.email="",be.email=se.email,be}return Z.prototype.getType=function(){return"email"},Z.prototype.getEmail=function(){return this.email},Z.prototype.getAnchorHref=function(){return"mailto:"+this.email},Z.prototype.getAnchorText=function(){return this.email},Z}($);function Ke(te){return te==="_"||C.test(te)}function Ft(te){return te.length<=140}var vt=["twitter","facebook","instagram","tiktok"],ar=function(te){F(Z,te);function Z(se){var be=te.call(this,se)||this;return be.type="hashtag",be.serviceName="twitter",be.hashtag="",be.serviceName=se.serviceName,be.hashtag=se.hashtag,be}return Z.prototype.getType=function(){return"hashtag"},Z.prototype.getServiceName=function(){return this.serviceName},Z.prototype.getHashtag=function(){return this.hashtag},Z.prototype.getAnchorHref=function(){var se=this.serviceName,be=this.hashtag;switch(se){case"twitter":return"https://twitter.com/hashtag/"+be;case"facebook":return"https://www.facebook.com/hashtag/"+be;case"instagram":return"https://instagram.com/explore/tags/"+be;case"tiktok":return"https://www.tiktok.com/tag/"+be;default:throw d(se),new Error("Invalid hashtag service: ".concat(se))}},Z.prototype.getAnchorText=function(){return"#"+this.hashtag},Z.prototype.getCssClassSuffixes=function(){var se=te.prototype.getCssClassSuffixes.call(this),be=this.getServiceName();return be&&se.push(be),se},Z}($),dr={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},Fi=/[-\w.]/;function fo(te){return Fi.test(te)}function ho(te,Z){var se=dr[Z];return se.test(te)}var Ui=["twitter","instagram","soundcloud","tiktok"],po=function(te){F(Z,te);function Z(se){var be=te.call(this,se)||this;return be.type="mention",be.serviceName="twitter",be.mention="",be.mention=se.mention,be.serviceName=se.serviceName,be}return Z.prototype.getType=function(){return"mention"},Z.prototype.getMention=function(){return this.mention},Z.prototype.getServiceName=function(){return this.serviceName},Z.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},Z.prototype.getAnchorText=function(){return"@"+this.mention},Z.prototype.getCssClassSuffixes=function(){var se=te.prototype.getCssClassSuffixes.call(this),be=this.getServiceName();return be&&se.push(be),se},Z}($),zr=/[-. ]/,Vr=/[-. ()]/,pi=/[,;]/,Gn=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/,rr=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/,Qn=new RegExp("^".concat(Gn.source,"|").concat(rr.source,"$"));function hn(te){return zr.test(te)}function Ea(te){return pi.test(te)}function ka(te){var Z=te.charAt(0)==="+"||Vr.test(te);return Z&&Qn.test(te)}var fr=function(te){F(Z,te);function Z(se){var be=te.call(this,se)||this;return be.type="phone",be.number="",be.plusSign=!1,be.number=se.number,be.plusSign=se.plusSign,be}return Z.prototype.getType=function(){return"phone"},Z.prototype.getPhoneNumber=function(){return this.number},Z.prototype.getNumber=function(){return this.getPhoneNumber()},Z.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},Z.prototype.getAnchorText=function(){return this.matchedText},Z}($);function pn(te,Z){for(var se=Z.tagBuilder,be=Z.stripPrefix,Ze=Z.stripTrailingSlash,ot=Z.decodePercentEncoding,Mt=Z.hashtagServiceName,_r=Z.mentionServiceName,mt=[],At=te.length,Ne=[],rt=0;rt<At;rt++){var Le=te.charAt(rt);if(Ne.length===0)ji(Le);else for(var St=Ne.length-1;St>=0;St--){var Je=Ne[St];switch(Je.state){case 11:Ts(Je,Le);break;case 12:mo(Je,Le);break;case 0:$o(Je,Le);break;case 1:hr(Je,Le);break;case 2:wr(Je,Le);break;case 3:jt(Je,Le);break;case 4:$t(Je,Le);break;case 5:Ia(Je,Le);break;case 6:mn(Je,Le);break;case 7:Td(Je,Le);break;case 13:As(Je,Le);break;case 14:zo(Je,Le);break;case 8:Cs(Je,Le);break;case 9:go(Je,Le);break;case 10:Da(Je,Le);break;case 15:vc(Je,Le);break;case 16:Ma(Je,Le);break;case 17:Ad(Je,Le);break;case 18:gn(Je,Le);break;case 19:Pn(Je,Le);break;case 20:Hr(Je,Le);break;case 21:_c(Je,Le);break;case 22:Xn(Je,Le);break;case 23:wc(Je,Le);break;case 24:Re(Je,Le);break;case 25:Kp(Je,Le);break;case 26:Ub(Je,Le);break;case 27:xc(Je,Le);break;case 28:Na(Je,Le);break;case 29:Xp(Je,Le);break;case 30:jb(Je,Le);break;case 31:$b(Je,Le);break;case 32:Jp(Je,Le);break;case 33:zb(Je,Le);break;case 34:em(Je,Le);break;case 35:Vb(Je,Le);break;case 36:Hb(Je,Le);break;case 37:Zp(Je,Le);break;case 38:qb(Je,Le);break;case 39:Wb(Je,Le);break;case 40:Gb(Je,Le);break;case 41:Qb(Je,Le);break;default:d(Je.state)}}}for(var yi=Ne.length-1;yi>=0;yi--)Ne.forEach(function(ce){return qt(ce)});return mt;function ji(ce){if(ce==="#")Ne.push(Ot(rt,28));else if(ce==="@")Ne.push(Fb(rt,30));else if(ce==="/")Ne.push(mi(rt,11));else if(ce==="+")Ne.push(xs(rt,37));else if(ce==="(")Ne.push(xs(rt,32));else{if(u.test(ce)&&(Ne.push(xs(rt,38)),Ne.push(Rn(rt,13))),Ee(ce)){var _e=ce.toLowerCase()==="m"?15:22;Ne.push(ws(rt,_e))}le(ce)&&Ne.push(Kn(rt,0)),C.test(ce)&&Ne.push(mi(rt,5))}}function $o(ce,_e){_e===":"?ce.state=2:_e==="-"?ce.state=1:ie(_e)||a(Ne,ce)}function hr(ce,_e){_e==="-"||(_e==="/"?(a(Ne,ce),Ne.push(mi(rt,11))):ie(_e)?ce.state=0:a(Ne,ce))}function wr(ce,_e){_e==="/"?ce.state=3:_e==="."?a(Ne,ce):me(_e)?(ce.state=5,le(_e)&&Ne.push(Kn(rt,0))):a(Ne,ce)}function jt(ce,_e){_e==="/"?ce.state=4:fe(_e)?(ce.state=10,ce.acceptStateReached=!0):qt(ce)}function $t(ce,_e){_e==="/"?ce.state=10:me(_e)?(ce.state=5,ce.acceptStateReached=!0):a(Ne,ce)}function Ts(ce,_e){_e==="/"?ce.state=12:a(Ne,ce)}function mo(ce,_e){me(_e)?ce.state=5:a(Ne,ce)}function Ia(ce,_e){_e==="."?ce.state=7:_e==="-"?ce.state=6:_e===":"?ce.state=8:ve(_e)?ce.state=10:he(_e)||qt(ce)}function mn(ce,_e){_e==="-"||(_e==="."?qt(ce):me(_e)?ce.state=5:qt(ce))}function Td(ce,_e){_e==="."?qt(ce):me(_e)?(ce.state=5,ce.acceptStateReached=!0):qt(ce)}function As(ce,_e){_e==="."?ce.state=14:_e===":"?ce.state=8:u.test(_e)||(ve(_e)?ce.state=10:C.test(_e)?a(Ne,ce):qt(ce))}function zo(ce,_e){u.test(_e)?(ce.octetsEncountered++,ce.octetsEncountered===4&&(ce.acceptStateReached=!0),ce.state=13):qt(ce)}function Cs(ce,_e){u.test(_e)?ce.state=9:qt(ce)}function go(ce,_e){u.test(_e)||(ve(_e)?ce.state=10:qt(ce))}function Da(ce,_e){fe(_e)||qt(ce)}function vc(ce,_e){_e.toLowerCase()==="a"?ce.state=16:Xn(ce,_e)}function Ma(ce,_e){_e.toLowerCase()==="i"?ce.state=17:Xn(ce,_e)}function Ad(ce,_e){_e.toLowerCase()==="l"?ce.state=18:Xn(ce,_e)}function gn(ce,_e){_e.toLowerCase()==="t"?ce.state=19:Xn(ce,_e)}function Pn(ce,_e){_e.toLowerCase()==="o"?ce.state=20:Xn(ce,_e)}function Hr(ce,_e){_e.toLowerCase()===":"?ce.state=21:Xn(ce,_e)}function _c(ce,_e){Qe(_e)?ce.state=22:a(Ne,ce)}function Xn(ce,_e){_e==="."?ce.state=23:_e==="@"?ce.state=24:Qe(_e)?ce.state=22:a(Ne,ce)}function wc(ce,_e){_e==="."||_e==="@"?a(Ne,ce):Qe(_e)?ce.state=22:a(Ne,ce)}function Re(ce,_e){me(_e)?ce.state=25:a(Ne,ce)}function Kp(ce,_e){_e==="."?ce.state=27:_e==="-"?ce.state=26:he(_e)||qt(ce)}function Ub(ce,_e){_e==="-"||_e==="."?qt(ce):he(_e)?ce.state=25:qt(ce)}function xc(ce,_e){_e==="."||_e==="-"?qt(ce):me(_e)?(ce.state=25,ce.acceptStateReached=!0):qt(ce)}function Na(ce,_e){Ke(_e)?(ce.state=29,ce.acceptStateReached=!0):a(Ne,ce)}function Xp(ce,_e){Ke(_e)||qt(ce)}function jb(ce,_e){fo(_e)?(ce.state=31,ce.acceptStateReached=!0):a(Ne,ce)}function $b(ce,_e){fo(_e)||(C.test(_e)?a(Ne,ce):qt(ce))}function Zp(ce,_e){u.test(_e)?ce.state=38:(a(Ne,ce),ji(_e))}function Jp(ce,_e){u.test(_e)?ce.state=33:a(Ne,ce),ji(_e)}function zb(ce,_e){u.test(_e)?ce.state=34:a(Ne,ce)}function em(ce,_e){u.test(_e)?ce.state=35:a(Ne,ce)}function Vb(ce,_e){_e===")"?ce.state=36:a(Ne,ce)}function Hb(ce,_e){u.test(_e)?ce.state=38:hn(_e)?ce.state=39:a(Ne,ce)}function qb(ce,_e){ce.acceptStateReached=!0,Ea(_e)?ce.state=40:_e==="#"?ce.state=41:u.test(_e)||(_e==="("?ce.state=32:hn(_e)?ce.state=39:(qt(ce),le(_e)&&Ne.push(Kn(rt,0))))}function Wb(ce,_e){u.test(_e)?ce.state=38:_e==="("?ce.state=32:(qt(ce),ji(_e))}function Gb(ce,_e){Ea(_e)||(_e==="#"?ce.state=41:u.test(_e)?ce.state=38:qt(ce))}function Qb(ce,_e){Ea(_e)?ce.state=40:u.test(_e)?a(Ne,ce):qt(ce)}function qt(ce){if(a(Ne,ce),!!ce.acceptStateReached){var _e=ce.startIdx,Lt=te.slice(ce.startIdx,rt);if(Lt=Yn(Lt),ce.type==="url"){var Yb=te.charAt(ce.startIdx-1);if(Yb==="@")return;var Oa=ce.matchType;if(Oa==="scheme"){var Cd=L.exec(Lt);if(Cd&&(_e=_e+Cd.index,Lt=Lt.slice(Cd.index)),!Me(Lt))return}else if(Oa==="tld"){if(!de(Lt))return}else if(Oa==="ipV4"){if(!ae(Lt))return}else d(Oa);mt.push(new U({tagBuilder:se,matchedText:Lt,offset:_e,urlMatchType:Oa,url:Lt,protocolRelativeMatch:Lt.slice(0,2)==="//",stripPrefix:be,stripTrailingSlash:Ze,decodePercentEncoding:ot}))}else if(ce.type==="email")ct(Lt)&&mt.push(new _t({tagBuilder:se,matchedText:Lt,offset:_e,email:Lt.replace(Ge,"")}));else if(ce.type==="hashtag")Ft(Lt)&&mt.push(new ar({tagBuilder:se,matchedText:Lt,offset:_e,serviceName:Mt,hashtag:Lt.slice(1)}));else if(ce.type==="mention")ho(Lt,_r)&&mt.push(new po({tagBuilder:se,matchedText:Lt,offset:_e,serviceName:_r,mention:Lt.slice(1)}));else if(ce.type==="phone"){if(Lt=Lt.replace(/ +$/g,""),ka(Lt)){var Kb=Lt.replace(/[^0-9,;#]/g,"");mt.push(new fr({tagBuilder:se,matchedText:Lt,offset:_e,number:Kb,plusSign:Lt.charAt(0)==="+"}))}}else d(ce)}}}var Pr=/[\(\{\[]/,kr=/[\)\}\]]/,Dt={")":"(","}":"{","]":"["};function Yn(te){for(var Z={"(":0,"{":0,"[":0},se=0;se<te.length;se++){var be=te.charAt(se);Pr.test(be)?Z[be]++:kr.test(be)&&Z[Dt[be]]--}for(var Ze=te.length-1,ot;Ze>=0;)if(ot=te.charAt(Ze),kr.test(ot)){var Mt=Dt[ot];if(Z[Mt]<0)Z[Mt]++,Ze--;else break}else if(V.test(ot))Ze--;else break;return te.slice(0,Ze+1)}function Kn(te,Z){return{type:"url",startIdx:te,state:Z,acceptStateReached:!1,matchType:"scheme"}}function mi(te,Z){return{type:"url",startIdx:te,state:Z,acceptStateReached:!1,matchType:"tld"}}function Rn(te,Z){return{type:"url",startIdx:te,state:Z,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}function ws(te,Z){return{type:"email",startIdx:te,state:Z,acceptStateReached:!1}}function Ot(te,Z){return{type:"hashtag",startIdx:te,state:Z,acceptStateReached:!1}}function Fb(te,Z){return{type:"mention",startIdx:te,state:Z,acceptStateReached:!1}}function xs(te,Z){return{type:"phone",startIdx:te,state:Z,acceptStateReached:!1}}function yc(te,Z){for(var se=Z.onOpenTag,be=Z.onCloseTag,Ze=Z.onText,ot=Z.onComment,Mt=Z.onDoctype,_r=new gi,mt=0,At=te.length,Ne=0,rt=0,Le=_r;mt<At;){var St=te.charAt(mt);switch(Ne){case 0:Je(St);break;case 1:yi(St);break;case 2:$o(St);break;case 3:ji(St);break;case 4:hr(St);break;case 5:wr(St);break;case 6:jt(St);break;case 7:$t(St);break;case 8:Ts(St);break;case 9:mo(St);break;case 10:Ia(St);break;case 11:mn(St);break;case 12:Td(St);break;case 13:As();break;case 14:zo(St);break;case 15:Cs(St);break;case 16:go(St);break;case 17:Da(St);break;case 18:vc(St);break;case 19:Ma(St);break;case 20:Ad(St);break;default:d(Ne)}mt++}rt<mt&&_c();function Je(Re){Re==="<"&&Pn()}function yi(Re){Re==="!"?Ne=13:Re==="/"?(Ne=2,Le=new gi(P(P({},Le),{isClosing:!0}))):Re==="<"?Pn():f.test(Re)?(Ne=3,Le=new gi(P(P({},Le),{isOpening:!0}))):(Ne=0,Le=_r)}function ji(Re){h.test(Re)?(Le=new gi(P(P({},Le),{name:Xn()})),Ne=4):Re==="<"?Pn():Re==="/"?(Le=new gi(P(P({},Le),{name:Xn()})),Ne=12):Re===">"?(Le=new gi(P(P({},Le),{name:Xn()})),Hr()):!f.test(Re)&&!u.test(Re)&&Re!==":"&&gn()}function $o(Re){Re===">"?gn():f.test(Re)?Ne=3:gn()}function hr(Re){h.test(Re)||(Re==="/"?Ne=12:Re===">"?Hr():Re==="<"?Pn():Re==="="||p.test(Re)||m.test(Re)?gn():Ne=5)}function wr(Re){h.test(Re)?Ne=6:Re==="/"?Ne=12:Re==="="?Ne=7:Re===">"?Hr():Re==="<"?Pn():p.test(Re)&&gn()}function jt(Re){h.test(Re)||(Re==="/"?Ne=12:Re==="="?Ne=7:Re===">"?Hr():Re==="<"?Pn():p.test(Re)?gn():Ne=5)}function $t(Re){h.test(Re)||(Re==='"'?Ne=8:Re==="'"?Ne=9:/[>=`]/.test(Re)?gn():Re==="<"?Pn():Ne=10)}function Ts(Re){Re==='"'&&(Ne=11)}function mo(Re){Re==="'"&&(Ne=11)}function Ia(Re){h.test(Re)?Ne=4:Re===">"?Hr():Re==="<"&&Pn()}function mn(Re){h.test(Re)?Ne=4:Re==="/"?Ne=12:Re===">"?Hr():Re==="<"?Pn():(Ne=4,wc())}function Td(Re){Re===">"?(Le=new gi(P(P({},Le),{isClosing:!0})),Hr()):Ne=4}function As(Re){te.substr(mt,2)==="--"?(mt+=2,Le=new gi(P(P({},Le),{type:"comment"})),Ne=14):te.substr(mt,7).toUpperCase()==="DOCTYPE"?(mt+=7,Le=new gi(P(P({},Le),{type:"doctype"})),Ne=20):gn()}function zo(Re){Re==="-"?Ne=15:Re===">"?gn():Ne=16}function Cs(Re){Re==="-"?Ne=18:Re===">"?gn():Ne=16}function go(Re){Re==="-"&&(Ne=17)}function Da(Re){Re==="-"?Ne=18:Ne=16}function vc(Re){Re===">"?Hr():Re==="!"?Ne=19:Re==="-"||(Ne=16)}function Ma(Re){Re==="-"?Ne=17:Re===">"?Hr():Ne=16}function Ad(Re){Re===">"?Hr():Re==="<"&&Pn()}function gn(){Ne=0,Le=_r}function Pn(){Ne=1,Le=new gi({idx:mt})}function Hr(){var Re=te.slice(rt,Le.idx);Re&&Ze(Re,rt),Le.type==="comment"?ot(Le.idx):Le.type==="doctype"?Mt(Le.idx):(Le.isOpening&&se(Le.name,Le.idx),Le.isClosing&&be(Le.name,Le.idx)),gn(),rt=mt+1}function _c(){var Re=te.slice(rt,mt);Ze(Re,rt),rt=mt+1}function Xn(){var Re=Le.idx+(Le.isClosing?2:1);return te.slice(Re,mt).toLowerCase()}function wc(){mt--}}var gi=function(){function te(Z){Z===void 0&&(Z={}),this.idx=Z.idx!==void 0?Z.idx:-1,this.type=Z.type||"tag",this.name=Z.name||"",this.isOpening=!!Z.isOpening,this.isClosing=!!Z.isClosing}return te}(),jo=function(){function te(Z){Z===void 0&&(Z={}),this.version=te.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=Qt(Z.urls),this.email=i(Z.email)?Z.email:this.email,this.phone=i(Z.phone)?Z.phone:this.phone,this.hashtag=Z.hashtag||this.hashtag,this.mention=Z.mention||this.mention,this.newWindow=i(Z.newWindow)?Z.newWindow:this.newWindow,this.stripPrefix=Yp(Z.stripPrefix),this.stripTrailingSlash=i(Z.stripTrailingSlash)?Z.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=i(Z.decodePercentEncoding)?Z.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=Z.sanitizeHtml||!1;var se=this.mention;if(se!==!1&&Ui.indexOf(se)===-1)throw new Error("invalid `mention` cfg '".concat(se,"' - see docs"));var be=this.hashtag;if(be!==!1&&vt.indexOf(be)===-1)throw new Error("invalid `hashtag` cfg '".concat(be,"' - see docs"));this.truncate=bc(Z.truncate),this.className=Z.className||this.className,this.replaceFn=Z.replaceFn||this.replaceFn,this.context=Z.context||this}return te.link=function(Z,se){var be=new te(se);return be.link(Z)},te.parse=function(Z,se){var be=new te(se);return be.parse(Z)},te.prototype.parse=function(Z){var se=this,be=["a","style","script"],Ze=0,ot=[];return yc(Z,{onOpenTag:function(Mt){be.indexOf(Mt)>=0&&Ze++},onText:function(Mt,_r){if(Ze===0){var mt=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,At=Mt.split(mt),Ne=_r;At.forEach(function(rt,Le){if(Le%2===0){var St=se.parseText(rt,Ne);ot.push.apply(ot,St)}Ne+=rt.length})}},onCloseTag:function(Mt){be.indexOf(Mt)>=0&&(Ze=Math.max(Ze-1,0))},onComment:function(Mt){},onDoctype:function(Mt){}}),ot=this.compactMatches(ot),ot=this.removeUnwantedMatches(ot),ot},te.prototype.compactMatches=function(Z){Z.sort(function(mt,At){return mt.getOffset()-At.getOffset()});for(var se=0;se<Z.length-1;){var be=Z[se],Ze=be.getOffset(),ot=be.getMatchedText().length,Mt=Ze+ot;if(se+1<Z.length){if(Z[se+1].getOffset()===Ze){var _r=Z[se+1].getMatchedText().length>ot?se:se+1;Z.splice(_r,1);continue}if(Z[se+1].getOffset()<Mt){Z.splice(se+1,1);continue}}se++}return Z},te.prototype.removeUnwantedMatches=function(Z){return this.hashtag||l(Z,function(se){return se.getType()==="hashtag"}),this.email||l(Z,function(se){return se.getType()==="email"}),this.phone||l(Z,function(se){return se.getType()==="phone"}),this.mention||l(Z,function(se){return se.getType()==="mention"}),this.urls.schemeMatches||l(Z,function(se){return se.getType()==="url"&&se.getUrlMatchType()==="scheme"}),this.urls.tldMatches||l(Z,function(se){return se.getType()==="url"&&se.getUrlMatchType()==="tld"}),this.urls.ipV4Matches||l(Z,function(se){return se.getType()==="url"&&se.getUrlMatchType()==="ipV4"}),Z},te.prototype.parseText=function(Z,se){se===void 0&&(se=0),se=se||0;for(var be=pn(Z,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),Ze=0,ot=be.length;Ze<ot;Ze++)be[Ze].setOffset(se+be[Ze].getOffset());return be},te.prototype.link=function(Z){if(!Z)return"";this.sanitizeHtml&&(Z=Z.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var se=this.parse(Z),be=[],Ze=0,ot=0,Mt=se.length;ot<Mt;ot++){var _r=se[ot];be.push(Z.substring(Ze,_r.getOffset())),be.push(this.createMatchReturnVal(_r)),Ze=_r.getOffset()+_r.getMatchedText().length}return be.push(Z.substring(Ze)),be.join("")},te.prototype.createMatchReturnVal=function(Z){var se;if(this.replaceFn&&(se=this.replaceFn.call(this.context,Z)),typeof se=="string")return se;if(se===!1)return Z.getMatchedText();if(se instanceof T)return se.toAnchorString();var be=Z.buildTag();return be.toAnchorString()},te.prototype.getTagBuilder=function(){var Z=this.tagBuilder;return Z||(Z=this.tagBuilder=new R({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),Z},te.version=r,te}();function Qt(te){return te==null&&(te=!0),i(te)?{schemeMatches:te,tldMatches:te,ipV4Matches:te}:{schemeMatches:i(te.schemeMatches)?te.schemeMatches:!0,tldMatches:i(te.tldMatches)?te.tldMatches:!0,ipV4Matches:i(te.ipV4Matches)?te.ipV4Matches:!0}}function Yp(te){return te==null&&(te=!0),i(te)?{scheme:te,www:te}:{scheme:i(te.scheme)?te.scheme:!0,www:i(te.www)?te.www:!0}}function bc(te){return typeof te=="number"?{length:te,location:"end"}:o(te||{},{length:Number.POSITIVE_INFINITY,location:"end"})}return jo})})(nv);var ZM=nv.exports;const JM=vn(ZM);class Wo{constructor(e){Fe(this,"id");Fe(this,"nickname");Fe(this,"avatarUrl");Fe(this,"country");Fe(this,"city");Fe(this,"clientType");Fe(this,"memberIds");const{_id:r,nickname:n,avatarUrl:i,country:o,city:s,clientType:a,members:l}=e;this.id=r,this.nickname=n??r,this.avatarUrl=i,this.country=o??null,this.city=s??null,this.clientType=a??null,this.memberIds={},l==null||l.forEach(d=>{this.memberIds[d._id]=!0})}}var iv={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",d="day",f="week",u="month",h="quarter",p="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var W=["th","st","nd","rd"],B=$%100;return"["+$+(W[(B-20)%10]||W[B]||W[0])+"]"}},A=function($,W,B){var j=String($);return!j||j.length>=W?$:""+Array(W+1-j.length).join(B)+$},k={s:A,z:function($){var W=-$.utcOffset(),B=Math.abs(W),j=Math.floor(B/60),re=B%60;return(W<=0?"+":"-")+A(j,2,"0")+":"+A(re,2,"0")},m:function $(W,B){if(W.date()<B.date())return-$(B,W);var j=12*(B.year()-W.year())+(B.month()-W.month()),re=W.clone().add(j,u),H=B-re<0,L=W.clone().add(j+(H?-1:1),u);return+(-(j+(B-re)/(H?re-L:L-re))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:u,y:p,w:f,d,D:m,h:l,m:a,s,ms:o,Q:h}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},C="en",T={};T[C]=E;var O="$isDayjsObject",D=function($){return $ instanceof F||!(!$||!$[O])},S=function $(W,B,j){var re;if(!W)return C;if(typeof W=="string"){var H=W.toLowerCase();T[H]&&(re=H),B&&(T[H]=B,re=H);var L=W.split("-");if(!re&&L.length>1)return $(L[0])}else{var I=W.name;T[I]=W,re=I}return!j&&re&&(C=re),re||!j&&C},R=function($,W){if(D($))return $.clone();var B=typeof W=="object"?W:{};return B.date=$,B.args=arguments,new F(B)},z=k;z.l=S,z.i=D,z.w=function($,W){return R($,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var F=function(){function $(B){this.$L=S(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[O]=!0}var W=$.prototype;return W.parse=function(B){this.$d=function(j){var re=j.date,H=j.utc;if(re===null)return new Date(NaN);if(z.u(re))return new Date;if(re instanceof Date)return new Date(re);if(typeof re=="string"&&!/Z$/i.test(re)){var L=re.match(b);if(L){var I=L[2]-1||0,V=(L[7]||"0").substring(0,3);return H?new Date(Date.UTC(L[1],I,L[3]||1,L[4]||0,L[5]||0,L[6]||0,V)):new Date(L[1],I,L[3]||1,L[4]||0,L[5]||0,L[6]||0,V)}}return new Date(re)}(B),this.init()},W.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},W.$utils=function(){return z},W.isValid=function(){return this.$d.toString()!==y},W.isSame=function(B,j){var re=R(B);return this.startOf(j)<=re&&re<=this.endOf(j)},W.isAfter=function(B,j){return R(B)<this.startOf(j)},W.isBefore=function(B,j){return this.endOf(j)<R(B)},W.$g=function(B,j,re){return z.u(B)?this[j]:this.set(re,B)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(B,j){var re=this,H=!!z.u(j)||j,L=z.p(B),I=function(he,fe){var ve=z.w(re.$u?Date.UTC(re.$y,fe,he):new Date(re.$y,fe,he),re);return H?ve:ve.endOf(d)},V=function(he,fe){return z.w(re.toDate()[he].apply(re.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(fe)),re)},K=this.$W,Y=this.$M,Q=this.$D,le="set"+(this.$u?"UTC":"");switch(L){case p:return H?I(1,0):I(31,11);case u:return H?I(1,Y):I(0,Y+1);case f:var ie=this.$locale().weekStart||0,me=(K<ie?K+7:K)-ie;return I(H?Q-me:Q+(6-me),Y);case d:case m:return V(le+"Hours",0);case l:return V(le+"Minutes",1);case a:return V(le+"Seconds",2);case s:return V(le+"Milliseconds",3);default:return this.clone()}},W.endOf=function(B){return this.startOf(B,!1)},W.$set=function(B,j){var re,H=z.p(B),L="set"+(this.$u?"UTC":""),I=(re={},re[d]=L+"Date",re[m]=L+"Date",re[u]=L+"Month",re[p]=L+"FullYear",re[l]=L+"Hours",re[a]=L+"Minutes",re[s]=L+"Seconds",re[o]=L+"Milliseconds",re)[H],V=H===d?this.$D+(j-this.$W):j;if(H===u||H===p){var K=this.clone().set(m,1);K.$d[I](V),K.init(),this.$d=K.set(m,Math.min(this.$D,K.daysInMonth())).$d}else I&&this.$d[I](V);return this.init(),this},W.set=function(B,j){return this.clone().$set(B,j)},W.get=function(B){return this[z.p(B)]()},W.add=function(B,j){var re,H=this;B=Number(B);var L=z.p(j),I=function(Y){var Q=R(H);return z.w(Q.date(Q.date()+Math.round(Y*B)),H)};if(L===u)return this.set(u,this.$M+B);if(L===p)return this.set(p,this.$y+B);if(L===d)return I(1);if(L===f)return I(7);var V=(re={},re[a]=n,re[l]=i,re[s]=r,re)[L]||1,K=this.$d.getTime()+B*V;return z.w(K,this)},W.subtract=function(B,j){return this.add(-1*B,j)},W.format=function(B){var j=this,re=this.$locale();if(!this.isValid())return re.invalidDate||y;var H=B||"YYYY-MM-DDTHH:mm:ssZ",L=z.z(this),I=this.$H,V=this.$m,K=this.$M,Y=re.weekdays,Q=re.months,le=re.meridiem,ie=function(fe,ve,Se,Me){return fe&&(fe[ve]||fe(j,H))||Se[ve].slice(0,Me)},me=function(fe){return z.s(I%12||12,fe,"0")},he=le||function(fe,ve,Se){var Me=fe<12?"AM":"PM";return Se?Me.toLowerCase():Me};return H.replace(v,function(fe,ve){return ve||function(Se){switch(Se){case"YY":return String(j.$y).slice(-2);case"YYYY":return z.s(j.$y,4,"0");case"M":return K+1;case"MM":return z.s(K+1,2,"0");case"MMM":return ie(re.monthsShort,K,Q,3);case"MMMM":return ie(Q,K);case"D":return j.$D;case"DD":return z.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return ie(re.weekdaysMin,j.$W,Y,2);case"ddd":return ie(re.weekdaysShort,j.$W,Y,3);case"dddd":return Y[j.$W];case"H":return String(I);case"HH":return z.s(I,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return he(I,V,!0);case"A":return he(I,V,!1);case"m":return String(V);case"mm":return z.s(V,2,"0");case"s":return String(j.$s);case"ss":return z.s(j.$s,2,"0");case"SSS":return z.s(j.$ms,3,"0");case"Z":return L}return null}(fe)||L.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(B,j,re){var H,L=this,I=z.p(j),V=R(B),K=(V.utcOffset()-this.utcOffset())*n,Y=this-V,Q=function(){return z.m(L,V)};switch(I){case p:H=Q()/12;break;case u:H=Q();break;case h:H=Q()/3;break;case f:H=(Y-K)/6048e5;break;case d:H=(Y-K)/864e5;break;case l:H=Y/i;break;case a:H=Y/n;break;case s:H=Y/r;break;default:H=Y}return re?H:z.a(H)},W.daysInMonth=function(){return this.endOf(u).$D},W.$locale=function(){return T[this.$L]},W.locale=function(B,j){if(!B)return this.$L;var re=this.clone(),H=S(B,j,!0);return H&&(re.$L=H),re},W.clone=function(){return z.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},$}(),P=F.prototype;return R.prototype=P,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",d],["$M",u],["$y",p],["$D",m]].forEach(function($){P[$[1]]=function(W){return this.$g(W,$[0],$[1])}}),R.extend=function($,W){return $.$i||($(W,F,R),$.$i=!0),R},R.locale=S,R.isDayjs=D,R.unix=function($){return R(1e3*$)},R.en=T[C],R.Ls=T,R.p={},R})})(iv);var eN=iv.exports;const mr=vn(eN);var ov={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,o,s){var a,l=function(h,p,m){m===void 0&&(m={});var y=new Date(h),b=function(v,E){E===void 0&&(E={});var A=E.timeZoneName||"short",k=v+"|"+A,C=n[k];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:A}),n[k]=C),C}(p,m);return b.formatToParts(y)},d=function(h,p){for(var m=l(h,p),y=[],b=0;b<m.length;b+=1){var v=m[b],E=v.type,A=v.value,k=r[E];k>=0&&(y[k]=parseInt(A,10))}var C=y[3],T=C===24?0:C,O=y[0]+"-"+y[1]+"-"+y[2]+" "+T+":"+y[4]+":"+y[5]+":000",D=+h;return(s.utc(O).valueOf()-(D-=D%1e3))/6e4},f=o.prototype;f.tz=function(h,p){h===void 0&&(h=a);var m,y=this.utcOffset(),b=this.toDate(),v=b.toLocaleString("en-US",{timeZone:h}),E=Math.round((b-new Date(v))/1e3/60),A=15*-Math.round(b.getTimezoneOffset()/15)-E;if(!Number(A))m=this.utcOffset(0,p);else if(m=s(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(A,!0),p){var k=m.utcOffset();m=m.add(y-k,"minute")}return m.$x.$timezone=h,m},f.offsetName=function(h){var p=this.$x.$timezone||s.tz.guess(),m=l(this.valueOf(),p,{timeZoneName:h}).find(function(y){return y.type.toLowerCase()==="timezonename"});return m&&m.value};var u=f.startOf;f.startOf=function(h,p){if(!this.$x||!this.$x.$timezone)return u.call(this,h,p);var m=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(m,h,p).tz(this.$x.$timezone,!0)},s.tz=function(h,p,m){var y=m&&p,b=m||p||a,v=d(+s(),b);if(typeof h!="string")return s(h).tz(b);var E=function(T,O,D){var S=T-60*O*1e3,R=d(S,D);if(O===R)return[S,O];var z=d(S-=60*(R-O)*1e3,D);return R===z?[S,R]:[T-60*Math.min(R,z)*1e3,Math.max(R,z)]}(s.utc(h,y).valueOf(),v,b),A=E[0],k=E[1],C=s(A).utcOffset(k);return C.$x.$timezone=b,C},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(h){a=h}}})})(ov);var tN=ov.exports;const rN=vn(tN);/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const xi=typeof window<"u";let Fn,Bs;if(process.env.NODE_ENV!=="production"){const t=xi&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(Fn=e=>{t.mark(e)},Bs=(e,r,n)=>{t.measure(e,r,n),t.clearMarks(r),t.clearMarks(n)})}const nN=/\{([0-9a-zA-Z]+)\}/g;function Dm(t,...e){return e.length===1&&Et(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(nN,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const Hi=(t,e=!1)=>e?Symbol.for(t):Symbol(t),iN=(t,e,r)=>oN({l:t,k:e,s:r}),oN=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ir=t=>typeof t=="number"&&isFinite(t),sN=t=>cv(t)==="[object Date]",Go=t=>cv(t)==="[object RegExp]",Wd=t=>ut(t)&&Object.keys(t).length===0,Fr=Object.assign;let sv;const vo=()=>sv||(sv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function av(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const aN=Object.prototype.hasOwnProperty;function Gd(t,e){return aN.call(t,e)}const Wt=Array.isArray,Vt=t=>typeof t=="function",$e=t=>typeof t=="string",bt=t=>typeof t=="boolean",Et=t=>t!==null&&typeof t=="object",lN=t=>Et(t)&&Vt(t.then)&&Vt(t.catch),lv=Object.prototype.toString,cv=t=>lv.call(t),ut=t=>{if(!Et(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},cN=t=>t==null?"":Wt(t)||ut(t)&&t.toString===lv?JSON.stringify(t,null,2):String(t);function uN(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const uv=2;function dN(t,e=0,r=t.length){const n=t.split(/\r?\n/);let i=0;const o=[];for(let s=0;s<n.length;s++)if(i+=n[s].length+1,i>=e){for(let a=s-uv;a<=s+uv||r>i;a++){if(a<0||a>=n.length)continue;const l=a+1;o.push(`${l}${" ".repeat(3-String(l).length)}|  ${n[a]}`);const d=n[a].length;if(a===s){const f=e-(i-d)+1,u=Math.max(1,r>i?d-f:r-e);o.push("   |  "+" ".repeat(f)+"^".repeat(u))}else if(a>s){if(r>i){const f=Math.max(Math.min(r-i,d),1);o.push("   |  "+"^".repeat(f))}i+=d+1}}break}return o.join(`
`)}function Qd(t){let e=t;return()=>++e}function Dr(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const dv={};function fv(t){dv[t]||(dv[t]=!0,Dr(t))}function Mm(){const t=new Map;return{events:t,on(r,n){const i=t.get(r);i&&i.push(n)||t.set(r,[n])},off(r,n){const i=t.get(r);i&&i.splice(i.indexOf(n)>>>0,1)},emit(r,n){(t.get(r)||[]).slice().map(i=>i(n)),(t.get("*")||[]).slice().map(i=>i(r,n))}}}const Yd=t=>!Et(t)||Wt(t);function Kd(t,e){if(Yd(t)||Yd(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(o=>{Yd(n[o])||Yd(i[o])?i[o]=n[o]:r.push({src:n[o],des:i[o]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function fN(t,e,r){return{line:t,column:e,offset:r}}function Xd(t,e,r){return{start:t,end:e}}const hN=/\{([0-9a-zA-Z]+)\}/g;function hv(t,...e){return e.length===1&&pN(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(hN,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const pv=Object.assign,mv=t=>typeof t=="string",pN=t=>t!==null&&typeof t=="object";function gv(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const Zd={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},mN={[Zd.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function gN(t,e,...r){const n=hv(mN[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const st={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},yN={[st.EXPECTED_TOKEN]:"Expected token: '{0}'",[st.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[st.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[st.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[st.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[st.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[st.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[st.EMPTY_PLACEHOLDER]:"Empty placeholder",[st.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[st.INVALID_LINKED_FORMAT]:"Invalid linked format",[st.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[st.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[st.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[st.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[st.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[st.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function qa(t,e,r={}){const{domain:n,messages:i,args:o}=r,s=hv((i||yN)[t]||"",...o||[]),a=new SyntaxError(String(s));return a.code=t,e&&(a.location=e),a.domain=n,a}function bN(t){throw t}const vN=/<\/?[\w\s="/.':;#-\/]+>/,_N=t=>vN.test(t),_o=" ",wN="\r",nn=`
`,xN="\u2028",TN="\u2029";function AN(t){const e=t;let r=0,n=1,i=1,o=0;const s=O=>e[O]===wN&&e[O+1]===nn,a=O=>e[O]===nn,l=O=>e[O]===TN,d=O=>e[O]===xN,f=O=>s(O)||a(O)||l(O)||d(O),u=()=>r,h=()=>n,p=()=>i,m=()=>o,y=O=>s(O)||l(O)||d(O)?nn:e[O],b=()=>y(r),v=()=>y(r+o);function E(){return o=0,f(r)&&(n++,i=0),s(r)&&r++,r++,i++,e[r]}function A(){return s(r+o)&&o++,o++,e[r+o]}function k(){r=0,n=1,i=1,o=0}function C(O=0){o=O}function T(){const O=r+o;for(;O!==r;)E();o=0}return{index:u,line:h,column:p,peekOffset:m,charAt:y,currentChar:b,currentPeek:v,next:E,peek:A,reset:k,resetPeek:C,skipToPeek:T}}const Qo=void 0,CN=".",yv="'",SN="tokenizer";function EN(t,e={}){const r=e.location!==!1,n=AN(t),i=()=>n.index(),o=()=>fN(n.line(),n.column(),n.index()),s=o(),a=i(),l={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},d=()=>l,{onError:f}=e;function u(U,q,oe,...we){const Oe=d();if(q.column+=oe,q.offset+=oe,f){const Pe=r?Xd(Oe.startLoc,q):null,Ge=qa(U,Pe,{domain:SN,args:we});f(Ge)}}function h(U,q,oe){U.endLoc=o(),U.currentType=q;const we={type:q};return r&&(we.loc=Xd(U.startLoc,U.endLoc)),oe!=null&&(we.value=oe),we}const p=U=>h(U,14);function m(U,q){return U.currentChar()===q?(U.next(),q):(u(st.EXPECTED_TOKEN,o(),0,q),"")}function y(U){let q="";for(;U.currentPeek()===_o||U.currentPeek()===nn;)q+=U.currentPeek(),U.peek();return q}function b(U){const q=y(U);return U.skipToPeek(),q}function v(U){if(U===Qo)return!1;const q=U.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q===95}function E(U){if(U===Qo)return!1;const q=U.charCodeAt(0);return q>=48&&q<=57}function A(U,q){const{currentType:oe}=q;if(oe!==2)return!1;y(U);const we=v(U.currentPeek());return U.resetPeek(),we}function k(U,q){const{currentType:oe}=q;if(oe!==2)return!1;y(U);const we=U.currentPeek()==="-"?U.peek():U.currentPeek(),Oe=E(we);return U.resetPeek(),Oe}function C(U,q){const{currentType:oe}=q;if(oe!==2)return!1;y(U);const we=U.currentPeek()===yv;return U.resetPeek(),we}function T(U,q){const{currentType:oe}=q;if(oe!==8)return!1;y(U);const we=U.currentPeek()===".";return U.resetPeek(),we}function O(U,q){const{currentType:oe}=q;if(oe!==9)return!1;y(U);const we=v(U.currentPeek());return U.resetPeek(),we}function D(U,q){const{currentType:oe}=q;if(!(oe===8||oe===12))return!1;y(U);const we=U.currentPeek()===":";return U.resetPeek(),we}function S(U,q){const{currentType:oe}=q;if(oe!==10)return!1;const we=()=>{const Pe=U.currentPeek();return Pe==="{"?v(U.peek()):Pe==="@"||Pe==="%"||Pe==="|"||Pe===":"||Pe==="."||Pe===_o||!Pe?!1:Pe===nn?(U.peek(),we()):F(U,!1)},Oe=we();return U.resetPeek(),Oe}function R(U){y(U);const q=U.currentPeek()==="|";return U.resetPeek(),q}function z(U){const q=y(U),oe=U.currentPeek()==="%"&&U.peek()==="{";return U.resetPeek(),{isModulo:oe,hasSpace:q.length>0}}function F(U,q=!0){const oe=(Oe=!1,Pe="",Ge=!1)=>{const ge=U.currentPeek();return ge==="{"?Pe==="%"?!1:Oe:ge==="@"||!ge?Pe==="%"?!0:Oe:ge==="%"?(U.peek(),oe(Oe,"%",!0)):ge==="|"?Pe==="%"||Ge?!0:!(Pe===_o||Pe===nn):ge===_o?(U.peek(),oe(!0,_o,Ge)):ge===nn?(U.peek(),oe(!0,nn,Ge)):!0},we=oe();return q&&U.resetPeek(),we}function P(U,q){const oe=U.currentChar();return oe===Qo?Qo:q(oe)?(U.next(),oe):null}function $(U){const q=U.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36}function W(U){return P(U,$)}function B(U){const q=U.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36||q===45}function j(U){return P(U,B)}function re(U){const q=U.charCodeAt(0);return q>=48&&q<=57}function H(U){return P(U,re)}function L(U){const q=U.charCodeAt(0);return q>=48&&q<=57||q>=65&&q<=70||q>=97&&q<=102}function I(U){return P(U,L)}function V(U){let q="",oe="";for(;q=H(U);)oe+=q;return oe}function K(U){b(U);const q=U.currentChar();return q!=="%"&&u(st.EXPECTED_TOKEN,o(),0,q),U.next(),"%"}function Y(U){let q="";for(;;){const oe=U.currentChar();if(oe==="{"||oe==="}"||oe==="@"||oe==="|"||!oe)break;if(oe==="%")if(F(U))q+=oe,U.next();else break;else if(oe===_o||oe===nn)if(F(U))q+=oe,U.next();else{if(R(U))break;q+=oe,U.next()}else q+=oe,U.next()}return q}function Q(U){b(U);let q="",oe="";for(;q=j(U);)oe+=q;return U.currentChar()===Qo&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),oe}function le(U){b(U);let q="";return U.currentChar()==="-"?(U.next(),q+=`-${V(U)}`):q+=V(U),U.currentChar()===Qo&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),q}function ie(U){return U!==yv&&U!==nn}function me(U){b(U),m(U,"'");let q="",oe="";for(;q=P(U,ie);)q==="\\"?oe+=he(U):oe+=q;const we=U.currentChar();return we===nn||we===Qo?(u(st.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),we===nn&&(U.next(),m(U,"'")),oe):(m(U,"'"),oe)}function he(U){const q=U.currentChar();switch(q){case"\\":case"'":return U.next(),`\\${q}`;case"u":return fe(U,q,4);case"U":return fe(U,q,6);default:return u(st.UNKNOWN_ESCAPE_SEQUENCE,o(),0,q),""}}function fe(U,q,oe){m(U,q);let we="";for(let Oe=0;Oe<oe;Oe++){const Pe=I(U);if(!Pe){u(st.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${q}${we}${U.currentChar()}`);break}we+=Pe}return`\\${q}${we}`}function ve(U){return U!=="{"&&U!=="}"&&U!==_o&&U!==nn}function Se(U){b(U);let q="",oe="";for(;q=P(U,ve);)oe+=q;return oe}function Me(U){let q="",oe="";for(;q=W(U);)oe+=q;return oe}function de(U){const q=oe=>{const we=U.currentChar();return we==="{"||we==="%"||we==="@"||we==="|"||we==="("||we===")"||!we||we===_o?oe:(oe+=we,U.next(),q(oe))};return q("")}function pe(U){b(U);const q=m(U,"|");return b(U),q}function ke(U,q){let oe=null;switch(U.currentChar()){case"{":return q.braceNest>=1&&u(st.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),U.next(),oe=h(q,2,"{"),b(U),q.braceNest++,oe;case"}":return q.braceNest>0&&q.currentType===2&&u(st.EMPTY_PLACEHOLDER,o(),0),U.next(),oe=h(q,3,"}"),q.braceNest--,q.braceNest>0&&b(U),q.inLinked&&q.braceNest===0&&(q.inLinked=!1),oe;case"@":return q.braceNest>0&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),oe=ae(U,q)||p(q),q.braceNest=0,oe;default:{let Oe=!0,Pe=!0,Ge=!0;if(R(U))return q.braceNest>0&&u(st.UNTERMINATED_CLOSING_BRACE,o(),0),oe=h(q,1,pe(U)),q.braceNest=0,q.inLinked=!1,oe;if(q.braceNest>0&&(q.currentType===5||q.currentType===6||q.currentType===7))return u(st.UNTERMINATED_CLOSING_BRACE,o(),0),q.braceNest=0,Te(U,q);if(Oe=A(U,q))return oe=h(q,5,Q(U)),b(U),oe;if(Pe=k(U,q))return oe=h(q,6,le(U)),b(U),oe;if(Ge=C(U,q))return oe=h(q,7,me(U)),b(U),oe;if(!Oe&&!Pe&&!Ge)return oe=h(q,13,Se(U)),u(st.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,oe.value),b(U),oe;break}}return oe}function ae(U,q){const{currentType:oe}=q;let we=null;const Oe=U.currentChar();switch((oe===8||oe===9||oe===12||oe===10)&&(Oe===nn||Oe===_o)&&u(st.INVALID_LINKED_FORMAT,o(),0),Oe){case"@":return U.next(),we=h(q,8,"@"),q.inLinked=!0,we;case".":return b(U),U.next(),h(q,9,".");case":":return b(U),U.next(),h(q,10,":");default:return R(U)?(we=h(q,1,pe(U)),q.braceNest=0,q.inLinked=!1,we):T(U,q)||D(U,q)?(b(U),ae(U,q)):O(U,q)?(b(U),h(q,12,Me(U))):S(U,q)?(b(U),Oe==="{"?ke(U,q)||we:h(q,11,de(U))):(oe===8&&u(st.INVALID_LINKED_FORMAT,o(),0),q.braceNest=0,q.inLinked=!1,Te(U,q))}}function Te(U,q){let oe={type:14};if(q.braceNest>0)return ke(U,q)||p(q);if(q.inLinked)return ae(U,q)||p(q);switch(U.currentChar()){case"{":return ke(U,q)||p(q);case"}":return u(st.UNBALANCED_CLOSING_BRACE,o(),0),U.next(),h(q,3,"}");case"@":return ae(U,q)||p(q);default:{if(R(U))return oe=h(q,1,pe(U)),q.braceNest=0,q.inLinked=!1,oe;const{isModulo:Oe,hasSpace:Pe}=z(U);if(Oe)return Pe?h(q,0,Y(U)):h(q,4,K(U));if(F(U))return h(q,0,Y(U));break}}return oe}function De(){const{currentType:U,offset:q,startLoc:oe,endLoc:we}=l;return l.lastType=U,l.lastOffset=q,l.lastStartLoc=oe,l.lastEndLoc=we,l.offset=i(),l.startLoc=o(),n.currentChar()===Qo?h(l,14):Te(n,l)}return{nextToken:De,currentOffset:i,currentPosition:o,context:d}}const kN="parser",IN=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function DN(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function MN(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(A,k,C,T,...O){const D=A.currentPosition();if(D.offset+=T,D.column+=T,r){const S=e?Xd(C,D):null,R=qa(k,S,{domain:kN,args:O});r(R)}}function o(A,k,C,T,...O){const D=A.currentPosition();if(D.offset+=T,D.column+=T,n){const S=e?Xd(C,D):null;n(gN(k,S,O))}}function s(A,k,C){const T={type:A};return e&&(T.start=k,T.end=k,T.loc={start:C,end:C}),T}function a(A,k,C,T){e&&(A.end=k,A.loc&&(A.loc.end=C))}function l(A,k){const C=A.context(),T=s(3,C.offset,C.startLoc);return T.value=k,a(T,A.currentOffset(),A.currentPosition()),T}function d(A,k){const C=A.context(),{lastOffset:T,lastStartLoc:O}=C,D=s(5,T,O);return D.index=parseInt(k,10),A.nextToken(),a(D,A.currentOffset(),A.currentPosition()),D}function f(A,k,C){const T=A.context(),{lastOffset:O,lastStartLoc:D}=T,S=s(4,O,D);return S.key=k,C===!0&&(S.modulo=!0),A.nextToken(),a(S,A.currentOffset(),A.currentPosition()),S}function u(A,k){const C=A.context(),{lastOffset:T,lastStartLoc:O}=C,D=s(9,T,O);return D.value=k.replace(IN,DN),A.nextToken(),a(D,A.currentOffset(),A.currentPosition()),D}function h(A){const k=A.nextToken(),C=A.context(),{lastOffset:T,lastStartLoc:O}=C,D=s(8,T,O);return k.type!==12?(i(A,st.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),D.value="",a(D,T,O),{nextConsumeToken:k,node:D}):(k.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Ti(k)),D.value=k.value||"",a(D,A.currentOffset(),A.currentPosition()),{node:D})}function p(A,k){const C=A.context(),T=s(7,C.offset,C.startLoc);return T.value=k,a(T,A.currentOffset(),A.currentPosition()),T}function m(A){const k=A.context(),C=s(6,k.offset,k.startLoc);let T=A.nextToken();if(T.type===9){const O=h(A);C.modifier=O.node,T=O.nextConsumeToken||A.nextToken()}switch(T.type!==10&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(T)),T=A.nextToken(),T.type===2&&(T=A.nextToken()),T.type){case 11:T.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(T)),C.key=p(A,T.value||"");break;case 5:T.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(T)),C.key=f(A,T.value||"");break;case 6:T.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(T)),C.key=d(A,T.value||"");break;case 7:T.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(T)),C.key=u(A,T.value||"");break;default:{i(A,st.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const O=A.context(),D=s(7,O.offset,O.startLoc);return D.value="",a(D,O.offset,O.startLoc),C.key=D,a(C,O.offset,O.startLoc),{nextConsumeToken:T,node:C}}}return a(C,A.currentOffset(),A.currentPosition()),{node:C}}function y(A){const k=A.context(),C=k.currentType===1?A.currentOffset():k.offset,T=k.currentType===1?k.endLoc:k.startLoc,O=s(2,C,T);O.items=[];let D=null,S=null;do{const F=D||A.nextToken();switch(D=null,F.type){case 0:F.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(F)),O.items.push(l(A,F.value||""));break;case 6:F.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(F)),O.items.push(d(A,F.value||""));break;case 4:S=!0;break;case 5:F.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(F)),O.items.push(f(A,F.value||"",!!S)),S&&(o(A,Zd.USE_MODULO_SYNTAX,k.lastStartLoc,0,Ti(F)),S=null);break;case 7:F.value==null&&i(A,st.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ti(F)),O.items.push(u(A,F.value||""));break;case 8:{const P=m(A);O.items.push(P.node),D=P.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const R=k.currentType===1?k.lastOffset:A.currentOffset(),z=k.currentType===1?k.lastEndLoc:A.currentPosition();return a(O,R,z),O}function b(A,k,C,T){const O=A.context();let D=T.items.length===0;const S=s(1,k,C);S.cases=[],S.cases.push(T);do{const R=y(A);D||(D=R.items.length===0),S.cases.push(R)}while(O.currentType!==14);return D&&i(A,st.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),a(S,A.currentOffset(),A.currentPosition()),S}function v(A){const k=A.context(),{offset:C,startLoc:T}=k,O=y(A);return k.currentType===14?O:b(A,C,T,O)}function E(A){const k=EN(A,pv({},t)),C=k.context(),T=s(0,C.offset,C.startLoc);return e&&T.loc&&(T.loc.source=A),T.body=v(k),t.onCacheKey&&(T.cacheKey=t.onCacheKey(A)),C.currentType!==14&&i(k,st.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,A[C.offset]||""),a(T,k.currentOffset(),k.currentPosition()),T}return{parse:E}}function Ti(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function NN(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:o=>(r.helpers.add(o),o)}}function bv(t,e){for(let r=0;r<t.length;r++)Nm(t[r],e)}function Nm(t,e){switch(t.type){case 1:bv(t.cases,e),e.helper("plural");break;case 2:bv(t.items,e);break;case 6:{Nm(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function ON(t,e={}){const r=NN(t);r.helper("normalize"),t.body&&Nm(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function LN(t){const e=t.body;return e.type===2?vv(e):e.cases.forEach(r=>vv(r)),t}function vv(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=gv(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const BN="minifier";function Wa(t){switch(t.t=t.type,t.type){case 0:{const e=t;Wa(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)Wa(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)Wa(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Wa(e.key),e.k=e.key,delete e.key,e.modifier&&(Wa(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw qa(st.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:BN,args:[t.type]})}delete t.type}const RN="parser";function PN(t,e){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:o}=e,s=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&t.loc&&(a.source=t.loc.source);const l=()=>a;function d(b,v){a.code+=b}function f(b,v=!0){const E=v?i:"";d(o?E+"  ".repeat(b):E)}function u(b=!0){const v=++a.indentLevel;b&&f(v)}function h(b=!0){const v=--a.indentLevel;b&&f(v)}function p(){f(a.indentLevel)}return{context:l,push:d,indent:u,deindent:h,newline:p,helper:b=>`_${b}`,needIndent:()=>a.needIndent}}function FN(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),Ga(t,e.key),e.modifier?(t.push(", "),Ga(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function UN(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let o=0;o<i&&(Ga(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}function jN(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let o=0;o<i&&(Ga(t,e.cases[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}}function $N(t,e){e.body?Ga(t,e.body):t.push("null")}function Ga(t,e){const{helper:r}=t;switch(e.type){case 0:$N(t,e);break;case 1:jN(t,e);break;case 2:UN(t,e);break;case 6:FN(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw qa(st.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:RN,args:[e.type]})}}const zN=(t,e={})=>{const r=mv(e.mode)?e.mode:"normal",n=mv(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,o=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",a=t.helpers||[],l=PN(t,{mode:r,filename:n,sourceMap:i,breakLineCode:o,needIndent:s});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${gv(a.map(u=>`${u}: _${u}`),", ")} } = ctx`),l.newline()),l.push("return "),Ga(l,t),l.deindent(s),l.push("}"),delete t.helpers;const{code:d,map:f}=l.context();return{ast:t,code:d,map:f?f.toJSON():void 0}};function VN(t,e={}){const r=pv({},e),n=!!r.jit,i=!!r.minify,o=r.optimize==null?!0:r.optimize,a=MN(r).parse(t);return n?(o&&LN(a),i&&Wa(a),{ast:a,code:""}):(ON(a,r),zN(a,r))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function HN(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(vo().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(vo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(vo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Yo=[];Yo[0]={w:[0],i:[3,0],"[":[4],o:[7]},Yo[1]={w:[1],".":[2],"[":[4],o:[7]},Yo[2]={w:[2],i:[3,0],0:[3,0]},Yo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Yo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Yo[5]={"'":[4,0],o:8,l:[5,0]},Yo[6]={'"':[4,0],o:8,l:[6,0]};const qN=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function WN(t){return qN.test(t)}function GN(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function QN(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function YN(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:WN(e)?GN(e):"*"+e}function KN(t){const e=[];let r=-1,n=0,i=0,o,s,a,l,d,f,u;const h=[];h[0]=()=>{s===void 0?s=a:s+=a},h[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,s===void 0||(s=YN(s),s===!1))return!1;h[1]()}};function p(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,h[0](),!0}for(;n!==null;)if(r++,o=t[r],!(o==="\\"&&p())){if(l=QN(o),u=Yo[n],d=u[l]||u.l||8,d===8||(n=d[0],d[1]!==void 0&&(f=h[d[1]],f&&(a=o,f()===!1))))return;if(n===7)return e}}const _v=new Map;function XN(t,e){return Et(t)?t[e]:null}function ZN(t,e){if(!Et(t))return null;let r=_v.get(e);if(r||(r=KN(e),r&&_v.set(e,r)),!r)return null;const n=r.length;let i=t,o=0;for(;o<n;){const s=i[r[o]];if(s===void 0||Vt(i))return null;i=s,o++}return i}const JN=t=>t,e8=t=>"",t8="text",r8=t=>t.length===0?"":uN(t),n8=cN;function wv(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function i8(t){const e=Ir(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ir(t.named.count)||Ir(t.named.n))?Ir(t.named.count)?t.named.count:Ir(t.named.n)?t.named.n:e:e}function o8(t,e){e.count||(e.count=t),e.n||(e.n=t)}function s8(t={}){const e=t.locale,r=i8(t),n=Et(t.pluralRules)&&$e(e)&&Vt(t.pluralRules[e])?t.pluralRules[e]:wv,i=Et(t.pluralRules)&&$e(e)&&Vt(t.pluralRules[e])?wv:void 0,o=v=>v[n(r,v.length,i)],s=t.list||[],a=v=>s[v],l=t.named||{};Ir(t.pluralIndex)&&o8(r,l);const d=v=>l[v];function f(v){const E=Vt(t.messages)?t.messages(v):Et(t.messages)?t.messages[v]:!1;return E||(t.parent?t.parent.message(v):e8)}const u=v=>t.modifiers?t.modifiers[v]:JN,h=ut(t.processor)&&Vt(t.processor.normalize)?t.processor.normalize:r8,p=ut(t.processor)&&Vt(t.processor.interpolate)?t.processor.interpolate:n8,m=ut(t.processor)&&$e(t.processor.type)?t.processor.type:t8,b={list:a,named:d,plural:o,linked:(v,...E)=>{const[A,k]=E;let C="text",T="";E.length===1?Et(A)?(T=A.modifier||T,C=A.type||C):$e(A)&&(T=A||T):E.length===2&&($e(A)&&(T=A||T),$e(k)&&(C=k||C));const O=f(v)(b),D=C==="vnode"&&Wt(O)&&T?O[0]:O;return T?u(T)(D,C):D},message:f,type:m,interpolate:p,normalize:h,values:Fr({},s,l)};return b}let Pc=null;function a8(t){Pc=t}function l8(t,e,r){Pc&&Pc.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const c8=u8("function:translate");function u8(t){return e=>Pc&&Pc.emit(t,e)}const xv=Zd.__EXTEND_POINT__,Rs=Qd(xv),on={NOT_FOUND_KEY:xv,FALLBACK_TO_TRANSLATE:Rs(),CANNOT_FORMAT_NUMBER:Rs(),FALLBACK_TO_NUMBER_FORMAT:Rs(),CANNOT_FORMAT_DATE:Rs(),FALLBACK_TO_DATE_FORMAT:Rs(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Rs(),__EXTEND_POINT__:Rs()},d8={[on.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[on.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[on.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[on.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[on.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[on.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[on.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function Ps(t,...e){return Dm(d8[t],...e)}const Tv=st.__EXTEND_POINT__,Fs=Qd(Tv),Or={INVALID_ARGUMENT:Tv,INVALID_DATE_ARGUMENT:Fs(),INVALID_ISO_DATE_ARGUMENT:Fs(),NOT_SUPPORT_NON_STRING_MESSAGE:Fs(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Fs(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Fs(),NOT_SUPPORT_LOCALE_TYPE:Fs(),__EXTEND_POINT__:Fs()};function qi(t){return qa(t,null,process.env.NODE_ENV!=="production"?{messages:f8}:void 0)}const f8={[Or.INVALID_ARGUMENT]:"Invalid arguments",[Or.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[Or.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[Or.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[Or.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[Or.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[Or.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function Om(t,e){return e.locale!=null?Av(e.locale):Av(t.locale)}let Lm;function Av(t){if($e(t))return t;if(Vt(t)){if(t.resolvedOnce&&Lm!=null)return Lm;if(t.constructor.name==="Function"){const e=t();if(lN(e))throw qi(Or.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Lm=e}else throw qi(Or.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw qi(Or.NOT_SUPPORT_LOCALE_TYPE)}function h8(t,e,r){return[...new Set([r,...Wt(e)?e:Et(e)?Object.keys(e):$e(e)?[e]:[r]])]}function Cv(t,e,r){const n=$e(r)?r:Qa,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(n);if(!o){o=[];let s=[r];for(;Wt(s);)s=Sv(o,s,e);const a=Wt(e)||!ut(e)?e:e.default?e.default:null;s=$e(a)?[a]:a,Wt(s)&&Sv(o,s,!1),i.__localeChainCache.set(n,o)}return o}function Sv(t,e,r){let n=!0;for(let i=0;i<e.length&&bt(n);i++){const o=e[i];$e(o)&&(n=p8(t,e[i],r))}return n}function p8(t,e,r){let n;const i=e.split("-");do{const o=i.join("-");n=m8(t,o,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function m8(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Wt(r)||ut(r))&&r[i]&&(n=r[i])}return n}const g8="9.13.1",Jd=-1,Qa="en-US",ef="",Ev=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function y8(){return{upper:(t,e)=>e==="text"&&$e(t)?t.toUpperCase():e==="vnode"&&Et(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&$e(t)?t.toLowerCase():e==="vnode"&&Et(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&$e(t)?Ev(t):e==="vnode"&&Et(t)&&"__v_isVNode"in t?Ev(t.children):t}}let kv;function Iv(t){kv=t}let Dv;function b8(t){Dv=t}let Mv;function v8(t){Mv=t}let Nv=null;const _8=t=>{Nv=t},w8=()=>Nv;let Ov=null;const Lv=t=>{Ov=t},x8=()=>Ov;let Bv=0;function T8(t={}){const e=Vt(t.onWarn)?t.onWarn:Dr,r=$e(t.version)?t.version:g8,n=$e(t.locale)||Vt(t.locale)?t.locale:Qa,i=Vt(n)?Qa:n,o=Wt(t.fallbackLocale)||ut(t.fallbackLocale)||$e(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=ut(t.messages)?t.messages:{[i]:{}},a=ut(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},l=ut(t.numberFormats)?t.numberFormats:{[i]:{}},d=Fr({},t.modifiers||{},y8()),f=t.pluralRules||{},u=Vt(t.missing)?t.missing:null,h=bt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,p=bt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,y=!!t.unresolving,b=Vt(t.postTranslation)?t.postTranslation:null,v=ut(t.processor)?t.processor:null,E=bt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,A=!!t.escapeParameter,k=Vt(t.messageCompiler)?t.messageCompiler:kv;process.env.NODE_ENV!=="production"&&Vt(t.messageCompiler)&&fv(Ps(on.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const C=Vt(t.messageResolver)?t.messageResolver:Dv||XN,T=Vt(t.localeFallbacker)?t.localeFallbacker:Mv||h8,O=Et(t.fallbackContext)?t.fallbackContext:void 0,D=t,S=Et(D.__datetimeFormatters)?D.__datetimeFormatters:new Map,R=Et(D.__numberFormatters)?D.__numberFormatters:new Map,z=Et(D.__meta)?D.__meta:{};Bv++;const F={version:r,cid:Bv,locale:n,fallbackLocale:o,messages:s,modifiers:d,pluralRules:f,missing:u,missingWarn:h,fallbackWarn:p,fallbackFormat:m,unresolving:y,postTranslation:b,processor:v,warnHtmlMessage:E,escapeParameter:A,messageCompiler:k,messageResolver:C,localeFallbacker:T,fallbackContext:O,onWarn:e,__meta:z};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=S,F.__numberFormatters=R,process.env.NODE_ENV!=="production"&&(F.__v_emitter=D.__v_emitter!=null?D.__v_emitter:void 0),(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__)&&l8(F,r,z),F}function tf(t,e){return t instanceof RegExp?t.test(e):t}function Rv(t,e){return t instanceof RegExp?t.test(e):t}function Bm(t,e,r,n,i){const{missing:o,onWarn:s}=t;if(process.env.NODE_ENV!=="production"){const a=t.__v_emitter;a&&a.emit("missing",{locale:r,key:e,type:i,groupId:`${i}:${e}`})}if(o!==null){const a=o(t,r,e,i);return $e(a)?a:e}else return process.env.NODE_ENV!=="production"&&Rv(n,e)&&s(Ps(on.NOT_FOUND_KEY,{key:e,locale:r})),e}function Fc(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function Pv(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function A8(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(Pv(t,e[n]))return!0;return!1}function Rm(t){return r=>C8(r,t)}function C8(t,e){const r=e.b||e.body;if((r.t||r.type)===1){const n=r,i=n.c||n.cases;return t.plural(i.reduce((o,s)=>[...o,Fv(t,s)],[]))}else return Fv(t,r)}function Fv(t,e){const r=e.s||e.static;if(r)return t.type==="text"?r:t.normalize([r]);{const n=(e.i||e.items).reduce((i,o)=>[...i,Pm(t,o)],[]);return t.normalize(n)}}function Pm(t,e){const r=e.t||e.type;switch(r){case 3:{const n=e;return n.v||n.value}case 9:{const n=e;return n.v||n.value}case 4:{const n=e;return t.interpolate(t.named(n.k||n.key))}case 5:{const n=e;return t.interpolate(t.list(n.i!=null?n.i:n.index))}case 6:{const n=e,i=n.m||n.modifier;return t.linked(Pm(t,n.k||n.key),i?Pm(t,i):void 0,t.type)}case 7:{const n=e;return n.v||n.value}case 8:{const n=e;return n.v||n.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const S8="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function Uv(t,e){e&&_N(t)&&Dr(Dm(S8,{source:t}))}const jv=t=>t;let Ya=Object.create(null);function $v(t){t.code===Zd.USE_MODULO_SYNTAX&&Dr(`The use of named interpolation with modulo syntax is deprecated. It will be removed in v10.
reference: https://vue-i18n.intlify.dev/guide/essentials/syntax#rails-i18n-format 
(message compiler warning message: ${t.message})`)}const Ko=t=>Et(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function zv(t,e={}){let r=!1;const n=e.onError||bN;return e.onError=i=>{r=!0,n(i)},{...VN(t,e),detectError:r}}const E8=(t,e)=>{if(!$e(t))throw qi(Or.NOT_SUPPORT_NON_STRING_MESSAGE);process.env.NODE_ENV!=="production"&&(e.onWarn=$v);{const r=bt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Uv(t,r);const i=(e.onCacheKey||jv)(t),o=Ya[i];if(o)return o;const{code:s,detectError:a}=zv(t,e),l=new Function(`return ${s}`)();return a?l:Ya[i]=l}};function k8(t,e){if(process.env.NODE_ENV!=="production"&&(e.onWarn=$v),__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&$e(t)){const r=bt(e.warnHtmlMessage)?e.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Uv(t,r);const i=(e.onCacheKey||jv)(t),o=Ya[i];if(o)return o;const{ast:s,detectError:a}=zv(t,{...e,location:process.env.NODE_ENV!=="production",jit:!0}),l=Rm(s);return a?l:Ya[i]=l}else{if(process.env.NODE_ENV!=="production"&&!Ko(t))return Dr(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const r=t.cacheKey;if(r){const n=Ya[r];return n||(Ya[r]=Rm(t))}else return Rm(t)}}const Vv=()=>"",Zn=t=>Vt(t);function Hv(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=t,[l,d]=Fm(...e),f=bt(d.missingWarn)?d.missingWarn:t.missingWarn,u=bt(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn,h=bt(d.escapeParameter)?d.escapeParameter:t.escapeParameter,p=!!d.resolvedMessage,m=$e(d.default)||bt(d.default)?bt(d.default)?o?l:()=>l:d.default:r?o?l:()=>l:"",y=r||m!=="",b=Om(t,d);h&&I8(d);let[v,E,A]=p?[l,b,a[b]||{}]:qv(t,l,b,s,u,f),k=v,C=l;if(!p&&!($e(k)||Ko(k)||Zn(k))&&y&&(k=m,C=k),!p&&(!($e(k)||Ko(k)||Zn(k))||!$e(E)))return i?Jd:l;if(process.env.NODE_ENV!=="production"&&$e(k)&&t.messageCompiler==null)return Dr(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let T=!1;const O=()=>{T=!0},D=Zn(k)?k:Wv(t,l,E,k,C,O);if(T)return k;const S=O8(t,E,A,d),R=s8(S),z=D8(t,D,R),F=n?n(z,l):z;if(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const P={timestamp:Date.now(),key:$e(l)?l:Zn(k)?k.key:"",locale:E||(Zn(k)?k.locale:""),format:$e(k)?k:Zn(k)?k.source:"",message:F};P.meta=Fr({},t.__meta,w8()||{}),c8(P)}return F}function I8(t){Wt(t.list)?t.list=t.list.map(e=>$e(e)?av(e):e):Et(t.named)&&Object.keys(t.named).forEach(e=>{$e(t.named[e])&&(t.named[e]=av(t.named[e]))})}function qv(t,e,r,n,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:d}=t,f=d(t,n,r);let u={},h,p=null,m=r,y=null;const b="translate";for(let v=0;v<f.length;v++){if(h=y=f[v],process.env.NODE_ENV!=="production"&&r!==h&&!Pv(r,h)&&tf(i,e)&&a(Ps(on.FALLBACK_TO_TRANSLATE,{key:e,target:h})),process.env.NODE_ENV!=="production"&&r!==h){const C=t.__v_emitter;C&&C.emit("fallback",{type:b,key:e,from:m,to:y,groupId:`${b}:${e}`})}u=s[h]||{};let E=null,A,k;if(process.env.NODE_ENV!=="production"&&xi&&(E=window.performance.now(),A="intlify-message-resolve-start",k="intlify-message-resolve-end",Fn&&Fn(A)),(p=l(u,e))===null&&(p=u[e]),process.env.NODE_ENV!=="production"&&xi){const C=window.performance.now(),T=t.__v_emitter;T&&E&&p&&T.emit("message-resolve",{type:"message-resolve",key:e,message:p,time:C-E,groupId:`${b}:${e}`}),A&&k&&Fn&&Bs&&(Fn(k),Bs("intlify message resolve",A,k))}if($e(p)||Ko(p)||Zn(p))break;if(!A8(h,f)){const C=Bm(t,e,h,o,b);C!==e&&(p=C)}m=y}return[p,h,u]}function Wv(t,e,r,n,i,o){const{messageCompiler:s,warnHtmlMessage:a}=t;if(Zn(n)){const h=n;return h.locale=h.locale||r,h.key=h.key||e,h}if(s==null){const h=()=>n;return h.locale=r,h.key=e,h}let l=null,d,f;process.env.NODE_ENV!=="production"&&xi&&(l=window.performance.now(),d="intlify-message-compilation-start",f="intlify-message-compilation-end",Fn&&Fn(d));const u=s(n,M8(t,r,i,n,a,o));if(process.env.NODE_ENV!=="production"&&xi){const h=window.performance.now(),p=t.__v_emitter;p&&l&&p.emit("message-compilation",{type:"message-compilation",message:n,time:h-l,groupId:`translate:${e}`}),d&&f&&Fn&&Bs&&(Fn(f),Bs("intlify message compilation",d,f))}return u.locale=r,u.key=e,u.source=n,u}function D8(t,e,r){let n=null,i,o;process.env.NODE_ENV!=="production"&&xi&&(n=window.performance.now(),i="intlify-message-evaluation-start",o="intlify-message-evaluation-end",Fn&&Fn(i));const s=e(r);if(process.env.NODE_ENV!=="production"&&xi){const a=window.performance.now(),l=t.__v_emitter;l&&n&&l.emit("message-evaluation",{type:"message-evaluation",value:s,time:a-n,groupId:`translate:${e.key}`}),i&&o&&Fn&&Bs&&(Fn(o),Bs("intlify message evaluation",i,o))}return s}function Fm(...t){const[e,r,n]=t,i={};if(!$e(e)&&!Ir(e)&&!Zn(e)&&!Ko(e))throw qi(Or.INVALID_ARGUMENT);const o=Ir(e)?String(e):(Zn(e),e);return Ir(r)?i.plural=r:$e(r)?i.default=r:ut(r)&&!Wd(r)?i.named=r:Wt(r)&&(i.list=r),Ir(n)?i.plural=n:$e(n)?i.default=n:ut(n)&&Fr(i,n),[o,i]}function M8(t,e,r,n,i,o){return{locale:e,key:r,warnHtmlMessage:i,onError:s=>{if(o&&o(s),process.env.NODE_ENV!=="production"){const a=N8(n),l=`Message compilation error: ${s.message}`,d=s.location&&a&&dN(a,s.location.start.offset,s.location.end.offset),f=t.__v_emitter;f&&a&&f.emit("compile-error",{message:a,error:s.message,start:s.location&&s.location.start.offset,end:s.location&&s.location.end.offset,groupId:`translate:${r}`}),console.error(d?`${l}
${d}`:l)}else throw s},onCacheKey:s=>iN(e,r,s)}}function N8(t){if($e(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function O8(t,e,r,n){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:d,fallbackContext:f}=t,h={locale:e,modifiers:i,pluralRules:o,messages:p=>{let m=s(r,p);if(m==null&&f){const[,,y]=qv(f,p,e,a,l,d);m=s(y,p)}if($e(m)||Ko(m)){let y=!1;const v=Wv(t,p,e,m,p,()=>{y=!0});return y?Vv:v}else return Zn(m)?m:Vv}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Ir(n.plural)&&(h.pluralIndex=n.plural),h}const Gv=typeof Intl<"u",Qv={dateTimeFormat:Gv&&typeof Intl.DateTimeFormat<"u",numberFormat:Gv&&typeof Intl.NumberFormat<"u"};function Yv(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__datetimeFormatters:a}=t;if(process.env.NODE_ENV!=="production"&&!Qv.dateTimeFormat)return o(Ps(on.CANNOT_FORMAT_DATE)),ef;const[l,d,f,u]=Um(...e),h=bt(f.missingWarn)?f.missingWarn:t.missingWarn,p=bt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,y=Om(t,f),b=s(t,i,y);if(!$e(l)||l==="")return new Intl.DateTimeFormat(y,u).format(d);let v={},E,A=null,k=y,C=null;const T="datetime format";for(let S=0;S<b.length;S++){if(E=C=b[S],process.env.NODE_ENV!=="production"&&y!==E&&tf(p,l)&&o(Ps(on.FALLBACK_TO_DATE_FORMAT,{key:l,target:E})),process.env.NODE_ENV!=="production"&&y!==E){const R=t.__v_emitter;R&&R.emit("fallback",{type:T,key:l,from:k,to:C,groupId:`${T}:${l}`})}if(v=r[E]||{},A=v[l],ut(A))break;Bm(t,l,E,h,T),k=C}if(!ut(A)||!$e(E))return n?Jd:l;let O=`${E}__${l}`;Wd(u)||(O=`${O}__${JSON.stringify(u)}`);let D=a.get(O);return D||(D=new Intl.DateTimeFormat(E,Fr({},A,u)),a.set(O,D)),m?D.formatToParts(d):D.format(d)}const Kv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Um(...t){const[e,r,n,i]=t,o={};let s={},a;if($e(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw qi(Or.INVALID_ISO_DATE_ARGUMENT);const d=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(d);try{a.toISOString()}catch{throw qi(Or.INVALID_ISO_DATE_ARGUMENT)}}else if(sN(e)){if(isNaN(e.getTime()))throw qi(Or.INVALID_DATE_ARGUMENT);a=e}else if(Ir(e))a=e;else throw qi(Or.INVALID_ARGUMENT);return $e(r)?o.key=r:ut(r)&&Object.keys(r).forEach(l=>{Kv.includes(l)?s[l]=r[l]:o[l]=r[l]}),$e(n)?o.locale=n:ut(n)&&(s=n),ut(i)&&(s=i),[o.key||"",a,o,s]}function Xv(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__datetimeFormatters.has(o)&&n.__datetimeFormatters.delete(o)}}function Zv(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__numberFormatters:a}=t;if(process.env.NODE_ENV!=="production"&&!Qv.numberFormat)return o(Ps(on.CANNOT_FORMAT_NUMBER)),ef;const[l,d,f,u]=jm(...e),h=bt(f.missingWarn)?f.missingWarn:t.missingWarn,p=bt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,m=!!f.part,y=Om(t,f),b=s(t,i,y);if(!$e(l)||l==="")return new Intl.NumberFormat(y,u).format(d);let v={},E,A=null,k=y,C=null;const T="number format";for(let S=0;S<b.length;S++){if(E=C=b[S],process.env.NODE_ENV!=="production"&&y!==E&&tf(p,l)&&o(Ps(on.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:E})),process.env.NODE_ENV!=="production"&&y!==E){const R=t.__v_emitter;R&&R.emit("fallback",{type:T,key:l,from:k,to:C,groupId:`${T}:${l}`})}if(v=r[E]||{},A=v[l],ut(A))break;Bm(t,l,E,h,T),k=C}if(!ut(A)||!$e(E))return n?Jd:l;let O=`${E}__${l}`;Wd(u)||(O=`${O}__${JSON.stringify(u)}`);let D=a.get(O);return D||(D=new Intl.NumberFormat(E,Fr({},A,u)),a.set(O,D)),m?D.formatToParts(d):D.format(d)}const Jv=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function jm(...t){const[e,r,n,i]=t,o={};let s={};if(!Ir(e))throw qi(Or.INVALID_ARGUMENT);const a=e;return $e(r)?o.key=r:ut(r)&&Object.keys(r).forEach(l=>{Jv.includes(l)?s[l]=r[l]:o[l]=r[l]}),$e(n)?o.locale=n:ut(n)&&(s=n),ut(i)&&(s=i),[o.key||"",a,o,s]}function e_(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__numberFormatters.has(o)&&n.__numberFormatters.delete(o)}}HN();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const L8="9.13.1";function B8(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(vo().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(vo().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(vo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(vo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(vo().__INTLIFY_PROD_DEVTOOLS__=!1)}const t_=on.__EXTEND_POINT__,wo=Qd(t_),Jt={FALLBACK_TO_ROOT:t_,NOT_SUPPORTED_PRESERVE:wo(),NOT_SUPPORTED_FORMATTER:wo(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:wo(),NOT_SUPPORTED_GET_CHOICE_INDEX:wo(),COMPONENT_NAME_LEGACY_COMPATIBLE:wo(),NOT_FOUND_PARENT_SCOPE:wo(),IGNORE_OBJ_FLATTEN:wo(),NOTICE_DROP_ALLOW_COMPOSITION:wo(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:wo()},R8={[Jt.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[Jt.NOT_SUPPORTED_PRESERVE]:"Not supported 'preserve'.",[Jt.NOT_SUPPORTED_FORMATTER]:"Not supported 'formatter'.",[Jt.NOT_SUPPORTED_PRESERVE_DIRECTIVE]:"Not supported 'preserveDirectiveContent'.",[Jt.NOT_SUPPORTED_GET_CHOICE_INDEX]:"Not supported 'getChoiceIndex'.",[Jt.COMPONENT_NAME_LEGACY_COMPATIBLE]:"Component name legacy compatible: '{name}' -> 'i18n'",[Jt.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[Jt.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[Jt.NOTICE_DROP_ALLOW_COMPOSITION]:"'allowComposition' option will be dropped in the next major version. For more information, please see  https://tinyurl.com/2p97mcze",[Jt.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG]:"'translateExistCompatible' option will be dropped in the next major version."};function _n(t,...e){return Dm(R8[t],...e)}const r_=Or.__EXTEND_POINT__,wn=Qd(r_),Ct={UNEXPECTED_RETURN_TYPE:r_,INVALID_ARGUMENT:wn(),MUST_BE_CALL_SETUP_TOP:wn(),NOT_INSTALLED:wn(),NOT_AVAILABLE_IN_LEGACY_MODE:wn(),REQUIRED_VALUE:wn(),INVALID_VALUE:wn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:wn(),NOT_INSTALLED_WITH_PROVIDE:wn(),UNEXPECTED_ERROR:wn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:wn(),BRIDGE_SUPPORT_VUE_2_ONLY:wn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:wn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:wn(),__EXTEND_POINT__:wn()};function Mr(t,...e){return qa(t,null,process.env.NODE_ENV!=="production"?{messages:P8,args:e}:void 0)}const P8={[Ct.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Ct.INVALID_ARGUMENT]:"Invalid argument",[Ct.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Ct.NOT_INSTALLED]:"Need to install with `app.use` function",[Ct.UNEXPECTED_ERROR]:"Unexpected error",[Ct.NOT_AVAILABLE_IN_LEGACY_MODE]:"Not available in legacy mode",[Ct.REQUIRED_VALUE]:"Required in value: {0}",[Ct.INVALID_VALUE]:"Invalid value",[Ct.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Ct.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Ct.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Ct.BRIDGE_SUPPORT_VUE_2_ONLY]:"vue-i18n-bridge support Vue 2.x only",[Ct.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]:"Must define i18n option or custom block in Composition API with using local scope in Legacy API mode",[Ct.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},$m=Hi("__translateVNode"),zm=Hi("__datetimeParts"),Vm=Hi("__numberParts"),Us=Hi("__enableEmitter"),Uc=Hi("__disableEmitter"),n_=Hi("__setPluralRules"),i_=Hi("__injectWithOption"),Hm=Hi("__dispose");function jc(t){if(!Et(t))return t;for(const e in t)if(Gd(t,e))if(!e.includes("."))Et(t[e])&&jc(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,o=!1;for(let s=0;s<n;s++){if(r[s]in i||(i[r[s]]={}),!Et(i[r[s]])){process.env.NODE_ENV!=="production"&&Dr(_n(Jt.IGNORE_OBJ_FLATTEN,{key:r[s]})),o=!0;break}i=i[r[s]]}o||(i[r[n]]=t[e],delete t[e]),Et(i[r[n]])&&jc(i[r[n]])}return t}function rf(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:o}=e,s=ut(r)?r:Wt(n)?{}:{[t]:{}};if(Wt(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:d}=a;l?(s[l]=s[l]||{},Kd(d,s[l])):Kd(d,s)}else $e(a)&&Kd(JSON.parse(a),s)}),i==null&&o)for(const a in s)Gd(s,a)&&jc(s[a]);return s}function o_(t){return t.type}function s_(t,e,r){let n=Et(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=rf(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(o=>{t.mergeLocaleMessage(o,n[o])});{if(Et(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(s=>{t.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(Et(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(s=>{t.mergeNumberFormat(s,e.numberFormats[s])})}}}function a_(t){return c.createVNode(c.Text,null,t,0)}const l_="__INTLIFY_META__",c_=()=>[],F8=()=>!1;let u_=0;function d_(t){return(e,r,n,i)=>t(r,n,c.getCurrentInstance()||void 0,i)}const U8=()=>{const t=c.getCurrentInstance();let e=null;return t&&(e=o_(t)[l_])?{[l_]:e}:null};function qm(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,o=t.flatJson,s=xi?c.ref:c.shallowRef,a=!!t.translateExistCompatible;process.env.NODE_ENV!=="production"&&a&&fv(_n(Jt.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG));let l=bt(t.inheritLocale)?t.inheritLocale:!0;const d=s(r&&l?r.locale.value:$e(t.locale)?t.locale:Qa),f=s(r&&l?r.fallbackLocale.value:$e(t.fallbackLocale)||Wt(t.fallbackLocale)||ut(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:d.value),u=s(rf(d.value,t)),h=s(ut(t.datetimeFormats)?t.datetimeFormats:{[d.value]:{}}),p=s(ut(t.numberFormats)?t.numberFormats:{[d.value]:{}});let m=r?r.missingWarn:bt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,y=r?r.fallbackWarn:bt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,b=r?r.fallbackRoot:bt(t.fallbackRoot)?t.fallbackRoot:!0,v=!!t.fallbackFormat,E=Vt(t.missing)?t.missing:null,A=Vt(t.missing)?d_(t.missing):null,k=Vt(t.postTranslation)?t.postTranslation:null,C=r?r.warnHtmlMessage:bt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,T=!!t.escapeParameter;const O=r?r.modifiers:ut(t.modifiers)?t.modifiers:{};let D=t.pluralRules||r&&r.pluralRules,S;S=(()=>{i&&Lv(null);const ge={version:L8,locale:d.value,fallbackLocale:f.value,messages:u.value,modifiers:O,pluralRules:D,missing:A===null?void 0:A,missingWarn:m,fallbackWarn:y,fallbackFormat:v,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:C,escapeParameter:T,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ge.datetimeFormats=h.value,ge.numberFormats=p.value,ge.__datetimeFormatters=ut(S)?S.__datetimeFormatters:void 0,ge.__numberFormatters=ut(S)?S.__numberFormatters:void 0,process.env.NODE_ENV!=="production"&&(ge.__v_emitter=ut(S)?S.__v_emitter:void 0);const Ee=T8(ge);return i&&Lv(Ee),Ee})(),Fc(S,d.value,f.value);function z(){return[d.value,f.value,u.value,h.value,p.value]}const F=c.computed({get:()=>d.value,set:ge=>{d.value=ge,S.locale=d.value}}),P=c.computed({get:()=>f.value,set:ge=>{f.value=ge,S.fallbackLocale=f.value,Fc(S,d.value,ge)}}),$=c.computed(()=>u.value),W=c.computed(()=>h.value),B=c.computed(()=>p.value);function j(){return Vt(k)?k:null}function re(ge){k=ge,S.postTranslation=ge}function H(){return E}function L(ge){ge!==null&&(A=d_(ge)),E=ge,S.missing=A}function I(ge,Ee){return ge!=="translate"||!Ee.resolvedMessage}const V=(ge,Ee,Qe,ct,_t,Ke)=>{z();let Ft;try{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(S.fallbackContext=r?x8():void 0),Ft=ge(S)}finally{process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(S.fallbackContext=void 0)}if(Qe!=="translate exists"&&Ir(Ft)&&Ft===Jd||Qe==="translate exists"&&!Ft){const[vt,ar]=Ee();if(process.env.NODE_ENV!=="production"&&r&&$e(vt)&&I(Qe,ar)&&(b&&(tf(y,vt)||Rv(m,vt))&&Dr(_n(Jt.FALLBACK_TO_ROOT,{key:vt,type:Qe})),process.env.NODE_ENV!=="production")){const{__v_emitter:dr}=S;dr&&b&&dr.emit("fallback",{type:Qe,key:vt,to:"global",groupId:`${Qe}:${vt}`})}return r&&b?ct(r):_t(vt)}else{if(Ke(Ft))return Ft;throw Mr(Ct.UNEXPECTED_RETURN_TYPE)}};function K(...ge){return V(Ee=>Reflect.apply(Hv,null,[Ee,...ge]),()=>Fm(...ge),"translate",Ee=>Reflect.apply(Ee.t,Ee,[...ge]),Ee=>Ee,Ee=>$e(Ee))}function Y(...ge){const[Ee,Qe,ct]=ge;if(ct&&!Et(ct))throw Mr(Ct.INVALID_ARGUMENT);return K(Ee,Qe,Fr({resolvedMessage:!0},ct||{}))}function Q(...ge){return V(Ee=>Reflect.apply(Yv,null,[Ee,...ge]),()=>Um(...ge),"datetime format",Ee=>Reflect.apply(Ee.d,Ee,[...ge]),()=>ef,Ee=>$e(Ee))}function le(...ge){return V(Ee=>Reflect.apply(Zv,null,[Ee,...ge]),()=>jm(...ge),"number format",Ee=>Reflect.apply(Ee.n,Ee,[...ge]),()=>ef,Ee=>$e(Ee))}function ie(ge){return ge.map(Ee=>$e(Ee)||Ir(Ee)||bt(Ee)?a_(String(Ee)):Ee)}const he={normalize:ie,interpolate:ge=>ge,type:"vnode"};function fe(...ge){return V(Ee=>{let Qe;const ct=Ee;try{ct.processor=he,Qe=Reflect.apply(Hv,null,[ct,...ge])}finally{ct.processor=null}return Qe},()=>Fm(...ge),"translate",Ee=>Ee[$m](...ge),Ee=>[a_(Ee)],Ee=>Wt(Ee))}function ve(...ge){return V(Ee=>Reflect.apply(Zv,null,[Ee,...ge]),()=>jm(...ge),"number format",Ee=>Ee[Vm](...ge),c_,Ee=>$e(Ee)||Wt(Ee))}function Se(...ge){return V(Ee=>Reflect.apply(Yv,null,[Ee,...ge]),()=>Um(...ge),"datetime format",Ee=>Ee[zm](...ge),c_,Ee=>$e(Ee)||Wt(Ee))}function Me(ge){D=ge,S.pluralRules=D}function de(ge,Ee){return V(()=>{if(!ge)return!1;const Qe=$e(Ee)?Ee:d.value,ct=ae(Qe),_t=S.messageResolver(ct,ge);return a?_t!=null:Ko(_t)||Zn(_t)||$e(_t)},()=>[ge],"translate exists",Qe=>Reflect.apply(Qe.te,Qe,[ge,Ee]),F8,Qe=>bt(Qe))}function pe(ge){let Ee=null;const Qe=Cv(S,f.value,d.value);for(let ct=0;ct<Qe.length;ct++){const _t=u.value[Qe[ct]]||{},Ke=S.messageResolver(_t,ge);if(Ke!=null){Ee=Ke;break}}return Ee}function ke(ge){const Ee=pe(ge);return Ee??(r?r.tm(ge)||{}:{})}function ae(ge){return u.value[ge]||{}}function Te(ge,Ee){if(o){const Qe={[ge]:Ee};for(const ct in Qe)Gd(Qe,ct)&&jc(Qe[ct]);Ee=Qe[ge]}u.value[ge]=Ee,S.messages=u.value}function De(ge,Ee){u.value[ge]=u.value[ge]||{};const Qe={[ge]:Ee};if(o)for(const ct in Qe)Gd(Qe,ct)&&jc(Qe[ct]);Ee=Qe[ge],Kd(Ee,u.value[ge]),S.messages=u.value}function U(ge){return h.value[ge]||{}}function q(ge,Ee){h.value[ge]=Ee,S.datetimeFormats=h.value,Xv(S,ge,Ee)}function oe(ge,Ee){h.value[ge]=Fr(h.value[ge]||{},Ee),S.datetimeFormats=h.value,Xv(S,ge,Ee)}function we(ge){return p.value[ge]||{}}function Oe(ge,Ee){p.value[ge]=Ee,S.numberFormats=p.value,e_(S,ge,Ee)}function Pe(ge,Ee){p.value[ge]=Fr(p.value[ge]||{},Ee),S.numberFormats=p.value,e_(S,ge,Ee)}u_++,r&&xi&&(c.watch(r.locale,ge=>{l&&(d.value=ge,S.locale=ge,Fc(S,d.value,f.value))}),c.watch(r.fallbackLocale,ge=>{l&&(f.value=ge,S.fallbackLocale=ge,Fc(S,d.value,f.value))}));const Ge={id:u_,locale:F,fallbackLocale:P,get inheritLocale(){return l},set inheritLocale(ge){l=ge,ge&&r&&(d.value=r.locale.value,f.value=r.fallbackLocale.value,Fc(S,d.value,f.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:$,get modifiers(){return O},get pluralRules(){return D||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ge){m=ge,S.missingWarn=m},get fallbackWarn(){return y},set fallbackWarn(ge){y=ge,S.fallbackWarn=y},get fallbackRoot(){return b},set fallbackRoot(ge){b=ge},get fallbackFormat(){return v},set fallbackFormat(ge){v=ge,S.fallbackFormat=v},get warnHtmlMessage(){return C},set warnHtmlMessage(ge){C=ge,S.warnHtmlMessage=ge},get escapeParameter(){return T},set escapeParameter(ge){T=ge,S.escapeParameter=ge},t:K,getLocaleMessage:ae,setLocaleMessage:Te,mergeLocaleMessage:De,getPostTranslationHandler:j,setPostTranslationHandler:re,getMissingHandler:H,setMissingHandler:L,[n_]:Me};return Ge.datetimeFormats=W,Ge.numberFormats=B,Ge.rt=Y,Ge.te=de,Ge.tm=ke,Ge.d=Q,Ge.n=le,Ge.getDateTimeFormat=U,Ge.setDateTimeFormat=q,Ge.mergeDateTimeFormat=oe,Ge.getNumberFormat=we,Ge.setNumberFormat=Oe,Ge.mergeNumberFormat=Pe,Ge[i_]=n,Ge[$m]=fe,Ge[zm]=Se,Ge[Vm]=ve,process.env.NODE_ENV!=="production"&&(Ge[Us]=ge=>{S.__v_emitter=ge},Ge[Uc]=()=>{S.__v_emitter=void 0}),Ge}function j8(t){const e=$e(t.locale)?t.locale:Qa,r=$e(t.fallbackLocale)||Wt(t.fallbackLocale)||ut(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=Vt(t.missing)?t.missing:void 0,i=bt(t.silentTranslationWarn)||Go(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=bt(t.silentFallbackWarn)||Go(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,s=bt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=ut(t.modifiers)?t.modifiers:{},d=t.pluralizationRules,f=Vt(t.postTranslation)?t.postTranslation:void 0,u=$e(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,p=bt(t.sync)?t.sync:!0;process.env.NODE_ENV!=="production"&&t.formatter&&Dr(_n(Jt.NOT_SUPPORTED_FORMATTER)),process.env.NODE_ENV!=="production"&&t.preserveDirectiveContent&&Dr(_n(Jt.NOT_SUPPORTED_PRESERVE_DIRECTIVE));let m=t.messages;if(ut(t.sharedMessages)){const T=t.sharedMessages;m=Object.keys(T).reduce((D,S)=>{const R=D[S]||(D[S]={});return Fr(R,T[S]),D},m||{})}const{__i18n:y,__root:b,__injectWithOption:v}=t,E=t.datetimeFormats,A=t.numberFormats,k=t.flatJson,C=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:k,datetimeFormats:E,numberFormats:A,missing:n,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:d,postTranslation:f,warnHtmlMessage:u,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:C,__i18n:y,__root:b,__injectWithOption:v}}function Wm(t={},e){{const r=qm(j8(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(o){r.locale.value=o},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(o){r.fallbackLocale.value=o},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return process.env.NODE_ENV!=="production"&&Dr(_n(Jt.NOT_SUPPORTED_FORMATTER)),{interpolate(){return[]}}},set formatter(o){process.env.NODE_ENV!=="production"&&Dr(_n(Jt.NOT_SUPPORTED_FORMATTER))},get missing(){return r.getMissingHandler()},set missing(o){r.setMissingHandler(o)},get silentTranslationWarn(){return bt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(o){r.missingWarn=bt(o)?!o:o},get silentFallbackWarn(){return bt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(o){r.fallbackWarn=bt(o)?!o:o},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(o){r.fallbackFormat=o},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(o){r.setPostTranslationHandler(o)},get sync(){return r.inheritLocale},set sync(o){r.inheritLocale=o},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){r.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(o){r.escapeParameter=o},get preserveDirectiveContent(){return process.env.NODE_ENV!=="production"&&Dr(_n(Jt.NOT_SUPPORTED_PRESERVE_DIRECTIVE)),!0},set preserveDirectiveContent(o){process.env.NODE_ENV!=="production"&&Dr(_n(Jt.NOT_SUPPORTED_PRESERVE_DIRECTIVE))},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...o){const[s,a,l]=o,d={};let f=null,u=null;if(!$e(s))throw Mr(Ct.INVALID_ARGUMENT);const h=s;return $e(a)?d.locale=a:Wt(a)?f=a:ut(a)&&(u=a),Wt(l)?f=l:ut(l)&&(u=l),Reflect.apply(r.t,r,[h,f||u||{},d])},rt(...o){return Reflect.apply(r.rt,r,[...o])},tc(...o){const[s,a,l]=o,d={plural:1};let f=null,u=null;if(!$e(s))throw Mr(Ct.INVALID_ARGUMENT);const h=s;return $e(a)?d.locale=a:Ir(a)?d.plural=a:Wt(a)?f=a:ut(a)&&(u=a),$e(l)?d.locale=l:Wt(l)?f=l:ut(l)&&(u=l),Reflect.apply(r.t,r,[h,f||u||{},d])},te(o,s){return r.te(o,s)},tm(o){return r.tm(o)},getLocaleMessage(o){return r.getLocaleMessage(o)},setLocaleMessage(o,s){r.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){r.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(r.d,r,[...o])},getDateTimeFormat(o){return r.getDateTimeFormat(o)},setDateTimeFormat(o,s){r.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){r.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(r.n,r,[...o])},getNumberFormat(o){return r.getNumberFormat(o)},setNumberFormat(o,s){r.setNumberFormat(o,s)},mergeNumberFormat(o,s){r.mergeNumberFormat(o,s)},getChoiceIndex(o,s){return process.env.NODE_ENV!=="production"&&Dr(_n(Jt.NOT_SUPPORTED_GET_CHOICE_INDEX)),-1}};return i.__extender=n,process.env.NODE_ENV!=="production"&&(i.__enableEmitter=o=>{const s=r;s[Us]&&s[Us](o)},i.__disableEmitter=()=>{const o=r;o[Uc]&&o[Uc]()}),i}}const Gm={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function $8({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===c.Fragment?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},{})}function f_(t){return c.Fragment}const Qm=c.defineComponent({name:"i18n-t",props:Fr({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Ir(t)||!isNaN(t)}},Gm),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||Ai({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(r).filter(u=>u!=="_"),s={};t.locale&&(s.locale=t.locale),t.plural!==void 0&&(s.plural=$e(t.plural)?+t.plural:t.plural);const a=$8(e,o),l=i[$m](t.keypath,a,s),d=Fr({},n),f=$e(t.tag)||Et(t.tag)?t.tag:f_();return c.h(f,d,l)}}});function z8(t){return Wt(t)&&!$e(t[0])}function h_(t,e,r,n){const{slots:i,attrs:o}=e;return()=>{const s={part:!0};let a={};t.locale&&(s.locale=t.locale),$e(t.format)?s.key=t.format:Et(t.format)&&($e(t.format.key)&&(s.key=t.format.key),a=Object.keys(t.format).reduce((h,p)=>r.includes(p)?Fr({},h,{[p]:t.format[p]}):h,{}));const l=n(t.value,s,a);let d=[s.key];Wt(l)?d=l.map((h,p)=>{const m=i[h.type],y=m?m({[h.type]:h.value,index:p,parts:l}):[h.value];return z8(y)&&(y[0].key=`${h.type}-${p}`),y}):$e(l)&&(d=[l]);const f=Fr({},o),u=$e(t.tag)||Et(t.tag)?t.tag:f_();return c.h(u,f,d)}}const p_=c.defineComponent({name:"i18n-n",props:Fr({value:{type:Number,required:!0},format:{type:[String,Object]}},Gm),setup(t,e){const r=t.i18n||Ai({useScope:t.scope,__useComponent:!0});return h_(t,e,Jv,(...n)=>r[Vm](...n))}}),m_=c.defineComponent({name:"i18n-d",props:Fr({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Gm),setup(t,e){const r=t.i18n||Ai({useScope:t.scope,__useComponent:!0});return h_(t,e,Kv,(...n)=>r[zm](...n))}});function V8(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function H8(t){const e=s=>{const{instance:a,modifiers:l,value:d}=s;if(!a||!a.$)throw Mr(Ct.UNEXPECTED_ERROR);const f=V8(t,a.$);process.env.NODE_ENV!=="production"&&l.preserve&&Dr(_n(Jt.NOT_SUPPORTED_PRESERVE));const u=g_(d);return[Reflect.apply(f.t,f,[...y_(u)]),f]};return{created:(s,a)=>{const[l,d]=e(a);xi&&t.global===d&&(s.__i18nWatcher=c.watch(d.locale,()=>{a.instance&&a.instance.$forceUpdate()})),s.__composer=d,s.textContent=l},unmounted:s=>{xi&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:a})=>{if(s.__composer){const l=s.__composer,d=g_(a);s.textContent=Reflect.apply(l.t,l,[...y_(d)])}},getSSRProps:s=>{const[a]=e(s);return{textContent:a}}}}function g_(t){if($e(t))return{path:t};if(ut(t)){if(!("path"in t))throw Mr(Ct.REQUIRED_VALUE,"path");return t}else throw Mr(Ct.INVALID_VALUE)}function y_(t){const{path:e,locale:r,args:n,choice:i,plural:o}=t,s={},a=n||{};return $e(r)&&(s.locale=r),Ir(i)&&(s.plural=i),Ir(o)&&(s.plural=o),[e,a,s]}function q8(t,e,...r){const n=ut(r[0])?r[0]:{},i=!!n.useI18nComponentName,o=bt(n.globalInstall)?n.globalInstall:!0;process.env.NODE_ENV!=="production"&&o&&i&&Dr(_n(Jt.COMPONENT_NAME_LEGACY_COMPATIBLE,{name:Qm.name})),o&&([i?"i18n":Qm.name,"I18nT"].forEach(s=>t.component(s,Qm)),[p_.name,"I18nN"].forEach(s=>t.component(s,p_)),[m_.name,"I18nD"].forEach(s=>t.component(s,m_))),t.directive("t",H8(e))}const Ym={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},W8={"vue-i18n-resource-inspector":"Search for scopes ..."},G8={"vue-i18n-timeline":16764185},b_="vue-i18n: composer properties";let Km;async function Q8(t,e){return new Promise((r,n)=>{try{B2({id:"vue-devtools-plugin-vue-i18n",label:Ym["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[b_],app:t},i=>{Km=i,i.on.visitComponentTree(({componentInstance:s,treeNode:a})=>{Y8(s,a,e)}),i.on.inspectComponent(({componentInstance:s,instanceData:a})=>{s.vnode.el&&s.vnode.el.__VUE_I18N__&&a&&(e.mode==="legacy"?s.vnode.el.__VUE_I18N__!==e.global.__composer&&__(a,s.vnode.el.__VUE_I18N__):__(a,s.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:Ym["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:W8["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&eO(s,e)});const o=new Map;i.on.getInspectorState(async s=>{if(s.app===t&&s.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),rO(s,e),s.nodeId==="global"){if(!o.has(s.app)){const[a]=await i.getComponentInstances(s.app);o.set(s.app,a)}i.highlightElement(o.get(s.app))}else{const a=tO(s.nodeId,e);a&&i.highlightElement(a)}}),i.on.editInspectorState(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&iO(s,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:Ym["vue-i18n-timeline"],color:G8["vue-i18n-timeline"]}),r(!0)})}catch(i){console.error(i),n(!1)}})}function v_(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function Y8(t,e,r){const n=r.mode==="composition"?r.global:r.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==n){const i={label:`i18n (${v_(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function __(t,e){const r=b_;t.state.push({type:r,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:r,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:r,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:r,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:r,key:"messages",editable:!1,value:Xm(e.messages.value)}),t.state.push({type:r,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:r,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function Xm(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];Vt(n)&&"source"in n?e[r]=J8(n):Ko(n)&&n.loc&&n.loc.source?e[r]=n.loc.source:Et(n)?e[r]=Xm(n):e[r]=n}),e}const K8={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function X8(t){return t.replace(/[<>"&]/g,Z8)}function Z8(t){return K8[t]||t}function J8(t){return{_custom:{type:"function",display:`<span></span> ${t.source?`("${X8(t.source)}")`:"(?)"}`}}}function eO(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const r=e.mode==="composition"?e.global:e.global.__composer;for(const[n,i]of e.__instances){const o=e.mode==="composition"?i:i.__composer;r!==o&&t.rootNodes.push({id:o.id.toString(),label:`${v_(n)} Scope`})}}function tO(t,e){let r=null;if(t!=="global"){for(const[n,i]of e.__instances.entries())if(i.id.toString()===t){r=n;break}}return r}function w_(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const r=Array.from(e.__instances.values()).find(n=>n.id.toString()===t);return r?e.mode==="composition"?r:r.__composer:null}}function rO(t,e){const r=w_(t.nodeId,e);return r&&(t.state=nO(r)),null}function nO(t){const e={},r="Locale related info",n=[{type:r,key:"locale",editable:!0,value:t.locale.value},{type:r,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:r,key:"availableLocales",editable:!1,value:t.availableLocales},{type:r,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[r]=n;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:Xm(t.messages.value)}];e[i]=o;{const s="Datetime formats info",a=[{type:s,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[s]=a;const l="Datetime formats info",d=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=d}return e}function $c(t,e){if(Km){let r;e&&"groupId"in e&&(r=e.groupId,delete e.groupId),Km.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:r,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function iO(t,e){const r=w_(t.nodeId,e);if(r){const[n]=t.path;n==="locale"&&$e(t.state.value)?r.locale.value=t.state.value:n==="fallbackLocale"&&($e(t.state.value)||Wt(t.state.value)||Et(t.state.value))?r.fallbackLocale.value=t.state.value:n==="inheritLocale"&&bt(t.state.value)&&(r.inheritLocale=t.state.value)}}function oO(t,e,r){return{beforeCreate(){const n=c.getCurrentInstance();if(!n)throw Mr(Ct.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=e,this===this.$root)this.$i18n=x_(t,o);else{o.__injectWithOption=!0,o.__extender=r.__vueI18nExtend,this.$i18n=Wm(o);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=x_(t,i);else{this.$i18n=Wm({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&s_(e,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,s)=>this.$i18n.te(o,s),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),r.__setInstance(n,this.$i18n)},mounted(){if(process.env.NODE_ENV!=="production"&&this.$el&&this.$i18n){const n=this.$i18n;this.$el.__VUE_I18N__=n.__composer;const i=this.__v_emitter=Mm();n.__enableEmitter&&n.__enableEmitter(i),i.on("*",$c)}},unmounted(){const n=c.getCurrentInstance();if(!n)throw Mr(Ct.UNEXPECTED_ERROR);const i=this.$i18n;process.env.NODE_ENV!=="production"&&this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",$c),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function x_(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[n_](e.pluralizationRules||t.pluralizationRules);const r=rf(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const sO=Hi("global-vue-i18n");function aO(t={},e){const r=__VUE_I18N_LEGACY_API__&&bt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=bt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,o=new Map,[s,a]=lO(t,r),l=Hi(process.env.NODE_ENV!=="production"?"vue-i18n":"");process.env.NODE_ENV!=="production"&&r&&i&&Dr(_n(Jt.NOTICE_DROP_ALLOW_COMPOSITION));function d(h){return o.get(h)||null}function f(h,p){o.set(h,p)}function u(h){o.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(p,...m){if(process.env.NODE_ENV!=="production"&&(p.__VUE_I18N__=h),p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,h),ut(m[0])){const v=m[0];h.__composerExtend=v.__composerExtend,h.__vueI18nExtend=v.__vueI18nExtend}let y=null;!r&&n&&(y=yO(p,h.global)),__VUE_I18N_FULL_INSTALL__&&q8(p,h,...m),__VUE_I18N_LEGACY_API__&&r&&p.mixin(oO(a,a.__composer,h));const b=p.unmount;if(p.unmount=()=>{y&&y(),h.dispose(),b()},process.env.NODE_ENV!=="production"){if(!await Q8(p,h))throw Mr(Ct.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const E=Mm();if(r){const A=a;A.__enableEmitter&&A.__enableEmitter(E)}else{const A=a;A[Us]&&A[Us](E)}E.on("*",$c)}},get global(){return a},dispose(){s.stop()},__instances:o,__getInstance:d,__setInstance:f,__deleteInstance:u};return h}}function Ai(t={}){const e=c.getCurrentInstance();if(e==null)throw Mr(Ct.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Mr(Ct.NOT_INSTALLED);const r=cO(e),n=dO(r),i=o_(e),o=uO(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Mr(Ct.NOT_AVAILABLE_IN_LEGACY_MODE);return mO(e,o,n,t)}if(o==="global")return s_(n,t,i),n;if(o==="parent"){let l=fO(r,e,t.__useComponent);return l==null&&(process.env.NODE_ENV!=="production"&&Dr(_n(Jt.NOT_FOUND_PARENT_SCOPE)),l=n),l}const s=r;let a=s.__getInstance(e);if(a==null){const l=Fr({},t);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),a=qm(l),s.__composerExtend&&(a[Hm]=s.__composerExtend(a)),pO(s,e,a),s.__setInstance(e,a)}return a}function lO(t,e,r){const n=c.effectScope();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>Wm(t)):n.run(()=>qm(t));if(i==null)throw Mr(Ct.UNEXPECTED_ERROR);return[n,i]}}function cO(t){{const e=c.inject(t.isCE?sO:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Mr(t.isCE?Ct.NOT_INSTALLED_WITH_PROVIDE:Ct.UNEXPECTED_ERROR);return e}}function uO(t,e){return Wd(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function dO(t){return t.mode==="composition"?t.global:t.global.__composer}function fO(t,e,r=!1){let n=null;const i=e.root;let o=hO(e,r);for(;o!=null;){const s=t;if(t.mode==="composition")n=s.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=s.__getInstance(o);a!=null&&(n=a.__composer,r&&n&&!n[i_]&&(n=null))}if(n!=null||i===o)break;o=o.parent}return n}function hO(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function pO(t,e,r){let n=null;c.onMounted(()=>{if(process.env.NODE_ENV!=="production"&&e.vnode.el){e.vnode.el.__VUE_I18N__=r,n=Mm();const i=r;i[Us]&&i[Us](n),n.on("*",$c)}},e),c.onUnmounted(()=>{const i=r;process.env.NODE_ENV!=="production"&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&(n&&n.off("*",$c),i[Uc]&&i[Uc](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const o=i[Hm];o&&(o(),delete i[Hm])},e)}function mO(t,e,r,n={}){const i=e==="local",o=c.shallowRef(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Mr(Ct.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=bt(n.inheritLocale)?n.inheritLocale:!$e(n.locale),a=c.ref(!i||s?r.locale.value:$e(n.locale)?n.locale:Qa),l=c.ref(!i||s?r.fallbackLocale.value:$e(n.fallbackLocale)||Wt(n.fallbackLocale)||ut(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),d=c.ref(rf(a.value,n)),f=c.ref(ut(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),u=c.ref(ut(n.numberFormats)?n.numberFormats:{[a.value]:{}}),h=i?r.missingWarn:bt(n.missingWarn)||Go(n.missingWarn)?n.missingWarn:!0,p=i?r.fallbackWarn:bt(n.fallbackWarn)||Go(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:bt(n.fallbackRoot)?n.fallbackRoot:!0,y=!!n.fallbackFormat,b=Vt(n.missing)?n.missing:null,v=Vt(n.postTranslation)?n.postTranslation:null,E=i?r.warnHtmlMessage:bt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,A=!!n.escapeParameter,k=i?r.modifiers:ut(n.modifiers)?n.modifiers:{},C=n.pluralRules||i&&r.pluralRules;function T(){return[a.value,l.value,d.value,f.value,u.value]}const O=c.computed({get:()=>o.value?o.value.locale.value:a.value,set:de=>{o.value&&(o.value.locale.value=de),a.value=de}}),D=c.computed({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:de=>{o.value&&(o.value.fallbackLocale.value=de),l.value=de}}),S=c.computed(()=>o.value?o.value.messages.value:d.value),R=c.computed(()=>f.value),z=c.computed(()=>u.value);function F(){return o.value?o.value.getPostTranslationHandler():v}function P(de){o.value&&o.value.setPostTranslationHandler(de)}function $(){return o.value?o.value.getMissingHandler():b}function W(de){o.value&&o.value.setMissingHandler(de)}function B(de){return T(),de()}function j(...de){return o.value?B(()=>Reflect.apply(o.value.t,null,[...de])):B(()=>"")}function re(...de){return o.value?Reflect.apply(o.value.rt,null,[...de]):""}function H(...de){return o.value?B(()=>Reflect.apply(o.value.d,null,[...de])):B(()=>"")}function L(...de){return o.value?B(()=>Reflect.apply(o.value.n,null,[...de])):B(()=>"")}function I(de){return o.value?o.value.tm(de):{}}function V(de,pe){return o.value?o.value.te(de,pe):!1}function K(de){return o.value?o.value.getLocaleMessage(de):{}}function Y(de,pe){o.value&&(o.value.setLocaleMessage(de,pe),d.value[de]=pe)}function Q(de,pe){o.value&&o.value.mergeLocaleMessage(de,pe)}function le(de){return o.value?o.value.getDateTimeFormat(de):{}}function ie(de,pe){o.value&&(o.value.setDateTimeFormat(de,pe),f.value[de]=pe)}function me(de,pe){o.value&&o.value.mergeDateTimeFormat(de,pe)}function he(de){return o.value?o.value.getNumberFormat(de):{}}function fe(de,pe){o.value&&(o.value.setNumberFormat(de,pe),u.value[de]=pe)}function ve(de,pe){o.value&&o.value.mergeNumberFormat(de,pe)}const Se={get id(){return o.value?o.value.id:-1},locale:O,fallbackLocale:D,messages:S,datetimeFormats:R,numberFormats:z,get inheritLocale(){return o.value?o.value.inheritLocale:s},set inheritLocale(de){o.value&&(o.value.inheritLocale=de)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(d.value)},get modifiers(){return o.value?o.value.modifiers:k},get pluralRules(){return o.value?o.value.pluralRules:C},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:h},set missingWarn(de){o.value&&(o.value.missingWarn=de)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(de){o.value&&(o.value.missingWarn=de)},get fallbackRoot(){return o.value?o.value.fallbackRoot:m},set fallbackRoot(de){o.value&&(o.value.fallbackRoot=de)},get fallbackFormat(){return o.value?o.value.fallbackFormat:y},set fallbackFormat(de){o.value&&(o.value.fallbackFormat=de)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:E},set warnHtmlMessage(de){o.value&&(o.value.warnHtmlMessage=de)},get escapeParameter(){return o.value?o.value.escapeParameter:A},set escapeParameter(de){o.value&&(o.value.escapeParameter=de)},t:j,getPostTranslationHandler:F,setPostTranslationHandler:P,getMissingHandler:$,setMissingHandler:W,rt:re,d:H,n:L,tm:I,te:V,getLocaleMessage:K,setLocaleMessage:Y,mergeLocaleMessage:Q,getDateTimeFormat:le,setDateTimeFormat:ie,mergeDateTimeFormat:me,getNumberFormat:he,setNumberFormat:fe,mergeNumberFormat:ve};function Me(de){de.locale.value=a.value,de.fallbackLocale.value=l.value,Object.keys(d.value).forEach(pe=>{de.mergeLocaleMessage(pe,d.value[pe])}),Object.keys(f.value).forEach(pe=>{de.mergeDateTimeFormat(pe,f.value[pe])}),Object.keys(u.value).forEach(pe=>{de.mergeNumberFormat(pe,u.value[pe])}),de.escapeParameter=A,de.fallbackFormat=y,de.fallbackRoot=m,de.fallbackWarn=p,de.missingWarn=h,de.warnHtmlMessage=E}return c.onBeforeMount(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Mr(Ct.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const de=o.value=t.proxy.$i18n.__composer;e==="global"?(a.value=de.locale.value,l.value=de.fallbackLocale.value,d.value=de.messages.value,f.value=de.datetimeFormats.value,u.value=de.numberFormats.value):i&&Me(de)}),Se}const gO=["locale","fallbackLocale","availableLocales"],T_=["t","rt","d","n","tm","te"];function yO(t,e){const r=Object.create(null);return gO.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o)throw Mr(Ct.UNEXPECTED_ERROR);const s=c.isRef(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,i,s)}),t.config.globalProperties.$i18n=r,T_.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o||!o.value)throw Mr(Ct.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,o)}),()=>{delete t.config.globalProperties.$i18n,T_.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(B8(),__INTLIFY_JIT_COMPILATION__?Iv(k8):Iv(E8),b8(ZN),v8(Cv),process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const t=vo();t.__INTLIFY__=!0,a8(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}process.env.NODE_ENV;var A_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(y){var b={date:y,utc:!0,args:arguments};return new s(b)},l.utc=function(y){var b=a(this.toDate(),{locale:this.$L,utc:!0});return y?b.add(this.utcOffset(),r):b},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var f=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else f.call(this)};var u=l.utcOffset;l.utcOffset=function(y,b){var v=this.$utils().u;if(v(y))return this.$u?0:v(this.$offset)?u.call(this):this.$offset;if(typeof y=="string"&&(y=function(C){C===void 0&&(C="");var T=C.match(n);if(!T)return null;var O=(""+T[0]).match(i)||["-",0,0],D=O[0],S=60*+O[1]+ +O[2];return S===0?0:D==="+"?S:-S}(y),y===null))return this;var E=Math.abs(y)<=16?60*y:y,A=this;if(b)return A.$offset=E,A.$u=y===0,A;if(y!==0){var k=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(E+k,r)).$offset=E,A.$x.$localOffset=k}else A=this.utc();return A};var h=l.format;l.format=function(y){var b=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,b)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(y,b,v){if(y&&this.$u===y.$u)return m.call(this,y,b,v);var E=this.local(),A=a(y).local();return m.call(E,A,b,v)}}})})(A_);var bO=A_.exports;const vO=vn(bO);for(var Ur=[],Zm=0;Zm<256;++Zm)Ur.push((Zm+256).toString(16).slice(1));function _O(t,e=0){return(Ur[t[e+0]]+Ur[t[e+1]]+Ur[t[e+2]]+Ur[t[e+3]]+"-"+Ur[t[e+4]]+Ur[t[e+5]]+"-"+Ur[t[e+6]]+Ur[t[e+7]]+"-"+Ur[t[e+8]]+Ur[t[e+9]]+"-"+Ur[t[e+10]]+Ur[t[e+11]]+Ur[t[e+12]]+Ur[t[e+13]]+Ur[t[e+14]]+Ur[t[e+15]]).toLowerCase()}var nf,wO=new Uint8Array(16);function xO(){if(!nf&&(nf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nf(wO)}var TO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const C_={randomUUID:TO};function of(t,e,r){if(C_.randomUUID&&!e&&!t)return C_.randomUUID();t=t||{};var n=t.random||(t.rng||xO)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_O(n)}mr.extend(vO),mr.extend(rN);var Xe=(t=>(t.Text="text",t.Image="image",t.Sticker="sticker",t.Video="video",t.File="file",t.Template="template",t.Flex="flex",t.Location="location",t.Audio="audio",t.Recall="recall",t.JoinRoom="joinRoom",t.LeaveRoom="leaveRoom",t.AddMember="addMember",t.DeleteMember="deleteMember",t.AddMembers="addMembers",t.Announcement="announcement",t.Typing="typing",t))(Xe||{});class nr{constructor(e){Fe(this,"id");Fe(this,"roomId");Fe(this,"senderId");Fe(this,"type");Fe(this,"createdAt");Fe(this,"updatedAt");Fe(this,"groupId");Fe(this,"dateId");Fe(this,"template");Fe(this,"prev",null);Fe(this,"next",null);const{_id:r,room:n,sender:i,messageType:o,createdAtMS:s,updatedAtMS:a,extra:l}=e;this.id=r,this.roomId=n,this.senderId=(i==null?void 0:i._id)||"",o==="line"?this.type=l.type:this.type=o,this.createdAt=s,this.updatedAt=a,this.groupId=`${mr(s).startOf("minute").unix()}-${this.senderId}`,this.dateId=mr.tz(s).startOf("day").unix()}_string(e,r){var o,s;const{t:n}=Ai();let i=n("message");switch(this.type){case"image":i=n("image");break;case"sticker":i=n("sticker");break;case"video":i=n("video");break;case"file":i=n("file");break;case"location":i=n("location");break;case"audio":i=n("audio");break;case"recall":return this.senderId===e?n("youUnsentMessage"):n("someoneUnsentMessage",[((o=r[this.senderId])==null?void 0:o.nickname)??""])}return this.senderId===e?n("youSent",[i]):n("someoneSent",[((s=r[this.senderId])==null?void 0:s.nickname)??"",i])}get string(){const{state:{imkit:{uid:e,users:r}}}=Bt();return this._string(e,r)}get isIncoming(){return!this.isOutgoing}get isOutgoing(){var i;const e=Bt();if(!e)return!1;const{state:{imkit:{rooms:r,uid:n}}}=e;return this.senderId===n||((i=r[this.roomId])==null?void 0:i.isOutgoingGroupSender[this.senderId])}get isSystem(){return new Set(["recall","joinRoom","leaveRoom","addMember","deleteMember","addMembers","announcement"]).has(this.type)}static fromRaw(e){if(!e)return null;switch(e.messageType){case"text":return new sf(e);case"image":return new AO(e);case"sticker":return new S_(e);case"video":return new CO(e);case"file":return new IO(e);case"template":return new SO(e);case"flex":return new EO(e);case"location":return new kO(e);case"audio":return new DO(e);case"announcement":return new sf(e);case"addMember":return new eg(e);case"deleteMember":return new eg(e);case"addMembers":return new eg(e);case"line":switch(e.extra!=="object"&&(e.extra=JSON.parse(e.extra)),e.extra.type){case"sticker":return new S_(e);default:return new nr(e)}default:return new nr(e)}}static fromPayload(e,r){const n=Date.now(),{roomId:i}=e,o={_id:of(),room:i,sender:{_id:r},createdAtMS:n,updatedAtMS:n,...e};return nr.fromRaw(o)}}const gc=class gc extends nr{constructor(r){super(r);Fe(this,"text");Fe(this,"translatedText");Fe(this,"replyId");Fe(this,"urls");Fe(this,"html");const{message:n,reply:i}=r;this.text=n??"",this.translatedText=null,this.replyId=(i==null?void 0:i._id)??null;try{this.urls=Array.from(new Set(gc.autolinker.parse(n).map(o=>o.getUrl()))),this.html=gc.autolinker.link(n.replaceAll(`
`,"<br>"))}catch(o){this.urls=[],this.html="",console.log(r),console.error(o)}}get string(){return this.text}static linkfy(r){try{return gc.autolinker.link(r.replaceAll(`
`,"<br>"))}catch(n){return console.error(n),r}}};Fe(gc,"autolinker",new JM({className:"underline",email:!1,phone:!1,stripPrefix:!1,stripTrailingSlash:!1}));let sf=gc;class AO extends nr{constructor(r){super(r);Fe(this,"images");const{images:n,width:i,height:o,thumbnailUrl:s,originalUrl:a}=r;n&&n.length>0?this.images=n:this.images=[{id:a,width:i,height:o,thumbnailUrl:s,originalUrl:a}]}}class S_ extends nr{constructor(r){super(r);Fe(this,"stickerId");Fe(this,"stickerUrl");const{sticker:n,extra:i}=r;n?(this.stickerId=n,this.stickerUrl=""):(this.stickerId="",this.stickerUrl=`https://stickershop.line-scdn.net/stickershop/v1/sticker/${i.stickerId}/ios/sticker.png`)}}class CO extends nr{constructor(r){super(r);Fe(this,"video");const{id:n,width:i,height:o,thumbnailUrl:s,originalUrl:a,duration:l,thumbnailFile:d,video:f}=r;f?this.video=f:this.video={id:n||a,width:i,height:o,thumbnailUrl:s,originalUrl:a,duration:l,thumbnailFile:d}}}var js=(t=>(t.Buttons="buttons",t.Confirm="confirm",t.Carousel="carousel",t.ImageCarousel="image_carousel",t))(js||{});class SO extends nr{constructor(r){super(r);Fe(this,"template");Fe(this,"templateType");const{template:n}=r;try{this.template=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.template;this.templateType=i}catch(i){console.log(r),console.error(i),this.template={},this.templateType="buttons"}}}var Jm=(t=>(t.Bubble="bubble",t.Carousel="carousel",t))(Jm||{});class EO extends nr{constructor(r){super(r);Fe(this,"contents");Fe(this,"flexType");const{contents:n}=r;try{this.contents=typeof n=="object"?n:JSON.parse(n);const{type:i}=this.contents;this.flexType=i}catch(i){console.log(r),console.error(i),this.contents={},this.flexType="bubble"}}}class kO extends nr{constructor(r){super(r);Fe(this,"address");Fe(this,"latitude");Fe(this,"longitude");const{message:n,latitude:i,longitude:o}=r;this.address=n,this.latitude=i,this.longitude=o}}class eg extends nr{constructor(r){super(r);Fe(this,"members");switch(r.messageType){case"addMember":this.members=[new Wo(r.member)];break;case"deleteMember":this.members=r.extra.members.map(n=>new Wo(n));break;case"addMembers":this.members=r.extra.invitees.map(n=>new Wo(n));break;default:this.members=[]}}}class IO extends nr{constructor(r){super(r);Fe(this,"url");Fe(this,"mimeType");Fe(this,"fileName");Fe(this,"bytes");Fe(this,"fileExtension");const{originalUrl:n,extra:i}=r;this.url=n;const{mimeType:o,fileName:s,bytes:a,fileExtension:l}=typeof i=="object"?i:JSON.parse(i);this.mimeType=o,this.fileName=s,this.bytes=a,this.fileExtension=l}}class DO extends nr{constructor(r){super(r);Fe(this,"url");Fe(this,"mimeType");Fe(this,"fileName");Fe(this,"bytes");Fe(this,"fileExtension");Fe(this,"duration");const{originalUrl:n,extra:i,duration:o}=r;this.url=n;const{mimeType:s,fileName:a,bytes:l,fileExtension:d}=typeof i=="object"?i:JSON.parse(i);this.mimeType=s,this.fileName=a,this.bytes=l,this.fileExtension=d,this.duration=o}}const MO=t=>(c.pushScopeId("data-v-4082b57b"),t=t(),c.popScopeId(),t),NO={class:"flex gap-3"},OO={class:"flex flex-col gap-1"},LO={key:0,class:"ml-auto h-10 w-10 rounded object-cover"},BO=["innerHTML"],RO=["innerHTML"],PO=["innerHTML"],FO={key:3,class:"my-1 flex flex-col gap-3"},UO=["onClick"],jO=MO(()=>c.createElementVNode("div",{class:"my-0.5 w-0.5 flex-shrink-0 rounded-full bg-blue-300"},null,-1)),$O={class:"align-center flex grow flex-col justify-center gap-0.5 overflow-hidden"},zO={class:"ellipsis text-sm font-bold"},VO={class:"multiline-ellipsis text-xs"},HO=["src"],Xo=pr(c.defineComponent({__name:"TextMessageContent",props:{message:{}},setup(t){const e=t,r=Bt(),n=c.computed(()=>{var h;return(h=r.state.imkit.messageMultiList.main)==null?void 0:h.map.get(e.message.replyId)}),i=c.computed(()=>{const h=n.value;return h?r.state.imkit.users[h.senderId]:null}),o=c.computed(()=>e.message.isIncoming),s=c.computed(()=>{const{urls:h}=e.message;return h?h.map(p=>r.state.imkit.linkPreviews[p]).filter(p=>p):[]}),a=c.computed(()=>{if(n.value.type===Xe.Text)return n.value.text;if(n.value.type===Xe.Image){const{t:h}=Ai();return{[Xe.Text]:h("text"),[Xe.Image]:h("image"),[Xe.Video]:h("video"),[Xe.Sticker]:h("sticker")}[n.value.type]}return""}),l=c.computed(()=>{if(n.value.type===Xe.Image)return n.value.images[0]}),d=c.computed(()=>r.state.imkit.messageSearchKeyword?e.message.html.replace(new RegExp(r.state.imkit.messageSearchKeyword,"ig"),h=>`<span class="bg-amber-400 text-white">${h}</span>`):e.message.html),f=h=>{window.open(h,"_blank")},u=()=>{r.dispatch("imkit/navigateToMessage",e.message.replyId)};return(h,p)=>{const m=c.resolveDirective("src");return c.openBlock(),c.createElementBlock(c.Fragment,null,[n.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex cursor-pointer flex-col gap-2",onClick:u},[c.createElementVNode("div",NO,[c.createVNode(qr,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg text-sm",url:i.value.avatarUrl??"",name:i.value.nickname??""},null,8,["url","name"]),c.createElementVNode("div",OO,[c.createElementVNode("div",{class:c.normalizeClass(["text-sm font-bold",[o.value?"text-gray-600":"text-white"]])},c.toDisplayString(i.value.nickname),3),c.createElementVNode("div",{class:c.normalizeClass(["multiline-ellipsis text-xs",[o.value?"text-gray-500 dark:text-gray-300":"text-gray-200"]])},c.toDisplayString(a.value),3)]),l.value?c.withDirectives((c.openBlock(),c.createElementBlock("img",LO,null,512)),[[m,l.value.thumbnailUrl]]):c.createCommentVNode("",!0)]),c.createElementVNode("div",{class:c.normalizeClass(["-mx-2 h-px",[o.value?"bg-gray-200 dark:bg-zinc-600":"bg-blue-300"]])},null,2),c.createElementVNode("div",{class:"break-all",innerHTML:d.value},null,8,BO)])):(c.openBlock(),c.createElementBlock("div",{key:1,class:"break-all",innerHTML:d.value},null,8,RO)),o.value&&h.message.translatedText?(c.openBlock(),c.createElementBlock("div",{key:2,class:"break-all text-gray-400",innerHTML:h.$t("translation")+": "+h.message.translatedText},null,8,PO)):c.createCommentVNode("",!0),s.value.length>0?(c.openBlock(),c.createElementBlock("div",FO,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(s.value,y=>(c.openBlock(),c.createElementBlock("div",{key:y.url,class:"flex cursor-pointer items-stretch justify-center gap-2",onClick:b=>f(y.url)},[jO,c.createElementVNode("div",$O,[c.createElementVNode("div",zO,c.toDisplayString(y.title),1),c.createElementVNode("div",VO,c.toDisplayString(y.description||h.$t("tapOpen")),1)]),y.images.length>0?(c.openBlock(),c.createElementBlock("img",{key:0,src:y.images[0],class:"my-auto h-12 w-12 flex-shrink-0 rounded object-cover"},null,8,HO)):c.createCommentVNode("",!0)],8,UO))),128))])):c.createCommentVNode("",!0)],64)}}}),[["__scopeId","data-v-4082b57b"]]);function qO(){return Math.random().toString(16).substring(2)}var tg=c.defineComponent({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(t){const e=c.reactive({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),r=`rg-${qO()}`,n=c.ref(0),i=c.ref(0),o=c.ref(null),s=c.computed(()=>t.diameter/2),a=c.computed(()=>t.diameter-t.innerStrokeWidth*2),l=c.computed(()=>Math.PI*a.value),d=c.computed(()=>t.totalSteps===0?0:100/t.totalSteps),f=c.computed(()=>d.value*t.completedSteps),u=c.computed(()=>2*Math.PI/t.totalSteps),h=c.computed(()=>100/t.fps),p=c.computed(()=>t.animateSpeed/h.value),m=c.computed(()=>u.value/p.value),y=c.computed(()=>a.value/2),b=c.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`})),v=c.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.strokeWidth}px`,strokeDashoffset:n.value,transition:`stroke-dashoffset ${t.animateSpeed}ms ${t.timingFunc}`})),E=c.computed(()=>({height:`${t.diameter}px`,width:`${t.diameter}px`,strokeWidth:`${t.innerStrokeWidth}px`})),A=c.computed(()=>({width:`${a.value}px`}));c.watch(()=>[t.diameter,t.totalSteps,t.completedSteps,t.strokeWidth],O,{immediate:!0});function k(D){const R=.5+.5*Math.cos(D),z=.5+.5*Math.sin(D);return{x:R,y:z}}function C(){const D=k(i.value);D.x&&D.y&&(e.fx=D.x,e.fy=D.y)}function T(){return t.isClockwise?1:-1}function O(){n.value=(100-f.value)/100*l.value*T(),o.value&&clearInterval(o.value);const D=(t.completedSteps-1)*u.value;let S=(i.value-D)/m.value;const R=Math.abs(S-p.value)/p.value,z=S<p.value;o.value=setInterval(()=>{if(z&&S>=p.value||!z&&S<p.value){o.value&&clearInterval(o.value);return}i.value=D+m.value*S,C(),S+=z?R:-R},h.value)}return{gradientAnimation:o,innerCircleRadius:y,radialGradientId:r,strokeDashoffset:n,innerCircleStyle:A,containerStyle:b,circumference:l,progressStyle:v,currentAngle:i,strokeStyle:E,gradient:e,radius:s}}});const WO=["width","height"],GO=["id","fx","fy","cx","cy","r"],QO=["stop-color"],YO=["stop-color"],KO=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],XO=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function ZO(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",{class:"vrp__wrapper",style:c.normalizeStyle(t.containerStyle)},[c.createElementVNode("div",{class:"vrp__inner",style:c.normalizeStyle(t.innerCircleStyle)},[c.renderSlot(t.$slots,"default")],4),(c.openBlock(),c.createElementBlock("svg",{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("defs",null,[c.createElementVNode("radialGradient",{id:t.radialGradientId,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r},[c.createElementVNode("stop",{offset:"30%","stop-color":t.startColor},null,8,QO),c.createElementVNode("stop",{offset:"100%","stop-color":t.stopColor},null,8,YO)],8,GO)]),c.createElementVNode("circle",{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":t.strokeLinecap,style:c.normalizeStyle(t.strokeStyle)},null,12,KO),c.createElementVNode("circle",{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:`url('#${t.radialGradientId}')`,"stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":t.strokeLinecap,style:c.normalizeStyle(t.progressStyle)},null,12,XO)],8,WO))],4)}function JO(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var e9=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;JO(e9),tg.render=ZO,tg.__scopeId="data-v-6a0cf1f6";var af=(()=>{const t=tg;return t.install=e=>{e.component("RadialProgressBar",t)},t})();const t9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNklEQVR4nO2Z20sVURTGd9r9IlLmDYxuBEmBURBSkQWF2EsvUUT17EOFb9ZbFIRBQdEfYIUUBNlDd6KgIqOrhWU3MQiiIior7QLlL9Y5a07b0eM5xzPjmYnzgXj2ntnfWt+stfdes8eYLLLIIuMARgILgU3AdmArsBZYBOSaoANYDBwBvhEfH4BGoNIEDUAJcBLotRx+ChwHDgGHgWbgiUtUMzDLBAFAFfBOHfsE7AbKBrl/NrAL+KJjPgPVw+t1f6dWAz/UoRNAYQpjp2rEBL+BLf56G9+RcqBbHdk5RI4RMlZT8hew1HtPo4bG60qzUlLC6h8FPFYRezyws1e5JEXz03bcIp4JNAHfXZOzHVgH1Gn7GpDjgb0c4IpyNnglotqaiJK7rcBV4JUlSFLhDzDXE6MmYrdCOeXhFXlB1qPOylpf4rpeqcIiS2e6zrsBnFbuWpMOgJtKtC/BvKlN+6kNzL1Z7V9Ih2SBkryUyeyph8n7UKg+fEyHpM6rVSgd8G+BGTeUwcuAe0qQmY1JAXSqHzNMspA8tyaYU9DF9otMAHijvhwA1gCjEw2YYy2pnTrRUg+nxwDaXHvXe6B+wHkLTAE69MZTwEQTEAB5wBJgo27KUroI7vSr5YBjevFSplaoFKuMW1ZlkWcXe726e5eaEAAYq+WQoMnp3K8dB02IABQDXzUIFdJxX4UsNyED0BALgr6RCSb7ZExS4K6PZwKCNmn8jPyEMT4Zi8An7nyl75LGa22UhVDIBKXvlsZlbawPoZB5Sv9CGtu0cSaEQuqVvlEaBdYbYFVYhBB9D3LqsBqnc4d2vAWmh0TIUaVukdMXpzMXOG+JWRFUIUQj4YiQTCp33zAJOOcYBs4CG4BpCUtnn4UQdX6+zgknnWRXXxVvQK7e3EXquJGqEBnD0NDSLxJxDBTo0f9F3Wec0nkwXPdRSA/wXE9yamJzYjgxmJBQgayQgCGUEQEeAA/lpSeeEH0hegTcNkEFUQedz2zFbiEqQq4JWk1QQfSI0/lOIstlqbWEFlnXngX+fIC+T935b/+ORSvwoG9kbAQ/EkmICZ8IV5q161840ilBZJL+TJ2F+U/wF9Y5UmVGwaQRAAAAAElFTkSuQmCC",r9={key:0,class:"relative flex items-center justify-center"},n9={class:"max-w-80vw max-h-80vh",alt:""},i9={key:0,class:"max-w-80vw max-h-80vh absolute",alt:""},o9=c.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),s9={key:1,class:"mt-4 flex gap-4"},a9=c.createElementVNode("img",{class:"h-5 w-5",src:t9},null,-1),l9=c.defineComponent({__name:"ImageModal",props:{image:{}},setup(t){const e=rn(),r=Bt(),n=c.computed(()=>r.state.imkit.downloadProgresses),i=c.computed(()=>r.state.imkit.imageCache),o=s=>{const a=document.createElement("a"),l=i.value.get(s.originalUrl);a.href=l;const d=l.split(";")[0].replace("data:","").split("/")[1];a.download=`download.${d}`,a.click()};return(s,a)=>{const l=c.resolveDirective("src");return c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[s.image?(c.openBlock(),c.createElementBlock("div",r9,[c.withDirectives(c.createElementVNode("img",n9,null,512),[[l,s.image.thumbnailUrl]]),s.image.thumbnailUrl!==s.image.originalUrl?c.withDirectives((c.openBlock(),c.createElementBlock("img",i9,null,512)),[[l,s.image.originalUrl]]):c.createCommentVNode("",!0),(!n.value[s.image.originalUrl]||n.value[s.image.originalUrl]<1)&&s.image.thumbnailUrl!==s.image.originalUrl?(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[o9,c.createVNode(c.unref(af),{class:"!absolute",diameter:40,"completed-steps":n.value[s.image.originalUrl]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):c.createCommentVNode("",!0)])):c.createCommentVNode("",!0),s.image?(c.openBlock(),c.createElementBlock("div",s9,[c.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:a[0]||(a[0]=d=>o(s.image))},[a9,c.createTextVNode(" "+c.toDisplayString(s.$t("download")),1)]),c.createElementVNode("button",{class:"flex grow items-center justify-center gap-1.5 rounded-lg border px-3 py-2 text-base font-normal text-white",onClick:a[1]||(a[1]=d=>c.unref(e).closeAll())},c.toDisplayString(s.$t("close")),1)])):c.createCommentVNode("",!0)]),_:1})}}}),c9=["onClick"],u9=c.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),d9=c.defineComponent({__name:"ImageMessageContent",props:{message:{}},setup(t){const e=t,r=Bt(),n=c.computed(()=>r.state.imkit.uploadProgresses),i=(s,a)=>{if(e.message.images.length===1){const{width:d,height:f}=a;return d<f?{width:"200px",height:`${200*f/d}px`}:{width:`${200*d/f}px`,height:"200px"}}else return s===e.message.images.length-1&&s%2===0?{width:`${200*2+1}px`,height:"200px"}:{width:"200px",height:"200px"}},o=s=>{const{open:a}=Vi({component:l9,attrs:{image:s}});a()};return(s,a)=>{const l=c.resolveDirective("src");return c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["-mx-3 -my-2 grid gap-px",[s.message.images.length>1?"grid-cols-2":"grid-cols-1"]])},[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(s.message.images,(d,f)=>(c.openBlock(),c.createElementBlock("div",{key:d.thumbnailUrl,class:c.normalizeClass(["relative flex items-center justify-center",{"col-span-2":s.message.images.length>1&&f===s.message.images.length-1&&f%2===0}]),onClick:u=>o(d)},[c.withDirectives(c.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:c.normalizeStyle(i(f,d))},null,4),[[l,d.thumbnailUrl]]),d.thumbnailUrl.startsWith("data")?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[u9,c.createVNode(c.unref(af),{class:"!absolute",diameter:40,"completed-steps":n.value[`${d.id}-original`]===void 0?(n.value[`${d.id}-original`]+n.value[`${d.id}-thumbnail`])/2*100:n.value[`${d.id}-original`]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):c.createCommentVNode("",!0)],10,c9))),128))],2)}}}),f9=["src"],E_=c.defineComponent({__name:"StickerMessageContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.stickerUrl?e.message.stickerUrl:`/sticker/${e.message.stickerId.split("-")[0]}/${e.message.stickerId}.png`);return(n,i)=>(c.openBlock(),c.createElementBlock("img",{src:r.value,class:"h-32 w-32 border-0 object-contain"},null,8,f9))}}),k_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR4nO3bP68MURzH4RMhNIobEhoJFaFCKRI6Ha/AW9DSKeUqVVqlmkQv8ScUOoVGgUSnQCM8MpFJZJmz17V398zO9ym32nwyO7O/M+eUEhERERERK4Z9OLDq79EcnMIjfPfLB9zA3jJ1OIMv/u41zpUpw0t13VV1B/vL1OCYrXuLS2VKcN6/uzeZGzku2J6PuFrWne0H6j3AkbKu/H+gzidcw66ybiwmUO8xjpd1YrGBOl9xE3vKOrD4QL1XOFvGzs4F6nzDrW6+K2NlZwP13uBiGSPLCdT5gbujG1csL1DvPS6XsbD8QL37OFhaZ3WBxjGuWG2g3sNmxxVtBGp3XNFOoN/HlROlFdoL1Na4os1Avac4nEB1z7E7V1DdlQSqu51AdZsJVJefWMWz3KSHPcGhPOb/lD+KFRk1BmRYrchyx4AsmFVkyXVAFu0H5LVPRV4cDsir54psXmh+TFgE2UBVly14c2QT5xzZBjxHNpLPgaO2bnpHETp4MSfMdA+zdHAanwfi5DhUBydnDtS9w/UcqJvRBcHG7OcREREREVEm5icELZJIi+Y1dAAAAABJRU5ErkJggg==";var zc;typeof window<"u"?zc=window:typeof yt<"u"?zc=yt:typeof self<"u"?zc=self:zc={};var lf=zc;const ee=vn(lf),h9=XM(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var I_=typeof yt<"u"?yt:typeof window<"u"?window:{},p9=h9,Vc;typeof document<"u"?Vc=document:(Vc=I_["__GLOBAL_DOCUMENT_CACHE@4"],Vc||(Vc=I_["__GLOBAL_DOCUMENT_CACHE@4"]=p9));var D_=Vc;const Be=vn(D_);var m9=g9;function g9(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}const y9=vn(m9);var rg={exports:{}},M_={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)({}).hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(M_);var b9=M_.exports,v9=w9,_9=Object.prototype.toString;function w9(t){if(!t)return!1;var e=_9.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function x9(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=T9(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9(t,e){if(t){if(typeof t=="string")return N_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N_(t,e)}}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var A9=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(n,i){this.typeToInterceptorsMap_.has(n)||this.typeToInterceptorsMap_.set(n,new Set);var o=this.typeToInterceptorsMap_.get(n);return o.has(i)?!1:(o.add(i),!0)},e.removeInterceptor=function(n,i){var o=this.typeToInterceptorsMap_.get(n);return o&&o.has(i)?(o.delete(i),!0):!1},e.clearInterceptorsByType=function(n){var i=this.typeToInterceptorsMap_.get(n);return i?(this.typeToInterceptorsMap_.delete(n),this.typeToInterceptorsMap_.set(n,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(n){return this.typeToInterceptorsMap_.get(n)||new Set},e.execute=function(n,i){for(var o=this.getForType(n),s=x9(o),a;!(a=s()).done;){var l=a.value;try{i=l(i)}catch{}}return i},t}(),C9=A9,S9=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(n){this.maxAttempts_=n},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(n){this.delayFactor_=n},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(n){this.fuzzFactor_=n},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(n){this.initialDelay_=n},e.createRetry=function(n){var i=n===void 0?{}:n,o=i.maxAttempts,s=i.delayFactor,a=i.fuzzFactor,l=i.initialDelay;return new E9({maxAttempts:o||this.maxAttempts_,delayFactor:s||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),E9=function(){function t(r){this.maxAttempts_=r.maxAttempts,this.delayFactor_=r.delayFactor,this.fuzzFactor_=r.fuzzFactor,this.currentDelay_=r.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var n=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+n},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var n=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return n+Math.random()*(i-n)},t}(),k9=S9,I9=lf,D9=function(e,r){return r===void 0&&(r=!1),function(n,i,o){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var s=o;if(r)if(I9.TextDecoder){var a=M9(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(a).decode(o)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:s});return}e(null,o)}};function M9(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1];return i.trim()==="charset"?o.trim():e},"utf-8")}var N9=D9,O_=lf,O9=b9,L9=v9,L_=C9,B9=k9;gr.httpHandler=N9,gr.requestInterceptorsStorage=new L_,gr.responseInterceptorsStorage=new L_,gr.retryManager=new B9;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var R9=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),o=n.slice(0,i).trim().toLowerCase(),s=n.slice(i+1).trim();typeof r[o]>"u"?r[o]=s:Array.isArray(r[o])?r[o].push(s):r[o]=[r[o],s]}),r};rg.exports=gr,rg.exports.default=gr,gr.XMLHttpRequest=O_.XMLHttpRequest||j9,gr.XDomainRequest="withCredentials"in new gr.XMLHttpRequest?gr.XMLHttpRequest:O_.XDomainRequest,P9(["get","put","post","patch","head","delete"],function(t){gr[t==="delete"?"del":t]=function(e,r,n){return r=B_(e,r,n),r.method=t.toUpperCase(),ng(r)}});function P9(t,e){for(var r=0;r<t.length;r++)e(t[r])}function F9(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function B_(t,e,r){var n=t;return L9(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=O9({},e,{uri:t}),n.callback=r,n}function gr(t,e,r){return e=B_(t,e,r),ng(e)}function ng(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&gr.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},r=gr.requestInterceptorsStorage.execute(t.requestType,e);t.uri=r.uri,t.headers=r.headers,t.body=r.body,t.metadata=r.metadata,t.retry=r.retry,t.timeout=r.timeout}var n=!1,i=function(C,T,O){n||(n=!0,t.callback(C,T,O))};function o(){d.readyState===4&&!gr.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function s(){var k=void 0;if(d.response?k=d.response:k=d.responseText||U9(d),v)try{k=JSON.parse(k)}catch{}return k}function a(k){if(clearTimeout(E),clearTimeout(t.retryTimeout),k instanceof Error||(k=new Error(""+(k||"Unknown XMLHttpRequest Error"))),k.statusCode=0,!u&&gr.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=d,ng(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&gr.responseInterceptorsStorage.getIsEnabled()){var C={headers:A.headers||{},body:A.body,responseUrl:d.responseURL,responseType:d.responseType},T=gr.responseInterceptorsStorage.execute(t.requestType,C);A.body=T.body,A.headers=T.headers}return i(k,A)}function l(){if(!u){var k;clearTimeout(E),clearTimeout(t.retryTimeout),t.useXDR&&d.status===void 0?k=200:k=d.status===1223?204:d.status;var C=A,T=null;if(k!==0?(C={body:s(),statusCode:k,method:p,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(C.headers=R9(d.getAllResponseHeaders()))):T=new Error("Internal XMLHttpRequest Error"),t.requestType&&gr.responseInterceptorsStorage.getIsEnabled()){var O={headers:C.headers||{},body:C.body,responseUrl:d.responseURL,responseType:d.responseType},D=gr.responseInterceptorsStorage.execute(t.requestType,O);C.body=D.body,C.headers=D.headers}return i(T,C,C.body)}}var d=t.xhr||null;d||(t.cors||t.useXDR?d=new gr.XDomainRequest:d=new gr.XMLHttpRequest);var f,u,h=d.url=t.uri||t.url,p=d.method=t.method||"GET",m=t.body||t.data,y=d.headers=t.headers||{},b=!!t.sync,v=!1,E,A={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:d};if("json"in t&&t.json!==!1&&(v=!0,y.accept||y.Accept||(y.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),m=JSON.stringify(t.json===!0?m:t.json))),d.onreadystatechange=o,d.onload=l,d.onerror=a,d.onprogress=function(){},d.onabort=function(){u=!0,clearTimeout(t.retryTimeout)},d.ontimeout=a,d.open(p,h,!b,t.username,t.password),b||(d.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(E=setTimeout(function(){if(!u){u=!0,d.abort("timeout");var k=new Error("XMLHttpRequest timeout");k.code="ETIMEDOUT",a(k)}},t.timeout)),d.setRequestHeader)for(f in y)y.hasOwnProperty(f)&&d.setRequestHeader(f,y[f]);else if(t.headers&&!F9(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(d),d.send(m||null),d}function U9(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function j9(){}var $9=rg.exports;const R_=vn($9);var P_={exports:{}},F_=D_,ig=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Un(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Un.prototype=ig(Error.prototype),Un.prototype.constructor=Un,Un.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function og(t){function e(n,i,o,s){return(n|0)*3600+(i|0)*60+(o|0)+(s|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function Hc(){this.values=ig(null)}Hc.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function qc(t,e,r,n){var i=n?t.split(n):[t];for(var o in i)if(typeof i[o]=="string"){var s=i[o].split(r);if(s.length===2){var a=s[0].trim(),l=s[1].trim();e(a,l)}}}function z9(t,e,r){var n=t;function i(){var a=og(t);if(a===null)throw new Un(Un.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function o(a,l){var d=new Hc;qc(a,function(f,u){switch(f){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===u){d.set(f,r[h].region);break}break;case"vertical":d.alt(f,u,["rl","lr"]);break;case"line":var p=u.split(","),m=p[0];d.integer(f,m),d.percent(f,m)&&d.set("snapToLines",!1),d.alt(f,m,["auto"]),p.length===2&&d.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=u.split(","),d.percent(f,p[0]),p.length===2&&d.alt("positionAlign",p[1],["start","center","end"]);break;case"size":d.percent(f,u);break;case"align":d.alt(f,u,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=d.get("region",null),l.vertical=d.get("vertical","");try{l.line=d.get("line","auto")}catch{}l.lineAlign=d.get("lineAlign","start"),l.snapToLines=d.get("snapToLines",!0),l.size=d.get("size",100);try{l.align=d.get("align","center")}catch{l.align=d.get("align","middle")}try{l.position=d.get("position","auto")}catch{l.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.substr(0,3)!=="-->")throw new Un(Un.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),s(),e.endTime=i(),s(),o(t,e)}var sg=F_.createElement&&F_.createElement("textarea"),V9={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},U_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},H9={v:"title",lang:"lang"},j_={rt:"ruby"};function $_(t,e){function r(){if(!e)return null;function m(b){return e=e.substr(b.length),b}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return m(y[1]?y[1]:y[2])}function n(m){return sg.innerHTML=m,m=sg.textContent,sg.textContent="",m}function i(m,y){return!j_[y.localName]||j_[y.localName]===m.localName}function o(m,y){var b=V9[m];if(!b)return null;var v=t.document.createElement(b),E=H9[m];return E&&y&&(v[E]=y.trim()),v}for(var s=t.document.createElement("div"),a=s,l,d=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),a=a.parentNode);continue}var f=og(l.substr(1,l.length-2)),u;if(f){u=t.document.createProcessingInstruction("timestamp",f),a.appendChild(u);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(u=o(h[1],h[3]),!u)||!i(a,u))continue;if(h[2]){var p=h[2].split(".");p.forEach(function(m){var y=/^bg_/.test(m),b=y?m.slice(3):m;if(U_.hasOwnProperty(b)){var v=y?"background-color":"color",E=U_[b];u.style[v]=E}}),u.className=p.join(" ")}d.push(h[1]),a.appendChild(u),a=u;continue}a.appendChild(t.document.createTextNode(n(l)))}return s}var z_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function q9(t){for(var e=0;e<z_.length;e++){var r=z_[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function W9(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(a,l){for(var d=l.childNodes.length-1;d>=0;d--)a.push(l.childNodes[d])}function o(a){if(!a||!a.length)return null;var l=a.pop(),d=l.textContent||l.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):d}if(l.tagName==="ruby")return o(a);if(l.childNodes)return i(a,l),o(a)}for(i(e,t);r=o(e);)for(var s=0;s<r.length;s++)if(n=r.charCodeAt(s),q9(n))return"rtl";return"ltr"}function G9(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function cf(){}cf.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},cf.prototype.formatStyle=function(t,e){return t===0?0:t+e};function uf(t,e,r){cf.call(this),this.cue=e,this.cueDiv=$_(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:W9(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}uf.prototype=ig(cf.prototype),uf.prototype.constructor=uf;function sn(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}sn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},sn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},sn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},sn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},sn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},sn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)},sn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},sn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function Q9(t,e,r,n){function i(b,v){for(var E,A=new sn(b),k=1,C=0;C<v.length;C++){for(;b.overlapsOppositeAxis(r,v[C])||b.within(r)&&b.overlapsAny(n);)b.move(v[C]);if(b.within(r))return b;var T=b.intersectPercentage(r);k>T&&(E=new sn(b),k=T),b=new sn(A)}return E||A}var o=new sn(e),s=e.cue,a=G9(s),l=[];if(s.snapToLines){var d;switch(s.vertical){case"":l=["+y","-y"],d="height";break;case"rl":l=["+x","-x"],d="width";break;case"lr":l=["-x","+x"],d="width";break}var f=o.lineHeight,u=f*Math.round(a),h=r[d]+f,p=l[0];Math.abs(u)>h&&(u=u<0?-1:1,u*=Math.ceil(h/f)*f),a<0&&(u+=s.vertical===""?r.height:r.width,l=l.reverse()),o.move(p,u)}else{var m=o.lineHeight/r.height*100;switch(s.lineAlign){case"center":a-=m/2;break;case"end":a-=m;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],o=new sn(e)}var y=i(o,l);e.move(y.toCSSCompatValues(r))}function Ka(){}Ka.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Ka.convertCueToDOMTree=function(t,e){return!t||!e?null:$_(t,e)};var Y9=.05,K9="sans-serif",X9="1.5%";Ka.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=X9,r.appendChild(n);function i(f){for(var u=0;u<f.length;u++)if(f[u].hasBeenReset||!f[u].displayState)return!0;return!1}if(!i(e)){for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState);return}var s=[],a=sn.getSimpleBoxPosition(n),l=Math.round(a.height*Y9*100)/100,d={font:l+"px "+K9};(function(){for(var f,u,h=0;h<e.length;h++)u=e[h],f=new uf(t,u,d),n.appendChild(f.div),Q9(t,f,a,s),u.displayState=f.div,s.push(sn.getSimpleBoxPosition(f))})()},Ka.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},Ka.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Un)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var f=e.buffer,u=0;u<f.length&&f[u]!=="\r"&&f[u]!==`
`;)++u;var h=f.substr(0,u);return f[u]==="\r"&&++u,f[u]===`
`&&++u,e.buffer=f.substr(u),h}function n(f){var u=new Hc;if(qc(f,function(p,m){switch(p){case"id":u.set(p,m);break;case"width":u.percent(p,m);break;case"lines":u.integer(p,m);break;case"regionanchor":case"viewportanchor":var y=m.split(",");if(y.length!==2)break;var b=new Hc;if(b.percent("x",y[0]),b.percent("y",y[1]),!b.has("x")||!b.has("y"))break;u.set(p+"X",b.get("x")),u.set(p+"Y",b.get("y"));break;case"scroll":u.alt(p,m,["up"]);break}},/=/,/\s/),u.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=u.get("width",100),h.lines=u.get("lines",3),h.regionAnchorX=u.get("regionanchorX",0),h.regionAnchorY=u.get("regionanchorY",100),h.viewportAnchorX=u.get("viewportanchorX",0),h.viewportAnchorY=u.get("viewportanchorY",100),h.scroll=u.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:u.get("id"),region:h})}}function i(f){var u=new Hc;qc(f,function(h,p){switch(h){case"MPEGT":u.integer(h+"S",p);break;case"LOCA":u.set(h+"L",og(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:u.get("MPEGTS"),LOCAL:u.get("LOCAL")})}function o(f){f.match(/X-TIMESTAMP-MAP/)?qc(f,function(u,h){switch(u){case"X-TIMESTAMP-MAP":i(h);break}},/=/):qc(f,function(u,h){switch(u){case"Region":n(h);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Un(Un.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=r(),e.state){case"HEADER":/:/.test(s)?o(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{z9(s,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=s.indexOf("-->")!==-1;if(!s||d&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Un(Un.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Z9=Ka,J9="auto",eL={"":1,lr:1,rl:1},tL={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function rL(t){if(typeof t!="string")return!1;var e=eL[t.toLowerCase()];return e?t.toLowerCase():!1}function ag(t){if(typeof t!="string")return!1;var e=tL[t.toLowerCase()];return e?t.toLowerCase():!1}function V_(t,e,r){this.hasBeenReset=!1;var n="",i=!1,o=t,s=e,a=r,l=null,d="",f=!0,u="auto",h="start",p="auto",m="auto",y=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(v){n=""+v}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(v){i=!!v}},startTime:{enumerable:!0,get:function(){return o},set:function(v){if(typeof v!="number")throw new TypeError("Start time must be set to a number.");o=v,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(v){if(typeof v!="number")throw new TypeError("End time must be set to a number.");s=v,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(v){a=""+v,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(v){l=v,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(v){var E=rL(v);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(v){f=!!v,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return u},set:function(v){if(typeof v!="number"&&v!==J9)throw new SyntaxError("Line: an invalid number or illegal string was specified.");u=v,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(v){var E=ag(v);E?(h=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(v){if(v<0||v>100)throw new Error("Position must be between 0 and 100.");p=v,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(v){var E=ag(v);E?(m=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(v){if(v<0||v>100)throw new Error("Size must be between 0 and 100.");y=v,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(v){var E=ag(v);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=E,this.hasBeenReset=!0}}}),this.displayState=void 0}V_.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var nL=V_,iL={"":!0,up:!0};function oL(t){if(typeof t!="string")return!1;var e=iL[t.toLowerCase()];return e?t.toLowerCase():!1}function Wc(t){return typeof t=="number"&&t>=0&&t<=100}function sL(){var t=100,e=3,r=0,n=100,i=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!Wc(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!Wc(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!Wc(a))throw new Error("RegionAnchorY must be between 0 and 100.");r=a}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(a){if(!Wc(a))throw new Error("ViewportAnchorY must be between 0 and 100.");o=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!Wc(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return s},set:function(a){var l=oL(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var aL=sL,xo=lf,$s=P_.exports={WebVTT:Z9,VTTCue:nL,VTTRegion:aL};xo.vttjs=$s,xo.WebVTT=$s.WebVTT;var lL=$s.VTTCue,cL=$s.VTTRegion,uL=xo.VTTCue,dL=xo.VTTRegion;$s.shim=function(){xo.VTTCue=lL,xo.VTTRegion=cL},$s.restore=function(){xo.VTTCue=uL,xo.VTTRegion=dL},xo.VTTCue||$s.shim();var fL=P_.exports;const H_=vn(fL);function yr(){return yr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yr.apply(null,arguments)}var q_={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,d,f){if(f=f||{},l=l.trim(),d=d.trim(),!d){if(!f.alwaysNormalize)return l;var u=a.parseURL(l);if(!u)throw new Error("Error trying to parse base URL.");return u.path=a.normalizePath(u.path),a.buildURLFromParts(u)}var h=a.parseURL(d);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):d;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=i.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(y.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)y.path=p.path,h.params||(y.params=p.params,h.query||(y.query=p.query));else{var b=p.path,v=b.substring(0,b.lastIndexOf("/")+1)+h.path;y.path=a.normalizePath(v)}return y.path===null&&(y.path=f.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(y)},parseURL:function(l){var d=n.exec(l);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(q_);var hL=q_.exports;const W_=vn(hL);var G_="http://example.com",df=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=ee.location&&ee.location.href||"");var n=typeof ee.URL=="function",i=/^\/\//.test(e),o=!ee.location&&!/\/\//i.test(e);if(n?e=new ee.URL(e,ee.location||G_):/\/\//i.test(e)||(e=W_.buildAbsoluteURL(ee.location&&ee.location.href||"",e)),n){var s=new URL(r,e);return o?s.href.slice(G_.length):i?s.href.slice(s.protocol.length):s.href}return W_.buildAbsoluteURL(e,r)},lg=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var o=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(o,1),o>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var o=i.length,s=0;s<o;++s)i[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,d=0;d<l;++d)i[d].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),pL=function(e){return ee.atob?ee.atob(e):Buffer.from(e,"base64").toString("binary")};function mL(t){for(var e=pL(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class gL extends lg{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const yL="	",cg=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},bL=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},jn=function(t){const e={};if(!t)return e;const r=t.split(bL());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class vL extends lg{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((o,s)=>{const a=s(e);return a===e?o:o.concat([a])},[e]).forEach(o=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,o))return;if(o.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:o.slice(1)});return}if(o=o.replace("\r",""),r=/^#EXTM3U/.exec(o),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(o),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(o),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(o),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(o),r){n=yr(cg(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(o),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(o),r){if(n={type:"tag",tagType:"map"},r[1]){const s=jn(r[1]);s.URI&&(n.uri=s.URI),s.BYTERANGE&&(n.byterange=cg(s.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(o),r){if(n={type:"tag",tagType:"stream-inf"},r[1]){if(n.attributes=jn(r[1]),n.attributes.RESOLUTION){const s=n.attributes.RESOLUTION.split("x"),a={};s[0]&&(a.width=parseInt(s[0],10)),s[1]&&(a.height=parseInt(s[1],10)),n.attributes.RESOLUTION=a}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(o),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=jn(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(o),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(o),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(o),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(o),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=jn(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(o),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=jn(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:(.*)?$/.exec(o),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=jn(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(yL)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=jn(r[1]),["DURATION"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/.test(n.attributes[s]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=cg(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=jn(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/.test(n.attributes[s]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=jn(r[1]),["PART-TARGET"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=jn(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(n.attributes.hasOwnProperty(s)){n.attributes[s]=parseInt(n.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[s],delete n.attributes[s]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=jn(r[1]),["LAST-MSN","LAST-PART"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseInt(n.attributes[s],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(o),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=jn(r[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!s.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),d=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):d?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(o),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(o),r){n={type:"tag",tagType:"content-steering"},n.attributes=jn(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:o.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=o=>o),this.customParsers.push(o=>{if(e.exec(o))return this.trigger("data",{type:"custom",data:n(o),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const _L=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Zo=function(t){const e={};return Object.keys(t).forEach(function(r){e[_L(r)]=t[r]}),e},ug=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=r&&r*3,l=n&&n*2;r&&!e.hasOwnProperty(o)&&(e[o]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[o]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[o]}) to targetDuration * 3 (${a})`}),e[o]=a),n&&!e.hasOwnProperty(s)&&(e[s]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[s]}).`})),n&&e[s]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[s]}) to partTargetDuration * 2 (${l}).`}),e[s]=l)};class wL extends lg{constructor(){super(),this.lineStream=new gL,this.parseStream=new vL,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,r=[];let n={},i,o,s=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let u=0,h=0;const p={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&i&&(n.map=i),!n.key&&o&&(n.key=o),!n.timeline&&typeof f=="number"&&(n.timeline=f),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(m){let y,b;({tag(){({version(){m.version&&(this.manifest.version=m.version)},"allow-cache"(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const v={};"length"in m&&(n.byterange=v,v.length=m.length,"offset"in m||(m.offset=u)),"offset"in m&&(n.byterange=v,v.offset=m.offset),u=v.offset+v.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.title&&(n.title=m.title),m.duration>0&&(n.duration=m.duration),m.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){o=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:m.attributes};return}if(m.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:m.attributes.URI};return}if(m.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:mL(m.attributes.URI.split(",")[1])};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(o.iv=m.attributes.IV)},"media-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,f=m.number},"playlist-type"(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map(){i={},m.uri&&(i.uri=m.uri),m.byterange&&(i.byterange=m.byterange),o&&(i.key=o)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),yr(n.attributes,m.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const v=this.manifest.mediaGroups[m.attributes.TYPE];v[m.attributes["GROUP-ID"]]=v[m.attributes["GROUP-ID"]]||{},y=v[m.attributes["GROUP-ID"]],b={default:/yes/i.test(m.attributes.DEFAULT)},b.default?b.autoselect=!0:b.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(b.language=m.attributes.LANGUAGE),m.attributes.URI&&(b.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(b.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(b.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(b.forced=/yes/i.test(m.attributes.FORCED)),y[m.attributes.NAME]=b},discontinuity(){f+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),n.dateTimeString=m.dateTimeString,n.dateTimeObject=m.dateTimeObject;const{lastProgramDateTime:v}=this;this.lastProgramDateTime=new Date(m.dateTimeString).getTime(),v===null&&this.manifest.segments.reduceRight((E,A)=>(A.programDateTime=E-A.duration*1e3,A.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration,ug.call(this,this.manifest)},start(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out"(){n.cueOut=m.data},"cue-out-cont"(){n.cueOutCont=m.data},"cue-in"(){n.cueIn=m.data},skip(){this.manifest.skip=Zo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",m.attributes,["SKIPPED-SEGMENTS"])},part(){s=!0;const v=this.manifest.segments.length,E=Zo(m.attributes);n.parts=n.parts||[],n.parts.push(E),E.byterange&&(E.byterange.hasOwnProperty("offset")||(E.byterange.offset=h),h=E.byterange.offset+E.byterange.length);const A=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${A} for segment #${v}`,m.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((k,C)=>{k.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${C} lacks required attribute(s): LAST-PART`})})},"server-control"(){const v=this.manifest.serverControl=Zo(m.attributes);v.hasOwnProperty("canBlockReload")||(v.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),ug.call(this,this.manifest),v.canSkipDateranges&&!v.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const v=this.manifest.segments.length,E=Zo(m.attributes),A=E.type&&E.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(E),E.byterange&&(E.byterange.hasOwnProperty("offset")||(E.byterange.offset=A?h:0,A&&(h=E.byterange.offset+E.byterange.length)));const k=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${k} for segment #${v}`,m.attributes,["TYPE","URI"]),!!E.type)for(let C=0;C<n.preloadHints.length-1;C++){const T=n.preloadHints[C];T.type&&T.type===E.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${k} for segment #${v} has the same TYPE ${E.type} as preload hint #${C}`})}},"rendition-report"(){const v=Zo(m.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(v);const E=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];s&&A.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${E}`,m.attributes,A)},"part-inf"(){this.manifest.partInf=Zo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",m.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),ug.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Zo(m.attributes));const v=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${v}`,m.attributes,["ID","START-DATE"]);const E=this.manifest.dateRanges[v];E.endDate&&E.startDate&&new Date(E.endDate)<new Date(E.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),E.duration&&E.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),E.plannedDuration&&E.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const A=!!E.endOnNext;if(A&&!E.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),A&&(E.duration||E.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),E.duration&&E.endDate){const C=E.startDate.getTime()+E.duration*1e3;this.manifest.dateRanges[v].endDate=new Date(C)}if(!p[E.id])p[E.id]=E;else{for(const C in p[E.id])if(E[C]&&JSON.stringify(p[E.id][C])!==JSON.stringify(E[C])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const k=this.manifest.dateRanges.findIndex(C=>C.id===E.id);this.manifest.dateRanges[k]=yr(this.manifest.dateRanges[k],E),p[E.id]=yr(p[E.id],E),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=Zo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",m.attributes,["SERVER-URI"])}}[m.tagType]||a).call(e)},uri(){n.uri=m.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),o&&(n.key=o),n.timeline=f,i&&(n.map=i),h=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){m.segment?(n.custom=n.custom||{},n.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(e)})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(o){r.hasOwnProperty(o)||i.push(o)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var zs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},xL=["video","audio","text"],Q_=["Video","Audio","Text"],Y_=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var o=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(i).toString(16)).slice(-2);return"avc1."+o+"00"+s})},Wi=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var o;xL.forEach(function(s){var a=zs[s].exec(i.toLowerCase());if(!(!a||a.length<=1)){o=s;var l=i.substring(0,a[1].length),d=i.replace(l,"");n.push({type:l,details:d,mediaType:s})}}),o||n.push({type:i,details:"",mediaType:"unknown"})}),n},TL=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var o=n[i];if(o.default&&o.playlists)return Wi(o.playlists[0].attributes.CODECS)}return null},K_=function(e){return e===void 0&&(e=""),zs.audio.test(e.trim().toLowerCase())},AL=function(e){return e===void 0&&(e=""),zs.text.test(e.trim().toLowerCase())},Gc=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(o){return Y_(o.trim())}),n="video";r.length===1&&K_(r[0])?n="audio":r.length===1&&AL(r[0])&&(n="application");var i="mp4";return r.every(function(o){return zs.mp4.test(o)})?i="mp4":r.every(function(o){return zs.webm.test(o)})?i="webm":r.every(function(o){return zs.ogg.test(o)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},ff=function(e){return e===void 0&&(e=""),ee.MediaSource&&ee.MediaSource.isTypeSupported&&ee.MediaSource.isTypeSupported(Gc(e))||!1},dg=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<Q_.length;n++){var i=Q_[n];if(zs["muxer"+i].test(r))return!0}return!1})},X_="mp4a.40.2",CL="avc1.4d400d",SL=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,EL=/^application\/dash\+xml/i,Z_=function(e){return SL.test(e)?"hls":EL.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},kL=function(e){return e.toString(2).length},IL=function(e){return Math.ceil(kL(e)/8)},J_=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},DL=function(e){return J_(e)},et=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!DL(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},jr=ee.BigInt||Number,fg=[jr("0x1"),jr("0x100"),jr("0x10000"),jr("0x1000000"),jr("0x100000000"),jr("0x10000000000"),jr("0x1000000000000"),jr("0x100000000000000"),jr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var ML=function(e,r){var n=r===void 0?{}:r,i=n.signed,o=i===void 0?!1:i,s=n.le,a=s===void 0?!1:s;e=et(e);var l=a?"reduce":"reduceRight",d=e[l]?e[l]:Array.prototype[l],f=d.call(e,function(h,p,m){var y=a?m:Math.abs(m+1-e.length);return h+jr(p)*fg[y]},jr(0));if(o){var u=fg[e.length]/jr(2)-jr(1);f=jr(f),f>u&&(f-=u,f-=u,f-=jr(2))}return Number(f)},NL=function(e,r){var n={},i=n.le,o=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=jr(e);for(var s=IL(e),a=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var d=o?l:Math.abs(l+1-a.length);a[d]=Number(e/fg[l]&jr(255)),e<0&&(a[d]=Math.abs(~a[d]),a[d]-=l===0?1:2)}return a},ew=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},OL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),r.length<=1)return et(r[0]);var i=r.reduce(function(a,l,d){return a+(l.byteLength||l.length)},0),o=new Uint8Array(i),s=0;return r.forEach(function(a){a=et(a),o.set(a,s),s+=a.byteLength}),o},er=function(e,r,n){var i=n===void 0?{}:n,o=i.offset,s=o===void 0?0:o,a=i.mask,l=a===void 0?[]:a;e=et(e),r=et(r);var d=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&d.call(r,function(f,u){var h=l[u]?l[u]&e[s+u]:e[s+u];return f===h})},LL=function(e,r,n){r.forEach(function(i){for(var o in e.mediaGroups[i])for(var s in e.mediaGroups[i][o]){var a=e.mediaGroups[i][o][s];n(a,i,o,s)}})},BL=function(e){return ee.atob?ee.atob(e):Buffer.from(e,"base64").toString("binary")};function RL(t){for(var e=BL(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var Jo={},To={};function PL(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function hg(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function FL(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var tw=hg({HTML:"text/html",isHTML:function(t){return t===tw.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),rw=hg({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===rw.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});To.assign=FL,To.find=PL,To.freeze=hg,To.MIME_TYPE=tw,To.NAMESPACE=rw;var nw=To,Gi=nw.find,Qc=nw.NAMESPACE;function UL(t){return t!==""}function jL(t){return t?t.split(/[\t\n\f\r ]+/).filter(UL):[]}function $L(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function iw(t){if(!t)return[];var e=jL(t);return Object.keys(e.reduce($L,{}))}function zL(t){return function(e){return t&&t.indexOf(e)!==-1}}function Yc(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function xn(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,Yc(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Tn={},Ci=Tn.ELEMENT_NODE=1,Xa=Tn.ATTRIBUTE_NODE=2,hf=Tn.TEXT_NODE=3,ow=Tn.CDATA_SECTION_NODE=4,sw=Tn.ENTITY_REFERENCE_NODE=5,VL=Tn.ENTITY_NODE=6,aw=Tn.PROCESSING_INSTRUCTION_NODE=7,lw=Tn.COMMENT_NODE=8,cw=Tn.DOCUMENT_NODE=9,uw=Tn.DOCUMENT_TYPE_NODE=10,Ao=Tn.DOCUMENT_FRAGMENT_NODE=11,HL=Tn.NOTATION_NODE=12,Wr={},Lr={};Wr.INDEX_SIZE_ERR=(Lr[1]="Index size error",1),Wr.DOMSTRING_SIZE_ERR=(Lr[2]="DOMString size error",2);var An=Wr.HIERARCHY_REQUEST_ERR=(Lr[3]="Hierarchy request error",3);Wr.WRONG_DOCUMENT_ERR=(Lr[4]="Wrong document",4),Wr.INVALID_CHARACTER_ERR=(Lr[5]="Invalid character",5),Wr.NO_DATA_ALLOWED_ERR=(Lr[6]="No data allowed",6),Wr.NO_MODIFICATION_ALLOWED_ERR=(Lr[7]="No modification allowed",7);var dw=Wr.NOT_FOUND_ERR=(Lr[8]="Not found",8);Wr.NOT_SUPPORTED_ERR=(Lr[9]="Not supported",9);var fw=Wr.INUSE_ATTRIBUTE_ERR=(Lr[10]="Attribute in use",10);Wr.INVALID_STATE_ERR=(Lr[11]="Invalid state",11),Wr.SYNTAX_ERR=(Lr[12]="Syntax error",12),Wr.INVALID_MODIFICATION_ERR=(Lr[13]="Invalid modification",13),Wr.NAMESPACE_ERR=(Lr[14]="Invalid namespace",14),Wr.INVALID_ACCESS_ERR=(Lr[15]="Invalid access",15);function br(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Lr[t]),this.message=Lr[t],Error.captureStackTrace&&Error.captureStackTrace(this,br);return r.code=t,e&&(this.message=this.message+": "+e),r}br.prototype=Error.prototype,Yc(Wr,br);function Co(){}Co.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Ja(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Za(t,e){this._node=t,this._refresh=e,pg(this)}function pg(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(Iw(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Yc(r,t),t._inc=e}}Za.prototype.item=function(t){return pg(this),this[t]||null},xn(Za,Co);function pf(){}function hw(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function pw(t,e,r,n){if(n?e[hw(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&bw(i,t,n),qL(i,t,r))}}function mw(t,e,r){var n=hw(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(bw(o,t,r),r.ownerElement=null)}}else throw new br(dw,new Error(t.tagName+"@"+r))}pf.prototype={length:0,item:Co.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new br(fw);var r=this.getNamedItem(t.nodeName);return pw(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new br(fw);return r=this.getNamedItemNS(t.namespaceURI,t.localName),pw(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return mw(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return mw(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function gw(){}gw.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new Xc;if(n.implementation=this,n.childNodes=new Co,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new yf;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Ut(){}Ut.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return mf(this,t,e)},replaceChild:function(t,e){mf(this,t,e,xw),e&&this.removeChild(e)},removeChild:function(t){return vw(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Tg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==hf&&t.nodeType==hf?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==Xa?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Xa?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function yw(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Yc(Tn,Ut),Yc(Tn,Ut.prototype);function Kc(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Kc(t,e))return!0;while(t=t.nextSibling)}function Xc(){this.ownerDocument=this}function qL(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Qc.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function bw(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Qc.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function mg(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o,delete n[n.length]}}}function vw(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,mg(t.ownerDocument,t),e}function WL(t){return t&&(t.nodeType===Ut.DOCUMENT_NODE||t.nodeType===Ut.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ut.ELEMENT_NODE)}function GL(t){return t&&(Qi(t)||gg(t)||So(t)||t.nodeType===Ut.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ut.COMMENT_NODE||t.nodeType===Ut.PROCESSING_INSTRUCTION_NODE)}function So(t){return t&&t.nodeType===Ut.DOCUMENT_TYPE_NODE}function Qi(t){return t&&t.nodeType===Ut.ELEMENT_NODE}function gg(t){return t&&t.nodeType===Ut.TEXT_NODE}function _w(t,e){var r=t.childNodes||[];if(Gi(r,Qi)||So(e))return!1;var n=Gi(r,So);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function ww(t,e){var r=t.childNodes||[];function n(o){return Qi(o)&&o!==e}if(Gi(r,n))return!1;var i=Gi(r,So);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function QL(t,e,r){if(!WL(t))throw new br(An,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new br(dw,"child not in parent");if(!GL(e)||So(e)&&t.nodeType!==Ut.DOCUMENT_NODE)throw new br(An,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function YL(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ut.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Qi);if(o.length>1||Gi(i,gg))throw new br(An,"More than one element or text in fragment");if(o.length===1&&!_w(t,r))throw new br(An,"Element in fragment can not be inserted before doctype")}if(Qi(e)&&!_w(t,r))throw new br(An,"Only one element can be added and only after doctype");if(So(e)){if(Gi(n,So))throw new br(An,"Only one doctype is allowed");var s=Gi(n,Qi);if(r&&n.indexOf(s)<n.indexOf(r))throw new br(An,"Doctype can only be inserted before an element");if(!r&&s)throw new br(An,"Doctype can not be appended since element is present")}}function xw(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ut.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Qi);if(o.length>1||Gi(i,gg))throw new br(An,"More than one element or text in fragment");if(o.length===1&&!ww(t,r))throw new br(An,"Element in fragment can not be inserted before doctype")}if(Qi(e)&&!ww(t,r))throw new br(An,"Only one element can be added and only after doctype");if(So(e)){if(Gi(n,function(l){return So(l)&&l!==r}))throw new br(An,"Only one doctype is allowed");var s=Gi(n,Qi);if(r&&n.indexOf(s)<n.indexOf(r))throw new br(An,"Doctype can only be inserted before an element")}}function mf(t,e,r,n){QL(t,e,r),t.nodeType===Ut.DOCUMENT_NODE&&(n||YL)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Ao){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=r?r.previousSibling:t.lastChild;o.previousSibling=a,s.nextSibling=r,a?a.nextSibling=o:t.firstChild=o,r==null?t.lastChild=s:r.previousSibling=s;do o.parentNode=t;while(o!==s&&(o=o.nextSibling));return mg(t.ownerDocument||t,t),e.nodeType==Ao&&(e.firstChild=e.lastChild=null),e}function KL(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,mg(t.ownerDocument,t,e),e}Xc.prototype={nodeName:"#document",nodeType:cw,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ao){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return mf(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Ci&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),vw(this,t)},replaceChild:function(t,e){mf(this,t,e,xw),t.ownerDocument=this,e&&this.removeChild(e),Qi(t)&&(this.documentElement=t)},importNode:function(t,e){return kw(this,t,e)},getElementById:function(t){var e=null;return Kc(this.documentElement,function(r){if(r.nodeType==Ci&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=iw(t);return new Za(this,function(r){var n=[];return e.length>0&&Kc(r.documentElement,function(i){if(i!==r&&i.nodeType===Ci){var o=i.getAttribute("class");if(o){var s=t===o;if(!s){var a=iw(o);s=e.every(zL(a))}s&&n.push(i)}}}),n})},createElement:function(t){var e=new Vs;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Co;var r=e.attributes=new pf;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new bf;return t.ownerDocument=this,t.childNodes=new Co,t},createTextNode:function(t){var e=new yg;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new bg;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new vg;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new wg;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new gf;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new _g;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Vs,n=e.split(":"),i=r.attributes=new pf;return r.childNodes=new Co,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new gf,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},xn(Xc,Ut);function Vs(){this._nsMap={}}Vs.prototype={nodeType:Ci,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ao?this.insertBefore(t,null):KL(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Za(this,function(e){var r=[];return Kc(e,function(n){n!==e&&n.nodeType==Ci&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new Za(this,function(r){var n=[];return Kc(r,function(i){i!==r&&i.nodeType===Ci&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}},Xc.prototype.getElementsByTagName=Vs.prototype.getElementsByTagName,Xc.prototype.getElementsByTagNameNS=Vs.prototype.getElementsByTagNameNS,xn(Vs,Ut);function gf(){}gf.prototype.nodeType=Xa,xn(gf,Ut);function Zc(){}Zc.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Lr[An])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}},xn(Zc,Ut);function yg(){}yg.prototype={nodeName:"#text",nodeType:hf,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},xn(yg,Zc);function bg(){}bg.prototype={nodeName:"#comment",nodeType:lw},xn(bg,Zc);function vg(){}vg.prototype={nodeName:"#cdata-section",nodeType:ow},xn(vg,Zc);function yf(){}yf.prototype.nodeType=uw,xn(yf,Ut);function Tw(){}Tw.prototype.nodeType=HL,xn(Tw,Ut);function Aw(){}Aw.prototype.nodeType=VL,xn(Aw,Ut);function _g(){}_g.prototype.nodeType=sw,xn(_g,Ut);function bf(){}bf.prototype.nodeName="#document-fragment",bf.prototype.nodeType=Ao,xn(bf,Ut);function wg(){}wg.prototype.nodeType=aw,xn(wg,Ut);function Cw(){}Cw.prototype.serializeToString=function(t,e,r){return Sw.call(t,e,r)},Ut.prototype.toString=Sw;function Sw(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&i==null){var i=n.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return Ja(this,r,t,e,s),r.join("")}function Ew(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Qc.XML||i===Qc.XMLNS)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix===n)return s.namespace!==i}return!0}function xg(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,yw),'"')}function Ja(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Ci:var o=t.attributes,s=o.length,v=t.firstChild,a=t.tagName;r=Qc.isHTML(t.namespaceURI)||r;var l=a;if(!r&&!t.prefix&&t.namespaceURI){for(var d,f=0;f<o.length;f++)if(o.item(f).name==="xmlns"){d=o.item(f).value;break}if(!d)for(var u=i.length-1;u>=0;u--){var h=i[u];if(h.prefix===""&&h.namespace===t.namespaceURI){d=h.namespace;break}}if(d!==t.namespaceURI)for(var u=i.length-1;u>=0;u--){var h=i[u];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var p=0;p<s;p++){var m=o.item(p);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var p=0;p<s;p++){var m=o.item(p);if(Ew(m,r,i)){var y=m.prefix||"",b=m.namespaceURI;xg(e,y?"xmlns:"+y:"xmlns",b),i.push({prefix:y,namespace:b})}Ja(m,e,r,n,i)}if(a===l&&Ew(t,r,i)){var y=t.prefix||"",b=t.namespaceURI;xg(e,y?"xmlns:"+y:"xmlns",b),i.push({prefix:y,namespace:b})}if(v||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;v;)v.data?e.push(v.data):Ja(v,e,r,n,i.slice()),v=v.nextSibling;else for(;v;)Ja(v,e,r,n,i.slice()),v=v.nextSibling;e.push("</",l,">")}else e.push("/>");return;case cw:case Ao:for(var v=t.firstChild;v;)Ja(v,e,r,n,i.slice()),v=v.nextSibling;return;case Xa:return xg(e,t.name,t.value);case hf:return e.push(t.data.replace(/[<&>]/g,yw));case ow:return e.push("<![CDATA[",t.data,"]]>");case lw:return e.push("<!--",t.data,"-->");case uw:var E=t.publicId,A=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),A&&A!="."&&e.push(" ",A),e.push(">");else if(A&&A!=".")e.push(" SYSTEM ",A,">");else{var k=t.internalSubset;k&&e.push(" [",k,"]"),e.push(">")}return;case aw:return e.push("<?",t.target," ",t.data,"?>");case sw:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function kw(t,e,r){var n;switch(e.nodeType){case Ci:n=e.cloneNode(!1),n.ownerDocument=t;case Ao:break;case Xa:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(kw(t,i,r)),i=i.nextSibling;return n}function Tg(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o!="object"&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new Co),n.ownerDocument=t,n.nodeType){case Ci:var s=e.attributes,a=n.attributes=new pf,l=s.length;a._ownerElement=n;for(var d=0;d<l;d++)n.setAttributeNode(Tg(t,s.item(d),!0));break;case Xa:r=!0}if(r)for(var f=e.firstChild;f;)n.appendChild(Tg(t,f,r)),f=f.nextSibling;return n}function Iw(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Ci:case Ao:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Za.prototype,"length",{get:function(){return pg(this),this.$$length}}),Object.defineProperty(Ut.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Ci:case Ao:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Iw=function(e,r,n){e["$$"+r]=n}}}catch{}Jo.DocumentType=yf,Jo.DOMException=br,Jo.DOMImplementation=gw,Jo.Element=Vs,Jo.Node=Ut,Jo.NodeList=Co,Jo.XMLSerializer=Cw;var vf={},Dw={};(function(t){var e=To.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(Dw);var Ag={},Jc=To.NAMESPACE,Cg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Mw=new RegExp("[\\-\\.0-9"+Cg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Nw=new RegExp("^"+Cg.source+Mw.source+"*(?::"+Cg.source+Mw.source+"*)?$"),eu=0,es=1,el=2,tu=3,tl=4,rl=5,ru=6,_f=7;function nl(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,nl)}nl.prototype=new Error,nl.prototype.name=nl.name;function Ow(){}Ow.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),Rw(e,e={}),XL(t,e,r,n,this.errorHandler),n.endDocument()}};function XL(t,e,r,n,i){function o(B){if(B>65535){B-=65536;var j=55296+(B>>10),re=56320+(B&1023);return String.fromCharCode(j,re)}else return String.fromCharCode(B)}function s(B){var j=B.slice(1,-1);return Object.hasOwnProperty.call(r,j)?r[j]:j.charAt(0)==="#"?o(parseInt(j.substr(1).replace("x","0x"))):(i.error("entity not found:"+B),B)}function a(B){if(B>y){var j=t.substring(y,B).replace(/&#?\w+;/g,s);h&&l(y),n.characters(j,0,B-y),y=B}}function l(B,j){for(;B>=f&&(j=u.exec(t));)d=j.index,f=d+j[0].length,h.lineNumber++;h.columnNumber=B-d+1}for(var d=0,f=0,u=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,p=[{currentNSMap:e}],m={},y=0;;){try{var b=t.indexOf("<",y);if(b<0){if(!t.substr(y).match(/^\s*$/)){var v=n.doc,E=v.createTextNode(t.substr(y));v.appendChild(E),n.currentElement=E}return}switch(b>y&&a(b),t.charAt(b+1)){case"/":var z=t.indexOf(">",b+3),A=t.substring(b+2,z).replace(/[ \t\n\r]+$/g,""),k=p.pop();z<0?(A=t.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+A+" is not complete:"+k.tagName),z=b+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),i.error("end tag name: "+A+" maybe not complete"),z=b+1+A.length);var C=k.localNSMap,T=k.tagName==A,O=T||k.tagName&&k.tagName.toLowerCase()==A.toLowerCase();if(O){if(n.endElement(k.uri,k.localName,A),C)for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&n.endPrefixMapping(D);T||i.fatalError("end tag name: "+A+" is not match the current start tagName:"+k.tagName)}else p.push(k);z++;break;case"?":h&&l(b),z=rB(t,b,n);break;case"!":h&&l(b),z=tB(t,b,n,i);break;default:h&&l(b);var S=new Pw,R=p[p.length-1].currentNSMap,z=ZL(t,b,S,R,s,i),F=S.length;if(!S.closed&&eB(t,z,S.tagName,m)&&(S.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&F){for(var P=Lw(h,{}),$=0;$<F;$++){var W=S[$];l(W.offset),W.locator=Lw(h,{})}n.locator=P,Bw(S,n,R)&&p.push(S),n.locator=h}else Bw(S,n,R)&&p.push(S);Jc.isHTML(S.uri)&&!S.closed?z=JL(t,z,S.tagName,s,n):z++}}catch(B){if(B instanceof nl)throw B;i.error("element parse error: "+B),z=-1}z>y?y=z:a(Math.max(b,y)+1)}}function Lw(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function ZL(t,e,r,n,i,o){function s(h,p,m){r.attributeNames.hasOwnProperty(h)&&o.fatalError("Attribute "+h+" redefined"),r.addValue(h,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),m)}for(var a,l,d=++e,f=eu;;){var u=t.charAt(d);switch(u){case"=":if(f===es)a=t.slice(e,d),f=tu;else if(f===el)f=tu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===tu||f===es)if(f===es&&(o.warning('attribute value must after "="'),a=t.slice(e,d)),e=d+1,d=t.indexOf(u,e),d>0)l=t.slice(e,d),s(a,l,e-1),f=rl;else throw new Error("attribute value no end '"+u+"' match");else if(f==tl)l=t.slice(e,d),s(a,l,e),o.warning('attribute "'+a+'" missed start quot('+u+")!!"),e=d+1,f=rl;else throw new Error('attribute value must after "="');break;case"/":switch(f){case eu:r.setTagName(t.slice(e,d));case rl:case ru:case _f:f=_f,r.closed=!0;case tl:case es:break;case el:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),f==eu&&r.setTagName(t.slice(e,d)),d;case">":switch(f){case eu:r.setTagName(t.slice(e,d));case rl:case ru:case _f:break;case tl:case es:l=t.slice(e,d),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case el:f===el&&(l=a),f==tl?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!Jc.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case tu:throw new Error("attribute value missed!!")}return d;case"":u=" ";default:if(u<=" ")switch(f){case eu:r.setTagName(t.slice(e,d)),f=ru;break;case es:a=t.slice(e,d),f=el;break;case tl:var l=t.slice(e,d);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case rl:f=ru;break}else switch(f){case el:r.tagName,(!Jc.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=d,f=es;break;case rl:o.warning('attribute space is required"'+a+'"!!');case ru:f=es,e=d;break;case tu:f=tl,e=d;break;case _f:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function Bw(t,e,r){for(var n=t.tagName,i=null,u=t.length;u--;){var o=t[u],s=o.qName,a=o.value,h=s.indexOf(":");if(h>0)var l=o.prefix=s.slice(0,h),d=s.slice(h+1),f=l==="xmlns"&&d;else d=s,l=null,f=s==="xmlns"&&"";o.localName=d,f!==!1&&(i==null&&(i={},Rw(r,r={})),r[f]=i[f]=a,o.uri=Jc.XMLNS,e.startPrefixMapping(f,a))}for(var u=t.length;u--;){o=t[u];var l=o.prefix;l&&(l==="xml"&&(o.uri=Jc.XML),l!=="xmlns"&&(o.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),d=t.localName=n.slice(h+1)):(l=null,d=t.localName=n);var p=t.uri=r[l||""];if(e.startElement(p,d,n,t),t.closed){if(e.endElement(p,d,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function JL(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function eB(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function Rw(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function tB(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(r.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,o-e-9),r.endCDATA(),o+3}var s=nB(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],d=!1,f=!1;a>3&&(/^public$/i.test(s[2][0])?(d=s[3][0],f=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var u=s[a-1];return r.startDTD(l,d,f),r.endDTD(),u.index+u[0].length}}return-1}function rB(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function Pw(){this.attributeNames={}}Pw.prototype={setTagName:function(t){if(!Nw.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!Nw.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function nB(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}Ag.XMLReader=Ow,Ag.ParseError=nl;var iB=To,oB=Jo,Fw=Dw,Uw=Ag,sB=oB.DOMImplementation,jw=iB.NAMESPACE,aB=Uw.ParseError,lB=Uw.XMLReader;function $w(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function zw(t){this.options=t||{locator:{}}}zw.prototype.parseFromString=function(t,e){var r=this.options,n=new lB,i=r.domBuilder||new nu,o=r.errorHandler,s=r.locator,a=r.xmlns||{},l=/\/x?html?$/.test(e),d=l?Fw.HTML_ENTITIES:Fw.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=cB(o,i,s),n.domBuilder=r.domBuilder||i,l&&(a[""]=jw.HTML),a.xml=a.xml||jw.XML;var f=r.normalizeLineEndings||$w;return t&&typeof t=="string"?n.parse(f(t),a,d):n.errorHandler.error("invalid doc source"),i.doc};function cB(t,e,r){if(!t){if(e instanceof nu)return e;t=e}var n={},i=t instanceof Function;r=r||{};function o(s){var a=t[s];!a&&i&&(a=t.length==2?function(l){t(s,l)}:t),n[s]=a&&function(l){a("[xmldom "+s+"]	"+l+Sg(r))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function nu(){this.cdata=!1}function il(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}nu.prototype={startDocument:function(){this.doc=new sB().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,o=i.createElementNS(t,r||e),s=n.length;wf(this,o),this.currentElement=o,this.locator&&il(this.locator,o);for(var a=0;a<s;a++){var t=n.getURI(a),l=n.getValue(a),r=n.getQName(a),d=i.createAttributeNS(t,r);this.locator&&il(n.getLocator(a),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&il(this.locator,r),wf(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=Vw.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&il(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=Vw.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&il(this.locator,n),wf(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&il(this.locator,i),wf(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,Sg(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Sg(this.locator))},fatalError:function(t){throw new aB(t,this.locator)}};function Sg(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Vw(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){nu.prototype[t]=function(){return null}});function wf(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}vf.__DOMHandler=nu,vf.normalizeLineEndings=$w,vf.DOMParser=zw;var uB=vf.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const Hw=t=>!!t&&typeof t=="object",Br=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):Hw(e[n])&&Hw(r[n])?e[n]=Br(e[n],r[n]):e[n]=r[n]}),e),{}),qw=t=>Object.keys(t).map(e=>t[e]),dB=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},ol=t=>t.reduce((e,r)=>e.concat(r),[]),Ww=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},fB=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),hB=(t,e)=>qw(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var sl={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const iu=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:df(t||"",e)};if(r||n){const s=(r||n).split("-");let a=ee.BigInt?ee.BigInt(s[0]):parseInt(s[0],10),l=ee.BigInt?ee.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let d;typeof l=="bigint"||typeof a=="bigint"?d=ee.BigInt(l)-ee.BigInt(a)+ee.BigInt(1):d=l-a+1,typeof d=="bigint"&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),i.byterange={length:d,offset:a}}return i},pB=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ee.BigInt(t.offset)+ee.BigInt(t.length)-ee.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},Gw=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),mB={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,o=Gw(t.endNumber),s=e/r;return typeof o=="number"?{start:0,end:o}:typeof i=="number"?{start:0,end:i/s}:{start:0,end:n/s}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,d=Gw(t.endNumber),f=(e+r)/1e3,u=n+s,p=f+a-u,m=Math.ceil(p*i/o),y=Math.floor((f-u-l)*i/o),b=Math.floor((f-u)*i/o);return{start:Math.max(0,y),end:typeof d=="number"?d:Math.min(m,b)}}},gB=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:o=1}=t;return{number:o+e,duration:r/n,timeline:i,time:e*r}},Eg=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:o}=t,{start:s,end:a}=mB[e](t),l=dB(s,a).map(gB(t));if(e==="static"){const d=l.length-1,f=typeof i=="number"?i:o;l[d].duration=f-r/n*d}return l},Qw=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:o,presentationTime:s,number:a=0,duration:l}=t;if(!e)throw new Error(sl.NO_BASE_URL);const d=iu({baseUrl:e,source:r.sourceURL,range:r.range}),f=iu({baseUrl:e,source:e,indexRange:i});if(f.map=d,l){const u=Eg(t);u.length&&(f.duration=u[0].duration,f.timeline=u[0].timeline)}else n&&(f.duration=n,f.timeline=o);return f.presentationTime=s||o,f.number=a,[f]},kg=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,o=t.timeline||0,s=t.sidx.byterange,a=s.offset+s.length,l=e.timescale,d=e.references.filter(b=>b.referenceType!==1),f=[],u=t.endList?"static":"dynamic",h=t.sidx.timeline;let p=h,m=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=ee.BigInt(a)+e.firstOffset:y=a+e.firstOffset;for(let b=0;b<d.length;b++){const v=e.references[b],E=v.referencedSize,A=v.subsegmentDuration;let k;typeof y=="bigint"?k=y+ee.BigInt(E)-ee.BigInt(1):k=y+E-1;const C=`${y}-${k}`,O=Qw({baseUrl:r,timescale:l,timeline:o,periodStart:h,presentationTime:p,number:m,duration:A,sourceDuration:i,indexRange:C,type:u})[0];n&&(O.map=n),f.push(O),typeof y=="bigint"?y+=ee.BigInt(E):y+=E,p+=A/l,m++}return t.segments=f,t},yB=["AUDIO","SUBTITLES"],bB=1/60,Yw=t=>hB(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),vB=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},Kw=t=>{let e=[];return LL(t,yB,(r,n,i,o)=>{e=e.concat(r.playlists||[])}),e},Xw=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},_B=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:l}){return l===n.timeline});const i=vB(t,n.attributes.NAME);if(!i||n.sidx)return;const o=n.segments[0],s=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-o.presentationTime)<bB});if(s===-1){Xw({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[s].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),Xw({playlist:n,mediaSequence:i.segments[s].number})})},wB=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(Kw(t)),n=e.playlists.concat(Kw(e));return e.timelineStarts=Yw([t.timelineStarts,e.timelineStarts]),_B({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},xf=t=>t&&t.uri+"-"+pB(t.byterange),Ig=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=qw(n.reduce((o,s)=>{const a=s.attributes.id+(s.attributes.lang||"");return o[a]?(s.segments&&(s.segments[0]&&(s.segments[0].discontinuity=!0),o[a].segments.push(...s.segments)),s.attributes.contentProtection&&(o[a].attributes.contentProtection=s.attributes.contentProtection)):(o[a]=s,o[a].attributes.timelineStarts=[]),o[a].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),o},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=fB(n.segments||[],"discontinuity"),n))},Dg=(t,e)=>{const r=xf(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&kg(t,n,t.sidx.resolvedUri),t},xB=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=Dg(t[r],e);return t},TB=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:o},s)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:o,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),r&&(a.sidx=r),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},AB=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const o={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(o.CODECS=t.codecs);const s={attributes:o,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),s},CB=(t,e={},r=!1)=>{let n;const i=t.reduce((o,s)=>{const a=s.attributes.role&&s.attributes.role.value||"",l=s.attributes.lang||"";let d=s.attributes.label||"main";if(l&&!s.attributes.label){const u=a?` (${a})`:"";d=`${s.attributes.lang}${u}`}o[d]||(o[d]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const f=Dg(TB(s,r),e);return o[d].playlists.push(f),typeof n>"u"&&a==="main"&&(n=s,n.default=!0),o},{});if(!n){const o=Object.keys(i)[0];i[o].default=!0}return i},SB=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return r[i]||(r[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(Dg(AB(n),e)),r},{}),EB=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:o}=n;e[o]={autoselect:!1,default:!1,instreamId:i,language:o},n.hasOwnProperty("aspectRatio")&&(e[o].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[o].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[o]["3D"]=n["3D"])}),e),{}),kB=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},IB=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",DB=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",MB=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",NB=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},Zw=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],OB=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:o})=>{if(!t.length)return{};const{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:d}=t[0].attributes,f=Ig(t.filter(IB)).map(kB),u=Ig(t.filter(DB)),h=Ig(t.filter(MB)),p=t.map(k=>k.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:xB(f,n)};d>=0&&(m.minimumUpdatePeriod=d*1e3),e&&(m.locations=e),r&&(m.contentSteering=r),a==="dynamic"&&(m.suggestedPresentationDelay=l),o&&o.length>0&&(m.eventStream=o);const y=m.playlists.length===0,b=u.length?CB(u,n,y):null,v=h.length?SB(h,n):null,E=f.concat(Zw(b),Zw(v)),A=E.map(({timelineStarts:k})=>k);return m.timelineStarts=Yw(A),NB(E,m.timelineStarts),b&&(m.mediaGroups.AUDIO.audio=b),v&&(m.mediaGroups.SUBTITLES.subs=v),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=EB(p)),i?wB({oldManifest:i,newManifest:m}):m},LB=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,d=(n+i)/1e3,f=o+a,h=d+l-f;return Math.ceil((h*s-e)/r)},Jw=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=t,d=[];let f=-1;for(let u=0;u<e.length;u++){const h=e[u],p=h.d,m=h.r||0,y=h.t||0;f<0&&(f=y),y&&y>f&&(f=y);let b;if(m<0){const A=u+1;A===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?b=LB(t,f,p):b=(o*s-f)/p:b=(e[A].t-f)/p}else b=m+1;const v=a+d.length+b;let E=a+d.length;for(;E<v;)d.push({number:E,duration:p/s,time:f,timeline:l}),f+=p,E++}return d},BB=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,RB=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const o=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,o.length>=i)?o:`${new Array(i-o.length+1).join("0")}${o}`},ex=(t,e)=>t.replace(BB,RB(e)),PB=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?Eg(t):Jw(t,e),FB=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=iu({baseUrl:t.baseUrl,source:ex(n.sourceURL,r),range:n.range});return PB(t,e).map(s=>{r.Number=s.number,r.Time=s.time;const a=ex(t.media||"",r),l=t.timescale||1,d=t.presentationTimeOffset||0,f=t.periodStart+(s.time-d)/l;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:df(t.baseUrl||"",a),map:i,number:s.number,presentationTime:f}})},UB=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=iu({baseUrl:r,source:n.sourceURL,range:n.range}),o=iu({baseUrl:r,source:e.media,range:e.mediaRange});return o.map=i,o},jB=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(sl.SEGMENT_TIME_UNSPECIFIED);const o=n.map(l=>UB(t,l));let s;return r&&(s=Eg(t)),e&&(s=Jw(t,e)),s.map((l,d)=>{if(o[d]){const f=o[d],u=t.timescale||1,h=t.presentationTimeOffset||0;return f.timeline=l.timeline,f.duration=l.duration,f.number=l.number,f.presentationTime=i+(l.time-h)/u,f}}).filter(l=>l)},$B=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=FB,r=Br(t,e.template)):e.base?(n=Qw,r=Br(t,e.base)):e.list&&(n=jB,r=Br(t,e.list));const i={attributes:t};if(!n)return i;const o=n(r,e.segmentTimeline);if(r.duration){const{duration:s,timescale:a=1}=r;r.duration=s/a}else o.length?r.duration=o.reduce((s,a)=>Math.max(s,Math.ceil(a.duration)),0):r.duration=0;return i.attributes=r,i.segments=o,e.base&&r.indexRange&&(i.sidx=o[0],i.segments=[]),i},zB=t=>t.map($B),tr=(t,e)=>Ww(t.childNodes).filter(({tagName:r})=>r===e),ou=t=>t.textContent.trim(),VB=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),al=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,d,f,u,h,p]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(d||0)*2592e3+parseFloat(f||0)*86400+parseFloat(u||0)*3600+parseFloat(h||0)*60+parseFloat(p||0)},HB=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),tx={mediaPresentationDuration(t){return al(t)},availabilityStartTime(t){return HB(t)/1e3},minimumUpdatePeriod(t){return al(t)},suggestedPresentationDelay(t){return al(t)},type(t){return t},timeShiftBufferDepth(t){return al(t)},start(t){return al(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return VB(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?al(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Cr=t=>t&&t.attributes?Ww(t.attributes).reduce((e,r)=>{const n=tx[r.name]||tx.DEFAULT;return e[r.name]=n(r.value),e},{}):{},qB={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Tf=(t,e)=>e.length?ol(t.map(function(r){return e.map(function(n){const i=ou(n),o=df(r.baseUrl,i),s=Br(Cr(n),{baseUrl:o});return o!==i&&!s.serviceLocation&&r.serviceLocation&&(s.serviceLocation=r.serviceLocation),s})})):t,Mg=t=>{const e=tr(t,"SegmentTemplate")[0],r=tr(t,"SegmentList")[0],n=r&&tr(r,"SegmentURL").map(u=>Br({tag:"SegmentURL"},Cr(u))),i=tr(t,"SegmentBase")[0],o=r||e,s=o&&tr(o,"SegmentTimeline")[0],a=r||i||e,l=a&&tr(a,"Initialization")[0],d=e&&Cr(e);d&&l?d.initialization=l&&Cr(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});const f={template:d,segmentTimeline:s&&tr(s,"S").map(u=>Cr(u)),list:r&&Br(Cr(r),{segmentUrls:n,initialization:Cr(l)}),base:i&&Br(Cr(i),{initialization:Cr(l)})};return Object.keys(f).forEach(u=>{f[u]||delete f[u]}),f},WB=(t,e,r)=>n=>{const i=tr(n,"BaseURL"),o=Tf(e,i),s=Br(t,Cr(n)),a=Mg(n);return o.map(l=>({segmentInfo:Br(r,a),attributes:Br(s,l)}))},GB=t=>t.reduce((e,r)=>{const n=Cr(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=qB[n.schemeIdUri];if(i){e[i]={attributes:n};const o=tr(r,"cenc:pssh")[0];if(o){const s=ou(o);e[i].pssh=s&&RL(s)}}return e},{}),QB=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,o=""]=r.split("=");n.channel=i,n.language=r,o.split(",").forEach(s=>{const[a,l]=s.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},YB=t=>ol(tr(t.node,"EventStream").map(e=>{const r=Cr(e),n=r.schemeIdUri;return tr(e,"Event").map(i=>{const o=Cr(i),s=o.presentationTime||0,a=r.timescale||1,l=o.duration||0,d=s/a+t.attributes.start;return{schemeIdUri:n,value:r.value,id:o.id,start:d,end:d+l/a,messageData:ou(i)||o.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),KB=(t,e,r)=>n=>{const i=Cr(n),o=Tf(e,tr(n,"BaseURL")),s=tr(n,"Role")[0],a={role:Cr(s)};let l=Br(t,i,a);const d=tr(n,"Accessibility")[0],f=QB(Cr(d));f&&(l=Br(l,{captionServices:f}));const u=tr(n,"Label")[0];if(u&&u.childNodes.length){const b=u.childNodes[0].nodeValue.trim();l=Br(l,{label:b})}const h=GB(tr(n,"ContentProtection"));Object.keys(h).length&&(l=Br(l,{contentProtection:h}));const p=Mg(n),m=tr(n,"Representation"),y=Br(r,p);return ol(m.map(WB(l,o,y)))},XB=(t,e)=>(r,n)=>{const i=Tf(e,tr(r.node,"BaseURL")),o=Br(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(o.periodDuration=r.attributes.duration);const s=tr(r.node,"AdaptationSet"),a=Mg(r.node);return ol(s.map(KB(o,i,a)))},ZB=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=Br({serverURL:ou(t[0])},Cr(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},JB=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,eR=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:o=function(){}}=e,s=tr(t,"Period");if(!s.length)throw new Error(sl.INVALID_NUMBER_OF_PERIOD);const a=tr(t,"Location"),l=Cr(t),d=Tf([{baseUrl:r}],tr(t,"BaseURL")),f=tr(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,a.length&&(l.locations=a.map(ou));const u=[];return s.forEach((h,p)=>{const m=Cr(h),y=u[p-1];m.start=JB({attributes:m,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),u.push({node:h,attributes:m})}),{locations:l.locations,contentSteeringInfo:ZB(f,o),representationInfo:ol(u.map(XB(l,d))),eventStream:ol(u.map(YB))}},rx=t=>{if(t==="")throw new Error(sl.DASH_EMPTY_MANIFEST);const e=new uB;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(sl.DASH_INVALID_XML);return n},tR=t=>{const e=tr(t,"UTCTiming")[0];if(!e)return null;const r=Cr(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(sl.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},rR=(t,e={})=>{const r=eR(rx(t),e),n=zB(r.representationInfo);return OB({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},nR=t=>tR(rx(t));var nx=Math.pow(2,32),iR=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*nx+e.getUint32(4)},oR={getUint64:iR,MAX_UINT32:nx},ix=oR.getUint64,sR=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=ix(t.subarray(n)),r.firstOffset=ix(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},aR=sR;const lR=vn(aR);var cR=et([73,68,51]),uR=function(e,r){r===void 0&&(r=0),e=et(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],o=(n&16)>>4;return o?i+20:i+10},su=function t(e,r){return r===void 0&&(r=0),e=et(e),e.length-r<10||!er(e,cR,{offset:r})?r:(r+=uR(e,r),t(e,r))},ox=function(e){return typeof e=="string"?ew(e):e},dR=function(e){return Array.isArray(e)?e.map(function(r){return ox(r)}):[ox(e)]},fR=function t(e,r,n){n===void 0&&(n=!1),r=dR(r),e=et(e);var i=[];if(!r.length)return i;for(var o=0;o<e.length;){var s=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,a=e.subarray(o+4,o+8);if(s===0)break;var l=o+s;if(l>e.length){if(n)break;l=e.length}var d=e.subarray(o+8,l);er(a,r[0])&&(r.length===1?i.push(d):i.push.apply(i,t(d,r.slice(1),n))),o=l}return i},Af={EBML:et([26,69,223,163]),DocType:et([66,130]),Segment:et([24,83,128,103]),SegmentInfo:et([21,73,169,102]),Tracks:et([22,84,174,107]),Track:et([174]),TrackNumber:et([215]),DefaultDuration:et([35,227,131]),TrackEntry:et([174]),TrackType:et([131]),FlagDefault:et([136]),CodecID:et([134]),CodecPrivate:et([99,162]),VideoTrack:et([224]),AudioTrack:et([225]),Cluster:et([31,67,182,117]),Timestamp:et([231]),TimestampScale:et([42,215,177]),BlockGroup:et([160]),BlockDuration:et([155]),Block:et([161]),SimpleBlock:et([163])},Ng=[128,64,32,16,8,4,2,1],hR=function(e){for(var r=1,n=0;n<Ng.length&&!(e&Ng[n]);n++)r++;return r},Cf=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var o=hR(e[r]),s=e.subarray(r,r+o);return n&&(s=Array.prototype.slice.call(e,r,r+o),s[0]^=Ng[o-1]),{length:o,value:ML(s,{signed:i}),bytes:s}},sx=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?NL(e):e},pR=function(e){return Array.isArray(e)?e.map(function(r){return sx(r)}):[sx(e)]},mR=function t(e,r,n){if(n>=r.length)return r.length;var i=Cf(r,n,!1);if(er(e.bytes,i.bytes))return n;var o=Cf(r,n+i.length);return t(e,r,n+o.length+o.value+i.length)},ax=function t(e,r){r=pR(r),e=et(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var o=Cf(e,i,!1),s=Cf(e,i+o.length),a=i+o.length+s.length;s.value===127&&(s.value=mR(o,e,a),s.value!==e.length&&(s.value-=a));var l=a+s.value>e.length?e.length:a+s.value,d=e.subarray(a,l);er(r[0],o.bytes)&&(r.length===1?n.push(d):n=n.concat(t(d,r.slice(1))));var f=o.length+s.length+d.length;i+=f}return n},gR=et([0,0,0,1]),yR=et([0,0,1]),bR=et([0,0,3]),vR=function(e){for(var r=[],n=1;n<e.length-2;)er(e.subarray(n,n+3),bR)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,o=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),o[n]=e[s];return o},lx=function(e,r,n,i){e=et(e),n=[].concat(n);for(var o=0,s,a=0;o<e.length&&(a<i||s);){var l=void 0;if(er(e.subarray(o),gR)?l=4:er(e.subarray(o),yR)&&(l=3),!l){o++;continue}if(a++,s)return vR(e.subarray(s,o));var d=void 0;r==="h264"?d=e[o+l]&31:r==="h265"&&(d=e[o+l]>>1&63),n.indexOf(d)!==-1&&(s=o+l),o+=l+(r==="h264"?1:2)}return e.subarray(0,0)},_R=function(e,r,n){return lx(e,"h264",r,n)},wR=function(e,r,n){return lx(e,"h265",r,n)},an={webm:et([119,101,98,109]),matroska:et([109,97,116,114,111,115,107,97]),flac:et([102,76,97,67]),ogg:et([79,103,103,83]),ac3:et([11,119]),riff:et([82,73,70,70]),avi:et([65,86,73]),wav:et([87,65,86,69]),"3gp":et([102,116,121,112,51,103]),mp4:et([102,116,121,112]),fmp4:et([115,116,121,112]),mov:et([102,116,121,112,113,116]),moov:et([109,111,111,118]),moof:et([109,111,111,102])},ll={aac:function(e){var r=su(e);return er(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=su(e);return er(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=ax(e,[Af.EBML,Af.DocType])[0];return er(r,an.webm)},mkv:function(e){var r=ax(e,[Af.EBML,Af.DocType])[0];return er(r,an.matroska)},mp4:function(e){if(ll["3gp"](e)||ll.mov(e))return!1;if(er(e,an.mp4,{offset:4})||er(e,an.fmp4,{offset:4})||er(e,an.moof,{offset:4})||er(e,an.moov,{offset:4}))return!0},mov:function(e){return er(e,an.mov,{offset:4})},"3gp":function(e){return er(e,an["3gp"],{offset:4})},ac3:function(e){var r=su(e);return er(e,an.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=su(e);return er(e,an.flac,{offset:r})},ogg:function(e){return er(e,an.ogg)},avi:function(e){return er(e,an.riff)&&er(e,an.avi,{offset:8})},wav:function(e){return er(e,an.riff)&&er(e,an.wav,{offset:8})},h264:function(e){return _R(e,7,3).length},h265:function(e){return wR(e,[32,33],3).length}},Og=Object.keys(ll).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Og.forEach(function(t){var e=ll[t];ll[t]=function(r){return e(et(r))}});var xR=ll,Lg=function(e){e=et(e);for(var r=0;r<Og.length;r++){var n=Og[r];if(xR[n](e))return n}return""},TR=function(e){return fR(e,["moof"]).length>0},Bg=9e4,Rg,Pg,Sf,Fg,cx,ux,dx;Rg=function(t){return t*Bg},Pg=function(t,e){return t*e},Sf=function(t){return t/Bg},Fg=function(t,e){return t/e},cx=function(t,e){return Rg(Fg(t,e))},ux=function(t,e){return Pg(Sf(t),e)},dx=function(t,e,r){return Sf(r?t:t-e)};var Hs={ONE_SECOND_IN_TS:Bg,secondsToVideoTs:Rg,secondsToAudioTs:Pg,videoTsToSeconds:Sf,audioTsToSeconds:Fg,audioTsToVideoTs:cx,videoTsToAudioTs:ux,metadataTsToSeconds:dx};/**
 * @license
 * Video.js 8.17.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Ug="8.17.3";const Eo={},ts=function(t,e){return Eo[t]=Eo[t]||[],e&&(Eo[t]=Eo[t].concat(e)),Eo[t]},AR=function(t,e){ts(t,e)},fx=function(t,e){const r=ts(t).indexOf(e);return r<=-1?!1:(Eo[t]=Eo[t].slice(),Eo[t].splice(r,1),!0)},CR=function(t,e){ts(t,[].concat(e).map(r=>{const n=(...i)=>(fx(t,n),r(...i));return n}))},Ef={prefixed:!0},kf=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],hx=kf[0];let au;for(let t=0;t<kf.length;t++)if(kf[t][1]in Be){au=kf[t];break}if(au){for(let t=0;t<au.length;t++)Ef[hx[t]]=au[t];Ef.prefixed=au[0]!==hx[0]}let Cn=[];const SR=(t,e,r)=>(n,i,o)=>{const s=e.levels[i],a=new RegExp(`^(${s})$`);let l=t;if(n!=="log"&&o.unshift(n.toUpperCase()+":"),r&&(l=`%c${t}`,o.unshift(r)),o.unshift(l+":"),Cn){Cn.push([].concat(o));const f=Cn.length-1e3;Cn.splice(0,f>0?f:0)}if(!ee.console)return;let d=ee.console[n];!d&&n==="debug"&&(d=ee.console.info||ee.console.log),!(!d||!s||!a.test(n))&&d[Array.isArray(o)?"apply":"call"](ee.console,o)};function jg(t,e=":",r=""){let n="info",i;function o(...s){i("log",n,s)}return i=SR(t,o,r),o.createLogger=(s,a,l)=>{const d=a!==void 0?a:e,f=l!==void 0?l:r,u=`${t} ${d} ${s}`;return jg(u,d,f)},o.createNewLogger=(s,a,l)=>jg(s,a,l),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},o.level=s=>{if(typeof s=="string"){if(!o.levels.hasOwnProperty(s))throw new Error(`"${s}" in not a valid log level`);n=s}return n},o.history=()=>Cn?[].concat(Cn):[],o.history.filter=s=>(Cn||[]).filter(a=>new RegExp(`.*${s}.*`).test(a[0])),o.history.clear=()=>{Cn&&(Cn.length=0)},o.history.disable=()=>{Cn!==null&&(Cn.length=0,Cn=null)},o.history.enable=()=>{Cn===null&&(Cn=[])},o.error=(...s)=>i("error",n,s),o.warn=(...s)=>i("warn",n,s),o.debug=(...s)=>i("debug",n,s),o}const wt=jg("VIDEOJS"),px=wt.createLogger,ER=Object.prototype.toString,mx=function(t){return Yi(t)?Object.keys(t):[]};function cl(t,e){mx(t).forEach(r=>e(t[r],r))}function gx(t,e,r=0){return mx(t).reduce((n,i)=>e(n,t[i],i),r)}function Yi(t){return!!t&&typeof t=="object"}function ul(t){return Yi(t)&&ER.call(t)==="[object Object]"&&t.constructor===Object}function Ht(...t){const e={};return t.forEach(r=>{r&&cl(r,(n,i)=>{if(!ul(n)){e[i]=n;return}ul(e[i])||(e[i]={}),e[i]=Ht(e[i],n)})}),e}function yx(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function If(t,e,r,n=!0){const i=s=>Object.defineProperty(t,e,{value:s,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const s=r();return i(s),s}};return n&&(o.set=i),Object.defineProperty(t,e,o)}var kR=Object.freeze({__proto__:null,each:cl,reduce:gx,isObject:Yi,isPlain:ul,merge:Ht,values:yx,defineLazyProperty:If});let $g=!1,bx=null,Ki=!1,vx,_x=!1,dl=!1,fl=!1,Xi=!1,zg=null,Df=null;const IR=!!(ee.cast&&ee.cast.framework&&ee.cast.framework.CastReceiverContext);let wx=null,Mf=!1,Nf=!1,Of=!1,Lf=!1,Bf=!1,Rf=!1,Vg=!1;const lu=!!(hl()&&("ontouchstart"in ee||ee.navigator.maxTouchPoints||ee.DocumentTouch&&ee.document instanceof ee.DocumentTouch)),rs=ee.navigator&&ee.navigator.userAgentData;if(rs&&rs.platform&&rs.brands&&(Ki=rs.platform==="Android",dl=!!rs.brands.find(t=>t.brand==="Microsoft Edge"),fl=!!rs.brands.find(t=>t.brand==="Chromium"),Xi=!dl&&fl,zg=Df=(rs.brands.find(t=>t.brand==="Chromium")||{}).version||null,Nf=rs.platform==="Windows"),!fl){const t=ee.navigator&&ee.navigator.userAgent||"";$g=/iPod/i.test(t),bx=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ki=/Android/i.test(t),vx=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null}(),_x=/Firefox/i.test(t),dl=/Edg/i.test(t),fl=/Chrome/i.test(t)||/CriOS/i.test(t),Xi=!dl&&fl,zg=Df=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),wx=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),Bf=/Tizen/i.test(t),Rf=/Web0S/i.test(t),Vg=Bf||Rf,Mf=/Safari/i.test(t)&&!Xi&&!Ki&&!dl&&!Vg,Nf=/Windows/i.test(t),Of=/iPad/i.test(t)||Mf&&lu&&!/iPhone/i.test(t),Lf=/iPhone/i.test(t)&&!Of}const ln=Lf||Of||$g,Pf=(Mf||ln)&&!Xi;var xx=Object.freeze({__proto__:null,get IS_IPOD(){return $g},get IOS_VERSION(){return bx},get IS_ANDROID(){return Ki},get ANDROID_VERSION(){return vx},get IS_FIREFOX(){return _x},get IS_EDGE(){return dl},get IS_CHROMIUM(){return fl},get IS_CHROME(){return Xi},get CHROMIUM_VERSION(){return zg},get CHROME_VERSION(){return Df},IS_CHROMECAST_RECEIVER:IR,get IE_VERSION(){return wx},get IS_SAFARI(){return Mf},get IS_WINDOWS(){return Nf},get IS_IPAD(){return Of},get IS_IPHONE(){return Lf},get IS_TIZEN(){return Bf},get IS_WEBOS(){return Rf},get IS_SMART_TV(){return Vg},TOUCH_ENABLED:lu,IS_IOS:ln,IS_ANY_SAFARI:Pf});function Tx(t){return typeof t=="string"&&!!t.trim()}function DR(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function hl(){return Be===ee.document}function pl(t){return Yi(t)&&t.nodeType===1}function Ax(){try{return ee.parent!==ee.self}catch{return!0}}function Cx(t){return function(e,r){if(!Tx(e))return Be[t](null);Tx(r)&&(r=Be.querySelector(r));const n=pl(r)?r:Be;return n[t]&&n[t](e)}}function at(t="div",e={},r={},n){const i=Be.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(o){const s=e[o];o==="textContent"?ns(i,s):(i[o]!==s||o==="tabIndex")&&(i[o]=s)}),Object.getOwnPropertyNames(r).forEach(function(o){i.setAttribute(o,r[o])}),n&&qg(i,n),i}function ns(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Hg(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function cu(t,e){return DR(e),t.classList.contains(e)}function qs(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function Ff(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(wt.warn("removeClass was called with an element that doesn't exist"),null)}function Sx(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function Ex(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function is(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const o=n[i].name;let s=n[i].value;r.includes(o)&&(s=s!==null),e[o]=s}}return e}function kx(t,e){return t.getAttribute(e)}function ml(t,e,r){t.setAttribute(e,r)}function Uf(t,e){t.removeAttribute(e)}function Ix(){Be.body.focus(),Be.onselectstart=function(){return!1}}function Dx(){Be.onselectstart=function(){return!0}}function gl(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(yl(t,"height"))),r.width||(r.width=parseFloat(yl(t,"width"))),r}}function uu(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==Be[Ef.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function jf(t,e){const r={x:0,y:0};if(ln){let f=t;for(;f&&f.nodeName.toLowerCase()!=="html";){const u=yl(f,"transform");if(/^matrix/.test(u)){const h=u.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(u)){const h=u.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}if(f.assignedSlot&&f.assignedSlot.parentElement&&ee.WebKitCSSMatrix){const h=ee.getComputedStyle(f.assignedSlot.parentElement).transform,p=new ee.WebKitCSSMatrix(h);r.x+=p.m41,r.y+=p.m42}f=f.parentNode||f.host}}const n={},i=uu(e.target),o=uu(t),s=o.width,a=o.height;let l=e.offsetY-(o.top-i.top),d=e.offsetX-(o.left-i.left);return e.changedTouches&&(d=e.changedTouches[0].pageX-o.left,l=e.changedTouches[0].pageY+o.top,ln&&(d-=r.x,l-=r.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,d/s)),n}function Mx(t){return Yi(t)&&t.nodeType===3}function $f(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Nx(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),pl(e)||Mx(e))return e;if(typeof e=="string"&&/\S/.test(e))return Be.createTextNode(e)}).filter(e=>e)}function qg(t,e){return Nx(e).forEach(r=>t.appendChild(r)),t}function Ox(t,e){return qg($f(t),e)}function du(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const os=Cx("querySelector"),Lx=Cx("querySelectorAll");function yl(t,e){if(!t||!e)return"";if(typeof ee.getComputedStyle=="function"){let r;try{r=ee.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function Bx(t){[...Be.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=Be.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=Be.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var Rx=Object.freeze({__proto__:null,isReal:hl,isEl:pl,isInFrame:Ax,createEl:at,textContent:ns,prependTo:Hg,hasClass:cu,addClass:qs,removeClass:Ff,toggleClass:Sx,setAttributes:Ex,getAttributes:is,getAttribute:kx,setAttribute:ml,removeAttribute:Uf,blockTextSelection:Ix,unblockTextSelection:Dx,getBoundingClientRect:gl,findPosition:uu,getPointerPosition:jf,isTextNode:Mx,emptyEl:$f,normalizeContent:Nx,appendContent:qg,insertContent:Ox,isSingleLeftClick:du,$:os,$$:Lx,computedStyle:yl,copyStyleSheetsToWindow:Bx});let Px=!1,Wg;const MR=function(){if(Wg.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Be.getElementsByTagName("video")),e=Array.prototype.slice.call(Be.getElementsByTagName("audio")),r=Array.prototype.slice.call(Be.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,o=n.length;i<o;i++){const s=n[i];if(s&&s.getAttribute)s.player===void 0&&s.getAttribute("data-setup")!==null&&Wg(s);else{Gg(1);break}}else Px||Gg(1)};function Gg(t,e){hl()&&(e&&(Wg=e),ee.setTimeout(MR,t))}function Qg(){Px=!0,ee.removeEventListener("load",Qg)}hl()&&(Be.readyState==="complete"?Qg():ee.addEventListener("load",Qg));const Fx=function(t){const e=Be.createElement("style");return e.className=t,e},Ux=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var cn=new WeakMap;let NR=3;function Jn(){return NR++}function jx(t,e){if(!cn.has(t))return;const r=cn.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&cn.delete(t)}function Yg(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function zf(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||ee.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const o in n)i.includes(o)||o==="returnValue"&&n.preventDefault||(t[o]=n[o]);if(t.target||(t.target=t.srcElement||Be),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const o=Be.documentElement,s=Be.body;t.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Vf;const OR=function(){if(typeof Vf!="boolean"){Vf=!1;try{const t=Object.defineProperty({},"passive",{get(){Vf=!0}});ee.addEventListener("test",null,t),ee.removeEventListener("test",null,t)}catch{}}return Vf},LR=["touchstart","touchmove"];function $n(t,e,r){if(Array.isArray(e))return Yg($n,t,e,r);cn.has(t)||cn.set(t,{});const n=cn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=Jn()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,o){if(n.disabled)return;i=zf(i);const s=n.handlers[i.type];if(s){const a=s.slice(0);for(let l=0,d=a.length;l<d&&!i.isImmediatePropagationStopped();l++)try{a[l].call(t,i,o)}catch(f){wt.error(f)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;OR()&&LR.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Gr(t,e,r){if(!cn.has(t))return;const n=cn.get(t);if(!n.handlers)return;if(Array.isArray(e))return Yg(Gr,t,e,r);const i=function(s,a){n.handlers[a]=[],jx(s,a)};if(e===void 0){for(const s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(t,s);return}const o=n.handlers[e];if(o){if(!r){i(t,e);return}if(r.guid)for(let s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);jx(t,e)}}function bl(t,e,r){const n=cn.has(t)?cn.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=zf(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)bl.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){cn.has(e.target)||cn.set(e.target,{});const o=cn.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function Hf(t,e,r){if(Array.isArray(e))return Yg(Hf,t,e,r);const n=function(){Gr(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Jn(),$n(t,e,n)}function Kg(t,e,r){const n=function(){Gr(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Jn(),$n(t,e,n)}var BR=Object.freeze({__proto__:null,fixEvent:zf,on:$n,off:Gr,trigger:bl,one:Hf,any:Kg});const ei=30,Gt=function(t,e,r){e.guid||(e.guid=Jn());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},Zi=function(t,e){let r=ee.performance.now();return function(...i){const o=ee.performance.now();o-r>=e&&(t(...i),r=o)}},$x=function(t,e,r,n=ee){let i;const o=()=>{n.clearTimeout(i),i=null},s=function(){const a=this,l=arguments;let d=function(){i=null,d=null,r||t.apply(a,l)};!i&&r&&t.apply(a,l),n.clearTimeout(i),i=n.setTimeout(d,e)};return s.cancel=o,s};var RR=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:ei,bind_:Gt,throttle:Zi,debounce:$x});let fu;class zn{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},$n(this,e,r),this.addEventListener=n}off(e,r){Gr(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Hf(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Kg(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=zf(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),bl(this,e)}queueTrigger(e){fu||(fu=new Map);const r=e.type||e;let n=fu.get(this);n||(n=new Map,fu.set(this,n));const i=n.get(r);n.delete(r),ee.clearTimeout(i);const o=ee.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,fu.delete(this)),this.trigger(e)},0);n.set(r,o)}}zn.prototype.allowedEvents_={},zn.prototype.addEventListener=zn.prototype.on,zn.prototype.removeEventListener=zn.prototype.off,zn.prototype.dispatchEvent=zn.prototype.trigger;const qf=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,ko=t=>t instanceof zn||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),PR=(t,e)=>{ko(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Xg=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Wf=(t,e,r)=>{if(!t||!t.nodeName&&!ko(t))throw new Error(`Invalid target for ${qf(e)}#${r}; must be a DOM node or evented object.`)},zx=(t,e,r)=>{if(!Xg(t))throw new Error(`Invalid event type for ${qf(e)}#${r}; must be a non-empty string or array.`)},Vx=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${qf(e)}#${r}; must be a function.`)},Zg=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,o,s;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[o,s]=e):(i=e[0],o=e[1],s=e[2]),Wf(i,t,r),zx(o,t,r),Vx(s,t,r),s=Gt(t,s),{isTargetingSelf:n,target:i,type:o,listener:s}},Ws=(t,e,r,n)=>{Wf(t,t,e),t.nodeName?BR[e](t,r,n):t[e](r,n)},FR={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=Zg(this,t,"on");if(Ws(r,"on",n,i),!e){const o=()=>this.off(r,n,i);o.guid=i.guid;const s=()=>this.off("dispose",o);s.guid=i.guid,Ws(this,"on","dispose",o),Ws(r,"on","dispose",s)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=Zg(this,t,"one");if(e)Ws(r,"one",n,i);else{const o=(...s)=>{this.off(r,n,o),i.apply(null,s)};o.guid=i.guid,Ws(r,"one",n,o)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=Zg(this,t,"any");if(e)Ws(r,"any",n,i);else{const o=(...s)=>{this.off(r,n,o),i.apply(null,s)};o.guid=i.guid,Ws(r,"any",n,o)}},off(t,e,r){if(!t||Xg(t))Gr(this.eventBusEl_,t,e);else{const n=t,i=e;Wf(n,this,"off"),zx(i,this,"off"),Vx(r,this,"off"),r=Gt(this,r),this.off("dispose",r),n.nodeName?(Gr(n,i,r),Gr(n,"dispose",r)):ko(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){Wf(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!Xg(r))throw new Error(`Invalid event type for ${qf(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return bl(this.eventBusEl_,t,e)}};function Jg(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=at("span",{className:"vjs-event-bus"});return Object.assign(t,FR),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&cn.has(n)&&cn.delete(n)}),ee.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const UR={state:{},setState(t){typeof t=="function"&&(t=t());let e;return cl(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&ko(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Hx(t,e){return Object.assign(t,UR),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&ko(t)&&t.on("statechanged",t.handleStateChanged),t}const hu=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},lr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},qx=function(t,e){return lr(t)===lr(e)};var jR=Object.freeze({__proto__:null,toLowerCase:hu,toTitleCase:lr,titleCaseEquals:qx});class Ae{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ht({},this.options_),r=this.options_=Ht(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Jn()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(Jg(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Hx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,r){}off(e,r){}one(e,r){}any(e,r){}trigger(e,r){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Ht(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return at(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[i],a=i&&i.split("-")[0],l=o&&o[a];let d=n;return s&&s[e]?d=s[e]:l&&l[e]&&(d=l[e]),r&&(d=d.replace(/\{(\d+)\}/g,function(f,u){const h=r[u-1];let p=h;return typeof h>"u"&&(p=f),p})),d}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=at("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),o=Be.createElementNS(n,"svg");o.setAttributeNS(null,"viewBox","0 0 512 512");const s=Be.createElementNS(n,"use");return o.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(o),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,o;if(typeof e=="string"){o=lr(e);const s=r.componentClass||o;r.name=o;const a=Ae.getComponent(s);if(!a)throw new Error(`Component ${s} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),o=o||i.name&&lr(i.name()),o&&(this.childNameIndex_[o]=i,this.childNameIndex_[hu(o)]=i),typeof i.el=="function"&&i.el()){let s=null;this.children_[n+1]&&(this.children_[n+1].el_?s=this.children_[n+1].el_:pl(this.children_[n+1])&&(s=this.children_[n+1])),this.contentEl().insertBefore(i.el(),s)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[lr(e.name())]=null,this.childNameIndex_[hu(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=s=>{const a=s.name;let l=s.opts;if(r[a]!==void 0&&(l=r[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const d=this.addChild(a,l);d&&(this[a]=d)};let i;const o=Ae.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(s){return!i.some(function(a){return typeof a=="string"?s===a:s===a.name})})).map(s=>{let a,l;return typeof s=="string"?(a=s,l=e[a]||this.options_[a]||{}):(a=s.name,l=s),{name:a,opts:l}}).filter(s=>{const a=Ae.getComponent(s.opts.componentClass||lr(s.name));return a&&!o.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return os(e,r||this.contentEl())}$$(e,r){return Lx(e,r||this.contentEl())}hasClass(e){return cu(this.el_,e)}addClass(...e){qs(this.el_,...e)}removeClass(...e){Ff(this.el_,...e)}toggleClass(e,r){Sx(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return kx(this.el_,e)}setAttribute(e,r){ml(this.el_,e,r)}removeAttribute(e){Uf(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],o=i.indexOf("px");return parseInt(o!==-1?i.slice(0,o):this.el_["offset"+lr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=yl(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${lr(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},n={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:n}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let o;this.on("touchstart",function(a){a.touches.length===1&&(r={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=ee.performance.now(),o=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)o=!1;else if(r){const l=a.touches[0].pageX-r.pageX,d=a.touches[0].pageY-r.pageY;Math.sqrt(l*l+d*d)>n&&(o=!1)}});const s=function(){o=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(a){r=null,o===!0&&ee.performance.now()-e<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Gt(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=Gt(this,e),this.clearTimersOnDispose_(),n=ee.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),ee.clearTimeout(e)),e}setInterval(e,r){e=Gt(this,e),this.clearTimersOnDispose_();const n=ee.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),ee.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=Gt(this,e),r=ee.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),r=Gt(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),ee.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(o){const s=ee.getComputedStyle(o,null),a=s.getPropertyValue("visibility");return s.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function n(o){return!(!r(o.parentElement)||!r(o)||o.style.opacity==="0"||ee.getComputedStyle(o).height==="0px"||ee.getComputedStyle(o).width==="0px")}function i(o){if(o.offsetWidth+o.offsetHeight+o.getBoundingClientRect().height+o.getBoundingClientRect().width===0)return!1;const s={x:o.getBoundingClientRect().left+o.offsetWidth/2,y:o.getBoundingClientRect().top+o.offsetHeight/2};if(s.x<0||s.x>(Be.documentElement.clientWidth||ee.innerWidth)||s.y<0||s.y>(Be.documentElement.clientHeight||ee.innerHeight))return!1;let a=Be.elementFromPoint(s.x,s.y);for(;a;){if(a===o)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&n(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=Ae.getComponent("Tech"),i=n&&n.isTech(r),o=Ae===r||Ae.prototype.isPrototypeOf(r.prototype);if(i||!o){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=lr(e),Ae.components_||(Ae.components_={});const s=Ae.getComponent("Player");if(e==="Player"&&s&&s.players){const a=s.players,l=Object.keys(a);if(a&&l.length>0&&l.map(d=>a[d]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Ae.components_[e]=r,Ae.components_[hu(e)]=r,r}static getComponent(e){if(!(!e||!Ae.components_))return Ae.components_[e]}}Ae.registerComponent("Component",Ae);function $R(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function Wx(t,e,r,n){return $R(t,n,r.length-1),r[n][e]}function e0(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Wx.bind(null,"start",0,t),end:Wx.bind(null,"end",1,t)},ee.Symbol&&ee.Symbol.iterator&&(e[ee.Symbol.iterator]=()=>(t||[]).values()),e}function Si(t,e){return Array.isArray(t)?e0(t):t===void 0||e===void 0?e0():e0([[t,e]])}const Gx=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||s>0?i+":":"",n=((i||o>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let t0=Gx;function Qx(t){t0=t}function Yx(){t0=Gx}function Gs(t,e=t){return t0(t,e)}var zR=Object.freeze({__proto__:null,createTimeRanges:Si,createTimeRange:Si,setFormatTime:Qx,resetFormatTime:Yx,formatTime:Gs});function Kx(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=Si(0,0));for(let o=0;o<t.length;o++)n=t.start(o),i=t.end(o),i>e&&(i=e),r+=i-n;return r/e}function ir(t){if(t instanceof ir)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Yi(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=ir.defaultMessages[this.code]||"")}ir.prototype.code=0,ir.prototype.message="",ir.prototype.status=null,ir.prototype.metadata=null,ir.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ir.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},ir.MEDIA_ERR_CUSTOM=0,ir.prototype.MEDIA_ERR_CUSTOM=0,ir.MEDIA_ERR_ABORTED=1,ir.prototype.MEDIA_ERR_ABORTED=1,ir.MEDIA_ERR_NETWORK=2,ir.prototype.MEDIA_ERR_NETWORK=2,ir.MEDIA_ERR_DECODE=3,ir.prototype.MEDIA_ERR_DECODE=3,ir.MEDIA_ERR_SRC_NOT_SUPPORTED=4,ir.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,ir.MEDIA_ERR_ENCRYPTED=5,ir.prototype.MEDIA_ERR_ENCRYPTED=5;function pu(t){return t!=null&&typeof t.then=="function"}function Ji(t){pu(t)&&t.then(null,e=>{})}const r0=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})};var Xx={textTracksToJson:function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const o=r0(i.track);return i.src&&(o.src=i.src),o}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(r0))},jsonToTextTracks:function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()},trackToJson_:r0};const n0="vjs-modal-dialog";class vl extends Ae{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=at("div",{className:`${n0}-content`},{role:"document"}),this.descEl_=at("p",{className:`${n0}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ns(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${n0} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),Ox(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const o=this.getChild("closeButton");o&&n.appendChild(o.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),$f(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Be.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}Be.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof ee.HTMLAnchorElement||r instanceof ee.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof ee.HTMLInputElement||r instanceof ee.HTMLSelectElement||r instanceof ee.HTMLTextAreaElement||r instanceof ee.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof ee.HTMLIFrameElement||r instanceof ee.HTMLObjectElement||r instanceof ee.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}vl.prototype.options_={pauseOnOpen:!0,temporary:!0},Ae.registerComponent("ModalDialog",vl);class _l extends zn{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},ko(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const o=this[n];if(o.id===e){r=o;break}}return r}}_l.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in _l.prototype.allowedEvents_)_l.prototype["on"+t]=null;const i0=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class VR extends _l{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){i0(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&i0(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,i0(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const o0=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class HR extends _l{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){o0(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&o0(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,o0(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Zx extends _l{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class qR{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class Gf{constructor(e){Gf.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const o=function(s){""+s in this||Object.defineProperty(this,""+s,{get(){return this.cues_[s]}})};if(r<i)for(n=r;n<i;n++)o.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const o=this[n];if(o.id===e){r=o;break}}return r}}const WR={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},GR={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},QR={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Jx={disabled:"disabled",hidden:"hidden",showing:"showing"};class s0 extends zn{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Jn(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const a0=function(t){return new URL(t,Be.baseURI)},eT=function(t){return new URL(t,Be.baseURI).href},l0=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},Qf=function(t,e=ee.location){return a0(t).origin!==e.origin};var YR=Object.freeze({__proto__:null,parseUrl:a0,getAbsoluteURL:eT,getFileExtension:l0,isCrossOrigin:Qf});const tT=function(t,e){const r=new ee.WebVTT.Parser(ee,ee.vttjs,ee.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(ee.console&&ee.console.groupCollapsed&&ee.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>wt.error(i)),ee.console&&ee.console.groupEnd&&ee.console.groupEnd()),r.flush()},rT=function(t,e){const r={uri:t},n=Qf(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),R_(r,Gt(this,function(o,s,a){if(o)return wt.error(o,s);e.loaded_=!0,typeof ee.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){wt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return tT(a,e)}):tT(a,e)}))};class mu extends s0{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Ht(e,{kind:QR[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=Jx[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const o=new Gf(this.cues_),s=new Gf(this.activeCues_);let a=!1;this.timeupdateHandler=Gt(this,function(d={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(d){Jx[d]&&n!==d&&(n=d,!this.preload_&&n!=="disabled"&&this.cues.length===0&&rT(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?o:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return s;const d=this.tech_.currentTime(),f=[];for(let u=0,h=this.cues.length;u<h;u++){const p=this.cues[u];p.startTime<=d&&p.endTime>=d&&f.push(p)}if(a=!1,f.length!==this.activeCues_.length)a=!0;else for(let u=0;u<f.length;u++)this.activeCues_.indexOf(f[u])===-1&&(a=!0);return this.activeCues_=f,s.setCues_(this.activeCues_),s},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&rT(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new ee.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}mu.prototype.allowedEvents_={cuechange:"cuechange"};class nT extends s0{constructor(e={}){const r=Ht(e,{kind:GR[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class iT extends s0{constructor(e={}){const r=Ht(e,{kind:WR[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class Io extends zn{constructor(e={}){super();let r;const n=new mu(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=Io.NONE,n.addEventListener("loadeddata",()=>{r=Io.LOADED,this.trigger({type:"load",target:this})})}}Io.prototype.allowedEvents_={load:"load"},Io.NONE=0,Io.LOADING=1,Io.LOADED=2,Io.ERROR=3;const ti={audio:{ListClass:VR,TrackClass:nT,capitalName:"Audio"},video:{ListClass:HR,TrackClass:iT,capitalName:"Video"},text:{ListClass:Zx,TrackClass:mu,capitalName:"Text"}};Object.keys(ti).forEach(function(t){ti[t].getterName=`${t}Tracks`,ti[t].privateName=`${t}Tracks_`});const wl={remoteText:{ListClass:Zx,TrackClass:mu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:qR,TrackClass:Io,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},un=Object.assign({},ti,wl);wl.names=Object.keys(wl),ti.names=Object.keys(ti),un.names=[].concat(wl.names).concat(ti.names);function KR(t,e,r,n,i={}){const o=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const s=new un.text.TrackClass(i);return o.addTrack(s),s}class pt extends Ae{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),un.names.forEach(n=>{const i=un[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new un.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Gt(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Si(0,0)}bufferedPercent(){return Kx(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(ti.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const o=n[i];r==="text"&&this.removeRemoteTextTrack(o),n.removeTrack(o)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new ir(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Si(0,0):Si()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){ti.names.forEach(e=>{const r=ti[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!ee.WebVTT)if(Be.body.contains(this.el())){if(!this.options_["vtt.js"]&&ul(H_)&&Object.keys(H_).length>0){this.trigger("vttjsloaded");return}const e=Be.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),ee.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=a=>e.addTrack(a.track),i=a=>e.removeTrack(a.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const o=()=>this.trigger("texttrackchange"),s=()=>{o();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",o),l.mode==="showing"&&l.addEventListener("cuechange",o)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",o)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return KR(this,e,r,n)}createRemoteTextTrack(e){const r=Ht(e,{tech:this});return new wl.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Jn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return pt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof pt||e instanceof pt||e===pt}static registerTech(e,r){if(pt.techs_||(pt.techs_={}),!pt.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!pt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!pt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=lr(e),pt.techs_[e]=r,pt.techs_[hu(e)]=r,e!=="Tech"&&pt.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(pt.techs_&&pt.techs_[e])return pt.techs_[e];if(e=lr(e),ee&&ee.videojs&&ee.videojs[e])return wt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),ee.videojs[e]}}}un.names.forEach(function(t){const e=un[t];pt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),pt.prototype.featuresVolumeControl=!0,pt.prototype.featuresMuteControl=!0,pt.prototype.featuresFullscreenResize=!1,pt.prototype.featuresPlaybackRate=!1,pt.prototype.featuresProgressEvents=!1,pt.prototype.featuresSourceset=!1,pt.prototype.featuresTimeupdateEvents=!1,pt.prototype.featuresNativeTextTracks=!1,pt.prototype.featuresVideoFrameCallback=!1,pt.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let o=0;o<n.length;o++)if(i=n[o].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let o;for(let s=0;s<i.length;s++)if(o=i[s].canHandleSource(r,n),o)return i[s];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:wt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ae.registerComponent("Tech",pt),pt.registerTech("Tech",pt),pt.defaultTechOrder_=[];const Qs={},Yf={},Kf={};function XR(t,e){Qs[t]=Qs[t]||[],Qs[t].push(e)}function ZR(t,e,r){t.setTimeout(()=>Ys(e,Qs[e.type],r,t),1)}function JR(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function e7(t,e,r){return t.reduceRight(c0(r),e[r]())}function t7(t,e,r,n){return e[r](t.reduce(c0(r),n))}function oT(t,e,r,n=null){const i="call"+lr(r),o=t.reduce(c0(i),n),s=o===Kf,a=s?null:e[r](o);return i7(t,r,a,s),a}const r7={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},n7={setCurrentTime:1,setMuted:1,setVolume:1},sT={play:1,pause:1};function c0(t){return(e,r)=>e===Kf?Kf:r[t]?r[t](e):e}function i7(t,e,r,n){for(let i=t.length-1;i>=0;i--){const o=t[i];o[e]&&o[e](n,r)}}function o7(t){Yf.hasOwnProperty(t.id())&&delete Yf[t.id()]}function s7(t,e){const r=Yf[t.id()];let n=null;if(r==null)return n=e(t),Yf[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[o,s]=r[i];o===e&&(n=s)}return n===null&&(n=e(t),r.push([e,n])),n}function Ys(t={},e=[],r,n,i=[],o=!1){const[s,...a]=e;if(typeof s=="string")Ys(t,Qs[s],r,n,i,o);else if(s){const l=s7(n,s);if(!l.setSource)return i.push(l),Ys(t,a,r,n,i,o);l.setSource(Object.assign({},t),function(d,f){if(d)return Ys(t,a,r,n,i,o);i.push(l),Ys(f,t.type===f.type?a:Qs[f.type],r,n,i,o)})}else a.length?Ys(t,a,r,n,i,o):o?r(t,i):Ys(t,Qs["*"],r,n,i,!0)}const a7={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Xf=function(t=""){const e=l0(t);return a7[e.toLowerCase()]||""},l7=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const o=n[i];if(o.type&&o.src&&o.src===e)return o.type}return Xf(e)},aT=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=aT(r),Array.isArray(r)?e=e.concat(r):Yi(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[lT({src:t})]:Yi(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[lT(t)]:t=[];return t};function lT(t){if(!t.type){const e=Xf(t.src);e&&(t.type=e)}return t}var c7=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const cT=Bf?10009:Rf?461:8,xl={codes:{play:415,pause:19,ff:417,rw:412,back:cT},names:{415:"play",19:"pause",417:"ff",412:"rw",[cT]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},uT=5;class u7 extends zn{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const n=r.key.substring(5).toLowerCase();this.move(n)}else if(xl.isEventKey(r,"play")||xl.isEventKey(r,"pause")||xl.isEventKey(r,"ff")||xl.isEventKey(r,"rw")){r.preventDefault();const n=xl.getEventName(r);this.performMediaAction_(n)}else xl.isEventKey(r,"Back")&&e.target&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+uT);break;case"rw":this.userSeek_(this.player_.currentTime()-uT);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);r&&(n=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!n||!r)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function n(i){for(const o of i)o.hasOwnProperty("el_")&&o.getIsFocusable()&&o.getIsAvailableToBeFocused(o.el())&&r.push(o),o.hasOwnProperty("children_")&&o.children_.length>0&&n(o.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){r.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?n(i.children_):i.hasOwnProperty("items")&&i.items.length>0?n(i.items):this.findSuitableDOMChild(i)&&r.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const o=i.el_.querySelector(".vjs-errors-ok-button-container");o&&o.querySelectorAll("button").forEach((a,l)=>{r.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{const d=a.getBoundingClientRect(),f={x:d.x,y:d.y,width:d.width,height:d.height,top:d.top,right:d.right,bottom:d.bottom,left:d.left},u={x:d.left+d.width/2,y:d.top+d.height/2,width:0,height:0,top:d.top+d.height/2,right:d.left+d.width/2,bottom:d.top+d.height/2,left:d.left+d.width/2};return{boundingClientRect:f,center:u}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:d=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let i=0;i<n.children.length;i++){const o=n.children[i],s=r(o);if(s)return s}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const n of this.focusableComponents)if(n.el()===r)return n}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const n=r.getPositions(),i=this.focusableComponents.filter(s=>s!==r&&this.isInDirection_(n.boundingClientRect,s.getPositions().boundingClientRect,e)),o=this.findBestCandidate_(n.center,i,e);o?this.focus(o):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,n){let i=1/0,o=null;for(const s of r){const a=s.getPositions().center,l=this.calculateDistance_(e,a,n);l<i&&(i=l,o=s)}return o}isInDirection_(e,r,n){switch(n){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,n){const i=Math.abs(e.x-r.x),o=Math.abs(e.y-r.y);let s;switch(n){case"right":case"left":s=i+o*100;break;case"up":s=o*2+i*.5;break;case"down":s=o*5+i;break;default:s=i+o}return s}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class d7 extends Ae{constructor(e,r,n){const i=Ht({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let o=0,s=r.playerOptions.techOrder;o<s.length;o++){const a=lr(s[o]);let l=pt.getTech(a);if(a||(l=Ae.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(r.playerOptions.sources)}}Ae.registerComponent("MediaLoader",d7);class Zf extends Ae{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&wt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=at(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(at("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=at("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,ns(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ae.registerComponent("ClickableComponent",Zf);class u0 extends Zf{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return at("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(at("picture",{className:"vjs-poster",tabIndex:-1},{},at("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ji(this.player_.play()):this.player_.pause())}}u0.prototype.crossorigin=u0.prototype.crossOrigin,Ae.registerComponent("PosterImage",u0);const ri="#222",dT="#ccc",f7={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function d0(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function gu(t,e,r){try{t.style[e]=r}catch{return}}function fT(t){return t?`${t}px`:""}class h7 extends Ae{constructor(e,r,n){super(e,r,n);const i=s=>this.updateDisplay(s),o=s=>{this.updateDisplayOverlay(),this.updateDisplay(s)};e.on("loadstart",s=>this.toggleDisplay(s)),e.on("texttrackchange",i),e.on("loadedmetadata",s=>{this.updateDisplayOverlay(),this.preselectTrack(s)}),e.ready(Gt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",o),e.on("playerresize",o);const s=ee.screen.orientation||ee,a=ee.screen.orientation?"change":"orientationchange";s.addEventListener(a,o),e.on("dispose",()=>s.removeEventListener(a,o));const l=this.options_.playerOptions.tracks||[];for(let d=0;d<l.length;d++)this.player_.addRemoteTextTrack(l[d],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,o,s;for(let a=0;a<r.length;a++){const l=r[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?s=l:s||(s=l):n&&!n.enabled?(s=null,i=null,o=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!o&&(o=l))}s?s.mode="showing":o?o.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof ee.WebVTT=="function"&&ee.WebVTT.processCues(ee,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const s=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}let n=null,i=null,o=e.length;for(;o--;){const s=e[o];s.mode==="showing"&&(s.kind==="descriptions"?n=s:i=s)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!ee.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let o=0,s=0;Math.abs(n-i)>.1&&(n>i?o=Math.round((e-r*i)/2):s=Math.round((r-e/i)/2)),gu(this.el_,"insetInline",fT(o)),gu(this.el_,"insetBlock",fT(s))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const o=n[i];if(!o)continue;const s=o.displayState;if(r.color&&(s.firstChild.style.color=r.color),r.textOpacity&&gu(s.firstChild,"color",d0(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(s.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&gu(s.firstChild,"backgroundColor",d0(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?gu(s,"backgroundColor",d0(r.windowColor,r.windowOpacity)):s.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?s.firstChild.style.textShadow=`2px 2px 3px ${ri}, 2px 2px 4px ${ri}, 2px 2px 5px ${ri}`:r.edgeStyle==="raised"?s.firstChild.style.textShadow=`1px 1px ${ri}, 2px 2px ${ri}, 3px 3px ${ri}`:r.edgeStyle==="depressed"?s.firstChild.style.textShadow=`1px 1px ${dT}, 0 1px ${dT}, -1px -1px ${ri}, 0 -1px ${ri}`:r.edgeStyle==="uniform"&&(s.firstChild.style.textShadow=`0 0 4px ${ri}, 0 0 4px ${ri}, 0 0 4px ${ri}, 0 0 4px ${ri}`)),r.fontPercent&&r.fontPercent!==1){const a=ee.parseFloat(s.style.fontSize);s.style.fontSize=a*r.fontPercent+"px",s.style.height="auto",s.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=f7[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof ee.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let o=0;o<i.activeCues.length;++o)r.push(i.activeCues[o])}ee.WebVTT.processCues(ee,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let o=0;o<i.activeCues.length;++o){const s=i.activeCues[o].displayState;qs(s,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&ml(s,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}Ae.registerComponent("TextTrackDisplay",h7);class p7 extends Ae{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=at("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ae.registerComponent("LoadingSpinner",p7);class Qr extends Zf{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=at(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(at("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return wt.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),Ae.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Ae.registerComponent("Button",Qr);class hT extends Qr{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ji(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const o=()=>i.focus();pu(r)?r.then(o,()=>{}):this.setTimeout(o,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}hT.prototype.controlText_="Play Video",Ae.registerComponent("BigPlayButton",hT);class m7 extends Qr{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ae.registerComponent("CloseButton",m7);class pT extends Qr{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ji(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}pT.prototype.controlText_="Play",Ae.registerComponent("PlayToggle",pT);class Tl extends Ae{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=at("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return r.appendChild(n),this.contentEl_=at("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Gs(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,wt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Be.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Tl.prototype.labelText_="Time",Tl.prototype.controlText_="Time",Ae.registerComponent("TimeDisplay",Tl);class f0 extends Tl{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}f0.prototype.labelText_="Current Time",f0.prototype.controlText_="Current Time",Ae.registerComponent("CurrentTimeDisplay",f0);class h0 extends Tl{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}h0.prototype.labelText_="Duration",h0.prototype.controlText_="Duration",Ae.registerComponent("DurationDisplay",h0);class g7 extends Ae{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}Ae.registerComponent("TimeDivider",g7);class p0 extends Tl{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(at("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}p0.prototype.labelText_="Remaining Time",p0.prototype.controlText_="Remaining Time",Ae.registerComponent("RemainingTimeDisplay",p0);class y7 extends Ae{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=at("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(at("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Be.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ae.registerComponent("LiveDisplay",y7);class mT extends Qr{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=at("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}mT.prototype.controlText_="Seek to live, currently playing live",Ae.registerComponent("SeekToLive",mT);function yu(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var b7=Object.freeze({__proto__:null,clamp:yu});class m0 extends Ae{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Xi&&e.preventDefault(),Ix(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;Dx(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(yu(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=jf(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,n=r&&r.enabled,i=r&&r.horizontalSeek;n?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ae.registerComponent("Slider",m0);const g0=(t,e)=>yu(t/e*100,0,100).toFixed(2)+"%";class v7 extends Ae{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=at("span",{className:"vjs-control-text"}),n=at("span",{textContent:this.localize("Loaded")}),i=Be.createTextNode(": ");return this.percentageEl_=at("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),s=this.partEls_,a=g0(o,i);this.percent_!==a&&(this.el_.style.width=a,ns(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const d=n.start(l),f=n.end(l);let u=s[l];u||(u=this.el_.appendChild(at()),s[l]=u),!(u.dataset.start===d&&u.dataset.end===f)&&(u.dataset.start=d,u.dataset.end=f,u.style.left=g0(d,o),u.style.width=g0(f-d,o))}for(let l=s.length;l>n.length;l--)this.el_.removeChild(s[l-1]);s.length=n.length})}}Ae.registerComponent("LoadProgressBar",v7);class _7 extends Ae{constructor(e,r){super(e,r),this.update=Zi(Gt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=uu(this.el_),o=gl(this.player_.el()),s=e.width*r;if(!o||!i)return;let a=e.left-o.left+s,l=e.width-s+(o.right-e.right);l||(l=e.width-s,a=s);let d=i.width/2;a<d?d+=d-a:l<d&&(d=l),d<0?d=0:d>i.width&&(d=i.width),d=Math.round(d),this.el_.style.right=`-${d}px`,this.write(n)}write(e){ns(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let o;const s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-r*a;o=(l<1?"":"-")+Gs(l,a)}else o=Gs(n,s);this.update(e,r,o),i&&i()})}}Ae.registerComponent("TimeTooltip",_7);class y0 extends Ae{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=Zi(Gt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}y0.prototype.options_={children:[]},!ln&&!Ki&&y0.prototype.options_.children.push("timeTooltip"),Ae.registerComponent("PlayProgressBar",y0);class gT extends Ae{constructor(e,r){super(e,r),this.update=Zi(Gt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}gT.prototype.options_={children:["timeTooltip"]},Ae.registerComponent("MouseTimeDisplay",gT);const Jf=5,yT=12;class b0 extends m0{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=Gt(this,this.update),this.update=Zi(this.update_,ei),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.on(Be,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Be.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ei))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Be.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let o=this.player_.duration();i&&i.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==o)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Gs(n,o),Gs(o,o)],"{1} of {2}")),this.currentTime_=n,this.duration_=o),this.bar&&this.bar.update(gl(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){du(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!du(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),o=this.player_.liveTracker;if(!o||!o.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){o.seekToLiveEdge();return}const s=o.seekableStart(),a=o.liveCurrentTime();if(n=s+i*o.liveWindow(),n>=a&&(n=a),n<=s&&(n=s+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ji(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Jf)}stepBack(){this.userSeek_(this.player_.currentTime()-Jf)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Jf*yT)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Jf*yT)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.off(Be,"visibilitychange",this.toggleVisibility_),super.dispose()}}b0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!ln&&!Ki&&b0.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ae.registerComponent("SeekBar",b0);class bT extends Ae{constructor(e,r){super(e,r),this.handleMouseMove=Zi(Gt(this,this.handleMouseMove),ei),this.throttledHandleMouseSeek=Zi(Gt(this,this.handleMouseSeek),ei),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const o=r.el(),s=uu(o);let a=jf(o,e).x;a=yu(a,0,1),i&&i.update(s,a),n&&n.update(s,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ji(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}bT.prototype.options_={children:["seekBar"]},Ae.registerComponent("ProgressControl",bT);class vT extends Qr{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Be.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in ee?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Be.exitPictureInPicture=="function"&&super.show()}}vT.prototype.controlText_="Picture-in-Picture",Ae.registerComponent("PictureInPictureToggle",vT);class _T extends Qr{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Be[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}_T.prototype.controlText_="Fullscreen",Ae.registerComponent("FullscreenToggle",_T);const w7=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class x7 extends Ae{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ae.registerComponent("VolumeLevel",x7);class T7 extends Ae{constructor(e,r){super(e,r),this.update=Zi(Gt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const o=gl(this.el_),s=gl(this.player_.el()),a=e.width*r;if(!s||!o)return;const l=e.left-s.left+a,d=e.width-a+(s.right-e.right);let f=o.width/2;l<f?f+=f-l:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),this.el_.style.right=`-${f}px`}this.write(`${i}%`)}write(e){ns(this.el_,e)}updateVolume(e,r,n,i,o){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),o&&o()})}}Ae.registerComponent("VolumeLevelTooltip",T7);class wT extends Ae{constructor(e,r){super(e,r),this.update=Zi(Gt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}wT.prototype.options_={children:["volumeLevelTooltip"]},Ae.registerComponent("MouseVolumeLevelDisplay",wT);class eh extends m0{constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){du(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=gl(n),o=this.vertical();let s=jf(n,e);s=o?s.y:s.x,s=yu(s,0,1),r.update(i,s,o)}du(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}eh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!ln&&!Ki&&eh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),eh.prototype.playerEvent="volumechange",Ae.registerComponent("VolumeBar",eh);class xT extends Ae{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||ul(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),w7(this,e),this.throttledHandleMouseMove=Zi(Gt(this,this.handleMouseMove),ei),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}xT.prototype.options_={children:["volumeBar"]},Ae.registerComponent("VolumeControl",xT);const A7=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class TT extends Qr{constructor(e,r){super(e,r),A7(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),ln&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),Ff(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),qs(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}TT.prototype.controlText_="Mute",Ae.registerComponent("MuteToggle",TT);class AT extends Ae{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||ul(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),$n(Be,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Gr(Be,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}AT.prototype.options_={children:["muteToggle","volumeControl"]},Ae.registerComponent("VolumePanel",AT);class CT extends Qr{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let o;r+this.skipTime<=i?o=r+this.skipTime:o=i,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}CT.prototype.controlText_="Skip Forward",Ae.registerComponent("SkipForward",CT);class ST extends Qr{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let o;i&&r-this.skipTime<=i?o=i:r>=this.skipTime?o=r-this.skipTime:o=0,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}ST.prototype.controlText_="Skip Backward",Ae.registerComponent("SkipBackward",ST);class ET extends Ae{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof Ae&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ae&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=at(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),$n(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Be.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}Ae.registerComponent("Menu",ET);class v0 extends Ae{constructor(e,r={}){super(e,r),this.menuButton_=new Qr(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=Qr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=o=>this.handleClick(o);this.handleMenuKeyUp_=o=>this.handleMenuKeyUp(o),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",o=>this.handleKeyDown(o)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),$n(Be,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",o=>this.handleMouseLeave(o)),this.on("keydown",o=>this.handleSubmenuKeyDown(o))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new ET(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=at("li",{className:"vjs-menu-title",textContent:lr(this.options_.title),tabIndex:-1}),n=new Ae(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Qr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Gr(Be,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ln&&Ax())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ae.registerComponent("MenuButton",v0);class _0 extends v0{constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=Gt(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}Ae.registerComponent("TrackButton",_0);class bu extends Zf{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),o=at("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(o):i.replaceChild(o,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ae.registerComponent("MenuItem",bu);class vu extends bu{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const o=(...a)=>{this.handleTracksChange.apply(this,a)},s=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],o),i.addEventListener("change",o),i.addEventListener("selectedlanguagechange",s),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],o),i.removeEventListener("change",o),i.removeEventListener("selectedlanguagechange",s)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof ee.Event!="object")try{a=new ee.Event("change")}catch{}a||(a=Be.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const o=n[i];this.kinds.indexOf(o.kind)!==-1&&(o===r?o.mode!=="showing"&&(o.mode="showing"):o.mode!=="disabled"&&(o.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ae.registerComponent("TextTrackMenuItem",vu);class kT extends vu{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(this.options_.kinds.indexOf(s.kind)>-1&&s.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&s.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ae.registerComponent("OffTextTrackMenuItem",kT);class Al extends _0{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=vu){let n;this.label_&&(n=`${this.label_} off`),e.push(new kT(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let o=0;o<i.length;o++){const s=i[o];if(this.kinds_.indexOf(s.kind)>-1){const a=new r(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${s.kind}-menu-item`),e.push(a)}}return e}}Ae.registerComponent("TextTrackButton",Al);class IT extends bu{constructor(e,r){const n=r.track,i=r.cue,o=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=o&&o<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ae.registerComponent("ChaptersTrackMenuItem",IT);class w0 extends Al{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(lr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const o=r[n],s=new IT(this.player_,{track:this.track_,cue:o});e.push(s)}return e}}w0.prototype.kind_="chapters",w0.prototype.controlText_="Chapters",Ae.registerComponent("ChaptersButton",w0);class x0 extends Al{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),o=Gt(this,this.handleTracksChange);i.addEventListener("change",o),this.on("dispose",function(){i.removeEventListener("change",o)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,o=r.length;i<o;i++){const s=r[i];if(s.kind!==this.kind_&&s.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}x0.prototype.kind_="descriptions",x0.prototype.controlText_="Descriptions",Ae.registerComponent("DescriptionsButton",x0);class T0 extends Al{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}T0.prototype.kind_="subtitles",T0.prototype.controlText_="Subtitles",Ae.registerComponent("SubtitlesButton",T0);class A0 extends vu{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ae.registerComponent("CaptionSettingsMenuItem",A0);class C0 extends Al{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new A0(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}C0.prototype.kind_="captions",C0.prototype.controlText_="Captions",Ae.registerComponent("CaptionsButton",C0);class DT extends vu{createEl(e,r,n){const i=super.createEl(e,r,n),o=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):o.appendChild(at("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(at("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Ae.registerComponent("SubsCapsMenuItem",DT);class S0 extends Al{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(lr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new A0(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,DT),e}}S0.prototype.kinds_=["captions","subtitles"],S0.prototype.controlText_="Subtitles",Ae.registerComponent("SubsCapsButton",S0);class MT extends bu{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const o=(...s)=>{this.handleTracksChange.apply(this,s)};i.addEventListener("change",o),this.on("dispose",()=>{i.removeEventListener("change",o)})}createEl(e,r,n){const i=super.createEl(e,r,n),o=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(o.appendChild(at("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(at("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ae.registerComponent("AudioTrackMenuItem",MT);class NT extends _0{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new MT(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}NT.prototype.controlText_="Audio Track",Ae.registerComponent("AudioTrackButton",NT);class E0 extends bu{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",o=>this.update(o))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}E0.prototype.contentElType="button",Ae.registerComponent("PlaybackRateMenuItem",E0);class OT extends v0{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=at("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new E0(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}OT.prototype.controlText_="Playback Rate",Ae.registerComponent("PlaybackRateMenuButton",OT);class LT extends Ae{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}Ae.registerComponent("Spacer",LT);class C7 extends LT{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Ae.registerComponent("CustomControlSpacer",C7);class BT extends Ae{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}BT.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},Ae.registerComponent("ControlBar",BT);class RT extends vl{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}RT.prototype.options_=Object.assign({},vl.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ae.registerComponent("ErrorDisplay",RT);class PT extends Ae{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),at("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Jn()}`)+"-"+r[1].replace(/\W+/g,""),i=at("option",{id:n,value:this.localize(r[0]),textContent:r[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),i}))}}Ae.registerComponent("TextTrackSelect",PT);class Ks extends Ae{constructor(e,r={}){super(e,r);const n=at("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const o of i){const s=this.options_.selectConfigs[o],a=s.className,l=s.id.replace("%s",this.options_.id_);let d=null;const f=`vjs_select_${Jn()}`;if(this.options_.type==="colors"){d=at("span",{className:a});const h=at("label",{id:l,className:"vjs-label",textContent:s.label});h.setAttribute("for",f),d.appendChild(h)}const u=new PT(e,{SelectOptions:s.options,legendId:this.options_.legendId,id:f,labelId:l});this.addChild(u),this.options_.type==="colors"&&(d.appendChild(u.el()),this.el().appendChild(d))}}createEl(){return at("fieldset",{className:this.options_.className})}}Ae.registerComponent("TextTrackFieldset",Ks);class FT extends Ae{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new Ks(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const o=new Ks(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o);const s=new Ks(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s)}createEl(){return at("div",{className:"vjs-track-settings-colors"})}}Ae.registerComponent("TextTrackSettingsColors",FT);class UT extends Ae{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new Ks(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const o=new Ks(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o);const s=new Ks(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s)}createEl(){return at("div",{className:"vjs-track-settings-font"})}}Ae.registerComponent("TextTrackSettingsFont",UT);class jT extends Ae{constructor(e,r={}){super(e,r);const n=this.localize("restore all settings to the default values"),i=new Qr(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const o=new Qr(e,{controlText:n,className:"vjs-done-button"});o.el().classList.remove("vjs-control","vjs-button"),o.el().textContent=this.localize("Done"),this.addChild(o)}createEl(){return at("div",{className:"vjs-track-settings-controls"})}}Ae.registerComponent("TrackSettingsControls",jT);const k0="vjs-text-track-settings",$T=["#000","Black"],zT=["#00F","Blue"],VT=["#0FF","Cyan"],HT=["#0F0","Green"],qT=["#F0F","Magenta"],WT=["#F00","Red"],GT=["#FFF","White"],QT=["#FF0","Yellow"],I0=["1","Opaque"],D0=["0.5","Semi-Transparent"],YT=["0","Transparent"],ss={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[$T,GT,WT,HT,zT,QT,qT,VT],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[I0,D0,YT],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[GT,$T,WT,HT,zT,QT,qT,VT],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[I0,D0],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[YT,D0,I0],className:"vjs-window-opacity vjs-opacity"}};ss.windowColor.options=ss.backgroundColor.options;function KT(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function S7(t,e){const r=t.options[t.options.selectedIndex].value;return KT(r,e)}function E7(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if(KT(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class k7 extends vl{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=at("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new FT(e,{textTrackComponentid:this.id_,selectConfigs:ss,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const n=new UT(e,{textTrackComponentid:this.id_,selectConfigs:ss,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new jT(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),cl(ss,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return gx(ss,(e,r,n)=>{const i=S7(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){cl(ss,(r,n)=>{E7(this.$(r.selector),e[n],r.parser)})}setDefaults(){cl(ss,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(ee.localStorage.getItem(k0))}catch(r){wt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?ee.localStorage.setItem(k0,JSON.stringify(e)):ee.localStorage.removeItem(k0)}catch(r){wt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Ae.registerComponent("TextTrackSettings",k7);class I7 extends Ae{constructor(e,r){let n=r.ResizeObserver||ee.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=Ht({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||ee.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=$x(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const o=this.debouncedHandler_;let s=this.unloadListener_=function(){Gr(this,"resize",o),Gr(this,"unload",s),s=null};$n(this.el_.contentWindow,"unload",s),$n(this.el_.contentWindow,"resize",o)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ae.registerComponent("ResizeManager",I7);const D7={trackingThreshold:20,liveTolerance:15};class M7 extends Ae{constructor(e,r){const n=Ht(D7,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(ee.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),o=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-o)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ei),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ae.registerComponent("LiveTracker",M7);class N7 extends Ae{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:at("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Jn()}`}),description:at("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Jn()}`})},at("div",{className:"vjs-title-bar"},{},yx(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const o=this.state[i],s=this.els[i],a=n[i];$f(s),o&&ns(s,o),r&&(r.removeAttribute(a),o&&r.setAttribute(a,s.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ae.registerComponent("TitleBar",N7);const O7={initialDisplay:4e3,position:[],takeFocus:!1};class L7 extends Qr{constructor(e,r){r=Ht(O7,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],n=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=at("button",{},{type:"button",class:this.buildCSSClass()},at("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Ae.registerComponent("TransientButton",L7);const M0=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let o=0;o<r.length;o++){const s=r[o].src;s&&n.indexOf(s)===-1&&n.push(s)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},B7=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Be.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Be.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",ee.Element.prototype.appendChild.call(this,r),this.innerHTML}}),XT=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},R7=t=>XT([t.el(),ee.HTMLMediaElement.prototype,ee.Element.prototype,B7],"innerHTML"),ZT=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=R7(t),i=o=>(...s)=>{const a=o.apply(e,s);return M0(t),a};["append","appendChild","insertAdjacentHTML"].forEach(o=>{e[o]&&(r[o]=e[o],e[o]=i(r[o]))}),Object.defineProperty(e,"innerHTML",Ht(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(o=>{e[o]=r[o]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},P7=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?eT(ee.Element.prototype.getAttribute.call(this,"src")):""},set(t){return ee.Element.prototype.setAttribute.call(this,"src",t),t}}),F7=t=>XT([t.el(),ee.HTMLMediaElement.prototype,P7],"src"),U7=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=F7(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Ht(r,{set:o=>{const s=r.set.call(e,o);return t.triggerSourceset(e.src),s}})),e.setAttribute=(o,s)=>{const a=n.call(e,o,s);return/src/i.test(o)&&t.triggerSourceset(e.src),a},e.load=()=>{const o=i.call(e);return M0(t)||(t.triggerSourceset(""),ZT(t)),o},e.currentSrc?t.triggerSourceset(e.currentSrc):M0(t)||ZT(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class qe extends pt{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const o=this.el_.childNodes;let s=o.length;const a=[];for(;s--;){const l=o[s];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&Qf(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&wt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(lu||Lf)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),qe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){U7(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let o=0;o<e.length;o++){const s=e[o];s.kind==="metadata"&&r.push({track:s,storedMode:s.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let o=0;o<r.length;o++){const s=r[o];s.track.mode==="disabled"&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=ti[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const o={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[wl.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},s=function(){const a=[];for(let l=0;l<i.length;l++){let d=!1;for(let f=0;f<n.length;f++)if(n[f]===i[l]){d=!0;break}d||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[r.getterName+"Listeners_"]=o,Object.keys(o).forEach(a=>{const l=o[a];n.addEventListener(a,l),this.on("dispose",d=>n.removeEventListener(a,l))}),this.on("loadstart",s),this.on("dispose",a=>this.off("loadstart",s))}proxyNativeTracks_(){ti.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),qe.disposeMediaElement(e),e=n}else{e=Be.createElement("video");const n=this.options_.tag&&is(this.options_.tag),i=Ht({},n);(!lu||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,Ex(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&ml(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],o=this.options_[i];typeof o<"u"&&(o?ml(e,i,i):Uf(e,i),e[i]=o)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const o=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",o),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Pf?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){wt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Ki&&Xi&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ji(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){qe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Be.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ee.performance&&(e.creationTime=ee.performance.now()),e}}If(qe,"TEST_VID",function(){if(!hl())return;const t=Be.createElement("video"),e=Be.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}),qe.isSupported=function(){try{qe.TEST_VID.volume=.5}catch{return!1}return!!(qe.TEST_VID&&qe.TEST_VID.canPlayType)},qe.canPlayType=function(t){return qe.TEST_VID.canPlayType(t)},qe.canPlaySource=function(t,e){return qe.canPlayType(t.type)},qe.canControlVolume=function(){try{const t=qe.TEST_VID.volume;qe.TEST_VID.volume=t/2+.1;const e=t!==qe.TEST_VID.volume;return e&&ln?(ee.setTimeout(()=>{qe&&qe.prototype&&(qe.prototype.featuresVolumeControl=t!==qe.TEST_VID.volume)}),!1):e}catch{return!1}},qe.canMuteVolume=function(){try{const t=qe.TEST_VID.muted;return qe.TEST_VID.muted=!t,qe.TEST_VID.muted?ml(qe.TEST_VID,"muted","muted"):Uf(qe.TEST_VID,"muted","muted"),t!==qe.TEST_VID.muted}catch{return!1}},qe.canControlPlaybackRate=function(){if(Ki&&Xi&&Df<58)return!1;try{const t=qe.TEST_VID.playbackRate;return qe.TEST_VID.playbackRate=t/2+.1,t!==qe.TEST_VID.playbackRate}catch{return!1}},qe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Be.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Be.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Be.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Be.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},qe.supportsNativeTextTracks=function(){return Pf||ln&&Xi},qe.supportsNativeVideoTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.videoTracks)},qe.supportsNativeAudioTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.audioTracks)},qe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){If(qe.prototype,t,()=>qe[e](),!0)}),qe.prototype.featuresVolumeControl=qe.canControlVolume(),qe.prototype.movingMediaElementInDOM=!ln,qe.prototype.featuresFullscreenResize=!0,qe.prototype.featuresProgressEvents=!0,qe.prototype.featuresTimeupdateEvents=!0,qe.prototype.featuresVideoFrameCallback=!!(qe.TEST_VID&&qe.TEST_VID.requestVideoFrameCallback),qe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}},qe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){qe.prototype["set"+lr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){qe.prototype["set"+lr(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]()}}),pt.withSourceHandlers(qe),qe.nativeSourceHandler={},qe.nativeSourceHandler.canPlayType=function(t){try{return qe.TEST_VID.canPlayType(t)}catch{return""}},qe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return qe.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=l0(t.src);return qe.nativeSourceHandler.canPlayType(`video/${r}`)}return""},qe.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)},qe.nativeSourceHandler.dispose=function(){},qe.registerSourceHandler(qe.nativeSourceHandler),pt.registerTech("Html5",qe);const JT=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],N0={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},O0=["tiny","xsmall","small","medium","large","xlarge","huge"],th={};O0.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;th[t]=`vjs-layout-${e}`});const j7={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Yt extends Ae{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${Jn()}`,r=Object.assign(Yt.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const s=e.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=s=>this.documentFullscreenChange_(s),this.boundFullWindowOnEscKey_=s=>this.fullWindowOnEscKey(s),this.boundUpdateStyleEl_=s=>this.updateStyleEl_(s),this.boundApplyInitTime_=s=>this.applyInitTime_(s),this.boundUpdateCurrentBreakpoint_=s=>this.updateCurrentBreakpoint_(s),this.boundHandleTechClick_=s=>this.handleTechClick_(s),this.boundHandleTechDoubleClick_=s=>this.handleTechDoubleClick_(s),this.boundHandleTechTouchStart_=s=>this.handleTechTouchStart_(s),this.boundHandleTechTouchMove_=s=>this.handleTechTouchMove_(s),this.boundHandleTechTouchEnd_=s=>this.handleTechTouchEnd_(s),this.boundHandleTechTap_=s=>this.handleTechTap_(s),this.boundUpdatePlayerHeightOnAudioOnlyMode_=s=>this.updatePlayerHeightOnAudioOnlyMode_(s),this.isFullscreen_=!1,this.log=px(this.id_),this.fsApi_=Ef,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&is(e),this.language(this.options_.language),r.languages){const s={};Object.getOwnPropertyNames(r.languages).forEach(function(a){s[a.toLowerCase()]=r.languages[a]}),this.languages_=s}else this.languages_=Yt.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(s=>{if(typeof this[s]!="function")throw new Error(`plugin "${s}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Jg(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&($n(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Ht(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(s=>{this[s](r.plugins[s])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const a=new ee.DOMParser().parseFromString(c7,"image/svg+xml");if(a.querySelector("parsererror"))wt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const d=a.documentElement;d.style.display="none",this.el_.appendChild(d),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new u7(this),this.addClass("vjs-spatial-navigation-enabled")),lu&&this.addClass("vjs-touch-enabled"),ln||this.addClass("vjs-workinghover"),Yt.players[this.id_]=this;const o=Ug.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",s=>this.listenForUserActivity_(s)),this.on("keydown",s=>this.handleKeyDown(s)),this.on("languagechange",s=>this.handleLanguagechange(s)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Gr(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Gr(Be,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Yt.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),o7(this),un.names.forEach(e=>{const r=un[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const o=is(e);if(i){for(r=this.el_=e,e=this.tag=Be.createElement("video");r.children.length;)e.appendChild(r.firstChild);cu(r,"video-js")||qs(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),o.tabindex="-1",Xi&&Nf&&(e.setAttribute("role","application"),o.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(l){i&&l==="class"||r.setAttribute(l,o[l]),i&&e.setAttribute(l,o[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>xx[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),ee.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Fx("vjs-styles-dimensions");const l=os(".vjs-styles-defaults"),d=os("head");d.insertBefore(this.styleEl_,l?l.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const d=a.item(l);qs(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),Hg(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){wt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){wt.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,ko(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),PR(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(ee.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(a>=0&&(d.width=a),l>=0&&(d.height=l));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const o=n.split(":"),s=o[1]/o[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/s:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*s,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),Ux(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${s*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=lr(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(pt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let o=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(o=!1);const s={source:r,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};un.names.forEach(l=>{const d=un[l];s[d.getterName]=this[d.privateName]}),Object.assign(s,this.options_[n]),Object.assign(s,this.options_[i]),Object.assign(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);const a=pt.getTech(e);if(!a)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new a(s),this.tech_.ready(Gt(this,this.handleTechReady_),!0),Xx.jsonToTextTracks(this.textTracksJson_||[],this.tech_),JT.forEach(l=>{this.on(this.tech_,l,d=>this[`handleTech${lr(l)}_`](d))}),Object.keys(N0).forEach(l=>{this.on(this.tech_,l,d=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${N0[l]}_`].bind(this),event:d});return}this[`handleTech${N0[l]}_`](d)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,d)=>this.handleTechFullscreenChange_(l,d)),this.on(this.tech_,"fullscreenerror",(l,d)=>this.handleTechFullscreenError_(l,d)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&Hg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){un.names.forEach(e=>{const r=un[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=Xx.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&wt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Ug}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const o=()=>{this.muted(i)};this.playTerminatedQueue_.push(o);const s=this.play();if(pu(s))return s.catch(a=>{throw o(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),pu(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!pu(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=l7(this,r)),this.cache_.source=Ht({},e,{src:r,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===r),o=[],s=this.$$("source"),a=[];for(let l=0;l<s.length;l++){const d=is(s[l]);o.push(d),d.src&&d.src===r&&a.push(d.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=o=>this.updateSourceCaches_(o);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],o=>{if(o.type==="sourceset")return;const s=this.techGet_("currentSrc");this.lastSource_.tech=s,this.updateSourceCaches_(s)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ji(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=Be[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in n7)return t7(this.middleware_,this.tech_,e,r);if(e in sT)return oT(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw wt(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in r7)return e7(this.middleware_,this.tech_,e);if(e in sT)return oT(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(wt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(wt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(wt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ji){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(Pf||ln);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Si(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Si(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Si(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Kx(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function o(){r.off("fullscreenerror",a),r.off("fullscreenchange",s)}function s(){o(),n()}function a(d,f){o(),i(f)}r.one("fullscreenchange",s),r.one("fullscreenerror",a);const l=r.requestFullscreenHelper_(e);l&&(l.then(o,o),l.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",s),e.off("fullscreenchange",o)}function o(){i(),r()}function s(l,d){i(),n(d)}e.one("fullscreenchange",o),e.one("fullscreenerror",s);const a=e.exitFullscreenHelper_();a&&(a.then(i,i),a.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Be[this.fsApi_.exitFullscreen]();return e&&Ji(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Be.documentElement.style.overflow,$n(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow="hidden",qs(Be.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Gr(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow=this.docOrigOverflow,Ff(Be.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&ee.documentPictureInPicture){const e=Be.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(at("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),ee.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(Bx(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Be&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(ee.documentPictureInPicture&&ee.documentPictureInPicture.window)return ee.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Be)return Be.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const o=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const s=["button","checkbox","hidden","radio","reset","submit"];return o==="input"?s.indexOf(i.type)===-1:["textarea"].indexOf(o)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=s=>e.key.toLowerCase()==="f",muteKey:i=s=>e.key.toLowerCase()==="m",playPauseKey:o=s=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const s=Ae.getComponent("FullscreenToggle");Be[this.fsApi_.fullscreenEnabled]!==!1&&s.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ae.getComponent("MuteToggle").prototype.handleClick.call(this,e)):o.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ae.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const o=i[n];let s=pt.getTech(o);if(s||(s=Ae.getComponent(o)),!s){wt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`);continue}if(s.isSupported()&&(r=s.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(a=>[a,pt.getTech(a)]).filter(([a,l])=>l?l.isSupported():(wt.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(a,l,d){let f;return a.some(u=>l.some(h=>{if(f=d(u,h),f)return!0})),f};let i;const o=a=>(l,d)=>a(d,l),s=([a,l],d)=>{if(l.canPlaySource(d,this.options_[a.toLowerCase()]))return{source:d,tech:a}};return this.options_.sourceOrder?i=n(e,r,o(s)):i=n(r,e,s),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=aT(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),ZR(this,n[0],(i,o)=>{if(this.middleware_=o,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}JR(o,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},o=()=>{this.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",o)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?qx(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ji(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),ko(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:o}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),o&&(o.update(),o.loadProgressBar&&o.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ts("beforeerror").forEach(r=>{const n=r(this,e);if(!(Yi(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new ir(e),this.addClass("vjs-error"),wt.error(`(CODE:${this.error_.code} ${ir.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ts("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=Gt(this,this.reportUserActivity),o=function(u){(u.screenX!==r||u.screenY!==n)&&(r=u.screenX,n=u.screenY,i())},s=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(u){i(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",o),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!ln&&!Ki&&(l.on("mouseenter",function(u){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(u){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let d;const f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);const u=this.options_.inactivityTimeout;u<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},u))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ko(this)&&this.trigger("languagechange"))}languages(){return Ht(Yt.prototype.options_.languages,this.languages_)}toJSON(){const e=Ht(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=Ht(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new vl(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<O0.length;n++){const i=O0[n],o=this.breakpoints_[i];if(r<=o){if(e===i)return;e&&this.removeClass(th[e]),this.addClass(th[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},j7,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return th[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Ht(e);const{artist:i,artwork:o,description:s,poster:a,src:l,textTracks:d,title:f}=this.cache_.media;!o&&a&&(this.cache_.media.artwork=[{src:a,type:Xf(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(d)&&d.forEach(u=>this.addRemoteTextTrack(u,!1)),this.titleBar&&this.titleBar.update({title:f,description:s||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),o=>({kind:o.kind,label:o.label,language:o.language,src:o.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:Xf(i.poster)}]),i}return Ht(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=is(e),i=n["data-setup"];if(cu(e,"vjs-fill")&&(n.fill=!0),cu(e,"vjs-fluid")&&(n.fluid=!0),i!==null){const[o,s]=y9(i||"{}");o&&wt.error(o),Object.assign(n,s)}if(Object.assign(r,n),e.hasChildNodes()){const o=e.childNodes;for(let s=0,a=o.length;s<a;s++){const l=o[s],d=l.nodeName.toLowerCase();d==="source"?r.sources.push(is(l)):d==="track"&&r.tracks.push(is(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}un.names.forEach(function(t){const e=un[t];Yt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Yt.prototype.crossorigin=Yt.prototype.crossOrigin,Yt.players={};const _u=ee.navigator;Yt.prototype.options_={techOrder:pt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:_u&&(_u.languages&&_u.languages[0]||_u.userLanguage||_u.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1},JT.forEach(function(t){Yt.prototype[`handleTech${lr(t)}_`]=function(){return this.trigger(t)}}),Ae.registerComponent("Player",Yt);const rh="plugin",Cl="activePlugins_",Sl={},nh=t=>Sl.hasOwnProperty(t),ih=t=>nh(t)?Sl[t]:void 0,eA=(t,e)=>{t[Cl]=t[Cl]||{},t[Cl][e]=!0},oh=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},$7=function(t,e){const r=function(){oh(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return eA(this,t),oh(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},tA=(t,e)=>(e.prototype.name=t,function(...r){oh(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,oh(this,n.getEventHash()),n});class Sn{constructor(e){if(this.constructor===Sn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Jg(this),delete this.trigger,Hx(this,this.constructor.defaultState),eA(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return bl(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Cl][e]=!1,this.player=this.state=null,r[e]=tA(e,Sl[e])}static isBasic(e){const r=typeof e=="string"?ih(e):e;return typeof r=="function"&&!Sn.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(nh(e))wt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Yt.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return Sl[e]=r,e!==rh&&(Sn.isBasic(r)?Yt.prototype[e]=$7(e,r):Yt.prototype[e]=tA(e,r)),r}static deregisterPlugin(e){if(e===rh)throw new Error("Cannot de-register base plugin.");nh(e)&&(delete Sl[e],delete Yt.prototype[e])}static getPlugins(e=Object.keys(Sl)){let r;return e.forEach(n=>{const i=ih(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=ih(e);return r&&r.VERSION||""}}Sn.getPlugin=ih,Sn.BASE_PLUGIN_NAME=rh,Sn.registerPlugin(rh,Sn),Yt.prototype.usingPlugin=function(t){return!!this[Cl]&&this[Cl][t]===!0},Yt.prototype.hasPlugin=function(t){return!!nh(t)};function z7(t,e){let r=!1;return function(...n){return r||wt.warn(t),r=!0,e.apply(this,n)}}function Ei(t,e,r,n){return z7(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}var V7={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const rA=t=>t.indexOf("#")===0?t.slice(1):t;function ye(t,e,r){let n=ye.getPlayer(t);if(n)return e&&wt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?os("#"+rA(t)):t;if(!pl(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s=("getRootNode"in i?i.getRootNode()instanceof ee.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!s.contains(i))&&wt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),ts("beforesetup").forEach(l=>{const d=l(i,Ht(e));if(!Yi(d)||Array.isArray(d)){wt.error("please return an object in beforesetup hooks");return}e=Ht(e,d)});const a=Ae.getComponent("Player");return n=new a(i,e,r),ts("setup").forEach(l=>l(n)),n}if(ye.hooks_=Eo,ye.hooks=ts,ye.hook=AR,ye.hookOnce=CR,ye.removeHook=fx,ee.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&hl()){let t=os(".vjs-styles-defaults");if(!t){t=Fx("vjs-styles-defaults");const e=os("head");e&&e.insertBefore(t,e.firstChild),Ux(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Gg(1,ye),ye.VERSION=Ug,ye.options=Yt.prototype.options_,ye.getPlayers=()=>Yt.players,ye.getPlayer=t=>{const e=Yt.players;let r;if(typeof t=="string"){const n=rA(t),i=e[n];if(i)return i;r=os("#"+n)}else r=t;if(pl(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}},ye.getAllPlayers=()=>Object.keys(Yt.players).map(t=>Yt.players[t]).filter(Boolean),ye.players=Yt.players,ye.getComponent=Ae.getComponent,ye.registerComponent=(t,e)=>(pt.isTech(e)&&wt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Ae.registerComponent.call(Ae,t,e)),ye.getTech=pt.getTech,ye.registerTech=pt.registerTech,ye.use=XR,Object.defineProperty(ye,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ye.middleware,"TERMINATOR",{value:Kf,writeable:!1,enumerable:!0}),ye.browser=xx,ye.obj=kR,ye.mergeOptions=Ei(9,"videojs.mergeOptions","videojs.obj.merge",Ht),ye.defineLazyProperty=Ei(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",If),ye.bind=Ei(9,"videojs.bind","native Function.prototype.bind",Gt),ye.registerPlugin=Sn.registerPlugin,ye.deregisterPlugin=Sn.deregisterPlugin,ye.plugin=(t,e)=>(wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Sn.registerPlugin(t,e)),ye.getPlugins=Sn.getPlugins,ye.getPlugin=Sn.getPlugin,ye.getPluginVersion=Sn.getPluginVersion,ye.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ye.options.languages=Ht(ye.options.languages,{[t]:e}),ye.options.languages[t]},ye.log=wt,ye.createLogger=px,ye.time=zR,ye.createTimeRange=Ei(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Si),ye.createTimeRanges=Ei(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Si),ye.formatTime=Ei(9,"videojs.formatTime","videojs.time.formatTime",Gs),ye.setFormatTime=Ei(9,"videojs.setFormatTime","videojs.time.setFormatTime",Qx),ye.resetFormatTime=Ei(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Yx),ye.parseUrl=Ei(9,"videojs.parseUrl","videojs.url.parseUrl",a0),ye.isCrossOrigin=Ei(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Qf),ye.EventTarget=zn,ye.any=Kg,ye.on=$n,ye.one=Hf,ye.off=Gr,ye.trigger=bl,ye.xhr=R_,ye.TextTrack=mu,ye.AudioTrack=nT,ye.VideoTrack=iT,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ye[t]=function(){return wt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),Rx[t].apply(null,arguments)}}),ye.computedStyle=Ei(9,"videojs.computedStyle","videojs.dom.computedStyle",yl),ye.dom=Rx,ye.fn=RR,ye.num=b7,ye.str=jR,ye.url=YR,ye.Error=V7;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class H7{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class sh extends ye.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new H7(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}sh.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in sh.prototype.allowedEvents_)sh.prototype["on"+t]=null;var nA="4.1.0";const q7=function(t,e){const r=t.qualityLevels,n=new sh,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=nA,n},iA=function(t){return q7(this,ye.obj.merge({},t))};ye.registerPlugin("qualityLevels",iA),iA.VERSION=nA;/*! @name @videojs/http-streaming @version 3.13.2 @license Apache-2.0 */const En=df,ah=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ni=t=>ye.log.debug?ye.log.debug.bind(ye,"VHS:",`${t} >`):function(){};function Rt(...t){const e=ye.obj||ye;return(e.merge||e.mergeOptions).apply(e,t)}function $r(...t){const e=ye.time||ye;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function W7(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const n=t.start(r),i=t.end(r);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const eo=1/30,to=eo*3,oA=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return $r(r)},El=function(t,e){return oA(t,function(r,n){return r-to<=e&&n+to>=e})},lh=function(t,e){return oA(t,function(r){return r-eo>=e})},G7=function(t){if(t.length<2)return $r();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return $r(e)},Q7=function(t,e){let r=null,n=null,i=0;const o=[],s=[];if(!t||!t.length||!e||!e.length)return $r();let a=t.length;for(;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(a=e.length;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(o.sort(function(l,d){return l.time-d.time}),a=0;a<o.length;a++)o[a].type==="start"?(i++,i===2&&(r=o[a].time)):o[a].type==="end"&&(i--,i===1&&(n=o[a].time)),r!==null&&n!==null&&(s.push([r,n]),r=null,n=null);return $r(s)},sA=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},Y7=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},Xs=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},K7=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},L0=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},B0=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),o=t.end(n);if(!(e>o)){if(e>i&&e<=o){r+=o-e;continue}r+=o-i}}return r},R0=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},P0=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,o){e.push({duration:i.duration,segmentIndex:n,partIndex:o,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),aA=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},lA=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,o)=>i+(o.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},cA=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=aA(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},X7=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=R0(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},Z7=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=R0(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},uA=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=X7(t,e);if(n.precise)return n.result;const i=Z7(t,e);return i.precise?i.result:n.result+r},dA=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return ee.Infinity}return uA(t,e,r)},wu=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let o=r;o<Math.min(0,n);o++)i+=t;r=0}for(let o=r;o<n;o++)i+=e[o].duration;return i},fA=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return dA(t);if(e===null)return null;e=e||0;let i=uA(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:cA(null,t),i-=n),Math.max(0,i)},J7=function(t,e,r){const i=e||0;let o=fA(t,e,!0,r);return o===null?$r():(o<i&&(o=i),$r(i,o))},eP=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:o}){let s=e-i;const a=P0(t);let l=0;for(let d=0;d<a.length;d++){const f=a[d];if(r===f.segmentIndex&&!(typeof n=="number"&&typeof f.partIndex=="number"&&n!==f.partIndex)){l=d;break}}if(s<0){if(l>0)for(let d=l-1;d>=0;d--){const f=a[d];if(s+=f.duration,o){if(s<0)continue}else if(s+eo<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i-wu({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:d})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let d=l;d<0;d++)if(s-=t.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let d=l;d<a.length;d++){const f=a[d];s-=f.duration;const u=f.duration>eo,h=s===0,p=u&&s+eo>=0;if(!((h||p)&&d!==a.length-1)){if(o){if(s>0)continue}else if(s-eo>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:i+wu({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:d})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},hA=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},F0=function(t){return t.excludeUntil&&t.excludeUntil===1/0},ch=function(t){const e=hA(t);return!t.disabled&&!e},tP=function(t){return t.disabled},rP=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},pA=function(t,e){return e.attributes&&e.attributes[t]},nP=function(t,e,r,n=0){return pA("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},U0=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>ch(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},j0=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),mA=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const o in r[i])if(n=e(r[i][o]),n)break;if(n)break}return!!n},xu=t=>{if(!t||!t.playlists||!t.playlists.length)return mA(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(o=>K_(o))||mA(t,o=>j0(r,o))))return!1}return!0};var kn={liveEdgeDelay:cA,duration:dA,seekable:J7,getMediaInfoForTime:eP,isEnabled:ch,isDisabled:tP,isExcluded:hA,isIncompatible:F0,playlistEnd:fA,isAes:rP,hasAttribute:pA,estimateSegmentRequestTime:nP,isLowestEnabledRendition:U0,isAudioOnly:xu,playlistMatch:j0,segmentDurationWithParts:R0};const{log:gA}=ye,kl=(t,e)=>`${t}-${e}`,yA=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,iP=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:o})=>{const s=new wL;t&&s.on("warn",t),e&&s.on("info",e),n.forEach(d=>s.addParser(d)),i.forEach(d=>s.addTagMapper(d)),s.push(r),s.end();const a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(d){a.hasOwnProperty(d)&&delete a[d]}),a.segments&&a.segments.forEach(function(d){["parts","preloadHints"].forEach(function(f){d.hasOwnProperty(f)&&delete d[f]})})),!a.targetDuration){let d=10;a.segments&&a.segments.length&&(d=a.segments.reduce((f,u)=>Math.max(f,u.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${d}`}),a.targetDuration=d}const l=aA(a);if(l.length&&!a.partTargetDuration){const d=l.reduce((f,u)=>Math.max(f,u.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${d}`}),gA.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=d}return a},Il=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const o=t.mediaGroups[r][n][i];e(o,r,n,i)}})},bA=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},oP=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];bA({playlist:r,id:kl(e,r.uri)}),r.resolvedUri=En(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||gA.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},sP=t=>{Il(t,e=>{e.uri&&(e.resolvedUri=En(t.uri,e.uri))})},aP=(t,e)=>{const r=kl(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ee.location.href,resolvedUri:ee.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},vA=(t,e,r=yA)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const o=`placeholder-uri-${i}`;t.playlists[i].uri=o}const n=xu(t);Il(t,(i,o,s,a)=>{if(!i.playlists||!i.playlists.length){if(n&&o==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const d=t.playlists[l];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===s)return}i.playlists=[yr({},i)]}i.playlists.forEach(function(l,d){const f=r(o,s,a,l),u=kl(d,f);l.uri?l.resolvedUri=l.resolvedUri||En(t.uri,l.uri):(l.uri=d===0?f:u,l.resolvedUri=l.uri),l.id=l.id||u,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),oP(t),sP(t)};class _A{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,o)=>(i.set(o.id,o),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const o=e[n.class].push(n);n.classListIndex=o-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const wA=22,Zs=({requestType:t,request:e,error:r,parseFailure:n})=>{const i=e.status<200||e.status>299,o=e.status>=400&&e.status<=499,s={uri:e.uri,requestType:t},a=i&&!o||n;if(r&&o)s.error=yr({},r),s.errorType=ye.Error.NetworkRequestFailed;else if(e.aborted)s.errorType=ye.Error.NetworkRequestAborted;else if(e.timedout)s.erroType=ye.Error.NetworkRequestTimeout;else if(a){const l=n?ye.Error.NetworkBodyParserFailed:ye.Error.NetworkBadStatus;s.errorType=l,s.status=e.status,s.headers=e.headers}return s},{EventTarget:lP}=ye,cP=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const o=n.parts||[],s=lA(e)-1;s>-1&&s!==o.length-1&&(r._HLS_part=s),(s>-1||o.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new ee.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},uP=(t,e)=>{if(!t)return e;const r=Rt(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=Rt(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},dP=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const o=[];let s;for(let a=0;a<i.length;a++){const l=n[a+r],d=i[a];l?(s=l.map||s,o.push(uP(l,d))):(s&&!d.map&&(d.map=s),o.push(d))}return o},xA=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=En(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=En(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=En(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=En(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=En(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=En(e,r.uri))})},TA=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},AA=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,$0=(t,e,r=AA)=>{const n=Rt(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=TA(e);const o=Rt(i,e);if(o.preloadSegment&&!e.preloadSegment&&delete o.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let s=0;s<e.skip.skippedSegments;s++)e.segments.unshift({skipped:!0})}o.segments=dP(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}o.segments.forEach(s=>{xA(s,o.resolvedUri)});for(let s=0;s<n.playlists.length;s++)n.playlists[s].id===e.id&&(n.playlists[s]=o);return n.playlists[e.id]=o,n.playlists[e.uri]=o,Il(t,(s,a,l,d)=>{if(s.playlists)for(let f=0;f<s.playlists.length;f++)e.id===s.playlists[f].id&&(s.playlists[f]=o)}),n},z0=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],o=i&&i.duration||n&&n.duration;return e&&o?o*1e3:(t.partTargetDuration||t.targetDuration||10)*500},CA=(t,e,r)=>{if(!t)return;const n=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:o,RESOLUTION:s,CODECS:a}=i.attributes;n.push({id:i.id,bandwidth:o,resolution:s,codecs:a})}),{type:e,isLive:r,renditions:n}};class Dl extends lP{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ni("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const o=r.options_;this.customTagParsers=o&&o.customTagParsers||[],this.customTagMappers=o&&o.customTagMappers||[],this.llhls=o&&o.llhls,this.dateRangesStorage_=new _A,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=En(this.main.uri,e.uri);this.llhls&&(r=cP(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:o}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[o],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Zs({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{return iP({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:ye.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const o={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:o});const s=r||this.parseManifest_({url:n,manifestString:e});s.lastRequest=Date.now(),bA({playlist:s,uri:n,id:i});const a=$0(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(z0(this.media(),!!a)),o.parsedPlaylist=CA(this.main.playlists,o.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:o}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),ee.clearTimeout(this.mediaUpdateTimeout),ee.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new _A,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(ee.clearTimeout(this.finalRenditionTimeout),r){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=ee.setTimeout(this.media.bind(this,e,!1),a);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(z0(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const s={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=ah(e.resolvedUri,l),a)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=ee.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=ee.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=ee.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:Zs({requestType:n.requestType,request:n,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=ah(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=CA(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,vA(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=TA(n),n.segments.forEach(i=>{xA(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||ee.location.href;this.main=aP(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let o=n.playlists.length;for(;o--;){const s=n.playlists[o];if(s.attributes["PATHWAY-ID"]===i){const a=s.resolvedUri,l=s.id;if(r){const d=this.createCloneURI_(s.resolvedUri,e),f=kl(i,d),u=this.createCloneAttributes_(i,s.attributes),h=this.createClonePlaylist_(s,f,e,u);n.playlists[o]=h,n.playlists[f]=h,n.playlists[d]=h}else n.playlists.splice(o,1);delete n.playlists[l],delete n.playlists[a]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!n.mediaGroups[o]||!n.mediaGroups[o][i])){for(const s in n.mediaGroups[o])if(s===i){for(const a in n.mediaGroups[o][s])n.mediaGroups[o][s][a].playlists.forEach((d,f)=>{const u=n.playlists[d.id],h=u.id,p=u.resolvedUri;delete n.playlists[h],delete n.playlists[p]});delete n.mediaGroups[o][s]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,o=this.createCloneURI_(r.resolvedUri,e),s=kl(e.ID,o),a=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,s,e,a);n.playlists[i]=l,n.playlists[s]=l,n.playlists[o]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!i.mediaGroups[o]||i.mediaGroups[o][r]))for(const s in i.mediaGroups[o]){if(s===n)i.mediaGroups[o][r]={};else continue;for(const a in i.mediaGroups[o][s]){const l=i.mediaGroups[o][s][a];i.mediaGroups[o][r][a]=yr({},l);const d=i.mediaGroups[o][r][a],f=this.createCloneURI_(l.resolvedUri,e);d.resolvedUri=f,d.uri=f,d.playlists=[],l.playlists.forEach((u,h)=>{const p=i.playlists[u.id],m=yA(o,r,a),y=kl(r,m);if(p&&!i.playlists[y]){const b=this.createClonePlaylist_(p,y,e),v=b.resolvedUri;i.playlists[y]=b,i.playlists[v]=b}d.playlists[h]=this.createClonePlaylist_(u,y,e)})}}})}createClonePlaylist_(e,r,n,i){const o=this.createCloneURI_(e.resolvedUri,n),s={resolvedUri:o,uri:o,id:r};return e.segments&&(s.segments=[]),i&&(s.attributes=i),Rt(e,s)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const o of Object.keys(i))n.searchParams.set(o,i[o]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const V0=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},fP=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},hP=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},SA=function(){const t=function e(r,n){r=Rt({timeout:45e3},r);const i=e.beforeRequest||ye.Vhs.xhr.beforeRequest,o=e._requestCallbackSet||ye.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||ye.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(ye.log.warn("beforeRequest is deprecated, use onRequest instead."),o.add(i));const a=ye.Vhs.xhr.original===!0?ye.xhr:ye.Vhs.xhr,l=fP(o,r);o.delete(i);const d=a(l||r,function(u,h){return hP(s,d,u,h),V0(d,u,h,n)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=r.uri,d.requestType=r.requestType,d.requestTime=Date.now(),d};return t.original=!0,t},pP=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ee.BigInt(t.offset)+ee.BigInt(t.length)-ee.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},H0=function(t){const e={};return t.byterange&&(e.Range=pP(t.byterange)),e},mP=function(t,e){return t.start(e)+"-"+t.end(e)},gP=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},yP=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},EA=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];J_(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},uh=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},kA=function(t){return t.resolvedUri},IA=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,o;for(let s=0;s<e.length/r;s++)i=e.slice(s*r,s*r+r).map(gP).join(""),o=e.slice(s*r,s*r+r).map(yP).join(""),n+=i+" "+o+`
`;return n};var bP=Object.freeze({__proto__:null,createTransferableMessage:EA,initSegmentId:uh,segmentKeyId:kA,hexDump:IA,tagDump:({bytes:t})=>IA(t),textRanges:t=>{let e="",r;for(r=0;r<t.length;r++)e+=mP(t,r)+" ";return e}});const DA=.25,vP=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,o=t-i;return new Date(e.dateTimeObject.getTime()+o*1e3)},_P=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,wP=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const d=new Date(e.segments[l+1].dateTimeObject);if(r<d)break}const i=e.segments[e.segments.length-1],o=i.dateTimeObject,s=i.videoTimingInfo?_P(i.videoTimingInfo):i.duration+i.duration*DA,a=new Date(o.getTime()+s*1e3);return r>a?null:(r>new Date(o)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:kn.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},xP=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let o=0;o<e.segments.length&&(n=e.segments[o],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));o++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*DA)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},TP=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},AP=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},CP=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=xP(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},o=vP(e,n.segment);return o&&(i.programDateTime=o.toISOString()),r(null,i)},MA=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!AP(e))return s({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=wP(t,e);if(!a)return s({message:`${t} was not found in the stream`});const l=a.segment,d=TP(l.dateTimeObject,t);if(a.type==="estimate"){if(r===0)return s({message:`${t} is not buffered yet. Try again`});n(a.estimatedStart+d),o.one("seeked",()=>{MA({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:o,callback:s})});return}const f=l.start+d,u=()=>s(null,o.currentTime());o.one("seeked",u),i&&o.pause(),n(f)},q0=(t,e)=>{if(t.readyState===4)return e()},SP=(t,e,r,n)=>{let i=[],o,s=!1;const a=function(u,h,p,m){return h.abort(),s=!0,r(u,h,p,m)},l=function(u,h){if(s)return;if(u)return u.metadata=Zs({requestType:n,request:h,error:u}),a(u,h,"",i);const p=h.responseText.substring(i&&i.byteLength||0,h.responseText.length);if(i=OL(i,ew(p,!0)),o=o||su(i),i.length<10||o&&i.length<o+2)return q0(h,()=>a(u,h,"",i));const m=Lg(i);return m==="ts"&&i.length<188?q0(h,()=>a(u,h,"",i)):!m&&i.length<376?q0(h,()=>a(u,h,"",i)):a(null,h,m,i)},f=e({uri:t,beforeSend(u){u.overrideMimeType("text/plain; charset=x-user-defined"),u.addEventListener("progress",function({total:h,loaded:p}){return V0(u,null,{statusCode:u.status},l)})}},function(u,h){return V0(f,u,h,l)});return f},{EventTarget:EP}=ye,NA=function(t,e){if(!AA(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const o=n.byterange,s=i.byterange;if(o&&!s||!o&&s||o.offset!==s.offset||o.length!==s.length)return!1}return!0},kP=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},IP=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const o=rR(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return vA(o,e,kP),o},DP=(t,e)=>{Il(t,(r,n,i,o)=>{o in e.mediaGroups[n][i]||delete t.mediaGroups[n][i][o]})},MP=(t,e,r)=>{let n=!0,i=Rt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let o=0;o<e.playlists.length;o++){const s=e.playlists[o];if(s.sidx){const l=xf(s.sidx);r&&r[l]&&r[l].sidx&&kg(s,r[l].sidx,s.sidx.resolvedUri)}const a=$0(i,s,NA);a&&(i=a,n=!1)}return Il(e,(o,s,a,l)=>{if(o.playlists&&o.playlists.length){const d=o.playlists[0].id,f=$0(i,o.playlists[0],NA);f&&(i=f,l in i.mediaGroups[s][a]||(i.mediaGroups[s][a][l]=o),i.mediaGroups[s][a][l].playlists[0]=i.playlists[d],n=!1)}}),DP(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},NP=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,OA=(t,e)=>{const r={};for(const n in t){const o=t[n].sidx;if(o){const s=xf(o);if(!e[s])break;const a=e[s].sidxInfo;NP(a,o)&&(r[s]=e[s])}}return r},OP=(t,e)=>{let n=OA(t.playlists,e);return Il(t,(i,o,s,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Rt(n,OA(l,e))}}),n};class W0 extends EP{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:o=!1}=n;if(this.vhs_=r,this.withCredentials=o,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ni("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&xf(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=ee.setTimeout(()=>n(!1),0);return}const o=ah(e.sidx.resolvedUri),s=(l,d)=>{if(this.requestErrored_(l,d,r))return;const f=this.mainPlaylistLoader_.sidxMapping_,{requestType:u}=d;let h;try{h=lR(et(d.response).subarray(8))}catch(p){p.metadata=Zs({requestType:u,request:d,parseFailure:!0}),this.requestErrored_(p,d,r);return}return f[i]={sidxInfo:e.sidx,sidx:h},kg(e,h,e.sidx.resolvedUri),n(!0)},a="dash-sidx";this.request=SP(o,this.vhs_.xhr,(l,d,f,u)=>{if(l)return s(l,d);if(!f||f!=="mp4"){const m=f||"unknown";return s({status:d.status,message:`Unsupported ${m} container type for sidx segment at URL: ${o}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},d)}const{offset:h,length:p}=e.sidx.byterange;if(u.length>=p+h)return s(l,{response:u.subarray(h,h+p),status:d.status,uri:d.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",requestType:"dash-sidx",headers:H0({byterange:e.sidx.byterange})},s)},a)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ee.clearTimeout(this.minimumUpdatePeriodTimeout_),ee.clearTimeout(this.mediaRequest_),ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(ee.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){ee.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ee.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=ee.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:s}=i;n.metadata=Zs({requestType:s,request:i,error:n})}if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const o=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=ah(this.mainPlaylistLoader_.srcUrl,i),o){this.handleMain_(),this.syncClientServerClock_(()=>e(i,o));return}return e(i,o)})}syncClientServerClock_(e){const r=nR(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:En(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:s}=i;return this.error.metadata=Zs({requestType:s,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let o;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?o=this.mainLoaded_:o=Date.parse(i.responseHeaders.date):o=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=o-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let n;try{n=IP({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(o){this.error=o,this.error.metadata={errorType:ye.Error.StreamingDashManifestParserError,error:o},this.trigger("error")}e&&(n=MP(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:o,endList:s}=n,a=[];n.playlists.forEach(d=>{a.push({id:d.id,bandwidth:d.attributes.BANDWIDTH,resolution:d.attributes.RESOLUTION,codecs:d.attributes.CODECS})});const l={duration:o,isLive:!s,renditions:a};r.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(ee.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=ee.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=OP(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=ee.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},z0(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var Rr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const LP=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},LA=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},BP=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},BA=function(t){return function(){const e=BP(t),r=LA(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},RA=function(t){return`var browserWorkerPolyFill = ${LA.toString()};
browserWorkerPolyFill(self);
`+t},PA=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},RP=RA(PA(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var g={};this.on=function(_,x){g[_]||(g[_]=[]),g[_]=g[_].concat(x)},this.off=function(_,x){var w;return g[_]?(w=g[_].indexOf(x),g[_]=g[_].slice(),g[_].splice(w,1),w>-1):!1},this.trigger=function(_){var x,w,M,N;if(x=g[_],!!x)if(arguments.length===2)for(M=x.length,w=0;w<M;++w)x[w].call(this,arguments[1]);else{for(N=[],w=arguments.length,w=1;w<arguments.length;++w)N.push(arguments[w]);for(M=x.length,w=0;w<M;++w)x[w].apply(this,N)}},this.dispose=function(){g={}}}};e.prototype.pipe=function(g){return this.on("data",function(_){g.push(_)}),this.on("done",function(_){g.flush(_)}),this.on("partialdone",function(_){g.partialFlush(_)}),this.on("endedtimeline",function(_){g.endTimeline(_)}),this.on("reset",function(_){g.reset(_)}),g},e.prototype.push=function(g){this.trigger("data",g)},e.prototype.flush=function(g){this.trigger("done",g)},e.prototype.partialFlush=function(g){this.trigger("partialdone",g)},e.prototype.endTimeline=function(g){this.trigger("endedtimeline",g)},e.prototype.reset=function(g){this.trigger("reset",g)};var r=e,n=Math.pow(2,32),i=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),x;return _.getBigUint64?(x=_.getBigUint64(0),x<Number.MAX_SAFE_INTEGER?Number(x):x):_.getUint32(0)*n+_.getUint32(4)},o={getUint64:i,MAX_UINT32:n},s=o.MAX_UINT32,a,l,d,f,u,h,p,m,y,b,v,E,A,k,C,T,O,D,S,R,z,F,P,$,W,B,j,re,H,L,I,V,K,Y,Q,le;(function(){var g;if(P={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(g in P)P.hasOwnProperty(g)&&(P[g]=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]);$=new Uint8Array([105,115,111,109]),B=new Uint8Array([97,118,99,49]),W=new Uint8Array([0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),re=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:j,audio:re},V=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),K=new Uint8Array([0,0,0,0,0,0,0,0]),Y=K,Q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),le=K,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(g){var _=[],x=0,w,M,N;for(w=1;w<arguments.length;w++)_.push(arguments[w]);for(w=_.length;w--;)x+=_[w].byteLength;for(M=new Uint8Array(x+8),N=new DataView(M.buffer,M.byteOffset,M.byteLength),N.setUint32(0,M.byteLength),M.set(g,4),w=0,x=8;w<_.length;w++)M.set(_[w],x),x+=_[w].byteLength;return M},l=function(){return a(P.dinf,a(P.dref,V))},d=function(g){return a(P.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,g.audioobjecttype<<3|g.samplingfrequencyindex>>>1,g.samplingfrequencyindex<<7|g.channelcount<<3,6,1,2]))},f=function(){return a(P.ftyp,$,W,$,B)},T=function(g){return a(P.hdlr,H[g])},u=function(g){return a(P.mdat,g)},C=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,g.duration>>>24&255,g.duration>>>16&255,g.duration>>>8&255,g.duration&255,85,196,0,0]);return g.samplerate&&(_[12]=g.samplerate>>>24&255,_[13]=g.samplerate>>>16&255,_[14]=g.samplerate>>>8&255,_[15]=g.samplerate&255),a(P.mdhd,_)},k=function(g){return a(P.mdia,C(g),T(g.type),p(g))},h=function(g){return a(P.mfhd,new Uint8Array([0,0,0,0,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255]))},p=function(g){return a(P.minf,g.type==="video"?a(P.vmhd,L):a(P.smhd,I),l(),D(g))},m=function(g,_){for(var x=[],w=_.length;w--;)x[w]=R(_[w]);return a.apply(null,[P.moof,h(g)].concat(x))},y=function(g){for(var _=g.length,x=[];_--;)x[_]=E(g[_]);return a.apply(null,[P.moov,v(4294967295)].concat(x).concat(b(g)))},b=function(g){for(var _=g.length,x=[];_--;)x[_]=z(g[_]);return a.apply(null,[P.mvex].concat(x))},v=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(P.mvhd,_)},O=function(g){var _=g.samples||[],x=new Uint8Array(4+_.length),w,M;for(M=0;M<_.length;M++)w=_[M].flags,x[M+4]=w.dependsOn<<4|w.isDependedOn<<2|w.hasRedundancy;return a(P.sdtp,x)},D=function(g){return a(P.stbl,S(g),a(P.stts,le),a(P.stsc,Y),a(P.stsz,Q),a(P.stco,K))},function(){var g,_;S=function(x){return a(P.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),x.type==="video"?g(x):_(x))},g=function(x){var w=x.sps||[],M=x.pps||[],N=[],G=[],X,J;for(X=0;X<w.length;X++)N.push((w[X].byteLength&65280)>>>8),N.push(w[X].byteLength&255),N=N.concat(Array.prototype.slice.call(w[X]));for(X=0;X<M.length;X++)G.push((M[X].byteLength&65280)>>>8),G.push(M[X].byteLength&255),G=G.concat(Array.prototype.slice.call(M[X]));if(J=[P.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(x.width&65280)>>8,x.width&255,(x.height&65280)>>8,x.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(P.avcC,new Uint8Array([1,x.profileIdc,x.profileCompatibility,x.levelIdc,255].concat([w.length],N,[M.length],G))),a(P.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],x.sarRatio){var ne=x.sarRatio[0],ue=x.sarRatio[1];J.push(a(P.pasp,new Uint8Array([(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255,(ue&4278190080)>>24,(ue&16711680)>>16,(ue&65280)>>8,ue&255])))}return a.apply(null,J)},_=function(x){return a(P.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(x.channelcount&65280)>>8,x.channelcount&255,(x.samplesize&65280)>>8,x.samplesize&255,0,0,0,0,(x.samplerate&65280)>>8,x.samplerate&255,0,0]),d(x))}}(),A=function(g){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,0,(g.duration&4278190080)>>24,(g.duration&16711680)>>16,(g.duration&65280)>>8,g.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(g.width&65280)>>8,g.width&255,0,0,(g.height&65280)>>8,g.height&255,0,0]);return a(P.tkhd,_)},R=function(g){var _,x,w,M,N,G,X;return _=a(P.tfhd,new Uint8Array([0,0,0,58,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(g.baseMediaDecodeTime/s),X=Math.floor(g.baseMediaDecodeTime%s),x=a(P.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255])),N=92,g.type==="audio"?(w=F(g,N),a(P.traf,_,x,w)):(M=O(g),w=F(g,M.length+N),a(P.traf,_,x,w,M))},E=function(g){return g.duration=g.duration||4294967295,a(P.trak,A(g),k(g))},z=function(g){var _=new Uint8Array([0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return g.type!=="video"&&(_[_.length-1]=0),a(P.trex,_)},function(){var g,_,x;x=function(w,M){var N=0,G=0,X=0,J=0;return w.length&&(w[0].duration!==void 0&&(N=1),w[0].size!==void 0&&(G=2),w[0].flags!==void 0&&(X=4),w[0].compositionTimeOffset!==void 0&&(J=8)),[0,0,N|G|X|J,1,(w.length&4278190080)>>>24,(w.length&16711680)>>>16,(w.length&65280)>>>8,w.length&255,(M&4278190080)>>>24,(M&16711680)>>>16,(M&65280)>>>8,M&255]},_=function(w,M){var N,G,X,J,ne,ue;for(J=w.samples||[],M+=20+16*J.length,X=x(J,M),G=new Uint8Array(X.length+J.length*16),G.set(X),N=X.length,ue=0;ue<J.length;ue++)ne=J[ue],G[N++]=(ne.duration&4278190080)>>>24,G[N++]=(ne.duration&16711680)>>>16,G[N++]=(ne.duration&65280)>>>8,G[N++]=ne.duration&255,G[N++]=(ne.size&4278190080)>>>24,G[N++]=(ne.size&16711680)>>>16,G[N++]=(ne.size&65280)>>>8,G[N++]=ne.size&255,G[N++]=ne.flags.isLeading<<2|ne.flags.dependsOn,G[N++]=ne.flags.isDependedOn<<6|ne.flags.hasRedundancy<<4|ne.flags.paddingValue<<1|ne.flags.isNonSyncSample,G[N++]=ne.flags.degradationPriority&61440,G[N++]=ne.flags.degradationPriority&15,G[N++]=(ne.compositionTimeOffset&4278190080)>>>24,G[N++]=(ne.compositionTimeOffset&16711680)>>>16,G[N++]=(ne.compositionTimeOffset&65280)>>>8,G[N++]=ne.compositionTimeOffset&255;return a(P.trun,G)},g=function(w,M){var N,G,X,J,ne,ue;for(J=w.samples||[],M+=20+8*J.length,X=x(J,M),N=new Uint8Array(X.length+J.length*8),N.set(X),G=X.length,ue=0;ue<J.length;ue++)ne=J[ue],N[G++]=(ne.duration&4278190080)>>>24,N[G++]=(ne.duration&16711680)>>>16,N[G++]=(ne.duration&65280)>>>8,N[G++]=ne.duration&255,N[G++]=(ne.size&4278190080)>>>24,N[G++]=(ne.size&16711680)>>>16,N[G++]=(ne.size&65280)>>>8,N[G++]=ne.size&255;return a(P.trun,N)},F=function(w,M){return w.type==="audio"?g(w,M):_(w,M)}}();var ie={ftyp:f,mdat:u,moof:m,moov:y,initSegment:function(g){var _=f(),x=y(g),w;return w=new Uint8Array(_.byteLength+x.byteLength),w.set(_),w.set(x,_.byteLength),w}},me=function(g){var _,x,w=[],M=[];for(M.byteLength=0,M.nalCount=0,M.duration=0,w.byteLength=0,_=0;_<g.length;_++)x=g[_],x.nalUnitType==="access_unit_delimiter_rbsp"?(w.length&&(w.duration=x.dts-w.dts,M.byteLength+=w.byteLength,M.nalCount+=w.length,M.duration+=w.duration,M.push(w)),w=[x],w.byteLength=x.data.byteLength,w.pts=x.pts,w.dts=x.dts):(x.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(w.keyFrame=!0),w.duration=x.dts-w.dts,w.byteLength+=x.data.byteLength,w.push(x));return M.length&&(!w.duration||w.duration<=0)&&(w.duration=M[M.length-1].duration),M.byteLength+=w.byteLength,M.nalCount+=w.length,M.duration+=w.duration,M.push(w),M},he=function(g){var _,x,w=[],M=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=g[0].pts,w.dts=g[0].dts,M.byteLength=0,M.nalCount=0,M.duration=0,M.pts=g[0].pts,M.dts=g[0].dts,_=0;_<g.length;_++)x=g[_],x.keyFrame?(w.length&&(M.push(w),M.byteLength+=w.byteLength,M.nalCount+=w.nalCount,M.duration+=w.duration),w=[x],w.nalCount=x.length,w.byteLength=x.byteLength,w.pts=x.pts,w.dts=x.dts,w.duration=x.duration):(w.duration+=x.duration,w.nalCount+=x.length,w.byteLength+=x.byteLength,w.push(x));return M.length&&w.duration<=0&&(w.duration=M[M.length-1].duration),M.byteLength+=w.byteLength,M.nalCount+=w.nalCount,M.duration+=w.duration,M.push(w),M},fe=function(g){var _;return!g[0][0].keyFrame&&g.length>1&&(_=g.shift(),g.byteLength-=_.byteLength,g.nalCount-=_.nalCount,g[0][0].dts=_.dts,g[0][0].pts=_.pts,g[0][0].duration+=_.duration),g},ve=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Se=function(g,_){var x=ve();return x.dataOffset=_,x.compositionTimeOffset=g.pts-g.dts,x.duration=g.duration,x.size=4*g.length,x.size+=g.byteLength,g.keyFrame&&(x.flags.dependsOn=2,x.flags.isNonSyncSample=0),x},Me=function(g,_){var x,w,M,N,G,X=_||0,J=[];for(x=0;x<g.length;x++)for(N=g[x],w=0;w<N.length;w++)G=N[w],M=Se(G,X),X+=M.size,J.push(M);return J},de=function(g){var _,x,w,M,N,G,X=0,J=g.byteLength,ne=g.nalCount,ue=J+4*ne,xe=new Uint8Array(ue),He=new DataView(xe.buffer);for(_=0;_<g.length;_++)for(M=g[_],x=0;x<M.length;x++)for(N=M[x],w=0;w<N.length;w++)G=N[w],He.setUint32(X,G.data.byteLength),X+=4,xe.set(G.data,X),X+=G.data.byteLength;return xe},pe=function(g,_){var x,w=_||0,M=[];return x=Se(g,w),M.push(x),M},ke=function(g){var _,x,w=0,M=g.byteLength,N=g.length,G=M+4*N,X=new Uint8Array(G),J=new DataView(X.buffer);for(_=0;_<g.length;_++)x=g[_],J.setUint32(w,x.data.byteLength),w+=4,X.set(x.data,w),w+=x.data.byteLength;return X},ae={groupNalsIntoFrames:me,groupFramesIntoGops:he,extendFirstKeyFrame:fe,generateSampleTable:Me,concatenateNalData:de,generateSampleTableForFrame:pe,concatenateNalDataForFrame:ke},Te=[33,16,5,32,164,27],De=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],U=function(g){for(var _=[];g--;)_.push(0);return _},q=function(g){return Object.keys(g).reduce(function(_,x){return _[x]=new Uint8Array(g[x].reduce(function(w,M){return w.concat(M)},[])),_},{})},oe,we=function(){if(!oe){var g={96e3:[Te,[227,64],U(154),[56]],88200:[Te,[231],U(170),[56]],64e3:[Te,[248,192],U(240),[56]],48e3:[Te,[255,192],U(268),[55,148,128],U(54),[112]],44100:[Te,[255,192],U(268),[55,163,128],U(84),[112]],32e3:[Te,[255,192],U(268),[55,234],U(226),[112]],24e3:[Te,[255,192],U(268),[55,255,128],U(268),[111,112],U(126),[224]],16e3:[Te,[255,192],U(268),[55,255,128],U(268),[111,255],U(269),[223,108],U(195),[1,192]],12e3:[De,U(268),[3,127,248],U(268),[6,255,240],U(268),[13,255,224],U(268),[27,253,128],U(259),[56]],11025:[De,U(268),[3,127,248],U(268),[6,255,240],U(268),[13,255,224],U(268),[27,255,192],U(268),[55,175,128],U(108),[112]],8e3:[De,U(268),[3,121,16],U(47),[7]]};oe=q(g)}return oe},Oe=9e4,Pe,Ge,ge,Ee,Qe,ct,_t;Pe=function(g){return g*Oe},Ge=function(g,_){return g*_},ge=function(g){return g/Oe},Ee=function(g,_){return g/_},Qe=function(g,_){return Pe(Ee(g,_))},ct=function(g,_){return Ge(ge(g),_)},_t=function(g,_,x){return ge(x?g:g-_)};var Ke={ONE_SECOND_IN_TS:Oe,secondsToVideoTs:Pe,secondsToAudioTs:Ge,videoTsToSeconds:ge,audioTsToSeconds:Ee,audioTsToVideoTs:Qe,videoTsToAudioTs:ct,metadataTsToSeconds:_t},Ft=we,vt=Ke,ar=function(g){var _,x,w=0;for(_=0;_<g.length;_++)x=g[_],w+=x.data.byteLength;return w},dr=function(g,_,x,w){var M,N=0,G=0,X=0,J=0,ne,ue,xe;if(_.length&&(M=vt.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),N=Math.ceil(vt.ONE_SECOND_IN_TS/(g.samplerate/1024)),x&&w&&(G=M-Math.max(x,w),X=Math.floor(G/N),J=X*N),!(X<1||J>vt.ONE_SECOND_IN_TS/2))){for(ne=Ft()[g.samplerate],ne||(ne=_[0].data),ue=0;ue<X;ue++)xe=_[0],_.splice(0,0,{data:ne,dts:xe.dts-N,pts:xe.pts-N});return g.baseMediaDecodeTime-=Math.floor(vt.videoTsToAudioTs(J,g.samplerate)),J}},Fi=function(g,_,x){return _.minSegmentDts>=x?g:(_.minSegmentDts=1/0,g.filter(function(w){return w.dts>=x?(_.minSegmentDts=Math.min(_.minSegmentDts,w.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},fo=function(g){var _,x,w=[];for(_=0;_<g.length;_++)x=g[_],w.push({size:x.data.byteLength,duration:1024});return w},ho=function(g){var _,x,w=0,M=new Uint8Array(ar(g));for(_=0;_<g.length;_++)x=g[_],M.set(x.data,w),w+=x.data.byteLength;return M},Ui={prefixWithSilence:dr,trimAdtsFramesByEarliestDts:Fi,generateSampleTable:fo,concatenateFrameData:ho},po=Ke.ONE_SECOND_IN_TS,zr=function(g,_){typeof _.pts=="number"&&(g.timelineStartInfo.pts===void 0&&(g.timelineStartInfo.pts=_.pts),g.minSegmentPts===void 0?g.minSegmentPts=_.pts:g.minSegmentPts=Math.min(g.minSegmentPts,_.pts),g.maxSegmentPts===void 0?g.maxSegmentPts=_.pts:g.maxSegmentPts=Math.max(g.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(g.timelineStartInfo.dts===void 0&&(g.timelineStartInfo.dts=_.dts),g.minSegmentDts===void 0?g.minSegmentDts=_.dts:g.minSegmentDts=Math.min(g.minSegmentDts,_.dts),g.maxSegmentDts===void 0?g.maxSegmentDts=_.dts:g.maxSegmentDts=Math.max(g.maxSegmentDts,_.dts))},Vr=function(g){delete g.minSegmentDts,delete g.maxSegmentDts,delete g.minSegmentPts,delete g.maxSegmentPts},pi=function(g,_){var x,w,M=g.minSegmentDts;return _||(M-=g.timelineStartInfo.dts),x=g.timelineStartInfo.baseMediaDecodeTime,x+=M,x=Math.max(0,x),g.type==="audio"&&(w=g.samplerate/po,x*=w,x=Math.floor(x)),x},Gn={clearDtsInfo:Vr,calculateTrackBaseMediaDecodeTime:pi,collectDtsInfo:zr},rr=4,Qn=128,hn=function(g){for(var _=0,x={payloadType:-1,payloadSize:0},w=0,M=0;_<g.byteLength&&g[_]!==Qn;){for(;g[_]===255;)w+=255,_++;for(w+=g[_++];g[_]===255;)M+=255,_++;if(M+=g[_++],!x.payload&&w===rr){var N=String.fromCharCode(g[_+3],g[_+4],g[_+5],g[_+6]);if(N==="GA94"){x.payloadType=w,x.payloadSize=M,x.payload=g.subarray(_,_+M);break}else x.payload=void 0}_+=M,w=0,M=0}return x},Ea=function(g){return g.payload[0]!==181||(g.payload[1]<<8|g.payload[2])!==49||String.fromCharCode(g.payload[3],g.payload[4],g.payload[5],g.payload[6])!=="GA94"||g.payload[7]!==3?null:g.payload.subarray(8,g.payload.length-1)},ka=function(g,_){var x=[],w,M,N,G;if(!(_[0]&64))return x;for(M=_[0]&31,w=0;w<M;w++)N=w*3,G={type:_[N+2]&3,pts:g},_[N+2]&4&&(G.ccData=_[N+3]<<8|_[N+4],x.push(G));return x},fr=function(g){for(var _=g.byteLength,x=[],w=1,M,N;w<_-2;)g[w]===0&&g[w+1]===0&&g[w+2]===3?(x.push(w+2),w+=2):w++;if(x.length===0)return g;M=_-x.length,N=new Uint8Array(M);var G=0;for(w=0;w<M;G++,w++)G===x[0]&&(G++,x.shift()),N[w]=g[G];return N},pn={parseSei:hn,parseUserData:Ea,parseCaptionPackets:ka,discardEmulationPreventionBytes:fr,USER_DATA_REGISTERED_ITU_T_T35:rr},Pr=r,kr=pn,Dt=function(g){g=g||{},Dt.prototype.init.call(this),this.parse708captions_=typeof g.parse708captions=="boolean"?g.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Qt(0,0),new Qt(0,1),new Qt(1,0),new Qt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ot({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Dt.prototype=new Pr,Dt.prototype.push=function(g){var _,x,w;if(g.nalUnitType==="sei_rbsp"&&(_=kr.parseSei(g.escapedRBSP),!!_.payload&&_.payloadType===kr.USER_DATA_REGISTERED_ITU_T_T35&&(x=kr.parseUserData(_),!!x))){if(g.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(g.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}w=kr.parseCaptionPackets(g.pts,x),this.captionPackets_=this.captionPackets_.concat(w),this.latestDts_!==g.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=g.dts}},Dt.prototype.flushCCStreams=function(g){this.ccStreams_.forEach(function(_){return g==="flush"?_.flush():_.partialFlush()},this)},Dt.prototype.flushStream=function(g){if(!this.captionPackets_.length){this.flushCCStreams(g);return}this.captionPackets_.forEach(function(_,x){_.presortIndex=x}),this.captionPackets_.sort(function(_,x){return _.pts===x.pts?_.presortIndex-x.presortIndex:_.pts-x.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(g)},Dt.prototype.flush=function(){return this.flushStream("flush")},Dt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Dt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(g){g.reset()})},Dt.prototype.dispatchCea608Packet=function(g){this.setsTextOrXDSActive(g)?this.activeCea608Channel_[g.type]=null:this.setsChannel1Active(g)?this.activeCea608Channel_[g.type]=0:this.setsChannel2Active(g)&&(this.activeCea608Channel_[g.type]=1),this.activeCea608Channel_[g.type]!==null&&this.ccStreams_[(g.type<<1)+this.activeCea608Channel_[g.type]].push(g)},Dt.prototype.setsChannel1Active=function(g){return(g.ccData&30720)===4096},Dt.prototype.setsChannel2Active=function(g){return(g.ccData&30720)===6144},Dt.prototype.setsTextOrXDSActive=function(g){return(g.ccData&28928)===256||(g.ccData&30974)===4138||(g.ccData&30974)===6186},Dt.prototype.dispatchCea708Packet=function(g){this.parse708captions_&&this.cc708Stream_.push(g)};var Yn={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Kn=function(g){var _=Yn[g]||g;return g&4096&&g===_?"":String.fromCharCode(_)},mi=function(g){return 32<=g&&g<=127||160<=g&&g<=255},Rn=function(g){this.windowNum=g,this.reset()};Rn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Rn.prototype.getText=function(){return this.rows.join(`
`)},Rn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Rn.prototype.newLine=function(g){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(g),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Rn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Rn.prototype.addText=function(g){this.rows[this.rowIdx]+=g},Rn.prototype.backspace=function(){if(!this.isEmpty()){var g=this.rows[this.rowIdx];this.rows[this.rowIdx]=g.substr(0,g.length-1)}};var ws=function(g,_,x){this.serviceNum=g,this.text="",this.currentWindow=new Rn(-1),this.windows=[],this.stream=x,typeof _=="string"&&this.createTextDecoder(_)};ws.prototype.init=function(g,_){this.startPts=g;for(var x=0;x<8;x++)this.windows[x]=new Rn(x),typeof _=="function"&&(this.windows[x].beforeRowOverflow=_)},ws.prototype.setCurrentWindow=function(g){this.currentWindow=this.windows[g]},ws.prototype.createTextDecoder=function(g){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(g)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+g+" encoding. "+_})}};var Ot=function(g){g=g||{},Ot.prototype.init.call(this);var _=this,x=g.captionServices||{},w={},M;Object.keys(x).forEach(N=>{M=x[N],/^SERVICE/.test(N)&&(w[N]=M.encoding)}),this.serviceEncodings=w,this.current708Packet=null,this.services={},this.push=function(N){N.type===3?(_.new708Packet(),_.add708Bytes(N)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(N))}};Ot.prototype=new Pr,Ot.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ot.prototype.add708Bytes=function(g){var _=g.ccData,x=_>>>8,w=_&255;this.current708Packet.ptsVals.push(g.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(w)},Ot.prototype.push708Packet=function(){var g=this.current708Packet,_=g.data,x=null,w=null,M=0,N=_[M++];for(g.seq=N>>6,g.sizeCode=N&63;M<_.length;M++)N=_[M++],x=N>>5,w=N&31,x===7&&w>0&&(N=_[M++],x=N),this.pushServiceBlock(x,M,w),w>0&&(M+=w-1)},Ot.prototype.pushServiceBlock=function(g,_,x){var w,M=_,N=this.current708Packet.data,G=this.services[g];for(G||(G=this.initService(g,M));M<_+x&&M<N.length;M++)w=N[M],mi(w)?M=this.handleText(M,G):w===24?M=this.multiByteCharacter(M,G):w===16?M=this.extendedCommands(M,G):128<=w&&w<=135?M=this.setCurrentWindow(M,G):152<=w&&w<=159?M=this.defineWindow(M,G):w===136?M=this.clearWindows(M,G):w===140?M=this.deleteWindows(M,G):w===137?M=this.displayWindows(M,G):w===138?M=this.hideWindows(M,G):w===139?M=this.toggleWindows(M,G):w===151?M=this.setWindowAttributes(M,G):w===144?M=this.setPenAttributes(M,G):w===145?M=this.setPenColor(M,G):w===146?M=this.setPenLocation(M,G):w===143?G=this.reset(M,G):w===8?G.currentWindow.backspace():w===12?G.currentWindow.clearText():w===13?G.currentWindow.pendingNewLine=!0:w===14?G.currentWindow.clearText():w===141&&M++},Ot.prototype.extendedCommands=function(g,_){var x=this.current708Packet.data,w=x[++g];return mi(w)&&(g=this.handleText(g,_,{isExtended:!0})),g},Ot.prototype.getPts=function(g){return this.current708Packet.ptsVals[Math.floor(g/2)]},Ot.prototype.initService=function(g,_){var w="SERVICE"+g,x=this,w,M;return w in this.serviceEncodings&&(M=this.serviceEncodings[w]),this.services[g]=new ws(g,M,x),this.services[g].init(this.getPts(_),function(N){x.flushDisplayed(N,x.services[g])}),this.services[g]},Ot.prototype.handleText=function(g,_,x){var w=x&&x.isExtended,M=x&&x.isMultiByte,N=this.current708Packet.data,G=w?4096:0,X=N[g],J=N[g+1],ne=_.currentWindow,ue,xe;function He(Ie){return Ie.map(it=>("0"+(it&255).toString(16)).slice(-2)).join("")}if(M?(xe=[X,J],g++):xe=[X],_.textDecoder_&&!w)ue=_.textDecoder_.decode(new Uint8Array(xe));else if(M){const Ie=He(xe);ue=String.fromCharCode(parseInt(Ie,16))}else ue=Kn(G|X);return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(g)),ne.pendingNewLine=!1,ne.addText(ue),g},Ot.prototype.multiByteCharacter=function(g,_){var x=this.current708Packet.data,w=x[g+1],M=x[g+2];return mi(w)&&mi(M)&&(g=this.handleText(++g,_,{isMultiByte:!0})),g},Ot.prototype.setCurrentWindow=function(g,_){var x=this.current708Packet.data,w=x[g],M=w&7;return _.setCurrentWindow(M),g},Ot.prototype.defineWindow=function(g,_){var x=this.current708Packet.data,w=x[g],M=w&7;_.setCurrentWindow(M);var N=_.currentWindow;return w=x[++g],N.visible=(w&32)>>5,N.rowLock=(w&16)>>4,N.columnLock=(w&8)>>3,N.priority=w&7,w=x[++g],N.relativePositioning=(w&128)>>7,N.anchorVertical=w&127,w=x[++g],N.anchorHorizontal=w,w=x[++g],N.anchorPoint=(w&240)>>4,N.rowCount=w&15,w=x[++g],N.columnCount=w&63,w=x[++g],N.windowStyle=(w&56)>>3,N.penStyle=w&7,N.virtualRowCount=N.rowCount+1,g},Ot.prototype.setWindowAttributes=function(g,_){var x=this.current708Packet.data,w=x[g],M=_.currentWindow.winAttr;return w=x[++g],M.fillOpacity=(w&192)>>6,M.fillRed=(w&48)>>4,M.fillGreen=(w&12)>>2,M.fillBlue=w&3,w=x[++g],M.borderType=(w&192)>>6,M.borderRed=(w&48)>>4,M.borderGreen=(w&12)>>2,M.borderBlue=w&3,w=x[++g],M.borderType+=(w&128)>>5,M.wordWrap=(w&64)>>6,M.printDirection=(w&48)>>4,M.scrollDirection=(w&12)>>2,M.justify=w&3,w=x[++g],M.effectSpeed=(w&240)>>4,M.effectDirection=(w&12)>>2,M.displayEffect=w&3,g},Ot.prototype.flushDisplayed=function(g,_){for(var x=[],w=0;w<8;w++)_.windows[w].visible&&!_.windows[w].isEmpty()&&x.push(_.windows[w].getText());_.endPts=g,_.text=x.join(`

`),this.pushCaption(_),_.startPts=g},Ot.prototype.pushCaption=function(g){g.text!==""&&(this.trigger("data",{startPts:g.startPts,endPts:g.endPts,text:g.text,stream:"cc708_"+g.serviceNum}),g.text="",g.startPts=g.endPts)},Ot.prototype.displayWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],M=this.getPts(g);this.flushDisplayed(M,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible=1);return g},Ot.prototype.hideWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],M=this.getPts(g);this.flushDisplayed(M,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible=0);return g},Ot.prototype.toggleWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],M=this.getPts(g);this.flushDisplayed(M,_);for(var N=0;N<8;N++)w&1<<N&&(_.windows[N].visible^=1);return g},Ot.prototype.clearWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],M=this.getPts(g);this.flushDisplayed(M,_);for(var N=0;N<8;N++)w&1<<N&&_.windows[N].clearText();return g},Ot.prototype.deleteWindows=function(g,_){var x=this.current708Packet.data,w=x[++g],M=this.getPts(g);this.flushDisplayed(M,_);for(var N=0;N<8;N++)w&1<<N&&_.windows[N].reset();return g},Ot.prototype.setPenAttributes=function(g,_){var x=this.current708Packet.data,w=x[g],M=_.currentWindow.penAttr;return w=x[++g],M.textTag=(w&240)>>4,M.offset=(w&12)>>2,M.penSize=w&3,w=x[++g],M.italics=(w&128)>>7,M.underline=(w&64)>>6,M.edgeType=(w&56)>>3,M.fontStyle=w&7,g},Ot.prototype.setPenColor=function(g,_){var x=this.current708Packet.data,w=x[g],M=_.currentWindow.penColor;return w=x[++g],M.fgOpacity=(w&192)>>6,M.fgRed=(w&48)>>4,M.fgGreen=(w&12)>>2,M.fgBlue=w&3,w=x[++g],M.bgOpacity=(w&192)>>6,M.bgRed=(w&48)>>4,M.bgGreen=(w&12)>>2,M.bgBlue=w&3,w=x[++g],M.edgeRed=(w&48)>>4,M.edgeGreen=(w&12)>>2,M.edgeBlue=w&3,g},Ot.prototype.setPenLocation=function(g,_){var x=this.current708Packet.data,w=x[g],M=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,w=x[++g],M.row=w&15,w=x[++g],M.column=w&63,g},Ot.prototype.reset=function(g,_){var x=this.getPts(g);return this.flushDisplayed(x,_),this.initService(_.serviceNum,g)};var Fb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},xs=function(g){return g===null?"":(g=Fb[g]||g,String.fromCharCode(g))},yc=14,gi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],jo=function(){for(var g=[],_=yc+1;_--;)g.push({text:"",indent:0,offset:0});return g},Qt=function(g,_){Qt.prototype.init.call(this),this.field_=g||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(x){var w,M,N,G,X;if(w=x.ccData&32639,w===this.lastControlCode_){this.lastControlCode_=null;return}if((w&61440)===4096?this.lastControlCode_=w:w!==this.PADDING_&&(this.lastControlCode_=null),N=w>>>8,G=w&255,w!==this.PADDING_)if(w===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(w===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(x.pts),this.flushDisplayed(x.pts),M=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=M,this.startPts_=x.pts;else if(w===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(x.pts);else if(w===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(x.pts);else if(w===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(x.pts);else if(w===this.CARRIAGE_RETURN_)this.clearFormatting(x.pts),this.flushDisplayed(x.pts),this.shiftRowsUp_(),this.startPts_=x.pts;else if(w===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(w===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(x.pts),this.displayed_=jo();else if(w===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=jo();else if(w===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(x.pts),this.displayed_=jo()),this.mode_="paintOn",this.startPts_=x.pts;else if(this.isSpecialCharacter(N,G))N=(N&3)<<8,X=xs(N|G),this[this.mode_](x.pts,X),this.column_++;else if(this.isExtCharacter(N,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),N=(N&3)<<8,X=xs(N|G),this[this.mode_](x.pts,X),this.column_++;else if(this.isMidRowCode(N,G))this.clearFormatting(x.pts),this[this.mode_](x.pts," "),this.column_++,(G&14)===14&&this.addFormatting(x.pts,["i"]),(G&1)===1&&this.addFormatting(x.pts,["u"]);else if(this.isOffsetControlCode(N,G)){const ne=G&3;this.nonDisplayed_[this.row_].offset=ne,this.column_+=ne}else if(this.isPAC(N,G)){var J=gi.indexOf(w&7968);if(this.mode_==="rollUp"&&(J-this.rollUpRows_+1<0&&(J=this.rollUpRows_-1),this.setRollUp(x.pts,J)),J!==this.row_&&J>=0&&J<=14&&(this.clearFormatting(x.pts),this.row_=J),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(x.pts,["u"]),(w&16)===16){const ne=(w&14)>>1;this.column_=ne*4,this.nonDisplayed_[this.row_].indent+=ne}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(x.pts,["i"])}else this.isNormalChar(N)&&(G===0&&(G=null),X=xs(N),X+=xs(G),this[this.mode_](x.pts,X),this.column_+=X.length)}};Qt.prototype=new Pr,Qt.prototype.flushDisplayed=function(g){const _=w=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+w+"."})},x=[];this.displayed_.forEach((w,M)=>{if(w&&w.text&&w.text.length){try{w.text=w.text.trim()}catch{_(M)}w.text.length&&x.push({text:w.text,line:M+1,position:10+Math.min(70,w.indent*10)+w.offset*2.5})}else w==null&&_(M)}),x.length&&this.trigger("data",{startPts:this.startPts_,endPts:g,content:x,stream:this.name_})},Qt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=jo(),this.nonDisplayed_=jo(),this.lastControlCode_=null,this.column_=0,this.row_=yc,this.rollUpRows_=2,this.formatting_=[]},Qt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Qt.prototype.isSpecialCharacter=function(g,_){return g===this.EXT_&&_>=48&&_<=63},Qt.prototype.isExtCharacter=function(g,_){return(g===this.EXT_+1||g===this.EXT_+2)&&_>=32&&_<=63},Qt.prototype.isMidRowCode=function(g,_){return g===this.EXT_&&_>=32&&_<=47},Qt.prototype.isOffsetControlCode=function(g,_){return g===this.OFFSET_&&_>=33&&_<=35},Qt.prototype.isPAC=function(g,_){return g>=this.BASE_&&g<this.BASE_+8&&_>=64&&_<=127},Qt.prototype.isColorPAC=function(g){return g>=64&&g<=79||g>=96&&g<=127},Qt.prototype.isNormalChar=function(g){return g>=32&&g<=127},Qt.prototype.setRollUp=function(g,_){if(this.mode_!=="rollUp"&&(this.row_=yc,this.mode_="rollUp",this.flushDisplayed(g),this.nonDisplayed_=jo(),this.displayed_=jo()),_!==void 0&&_!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[_-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]={text:"",indent:0,offset:0};_===void 0&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Qt.prototype.addFormatting=function(g,_){this.formatting_=this.formatting_.concat(_);var x=_.reduce(function(w,M){return w+"<"+M+">"},"");this[this.mode_](g,x)},Qt.prototype.clearFormatting=function(g){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(x,w){return x+"</"+w+">"},"");this.formatting_=[],this[this.mode_](g,_)}},Qt.prototype.popOn=function(g,_){var x=this.nonDisplayed_[this.row_].text;x+=_,this.nonDisplayed_[this.row_].text=x},Qt.prototype.rollUp=function(g,_){var x=this.displayed_[this.row_].text;x+=_,this.displayed_[this.row_].text=x},Qt.prototype.shiftRowsUp_=function(){var g;for(g=0;g<this.topRow_;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.row_+1;g<yc+1;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.topRow_;g<this.row_;g++)this.displayed_[g]=this.displayed_[g+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Qt.prototype.paintOn=function(g,_){var x=this.displayed_[this.row_].text;x+=_,this.displayed_[this.row_].text=x};var Yp={CaptionStream:Dt,Cea608Stream:Qt,Cea708Stream:Ot},bc={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},te=r,Z=8589934592,se=4294967296,be="shared",Ze=function(g,_){var x=1;for(g>_&&(x=-1);Math.abs(_-g)>se;)g+=x*Z;return g},ot=function(g){var _,x;ot.prototype.init.call(this),this.type_=g||be,this.push=function(w){if(w.type==="metadata"){this.trigger("data",w);return}this.type_!==be&&w.type!==this.type_||(x===void 0&&(x=w.dts),w.dts=Ze(w.dts,x),w.pts=Ze(w.pts,x),_=w.dts,this.trigger("data",w))},this.flush=function(){x=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){x=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ot.prototype=new te;var Mt={TimestampRolloverStream:ot,handleRollover:Ze},_r=(g,_,x)=>{if(!g)return-1;for(var w=x;w<g.length;w++)if(g[w]===_)return w;return-1},mt={typedArrayIndexOf:_r},At=mt.typedArrayIndexOf,Ne={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},rt=function(g,_,x){var w,M="";for(w=_;w<x;w++)M+="%"+("00"+g[w].toString(16)).slice(-2);return M},Le=function(g,_,x){return decodeURIComponent(rt(g,_,x))},St=function(g,_,x){return unescape(rt(g,_,x))},Je=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},yi={APIC:function(g){var _=1,x,w,M="-->";g.data[0]===Ne.Utf8&&(x=At(g.data,0,_),!(x<0)&&(g.mimeType=St(g.data,_,x),_=x+1,g.pictureType=g.data[_],_++,w=At(g.data,0,_),!(w<0)&&(g.description=Le(g.data,_,w),_=w+1,g.mimeType===M?g.url=St(g.data,_,g.data.length):g.pictureData=g.data.subarray(_,g.data.length))))},"T*":function(g){g.data[0]===Ne.Utf8&&(g.value=Le(g.data,1,g.data.length).replace(/\0*$/,""),g.values=g.value.split("\0"))},TXXX:function(g){var _;g.data[0]===Ne.Utf8&&(_=At(g.data,0,1),_!==-1&&(g.description=Le(g.data,1,_),g.value=Le(g.data,_+1,g.data.length).replace(/\0*$/,""),g.data=g.value))},"W*":function(g){g.url=St(g.data,0,g.data.length).replace(/\0.*$/,"")},WXXX:function(g){var _;g.data[0]===Ne.Utf8&&(_=At(g.data,0,1),_!==-1&&(g.description=Le(g.data,1,_),g.url=St(g.data,_+1,g.data.length).replace(/\0.*$/,"")))},PRIV:function(g){var _;for(_=0;_<g.data.length;_++)if(g.data[_]===0){g.owner=St(g.data,0,_);break}g.privateData=g.data.subarray(_+1),g.data=g.privateData}},ji=function(g){var _,x,w=10,M=0,N=[];if(!(g.length<10||g[0]!==73||g[1]!==68||g[2]!==51)){M=Je(g.subarray(6,10)),M+=10;var G=g[5]&64;G&&(w+=4,w+=Je(g.subarray(10,14)),M-=Je(g.subarray(16,20)));do{if(_=Je(g.subarray(w+4,w+8)),_<1)break;x=String.fromCharCode(g[w],g[w+1],g[w+2],g[w+3]);var X={id:x,data:g.subarray(w+10,w+_+10)};X.key=X.id,yi[X.id]?yi[X.id](X):X.id[0]==="T"?yi["T*"](X):X.id[0]==="W"&&yi["W*"](X),N.push(X),w+=10,w+=_}while(w<M);return N}},$o={parseId3Frames:ji,parseSyncSafeInteger:Je,frameParsers:yi},hr=r,wr=bc,jt=$o,$t;$t=function(g){var _={descriptor:g&&g.descriptor},x=0,w=[],M=0,N;if($t.prototype.init.call(this),this.dispatchType=wr.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(N=0;N<_.descriptor.length;N++)this.dispatchType+=("00"+_.descriptor[N].toString(16)).slice(-2);this.push=function(G){var X,J,ne,ue,xe,He;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(M=0,w.length=0),w.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(w.push(G),M+=G.data.byteLength,w.length===1&&(x=jt.parseSyncSafeInteger(G.data.subarray(6,10)),x+=10),!(M<x)){for(X={data:new Uint8Array(x),frames:[],pts:w[0].pts,dts:w[0].dts},xe=0;xe<x;)X.data.set(w[0].data.subarray(0,x-xe),xe),xe+=w[0].data.byteLength,M-=w[0].data.byteLength,w.shift();J=10,X.data[5]&64&&(J+=4,J+=jt.parseSyncSafeInteger(X.data.subarray(10,14)),x-=jt.parseSyncSafeInteger(X.data.subarray(16,20)));do{if(ne=jt.parseSyncSafeInteger(X.data.subarray(J+4,J+8)),ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(He=String.fromCharCode(X.data[J],X.data[J+1],X.data[J+2],X.data[J+3]),ue={id:He,data:X.data.subarray(J+10,J+ne+10)},ue.key=ue.id,jt.frameParsers[ue.id]?jt.frameParsers[ue.id](ue):ue.id[0]==="T"?jt.frameParsers["T*"](ue):ue.id[0]==="W"&&jt.frameParsers["W*"](ue),ue.owner==="com.apple.streaming.transportStreamTimestamp"){var Ie=ue.data,it=(Ie[3]&1)<<30|Ie[4]<<22|Ie[5]<<14|Ie[6]<<6|Ie[7]>>>2;it*=4,it+=Ie[7]&3,ue.timeStamp=it,X.pts===void 0&&X.dts===void 0&&(X.pts=ue.timeStamp,X.dts=ue.timeStamp),this.trigger("timestamp",ue)}X.frames.push(ue),J+=10,J+=ne}while(J<x);this.trigger("data",X)}}}},$t.prototype=new hr;var Ts=$t,mo=r,Ia=Yp,mn=bc,Td=Mt.TimestampRolloverStream,As,zo,Cs,go=188,Da=71;As=function(){var g=new Uint8Array(go),_=0;As.prototype.init.call(this),this.push=function(x){var w=0,M=go,N;for(_?(N=new Uint8Array(x.byteLength+_),N.set(g.subarray(0,_)),N.set(x,_),_=0):N=x;M<N.byteLength;){if(N[w]===Da&&N[M]===Da){this.trigger("data",N.subarray(w,M)),w+=go,M+=go;continue}w++,M++}w<N.byteLength&&(g.set(N.subarray(w),0),_=N.byteLength-w)},this.flush=function(){_===go&&g[0]===Da&&(this.trigger("data",g),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},As.prototype=new mo,zo=function(){var g,_,x,w;zo.prototype.init.call(this),w=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,g=function(M,N){var G=0;N.payloadUnitStartIndicator&&(G+=M[G]+1),N.type==="pat"?_(M.subarray(G),N):x(M.subarray(G),N)},_=function(M,N){N.section_number=M[7],N.last_section_number=M[8],w.pmtPid=(M[10]&31)<<8|M[11],N.pmtPid=w.pmtPid},x=function(M,N){var G,X,J,ne;if(M[5]&1){for(w.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(M[1]&15)<<8|M[2],X=3+G-4,J=(M[10]&15)<<8|M[11],ne=12+J;ne<X;){var ue=M[ne],xe=(M[ne+1]&31)<<8|M[ne+2];ue===mn.H264_STREAM_TYPE&&w.programMapTable.video===null?w.programMapTable.video=xe:ue===mn.ADTS_STREAM_TYPE&&w.programMapTable.audio===null?w.programMapTable.audio=xe:ue===mn.METADATA_STREAM_TYPE&&(w.programMapTable["timed-metadata"][xe]=ue),ne+=((M[ne+3]&15)<<8|M[ne+4])+5}N.programMapTable=w.programMapTable}},this.push=function(M){var N={},G=4;if(N.payloadUnitStartIndicator=!!(M[1]&64),N.pid=M[1]&31,N.pid<<=8,N.pid|=M[2],(M[3]&48)>>>4>1&&(G+=M[G]+1),N.pid===0)N.type="pat",g(M.subarray(G),N),this.trigger("data",N);else if(N.pid===this.pmtPid)for(N.type="pmt",g(M.subarray(G),N),this.trigger("data",N);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([M,G,N]):this.processPes_(M,G,N)},this.processPes_=function(M,N,G){G.pid===this.programMapTable.video?G.streamType=mn.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=mn.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=M.subarray(N),this.trigger("data",G)}},zo.prototype=new mo,zo.STREAM_TYPES={h264:27,adts:15},Cs=function(){var g=this,_=!1,x={data:[],size:0},w={data:[],size:0},M={data:[],size:0},N,G=function(J,ne){var ue;const xe=J[0]<<16|J[1]<<8|J[2];ne.data=new Uint8Array,xe===1&&(ne.packetLength=6+(J[4]<<8|J[5]),ne.dataAlignmentIndicator=(J[6]&4)!==0,ue=J[7],ue&192&&(ne.pts=(J[9]&14)<<27|(J[10]&255)<<20|(J[11]&254)<<12|(J[12]&255)<<5|(J[13]&254)>>>3,ne.pts*=4,ne.pts+=(J[13]&6)>>>1,ne.dts=ne.pts,ue&64&&(ne.dts=(J[14]&14)<<27|(J[15]&255)<<20|(J[16]&254)<<12|(J[17]&255)<<5|(J[18]&254)>>>3,ne.dts*=4,ne.dts+=(J[18]&6)>>>1)),ne.data=J.subarray(9+J[8]))},X=function(J,ne,ue){var xe=new Uint8Array(J.size),He={type:ne},Ie=0,it=0,ht=!1,Nr;if(!(!J.data.length||J.size<9)){for(He.trackId=J.data[0].pid,Ie=0;Ie<J.data.length;Ie++)Nr=J.data[Ie],xe.set(Nr.data,it),it+=Nr.data.byteLength;G(xe,He),ht=ne==="video"||He.packetLength<=J.size,(ue||ht)&&(J.size=0,J.data.length=0),ht&&g.trigger("data",He)}};Cs.prototype.init.call(this),this.push=function(J){({pat:function(){},pes:function(){var ne,ue;switch(J.streamType){case mn.H264_STREAM_TYPE:ne=x,ue="video";break;case mn.ADTS_STREAM_TYPE:ne=w,ue="audio";break;case mn.METADATA_STREAM_TYPE:ne=M,ue="timed-metadata";break;default:return}J.payloadUnitStartIndicator&&X(ne,ue,!0),ne.data.push(J),ne.size+=J.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};N=J.programMapTable,N.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.video,codec:"avc",type:"video"}),N.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.audio,codec:"adts",type:"audio"}),_=!0,g.trigger("data",ne)}})[J.type]()},this.reset=function(){x.size=0,x.data.length=0,w.size=0,w.data.length=0,this.trigger("reset")},this.flushStreams_=function(){X(x,"video"),X(w,"audio"),X(M,"timed-metadata")},this.flush=function(){if(!_&&N){var J={type:"metadata",tracks:[]};N.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.video,codec:"avc",type:"video"}),N.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+N.audio,codec:"adts",type:"audio"}),g.trigger("data",J)}_=!1,this.flushStreams_(),this.trigger("done")}},Cs.prototype=new mo;var vc={PAT_PID:0,MP2T_PACKET_LENGTH:go,TransportPacketStream:As,TransportParseStream:zo,ElementaryStream:Cs,TimestampRolloverStream:Td,CaptionStream:Ia.CaptionStream,Cea608Stream:Ia.Cea608Stream,Cea708Stream:Ia.Cea708Stream,MetadataStream:Ts};for(var Ma in mn)mn.hasOwnProperty(Ma)&&(vc[Ma]=mn[Ma]);var Ad=vc,gn=r,Pn=Ke.ONE_SECOND_IN_TS,Hr,_c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Hr=function(g){var _,x=0;Hr.prototype.init.call(this),this.skipWarn_=function(w,M){this.trigger("log",{level:"warn",message:`adts skiping bytes ${w} to ${M} in frame ${x} outside syncword`})},this.push=function(w){var M=0,N,G,X,J,ne;if(g||(x=0),w.type==="audio"){_&&_.length?(X=_,_=new Uint8Array(X.byteLength+w.data.byteLength),_.set(X),_.set(w.data,X.byteLength)):_=w.data;for(var ue;M+7<_.length;){if(_[M]!==255||(_[M+1]&246)!==240){typeof ue!="number"&&(ue=M),M++;continue}if(typeof ue=="number"&&(this.skipWarn_(ue,M),ue=null),G=(~_[M+1]&1)*2,N=(_[M+3]&3)<<11|_[M+4]<<3|(_[M+5]&224)>>5,J=((_[M+6]&3)+1)*1024,ne=J*Pn/_c[(_[M+2]&60)>>>2],_.byteLength-M<N)break;this.trigger("data",{pts:w.pts+x*ne,dts:w.dts+x*ne,sampleCount:J,audioobjecttype:(_[M+2]>>>6&3)+1,channelcount:(_[M+2]&1)<<2|(_[M+3]&192)>>>6,samplerate:_c[(_[M+2]&60)>>>2],samplingfrequencyindex:(_[M+2]&60)>>>2,samplesize:16,data:_.subarray(M+7+G,M+N)}),x++,M+=N}typeof ue=="number"&&(this.skipWarn_(ue,M),ue=null),_=_.subarray(M)}},this.flush=function(){x=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},Hr.prototype=new gn;var Xn=Hr,wc;wc=function(g){var _=g.byteLength,x=0,w=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+w},this.loadWord=function(){var M=g.byteLength-_,N=new Uint8Array(4),G=Math.min(4,_);if(G===0)throw new Error("no bytes available");N.set(g.subarray(M,M+G)),x=new DataView(N.buffer).getUint32(0),w=G*8,_-=G},this.skipBits=function(M){var N;w>M?(x<<=M,w-=M):(M-=w,N=Math.floor(M/8),M-=N*8,_-=N,this.loadWord(),x<<=M,w-=M)},this.readBits=function(M){var N=Math.min(w,M),G=x>>>32-N;return w-=N,w>0?x<<=N:_>0&&this.loadWord(),N=M-N,N>0?G<<N|this.readBits(N):G},this.skipLeadingZeros=function(){var M;for(M=0;M<w;++M)if(x&2147483648>>>M)return x<<=M,w-=M,M;return this.loadWord(),M+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var M=this.skipLeadingZeros();return this.readBits(M+1)-1},this.readExpGolomb=function(){var M=this.readUnsignedExpGolomb();return 1&M?1+M>>>1:-1*(M>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Re=wc,Kp=r,Ub=Re,xc,Na,Xp;Na=function(){var g=0,_,x;Na.prototype.init.call(this),this.push=function(w){var M;x?(M=new Uint8Array(x.byteLength+w.data.byteLength),M.set(x),M.set(w.data,x.byteLength),x=M):x=w.data;for(var N=x.byteLength;g<N-3;g++)if(x[g+2]===1){_=g+5;break}for(;_<N;)switch(x[_]){case 0:if(x[_-1]!==0){_+=2;break}else if(x[_-2]!==0){_++;break}g+3!==_-2&&this.trigger("data",x.subarray(g+3,_-2));do _++;while(x[_]!==1&&_<N);g=_-2,_+=3;break;case 1:if(x[_-1]!==0||x[_-2]!==0){_+=3;break}this.trigger("data",x.subarray(g+3,_-2)),g=_-2,_+=3;break;default:_+=3;break}x=x.subarray(g),_-=g,g=0},this.reset=function(){x=null,g=0,this.trigger("reset")},this.flush=function(){x&&x.byteLength>3&&this.trigger("data",x.subarray(g+3)),x=null,g=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Na.prototype=new Kp,Xp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},xc=function(){var g=new Na,_,x,w,M,N,G,X;xc.prototype.init.call(this),_=this,this.push=function(J){J.type==="video"&&(x=J.trackId,w=J.pts,M=J.dts,g.push(J))},g.on("data",function(J){var ne={trackId:x,pts:w,dts:M,data:J,nalUnitTypeCode:J[0]&31};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=N(J.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=N(J.subarray(1)),ne.config=G(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",ne)}),g.on("done",function(){_.trigger("done")}),g.on("partialdone",function(){_.trigger("partialdone")}),g.on("reset",function(){_.trigger("reset")}),g.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){g.flush()},this.partialFlush=function(){g.partialFlush()},this.reset=function(){g.reset()},this.endTimeline=function(){g.endTimeline()},X=function(J,ne){var ue=8,xe=8,He,Ie;for(He=0;He<J;He++)xe!==0&&(Ie=ne.readExpGolomb(),xe=(ue+Ie+256)%256),ue=xe===0?ue:xe},N=function(J){for(var ne=J.byteLength,ue=[],xe=1,He,Ie;xe<ne-2;)J[xe]===0&&J[xe+1]===0&&J[xe+2]===3?(ue.push(xe+2),xe+=2):xe++;if(ue.length===0)return J;He=ne-ue.length,Ie=new Uint8Array(He);var it=0;for(xe=0;xe<He;it++,xe++)it===ue[0]&&(it++,ue.shift()),Ie[xe]=J[it];return Ie},G=function(J){var ne=0,ue=0,xe=0,He=0,Ie,it,ht,Nr,bi,Ra,A6,C6,S6,s2,E6,Tr=[1,1],k6,Pa;if(Ie=new Ub(J),it=Ie.readUnsignedByte(),Nr=Ie.readUnsignedByte(),ht=Ie.readUnsignedByte(),Ie.skipUnsignedExpGolomb(),Xp[it]&&(bi=Ie.readUnsignedExpGolomb(),bi===3&&Ie.skipBits(1),Ie.skipUnsignedExpGolomb(),Ie.skipUnsignedExpGolomb(),Ie.skipBits(1),Ie.readBoolean()))for(E6=bi!==3?8:12,Pa=0;Pa<E6;Pa++)Ie.readBoolean()&&(Pa<6?X(16,Ie):X(64,Ie));if(Ie.skipUnsignedExpGolomb(),Ra=Ie.readUnsignedExpGolomb(),Ra===0)Ie.readUnsignedExpGolomb();else if(Ra===1)for(Ie.skipBits(1),Ie.skipExpGolomb(),Ie.skipExpGolomb(),A6=Ie.readUnsignedExpGolomb(),Pa=0;Pa<A6;Pa++)Ie.skipExpGolomb();if(Ie.skipUnsignedExpGolomb(),Ie.skipBits(1),C6=Ie.readUnsignedExpGolomb(),S6=Ie.readUnsignedExpGolomb(),s2=Ie.readBits(1),s2===0&&Ie.skipBits(1),Ie.skipBits(1),Ie.readBoolean()&&(ne=Ie.readUnsignedExpGolomb(),ue=Ie.readUnsignedExpGolomb(),xe=Ie.readUnsignedExpGolomb(),He=Ie.readUnsignedExpGolomb()),Ie.readBoolean()&&Ie.readBoolean()){switch(k6=Ie.readUnsignedByte(),k6){case 1:Tr=[1,1];break;case 2:Tr=[12,11];break;case 3:Tr=[10,11];break;case 4:Tr=[16,11];break;case 5:Tr=[40,33];break;case 6:Tr=[24,11];break;case 7:Tr=[20,11];break;case 8:Tr=[32,11];break;case 9:Tr=[80,33];break;case 10:Tr=[18,11];break;case 11:Tr=[15,11];break;case 12:Tr=[64,33];break;case 13:Tr=[160,99];break;case 14:Tr=[4,3];break;case 15:Tr=[3,2];break;case 16:Tr=[2,1];break;case 255:{Tr=[Ie.readUnsignedByte()<<8|Ie.readUnsignedByte(),Ie.readUnsignedByte()<<8|Ie.readUnsignedByte()];break}}Tr&&Tr[0]/Tr[1]}return{profileIdc:it,levelIdc:ht,profileCompatibility:Nr,width:(C6+1)*16-ne*2-ue*2,height:(2-s2)*(S6+1)*16-xe*2-He*2,sarRatio:Tr}}},xc.prototype=new Kp;var jb={H264Stream:xc,NalByteStream:Na},$b=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Zp=function(g,_){var x=g[_+6]<<21|g[_+7]<<14|g[_+8]<<7|g[_+9],w=g[_+5],M=(w&16)>>4;return x=x>=0?x:0,M?x+20:x+10},Jp=function(g,_){return g.length-_<10||g[_]!==73||g[_+1]!==68||g[_+2]!==51?_:(_+=Zp(g,_),Jp(g,_))},zb=function(g){var _=Jp(g,0);return g.length>=_+2&&(g[_]&255)===255&&(g[_+1]&240)===240&&(g[_+1]&22)===16},em=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},Vb=function(g,_,x){var w,M="";for(w=_;w<x;w++)M+="%"+("00"+g[w].toString(16)).slice(-2);return M},Hb=function(g,_,x){return unescape(Vb(g,_,x))},qb=function(g,_){var x=(g[_+5]&224)>>5,w=g[_+4]<<3,M=g[_+3]&6144;return M|w|x},Wb=function(g,_){return g[_]===73&&g[_+1]===68&&g[_+2]===51?"timed-metadata":g[_]&!0&&(g[_+1]&240)===240?"audio":null},Gb=function(g){for(var _=0;_+5<g.length;){if(g[_]!==255||(g[_+1]&246)!==240){_++;continue}return $b[(g[_+2]&60)>>>2]}return null},Qb=function(g){var _,x,w,M;_=10,g[5]&64&&(_+=4,_+=em(g.subarray(10,14)));do{if(x=em(g.subarray(_+4,_+8)),x<1)return null;if(M=String.fromCharCode(g[_],g[_+1],g[_+2],g[_+3]),M==="PRIV"){w=g.subarray(_+10,_+x+10);for(var N=0;N<w.byteLength;N++)if(w[N]===0){var G=Hb(w,0,N);if(G==="com.apple.streaming.transportStreamTimestamp"){var X=w.subarray(N+1),J=(X[3]&1)<<30|X[4]<<22|X[5]<<14|X[6]<<6|X[7]>>>2;return J*=4,J+=X[7]&3,J}break}}_+=10,_+=x}while(_<g.byteLength);return null},qt={isLikelyAacData:zb,parseId3TagSize:Zp,parseAdtsSize:qb,parseType:Wb,parseSampleRate:Gb,parseAacTimestamp:Qb},ce=r,_e=qt,Lt;Lt=function(){var g=new Uint8Array,_=0;Lt.prototype.init.call(this),this.setTimestamp=function(x){_=x},this.push=function(x){var w=0,M=0,N,G,X,J;for(g.length?(J=g.length,g=new Uint8Array(x.byteLength+J),g.set(g.subarray(0,J)),g.set(x,J)):g=x;g.length-M>=3;){if(g[M]===73&&g[M+1]===68&&g[M+2]===51){if(g.length-M<10||(w=_e.parseId3TagSize(g,M),M+w>g.length))break;G={type:"timed-metadata",data:g.subarray(M,M+w)},this.trigger("data",G),M+=w;continue}else if((g[M]&255)===255&&(g[M+1]&240)===240){if(g.length-M<7||(w=_e.parseAdtsSize(g,M),M+w>g.length))break;X={type:"audio",data:g.subarray(M,M+w),pts:_,dts:_},this.trigger("data",X),M+=w;continue}M++}N=g.length-M,N>0?g=g.subarray(M):g=new Uint8Array},this.reset=function(){g=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){g=new Uint8Array,this.trigger("endedtimeline")}},Lt.prototype=new ce;var Yb=Lt,Oa=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Cd=Oa,Kb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Jde=Kb,tm=r,Sd=ie,Ed=ae,rm=Ui,$i=Gn,Vo=Ad,nm=Ke,t6=Xn,efe=jb.H264Stream,tfe=Yb,rfe=qt.isLikelyAacData,nfe=Ke.ONE_SECOND_IN_TS,Xb=Cd,Zb=Jde,kd,Tc,im,La,ife=function(g,_){_.stream=g,this.trigger("log",_)},r6=function(g,_){for(var x=Object.keys(_),w=0;w<x.length;w++){var M=x[w];M==="headOfPipeline"||!_[M].on||_[M].on("log",ife.bind(g,M))}},n6=function(g,_){var x;if(g.length!==_.length)return!1;for(x=0;x<g.length;x++)if(g[x]!==_[x])return!1;return!0},Jb=function(g,_,x,w,M,N){var G=x-_,X=w-_,J=M-x;return{start:{dts:g,pts:g+G},end:{dts:g+X,pts:g+J},prependedContentDuration:N,baseMediaDecodeTime:g}};Tc=function(g,_){var x=[],w,M=0,N=0,G=1/0;_=_||{},w=_.firstSequenceNumber||0,Tc.prototype.init.call(this),this.push=function(X){$i.collectDtsInfo(g,X),g&&Xb.forEach(function(J){g[J]=X[J]}),x.push(X)},this.setEarliestDts=function(X){M=X},this.setVideoBaseMediaDecodeTime=function(X){G=X},this.setAudioAppendStart=function(X){N=X},this.flush=function(){var X,J,ne,ue,xe,He,Ie;if(x.length===0){this.trigger("done","AudioSegmentStream");return}X=rm.trimAdtsFramesByEarliestDts(x,g,M),g.baseMediaDecodeTime=$i.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),Ie=rm.prefixWithSilence(g,X,N,G),g.samples=rm.generateSampleTable(X),ne=Sd.mdat(rm.concatenateFrameData(X)),x=[],J=Sd.moof(w,[g]),ue=new Uint8Array(J.byteLength+ne.byteLength),w++,ue.set(J),ue.set(ne,J.byteLength),$i.clearDtsInfo(g),xe=Math.ceil(nfe*1024/g.samplerate),X.length&&(He=X.length*xe,this.trigger("segmentTimingInfo",Jb(nm.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),X[0].dts,X[0].pts,X[0].dts+He,X[0].pts+He,Ie||0)),this.trigger("timingInfo",{start:X[0].pts,end:X[0].pts+He})),this.trigger("data",{track:g,boxes:ue}),this.trigger("done","AudioSegmentStream")},this.reset=function(){$i.clearDtsInfo(g),x=[],this.trigger("reset")}},Tc.prototype=new tm,kd=function(g,_){var x,w=[],M=[],N,G;_=_||{},x=_.firstSequenceNumber||0,kd.prototype.init.call(this),delete g.minPTS,this.gopCache_=[],this.push=function(X){$i.collectDtsInfo(g,X),X.nalUnitType==="seq_parameter_set_rbsp"&&!N&&(N=X.config,g.sps=[X.data],Zb.forEach(function(J){g[J]=N[J]},this)),X.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=X.data,g.pps=[X.data]),w.push(X)},this.flush=function(){for(var X,J,ne,ue,xe,He,Ie=0,it,ht;w.length&&w[0].nalUnitType!=="access_unit_delimiter_rbsp";)w.shift();if(w.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(X=Ed.groupNalsIntoFrames(w),ne=Ed.groupFramesIntoGops(X),ne[0][0].keyFrame||(J=this.getGopForFusion_(w[0],g),J?(Ie=J.duration,ne.unshift(J),ne.byteLength+=J.byteLength,ne.nalCount+=J.nalCount,ne.pts=J.pts,ne.dts=J.dts,ne.duration+=J.duration):ne=Ed.extendFirstKeyFrame(ne)),M.length){var Nr;if(_.alignGopsAtEnd?Nr=this.alignGopsAtEnd_(ne):Nr=this.alignGopsAtStart_(ne),!Nr){this.gopCache_.unshift({gop:ne.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}$i.clearDtsInfo(g),ne=Nr}$i.collectDtsInfo(g,ne),g.samples=Ed.generateSampleTable(ne),xe=Sd.mdat(Ed.concatenateNalData(ne)),g.baseMediaDecodeTime=$i.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",ne.map(function(bi){return{pts:bi.pts,dts:bi.dts,byteLength:bi.byteLength}})),it=ne[0],ht=ne[ne.length-1],this.trigger("segmentTimingInfo",Jb(g.baseMediaDecodeTime,it.dts,it.pts,ht.dts+ht.duration,ht.pts+ht.duration,Ie)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[ne.length-1].pts+ne[ne.length-1].duration}),this.gopCache_.unshift({gop:ne.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.trigger("baseMediaDecodeTime",g.baseMediaDecodeTime),this.trigger("timelineStartInfo",g.timelineStartInfo),ue=Sd.moof(x,[g]),He=new Uint8Array(ue.byteLength+xe.byteLength),x++,He.set(ue),He.set(xe,ue.byteLength),this.trigger("data",{track:g,boxes:He}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),w=[],this.gopCache_.length=0,M.length=0,this.trigger("reset")},this.resetStream_=function(){$i.clearDtsInfo(g),N=void 0,G=void 0},this.getGopForFusion_=function(X){var J=45e3,ne=1e4,ue=1/0,xe,He,Ie,it,ht;for(ht=0;ht<this.gopCache_.length;ht++)it=this.gopCache_[ht],Ie=it.gop,!(!(g.pps&&n6(g.pps[0],it.pps[0]))||!(g.sps&&n6(g.sps[0],it.sps[0])))&&(Ie.dts<g.timelineStartInfo.dts||(xe=X.dts-Ie.dts-Ie.duration,xe>=-ne&&xe<=J&&(!He||ue>xe)&&(He=it,ue=xe)));return He?He.gop:null},this.alignGopsAtStart_=function(X){var J,ne,ue,xe,He,Ie,it,ht;for(He=X.byteLength,Ie=X.nalCount,it=X.duration,J=ne=0;J<M.length&&ne<X.length&&(ue=M[J],xe=X[ne],ue.pts!==xe.pts);){if(xe.pts>ue.pts){J++;continue}ne++,He-=xe.byteLength,Ie-=xe.nalCount,it-=xe.duration}return ne===0?X:ne===X.length?null:(ht=X.slice(ne),ht.byteLength=He,ht.duration=it,ht.nalCount=Ie,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht)},this.alignGopsAtEnd_=function(X){var J,ne,ue,xe,He,Ie;for(J=M.length-1,ne=X.length-1,He=null,Ie=!1;J>=0&&ne>=0;){if(ue=M[J],xe=X[ne],ue.pts===xe.pts){Ie=!0;break}if(ue.pts>xe.pts){J--;continue}J===M.length-1&&(He=ne),ne--}if(!Ie&&He===null)return null;var it;if(Ie?it=ne:it=He,it===0)return X;var ht=X.slice(it),Nr=ht.reduce(function(bi,Ra){return bi.byteLength+=Ra.byteLength,bi.duration+=Ra.duration,bi.nalCount+=Ra.nalCount,bi},{byteLength:0,duration:0,nalCount:0});return ht.byteLength=Nr.byteLength,ht.duration=Nr.duration,ht.nalCount=Nr.nalCount,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht},this.alignGopsWith=function(X){M=X}},kd.prototype=new tm,La=function(g,_){this.numberOfTracks=0,this.metadataStream=_,g=g||{},typeof g.remux<"u"?this.remuxTracks=!!g.remux:this.remuxTracks=!0,typeof g.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=g.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,La.prototype.init.call(this),this.push=function(x){if(x.content||x.text)return this.pendingCaptions.push(x);if(x.frames)return this.pendingMetadata.push(x);this.pendingTracks.push(x.track),this.pendingBytes+=x.boxes.byteLength,x.track.type==="video"&&(this.videoTrack=x.track,this.pendingBoxes.push(x.boxes)),x.track.type==="audio"&&(this.audioTrack=x.track,this.pendingBoxes.unshift(x.boxes))}},La.prototype=new tm,La.prototype.flush=function(g){var _=0,x={captions:[],captionStreams:{},metadata:[],info:{}},w,M,N,G=0,X;if(this.pendingTracks.length<this.numberOfTracks){if(g!=="VideoSegmentStream"&&g!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,Zb.forEach(function(J){x.info[J]=this.videoTrack[J]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,Xb.forEach(function(J){x.info[J]=this.audioTrack[J]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,N=Sd.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(N.byteLength),x.initSegment.set(N),x.data=new Uint8Array(this.pendingBytes),X=0;X<this.pendingBoxes.length;X++)x.data.set(this.pendingBoxes[X],_),_+=this.pendingBoxes[X].byteLength;for(X=0;X<this.pendingCaptions.length;X++)w=this.pendingCaptions[X],w.startTime=nm.metadataTsToSeconds(w.startPts,G,this.keepOriginalTimestamps),w.endTime=nm.metadataTsToSeconds(w.endPts,G,this.keepOriginalTimestamps),x.captionStreams[w.stream]=!0,x.captions.push(w);for(X=0;X<this.pendingMetadata.length;X++)M=this.pendingMetadata[X],M.cueTime=nm.metadataTsToSeconds(M.pts,G,this.keepOriginalTimestamps),x.metadata.push(M);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),X=0;X<x.captions.length;X++)w=x.captions[X],this.trigger("caption",w);for(X=0;X<x.metadata.length;X++)M=x.metadata[X],this.trigger("id3Frame",M)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},La.prototype.setRemux=function(g){this.remuxTracks=g},im=function(g){var _=this,x=!0,w,M;im.prototype.init.call(this),g=g||{},this.baseMediaDecodeTime=g.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var N={};this.transmuxPipeline_=N,N.type="aac",N.metadataStream=new Vo.MetadataStream,N.aacStream=new tfe,N.audioTimestampRolloverStream=new Vo.TimestampRolloverStream("audio"),N.timedMetadataTimestampRolloverStream=new Vo.TimestampRolloverStream("timed-metadata"),N.adtsStream=new t6,N.coalesceStream=new La(g,N.metadataStream),N.headOfPipeline=N.aacStream,N.aacStream.pipe(N.audioTimestampRolloverStream).pipe(N.adtsStream),N.aacStream.pipe(N.timedMetadataTimestampRolloverStream).pipe(N.metadataStream).pipe(N.coalesceStream),N.metadataStream.on("timestamp",function(G){N.aacStream.setTimestamp(G.timeStamp)}),N.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||N.audioSegmentStream||(M=M||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},N.coalesceStream.numberOfTracks++,N.audioSegmentStream=new Tc(M,g),N.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),N.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),N.adtsStream.pipe(N.audioSegmentStream).pipe(N.coalesceStream),_.trigger("trackinfo",{hasAudio:!!M,hasVideo:!!w}))}),N.coalesceStream.on("data",this.trigger.bind(this,"data")),N.coalesceStream.on("done",this.trigger.bind(this,"done")),r6(this,N)},this.setupTsPipeline=function(){var N={};this.transmuxPipeline_=N,N.type="ts",N.metadataStream=new Vo.MetadataStream,N.packetStream=new Vo.TransportPacketStream,N.parseStream=new Vo.TransportParseStream,N.elementaryStream=new Vo.ElementaryStream,N.timestampRolloverStream=new Vo.TimestampRolloverStream,N.adtsStream=new t6,N.h264Stream=new efe,N.captionStream=new Vo.CaptionStream(g),N.coalesceStream=new La(g,N.metadataStream),N.headOfPipeline=N.packetStream,N.packetStream.pipe(N.parseStream).pipe(N.elementaryStream).pipe(N.timestampRolloverStream),N.timestampRolloverStream.pipe(N.h264Stream),N.timestampRolloverStream.pipe(N.adtsStream),N.timestampRolloverStream.pipe(N.metadataStream).pipe(N.coalesceStream),N.h264Stream.pipe(N.captionStream).pipe(N.coalesceStream),N.elementaryStream.on("data",function(G){var X;if(G.type==="metadata"){for(X=G.tracks.length;X--;)!w&&G.tracks[X].type==="video"?(w=G.tracks[X],w.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!M&&G.tracks[X].type==="audio"&&(M=G.tracks[X],M.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);w&&!N.videoSegmentStream&&(N.coalesceStream.numberOfTracks++,N.videoSegmentStream=new kd(w,g),N.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),N.videoSegmentStream.on("timelineStartInfo",function(J){M&&!g.keepOriginalTimestamps&&(M.timelineStartInfo=J,N.audioSegmentStream.setEarliestDts(J.dts-_.baseMediaDecodeTime))}),N.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),N.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),N.videoSegmentStream.on("baseMediaDecodeTime",function(J){M&&N.audioSegmentStream.setVideoBaseMediaDecodeTime(J)}),N.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),N.h264Stream.pipe(N.videoSegmentStream).pipe(N.coalesceStream)),M&&!N.audioSegmentStream&&(N.coalesceStream.numberOfTracks++,N.audioSegmentStream=new Tc(M,g),N.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),N.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),N.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),N.adtsStream.pipe(N.audioSegmentStream).pipe(N.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!M,hasVideo:!!w})}}),N.coalesceStream.on("data",this.trigger.bind(this,"data")),N.coalesceStream.on("id3Frame",function(G){G.dispatchType=N.metadataStream.dispatchType,_.trigger("id3Frame",G)}),N.coalesceStream.on("caption",this.trigger.bind(this,"caption")),N.coalesceStream.on("done",this.trigger.bind(this,"done")),r6(this,N)},this.setBaseMediaDecodeTime=function(N){var G=this.transmuxPipeline_;g.keepOriginalTimestamps||(this.baseMediaDecodeTime=N),M&&(M.timelineStartInfo.dts=void 0,M.timelineStartInfo.pts=void 0,$i.clearDtsInfo(M),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),w&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,$i.clearDtsInfo(w),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(N){M&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(N)},this.setRemux=function(N){var G=this.transmuxPipeline_;g.remux=N,G&&G.coalesceStream&&G.coalesceStream.setRemux(N)},this.alignGopsWith=function(N){w&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(N)},this.getLogTrigger_=function(N){var G=this;return function(X){X.stream=N,G.trigger("log",X)}},this.push=function(N){if(x){var G=rfe(N);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),x=!1}this.transmuxPipeline_.headOfPipeline.push(N)},this.flush=function(){x=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},im.prototype=new tm;var ofe={Transmuxer:im,VideoSegmentStream:kd,AudioSegmentStream:Tc,AUDIO_PROPERTIES:Xb,VIDEO_PROPERTIES:Zb,generateSegmentTimingInfo:Jb},sfe=function(g){return g>>>0},afe=function(g){return("00"+g.toString(16)).slice(-2)},om={toUnsigned:sfe,toHexString:afe},lfe=function(g){var _="";return _+=String.fromCharCode(g[0]),_+=String.fromCharCode(g[1]),_+=String.fromCharCode(g[2]),_+=String.fromCharCode(g[3]),_},i6=lfe,cfe=om.toUnsigned,ufe=i6,o6=function(g,_){var x=[],w,M,N,G,X;if(!_.length)return null;for(w=0;w<g.byteLength;)M=cfe(g[w]<<24|g[w+1]<<16|g[w+2]<<8|g[w+3]),N=ufe(g.subarray(w+4,w+8)),G=M>1?w+M:g.byteLength,N===_[0]&&(_.length===1?x.push(g.subarray(w+8,G)):(X=o6(g.subarray(w+8,G),_.slice(1)),X.length&&(x=x.concat(X)))),w=G;return x},s6=o6,dfe=om.toUnsigned,ffe=o.getUint64,hfe=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4))};return _.version===1?_.baseMediaDecodeTime=ffe(g.subarray(4)):_.baseMediaDecodeTime=dfe(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),_},a6=hfe,pfe=function(g){return{isLeading:(g[0]&12)>>>2,dependsOn:g[0]&3,isDependedOn:(g[1]&192)>>>6,hasRedundancy:(g[1]&48)>>>4,paddingValue:(g[1]&14)>>>1,isNonSyncSample:g[1]&1,degradationPriority:g[2]<<8|g[3]}},mfe=pfe,l6=mfe,gfe=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4)),samples:[]},x=new DataView(g.buffer,g.byteOffset,g.byteLength),w=_.flags[2]&1,M=_.flags[2]&4,N=_.flags[1]&1,G=_.flags[1]&2,X=_.flags[1]&4,J=_.flags[1]&8,ne=x.getUint32(4),ue=8,xe;for(w&&(_.dataOffset=x.getInt32(ue),ue+=4),M&&ne&&(xe={flags:l6(g.subarray(ue,ue+4))},ue+=4,N&&(xe.duration=x.getUint32(ue),ue+=4),G&&(xe.size=x.getUint32(ue),ue+=4),J&&(_.version===1?xe.compositionTimeOffset=x.getInt32(ue):xe.compositionTimeOffset=x.getUint32(ue),ue+=4),_.samples.push(xe),ne--);ne--;)xe={},N&&(xe.duration=x.getUint32(ue),ue+=4),G&&(xe.size=x.getUint32(ue),ue+=4),X&&(xe.flags=l6(g.subarray(ue,ue+4)),ue+=4),J&&(_.version===1?xe.compositionTimeOffset=x.getInt32(ue):xe.compositionTimeOffset=x.getUint32(ue),ue+=4),_.samples.push(xe);return _},c6=gfe,yfe=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),x={version:g[0],flags:new Uint8Array(g.subarray(1,4)),trackId:_.getUint32(4)},w=x.flags[2]&1,M=x.flags[2]&2,N=x.flags[2]&8,G=x.flags[2]&16,X=x.flags[2]&32,J=x.flags[0]&65536,ne=x.flags[0]&131072,ue;return ue=8,w&&(ue+=4,x.baseDataOffset=_.getUint32(12),ue+=4),M&&(x.sampleDescriptionIndex=_.getUint32(ue),ue+=4),N&&(x.defaultSampleDuration=_.getUint32(ue),ue+=4),G&&(x.defaultSampleSize=_.getUint32(ue),ue+=4),X&&(x.defaultSampleFlags=_.getUint32(ue)),J&&(x.durationIsEmpty=!0),!w&&ne&&(x.baseDataOffsetIsMoof=!0),x},u6=yfe,Id;typeof window<"u"?Id=window:typeof t<"u"?Id=t:typeof self<"u"?Id=self:Id={};var d6=Id,bfe=pn.discardEmulationPreventionBytes,vfe=Yp.CaptionStream,Dd=s6,_fe=a6,wfe=c6,xfe=u6,f6=d6,Tfe=function(g,_){for(var x=g,w=0;w<_.length;w++){var M=_[w];if(x<M.size)return M;x-=M.size}return null},Afe=function(g,_,x){var w=new DataView(g.buffer,g.byteOffset,g.byteLength),M={logs:[],seiNals:[]},N,G,X,J;for(G=0;G+4<g.length;G+=X)if(X=w.getUint32(G),G+=4,!(X<=0))switch(g[G]&31){case 6:var ne=g.subarray(G+1,G+1+X),ue=Tfe(G,_);if(N={nalUnitType:"sei_rbsp",size:X,data:ne,escapedRBSP:bfe(ne),trackId:x},ue)N.pts=ue.pts,N.dts=ue.dts,J=ue;else if(J)N.pts=J.pts,N.dts=J.dts;else{M.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+x+". See mux.js#223."});break}M.seiNals.push(N);break}return M},Cfe=function(g,_,x){var w=_,M=x.defaultSampleDuration||0,N=x.defaultSampleSize||0,G=x.trackId,X=[];return g.forEach(function(J){var ne=wfe(J),ue=ne.samples;ue.forEach(function(xe){xe.duration===void 0&&(xe.duration=M),xe.size===void 0&&(xe.size=N),xe.trackId=G,xe.dts=w,xe.compositionTimeOffset===void 0&&(xe.compositionTimeOffset=0),typeof w=="bigint"?(xe.pts=w+f6.BigInt(xe.compositionTimeOffset),w+=f6.BigInt(xe.duration)):(xe.pts=w+xe.compositionTimeOffset,w+=xe.duration)}),X=X.concat(ue)}),X},Sfe=function(g,_){var x=Dd(g,["moof","traf"]),w=Dd(g,["mdat"]),M={},N=[];return w.forEach(function(G,X){var J=x[X];N.push({mdat:G,traf:J})}),N.forEach(function(G){var X=G.mdat,J=G.traf,ne=Dd(J,["tfhd"]),ue=xfe(ne[0]),xe=ue.trackId,He=Dd(J,["tfdt"]),Ie=He.length>0?_fe(He[0]).baseMediaDecodeTime:0,it=Dd(J,["trun"]),ht,Nr;_===xe&&it.length>0&&(ht=Cfe(it,Ie,ue),Nr=Afe(X,ht,xe),M[xe]||(M[xe]={seiNals:[],logs:[]}),M[xe].seiNals=M[xe].seiNals.concat(Nr.seiNals),M[xe].logs=M[xe].logs.concat(Nr.logs))}),M},Efe=function(g,_,x){var w;if(_===null)return null;w=Sfe(g,_);var M=w[_]||{};return{seiNals:M.seiNals,logs:M.logs,timescale:x}},kfe=function(){var g=!1,_,x,w,M,N,G;this.isInitialized=function(){return g},this.init=function(X){_=new vfe,g=!0,G=X?X.isPartial:!1,_.on("data",function(J){J.startTime=J.startPts/M,J.endTime=J.endPts/M,N.captions.push(J),N.captionStreams[J.stream]=!0}),_.on("log",function(J){N.logs.push(J)})},this.isNewInit=function(X,J){return X&&X.length===0||J&&typeof J=="object"&&Object.keys(J).length===0?!1:w!==X[0]||M!==J[w]},this.parse=function(X,J,ne){var ue;if(this.isInitialized()){if(!J||!ne)return null;if(this.isNewInit(J,ne))w=J[0],M=ne[w];else if(w===null||!M)return x.push(X),null}else return null;for(;x.length>0;){var xe=x.shift();this.parse(xe,J,ne)}return ue=Efe(X,w,M),ue&&ue.logs&&(N.logs=N.logs.concat(ue.logs)),ue===null||!ue.seiNals?N.logs.length?{logs:N.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ue.seiNals),this.flushStream(),N)},this.pushNals=function(X){if(!this.isInitialized()||!X||X.length===0)return null;X.forEach(function(J){_.push(J)})},this.flushStream=function(){if(!this.isInitialized())return null;G?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){N.captions=[],N.captionStreams={},N.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){x=[],w=null,M=null,N?this.clearParsedCaptions():N={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Ife=kfe,Dfe=function(g){for(var _=0,x=String.fromCharCode(g[_]),w="";x!=="\0";)w+=x,_++,x=String.fromCharCode(g[_]);return w+=x,w},Mfe={uint8ToCString:Dfe},sm=Mfe.uint8ToCString,Nfe=o.getUint64,Ofe=function(g){var _=4,x=g[0],w,M,N,G,X,J,ne,ue;if(x===0){w=sm(g.subarray(_)),_+=w.length,M=sm(g.subarray(_)),_+=M.length;var xe=new DataView(g.buffer);N=xe.getUint32(_),_+=4,X=xe.getUint32(_),_+=4,J=xe.getUint32(_),_+=4,ne=xe.getUint32(_),_+=4}else if(x===1){var xe=new DataView(g.buffer);N=xe.getUint32(_),_+=4,G=Nfe(g.subarray(_)),_+=8,J=xe.getUint32(_),_+=4,ne=xe.getUint32(_),_+=4,w=sm(g.subarray(_)),_+=w.length,M=sm(g.subarray(_)),_+=M.length}ue=new Uint8Array(g.subarray(_,g.byteLength));var He={scheme_id_uri:w,value:M,timescale:N||1,presentation_time:G,presentation_time_delta:X,event_duration:J,id:ne,message_data:ue};return Bfe(x,He)?He:void 0},Lfe=function(g,_,x,w){return g||g===0?g/_:w+x/_},Bfe=function(g,_){var x=_.scheme_id_uri!=="\0",w=g===0&&h6(_.presentation_time_delta)&&x,M=g===1&&h6(_.presentation_time)&&x;return!(g>1)&&w||M},h6=function(g){return g!==void 0||g!==null},Rfe={parseEmsgBox:Ofe,scaleTime:Lfe},am=om.toUnsigned,Md=om.toHexString,xr=s6,Ac=i6,e2=Rfe,Pfe=u6,Ffe=c6,Ufe=a6,jfe=o.getUint64,p6,m6,g6,y6,b6,t2,v6,r2=d6,$fe=$o.parseId3Frames;p6=function(g){var _={},x=xr(g,["moov","trak"]);return x.reduce(function(w,M){var N,G,X,J,ne;return N=xr(M,["tkhd"])[0],!N||(G=N[0],X=G===0?12:20,J=am(N[X]<<24|N[X+1]<<16|N[X+2]<<8|N[X+3]),ne=xr(M,["mdia","mdhd"])[0],!ne)?null:(G=ne[0],X=G===0?12:20,w[J]=am(ne[X]<<24|ne[X+1]<<16|ne[X+2]<<8|ne[X+3]),w)},_)},m6=function(g,_){var x;x=xr(_,["moof","traf"]);var w=x.reduce(function(M,N){var G=xr(N,["tfhd"])[0],X=am(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),J=g[X]||9e4,ne=xr(N,["tfdt"])[0],ue=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),xe;ne[0]===1?xe=jfe(ne.subarray(4,12)):xe=ue.getUint32(4);let He;return typeof xe=="bigint"?He=xe/r2.BigInt(J):typeof xe=="number"&&!isNaN(xe)&&(He=xe/J),He<Number.MAX_SAFE_INTEGER&&(He=Number(He)),He<M&&(M=He),M},1/0);return typeof w=="bigint"||isFinite(w)?w:0},g6=function(g,_){var x=xr(_,["moof","traf"]),w=0,M=0,N;if(x&&x.length){var G=xr(x[0],["tfhd"])[0],X=xr(x[0],["trun"])[0],J=xr(x[0],["tfdt"])[0];if(G){var ne=Pfe(G);N=ne.trackId}if(J){var ue=Ufe(J);w=ue.baseMediaDecodeTime}if(X){var xe=Ffe(X);xe.samples&&xe.samples.length&&(M=xe.samples[0].compositionTimeOffset||0)}}var He=g[N]||9e4;typeof w=="bigint"&&(M=r2.BigInt(M),He=r2.BigInt(He));var Ie=(w+M)/He;return typeof Ie=="bigint"&&Ie<Number.MAX_SAFE_INTEGER&&(Ie=Number(Ie)),Ie},y6=function(g){var _=xr(g,["moov","trak"]),x=[];return _.forEach(function(w){var M=xr(w,["mdia","hdlr"]),N=xr(w,["tkhd"]);M.forEach(function(G,X){var J=Ac(G.subarray(8,12)),ne=N[X],ue,xe,He;J==="vide"&&(ue=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),xe=ue.getUint8(0),He=xe===0?ue.getUint32(12):ue.getUint32(20),x.push(He))})}),x},t2=function(g){var _=g[0],x=_===0?12:20;return am(g[x]<<24|g[x+1]<<16|g[x+2]<<8|g[x+3])},b6=function(g){var _=xr(g,["moov","trak"]),x=[];return _.forEach(function(w){var M={},N=xr(w,["tkhd"])[0],G,X;N&&(G=new DataView(N.buffer,N.byteOffset,N.byteLength),X=G.getUint8(0),M.id=X===0?G.getUint32(12):G.getUint32(20));var J=xr(w,["mdia","hdlr"])[0];if(J){var ne=Ac(J.subarray(8,12));ne==="vide"?M.type="video":ne==="soun"?M.type="audio":M.type=ne}var ue=xr(w,["mdia","minf","stbl","stsd"])[0];if(ue){var xe=ue.subarray(8);M.codec=Ac(xe.subarray(4,8));var He=xr(xe,[M.codec])[0],Ie,it;He&&(/^[asm]vc[1-9]$/i.test(M.codec)?(Ie=He.subarray(78),it=Ac(Ie.subarray(4,8)),it==="avcC"&&Ie.length>11?(M.codec+=".",M.codec+=Md(Ie[9]),M.codec+=Md(Ie[10]),M.codec+=Md(Ie[11])):M.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(M.codec)?(Ie=He.subarray(28),it=Ac(Ie.subarray(4,8)),it==="esds"&&Ie.length>20&&Ie[19]!==0?(M.codec+="."+Md(Ie[19]),M.codec+="."+Md(Ie[20]>>>2&63).replace(/^0/,"")):M.codec="mp4a.40.2"):M.codec=M.codec.toLowerCase())}var ht=xr(w,["mdia","mdhd"])[0];ht&&(M.timescale=t2(ht)),x.push(M)}),x},v6=function(g,_=0){var x=xr(g,["emsg"]);return x.map(w=>{var M=e2.parseEmsgBox(new Uint8Array(w)),N=$fe(M.message_data);return{cueTime:e2.scaleTime(M.presentation_time,M.timescale,M.presentation_time_delta,_),duration:e2.scaleTime(M.event_duration,M.timescale),frames:N}})};var n2={findBox:xr,parseType:Ac,timescale:p6,startTime:m6,compositionStartTime:g6,videoTrackIds:y6,tracks:b6,getTimescaleFromMediaHeader:t2,getEmsgID3:v6},i2=bc,_6=function(g){var _=g[1]&31;return _<<=8,_|=g[2],_},lm=function(g){return!!(g[1]&64)},cm=function(g){var _=0;return(g[3]&48)>>>4>1&&(_+=g[4]+1),_},zfe=function(g,_){var x=_6(g);return x===0?"pat":x===_?"pmt":_?"pes":null},Vfe=function(g){var _=lm(g),x=4+cm(g);return _&&(x+=g[x]+1),(g[x+10]&31)<<8|g[x+11]},Hfe=function(g){var _={},x=lm(g),w=4+cm(g);if(x&&(w+=g[w]+1),!!(g[w+5]&1)){var M,N,G;M=(g[w+1]&15)<<8|g[w+2],N=3+M-4,G=(g[w+10]&15)<<8|g[w+11];for(var X=12+G;X<N;){var J=w+X;_[(g[J+1]&31)<<8|g[J+2]]=g[J],X+=((g[J+3]&15)<<8|g[J+4])+5}return _}},qfe=function(g,_){var x=_6(g),w=_[x];switch(w){case i2.H264_STREAM_TYPE:return"video";case i2.ADTS_STREAM_TYPE:return"audio";case i2.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Wfe=function(g){var _=lm(g);if(!_)return null;var x=4+cm(g);if(x>=g.byteLength)return null;var w=null,M;return M=g[x+7],M&192&&(w={},w.pts=(g[x+9]&14)<<27|(g[x+10]&255)<<20|(g[x+11]&254)<<12|(g[x+12]&255)<<5|(g[x+13]&254)>>>3,w.pts*=4,w.pts+=(g[x+13]&6)>>>1,w.dts=w.pts,M&64&&(w.dts=(g[x+14]&14)<<27|(g[x+15]&255)<<20|(g[x+16]&254)<<12|(g[x+17]&255)<<5|(g[x+18]&254)>>>3,w.dts*=4,w.dts+=(g[x+18]&6)>>>1)),w},o2=function(g){switch(g){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Gfe=function(g){for(var _=4+cm(g),x=g.subarray(_),w=0,M=0,N=!1,G;M<x.byteLength-3;M++)if(x[M+2]===1){w=M+5;break}for(;w<x.byteLength;)switch(x[w]){case 0:if(x[w-1]!==0){w+=2;break}else if(x[w-2]!==0){w++;break}M+3!==w-2&&(G=o2(x[M+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0));do w++;while(x[w]!==1&&w<x.length);M=w-2,w+=3;break;case 1:if(x[w-1]!==0||x[w-2]!==0){w+=3;break}G=o2(x[M+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0),M=w-2,w+=3;break;default:w+=3;break}return x=x.subarray(M),w-=M,M=0,x&&x.byteLength>3&&(G=o2(x[M+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(N=!0)),N},Qfe={parseType:zfe,parsePat:Vfe,parsePmt:Hfe,parsePayloadUnitStartIndicator:lm,parsePesType:qfe,parsePesTime:Wfe,videoPacketContainsKeyFrame:Gfe},w6=bc,Cc=Mt.handleRollover,zt={};zt.ts=Qfe,zt.aac=qt;var Ba=Ke.ONE_SECOND_IN_TS,yn=188,yo=71,Yfe=function(g,_){for(var x=0,w=yn,M,N;w<g.byteLength;){if(g[x]===yo&&g[w]===yo){switch(M=g.subarray(x,w),N=zt.ts.parseType(M,_.pid),N){case"pat":_.pid=zt.ts.parsePat(M);break;case"pmt":var G=zt.ts.parsePmt(M);_.table=_.table||{},Object.keys(G).forEach(function(X){_.table[X]=G[X]});break}x+=yn,w+=yn;continue}x++,w++}},x6=function(g,_,x){for(var w=0,M=yn,N,G,X,J,ne,ue=!1;M<=g.byteLength;){if(g[w]===yo&&(g[M]===yo||M===g.byteLength)){switch(N=g.subarray(w,M),G=zt.ts.parseType(N,_.pid),G){case"pes":X=zt.ts.parsePesType(N,_.table),J=zt.ts.parsePayloadUnitStartIndicator(N),X==="audio"&&J&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="audio",x.audio.push(ne),ue=!0));break}if(ue)break;w+=yn,M+=yn;continue}w++,M++}for(M=g.byteLength,w=M-yn,ue=!1;w>=0;){if(g[w]===yo&&(g[M]===yo||M===g.byteLength)){switch(N=g.subarray(w,M),G=zt.ts.parseType(N,_.pid),G){case"pes":X=zt.ts.parsePesType(N,_.table),J=zt.ts.parsePayloadUnitStartIndicator(N),X==="audio"&&J&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="audio",x.audio.push(ne),ue=!0));break}if(ue)break;w-=yn,M-=yn;continue}w--,M--}},Kfe=function(g,_,x){for(var w=0,M=yn,N,G,X,J,ne,ue,xe,He,Ie=!1,it={data:[],size:0};M<g.byteLength;){if(g[w]===yo&&g[M]===yo){switch(N=g.subarray(w,M),G=zt.ts.parseType(N,_.pid),G){case"pes":if(X=zt.ts.parsePesType(N,_.table),J=zt.ts.parsePayloadUnitStartIndicator(N),X==="video"&&(J&&!Ie&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="video",x.video.push(ne),Ie=!0)),!x.firstKeyFrame)){if(J&&it.size!==0){for(ue=new Uint8Array(it.size),xe=0;it.data.length;)He=it.data.shift(),ue.set(He,xe),xe+=He.byteLength;if(zt.ts.videoPacketContainsKeyFrame(ue)){var ht=zt.ts.parsePesTime(ue);ht?(x.firstKeyFrame=ht,x.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}it.size=0}it.data.push(N),it.size+=N.byteLength}break}if(Ie&&x.firstKeyFrame)break;w+=yn,M+=yn;continue}w++,M++}for(M=g.byteLength,w=M-yn,Ie=!1;w>=0;){if(g[w]===yo&&g[M]===yo){switch(N=g.subarray(w,M),G=zt.ts.parseType(N,_.pid),G){case"pes":X=zt.ts.parsePesType(N,_.table),J=zt.ts.parsePayloadUnitStartIndicator(N),X==="video"&&J&&(ne=zt.ts.parsePesTime(N),ne&&(ne.type="video",x.video.push(ne),Ie=!0));break}if(Ie)break;w-=yn,M-=yn;continue}w--,M--}},Xfe=function(g,_){if(g.audio&&g.audio.length){var x=_;(typeof x>"u"||isNaN(x))&&(x=g.audio[0].dts),g.audio.forEach(function(N){N.dts=Cc(N.dts,x),N.pts=Cc(N.pts,x),N.dtsTime=N.dts/Ba,N.ptsTime=N.pts/Ba})}if(g.video&&g.video.length){var w=_;if((typeof w>"u"||isNaN(w))&&(w=g.video[0].dts),g.video.forEach(function(N){N.dts=Cc(N.dts,w),N.pts=Cc(N.pts,w),N.dtsTime=N.dts/Ba,N.ptsTime=N.pts/Ba}),g.firstKeyFrame){var M=g.firstKeyFrame;M.dts=Cc(M.dts,w),M.pts=Cc(M.pts,w),M.dtsTime=M.dts/Ba,M.ptsTime=M.pts/Ba}}},Zfe=function(g){for(var _=!1,x=0,w=null,M=null,N=0,G=0,X;g.length-G>=3;){var J=zt.aac.parseType(g,G);switch(J){case"timed-metadata":if(g.length-G<10){_=!0;break}if(N=zt.aac.parseId3TagSize(g,G),N>g.length){_=!0;break}M===null&&(X=g.subarray(G,G+N),M=zt.aac.parseAacTimestamp(X)),G+=N;break;case"audio":if(g.length-G<7){_=!0;break}if(N=zt.aac.parseAdtsSize(g,G),N>g.length){_=!0;break}w===null&&(X=g.subarray(G,G+N),w=zt.aac.parseSampleRate(X)),x++,G+=N;break;default:G++;break}if(_)return null}if(w===null||M===null)return null;var ne=Ba/w,ue={audio:[{type:"audio",dts:M,pts:M},{type:"audio",dts:M+x*1024*ne,pts:M+x*1024*ne}]};return ue},Jfe=function(g){var _={pid:null,table:null},x={};Yfe(g,_);for(var w in _.table)if(_.table.hasOwnProperty(w)){var M=_.table[w];switch(M){case w6.H264_STREAM_TYPE:x.video=[],Kfe(g,_,x),x.video.length===0&&delete x.video;break;case w6.ADTS_STREAM_TYPE:x.audio=[],x6(g,_,x),x.audio.length===0&&delete x.audio;break}}return x},ehe=function(g,_){var x=zt.aac.isLikelyAacData(g),w;return x?w=Zfe(g):w=Jfe(g),!w||!w.audio&&!w.video?null:(Xfe(w,_),w)},the={inspect:ehe,parseAudioPes_:x6};const rhe=function(g,_){_.on("data",function(x){const w=x.initSegment;x.initSegment={data:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength};const M=x.data;x.data=M.buffer,g.postMessage({action:"data",segment:x,byteOffset:M.byteOffset,byteLength:M.byteLength},[x.data])}),_.on("done",function(x){g.postMessage({action:"done"})}),_.on("gopInfo",function(x){g.postMessage({action:"gopInfo",gopInfo:x})}),_.on("videoSegmentTimingInfo",function(x){const w={start:{decode:Ke.videoTsToSeconds(x.start.dts),presentation:Ke.videoTsToSeconds(x.start.pts)},end:{decode:Ke.videoTsToSeconds(x.end.dts),presentation:Ke.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Ke.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(w.prependedContentDuration=Ke.videoTsToSeconds(x.prependedContentDuration)),g.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:w})}),_.on("audioSegmentTimingInfo",function(x){const w={start:{decode:Ke.videoTsToSeconds(x.start.dts),presentation:Ke.videoTsToSeconds(x.start.pts)},end:{decode:Ke.videoTsToSeconds(x.end.dts),presentation:Ke.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Ke.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(w.prependedContentDuration=Ke.videoTsToSeconds(x.prependedContentDuration)),g.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:w})}),_.on("id3Frame",function(x){g.postMessage({action:"id3Frame",id3Frame:x})}),_.on("caption",function(x){g.postMessage({action:"caption",caption:x})}),_.on("trackinfo",function(x){g.postMessage({action:"trackinfo",trackInfo:x})}),_.on("audioTimingInfo",function(x){g.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ke.videoTsToSeconds(x.start),end:Ke.videoTsToSeconds(x.end)}})}),_.on("videoTimingInfo",function(x){g.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ke.videoTsToSeconds(x.start),end:Ke.videoTsToSeconds(x.end)}})}),_.on("log",function(x){g.postMessage({action:"log",log:x})})};class T6{constructor(_,x){this.options=x||{},this.self=_,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ofe.Transmuxer(this.options),rhe(this.self,this.transmuxer)}pushMp4Captions(_){this.captionParser||(this.captionParser=new Ife,this.captionParser.init());const x=new Uint8Array(_.data,_.byteOffset,_.byteLength),w=this.captionParser.parse(x,_.trackIds,_.timescales);this.self.postMessage({action:"mp4Captions",captions:w&&w.captions||[],logs:w&&w.logs||[],data:x.buffer},[x.buffer])}probeMp4StartTime({timescales:_,data:x}){const w=n2.startTime(_,x);this.self.postMessage({action:"probeMp4StartTime",startTime:w,data:x},[x.buffer])}probeMp4Tracks({data:_}){const x=n2.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:_},[_.buffer])}probeEmsgID3({data:_,offset:x}){const w=n2.getEmsgID3(_,x);this.self.postMessage({action:"probeEmsgID3",id3Frames:w,emsgData:_},[_.buffer])}probeTs({data:_,baseStartTime:x}){const w=typeof x=="number"&&!isNaN(x)?x*Ke.ONE_SECOND_IN_TS:void 0,M=the.inspect(_,w);let N=null;M&&(N={hasVideo:M.video&&M.video.length===2||!1,hasAudio:M.audio&&M.audio.length===2||!1},N.hasVideo&&(N.videoStart=M.video[0].ptsTime),N.hasAudio&&(N.audioStart=M.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:N,data:_},[_.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(_){const x=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.transmuxer.push(x)}reset(){this.transmuxer.reset()}setTimestampOffset(_){const x=_.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ke.secondsToVideoTs(x)))}setAudioAppendStart(_){this.transmuxer.setAudioAppendStart(Math.ceil(Ke.secondsToVideoTs(_.appendStart)))}setRemux(_){this.transmuxer.setRemux(_.remux)}flush(_){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(_){this.transmuxer.alignGopsWith(_.gopsToAlignWith.slice())}}self.onmessage=function(g){if(g.data.action==="init"&&g.data.options){this.messageHandlers=new T6(self,g.data.options);return}this.messageHandlers||(this.messageHandlers=new T6(self)),g.data&&g.data.action&&g.data.action!=="init"&&this.messageHandlers[g.data.action]&&this.messageHandlers[g.data.action](g.data)}}));var PP=BA(RP);const FP=(t,e,r)=>{const{type:n,initSegment:i,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:d}=t.data.segment;e.buffer.push({captions:o,captionStreams:s,metadata:a});const f=t.data.segment.boxes||{data:t.data.segment.data},u={type:n,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(u.videoFrameDtsTime=l),typeof d<"u"&&(u.videoFramePtsTime=d),r(u)},UP=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},jP=(t,e)=>{e.gopInfo=t.data.gopInfo},FA=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:u,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:y,onTransmuxerLog:b,isEndOfTimeline:v,segment:E,triggerSegmentEventFn:A}=t,k={buffer:[]};let C=v;const T=D=>{e.currentTransmux===t&&(D.data.action==="data"&&FP(D,k,s),D.data.action==="trackinfo"&&a(D.data.trackInfo),D.data.action==="gopInfo"&&jP(D,k),D.data.action==="audioTimingInfo"&&l(D.data.audioTimingInfo),D.data.action==="videoTimingInfo"&&d(D.data.videoTimingInfo),D.data.action==="videoSegmentTimingInfo"&&f(D.data.videoSegmentTimingInfo),D.data.action==="audioSegmentTimingInfo"&&u(D.data.audioSegmentTimingInfo),D.data.action==="id3Frame"&&h([D.data.id3Frame],D.data.id3Frame.dispatchType),D.data.action==="caption"&&p(D.data.caption),D.data.action==="endedtimeline"&&(C=!1,y()),D.data.action==="log"&&b(D.data.log),D.data.type==="transmuxed"&&(C||(e.onmessage=null,UP({transmuxedData:k,callback:m}),UA(e))))},O=()=>{const D={message:"Received an error message from the transmuxer worker",metadata:{errorType:ye.Error.StreamingFailedToTransmuxSegment,segmentInfo:Js({segment:E})}};m(null,D)};if(e.onmessage=T,e.onerror=O,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof o<"u"&&e.postMessage({action:"setRemux",remux:o}),r.byteLength){const D=r instanceof ArrayBuffer?r:r.buffer,S=r instanceof ArrayBuffer?0:r.byteOffset;A({type:"segmenttransmuxingstart",segment:E}),e.postMessage({action:"push",data:D,byteOffset:S,byteLength:r.byteLength},[D])}v&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},UA=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():FA(t.currentTransmux))},jA=(t,e)=>{t.postMessage({action:e}),UA(t)},$A=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,jA(e,t);return}e.transmuxQueue.push(jA.bind(null,e,t))},$P=t=>{$A("reset",t)},zP=t=>{$A("endTimeline",t)},zA=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,FA(t);return}t.transmuxer.transmuxQueue.push(t)};var G0={reset:$P,endTimeline:zP,transmux:zA,createTransmuxer:t=>{const e=new PP;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e}};const Tu=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=yr({},t,{endAction:null,transmuxer:null,callback:null}),o=s=>{s.data.action===r&&(e.removeEventListener("message",o),s.data.data&&(s.data.data=new Uint8Array(s.data.data,t.byteOffset||0,t.byteLength||s.data.data.byteLength),t.data&&(t.data=s.data.data)),n(s.data))};if(e.addEventListener("message",o),t.data){const s=t.data instanceof ArrayBuffer;i.byteOffset=s?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const a=[s?t.data:t.data.buffer];e.postMessage(i,a)}else e.postMessage(i)},ro={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Q0=t=>{t.forEach(e=>{e.abort()})},VP=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),HP=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},Y0=(t,e)=>{const{requestType:r}=e,n=Zs({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:ro.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:ro.ABORTED,xhr:e,metadata:n}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:ro.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:ro.FAILURE,xhr:e,metadata:n}:null},VA=(t,e,r,n)=>(i,o)=>{const s=o.response,a=Y0(i,o);if(a)return r(a,t);if(s.byteLength!==16)return r({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:ro.FAILURE,xhr:o},t);const l=new DataView(s),d=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let u=0;u<e.length;u++)e[u].bytes=d;const f={uri:o.uri};return n({type:"segmentkeyloadcomplete",segment:t,keyInfo:f}),r(null,t)},HA=(t,e)=>{const r=Lg(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri,i=r||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:ro.FAILURE,metadata:{mediaType:i}})}Tu({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(o){t.map.tracks=t.map.tracks||{},!t.map.tracks[o.type]&&(t.map.tracks[o.type]=o,typeof o.id=="number"&&o.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[o.id]=o.timescale))}),e(null))})},qP=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(n,i)=>{const o=Y0(n,i);if(o)return e(o,t);const s=new Uint8Array(i.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,HA(t,function(a){if(a)return a.xhr=i,a.status=i.status,e(a,t);e(null,t)})},WP=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:n})=>(i,o)=>{const s=Y0(i,o);if(s)return e(s,t);n({type:"segmentloaded",segment:t});const a=r==="arraybuffer"||!o.responseText?o.response:LP(o.responseText.substring(t.lastReachedChar||0));return t.stats=VP(o),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},GP=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{const m=t.map&&t.map.tracks||{},y=!!(m.audio&&m.video);let b=n.bind(null,t,"audio","start");const v=n.bind(null,t,"audio","end");let E=n.bind(null,t,"video","start");const A=n.bind(null,t,"video","end"),k=()=>zA({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:y,onData:C=>{C.type=C.type==="combined"?"video":C.type,f(t,C)},onTrackInfo:C=>{r&&(y&&(C.isMuxed=!0),r(t,C))},onAudioTimingInfo:C=>{b&&typeof C.start<"u"&&(b(C.start),b=null),v&&typeof C.end<"u"&&v(C.end)},onVideoTimingInfo:C=>{E&&typeof C.start<"u"&&(E(C.start),E=null),A&&typeof C.end<"u"&&A(C.end)},onVideoSegmentTimingInfo:C=>{const T={pts:{start:C.start.presentation,end:C.end.presentation},dts:{start:C.start.decode,end:C.end.decode}};p({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:T}),i(C)},onAudioSegmentTimingInfo:C=>{const T={pts:{start:C.start.pts,end:C.end.pts},dts:{start:C.start.dts,end:C.end.dts}};p({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:T}),o(C)},onId3:(C,T)=>{s(t,C,T)},onCaptions:C=>{a(t,[C])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:h,onDone:(C,T)=>{u&&(C.type=C.type==="combined"?"video":C.type,p({type:"segmenttransmuxingcomplete",segment:t}),u(T,t,C))},segment:t,triggerSegmentEventFn:p});Tu({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:C=>{t.bytes=e=C.data;const T=C.result;T&&(r(t,{hasAudio:T.hasAudio,hasVideo:T.hasVideo,isMuxed:y}),r=null),k()}})},qA=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=new Uint8Array(e);if(TR(m)){t.isFmp4=!0;const{tracks:y}=t.map,b={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(b.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(b.videoCodec=y.video.codec),y.video&&y.audio&&(b.isMuxed=!0),r(t,b);const v=(E,A)=>{f(t,{data:m,type:b.hasAudio&&!b.isMuxed?"audio":"video"}),A&&A.length&&s(t,A),E&&E.length&&a(t,E),u(null,t,{})};Tu({action:"probeMp4StartTime",timescales:t.map.timescales,data:m,transmuxer:t.transmuxer,callback:({data:E,startTime:A})=>{e=E.buffer,t.bytes=m=E,b.hasAudio&&!b.isMuxed&&n(t,"audio","start",A),b.hasVideo&&n(t,"video","start",A),Tu({action:"probeEmsgID3",data:m,transmuxer:t.transmuxer,offset:A,callback:({emsgData:k,id3Frames:C})=>{if(e=k.buffer,t.bytes=m=k,!y.video||!k.byteLength||!t.transmuxer){v(void 0,C);return}Tu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:m,timescales:t.map.timescales,trackIds:[y.video.id],callback:T=>{e=T.data.buffer,t.bytes=m=T.data,T.logs.forEach(function(O){h(Rt(O,{stream:"mp4CaptionParser"}))}),v(T.captions,C)}})}})}});return}if(!t.transmuxer){u(null,t,{});return}if(typeof t.container>"u"&&(t.container=Lg(m)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),u(null,t,{});return}GP({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})},WA=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n,segment:i,doneFn:o},s){const a=d=>{if(d.data.source===t){n.removeEventListener("message",a);const f=d.data.decrypted;s(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};n.onerror=()=>{const d="An error occurred in the decryption worker",f=Js({segment:i}),u={message:d,metadata:{error:new Error(d),errorType:ye.Error.StreamingFailedToDecryptSegment,segmentInfo:f,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};o(u,i)},n.addEventListener("message",a);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(EA({source:t,encrypted:r,key:l,iv:e.iv}),[r.buffer,l.buffer])},QP=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{p({type:"segmentdecryptionstart"}),WA({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:u},m=>{e.bytes=m,p({type:"segmentdecryptioncomplete",segment:e}),qA({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})})},YP=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=0,y=!1;return(b,v)=>{if(!y){if(b)return y=!0,Q0(t),u(b,v);if(m+=1,m===t.length){const E=function(){if(v.encryptedBytes)return QP({decryptionWorker:e,segment:v,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p});qA({segment:v,bytes:v.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})};if(v.endOfAllRequests=Date.now(),v.map&&v.map.encryptedBytes&&!v.map.bytes)return p({type:"segmentdecryptionstart",segment:v}),WA({decryptionWorker:e,id:v.requestId+"-init",encryptedBytes:v.map.encryptedBytes,key:v.map.key,segment:v,doneFn:u},A=>{v.map.bytes=A,p({type:"segmentdecryptioncomplete",segment:v}),HA(v,k=>{if(k)return Q0(t),u(k,v);E()})});E()}}}},KP=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},XP=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:d,dataFn:f})=>u=>{if(!u.target.aborted)return t.stats=Rt(t.stats,HP(u)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(u,t)},ZP=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:y,onTransmuxerLog:b,triggerSegmentEventFn:v})=>{const E=[],A=YP({activeXhrs:E,decryptionWorker:r,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:y,onTransmuxerLog:b,triggerSegmentEventFn:v});if(n.key&&!n.key.bytes){const D=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&D.push(n.map.key);const S=Rt(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),R=VA(n,D,A,v),z={uri:n.key.resolvedUri};v({type:"segmentkeyloadstart",segment:n,keyInfo:z});const F=t(S,R);E.push(F)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const F=Rt(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),P=VA(n,[n.map.key],A,v),$={uri:n.map.key.resolvedUri};v({type:"segmentkeyloadstart",segment:n,keyInfo:$});const W=t(F,P);E.push(W)}const S=Rt(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:H0(n.map),requestType:"segment-media-initialization"}),R=qP({segment:n,finishProcessingFn:A,triggerSegmentEventFn:v});v({type:"segmentloadstart",segment:n});const z=t(S,R);E.push(z)}const k=Rt(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:H0(n),requestType:"segment"}),C=WP({segment:n,finishProcessingFn:A,responseType:k.responseType,triggerSegmentEventFn:v});v({type:"segmentloadstart",segment:n});const T=t(k,C);T.addEventListener("progress",XP({segment:n,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),E.push(T);const O={};return E.forEach(D=>{D.addEventListener("loadend",KP({loadendState:O,abortFn:i}))}),()=>Q0(E)},JP=ni("CodecUtils"),eF=function(t){const e=t.attributes||{};if(e.CODECS)return Wi(e.CODECS)},GA=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},tF=(t,e)=>{if(!GA(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},dh=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push(Y_(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){JP(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},QA=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},Au=function(t,e){const r=e.attributes||{},n=dh(eF(e)||[]);if(GA(t,e)&&!n.audio&&!tF(t,e)){const i=dh(TL(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},fh=ni("PlaylistSelector"),YA=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},hh=function(t,e){if(!t)return"";const r=ee.getComputedStyle(t);return r?r[e]:""},Ml=function(t,e){const r=t.slice();t.sort(function(n,i){const o=e(n,i);return o===0?r.indexOf(n)-r.indexOf(i):o})},K0=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||ee.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||ee.Number.MAX_VALUE,r-n},rF=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||ee.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||ee.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let KA=function(t,e,r,n,i,o){if(!t)return;const s={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let a=t.playlists;kn.isAudioOnly(t)&&(a=o.getAudioTrackPlaylists_(),s.audioOnly=!0);let l=a.map(C=>{let T;const O=C.attributes&&C.attributes.RESOLUTION&&C.attributes.RESOLUTION.width,D=C.attributes&&C.attributes.RESOLUTION&&C.attributes.RESOLUTION.height;return T=C.attributes&&C.attributes.BANDWIDTH,T=T||ee.Number.MAX_VALUE,{bandwidth:T,width:O,height:D,playlist:C}});Ml(l,(C,T)=>C.bandwidth-T.bandwidth),l=l.filter(C=>!kn.isIncompatible(C.playlist));let d=l.filter(C=>kn.isEnabled(C.playlist));d.length||(d=l.filter(C=>!kn.isDisabled(C.playlist)));const f=d.filter(C=>C.bandwidth*Rr.BANDWIDTH_VARIANCE<e);let u=f[f.length-1];const h=f.filter(C=>C.bandwidth===u.bandwidth)[0];if(i===!1){const C=h||d[0]||l[0];if(C&&C.playlist){let T="sortedPlaylistReps";return h&&(T="bandwidthBestRep"),d[0]&&(T="enabledPlaylistReps"),fh(`choosing ${YA(C)} using ${T} with options`,s),C.playlist}return fh("could not choose a playlist with options",s),null}const p=f.filter(C=>C.width&&C.height);Ml(p,(C,T)=>C.width-T.width);const m=p.filter(C=>C.width===r&&C.height===n);u=m[m.length-1];const y=m.filter(C=>C.bandwidth===u.bandwidth)[0];let b,v,E;y||(b=p.filter(C=>C.width>r||C.height>n),v=b.filter(C=>C.width===b[0].width&&C.height===b[0].height),u=v[v.length-1],E=v.filter(C=>C.bandwidth===u.bandwidth)[0]);let A;if(o.leastPixelDiffSelector){const C=p.map(T=>(T.pixelDiff=Math.abs(T.width-r)+Math.abs(T.height-n),T));Ml(C,(T,O)=>T.pixelDiff===O.pixelDiff?O.bandwidth-T.bandwidth:T.pixelDiff-O.pixelDiff),A=C[0]}const k=A||E||y||h||d[0]||l[0];if(k&&k.playlist){let C="sortedPlaylistReps";return A?C="leastPixelDiffRep":E?C="resolutionPlusOneRep":y?C="resolutionBestRep":h?C="bandwidthBestRep":d[0]&&(C="enabledPlaylistReps"),fh(`choosing ${YA(k)} using ${C} with options`,s),k.playlist}return fh("could not choose a playlist with options",s),null};const XA=function(){let t=this.useDevicePixelRatio&&ee.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),KA(this.playlists.main,this.systemBandwidth,parseInt(hh(this.tech_.el(),"width"),10)*t,parseInt(hh(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},nF=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&ee.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),KA(this.playlists.main,e,parseInt(hh(this.tech_.el(),"width"),10)*n,parseInt(hh(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},iF=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=t,d=e.playlists.filter(m=>!kn.isIncompatible(m));let f=d.filter(kn.isEnabled);f.length||(f=d.filter(m=>!kn.isDisabled(m)));const h=f.filter(kn.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const b=l.getSyncPoint(m,i,a,r)?1:2,E=kn.estimateSegmentRequestTime(o,n,m)*b-s;return{playlist:m,rebufferingImpact:E}}),p=h.filter(m=>m.rebufferingImpact<=0);return Ml(p,(m,y)=>K0(y.playlist,m.playlist)),p.length?p[0]:(Ml(h,(m,y)=>m.rebufferingImpact-y.rebufferingImpact),h[0]||null)},oF=function(){const t=this.playlists.main.playlists.filter(kn.isEnabled);return Ml(t,(r,n)=>K0(r,n)),t.filter(r=>!!Au(this.playlists.main,r).video)[0]||null},sF=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r};function ZA(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const aF=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const o=e.options_.vhs&&e.options_.vhs.captionServices||{};let s=r,a=r,l=!1;const d=o[n];d&&(s=d.label,a=d.language,l=d.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:s,language:a},!1).track}}},lF=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=ee.WebKitDataCue||ee.VTTCue;e.forEach(i=>{const o=i.stream;i.content?i.content.forEach(s=>{const a=new n(i.startTime+r,i.endTime+r,s.text);a.line=s.line,a.align="left",a.position=s.position,a.positionAlign="line-left",t[o].addCue(a)}):t[o].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},cF=function(t){Object.defineProperties(t.frame,{id:{get(){return ye.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ye.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ye.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},uF=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=ee.WebKitDataCue||ee.VTTCue,o=t.metadataTrack_;if(!o||(e.forEach(f=>{const u=f.cueTime+r;typeof u!="number"||ee.isNaN(u)||u<0||!(u<1/0)||!f.frames||!f.frames.length||f.frames.forEach(h=>{const p=new i(u,u,h.value||h.url||h.data||"");p.frame=h,p.value=h,cF(p),o.addCue(p)})}),!o.cues||!o.cues.length))return;const s=o.cues,a=[];for(let f=0;f<s.length;f++)s[f]&&a.push(s[f]);const l=a.reduce((f,u)=>{const h=f[u.startTime]||[];return h.push(u),f[u.startTime]=h,f},{}),d=Object.keys(l).sort((f,u)=>Number(f)-Number(u));d.forEach((f,u)=>{const h=l[f],p=isFinite(n)?n:f,m=Number(d[u+1])||p;h.forEach(y=>{y.endTime=m})})},dF={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},fF=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),hF=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=ee.WebKitDataCue||ee.VTTCue;e.forEach(i=>{for(const o of Object.keys(i)){if(fF.has(o))continue;const s=new n(i.startTime,i.endTime,"");s.id=i.id,s.type="com.apple.quicktime.HLS",s.value={key:dF[o],data:i[o]},(o==="scte35Out"||o==="scte35In")&&(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(s)}i.processDateRange()})},JA=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ye.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Cu=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},pF=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],o=`${i.startTime}-${i.endTime}-${i.text}`;r[o]?t.removeCue(i):r[o]=i}},mF=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*Hs.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},gF=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},yF=(t,e,r,n)=>{const i=Math.ceil((e-n)*Hs.ONE_SECOND_IN_TS),o=Math.ceil((r-n)*Hs.ONE_SECOND_IN_TS),s=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=o););if(a===-1)return s;let l=a+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),s.splice(l,a-l+1),s},bF=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i];if(o!==n[i]||t[o]!==e[o])return!1}return!0},vF=function(t,e,r){e=e||[];const n=[];let i=0;for(let o=0;o<e.length;o++){const s=e[o];if(t===s.timeline&&(n.push(o),i+=s.duration,i>r))return o}return n.length===0?0:n[n.length-1]},Su=1,_F=500,eC=t=>typeof t=="number"&&isFinite(t),ph=1/60,wF=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,xF=(t,e,r)=>{let n=e-Rr.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},Nl=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:d,timeline:f}=t,u=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const p=typeof d=="number",m=t.segment.uri?"segment":"pre-segment",y=p?lA({preloadSegment:n})-1:0;return`${m} [${o+l}/${o+u}]`+(p?` part [${d}/${y}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(p?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${f}] selected by [${h}] playlist [${s}]`},tC=t=>`${t}TimingInfo`,TF=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,rC=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const o=t.lastTimelineChange({type:"main"});return!o||o.to!==r}if(n==="main"&&i){const o=t.pendingTimelineChange({type:"audio"});return!(o&&o.to===r)}return!1},nC=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),n=e&&r,i=n&&e.to!==r.to;return!!(n&&e.from!==-1&&r.from!==-1&&i)},iC=t=>{t&&(t.pause(),t.resetEverything(),t.load())},AF=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:o}=n;let s;typeof i=="bigint"||typeof o=="bigint"?s=ee.BigInt(o)-ee.BigInt(i):typeof i=="number"&&typeof o=="number"&&(s=o-i),typeof s<"u"&&s>e&&(e=s)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},oC=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+eo:!1,CF=(t,e)=>{if(e!=="hls")return null;const r=AF({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=oC({segmentDuration:r,maxDuration:n*2}),o=oC({segmentDuration:r,maxDuration:n}),s=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||o?{severity:i?"warn":"info",message:s}:null},Js=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:r,isMediaInitialization:n}};class X0 extends ye.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ni(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(yr({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(yr({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return G0.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ee.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ee.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&G0.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return $r();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=uh(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=kA(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const o={resolvedUri:(i||e).resolvedUri};return i&&(o.bytes=i.bytes),o}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let o=null;if(n&&(n.id?o=n.id:n.uri&&(o=n.uri)),this.logger_(`playlist update [${o} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${L0(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const s=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${s}]`),this.mediaIndex!==null)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=s,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(ee.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&G0.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let o=1;const s=()=>{o--,o===0&&n()};(i||!this.audioDisabled_)&&(o++,this.sourceUpdater_.removeAudio(e,r,s)),(i||this.loaderType_==="main")&&(this.gopBuffer_=yF(this.gopBuffer_,e,r,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(e,r,s));for(const a in this.inbandTextTracks_)Cu(e,r,this.inbandTextTracks_[a]);Cu(e,r,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&ee.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ee.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&ee.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ee.setTimeout(this.monitorBufferTick_.bind(this),_F)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:Js({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],o=e+1===r.segments.length,s=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&o&&s}chooseNextRequest_(){const e=this.buffered_(),r=L0(e)||0,n=B0(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,o=n>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||i||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=vF(this.currentTimeline_,s,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const h=s[this.mediaIndex],p=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:r,h.parts&&h.parts[p+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=p+1):a.mediaIndex=this.mediaIndex+1}else{let h,p,m;const y=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const b=this.getSyncInfoFromMediaSequenceSync_(y);if(!b){const v="No sync info found while using media sequence sync";return this.error({message:v,metadata:{errorType:ye.Error.StreamingFailedToSelectNextSegment,error:new Error(v)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${b.start} --> ${b.end})`),h=b.segmentIndex,p=b.partIndex,m=b.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const b=kn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=b.segmentIndex,p=b.partIndex,m=b.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,a.mediaIndex=h,a.startOfSegment=m,a.partIndex=p,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=s[a.mediaIndex];let d=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!d)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,d=l.parts[0]);const f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&d&&!f&&!d.independent)if(a.partIndex===0){const h=s[a.mediaIndex-1],p=h.parts&&h.parts.length&&h.parts[h.parts.length-1];p&&p.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const u=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=s.length-1&&u&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:o,isSyncRequest:s,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:d}=e,f=n.segments[i],u=typeof a=="number"&&f.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||f.resolvedUri,mediaIndex:i,partIndex:u?a:null,isSyncRequest:s,startOfSegment:o,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:u&&u.duration||f.duration,segment:f,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:r},p=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:p});const m=L0(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(h.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=mF(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return TF(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,o=kn.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),s=Y7(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(o<=s)return;const a=iF({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const d=o-s-a.rebufferingImpact;let f=.5;s<=eo&&(f=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||d<f)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Rr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Nl(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:n,hasVideo:i}=r,o={segmentInfo:Js({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:o}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},bF(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const o=this.pendingSegment_,s=tC(r);o[s]=o[s]||{},o[s][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};r.forEach(s=>{o[s.stream]=o[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=o[s.stream];a.startTime=Math.min(a.startTime,s.startTime+i),a.endTime=Math.max(a.endTime,s.endTime+i),a.captions.push(s)}),Object.keys(o).forEach(s=>{const{startTime:a,endTime:l,captions:d}=o[s],f=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${s}`),aF(f,this.vhs_.tech_,s),Cu(a,l,f[s]),lF({captionArray:d,inbandTextTracks:f,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()&&rC({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})?(nC(this.timelineChangeController_)&&iC(this),!1):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:o}=r;return i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!o&&!e.audioTimingInfo?!1:rC({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})?(nC(this.timelineChangeController_)&&iC(this),!1):!0}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[tC(r.type)].start;else{const i=this.getCurrentMediaInfo_(),o=this.loaderType_==="main"&&i&&i.hasVideo;let s;o&&(s=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:s,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const o=uh(n);if(this.activeInitSegmentId_===o)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=o}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Xs(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Xs(s).join(", "));const a=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,d=s.length?s.start(0):0,f=s.length?s.end(s.length-1):0;if(l-a<=Su&&f-d<=Su){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Xs(o).join(", ")}, video buffer: ${Xs(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const h=this.currentTime_()-Su;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Su}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=ee.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Su*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===wA){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ye.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:o}){if(!o){const a=[i];let l=i.byteLength;n&&(a.unshift(n),l+=n.byteLength),o=sF({bytes:l,segments:a})}const s={segmentInfo:Js({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:s}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:o}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,o=`${e}TimingInfo`;i[o]||(i[o]={}),i[o].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[o].transmuxedPresentationStart=n.start.presentation,i[o].transmuxedDecodeStart=n.start.decode,i[o].transmuxedPresentationEnd=n.end.presentation,i[o].transmuxedDecodeEnd=n.end.decode,i[o].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const o=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:o,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const r=yr({},e,{forceTimestampOffset:!0});yr(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,o=e.timeline!==this.currentTimeline_&&e.timeline>0,s=n||i&&o;this.logger_(`Requesting
${ZA(e.uri)}
${Nl(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=ZP({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:d})=>{this.logger_(`${Nl(e)} logged from transmuxer stream ${d} as a ${l}: ${a}`)},triggerSegmentEventFn:({type:a,segment:l,keyInfo:d,trackInfo:f,timingInfo:u})=>{const p={segmentInfo:Js({segment:l})};d&&(p.keyInfo=d),f&&(p.trackInfo=f),u&&(p.timingInfo=u),this.trigger({type:a,metadata:p})}})}trimBackBuffer_(e){const r=xF(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,o=e.segment.map&&!e.segment.map.bytes,s={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:o},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===r.timeline&&(a.videoTimingInfo?s.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(s.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),r.key){const l=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);s.key=this.segmentKey(r.key),s.key.iv=l}return r.map&&(s.map=this.initSegmentForMap(r.map)),s}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<ph){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${ph}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===ro.ABORTED)return;if(this.pause(),e.code===ro.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=gF(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:o,useVideoTimingInfo:s,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!s)return l.start;const d=r.segments[n-1];return n===0||!d||typeof d.start>"u"||d.end!==i+o?i:a.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:o}=r,s=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&n&&!o;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}s&&e.waitingOnAppends++,a&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=wF(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Js({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=CF(e,this.sourceType_);if(r&&(r.severity==="warn"?ye.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Nl(e)}`);return}this.logger_(`Appended ${Nl(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,o=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,s=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(o||s){this.logger_(`bad ${o?"segment":"part"} ${Nl(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<ph){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${ph}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!eC(n)||!eC(i))return;Cu(n,i,this.segmentMetadataTrack_);const o=ee.WebKitDataCue||ee.VTTCue,s={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=JSON.stringify(s),l=new o(n,i,a);l.value=s,this.segmentMetadataTrack_.addCue(l)}}function Do(){}const sC=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},SF=["video","audio"],Z0=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},EF=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},Ol=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),Ol("audio",e),Ol("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Z0(t,e))){if(n.type!==t){if(r=EF(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,Ol(t,e);return}}},aC=(t,e)=>{const r=e[`${t}Buffer`],n=sC(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},no=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Vn={appendBuffer:(t,e,r)=>(n,i)=>{const o=i[`${n}Buffer`];if(no(i.mediaSource,o)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{o.appendBuffer(t)}catch(s){i.logger_(`Error with code ${s.code} `+(s.code===wA?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(s)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(no(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];no(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){ye.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){ye.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(no(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){ye.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=sC(t),i=Gc(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const o=r.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",r[`on${n}UpdateEnd_`]),o.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=o},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(aC(t,e),!!no(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){ye.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=Gc(t);if(!no(r.mediaSource,n))return;const o=t.substring(0,t.indexOf(".")),s=r.codecs[e];if(s.substring(0,s.indexOf("."))===o)return;const l={codecsChangeInfo:{from:s,to:t}};r.trigger({type:"codecschange",metadata:l}),r.logger_(`changing ${e}Buffer codec from ${s} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(d){l.errorType=ye.Error.StreamingCodecsChangeError,l.error=d,d.metadata=l,r.error_=d,r.trigger("error"),ye.log.warn(`Failed to changeType on ${e}Buffer`,d)}}},Hn=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),Ol(t,e)},lC=(t,e)=>r=>{const n=e[`${t}Buffered`](),i=W7(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const o=e.queuePending[t].doneFn;e.queuePending[t]=null,o&&o(e[`${t}Error_`])}Ol(t,e)};class cC extends ye.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Ol("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ni("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=lC("video",this),this.onAudioUpdateEnd_=lC("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Hn({type:"mediaSource",sourceUpdater:this,action:Vn.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Hn({type:e,sourceUpdater:this,action:Vn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ye.log.error("removeSourceBuffer is not supported!");return}Hn({type:"mediaSource",sourceUpdater:this,action:Vn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ye.browser.IS_FIREFOX&&ee.MediaSource&&ee.MediaSource.prototype&&typeof ee.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return ee.SourceBuffer&&ee.SourceBuffer.prototype&&typeof ee.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){ye.log.error("changeType is not supported!");return}Hn({type:e,sourceUpdater:this,action:Vn.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:o}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${o.length} until video append`);return}const s=r;if(Hn({type:i,sourceUpdater:this,action:Vn.appendBuffer(o,n||{mediaIndex:-1},s),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return no(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:$r()}videoBuffered(){return no(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:$r()}buffered(){const e=no(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=no(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():Q7(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=Do){Hn({type:"mediaSource",sourceUpdater:this,action:Vn.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=Do){typeof e!="string"&&(e=void 0),Hn({type:"mediaSource",sourceUpdater:this,action:Vn.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=Do){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}Hn({type:"audio",sourceUpdater:this,action:Vn.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=Do){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}Hn({type:"video",sourceUpdater:this,action:Vn.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(Z0("audio",this)||Z0("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Hn({type:"audio",sourceUpdater:this,action:Vn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Hn({type:"video",sourceUpdater:this,action:Vn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Hn({type:"audio",sourceUpdater:this,action:Vn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Hn({type:"video",sourceUpdater:this,action:Vn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),SF.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>aC(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const uC=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),kF=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},dC=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class IF extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class DF extends X0{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return $r();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return $r([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=uh(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const o=dC.byteLength+e.bytes.byteLength,s=new Uint8Array(o);s.set(e.bytes),s.set(dC,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){Cu(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===ro.TIMEOUT&&this.handleTimeout_(),e.code===ro.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const o=i.segment;if(o.map&&(o.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof ee.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}o.requested=!0;try{this.parseVTTCues_(i)}catch(s){this.stopForError({message:s.message,metadata:{errorType:ye.Error.StreamingVttParserError,error:s}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach(s=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new ee.VTTCue(s.startTime,s.endTime,s.text):s)}),pF(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof ee.WebVTT!="function")throw new IF;typeof ee.TextDecoder=="function"?r=new ee.TextDecoder("utf8"):(r=ee.WebVTT.StringDecoder(),n=!0);const i=new ee.WebVTT.Parser(ee,ee.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=s=>{e.timestampmap=s},i.onparsingerror=s=>{ye.log.warn("Error encountered when parsing cues: "+s.message)},e.segment.map){let s=e.segment.map.bytes;n&&(s=uC(s)),i.parse(s)}let o=e.bytes;n&&(o=uC(o)),i.parse(o),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:o,LOCAL:s}=e.timestampmap,l=o/Hs.ONE_SECOND_IN_TS-s+r.mapping;if(e.cues.forEach(d=>{const f=d.endTime-d.startTime,u=o===0?d.startTime+l:this.handleRollover_(d.startTime+l,r.time);d.startTime=Math.max(u,0),d.endTime=Math.max(u+f,0)}),!n.syncInfo){const d=e.cues[0].startTime,f=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(d,f-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*Hs.ONE_SECOND_IN_TS;const i=r*Hs.ONE_SECOND_IN_TS;let o;for(i<n?o=-8589934592:o=8589934592;Math.abs(n-i)>4294967296;)n+=o;return n/Hs.ONE_SECOND_IN_TS}}const MF=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},NF=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let o=0;o<t.segments.length;o++){const s=t.segments[o];if(i||(i=MF(e,n+s.duration/2)),i){if("cueIn"in s){i.endTime=n,i.adEndTime=n,n+=s.duration,i=null;continue}if(n<i.endTime){n+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&(i=new ee.VTTCue(n,n+s.duration,s.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(s.cueOut),e.addCue(i)),"cueOutCont"in s){const[a,l]=s.cueOutCont.split("/").map(parseFloat);i=new ee.VTTCue(n,n+s.duration,""),i.adStartTime=n-a,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=s.duration}};class fC{constructor({start:e,end:r,segmentIndex:n,partIndex:i=null,appended:o=!1}){this.start_=e,this.end_=r,this.segmentIndex_=n,this.partIndex_=i,this.appended_=o}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class OF{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class hC{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,n){const i=new Map;let o=`
`,s=n,a=r;this.start_=s,e.forEach((l,d)=>{const f=this.storage_.get(a),u=s,h=u+l.duration,p=!!(f&&f.segmentSyncInfo&&f.segmentSyncInfo.isAppended),m=new fC({start:u,end:h,appended:p,segmentIndex:d});l.syncInfo=m;let y=s;const b=(l.parts||[]).map((v,E)=>{const A=y,k=y+v.duration,C=!!(f&&f.partsSyncInfo&&f.partsSyncInfo[E]&&f.partsSyncInfo[E].isAppended),T=new fC({start:A,end:k,appended:C,segmentIndex:d,partIndex:E});return y=k,o+=`Media Sequence: ${a}.${E} | Range: ${A} --> ${k} | Appended: ${C}
`,v.syncInfo=T,T});i.set(a,new OF(m,b)),o+=`${ZA(l.resolvedUri)} | Media Sequence: ${a} | Range: ${u} --> ${h} | Appended: ${p}
`,a++,s=h}),this.end_=s,this.storage_=i,this.diagnostics_=o}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class pC extends hC{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r)}}const LF=86400,J0=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,o)=>{const s=t.getMediaSequenceSync(o);if(!s||!s.isReliable)return null;const a=s.getSyncInfoForTime(i);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let o=null,s=null;const a=P0(e);i=i||0;for(let l=0;l<a.length;l++){const d=e.endList||i===0?l:a.length-(l+1),f=a[d],u=f.segment,h=t.timelineToDatetimeMappings[u.timeline];if(!h||!u.dateTimeObject)continue;let m=u.dateTimeObject.getTime()/1e3+h;if(u.parts&&typeof f.partIndex=="number")for(let b=0;b<f.partIndex;b++)m+=u.parts[b].duration;const y=Math.abs(i-m);if(s!==null&&(y===0||s<y))break;s=y,o={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return o}},{name:"Segment",run:(t,e,r,n,i)=>{let o=null,s=null;i=i||0;const a=P0(e);for(let l=0;l<a.length;l++){const d=e.endList||i===0?l:a.length-(l+1),f=a[d],u=f.segment,h=f.part&&f.part.start||u&&u.start;if(u.timeline===n&&typeof h<"u"){const p=Math.abs(i-h);if(s!==null&&s<p)break;(!o||s===null||s>=p)&&(s=p,o={time:h,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return o}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let o=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let s=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],d=e.discontinuitySequence+a+1,f=t.discontinuities[d];if(f){const u=Math.abs(i-f.time);if(s!==null&&s<u)break;(!o||s===null||s>=u)&&(s=u,o={time:f.time,segmentIndex:l,partIndex:null})}}}return o}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class BF extends ye.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new hC,n=new pC(r),i=new pC(r);this.mediaSequenceStorage_={main:r,audio:n,vtt:i},this.logger_=ni("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,n,i,o){if(r!==1/0)return J0.find(({name:l})=>l==="VOD").run(this,e,r);const s=this.runStrategies_(e,r,n,i,o);if(!s.length)return null;for(const a of s){const{syncPoint:l,strategy:d}=a,{segmentIndex:f,time:u}=l;if(f<0)continue;const h=e.segments[f],p=u,m=p+h.duration;if(this.logger_(`Strategy: ${d}. Current time: ${i}. selected segment: ${f}. Time: [${p} -> ${m}]}`),i>=p&&i<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(s,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+wu({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,o){const s=[];for(let a=0;a<J0.length;a++){const l=J0[a],d=l.run(this,e,r,n,i,o);d&&(d.strategy=l.name,s.push({strategy:l.name,syncPoint:d}))}return s}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),o=e[0].strategy;for(let s=1;s<e.length;s++){const a=Math.abs(e[s].syncPoint[r.key]-r.value);a<i&&(i=a,n=e[s].syncPoint,o=e[s].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${o}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>LF){ye.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const o=e.segments[i];if(o&&typeof o.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:o.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const o=i.dateTimeObject;i.discontinuity&&r&&o&&(this.timelineToDatetimeMappings[i.timeline]=-(o.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,o=e.part;let s=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")s={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${s.time}] [mapping: ${s.mapping}]`)),a=e.startOfSegment,l=r.end+s.mapping;else if(s)a=r.start+s.mapping,l=r.end+s.mapping;else return!1;return o&&(o.start=a,o.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const o=r.discontinuityStarts[i],s=r.discontinuitySequence+i+1,a=o-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>l){let d;a<0?d=n.start-wu({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:o}):d=n.end+wu({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[s]={time:d,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class RF extends ye.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){if(typeof r=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:r,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const PF=RA(PA(function(){var t=function(){function y(){this.listeners={}}var b=y.prototype;return b.on=function(E,A){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(A)},b.off=function(E,A){if(!this.listeners[E])return!1;var k=this.listeners[E].indexOf(A);return this.listeners[E]=this.listeners[E].slice(0),this.listeners[E].splice(k,1),k>-1},b.trigger=function(E){var A=this.listeners[E];if(A)if(arguments.length===2)for(var k=A.length,C=0;C<k;++C)A[C].call(this,arguments[1]);else for(var T=Array.prototype.slice.call(arguments,1),O=A.length,D=0;D<O;++D)A[D].apply(this,T)},b.dispose=function(){this.listeners={}},b.pipe=function(E){this.on("data",function(A){E.push(A)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],b=y[0],v=y[1],E=b[4],A=v[4];let k,C,T;const O=[],D=[];let S,R,z,F,P,$;for(k=0;k<256;k++)D[(O[k]=k<<1^(k>>7)*283)^k]=k;for(C=T=0;!E[C];C^=S||1,T=D[T]||1)for(F=T^T<<1^T<<2^T<<3^T<<4,F=F>>8^F&255^99,E[C]=F,A[F]=C,z=O[R=O[S=O[C]]],$=z*16843009^R*65537^S*257^C*16843008,P=O[F]*257^F*16843008,k=0;k<4;k++)b[k][C]=P=P<<24^P>>>8,v[k][F]=$=$<<24^$>>>8;for(k=0;k<5;k++)b[k]=b[k].slice(0),v[k]=v[k].slice(0);return y};let n=null;class i{constructor(b){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let v,E,A;const k=this._tables[0][4],C=this._tables[1],T=b.length;let O=1;if(T!==4&&T!==6&&T!==8)throw new Error("Invalid aes key size");const D=b.slice(0),S=[];for(this._key=[D,S],v=T;v<4*T+28;v++)A=D[v-1],(v%T===0||T===8&&v%T===4)&&(A=k[A>>>24]<<24^k[A>>16&255]<<16^k[A>>8&255]<<8^k[A&255],v%T===0&&(A=A<<8^A>>>24^O<<24,O=O<<1^(O>>7)*283)),D[v]=D[v-T]^A;for(E=0;v;E++,v--)A=D[E&3?v:v-4],v<=4||E<4?S[E]=A:S[E]=C[0][k[A>>>24]]^C[1][k[A>>16&255]]^C[2][k[A>>8&255]]^C[3][k[A&255]]}decrypt(b,v,E,A,k,C){const T=this._key[1];let O=b^T[0],D=A^T[1],S=E^T[2],R=v^T[3],z,F,P;const $=T.length/4-2;let W,B=4;const j=this._tables[1],re=j[0],H=j[1],L=j[2],I=j[3],V=j[4];for(W=0;W<$;W++)z=re[O>>>24]^H[D>>16&255]^L[S>>8&255]^I[R&255]^T[B],F=re[D>>>24]^H[S>>16&255]^L[R>>8&255]^I[O&255]^T[B+1],P=re[S>>>24]^H[R>>16&255]^L[O>>8&255]^I[D&255]^T[B+2],R=re[R>>>24]^H[O>>16&255]^L[D>>8&255]^I[S&255]^T[B+3],B+=4,O=z,D=F,S=P;for(W=0;W<4;W++)k[(3&-W)+C]=V[O>>>24]<<24^V[D>>16&255]<<16^V[S>>8&255]<<8^V[R&255]^T[B++],z=O,O=D,D=S,S=R,R=z}}class o extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(b){this.jobs.push(b),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const s=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},a=function(y,b,v){const E=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),A=new i(Array.prototype.slice.call(b)),k=new Uint8Array(y.byteLength),C=new Int32Array(k.buffer);let T,O,D,S,R,z,F,P,$;for(T=v[0],O=v[1],D=v[2],S=v[3],$=0;$<E.length;$+=4)R=s(E[$]),z=s(E[$+1]),F=s(E[$+2]),P=s(E[$+3]),A.decrypt(R,z,F,P,C,$),C[$]=s(C[$]^T),C[$+1]=s(C[$+1]^O),C[$+2]=s(C[$+2]^D),C[$+3]=s(C[$+3]^S),T=R,O=z,D=F,S=P;return k};class l{constructor(b,v,E,A){const k=l.STEP,C=new Int32Array(b.buffer),T=new Uint8Array(b.byteLength);let O=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(C.subarray(O,O+k),v,E,T)),O=k;O<C.length;O+=k)E=new Uint32Array([s(C[O-4]),s(C[O-3]),s(C[O-2]),s(C[O-1])]),this.asyncStream_.push(this.decryptChunk_(C.subarray(O,O+k),v,E,T));this.asyncStream_.push(function(){A(null,e(T))})}static get STEP(){return 32e3}decryptChunk_(b,v,E,A){return function(){const k=a(b,v,E);A.set(k,b.byteOffset)}}}var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof d<"u"?f=d:typeof self<"u"?f=self:f={};var u=f,h=function(b){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(b):b&&b.buffer instanceof ArrayBuffer},p=u.BigInt||Number;p("0x1"),p("0x100"),p("0x10000"),p("0x1000000"),p("0x100000000"),p("0x10000000000"),p("0x1000000000000"),p("0x100000000000000"),p("0x10000000000000000"),function(){var y=new Uint16Array([65484]),b=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return b[0]===255?"big":b[0]===204?"little":"unknown"}();const m=function(y){const b={};return Object.keys(y).forEach(v=>{const E=y[v];h(E)?b[v]={bytes:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength}:b[v]=E}),b};self.onmessage=function(y){const b=y.data,v=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength),E=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),A=new Uint32Array(b.iv.bytes,b.iv.byteOffset,b.iv.byteLength/4);new l(v,E,A,function(k,C){self.postMessage(m({source:b.source,decrypted:C}),[C.buffer])})}}));var FF=BA(PF);const UF=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},mC=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},e1=(t,e)=>{e.activePlaylistLoader=t,t.load()},jF=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,o=i.activeTrack(),s=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(s&&l&&s.id===l.id)&&(i.lastGroup_=s,i.lastTrack_=o,mC(r,i),!(!s||s.isMainPlaylist))){if(!s.playlistLoader){a&&n.resetEverything();return}r.resyncLoader(),e1(s.playlistLoader,i)}},$F=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},zF=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:o}}=e,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&s&&d.id===s.id)&&(o.lastGroup_=a,o.lastTrack_=s,mC(n,o),!!a)){if(a.isMainPlaylist){if(!s||!d||s.id===d.id)return;const f=e.vhs.playlistController_,u=f.selectPlaylist();if(f.media()===u)return;o.logger_(`track change. Switching main audio from ${d.id} to ${s.id}`),r.pause(),i.resetEverything(),f.fastQualityChange_(u);return}if(t==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){e1(a.playlistLoader,o);return}n.track&&n.track(s),n.resetEverything(),e1(a.playlistLoader,o)}},mh={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),o=r.activeGroup(),s=(o.filter(l=>l.default)[0]||o[0]).id,a=r.tracks[s];if(i===a){n({error:{message:"Problem encountered loading the default audio track."}});return}ye.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===a;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;ye.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},gC={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:o}}=r;e.on("loadedmetadata",()=>{const s=e.media();o.playlist(s,i),(!n.paused()||s.endList&&n.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),i),n.paused()||o.load()}),e.on("error",mh[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:o},mediaTypes:{[t]:s}}=r;e.on("loadedmetadata",()=>{const a=e.media();o.playlist(a,i),o.track(s.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),i),n.paused()||o.load()}),e.on("error",mh[t](t,r))}},VF={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[t]:{groups:a,tracks:l,logger_:d}},mainPlaylistLoader:f}=e,u=xu(f.main);(!s[t]||Object.keys(s[t]).length===0)&&(s[t]={main:{default:{default:!0}}},u&&(s[t].main.default.playlists=f.main.playlists));for(const h in s[t]){a[h]||(a[h]=[]);for(const p in s[t][h]){let m=s[t][h][p],y;if(u?(d(`AUDIO group '${h}' label '${p}' is a main playlist`),m.isMainPlaylist=!0,y=null):n==="vhs-json"&&m.playlists?y=new Dl(m.playlists[0],r,o):m.resolvedUri?y=new Dl(m.resolvedUri,r,o):m.playlists&&n==="dash"?y=new W0(m.playlists[0],r,o,f):y=null,m=Rt({id:p,playlistLoader:y},m),gC[t](t,m.playlistLoader,e),a[h].push(m),typeof l[p]>"u"){const b=new ye.AudioTrack({id:p,kind:UF(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=b}}}i.on("error",mh[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:d}},mainPlaylistLoader:f}=e;for(const u in a[t]){l[u]||(l[u]=[]);for(const h in a[t][u]){if(!n.options_.useForcedSubtitles&&a[t][u][h].forced)continue;let p=a[t][u][h],m;if(i==="hls")m=new Dl(p.resolvedUri,n,s);else if(i==="dash"){if(!p.playlists.filter(b=>b.excludeUntil!==1/0).length)return;m=new W0(p.playlists[0],n,s,f)}else i==="vhs-json"&&(m=new Dl(p.playlists?p.playlists[0]:p.resolvedUri,n,s));if(p=Rt({id:h,playlistLoader:m},p),gC[t](t,p.playlistLoader,e),l[u].push(p),typeof d[h]>"u"){const y=r.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;d[h]=y}}}o.on("error",mh[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:o}}}=e;for(const s in n[t]){i[s]||(i[s]=[]);for(const a in n[t][s]){const l=n[t][s][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const d=r.options_.vhs&&r.options_.vhs.captionServices||{};let f={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(d[f.instreamId]&&(f=Rt(f,d[f.instreamId])),f.default===void 0&&delete f.default,i[s].push(Rt({id:a},l)),typeof o[a]>"u"){const u=r.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[a]=u}}}}},yC=(t,e)=>{for(let r=0;r<t.length;r++)if(j0(e,t[r])||t[r].playlists&&yC(t[r].playlists,e))return!0;return!1},HF=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,o=n.media();if(!o)return null;let s=null;o.attributes[t]&&(s=i[o.attributes[t]]);const a=Object.keys(i);if(!s)if(t==="AUDIO"&&a.length>1&&xu(e.main))for(let l=0;l<a.length;l++){const d=i[a[l]];if(yC(d,o)){s=d;break}}else i.main?s=i.main:a.length===1&&(s=i[a[0]]);return typeof r>"u"?s:r===null||!s?null:s.filter(l=>l.id===r.id)[0]||null},qF={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},WF=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},GF=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(d=>{VF[d](d,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:o,main:s}}=t;["AUDIO","SUBTITLES"].forEach(d=>{e[d].activeGroup=HF(d,t),e[d].activeTrack=qF[d](d,t),e[d].onGroupChanged=jF(d,t),e[d].onGroupChanging=$F(d,t),e[d].onTrackChanged=zF(d,t),e[d].getActiveGroup=WF(d,t)});const a=e.AUDIO.activeGroup();if(a){const d=(a.filter(u=>u.default)[0]||a[0]).id;e.AUDIO.tracks[d].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(d=>e[d].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const d in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[d])},QF=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Do,activeTrack:Do,getActiveGroup:Do,onGroupChanged:Do,onTrackChanged:Do,lastTrack_:null,logger_:ni(`MediaGroups[${e}]`)}}),t};class bC{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=En(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class YF extends ye.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new bC,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ni("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=En(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(o,s)=>{if(o){if(s.status===410){this.logger_(`manifest request 410 ${o}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(s.status===429){const d=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${o}.`),this.logger_(`content steering will retry in ${d} seconds.`),this.startTTLTimeout_(parseInt(d,10));return}this.logger_(`manifest failed to load ${o}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let a;try{a=JSON.parse(this.request_.responseText)}catch(d){const f={errorType:ye.Error.StreamingContentSteeringParserError,error:d};this.trigger({type:"error",metadata:f})}this.assignSteeringProperties_(a);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new ee.URL(e),n=new ee.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(ee.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new ee.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const o=`_${this.manifestType_}_pathway`;r.searchParams.set(o,n)}if(i){const o=`_${this.manifestType_}_throughput`;r.searchParams.set(o,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const o of i)if(this.availablePathways_.has(o))return o;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=ee.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){ee.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new bC}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(En(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const KF=10;let Mo;const XF=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],ZF=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},JF=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!n)return ye.log.warn("We received no playlist to switch to. Please check your stream."),!1;const d=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${d} as current playlist is not set`),!0;if(n.id===t.id)return!1;const f=!!El(e,r).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${d} as current playlist is live`),!0);const u=B0(e,r),h=a?Rr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Rr.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(`${d} as duration < max low water line (${s} < ${h})`),!0;const p=n.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(p<m&&(!a||u<o)){let y=`${d} as next bandwidth < current bandwidth (${p} < ${m})`;return a&&(y+=` and forwardBuffer < bufferHighWaterLine (${u} < ${o})`),l(y),!0}if((!a||p>m)&&u>=i){let y=`${d} as forwardBuffer >= bufferLowWaterLine (${u} >= ${i})`;return a&&(y+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(y),!0}return l(`not ${d} as no switching criteria met`),!1};class eU extends ye.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:o,externVhs:s,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:d,sourceType:f,cacheEncryptionKeys:u,bufferBasedABR:h,leastPixelDiffSelector:p,captionServices:m}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:y}=e;(y===null||typeof y>"u")&&(y=1/0),Mo=s,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!p,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=f,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=y,this.enableLowInitialPlaylist=d,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:y,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=QF(),this.mediaSource=new ee.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=$r(),this.hasPlayed_=!1,this.syncController_=new BF(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new FF,this.sourceUpdater_=new cC(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new RF,this.keyStatusMap_=new Map;const b={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:u,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new W0(r,this.vhs_,Rt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Dl(r,this.vhs_,Rt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new X0(Rt(b,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new X0(Rt(b,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new DF(Rt(b,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((A,k)=>{function C(){i.off("vttjserror",T),A()}function T(){i.off("vttjsloaded",C),k()}i.one("vttjsloaded",C),i.one("vttjserror",T),i.addWebVttScript_()})}),e);const v=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new YF(this.vhs_.xhr,v),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),XF.forEach(A=>{this[A+"_"]=ZF.bind(this,A)}),this.logger_=ni("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const E=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(E,()=>{const A=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-A,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),o=i&&(i.id||i.uri),s=e&&(e.id||e.uri);if(o&&o!==s){this.logger_(`switch media ${o} -> ${s} from ${r}`);const a={renditionInfo:{id:s,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const s=(n.length?n[0].playlists:n.playlists).filter(a=>a.attributes.serviceLocation===i);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=ee.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ee.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let o;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)o=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||i.length&&n[i[0]];for(const l in a)if(a[l].default){o={label:l};break}}if(!o)return r;const s=[];for(const a in n)if(n[a][o.label]){const l=n[a][o.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(e.playlists.length)for(let d=0;d<e.playlists.length;d++){const f=e.playlists[d];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===a&&s.push(f)}}return s.length?s:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;U0(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),GF({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;U0(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,n=>{this.player_.trigger(yr({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const o=Object.keys(n.AUDIO);for(const s in n.AUDIO)for(const a in n.AUDIO[s])n.AUDIO[s][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Mo.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),o.length&&Object.keys(n.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),o=this.bufferHighWaterLine(),s=this.tech_.buffered();return JF({buffered:s,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:KF}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(yr({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(yr({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(yr({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const o=e.start.timeOffset;o<0?i=Math.max(n+o,r.start(0)):i=Math.min(n,o)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=Mo.Playlist.playlistEnd(e,n),o=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-o<=to;const a=s.end(s.length-1);return a-o<=to&&i-a<=to}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,o=i.filter(ch),s=o.length===1&&o[0]===e;if(i.length===1&&n!==1/0)return ye.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},y);return}let p=!1;i.forEach(m=>{if(m===e)return;const y=m.excludeUntil;typeof y<"u"&&y!==1/0&&(p=!0,delete m.excludeUntil)}),p&&(ye.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const d=r.internal?this.logger_:ye.log.warn,f=r.message?" "+r.message:"";d(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const u=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=u;return this.switchMedia_(l,"exclude",s||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const o=[];(i||e==="audio")&&o.push("AUDIO"),(i||e==="subtitle")&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(s=>{const a=this.mediaTypes_[s]&&this.mediaTypes_[s].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(s=>{const a=this[`${s}SegmentLoader_`];a&&(e===s||e==="all")&&n.push(a)}),n.forEach(s=>r.forEach(a=>{typeof s[a]=="function"&&s[a]()}))}setCurrentTime(e){const r=El(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Mo.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,o=Mo.Playlist.seekable(r,n,Mo.Playlist.liveEdgeDelay(i,r));if(o.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=Mo.Playlist.seekable(r,n,Mo.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let s,a;if(this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>o.end(0)||o.start(0)>e.end(0)?this.seekable_=o:this.seekable_=$r([[e.start(0)>o.start(0)?e.start(0):o.start(0),e.end(0)<o.end(0)?e.end(0):o.end(0)]]):this.seekable_=o,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===a)return;this.logger_(`seekable updated [${sA(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=Mo.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=Au(this.main(),r),i={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||CL),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||X_}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||o)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||X_,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const s=(d,f)=>d?ff(f):dg(f),a={};let l;if(["video","audio"].forEach(function(d){if(i.hasOwnProperty(d)&&!s(e[d].isFmp4,i[d])){const f=e[d].isFmp4?"browser":"muxer";a[f]=a[f]||[],a[f].push(i[d]),d==="audio"&&(l=f)}}),o&&l&&r.attributes.AUDIO){const d=r.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===d&&f!==r&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${d} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const d=Object.keys(a).reduce((f,u)=>(f&&(f+=", "),f+=`${u} does not support codec(s): "${a[u].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:d},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const d=[];if(["video","audio"].forEach(f=>{const u=(Wi(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,h=(Wi(i[f]||"")[0]||{}).type;u&&h&&u.toLowerCase()!==h.toLowerCase()&&d.push(`"${this.sourceUpdater_.codecs[f]}" -> "${i[f]}"`)}),d.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${d.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const o=Au(this.main,i),s=[];o.audio&&!dg(o.audio)&&!ff(o.audio)&&s.push(`audio codec ${o.audio}`),o.video&&!dg(o.video)&&!ff(o.video)&&s.push(`video codec ${o.video}`),o.text&&o.text==="stpp.ttml.im1t"&&s.push(`text codec ${o.text}`),s.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${s.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=dh(Wi(e)),o=QA(i),s=i.video&&Wi(i.video)[0]||null,a=i.audio&&Wi(i.audio)[0]||null;Object.keys(n).forEach(l=>{const d=n[l];if(r.indexOf(d.id)!==-1||d.excludeUntil===1/0)return;r.push(d.id);const f=[],u=Au(this.mainPlaylistLoader_.main,d),h=QA(u);if(!(!u.audio&&!u.video)){if(h!==o&&f.push(`codec count "${h}" !== "${o}"`),!this.sourceUpdater_.canChangeType()){const p=u.video&&Wi(u.video)[0]||null,m=u.audio&&Wi(u.audio)[0]||null;p&&s&&p.type.toLowerCase()!==s.type.toLowerCase()&&f.push(`video codec "${p.type}" !== "${s.type}"`),m&&a&&m.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`audio codec "${m.type}" !== "${a.type}"`)}f.length&&(d.excludeUntil=1/0,this.logger_(`excluding ${d.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),NF(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=Rr.GOAL_BUFFER_LENGTH,n=Rr.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,Rr.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=Rr.BUFFER_LOW_WATER_LINE,n=Rr.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,Rr.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(r,Rr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?o:i)}bufferHighWaterLine(){return Rr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){JA(this.inbandTextTracks_,"com.apple.streaming",this.tech_),hF({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();JA(this.inbandTextTracks_,e,this.tech_),uF({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,n=>{this.trigger(yr({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const o=this.contentSteeringController_.getAvailablePathways(),s=[];for(const a of r.playlists){const l=a.attributes.serviceLocation;if(l&&(s.push(l),!o.has(l)))return!0}return!!(!s.length&&o.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let o=!1;Object.keys(n).forEach(s=>{const a=n[s],l=this.pathwayAttribute_(a),d=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!d&&(delete a.excludeUntil,delete a.lastExcludeReason_,o=!0);const u=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&d&&u&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(o=!0)}}),o&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[s,a]of n.entries())i.get(s)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(s));for(const[s,a]of i.entries()){const l=n.get(s);if(!l){r.filter(f=>f.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(f=>{this.mainPlaylistLoader_.addClonePathway(a,f)}),this.contentSteeringController_.addAvailablePathway(s);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(s))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const o in n)if(n[o]!==i[o])return!1;for(const o in i)if(n[o]!==i[o])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(o=>{const s="usable",a=this.keyStatusMap_.has(o)&&this.keyStatusMap_.get(o)===s,l=n.lastExcludeReason_===r&&n.excludeUntil===1/0;a?a&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${o} is ${s}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${o} doesn't exist in the keyStatusMap or is not ${s}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,o=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&o&&(delete n.excludeUntil,ye.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const o=(typeof e=="string"?e:kF(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${o} added to the keyStatusMap`),this.keyStatusMap_.set(o,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const tU=(t,e,r)=>n=>{const i=t.main.playlists[e],o=F0(i),s=ch(i);if(typeof n>"u")return s;n?delete i.disabled:i.disabled=!0;const a={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return n!==s&&!o&&(r(i),n?t.trigger({type:"renditionenabled",metadata:a}):t.trigger({type:"renditiondisabled",metadata:a})),n};class rU{constructor(e,r,n){const{playlistController_:i}=e,o=i.fastQualityChange_.bind(i);if(r.attributes){const s=r.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=Au(i.main(),r),this.playlist=r,this.id=n,this.enabled=tU(e.playlists,r.id,o)}}const nU=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=xu(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!F0(n)).map((n,i)=>new rU(t,n,n.id)):[]}},vC=["seeking","seeked","pause","playing","error"];class iU extends ye.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ni("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(f=>{l[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},s[`${f}SegmentLoader_`].on("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].on("playlistupdate",l[f].reset),this.tech_.on(["seeked","seeking"],l[f].reset)});const d=f=>{["main","audio"].forEach(u=>{s[`${u}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=()=>d("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(vC,o),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(vC,o),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(f=>{s[`${f}SegmentLoader_`].off("appendsdone",l[f].updateend),s[`${f}SegmentLoader_`].off("playlistupdate",l[f].reset),this.tech_.off(["seeked","seeking"],l[f].reset)}),this.checkCurrentTimeTimeout_&&ee.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ee.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ee.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),o=K7(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,o){const s={bufferedRanges:i};r.trigger({type:"bufferedrangeschanged",metadata:s}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Xs(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+to>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push($r([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let o;if(i&&(o=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const m=r.start(0);o=m+(m===r.end(0)?0:to)}if(typeof o<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${sA(r)}. Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=s.audioBuffer?s.audioBuffered():null,d=s.videoBuffer?s.videoBuffered():null,f=this.media(),u=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-eo)*2,h=[l,d];for(let m=0;m<h.length;m++){if(!h[m])continue;if(B0(h[m],n)<u)return!1}const p=lh(a,n);return p.length===0?!1:(o=p.start(0)+to,this.logger_(`Buffered region starts (${p.start(0)})  just beyond seek point (${n}). Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=El(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=lh(i,r);return s.length>0?(this.logger_(`Stopped at ${r} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let o=e.end(e.length-1)+to;const s=!n.endList,a=typeof n.partTargetDuration=="number";return s&&(a||i)&&(o=e.end(e.length-1)+n.targetDuration*3),r>o}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const o=El(e,n-3),s=El(e,n),a=El(r,n);a.length&&!s.length&&o.length&&(i={start:o.end(0),end:a.end(0)})}else lh(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=lh(r,n);if(this.resetTimeUpdate_(),i.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+eo);const o={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:o}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const n=G7(e);for(let i=0;i<n.length;i++){const o=n.start(i),s=n.end(i);if(r-o<4&&r-o>2)return{start:o,end:s}}return null}}const oU={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},_C=function(t,e){let r=0,n=0;const i=Rt(oU,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const o=function(){n&&t.currentTime(n)},s=function(f){f!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){ye.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,s)},l=function(){t.off("loadedmetadata",o),t.off("error",a),t.off("dispose",l)},d=function(f){l(),_C(t,f)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=d},sU=function(t){_C(this,t)};var wC="3.13.2",aU="7.0.3",lU="1.3.0",cU="7.1.0",uU="4.0.1";const or={PlaylistLoader:Dl,Playlist:kn,utils:bP,STANDARD_PLAYLIST_SELECTOR:XA,INITIAL_PLAYLIST_SELECTOR:oF,lastBandwidthSelector:XA,movingAverageBandwidthSelector:nF,comparePlaylistBandwidth:K0,comparePlaylistResolution:rF,xhr:SA()};Object.keys(Rr).forEach(t=>{Object.defineProperty(or,t,{get(){return ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Rr[t]},set(e){if(ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ye.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Rr[t]=e}})});const xC="videojs-vhs",TC=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},dU=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),TC(t,e.playlists)};or.canPlaySource=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const fU=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=dh(Wi(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=Gc(n.video),o=Gc(n.audio),s={};for(const a in t)s[a]={},o&&(s[a].audioContentType=o),i&&(s[a].videoContentType=i),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(s[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(s[a].url=t[a]);return Rt(t,s)},hU=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((o,s)=>{const a=n.contentProtection[s];return a&&a.pssh&&(o[s]={pssh:a.pssh}),o},{});return Object.keys(i).length&&r.push(i),r},[]),pU=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,o=hU(i,Object.keys(e)),s=[],a=[];return o.forEach(l=>{a.push(new Promise((d,f)=>{t.tech_.one("keysessioncreated",d)})),s.push(new Promise((d,f)=>{t.eme.initializeMediaKeys({keySystems:l},u=>{if(u){f(u);return}d()})}))}),Promise.race([Promise.all(s),Promise.race(a)])},mU=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=fU(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(ye.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},AC=()=>{if(!ee.localStorage)return null;const t=ee.localStorage.getItem(xC);if(!t)return null;try{return JSON.parse(t)}catch{return null}},gU=t=>{if(!ee.localStorage)return!1;let e=AC();e=e?Rt(e,t):t;try{ee.localStorage.setItem(xC,JSON.stringify(e))}catch{return!1}return e},yU=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,CC=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},SC=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},EC=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},kC=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};or.supportsNativeHls=function(){if(!Be||!Be.createElement)return!1;const t=Be.createElement("video");return ye.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}(),or.supportsNativeDash=function(){return!Be||!Be.createElement||!ye.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Be.createElement("video").canPlayType("application/dash+xml"))}(),or.supportsTypeNatively=t=>t==="hls"?or.supportsNativeHls:t==="dash"?or.supportsNativeDash:!1,or.isSupported=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},or.xhr.onRequest=function(t){CC(or.xhr,t)},or.xhr.onResponse=function(t){SC(or.xhr,t)},or.xhr.offRequest=function(t){EC(or.xhr,t)},or.xhr.offResponse=function(t){kC(or.xhr,t)};const bU=ye.getComponent("Component");class IC extends bU{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=ni("VhsHandler"),r.options_&&r.options_.playerId){const i=ye.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const o=Be.fullscreenElement||Be.webkitFullscreenElement||Be.mozFullScreenElement||Be.msFullscreenElement;o&&o.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Rt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=AC();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Rr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Rr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=yU(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=or,this.options_.sourceType=Z_(r),this.options_.seekTo=o=>{this.tech_.setCurrentTime(o)},this.options_.player_=this.player_,this.playlistController_=new eU(this.options_);const n=Rt({liveRangeSafeTimeDelta:to},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new iU(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const o=ye.players[this.tech_.options_.playerId];let s=this.playlistController_.error;typeof s=="object"&&!s.code?s.code=3:typeof s=="string"&&(s={message:s,code:3}),o.error(s)});const i=this.options_.bufferBasedABR?or.movingAverageBandwidthSelector(.55):or.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=or.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(o){this.playlistController_.selectPlaylist=o.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(o){this.playlistController_.mainSegmentLoader_.throughput.rate=o,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let o=this.playlistController_.mainSegmentLoader_.bandwidth;const s=ee.navigator.connection||ee.navigator.mozConnection||ee.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&s){const l=s.downlink*1e3*1e3;l>=a&&o>=a?o=Math.max(o,l):o=l}return o},set(o){this.playlistController_.mainSegmentLoader_.bandwidth=o,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const o=1/(this.bandwidth||1);let s;return this.throughput>0?s=1/this.throughput:s=0,Math.floor(1/(o+s))},set(){ye.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Xs(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Xs(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&gU({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{nU(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ee.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),pU({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=mU({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ye.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{dU(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{TC(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":wC,"mux.js":aU,"mpd-parser":lU,"m3u8-parser":cU,"aes-decrypter":uU}}version(){return this.constructor.version()}canChangeType(){return cC.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&ee.URL.revokeObjectURL&&(ee.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return CP({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return MA({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{CC(this.xhr,e)},this.xhr.onResponse=e=>{SC(this.xhr,e)},this.xhr.offRequest=e=>{EC(this.xhr,e)},this.xhr.offResponse=e=>{kC(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,i=>{this.player_.trigger(yr({},i))})}),r.forEach(n=>{this.playbackWatcher_.on(n,i=>{this.player_.trigger(yr({},i))})})}}const gh={name:"videojs-http-streaming",VERSION:wC,canHandleSource(t,e={}){const r=Rt(ye.options,e);return gh.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=Rt(ye.options,r);return e.vhs=new IC(t,e,n),e.vhs.xhr=SA(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=Z_(t);if(!r)return"";const n=gh.getOverrideNative(e);return!or.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(ye.browser.IS_ANY_SAFARI||ye.browser.IS_IOS),{overrideNative:n=r}=e;return n}};ff("avc1.4d400d,mp4a.40.2")&&ye.getTech("Html5").registerSourceHandler(gh,0),ye.VhsHandler=IC,ye.VhsSourceHandler=gh,ye.Vhs=or,ye.use||ye.registerComponent("Vhs",or),ye.options.vhs=ye.options.vhs||{},(!ye.getPlugin||!ye.getPlugin("reloadSourceOnError"))&&ye.registerPlugin("reloadSourceOnError",sU);const vU=c.createElementVNode("div",{class:"absolute inset-0 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1),_U=c.createElementVNode("img",{class:"pointer-events-none absolute",src:k_,width:"24",height:"24"},null,-1),wU={class:"absolute bottom-2 right-2 rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},xU=c.defineComponent({__name:"VideoMessageContent",props:{message:{}},setup(t){const e=t,r=`vp-${Math.random()}`,n=c.ref(),i=c.ref(),o=c.ref(!1),s=()=>{const{width:u,height:h}=e.message.video;return u<h?{width:"200px",height:`${200*h/u}px`}:{width:`${200*u/h}px`,height:"200px"}},a=Bt(),l=async()=>{if(o.value)return;o.value=!0;const f=await a.dispatch("imkit/fetchVideoBlob",e.message.video.originalUrl);n.value&&(n.value.src=URL.createObjectURL(f)),i.value=ye(r)},d=c.computed(()=>a.state.imkit.uploadProgresses);return(f,u)=>{const h=c.resolveDirective("src");return c.openBlock(),c.createElementBlock("div",{class:"relative -m-2 flex cursor-pointer items-center justify-center",style:c.normalizeStyle(s()),onClick:l},[c.withDirectives(c.createElementVNode("video",{ref_key:"videoPlayer",ref:n,id:r,class:"video-js vjs-default-skin absolute inset-0 h-full w-full",controls:"",preload:"auto",autoplay:""},null,512),[[c.vShow,o.value]]),o.value?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[c.withDirectives(c.createElementVNode("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"border-0 object-cover transition",style:c.normalizeStyle(s())},null,4),[[h,f.message.video.thumbnailUrl]]),f.message.video.thumbnailUrl.startsWith("data")?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[vU,c.createVNode(c.unref(af),{class:"!absolute",diameter:40,"completed-steps":d.value[f.message.video.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[_U,c.createElementVNode("div",wU,c.toDisplayString(Math.floor(f.message.video.duration/60))+":"+c.toDisplayString(`${Math.floor(f.message.video.duration%60)}`.padStart(2,"0")),1)],64))],64))],4)}}}),TU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR4nO3aMUpDQRSF4VmI1m5HtLCxkMxxA86JazAz2Ygi2LkgbVWMpQpKFCyihSZ33r0x58As4GP+F17gpaRp2sbs6GS6nUu7RGlPYHuzPrm029HJdDdFwYL1vgd0Af2Sx5MDb2/6uNnO2FBodMr4C8n6HAqN/re6t4gG62tmPfyX4PT52MRBYwBwKDQGAodBY0BwCDQGBruj4QB2RcMJ7IaGI9gFDWfwfMes+z+9kXX5w4HOYJyebS2LBuvN2oEz6/Uq6LUDY4BH4k/zBglM3bDtECBbPcPUj5bdECBbJU0lbTcEyFZJU0nbDQGyVdJU0nZDgGyVNJW03RAgWyVNJW03BMhWSVNJ2w0BslXSVNJ2Q4BslTSVtN2wcUmXvh+XrnJyaY/2YNarsGDWc3PwaDzZyaU9eOO+ndLufvupxHJfxZd2AdaZO5R1Nr/ZblhN01LEvQM/68r6Ex4bqgAAAABJRU5ErkJggg==",DC=t=>(c.pushScopeId("data-v-5248b347"),t=t(),c.popScopeId(),t),AU=DC(()=>c.createElementVNode("img",{class:"w-8 object-contain",src:TU},null,-1)),CU={class:"flex flex-col gap-0.5 font-normal"},SU={class:"break-all text-base"},EU=DC(()=>c.createElementVNode("div",{class:"absolute inset-0 -m-2 bg-gray-800 bg-opacity-50 fill-blue-300"},null,-1)),kU=pr(c.defineComponent({__name:"FileMessageContent",props:{message:{}},setup(t){const e=Bt(),r=t,n=c.computed(()=>r.message.isIncoming),i=c.computed(()=>e.state.imkit.uploadProgresses),o=c.computed(()=>{const a=r.message.bytes;return a<1e3?a+"B":a<1e3*1e3?(a/1e3).toFixed(1)+"KB":a<1e3*1e3*1e3?(a/1e3/1e3).toFixed(1)+"MB":(a/1e3/1e3/1e3).toFixed(1)+"GB"}),s=async()=>{try{const{url:a,fileName:l,fileExtension:d}=r.message,f=await e.state.imkit.axios.get(a,{responseType:"arraybuffer",onDownloadProgress:p=>{const{total:m}=p;m&&e.commit("imkit/updateField",{key:"downloadProgresses",value:{[a]:p.loaded/m}})}}),u=btoa(new Uint8Array(f.data).reduce((p,m)=>p+String.fromCharCode(m),"")),h=document.createElement("a");h.href=`data:${f.headers["content-type"]};base64,${u}`,h.download=`${l}.${d}`,h.click()}catch(a){console.error(a)}};return(a,l)=>(c.openBlock(),c.createElementBlock("div",{class:"relative flex cursor-pointer items-center justify-center gap-2",onClick:s},[AU,c.createElementVNode("div",CU,[c.createElementVNode("div",SU,c.toDisplayString(a.message.fileName)+"."+c.toDisplayString(a.message.fileExtension),1),c.createElementVNode("div",{class:c.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":n.value}])},c.toDisplayString(a.$t("fileSize"))+": "+c.toDisplayString(o.value),3)]),a.message.url===""?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[EU,c.createVNode(c.unref(af),{class:"!absolute",diameter:40,"completed-steps":i.value[a.message.id]*100,"total-steps":100,"start-color":"#60a5fa","stop-color":"#60a5fa","stroke-width":4,"inner-stroke-width":4},null,8,["completed-steps"])],64)):c.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-5248b347"]]),io=Object.create(null);io.open="0",io.close="1",io.ping="2",io.pong="3",io.message="4",io.upgrade="5",io.noop="6";const yh=Object.create(null);Object.keys(io).forEach(t=>{yh[io[t]]=t});const t1={type:"error",data:"parser error"},MC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",NC=typeof ArrayBuffer=="function",OC=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,r1=({type:t,data:e},r,n)=>MC&&e instanceof Blob?r?n(e):LC(e,n):NC&&(e instanceof ArrayBuffer||OC(e))?r?n(e):LC(new Blob([e]),n):n(io[t]+(e||"")),LC=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function BC(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let n1;function IU(t,e){if(MC&&t.data instanceof Blob)return t.data.arrayBuffer().then(BC).then(e);if(NC&&(t.data instanceof ArrayBuffer||OC(t.data)))return e(BC(t.data));r1(t,!1,r=>{n1||(n1=new TextEncoder),e(n1.encode(r))})}const RC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<RC.length;t++)Eu[RC.charCodeAt(t)]=t;const DU=t=>{let e=t.length*.75,r=t.length,n,i=0,o,s,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(n=0;n<r;n+=4)o=Eu[t.charCodeAt(n)],s=Eu[t.charCodeAt(n+1)],a=Eu[t.charCodeAt(n+2)],l=Eu[t.charCodeAt(n+3)],f[i++]=o<<2|s>>4,f[i++]=(s&15)<<4|a>>2,f[i++]=(a&3)<<6|l&63;return d},MU=typeof ArrayBuffer=="function",i1=(t,e)=>{if(typeof t!="string")return{type:"message",data:PC(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:NU(t.substring(1),e)}:yh[r]?t.length>1?{type:yh[r],data:t.substring(1)}:{type:yh[r]}:t1},NU=(t,e)=>{if(MU){const r=DU(t);return PC(r,e)}else return{base64:!0,data:t}},PC=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},FC="",OU=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,s)=>{r1(o,!1,a=>{n[s]=a,++i===r&&e(n.join(FC))})})},LU=(t,e)=>{const r=t.split(FC),n=[];for(let i=0;i<r.length;i++){const o=i1(r[i],e);if(n.push(o),o.type==="error")break}return n};function BU(){return new TransformStream({transform(t,e){IU(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let o1;function bh(t){return t.reduce((e,r)=>e+r.length,0)}function vh(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function RU(t,e){o1||(o1=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(r.push(s);;){if(n===0){if(bh(r)<1)break;const l=vh(r,1);o=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(bh(r)<2)break;const l=vh(r,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(bh(r)<8)break;const l=vh(r,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(t1);break}i=f*Math.pow(2,32)+d.getUint32(4),n=3}else{if(bh(r)<i)break;const l=vh(r,i);a.enqueue(i1(o?l:o1.decode(l),e)),n=0}if(i===0||i>t){a.enqueue(t1);break}}}})}const UC=4;function Sr(t){if(t)return PU(t)}function PU(t){for(var e in Sr.prototype)t[e]=Sr.prototype[e];return t}Sr.prototype.on=Sr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Sr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},Sr.prototype.off=Sr.prototype.removeListener=Sr.prototype.removeAllListeners=Sr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this},Sr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},Sr.prototype.emitReserved=Sr.prototype.emit,Sr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Sr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ii=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function jC(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const FU=ii.setTimeout,UU=ii.clearTimeout;function _h(t,e){e.useNativeTimers?(t.setTimeoutFn=FU.bind(ii),t.clearTimeoutFn=UU.bind(ii)):(t.setTimeoutFn=ii.setTimeout.bind(ii),t.clearTimeoutFn=ii.clearTimeout.bind(ii))}const jU=1.33;function $U(t){return typeof t=="string"?zU(t):Math.ceil((t.byteLength||t.size)*jU)}function zU(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function VU(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function HU(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class qU extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class s1 extends Sr{constructor(e){super(),this.writable=!1,_h(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new qU(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=i1(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=VU(e);return r.length?"?"+r:""}}const $C="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a1=64,WU={};let zC=0,wh=0,VC;function HC(t){let e="";do e=$C[t%a1]+e,t=Math.floor(t/a1);while(t>0);return e}function qC(){const t=HC(+new Date);return t!==VC?(zC=0,VC=t):t+"."+HC(zC++)}for(;wh<a1;wh++)WU[$C[wh]]=wh;let WC=!1;try{WC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const GU=WC;function GC(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||GU))return new XMLHttpRequest}catch{}if(!e)try{return new ii[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function whe(){}function QU(){}const YU=function(){return new GC({xdomain:!1}).responseType!=null}();class KU extends s1{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const r=e&&e.forceBase64;this.supportsBinary=YU&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};LU(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,OU(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=qC()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ll(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Ll=class dm extends Sr{constructor(e,r){super(),_h(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=jC(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new GC(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=dm.requestsCount++,dm.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=QU,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete dm.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(Ll.requestsCount=0,Ll.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",QC);else if(typeof addEventListener=="function"){const t="onpagehide"in ii?"pagehide":"unload";addEventListener(t,QC,!1)}}function QC(){for(let t in Ll.requests)Ll.requests.hasOwnProperty(t)&&Ll.requests[t].abort()}const l1=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),xh=ii.WebSocket||ii.MozWebSocket,YC=!0,XU="arraybuffer",KC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ZU extends s1{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=KC?{}:jC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=YC&&!KC?r?new xh(e,r):new xh(e):new xh(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;r1(n,this.supportsBinary,o=>{const s={};try{YC&&this.ws.send(o)}catch{}i&&l1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=qC()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!xh}}class JU extends s1{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=RU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=BU();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const o=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&l1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const ej={websocket:ZU,webtransport:JU,polling:KU},tj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function c1(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=tj.exec(t||""),o={},s=14;for(;s--;)o[rj[s]]=i[s]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=nj(o,o.path),o.queryKey=ij(o,o.query),o}function nj(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ij(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}let XC=class Sc extends Sr{constructor(e,r={}){super(),this.binaryType=XU,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=c1(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=c1(r.host).host),_h(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=HU(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=UC,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new ej[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Sc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;Sc.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!n)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Sc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,f(),r.close(),r=null)}const s=u=>{const h=new Error("probe error: "+u);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function a(){s("transport closed")}function l(){s("socket closed")}function d(u){r&&u.name!==r.name&&o()}const f=()=>{r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};r.once("open",i),r.once("error",s),r.once("close",a),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Sc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=$U(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Sc.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};XC.protocol=UC;function oj(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=c1(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const sj=typeof ArrayBuffer=="function",aj=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ZC=Object.prototype.toString,lj=typeof Blob=="function"||typeof Blob<"u"&&ZC.call(Blob)==="[object BlobConstructor]",cj=typeof File=="function"||typeof File<"u"&&ZC.call(File)==="[object FileConstructor]";function u1(t){return sj&&(t instanceof ArrayBuffer||aj(t))||lj&&t instanceof Blob||cj&&t instanceof File}function Th(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Th(t[r]))return!0;return!1}if(u1(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Th(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Th(t[r]))return!0;return!1}function uj(t){const e=[],r=t.data,n=t;return n.data=d1(r,e),n.attachments=e.length,{packet:n,buffers:e}}function d1(t,e){if(!t)return t;if(u1(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=d1(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=d1(t[n],e));return r}return t}function dj(t,e){return t.data=f1(t.data,e),delete t.attachments,t}function f1(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=f1(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=f1(t[r],e));return t}const fj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hj=5;var Tt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Tt||(Tt={}));class pj{constructor(e){this.replacer=e}encode(e){return(e.type===Tt.EVENT||e.type===Tt.ACK)&&Th(e)?this.encodeAsBinary({type:e.type===Tt.EVENT?Tt.BINARY_EVENT:Tt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Tt.BINARY_EVENT||e.type===Tt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=uj(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function JC(t){return Object.prototype.toString.call(t)==="[object Object]"}class h1 extends Sr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Tt.BINARY_EVENT;n||r.type===Tt.BINARY_ACK?(r.type=n?Tt.EVENT:Tt.ACK,this.reconstructor=new mj(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(u1(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Tt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Tt.BINARY_EVENT||n.type===Tt.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const s=e.substring(o,r);if(s!=Number(s)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const s=e.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(h1.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Tt.CONNECT:return JC(r);case Tt.DISCONNECT:return r===void 0;case Tt.CONNECT_ERROR:return typeof r=="string"||JC(r);case Tt.EVENT:case Tt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&fj.indexOf(r[0])===-1);case Tt.ACK:case Tt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mj{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=dj(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:h1,Encoder:pj,get PacketType(){return Tt},protocol:hj},Symbol.toStringTag,{value:"Module"}));function ki(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const yj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class e3 extends Sr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ki(e,"open",this.onopen.bind(this)),ki(e,"packet",this.onpacket.bind(this)),ki(e,"error",this.onerror.bind(this)),ki(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(yj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:Tt.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const s=this.ids++,a=r.pop();this._registerAckCallback(s,a),n.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),r.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...r){return new Promise((n,i)=>{const o=(s,a)=>s?i(s):n(a);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Tt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Tt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Tt.EVENT:case Tt.BINARY_EVENT:this.onevent(e);break;case Tt.ACK:case Tt.BINARY_ACK:this.onack(e);break;case Tt.DISCONNECT:this.ondisconnect();break;case Tt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Tt.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Tt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Bl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Bl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0},Bl.prototype.reset=function(){this.attempts=0},Bl.prototype.setMin=function(t){this.ms=t},Bl.prototype.setMax=function(t){this.max=t},Bl.prototype.setJitter=function(t){this.jitter=t};class p1 extends Sr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_h(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Bl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||gj;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new XC(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ki(r,"open",function(){n.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=ki(r,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ki(e,"ping",this.onping.bind(this)),ki(e,"data",this.ondata.bind(this)),ki(e,"error",this.onerror.bind(this)),ki(e,"close",this.onclose.bind(this)),ki(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){l1(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new e3(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ku={};function Iu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=oj(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,s=ku[i]&&o in ku[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let l;return a?l=new p1(n,e):(ku[i]||(ku[i]=new p1(n,e)),l=ku[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(Iu,{Manager:p1,Socket:e3,io:Iu,connect:Iu});function t3(t,e){return function(){return t.apply(e,arguments)}}const{toString:bj}=Object.prototype,{getPrototypeOf:m1}=Object,Ah=(t=>e=>{const r=bj.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=t=>(t=t.toLowerCase(),e=>Ah(e)===t),Ch=t=>e=>typeof e===t,{isArray:Rl}=Array,Du=Ch("undefined");function vj(t){return t!==null&&!Du(t)&&t.constructor!==null&&!Du(t.constructor)&&qn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const r3=Ii("ArrayBuffer");function _j(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&r3(t.buffer),e}const wj=Ch("string"),qn=Ch("function"),n3=Ch("number"),Sh=t=>t!==null&&typeof t=="object",xj=t=>t===!0||t===!1,Eh=t=>{if(Ah(t)!=="object")return!1;const e=m1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tj=Ii("Date"),Aj=Ii("File"),Cj=Ii("Blob"),Sj=Ii("FileList"),Ej=t=>Sh(t)&&qn(t.pipe),kj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qn(t.append)&&((e=Ah(t))==="formdata"||e==="object"&&qn(t.toString)&&t.toString()==="[object FormData]"))},Ij=Ii("URLSearchParams"),[Dj,Mj,Nj,Oj]=["ReadableStream","Request","Response","Headers"].map(Ii),Lj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Rl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function i3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o3=t=>!Du(t)&&t!==ea;function g1(){const{caseless:t}=o3(this)&&this||{},e={},r=(n,i)=>{const o=t&&i3(e,i)||i;Eh(e[o])&&Eh(n)?e[o]=g1(e[o],n):Eh(n)?e[o]=g1({},n):Rl(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Mu(arguments[n],r);return e}const Bj=(t,e,r,{allOwnKeys:n}={})=>(Mu(e,(i,o)=>{r&&qn(i)?t[o]=t3(i,r):t[o]=i},{allOwnKeys:n}),t),Rj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Pj=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Fj=(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&m1(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Uj=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},jj=t=>{if(!t)return null;if(Rl(t))return t;let e=t.length;if(!n3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},$j=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&m1(Uint8Array)),zj=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Vj=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Hj=Ii("HTMLFormElement"),qj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),s3=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Wj=Ii("RegExp"),a3=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Mu(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Gj=t=>{a3(t,(e,r)=>{if(qn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(qn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Qj=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Rl(t)?n(t):n(String(t).split(e)),r},Yj=()=>{},Kj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,y1="abcdefghijklmnopqrstuvwxyz",l3="0123456789",c3={DIGIT:l3,ALPHA:y1,ALPHA_DIGIT:y1+y1.toUpperCase()+l3},Xj=(t=16,e=c3.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Zj(t){return!!(t&&qn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Jj=t=>{const e=new Array(10),r=(n,i)=>{if(Sh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Rl(n)?[]:{};return Mu(n,(s,a)=>{const l=r(s,i+1);!Du(l)&&(o[a]=l)}),e[i]=void 0,o}}return n};return r(t,0)},e$=Ii("AsyncFunction"),t$=t=>t&&(Sh(t)||qn(t))&&qn(t.then)&&qn(t.catch),u3=((t,e)=>t?setImmediate:e?((r,n)=>(ea.addEventListener("message",({source:i,data:o})=>{i===ea&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ea.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qn(ea.postMessage)),r$=typeof queueMicrotask<"u"?queueMicrotask.bind(ea):typeof process<"u"&&process.nextTick||u3,Ce={isArray:Rl,isArrayBuffer:r3,isBuffer:vj,isFormData:kj,isArrayBufferView:_j,isString:wj,isNumber:n3,isBoolean:xj,isObject:Sh,isPlainObject:Eh,isReadableStream:Dj,isRequest:Mj,isResponse:Nj,isHeaders:Oj,isUndefined:Du,isDate:Tj,isFile:Aj,isBlob:Cj,isRegExp:Wj,isFunction:qn,isStream:Ej,isURLSearchParams:Ij,isTypedArray:$j,isFileList:Sj,forEach:Mu,merge:g1,extend:Bj,trim:Lj,stripBOM:Rj,inherits:Pj,toFlatObject:Fj,kindOf:Ah,kindOfTest:Ii,endsWith:Uj,toArray:jj,forEachEntry:zj,matchAll:Vj,isHTMLForm:Hj,hasOwnProperty:s3,hasOwnProp:s3,reduceDescriptors:a3,freezeMethods:Gj,toObjectSet:Qj,toCamelCase:qj,noop:Yj,toFiniteNumber:Kj,findKey:i3,global:ea,isContextDefined:o3,ALPHABET:c3,generateString:Xj,isSpecCompliantForm:Zj,toJSONObject:Jj,isAsyncFn:e$,isThenable:t$,setImmediate:u3,asap:r$};function gt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Ce.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const d3=gt.prototype,f3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{f3[t]={value:t}}),Object.defineProperties(gt,f3),Object.defineProperty(d3,"isAxiosError",{value:!0}),gt.from=(t,e,r,n,i,o)=>{const s=Object.create(d3);return Ce.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),gt.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const n$=null;function b1(t){return Ce.isPlainObject(t)||Ce.isArray(t)}function h3(t){return Ce.endsWith(t,"[]")?t.slice(0,-2):t}function p3(t,e,r){return t?t.concat(e).map(function(i,o){return i=h3(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function i$(t){return Ce.isArray(t)&&!t.some(b1)}const o$=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function kh(t,e,r){if(!Ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Ce.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||f,o=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(i))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(Ce.isDate(m))return m.toISOString();if(!l&&Ce.isBlob(m))throw new gt("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(m)||Ce.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,y,b){let v=m;if(m&&!b&&typeof m=="object"){if(Ce.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(Ce.isArray(m)&&i$(m)||(Ce.isFileList(m)||Ce.endsWith(y,"[]"))&&(v=Ce.toArray(m)))return y=h3(y),v.forEach(function(A,k){!(Ce.isUndefined(A)||A===null)&&e.append(s===!0?p3([y],k,o):s===null?y:y+"[]",d(A))}),!1}return b1(m)?!0:(e.append(p3(b,y,o),d(m)),!1)}const u=[],h=Object.assign(o$,{defaultVisitor:f,convertValue:d,isVisitable:b1});function p(m,y){if(!Ce.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(m),Ce.forEach(m,function(v,E){(!(Ce.isUndefined(v)||v===null)&&i.call(e,v,Ce.isString(E)?E.trim():E,y,h))===!0&&p(v,y?y.concat(E):[E])}),u.pop()}}if(!Ce.isObject(t))throw new TypeError("data must be an object");return p(t),e}function m3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function v1(t,e){this._pairs=[],t&&kh(t,this,e)}const g3=v1.prototype;g3.append=function(e,r){this._pairs.push([e,r])},g3.toString=function(e){const r=e?function(n){return e.call(this,n,m3)}:m3;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function s$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function y3(t,e,r){if(!e)return t;const n=r&&r.encode||s$,i=r&&r.serialize;let o;if(i?o=i(e,r):o=Ce.isURLSearchParams(e)?e.toString():new v1(e,r).toString(n),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class b3{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(n){n!==null&&e(n)})}}const v3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a$={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:v1,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},_1=typeof window<"u"&&typeof document<"u",l$=(t=>_1&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),c$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u$=_1&&window.location.href||"http://localhost",Di={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_1,hasStandardBrowserEnv:l$,hasStandardBrowserWebWorkerEnv:c$,origin:u$},Symbol.toStringTag,{value:"Module"})),...a$};function d$(t,e){return kh(t,new Di.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Di.isNode&&Ce.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function f$(t){return Ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h$(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function _3(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=r.length;return s=!s&&Ce.isArray(i)?i.length:s,l?(Ce.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!Ce.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&Ce.isArray(i[s])&&(i[s]=h$(i[s])),!a)}if(Ce.isFormData(t)&&Ce.isFunction(t.entries)){const r={};return Ce.forEachEntry(t,(n,i)=>{e(f$(n),i,r,0)}),r}return null}function p$(t,e,r){if(Ce.isString(t))try{return(e||JSON.parse)(t),Ce.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Nu={transitional:v3,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=Ce.isObject(e);if(o&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return i?JSON.stringify(_3(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return d$(e,this.formSerializer).toString();if((a=Ce.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return kh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),p$(e)):e}],transformResponse:[function(e){const r=this.transitional||Nu.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?gt.from(a,gt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Di.classes.FormData,Blob:Di.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],t=>{Nu.headers[t]={}});const m$=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g$=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&m$[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},w3=Symbol("internals");function Ou(t){return t&&String(t).trim().toLowerCase()}function Ih(t){return t===!1||t==null?t:Ce.isArray(t)?t.map(Ih):String(t)}function y$(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const b$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function w1(t,e,r,n,i){if(Ce.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ce.isString(e)){if(Ce.isString(n))return e.indexOf(n)!==-1;if(Ce.isRegExp(n))return n.test(e)}}function v$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _$(t,e){const r=Ce.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(a,l,d){const f=Ou(l);if(!f)throw new Error("header name must be a non-empty string");const u=Ce.findKey(i,f);(!u||i[u]===void 0||d===!0||d===void 0&&i[u]!==!1)&&(i[u||l]=Ih(a))}const s=(a,l)=>Ce.forEach(a,(d,f)=>o(d,f,l));if(Ce.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(Ce.isString(e)&&(e=e.trim())&&!b$(e))s(g$(e),r);else if(Ce.isHeaders(e))for(const[a,l]of e.entries())o(l,a,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=Ou(e),e){const n=Ce.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return y$(i);if(Ce.isFunction(r))return r.call(this,i,n);if(Ce.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ou(e),e){const n=Ce.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||w1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(s){if(s=Ou(s),s){const a=Ce.findKey(n,s);a&&(!r||w1(n,n[a],a,r))&&(delete n[a],i=!0)}}return Ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||w1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return Ce.forEach(this,(i,o)=>{const s=Ce.findKey(n,o);if(s){r[s]=Ih(i),delete r[o];return}const a=e?v$(o):String(o).trim();a!==o&&delete r[o],r[a]=Ih(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ce.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ce.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[w3]=this[w3]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Ou(s);n[a]||(_$(i,s),n[a]=!0)}return Ce.isArray(e)?e.forEach(o):o(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ce.reduceDescriptors(In.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),Ce.freezeMethods(In);function x1(t,e){const r=this||Nu,n=e||r,i=In.from(n.headers);let o=n.data;return Ce.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function x3(t){return!!(t&&t.__CANCEL__)}function Pl(t,e,r){gt.call(this,t??"canceled",gt.ERR_CANCELED,e,r),this.name="CanceledError"}Ce.inherits(Pl,gt,{__CANCEL__:!0});function T3(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new gt("Request failed with status code "+r.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function w$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function x$(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=n[o];s||(s=d),r[i]=l,n[i]=d;let u=o,h=0;for(;u!==i;)h+=r[u++],u=u%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-s<e)return;const p=f&&d-f;return p?Math.round(h*1e3/p):void 0}}function T$(t,e){let r=0,n=1e3/e,i,o;const s=(d,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),u=f-r;u>=n?s(d,f):(i=d,o||(o=setTimeout(()=>{o=null,s(i)},n-u)))},()=>i&&s(i)]}const Dh=(t,e,r=3)=>{let n=0;const i=x$(50,250);return T$(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-n,d=i(l),f=s<=a;n=s;const u={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&f?(a-s)/d:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},r)},A3=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},C3=t=>(...e)=>Ce.asap(()=>t(...e)),A$=Di.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const a=Ce.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),C$=Di.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];Ce.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Ce.isString(n)&&s.push("path="+n),Ce.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function E$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function S3(t,e){return t&&!S$(e)?E$(t,e):e}const E3=t=>t instanceof In?{...t}:t;function ta(t,e){e=e||{};const r={};function n(d,f,u){return Ce.isPlainObject(d)&&Ce.isPlainObject(f)?Ce.merge.call({caseless:u},d,f):Ce.isPlainObject(f)?Ce.merge({},f):Ce.isArray(f)?f.slice():f}function i(d,f,u){if(Ce.isUndefined(f)){if(!Ce.isUndefined(d))return n(void 0,d,u)}else return n(d,f,u)}function o(d,f){if(!Ce.isUndefined(f))return n(void 0,f)}function s(d,f){if(Ce.isUndefined(f)){if(!Ce.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function a(d,f,u){if(u in e)return n(d,f);if(u in t)return n(void 0,d)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,f)=>i(E3(d),E3(f),!0)};return Ce.forEach(Object.keys(Object.assign({},t,e)),function(f){const u=l[f]||i,h=u(t[f],e[f],f);Ce.isUndefined(h)&&u!==a||(r[f]=h)}),r}const k3=t=>{const e=ta({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=In.from(s),e.url=y3(S3(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ce.isFormData(r)){if(Di.hasStandardBrowserEnv||Di.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[d,...f]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Di.hasStandardBrowserEnv&&(n&&Ce.isFunction(n)&&(n=n(e)),n||n!==!1&&A$(e.url))){const d=i&&o&&C$.read(o);d&&s.set(i,d)}return e},k$=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){const i=k3(t);let o=i.data;const s=In.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=i,f,u,h,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function v(){if(!b)return;const A=In.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};T3(function(O){r(O),y()},function(O){n(O),y()},C),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(n(new gt("Request aborted",gt.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new gt("Network Error",gt.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||v3;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new gt(k,C.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,t,b)),b=null},o===void 0&&s.setContentType(null),"setRequestHeader"in b&&Ce.forEach(s.toJSON(),function(k,C){b.setRequestHeader(C,k)}),Ce.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),d&&([h,m]=Dh(d,!0),b.addEventListener("progress",h)),l&&b.upload&&([u,p]=Dh(l),b.upload.addEventListener("progress",u),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(f=A=>{b&&(n(!A||A.type?new Pl(null,t,b):A),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const E=w$(i.url);if(E&&Di.protocols.indexOf(E)===-1){n(new gt("Unsupported protocol "+E+":",gt.ERR_BAD_REQUEST,t));return}b.send(o||null)})},I$=(t,e)=>{let r=new AbortController,n;const i=function(l){if(!n){n=!0,s();const d=l instanceof Error?l:this.reason;r.abort(d instanceof gt?d:new Pl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{i(new gt(`timeout ${e} of ms exceeded`,gt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},D$=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},M$=async function*(t,e,r){for await(const n of t)yield*D$(ArrayBuffer.isView(n)?n:await r(String(n)),e)},I3=(t,e,r,n,i)=>{const o=M$(t,e,i);let s=0,a,l=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:u}=await o.next();if(f){l(),d.close();return}let h=u.byteLength;if(r){let p=s+=h;r(p)}d.enqueue(new Uint8Array(u))}catch(f){throw l(f),f}},cancel(d){return l(d),o.return()}},{highWaterMark:2})},Mh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",D3=Mh&&typeof ReadableStream=="function",T1=Mh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),M3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},N$=D3&&M3(()=>{let t=!1;const e=new Request(Di.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),N3=64*1024,A1=D3&&M3(()=>Ce.isReadableStream(new Response("").body)),Nh={stream:A1&&(t=>t.body)};Mh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nh[e]&&(Nh[e]=Ce.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new gt(`Response type '${e}' is not supported`,gt.ERR_NOT_SUPPORT,n)})})})(new Response);const O$=async t=>{if(t==null)return 0;if(Ce.isBlob(t))return t.size;if(Ce.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(t)||Ce.isArrayBuffer(t))return t.byteLength;if(Ce.isURLSearchParams(t)&&(t=t+""),Ce.isString(t))return(await T1(t)).byteLength},L$=async(t,e)=>{const r=Ce.toFiniteNumber(t.getContentLength());return r??O$(e)},C1={http:n$,xhr:k$,fetch:Mh&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:d,headers:f,withCredentials:u="same-origin",fetchOptions:h}=k3(t);d=d?(d+"").toLowerCase():"text";let[p,m]=i||o||s?I$([i,o],s):[],y,b;const v=()=>{!y&&setTimeout(()=>{p&&p.unsubscribe()}),y=!0};let E;try{if(l&&N$&&r!=="get"&&r!=="head"&&(E=await L$(f,n))!==0){let T=new Request(e,{method:"POST",body:n,duplex:"half"}),O;if(Ce.isFormData(n)&&(O=T.headers.get("content-type"))&&f.setContentType(O),T.body){const[D,S]=A3(E,Dh(C3(l)));n=I3(T.body,N3,D,S,T1)}}Ce.isString(u)||(u=u?"include":"omit"),b=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:u});let A=await fetch(b);const k=A1&&(d==="stream"||d==="response");if(A1&&(a||k)){const T={};["status","statusText","headers"].forEach(R=>{T[R]=A[R]});const O=Ce.toFiniteNumber(A.headers.get("content-length")),[D,S]=a&&A3(O,Dh(C3(a),!0))||[];A=new Response(I3(A.body,N3,D,()=>{S&&S(),k&&v()},T1),T)}d=d||"text";let C=await Nh[Ce.findKey(Nh,d)||"text"](A,t);return!k&&v(),m&&m(),await new Promise((T,O)=>{T3(T,O,{data:C,headers:In.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:b})})}catch(A){throw v(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,t,b),{cause:A.cause||A}):gt.from(A,A&&A.code,t,b)}})};Ce.forEach(C1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const O3=t=>`- ${t}`,B$=t=>Ce.isFunction(t)||t===null||t===!1,L3={getAdapter:t=>{t=Ce.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!B$(r)&&(n=C1[(s=String(r)).toLowerCase()],n===void 0))throw new gt(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(O3).join(`
`):" "+O3(o[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:C1};function S1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pl(null,t)}function B3(t){return S1(t),t.headers=In.from(t.headers),t.data=x1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),L3.getAdapter(t.adapter||Nu.adapter)(t).then(function(n){return S1(t),n.data=x1.call(t,t.transformResponse,n),n.headers=In.from(n.headers),n},function(n){return x3(n)||(S1(t),n&&n.response&&(n.response.data=x1.call(t,t.transformResponse,n.response),n.response.headers=In.from(n.response.headers))),Promise.reject(n)})}const R3="1.7.4",E1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{E1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const P3={};E1.transitional=function(e,r,n){function i(o,s){return"[Axios v"+R3+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new gt(i(s," has been removed"+(r?" in "+r:"")),gt.ERR_DEPRECATED);return r&&!P3[s]&&(P3[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function R$(t,e,r){if(typeof t!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new gt("option "+o+" must be "+l,gt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gt("Unknown option "+o,gt.ERR_BAD_OPTION)}}const k1={assertOptions:R$,validators:E1},as=k1.validators;let ra=class{constructor(e){this.defaults=e,this.interceptors={request:new b3,response:new b3}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ta(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&k1.assertOptions(n,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),i!=null&&(Ce.isFunction(i)?r.paramsSerializer={serialize:i}:k1.assertOptions(i,{encode:as.function,serialize:as.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&Ce.merge(o.common,o[r.method]);o&&Ce.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=In.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,u=0,h;if(!l){const m=[B3.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,d),h=m.length,f=Promise.resolve(r);u<h;)f=f.then(m[u++],m[u++]);return f}h=a.length;let p=r;for(u=0;u<h;){const m=a[u++],y=a[u++];try{p=m(p)}catch(b){y.call(this,b);break}}try{f=B3.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,h=d.length;u<h;)f=f.then(d[u++],d[u++]);return f}getUri(e){e=ta(this.defaults,e);const r=S3(e.baseURL,e.url);return y3(r,e.params,e.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(e){ra.prototype[e]=function(r,n){return this.request(ta(n||{},{method:e,url:r,data:(n||{}).data}))}}),Ce.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(ta(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ra.prototype[e]=r(),ra.prototype[e+"Form"]=r(!0)});let P$=class M6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Pl(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new M6(function(i){e=i}),cancel:e}}};function F$(t){return function(r){return t.apply(null,r)}}function U$(t){return Ce.isObject(t)&&t.isAxiosError===!0}const I1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(I1).forEach(([t,e])=>{I1[e]=t});function F3(t){const e=new ra(t),r=t3(ra.prototype.request,e);return Ce.extend(r,ra.prototype,e,{allOwnKeys:!0}),Ce.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return F3(ta(t,i))},r}const Kt=F3(Nu);Kt.Axios=ra,Kt.CanceledError=Pl,Kt.CancelToken=P$,Kt.isCancel=x3,Kt.VERSION=R3,Kt.toFormData=kh,Kt.AxiosError=gt,Kt.Cancel=Kt.CanceledError,Kt.all=function(e){return Promise.all(e)},Kt.spread=F$,Kt.isAxiosError=U$,Kt.mergeConfig=ta,Kt.AxiosHeaders=In,Kt.formToJSON=t=>_3(Ce.isHTMLForm(t)?new FormData(t):t),Kt.getAdapter=L3.getAdapter,Kt.HttpStatusCode=I1,Kt.default=Kt;const{Axios:khe,AxiosError:Ihe,CanceledError:Dhe,isCancel:Mhe,CancelToken:Nhe,VERSION:Ohe,all:Lhe,Cancel:Bhe,isAxiosError:Rhe,spread:Phe,toFormData:Fhe,AxiosHeaders:U3,HttpStatusCode:Uhe,formToJSON:jhe,getAdapter:$he,mergeConfig:zhe}=Kt;var j3={},$3={},D1={},Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.createTimeAwareMapObserver=void 0;var j$=function(t){var e=new Map;return{create:function(r,n){var i=setTimeout(function(){n(r)},t);e.set(r,i)},cancel:function(r){if(e.has(r)){var n=e.get(r);e.delete(r),clearTimeout(n)}}}};Lu.createTimeAwareMapObserver=j$,Object.defineProperty(D1,"__esModule",{value:!0});var $$=Lu;function z$(t){var e=new Map,r=(0,$$.createTimeAwareMapObserver)(t.timeToClear);function n(d){var f=e.get(d);return f||null}function i(d){return e.delete(d),r.cancel(d),!0}function o(){return e.size}function s(d){return e.has(d)}function a(){return Array.from(e.keys())}function l(d,f){return e.set(d,f),r.create(d,i),!0}return{keys:a,size:o,has:s,get:n,set:l,remove:i}}D1.default=z$;var M1={},Oh={};Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.LRULinkedList=void 0;var z3=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),V$=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,o=new z3(e,r);return o.next=i,o.prev=null,i.prev=o,this.HEAD=o,this.positions.set(e,o),this.size++,o}else{var s=new z3(e,r);return this.HEAD=s,this.TAIL||(this.TAIL=s),this.positions.set(e,s),this.size++,s}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Oh.LRULinkedList=V$,Object.defineProperty(M1,"__esModule",{value:!0});var H$=Oh;function q$(t){var e=new H$.LRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,get:r,set:a,remove:n,has:i}}M1.default=q$;var N1={},Lh={};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.MRULinkedList=void 0;var Bh=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),W$=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.mruSize}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.moveToTail=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToTail(r.id,r.data);return n}return null},t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.HEAD){var i=this.HEAD,o=new Bh(e,r);return o.next=i,o.prev=null,i.prev=o,this.HEAD=o,this.positions.set(e,o),this.size++,o}else{var s=new Bh(e,r);return this.HEAD=s,this.TAIL||(this.TAIL=s),this.positions.set(e,s),this.size++,s}},t.prototype.addNodeToTail=function(e,r){if(this.positions.has(e)){var n=this.moveToTail(this.positions.get(e));return this.positions.get(e).data=r,n}if(this.TAIL){var i=this.TAIL,o=new Bh(e,r);return o.prev=i,o.next=null,i.next=o,this.TAIL=o,this.positions.set(e,o),this.size++,o}else{var s=new Bh(e,r);return this.TAIL=s,this.HEAD||(this.HEAD=s),this.positions.set(e,s),this.size++,s}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToTail(r);return n?n.data:null}return null},t}();Lh.MRULinkedList=W$,Object.defineProperty(N1,"__esModule",{value:!0});var G$=Lh;function Q$(t){var e=new G$.MRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,has:i,get:r,set:a,remove:n}}N1.default=Q$;var O1={},Rh={};Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.TLRULinkedList=void 0;var Y$=Lu,V3=function(){function t(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return t}(),K$=function(){function t(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize,this.timer=(0,Y$.createTimeAwareMapObserver)(e.timeToClear)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),t.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var n=this.addNodeToHead(r.id,r.data);return n}return null},t.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var n=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,n}var i=this.remove.bind(this);if(this.timer.create(e,i),this.HEAD){var o=this.HEAD,s=new V3(e,r);return s.next=o,s.prev=null,o.prev=s,this.HEAD=s,this.positions.set(e,s),this.size++,s}else{var a=new V3(e,r);return this.HEAD=a,this.TAIL||(this.TAIL=a),this.positions.set(e,a),this.size++,a}},t.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var n=r.prev,i=r.next;return n&&i?(n.next=i,i.prev=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):n&&!i?(n.next=null,this.TAIL=n,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&i?(i.prev=null,this.HEAD=i,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!n&&!i?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.timer.cancel(e),this.size--,r):null},t.prototype.keys=function(){return Array.from(this.positions.keys())},t.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,n=1;n<=e;n++)this.positions.delete(r.id),this.timer.cancel(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},t.prototype.has=function(e){return!!this.positions.has(e)},t.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},t.prototype.get=function(e){var r=this.positions.get(e);if(r){var n=this.moveToHead(r);return n?n.data:null}return null},t}();Rh.TLRULinkedList=K$,Object.defineProperty(O1,"__esModule",{value:!0});var X$=Rh;function Z$(t){var e=new X$.TLRULinkedList(t);function r(l){var d=e.get(l);return d||null}function n(l){return e.remove(l),!0}function i(l){return e.has(l)}function o(){return e.size}function s(){return e.keys()}function a(l,d){return e.addNodeToHead(l,d),!0}return{keys:s,size:o,get:r,set:a,remove:n,has:i}}O1.default=Z$,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0;var e=D1,r=M1,n=N1,i=O1;t.defaultConfig={strategy:"lru",policy:"lru",timeToClear:72e5,lruSize:500,mruSize:500};function o(s){var a={};typeof s=="object"&&(a=s);var l=Object.assign({},t.defaultConfig,a);switch(l.policy){case"timeout":return(0,e.default)(l);case"lru":return(0,r.default)(l);case"mru":return(0,n.default)(l);case"tlru":return(0,i.default)(l);default:throw new Error(l.policy+" is not a supported policy.")}}t.default=o}($3),Object.defineProperty(j3,"__esModule",{value:!0});var J$=$3,H3=j3.default=J$.default;class q3{constructor(e=null){Fe(this,"head");Fe(this,"tail");Fe(this,"main");Fe(this,"length");this.head=e,this.tail=e,this.main=e,this.length=e?1:0}numberOfMessages(){let e=0,r=this.head;for(;r;)e+=r.length,r=r.next;return e}concate(e){var r;(r=this.main)==null||r.concate(e)}unshift(e){var r;(r=this.main)==null||r.unshift(e)}insert(e){if(this.length===0){this.head=this.tail=this.main=e,this.length=1;return}if(e.length===0)return;let r=this.tail;for(;r&&r.head.createdAt>e.head.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,e.next&&(e.next.prev=e),r.next=e,e.prev=r):(e.next=this.head,e.next&&(e.next.prev=e),this.head=e),this.main=e,this.length++}merge(){if(this.length<=1)return;let e=this.tail;for(;e;){if(e.prev&&e.canCombine(e.prev)){e.combine(e.prev),e.prev===this.main&&(this.main=e),e.prev=e.prev.prev,e.prev?e.prev.next=e:this.head=e,this.length--;break}e=e.prev}e&&this.merge()}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}var oi=(t=>(t.RoomName="roomName",t.RoomMember="roomMember",t.RoomPrefTags="roomPrefTags",t.RoomPrefFolder="roomPrefFolder",t.RoomTags="roomTags",t))(oi||{});const W3={count:0,config:{},uid:"",axios:Kt,isRequesting:{},socket:Iu({autoConnect:!1}),imageCache:H3(),translationCache:H3(),users:{},rooms:{},sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,uploadProgresses:{},downloadProgresses:{},linkPreviews:{},actionMenuRoomId:"",folders:{},sortedFolderIds:[],roomIdsInFolders:{},selectedRoomIdsForCreateFolder:{},selectedFolderId:"",searchKeyword:"",searchType:oi.RoomName,searchRooms:{},roomTag:"",deliveringMessages:new Map,processingMessages:new Map,selectedRoomId:"",messageMultiList:new q3,numberOfTotalMessages:-1,replyId:"",navigationTargetId:"",isRoomInfoVisible:!1,isTyping:{},isSearchInRoomMode:!1,messageSearchKeyword:""};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},ez=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],a=t[r++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Q3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=o>>2,u=(o&3)<<4|a>>4;let h=(a&15)<<2|d>>6,p=d&63;l||(p=64,s||(h=64)),n.push(r[f],r[u],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ez(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const u=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||u==null)throw new tz;const h=o<<2|a>>4;if(n.push(h),d!==64){const p=a<<4&240|d>>2;if(n.push(p),u!==64){const m=d<<6&192|u;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rz=function(t){const e=G3(t);return Q3.encodeByteArray(e,!0)},Y3=function(t){return rz(t).replace(/\./g,"")},nz=function(t){try{return Q3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=()=>iz().__FIREBASE_DEFAULTS__,sz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},az=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nz(t[1]);return e&&JSON.parse(e)},lz=()=>{try{return oz()||sz()||az()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K3=()=>{var t;return(t=lz())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function X3(){try{return typeof indexedDB=="object"}catch{return!1}}function Z3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}function uz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="FirebaseError";class Fl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=dz,Object.setPrototypeOf(this,Fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ph.prototype.create)}}class Ph{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?fz(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fl(i,a,n)}}function fz(t,e){return t.replace(hz,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const hz=/\{\$([^}]+)}/g;function L1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(J3(o)&&J3(s)){if(!L1(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function J3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new cz;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gz(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mz(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mz(t){return t===na?void 0:t}function gz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new pz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const bz={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},vz=Xt.INFO,_z={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},wz=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_z[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xz{constructor(e){this.name=e,this._logLevel=vz,this._logHandler=wz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const Tz=(t,e)=>e.some(r=>t instanceof r);let tS,rS;function Az(){return tS||(tS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cz(){return rS||(rS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,B1=new WeakMap,iS=new WeakMap,R1=new WeakMap,P1=new WeakMap;function Sz(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(No(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&nS.set(r,t)}).catch(()=>{}),P1.set(e,t),e}function Ez(t){if(B1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});B1.set(t,e)}let F1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return B1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return No(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kz(t){F1=t(F1)}function Iz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(U1(this),e,...r);return iS.set(n,e.sort?e.sort():[e]),No(n)}:Cz().includes(t)?function(...e){return t.apply(U1(this),e),No(nS.get(this))}:function(...e){return No(t.apply(U1(this),e))}}function Dz(t){return typeof t=="function"?Iz(t):(t instanceof IDBTransaction&&Ez(t),Tz(t,Az())?new Proxy(t,F1):t)}function No(t){if(t instanceof IDBRequest)return Sz(t);if(R1.has(t))return R1.get(t);const e=Dz(t);return e!==t&&(R1.set(t,e),P1.set(e,t)),e}const U1=t=>P1.get(t);function Fh(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=No(s);return n&&s.addEventListener("upgradeneeded",l=>{n(No(s.result),l.oldVersion,l.newVersion,No(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function j1(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),No(r).then(()=>{})}const Mz=["get","getKey","getAll","getAllKeys","count"],Nz=["put","add","delete","clear"],$1=new Map;function oS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($1.get(e))return $1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Nz.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Mz.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return $1.set(e,o),o}kz(t=>({...t,get:(e,r,n)=>oS(e,r)||t.get(e,r,n),has:(e,r)=>!!oS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Lz(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Lz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z1="@firebase/app",sS="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new xz("@firebase/app"),Bz="@firebase/app-compat",Rz="@firebase/analytics-compat",Pz="@firebase/analytics",Fz="@firebase/app-check-compat",Uz="@firebase/app-check",jz="@firebase/auth",$z="@firebase/auth-compat",zz="@firebase/database",Vz="@firebase/database-compat",Hz="@firebase/functions",qz="@firebase/functions-compat",Wz="@firebase/installations",Gz="@firebase/installations-compat",Qz="@firebase/messaging",Yz="@firebase/messaging-compat",Kz="@firebase/performance",Xz="@firebase/performance-compat",Zz="@firebase/remote-config",Jz="@firebase/remote-config-compat",eV="@firebase/storage",tV="@firebase/storage-compat",rV="@firebase/firestore",nV="@firebase/vertexai-preview",iV="@firebase/firestore-compat",oV="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="[DEFAULT]",sV={[z1]:"fire-core",[Bz]:"fire-core-compat",[Pz]:"fire-analytics",[Rz]:"fire-analytics-compat",[Uz]:"fire-app-check",[Fz]:"fire-app-check-compat",[jz]:"fire-auth",[$z]:"fire-auth-compat",[zz]:"fire-rtdb",[Vz]:"fire-rtdb-compat",[Hz]:"fire-fn",[qz]:"fire-fn-compat",[Wz]:"fire-iid",[Gz]:"fire-iid-compat",[Qz]:"fire-fcm",[Yz]:"fire-fcm-compat",[Kz]:"fire-perf",[Xz]:"fire-perf-compat",[Zz]:"fire-rc",[Jz]:"fire-rc-compat",[eV]:"fire-gcs",[tV]:"fire-gcs-compat",[rV]:"fire-fst",[iV]:"fire-fst-compat",[nV]:"fire-vertex","fire-js":"fire-js",[oV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,aV=new Map,H1=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(r){Oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ia(t){const e=t.name;if(H1.has(e))return Oo.debug(`There were multiple attempts to register component ${e}.`),!1;H1.set(e,t);for(const r of Uh.values())aS(r,t);for(const r of aV.values())aS(r,t);return!0}function q1(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ph("app","Firebase",lV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}function lS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:V1,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(r||(r=K3()),!r)throw cs.create("no-options");const o=Uh.get(i);if(o){if(L1(r,o.options)&&L1(n,o.config))return o;throw cs.create("duplicate-app",{appName:i})}const s=new yz(i);for(const l of H1.values())s.addComponent(l);const a=new cV(r,n,s);return Uh.set(i,a),a}function uV(t=V1){const e=Uh.get(t);if(!e&&t===V1&&K3())return lS();if(!e)throw cs.create("no-app",{appName:t});return e}function us(t,e,r){var n;let i=(n=sV[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oo.warn(a.join(" "));return}ia(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="firebase-heartbeat-database",fV=1,Bu="firebase-heartbeat-store";let W1=null;function cS(){return W1||(W1=Fh(dV,fV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(r){console.warn(r)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),W1}async function hV(t){try{const r=(await cS()).transaction(Bu),n=await r.objectStore(Bu).get(dS(t));return await r.done,n}catch(e){if(e instanceof Fl)Oo.warn(e.message);else{const r=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oo.warn(r.message)}}}async function uS(t,e){try{const n=(await cS()).transaction(Bu,"readwrite");await n.objectStore(Bu).put(e,dS(t)),await n.done}catch(r){if(r instanceof Fl)Oo.warn(r.message);else{const n=cs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Oo.warn(n.message)}}}function dS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1024,mV=30*24*60*60*1e3;class gV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bV(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fS();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=mV}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Oo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fS(),{heartbeatsToSend:n,unsentEntries:i}=yV(this._heartbeatsCache.heartbeats),o=Y3(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return Oo.warn(r),""}}}function fS(){return new Date().toISOString().substring(0,10)}function yV(t,e=pV){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hS(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),hS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class bV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X3()?Z3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return uS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return uS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hS(t){return Y3(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){ia(new ls("platform-logger",e=>new Oz(e),"PRIVATE")),ia(new ls("heartbeat",e=>new gV(e),"PRIVATE")),us(z1,sS,t),us(z1,sS,"esm2017"),us("fire-js","")}vV("");const pS="@firebase/installations",G1="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=1e4,gS=`w:${G1}`,yS="FIS_v2",_V="https://firebaseinstallations.googleapis.com/v1",wV=60*60*1e3,xV="installations",TV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new Ph(xV,TV,AV);function bS(t){return t instanceof Fl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS({projectId:t}){return`${_V}/projects/${t}/installations`}function _S(t){return{token:t.token,requestStatus:2,expiresIn:SV(t.expiresIn),creationTime:Date.now()}}async function wS(t,e){const n=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function xS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CV(t,{refreshToken:e}){const r=xS(t);return r.append("Authorization",EV(e)),r}async function TS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SV(t){return Number(t.replace("s","000"))}function EV(t){return`${yS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=vS(t),i=xS(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={fid:r,authVersion:yS,appId:t.appId,sdkVersion:gS},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await TS(()=>fetch(n,a));if(l.ok){const d=await l.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:_S(d.authToken)}}else throw await wS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=/^[cdef][\w-]{21}$/,Q1="";function MV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=NV(t);return DV.test(r)?r:Q1}catch{return Q1}}function NV(t){return IV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;function SS(t,e){const r=jh(t);ES(r,e),OV(r,e)}function ES(t,e){const r=CS.get(t);if(r)for(const n of r)n(e)}function OV(t,e){const r=LV();r&&r.postMessage({key:t,fid:e}),BV()}let sa=null;function LV(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=t=>{ES(t.data.key,t.data.fid)}),sa}function BV(){CS.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="firebase-installations-database",PV=1,aa="firebase-installations-store";let Y1=null;function K1(){return Y1||(Y1=Fh(RV,PV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),Y1}async function $h(t,e){const r=jh(t),i=(await K1()).transaction(aa,"readwrite"),o=i.objectStore(aa),s=await o.get(r);return await o.put(e,r),await i.done,(!s||s.fid!==e.fid)&&SS(t,e.fid),e}async function kS(t){const e=jh(t),n=(await K1()).transaction(aa,"readwrite");await n.objectStore(aa).delete(e),await n.done}async function zh(t,e){const r=jh(t),i=(await K1()).transaction(aa,"readwrite"),o=i.objectStore(aa),s=await o.get(r),a=e(s);return a===void 0?await o.delete(r):await o.put(a,r),await i.done,a&&(!s||s.fid!==a.fid)&&SS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(t){let e;const r=await zh(t.appConfig,n=>{const i=FV(n),o=UV(t,i);return e=o.registrationPromise,o.installationEntry});return r.fid===Q1?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function FV(t){const e=t||{fid:MV(),registrationStatus:0};return DS(e)}function UV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=jV(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$V(t)}:{installationEntry:e}}async function jV(t,e){try{const r=await kV(t,e);return $h(t.appConfig,r)}catch(r){throw bS(r)&&r.customData.serverCode===409?await kS(t.appConfig):await $h(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function $V(t){let e=await IS(t.appConfig);for(;e.registrationStatus===1;)await AS(100),e=await IS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await X1(t);return n||r}return e}function IS(t){return zh(t,e=>{if(!e)throw oa.create("installation-not-found");return DS(e)})}function DS(t){return zV(t)?{fid:t.fid,registrationStatus:0}:t}function zV(t){return t.registrationStatus===1&&t.registrationTime+mS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV({appConfig:t,heartbeatServiceProvider:e},r){const n=HV(t,r),i=CV(t,r),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={installation:{sdkVersion:gS,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await TS(()=>fetch(n,a));if(l.ok){const d=await l.json();return _S(d)}else throw await wS("Generate Auth Token",l)}function HV(t,{fid:e}){return`${vS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t,e=!1){let r;const n=await zh(t.appConfig,o=>{if(!NS(o))throw oa.create("not-registered");const s=o.authToken;if(!e&&GV(s))return o;if(s.requestStatus===1)return r=qV(t,e),o;{if(!navigator.onLine)throw oa.create("app-offline");const a=YV(o);return r=WV(t,a),a}});return r?await r:n.authToken}async function qV(t,e){let r=await MS(t.appConfig);for(;r.authToken.requestStatus===1;)await AS(100),r=await MS(t.appConfig);const n=r.authToken;return n.requestStatus===0?Z1(t,e):n}function MS(t){return zh(t,e=>{if(!NS(e))throw oa.create("not-registered");const r=e.authToken;return KV(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WV(t,e){try{const r=await VV(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await $h(t.appConfig,n),r}catch(r){if(bS(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await kS(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $h(t.appConfig,n)}throw r}}function NS(t){return t!==void 0&&t.registrationStatus===2}function GV(t){return t.requestStatus===2&&!QV(t)}function QV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wV}function YV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function KV(t){return t.requestStatus===1&&t.requestTime+mS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t){const e=t,{installationEntry:r,registrationPromise:n}=await X1(e);return n?n.catch(console.error):Z1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e=!1){const r=t;return await JV(r),(await Z1(r,e)).token}async function JV(t){const{registrationPromise:e}=await X1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){if(!t||!t.options)throw J1("App Configuration");if(!t.name)throw J1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw J1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function J1(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="installations",tH="installations-internal",rH=t=>{const e=t.getProvider("app").getImmediate(),r=eH(e),n=q1(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},nH=t=>{const e=t.getProvider("app").getImmediate(),r=q1(e,OS).getImmediate();return{getId:()=>XV(r),getToken:i=>ZV(r,i)}};function iH(){ia(new ls(OS,rH,"PUBLIC")),ia(new ls(tH,nH,"PRIVATE"))}iH(),us(pS,G1),us(pS,G1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="/firebase-messaging-sw.js",sH="/firebase-cloud-messaging-push-scope",LS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aH="https://fcmregistrations.googleapis.com/v1",BS="google.c.a.c_id",lH="google.c.a.c_l",cH="google.c.a.ts",uH="google.c.a.e";var RS;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(RS||(RS={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ru;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ru||(Ru={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dH(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="fcm_token_details_db",fH=5,PS="fcm_token_object_Store";async function hH(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(ey))return null;let e=null;return(await Fh(ey,fH,{upgrade:async(n,i,o,s)=>{var a;if(i<2||!n.objectStoreNames.contains(PS))return;const l=s.objectStore(PS),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(i===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(a=f.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Lo(f.vapidKey)}}}else if(i===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Lo(f.auth),p256dh:Lo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Lo(f.vapidKey)}}}else if(i===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Lo(f.auth),p256dh:Lo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Lo(f.vapidKey)}}}}}})).close(),await j1(ey),await j1("fcm_vapid_details_db"),await j1("undefined"),pH(e)?e:null}function pH(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH="firebase-messaging-database",gH=1,Pu="firebase-messaging-store";let ty=null;function FS(){return ty||(ty=Fh(mH,gH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pu)}}})),ty}async function yH(t){const e=US(t),n=await(await FS()).transaction(Pu).objectStore(Pu).get(e);if(n)return n;{const i=await hH(t.appConfig.senderId);if(i)return await ry(t,i),i}}async function ry(t,e){const r=US(t),i=(await FS()).transaction(Pu,"readwrite");return await i.objectStore(Pu).put(e,r),await i.done,e}function US({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},dn=new Ph("messaging","Messaging",bH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vH(t,e){const r=await iy(t),n=jS(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(ny(t.appConfig),i)).json()}catch(s){throw dn.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw dn.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw dn.create("token-subscribe-no-token");return o.token}async function _H(t,e){const r=await iy(t),n=jS(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(`${ny(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw dn.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw dn.create("token-update-failed",{errorInfo:s})}if(!o.token)throw dn.create("token-update-no-token");return o.token}async function wH(t,e){const n={method:"DELETE",headers:await iy(t)};try{const o=await(await fetch(`${ny(t.appConfig)}/${e}`,n)).json();if(o.error){const s=o.error.message;throw dn.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw dn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function ny({projectId:t}){return`${aH}/projects/${t}/registrations`}async function iy({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function jS({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==LS&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=7*24*60*60*1e3;async function TH(t){const e=await CH(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Lo(e.getKey("auth")),p256dh:Lo(e.getKey("p256dh"))},n=await yH(t.firebaseDependencies);if(n){if(SH(n.subscriptionOptions,r))return Date.now()>=n.createTime+xH?AH(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await wH(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return $S(t.firebaseDependencies,r)}else return $S(t.firebaseDependencies,r)}async function AH(t,e){try{const r=await _H(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await ry(t.firebaseDependencies,n),r}catch(r){throw r}}async function $S(t,e){const n={token:await vH(t,e),createTime:Date.now(),subscriptionOptions:e};return await ry(t,n),n.token}async function CH(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dH(e)})}function SH(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return r&&n&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return EH(e,t),kH(e,t),IH(e,t),e}function EH(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function kH(t,e){e.data&&(t.data=e.data)}function IH(t,e){var r,n,i,o,s;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){return typeof t=="object"&&!!t&&BS in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */VS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),VS("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function VS(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){if(!t||!t.options)throw oy("App Configuration Object");if(!t.name)throw oy("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw oy(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function oy(t){return dn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=MH(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(t){try{t.swRegistration=await navigator.serviceWorker.register(oH,{scope:sH}),t.swRegistration.update().catch(()=>{})}catch(e){throw dn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LH(t,e){if(!e&&!t.swRegistration&&await OH(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BH(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=LS)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e){if(!navigator)throw dn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw dn.create("permission-blocked");return await BH(t,e==null?void 0:e.vapidKey),await LH(t,e==null?void 0:e.serviceWorkerRegistration),TH(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e,r){const n=PH(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[BS],message_name:r[lH],message_time:r[cH],message_device_time:Math.floor(Date.now()/1e3)})}function PH(t){switch(t){case Ru.NOTIFICATION_CLICKED:return"notification_open";case Ru.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Ru.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(zS(r)):t.onMessageHandler.next(zS(r)));const n=r.data;DH(n)&&n[uH]==="1"&&await RH(t,r.messageType,n)}const qS="@firebase/messaging",WS="0.12.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=t=>{const e=new NH(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>FH(e,r)),e},jH=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>HS(e,n)}};function $H(){ia(new ls("messaging",UH,"PUBLIC")),ia(new ls("messaging-internal",jH,"PRIVATE")),us(qS,WS),us(qS,WS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(){try{await Z3()}catch{return!1}return typeof window<"u"&&X3()&&uz()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t=uV()){return zH().then(e=>{if(!e)throw dn.create("unsupported-browser")},e=>{throw dn.create("indexed-db-unsupported")}),q1(eS(t),"messaging").getImmediate()}async function HH(t,e){return t=eS(t),HS(t,e)}$H();var oo=(t=>(t.FetchRooms="/rooms",t.Search="/search",t.Subscribe="/me/subscribe",t.Unsubscribe="/me/unsubscribe",t))(oo||{});class Ul{constructor(e,r,n){Fe(this,"id");Fe(this,"name");Fe(this,"roomIds");this.id=e,this.name=r,this.roomIds=n}get payload(){return{children:this.roomIds.map(e=>({id:e,type:"room"}))}}}var ze=(t=>(t.increment="increment",t.fetchRooms="fetchRooms",t.fetchRoom="fetchRoom",t.loadMessages="loadMessages",t.updateLastRead="updateLastRead",t.handleMessageFromSocket="handleMessageFromSocket",t.handleRoomFromSocket="handleRoomFromSocket",t.handleLastReadFromSocket="handleLastReadFromSocket",t.sendMessage="sendMessage",t.recallMessage="recallMessage",t.uploadMedia="uploadMedia",t.fetchLinkPreview="fetchLinkPreview",t.handleLinkPreviews="handleLinkPreviews",t.fetchVideoBlob="fetchVideoBlob",t.navigateToMessage="navigateToMessage",t.uploadImage="uploadImage",t.updateRoomPrefs="updateRoomPrefs",t.fetchPrefs="fetchPrefs",t.updatePref="updatePref",t.deletePref="deletePref",t.updateFolder="updateFolder",t.removeFolder="removeFolder",t.handlePrefChangeFromSocket="handlePrefChangeFromSocket",t.handlePrefDeleteFromSocket="handlePrefDeleteFromSocket",t.aggregateRoomsAndFolders="aggregateRoomsAndFolders",t.removeMembers="removeMembers",t.handleTypingFromSocket="handleTypingFromSocket",t.insertUnreadMessage="insertUnreadMessage",t.translate="translate",t.searchRooms="searchRooms",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.removeRoomFromFolder="removeRoomFromFolder",t.addRoomToFolder="addRoomToFolder",t.fetchRoomsInFolders="fetchRoomsInFolders",t.batchSendMessage="batchSendMessage",t.toggleNotification="toggleNotification",t.removeRoom="removeRoom",t.translateMessage="translateMessage",t.quickReply="quickReply",t))(ze||{}),je=(t=>(t.increment="increment",t.setState="setState",t.updateField="updateField",t.deleteField="deleteField",t.updateRoom="updateRoom",t.updateLastRead="updateLastRead",t.pushMessage="pushMessage",t.replaceMessage="replaceMessage",t.clearChatRoom="clearChatRoom",t.deleteRoom="deleteRoom",t.setMap="setMap",t.deleteMap="deleteMap",t.insertMessageLinkedList="insertMessageLinkedList",t.concateMessageLinkedList="concateMessageLinkedList",t.unshiftMessageLinkedList="unshiftMessageLinkedList",t))(je||{});class qH{constructor(e){Fe(this,"head");Fe(this,"tail");Fe(this,"length");Fe(this,"map");Fe(this,"messageGroups");Fe(this,"firstMessageOfDate");Fe(this,"prev",null);Fe(this,"next",null);this.head=null,this.tail=null,this.length=0,this.map=new Map,this.messageGroups=new Map,this.firstMessageOfDate=new Map;const r=n=>{const i=nr.fromRaw(n);return i?[i].concat(r(n.reply)):[]};for(const n of e.reverse()){const i=nr.fromRaw(n);i&&this.append(i);for(const o of r(n.reply))this.map.set(o.id,o)}}append(e){if(!this.contains(e.id)){if(this.tail){let r=this.tail;for(;r&&r.createdAt>e.createdAt;)r=r.prev;r?(r===this.tail&&(this.tail=e),e.next=r.next,r.next=e,e.prev=r):(e.next=this.head,this.head=e),e.next&&(e.next.prev=e)}else this.head=this.tail=e;this.map.set(e.id,e),this.length++,this.insertMessageToGroup(e)}}insertMessageToGroup(e){if(e.isSystem)return;if(this.messageGroups.has(e.groupId)){const n=this.messageGroups.get(e.groupId);if(n){let i=!1;for(let o=n.length-1;o>=0;o--)if(n[o].createdAt<e.createdAt){o==n.length-1?n.push(e):n.splice(o+1,0,e),i=!0;break}i||n.unshift(e)}}else this.messageGroups.set(e.groupId,[e]);const r=this.firstMessageOfDate.get(e.dateId);(!r||r.createdAt>e.createdAt)&&this.firstMessageOfDate.set(e.dateId,e)}remove(e){var i,o;const r=this.finds(e);if(!r)return;r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev,this.map.delete(e),this.length--;const n=this.messageGroups.get(r.groupId);if(n){const s=n.indexOf(r);s>=0&&(n.splice(s,1),n.length===0&&this.messageGroups.delete(r.groupId))}((i=this.firstMessageOfDate.get(r.dateId))==null?void 0:i.id)===r.id&&(r.dateId===((o=r.next)==null?void 0:o.dateId)?this.firstMessageOfDate.set(r.dateId,r.next):this.firstMessageOfDate.delete(r.dateId))}replace(e,r){var i;const n=this.finds(e);if(n){n.prev?n.prev.next=r:this.head=r,n.next?n.next.prev=r:this.tail=r,r.prev=n.prev,r.next=n.next,this.map.delete(e),this.map.set(r.id,r);const o=this.messageGroups.get(n.groupId);if(o){const s=o.indexOf(n);s>=0&&(r.isSystem?o.splice(s,1):o[s]=r)}((i=this.firstMessageOfDate.get(n.dateId))==null?void 0:i.id)===n.id&&this.firstMessageOfDate.set(n.dateId,r)}}concate(e){if(e.length!==0){this.tail?(this.tail.next=e.head,e.head&&(e.head.prev=this.tail),this.tail=e.tail):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const o of n)this.insertMessageToGroup(o)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}unshift(e){if(e.length!==0){this.head?(this.head.prev=e.tail,e.tail&&(e.tail.next=this.head),this.head=e.head):(this.head=e.head,this.tail=e.tail);for(const[r,n]of e.map)this.map.set(r,n);this.length+=e.length;for(const[r,n]of e.messageGroups)if(this.messageGroups.has(r)){if(this.messageGroups.get(r))for(const o of n)this.insertMessageToGroup(o)}else this.messageGroups.set(r,n);for(const[r,n]of e.firstMessageOfDate){const i=this.firstMessageOfDate.get(r);i!==void 0?i.createdAt>n.createdAt&&this.firstMessageOfDate.set(r,n):this.firstMessageOfDate.set(r,n)}}}resetHead(e){if(this.head&&this.head.id===e)return;const r=this.finds(e);if(r){this.head=r,r.prev=null;let n=0,i=r;for(;i;)n++,i=i.next;this.length=n}}resetTail(e){if(this.tail&&this.tail.id===e)return;const r=this.finds(e);if(r){this.tail=r,r.next=null;let n=0,i=r;for(;i;)n++,i=i.prev;this.length=n}}canCombine(e){var r,n;return e.length===0||!e.head||!e.tail?!1:this.contains(e.tail.id)||this.contains(e.head.id)||e.contains(((r=this.head)==null?void 0:r.id)??"")&&e.contains(((n=this.tail)==null?void 0:n.id)??"")}combine(e){var i,o,s,a;if(e.length===0||!e.head||!e.tail)return;const r=this.contains(e.head.id),n=this.contains(e.tail.id);if(!(r&&n)){if(!r&&!n)e.contains(((i=this.head)==null?void 0:i.id)??"")&&e.contains(((o=this.tail)==null?void 0:o.id)??"")&&(this.head=e.head,this.tail=e.tail,this.length=e.length,this.map=e.map);else if(n){const l=(s=this.finds(e.tail.id))==null?void 0:s.next;l?this.resetHead(l.id):(this.head=null,this.tail=null,this.length=0),this.unshift(e)}else if(r){const l=(a=this.finds(e.head.id))==null?void 0:a.prev;l?this.resetTail(l.id):(this.head=null,this.tail=null,this.length=0),this.concate(e)}}}array(){const e=[];let r=this.head;for(;r;)e.push(r),r=r.next;return e}finds(e){const r=this.map.get(e);if(r)return r.next||r.prev||this.head===r&&this.tail===r?r:void 0}contains(e){return this.finds(e)!==void 0}isValid(){if(this.head&&this.head.prev||this.tail&&this.tail.next)return!1;let e=0,r=this.head;for(;r;){if(r.prev&&r.prev.next!==r||r.next&&r.next.prev!==r)return!1;e++,r=r.next}return e===this.length}}var Vh=(t=>(t.Direct="direct",t.Group="group",t))(Vh||{});class Fu{constructor(e,r){Fe(this,"id");Fe(this,"name");Fe(this,"type");Fe(this,"createdAt");Fe(this,"updatedAt");Fe(this,"memberIds");Fe(this,"isOutgoingGroupSender");Fe(this,"coverUrl");Fe(this,"lastMessage");Fe(this,"numberOfUnread");Fe(this,"lastReadMessageId");Fe(this,"pref");Fe(this,"roomTags");Fe(this,"extra");Fe(this,"muted",!1);Fe(this,"description");var v;const{_id:n,name:i,roomType:o,createdTimeMS:s,lastMessage:a,members:l,cover:d,unread:f,memberProperties:u,extParams:h,pref:p,roomTags:m,muted:y,description:b}=e;if(this.id=n,this.name=i,this.type=o||"direct",this.createdAt=s,this.lastMessage=nr.fromRaw(a),this.updatedAt=((v=this.lastMessage)==null?void 0:v.createdAt)??s,this.memberIds=[],this.isOutgoingGroupSender={},l.forEach(E=>{this.memberIds.push(E._id),E.clientType==="group"&&E.members.some(A=>A._id===r)&&E.members.forEach(A=>{this.isOutgoingGroupSender[A._id]=!0})}),this.coverUrl=d??"",this.numberOfUnread=f??0,this.lastReadMessageId={},this.pref=p,this.roomTags=m??[],this.muted=y,this.description=b??"",u)for(const{client:E,lastRead:A}of u)this.lastReadMessageId[E]=A;try{this.extra=JSON.parse(h)}catch{this.extra={}}o==="custom"&&(this.type=this.extra.roomType)}get memberIdsWithoutMeAndMyGroup(){const{state:{imkit:{uid:e,users:r}}}=Bt();return this.memberIds.filter(n=>n!==e&&!r[n].memberIds[e])}_displayName(e,r){if(this.type=="group")return`${this.name} (${this.memberIds.length})`;if(this.type=="direct")if(this.extra.guestId){const n=this.extra.guestId;return r[n].nickname??""}else return this.memberIds.filter(n=>n!==e).map(n=>r[n].nickname).join(", ");return""}get displayName(){var n;const{state:{imkit:{uid:e,users:r}}}=Bt();if(this.memberIdsWithoutMeAndMyGroup.length===0){const{t:i}=Ai();return i("emptyChat")}else{if(this.type=="direct")return(n=this.memberIdsWithoutMeAndMyGroup.map(i=>r[i])[0])==null?void 0:n.nickname;if(this.type=="group")return this.name?this.name:this.memberIds.filter(i=>i!==e).map(i=>r[i].nickname).join(", ")}return""}get avatars(){const{state:{imkit:{uid:e,users:r}}}=Bt();return this.memberIdsWithoutMeAndMyGroup.length===0?[{url:r[e].avatarUrl??"",name:r[e].nickname??""}]:this.type=="direct"?this.memberIdsWithoutMeAndMyGroup.map(n=>({url:r[n].avatarUrl??"",name:r[n].nickname??""})):this.type=="group"?this.coverUrl&&this.coverUrl.length>0?[{url:this.coverUrl,name:this.displayName??""}]:this.memberIds.map(n=>r[n]).sort((n,i)=>n.id===e?1:i.id===e?-1:(i.avatarUrl??"").length-(n.avatarUrl??"").length).map(n=>({url:n.avatarUrl??"",name:n.nickname??""})):[{url:"",name:this.displayName??""}]}}function WH(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function GS(t,e){return new Promise(function(r,n){let i;return GH(t).then(function(o){try{return i=o,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return n(s)}},n)})}const GH=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return r("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const d=s+10;let f;switch(o.getUint16(d)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(d+2,f)!==42)return r("TIFF header contains invalid version");const u=o.getUint32(d+4,f),h=d+u+2+12*o.getUint16(d+u,f);for(let p=d+u+2;p<h;p+=12)if(o.getUint16(p,f)==274){if(o.getUint16(p+2,f)!==3)return r("Orientation data type is invalid");if(o.getUint32(p+4,f)!==1)return r("Orientation data count is invalid");o.setUint16(p+8,1,f);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var Hh={},QH={get exports(){return Hh},set exports(t){Hh=t}};(function(t){var e,r,n={};QH.exports=n,n.parse=function(i,o){for(var s=n.bin.readUshort,a=n.bin.readUint,l=0,d={},f=new Uint8Array(i),u=f.length-4;a(f,u)!=101010256;)u--;l=u,l+=4;var h=s(f,l+=4);s(f,l+=2);var p=a(f,l+=2),m=a(f,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(f,l),l+=4,l+=4,l+=4,a(f,l+=4),p=a(f,l+=4);var b=a(f,l+=4),v=s(f,l+=4),E=s(f,l+2),A=s(f,l+4);l+=6;var k=a(f,l+=8);l+=4,l+=v+E+A,n._readLocal(f,k,d,p,b,o)}return d},n._readLocal=function(i,o,s,a,l,d){var f=n.bin.readUshort,u=n.bin.readUint;u(i,o),f(i,o+=4),f(i,o+=2);var h=f(i,o+=2);u(i,o+=2),u(i,o+=4),o+=4;var p=f(i,o+=8),m=f(i,o+=2);o+=2;var y=n.bin.readUTF8(i,o,p);if(o+=p,o+=m,d)s[y]={size:l,csize:a};else{var b=new Uint8Array(i.buffer,o);if(h==0)s[y]=new Uint8Array(b.buffer.slice(o,o+a));else{if(h!=8)throw"unknown compression method: "+h;var v=new Uint8Array(l);n.inflateRaw(b,v),s[y]=v}}},n.inflateRaw=function(i,o){return n.F.inflate(i,o)},n.inflate=function(i,o){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},n.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=n.F.deflateRaw(i,a,s,o.level);var l=n.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},n.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=n.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},n.encode=function(i,o){o==null&&(o=!1);var s=0,a=n.bin.writeUint,l=n.bin.writeUshort,d={};for(var f in i){var u=!n._noNeed(f)&&!o,h=i[f],p=n.crc.crc(h,0,h.length);d[f]={cpr:u,usize:h.length,crc:p,file:u?n.deflateRaw(h):h}}for(var f in d)s+=d[f].file.length+30+46+2*n.bin.sizeUTF8(f);s+=22;var m=new Uint8Array(s),y=0,b=[];for(var f in d){var v=d[f];b.push(y),y=n._writeHeader(m,y,f,v,0)}var E=0,A=y;for(var f in d)v=d[f],b.push(y),y=n._writeHeader(m,y,f,v,1,b[E++]);var k=y-A;return a(m,y,101010256),y+=4,l(m,y+=4,E),l(m,y+=2,E),a(m,y+=2,k),a(m,y+=4,A),y+=4,y+=2,m.buffer},n._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(i,o,s,a,l,d){var f=n.bin.writeUint,u=n.bin.writeUshort,h=a.file;return f(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),u(i,o,20),u(i,o+=2,0),u(i,o+=2,a.cpr?8:0),f(i,o+=2,0),f(i,o+=4,a.crc),f(i,o+=4,h.length),f(i,o+=4,a.usize),u(i,o+=4,n.bin.sizeUTF8(s)),u(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,f(i,o+=6,d),o+=4),o+=n.bin.writeUTF8(i,o,s),l==0&&(i.set(h,o),o+=h.length),o},n.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=n.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^n.crc.update(4294967295,i,o,s)}},n.adler=function(i,o,s){for(var a=1,l=0,d=o,f=o+s;d<f;){for(var u=Math.min(d+5552,f);d<u;)l+=a+=i[d++];a%=65521,l%=65521}return l<<16|a},n.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",d=0;d<s;d++)l+="%"+n.bin.pad(i[o+d].toString(16));try{a=decodeURIComponent(l)}catch{return n.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,d=0;d<a;d++){var f=s.charCodeAt(d);if(!(4294967168&f))i[o+l]=f,l++;else if(!(4294965248&f))i[o+l]=192|f>>6,i[o+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))i[o+l]=224|f>>12,i[o+l+1]=128|f>>6&63,i[o+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";i[o+l]=240|f>>18,i[o+l+1]=128|f>>12&63,i[o+l+2]=128|f>>6&63,i[o+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],d=n.F.U,f=n.F._goodIndex;n.F._hash;var u=n.F._putsE,h=0,p=s<<3,m=0,y=i.length;if(a==0){for(;h<y;)u(o,p,h+(z=Math.min(65535,y-h))==y?1:0),p=n.F._copyExact(i,h,z,o,p+8),h+=z;return p>>>3}var b=d.lits,v=d.strt,E=d.prev,A=0,k=0,C=0,T=0,O=0,D=0;for(y>2&&(v[D=n.F._hash(i,0)]=0),h=0;h<y;h++){if(O=D,h+1<y-2){D=n.F._hash(i,h+1);var S=h+1&32767;E[S]=v[D],v[D]=S}if(m<=h){(A>14e3||k>26697)&&y-h>100&&(m<h&&(b[A]=h-m,A+=2,m=h),p=n.F._writeBlock(h==y-1||m==y?1:0,b,A,T,i,C,h-C,o,p),A=k=T=0,C=h);var R=0;h<y-2&&(R=n.F._bestMatch(i,h,E,O,Math.min(l[2],y-h),l[3]));var z=R>>>16,F=65535&R;if(R!=0){F=65535&R;var P=f(z=R>>>16,d.of0);d.lhst[257+P]++;var $=f(F,d.df0);d.dhst[$]++,T+=d.exb[P]+d.dxb[$],b[A]=z<<23|h-m,b[A+1]=F<<16|P<<8|$,A+=2,m=h+z}else d.lhst[i[h]]++;k++}}for(C==h&&i.length!=0||(m<h&&(b[A]=h-m,A+=2,m=h),p=n.F._writeBlock(1,b,A,T,i,C,h-C,o,p),A=0,k=0,A=k=T=0,C=h);7&p;)p++;return p>>>3},n.F._bestMatch=function(i,o,s,a,l,d){var f=32767&o,u=s[f],h=f-u+32768&32767;if(u==f||a!=n.F._hash(i,o-h))return 0;for(var p=0,m=0,y=Math.min(32767,o);h<=y&&--d!=0&&u!=f;){if(p==0||i[o+p]==i[o+p-h]){var b=n.F._howLong(i,o,h);if(b>p){if(m=h,(p=b)>=l)break;h+2<b&&(b=h+2);for(var v=0,E=0;E<b-2;E++){var A=o-h+E+32768&32767,k=A-s[A]+32768&32767;k>v&&(v=k,u=A)}}}h+=(f=u)-(u=s[f])+32768&32767}return p<<16|m},n.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},n.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,o,s,a,l,d,f,u,h){var p,m,y,b,v,E,A,k,C,T=n.F.U,O=n.F._putsF,D=n.F._putsE;T.lhst[256]++,m=(p=n.F.getTrees())[0],y=p[1],b=p[2],v=p[3],E=p[4],A=p[5],k=p[6],C=p[7];var S=32+(h+3&7?8-(h+3&7):0)+(f<<3),R=a+n.F.contSize(T.fltree,T.lhst)+n.F.contSize(T.fdtree,T.dhst),z=a+n.F.contSize(T.ltree,T.lhst)+n.F.contSize(T.dtree,T.dhst);z+=14+3*A+n.F.contSize(T.itree,T.ihst)+(2*T.ihst[16]+3*T.ihst[17]+7*T.ihst[18]);for(var F=0;F<286;F++)T.lhst[F]=0;for(F=0;F<30;F++)T.dhst[F]=0;for(F=0;F<19;F++)T.ihst[F]=0;var P=S<R&&S<z?0:R<z?1:2;if(O(u,h,i),O(u,h+1,P),h+=3,P==0){for(;7&h;)h++;h=n.F._copyExact(l,d,f,u,h)}else{var $,W;if(P==1&&($=T.fltree,W=T.fdtree),P==2){n.F.makeCodes(T.ltree,m),n.F.revCodes(T.ltree,m),n.F.makeCodes(T.dtree,y),n.F.revCodes(T.dtree,y),n.F.makeCodes(T.itree,b),n.F.revCodes(T.itree,b),$=T.ltree,W=T.dtree,D(u,h,v-257),D(u,h+=5,E-1),D(u,h+=5,A-4),h+=4;for(var B=0;B<A;B++)D(u,h+3*B,T.itree[1+(T.ordr[B]<<1)]);h+=3*A,h=n.F._codeTiny(k,T.itree,u,h),h=n.F._codeTiny(C,T.itree,u,h)}for(var j=d,re=0;re<s;re+=2){for(var H=o[re],L=H>>>23,I=j+(8388607&H);j<I;)h=n.F._writeLit(l[j++],$,u,h);if(L!=0){var V=o[re+1],K=V>>16,Y=V>>8&255,Q=255&V;D(u,h=n.F._writeLit(257+Y,$,u,h),L-T.of0[Y]),h+=T.exb[Y],O(u,h=n.F._writeLit(Q,W,u,h),K-T.df0[Q]),h+=T.dxb[Q],j+=L}}h=n.F._writeLit(256,$,u,h)}return h},n.F._copyExact=function(i,o,s,a,l){var d=l>>>3;return a[d]=s,a[d+1]=s>>>8,a[d+2]=255-a[d],a[d+3]=255-a[d+1],d+=4,a.set(new Uint8Array(i.buffer,o,s),d),l+(s+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,o=n.F._hufTree(i.lhst,i.ltree,15),s=n.F._hufTree(i.dhst,i.dtree,15),a=[],l=n.F._lenCodes(i.ltree,a),d=[],f=n.F._lenCodes(i.dtree,d),u=0;u<a.length;u+=2)i.ihst[a[u]]++;for(u=0;u<d.length;u+=2)i.ihst[d[u]]++;for(var h=n.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[o,s,h,l,f,p,a,d]},n.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},n.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},n.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},n.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var d=i[l],f=i[l+1];a=n.F._writeLit(d,o,s,a);var u=d==16?2:d==17?3:7;d>15&&(n.F._putsE(s,a,f,u),a+=u)}return a},n.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],d=a+3<s?i[a+3]:-1,f=a+5<s?i[a+5]:-1,u=a==0?-1:i[a-1];if(l==0&&d==l&&f==l){for(var h=a+5;h+2<s&&i[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?o.push(17,p-3):o.push(18,p-11),a+=2*p-2}else if(l==u&&d==l&&f==l){for(h=a+5;h+2<s&&i[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);o.push(16,p-3),a+=2*p-2}else o.push(l,0)}return s>>>1},n.F._hufTree=function(i,o,s){var a=[],l=i.length,d=o.length,f=0;for(f=0;f<d;f+=2)o[f]=0,o[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&a.push({lit:f,f:i[f]});var u=a.length,h=a.slice(0);if(u==0)return 0;if(u==1){var p=a[0].lit;return h=p==0?1:0,o[1+(p<<1)]=1,o[1+(h<<1)]=1,1}a.sort(function(k,C){return k.f-C.f});var m=a[0],y=a[1],b=0,v=1,E=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};v!=u-1;)m=b!=v&&(E==u||a[b].f<a[E].f)?a[b++]:a[E++],y=b!=v&&(E==u||a[b].f<a[E].f)?a[b++]:a[E++],a[v++]={lit:-1,f:m.f+y.f,l:m,r:y};var A=n.F.setDepth(a[v-1],0);for(A>s&&(n.F.restrictDepth(h,s,A),A=s),f=0;f<u;f++)o[1+(h[f].lit<<1)]=h[f].d;return A},n.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(n.F.setDepth(i.l,o+1),n.F.setDepth(i.r,o+1))},n.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,d=0;for(i.sort(function(u,h){return h.d==u.d?u.f-h.f:h.d-u.d}),a=0;a<i.length&&i[a].d>o;a++){var f=i[a].d;i[a].d=o,d+=l-(1<<s-f)}for(d>>>=s-o;d>0;)(f=i[a].d)<o?(i[a].d++,d-=1<<o-f-1):a++;for(;a>=0;a--)i[a].d==o&&d<0&&(i[a].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},n.F._writeLit=function(i,o,s,a){return n.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},n.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=n.F,l=a._bitsF,d=a._bitsE,f=a._decodeTiny,u=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=o==null;y&&(o=new s(i.length>>>2<<3));for(var b,v,E=0,A=0,k=0,C=0,T=0,O=0,D=0,S=0,R=0;E==0;)if(E=l(i,R,1),A=l(i,R+1,2),R+=3,A!=0){if(y&&(o=n.F._check(o,S+(1<<17))),A==1&&(b=m.flmap,v=m.fdmap,O=511,D=31),A==2){k=d(i,R,5)+257,C=d(i,R+5,5)+1,T=d(i,R+10,4)+4,R+=14;for(var z=0;z<38;z+=2)m.itree[z]=0,m.itree[z+1]=0;var F=1;for(z=0;z<T;z++){var P=d(i,R+3*z,3);m.itree[1+(m.ordr[z]<<1)]=P,P>F&&(F=P)}R+=3*T,u(m.itree,F),h(m.itree,F,m.imap),b=m.lmap,v=m.dmap,R=f(m.imap,(1<<F)-1,k+C,i,R,m.ttree);var $=a._copyOut(m.ttree,0,k,m.ltree);O=(1<<$)-1;var W=a._copyOut(m.ttree,k,C,m.dtree);D=(1<<W)-1,u(m.ltree,$),h(m.ltree,$,b),u(m.dtree,W),h(m.dtree,W,v)}for(;;){var B=b[p(i,R)&O];R+=15&B;var j=B>>>4;if(!(j>>>8))o[S++]=j;else{if(j==256)break;var re=S+j-254;if(j>264){var H=m.ldef[j-257];re=S+(H>>>3)+d(i,R,7&H),R+=7&H}var L=v[p(i,R)&D];R+=15&L;var I=L>>>4,V=m.ddef[I],K=(V>>>4)+l(i,R,15&V);for(R+=15&V,y&&(o=n.F._check(o,S+(1<<17)));S<re;)o[S]=o[S++-K],o[S]=o[S++-K],o[S]=o[S++-K],o[S]=o[S++-K];S=re}}}else{7&R&&(R+=8-(7&R));var Y=4+(R>>>3),Q=i[Y-4]|i[Y-3]<<8;y&&(o=n.F._check(o,S+Q)),o.set(new s(i.buffer,i.byteOffset+Y,Q),S),R=Y+Q<<3,S+=Q}return o.length==S?o:o.slice(0,S)},n.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},n.F._decodeTiny=function(i,o,s,a,l,d){for(var f=n.F._bitsE,u=n.F._get17,h=0;h<s;){var p=i[u(a,l)&o];l+=15&p;var m=p>>>4;if(m<=15)d[h]=m,h++;else{var y=0,b=0;m==16?(b=3+f(a,l,2),l+=2,y=d[h-1]):m==17?(b=3+f(a,l,3),l+=3):m==18&&(b=11+f(a,l,7),l+=7);for(var v=h+b;h<v;)d[h]=y,h++}}return l},n.F._copyOut=function(i,o,s,a){for(var l=0,d=0,f=a.length>>>1;d<s;){var u=i[d+o];a[d<<1]=0,a[1+(d<<1)]=u,u>l&&(l=u),d++}for(;d<f;)a[d<<1]=0,a[1+(d<<1)]=0,d++;return l},n.F.makeCodes=function(i,o){for(var s,a,l,d,f=n.F.U,u=i.length,h=f.bl_count,p=0;p<=o;p++)h[p]=0;for(p=1;p<u;p+=2)h[i[p]]++;var m=f.next_code;for(s=0,h[0]=0,a=1;a<=o;a++)s=s+h[a-1]<<1,m[a]=s;for(l=0;l<u;l+=2)(d=i[l+1])!=0&&(i[l]=m[d],m[d]++)},n.F.codes2map=function(i,o,s){for(var a=i.length,l=n.F.U.rev15,d=0;d<a;d+=2)if(i[d+1]!=0)for(var f=d>>1,u=i[d+1],h=f<<4|u,p=o-u,m=i[d]<<p,y=m+(1<<p);m!=y;)s[l[m]>>>15-o]=h,m++},n.F.revCodes=function(i,o){for(var s=n.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var d=i[l]<<o-i[l+1];i[l]=s[d]>>>a}},n.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},n.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},n.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},n.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},n.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,d,f){for(;d--!=0;)l.push(0,f)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),a(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var YH=WH({__proto__:null,default:Hh},[Hh]);const Mi=function(){var t={nextZero(f,u){for(;f[u]!=0;)u++;return u},readUshort:(f,u)=>f[u]<<8|f[u+1],writeUshort(f,u,h){f[u]=h>>8&255,f[u+1]=255&h},readUint:(f,u)=>16777216*f[u]+(f[u+1]<<16|f[u+2]<<8|f[u+3]),writeUint(f,u,h){f[u]=h>>24&255,f[u+1]=h>>16&255,f[u+2]=h>>8&255,f[u+3]=255&h},readASCII(f,u,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(f[u+m]);return p},writeASCII(f,u,h){for(let p=0;p<h.length;p++)f[u+p]=h.charCodeAt(p)},readBytes(f,u,h){const p=[];for(let m=0;m<h;m++)p.push(f[u+m]);return p},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,u,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(f[u+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(f,u,h)}return p}};function e(f,u,h,p){const m=u*h,y=o(p),b=Math.ceil(u*y/8),v=new Uint8Array(4*m),E=new Uint32Array(v.buffer),{ctype:A}=p,{depth:k}=p,C=t.readUshort;if(A==6){const H=m<<2;if(k==8)for(var T=0;T<H;T+=4)v[T]=f[T],v[T+1]=f[T+1],v[T+2]=f[T+2],v[T+3]=f[T+3];if(k==16)for(T=0;T<H;T++)v[T]=f[T<<1]}else if(A==2){const H=p.tabs.tRNS;if(H==null){if(k==8)for(T=0;T<m;T++){var O=3*T;E[T]=255<<24|f[O+2]<<16|f[O+1]<<8|f[O]}if(k==16)for(T=0;T<m;T++)O=6*T,E[T]=255<<24|f[O+4]<<16|f[O+2]<<8|f[O]}else{var D=H[0];const L=H[1],I=H[2];if(k==8)for(T=0;T<m;T++){var S=T<<2;O=3*T,E[T]=255<<24|f[O+2]<<16|f[O+1]<<8|f[O],f[O]==D&&f[O+1]==L&&f[O+2]==I&&(v[S+3]=0)}if(k==16)for(T=0;T<m;T++)S=T<<2,O=6*T,E[T]=255<<24|f[O+4]<<16|f[O+2]<<8|f[O],C(f,O)==D&&C(f,O+2)==L&&C(f,O+4)==I&&(v[S+3]=0)}}else if(A==3){const H=p.tabs.PLTE,L=p.tabs.tRNS,I=L?L.length:0;if(k==1)for(var R=0;R<h;R++){var z=R*b,F=R*u;for(T=0;T<u;T++){S=F+T<<2;var P=3*($=f[z+(T>>3)]>>7-((7&T)<<0)&1);v[S]=H[P],v[S+1]=H[P+1],v[S+2]=H[P+2],v[S+3]=$<I?L[$]:255}}if(k==2)for(R=0;R<h;R++)for(z=R*b,F=R*u,T=0;T<u;T++)S=F+T<<2,P=3*($=f[z+(T>>2)]>>6-((3&T)<<1)&3),v[S]=H[P],v[S+1]=H[P+1],v[S+2]=H[P+2],v[S+3]=$<I?L[$]:255;if(k==4)for(R=0;R<h;R++)for(z=R*b,F=R*u,T=0;T<u;T++)S=F+T<<2,P=3*($=f[z+(T>>1)]>>4-((1&T)<<2)&15),v[S]=H[P],v[S+1]=H[P+1],v[S+2]=H[P+2],v[S+3]=$<I?L[$]:255;if(k==8)for(T=0;T<m;T++){var $;S=T<<2,P=3*($=f[T]),v[S]=H[P],v[S+1]=H[P+1],v[S+2]=H[P+2],v[S+3]=$<I?L[$]:255}}else if(A==4){if(k==8)for(T=0;T<m;T++){S=T<<2;var W=f[B=T<<1];v[S]=W,v[S+1]=W,v[S+2]=W,v[S+3]=f[B+1]}if(k==16)for(T=0;T<m;T++){var B;S=T<<2,W=f[B=T<<2],v[S]=W,v[S+1]=W,v[S+2]=W,v[S+3]=f[B+2]}}else if(A==0)for(D=p.tabs.tRNS?p.tabs.tRNS:-1,R=0;R<h;R++){const H=R*b,L=R*u;if(k==1)for(var j=0;j<u;j++){var re=(W=255*(f[H+(j>>>3)]>>>7-(7&j)&1))==255*D?0:255;E[L+j]=re<<24|W<<16|W<<8|W}else if(k==2)for(j=0;j<u;j++)re=(W=85*(f[H+(j>>>2)]>>>6-((3&j)<<1)&3))==85*D?0:255,E[L+j]=re<<24|W<<16|W<<8|W;else if(k==4)for(j=0;j<u;j++)re=(W=17*(f[H+(j>>>1)]>>>4-((1&j)<<2)&15))==17*D?0:255,E[L+j]=re<<24|W<<16|W<<8|W;else if(k==8)for(j=0;j<u;j++)re=(W=f[H+j])==D?0:255,E[L+j]=re<<24|W<<16|W<<8|W;else if(k==16)for(j=0;j<u;j++)W=f[H+(j<<1)],re=C(f,H+(j<<1))==D?0:255,E[L+j]=re<<24|W<<16|W<<8|W}return v}function r(f,u,h,p){const m=o(f),y=Math.ceil(h*m/8),b=new Uint8Array((y+1+f.interlace)*p);return u=f.tabs.CgBI?i(u,b):n(u,b),f.interlace==0?u=s(u,f,0,h,p):f.interlace==1&&(u=function(E,A){const k=A.width,C=A.height,T=o(A),O=T>>3,D=Math.ceil(k*T/8),S=new Uint8Array(C*D);let R=0;const z=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],P=[8,8,8,4,4,2,2],$=[8,8,4,4,2,2,1];let W=0;for(;W<7;){const j=P[W],re=$[W];let H=0,L=0,I=z[W];for(;I<C;)I+=j,L++;let V=F[W];for(;V<k;)V+=re,H++;const K=Math.ceil(H*T/8);s(E,A,R,H,L);let Y=0,Q=z[W];for(;Q<C;){let le=F[W],ie=R+Y*K<<3;for(;le<k;){var B;if(T==1&&(B=(B=E[ie>>3])>>7-(7&ie)&1,S[Q*D+(le>>3)]|=B<<7-((7&le)<<0)),T==2&&(B=(B=E[ie>>3])>>6-(7&ie)&3,S[Q*D+(le>>2)]|=B<<6-((3&le)<<1)),T==4&&(B=(B=E[ie>>3])>>4-(7&ie)&15,S[Q*D+(le>>1)]|=B<<4-((1&le)<<2)),T>=8){const me=Q*D+le*O;for(let he=0;he<O;he++)S[me+he]=E[(ie>>3)+he]}ie+=T,le+=re}Y++,Q+=j}H*L!=0&&(R+=L*(1+K)),W+=1}return S}(u,f)),u}function n(f,u){return i(new Uint8Array(f.buffer,2,f.length-6),u)}var i=function(){const f={H:{}};return f.H.N=function(u,h){const p=Uint8Array;let m,y,b=0,v=0,E=0,A=0,k=0,C=0,T=0,O=0,D=0;if(u[0]==3&&u[1]==0)return h||new p(0);const S=f.H,R=S.b,z=S.e,F=S.R,P=S.n,$=S.A,W=S.Z,B=S.m,j=h==null;for(j&&(h=new p(u.length>>>2<<5));b==0;)if(b=R(u,D,1),v=R(u,D+1,2),D+=3,v!=0){if(j&&(h=f.H.W(h,O+(1<<17))),v==1&&(m=B.J,y=B.h,C=511,T=31),v==2){E=z(u,D,5)+257,A=z(u,D+5,5)+1,k=z(u,D+10,4)+4,D+=14;let H=1;for(var re=0;re<38;re+=2)B.Q[re]=0,B.Q[re+1]=0;for(re=0;re<k;re++){const V=z(u,D+3*re,3);B.Q[1+(B.X[re]<<1)]=V,V>H&&(H=V)}D+=3*k,P(B.Q,H),$(B.Q,H,B.u),m=B.w,y=B.d,D=F(B.u,(1<<H)-1,E+A,u,D,B.v);const L=S.V(B.v,0,E,B.C);C=(1<<L)-1;const I=S.V(B.v,E,A,B.D);T=(1<<I)-1,P(B.C,L),$(B.C,L,m),P(B.D,I),$(B.D,I,y)}for(;;){const H=m[W(u,D)&C];D+=15&H;const L=H>>>4;if(!(L>>>8))h[O++]=L;else{if(L==256)break;{let I=O+L-254;if(L>264){const le=B.q[L-257];I=O+(le>>>3)+z(u,D,7&le),D+=7&le}const V=y[W(u,D)&T];D+=15&V;const K=V>>>4,Y=B.c[K],Q=(Y>>>4)+R(u,D,15&Y);for(D+=15&Y;O<I;)h[O]=h[O++-Q],h[O]=h[O++-Q],h[O]=h[O++-Q],h[O]=h[O++-Q];O=I}}}}else{7&D&&(D+=8-(7&D));const H=4+(D>>>3),L=u[H-4]|u[H-3]<<8;j&&(h=f.H.W(h,O+L)),h.set(new p(u.buffer,u.byteOffset+H,L),O),D=H+L<<3,O+=L}return h.length==O?h:h.slice(0,O)},f.H.W=function(u,h){const p=u.length;if(h<=p)return u;const m=new Uint8Array(p<<1);return m.set(u,0),m},f.H.R=function(u,h,p,m,y,b){const v=f.H.e,E=f.H.Z;let A=0;for(;A<p;){const k=u[E(m,y)&h];y+=15&k;const C=k>>>4;if(C<=15)b[A]=C,A++;else{let T=0,O=0;C==16?(O=3+v(m,y,2),y+=2,T=b[A-1]):C==17?(O=3+v(m,y,3),y+=3):C==18&&(O=11+v(m,y,7),y+=7);const D=A+O;for(;A<D;)b[A]=T,A++}}return y},f.H.V=function(u,h,p,m){let y=0,b=0;const v=m.length>>>1;for(;b<p;){const E=u[b+h];m[b<<1]=0,m[1+(b<<1)]=E,E>y&&(y=E),b++}for(;b<v;)m[b<<1]=0,m[1+(b<<1)]=0,b++;return y},f.H.n=function(u,h){const p=f.H.m,m=u.length;let y,b,v,E;const A=p.j;for(var k=0;k<=h;k++)A[k]=0;for(k=1;k<m;k+=2)A[u[k]]++;const C=p.K;for(y=0,A[0]=0,b=1;b<=h;b++)y=y+A[b-1]<<1,C[b]=y;for(v=0;v<m;v+=2)E=u[v+1],E!=0&&(u[v]=C[E],C[E]++)},f.H.A=function(u,h,p){const m=u.length,y=f.H.m.r;for(let b=0;b<m;b+=2)if(u[b+1]!=0){const v=b>>1,E=u[b+1],A=v<<4|E,k=h-E;let C=u[b]<<k;const T=C+(1<<k);for(;C!=T;)p[y[C]>>>15-h]=A,C++}},f.H.l=function(u,h){const p=f.H.m.r,m=15-h;for(let y=0;y<u.length;y+=2){const b=u[y]<<h-u[y+1];u[y]=p[b]>>>m}},f.H.M=function(u,h,p){p<<=7&h;const m=h>>>3;u[m]|=p,u[m+1]|=p>>>8},f.H.I=function(u,h,p){p<<=7&h;const m=h>>>3;u[m]|=p,u[m+1]|=p>>>8,u[m+2]|=p>>>16},f.H.e=function(u,h,p){return(u[h>>>3]|u[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},f.H.b=function(u,h,p){return(u[h>>>3]|u[1+(h>>>3)]<<8|u[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},f.H.Z=function(u,h){return(u[h>>>3]|u[1+(h>>>3)]<<8|u[2+(h>>>3)]<<16)>>>(7&h)},f.H.i=function(u,h){return(u[h>>>3]|u[1+(h>>>3)]<<8|u[2+(h>>>3)]<<16|u[3+(h>>>3)]<<24)>>>(7&h)},f.H.m=function(){const u=Uint16Array,h=Uint32Array;return{K:new u(16),j:new u(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new u(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new u(512),_:[],h:new u(32),$:[],w:new u(32768),C:[],v:[],d:new u(32768),D:[],u:new u(512),Q:[],r:new u(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new u(65536),g:new u(32768)}}(),function(){const u=f.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,u.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,b){for(;y--!=0;)m.push(0,b)}for(h=0;h<32;h++)u.q[h]=u.S[h]<<3|u.T[h],u.c[h]=u.p[h]<<4|u.z[h];p(u._,144,8),p(u._,112,9),p(u._,24,7),p(u._,8,8),f.H.n(u._,9),f.H.A(u._,9,u.J),f.H.l(u._,9),p(u.$,32,5),f.H.n(u.$,5),f.H.A(u.$,5,u.h),f.H.l(u.$,5),p(u.Q,19,0),p(u.C,286,0),p(u.D,30,0),p(u.v,320,0)}(),f.H.N}();function o(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function s(f,u,h,p,m){let y=o(u);const b=Math.ceil(p*y/8);let v,E;y=Math.ceil(y/8);let A=f[h],k=0;if(A>1&&(f[h]=[0,0,1][A-2]),A==3)for(k=y;k<b;k++)f[k+1]=f[k+1]+(f[k+1-y]>>>1)&255;for(let C=0;C<m;C++)if(v=h+C*b,E=v+C+1,A=f[E-1],k=0,A==0)for(;k<b;k++)f[v+k]=f[E+k];else if(A==1){for(;k<y;k++)f[v+k]=f[E+k];for(;k<b;k++)f[v+k]=f[E+k]+f[v+k-y]}else if(A==2)for(;k<b;k++)f[v+k]=f[E+k]+f[v+k-b];else if(A==3){for(;k<y;k++)f[v+k]=f[E+k]+(f[v+k-b]>>>1);for(;k<b;k++)f[v+k]=f[E+k]+(f[v+k-b]+f[v+k-y]>>>1)}else{for(;k<y;k++)f[v+k]=f[E+k]+a(0,f[v+k-b],0);for(;k<b;k++)f[v+k]=f[E+k]+a(f[v+k-y],f[v+k-b],f[v+k-y-b])}return f}function a(f,u,h){const p=f+u-h,m=p-f,y=p-u,b=p-h;return m*m<=y*y&&m*m<=b*b?f:y*y<=b*b?u:h}function l(f,u,h){h.width=t.readUint(f,u),u+=4,h.height=t.readUint(f,u),u+=4,h.depth=f[u],u++,h.ctype=f[u],u++,h.compress=f[u],u++,h.filter=f[u],u++,h.interlace=f[u],u++}function d(f,u,h,p,m,y,b,v,E){const A=Math.min(u,m),k=Math.min(h,y);let C=0,T=0;for(let W=0;W<k;W++)for(let B=0;B<A;B++)if(b>=0&&v>=0?(C=W*u+B<<2,T=(v+W)*m+b+B<<2):(C=(-v+W)*u-b+B<<2,T=W*m+B<<2),E==0)p[T]=f[C],p[T+1]=f[C+1],p[T+2]=f[C+2],p[T+3]=f[C+3];else if(E==1){var O=f[C+3]*.00392156862745098,D=f[C]*O,S=f[C+1]*O,R=f[C+2]*O,z=p[T+3]*(1/255),F=p[T]*z,P=p[T+1]*z,$=p[T+2]*z;const j=1-O,re=O+z*j,H=re==0?0:1/re;p[T+3]=255*re,p[T+0]=(D+F*j)*H,p[T+1]=(S+P*j)*H,p[T+2]=(R+$*j)*H}else if(E==2)O=f[C+3],D=f[C],S=f[C+1],R=f[C+2],z=p[T+3],F=p[T],P=p[T+1],$=p[T+2],O==z&&D==F&&S==P&&R==$?(p[T]=0,p[T+1]=0,p[T+2]=0,p[T+3]=0):(p[T]=D,p[T+1]=S,p[T+2]=R,p[T+3]=O);else if(E==3){if(O=f[C+3],D=f[C],S=f[C+1],R=f[C+2],z=p[T+3],F=p[T],P=p[T+1],$=p[T+2],O==z&&D==F&&S==P&&R==$)continue;if(O<220&&z>20)return!1}return!0}return{decode:function(u){const h=new Uint8Array(u);let p=8;const m=t,y=m.readUshort,b=m.readUint,v={tabs:{},frames:[]},E=new Uint8Array(h.length);let A,k=0,C=0;const T=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(h[O]!=T[O])throw"The input is not a PNG file!";for(;p<h.length;){const W=m.readUint(h,p);p+=4;const B=m.readASCII(h,p,4);if(p+=4,B=="IHDR")l(h,p,v);else if(B=="iCCP"){for(var D=p;h[D]!=0;)D++;m.readASCII(h,p,D-p),h[D+1];const j=h.slice(D+2,p+W);let re=null;try{re=n(j)}catch{re=i(j)}v.tabs[B]=re}else if(B=="CgBI")v.tabs[B]=h.slice(p,p+4);else if(B=="IDAT"){for(O=0;O<W;O++)E[k+O]=h[p+O];k+=W}else if(B=="acTL")v.tabs[B]={num_frames:b(h,p),num_plays:b(h,p+4)},A=new Uint8Array(h.length);else if(B=="fcTL"){C!=0&&(($=v.frames[v.frames.length-1]).data=r(v,A.slice(0,C),$.rect.width,$.rect.height),C=0);const j={x:b(h,p+12),y:b(h,p+16),width:b(h,p+4),height:b(h,p+8)};let re=y(h,p+22);re=y(h,p+20)/(re==0?100:re);const H={rect:j,delay:Math.round(1e3*re),dispose:h[p+24],blend:h[p+25]};v.frames.push(H)}else if(B=="fdAT"){for(O=0;O<W-4;O++)A[C+O]=h[p+O+4];C+=W-4}else if(B=="pHYs")v.tabs[B]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(B=="cHRM")for(v.tabs[B]=[],O=0;O<8;O++)v.tabs[B].push(m.readUint(h,p+4*O));else if(B=="tEXt"||B=="zTXt"){v.tabs[B]==null&&(v.tabs[B]={});var S=m.nextZero(h,p),R=m.readASCII(h,p,S-p),z=p+W-S-1;if(B=="tEXt")P=m.readASCII(h,S+1,z);else{var F=n(h.slice(S+2,S+2+z));P=m.readUTF8(F,0,F.length)}v.tabs[B][R]=P}else if(B=="iTXt"){v.tabs[B]==null&&(v.tabs[B]={}),S=0,D=p,S=m.nextZero(h,D),R=m.readASCII(h,D,S-D);const j=h[D=S+1];var P;h[D+1],D+=2,S=m.nextZero(h,D),m.readASCII(h,D,S-D),D=S+1,S=m.nextZero(h,D),m.readUTF8(h,D,S-D),z=W-((D=S+1)-p),j==0?P=m.readUTF8(h,D,z):(F=n(h.slice(D,D+z)),P=m.readUTF8(F,0,F.length)),v.tabs[B][R]=P}else if(B=="PLTE")v.tabs[B]=m.readBytes(h,p,W);else if(B=="hIST"){const j=v.tabs.PLTE.length/3;for(v.tabs[B]=[],O=0;O<j;O++)v.tabs[B].push(y(h,p+2*O))}else if(B=="tRNS")v.ctype==3?v.tabs[B]=m.readBytes(h,p,W):v.ctype==0?v.tabs[B]=y(h,p):v.ctype==2&&(v.tabs[B]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(B=="gAMA")v.tabs[B]=m.readUint(h,p)/1e5;else if(B=="sRGB")v.tabs[B]=h[p];else if(B=="bKGD")v.ctype==0||v.ctype==4?v.tabs[B]=[y(h,p)]:v.ctype==2||v.ctype==6?v.tabs[B]=[y(h,p),y(h,p+2),y(h,p+4)]:v.ctype==3&&(v.tabs[B]=h[p]);else if(B=="IEND")break;p+=W,m.readUint(h,p),p+=4}var $;return C!=0&&(($=v.frames[v.frames.length-1]).data=r(v,A.slice(0,C),$.rect.width,$.rect.height)),v.data=r(v,E,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(u){const h=u.width,p=u.height;if(u.tabs.acTL==null)return[e(u.data,h,p,u).buffer];const m=[];u.frames[0].data==null&&(u.frames[0].data=u.data);const y=h*p*4,b=new Uint8Array(y),v=new Uint8Array(y),E=new Uint8Array(y);for(let k=0;k<u.frames.length;k++){const C=u.frames[k],T=C.rect.x,O=C.rect.y,D=C.rect.width,S=C.rect.height,R=e(C.data,D,S,u);if(k!=0)for(var A=0;A<y;A++)E[A]=b[A];if(C.blend==0?d(R,D,S,b,h,p,T,O,0):C.blend==1&&d(R,D,S,b,h,p,T,O,1),m.push(b.buffer.slice(0)),C.dispose!=0){if(C.dispose==1)d(v,D,S,b,h,p,T,O,0);else if(C.dispose==2)for(A=0;A<y;A++)b[A]=E[A]}}return m},_paeth:a,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=Mi,{_bin:e}=Mi,r=Mi._paeth;var n={table:function(){const D=new Uint32Array(256);for(let S=0;S<256;S++){let R=S;for(let z=0;z<8;z++)1&R?R=3988292384^R>>>1:R>>>=1;D[S]=R}return D}(),update(D,S,R,z){for(let F=0;F<z;F++)D=n.table[255&(D^S[R+F])]^D>>>8;return D},crc:(D,S,R)=>4294967295^n.update(4294967295,D,S,R)};function i(D,S,R,z){S[R]+=D[0]*z>>4,S[R+1]+=D[1]*z>>4,S[R+2]+=D[2]*z>>4,S[R+3]+=D[3]*z>>4}function o(D){return Math.max(0,Math.min(255,D))}function s(D,S){const R=D[0]-S[0],z=D[1]-S[1],F=D[2]-S[2],P=D[3]-S[3];return R*R+z*z+F*F+P*P}function a(D,S,R,z,F,P,$){$==null&&($=1);const W=z.length,B=[];for(var j=0;j<W;j++){const Q=z[j];B.push([Q>>>0&255,Q>>>8&255,Q>>>16&255,Q>>>24&255])}for(j=0;j<W;j++){let Q=4294967295;for(var re=0,H=0;H<W;H++){var L=s(B[j],B[H]);H!=j&&L<Q&&(Q=L,re=H)}}const I=new Uint32Array(F.buffer),V=new Int16Array(S*R*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<K.length;j++)K[j]=255*((K[j]+.5)/16-.5);for(let Q=0;Q<R;Q++)for(let le=0;le<S;le++){var Y;j=4*(Q*S+le),$!=2?Y=[o(D[j]+V[j]),o(D[j+1]+V[j+1]),o(D[j+2]+V[j+2]),o(D[j+3]+V[j+3])]:(L=K[4*(3&Q)+(3&le)],Y=[o(D[j]+L),o(D[j+1]+L),o(D[j+2]+L),o(D[j+3]+L)]),re=0;let ie=16777215;for(H=0;H<W;H++){const fe=s(Y,B[H]);fe<ie&&(ie=fe,re=H)}const me=B[re],he=[Y[0]-me[0],Y[1]-me[1],Y[2]-me[2],Y[3]-me[3]];$==1&&(le!=S-1&&i(he,V,j+4,7),Q!=R-1&&(le!=0&&i(he,V,j+4*S-4,3),i(he,V,j+4*S,5),le!=S-1&&i(he,V,j+4*S+4,1))),P[j>>2]=re,I[j>>2]=z[re]}}function l(D,S,R,z,F){F==null&&(F={});const{crc:P}=n,$=e.writeUint,W=e.writeUshort,B=e.writeASCII;let j=8;const re=D.frames.length>1;let H,L=!1,I=33+(re?20:0);if(F.sRGB!=null&&(I+=13),F.pHYs!=null&&(I+=21),F.iCCP!=null&&(H=pako.deflate(F.iCCP),I+=21+H.length+4),D.ctype==3){for(var V=D.plte.length,K=0;K<V;K++)D.plte[K]>>>24!=255&&(L=!0);I+=8+3*V+4+(L?8+1*V+4:0)}for(var Y=0;Y<D.frames.length;Y++)re&&(I+=38),I+=(me=D.frames[Y]).cimg.length+12,Y!=0&&(I+=4);I+=12;const Q=new Uint8Array(I),le=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)Q[K]=le[K];if($(Q,j,13),j+=4,B(Q,j,"IHDR"),j+=4,$(Q,j,S),j+=4,$(Q,j,R),j+=4,Q[j]=D.depth,j++,Q[j]=D.ctype,j++,Q[j]=0,j++,Q[j]=0,j++,Q[j]=0,j++,$(Q,j,P(Q,j-17,17)),j+=4,F.sRGB!=null&&($(Q,j,1),j+=4,B(Q,j,"sRGB"),j+=4,Q[j]=F.sRGB,j++,$(Q,j,P(Q,j-5,5)),j+=4),F.iCCP!=null){const he=13+H.length;$(Q,j,he),j+=4,B(Q,j,"iCCP"),j+=4,B(Q,j,"ICC profile"),j+=11,j+=2,Q.set(H,j),j+=H.length,$(Q,j,P(Q,j-(he+4),he+4)),j+=4}if(F.pHYs!=null&&($(Q,j,9),j+=4,B(Q,j,"pHYs"),j+=4,$(Q,j,F.pHYs[0]),j+=4,$(Q,j,F.pHYs[1]),j+=4,Q[j]=F.pHYs[2],j++,$(Q,j,P(Q,j-13,13)),j+=4),re&&($(Q,j,8),j+=4,B(Q,j,"acTL"),j+=4,$(Q,j,D.frames.length),j+=4,$(Q,j,F.loop!=null?F.loop:0),j+=4,$(Q,j,P(Q,j-12,12)),j+=4),D.ctype==3){for($(Q,j,3*(V=D.plte.length)),j+=4,B(Q,j,"PLTE"),j+=4,K=0;K<V;K++){const he=3*K,fe=D.plte[K],ve=255&fe,Se=fe>>>8&255,Me=fe>>>16&255;Q[j+he+0]=ve,Q[j+he+1]=Se,Q[j+he+2]=Me}if(j+=3*V,$(Q,j,P(Q,j-3*V-4,3*V+4)),j+=4,L){for($(Q,j,V),j+=4,B(Q,j,"tRNS"),j+=4,K=0;K<V;K++)Q[j+K]=D.plte[K]>>>24&255;j+=V,$(Q,j,P(Q,j-V-4,V+4)),j+=4}}let ie=0;for(Y=0;Y<D.frames.length;Y++){var me=D.frames[Y];re&&($(Q,j,26),j+=4,B(Q,j,"fcTL"),j+=4,$(Q,j,ie++),j+=4,$(Q,j,me.rect.width),j+=4,$(Q,j,me.rect.height),j+=4,$(Q,j,me.rect.x),j+=4,$(Q,j,me.rect.y),j+=4,W(Q,j,z[Y]),j+=2,W(Q,j,1e3),j+=2,Q[j]=me.dispose,j++,Q[j]=me.blend,j++,$(Q,j,P(Q,j-30,30)),j+=4);const he=me.cimg;$(Q,j,(V=he.length)+(Y==0?0:4)),j+=4;const fe=j;B(Q,j,Y==0?"IDAT":"fdAT"),j+=4,Y!=0&&($(Q,j,ie++),j+=4),Q.set(he,j),j+=V,$(Q,j,P(Q,fe,j-fe)),j+=4}return $(Q,j,0),j+=4,B(Q,j,"IEND"),j+=4,$(Q,j,P(Q,j-4,4)),j+=4,Q.buffer}function d(D,S,R){for(let z=0;z<D.frames.length;z++){const F=D.frames[z];F.rect.width;const P=F.rect.height,$=new Uint8Array(P*F.bpl+P);F.cimg=p(F.img,P,F.bpp,F.bpl,$,S,R)}}function f(D,S,R,z,F){const P=F[0],$=F[1],W=F[2],B=F[3],j=F[4],re=F[5];let H=6,L=8,I=255;for(var V=0;V<D.length;V++){const ke=new Uint8Array(D[V]);for(var K=ke.length,Y=0;Y<K;Y+=4)I&=ke[Y+3]}const Q=I!=255,le=function(ae,Te,De,U,q,oe){const we=[];for(var Oe=0;Oe<ae.length;Oe++){const ct=new Uint8Array(ae[Oe]),_t=new Uint32Array(ct.buffer);var Pe;let Ke=0,Ft=0,vt=Te,ar=De,dr=U?1:0;if(Oe!=0){const Fi=oe||U||Oe==1||we[Oe-2].dispose!=0?1:2;let fo=0,ho=1e9;for(let Ui=0;Ui<Fi;Ui++){var Ge=new Uint8Array(ae[Oe-1-Ui]);const po=new Uint32Array(ae[Oe-1-Ui]);let zr=Te,Vr=De,pi=-1,Gn=-1;for(let Qn=0;Qn<De;Qn++)for(let hn=0;hn<Te;hn++)_t[Ee=Qn*Te+hn]!=po[Ee]&&(hn<zr&&(zr=hn),hn>pi&&(pi=hn),Qn<Vr&&(Vr=Qn),Qn>Gn&&(Gn=Qn));pi==-1&&(zr=Vr=pi=Gn=0),q&&((1&zr)==1&&zr--,(1&Vr)==1&&Vr--);const rr=(pi-zr+1)*(Gn-Vr+1);rr<ho&&(ho=rr,fo=Ui,Ke=zr,Ft=Vr,vt=pi-zr+1,ar=Gn-Vr+1)}Ge=new Uint8Array(ae[Oe-1-fo]),fo==1&&(we[Oe-1].dispose=2),Pe=new Uint8Array(vt*ar*4),t(Ge,Te,De,Pe,vt,ar,-Ke,-Ft,0),dr=t(ct,Te,De,Pe,vt,ar,-Ke,-Ft,3)?1:0,dr==1?h(ct,Te,De,Pe,{x:Ke,y:Ft,width:vt,height:ar}):t(ct,Te,De,Pe,vt,ar,-Ke,-Ft,0)}else Pe=ct.slice(0);we.push({rect:{x:Ke,y:Ft,width:vt,height:ar},img:Pe,blend:dr,dispose:0})}if(U)for(Oe=0;Oe<we.length;Oe++){if((Qe=we[Oe]).blend==1)continue;const ct=Qe.rect,_t=we[Oe-1].rect,Ke=Math.min(ct.x,_t.x),Ft=Math.min(ct.y,_t.y),vt={x:Ke,y:Ft,width:Math.max(ct.x+ct.width,_t.x+_t.width)-Ke,height:Math.max(ct.y+ct.height,_t.y+_t.height)-Ft};we[Oe-1].dispose=1,Oe-1!=0&&u(ae,Te,De,we,Oe-1,vt,q),u(ae,Te,De,we,Oe,vt,q)}let ge=0;if(ae.length!=1)for(var Ee=0;Ee<we.length;Ee++){var Qe;ge+=(Qe=we[Ee]).rect.width*Qe.rect.height}return we}(D,S,R,P,$,W),ie={},me=[],he=[];if(z!=0){const ke=[];for(Y=0;Y<le.length;Y++)ke.push(le[Y].img.buffer);const ae=function(q){let oe=0;for(var we=0;we<q.length;we++)oe+=q[we].byteLength;const Oe=new Uint8Array(oe);let Pe=0;for(we=0;we<q.length;we++){const Ge=new Uint8Array(q[we]),ge=Ge.length;for(let Ee=0;Ee<ge;Ee+=4){let Qe=Ge[Ee],ct=Ge[Ee+1],_t=Ge[Ee+2];const Ke=Ge[Ee+3];Ke==0&&(Qe=ct=_t=0),Oe[Pe+Ee]=Qe,Oe[Pe+Ee+1]=ct,Oe[Pe+Ee+2]=_t,Oe[Pe+Ee+3]=Ke}Pe+=ge}return Oe.buffer}(ke),Te=y(ae,z);for(Y=0;Y<Te.plte.length;Y++)me.push(Te.plte[Y].est.rgba);let De=0;for(Y=0;Y<le.length;Y++){const U=(ve=le[Y]).img.length;var fe=new Uint8Array(Te.inds.buffer,De>>2,U>>2);he.push(fe);const q=new Uint8Array(Te.abuf,De,U);re&&a(ve.img,ve.rect.width,ve.rect.height,me,q,fe),ve.img.set(q),De+=U}}else for(V=0;V<le.length;V++){var ve=le[V];const ke=new Uint32Array(ve.img.buffer);var Se=ve.rect.width;for(K=ke.length,fe=new Uint8Array(K),he.push(fe),Y=0;Y<K;Y++){const ae=ke[Y];if(Y!=0&&ae==ke[Y-1])fe[Y]=fe[Y-1];else if(Y>Se&&ae==ke[Y-Se])fe[Y]=fe[Y-Se];else{let Te=ie[ae];if(Te==null&&(ie[ae]=Te=me.length,me.push(ae),me.length>=300))break;fe[Y]=Te}}}const Me=me.length;for(Me<=256&&j==0&&(L=Me<=2?1:Me<=4?2:Me<=16?4:8,L=Math.max(L,B)),V=0;V<le.length;V++){(ve=le[V]).rect.x,ve.rect.y,Se=ve.rect.width;const ke=ve.rect.height;let ae=ve.img;new Uint32Array(ae.buffer);let Te=4*Se,De=4;if(Me<=256&&j==0){Te=Math.ceil(L*Se/8);var de=new Uint8Array(Te*ke);const U=he[V];for(let q=0;q<ke;q++){Y=q*Te;const oe=q*Se;if(L==8)for(var pe=0;pe<Se;pe++)de[Y+pe]=U[oe+pe];else if(L==4)for(pe=0;pe<Se;pe++)de[Y+(pe>>1)]|=U[oe+pe]<<4-4*(1&pe);else if(L==2)for(pe=0;pe<Se;pe++)de[Y+(pe>>2)]|=U[oe+pe]<<6-2*(3&pe);else if(L==1)for(pe=0;pe<Se;pe++)de[Y+(pe>>3)]|=U[oe+pe]<<7-1*(7&pe)}ae=de,H=3,De=1}else if(Q==0&&le.length==1){de=new Uint8Array(Se*ke*3);const U=Se*ke;for(Y=0;Y<U;Y++){const q=3*Y,oe=4*Y;de[q]=ae[oe],de[q+1]=ae[oe+1],de[q+2]=ae[oe+2]}ae=de,H=2,De=3,Te=3*Se}ve.img=ae,ve.bpl=Te,ve.bpp=De}return{ctype:H,depth:L,plte:me,frames:le}}function u(D,S,R,z,F,P,$){const W=Uint8Array,B=Uint32Array,j=new W(D[F-1]),re=new B(D[F-1]),H=F+1<D.length?new W(D[F+1]):null,L=new W(D[F]),I=new B(L.buffer);let V=S,K=R,Y=-1,Q=-1;for(let ie=0;ie<P.height;ie++)for(let me=0;me<P.width;me++){const he=P.x+me,fe=P.y+ie,ve=fe*S+he,Se=I[ve];Se==0||z[F-1].dispose==0&&re[ve]==Se&&(H==null||H[4*ve+3]!=0)||(he<V&&(V=he),he>Y&&(Y=he),fe<K&&(K=fe),fe>Q&&(Q=fe))}Y==-1&&(V=K=Y=Q=0),$&&((1&V)==1&&V--,(1&K)==1&&K--),P={x:V,y:K,width:Y-V+1,height:Q-K+1};const le=z[F];le.rect=P,le.blend=1,le.img=new Uint8Array(P.width*P.height*4),z[F-1].dispose==0?(t(j,S,R,le.img,P.width,P.height,-P.x,-P.y,0),h(L,S,R,le.img,P)):t(L,S,R,le.img,P.width,P.height,-P.x,-P.y,0)}function h(D,S,R,z,F){t(D,S,R,z,F.width,F.height,-F.x,-F.y,2)}function p(D,S,R,z,F,P,$){const W=[];let B,j=[0,1,2,3,4];P!=-1?j=[P]:(S*z>5e5||R==1)&&(j=[0]),$&&(B={level:0});const re=YH;for(var H=0;H<j.length;H++){for(let V=0;V<S;V++)m(F,D,V,z,R,j[H]);W.push(re.deflate(F,B))}let L,I=1e9;for(H=0;H<W.length;H++)W[H].length<I&&(L=H,I=W[H].length);return W[L]}function m(D,S,R,z,F,P){const $=R*z;let W=$+R;if(D[W]=P,W++,P==0)if(z<500)for(var B=0;B<z;B++)D[W+B]=S[$+B];else D.set(new Uint8Array(S.buffer,$,z),W);else if(P==1){for(B=0;B<F;B++)D[W+B]=S[$+B];for(B=F;B<z;B++)D[W+B]=S[$+B]-S[$+B-F]+256&255}else if(R==0){for(B=0;B<F;B++)D[W+B]=S[$+B];if(P==2)for(B=F;B<z;B++)D[W+B]=S[$+B];if(P==3)for(B=F;B<z;B++)D[W+B]=S[$+B]-(S[$+B-F]>>1)+256&255;if(P==4)for(B=F;B<z;B++)D[W+B]=S[$+B]-r(S[$+B-F],0,0)+256&255}else{if(P==2)for(B=0;B<z;B++)D[W+B]=S[$+B]+256-S[$+B-z]&255;if(P==3){for(B=0;B<F;B++)D[W+B]=S[$+B]+256-(S[$+B-z]>>1)&255;for(B=F;B<z;B++)D[W+B]=S[$+B]+256-(S[$+B-z]+S[$+B-F]>>1)&255}if(P==4){for(B=0;B<F;B++)D[W+B]=S[$+B]+256-r(0,S[$+B-z],0)&255;for(B=F;B<z;B++)D[W+B]=S[$+B]+256-r(S[$+B-F],S[$+B-z],S[$+B-F-z])&255}}}function y(D,S){const R=new Uint8Array(D),z=R.slice(0),F=new Uint32Array(z.buffer),P=b(z,S),$=P[0],W=P[1],B=R.length,j=new Uint8Array(B>>2);let re;if(R.length<2e7)for(var H=0;H<B;H+=4)re=v($,L=R[H]*(1/255),I=R[H+1]*(1/255),V=R[H+2]*(1/255),K=R[H+3]*(1/255)),j[H>>2]=re.ind,F[H>>2]=re.est.rgba;else for(H=0;H<B;H+=4){var L=R[H]*.00392156862745098,I=R[H+1]*(1/255),V=R[H+2]*(1/255),K=R[H+3]*(1/255);for(re=$;re.left;)re=E(re.est,L,I,V,K)<=0?re.left:re.right;j[H>>2]=re.ind,F[H>>2]=re.est.rgba}return{abuf:z.buffer,inds:j,plte:W}}function b(D,S,R){R==null&&(R=1e-4);const z=new Uint32Array(D.buffer),F={i0:0,i1:D.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=C(D,F.i0,F.i1),F.est=T(F.bst);const P=[F];for(;P.length<S;){let W=0,B=0;for(var $=0;$<P.length;$++)P[$].est.L>W&&(W=P[$].est.L,B=$);if(W<R)break;const j=P[B],re=A(D,z,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=re||j.i1<=re){j.est.L=0;continue}const H={i0:j.i0,i1:re,bst:null,est:null,tdst:0,left:null,right:null};H.bst=C(D,H.i0,H.i1),H.est=T(H.bst);const L={i0:re,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:j.bst.N-H.bst.N},$=0;$<16;$++)L.bst.R[$]=j.bst.R[$]-H.bst.R[$];for($=0;$<4;$++)L.bst.m[$]=j.bst.m[$]-H.bst.m[$];L.est=T(L.bst),j.left=H,j.right=L,P[B]=H,P.push(L)}for(P.sort((W,B)=>B.bst.N-W.bst.N),$=0;$<P.length;$++)P[$].ind=$;return[F,P]}function v(D,S,R,z,F){if(D.left==null)return D.tdst=function(H,L,I,V,K){const Y=L-H[0],Q=I-H[1],le=V-H[2],ie=K-H[3];return Y*Y+Q*Q+le*le+ie*ie}(D.est.q,S,R,z,F),D;const P=E(D.est,S,R,z,F);let $=D.left,W=D.right;P>0&&($=D.right,W=D.left);const B=v($,S,R,z,F);if(B.tdst<=P*P)return B;const j=v(W,S,R,z,F);return j.tdst<B.tdst?j:B}function E(D,S,R,z,F){const{e:P}=D;return P[0]*S+P[1]*R+P[2]*z+P[3]*F-D.eMq}function A(D,S,R,z,F,P){for(z-=4;R<z;){for(;k(D,R,F)<=P;)R+=4;for(;k(D,z,F)>P;)z-=4;if(R>=z)break;const $=S[R>>2];S[R>>2]=S[z>>2],S[z>>2]=$,R+=4,z-=4}for(;k(D,R,F)>P;)R-=4;return R+4}function k(D,S,R){return D[S]*R[0]+D[S+1]*R[1]+D[S+2]*R[2]+D[S+3]*R[3]}function C(D,S,R){const z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],P=R-S>>2;for(let $=S;$<R;$+=4){const W=D[$]*.00392156862745098,B=D[$+1]*(1/255),j=D[$+2]*(1/255),re=D[$+3]*(1/255);F[0]+=W,F[1]+=B,F[2]+=j,F[3]+=re,z[0]+=W*W,z[1]+=W*B,z[2]+=W*j,z[3]+=W*re,z[5]+=B*B,z[6]+=B*j,z[7]+=B*re,z[10]+=j*j,z[11]+=j*re,z[15]+=re*re}return z[4]=z[1],z[8]=z[2],z[9]=z[6],z[12]=z[3],z[13]=z[7],z[14]=z[11],{R:z,m:F,N:P}}function T(D){const{R:S}=D,{m:R}=D,{N:z}=D,F=R[0],P=R[1],$=R[2],W=R[3],B=z==0?0:1/z,j=[S[0]-F*F*B,S[1]-F*P*B,S[2]-F*$*B,S[3]-F*W*B,S[4]-P*F*B,S[5]-P*P*B,S[6]-P*$*B,S[7]-P*W*B,S[8]-$*F*B,S[9]-$*P*B,S[10]-$*$*B,S[11]-$*W*B,S[12]-W*F*B,S[13]-W*P*B,S[14]-W*$*B,S[15]-W*W*B],re=j,H=O;let L=[Math.random(),Math.random(),Math.random(),Math.random()],I=0,V=0;if(z!=0)for(let Y=0;Y<16&&(L=H.multVec(re,L),V=Math.sqrt(H.dot(L,L)),L=H.sml(1/V,L),!(Y!=0&&Math.abs(V-I)<1e-9));Y++)I=V;const K=[F*B,P*B,$*B,W*B];return{Cov:j,q:K,e:L,L:I,eMq255:H.dot(H.sml(255,K),L),eMq:H.dot(L,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var O={multVec:(D,S)=>[D[0]*S[0]+D[1]*S[1]+D[2]*S[2]+D[3]*S[3],D[4]*S[0]+D[5]*S[1]+D[6]*S[2]+D[7]*S[3],D[8]*S[0]+D[9]*S[1]+D[10]*S[2]+D[11]*S[3],D[12]*S[0]+D[13]*S[1]+D[14]*S[2]+D[15]*S[3]],dot:(D,S)=>D[0]*S[0]+D[1]*S[1]+D[2]*S[2]+D[3]*S[3],sml:(D,S)=>[D*S[0],D*S[1],D*S[2],D*S[3]]};Mi.encode=function(S,R,z,F,P,$,W){F==null&&(F=0),W==null&&(W=!1);const B=f(S,R,z,F,[!1,!1,!1,0,W,!1]);return d(B,-1),l(B,R,z,P,$)},Mi.encodeLL=function(S,R,z,F,P,$,W,B){const j={ctype:0+(F==1?0:2)+(P==0?0:4),depth:$,frames:[]},re=(F+P)*$,H=re*R;for(let L=0;L<S.length;L++)j.frames.push({rect:{x:0,y:0,width:R,height:z},img:new Uint8Array(S[L]),blend:0,dispose:1,bpp:Math.ceil(re/8),bpl:Math.ceil(H/8)});return d(j,0,!0),l(j,R,z,W,B)},Mi.encode.compress=f,Mi.encode.dither=a,Mi.quantize=y,Mi.quantize.getKDtree=b,Mi.quantize.getNearest=v})();const QS={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,o=t.getContext("2d").getImageData(0,0,r,n),s=new Uint32Array(o.data.buffer),a=(32*r+31)/32<<2,l=a*n,d=122+l,f=new ArrayBuffer(d),u=new DataView(f),h=1<<20;let p,m,y,b,v=h,E=0,A=0,k=0;function C(D){u.setUint16(A,D,!0),A+=2}function T(D){u.setUint32(A,D,!0),A+=4}function O(D){A+=D}C(19778),T(d),O(4),T(122),T(108),T(r),T(-n>>>0),C(1),C(32),T(3),T(l),T(2835),T(2835),O(8),T(16711680),T(65280),T(255),T(4278190080),T(1466527264),function D(){for(;E<n&&v>0;){for(b=122+E*a,p=0;p<i;)v--,m=s[k++],y=m>>>24,u.setUint32(b+p,m<<8|y),p+=4;E++}k<s.length?(v=h,setTimeout(D,QS._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Dn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},KH={[Dn.CHROME]:16384,[Dn.FIREFOX]:11180,[Dn.DESKTOP_SAFARI]:16384,[Dn.IE]:8192,[Dn.IOS]:4096,[Dn.ETC]:8192};const sy=typeof window<"u",YS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,qh=sy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),XH=(sy||YS)&&(qh&&qh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),KS=(sy||YS)&&(qh&&qh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ay(t,e,r=Date.now()){return new Promise(n=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const d=new Blob([l],{type:o});d.name=e,d.lastModified=r,n(d)})}function XS(t){return new Promise((e,r)=>{const n=new KS;n.onload=()=>e(n.result),n.onerror=i=>r(i),n.readAsDataURL(t)})}function ZS(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>r(i),n.src=t})}function la(){if(la.cachedResult!==void 0)return la.cachedResult;let t=Dn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Dn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Dn.IOS:/Safari/i.test(e)?t=Dn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Dn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Dn.IE),la.cachedResult=t,la.cachedResult}function JS(t,e){const r=la(),n=KH[r];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>n*n;){const l=(n+i)/2,d=(n+o)/2;l<d?(o=d,i=d*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function Wh(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function eE(t,e){const{width:r,height:n}=JS(t.width,t.height),[i,o]=Wh(r,n);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Gh(){return Gh.cachedResult!==void 0||(Gh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Gh.cachedResult}function Qh(t,e={}){return new Promise(function(r,n){let i,o;var s=function(){try{return o=eE(i,e.fileType||t.type),r([i,o])}catch(l){return n(l)}},a=function(l){try{var d=function(f){try{throw f}catch(u){return n(u)}};try{let f;return XS(t).then(function(u){try{return f=u,ZS(f).then(function(h){try{return i=h,function(){try{return s()}catch(p){return n(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(f){d(f)}}catch(f){return n(f)}};try{if(Gh()||[Dn.DESKTOP_SAFARI,Dn.MOBILE_SAFARI].includes(la()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function Yh(t,e,r,n,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let d,f,u;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),u=Mi.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([u],{type:e}),a.name=r,a.lastModified=n,l.call(this)}{let d=function(){return l.call(this)};if(e==="image/bmp")return new Promise(f=>QS.toBlob(t,f)).then((function(f){try{return a=f,a.name=r,a.lastModified=n,d.call(this)}catch(u){return s(u)}}).bind(this),s);{let f=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(u){try{return a=u,a.name=r,a.lastModified=n,f.call(this)}catch(h){return s(h)}}).bind(this),s);{let u;return u=t.toDataURL(e,i),ay(u,r,n).then((function(h){try{return a=h,f.call(this)}catch(p){return s(p)}}).bind(this),s)}}}function l(){return o(a)}})}function so(t){t.width=0,t.height=0}function jl(){return new Promise(function(t,e){let r,n,i,o;return jl.cachedResult!==void 0?t(jl.cachedResult):ay("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,Qh(r).then(function(a){try{return n=a[1],Yh(n,r.type,r.name,r.lastModified).then(function(l){try{return i=l,so(n),Qh(i).then(function(d){try{return o=d[0],jl.cachedResult=o.width===1&&o.height===2,t(jl.cachedResult)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function tE(t){return new Promise((e,r)=>{const n=new KS;n.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const d=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,d);const f=o.getUint16(a,d);a+=2;for(let u=0;u<f;u++)if(o.getUint16(a+12*u,d)==274)return e(o.getUint16(a+12*u+8,d))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(t)})}function rE(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(r>i||n>i)&&([s,o]=Wh(r,n),r>n?(s.width=i,s.height=n/r*i):(s.width=r/n*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),so(t)),s}function nE(t,e){const{width:r}=t,{height:n}=t,[i,o]=Wh(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(t,0,0,r,n),so(t),i}function iE(t,e,r=0){return new Promise(function(n,i){let o,s,a,l,d,f,u,h,p,m,y,b,v,E,A,k,C,T,O,D;function S(z=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=z,e.onProgress(Math.min(o,100))}function R(z){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(z,o),100),e.onProgress(o)}return o=r,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,S(),Qh(t,e).then((function(z){try{return[,l]=z,S(),d=rE(l,e),S(),new Promise(function(F,P){var $;if(!($=e.exifOrientation))return tE(t).then((function(B){try{return $=B,W.call(this)}catch(j){return P(j)}}).bind(this),P);function W(){return F($)}return W.call(this)}).then((function(F){try{return f=F,S(),jl().then((function(P){try{return u=P?d:nE(d,f),S(),h=e.initialQuality||1,p=e.fileType||t.type,Yh(u,p,t.name,t.lastModified,h).then((function($){try{{let B=function(){if(s--&&(A>a||A>v)){let re,H;return re=D?.95*O.width:O.width,H=D?.95*O.height:O.height,[C,T]=Wh(re,H),T.drawImage(O,0,0,re,H),h*=p==="image/png"?.85:.95,Yh(C,p,t.name,t.lastModified,h).then(function(L){try{return k=L,so(O),O=C,A=k.size,R(Math.min(99,Math.floor((E-A)/(E-a)*100))),B}catch(I){return i(I)}},i)}return[1]},j=function(){return so(O),so(C),so(d),so(u),so(l),R(100),n(k)};if(m=$,S(),y=m.size>a,b=m.size>t.size,!y&&!b)return R(100),n(m);var W;return v=t.size,E=m.size,A=E,O=u,D=!e.alwaysKeepResolution&&y,(W=(function(re){for(;re;){if(re.then)return void re.then(W,i);try{if(re.pop){if(re.length)return re.pop()?j.call(this):re;re=B}else re=re.call(this)}catch(H){return i(H)}}}).bind(this))(B)}}catch(B){return i(B)}}).bind(this),i)}catch($){return i($)}}).bind(this),i)}catch(P){return i(P)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)})}const ZH=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ly;function JH(t,e){return new Promise((r,n)=>{ly||(ly=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(ZH));const i=new Worker(ly);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return n(new Error(s.data.error)),void i.terminate();r(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Yr(t,e){return new Promise(function(r,n){let i,o,s,a,l,d;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{s=p,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof XH))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||d)return iE(t,i).then((function(p){try{return o=p,h.call(this)}catch(m){return n(m)}}).bind(this),n);var f=(function(){try{return h.call(this)}catch(p){return n(p)}}).bind(this),u=function(p){try{return iE(t,i).then(function(m){try{return o=m,f()}catch(y){return n(y)}},n)}catch(m){return n(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",JH(t,i).then(function(p){try{return o=p,f()}catch{return u()}},u)}catch{u()}function h(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=GS(t,o))}catch{}return r(o)}})}Yr.getDataUrlFromFile=XS,Yr.getFilefromDataUrl=ay,Yr.loadImage=ZS,Yr.drawImageInCanvas=eE,Yr.drawFileInCanvas=Qh,Yr.canvasToFile=Yh,Yr.getExifOrientation=tE,Yr.handleMaxWidthOrHeight=rE,Yr.followExifOrientation=nE,Yr.cleanupCanvasMemory=so,Yr.isAutoOrientationInBrowser=jl,Yr.approximateBelowMaximumCanvasSizeOfBrowser=JS,Yr.copyExifWithoutOrientation=GS,Yr.getBrowserName=la,Yr.version="2.0.2";var eq="firebase",tq="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(eq,tq,"app");let rq=class{constructor(e){Fe(this,"value");Fe(this,"next");this.value=e}};class nq{constructor(){um(this,hi);um(this,Ca);um(this,Sa);this.clear()}enqueue(e){const r=new rq(e);bo(this,hi)?(bo(this,Ca).next=r,Ho(this,Ca,r)):(Ho(this,hi,r),Ho(this,Ca,r)),a2(this,Sa)._++}dequeue(){const e=bo(this,hi);if(e)return Ho(this,hi,bo(this,hi).next),a2(this,Sa)._--,e.value}peek(){if(bo(this,hi))return bo(this,hi).value}clear(){Ho(this,hi,void 0),Ho(this,Ca,void 0),Ho(this,Sa,0)}get size(){return bo(this,Sa)}*[Symbol.iterator](){let e=bo(this,hi);for(;e;)yield e.value,e=e.next}}hi=new WeakMap,Ca=new WeakMap,Sa=new WeakMap;function iq(t){oE(t);const e=new nq;let r=0;const n=()=>{r<t&&e.size>0&&(e.dequeue()(),r++)},i=()=>{r--,n()},o=async(l,d,f)=>{const u=(async()=>l(...f))();d(u);try{await u}catch{}i()},s=(l,d,f)=>{new Promise(u=>{e.enqueue(u)}).then(o.bind(void 0,l,d,f)),(async()=>(await Promise.resolve(),r<t&&n()))()},a=(l,...d)=>new Promise(f=>{s(l,f,d)});return Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>t,set(l){oE(l),t=l,queueMicrotask(()=>{for(;r<t&&e.size>0;)n()})}}}),a}function oE(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const oq={[ze.increment]({commit:t}){t(je.increment)},async[ze.fetchRooms]({state:t,commit:e,dispatch:r},{pageSize:n}={pageSize:void 0}){if(t.isRequesting[oo.FetchRooms])return;const{numberOfFetchedRooms:i,uid:o}=t;if(i===t.numberOfTotalRooms&&i>0)return;const s=n!==void 0?n:Math.min(Math.max(30,i),120),{data:{result:a}}=await t.axios.get(oo.FetchRooms,{params:{skip:i,limit:s,q:t.roomTag?`{ "members": "${o}", "roomTags": "${t.roomTag}" }`:`{ "members": "${o}" }`}}),{data:l,totalCount:d}=a,f={},u={};for(const h of l){f[h._id]=new Fu(h,t.uid);for(const p of h.members)u[p.id]||(u[p.id]=new Wo(p))}e(je.updateField,{key:"rooms",value:f}),e(je.updateField,{key:"users",value:u}),e(je.setState,{numberOfTotalRooms:d,numberOfFetchedRooms:i+s}),r(ze.aggregateRoomsAndFolders)},async[ze.handleMessageFromSocket]({state:t,commit:e,dispatch:r},n){let i=t.rooms[n.roomId];if(i){const{id:o,numberOfUnread:s}=i;n.roomId===t.selectedRoomId?(t.processingMessages.has(n.id)||(await r(ze.handleLinkPreviews,[n]),e(je.pushMessage,n)),e(je.updateRoom,{id:o,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:0}),r(ze.updateLastRead,o),e(je.setState,{numberOfTotalMessages:t.numberOfTotalMessages+1})):e(je.updateRoom,{id:o,updatedAt:n.createdAt,lastMessage:n,numberOfUnread:n.senderId!==t.uid?s+1:s}),r(ze.aggregateRoomsAndFolders)}else await r(ze.fetchRoom,n.roomId),i=t.rooms[n.roomId]},async[ze.loadMessages]({state:t,commit:e,dispatch:r},{roomId:n,beforeMessageId:i,afterMessageId:o,targetMessageId:s}){const a=s?`/rooms/${n}/messages/${s}`:o?`/rooms/${n}/messages/${o}`:`/rooms/${n}/messages`;if(t.isRequesting[a]||t.messageMultiList.numberOfMessages()>=t.numberOfTotalMessages&&t.numberOfTotalMessages!==-1)return;const{data:{result:l}}=await t.axios.get(a,{params:s?{before:15,after:15}:i?{limit:30,beforeMessage:i}:o?{after:30}:{limit:30}}),d={};for(const m of l.data)d[m.sender.id]||(d[m.sender.id]=new Wo(m.sender));e(je.updateField,{key:"users",value:d});const{data:f,totalCount:u}=l;o&&f.shift();const h=new qH(f),p=h.array();return await r(ze.handleLinkPreviews,p),e(i?je.unshiftMessageLinkedList:o?je.concateMessageLinkedList:je.insertMessageLinkedList,h),u>t.numberOfTotalMessages&&e(je.setState,{numberOfTotalMessages:u}),f},async[ze.fetchRoom]({state:t,commit:e},r){const{data:{result:n}}=await t.axios.get(`/rooms/${r}`),i=new Fu(n,t.uid),o={};o[i.id]=i,e(je.updateField,{key:"rooms",value:o});const s={};n.members.flatMap(a=>Array.isArray(a.members)?[...a.members,a]:[a]).forEach(a=>{s[a.id]||(s[a.id]=new Wo(a))}),e(je.updateField,{key:"users",value:s})},async[ze.updateLastRead]({state:t,commit:e},r){var s;const n=`/rooms/${r}/lastRead`;if(t.isRequesting[n])return;const i=t.rooms[r],{data:{result:o}}=await t.axios.put(n,{message:(s=i.lastMessage)==null?void 0:s.id});o&&e(je.updateRoom,{id:r,numberOfUnread:0})},async[ze.handleRoomFromSocket]({commit:t,dispatch:e},r){const n={};n[r.id]=r,await t(je.updateField,{key:"rooms",value:n}),e(ze.aggregateRoomsAndFolders)},async[ze.handleLastReadFromSocket]({commit:t},e){t(je.updateLastRead,e)},async[ze.sendMessage]({state:t,commit:e,dispatch:r},n){const{roomId:i}=n;if(!i)return;const o=nr.fromPayload(n,t.uid);if(!o)return;if(e(je.setMap,{mapName:"deliveringMessages",key:o.id,value:o}),e(je.pushMessage,o),n.messageType===Xe.Image){const{files:l}=n,d=await Promise.all(n.images.map((u,h)=>r(ze.uploadImage,{image:u,file:l[h]}))),f=[];n.images.forEach((u,h)=>{t.imageCache.set(d[h].thumbnailUrl,u.thumbnailUrl);const{id:p,width:m,height:y}=u;f.push({originalUrl:d[h].originalUrl,thumbnailUrl:d[h].thumbnailUrl,width:m,height:y}),e(je.deleteField,{key:"uploadProgresses",value:`${p}-original`}),e(je.deleteField,{key:"uploadProgresses",value:`${p}-thumbnail`})}),n.images=f,delete n.files}else if(n.messageType===Xe.Video){const{file:l,video:d}=n,f=d.thumbnailFile;if(!f)return;const u=await Promise.all([r(ze.uploadMedia,{id:f.id,file:f.file}),r(ze.uploadMedia,{id:d.id,file:l})]);n.width=d.width,n.height=d.height,n.duration=d.duration,n.thumbnailUrl=u[0],n.originalUrl=u[1],t.imageCache.set(u[0],d.thumbnailUrl),delete n.file,e(je.deleteField,{key:"uploadProgresses",value:d.id})}else if(n.messageType===Xe.File){const{file:l}=n,d=await r(ze.uploadMedia,{id:o.id,file:l});n.originalUrl=d,delete n.file,e(je.deleteField,{key:"uploadProgresses",value:o.id})}else if(n.messageType===Xe.Audio){const{file:l}=n,d=await r(ze.uploadMedia,{id:o.id,file:l});n.originalUrl=d,delete n.file,e(je.deleteField,{key:"uploadProgresses",value:o.id})}const{data:{result:s}}=await t.axios.post(`/rooms/${i}/message`,n),a=nr.fromRaw(s);if(a)return e(je.setMap,{mapName:"processingMessages",key:a.id,value:a}),e(je.deleteMap,{mapName:"deliveringMessages",key:o.id}),await r(ze.handleLinkPreviews,[a]),a.roomId===t.selectedRoomId?e(je.replaceMessage,{message:a,targetMessageId:o.id}):e(je.updateRoom,{id:a.roomId,updatedAt:a.createdAt,lastMessage:a}),e(je.deleteMap,{mapName:"processingMessages",key:a.id}),a},async[ze.batchSendMessage]({state:t},e){await t.axios.post("/messages/batch",e)},async[ze.recallMessage]({state:t,commit:e},r){var a;const{roomId:n}=r;if(!n)return;const{data:{result:i}}=await t.axios.post(`/rooms/${n}/message`,r),o=nr.fromRaw(i);if(!o)return;const s=t.rooms[`${n}`];s&&((a=s.lastMessage)==null?void 0:a.id)===o.id&&e(je.updateRoom,{id:n,lastMessage:o}),e(je.replaceMessage,{targetMessageId:o.id,message:o})},async[ze.uploadMedia]({state:t,commit:e},{id:r,file:n}){const i=new FormData;i.append("file",n);const{data:{result:{_id:o}}}=await t.axios.post("/files/chatserver-upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s=>{const{total:a}=s;a&&e(je.updateField,{key:"uploadProgresses",value:{[r]:s.loaded/a}})}});return`${t.config.domain}/files/chatserver-upload/${o}`},async[ze.uploadImage]({dispatch:t},{image:e,file:r}){if(r.size>1024*1024)try{const i=await Yr(r,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),o=await Promise.all([t(ze.uploadMedia,{id:`${e.id}-original`,file:r}),t(ze.uploadMedia,{id:`${e.id}-thumbnail`,file:i})]);return{originalUrl:o[0],thumbnailUrl:o[1]}}catch(i){console.error(i)}const n=await t(ze.uploadMedia,{id:`${e.id}-original`,file:r});return{originalUrl:n,thumbnailUrl:n}},async[ze.fetchLinkPreview](t,e){const{data:r}=await Kt.get(encodeURI(`https://url.imkit.io/?url=${e}`));return r},async[ze.handleLinkPreviews]({state:t,commit:e,dispatch:r},n){const i=Array.from(new Set(n.flatMap(a=>(a==null?void 0:a.urls)||[]).filter(a=>!t.linkPreviews[a])));if(i.length===0)return;const o={};(await Promise.allSettled(i.map(a=>r(ze.fetchLinkPreview,a)))).forEach((a,l)=>{a.status==="fulfilled"&&(o[i[l]]=a.value)}),e(je.updateField,{key:"linkPreviews",value:o})},async[ze.fetchVideoBlob]({state:t},e){const{data:r}=await t.axios.get(e,{responseType:"blob"});return r},async[ze.navigateToMessage]({state:t,commit:e,dispatch:r},n){var i;(i=t.messageMultiList.main)!=null&&i.contains(n)?e(je.setState,{navigationTargetId:n}):(await r(ze.loadMessages,{roomId:t.selectedRoomId,targetMessageId:n}),await e(je.setState,{navigationTargetId:n}))},async[ze.updateRoomPrefs]({state:t,commit:e,dispatch:r},{roomId:n,prefs:i}){await t.axios.post(`/roomPrefs/${n}`,i);const o=t.rooms[n];o&&(e(je.updateRoom,{id:n,pref:{...o.pref,...i}}),r(ze.aggregateRoomsAndFolders))},async[ze.fetchPrefs]({state:t,commit:e}){const{data:{result:r}}=await t.axios.get("/me/pref"),n={},i=[],o={},s={},a={};for(const l of r)if(l.key==="folders-meta")for(const d of l.data)o[d.key]=d.name,i.push(d.key);else{if(l.key==="blackList")continue;s[l.key]=l.data.children.map(d=>d.id)}for(const l of i){n[l]=new Ul(l,o[l],s[l]||[]);for(const d of s[l]||[])a[d]=!0}e(je.setState,{folders:n,sortedFolderIds:i,roomIdsInFolders:a})},async[ze.fetchRoomsInFolders]({state:t,dispatch:e}){const r=Object.keys(t.roomIdsInFolders).length;for(;t.numberOfFetchedRooms<r;)await e(ze.fetchRooms,{pageSize:200});const n=iq(6),i=Object.keys(t.roomIdsInFolders).filter(o=>!t.rooms[o]).map(o=>n(()=>e(ze.fetchRoom,o)));await Promise.allSettled(i)},async[ze.updatePref]({state:t},{key:e,value:r}){return await t.axios.post(`/me/pref/${e}`,r)},async[ze.deletePref]({state:t},e){return await t.axios.delete(`/me/pref/${e}`)},async[ze.updateFolder]({state:t,dispatch:e,commit:r},{folderKey:n,name:i}){const o=Object.keys(t.selectedRoomIdsForCreateFolder).filter(a=>t.selectedRoomIdsForCreateFolder[a]);await e(ze.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(a=>t.folders[a]).filter(a=>!!a&&a.id!==n).map(a=>({key:a.id,name:a.name})).concat([{key:n,name:i}]).sort((a,l)=>a.key.localeCompare(l.key))}),await e(ze.updatePref,{key:n,value:{children:o.map(a=>({id:a,type:"room"}))}}),t.folders[n]&&r(je.updateField,{key:"roomIdsInFolders",value:t.folders[n].roomIds.reduce((a,l)=>(a[l]=!1,a),{})});const s=new Ul(n,i,o);r(je.updateField,{key:"folders",value:{[n]:s}}),r(je.updateField,{key:"roomIdsInFolders",value:o.reduce((a,l)=>(a[l]=!0,a),{})}),r(je.setState,{sortedFolderIds:[...new Set([...t.sortedFolderIds,n])],selectedRoomIdsForCreateFolder:{}}),e(ze.aggregateRoomsAndFolders)},async[ze.removeFolder]({state:t,dispatch:e},r){await e(ze.deletePref,r),await e(ze.updatePref,{key:"folders-meta",value:t.sortedFolderIds.map(n=>t.folders[n]).filter(n=>!!n&&n.id!==r).map(n=>({key:n.id,name:n.name}))}),e(ze.handlePrefDeleteFromSocket)},async[ze.handlePrefChangeFromSocket]({state:t,commit:e,dispatch:r},n){const{key:i,data:o}=n;if(i==="folders-meta"){const s={},a=[];for(const{key:l,name:d}of o){const f=t.folders[l]||new Ul(l,d,[]);s[l]=f,a.push(l)}e(je.setState,{folders:s,sortedFolderIds:a})}else{const{id:s,name:a}=t.folders[i];if(s){const l=o.children.map(f=>f.id),d=new Ul(s,a,l);e(je.updateField,{key:"folders",value:{[i]:d}}),e(je.updateField,{key:"roomIdsInFolders",value:l.reduce((f,u)=>(f[u]=!0,f),{})})}}r(ze.aggregateRoomsAndFolders)},async[ze.handlePrefDeleteFromSocket]({state:t,commit:e,dispatch:r},n){const i=t.folders[n];if(!i)return;const o={};for(const s of i.roomIds)o[s]=!1;e(je.deleteField,{key:"folders",value:n}),e(je.updateField,{key:"roomIdsInFolders",value:o}),e(je.setState,{sortedFolderIds:t.sortedFolderIds.filter(s=>s!==n)}),r(ze.aggregateRoomsAndFolders)},async[ze.aggregateRoomsAndFolders]({state:t,commit:e}){const r=Object.values(t.rooms).filter(n=>{var i;return!t.roomIdsInFolders[n.id]&&n.lastMessage!==null&&!((i=n.pref)!=null&&i.hidden)}).sort((n,i)=>{var o,s,a;return((o=n.pref)==null?void 0:o.sticky)===((s=i.pref)==null?void 0:s.sticky)?i.updatedAt-n.updatedAt:(a=n.pref)!=null&&a.sticky?-1:1});e(je.setState,{sortedRooms:r})},async[ze.removeMembers]({state:t,commit:e},{roomId:r,uids:n}){var o;if(t.rooms[r]&&(await t.axios.post(`/rooms/${r}/delete/members`,{systemMessage:!0,members:n}),n.includes(t.uid))){e(je.deleteRoom,r);const s=(o=t.sortedRooms.find(a=>a.numberOfUnread===0))==null?void 0:o.id;s&&e(je.setState,{selectedRoomId:s})}},async[ze.handleTypingFromSocket]({state:t,commit:e},r){const{room:n,sender:i}=r;if(n!==t.selectedRoomId||i===t.uid)return;const o=t.isTyping[i];o!==void 0&&clearTimeout(o);const s=setTimeout(()=>{e(je.deleteField,{key:"isTyping",value:i})},6e3);e(je.updateField,{key:"isTyping",value:{[i]:s}})},async[ze.insertUnreadMessage]({state:t,commit:e}){var s;const r=t.rooms[t.selectedRoomId];if(!r)return;const n=r.lastReadMessageId[t.uid];if(!n)return;const i=(s=t.messageMultiList.main)==null?void 0:s.finds(n);if(!i)return;const o=nr.fromPayload({roomId:t.selectedRoomId,messageType:Xe.Announcement,message:"",createdAtMS:i.createdAt+1},t.uid);o&&e(je.pushMessage,o)},async[ze.translate]({state:t},e){if(t.translationCache.has(e))return t.translationCache.get(e)||e;let r=navigator.language.split("-")[0];const n={am:"am",ar:"ar",eu:"eu",bn:"bn","en-gb":"en-GB","pt-br":"pt-BR",bg:"bg",ca:"ca",chr:"chr",hr:"hr",cs:"cs",da:"da",nl:"nl",en:"en",et:"et",fil:"fil",fi:"fi",fr:"fr",de:"de",el:"el",gu:"gu",iw:"iw",hi:"hi",hu:"hu",is:"is",id:"id",it:"it",ja:"ja",kn:"kn",ko:"ko",lv:"lv",lt:"lt",ms:"ms",ml:"ml",mr:"mr",no:"no",pl:"pl","pt-pt":"pt-PT",ro:"ro",ru:"ru",sr:"sr","zh-cn":"zh-CN",sk:"sk",sl:"sl",es:"es",sw:"sw",sv:"sv",ta:"ta",te:"te",th:"th","zh-tw":"zh-TW",tr:"tr",ur:"ur",uk:"uk",vi:"vi",cy:"cy"};n[navigator.language.toLowerCase()]&&(r=n[navigator.language.toLowerCase()]);const i=await fetch("https://translation.googleapis.com/language/translate/v2",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({q:e,key:t.config.translationApiKey,target:r}),redirect:"follow"}).then(o=>o.json()).then(o=>{var s;return(s=o.data)==null?void 0:s.translations[0].translatedText});return t.translationCache.set(e,i),i},async[ze.searchRooms]({state:t,commit:e},r){if(t.isRequesting[oo.Search])return;const n=Object.values(oi),{data:{result:i}}=await t.axios.post(oo.Search,{type:n,keyword:r}),o={},s={},a={};for(const f of n)i[f].forEach(u=>{o[u._id]=new Fu(u,t.uid),a[f]||(a[f]=[]),a[f].push(o[u._id]);for(const h of u.members)s[h.id]||(s[h.id]=new Wo(h))});for(const f of Object.values(t.folders))f.name.includes(r)&&(a[oi.RoomPrefFolder]||(a[oi.RoomPrefFolder]=[]),a[oi.RoomPrefFolder].push(f));const l=Object.keys(a),d=l.length>0?l[0]:oi.RoomName;e(je.updateField,{key:"rooms",value:o}),e(je.updateField,{key:"users",value:s}),e(je.setState,{searchRooms:a,searchType:d,searchKeyword:r})},async[ze.subscribe]({state:t}){if(!t.config.firebaseConfig||!t.config.firebaseVapidKey||await Notification.requestPermission()!=="granted")return;const r=lS(t.config.firebaseConfig),n=VH(r),i=await HH(n,{vapidKey:t.config.firebaseVapidKey});if(!i)return;let o=localStorage.getItem("imkit-deviceId");o||(o=of(),localStorage.setItem("imkit-deviceId",o)),await t.axios.post(oo.Subscribe,{type:"fcm",token:i,deviceId:o})},async[ze.unsubscribe]({state:t}){let e=localStorage.getItem("imkit-deviceId");e||(e=of(),localStorage.setItem("imkit-deviceId",e)),await t.axios.post(oo.Unsubscribe,{type:"fcm",deviceId:e})},async[ze.removeRoomFromFolder]({state:t,commit:e,dispatch:r},n){if(!t.roomIdsInFolders[n])return;const i=t.folders[t.selectedFolderId];if(!i)return;const o=i.id,s=i.roomIds.filter(l=>l!==n);await r(ze.updatePref,{key:o,value:{children:s.map(l=>({id:l,type:"room"}))}});const a=new Ul(o,i.name,s);e(je.updateField,{key:"folders",value:{[o]:a}}),e(je.updateField,{key:"roomIdsInFolders",value:{[n]:!1}}),r(ze.aggregateRoomsAndFolders)},async[ze.addRoomToFolder]({state:t,commit:e,dispatch:r},{roomId:n,folderId:i}){const o=t.folders[i];if(!o)return;const s=Array.from(new Set([...o.roomIds,n]));await r(ze.updatePref,{key:i,value:{children:s.map(l=>({id:l,type:"room"}))}});const a=new Ul(i,o.name,s);e(je.updateField,{key:"folders",value:{[i]:a}}),e(je.updateField,{key:"roomIdsInFolders",value:{[n]:!0}}),r(ze.aggregateRoomsAndFolders)},async[ze.toggleNotification]({state:t,commit:e},r){const n=t.rooms[r];n&&(n.muted?await t.axios.delete(`/me/mute/${r}`):await t.axios.post(`/me/mute/${r}`),e(je.updateRoom,{id:r,muted:!n.muted}))},async[ze.removeRoom]({state:t,commit:e},r){await t.axios.delete(`/rooms/${r}`),e(je.deleteRoom,r)},async[ze.translateMessage]({state:t,commit:e,dispatch:r},n){if(t.config.translationApiKey&&n.type===Xe.Text&&n.senderId!==t.uid){const i=n.text;try{const o=await r(ze.translate,i);n.translatedText=o!==i?o:null,e(je.replaceMessage,{message:n,targetMessageId:n.id})}catch(o){console.error(o)}}},async[ze.quickReply]({state:t,dispatch:e},r){const n={roomId:r.roomId,messageType:"text",message:r.message,reply:t.replyId?t.replyId:null};e(ze.sendMessage,n)}},sq={doubleCount:t=>t.count*2,roomsInSelectedFolder:t=>{const{selectedFolderId:e}=t,r=t.folders[e];return r?r.roomIds.map(i=>t.rooms[i]).filter(i=>t.roomTag?i&&i.roomTags.includes(t.roomTag):i).sort((i,o)=>{var s,a,l;return((s=i.pref)==null?void 0:s.sticky)===((a=o.pref)==null?void 0:a.sticky)?o.updatedAt-i.updatedAt:(l=i.pref)!=null&&l.sticky?-1:1}):[]}},aq={[je.increment](t){t.count++},[je.setState](t,e){Object.assign(t,e)},[je.updateField](t,e){const{key:r,value:n}=e;Object.assign(t[r],n)},[je.deleteField](t,e){const{key:r,value:n}=e;delete t[r][n]},[je.updateRoom](t,e){const{id:r}=e,n=t.rooms[r];n&&Object.assign(n,e)},[je.updateLastRead](t,e){const{roomId:r,uid:n,messageId:i}=e,o=t.rooms[r];o&&(o.lastReadMessageId[n]=i)},[je.pushMessage](t,e){var r;e.roomId===t.selectedRoomId&&((r=t.messageMultiList.main)==null||r.append(e))},[je.replaceMessage](t,e){var i,o;const{targetMessageId:r,message:n}=e;r===n.id&&((i=t.messageMultiList.main)!=null&&i.contains(n.id))&&t.messageMultiList.main.remove(n.id),(o=t.messageMultiList.main)==null||o.replace(r,n)},[je.clearChatRoom](t){t.messageMultiList=new q3,t.numberOfTotalMessages=-1,t.replyId="",t.navigationTargetId="",t.isTyping={},t.isSearchInRoomMode=!1,t.messageSearchKeyword=""},[je.deleteRoom](t,e){delete t.rooms[e],delete t.roomIdsInFolders[e],delete t.selectedRoomIdsForCreateFolder[e],t.sortedRooms=t.sortedRooms.filter(r=>r.id!==e)},[je.setMap](t,e){const{mapName:r,key:n,value:i}=e;t[r].set(n,i)},[je.deleteMap](t,e){const{mapName:r,key:n}=e;t[r].delete(n)},[je.insertMessageLinkedList](t,e){t.messageMultiList.insert(e),t.messageMultiList.merge()},[je.concateMessageLinkedList](t,e){t.messageMultiList.concate(e),t.messageMultiList.merge()},[je.unshiftMessageLinkedList](t,e){t.messageMultiList.unshift(e),t.messageMultiList.merge()}},sE={state:W3,mutations:aq,getters:sq,actions:oq,namespaced:!0},aE=SM({plugins:[],modules:{imkit:sE}}),ao=t=>{if(console.log(t),t.type==="uri")return window.open(t.uri,"_blank");(t.type==="message"||t.type==="text")&&aE&&aE.dispatch("imkit/quickReply",t)},lq={class:"w-[235px] cursor-pointer overflow-hidden text-base"},cq=["src"],uq={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},dq=["onClick"],fq=c.defineComponent({__name:"TemplateMessageButtonsContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.isIncoming),n=c.computed(()=>!r.value);return(i,o)=>{var s;return c.openBlock(),c.createElementBlock("div",lq,[i.message.template.thumbnailImageUrl?(c.openBlock(),c.createElementBlock("img",{key:0,class:c.normalizeClass(["object-cover text-gray-900 dark:text-gray-200",{"object-contain":i.message.template.imageSize==="contain"}]),style:c.normalizeStyle({"background-color":i.message.template.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:i.message.template.thumbnailImageUrl,onClick:o[0]||(o[0]=a=>c.unref(ao)(i.message.template.defaultAction))},null,14,cq)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:o[1]||(o[1]=a=>c.unref(ao)(i.message.template.defaultAction))},[c.createElementVNode("div",null,c.toDisplayString((s=i.message.template.title)==null?void 0:s.substring(0,40)),1),i.message.template.text?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},c.toDisplayString(!i.message.template.thumbnailImageUrl&&!i.message.template.title?i.message.template.text.substring(0,160):i.message.template.text.substring(0,60)),3)):c.createCommentVNode("",!0)]),i.message.template.actions.length>0?(c.openBlock(),c.createElementBlock("div",uq,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.message.template.actions,a=>(c.openBlock(),c.createElementBlock("div",{key:a.label,class:c.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500 dark:text-slate-300":r.value,"text-slate-100":n.value}]),onClick:l=>c.unref(ao)(a)},c.toDisplayString(a.label),11,dq))),128))])):c.createCommentVNode("",!0)])}}}),hq={class:"w-[250px] overflow-hidden text-base"},pq={class:"p-3"},mq={class:"flex divide-x border-t"},gq=["onClick"],yq=c.defineComponent({__name:"TemplateMessageConfirmContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.isIncoming),n=c.computed(()=>!r.value);return(i,o)=>(c.openBlock(),c.createElementBlock("div",hq,[c.createElementVNode("div",pq,c.toDisplayString(i.message.template.text.substring(0,240)),1),c.createElementVNode("div",mq,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.message.template.actions.slice(0,2),s=>(c.openBlock(),c.createElementBlock("div",{key:s.label,class:c.normalizeClass(["flex grow cursor-pointer items-center justify-center p-2",{"text-slate-500":r.value,"text-slate-100":n.value}]),onClick:a=>c.unref(ao)(s)},c.toDisplayString(s.label),11,gq))),128))])]))}}),bq={class:"flex cursor-pointer gap-2 overflow-auto text-base"},vq=["src","onClick"],_q=["onClick"],wq={key:1,class:"flex flex-col gap-2 border-t py-3 dark:border-gray-500"},xq=["onClick"],Tq=c.defineComponent({__name:"TemplateMessageCarouselContent",props:{message:{}},setup(t){const e=t,r=c.computed(()=>e.message.isIncoming),n=c.computed(()=>!r.value);return(i,o)=>(c.openBlock(),c.createElementBlock("div",bq,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.message.template.columns,(s,a)=>{var l;return c.openBlock(),c.createElementBlock("div",{key:a,class:c.normalizeClass(["w-[235px] cursor-pointer overflow-hidden rounded-xl text-base",[r.value?"bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-200":"bg-blue-400 text-white"]])},[s.thumbnailImageUrl?(c.openBlock(),c.createElementBlock("img",{key:0,class:c.normalizeClass(["object-cover",{"object-contain":i.message.template.imageSize==="contain"}]),style:c.normalizeStyle({"background-color":s.imageBackgroundColor??"#ffffff",height:`${i.message.template.imageAspectRatio==="square"?250:250/1.51}px`}),src:s.thumbnailImageUrl,onClick:d=>c.unref(ao)(s.defaultAction)},null,14,vq)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex flex-col gap-1 p-3 text-sm",onClick:d=>c.unref(ao)(s.defaultAction)},[c.createElementVNode("div",null,c.toDisplayString((l=s.title)==null?void 0:l.substring(0,40)),1),s.text?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["text-sm",{"text-gray-500 dark:text-gray-300":r.value,"text-gray-100":n.value}])},c.toDisplayString(!s.thumbnailImageUrl&&!s.title?s.text.substring(0,160):s.text.substring(0,60)),3)):c.createCommentVNode("",!0)],8,_q),s.actions.length>0&&s.openQuickReply?(c.openBlock(),c.createElementBlock("div",wq,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(s.actions,d=>(c.openBlock(),c.createElementBlock("div",{key:d.label,class:c.normalizeClass(["flex items-center justify-center p-0.5 text-sm",{"text-slate-500 dark:text-slate-300":r.value,"text-slate-100":n.value}]),onClick:f=>c.unref(ao)({type:d.type,roomId:e.message.roomId,message:d.label,uri:d.uri})},c.toDisplayString(d.label),11,xq))),128))])):c.createCommentVNode("",!0)],2)}),128))]))}}),Aq={class:"flex cursor-pointer gap-2 overflow-auto text-base"},Cq=["src","onClick"],Sq=c.defineComponent({__name:"TemplateMessageImageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("div",Aq,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.message.template.columns,(n,i)=>(c.openBlock(),c.createElementBlock("img",{key:i,src:n.imageUrl,class:"h-[250px] w-[250px] rounded-xl object-cover",onClick:o=>c.unref(ao)(n.action)},null,8,Cq))),128))]))}}),Eq=c.defineComponent({__name:"TemplateMessageContent",props:{message:{}},setup(t){const e={[js.Buttons]:fq,[js.Confirm]:yq,[js.Carousel]:Tq,[js.ImageCarousel]:Sq};return(r,n)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(e[r.message.templateType]),{message:r.message},null,8,["message"]))}}),kq=c.defineComponent({__name:"FlexMessageBoxComponent",props:{content:{}},setup(t){const e=r=>({none:"0",xs:"2px",sm:"4px",md:"8px",lg:"12px",xl:"16px",xxl:"20px"})[r]??r;return(r,n)=>(c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["flex",{"flex-col":r.content.layout==="vertical","flex-row":r.content.layout==="horizontal","flex-row items-baseline":r.content.layout==="baseline"}]),style:c.normalizeStyle({backgroundColor:r.content.backgroundColor??"#00000000",borderColor:r.content.borderColor,borderWidth:r.content.borderWidth,borderRadius:r.content.cornerRadius,width:r.content.width,maxWidth:r.content.maxWidth,height:r.content.height,maxHeight:r.content.maxHeight})},[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(r.content.contents,(i,o)=>(c.openBlock(),c.createBlock(Uu,{key:o,content:i,style:c.normalizeStyle(r.content.layout==="vertical"?{marginTop:i.margin?e(i.margin):o===0?0:e(r.content.spacing)}:{marginLeft:i.margin?e(i.margin):o===0?0:e(r.content.spacing)})},null,8,["content","style"]))),128))],6))}}),Iq=c.defineComponent({__name:"FlexMessageButtonComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>e.content.style==="primary"?"#ffffff":e.content.style==="secondary"?"#000000":e.content.color||"#42659a"),n=c.computed(()=>e.content.style==="primary"?e.content.color||"#17c950":e.content.style==="secondary"?e.content.color||"#dcdfe5":"");return(i,o)=>(c.openBlock(),c.createElementBlock("button",{class:c.normalizeClass([[i.content.size==="md"?"h-52px":"h-10"],"rounded-lg"]),style:c.normalizeStyle({color:r.value,backgroundColor:n.value}),onClick:o[0]||(o[0]=s=>c.unref(ao)(i.content.action))},c.toDisplayString(i.content.action.label),7))}}),Dq=["src"],Mq=c.defineComponent({__name:"FlexMessageImageComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>e.content.aspectRatio?e.content.aspectRatio.replace(":","/"):"1/1");return(n,i)=>(c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["w-full overflow-hidden bg-gray-300",[n.content.aspectMode==="cover"?"object-cover":"object-contain"]]),style:c.normalizeStyle({"aspect-ratio":r.value})},[c.createElementVNode("img",{class:"h-full w-full",src:n.content.url},null,8,Dq)],6))}}),Nq=["src"],Oq=c.defineComponent({__name:"FlexMessageVideoComponent",props:{content:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("video",{src:e.content.url},null,8,Nq))}}),Lq=c.defineComponent({__name:"FlexMessageIconComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(c.openBlock(),c.createElementBlock("span",{style:c.normalizeStyle({overflow:"hidden",background:"no-repeat center",backgroundSize:"contain",backgroundImage:"url("+n.content.url+")",width:r.value,height:r.value})},null,4))}}),Bq=c.defineComponent({__name:"FlexMessageTextComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>{const n=e.content.size;return{xxs:"12px",xs:"13px",sm:"14px",md:"16px",lg:"19px",xl:"22px",xxl:"29px","3xl":"35px","4xl":"48px","5xl":"74px"}[n]??"16px"});return(n,i)=>(c.openBlock(),c.createElementBlock("div",{class:"basis-0",style:c.normalizeStyle({flexGrow:n.content.flex??0})},[c.createElementVNode("p",{class:c.normalizeClass([n.content.weight==="bold"?"font-bold":"font-normal",n.content.wrap?"overflow-hidden overflow-clip whitespace-normal break-words":"overflow-hidden truncate whitespace-nowrap"]),style:c.normalizeStyle({fontSize:r.value,color:n.content.color,"text-size-adjust":"100%"})},c.toDisplayString(n.content.text),7)],4))}}),Rq=c.defineComponent({__name:"FlexMessageSpanComponent",props:{content:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("span",null,c.toDisplayString(e.content.text),1))}}),Pq=c.defineComponent({__name:"FlexMessageSeparatorComponent",props:{content:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("div"))}}),Uu=c.defineComponent({__name:"FlexMessageComponent",props:{content:{}},setup(t){const e={box:kq,button:Iq,image:Mq,video:Oq,icon:Lq,text:Bq,span:Rq,separator:Pq},r=t,n=c.computed(()=>r.content.type);return(i,o)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(e[n.value]),{content:i.content},null,8,["content"]))}}),lE=c.defineComponent({__name:"FlexMessageBubbleComponent",props:{content:{}},setup(t){const e=t,r=c.computed(()=>e.content.header),n=c.computed(()=>e.content.hero),i=c.computed(()=>e.content.body),o=c.computed(()=>e.content.footer),s=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.header}),a=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.hero}),l=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.body}),d=c.computed(()=>{var u;return(u=e.content.styles)==null?void 0:u.footer}),f=c.computed(()=>{switch(e.content.size){case"nano":return"10px";case"micro":return"13px";case"kilo":return o.value?"13px 13px 17px 13px":"13px";case"mega":return o.value?"19px 20px 10px 20px":"20px";case"giga":return o.value?"19px 20px 10px 20px":"20px";default:return"20px"}});return(u,h)=>{var p,m,y,b,v,E,A,k,C,T,O,D;return c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["overflow-hidden rounded-xl bg-gray-100 text-[#444444] dark:bg-zinc-700",{"w-[120px]":u.content.size==="nano","w-[160px]":u.content.size==="micro","w-[260px]":u.content.size==="kilo","w-[300px]":u.content.size==="mega"||!u.content.size,"w-[386px]":u.content.size==="giga"}])},[r.value?(c.openBlock(),c.createBlock(Uu,{key:0,content:r.value,style:c.normalizeStyle({backgroundColor:(p=s.value)==null?void 0:p.backgroundColor,borderBottom:(m=s.value)!=null&&m.separator?`1px solid ${(y=s.value)==null?void 0:y.separatorColor}`:"none"})},null,8,["content","style"])):c.createCommentVNode("",!0),n.value?(c.openBlock(),c.createBlock(Uu,{key:1,content:n.value,style:c.normalizeStyle({backgroundColor:(b=a.value)==null?void 0:b.backgroundColor,borderBottom:(v=a.value)!=null&&v.separator?`1px solid ${(E=a.value)==null?void 0:E.separatorColor}`:"none"})},null,8,["content","style"])):c.createCommentVNode("",!0),i.value?(c.openBlock(),c.createBlock(Uu,{key:2,content:i.value,style:c.normalizeStyle({backgroundColor:(A=l.value)==null?void 0:A.backgroundColor,borderBottom:(k=l.value)!=null&&k.separator?`1px solid ${(C=l.value)==null?void 0:C.separatorColor}`:"none",padding:f.value})},null,8,["content","style"])):c.createCommentVNode("",!0),o.value?(c.openBlock(),c.createBlock(Uu,{key:3,content:o.value,class:"p-2.5",style:c.normalizeStyle({backgroundColor:(T=d.value)==null?void 0:T.backgroundColor,borderBottom:(O=d.value)!=null&&O.separator?`1px solid ${(D=d.value)==null?void 0:D.separatorColor}`:"none"})},null,8,["content","style"])):c.createCommentVNode("",!0)],2)}}}),Fq=c.defineComponent({__name:"FlexMessageBubbleContent",props:{message:{}},setup(t){return(e,r)=>(c.openBlock(),c.createBlock(lE,{content:e.message.contents},null,8,["content"]))}}),Uq={class:"flex items-start gap-2 overflow-auto"},jq=c.defineComponent({__name:"FlexMessageCarouselContent",props:{message:{}},setup(t){return(e,r)=>(c.openBlock(),c.createElementBlock("div",Uq,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.message.contents.contents,(n,i)=>(c.openBlock(),c.createBlock(lE,{key:i,content:n},null,8,["content"]))),128))]))}}),$q=c.defineComponent({__name:"FlexMessageContent",props:{message:{}},setup(t){const e={[Jm.Bubble]:Fq,[Jm.Carousel]:jq};return(r,n)=>(c.openBlock(),c.createBlock(c.resolveDynamicComponent(e[r.message.flexType]),{message:r.message},null,8,["message"]))}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".mapdiv[data-v-d05fc6bc]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var zq=Object.defineProperty,Vq=(t,e,r)=>e in t?zq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cE=(t,e,r)=>(Vq(t,typeof e!="symbol"?e+"":e,r),r);const ca=Symbol("map"),ua=Symbol("api"),cy=Symbol("marker"),uy=Symbol("markerCluster"),Kh=Symbol("CustomMarker"),uE=Symbol("mapTilesLoaded"),$l=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Hq(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(u){s(u)}}function l(f){try{d(n.throw(f))}catch(u){s(u)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((n=n.apply(t,[])).next())})}var qq=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const dE="__googleMapsScriptId";var zl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(zl||(zl={}));let Wq=class Ec{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:i,id:o=dE,language:s,libraries:a=[],mapIds:l,nonce:d,region:f,retries:u=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=o||dE,this.language=s,this.libraries=a,this.mapIds=l,this.nonce=d,this.region=f,this.retries=u,this.url=h,this.version=p,Ec.instance){if(!qq(this.options,Ec.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Ec.instance.options)}`);return Ec.instance}Ec.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?zl.FAILURE:this.done?zl.SUCCESS:this.loading?zl.LOADING:zl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(o=>{let s,a,l,d="The Google Maps JavaScript API",f="google",u="importLibrary",h="__ib__",p=document,m=window;m=m[f]||(m[f]={});const y=m.maps||(m.maps={}),b=new Set,v=new URLSearchParams,E=()=>s||(s=new Promise((A,k)=>Hq(this,void 0,void 0,function*(){var C;yield a=p.createElement("script"),a.id=this.id,v.set("libraries",[...b]+"");for(l in o)v.set(l.replace(/[A-Z]/g,T=>"_"+T[0].toLowerCase()),o[l]);v.set("callback",f+".maps."+h),a.src=this.url+"?"+v,y[h]=A,a.onerror=()=>s=k(Error(d+" could not load.")),a.nonce=this.nonce||((C=p.querySelector("script[nonce]"))===null||C===void 0?void 0:C.nonce)||"",p.head.append(a)})));y[u]?console.warn(d+" only loads once. Ignoring:",o):y[u]=(A,...k)=>b.add(A)&&E().then(()=>y[u](A,...k))})(n);const i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{const s=new ErrorEvent("error",{error:o});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}};function Gq(t){return class extends t.OverlayView{constructor(e){super(),cE(this,"element"),cE(this,"opts");const{element:r,...n}=e;this.element=r,this.opts=n,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof t.LatLng?this.opts.position:new t.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||Number(e.style.opacity)>.01)}onAdd(){if(!this.element)return;const e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const e=this.getProjection(),r=e==null?void 0:e.fromLatLngToDivPixel(this.getPosition());if(r){this.element.style.position="absolute";const n=this.element.offsetHeight,i=this.element.offsetWidth;let o,s;switch(this.opts.anchorPoint){case"TOP_CENTER":o=r.x-i/2,s=r.y;break;case"BOTTOM_CENTER":o=r.x-i/2,s=r.y-n;break;case"LEFT_CENTER":o=r.x,s=r.y-n/2;break;case"RIGHT_CENTER":o=r.x-i,s=r.y-n/2;break;case"TOP_LEFT":o=r.x,s=r.y;break;case"TOP_RIGHT":o=r.x-i,s=r.y;break;case"BOTTOM_LEFT":o=r.x,s=r.y-n;break;case"BOTTOM_RIGHT":o=r.x-i,s=r.y-n;break;default:o=r.x-i/2,s=r.y-n/2}this.element.style.left=o+"px",this.element.style.top=s+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(e){const{element:r,...n}=e;this.element=r,this.opts=n,this.draw()}}}let fE;const hE=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],Qq=c.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:hE,setup(t,{emit:e}){const r=c.ref(),n=c.ref(!1),i=c.ref(),o=c.ref(),s=c.ref(!1);c.provide(ca,i),c.provide(ua,o),c.provide(uE,s);const a=()=>{const u={...t};Object.keys(u).forEach(m=>{u[m]===void 0&&delete u[m]});const h=m=>{var y;return m?{position:(y=o.value)==null?void 0:y.ControlPosition[m]}:{}},p={scaleControlOptions:t.scaleControlStyle?{style:t.scaleControlStyle}:{},panControlOptions:h(t.panControlPosition),zoomControlOptions:h(t.zoomControlPosition),rotateControlOptions:h(t.rotateControlPosition),streetViewControlOptions:h(t.streetViewControlPosition),fullscreenControlOptions:h(t.fullscreenControlPosition),disableDefaultUI:t.disableDefaultUi};return{...u,...p}},l=c.watch([o,i],([u,h])=>{const p=u,m=h;p&&m&&(p.event.addListenerOnce(m,"tilesloaded",()=>{s.value=!0}),setTimeout(l,0))},{immediate:!0}),d=()=>{try{const{apiKey:u,region:h,version:p,language:m,libraries:y,nonce:b}=t;fE=new Wq({apiKey:u,region:h,version:p,language:m,libraries:y,nonce:b})}catch(u){console.error(u)}},f=u=>{o.value=c.markRaw(u.maps),i.value=c.markRaw(new u.maps.Map(r.value,a()));const h=Gq(o.value);o.value[Kh]=h,hE.forEach(m=>{var y;(y=i.value)==null||y.addListener(m,b=>e(m,b))}),n.value=!0;const p=Object.keys(t).filter(m=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(m)).map(m=>c.toRef(t,m));c.watch([()=>t.center,()=>t.zoom,...p],([m,y],[b,v])=>{var E,A,k;const{center:C,zoom:T,...O}=a();(E=i.value)==null||E.setOptions(O),y!==void 0&&y!==v&&((A=i.value)==null||A.setZoom(y));const D=!b||m.lng!==b.lng||m.lat!==b.lat;m&&D&&((k=i.value)==null||k.panTo(m))})};return c.onMounted(()=>{t.apiPromise&&t.apiPromise instanceof Promise?t.apiPromise.then(f):(d(),fE.load().then(f))}),c.onBeforeUnmount(()=>{var u;s.value=!1,i.value&&((u=o.value)==null||u.event.clearInstanceListeners(i.value))}),{mapRef:r,ready:n,map:i,api:o,mapTilesLoaded:s}}}),Yq=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},Kq={ref:"mapRef",class:"mapdiv"};function Xq(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",null,[c.createElementVNode("div",Kq,null,512),c.renderSlot(t.$slots,"default",c.normalizeProps(c.guardReactiveProps({ready:t.ready,map:t.map,api:t.api,mapTilesLoaded:t.mapTilesLoaded})),void 0,!0)])}const pE=Yq(Qq,[["render",Xq],["__scopeId","data-v-d05fc6bc"]]);function Zq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jq=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const Bo=Zq(Jq),mE=["click","drag","dragend","dragstart","gmp-click"];c.defineComponent({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:mE,setup(t,{emit:e,expose:r,slots:n}){const i=c.toRef(t,"options"),o=c.toRef(t,"pinOptions"),s=c.ref(),a=c.inject(ca,c.ref()),l=c.inject(ua,c.ref()),d=c.inject(uy,c.ref()),f=c.computed(()=>!!(d.value&&l.value&&s.value instanceof google.maps.marker.AdvancedMarkerElement));return c.watch([a,i,o],async(u,[h,p,m])=>{var y,b,v;const E=!Bo(i.value,p)||!Bo(o.value,m)||a.value!==h;if(!a.value||!l.value||!E)return;const{AdvancedMarkerElement:A,PinElement:k}=l.value.marker;if(s.value){const{map:C,content:T,...O}=i.value;Object.assign(s.value,{content:o.value?new k(o.value).element:T,...O}),f.value&&((y=d.value)==null||y.removeMarker(s.value),(b=d.value)==null||b.addMarker(s.value))}else o.value&&(i.value.content=new k(o.value).element),s.value=c.markRaw(new A(i.value)),f.value?(v=d.value)==null||v.addMarker(s.value):s.value.map=a.value,mE.forEach(C=>{var T;(T=s.value)==null||T.addListener(C,O=>e(C,O))})},{immediate:!0}),c.onBeforeUnmount(()=>{var u,h;s.value&&((u=l.value)==null||u.event.clearInstanceListeners(s.value),f.value?(h=d.value)==null||h.removeMarker(s.value):s.value.map=null)}),c.provide(cy,s),r({marker:s}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}});const eW=t=>t==="Marker",tW=t=>t===Kh,Vl=(t,e,r,n)=>{const i=c.ref(),o=c.inject(ca,c.ref()),s=c.inject(ua,c.ref()),a=c.inject(uy,c.ref()),l=c.computed(()=>!!(a.value&&s.value&&(i.value instanceof s.value.Marker||i.value instanceof s.value[Kh])));return c.watch([o,r],(d,[f,u])=>{var h,p,m;const y=!Bo(r.value,u)||o.value!==f;!o.value||!s.value||!y||(i.value?(i.value.setOptions(r.value),l.value&&((h=a.value)==null||h.removeMarker(i.value),(p=a.value)==null||p.addMarker(i.value))):(eW(t)?i.value=c.markRaw(new s.value[t](r.value)):tW(t)?i.value=c.markRaw(new s.value[t](r.value)):i.value=c.markRaw(new s.value[t]({...r.value,map:o.value})),l.value?(m=a.value)==null||m.addMarker(i.value):i.value.setMap(o.value),e.forEach(b=>{var v;(v=i.value)==null||v.addListener(b,E=>n(b,E))})))},{immediate:!0}),c.onBeforeUnmount(()=>{var d,f;i.value&&((d=s.value)==null||d.event.clearInstanceListeners(i.value),l.value?(f=a.value)==null||f.removeMarker(i.value):i.value.setMap(null))}),i},gE=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],yE=c.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:gE,setup(t,{emit:e,expose:r,slots:n}){const i=c.toRef(t,"options"),o=Vl("Marker",gE,i,e);return c.provide(cy,o),r({marker:o}),()=>{var s;return(s=n.default)==null?void 0:s.call(n)}}});c.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:$l,setup(t,{emit:e}){const r=c.toRef(t,"options");return{polyline:Vl("Polyline",$l,r,e)}},render:()=>null}),c.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:$l,setup(t,{emit:e}){const r=c.toRef(t,"options");return{polygon:Vl("Polygon",$l,r,e)}},render:()=>null});const bE=$l.concat(["bounds_changed"]);c.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:bE,setup(t,{emit:e}){const r=c.toRef(t,"options");return{rectangle:Vl("Rectangle",bE,r,e)}},render:()=>null});const vE=$l.concat(["center_changed","radius_changed"]);c.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:vE,setup(t,{emit:e}){const r=c.toRef(t,"options");return{circle:Vl("Circle",vE,r,e)}},render:()=>null}),c.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(t,{emit:e}){const r=c.ref(null),n=c.inject(ca,c.ref()),i=c.inject(ua,c.ref()),o=c.inject(uE,c.ref(!1)),s=c.watch([o,i,r],([d,f,u])=>{f&&d&&u&&(a(t.position),e("content:loaded"),setTimeout(s,0))},{immediate:!0}),a=d=>{if(n.value&&i.value&&r.value){const f=i.value.ControlPosition[d];n.value.controls[f].push(r.value)}},l=d=>{if(n.value&&i.value){let f=null;const u=i.value.ControlPosition[d];n.value.controls[u].forEach((h,p)=>{h===r.value&&(f=p)}),f!==null&&n.value.controls[u].removeAt(f)}};return c.onBeforeUnmount(()=>l(t.position)),c.watch(()=>t.position,(d,f)=>{l(f),a(d)}),c.watch(()=>t.index,d=>{d&&r.value&&(r.value.index=t.index)}),{controlRef:r}}});const _E=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"];c.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[..._E,"update:modelValue"],setup(t,{slots:e,emit:r,expose:n}){const i=c.ref(),o=c.ref(),s=c.inject(ca,c.ref()),a=c.inject(ua,c.ref()),l=c.inject(cy,c.ref());let d,f=t.modelValue;const u=c.computed(()=>{var y;return(y=e.default)==null?void 0:y.call(e).some(b=>b.type!==c.Comment)}),h=y=>{f=y,r("update:modelValue",y)},p=y=>{i.value&&(i.value.open({map:s.value,anchor:l.value,...y}),h(!0))},m=()=>{i.value&&(i.value.close(),h(!1))};return c.onMounted(()=>{c.watch([s,()=>t.options],([y,b],[v,E])=>{var A;const k=!Bo(b,E)||s.value!==v;s.value&&a.value&&k&&(i.value?(i.value.setOptions({...b,content:u.value?o.value:b.content}),l.value||p()):(i.value=c.markRaw(new a.value.InfoWindow({...b,content:u.value?o.value:b.content})),l.value&&(d=l.value.addListener("click",()=>{p()})),(!l.value||f)&&p(),_E.forEach(C=>{var T;(T=i.value)==null||T.addListener(C,O=>r(C,O))}),(A=i.value)==null||A.addListener("closeclick",()=>h(!1))))},{immediate:!0}),c.watch(()=>t.modelValue,y=>{y!==f&&(y?p():m())})}),c.onBeforeUnmount(()=>{var y;d&&d.remove(),i.value&&((y=a.value)==null||y.event.clearInstanceListeners(i.value),m())}),n({infoWindow:i,open:p,close:m}),{infoWindow:i,infoWindowRef:o,hasSlotContent:u,open:p,close:m}}});const wE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],dy=1,ju=8;let rW=class N6{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==dy)throw new Error(`Got v${i} data when expected v${dy}.`);const o=wE[n&15];if(!o)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new N6(a,s,o,e)}constructor(e,r=64,n=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=wE.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,ju,e),this.coords=new this.ArrayType(this.data,ju+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ju+s+a+l),this.ids=new this.IndexArrayType(this.data,ju,e),this.coords=new this.ArrayType(this.data,ju+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(dy<<4)+o]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return fy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:a}=this,l=[0,o.length-1,0],d=[];for(;l.length;){const f=l.pop()||0,u=l.pop()||0,h=l.pop()||0;if(u-h<=a){for(let b=h;b<=u;b++){const v=s[2*b],E=s[2*b+1];v>=e&&v<=n&&E>=r&&E<=i&&d.push(o[b])}continue}const p=h+u>>1,m=s[2*p],y=s[2*p+1];m>=e&&m<=n&&y>=r&&y<=i&&d.push(o[p]),(f===0?e<=m:r<=y)&&(l.push(h),l.push(p-1),l.push(1-f)),(f===0?n>=m:i>=y)&&(l.push(p+1),l.push(u),l.push(1-f))}return d}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[],d=n*n;for(;a.length;){const f=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=s){for(let b=h;b<=u;b++)TE(o[2*b],o[2*b+1],e,r)<=d&&l.push(i[b]);continue}const p=h+u>>1,m=o[2*p],y=o[2*p+1];TE(m,y,e,r)<=d&&l.push(i[p]),(f===0?e-n<=m:r-n<=y)&&(a.push(h),a.push(p-1),a.push(1-f)),(f===0?e+n>=m:r+n>=y)&&(a.push(p+1),a.push(u),a.push(1-f))}return l}};function fy(t,e,r,n,i,o){if(i-n<=r)return;const s=n+i>>1;xE(t,e,s,n,i,o),fy(t,e,r,n,s-1,1-o),fy(t,e,r,s+1,i,1-o)}function xE(t,e,r,n,i,o){for(;i>n;){if(i-n>600){const d=i-n+1,f=r-n+1,u=Math.log(d),h=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*h*(d-h)/d)*(f-d/2<0?-1:1),m=Math.max(n,Math.floor(r-f*h/d+p)),y=Math.min(i,Math.floor(r+(d-f)*h/d+p));xE(t,e,r,m,y,o)}const s=e[2*r+o];let a=n,l=i;for($u(t,e,n,r),e[2*i+o]>s&&$u(t,e,n,i);a<l;){for($u(t,e,a,l),a++,l--;e[2*a+o]<s;)a++;for(;e[2*l+o]>s;)l--}e[2*n+o]===s?$u(t,e,n,l):(l++,$u(t,e,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1)}}function $u(t,e,r,n){hy(t,r,n),hy(e,2*r,2*n),hy(e,2*r+1,2*n+1)}function hy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function TE(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}const nW={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},AE=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),da=2,ds=3,py=4,fs=5,CE=6;let SE=class{constructor(e){this.options=Object.assign(Object.create(nW),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const o=`prepare ${e.length} points`;r&&console.time(o),this.points=e;const s=[];for(let l=0;l<e.length;l++){const d=e[l];if(!d.geometry)continue;const[f,u]=d.geometry.coordinates,h=AE(Xh(f)),p=AE(Zh(u));s.push(h,p,1/0,l,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(o);for(let l=i;l>=n;l--){const d=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),r&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-d)}return r&&console.timeEnd("total time"),this}getClusters(e,r){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){const u=this.getClusters([n,i,180,s],r),h=this.getClusters([-180,i,o,s],r);return u.concat(h)}const a=this.trees[this._limitZoom(r)],l=a.range(Xh(n),Zh(s),Xh(o),Zh(i)),d=a.data,f=[];for(const u of l){const h=this.stride*u;f.push(d[h+fs]>1?EE(d,h,this.clusterProps):this.points[d[h+ds]])}return f}getChildren(e){const r=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(i);const s=o.data;if(r*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=s[r*this.stride],d=s[r*this.stride+1],f=o.within(l,d,a),u=[];for(const h of f){const p=h*this.stride;s[p+py]===e&&u.push(s[p+fs]>1?EE(s,p,this.clusterProps):this.points[s[p+ds]])}if(u.length===0)throw new Error(i);return u}getLeaves(e,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,e,r,n,0),i}getTile(e,r,n){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:a}=this.options,l=a/s,d=(n-l)/o,f=(n+1+l)/o,u={features:[]};return this._addTileFeatures(i.range((r-l)/o,d,(r+1+l)/o,f),i.data,r,n,o,u),r===0&&this._addTileFeatures(i.range(1-l/o,d,1,f),i.data,o,n,o,u),r===o-1&&this._addTileFeatures(i.range(0,d,l/o,f),i.data,-1,n,o,u),u.features.length?u:null}getClusterExpansionZoom(e){let r=this._getOriginZoom(e)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,i,o){const s=this.getChildren(r);for(const a of s){const l=a.properties;if(l&&l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,n,i,o):o<i?o++:e.push(a),e.length===n)break}return o}_createTree(e){const r=new rW(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,i,o,s){for(const a of e){const l=a*this.stride,d=r[l+fs]>1;let f,u,h;if(d)f=kE(r,l,this.clusterProps),u=r[l],h=r[l+1];else{const y=this.points[r[l+ds]];f=y.properties;const[b,v]=y.geometry.coordinates;u=Xh(b),h=Zh(v)}const p={type:1,geometry:[[Math.round(this.options.extent*(u*o-n)),Math.round(this.options.extent*(h*o-i))]],tags:f};let m;d||this.options.generateId?m=r[l+ds]:m=this.points[r[l+ds]].id,m!==void 0&&(p.id=m),s.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){const{radius:n,extent:i,reduce:o,minPoints:s}=this.options,a=n/(i*Math.pow(2,r)),l=e.data,d=[],f=this.stride;for(let u=0;u<l.length;u+=f){if(l[u+da]<=r)continue;l[u+da]=r;const h=l[u],p=l[u+1],m=e.within(l[u],l[u+1],a),y=l[u+fs];let b=y;for(const v of m){const E=v*f;l[E+da]>r&&(b+=l[E+fs])}if(b>y&&b>=s){let v=h*y,E=p*y,A,k=-1;const C=((u/f|0)<<5)+(r+1)+this.points.length;for(const T of m){const O=T*f;if(l[O+da]<=r)continue;l[O+da]=r;const D=l[O+fs];v+=l[O]*D,E+=l[O+1]*D,l[O+py]=C,o&&(A||(A=this._map(l,u,!0),k=this.clusterProps.length,this.clusterProps.push(A)),o(A,this._map(l,O)))}l[u+py]=C,d.push(v/b,E/b,1/0,C,-1,b),o&&d.push(k)}else{for(let v=0;v<f;v++)d.push(l[u+v]);if(b>1)for(const v of m){const E=v*f;if(!(l[E+da]<=r)){l[E+da]=r;for(let A=0;A<f;A++)d.push(l[E+A])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+fs]>1){const s=this.clusterProps[e[r+CE]];return n?Object.assign({},s):s}const i=this.points[e[r+ds]].properties,o=this.options.map(i);return n&&o===i?Object.assign({},o):o}};function EE(t,e,r){return{type:"Feature",id:t[e+ds],properties:kE(t,e,r),geometry:{type:"Point",coordinates:[iW(t[e]),oW(t[e+1])]}}}function kE(t,e,r){const n=t[e+fs],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,o=t[e+CE],s=o===-1?{}:Object.assign({},r[o]);return Object.assign(s,{cluster:!0,cluster_id:t[e+ds],point_count:n,point_count_abbreviated:i})}function Xh(t){return t/360+.5}function Zh(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function iW(t){return(t-.5)*360}function oW(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function my(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}let Kr=class{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}};class zu{constructor({markers:e,position:r}){this.markers=e,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)e.extend(Kr.getPosition(r));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Kr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Kr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const sW=(t,e,r,n)=>{const i=IE(t.getBounds(),e,n);return r.filter(o=>i.contains(Kr.getPosition(o)))},IE=(t,e,r)=>{const{northEast:n,southWest:i}=aW(t,e),o=lW({northEast:n,southWest:i},r);return cW(o,e)},DE=(t,e,r)=>{const n=IE(t,e,r),i=n.getNorthEast(),o=n.getSouthWest();return[o.lng(),o.lat(),i.lng(),i.lat()]},aW=(t,e)=>({northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}),lW=({northEast:t,southWest:e},r)=>(t.x+=r,t.y-=r,e.x-=r,e.y+=r,{northEast:t,southWest:e}),cW=({northEast:t,southWest:e},r)=>{const n=r.fromDivPixelToLatLng(e),i=r.fromDivPixelToLatLng(t);return new google.maps.LatLngBounds(n,i)};let ME=class{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return dW(e)}},uW=class extends ME{constructor(e){var{viewportPadding:r=60}=e,n=my(e,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=r}calculate({markers:e,map:r,mapCanvasProjection:n}){return r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:sW(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}};const dW=t=>t.map(e=>new zu({position:Kr.getPosition(e),markers:[e]}));let fW=class extends ME{constructor(e){var{maxZoom:r,radius:n=60}=e,i=my(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new SE(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){let r=!1;const n={zoom:e.map.getZoom()};if(!Bo(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=Kr.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!Bo(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new zu({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new zu({markers:[i],position:Kr.getPosition(i)})}},hW=class extends uW{constructor(e){var{maxZoom:r,radius:n=60,viewportPadding:i=60}=e,o=my(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:r,viewportPadding:i}),this.superCluster=new SE(Object.assign({maxZoom:this.maxZoom,radius:n},o)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const r={zoom:Math.round(e.map.getZoom()),view:DE(e.map.getBounds(),e.mapCanvasProjection,this.viewportPadding)};let n=!Bo(this.state,r);if(!Bo(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(o=>{const s=Kr.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:o}}});this.superCluster.load(i)}return n&&(this.clusters=this.cluster(e),this.state=r),{clusters:this.clusters,changed:n}}cluster({map:e,mapCanvasProjection:r}){const n={zoom:Math.round(e.getZoom()),view:DE(e.getBounds(),r,this.viewportPadding)};return this.superCluster.getClusters(n.view,n.zoom).map(i=>this.transformCluster(i))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new zu({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:e}});const i=n.marker;return new zu({markers:[i],position:Kr.getPosition(i)})}},pW=class{constructor(e,r){this.markers={sum:e.length};const n=r.map(o=>o.count),i=n.reduce((o,s)=>o+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}},mW=class{render({count:e,position:r},n,i){const o=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,s=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Kr.isAdvancedMarkerAvailable(i)){const d=document.createElement("div");d.innerHTML=o;const f=d.firstElementChild;f.setAttribute("transform","translate(0 25)");const u={map:i,position:r,zIndex:a,title:s,content:f};return new google.maps.marker.AdvancedMarkerElement(u)}const l={position:r,zIndex:a,title:s,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}};function gW(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}let yW=class O6{constructor(){gW(O6,google.maps.OverlayView)}};var Hl;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Hl||(Hl={}));const bW=(t,e,r)=>{r.fitBounds(e.bounds)};let vW=class extends yW{constructor({map:e,markers:r=[],algorithmOptions:n={},algorithm:i=new fW(n),renderer:o=new mW,onClusterClick:s=bW}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){const n=this.markers.indexOf(e);return n===-1?!1:(Kr.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){let n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Hl.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const o=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||Kr.setMap(s.marker,null):o.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>o.forEach(s=>Kr.setMap(s,null)))}google.maps.event.trigger(this,Hl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Kr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new pW(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,r),n.markers.forEach(i=>Kr.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Hl.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),Kr.setMap(n.marker,r)})}};const NE=Object.values(Hl);c.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:NE,setup(t,{emit:e,expose:r,slots:n}){const i=c.ref(),o=c.inject(ca,c.ref()),s=c.inject(ua,c.ref());return c.provide(uy,i),c.watch(o,()=>{o.value&&(i.value=c.markRaw(new vW({map:o.value,algorithm:new hW(t.options.algorithmOptions??{}),...t.options})),NE.forEach(a=>{var l;(l=i.value)==null||l.addListener(a,d=>e(a,d))}))},{immediate:!0}),c.onBeforeUnmount(()=>{var a;i.value&&((a=s.value)==null||a.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),r({markerCluster:i}),()=>{var a;return(a=n.default)==null?void 0:a.call(n)}}}),c.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(t,{slots:e,emit:r,expose:n}){const i=c.ref(),o=c.computed(()=>{var l;return(l=e.default)==null?void 0:l.call(e).some(d=>d.type!==c.Comment)}),s=c.computed(()=>({...t.options,element:i.value})),a=Vl(Kh,[],s,r);return n({customMarker:a}),{customMarkerRef:i,customMarker:a,hasSlotContent:o}}}),c.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=c.ref(),r=c.inject(ca,c.ref()),n=c.inject(ua,c.ref());return c.watch([r,()=>t.options],([i,o],[s,a])=>{var l;const d=!Bo(o,a)||r.value!==s;if(r.value&&n.value&&d){const f=structuredClone(o);if(f.data&&!(f.data instanceof n.value.MVCArray)){const u=n.value.LatLng;f.data=(l=f.data)==null?void 0:l.map(h=>h instanceof u||"location"in h&&(h.location instanceof u||h.location===null)?h:"location"in h?{...h,location:new u(h.location)}:new u(h))}e.value?e.value.setOptions(f):e.value=c.markRaw(new n.value.visualization.HeatmapLayer({...f,map:r.value}))}},{immediate:!0}),c.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const _W=t=>(c.pushScopeId("data-v-b091599d"),t=t(),c.popScopeId(),t),wW={class:"w-[250px] p-2 underline sm:w-[300px]"},xW=_W(()=>c.createElementVNode("div",{class:"absolute inset-0"},null,-1)),TW=pr(c.defineComponent({__name:"LocationMessageContent",props:{message:{}},setup(t){const e=t,n=Bt().state.imkit.config.mapApiKey,i=c.computed(()=>({lat:e.message.latitude,lng:e.message.longitude})),o=()=>{window.open(`https://www.google.com/maps/search/?api=1&query=${e.message.address}`,"_blank")};return(s,a)=>(c.openBlock(),c.createElementBlock("div",{class:"relative -mx-3 -my-2 flex cursor-pointer flex-col",onClick:o},[c.createVNode(c.unref(pE),{"api-key":c.unref(n),center:i.value,zoom:15,disableDefaultUi:!0,class:"h-[150px] w-[250px] sm:h-[200px] sm:w-[300px]"},{default:c.withCtx(()=>[c.createVNode(c.unref(yE),{options:{position:i.value}},null,8,["options"])]),_:1},8,["api-key","center"]),c.createElementVNode("div",wW,c.toDisplayString(s.message.address),1),xW]))}}),[["__scopeId","data-v-b091599d"]]),AW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACS0lEQVR4nO2bPYsUQRCGG1E0MRAFTQSNTjRSQxE0M9NfoGCwOv3O3k7XKpxR9e7hdyRGlxoan2B+4AcamBmYGKhgZqAmoitzB87eMh93595uz877QCcbLQ9dNV3V1cYQQgghhBBCpswV1T3Anf3T/h/BYZP+Cev0uXX+N8QPIPoFzt9qtx/tNk0HiZ6C+B9rYtYv6/z7OOmdMU0GTt/myRmSlO6qx1dv3t9rmkbcXTxaJmfdcvrROr1gmkSc9M5uWFAm6kljEjm6em7TglYl+a+R08tm1sFWBWW7aTmSxcNmVsH/ClqT9A3iO6q6w8waGIegLOxWrnf6c2aWwDgFpUcC0Z9w6lutpV1mFsCYBQ2Jehd1+6dN3cE2CVqV5PwvK3ovre9MXcE2ChpaHyLXO2/qCCYjKC1+/1jnl2pXrmBigv6F3Web9C6auoAJCxpK4k9bogdM6GBKgmpTrmCagrL1LNhyBWEICrdcQSiCsrBbiUWPmVBAaIJCK1cQoKBMlH9pb+ghCpJSSa9VdSd3kBRLikUvUZCU7CLnH1KQlOUjfUBBwhAbbO1cpK+YpKXwPPRifv72QX7mhQfFwcZDiqXGoCDXsFhF8c5huwP54cSGGYq/UGy5Ir9sYNMe+eUCr31QnIR5cYj8cOLVM4qTMIcXEHo/eRyAA1TlcASvAg5xVsAx4Ao4SF7BtY4e2UT7s3lPEVKs+DcV1y7NfcyS0pb+Sev0e4EcPodKaXf1+MiDuk9WdIEP6kZIhUQLd/eN/k4IIYQQQggxDeMvr6MHGaopSLgAAAAASUVORK5CYII=",CW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO2bzy5DQRTGJ8GaDQ+ANZ4FXbDxZ9HoGTc1p01scA5SGmshfQLBAu+gkYgXYqEyjUhEae/0Ti/y/ZJZ3vnO/e733d0xBgAAAAAAgFhsVGSCKrJoK1L8cpwsJ9XDqaw1ycm0v7uz5v5CktTGTd6IyLBlObEsL5a19f2RV8t6WS7LWL+a/g7r9PpnPW2R02fr9NjPaPKCnDa6DfrpOG32M3Cx2Bgh1od0mnJm8oDKMveejN6H9V+WZTVYk2U9rZ6fsVSVGTNorJO99MO2B74N1SSndyGaxLqb7dv3MizreZBBTh5DNf2zgQadm1///+EPg55CNf2zQQY5bZhBQzAIBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAYhQTEhVAwGIUExIVQMBiFBMSFUDAb1lyDGKkKUZRZyemMGvcziZMcMmk13MBuyDmW3dCVU0zpd+zPrUCE1I5b7fhbq2huOTpsp03Nq8kJEhoml3l5/7PIVifWiuF0fzWIlk1iueqjyM7EcFQpXQyZvkqQ2XqrIfKcFW2JdKm3JZNaa/k5/dydNP8uvWOoFAAAAAADm3/IGGLsxyp+ApQ8AAAAASUVORK5CYII=",SW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nO3bTy5DYRSG8ZuosU5qAWWMtZQJE38GVkGHiHGj6QoEA+yBSJpuiIFXGtesvPee77sp+vwS057zPcXsFAUAAADQFEmrknYkHc/42ZO01sDM9fKzZ83cltTJPTOyZEvSpaQ3/exd0o2kdoaZbUl38l4lnU93zPPa2LIj1fOcsrCkZUkvNWde5X119WW3yt+Mug4SZh4F5k133Mj7+mrL9hXzkDDzMTjzNO/rqy07DC47Tpg5Ds4c5n19M/9/vkwSZk4UM8r7+mrLjoLLEsggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZBDIIJBBIINABoEMAhkEMghkEMggkEEgg0AGgQwCGQQyCGQQyCCQQSCDQAaBDAIZBDIIZCxMoGFw2YU5RegHl72fwzHLSd7XV1t2M3gOtZ8w8/DPnEMF/8yeEg/qWuVRXh2DYl70ufBFef7ovsVrSSuZTjJvK4SZ7nQmaSnPa9OW7kjqfXNguyup28DMbvnZs2b2fsVRLwAAAIp/6wPxkEFCV8mUxgAAAABJRU5ErkJggg==";var OE={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||r;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var h=this||r;if(u=parseFloat(u),h.ctx||f(),typeof u<"u"&&u>=0&&u<=1){if(h._volume=u,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),y=0;y<m.length;y++){var b=h._howls[p]._soundById(m[y]);b&&b._node&&(b._node.volume=b._volume*u)}return h}return h._volume},mute:function(u){var h=this||r;h.ctx||f(),h._muted=u,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u?0:h._volume,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),y=0;y<m.length;y++){var b=h._howls[p]._soundById(m[y]);b&&b._node&&(b._node.muted=u?!0:b._muted)}return h},stop:function(){for(var u=this||r,h=0;h<u._howls.length;h++)u._howls[h].stop();return u},unload:function(){for(var u=this||r,h=u._howls.length-1;h>=0;h--)u._howls[h].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,f()),u},codecs:function(u){return(this||r)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||r;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var h=new Audio;h.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||r,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return u}if(!h||typeof h.canPlayType!="function")return u;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=u._navigator?u._navigator.userAgent:"",y=m.match(/OPR\/(\d+)/g),b=y&&parseInt(y[0].split("/")[1],10)<33,v=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,E=m.match(/Version\/(.*?) /),A=v&&E&&parseInt(E[1],10)<15;return u._codecs={mp3:!!(!b&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||r;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var h=function(p){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,u._releaseHtml5Audio(m)}catch{u.noAudio=!0;break}for(var y=0;y<u._howls.length;y++)if(!u._howls[y]._webAudio)for(var b=u._howls[y]._getSoundIds(),v=0;v<b.length;v++){var E=u._howls[y]._soundById(b[v]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}u._autoResume();var A=u.ctx.createBufferSource();A.buffer=u._scratchBuffer,A.connect(u.ctx.destination),typeof A.start>"u"?A.noteOn(0):A.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),A.onended=function(){A.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var k=0;k<u._howls.length;k++)u._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),u}},_obtainHtml5Audio:function(){var u=this||r;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var h=this||r;return u._unlocked&&h._html5AudioPool.push(u),h},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!r.usingWebAudio)){for(var h=0;h<u._howls.length;h++)if(u._howls[h]._webAudio){for(var p=0;p<u._howls[h]._sounds.length;p++)if(!u._howls[h]._sounds[p]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var m=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(m,m)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!r.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var h=0;h<u._howls.length;h++)u._howls[h]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var r=new e,n=function(u){var h=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(u)};n.prototype={init:function(u){var h=this;return r.ctx||f(),h._autoplay=u.autoplay||!1,h._format=typeof u.format!="string"?u.format:[u.format],h._html5=u.html5||!1,h._muted=u.mute||!1,h._loop=u.loop||!1,h._pool=u.pool||5,h._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,h._rate=u.rate||1,h._sprite=u.sprite||{},h._src=typeof u.src!="string"?u.src:[u.src],h._volume=u.volume!==void 0?u.volume:1,h._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=u.onend?[{fn:u.onend}]:[],h._onfade=u.onfade?[{fn:u.onfade}]:[],h._onload=u.onload?[{fn:u.onload}]:[],h._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],h._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],h._onpause=u.onpause?[{fn:u.onpause}]:[],h._onplay=u.onplay?[{fn:u.onplay}]:[],h._onstop=u.onstop?[{fn:u.onstop}]:[],h._onmute=u.onmute?[{fn:u.onmute}]:[],h._onvolume=u.onvolume?[{fn:u.onvolume}]:[],h._onrate=u.onrate?[{fn:u.onrate}]:[],h._onseek=u.onseek?[{fn:u.onseek}]:[],h._onunlock=u.onunlock?[{fn:u.onunlock}]:[],h._onresume=[],h._webAudio=r.usingWebAudio&&!h._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var u=this,h=null;if(r.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var p=0;p<u._src.length;p++){var m,y;if(u._format&&u._format[p])m=u._format[p];else{if(y=u._src[p],typeof y!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(y),m||(m=/\.([^.]+)$/.exec(y.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&r.codecs(m)){h=u._src[p];break}}if(!h){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=h,u._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new i(u),u._webAudio&&s(u),u},play:function(u,h){var p=this,m=null;if(typeof u=="number")m=u,u=null;else{if(typeof u=="string"&&p._state==="loaded"&&!p._sprite[u])return null;if(typeof u>"u"&&(u="__default",!p._playLock)){for(var y=0,b=0;b<p._sounds.length;b++)p._sounds[b]._paused&&!p._sounds[b]._ended&&(y++,m=p._sounds[b]._id);y===1?u=null:m=null}}var v=m?p._soundById(m):p._inactiveSound();if(!v)return null;if(m&&!u&&(u=v._sprite||"__default"),p._state!=="loaded"){v._sprite=u,v._ended=!1;var E=v._id;return p._queue.push({event:"play",action:function(){p.play(E)}}),E}if(m&&!v._paused)return h||p._loadQueue("play"),v._id;p._webAudio&&r._autoResume();var A=Math.max(0,v._seek>0?v._seek:p._sprite[u][0]/1e3),k=Math.max(0,(p._sprite[u][0]+p._sprite[u][1])/1e3-A),C=k*1e3/Math.abs(v._rate),T=p._sprite[u][0]/1e3,O=(p._sprite[u][0]+p._sprite[u][1])/1e3;v._sprite=u,v._ended=!1;var D=function(){v._paused=!1,v._seek=A,v._start=T,v._stop=O,v._loop=!!(v._loop||p._sprite[u][2])};if(A>=O){p._ended(v);return}var S=v._node;if(p._webAudio){var R=function(){p._playLock=!1,D(),p._refreshBuffer(v);var $=v._muted||p._muted?0:v._volume;S.gain.setValueAtTime($,r.ctx.currentTime),v._playStart=r.ctx.currentTime,typeof S.bufferSource.start>"u"?v._loop?S.bufferSource.noteGrainOn(0,A,86400):S.bufferSource.noteGrainOn(0,A,k):v._loop?S.bufferSource.start(0,A,86400):S.bufferSource.start(0,A,k),C!==1/0&&(p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),C)),h||setTimeout(function(){p._emit("play",v._id),p._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?R():(p._playLock=!0,p.once("resume",R),p._clearTimer(v._id))}else{var z=function(){S.currentTime=A,S.muted=v._muted||p._muted||r._muted||S.muted,S.volume=v._volume*r.volume(),S.playbackRate=v._rate;try{var $=S.play();if($&&typeof Promise<"u"&&($ instanceof Promise||typeof $.then=="function")?(p._playLock=!0,D(),$.then(function(){p._playLock=!1,S._unlocked=!0,h?p._loadQueue():p._emit("play",v._id)}).catch(function(){p._playLock=!1,p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):h||(p._playLock=!1,D(),p._emit("play",v._id)),S.playbackRate=v._rate,S.paused){p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||v._loop?p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),C):(p._endTimers[v._id]=function(){p._ended(v),S.removeEventListener("ended",p._endTimers[v._id],!1)},S.addEventListener("ended",p._endTimers[v._id],!1))}catch(W){p._emit("playerror",v._id,W)}};S.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(S.src=p._src,S.load());var F=window&&window.ejecta||!S.readyState&&r._navigator.isCocoonJS;if(S.readyState>=3||F)z();else{p._playLock=!0,p._state="loading";var P=function(){p._state="loaded",z(),S.removeEventListener(r._canPlayEvent,P,!1)};S.addEventListener(r._canPlayEvent,P,!1),p._clearTimer(v._id)}}return v._id},pause:function(u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(u)}}),h;for(var p=h._getSoundIds(u),m=0;m<p.length;m++){h._clearTimer(p[m]);var y=h._soundById(p[m]);if(y&&!y._paused&&(y._seek=h.seek(p[m]),y._rateSeek=0,y._paused=!0,h._stopFade(p[m]),y._node))if(h._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),h._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||h._emit("pause",y?y._id:null)}return h},stop:function(u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(u)}}),p;for(var m=p._getSoundIds(u),y=0;y<m.length;y++){p._clearTimer(m[y]);var b=p._soundById(m[y]);b&&(b._seek=b._start||0,b._rateSeek=0,b._paused=!0,b._ended=!0,p._stopFade(m[y]),b._node&&(p._webAudio?b._node.bufferSource&&(typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),p._cleanBuffer(b._node)):(!isNaN(b._node.duration)||b._node.duration===1/0)&&(b._node.currentTime=b._start||0,b._node.pause(),b._node.duration===1/0&&p._clearSound(b._node))),h||p._emit("stop",b._id))}return p},mute:function(u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(u,h)}}),p;if(typeof h>"u")if(typeof u=="boolean")p._muted=u;else return p._muted;for(var m=p._getSoundIds(h),y=0;y<m.length;y++){var b=p._soundById(m[y]);b&&(b._muted=u,b._interval&&p._stopFade(b._id),p._webAudio&&b._node?b._node.gain.setValueAtTime(u?0:b._volume,r.ctx.currentTime):b._node&&(b._node.muted=r._muted?!0:u),p._emit("mute",b._id))}return p},volume:function(){var u=this,h=arguments,p,m;if(h.length===0)return u._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var y=u._getSoundIds(),b=y.indexOf(h[0]);b>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof p<"u"&&p>=0&&p<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,h)}}),u;typeof m>"u"&&(u._volume=p),m=u._getSoundIds(m);for(var E=0;E<m.length;E++)v=u._soundById(m[E]),v&&(v._volume=p,h[2]||u._stopFade(m[E]),u._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(p,r.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=p*r.volume()),u._emit("volume",v._id))}else return v=m?u._soundById(m):u._sounds[0],v?v._volume:0;return u},fade:function(u,h,p,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(u,h,p,m)}}),y;u=Math.min(Math.max(0,parseFloat(u)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),y.volume(u,m);for(var b=y._getSoundIds(m),v=0;v<b.length;v++){var E=y._soundById(b[v]);if(E){if(m||y._stopFade(b[v]),y._webAudio&&!E._muted){var A=r.ctx.currentTime,k=A+p/1e3;E._volume=u,E._node.gain.setValueAtTime(u,A),E._node.gain.linearRampToValueAtTime(h,k)}y._startFadeInterval(E,u,h,p,b[v],typeof m>"u")}}return y},_startFadeInterval:function(u,h,p,m,y,b){var v=this,E=h,A=p-h,k=Math.abs(A/.01),C=Math.max(4,k>0?m/k:m),T=Date.now();u._fadeTo=p,u._interval=setInterval(function(){var O=(Date.now()-T)/m;T=Date.now(),E+=A*O,E=Math.round(E*100)/100,A<0?E=Math.max(p,E):E=Math.min(p,E),v._webAudio?u._volume=E:v.volume(E,u._id,!0),b&&(v._volume=E),(p<h&&E<=p||p>h&&E>=p)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,v.volume(p,u._id),v._emit("fade",u._id))},C)},_stopFade:function(u){var h=this,p=h._soundById(u);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,u),p._fadeTo=null,h._emit("fade",u)),h},loop:function(){var u=this,h=arguments,p,m,y;if(h.length===0)return u._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],u._loop=p;else return y=u._soundById(parseInt(h[0],10)),y?y._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var b=u._getSoundIds(m),v=0;v<b.length;v++)y=u._soundById(b[v]),y&&(y._loop=p,u._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=p,p&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,u.playing(b[v])&&(u.pause(b[v],!0),u.play(b[v],!0)))));return u},rate:function(){var u=this,h=arguments,p,m;if(h.length===0)m=u._sounds[0]._id;else if(h.length===1){var y=u._getSoundIds(),b=y.indexOf(h[0]);b>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof p=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,h)}}),u;typeof m>"u"&&(u._rate=p),m=u._getSoundIds(m);for(var E=0;E<m.length;E++)if(v=u._soundById(m[E]),v){u.playing(m[E])&&(v._rateSeek=u.seek(m[E]),v._playStart=u._webAudio?r.ctx.currentTime:v._playStart),v._rate=p,u._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(p,r.ctx.currentTime):v._node&&(v._node.playbackRate=p);var A=u.seek(m[E]),k=(u._sprite[v._sprite][0]+u._sprite[v._sprite][1])/1e3-A,C=k*1e3/Math.abs(v._rate);(u._endTimers[m[E]]||!v._paused)&&(u._clearTimer(m[E]),u._endTimers[m[E]]=setTimeout(u._ended.bind(u,v),C)),u._emit("rate",v._id)}}else return v=u._soundById(m),v?v._rate:u._rate;return u},seek:function(){var u=this,h=arguments,p,m;if(h.length===0)u._sounds.length&&(m=u._sounds[0]._id);else if(h.length===1){var y=u._getSoundIds(),b=y.indexOf(h[0]);b>=0?m=parseInt(h[0],10):u._sounds.length&&(m=u._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,h)}}),u;var v=u._soundById(m);if(v)if(typeof p=="number"&&p>=0){var E=u.playing(m);E&&u.pause(m,!0),v._seek=p,v._ended=!1,u._clearTimer(m),!u._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=p);var A=function(){E&&u.play(m,!0),u._emit("seek",m)};if(E&&!u._webAudio){var k=function(){u._playLock?setTimeout(k,0):A()};setTimeout(k,0)}else A()}else if(u._webAudio){var C=u.playing(m)?r.ctx.currentTime-v._playStart:0,T=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(T+C*Math.abs(v._rate))}else return v._node.currentTime;return u},playing:function(u){var h=this;if(typeof u=="number"){var p=h._soundById(u);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(u){var h=this,p=h._duration,m=h._soundById(u);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var u=this,h=u._sounds,p=0;p<h.length;p++)h[p]._paused||u.stop(h[p]._id),u._webAudio||(u._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(r._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),r._releaseHtml5Audio(h[p]._node)),delete h[p]._node,u._clearTimer(h[p]._id);var m=r._howls.indexOf(u);m>=0&&r._howls.splice(m,1);var y=!0;for(p=0;p<r._howls.length;p++)if(r._howls[p]._src===u._src||u._src.indexOf(r._howls[p]._src)>=0){y=!1;break}return o&&y&&delete o[u._src],r.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,h,p,m){var y=this,b=y["_on"+u];return typeof h=="function"&&b.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),y},off:function(u,h,p){var m=this,y=m["_on"+u],b=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(b=0;b<y.length;b++){var v=p===y[b].id;if(h===y[b].fn&&v||!h&&v){y.splice(b,1);break}}else if(u)m["_on"+u]=[];else{var E=Object.keys(m);for(b=0;b<E.length;b++)E[b].indexOf("_on")===0&&Array.isArray(m[E[b]])&&(m[E[b]]=[])}return m},once:function(u,h,p){var m=this;return m.on(u,h,p,1),m},_emit:function(u,h,p){for(var m=this,y=m["_on"+u],b=y.length-1;b>=0;b--)(!y[b].id||y[b].id===h||u==="load")&&(setTimeout((function(v){v.call(this,h,p)}).bind(m,y[b].fn),0),y[b].once&&m.off(u,y[b].fn,y[b].id));return m._loadQueue(u),m},_loadQueue:function(u){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===u&&(h._queue.shift(),h._loadQueue()),u||p.action()}return h},_ended:function(u){var h=this,p=u._sprite;if(!h._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(h._ended.bind(h,u),100),h;var m=!!(u._loop||h._sprite[p][2]);if(h._emit("end",u._id),!h._webAudio&&m&&h.stop(u._id,!0).play(u._id),h._webAudio&&m){h._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=r.ctx.currentTime;var y=(u._stop-u._start)*1e3/Math.abs(u._rate);h._endTimers[u._id]=setTimeout(h._ended.bind(h,u),y)}return h._webAudio&&!m&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,h._clearTimer(u._id),h._cleanBuffer(u._node),r._autoSuspend()),!h._webAudio&&!m&&h.stop(u._id,!0),h},_clearTimer:function(u){var h=this;if(h._endTimers[u]){if(typeof h._endTimers[u]!="function")clearTimeout(h._endTimers[u]);else{var p=h._soundById(u);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[u],!1)}delete h._endTimers[u]}return h},_soundById:function(u){for(var h=this,p=0;p<h._sounds.length;p++)if(u===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var u=this;u._drain();for(var h=0;h<u._sounds.length;h++)if(u._sounds[h]._ended)return u._sounds[h].reset();return new i(u)},_drain:function(){var u=this,h=u._pool,p=0,m=0;if(!(u._sounds.length<h)){for(m=0;m<u._sounds.length;m++)u._sounds[m]._ended&&p++;for(m=u._sounds.length-1;m>=0;m--){if(p<=h)return;u._sounds[m]._ended&&(u._webAudio&&u._sounds[m]._node&&u._sounds[m]._node.disconnect(0),u._sounds.splice(m,1),p--)}}},_getSoundIds:function(u){var h=this;if(typeof u>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[u]},_refreshBuffer:function(u){var h=this;return u._node.bufferSource=r.ctx.createBufferSource(),u._node.bufferSource.buffer=o[h._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,r.ctx.currentTime),h},_cleanBuffer:function(u){var h=this,p=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return h;if(r._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),p))try{u.bufferSource.buffer=r._scratchBuffer}catch{}return u.bufferSource=null,h},_clearSound:function(u){var h=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);h||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(u){this._parent=u,this.init()};i.prototype={init:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++r._counter,h._sounds.push(u),u.create(),u},create:function(){var u=this,h=u._parent,p=r._muted||u._muted||u._parent._muted?0:u._volume;return h._webAudio?(u._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),u._node.gain.setValueAtTime(p,r.ctx.currentTime),u._node.paused=!0,u._node.connect(r.masterGain)):r.noAudio||(u._node=r._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(r._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=h._src,u._node.preload=h._preload===!0?"auto":h._preload,u._node.volume=p*r.volume(),u._node.load()),u},reset:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++r._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,h=u._parent;h._duration=Math.ceil(u._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),u._node.removeEventListener(r._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,h=u._parent;h._duration===1/0&&(h._duration=Math.ceil(u._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var o={},s=function(u){var h=u._src;if(o[h]){u._duration=o[h].duration,d(u);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),y=0;y<p.length;++y)m[y]=p.charCodeAt(y);l(m.buffer,u)}else{var b=new XMLHttpRequest;b.open(u._xhr.method,h,!0),b.withCredentials=u._xhr.withCredentials,b.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(v){b.setRequestHeader(v,u._xhr.headers[v])}),b.onload=function(){var v=(b.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+b.status+".");return}l(b.response,u)},b.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete o[h],u.load())},a(b)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(y){y&&h._sounds.length>0?(o[h._src]=y,d(h,y)):p()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(u).then(m).catch(p):r.ctx.decodeAudioData(u,m,p)},d=function(u,h){h&&!u._duration&&(u._duration=h.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},f=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(u&&p&&p<9){var m=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!m&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof yt<"u"?(yt.HowlerGlobal=e,yt.Howler=r,yt.Howl=n,yt.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(n=typeof n!="number"?o._pos[1]:n,i=typeof i!="number"?o._pos[2]:i,typeof r=="number")o._pos=[r,n,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(r,n,i,o,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,o=typeof o!="number"?d[3]:o,s=typeof s!="number"?d[4]:s,a=typeof a!="number"?d[5]:a,typeof r=="number")l._orientation=[r,n,i,o,s,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,n,i,o,s,a);else return d;return l},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var s=i._getSoundIds(n),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,o),o==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(r,n,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,n,i,o)}}),s;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof r=="number")s._pos=[r,n,i];else return s._pos;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var d=s._soundById(a[l]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),s._emit("pos",d._id);else return d._pos}return s},Howl.prototype.orientation=function(r,n,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,n,i,o)}}),s;if(n=typeof n!="number"?s._orientation[1]:n,i=typeof i!="number"?s._orientation[2]:i,typeof o>"u")if(typeof r=="number")s._orientation=[r,n,i];else return s._orientation;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var d=s._soundById(a[l]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=s._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),s._emit("orientation",d._id);else return d._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,o,s;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(n[0],10)),s?s._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],o=parseInt(n[1],10));for(var a=r._getSoundIds(o),l=0;l<a.length;l++)if(s=r._soundById(a[l]),s){var d=s._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var f=s._panner;f||(s._pos||(s._pos=r._pos||[0,0,-.5]),e(s,"spatial"),f=s._panner),f.coneInnerAngle=d.coneInnerAngle,f.coneOuterAngle=d.coneOuterAngle,f.coneOuterGain=d.coneOuterGain,f.distanceModel=d.distanceModel,f.maxDistance=d.maxDistance,f.refDistance=d.refDistance,f.rolloffFactor=d.rolloffFactor,f.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(OE);const EW={key:0,src:AW,width:"24",height:"24"},kW={key:1,src:k_,width:"24",height:"24"},IW={key:1,class:"flex h-5 items-center justify-center"},DW=[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)],MW={key:0,src:CW,width:"24",height:"24"},NW={key:1,src:SW,width:"24",height:"24"},OW={class:"rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},LW=c.defineComponent({__name:"AudioMessageContent",props:{message:{}},setup(t){const e=t,r=Bt(),n=c.ref(0),i=c.ref(),o=c.ref(0),s=c.ref(),a=c.computed(()=>e.message.isIncoming),l=()=>{i.value&&(o.value=i.value.seek()/i.value.duration()*100,i.value.playing()&&requestAnimationFrame(l))},d=async()=>{var u,h;switch(n.value){case 0:{const p=new OE.Howl({src:e.message.url,format:["m4a","mp3","wav","aac","webm"],onload:()=>{p.play(),n.value=3},onplay:()=>{requestAnimationFrame(l)},onend:()=>{n.value=2},onloaderror:(m,y)=>console.log(2,m,y),xhr:{headers:{"IM-Authorization":r.state.imkit.config.token,"IM-Client-Key":r.state.imkit.config.clientKey}}});i.value=p,n.value=1;break}case 2:case 4:(u=i.value)==null||u.play(),n.value=3;break;case 3:(h=i.value)==null||h.pause(),n.value=4;break}},f=async u=>{if(!i.value||!s.value)return;const{x:h,width:p}=s.value.getBoundingClientRect();o.value=(u.clientX-h)/p*100,i.value.seek(i.value.duration()*o.value/100)};return(u,h)=>(c.openBlock(),c.createElementBlock(c.Fragment,null,[c.createElementVNode("div",{class:c.normalizeClass(["pointer-events-none absolute bottom-0 left-0 top-0",[a.value?"bg-gray-300":"bg-blue-300"]]),style:c.normalizeStyle({width:`${o.value}%`})},null,6),c.createElementVNode("div",{ref_key:"container",ref:s,class:"relative -m-2 flex w-[250px] items-center justify-between p-3",onClick:f},[c.createElementVNode("button",{onClick:c.withModifiers(d,["stop"])},[new Set([0,2,4]).has(n.value)?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[a.value?(c.openBlock(),c.createElementBlock("img",EW)):(c.openBlock(),c.createElementBlock("img",kW))],64)):n.value===1?(c.openBlock(),c.createElementBlock("div",IW,[(c.openBlock(),c.createElementBlock("svg",{class:c.normalizeClass(["h-5 w-5 animate-spin",[a.value?"fill-gray-100 text-gray-400":"fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700"]]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},DW,2))])):n.value===3?(c.openBlock(),c.createElementBlock(c.Fragment,{key:2},[a.value?(c.openBlock(),c.createElementBlock("img",MW)):(c.openBlock(),c.createElementBlock("img",NW))],64)):c.createCommentVNode("",!0)]),c.createElementVNode("div",OW,c.toDisplayString(Math.floor(u.message.duration/60))+":"+c.toDisplayString(`${Math.floor(u.message.duration%60)}`.padStart(2,"0")),1)],512)],64))}}),BW={class:"flex items-center justify-center"},RW={class:"my-3 rounded-lg bg-gray-100 px-2 py-1.5 text-sm text-gray-700 dark:bg-zinc-700 dark:text-gray-200 dark:text-gray-300"},PW=c.defineComponent({__name:"SystemMessageContent",props:{message:{}},setup(t){const e=t,r=Bt(),n=c.computed(()=>r.state.imkit.users),{t:i}=Ai(),o=c.computed(()=>{const s=n.value[e.message.senderId].nickname;switch(e.message.type){case Xe.Recall:return e.message.senderId===r.state.imkit.uid?i("youUnsentMessage"):i("someoneUnsentMessage",[s]);case Xe.JoinRoom:return i("someoneJoinedTheChat",[s]);case Xe.LeaveRoom:return i("someoneLeftTheChat",[s]);case Xe.AddMember:return i("someoneInvited",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.DeleteMember:return i("someoneKicked",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.AddMembers:return i("someoneInvited",[s,e.message.members.map(a=>a.nickname).join(", ")]);case Xe.Announcement:return e.message.text;default:return""}});return(s,a)=>(c.openBlock(),c.createElementBlock("div",BW,[c.createElementVNode("div",RW,c.toDisplayString(o.value),1)]))}}),FW={},UW={class:"flex h-4 items-center"};function jW(t,e){return c.openBlock(),c.createElementBlock("div",UW,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(3,r=>c.createElementVNode("div",{key:r,class:c.normalizeClass(["mr-0.5 h-1 w-1 rounded-full bg-gray-400",[`animate-bounce-${r}`]])},null,2)),64))])}const $W=pr(FW,[["render",jW],["__scopeId","data-v-40e5e96c"]]);class fa extends Error{}class zW extends fa{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class VW extends fa{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class HW extends fa{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ql extends fa{}class LE extends fa{constructor(e){super(`Invalid unit ${e}`)}}class Xr extends fa{}class hs extends fa{constructor(){super("Zone is an abstract class")}}const Ve="numeric",Ni="short",Wn="long",Jh={year:Ve,month:Ve,day:Ve},BE={year:Ve,month:Ni,day:Ve},qW={year:Ve,month:Ni,day:Ve,weekday:Ni},RE={year:Ve,month:Wn,day:Ve},PE={year:Ve,month:Wn,day:Ve,weekday:Wn},FE={hour:Ve,minute:Ve},UE={hour:Ve,minute:Ve,second:Ve},jE={hour:Ve,minute:Ve,second:Ve,timeZoneName:Ni},$E={hour:Ve,minute:Ve,second:Ve,timeZoneName:Wn},zE={hour:Ve,minute:Ve,hourCycle:"h23"},VE={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23"},HE={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:Ni},qE={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:Wn},WE={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve},GE={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve,second:Ve},QE={year:Ve,month:Ni,day:Ve,hour:Ve,minute:Ve},YE={year:Ve,month:Ni,day:Ve,hour:Ve,minute:Ve,second:Ve},WW={year:Ve,month:Ni,day:Ve,weekday:Ni,hour:Ve,minute:Ve},KE={year:Ve,month:Wn,day:Ve,hour:Ve,minute:Ve,timeZoneName:Ni},XE={year:Ve,month:Wn,day:Ve,hour:Ve,minute:Ve,second:Ve,timeZoneName:Ni},ZE={year:Ve,month:Wn,day:Ve,weekday:Wn,hour:Ve,minute:Ve,timeZoneName:Wn},JE={year:Ve,month:Wn,day:Ve,weekday:Wn,hour:Ve,minute:Ve,second:Ve,timeZoneName:Wn};class Vu{get type(){throw new hs}get name(){throw new hs}get ianaName(){return this.name}get isUniversal(){throw new hs}offsetName(e,r){throw new hs}formatOffset(e,r){throw new hs}offset(e){throw new hs}equals(e){throw new hs}get isValid(){throw new hs}}let gy=null;class ep extends Vu{static get instance(){return gy===null&&(gy=new ep),gy}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return A4(e,r,n)}formatOffset(e,r){return Gu(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let tp={};function GW(t){return tp[t]||(tp[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),tp[t]}const QW={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function YW(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,s,a,l,d,f]=n;return[s,i,o,a,l,d,f]}function KW(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:o,value:s}=r[i],a=QW[o];o==="era"?n[a]=s:dt(a)||(n[a]=parseInt(s,10))}return n}let rp={};class Ro extends Vu{static create(e){return rp[e]||(rp[e]=new Ro(e)),rp[e]}static resetCache(){rp={},tp={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ro.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return A4(e,r,n,this.name)}formatOffset(e,r){return Gu(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=GW(this.name);let[i,o,s,a,l,d,f]=n.formatToParts?KW(n,r):YW(n,r);a==="BC"&&(i=-Math.abs(i)+1);const h=ap({year:i,month:o,day:s,hour:l===24?0:l,minute:d,second:f,millisecond:0});let p=+r;const m=p%1e3;return p-=m>=0?m:1e3+m,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let e4={};function XW(t,e={}){const r=JSON.stringify([t,e]);let n=e4[r];return n||(n=new Intl.ListFormat(t,e),e4[r]=n),n}let yy={};function by(t,e={}){const r=JSON.stringify([t,e]);let n=yy[r];return n||(n=new Intl.DateTimeFormat(t,e),yy[r]=n),n}let vy={};function ZW(t,e={}){const r=JSON.stringify([t,e]);let n=vy[r];return n||(n=new Intl.NumberFormat(t,e),vy[r]=n),n}let _y={};function JW(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let o=_y[i];return o||(o=new Intl.RelativeTimeFormat(t,e),_y[i]=o),o}let Hu=null;function eG(){return Hu||(Hu=new Intl.DateTimeFormat().resolvedOptions().locale,Hu)}let t4={};function tG(t){let e=t4[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,t4[t]=e}return e}function rG(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=by(t).resolvedOptions(),i=t}catch{const l=t.substring(0,r);n=by(l).resolvedOptions(),i=l}const{numberingSystem:o,calendar:s}=n;return[i,o,s]}}function nG(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function iG(t){const e=[];for(let r=1;r<=12;r++){const n=ft.utc(2009,r,1);e.push(t(n))}return e}function oG(t){const e=[];for(let r=1;r<=7;r++){const n=ft.utc(2016,11,13+r);e.push(t(n))}return e}function np(t,e,r,n){const i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function sG(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class aG{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:o,...s}=n;if(!r||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=ZW(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):ky(e,3);return Er(r,this.padTo)}}}class lG{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&Ro.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=by(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class cG{constructor(e,r,n){this.opts={style:"long",...n},!r&&_4()&&(this.rtf=JW(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):NG(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const uG={firstDay:1,minimalDays:4,weekend:[6,7]};class Pt{static fromOpts(e){return Pt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,o=!1){const s=e||cr.defaultLocale,a=s||(o?"en-US":eG()),l=r||cr.defaultNumberingSystem,d=n||cr.defaultOutputCalendar,f=Sy(i)||cr.defaultWeekSettings;return new Pt(a,l,d,f,s)}static resetCache(){Hu=null,yy={},vy={},_y={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Pt.create(e,r,n,i)}constructor(e,r,n,i,o){const[s,a,l]=rG(e);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=nG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=sG(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Pt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Sy(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return np(this,e,E4,()=>{const n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=iG(o=>this.extract(o,n,"month"))),this.monthsCache[i][e]})}weekdays(e,r=!1){return np(this,e,D4,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=oG(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return np(this,void 0,()=>M4,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ft.utc(2016,11,13,9),ft.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return np(this,e,N4,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[ft.utc(-40,1,1),ft.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),o=i.formatToParts(),s=o.find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(e={}){return new aG(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new lG(e,this.intl,r)}relFormatter(e={}){return new cG(this.intl,this.isEnglish(),e)}listFormatter(e={}){return XW(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:w4()?tG(this.locale):uG}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let wy=null;class fn extends Vu{static get utcInstance(){return wy===null&&(wy=new fn(0)),wy}static instance(e){return e===0?fn.utcInstance:new fn(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new fn(lp(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Gu(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Gu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Gu(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class dG extends Vu{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ps(t,e){if(dt(t)||t===null)return e;if(t instanceof Vu)return t;if(yG(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?ep.instance:r==="utc"||r==="gmt"?fn.utcInstance:fn.parseSpecifier(r)||Ro.create(t)}else return ms(t)?fn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new dG(t)}const xy={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},r4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},fG=xy.hanidec.replace(/[\[|\]]/g,"").split("");function hG(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(xy.hanidec)!==-1)e+=fG.indexOf(t[r]);else for(const i in r4){const[o,s]=r4[i];n>=o&&n<=s&&(e+=n-o)}}return parseInt(e,10)}else return e}let Wl={};function pG(){Wl={}}function Oi({numberingSystem:t},e=""){const r=t||"latn";return Wl[r]||(Wl[r]={}),Wl[r][e]||(Wl[r][e]=new RegExp(`${xy[r]}${e}`)),Wl[r][e]}let n4=()=>Date.now(),i4="system",o4=null,s4=null,a4=null,l4=60,c4,u4=null;class cr{static get now(){return n4}static set now(e){n4=e}static set defaultZone(e){i4=e}static get defaultZone(){return ps(i4,ep.instance)}static get defaultLocale(){return o4}static set defaultLocale(e){o4=e}static get defaultNumberingSystem(){return s4}static set defaultNumberingSystem(e){s4=e}static get defaultOutputCalendar(){return a4}static set defaultOutputCalendar(e){a4=e}static get defaultWeekSettings(){return u4}static set defaultWeekSettings(e){u4=Sy(e)}static get twoDigitCutoffYear(){return l4}static set twoDigitCutoffYear(e){l4=e%100}static get throwOnInvalid(){return c4}static set throwOnInvalid(e){c4=e}static resetCaches(){Pt.resetCache(),Ro.resetCache(),ft.resetCache(),pG()}}class Li{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const d4=[0,31,59,90,120,151,181,212,243,273,304,334],f4=[0,31,60,91,121,152,182,213,244,274,305,335];function si(t,e){return new Li("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Ty(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function h4(t,e,r){return r+(qu(t)?f4:d4)[e-1]}function p4(t,e){const r=qu(t)?f4:d4,n=r.findIndex(o=>o<e),i=e-r[n];return{month:n+1,day:i}}function Ay(t,e){return(t-e+7)%7+1}function ip(t,e=4,r=1){const{year:n,month:i,day:o}=t,s=h4(n,i,o),a=Ay(Ty(n,i,o),r);let l=Math.floor((s-a+14-e)/7),d;return l<1?(d=n-1,l=Wu(d,e,r)):l>Wu(n,e,r)?(d=n+1,l=1):d=n,{weekYear:d,weekNumber:l,weekday:a,...up(t)}}function m4(t,e=4,r=1){const{weekYear:n,weekNumber:i,weekday:o}=t,s=Ay(Ty(n,1,e),r),a=Ql(n);let l=i*7+o-s-7+e,d;l<1?(d=n-1,l+=Ql(d)):l>a?(d=n+1,l-=Ql(n)):d=n;const{month:f,day:u}=p4(d,l);return{year:d,month:f,day:u,...up(t)}}function Cy(t){const{year:e,month:r,day:n}=t,i=h4(e,r,n);return{year:e,ordinal:i,...up(t)}}function g4(t){const{year:e,ordinal:r}=t,{month:n,day:i}=p4(e,r);return{year:e,month:n,day:i,...up(t)}}function y4(t,e){if(!dt(t.localWeekday)||!dt(t.localWeekNumber)||!dt(t.localWeekYear)){if(!dt(t.weekday)||!dt(t.weekNumber)||!dt(t.weekYear))throw new ql("Cannot mix locale-based week fields with ISO-based week fields");return dt(t.localWeekday)||(t.weekday=t.localWeekday),dt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),dt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function mG(t,e=4,r=1){const n=op(t.weekYear),i=ai(t.weekNumber,1,Wu(t.weekYear,e,r)),o=ai(t.weekday,1,7);return n?i?o?!1:si("weekday",t.weekday):si("week",t.weekNumber):si("weekYear",t.weekYear)}function gG(t){const e=op(t.year),r=ai(t.ordinal,1,Ql(t.year));return e?r?!1:si("ordinal",t.ordinal):si("year",t.year)}function b4(t){const e=op(t.year),r=ai(t.month,1,12),n=ai(t.day,1,sp(t.year,t.month));return e?r?n?!1:si("day",t.day):si("month",t.month):si("year",t.year)}function v4(t){const{hour:e,minute:r,second:n,millisecond:i}=t,o=ai(e,0,23)||e===24&&r===0&&n===0&&i===0,s=ai(r,0,59),a=ai(n,0,59),l=ai(i,0,999);return o?s?a?l?!1:si("millisecond",i):si("second",n):si("minute",r):si("hour",e)}function dt(t){return typeof t>"u"}function ms(t){return typeof t=="number"}function op(t){return typeof t=="number"&&t%1===0}function yG(t){return typeof t=="string"}function bG(t){return Object.prototype.toString.call(t)==="[object Date]"}function _4(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function w4(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function vG(t){return Array.isArray(t)?t:[t]}function x4(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const o=[e(i),i];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function _G(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Gl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sy(t){if(t==null)return null;if(typeof t!="object")throw new Xr("Week settings must be an object");if(!ai(t.firstDay,1,7)||!ai(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ai(e,1,7)))throw new Xr("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ai(t,e,r){return op(t)&&t>=e&&t<=r}function wG(t,e){return t-e*Math.floor(t/e)}function Er(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function gs(t){if(!(dt(t)||t===null||t===""))return parseInt(t,10)}function ha(t){if(!(dt(t)||t===null||t===""))return parseFloat(t)}function Ey(t){if(!(dt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ky(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function qu(t){return t%4===0&&(t%100!==0||t%400===0)}function Ql(t){return qu(t)?366:365}function sp(t,e){const r=wG(e-1,12)+1,n=t+(e-r)/12;return r===2?qu(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function ap(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function T4(t,e,r){return-Ay(Ty(t,1,e),r)+e-1}function Wu(t,e=4,r=1){const n=T4(t,e,r),i=T4(t+1,e,r);return(Ql(t)-n+i)/7}function Iy(t){return t>99?t:t>cr.twoDigitCutoffYear?1900+t:2e3+t}function A4(t,e,r,n=null){const i=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:e,...o},a=new Intl.DateTimeFormat(r,s).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function lp(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function C4(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Xr(`Invalid unit value ${t}`);return e}function cp(t,e){const r={};for(const n in t)if(Gl(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=C4(i)}return r}function Gu(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Er(r,2)}:${Er(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Er(r,2)}${Er(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function up(t){return _G(t,["hour","minute","second","millisecond"])}const xG=["January","February","March","April","May","June","July","August","September","October","November","December"],S4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],TG=["J","F","M","A","M","J","J","A","S","O","N","D"];function E4(t){switch(t){case"narrow":return[...TG];case"short":return[...S4];case"long":return[...xG];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const k4=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],I4=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],AG=["M","T","W","T","F","S","S"];function D4(t){switch(t){case"narrow":return[...AG];case"short":return[...I4];case"long":return[...k4];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const M4=["AM","PM"],CG=["Before Christ","Anno Domini"],SG=["BC","AD"],EG=["B","A"];function N4(t){switch(t){case"narrow":return[...EG];case"short":return[...SG];case"long":return[...CG];default:return null}}function kG(t){return M4[t.hour<12?0:1]}function IG(t,e){return D4(e)[t.weekday-1]}function DG(t,e){return E4(e)[t.month-1]}function MG(t,e){return N4(e)[t.year<0?0:1]}function NG(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){const u=t==="days";switch(e){case 1:return u?"tomorrow":`next ${i[t][0]}`;case-1:return u?"yesterday":`last ${i[t][0]}`;case 0:return u?"today":`this ${i[t][0]}`}}const s=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,d=i[t],f=n?l?d[1]:d[2]||d[1]:l?i[t][0]:t;return s?`${a} ${f} ago`:`in ${a} ${f}`}function O4(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const OG={D:Jh,DD:BE,DDD:RE,DDDD:PE,t:FE,tt:UE,ttt:jE,tttt:$E,T:zE,TT:VE,TTT:HE,TTTT:qE,f:WE,ff:QE,fff:KE,ffff:ZE,F:GE,FF:YE,FFF:XE,FFFF:JE};class Zr{static create(e,r={}){return new Zr(e,r)}static parseFormat(e){let r=null,n="",i=!1;const o=[];for(let s=0;s<e.length;s++){const a=e.charAt(s);a==="'"?(n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return OG[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return Er(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(p,m)=>this.loc.extract(e,p,m),s=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>n?kG(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,m)=>n?DG(e,p):o(m?{month:p}:{month:p,day:"numeric"},"month"),d=(p,m)=>n?IG(e,p):o(m?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const m=Zr.macroTokenToFormatOpts(p);return m?this.formatWithSystemDefault(e,m):p},u=p=>n?MG(e,p):o({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return O4(Zr.parseFormat(r),h)}formatDurationFromString(e,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>d=>{const f=n(d);return f?this.num(l.get(f),d.length):d},o=Zr.parseFormat(r),s=o.reduce((l,{literal:d,val:f})=>d?l:l.concat(f),[]),a=e.shiftTo(...s.map(n).filter(l=>l));return O4(o,i(a))}}const L4=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yl(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Kl(...t){return e=>t.reduce(([r,n,i],o)=>{const[s,a,l]=o(e,i);return[{...r,...s},a||n,l]},[{},null,1]).slice(0,2)}function Xl(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function B4(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=gs(e[r+i]);return[n,null,r+i]}}const R4=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,LG=`(?:${R4.source}?(?:\\[(${L4.source})\\])?)?`,Dy=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,P4=RegExp(`${Dy.source}${LG}`),My=RegExp(`(?:T${P4.source})?`),BG=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,RG=/(\d{4})-?W(\d\d)(?:-?(\d))?/,PG=/(\d{4})-?(\d{3})/,FG=B4("weekYear","weekNumber","weekDay"),UG=B4("year","ordinal"),jG=/(\d{4})-(\d\d)-(\d\d)/,F4=RegExp(`${Dy.source} ?(?:${R4.source}|(${L4.source}))?`),$G=RegExp(`(?: ${F4.source})?`);function Zl(t,e,r){const n=t[e];return dt(n)?r:gs(n)}function zG(t,e){return[{year:Zl(t,e),month:Zl(t,e+1,1),day:Zl(t,e+2,1)},null,e+3]}function Jl(t,e){return[{hours:Zl(t,e,0),minutes:Zl(t,e+1,0),seconds:Zl(t,e+2,0),milliseconds:Ey(t[e+3])},null,e+4]}function Qu(t,e){const r=!t[e]&&!t[e+1],n=lp(t[e+1],t[e+2]),i=r?null:fn.instance(n);return[{},i,e+3]}function Yu(t,e){const r=t[e]?Ro.create(t[e]):null;return[{},r,e+1]}const VG=RegExp(`^T?${Dy.source}$`),HG=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function qG(t){const[e,r,n,i,o,s,a,l,d]=t,f=e[0]==="-",u=l&&l[0]==="-",h=(p,m=!1)=>p!==void 0&&(m||p&&f)?-p:p;return[{years:h(ha(r)),months:h(ha(n)),weeks:h(ha(i)),days:h(ha(o)),hours:h(ha(s)),minutes:h(ha(a)),seconds:h(ha(l),l==="-0"),milliseconds:h(Ey(d),u)}]}const WG={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ny(t,e,r,n,i,o,s){const a={year:e.length===2?Iy(gs(e)):gs(e),month:S4.indexOf(r)+1,day:gs(n),hour:gs(i),minute:gs(o)};return s&&(a.second=gs(s)),t&&(a.weekday=t.length>3?k4.indexOf(t)+1:I4.indexOf(t)+1),a}const GG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function QG(t){const[,e,r,n,i,o,s,a,l,d,f,u]=t,h=Ny(e,i,n,r,o,s,a);let p;return l?p=WG[l]:d?p=0:p=lp(f,u),[h,new fn(p)]}function YG(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const KG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,XG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ZG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function U4(t){const[,e,r,n,i,o,s,a]=t;return[Ny(e,i,n,r,o,s,a),fn.utcInstance]}function JG(t){const[,e,r,n,i,o,s,a]=t;return[Ny(e,a,r,n,i,o,s),fn.utcInstance]}const eQ=Yl(BG,My),tQ=Yl(RG,My),rQ=Yl(PG,My),nQ=Yl(P4),j4=Kl(zG,Jl,Qu,Yu),iQ=Kl(FG,Jl,Qu,Yu),oQ=Kl(UG,Jl,Qu,Yu),sQ=Kl(Jl,Qu,Yu);function aQ(t){return Xl(t,[eQ,j4],[tQ,iQ],[rQ,oQ],[nQ,sQ])}function lQ(t){return Xl(YG(t),[GG,QG])}function cQ(t){return Xl(t,[KG,U4],[XG,U4],[ZG,JG])}function uQ(t){return Xl(t,[HG,qG])}const dQ=Kl(Jl);function fQ(t){return Xl(t,[VG,dQ])}const hQ=Yl(jG,$G),pQ=Yl(F4),mQ=Kl(Jl,Qu,Yu);function gQ(t){return Xl(t,[hQ,j4],[pQ,mQ])}const $4="Invalid Duration",z4={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},yQ={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...z4},li=146097/400,ec=146097/4800,bQ={years:{quarters:4,months:12,weeks:li/7,days:li,hours:li*24,minutes:li*24*60,seconds:li*24*60*60,milliseconds:li*24*60*60*1e3},quarters:{months:3,weeks:li/28,days:li/4,hours:li*24/4,minutes:li*24*60/4,seconds:li*24*60*60/4,milliseconds:li*24*60*60*1e3/4},months:{weeks:ec/7,days:ec,hours:ec*24,minutes:ec*24*60,seconds:ec*24*60*60,milliseconds:ec*24*60*60*1e3},...z4},pa=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vQ=pa.slice(0).reverse();function ys(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new kt(n)}function V4(t,e){let r=e.milliseconds??0;for(const n of vQ.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function H4(t,e){const r=V4(t,e)<0?-1:1;pa.reduceRight((n,i)=>{if(dt(e[i]))return n;if(n){const o=e[n]*r,s=t[i][n],a=Math.floor(o/s);e[i]+=a*r,e[n]-=a*s*r}return i},null),pa.reduce((n,i)=>{if(dt(e[i]))return n;if(n){const o=e[n]%1;e[n]-=o,e[i]+=o*t[n][i]}return i},null)}function _Q(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class kt{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?bQ:yQ;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Pt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return kt.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Xr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new kt({values:cp(e,kt.normalizeUnit),loc:Pt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(ms(e))return kt.fromMillis(e);if(kt.isDuration(e))return e;if(typeof e=="object")return kt.fromObject(e);throw new Xr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=uQ(e);return n?kt.fromObject(n,r):kt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=fQ(e);return n?kt.fromObject(n,r):kt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Xr("need to specify a reason the Duration is invalid");const n=e instanceof Li?e:new Li(e,r);if(cr.throwOnInvalid)throw new HW(n);return new kt({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new LE(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Zr.create(this.loc,n).formatDurationFromString(this,e):$4}toHuman(e={}){if(!this.isValid)return $4;const r=pa.map(n=>{const i=this.values[n];return dt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ky(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ft.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?V4(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=kt.fromDurationLike(e),n={};for(const i of pa)(Gl(r.values,i)||Gl(this.values,i))&&(n[i]=r.get(i)+this.get(i));return ys(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=kt.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=C4(e(this.values[n],n));return ys(this,{values:r},!0)}get(e){return this[kt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...cp(e,kt.normalizeUnit)};return ys(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return ys(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return H4(this.matrix,e),ys(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=_Q(this.normalize().shiftToAll().toObject());return ys(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>kt.normalizeUnit(s));const r={},n={},i=this.toObject();let o;for(const s of pa)if(e.indexOf(s)>=0){o=s;let a=0;for(const d in n)a+=this.matrix[d][s]*n[d],n[d]=0;ms(i[s])&&(a+=i[s]);const l=Math.trunc(a);r[s]=l,n[s]=(a*1e3-l*1e3)/1e3}else ms(i[s])&&(n[s]=i[s]);for(const s in n)n[s]!==0&&(r[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return H4(this.matrix,r),ys(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ys(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of pa)if(!r(this.values[n],e.values[n]))return!1;return!0}}const tc="Invalid Interval";function wQ(t,e){return!t||!t.isValid?ur.invalid("missing or invalid start"):!e||!e.isValid?ur.invalid("missing or invalid end"):e<t?ur.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ur{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Xr("need to specify a reason the Interval is invalid");const n=e instanceof Li?e:new Li(e,r);if(cr.throwOnInvalid)throw new VW(n);return new ur({invalid:n})}static fromDateTimes(e,r){const n=Xu(e),i=Xu(r),o=wQ(n,i);return o??new ur({start:n,end:i})}static after(e,r){const n=kt.fromDurationLike(r),i=Xu(e);return ur.fromDateTimes(i,i.plus(n))}static before(e,r){const n=kt.fromDurationLike(r),i=Xu(e);return ur.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let o,s;try{o=ft.fromISO(n,r),s=o.isValid}catch{s=!1}let a,l;try{a=ft.fromISO(i,r),l=a.isValid}catch{l=!1}if(s&&l)return ur.fromDateTimes(o,a);if(s){const d=kt.fromISO(i,r);if(d.isValid)return ur.after(o,d)}else if(l){const d=kt.fromISO(n,r);if(d.isValid)return ur.before(a,d)}}return ur.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ur.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Xu).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:i}=this,o=0;for(;i<this.e;){const s=r[o]||this.e,a=+s>+this.e?this.e:s;n.push(ur.fromDateTimes(i,a)),i=a,o+=1}return n}splitBy(e){const r=kt.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,o;const s=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));o=+a>+this.e?this.e:a,s.push(ur.fromDateTimes(n,o)),n=o,i+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ur.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ur.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[i,o.union(s)]:[i.concat([o]),s]:[i,s],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],o=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,d)=>l.time-d.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(ur.fromDateTimes(r,l.time)),r=null);return ur.merge(i)}difference(...e){return ur.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:tc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Jh,r={}){return this.isValid?Zr.create(this.s.loc.clone(r),e).formatInterval(this):tc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:tc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:tc}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:tc}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):kt.invalid(this.invalidReason)}mapEndpoints(e){return ur.fromDateTimes(e(this.s),e(this.e))}}class dp{static hasDST(e=cr.defaultZone){const r=ft.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Ro.isValidZone(e)}static normalizeZone(e){return ps(e,cr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Pt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Pt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Pt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Pt.create(r,n,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Pt.create(r,n,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Pt.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Pt.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Pt.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Pt.create(r,null,"gregory").eras(e)}static features(){return{relative:_4(),localeWeek:w4()}}}function q4(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(kt.fromMillis(n).as("days"))}function xQ(t,e,r){const n=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const f=q4(l,d);return(f-f%7)/7}],["days",q4]],i={},o=t;let s,a;for(const[l,d]of n)r.indexOf(l)>=0&&(s=l,i[l]=d(t,e),a=o.plus(i),a>e?(i[l]--,t=o.plus(i),t>e&&(a=t,i[l]--,t=o.plus(i))):t=a);return[t,i,a,s]}function TQ(t,e,r,n){let[i,o,s,a]=xQ(t,e,r);const l=e-i,d=r.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);d.length===0&&(s<e&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const f=kt.fromObject(o,n);return d.length>0?kt.fromMillis(l,n).shiftTo(...d).plus(f):f}const AQ="missing Intl.DateTimeFormat.formatToParts support";function Nt(t,e=r=>r){return{regex:t,deser:([r])=>e(hG(r))}}const W4="[ ]",G4=new RegExp(W4,"g");function CQ(t){return t.replace(/\./g,"\\.?").replace(G4,W4)}function Q4(t){return t.replace(/\./g,"").replace(G4," ").toLowerCase()}function Bi(t,e){return t===null?null:{regex:RegExp(t.map(CQ).join("|")),deser:([r])=>t.findIndex(n=>Q4(r)===Q4(n))+e}}function Y4(t,e){return{regex:t,deser:([,r,n])=>lp(r,n),groups:e}}function fp(t){return{regex:t,deser:([e])=>e}}function SQ(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function EQ(t,e){const r=Oi(e),n=Oi(e,"{2}"),i=Oi(e,"{3}"),o=Oi(e,"{4}"),s=Oi(e,"{6}"),a=Oi(e,"{1,2}"),l=Oi(e,"{1,3}"),d=Oi(e,"{1,6}"),f=Oi(e,"{1,9}"),u=Oi(e,"{2,4}"),h=Oi(e,"{4,6}"),p=b=>({regex:RegExp(SQ(b.val)),deser:([v])=>v,literal:!0}),y=(b=>{if(t.literal)return p(b);switch(b.val){case"G":return Bi(e.eras("short"),0);case"GG":return Bi(e.eras("long"),0);case"y":return Nt(d);case"yy":return Nt(u,Iy);case"yyyy":return Nt(o);case"yyyyy":return Nt(h);case"yyyyyy":return Nt(s);case"M":return Nt(a);case"MM":return Nt(n);case"MMM":return Bi(e.months("short",!0),1);case"MMMM":return Bi(e.months("long",!0),1);case"L":return Nt(a);case"LL":return Nt(n);case"LLL":return Bi(e.months("short",!1),1);case"LLLL":return Bi(e.months("long",!1),1);case"d":return Nt(a);case"dd":return Nt(n);case"o":return Nt(l);case"ooo":return Nt(i);case"HH":return Nt(n);case"H":return Nt(a);case"hh":return Nt(n);case"h":return Nt(a);case"mm":return Nt(n);case"m":return Nt(a);case"q":return Nt(a);case"qq":return Nt(n);case"s":return Nt(a);case"ss":return Nt(n);case"S":return Nt(l);case"SSS":return Nt(i);case"u":return fp(f);case"uu":return fp(a);case"uuu":return Nt(r);case"a":return Bi(e.meridiems(),0);case"kkkk":return Nt(o);case"kk":return Nt(u,Iy);case"W":return Nt(a);case"WW":return Nt(n);case"E":case"c":return Nt(r);case"EEE":return Bi(e.weekdays("short",!1),1);case"EEEE":return Bi(e.weekdays("long",!1),1);case"ccc":return Bi(e.weekdays("short",!0),1);case"cccc":return Bi(e.weekdays("long",!0),1);case"Z":case"ZZ":return Y4(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Y4(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return fp(/[a-z_+-/]{1,256}?/i);case" ":return fp(/[^\S\n\r]/);default:return p(b)}})(t)||{invalidReason:AQ};return y.token=t,y}const kQ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function IQ(t,e,r){const{type:n,value:i}=t;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const o=e[n];let s=n;n==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=r.hour12?"hour12":"hour24");let a=kQ[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function DQ(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function MQ(t,e,r){const n=t.match(e);if(n){const i={};let o=1;for(const s in r)if(Gl(r,s)){const a=r[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(o,o+l))),o+=l}return[n,i]}else return[n,{}]}function NQ(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return dt(t.z)||(r=Ro.create(t.z)),dt(t.Z)||(r||(r=new fn(t.Z)),n=t.Z),dt(t.q)||(t.M=(t.q-1)*3+1),dt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),dt(t.u)||(t.S=Ey(t.u)),[Object.keys(t).reduce((o,s)=>{const a=e(s);return a&&(o[a]=t[s]),o},{}),r,n]}let Oy=null;function OQ(){return Oy||(Oy=ft.fromMillis(1555555555555)),Oy}function LQ(t,e){if(t.literal)return t;const r=Zr.macroTokenToFormatOpts(t.val),n=J4(r,e);return n==null||n.includes(void 0)?t:n}function K4(t,e){return Array.prototype.concat(...t.map(r=>LQ(r,e)))}class X4{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=K4(Zr.parseFormat(r),e),this.units=this.tokens.map(n=>EQ(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=DQ(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[r,n]=MQ(e,this.regex,this.handlers),[i,o,s]=n?NQ(n):[null,null,void 0];if(Gl(n,"a")&&Gl(n,"H"))throw new ql("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:o,specificOffset:s}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Z4(t,e,r){return new X4(t,r).explainFromTokens(e)}function BQ(t,e,r){const{result:n,zone:i,specificOffset:o,invalidReason:s}=Z4(t,e,r);return[n,i,o,s]}function J4(t,e){if(!t)return null;const n=Zr.create(e,t).dtFormatter(OQ()),i=n.formatToParts(),o=n.resolvedOptions();return i.map(s=>IQ(s,t,o))}const Ly="Invalid DateTime",ek=864e13;function Ku(t){return new Li("unsupported zone",`the zone "${t.name}" is not supported`)}function By(t){return t.weekData===null&&(t.weekData=ip(t.c)),t.weekData}function Ry(t){return t.localWeekData===null&&(t.localWeekData=ip(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ma(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ft({...r,...e,old:r})}function tk(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const o=r.offset(n);return i===o?[n,i]:[t-Math.min(i,o)*60*1e3,Math.max(i,o)]}function hp(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function pp(t,e,r){return tk(ap(t),e,r)}function rk(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:n,month:i,day:Math.min(t.c.day,sp(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=kt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=ap(o);let[l,d]=tk(a,r,t.zone);return s!==0&&(l+=s,d=t.zone.offset(l)),{ts:l,o:d}}function rc(t,e,r,n,i,o){const{setZone:s,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const l=e||a,d=ft.fromObject(t,{...r,zone:l,specificOffset:o});return s?d:d.setZone(a)}else return ft.invalid(new Li("unparsable",`the input "${i}" can't be parsed as ${n}`))}function mp(t,e,r=!0){return t.isValid?Zr.create(Pt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Py(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=Er(t.c.year,r?6:4),e?(n+="-",n+=Er(t.c.month),n+="-",n+=Er(t.c.day)):(n+=Er(t.c.month),n+=Er(t.c.day)),n}function nk(t,e,r,n,i,o){let s=Er(t.c.hour);return e?(s+=":",s+=Er(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=":")):s+=Er(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=Er(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=Er(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!o?s+="Z":t.o<0?(s+="-",s+=Er(Math.trunc(-t.o/60)),s+=":",s+=Er(Math.trunc(-t.o%60))):(s+="+",s+=Er(Math.trunc(t.o/60)),s+=":",s+=Er(Math.trunc(t.o%60)))),o&&(s+="["+t.zone.ianaName+"]"),s}const ik={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},RQ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},PQ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ok=["year","month","day","hour","minute","second","millisecond"],FQ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],UQ=["year","ordinal","hour","minute","second","millisecond"];function jQ(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new LE(t);return e}function sk(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return jQ(t)}}function $Q(t){return yp[t]||(gp===void 0&&(gp=cr.now()),yp[t]=t.offset(gp)),yp[t]}function ak(t,e){const r=ps(e.zone,cr.defaultZone);if(!r.isValid)return ft.invalid(Ku(r));const n=Pt.fromObject(e);let i,o;if(dt(t.year))i=cr.now();else{for(const l of ok)dt(t[l])&&(t[l]=ik[l]);const s=b4(t)||v4(t);if(s)return ft.invalid(s);const a=$Q(r);[i,o]=pp(t,a,r)}return new ft({ts:i,zone:r,loc:n,o})}function lk(t,e,r){const n=dt(r.round)?!0:r.round,i=(s,a)=>(s=ky(s,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(s,a)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return i(o(r.unit),r.unit);for(const s of r.units){const a=o(s);if(Math.abs(a)>=1)return i(a,s)}return i(t>e?-0:0,r.units[r.units.length-1])}function ck(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let gp,yp={};class ft{constructor(e){const r=e.zone||cr.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Li("invalid input"):null)||(r.isValid?null:Ku(r));this.ts=dt(e.ts)?cr.now():e.ts;let i=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,o]=[e.old.c,e.old.o];else{const a=ms(e.o)&&!e.old?e.o:r.offset(this.ts);i=hp(this.ts,a),n=Number.isNaN(i.year)?new Li("invalid input"):null,i=n?null:i,o=n?null:a}this._zone=r,this.loc=e.loc||Pt.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new ft({})}static local(){const[e,r]=ck(arguments),[n,i,o,s,a,l,d]=r;return ak({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:d},e)}static utc(){const[e,r]=ck(arguments),[n,i,o,s,a,l,d]=r;return e.zone=fn.utcInstance,ak({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:d},e)}static fromJSDate(e,r={}){const n=bG(e)?e.valueOf():NaN;if(Number.isNaN(n))return ft.invalid("invalid input");const i=ps(r.zone,cr.defaultZone);return i.isValid?new ft({ts:n,zone:i,loc:Pt.fromObject(r)}):ft.invalid(Ku(i))}static fromMillis(e,r={}){if(ms(e))return e<-ek||e>ek?ft.invalid("Timestamp out of range"):new ft({ts:e,zone:ps(r.zone,cr.defaultZone),loc:Pt.fromObject(r)});throw new Xr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(ms(e))return new ft({ts:e*1e3,zone:ps(r.zone,cr.defaultZone),loc:Pt.fromObject(r)});throw new Xr("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=ps(r.zone,cr.defaultZone);if(!n.isValid)return ft.invalid(Ku(n));const i=Pt.fromObject(r),o=cp(e,sk),{minDaysInFirstWeek:s,startOfWeek:a}=y4(o,i),l=cr.now(),d=dt(r.specificOffset)?n.offset(l):r.specificOffset,f=!dt(o.ordinal),u=!dt(o.year),h=!dt(o.month)||!dt(o.day),p=u||h,m=o.weekYear||o.weekNumber;if((p||f)&&m)throw new ql("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new ql("Can't mix ordinal dates with month/day");const y=m||o.weekday&&!p;let b,v,E=hp(l,d);y?(b=FQ,v=RQ,E=ip(E,s,a)):f?(b=UQ,v=PQ,E=Cy(E)):(b=ok,v=ik);let A=!1;for(const R of b){const z=o[R];dt(z)?A?o[R]=v[R]:o[R]=E[R]:A=!0}const k=y?mG(o,s,a):f?gG(o):b4(o),C=k||v4(o);if(C)return ft.invalid(C);const T=y?m4(o,s,a):f?g4(o):o,[O,D]=pp(T,d,n),S=new ft({ts:O,zone:n,o:D,loc:i});return o.weekday&&p&&e.weekday!==S.weekday?ft.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${S.toISO()}`):S.isValid?S:ft.invalid(S.invalid)}static fromISO(e,r={}){const[n,i]=aQ(e);return rc(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=lQ(e);return rc(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=cQ(e);return rc(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(dt(e)||dt(r))throw new Xr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=n,s=Pt.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[a,l,d,f]=BQ(s,e,r);return f?ft.invalid(f):rc(a,l,n,`format ${r}`,e,d)}static fromString(e,r,n={}){return ft.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=gQ(e);return rc(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Xr("need to specify a reason the DateTime is invalid");const n=e instanceof Li?e:new Li(e,r);if(cr.throwOnInvalid)throw new zW(n);return new ft({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=J4(e,Pt.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return K4(Zr.parseFormat(e),Pt.fromObject(r)).map(i=>i.val).join("")}static resetCache(){gp=void 0,yp={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?By(this).weekYear:NaN}get weekNumber(){return this.isValid?By(this).weekNumber:NaN}get weekday(){return this.isValid?By(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ry(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ry(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ry(this).weekYear:NaN}get ordinal(){return this.isValid?Cy(this.c).ordinal:NaN}get monthShort(){return this.isValid?dp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?dp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?dp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?dp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=ap(this.c),i=this.zone.offset(n-e),o=this.zone.offset(n+e),s=this.zone.offset(n-i*r),a=this.zone.offset(n-o*r);if(s===a)return[this];const l=n-s*r,d=n-a*r,f=hp(l,s),u=hp(d,a);return f.hour===u.hour&&f.minute===u.minute&&f.second===u.second&&f.millisecond===u.millisecond?[ma(this,{ts:l}),ma(this,{ts:d})]:[this]}get isInLeapYear(){return qu(this.year)}get daysInMonth(){return sp(this.year,this.month)}get daysInYear(){return this.isValid?Ql(this.year):NaN}get weeksInWeekYear(){return this.isValid?Wu(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Wu(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=Zr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(fn.instance(e),r)}toLocal(){return this.setZone(cr.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=ps(e,cr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const o=e.offset(this.ts),s=this.toObject();[i]=pp(s,o,e)}return ma(this,{ts:i,zone:e})}else return ft.invalid(Ku(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return ma(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=cp(e,sk),{minDaysInFirstWeek:n,startOfWeek:i}=y4(r,this.loc),o=!dt(r.weekYear)||!dt(r.weekNumber)||!dt(r.weekday),s=!dt(r.ordinal),a=!dt(r.year),l=!dt(r.month)||!dt(r.day),d=a||l,f=r.weekYear||r.weekNumber;if((d||s)&&f)throw new ql("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new ql("Can't mix ordinal dates with month/day");let u;o?u=m4({...ip(this.c,n,i),...r},n,i):dt(r.ordinal)?(u={...this.toObject(),...r},dt(r.day)&&(u.day=Math.min(sp(u.year,u.month),u.day))):u=g4({...Cy(this.c),...r});const[h,p]=pp(u,this.o,this.zone);return ma(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const r=kt.fromDurationLike(e);return ma(this,rk(this,r))}minus(e){if(!this.isValid)return this;const r=kt.fromDurationLike(e).negate();return ma(this,rk(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=kt.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Zr.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Ly}toLocaleString(e=Jh,r={}){return this.isValid?Zr.create(this.loc.clone(r),e).formatDateTime(this):Ly}toLocaleParts(e={}){return this.isValid?Zr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s=e==="extended";let a=Py(this,s);return a+="T",a+=nk(this,s,r,n,i,o),a}toISODate({format:e="extended"}={}){return this.isValid?Py(this,e==="extended"):null}toISOWeekDate(){return mp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+nk(this,s==="extended",r,e,n,o):null}toRFC2822(){return mp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return mp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Py(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),mp(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ly}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return kt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=vG(r).map(kt.normalizeUnit),s=e.valueOf()>this.valueOf(),a=s?this:e,l=s?e:this,d=TQ(a,l,o,i);return s?d.negate():d}diffNow(e="milliseconds",r={}){return this.diff(ft.now(),e,r)}until(e){return this.isValid?ur.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(r,n)<=i&&i<=o.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||ft.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),lk(r,this.plus(n),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?lk(e.base||ft.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ft.isDateTime))throw new Xr("min requires all arguments be DateTimes");return x4(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(ft.isDateTime))throw new Xr("max requires all arguments be DateTimes");return x4(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:o=null}=n,s=Pt.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return Z4(s,e,r)}static fromStringExplain(e,r,n={}){return ft.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:i=null}=r,o=Pt.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new X4(o,e)}static fromFormatParser(e,r,n={}){if(dt(e)||dt(r))throw new Xr("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=n,s=Pt.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!s.equals(r.locale))throw new Xr(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:d,invalidReason:f}=r.explainFromTokens(e);return f?ft.invalid(f):rc(a,l,n,`format ${r.format}`,e,d)}static get DATE_SHORT(){return Jh}static get DATE_MED(){return BE}static get DATE_MED_WITH_WEEKDAY(){return qW}static get DATE_FULL(){return RE}static get DATE_HUGE(){return PE}static get TIME_SIMPLE(){return FE}static get TIME_WITH_SECONDS(){return UE}static get TIME_WITH_SHORT_OFFSET(){return jE}static get TIME_WITH_LONG_OFFSET(){return $E}static get TIME_24_SIMPLE(){return zE}static get TIME_24_WITH_SECONDS(){return VE}static get TIME_24_WITH_SHORT_OFFSET(){return HE}static get TIME_24_WITH_LONG_OFFSET(){return qE}static get DATETIME_SHORT(){return WE}static get DATETIME_SHORT_WITH_SECONDS(){return GE}static get DATETIME_MED(){return QE}static get DATETIME_MED_WITH_SECONDS(){return YE}static get DATETIME_MED_WITH_WEEKDAY(){return WW}static get DATETIME_FULL(){return KE}static get DATETIME_FULL_WITH_SECONDS(){return XE}static get DATETIME_HUGE(){return ZE}static get DATETIME_HUGE_WITH_SECONDS(){return JE}}function Xu(t){if(ft.isDateTime(t))return t;if(t&&t.valueOf&&ms(t.valueOf()))return ft.fromJSDate(t);if(t&&typeof t=="object")return ft.fromObject(t);throw new Xr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const zQ=(t,e,r=mr())=>{const n=mr(t);if(n.isSame(r,"day"))return e("today");if(n.isSame(r.subtract(1,"day"),"day"))return e("yesterday");const i=ft.fromMillis(t);return n.isSame(r,"week")?i.toLocaleString({month:"numeric",day:"numeric",weekday:"short"}):n.isSame(r,"year")?i.toLocaleString({month:"numeric",day:"numeric"}):i.toLocaleString({month:"numeric",day:"numeric",year:"numeric"})},VQ=["width","height"],HQ=[c.createStaticVNode('<g id="Icon"><path d="m23.25 3.75v7c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-.773l-2.811 1.874c-.23.153-.526.168-.77.037-.244-.13-.396-.384-.396-.661v-1.25h-2.25c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h7c.729 0 1.429.29 1.945.805.515.516.805 1.216.805 1.945zm-1.5 0c0-.332-.132-.649-.366-.884-.235-.234-.552-.366-.884-.366h-7c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h3c.414 0 .75.336.75.75v.599l1.834-1.223c.123-.082.268-.126.416-.126h1c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m11.75 12.482c0-.414.336-.75.75-.75s.75.336.75.75v5.768c0 .729-.29 1.429-.805 1.945-.516.515-1.216.805-1.945.805h-2.25v1.25c0 .277-.152.531-.396.661-.244.131-.54.116-.77-.037l-2.811-1.874h-.773c-.729 0-1.429-.29-1.945-.805-.515-.516-.805-1.216-.805-1.945v-7c0-.729.29-1.429.805-1.945.516-.515 1.216-.805 1.945-.805h8c.414 0 .75.336.75.75s-.336.75-.75.75h-8c-.332 0-.649.132-.884.366-.234.235-.366.552-.366.884v7c0 .332.132.649.366.884.235.234.552.366.884.366h1c.148 0 .293.044.416.126 0 0 1.834 1.223 1.834 1.223v-.599c0-.414.336-.75.75-.75h3c.332 0 .649-.132.884-.366.234-.235.366-.552.366-.884z"></path><path d="m17.75 5.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.5c0-.414.336-.75.75-.75s.75.336.75.75z"></path><path d="m14.5 6.5c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h5c.414 0 .75.336.75.75s-.336.75-.75.75z"></path><path d="m17.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 2.623-2.127 4.75-4.75 4.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.795 0 3.25-1.455 3.25-3.25z"></path><path d="m14.75 5.75c0-.414.336-.75.75-.75s.75.336.75.75c0 1.795 1.455 3.25 3.25 3.25.414 0 .75.336.75.75s-.336.75-.75.75c-2.623 0-4.75-2.127-4.75-4.75z"></path><path d="m5.696 17.529c-.153.384-.59.571-.975.417-.384-.153-.571-.59-.417-.975l2-5c.114-.284.389-.471.696-.471s.582.187.696.471l2 5c.154.385-.033.822-.417.975-.385.154-.822-.033-.975-.417l-1.304-3.26z"></path><path d="m6 17c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h2c.414 0 .75.336.75.75s-.336.75-.75.75z"></path></g>',1)],qQ={__name:"TranslateSvg",props:{width:{type:[Number,String],default:19},height:{type:[Number,String],default:19}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,"stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},HQ,8,VQ))}},WQ={key:0,class:"mb-2 mt-4 flex items-center justify-center"},GQ={class:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600 dark:bg-zinc-700 dark:text-gray-400"},QQ={key:3,class:"flex flex-col items-end self-end text-xs text-gray-500 dark:text-gray-300"},YQ={key:0},KQ={key:5,class:"w-[30px]"},XQ={class:"flex max-w-[70%] flex-col items-start sm:max-w-[60%]"},ZQ={key:0,class:"mb-1 ml-1 text-xs font-medium text-gray-500 dark:text-gray-300"},JQ={key:6,class:"self-end text-xs text-gray-500 dark:text-gray-300"},eY=pr(c.defineComponent({inheritAttrs:!1,__name:"MessageCell",props:{source:{}},setup(t){const e=t,r=Ai(),n=e.source,i={[Xe.Text]:Xo,[Xe.Image]:d9,[Xe.Sticker]:E_,[Xe.Video]:xU,[Xe.File]:kU,[Xe.Template]:Eq,[Xe.Flex]:$q,[Xe.Location]:TW,[Xe.Audio]:LW,[Xe.Recall]:Xo,[Xe.JoinRoom]:Xo,[Xe.LeaveRoom]:Xo,[Xe.AddMember]:Xo,[Xe.DeleteMember]:Xo,[Xe.AddMembers]:Xo,[Xe.Announcement]:Xo,[Xe.Typing]:$W},o=Bt(),s=c.computed(()=>{if(o.state.imkit.uid!==e.source.senderId)return 0;const{rooms:S,uid:R,messageMultiList:z}=o.state.imkit,F=S[e.source.roomId];return F?Object.keys(F.lastReadMessageId).filter(P=>P!==R).map(P=>{var W;const $=F.lastReadMessageId[P];return(W=z.main)==null?void 0:W.finds($)}).reduce((P,$)=>$&&$.createdAt>=e.source.createdAt?P+1:P,0):0}),a=c.computed(()=>e.source.isIncoming),l=c.computed(()=>!a.value),d=c.computed(()=>{var z;if(n.type===Xe.Typing)return!0;const R=(((z=o.state.imkit.messageMultiList.main)==null?void 0:z.messageGroups)??new Map).get(n.groupId);return R?R[0].id===n.id:!1}),f=c.computed(()=>{var z;if(n.type===Xe.Typing)return!0;const R=(((z=o.state.imkit.messageMultiList.main)==null?void 0:z.messageGroups)??new Map).get(n.groupId);return R?R[R.length-1].id===n.id:!1}),u=c.computed(()=>{var S,R;return((R=(S=e.source.template)==null?void 0:S.quickReply)==null?void 0:R.items)||[]}),h=c.ref(!1),p=S=>{h.value=!0,S.preventDefault()},m=()=>{o.commit("imkit/setState",{replyId:e.source.id})},y=()=>{let S="";switch(e.source.type){case Xe.Text:S=e.source.text;break;case Xe.Location:S=e.source.address;break}navigator.clipboard.writeText(S)},b=()=>{o.dispatch("imkit/recallMessage",{roomId:e.source.roomId,_id:e.source.id,messageType:"recall"})},v=c.computed(()=>{const S=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;if(e.source.type===Xe.Text){const R=e.source.text;for(let z=0;z<R.length;z++)if(!S.test(R[z]))return!1;return!0}return!1}),E=c.computed(()=>e.source),A=c.computed(()=>e.source.isSystem),k=c.computed(()=>o.state.imkit.config.styles),C=c.computed(()=>o.state.imkit.config.translationApiKey),T=c.computed(()=>o.state.imkit.users[e.source.senderId]),O=c.computed(()=>{var R,z;return((z=(((R=o.state.imkit.messageMultiList.main)==null?void 0:R.firstMessageOfDate)??new Map).get(e.source.dateId))==null?void 0:z.id)===e.source.id}),D=()=>{o.dispatch("imkit/translateMessage",e.source)};return(S,R)=>{var z,F,P;return c.openBlock(),c.createElementBlock(c.Fragment,null,[O.value?(c.openBlock(),c.createElementBlock("div",WQ,[c.createElementVNode("div",GQ,c.toDisplayString(c.unref(zQ)(S.source.createdAt,c.unref(r).t)),1)])):c.createCommentVNode("",!0),A.value?(c.openBlock(),c.createBlock(PW,{key:1,message:S.source},null,8,["message"])):(c.openBlock(),c.createElementBlock("div",{key:2,class:c.normalizeClass(["flex gap-2",[a.value?"justify-start":"justify-end",d.value?"mt-1":"mt-[0.0625rem]",f.value?"mb-1":"mb-[0.0625rem]",u.value.length>0?"mb-[40px]":""]]),onMouseleave:R[1]||(R[1]=$=>h.value=!1),onClick:R[2]||(R[2]=$=>h.value=!1)},[l.value&&h.value?(c.openBlock(),c.createElementBlock("img",{key:0,src:KM,class:"my-auto h-5 w-5 cursor-pointer",onClick:b})):c.createCommentVNode("",!0),l.value&&h.value?(c.openBlock(),c.createElementBlock("img",{key:1,src:tv,class:"my-auto h-5 w-5 cursor-pointer",onClick:y})):c.createCommentVNode("",!0),l.value&&h.value?(c.openBlock(),c.createElementBlock("img",{key:2,src:rv,class:"my-auto h-5 w-5 cursor-pointer",onClick:m})):c.createCommentVNode("",!0),l.value&&f.value&&!h.value?(c.openBlock(),c.createElementBlock("div",QQ,[s.value>0?(c.openBlock(),c.createElementBlock("div",YQ,c.toDisplayString(S.$t("read"))+" "+c.toDisplayString(s.value),1)):c.createCommentVNode("",!0),c.createElementVNode("div",null,c.toDisplayString(c.unref(mr)(S.source.createdAt).format("H:mm")),1)])):c.createCommentVNode("",!0),a.value&&d.value?(c.openBlock(),c.createBlock(qr,{key:4,url:((z=T.value)==null?void 0:z.avatarUrl)??"",name:((F=T.value)==null?void 0:F.nickname)??"",class:"!h-[30px] !w-[30px] rounded-full text-xs"},null,8,["url","name"])):a.value?(c.openBlock(),c.createElementBlock("div",KQ)):c.createCommentVNode("",!0),c.createElementVNode("div",XQ,[a.value&&d.value?(c.openBlock(),c.createElementBlock("div",ZQ,c.toDisplayString(((P=T.value)==null?void 0:P.nickname)??""),1)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:c.normalizeClass(["relative overflow-hidden rounded",[a.value?"rounded-r-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100":"rounded-l-xl bg-gray-100 text-gray-900 dark:bg-zinc-700 dark:text-gray-100",l.value&&d.value?"rounded-tr-xl":"",l.value&&f.value?"rounded-br-xl":"",a.value&&d.value?"rounded-tl-xl":"",a.value&&f.value?"rounded-bl-xl":"",[c.unref(Xe).Sticker,c.unref(Xe).Image].includes(S.source.type)?"!bg-white dark:!bg-zinc-800":"",v.value?"!bg-white !text-3xl dark:!bg-zinc-800":"",[c.unref(Xe).Template,c.unref(Xe).Flex].includes(S.source.type)?"!rounded-none !bg-white dark:!bg-zinc-800":"px-3 py-2",[c.unref(js).ImageCarousel,c.unref(js).Carousel].includes(E.value.templateType)?"!rounded-none !bg-white dark:bg-zinc-800":""]]),style:c.normalizeStyle([a.value?k.value.incomingMessageCell:k.value.outgoingMessageCell]),onContextmenu:p,onMouseenter:R[0]||(R[0]=$=>h.value=!0)},[(c.openBlock(),c.createBlock(c.resolveDynamicComponent(i[S.source.type]),{message:c.unref(n)},null,8,["message"]))],38)]),a.value&&f.value&&!h.value&&c.unref(n).type!==c.unref(Xe).Typing?(c.openBlock(),c.createElementBlock("div",JQ,c.toDisplayString(c.unref(mr)(S.source.createdAt).format("H:mm")),1)):c.createCommentVNode("",!0),a.value&&h.value?(c.openBlock(),c.createElementBlock("div",{key:7,class:c.normalizeClass(["flex items-center justify-center gap-2",{"mt-5":d.value}])},[c.createElementVNode("img",{src:rv,class:c.normalizeClass(["my-auto h-5 w-5 cursor-pointer",d.value?"ml-1":"ml-2"]),onClick:m},null,2),c.createElementVNode("img",{src:tv,class:"my-auto h-5 w-5 cursor-pointer",onClick:y}),C.value?(c.openBlock(),c.createBlock(qQ,{key:0,class:"cursor-pointer fill-gray-600",onClick:D})):c.createCommentVNode("",!0)],2)):c.createCommentVNode("",!0)],34))],64)}}}),[["__scopeId","data-v-cd9e46d9"]]),tY={class:"absolute bottom-[110%] right-0 flex h-80 w-80 max-w-full flex-col divide-y overflow-auto rounded-xl border bg-white dark:bg-zinc-800"},rY={class:"grid grow grid-cols-3 items-center justify-center gap-4 overflow-y-auto p-4 sm:grid-cols-4"},nY=["src","onClick"],iY={key:0,class:"flex h-14 w-full flex-shrink-0 gap-4 overflow-x-auto p-3"},oY=["src","onClick"],sY=c.defineComponent({__name:"StickerPanel",emits:["close"],setup(t,{emit:e}){const r=Bt(),n=[{name:"FunFunFamily",number:40}],i=c.ref(n[0]),o=c.computed(()=>r.state.imkit.rooms[r.state.imkit.selectedRoomId]),s=e,a=async l=>{const d={roomId:o.value.id,messageType:"sticker",sticker:l};await r.dispatch("imkit/sendMessage",d),s("close")};return(l,d)=>(c.openBlock(),c.createElementBlock("div",tY,[c.createElementVNode("div",rY,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.value.number,f=>(c.openBlock(),c.createElementBlock("img",{src:`/sticker/${i.value.name}/${i.value.name}-${f}.png`,key:f,class:"cursor-pointer border-0 object-contain",onClick:u=>a(`${i.value.name}-${f}`)},null,8,nY))),128))]),n.length>1?(c.openBlock(),c.createElementBlock("div",iY,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(n,f=>c.createElementVNode("img",{src:`/sticker/${f.name}/${f.name}-1.png`,key:f.name,class:"h-full cursor-pointer border-0 object-contain",onClick:u=>i.value=f},null,8,oY)),64))])):c.createCommentVNode("",!0)]))}}),uk="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64",dk={recent:"Recently used",smileys_people:"Smiles & People",animals_nature:"Animals & Nature",food_drink:"Food & Drink",activities:"Activities",travel_places:"Travel places",objects:"Objects",symbols:"Symbols",flags:"Flags"},fk="u",bp="n",vp="v",Zu="r",aY={[bp]:["grinning face","grinning"],[fk]:"1f600",[Zu]:"1f600"},_p="neutral",lY=[_p,"1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"],cY={placeholder:"Search emoji",skinTone:"Skin tone"},uY=["light","dark","auto"];var dY={smileys_people:[{n:["grinning face","grinning"],u:"1f600"},{n:["grinning face with smiling eyes","grin"],u:"1f601"},{n:["face with tears of joy","joy"],u:"1f602"},{n:["rolling on the floor laughing","rolling_on_the_floor_laughing"],u:"1f923"},{n:["smiling face with open mouth","smiley"],u:"1f603"},{n:["smiling face with open mouth and smiling eyes","smile"],u:"1f604"},{n:["smiling face with open mouth and cold sweat","sweat_smile"],u:"1f605"},{n:["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],u:"1f606"},{n:["winking face","wink"],u:"1f609"},{n:["smiling face with smiling eyes","blush"],u:"1f60a"},{n:["face savouring delicious food","yum"],u:"1f60b"},{n:["smiling face with sunglasses","sunglasses"],u:"1f60e"},{n:["smiling face with heart-shaped eyes","heart_eyes"],u:"1f60d"},{n:["face throwing a kiss","kissing_heart"],u:"1f618"},{n:["kissing face","kissing"],u:"1f617"},{n:["kissing face with smiling eyes","kissing_smiling_eyes"],u:"1f619"},{n:["kissing face with closed eyes","kissing_closed_eyes"],u:"1f61a"},{n:["white smiling face","relaxed"],u:"263a-fe0f"},{n:["slightly smiling face","slightly_smiling_face"],u:"1f642"},{n:["hugging face","hugging_face"],u:"1f917"},{n:["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],u:"1f929"},{n:["thinking face","thinking_face"],u:"1f914"},{n:["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],u:"1f928"},{n:["neutral face","neutral_face"],u:"1f610"},{n:["expressionless face","expressionless"],u:"1f611"},{n:["face without mouth","no_mouth"],u:"1f636"},{n:["face with rolling eyes","face_with_rolling_eyes"],u:"1f644"},{n:["smirking face","smirk"],u:"1f60f"},{n:["persevering face","persevere"],u:"1f623"},{n:["disappointed but relieved face","disappointed_relieved"],u:"1f625"},{n:["face with open mouth","open_mouth"],u:"1f62e"},{n:["zipper-mouth face","zipper_mouth_face"],u:"1f910"},{n:["hushed face","hushed"],u:"1f62f"},{n:["sleepy face","sleepy"],u:"1f62a"},{n:["tired face","tired_face"],u:"1f62b"},{n:["sleeping face","sleeping"],u:"1f634"},{n:["relieved face","relieved"],u:"1f60c"},{n:["face with stuck-out tongue","stuck_out_tongue"],u:"1f61b"},{n:["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],u:"1f61c"},{n:["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],u:"1f61d"},{n:["drooling face","drooling_face"],u:"1f924"},{n:["unamused face","unamused"],u:"1f612"},{n:["face with cold sweat","sweat"],u:"1f613"},{n:["pensive face","pensive"],u:"1f614"},{n:["confused face","confused"],u:"1f615"},{n:["upside-down face","upside_down_face"],u:"1f643"},{n:["money-mouth face","money_mouth_face"],u:"1f911"},{n:["astonished face","astonished"],u:"1f632"},{n:["white_frowning_face"],u:"2639-fe0f"},{n:["slightly frowning face","slightly_frowning_face"],u:"1f641"},{n:["confounded face","confounded"],u:"1f616"},{n:["disappointed face","disappointed"],u:"1f61e"},{n:["worried face","worried"],u:"1f61f"},{n:["face with look of triumph","triumph"],u:"1f624"},{n:["crying face","cry"],u:"1f622"},{n:["loudly crying face","sob"],u:"1f62d"},{n:["frowning face with open mouth","frowning"],u:"1f626"},{n:["anguished face","anguished"],u:"1f627"},{n:["fearful face","fearful"],u:"1f628"},{n:["weary face","weary"],u:"1f629"},{n:["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],u:"1f92f"},{n:["grimacing face","grimacing"],u:"1f62c"},{n:["face with open mouth and cold sweat","cold_sweat"],u:"1f630"},{n:["face screaming in fear","scream"],u:"1f631"},{n:["flushed face","flushed"],u:"1f633"},{n:["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],u:"1f92a"},{n:["dizzy face","dizzy_face"],u:"1f635"},{n:["pouting face","rage"],u:"1f621"},{n:["angry face","angry"],u:"1f620"},{n:["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],u:"1f92c"},{n:["face with medical mask","mask"],u:"1f637"},{n:["face with thermometer","face_with_thermometer"],u:"1f912"},{n:["face with head-bandage","face_with_head_bandage"],u:"1f915"},{n:["nauseated face","nauseated_face"],u:"1f922"},{n:["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],u:"1f92e"},{n:["sneezing face","sneezing_face"],u:"1f927"},{n:["smiling face with halo","innocent"],u:"1f607"},{n:["face with cowboy hat","face_with_cowboy_hat"],u:"1f920"},{n:["clown face","clown_face"],u:"1f921"},{n:["lying face","lying_face"],u:"1f925"},{n:["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],u:"1f92b"},{n:["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],u:"1f92d"},{n:["face with monocle","face_with_monocle"],u:"1f9d0"},{n:["nerd face","nerd_face"],u:"1f913"},{n:["smiling face with horns","smiling_imp"],u:"1f608"},{n:["imp"],u:"1f47f"},{n:["japanese ogre","japanese_ogre"],u:"1f479"},{n:["japanese goblin","japanese_goblin"],u:"1f47a"},{n:["skull"],u:"1f480"},{n:["skull_and_crossbones"],u:"2620-fe0f"},{n:["ghost"],u:"1f47b"},{n:["extraterrestrial alien","alien"],u:"1f47d"},{n:["alien monster","space_invader"],u:"1f47e"},{n:["robot face","robot_face"],u:"1f916"},{n:["pile of poo","hankey","poop","shit"],u:"1f4a9"},{n:["smiling cat face with open mouth","smiley_cat"],u:"1f63a"},{n:["grinning cat face with smiling eyes","smile_cat"],u:"1f638"},{n:["cat face with tears of joy","joy_cat"],u:"1f639"},{n:["smiling cat face with heart-shaped eyes","heart_eyes_cat"],u:"1f63b"},{n:["cat face with wry smile","smirk_cat"],u:"1f63c"},{n:["kissing cat face with closed eyes","kissing_cat"],u:"1f63d"},{n:["weary cat face","scream_cat"],u:"1f640"},{n:["crying cat face","crying_cat_face"],u:"1f63f"},{n:["pouting cat face","pouting_cat"],u:"1f63e"},{n:["see-no-evil monkey","see_no_evil"],u:"1f648"},{n:["hear-no-evil monkey","hear_no_evil"],u:"1f649"},{n:["speak-no-evil monkey","speak_no_evil"],u:"1f64a"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{n:["older adult","older_adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{n:["older man","older_man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{n:["older woman","older_woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{n:["male-doctor"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{n:["female-doctor"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{n:["male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{n:["female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{n:["male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{n:["female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{n:["male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{n:["female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{n:["male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{n:["female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{n:["male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{n:["female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{n:["male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{n:["female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{n:["male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{n:["female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{n:["male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{n:["female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{n:["male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{n:["female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{n:["male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{n:["female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{n:["male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{n:["female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{n:["male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{n:["female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{n:["male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{n:["female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{n:["male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{n:["female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{n:["male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{n:["female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{n:["police officer","cop"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{n:["male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{n:["female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{n:["sleuth_or_spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{n:["male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{n:["female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{n:["male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{n:["female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{n:["construction worker","construction_worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{n:["male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{n:["female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{n:["man with turban","man_with_turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{n:["man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{n:["woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{n:["man with gua pi mao","man_with_gua_pi_mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{n:["person with headscarf","person_with_headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{n:["bearded person","bearded_person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{n:["person with blond hair","person_with_blond_hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{n:["blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{n:["blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{n:["man in tuxedo","man_in_tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{n:["bride with veil","bride_with_veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{n:["pregnant woman","pregnant_woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{n:["baby angel","angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{n:["father christmas","santa"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{n:["mother christmas","mrs_claus","mother_christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{n:["female_mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{n:["male_mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{n:["female_fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{n:["male_fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{n:["female_vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{n:["male_vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{n:["female_elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{n:["male_elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{n:["genie"],u:"1f9de"},{n:["female_genie"],u:"1f9de-200d-2640-fe0f"},{n:["male_genie"],u:"1f9de-200d-2642-fe0f"},{n:["zombie"],u:"1f9df"},{n:["female_zombie"],u:"1f9df-200d-2640-fe0f"},{n:["male_zombie"],u:"1f9df-200d-2642-fe0f"},{n:["person frowning","person_frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{n:["man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{n:["woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{n:["person with pouting face","person_with_pouting_face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{n:["man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{n:["woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{n:["face with no good gesture","no_good"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{n:["man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{n:["face with ok gesture","ok_woman"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{n:["man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{n:["information desk person","information_desk_person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{n:["man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{n:["woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{n:["happy person raising one hand","raising_hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{n:["man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{n:["woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{n:["person bowing deeply","bow"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{n:["man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{n:["woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{n:["face palm","face_palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{n:["man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{n:["woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{n:["man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{n:["woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{n:["face massage","massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{n:["man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{n:["man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{n:["pedestrian","walking"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{n:["man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{n:["woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{n:["man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{n:["woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{n:["man dancing","man_dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{n:["woman with bunny ears","dancers"],u:"1f46f"},{n:["man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f"},{n:["woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f"},{n:["person in steamy room","person_in_steamy_room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{n:["woman_in_steamy_room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{n:["man_in_steamy_room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{n:["person climbing","person_climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{n:["woman_climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{n:["man_climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{n:["person in lotus position","person_in_lotus_position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{n:["woman_in_lotus_position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{n:["man_in_lotus_position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{n:["sleeping accommodation","sleeping_accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{n:["man_in_business_suit_levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{n:["speaking_head_in_silhouette"],u:"1f5e3-fe0f"},{n:["bust in silhouette","bust_in_silhouette"],u:"1f464"},{n:["busts in silhouette","busts_in_silhouette"],u:"1f465"},{n:["fencer"],u:"1f93a"},{n:["horse racing","horse_racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{n:["skier"],u:"26f7-fe0f"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{n:["golfer"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{n:["man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{n:["woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{n:["man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{n:["woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{n:["man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{n:["woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{n:["man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{n:["woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{n:["person_with_ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{n:["man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{n:["woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{n:["weight_lifter"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{n:["man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{n:["woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{n:["man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{n:["woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{n:["mountain bicyclist","mountain_bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{n:["man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{n:["woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{n:["racing_car"],u:"1f3ce-fe0f"},{n:["racing_motorcycle"],u:"1f3cd-fe0f"},{n:["person doing cartwheel","person_doing_cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{n:["man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{n:["woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{n:["wrestlers"],u:"1f93c"},{n:["man-wrestling"],u:"1f93c-200d-2642-fe0f"},{n:["woman-wrestling"],u:"1f93c-200d-2640-fe0f"},{n:["water polo","water_polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{n:["man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{n:["man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{n:["man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{n:["woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{n:["man and woman holding hands","couple","man_and_woman_holding_hands"],u:"1f46b"},{n:["two men holding hands","two_men_holding_hands"],u:"1f46c"},{n:["two women holding hands","two_women_holding_hands"],u:"1f46d"},{n:["kiss","couplekiss"],u:"1f48f"},{n:["woman-kiss-man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["man-kiss-man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["woman-kiss-woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{n:["couple with heart","couple_with_heart"],u:"1f491"},{n:["woman-heart-man"],u:"1f469-200d-2764-fe0f-200d-1f468"},{n:["man-heart-man"],u:"1f468-200d-2764-fe0f-200d-1f468"},{n:["woman-heart-woman"],u:"1f469-200d-2764-fe0f-200d-1f469"},{n:["family","man-woman-boy"],u:"1f46a"},{n:["man-woman-boy","family"],u:"1f468-200d-1f469-200d-1f466"},{n:["man-woman-girl"],u:"1f468-200d-1f469-200d-1f467"},{n:["man-woman-girl-boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466"},{n:["man-woman-boy-boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466"},{n:["man-woman-girl-girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467"},{n:["man-man-boy"],u:"1f468-200d-1f468-200d-1f466"},{n:["man-man-girl"],u:"1f468-200d-1f468-200d-1f467"},{n:["man-man-girl-boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466"},{n:["man-man-boy-boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466"},{n:["man-man-girl-girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467"},{n:["woman-woman-boy"],u:"1f469-200d-1f469-200d-1f466"},{n:["woman-woman-girl"],u:"1f469-200d-1f469-200d-1f467"},{n:["woman-woman-girl-boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466"},{n:["woman-woman-boy-boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466"},{n:["woman-woman-girl-girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467"},{n:["man-boy"],u:"1f468-200d-1f466"},{n:["man-boy-boy"],u:"1f468-200d-1f466-200d-1f466"},{n:["man-girl"],u:"1f468-200d-1f467"},{n:["man-girl-boy"],u:"1f468-200d-1f467-200d-1f466"},{n:["man-girl-girl"],u:"1f468-200d-1f467-200d-1f467"},{n:["woman-boy"],u:"1f469-200d-1f466"},{n:["woman-boy-boy"],u:"1f469-200d-1f466-200d-1f466"},{n:["woman-girl"],u:"1f469-200d-1f467"},{n:["woman-girl-boy"],u:"1f469-200d-1f467-200d-1f466"},{n:["woman-girl-girl"],u:"1f469-200d-1f467-200d-1f467"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{n:["flexed biceps","muscle"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{n:["white left pointing backhand index","point_left"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{n:["white right pointing backhand index","point_right"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{n:["white up pointing index","point_up"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{n:["white up pointing backhand index","point_up_2"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{n:["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{n:["white down pointing backhand index","point_down"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{n:["victory hand","v"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{n:["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{n:["raised hand with part between middle and ring fingers","spock-hand"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{n:["sign of the horns","the_horns","sign_of_the_horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{n:["call me hand","call_me_hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{n:["raised_hand_with_fingers_splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{n:["raised hand","hand","raised_hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{n:["ok hand sign","ok_hand"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{n:["thumbs up sign","+1","thumbsup"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{n:["thumbs down sign","-1","thumbsdown"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{n:["raised fist","fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{n:["fisted hand sign","facepunch","punch"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{n:["left-facing fist","left-facing_fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{n:["right-facing fist","right-facing_fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{n:["raised back of hand","raised_back_of_hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{n:["waving hand sign","wave"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{n:["i love you hand sign","i_love_you_hand_sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{n:["writing_hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{n:["clapping hands sign","clap"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{n:["open hands sign","open_hands"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{n:["person raising both hands in celebration","raised_hands"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{n:["palms up together","palms_up_together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{n:["person with folded hands","pray"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{n:["handshake"],u:"1f91d"},{n:["nail polish","nail_care"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{n:["footprints"],u:"1f463"},{n:["eyes"],u:"1f440"},{n:["eye"],u:"1f441-fe0f"},{n:["eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f"},{n:["brain"],u:"1f9e0"},{n:["tongue"],u:"1f445"},{n:["mouth","lips"],u:"1f444"},{n:["kiss mark","kiss"],u:"1f48b"},{n:["heart with arrow","cupid"],u:"1f498"},{n:["heavy black heart","heart"],u:"2764-fe0f"},{n:["beating heart","heartbeat"],u:"1f493"},{n:["broken heart","broken_heart"],u:"1f494"},{n:["two hearts","two_hearts"],u:"1f495"},{n:["sparkling heart","sparkling_heart"],u:"1f496"},{n:["growing heart","heartpulse"],u:"1f497"},{n:["blue heart","blue_heart"],u:"1f499"},{n:["green heart","green_heart"],u:"1f49a"},{n:["yellow heart","yellow_heart"],u:"1f49b"},{n:["orange heart","orange_heart"],u:"1f9e1"},{n:["purple heart","purple_heart"],u:"1f49c"},{n:["black heart","black_heart"],u:"1f5a4"},{n:["heart with ribbon","gift_heart"],u:"1f49d"},{n:["revolving hearts","revolving_hearts"],u:"1f49e"},{n:["heart decoration","heart_decoration"],u:"1f49f"},{n:["heavy_heart_exclamation_mark_ornament"],u:"2763-fe0f"},{n:["love letter","love_letter"],u:"1f48c"},{n:["sleeping symbol","zzz"],u:"1f4a4"},{n:["anger symbol","anger"],u:"1f4a2"},{n:["bomb"],u:"1f4a3"},{n:["collision symbol","boom","collision"],u:"1f4a5"},{n:["splashing sweat symbol","sweat_drops"],u:"1f4a6"},{n:["dash symbol","dash"],u:"1f4a8"},{n:["dizzy symbol","dizzy"],u:"1f4ab"},{n:["speech balloon","speech_balloon"],u:"1f4ac"},{n:["left_speech_bubble"],u:"1f5e8-fe0f"},{n:["right_anger_bubble"],u:"1f5ef-fe0f"},{n:["thought balloon","thought_balloon"],u:"1f4ad"},{n:["hole"],u:"1f573-fe0f"},{n:["eyeglasses"],u:"1f453"},{n:["dark_sunglasses"],u:"1f576-fe0f"},{n:["necktie"],u:"1f454"},{n:["t-shirt","shirt","tshirt"],u:"1f455"},{n:["jeans"],u:"1f456"},{n:["scarf"],u:"1f9e3"},{n:["gloves"],u:"1f9e4"},{n:["coat"],u:"1f9e5"},{n:["socks"],u:"1f9e6"},{n:["dress"],u:"1f457"},{n:["kimono"],u:"1f458"},{n:["bikini"],u:"1f459"},{n:["womans clothes","womans_clothes"],u:"1f45a"},{n:["purse"],u:"1f45b"},{n:["handbag"],u:"1f45c"},{n:["pouch"],u:"1f45d"},{n:["shopping_bags"],u:"1f6cd-fe0f"},{n:["school satchel","school_satchel"],u:"1f392"},{n:["mans shoe","mans_shoe","shoe"],u:"1f45e"},{n:["athletic shoe","athletic_shoe"],u:"1f45f"},{n:["high-heeled shoe","high_heel"],u:"1f460"},{n:["womans sandal","sandal"],u:"1f461"},{n:["womans boots","boot"],u:"1f462"},{n:["crown"],u:"1f451"},{n:["womans hat","womans_hat"],u:"1f452"},{n:["top hat","tophat"],u:"1f3a9"},{n:["graduation cap","mortar_board"],u:"1f393"},{n:["billed cap","billed_cap"],u:"1f9e2"},{n:["helmet_with_white_cross"],u:"26d1-fe0f"},{n:["prayer beads","prayer_beads"],u:"1f4ff"},{n:["lipstick"],u:"1f484"},{n:["ring"],u:"1f48d"},{n:["gem stone","gem"],u:"1f48e"}],animals_nature:[{n:["monkey face","monkey_face"],u:"1f435"},{n:["monkey"],u:"1f412"},{n:["gorilla"],u:"1f98d"},{n:["dog face","dog"],u:"1f436"},{n:["dog","dog2"],u:"1f415"},{n:["poodle"],u:"1f429"},{n:["wolf face","wolf"],u:"1f43a"},{n:["fox face","fox_face"],u:"1f98a"},{n:["cat face","cat"],u:"1f431"},{n:["cat","cat2"],u:"1f408"},{n:["lion face","lion_face"],u:"1f981"},{n:["tiger face","tiger"],u:"1f42f"},{n:["tiger","tiger2"],u:"1f405"},{n:["leopard"],u:"1f406"},{n:["horse face","horse"],u:"1f434"},{n:["horse","racehorse"],u:"1f40e"},{n:["unicorn face","unicorn_face"],u:"1f984"},{n:["zebra face","zebra_face"],u:"1f993"},{n:["deer"],u:"1f98c"},{n:["cow face","cow"],u:"1f42e"},{n:["ox"],u:"1f402"},{n:["water buffalo","water_buffalo"],u:"1f403"},{n:["cow","cow2"],u:"1f404"},{n:["pig face","pig"],u:"1f437"},{n:["pig","pig2"],u:"1f416"},{n:["boar"],u:"1f417"},{n:["pig nose","pig_nose"],u:"1f43d"},{n:["ram"],u:"1f40f"},{n:["sheep"],u:"1f411"},{n:["goat"],u:"1f410"},{n:["dromedary camel","dromedary_camel"],u:"1f42a"},{n:["bactrian camel","camel"],u:"1f42b"},{n:["giraffe face","giraffe_face"],u:"1f992"},{n:["elephant"],u:"1f418"},{n:["rhinoceros"],u:"1f98f"},{n:["mouse face","mouse"],u:"1f42d"},{n:["mouse","mouse2"],u:"1f401"},{n:["rat"],u:"1f400"},{n:["hamster face","hamster"],u:"1f439"},{n:["rabbit face","rabbit"],u:"1f430"},{n:["rabbit","rabbit2"],u:"1f407"},{n:["chipmunk"],u:"1f43f-fe0f"},{n:["hedgehog"],u:"1f994"},{n:["bat"],u:"1f987"},{n:["bear face","bear"],u:"1f43b"},{n:["koala"],u:"1f428"},{n:["panda face","panda_face"],u:"1f43c"},{n:["paw prints","feet","paw_prints"],u:"1f43e"},{n:["turkey"],u:"1f983"},{n:["chicken"],u:"1f414"},{n:["rooster"],u:"1f413"},{n:["hatching chick","hatching_chick"],u:"1f423"},{n:["baby chick","baby_chick"],u:"1f424"},{n:["front-facing baby chick","hatched_chick"],u:"1f425"},{n:["bird"],u:"1f426"},{n:["penguin"],u:"1f427"},{n:["dove_of_peace"],u:"1f54a-fe0f"},{n:["eagle"],u:"1f985"},{n:["duck"],u:"1f986"},{n:["owl"],u:"1f989"},{n:["frog face","frog"],u:"1f438"},{n:["crocodile"],u:"1f40a"},{n:["turtle"],u:"1f422"},{n:["lizard"],u:"1f98e"},{n:["snake"],u:"1f40d"},{n:["dragon face","dragon_face"],u:"1f432"},{n:["dragon"],u:"1f409"},{n:["sauropod"],u:"1f995"},{n:["t-rex"],u:"1f996"},{n:["spouting whale","whale"],u:"1f433"},{n:["whale","whale2"],u:"1f40b"},{n:["dolphin","flipper"],u:"1f42c"},{n:["fish"],u:"1f41f"},{n:["tropical fish","tropical_fish"],u:"1f420"},{n:["blowfish"],u:"1f421"},{n:["shark"],u:"1f988"},{n:["octopus"],u:"1f419"},{n:["spiral shell","shell"],u:"1f41a"},{n:["crab"],u:"1f980"},{n:["shrimp"],u:"1f990"},{n:["squid"],u:"1f991"},{n:["snail"],u:"1f40c"},{n:["butterfly"],u:"1f98b"},{n:["bug"],u:"1f41b"},{n:["ant"],u:"1f41c"},{n:["honeybee","bee"],u:"1f41d"},{n:["lady beetle","beetle"],u:"1f41e"},{n:["cricket"],u:"1f997"},{n:["spider"],u:"1f577-fe0f"},{n:["spider_web"],u:"1f578-fe0f"},{n:["scorpion"],u:"1f982"},{n:["bouquet"],u:"1f490"},{n:["cherry blossom","cherry_blossom"],u:"1f338"},{n:["white flower","white_flower"],u:"1f4ae"},{n:["rosette"],u:"1f3f5-fe0f"},{n:["rose"],u:"1f339"},{n:["wilted flower","wilted_flower"],u:"1f940"},{n:["hibiscus"],u:"1f33a"},{n:["sunflower"],u:"1f33b"},{n:["blossom"],u:"1f33c"},{n:["tulip"],u:"1f337"},{n:["seedling"],u:"1f331"},{n:["evergreen tree","evergreen_tree"],u:"1f332"},{n:["deciduous tree","deciduous_tree"],u:"1f333"},{n:["palm tree","palm_tree"],u:"1f334"},{n:["cactus"],u:"1f335"},{n:["ear of rice","ear_of_rice"],u:"1f33e"},{n:["herb"],u:"1f33f"},{n:["shamrock"],u:"2618-fe0f"},{n:["four leaf clover","four_leaf_clover"],u:"1f340"},{n:["maple leaf","maple_leaf"],u:"1f341"},{n:["fallen leaf","fallen_leaf"],u:"1f342"},{n:["leaf fluttering in wind","leaves"],u:"1f343"}],food_drink:[{n:["grapes"],u:"1f347"},{n:["melon"],u:"1f348"},{n:["watermelon"],u:"1f349"},{n:["tangerine"],u:"1f34a"},{n:["lemon"],u:"1f34b"},{n:["banana"],u:"1f34c"},{n:["pineapple"],u:"1f34d"},{n:["red apple","apple"],u:"1f34e"},{n:["green apple","green_apple"],u:"1f34f"},{n:["pear"],u:"1f350"},{n:["peach"],u:"1f351"},{n:["cherries"],u:"1f352"},{n:["strawberry"],u:"1f353"},{n:["kiwifruit"],u:"1f95d"},{n:["tomato"],u:"1f345"},{n:["coconut"],u:"1f965"},{n:["avocado"],u:"1f951"},{n:["aubergine","eggplant"],u:"1f346"},{n:["potato"],u:"1f954"},{n:["carrot"],u:"1f955"},{n:["ear of maize","corn"],u:"1f33d"},{n:["hot_pepper"],u:"1f336-fe0f"},{n:["cucumber"],u:"1f952"},{n:["broccoli"],u:"1f966"},{n:["mushroom"],u:"1f344"},{n:["peanuts"],u:"1f95c"},{n:["chestnut"],u:"1f330"},{n:["bread"],u:"1f35e"},{n:["croissant"],u:"1f950"},{n:["baguette bread","baguette_bread"],u:"1f956"},{n:["pretzel"],u:"1f968"},{n:["pancakes"],u:"1f95e"},{n:["cheese wedge","cheese_wedge"],u:"1f9c0"},{n:["meat on bone","meat_on_bone"],u:"1f356"},{n:["poultry leg","poultry_leg"],u:"1f357"},{n:["cut of meat","cut_of_meat"],u:"1f969"},{n:["bacon"],u:"1f953"},{n:["hamburger"],u:"1f354"},{n:["french fries","fries"],u:"1f35f"},{n:["slice of pizza","pizza"],u:"1f355"},{n:["hot dog","hotdog"],u:"1f32d"},{n:["sandwich"],u:"1f96a"},{n:["taco"],u:"1f32e"},{n:["burrito"],u:"1f32f"},{n:["stuffed flatbread","stuffed_flatbread"],u:"1f959"},{n:["egg"],u:"1f95a"},{n:["cooking","fried_egg"],u:"1f373"},{n:["shallow pan of food","shallow_pan_of_food"],u:"1f958"},{n:["pot of food","stew"],u:"1f372"},{n:["bowl with spoon","bowl_with_spoon"],u:"1f963"},{n:["green salad","green_salad"],u:"1f957"},{n:["popcorn"],u:"1f37f"},{n:["canned food","canned_food"],u:"1f96b"},{n:["bento box","bento"],u:"1f371"},{n:["rice cracker","rice_cracker"],u:"1f358"},{n:["rice ball","rice_ball"],u:"1f359"},{n:["cooked rice","rice"],u:"1f35a"},{n:["curry and rice","curry"],u:"1f35b"},{n:["steaming bowl","ramen"],u:"1f35c"},{n:["spaghetti"],u:"1f35d"},{n:["roasted sweet potato","sweet_potato"],u:"1f360"},{n:["oden"],u:"1f362"},{n:["sushi"],u:"1f363"},{n:["fried shrimp","fried_shrimp"],u:"1f364"},{n:["fish cake with swirl design","fish_cake"],u:"1f365"},{n:["dango"],u:"1f361"},{n:["dumpling"],u:"1f95f"},{n:["fortune cookie","fortune_cookie"],u:"1f960"},{n:["takeout box","takeout_box"],u:"1f961"},{n:["soft ice cream","icecream"],u:"1f366"},{n:["shaved ice","shaved_ice"],u:"1f367"},{n:["ice cream","ice_cream"],u:"1f368"},{n:["doughnut"],u:"1f369"},{n:["cookie"],u:"1f36a"},{n:["birthday cake","birthday"],u:"1f382"},{n:["shortcake","cake"],u:"1f370"},{n:["pie"],u:"1f967"},{n:["chocolate bar","chocolate_bar"],u:"1f36b"},{n:["candy"],u:"1f36c"},{n:["lollipop"],u:"1f36d"},{n:["custard"],u:"1f36e"},{n:["honey pot","honey_pot"],u:"1f36f"},{n:["baby bottle","baby_bottle"],u:"1f37c"},{n:["glass of milk","glass_of_milk"],u:"1f95b"},{n:["hot beverage","coffee"],u:"2615"},{n:["teacup without handle","tea"],u:"1f375"},{n:["sake bottle and cup","sake"],u:"1f376"},{n:["bottle with popping cork","champagne"],u:"1f37e"},{n:["wine glass","wine_glass"],u:"1f377"},{n:["cocktail glass","cocktail"],u:"1f378"},{n:["tropical drink","tropical_drink"],u:"1f379"},{n:["beer mug","beer"],u:"1f37a"},{n:["clinking beer mugs","beers"],u:"1f37b"},{n:["clinking glasses","clinking_glasses"],u:"1f942"},{n:["tumbler glass","tumbler_glass"],u:"1f943"},{n:["cup with straw","cup_with_straw"],u:"1f964"},{n:["chopsticks"],u:"1f962"},{n:["knife_fork_plate"],u:"1f37d-fe0f"},{n:["fork and knife","fork_and_knife"],u:"1f374"},{n:["spoon"],u:"1f944"},{n:["hocho","knife"],u:"1f52a"},{n:["amphora"],u:"1f3fa"}],activities:[{n:["jack-o-lantern","jack_o_lantern"],u:"1f383"},{n:["christmas tree","christmas_tree"],u:"1f384"},{n:["fireworks"],u:"1f386"},{n:["firework sparkler","sparkler"],u:"1f387"},{n:["sparkles"],u:"2728"},{n:["balloon"],u:"1f388"},{n:["party popper","tada"],u:"1f389"},{n:["confetti ball","confetti_ball"],u:"1f38a"},{n:["tanabata tree","tanabata_tree"],u:"1f38b"},{n:["pine decoration","bamboo"],u:"1f38d"},{n:["japanese dolls","dolls"],u:"1f38e"},{n:["carp streamer","flags"],u:"1f38f"},{n:["wind chime","wind_chime"],u:"1f390"},{n:["moon viewing ceremony","rice_scene"],u:"1f391"},{n:["ribbon"],u:"1f380"},{n:["wrapped present","gift"],u:"1f381"},{n:["reminder_ribbon"],u:"1f397-fe0f"},{n:["admission_tickets"],u:"1f39f-fe0f"},{n:["ticket"],u:"1f3ab"},{n:["medal"],u:"1f396-fe0f"},{n:["trophy"],u:"1f3c6"},{n:["sports medal","sports_medal"],u:"1f3c5"},{n:["first place medal","first_place_medal"],u:"1f947"},{n:["second place medal","second_place_medal"],u:"1f948"},{n:["third place medal","third_place_medal"],u:"1f949"},{n:["soccer ball","soccer"],u:"26bd"},{n:["baseball"],u:"26be"},{n:["basketball and hoop","basketball"],u:"1f3c0"},{n:["volleyball"],u:"1f3d0"},{n:["american football","football"],u:"1f3c8"},{n:["rugby football","rugby_football"],u:"1f3c9"},{n:["tennis racquet and ball","tennis"],u:"1f3be"},{n:["billiards","8ball"],u:"1f3b1"},{n:["bowling"],u:"1f3b3"},{n:["cricket bat and ball","cricket_bat_and_ball"],u:"1f3cf"},{n:["field hockey stick and ball","field_hockey_stick_and_ball"],u:"1f3d1"},{n:["ice hockey stick and puck","ice_hockey_stick_and_puck"],u:"1f3d2"},{n:["table tennis paddle and ball","table_tennis_paddle_and_ball"],u:"1f3d3"},{n:["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],u:"1f3f8"},{n:["boxing glove","boxing_glove"],u:"1f94a"},{n:["martial arts uniform","martial_arts_uniform"],u:"1f94b"},{n:["goal net","goal_net"],u:"1f945"},{n:["direct hit","dart"],u:"1f3af"},{n:["flag in hole","golf"],u:"26f3"},{n:["ice_skate"],u:"26f8-fe0f"},{n:["fishing pole and fish","fishing_pole_and_fish"],u:"1f3a3"},{n:["running shirt with sash","running_shirt_with_sash"],u:"1f3bd"},{n:["ski and ski boot","ski"],u:"1f3bf"},{n:["sled"],u:"1f6f7"},{n:["curling stone","curling_stone"],u:"1f94c"},{n:["video game","video_game"],u:"1f3ae"},{n:["joystick"],u:"1f579-fe0f"},{n:["game die","game_die"],u:"1f3b2"},{n:["black spade suit","spades"],u:"2660-fe0f"},{n:["black heart suit","hearts"],u:"2665-fe0f"},{n:["black diamond suit","diamonds"],u:"2666-fe0f"},{n:["black club suit","clubs"],u:"2663-fe0f"},{n:["playing card black joker","black_joker"],u:"1f0cf"},{n:["mahjong tile red dragon","mahjong"],u:"1f004"},{n:["flower playing cards","flower_playing_cards"],u:"1f3b4"}],travel_places:[{n:["earth globe europe-africa","earth_africa"],u:"1f30d"},{n:["earth globe americas","earth_americas"],u:"1f30e"},{n:["earth globe asia-australia","earth_asia"],u:"1f30f"},{n:["globe with meridians","globe_with_meridians"],u:"1f310"},{n:["world_map"],u:"1f5fa-fe0f"},{n:["silhouette of japan","japan"],u:"1f5fe"},{n:["snow_capped_mountain"],u:"1f3d4-fe0f"},{n:["mountain"],u:"26f0-fe0f"},{n:["volcano"],u:"1f30b"},{n:["mount fuji","mount_fuji"],u:"1f5fb"},{n:["camping"],u:"1f3d5-fe0f"},{n:["beach_with_umbrella"],u:"1f3d6-fe0f"},{n:["desert"],u:"1f3dc-fe0f"},{n:["desert_island"],u:"1f3dd-fe0f"},{n:["national_park"],u:"1f3de-fe0f"},{n:["stadium"],u:"1f3df-fe0f"},{n:["classical_building"],u:"1f3db-fe0f"},{n:["building_construction"],u:"1f3d7-fe0f"},{n:["house_buildings"],u:"1f3d8-fe0f"},{n:["cityscape"],u:"1f3d9-fe0f"},{n:["derelict_house_building"],u:"1f3da-fe0f"},{n:["house building","house"],u:"1f3e0"},{n:["house with garden","house_with_garden"],u:"1f3e1"},{n:["office building","office"],u:"1f3e2"},{n:["japanese post office","post_office"],u:"1f3e3"},{n:["european post office","european_post_office"],u:"1f3e4"},{n:["hospital"],u:"1f3e5"},{n:["bank"],u:"1f3e6"},{n:["hotel"],u:"1f3e8"},{n:["love hotel","love_hotel"],u:"1f3e9"},{n:["convenience store","convenience_store"],u:"1f3ea"},{n:["school"],u:"1f3eb"},{n:["department store","department_store"],u:"1f3ec"},{n:["factory"],u:"1f3ed"},{n:["japanese castle","japanese_castle"],u:"1f3ef"},{n:["european castle","european_castle"],u:"1f3f0"},{n:["wedding"],u:"1f492"},{n:["tokyo tower","tokyo_tower"],u:"1f5fc"},{n:["statue of liberty","statue_of_liberty"],u:"1f5fd"},{n:["church"],u:"26ea"},{n:["mosque"],u:"1f54c"},{n:["synagogue"],u:"1f54d"},{n:["shinto_shrine"],u:"26e9-fe0f"},{n:["kaaba"],u:"1f54b"},{n:["fountain"],u:"26f2"},{n:["tent"],u:"26fa"},{n:["foggy"],u:"1f301"},{n:["night with stars","night_with_stars"],u:"1f303"},{n:["sunrise over mountains","sunrise_over_mountains"],u:"1f304"},{n:["sunrise"],u:"1f305"},{n:["cityscape at dusk","city_sunset"],u:"1f306"},{n:["sunset over buildings","city_sunrise"],u:"1f307"},{n:["bridge at night","bridge_at_night"],u:"1f309"},{n:["hot springs","hotsprings"],u:"2668-fe0f"},{n:["milky way","milky_way"],u:"1f30c"},{n:["carousel horse","carousel_horse"],u:"1f3a0"},{n:["ferris wheel","ferris_wheel"],u:"1f3a1"},{n:["roller coaster","roller_coaster"],u:"1f3a2"},{n:["barber pole","barber"],u:"1f488"},{n:["circus tent","circus_tent"],u:"1f3aa"},{n:["performing arts","performing_arts"],u:"1f3ad"},{n:["frame_with_picture"],u:"1f5bc-fe0f"},{n:["artist palette","art"],u:"1f3a8"},{n:["slot machine","slot_machine"],u:"1f3b0"},{n:["steam locomotive","steam_locomotive"],u:"1f682"},{n:["railway car","railway_car"],u:"1f683"},{n:["high-speed train","bullettrain_side"],u:"1f684"},{n:["high-speed train with bullet nose","bullettrain_front"],u:"1f685"},{n:["train","train2"],u:"1f686"},{n:["metro"],u:"1f687"},{n:["light rail","light_rail"],u:"1f688"},{n:["station"],u:"1f689"},{n:["tram"],u:"1f68a"},{n:["monorail"],u:"1f69d"},{n:["mountain railway","mountain_railway"],u:"1f69e"},{n:["tram car","train"],u:"1f68b"},{n:["bus"],u:"1f68c"},{n:["oncoming bus","oncoming_bus"],u:"1f68d"},{n:["trolleybus"],u:"1f68e"},{n:["minibus"],u:"1f690"},{n:["ambulance"],u:"1f691"},{n:["fire engine","fire_engine"],u:"1f692"},{n:["police car","police_car"],u:"1f693"},{n:["oncoming police car","oncoming_police_car"],u:"1f694"},{n:["taxi"],u:"1f695"},{n:["oncoming taxi","oncoming_taxi"],u:"1f696"},{n:["automobile","car","red_car"],u:"1f697"},{n:["oncoming automobile","oncoming_automobile"],u:"1f698"},{n:["recreational vehicle","blue_car"],u:"1f699"},{n:["delivery truck","truck"],u:"1f69a"},{n:["articulated lorry","articulated_lorry"],u:"1f69b"},{n:["tractor"],u:"1f69c"},{n:["bicycle","bike"],u:"1f6b2"},{n:["scooter"],u:"1f6f4"},{n:["motor scooter","motor_scooter"],u:"1f6f5"},{n:["bus stop","busstop"],u:"1f68f"},{n:["motorway"],u:"1f6e3-fe0f"},{n:["railway_track"],u:"1f6e4-fe0f"},{n:["fuel pump","fuelpump"],u:"26fd"},{n:["police cars revolving light","rotating_light"],u:"1f6a8"},{n:["horizontal traffic light","traffic_light"],u:"1f6a5"},{n:["vertical traffic light","vertical_traffic_light"],u:"1f6a6"},{n:["construction sign","construction"],u:"1f6a7"},{n:["octagonal sign","octagonal_sign"],u:"1f6d1"},{n:["anchor"],u:"2693"},{n:["sailboat","boat"],u:"26f5"},{n:["canoe"],u:"1f6f6"},{n:["speedboat"],u:"1f6a4"},{n:["passenger_ship"],u:"1f6f3-fe0f"},{n:["ferry"],u:"26f4-fe0f"},{n:["motor_boat"],u:"1f6e5-fe0f"},{n:["ship"],u:"1f6a2"},{n:["airplane"],u:"2708-fe0f"},{n:["small_airplane"],u:"1f6e9-fe0f"},{n:["airplane departure","airplane_departure"],u:"1f6eb"},{n:["airplane arriving","airplane_arriving"],u:"1f6ec"},{n:["seat"],u:"1f4ba"},{n:["helicopter"],u:"1f681"},{n:["suspension railway","suspension_railway"],u:"1f69f"},{n:["mountain cableway","mountain_cableway"],u:"1f6a0"},{n:["aerial tramway","aerial_tramway"],u:"1f6a1"},{n:["satellite"],u:"1f6f0-fe0f"},{n:["rocket"],u:"1f680"},{n:["flying saucer","flying_saucer"],u:"1f6f8"},{n:["bellhop_bell"],u:"1f6ce-fe0f"},{n:["door"],u:"1f6aa"},{n:["bed"],u:"1f6cf-fe0f"},{n:["couch_and_lamp"],u:"1f6cb-fe0f"},{n:["toilet"],u:"1f6bd"},{n:["shower"],u:"1f6bf"},{n:["bathtub"],u:"1f6c1"},{n:["hourglass"],u:"231b"},{n:["hourglass with flowing sand","hourglass_flowing_sand"],u:"23f3"},{n:["watch"],u:"231a"},{n:["alarm clock","alarm_clock"],u:"23f0"},{n:["stopwatch"],u:"23f1-fe0f"},{n:["timer_clock"],u:"23f2-fe0f"},{n:["mantelpiece_clock"],u:"1f570-fe0f"},{n:["clock face twelve oclock","clock12"],u:"1f55b"},{n:["clock face twelve-thirty","clock1230"],u:"1f567"},{n:["clock face one oclock","clock1"],u:"1f550"},{n:["clock face one-thirty","clock130"],u:"1f55c"},{n:["clock face two oclock","clock2"],u:"1f551"},{n:["clock face two-thirty","clock230"],u:"1f55d"},{n:["clock face three oclock","clock3"],u:"1f552"},{n:["clock face three-thirty","clock330"],u:"1f55e"},{n:["clock face four oclock","clock4"],u:"1f553"},{n:["clock face four-thirty","clock430"],u:"1f55f"},{n:["clock face five oclock","clock5"],u:"1f554"},{n:["clock face five-thirty","clock530"],u:"1f560"},{n:["clock face six oclock","clock6"],u:"1f555"},{n:["clock face six-thirty","clock630"],u:"1f561"},{n:["clock face seven oclock","clock7"],u:"1f556"},{n:["clock face seven-thirty","clock730"],u:"1f562"},{n:["clock face eight oclock","clock8"],u:"1f557"},{n:["clock face eight-thirty","clock830"],u:"1f563"},{n:["clock face nine oclock","clock9"],u:"1f558"},{n:["clock face nine-thirty","clock930"],u:"1f564"},{n:["clock face ten oclock","clock10"],u:"1f559"},{n:["clock face ten-thirty","clock1030"],u:"1f565"},{n:["clock face eleven oclock","clock11"],u:"1f55a"},{n:["clock face eleven-thirty","clock1130"],u:"1f566"},{n:["new moon symbol","new_moon"],u:"1f311"},{n:["waxing crescent moon symbol","waxing_crescent_moon"],u:"1f312"},{n:["first quarter moon symbol","first_quarter_moon"],u:"1f313"},{n:["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],u:"1f314"},{n:["full moon symbol","full_moon"],u:"1f315"},{n:["waning gibbous moon symbol","waning_gibbous_moon"],u:"1f316"},{n:["last quarter moon symbol","last_quarter_moon"],u:"1f317"},{n:["waning crescent moon symbol","waning_crescent_moon"],u:"1f318"},{n:["crescent moon","crescent_moon"],u:"1f319"},{n:["new moon with face","new_moon_with_face"],u:"1f31a"},{n:["first quarter moon with face","first_quarter_moon_with_face"],u:"1f31b"},{n:["last quarter moon with face","last_quarter_moon_with_face"],u:"1f31c"},{n:["thermometer"],u:"1f321-fe0f"},{n:["black sun with rays","sunny"],u:"2600-fe0f"},{n:["full moon with face","full_moon_with_face"],u:"1f31d"},{n:["sun with face","sun_with_face"],u:"1f31e"},{n:["white medium star","star"],u:"2b50"},{n:["glowing star","star2"],u:"1f31f"},{n:["shooting star","stars"],u:"1f320"},{n:["cloud"],u:"2601-fe0f"},{n:["sun behind cloud","partly_sunny"],u:"26c5"},{n:["thunder_cloud_and_rain"],u:"26c8-fe0f"},{n:["mostly_sunny","sun_small_cloud"],u:"1f324-fe0f"},{n:["barely_sunny","sun_behind_cloud"],u:"1f325-fe0f"},{n:["partly_sunny_rain","sun_behind_rain_cloud"],u:"1f326-fe0f"},{n:["rain_cloud"],u:"1f327-fe0f"},{n:["snow_cloud"],u:"1f328-fe0f"},{n:["lightning","lightning_cloud"],u:"1f329-fe0f"},{n:["tornado","tornado_cloud"],u:"1f32a-fe0f"},{n:["fog"],u:"1f32b-fe0f"},{n:["wind_blowing_face"],u:"1f32c-fe0f"},{n:["cyclone"],u:"1f300"},{n:["rainbow"],u:"1f308"},{n:["closed umbrella","closed_umbrella"],u:"1f302"},{n:["umbrella"],u:"2602-fe0f"},{n:["umbrella with rain drops","umbrella_with_rain_drops"],u:"2614"},{n:["umbrella_on_ground"],u:"26f1-fe0f"},{n:["high voltage sign","zap"],u:"26a1"},{n:["snowflake"],u:"2744-fe0f"},{n:["snowman"],u:"2603-fe0f"},{n:["snowman without snow","snowman_without_snow"],u:"26c4"},{n:["comet"],u:"2604-fe0f"},{n:["fire"],u:"1f525"},{n:["droplet"],u:"1f4a7"},{n:["water wave","ocean"],u:"1f30a"}],objects:[{n:["speaker with cancellation stroke","mute"],u:"1f507"},{n:["speaker"],u:"1f508"},{n:["speaker with one sound wave","sound"],u:"1f509"},{n:["speaker with three sound waves","loud_sound"],u:"1f50a"},{n:["public address loudspeaker","loudspeaker"],u:"1f4e2"},{n:["cheering megaphone","mega"],u:"1f4e3"},{n:["postal horn","postal_horn"],u:"1f4ef"},{n:["bell"],u:"1f514"},{n:["bell with cancellation stroke","no_bell"],u:"1f515"},{n:["musical score","musical_score"],u:"1f3bc"},{n:["musical note","musical_note"],u:"1f3b5"},{n:["multiple musical notes","notes"],u:"1f3b6"},{n:["studio_microphone"],u:"1f399-fe0f"},{n:["level_slider"],u:"1f39a-fe0f"},{n:["control_knobs"],u:"1f39b-fe0f"},{n:["microphone"],u:"1f3a4"},{n:["headphone","headphones"],u:"1f3a7"},{n:["radio"],u:"1f4fb"},{n:["saxophone"],u:"1f3b7"},{n:["guitar"],u:"1f3b8"},{n:["musical keyboard","musical_keyboard"],u:"1f3b9"},{n:["trumpet"],u:"1f3ba"},{n:["violin"],u:"1f3bb"},{n:["drum with drumsticks","drum_with_drumsticks"],u:"1f941"},{n:["mobile phone","iphone"],u:"1f4f1"},{n:["mobile phone with rightwards arrow at left","calling"],u:"1f4f2"},{n:["black telephone","phone","telephone"],u:"260e-fe0f"},{n:["telephone receiver","telephone_receiver"],u:"1f4de"},{n:["pager"],u:"1f4df"},{n:["fax machine","fax"],u:"1f4e0"},{n:["battery"],u:"1f50b"},{n:["electric plug","electric_plug"],u:"1f50c"},{n:["personal computer","computer"],u:"1f4bb"},{n:["desktop_computer"],u:"1f5a5-fe0f"},{n:["printer"],u:"1f5a8-fe0f"},{n:["keyboard"],u:"2328-fe0f"},{n:["three_button_mouse"],u:"1f5b1-fe0f"},{n:["trackball"],u:"1f5b2-fe0f"},{n:["minidisc"],u:"1f4bd"},{n:["floppy disk","floppy_disk"],u:"1f4be"},{n:["optical disc","cd"],u:"1f4bf"},{n:["dvd"],u:"1f4c0"},{n:["movie camera","movie_camera"],u:"1f3a5"},{n:["film_frames"],u:"1f39e-fe0f"},{n:["film_projector"],u:"1f4fd-fe0f"},{n:["clapper board","clapper"],u:"1f3ac"},{n:["television","tv"],u:"1f4fa"},{n:["camera"],u:"1f4f7"},{n:["camera with flash","camera_with_flash"],u:"1f4f8"},{n:["video camera","video_camera"],u:"1f4f9"},{n:["videocassette","vhs"],u:"1f4fc"},{n:["left-pointing magnifying glass","mag"],u:"1f50d"},{n:["right-pointing magnifying glass","mag_right"],u:"1f50e"},{n:["microscope"],u:"1f52c"},{n:["telescope"],u:"1f52d"},{n:["satellite antenna","satellite_antenna"],u:"1f4e1"},{n:["candle"],u:"1f56f-fe0f"},{n:["electric light bulb","bulb"],u:"1f4a1"},{n:["electric torch","flashlight"],u:"1f526"},{n:["izakaya lantern","izakaya_lantern","lantern"],u:"1f3ee"},{n:["notebook with decorative cover","notebook_with_decorative_cover"],u:"1f4d4"},{n:["closed book","closed_book"],u:"1f4d5"},{n:["open book","book","open_book"],u:"1f4d6"},{n:["green book","green_book"],u:"1f4d7"},{n:["blue book","blue_book"],u:"1f4d8"},{n:["orange book","orange_book"],u:"1f4d9"},{n:["books"],u:"1f4da"},{n:["notebook"],u:"1f4d3"},{n:["ledger"],u:"1f4d2"},{n:["page with curl","page_with_curl"],u:"1f4c3"},{n:["scroll"],u:"1f4dc"},{n:["page facing up","page_facing_up"],u:"1f4c4"},{n:["newspaper"],u:"1f4f0"},{n:["rolled_up_newspaper"],u:"1f5de-fe0f"},{n:["bookmark tabs","bookmark_tabs"],u:"1f4d1"},{n:["bookmark"],u:"1f516"},{n:["label"],u:"1f3f7-fe0f"},{n:["money bag","moneybag"],u:"1f4b0"},{n:["banknote with yen sign","yen"],u:"1f4b4"},{n:["banknote with dollar sign","dollar"],u:"1f4b5"},{n:["banknote with euro sign","euro"],u:"1f4b6"},{n:["banknote with pound sign","pound"],u:"1f4b7"},{n:["money with wings","money_with_wings"],u:"1f4b8"},{n:["credit card","credit_card"],u:"1f4b3"},{n:["chart with upwards trend and yen sign","chart"],u:"1f4b9"},{n:["currency exchange","currency_exchange"],u:"1f4b1"},{n:["heavy dollar sign","heavy_dollar_sign"],u:"1f4b2"},{n:["envelope","email"],u:"2709-fe0f"},{n:["e-mail symbol","e-mail"],u:"1f4e7"},{n:["incoming envelope","incoming_envelope"],u:"1f4e8"},{n:["envelope with downwards arrow above","envelope_with_arrow"],u:"1f4e9"},{n:["outbox tray","outbox_tray"],u:"1f4e4"},{n:["inbox tray","inbox_tray"],u:"1f4e5"},{n:["package"],u:"1f4e6"},{n:["closed mailbox with raised flag","mailbox"],u:"1f4eb"},{n:["closed mailbox with lowered flag","mailbox_closed"],u:"1f4ea"},{n:["open mailbox with raised flag","mailbox_with_mail"],u:"1f4ec"},{n:["open mailbox with lowered flag","mailbox_with_no_mail"],u:"1f4ed"},{n:["postbox"],u:"1f4ee"},{n:["ballot_box_with_ballot"],u:"1f5f3-fe0f"},{n:["pencil","pencil2"],u:"270f-fe0f"},{n:["black nib","black_nib"],u:"2712-fe0f"},{n:["lower_left_fountain_pen"],u:"1f58b-fe0f"},{n:["lower_left_ballpoint_pen"],u:"1f58a-fe0f"},{n:["lower_left_paintbrush"],u:"1f58c-fe0f"},{n:["lower_left_crayon"],u:"1f58d-fe0f"},{n:["memo","pencil"],u:"1f4dd"},{n:["briefcase"],u:"1f4bc"},{n:["file folder","file_folder"],u:"1f4c1"},{n:["open file folder","open_file_folder"],u:"1f4c2"},{n:["card_index_dividers"],u:"1f5c2-fe0f"},{n:["calendar","date"],u:"1f4c5"},{n:["tear-off calendar","calendar"],u:"1f4c6"},{n:["spiral_note_pad"],u:"1f5d2-fe0f"},{n:["spiral_calendar_pad"],u:"1f5d3-fe0f"},{n:["card index","card_index"],u:"1f4c7"},{n:["chart with upwards trend","chart_with_upwards_trend"],u:"1f4c8"},{n:["chart with downwards trend","chart_with_downwards_trend"],u:"1f4c9"},{n:["bar chart","bar_chart"],u:"1f4ca"},{n:["clipboard"],u:"1f4cb"},{n:["pushpin"],u:"1f4cc"},{n:["round pushpin","round_pushpin"],u:"1f4cd"},{n:["paperclip"],u:"1f4ce"},{n:["linked_paperclips"],u:"1f587-fe0f"},{n:["straight ruler","straight_ruler"],u:"1f4cf"},{n:["triangular ruler","triangular_ruler"],u:"1f4d0"},{n:["black scissors","scissors"],u:"2702-fe0f"},{n:["card_file_box"],u:"1f5c3-fe0f"},{n:["file_cabinet"],u:"1f5c4-fe0f"},{n:["wastebasket"],u:"1f5d1-fe0f"},{n:["lock"],u:"1f512"},{n:["open lock","unlock"],u:"1f513"},{n:["lock with ink pen","lock_with_ink_pen"],u:"1f50f"},{n:["closed lock with key","closed_lock_with_key"],u:"1f510"},{n:["key"],u:"1f511"},{n:["old_key"],u:"1f5dd-fe0f"},{n:["hammer"],u:"1f528"},{n:["pick"],u:"26cf-fe0f"},{n:["hammer_and_pick"],u:"2692-fe0f"},{n:["hammer_and_wrench"],u:"1f6e0-fe0f"},{n:["dagger_knife"],u:"1f5e1-fe0f"},{n:["crossed_swords"],u:"2694-fe0f"},{n:["pistol","gun"],u:"1f52b"},{n:["bow and arrow","bow_and_arrow"],u:"1f3f9"},{n:["shield"],u:"1f6e1-fe0f"},{n:["wrench"],u:"1f527"},{n:["nut and bolt","nut_and_bolt"],u:"1f529"},{n:["gear"],u:"2699-fe0f"},{n:["compression"],u:"1f5dc-fe0f"},{n:["alembic"],u:"2697-fe0f"},{n:["scales"],u:"2696-fe0f"},{n:["link symbol","link"],u:"1f517"},{n:["chains"],u:"26d3-fe0f"},{n:["syringe"],u:"1f489"},{n:["pill"],u:"1f48a"},{n:["smoking symbol","smoking"],u:"1f6ac"},{n:["coffin"],u:"26b0-fe0f"},{n:["funeral_urn"],u:"26b1-fe0f"},{n:["moyai"],u:"1f5ff"},{n:["oil_drum"],u:"1f6e2-fe0f"},{n:["crystal ball","crystal_ball"],u:"1f52e"},{n:["shopping trolley","shopping_trolley"],u:"1f6d2"}],symbols:[{n:["automated teller machine","atm"],u:"1f3e7"},{n:["put litter in its place symbol","put_litter_in_its_place"],u:"1f6ae"},{n:["potable water symbol","potable_water"],u:"1f6b0"},{n:["wheelchair symbol","wheelchair"],u:"267f"},{n:["mens symbol","mens"],u:"1f6b9"},{n:["womens symbol","womens"],u:"1f6ba"},{n:["restroom"],u:"1f6bb"},{n:["baby symbol","baby_symbol"],u:"1f6bc"},{n:["water closet","wc"],u:"1f6be"},{n:["passport control","passport_control"],u:"1f6c2"},{n:["customs"],u:"1f6c3"},{n:["baggage claim","baggage_claim"],u:"1f6c4"},{n:["left luggage","left_luggage"],u:"1f6c5"},{n:["warning sign","warning"],u:"26a0-fe0f"},{n:["children crossing","children_crossing"],u:"1f6b8"},{n:["no entry","no_entry"],u:"26d4"},{n:["no entry sign","no_entry_sign"],u:"1f6ab"},{n:["no bicycles","no_bicycles"],u:"1f6b3"},{n:["no smoking symbol","no_smoking"],u:"1f6ad"},{n:["do not litter symbol","do_not_litter"],u:"1f6af"},{n:["non-potable water symbol","non-potable_water"],u:"1f6b1"},{n:["no pedestrians","no_pedestrians"],u:"1f6b7"},{n:["no mobile phones","no_mobile_phones"],u:"1f4f5"},{n:["no one under eighteen symbol","underage"],u:"1f51e"},{n:["radioactive_sign"],u:"2622-fe0f"},{n:["biohazard_sign"],u:"2623-fe0f"},{n:["upwards black arrow","arrow_up"],u:"2b06-fe0f"},{n:["north east arrow","arrow_upper_right"],u:"2197-fe0f"},{n:["black rightwards arrow","arrow_right"],u:"27a1-fe0f"},{n:["south east arrow","arrow_lower_right"],u:"2198-fe0f"},{n:["downwards black arrow","arrow_down"],u:"2b07-fe0f"},{n:["south west arrow","arrow_lower_left"],u:"2199-fe0f"},{n:["leftwards black arrow","arrow_left"],u:"2b05-fe0f"},{n:["north west arrow","arrow_upper_left"],u:"2196-fe0f"},{n:["up down arrow","arrow_up_down"],u:"2195-fe0f"},{n:["left right arrow","left_right_arrow"],u:"2194-fe0f"},{n:["leftwards arrow with hook","leftwards_arrow_with_hook"],u:"21a9-fe0f"},{n:["rightwards arrow with hook","arrow_right_hook"],u:"21aa-fe0f"},{n:["arrow pointing rightwards then curving upwards","arrow_heading_up"],u:"2934-fe0f"},{n:["arrow pointing rightwards then curving downwards","arrow_heading_down"],u:"2935-fe0f"},{n:["clockwise downwards and upwards open circle arrows","arrows_clockwise"],u:"1f503"},{n:["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],u:"1f504"},{n:["back with leftwards arrow above","back"],u:"1f519"},{n:["end with leftwards arrow above","end"],u:"1f51a"},{n:["on with exclamation mark with left right arrow above","on"],u:"1f51b"},{n:["soon with rightwards arrow above","soon"],u:"1f51c"},{n:["top with upwards arrow above","top"],u:"1f51d"},{n:["place of worship","place_of_worship"],u:"1f6d0"},{n:["atom_symbol"],u:"269b-fe0f"},{n:["om_symbol"],u:"1f549-fe0f"},{n:["star_of_david"],u:"2721-fe0f"},{n:["wheel_of_dharma"],u:"2638-fe0f"},{n:["yin_yang"],u:"262f-fe0f"},{n:["latin_cross"],u:"271d-fe0f"},{n:["orthodox_cross"],u:"2626-fe0f"},{n:["star_and_crescent"],u:"262a-fe0f"},{n:["peace_symbol"],u:"262e-fe0f"},{n:["menorah with nine branches","menorah_with_nine_branches"],u:"1f54e"},{n:["six pointed star with middle dot","six_pointed_star"],u:"1f52f"},{n:["aries"],u:"2648"},{n:["taurus"],u:"2649"},{n:["gemini"],u:"264a"},{n:["cancer"],u:"264b"},{n:["leo"],u:"264c"},{n:["virgo"],u:"264d"},{n:["libra"],u:"264e"},{n:["scorpius"],u:"264f"},{n:["sagittarius"],u:"2650"},{n:["capricorn"],u:"2651"},{n:["aquarius"],u:"2652"},{n:["pisces"],u:"2653"},{n:["ophiuchus"],u:"26ce"},{n:["twisted rightwards arrows","twisted_rightwards_arrows"],u:"1f500"},{n:["clockwise rightwards and leftwards open circle arrows","repeat"],u:"1f501"},{n:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],u:"1f502"},{n:["black right-pointing triangle","arrow_forward"],u:"25b6-fe0f"},{n:["black right-pointing double triangle","fast_forward"],u:"23e9"},{n:["black_right_pointing_double_triangle_with_vertical_bar"],u:"23ed-fe0f"},{n:["black_right_pointing_triangle_with_double_vertical_bar"],u:"23ef-fe0f"},{n:["black left-pointing triangle","arrow_backward"],u:"25c0-fe0f"},{n:["black left-pointing double triangle","rewind"],u:"23ea"},{n:["black_left_pointing_double_triangle_with_vertical_bar"],u:"23ee-fe0f"},{n:["up-pointing small red triangle","arrow_up_small"],u:"1f53c"},{n:["black up-pointing double triangle","arrow_double_up"],u:"23eb"},{n:["down-pointing small red triangle","arrow_down_small"],u:"1f53d"},{n:["black down-pointing double triangle","arrow_double_down"],u:"23ec"},{n:["double_vertical_bar"],u:"23f8-fe0f"},{n:["black_square_for_stop"],u:"23f9-fe0f"},{n:["black_circle_for_record"],u:"23fa-fe0f"},{n:["eject"],u:"23cf-fe0f"},{n:["cinema"],u:"1f3a6"},{n:["low brightness symbol","low_brightness"],u:"1f505"},{n:["high brightness symbol","high_brightness"],u:"1f506"},{n:["antenna with bars","signal_strength"],u:"1f4f6"},{n:["vibration mode","vibration_mode"],u:"1f4f3"},{n:["mobile phone off","mobile_phone_off"],u:"1f4f4"},{n:["female_sign"],u:"2640-fe0f"},{n:["male_sign"],u:"2642-fe0f"},{n:["medical_symbol","staff_of_aesculapius"],u:"2695-fe0f"},{n:["black universal recycling symbol","recycle"],u:"267b-fe0f"},{n:["fleur_de_lis"],u:"269c-fe0f"},{n:["trident emblem","trident"],u:"1f531"},{n:["name badge","name_badge"],u:"1f4db"},{n:["japanese symbol for beginner","beginner"],u:"1f530"},{n:["heavy large circle","o"],u:"2b55"},{n:["white heavy check mark","white_check_mark"],u:"2705"},{n:["ballot box with check","ballot_box_with_check"],u:"2611-fe0f"},{n:["heavy check mark","heavy_check_mark"],u:"2714-fe0f"},{n:["heavy multiplication x","heavy_multiplication_x"],u:"2716-fe0f"},{n:["cross mark","x"],u:"274c"},{n:["negative squared cross mark","negative_squared_cross_mark"],u:"274e"},{n:["heavy plus sign","heavy_plus_sign"],u:"2795"},{n:["heavy minus sign","heavy_minus_sign"],u:"2796"},{n:["heavy division sign","heavy_division_sign"],u:"2797"},{n:["curly loop","curly_loop"],u:"27b0"},{n:["double curly loop","loop"],u:"27bf"},{n:["part alternation mark","part_alternation_mark"],u:"303d-fe0f"},{n:["eight spoked asterisk","eight_spoked_asterisk"],u:"2733-fe0f"},{n:["eight pointed black star","eight_pointed_black_star"],u:"2734-fe0f"},{n:["sparkle"],u:"2747-fe0f"},{n:["double exclamation mark","bangbang"],u:"203c-fe0f"},{n:["exclamation question mark","interrobang"],u:"2049-fe0f"},{n:["black question mark ornament","question"],u:"2753"},{n:["white question mark ornament","grey_question"],u:"2754"},{n:["white exclamation mark ornament","grey_exclamation"],u:"2755"},{n:["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],u:"2757"},{n:["wavy dash","wavy_dash"],u:"3030-fe0f"},{n:["copyright sign","copyright"],u:"00a9-fe0f"},{n:["registered sign","registered"],u:"00ae-fe0f"},{n:["trade mark sign","tm"],u:"2122-fe0f"},{n:["hash key","hash"],u:"0023-fe0f-20e3"},{n:["keycap_star"],u:"002a-fe0f-20e3"},{n:["keycap 0","zero"],u:"0030-fe0f-20e3"},{n:["keycap 1","one"],u:"0031-fe0f-20e3"},{n:["keycap 2","two"],u:"0032-fe0f-20e3"},{n:["keycap 3","three"],u:"0033-fe0f-20e3"},{n:["keycap 4","four"],u:"0034-fe0f-20e3"},{n:["keycap 5","five"],u:"0035-fe0f-20e3"},{n:["keycap 6","six"],u:"0036-fe0f-20e3"},{n:["keycap 7","seven"],u:"0037-fe0f-20e3"},{n:["keycap 8","eight"],u:"0038-fe0f-20e3"},{n:["keycap 9","nine"],u:"0039-fe0f-20e3"},{n:["keycap ten","keycap_ten"],u:"1f51f"},{n:["hundred points symbol","100"],u:"1f4af"},{n:["input symbol for latin capital letters","capital_abcd"],u:"1f520"},{n:["input symbol for latin small letters","abcd"],u:"1f521"},{n:["input symbol for numbers","1234"],u:"1f522"},{n:["input symbol for symbols","symbols"],u:"1f523"},{n:["input symbol for latin letters","abc"],u:"1f524"},{n:["negative squared latin capital letter a","a"],u:"1f170-fe0f"},{n:["negative squared ab","ab"],u:"1f18e"},{n:["negative squared latin capital letter b","b"],u:"1f171-fe0f"},{n:["squared cl","cl"],u:"1f191"},{n:["squared cool","cool"],u:"1f192"},{n:["squared free","free"],u:"1f193"},{n:["information source","information_source"],u:"2139-fe0f"},{n:["squared id","id"],u:"1f194"},{n:["circled latin capital letter m","m"],u:"24c2-fe0f"},{n:["squared new","new"],u:"1f195"},{n:["squared ng","ng"],u:"1f196"},{n:["negative squared latin capital letter o","o2"],u:"1f17e-fe0f"},{n:["squared ok","ok"],u:"1f197"},{n:["negative squared latin capital letter p","parking"],u:"1f17f-fe0f"},{n:["squared sos","sos"],u:"1f198"},{n:["squared up with exclamation mark","up"],u:"1f199"},{n:["squared vs","vs"],u:"1f19a"},{n:["squared katakana koko","koko"],u:"1f201"},{n:["squared katakana sa","sa"],u:"1f202-fe0f"},{n:["squared cjk unified ideograph-6708","u6708"],u:"1f237-fe0f"},{n:["squared cjk unified ideograph-6709","u6709"],u:"1f236"},{n:["squared cjk unified ideograph-6307","u6307"],u:"1f22f"},{n:["circled ideograph advantage","ideograph_advantage"],u:"1f250"},{n:["squared cjk unified ideograph-5272","u5272"],u:"1f239"},{n:["squared cjk unified ideograph-7121","u7121"],u:"1f21a"},{n:["squared cjk unified ideograph-7981","u7981"],u:"1f232"},{n:["circled ideograph accept","accept"],u:"1f251"},{n:["squared cjk unified ideograph-7533","u7533"],u:"1f238"},{n:["squared cjk unified ideograph-5408","u5408"],u:"1f234"},{n:["squared cjk unified ideograph-7a7a","u7a7a"],u:"1f233"},{n:["circled ideograph congratulation","congratulations"],u:"3297-fe0f"},{n:["circled ideograph secret","secret"],u:"3299-fe0f"},{n:["squared cjk unified ideograph-55b6","u55b6"],u:"1f23a"},{n:["squared cjk unified ideograph-6e80","u6e80"],u:"1f235"},{n:["black small square","black_small_square"],u:"25aa-fe0f"},{n:["white small square","white_small_square"],u:"25ab-fe0f"},{n:["white medium square","white_medium_square"],u:"25fb-fe0f"},{n:["black medium square","black_medium_square"],u:"25fc-fe0f"},{n:["white medium small square","white_medium_small_square"],u:"25fd"},{n:["black medium small square","black_medium_small_square"],u:"25fe"},{n:["black large square","black_large_square"],u:"2b1b"},{n:["white large square","white_large_square"],u:"2b1c"},{n:["large orange diamond","large_orange_diamond"],u:"1f536"},{n:["large blue diamond","large_blue_diamond"],u:"1f537"},{n:["small orange diamond","small_orange_diamond"],u:"1f538"},{n:["small blue diamond","small_blue_diamond"],u:"1f539"},{n:["up-pointing red triangle","small_red_triangle"],u:"1f53a"},{n:["down-pointing red triangle","small_red_triangle_down"],u:"1f53b"},{n:["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],u:"1f4a0"},{n:["radio button","radio_button"],u:"1f518"},{n:["black square button","black_square_button"],u:"1f532"},{n:["white square button","white_square_button"],u:"1f533"},{n:["medium white circle","white_circle"],u:"26aa"},{n:["medium black circle","black_circle"],u:"26ab"},{n:["large red circle","red_circle"],u:"1f534"},{n:["large blue circle","large_blue_circle"],u:"1f535"}],flags:[{n:["chequered flag","checkered_flag"],u:"1f3c1"},{n:["triangular flag on post","triangular_flag_on_post"],u:"1f6a9"},{n:["crossed flags","crossed_flags"],u:"1f38c"},{n:["waving black flag","waving_black_flag"],u:"1f3f4"},{n:["waving_white_flag"],u:"1f3f3-fe0f"},{n:["rainbow-flag"],u:"1f3f3-fe0f-200d-1f308"},{n:["ascension island flag","flag-ac"],u:"1f1e6-1f1e8"},{n:["andorra flag","flag-ad"],u:"1f1e6-1f1e9"},{n:["united arab emirates flag","flag-ae"],u:"1f1e6-1f1ea"},{n:["afghanistan flag","flag-af"],u:"1f1e6-1f1eb"},{n:["antigua & barbuda flag","flag-ag"],u:"1f1e6-1f1ec"},{n:["anguilla flag","flag-ai"],u:"1f1e6-1f1ee"},{n:["albania flag","flag-al"],u:"1f1e6-1f1f1"},{n:["armenia flag","flag-am"],u:"1f1e6-1f1f2"},{n:["angola flag","flag-ao"],u:"1f1e6-1f1f4"},{n:["antarctica flag","flag-aq"],u:"1f1e6-1f1f6"},{n:["argentina flag","flag-ar"],u:"1f1e6-1f1f7"},{n:["american samoa flag","flag-as"],u:"1f1e6-1f1f8"},{n:["austria flag","flag-at"],u:"1f1e6-1f1f9"},{n:["australia flag","flag-au"],u:"1f1e6-1f1fa"},{n:["aruba flag","flag-aw"],u:"1f1e6-1f1fc"},{n:["land islands flag","flag-ax"],u:"1f1e6-1f1fd"},{n:["azerbaijan flag","flag-az"],u:"1f1e6-1f1ff"},{n:["bosnia & herzegovina flag","flag-ba"],u:"1f1e7-1f1e6"},{n:["barbados flag","flag-bb"],u:"1f1e7-1f1e7"},{n:["bangladesh flag","flag-bd"],u:"1f1e7-1f1e9"},{n:["belgium flag","flag-be"],u:"1f1e7-1f1ea"},{n:["burkina faso flag","flag-bf"],u:"1f1e7-1f1eb"},{n:["bulgaria flag","flag-bg"],u:"1f1e7-1f1ec"},{n:["bahrain flag","flag-bh"],u:"1f1e7-1f1ed"},{n:["burundi flag","flag-bi"],u:"1f1e7-1f1ee"},{n:["benin flag","flag-bj"],u:"1f1e7-1f1ef"},{n:["st. barthlemy flag","flag-bl"],u:"1f1e7-1f1f1"},{n:["bermuda flag","flag-bm"],u:"1f1e7-1f1f2"},{n:["brunei flag","flag-bn"],u:"1f1e7-1f1f3"},{n:["bolivia flag","flag-bo"],u:"1f1e7-1f1f4"},{n:["caribbean netherlands flag","flag-bq"],u:"1f1e7-1f1f6"},{n:["brazil flag","flag-br"],u:"1f1e7-1f1f7"},{n:["bahamas flag","flag-bs"],u:"1f1e7-1f1f8"},{n:["bhutan flag","flag-bt"],u:"1f1e7-1f1f9"},{n:["bouvet island flag","flag-bv"],u:"1f1e7-1f1fb"},{n:["botswana flag","flag-bw"],u:"1f1e7-1f1fc"},{n:["belarus flag","flag-by"],u:"1f1e7-1f1fe"},{n:["belize flag","flag-bz"],u:"1f1e7-1f1ff"},{n:["canada flag","flag-ca"],u:"1f1e8-1f1e6"},{n:["cocos (keeling) islands flag","flag-cc"],u:"1f1e8-1f1e8"},{n:["congo - kinshasa flag","flag-cd"],u:"1f1e8-1f1e9"},{n:["central african republic flag","flag-cf"],u:"1f1e8-1f1eb"},{n:["congo - brazzaville flag","flag-cg"],u:"1f1e8-1f1ec"},{n:["switzerland flag","flag-ch"],u:"1f1e8-1f1ed"},{n:["cte divoire flag","flag-ci"],u:"1f1e8-1f1ee"},{n:["cook islands flag","flag-ck"],u:"1f1e8-1f1f0"},{n:["chile flag","flag-cl"],u:"1f1e8-1f1f1"},{n:["cameroon flag","flag-cm"],u:"1f1e8-1f1f2"},{n:["china flag","cn","flag-cn"],u:"1f1e8-1f1f3"},{n:["colombia flag","flag-co"],u:"1f1e8-1f1f4"},{n:["clipperton island flag","flag-cp"],u:"1f1e8-1f1f5"},{n:["costa rica flag","flag-cr"],u:"1f1e8-1f1f7"},{n:["cuba flag","flag-cu"],u:"1f1e8-1f1fa"},{n:["cape verde flag","flag-cv"],u:"1f1e8-1f1fb"},{n:["curaao flag","flag-cw"],u:"1f1e8-1f1fc"},{n:["christmas island flag","flag-cx"],u:"1f1e8-1f1fd"},{n:["cyprus flag","flag-cy"],u:"1f1e8-1f1fe"},{n:["czechia flag","flag-cz"],u:"1f1e8-1f1ff"},{n:["germany flag","de","flag-de"],u:"1f1e9-1f1ea"},{n:["diego garcia flag","flag-dg"],u:"1f1e9-1f1ec"},{n:["djibouti flag","flag-dj"],u:"1f1e9-1f1ef"},{n:["denmark flag","flag-dk"],u:"1f1e9-1f1f0"},{n:["dominica flag","flag-dm"],u:"1f1e9-1f1f2"},{n:["dominican republic flag","flag-do"],u:"1f1e9-1f1f4"},{n:["algeria flag","flag-dz"],u:"1f1e9-1f1ff"},{n:["ceuta & melilla flag","flag-ea"],u:"1f1ea-1f1e6"},{n:["ecuador flag","flag-ec"],u:"1f1ea-1f1e8"},{n:["estonia flag","flag-ee"],u:"1f1ea-1f1ea"},{n:["egypt flag","flag-eg"],u:"1f1ea-1f1ec"},{n:["western sahara flag","flag-eh"],u:"1f1ea-1f1ed"},{n:["eritrea flag","flag-er"],u:"1f1ea-1f1f7"},{n:["spain flag","es","flag-es"],u:"1f1ea-1f1f8"},{n:["ethiopia flag","flag-et"],u:"1f1ea-1f1f9"},{n:["european union flag","flag-eu"],u:"1f1ea-1f1fa"},{n:["finland flag","flag-fi"],u:"1f1eb-1f1ee"},{n:["fiji flag","flag-fj"],u:"1f1eb-1f1ef"},{n:["falkland islands flag","flag-fk"],u:"1f1eb-1f1f0"},{n:["micronesia flag","flag-fm"],u:"1f1eb-1f1f2"},{n:["faroe islands flag","flag-fo"],u:"1f1eb-1f1f4"},{n:["france flag","fr","flag-fr"],u:"1f1eb-1f1f7"},{n:["gabon flag","flag-ga"],u:"1f1ec-1f1e6"},{n:["united kingdom flag","gb","uk","flag-gb"],u:"1f1ec-1f1e7"},{n:["grenada flag","flag-gd"],u:"1f1ec-1f1e9"},{n:["georgia flag","flag-ge"],u:"1f1ec-1f1ea"},{n:["french guiana flag","flag-gf"],u:"1f1ec-1f1eb"},{n:["guernsey flag","flag-gg"],u:"1f1ec-1f1ec"},{n:["ghana flag","flag-gh"],u:"1f1ec-1f1ed"},{n:["gibraltar flag","flag-gi"],u:"1f1ec-1f1ee"},{n:["greenland flag","flag-gl"],u:"1f1ec-1f1f1"},{n:["gambia flag","flag-gm"],u:"1f1ec-1f1f2"},{n:["guinea flag","flag-gn"],u:"1f1ec-1f1f3"},{n:["guadeloupe flag","flag-gp"],u:"1f1ec-1f1f5"},{n:["equatorial guinea flag","flag-gq"],u:"1f1ec-1f1f6"},{n:["greece flag","flag-gr"],u:"1f1ec-1f1f7"},{n:["south georgia & south sandwich islands flag","flag-gs"],u:"1f1ec-1f1f8"},{n:["guatemala flag","flag-gt"],u:"1f1ec-1f1f9"},{n:["guam flag","flag-gu"],u:"1f1ec-1f1fa"},{n:["guinea-bissau flag","flag-gw"],u:"1f1ec-1f1fc"},{n:["guyana flag","flag-gy"],u:"1f1ec-1f1fe"},{n:["hong kong sar china flag","flag-hk"],u:"1f1ed-1f1f0"},{n:["heard & mcdonald islands flag","flag-hm"],u:"1f1ed-1f1f2"},{n:["honduras flag","flag-hn"],u:"1f1ed-1f1f3"},{n:["croatia flag","flag-hr"],u:"1f1ed-1f1f7"},{n:["haiti flag","flag-ht"],u:"1f1ed-1f1f9"},{n:["hungary flag","flag-hu"],u:"1f1ed-1f1fa"},{n:["canary islands flag","flag-ic"],u:"1f1ee-1f1e8"},{n:["indonesia flag","flag-id"],u:"1f1ee-1f1e9"},{n:["ireland flag","flag-ie"],u:"1f1ee-1f1ea"},{n:["israel flag","flag-il"],u:"1f1ee-1f1f1"},{n:["isle of man flag","flag-im"],u:"1f1ee-1f1f2"},{n:["india flag","flag-in"],u:"1f1ee-1f1f3"},{n:["british indian ocean territory flag","flag-io"],u:"1f1ee-1f1f4"},{n:["iraq flag","flag-iq"],u:"1f1ee-1f1f6"},{n:["iran flag","flag-ir"],u:"1f1ee-1f1f7"},{n:["iceland flag","flag-is"],u:"1f1ee-1f1f8"},{n:["italy flag","it","flag-it"],u:"1f1ee-1f1f9"},{n:["jersey flag","flag-je"],u:"1f1ef-1f1ea"},{n:["jamaica flag","flag-jm"],u:"1f1ef-1f1f2"},{n:["jordan flag","flag-jo"],u:"1f1ef-1f1f4"},{n:["japan flag","jp","flag-jp"],u:"1f1ef-1f1f5"},{n:["kenya flag","flag-ke"],u:"1f1f0-1f1ea"},{n:["kyrgyzstan flag","flag-kg"],u:"1f1f0-1f1ec"},{n:["cambodia flag","flag-kh"],u:"1f1f0-1f1ed"},{n:["kiribati flag","flag-ki"],u:"1f1f0-1f1ee"},{n:["comoros flag","flag-km"],u:"1f1f0-1f1f2"},{n:["st. kitts & nevis flag","flag-kn"],u:"1f1f0-1f1f3"},{n:["north korea flag","flag-kp"],u:"1f1f0-1f1f5"},{n:["south korea flag","kr","flag-kr"],u:"1f1f0-1f1f7"},{n:["kuwait flag","flag-kw"],u:"1f1f0-1f1fc"},{n:["cayman islands flag","flag-ky"],u:"1f1f0-1f1fe"},{n:["kazakhstan flag","flag-kz"],u:"1f1f0-1f1ff"},{n:["laos flag","flag-la"],u:"1f1f1-1f1e6"},{n:["lebanon flag","flag-lb"],u:"1f1f1-1f1e7"},{n:["st. lucia flag","flag-lc"],u:"1f1f1-1f1e8"},{n:["liechtenstein flag","flag-li"],u:"1f1f1-1f1ee"},{n:["sri lanka flag","flag-lk"],u:"1f1f1-1f1f0"},{n:["liberia flag","flag-lr"],u:"1f1f1-1f1f7"},{n:["lesotho flag","flag-ls"],u:"1f1f1-1f1f8"},{n:["lithuania flag","flag-lt"],u:"1f1f1-1f1f9"},{n:["luxembourg flag","flag-lu"],u:"1f1f1-1f1fa"},{n:["latvia flag","flag-lv"],u:"1f1f1-1f1fb"},{n:["libya flag","flag-ly"],u:"1f1f1-1f1fe"},{n:["morocco flag","flag-ma"],u:"1f1f2-1f1e6"},{n:["monaco flag","flag-mc"],u:"1f1f2-1f1e8"},{n:["moldova flag","flag-md"],u:"1f1f2-1f1e9"},{n:["montenegro flag","flag-me"],u:"1f1f2-1f1ea"},{n:["st. martin flag","flag-mf"],u:"1f1f2-1f1eb"},{n:["madagascar flag","flag-mg"],u:"1f1f2-1f1ec"},{n:["marshall islands flag","flag-mh"],u:"1f1f2-1f1ed"},{n:["macedonia flag","flag-mk"],u:"1f1f2-1f1f0"},{n:["mali flag","flag-ml"],u:"1f1f2-1f1f1"},{n:["myanmar (burma) flag","flag-mm"],u:"1f1f2-1f1f2"},{n:["mongolia flag","flag-mn"],u:"1f1f2-1f1f3"},{n:["macau sar china flag","flag-mo"],u:"1f1f2-1f1f4"},{n:["northern mariana islands flag","flag-mp"],u:"1f1f2-1f1f5"},{n:["martinique flag","flag-mq"],u:"1f1f2-1f1f6"},{n:["mauritania flag","flag-mr"],u:"1f1f2-1f1f7"},{n:["montserrat flag","flag-ms"],u:"1f1f2-1f1f8"},{n:["malta flag","flag-mt"],u:"1f1f2-1f1f9"},{n:["mauritius flag","flag-mu"],u:"1f1f2-1f1fa"},{n:["maldives flag","flag-mv"],u:"1f1f2-1f1fb"},{n:["malawi flag","flag-mw"],u:"1f1f2-1f1fc"},{n:["mexico flag","flag-mx"],u:"1f1f2-1f1fd"},{n:["malaysia flag","flag-my"],u:"1f1f2-1f1fe"},{n:["mozambique flag","flag-mz"],u:"1f1f2-1f1ff"},{n:["namibia flag","flag-na"],u:"1f1f3-1f1e6"},{n:["new caledonia flag","flag-nc"],u:"1f1f3-1f1e8"},{n:["niger flag","flag-ne"],u:"1f1f3-1f1ea"},{n:["norfolk island flag","flag-nf"],u:"1f1f3-1f1eb"},{n:["nigeria flag","flag-ng"],u:"1f1f3-1f1ec"},{n:["nicaragua flag","flag-ni"],u:"1f1f3-1f1ee"},{n:["netherlands flag","flag-nl"],u:"1f1f3-1f1f1"},{n:["norway flag","flag-no"],u:"1f1f3-1f1f4"},{n:["nepal flag","flag-np"],u:"1f1f3-1f1f5"},{n:["nauru flag","flag-nr"],u:"1f1f3-1f1f7"},{n:["niue flag","flag-nu"],u:"1f1f3-1f1fa"},{n:["new zealand flag","flag-nz"],u:"1f1f3-1f1ff"},{n:["oman flag","flag-om"],u:"1f1f4-1f1f2"},{n:["panama flag","flag-pa"],u:"1f1f5-1f1e6"},{n:["peru flag","flag-pe"],u:"1f1f5-1f1ea"},{n:["french polynesia flag","flag-pf"],u:"1f1f5-1f1eb"},{n:["papua new guinea flag","flag-pg"],u:"1f1f5-1f1ec"},{n:["philippines flag","flag-ph"],u:"1f1f5-1f1ed"},{n:["pakistan flag","flag-pk"],u:"1f1f5-1f1f0"},{n:["poland flag","flag-pl"],u:"1f1f5-1f1f1"},{n:["st. pierre & miquelon flag","flag-pm"],u:"1f1f5-1f1f2"},{n:["pitcairn islands flag","flag-pn"],u:"1f1f5-1f1f3"},{n:["puerto rico flag","flag-pr"],u:"1f1f5-1f1f7"},{n:["palestinian territories flag","flag-ps"],u:"1f1f5-1f1f8"},{n:["portugal flag","flag-pt"],u:"1f1f5-1f1f9"},{n:["palau flag","flag-pw"],u:"1f1f5-1f1fc"},{n:["paraguay flag","flag-py"],u:"1f1f5-1f1fe"},{n:["qatar flag","flag-qa"],u:"1f1f6-1f1e6"},{n:["runion flag","flag-re"],u:"1f1f7-1f1ea"},{n:["romania flag","flag-ro"],u:"1f1f7-1f1f4"},{n:["serbia flag","flag-rs"],u:"1f1f7-1f1f8"},{n:["russia flag","ru","flag-ru"],u:"1f1f7-1f1fa"},{n:["rwanda flag","flag-rw"],u:"1f1f7-1f1fc"},{n:["saudi arabia flag","flag-sa"],u:"1f1f8-1f1e6"},{n:["solomon islands flag","flag-sb"],u:"1f1f8-1f1e7"},{n:["seychelles flag","flag-sc"],u:"1f1f8-1f1e8"},{n:["sudan flag","flag-sd"],u:"1f1f8-1f1e9"},{n:["sweden flag","flag-se"],u:"1f1f8-1f1ea"},{n:["singapore flag","flag-sg"],u:"1f1f8-1f1ec"},{n:["st. helena flag","flag-sh"],u:"1f1f8-1f1ed"},{n:["slovenia flag","flag-si"],u:"1f1f8-1f1ee"},{n:["svalbard & jan mayen flag","flag-sj"],u:"1f1f8-1f1ef"},{n:["slovakia flag","flag-sk"],u:"1f1f8-1f1f0"},{n:["sierra leone flag","flag-sl"],u:"1f1f8-1f1f1"},{n:["san marino flag","flag-sm"],u:"1f1f8-1f1f2"},{n:["senegal flag","flag-sn"],u:"1f1f8-1f1f3"},{n:["somalia flag","flag-so"],u:"1f1f8-1f1f4"},{n:["suriname flag","flag-sr"],u:"1f1f8-1f1f7"},{n:["south sudan flag","flag-ss"],u:"1f1f8-1f1f8"},{n:["so tom & prncipe flag","flag-st"],u:"1f1f8-1f1f9"},{n:["el salvador flag","flag-sv"],u:"1f1f8-1f1fb"},{n:["sint maarten flag","flag-sx"],u:"1f1f8-1f1fd"},{n:["syria flag","flag-sy"],u:"1f1f8-1f1fe"},{n:["swaziland flag","flag-sz"],u:"1f1f8-1f1ff"},{n:["tristan da cunha flag","flag-ta"],u:"1f1f9-1f1e6"},{n:["turks & caicos islands flag","flag-tc"],u:"1f1f9-1f1e8"},{n:["chad flag","flag-td"],u:"1f1f9-1f1e9"},{n:["french southern territories flag","flag-tf"],u:"1f1f9-1f1eb"},{n:["togo flag","flag-tg"],u:"1f1f9-1f1ec"},{n:["thailand flag","flag-th"],u:"1f1f9-1f1ed"},{n:["tajikistan flag","flag-tj"],u:"1f1f9-1f1ef"},{n:["tokelau flag","flag-tk"],u:"1f1f9-1f1f0"},{n:["timor-leste flag","flag-tl"],u:"1f1f9-1f1f1"},{n:["turkmenistan flag","flag-tm"],u:"1f1f9-1f1f2"},{n:["tunisia flag","flag-tn"],u:"1f1f9-1f1f3"},{n:["tonga flag","flag-to"],u:"1f1f9-1f1f4"},{n:["turkey flag","flag-tr"],u:"1f1f9-1f1f7"},{n:["trinidad & tobago flag","flag-tt"],u:"1f1f9-1f1f9"},{n:["tuvalu flag","flag-tv"],u:"1f1f9-1f1fb"},{n:["taiwan flag","flag-tw"],u:"1f1f9-1f1fc"},{n:["tanzania flag","flag-tz"],u:"1f1f9-1f1ff"},{n:["ukraine flag","flag-ua"],u:"1f1fa-1f1e6"},{n:["uganda flag","flag-ug"],u:"1f1fa-1f1ec"},{n:["u.s. outlying islands flag","flag-um"],u:"1f1fa-1f1f2"},{n:["united nations flag","flag-un"],u:"1f1fa-1f1f3"},{n:["united states flag","us","flag-us"],u:"1f1fa-1f1f8"},{n:["uruguay flag","flag-uy"],u:"1f1fa-1f1fe"},{n:["uzbekistan flag","flag-uz"],u:"1f1fa-1f1ff"},{n:["vatican city flag","flag-va"],u:"1f1fb-1f1e6"},{n:["st. vincent & grenadines flag","flag-vc"],u:"1f1fb-1f1e8"},{n:["venezuela flag","flag-ve"],u:"1f1fb-1f1ea"},{n:["british virgin islands flag","flag-vg"],u:"1f1fb-1f1ec"},{n:["u.s. virgin islands flag","flag-vi"],u:"1f1fb-1f1ee"},{n:["vietnam flag","flag-vn"],u:"1f1fb-1f1f3"},{n:["vanuatu flag","flag-vu"],u:"1f1fb-1f1fa"},{n:["wallis & futuna flag","flag-wf"],u:"1f1fc-1f1eb"},{n:["samoa flag","flag-ws"],u:"1f1fc-1f1f8"},{n:["kosovo flag","flag-xk"],u:"1f1fd-1f1f0"},{n:["yemen flag","flag-ye"],u:"1f1fe-1f1ea"},{n:["mayotte flag","flag-yt"],u:"1f1fe-1f1f9"},{n:["south africa flag","flag-za"],u:"1f1ff-1f1e6"},{n:["zambia flag","flag-zm"],u:"1f1ff-1f1f2"},{n:["zimbabwe flag","flag-zw"],u:"1f1ff-1f1fc"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}]},hk=[{key:"recent",title:"Recently Used",u:"1f551"},{key:"smileys_people",title:"Smiles & People",u:"1f600"},{key:"animals_nature",title:"Animals & Nature",u:"1F431"},{key:"food_drink",title:"Food & Drink",u:"2615"},{key:"activities",title:"Activities",u:"26BD"},{key:"travel_places",title:"Travel & Places",u:"1F697"},{key:"objects",title:"Objects",u:"1F4A1"},{key:"symbols",title:"Symbols",u:"1f4af"},{key:"flags",title:"Flags",u:"1f3f3-fe0f"}];const fY=(t,e)=>e.some(r=>t instanceof r);let pk,mk;function hY(){return pk||(pk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pY(){return mk||(mk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gk=new WeakMap,Fy=new WeakMap,yk=new WeakMap,Uy=new WeakMap,jy=new WeakMap;function mY(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(bs(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&gk.set(r,t)}).catch(()=>{}),jy.set(e,t),e}function gY(t){if(Fy.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fy.set(t,e)}let $y={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yY(t){$y=t($y)}function bY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(zy(this),e,...r);return yk.set(n,e.sort?e.sort():[e]),bs(n)}:pY().includes(t)?function(...e){return t.apply(zy(this),e),bs(gk.get(this))}:function(...e){return bs(t.apply(zy(this),e))}}function vY(t){return typeof t=="function"?bY(t):(t instanceof IDBTransaction&&gY(t),fY(t,hY())?new Proxy(t,$y):t)}function bs(t){if(t instanceof IDBRequest)return mY(t);if(Uy.has(t))return Uy.get(t);const e=vY(t);return e!==t&&(Uy.set(t,e),jy.set(e,t)),e}const zy=t=>jy.get(t);function Vy(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=bs(s);return n&&s.addEventListener("upgradeneeded",l=>{n(bs(s.result),l.oldVersion,l.newVersion,bs(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const _Y=["get","getKey","getAll","getAllKeys","count"],wY=["put","add","delete","clear"],Hy=new Map;function bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hy.get(e))return Hy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=wY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||_Y.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return Hy.set(e,o),o}yY(t=>({...t,get:(e,r,n)=>bk(e,r)||t.get(e,r,n),has:(e,r)=>!!bk(e,r)||t.has(e,r)}));const qy="EMJ",nc="emojis",Wy=3;async function xY(){(await Vy(qy,Wy,{upgrade(e,r){e.objectStoreNames.contains(nc)||e.createObjectStore(nc,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})).close()}xY();const TY={native:!1,hideSearch:!0,hideGroupIcons:!1,hideGroupNames:!1,staticTexts:{},disabledGroups:[],groupNames:{},displayRecent:!1,additionalGroups:{},groupOrder:[],groupIcons:{}};async function AY(){return await(await Vy(qy,Wy)).transaction(nc,"readonly").objectStore(nc).getAll()}function CY(){const t=c.reactive({search:"",emoji:aY,activeGroup:"",skinTone:_p,options:TY,additionalGroups:{},recent:[],get emojis(){return{recent:this.recent,...this.options.additionalGroups,...dY}},get disabled(){let u=Array.isArray(this.options.disabledGroups)?this.options.disabledGroups:[];return this.options.displayRecent||(u=["recent",...u]),u},get groups(){return hk.filter(u=>!this.disabled.includes(u.key))},get orderedGroupKeys(){const u=[...this.options.groupOrder,...Object.keys(this.options.additionalGroups),...hk.map(h=>h.key)];return[...new Set(u)].filter(h=>!this.disabled.includes(h))}});function e(){t.options.displayRecent&&n()}async function r(){var u;let h=await AY();return Array.isArray(h)&&h.length?h=JSON.parse(((u=h[0])==null?void 0:u.value)||""):h=[],h}function n(){r().then(u=>{t.recent=u,d()})}const i=u=>{t.search=u},o=u=>{t.emoji=u},s=u=>{t.activeGroup=u},a=(u=_p)=>{t.skinTone=u},l=u=>{t.options=Object.assign({},t.options,u),e()};async function d(){(await Vy(qy,Wy)).transaction(nc,"readwrite").objectStore(nc).put({id:0,value:JSON.stringify(t.recent)})}const f=u=>{if(t.options.displayRecent!==!0)return;const h=t.recent.findIndex(m=>m.u===u.u);if(h>0&&t.recent.splice(h,1),h===0)return;const p={u:u.u,n:c.toRaw(u.n)};t.recent=[p,...t.recent],t.recent.length>24&&(t.recent.length=24),d()};return{state:c.readonly(t),updateSearch:i,updateEmoji:o,updateActiveGroup:s,updateSkinTone:a,updateOptions:l,updateSelect:f}}var Mn="top",ci="bottom",ui="right",Nn="left",Gy="auto",Ju=[Mn,ci,ui,Nn],ic="start",ed="end",SY="clippingParents",vk="viewport",td="popper",EY="reference",_k=Ju.reduce(function(t,e){return t.concat([e+"-"+ic,e+"-"+ed])},[]),wk=[].concat(Ju,[Gy]).reduce(function(t,e){return t.concat([e,e+"-"+ic,e+"-"+ed])},[]),kY="beforeRead",IY="read",DY="afterRead",MY="beforeMain",NY="main",OY="afterMain",LY="beforeWrite",BY="write",RY="afterWrite",PY=[kY,IY,DY,MY,NY,OY,LY,BY,RY];function lo(t){return t?(t.nodeName||"").toLowerCase():null}function Ri(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oc(t){var e=Ri(t).Element;return t instanceof e||t instanceof Element}function di(t){var e=Ri(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function xk(t){if(typeof ShadowRoot>"u")return!1;var e=Ri(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function FY(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!di(o)||!lo(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function UY(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,d){return l[d]="",l},{});!di(i)||!lo(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var jY={name:"applyStyles",enabled:!0,phase:"write",fn:FY,effect:UY,requires:["computeStyles"]};function co(t){return t.split("-")[0]}var ga=Math.max,wp=Math.min,sc=Math.round;function ac(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(di(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(n=sc(r.width)/s||1),o>0&&(i=sc(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function Qy(t){var e=ac(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Tk(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&xk(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function uo(t){return Ri(t).getComputedStyle(t)}function $Y(t){return["table","td","th"].indexOf(lo(t))>=0}function vs(t){return((oc(t)?t.ownerDocument:t.document)||window.document).documentElement}function xp(t){return lo(t)==="html"?t:t.assignedSlot||t.parentNode||(xk(t)?t.host:null)||vs(t)}function Ak(t){return!di(t)||uo(t).position==="fixed"?null:t.offsetParent}function zY(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&di(t)){var n=uo(t);if(n.position==="fixed")return null}for(var i=xp(t);di(i)&&["html","body"].indexOf(lo(i))<0;){var o=uo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function rd(t){for(var e=Ri(t),r=Ak(t);r&&$Y(r)&&uo(r).position==="static";)r=Ak(r);return r&&(lo(r)==="html"||lo(r)==="body"&&uo(r).position==="static")?e:r||zY(t)||e}function Yy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nd(t,e,r){return ga(t,wp(e,r))}function VY(t,e,r){var n=nd(t,e,r);return n>r?r:n}function Ck(){return{top:0,right:0,bottom:0,left:0}}function Sk(t){return Object.assign({},Ck(),t)}function Ek(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var HY=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Sk(typeof e!="number"?e:Ek(e,Ju))};function qY(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=co(r.placement),l=Yy(a),d=[Nn,ui].indexOf(a)>=0,f=d?"height":"width";if(!(!o||!s)){var u=HY(i.padding,r),h=Qy(o),p=l==="y"?Mn:Nn,m=l==="y"?ci:ui,y=r.rects.reference[f]+r.rects.reference[l]-s[l]-r.rects.popper[f],b=s[l]-r.rects.reference[l],v=rd(o),E=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,A=y/2-b/2,k=u[p],C=E-h[f]-u[m],T=E/2-h[f]/2+A,O=nd(k,T,C),D=l;r.modifiersData[n]=(e={},e[D]=O,e.centerOffset=O-T,e)}}function WY(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Tk(e.elements.popper,i)&&(e.elements.arrow=i))}var GY={name:"arrow",enabled:!0,phase:"main",fn:qY,effect:WY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lc(t){return t.split("-")[1]}var QY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YY(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:sc(e*i)/i||0,y:sc(r*i)/i||0}}function kk(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,u=t.isFixed,h=f===!0?YY(s):typeof f=="function"?f(s):s,p=h.x,m=p===void 0?0:p,y=h.y,b=y===void 0?0:y,v=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),A=Nn,k=Mn,C=window;if(d){var T=rd(r),O="clientHeight",D="clientWidth";if(T===Ri(r)&&(T=vs(r),uo(T).position!=="static"&&a==="absolute"&&(O="scrollHeight",D="scrollWidth")),T=T,i===Mn||(i===Nn||i===ui)&&o===ed){k=ci;var S=u&&C.visualViewport?C.visualViewport.height:T[O];b-=S-n.height,b*=l?1:-1}if(i===Nn||(i===Mn||i===ci)&&o===ed){A=ui;var R=u&&C.visualViewport?C.visualViewport.width:T[D];m-=R-n.width,m*=l?1:-1}}var z=Object.assign({position:a},d&&QY);if(l){var F;return Object.assign({},z,(F={},F[k]=E?"0":"",F[A]=v?"0":"",F.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",F))}return Object.assign({},z,(e={},e[k]=E?b+"px":"",e[A]=v?m+"px":"",e.transform="",e))}function KY(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a,d={placement:co(e.placement),variation:lc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,kk(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,kk(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var XY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:KY,data:{}},Tp={passive:!0};function ZY(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=Ri(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(f){f.addEventListener("scroll",r.update,Tp)}),a&&l.addEventListener("resize",r.update,Tp),function(){o&&d.forEach(function(f){f.removeEventListener("scroll",r.update,Tp)}),a&&l.removeEventListener("resize",r.update,Tp)}}var JY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ZY,data:{}},eK={left:"right",right:"left",bottom:"top",top:"bottom"};function Ap(t){return t.replace(/left|right|bottom|top/g,function(e){return eK[e]})}var tK={start:"end",end:"start"};function Ik(t){return t.replace(/start|end/g,function(e){return tK[e]})}function Ky(t){var e=Ri(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Xy(t){return ac(vs(t)).left+Ky(t).scrollLeft}function rK(t){var e=Ri(t),r=vs(t),n=e.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,a=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:i,height:o,x:s+Xy(t),y:a}}function nK(t){var e,r=vs(t),n=Ky(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ga(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ga(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+Xy(t),l=-n.scrollTop;return uo(i||r).direction==="rtl"&&(a+=ga(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Zy(t){var e=uo(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Dk(t){return["html","body","#document"].indexOf(lo(t))>=0?t.ownerDocument.body:di(t)&&Zy(t)?t:Dk(xp(t))}function id(t,e){var r;e===void 0&&(e=[]);var n=Dk(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=Ri(n),s=i?[o].concat(o.visualViewport||[],Zy(n)?n:[]):n,a=e.concat(s);return i?a:a.concat(id(xp(s)))}function Jy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iK(t){var e=ac(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Mk(t,e){return e===vk?Jy(rK(t)):oc(e)?iK(e):Jy(nK(vs(t)))}function oK(t){var e=id(xp(t)),r=["absolute","fixed"].indexOf(uo(t).position)>=0,n=r&&di(t)?rd(t):t;return oc(n)?e.filter(function(i){return oc(i)&&Tk(i,n)&&lo(i)!=="body"&&(r?uo(i).position!=="static":!0)}):[]}function sK(t,e,r){var n=e==="clippingParents"?oK(t):[].concat(e),i=[].concat(n,[r]),o=i[0],s=i.reduce(function(a,l){var d=Mk(t,l);return a.top=ga(d.top,a.top),a.right=wp(d.right,a.right),a.bottom=wp(d.bottom,a.bottom),a.left=ga(d.left,a.left),a},Mk(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Nk(t){var e=t.reference,r=t.element,n=t.placement,i=n?co(n):null,o=n?lc(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case Mn:l={x:s,y:e.y-r.height};break;case ci:l={x:s,y:e.y+e.height};break;case ui:l={x:e.x+e.width,y:a};break;case Nn:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var d=i?Yy(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(o){case ic:l[d]=l[d]-(e[f]/2-r[f]/2);break;case ed:l[d]=l[d]+(e[f]/2-r[f]/2);break}}return l}function od(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.boundary,s=o===void 0?SY:o,a=r.rootBoundary,l=a===void 0?vk:a,d=r.elementContext,f=d===void 0?td:d,u=r.altBoundary,h=u===void 0?!1:u,p=r.padding,m=p===void 0?0:p,y=Sk(typeof m!="number"?m:Ek(m,Ju)),b=f===td?EY:td,v=t.rects.popper,E=t.elements[h?b:f],A=sK(oc(E)?E:E.contextElement||vs(t.elements.popper),s,l),k=ac(t.elements.reference),C=Nk({reference:k,element:v,strategy:"absolute",placement:i}),T=Jy(Object.assign({},v,C)),O=f===td?T:k,D={top:A.top-O.top+y.top,bottom:O.bottom-A.bottom+y.bottom,left:A.left-O.left+y.left,right:O.right-A.right+y.right},S=t.modifiersData.offset;if(f===td&&S){var R=S[i];Object.keys(D).forEach(function(z){var F=[ui,ci].indexOf(z)>=0?1:-1,P=[Mn,ci].indexOf(z)>=0?"y":"x";D[z]+=R[P]*F})}return D}function aK(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,d=l===void 0?wk:l,f=lc(n),u=f?a?_k:_k.filter(function(m){return lc(m)===f}):Ju,h=u.filter(function(m){return d.indexOf(m)>=0});h.length===0&&(h=u);var p=h.reduce(function(m,y){return m[y]=od(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[co(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function lK(t){if(co(t)===Gy)return[];var e=Ap(t);return[Ik(t),e,Ik(e)]}function cK(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,d=r.padding,f=r.boundary,u=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,y=r.allowedAutoPlacements,b=e.options.placement,v=co(b),E=v===b,A=l||(E||!m?[Ap(b)]:lK(b)),k=[b].concat(A).reduce(function(Y,Q){return Y.concat(co(Q)===Gy?aK(e,{placement:Q,boundary:f,rootBoundary:u,padding:d,flipVariations:m,allowedAutoPlacements:y}):Q)},[]),C=e.rects.reference,T=e.rects.popper,O=new Map,D=!0,S=k[0],R=0;R<k.length;R++){var z=k[R],F=co(z),P=lc(z)===ic,$=[Mn,ci].indexOf(F)>=0,W=$?"width":"height",B=od(e,{placement:z,boundary:f,rootBoundary:u,altBoundary:h,padding:d}),j=$?P?ui:Nn:P?ci:Mn;C[W]>T[W]&&(j=Ap(j));var re=Ap(j),H=[];if(o&&H.push(B[F]<=0),a&&H.push(B[j]<=0,B[re]<=0),H.every(function(Y){return Y})){S=z,D=!1;break}O.set(z,H)}if(D)for(var L=m?3:1,I=function(Q){var le=k.find(function(ie){var me=O.get(ie);if(me)return me.slice(0,Q).every(function(he){return he})});if(le)return S=le,"break"},V=L;V>0;V--){var K=I(V);if(K==="break")break}e.placement!==S&&(e.modifiersData[n]._skip=!0,e.placement=S,e.reset=!0)}}var uK={name:"flip",enabled:!0,phase:"main",fn:cK,requiresIfExists:["offset"],data:{_skip:!1}};function Ok(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Lk(t){return[Mn,ui,ci,Nn].some(function(e){return t[e]>=0})}function dK(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=od(e,{elementContext:"reference"}),a=od(e,{altBoundary:!0}),l=Ok(s,n),d=Ok(a,i,o),f=Lk(l),u=Lk(d);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}var fK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dK};function hK(t,e,r){var n=co(t),i=[Nn,Mn].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Nn,ui].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function pK(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=wk.reduce(function(f,u){return f[u]=hK(u,e.rects,o),f},{}),a=s[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=s}var mK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pK};function gK(t){var e=t.state,r=t.name;e.modifiersData[r]=Nk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var yK={name:"popperOffsets",enabled:!0,phase:"read",fn:gK,data:{}};function bK(t){return t==="x"?"y":"x"}function vK(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,d=r.rootBoundary,f=r.altBoundary,u=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,y=m===void 0?0:m,b=od(e,{boundary:l,rootBoundary:d,padding:u,altBoundary:f}),v=co(e.placement),E=lc(e.placement),A=!E,k=Yy(v),C=bK(k),T=e.modifiersData.popperOffsets,O=e.rects.reference,D=e.rects.popper,S=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,R=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(T){if(o){var P,$=k==="y"?Mn:Nn,W=k==="y"?ci:ui,B=k==="y"?"height":"width",j=T[k],re=j+b[$],H=j-b[W],L=p?-D[B]/2:0,I=E===ic?O[B]:D[B],V=E===ic?-D[B]:-O[B],K=e.elements.arrow,Y=p&&K?Qy(K):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ck(),le=Q[$],ie=Q[W],me=nd(0,O[B],Y[B]),he=A?O[B]/2-L-me-le-R.mainAxis:I-me-le-R.mainAxis,fe=A?-O[B]/2+L+me+ie+R.mainAxis:V+me+ie+R.mainAxis,ve=e.elements.arrow&&rd(e.elements.arrow),Se=ve?k==="y"?ve.clientTop||0:ve.clientLeft||0:0,Me=(P=z==null?void 0:z[k])!=null?P:0,de=j+he-Me-Se,pe=j+fe-Me,ke=nd(p?wp(re,de):re,j,p?ga(H,pe):H);T[k]=ke,F[k]=ke-j}if(a){var ae,Te=k==="x"?Mn:Nn,De=k==="x"?ci:ui,U=T[C],q=C==="y"?"height":"width",oe=U+b[Te],we=U-b[De],Oe=[Mn,Nn].indexOf(v)!==-1,Pe=(ae=z==null?void 0:z[C])!=null?ae:0,Ge=Oe?oe:U-O[q]-D[q]-Pe+R.altAxis,ge=Oe?U+O[q]+D[q]-Pe-R.altAxis:we,Ee=p&&Oe?VY(Ge,U,ge):nd(p?Ge:oe,U,p?ge:we);T[C]=Ee,F[C]=Ee-U}e.modifiersData[n]=F}}var _K={name:"preventOverflow",enabled:!0,phase:"main",fn:vK,requiresIfExists:["offset"]};function wK(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xK(t){return t===Ri(t)||!di(t)?Ky(t):wK(t)}function TK(t){var e=t.getBoundingClientRect(),r=sc(e.width)/t.offsetWidth||1,n=sc(e.height)/t.offsetHeight||1;return r!==1||n!==1}function AK(t,e,r){r===void 0&&(r=!1);var n=di(e),i=di(e)&&TK(e),o=vs(e),s=ac(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((lo(e)!=="body"||Zy(o))&&(a=xK(e)),di(e)?(l=ac(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Xy(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function CK(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function SK(t){var e=CK(t);return PY.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function EK(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function kK(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Bk={placement:"bottom",modifiers:[],strategy:"absolute"};function Rk(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function IK(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?Bk:i;return function(a,l,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bk,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],h=!1,p={state:f,setOptions:function(v){var E=typeof v=="function"?v(f.options):v;y(),f.options=Object.assign({},o,f.options,E),f.scrollParents={reference:oc(a)?id(a):a.contextElement?id(a.contextElement):[],popper:id(l)};var A=SK(kK([].concat(n,f.options.modifiers)));return f.orderedModifiers=A.filter(function(k){return k.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var v=f.elements,E=v.reference,A=v.popper;if(Rk(E,A)){f.rects={reference:AK(E,rd(A),f.options.strategy==="fixed"),popper:Qy(A)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var k=0;k<f.orderedModifiers.length;k++){if(f.reset===!0){f.reset=!1,k=-1;continue}var C=f.orderedModifiers[k],T=C.fn,O=C.options,D=O===void 0?{}:O,S=C.name;typeof T=="function"&&(f=T({state:f,options:D,name:S,instance:p})||f)}}}},update:EK(function(){return new Promise(function(b){p.forceUpdate(),b(f)})}),destroy:function(){y(),h=!0}};if(!Rk(a,l))return p;p.setOptions(d).then(function(b){!h&&d.onFirstUpdate&&d.onFirstUpdate(b)});function m(){f.orderedModifiers.forEach(function(b){var v=b.name,E=b.options,A=E===void 0?{}:E,k=b.effect;if(typeof k=="function"){var C=k({state:f,name:v,instance:p,options:A}),T=function(){};u.push(C||T)}})}function y(){u.forEach(function(b){return b()}),u=[]}return p}}var DK=[JY,yK,XY,jY,mK,uK,_K,GY,fK],MK=IK({defaultModifiers:DK}),Pk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgOS4zODI4MTMgNCA0IDkuMzgyODEzIDQgMTYgQyA0IDIyLjYxNzE4OCA5LjM4MjgxMyAyOCAxNiAyOCBDIDIyLjYxNzE4OCAyOCAyOCAyMi42MTcxODggMjggMTYgQyAyOCA5LjM4MjgxMyAyMi42MTcxODggNCAxNiA0IFogTSAxNiA2IEMgMjEuNTM1MTU2IDYgMjYgMTAuNDY0ODQ0IDI2IDE2IEMgMjYgMjEuNTM1MTU2IDIxLjUzNTE1NiAyNiAxNiAyNiBDIDEwLjQ2NDg0NCAyNiA2IDIxLjUzNTE1NiA2IDE2IEMgNiAxMC40NjQ4NDQgMTAuNDY0ODQ0IDYgMTYgNiBaIE0gMTEuNSAxMiBDIDEwLjY3MTg3NSAxMiAxMCAxMi42NzE4NzUgMTAgMTMuNSBDIDEwIDE0LjMyODEyNSAxMC42NzE4NzUgMTUgMTEuNSAxNSBDIDEyLjMyODEyNSAxNSAxMyAxNC4zMjgxMjUgMTMgMTMuNSBDIDEzIDEyLjY3MTg3NSAxMi4zMjgxMjUgMTIgMTEuNSAxMiBaIE0gMjAuNSAxMiBDIDE5LjY3MTg3NSAxMiAxOSAxMi42NzE4NzUgMTkgMTMuNSBDIDE5IDE0LjMyODEyNSAxOS42NzE4NzUgMTUgMjAuNSAxNSBDIDIxLjMyODEyNSAxNSAyMiAxNC4zMjgxMjUgMjIgMTMuNSBDIDIyIDEyLjY3MTg3NSAyMS4zMjgxMjUgMTIgMjAuNSAxMiBaIE0gMTAuODEyNSAxOSBMIDkuMDkzNzUgMjAgQyAxMC40NzY1NjMgMjIuMzg2NzE5IDEzLjA0Njg3NSAyNCAxNiAyNCBDIDE4Ljk1MzEyNSAyNCAyMS41MjM0MzggMjIuMzg2NzE5IDIyLjkwNjI1IDIwIEwgMjEuMTg3NSAxOSBDIDIwLjE0ODQzOCAyMC43OTI5NjkgMTguMjI2NTYzIDIyIDE2IDIyIEMgMTMuNzczNDM4IDIyIDExLjg1MTU2MyAyMC43OTI5NjkgMTAuODEyNSAxOSBaIi8+PC9zdmc+";function Cp(t){return t.split("-").map(e=>parseInt(e,16)).map(e=>String.fromCodePoint(e)).join("")}function NK(t,e,r,n=[]){const i={};return Object.keys(t).forEach(o=>{if(n.includes(o))return;const s=[];t[o].forEach(a=>{var l;if(a[bp][0].includes(e.toLocaleLowerCase())){let d=a[fk];if(r!==_p&&Array.isArray(a[vp])){const f=((l=a[vp])==null?void 0:l.findIndex(u=>u.includes(r)))||-1;f!==-1&&a[vp]&&(d=a[vp][f])}return s.push({...a,[Zu]:d})}}),s.length&&(i[o]=s)}),i}function Fk(){var t;return(((t=navigator==null?void 0:navigator.userAgentData)==null?void 0:t.platform)||(navigator==null?void 0:navigator.platform)||"unknown").toUpperCase().indexOf("MAC")!==-1}function Uk(t){return t.replace(/^_*(.)|_+(.)/g,(e,r,n)=>r?r.toUpperCase():" "+n.toUpperCase())}var sd=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const OK=c.defineComponent({name:"Body",emits:{select:t=>!0},setup(){const{state:t,updateEmoji:e,updateSelect:r}=c.inject("store"),n=c.ref(null),i=c.computed(()=>NK(t.emojis,t.search,t.skinTone,t.options.disabledGroups)),o=c.getCurrentInstance(),s=c.computed(()=>!t.options.hideGroupNames),a=c.computed(()=>!t.options.disableStickyGroupNames),l=c.toRaw(t.options.groupNames),d=t.orderedGroupKeys;t.options.additionalGroups&&Object.keys(t.options.additionalGroups).map(m=>{t.options.groupNames[m]?l[m]=t.options.groupNames[m]:l[m]=Uk(m)});const f=Fk()?"is-mac":"";function u(m){e(m)}function h(m){r(m),o==null||o.emit("select",{...m,t:t.skinTone,i:Cp(m.r)})}function p(m,y){var b;const v=(b=m==null?void 0:m.target)==null?void 0:b.closest("button");v&&(v.innerHTML=`<span>${Cp(y)}</span>`)}return c.watch(()=>t.activeGroup,()=>{var m;const y=(m=n.value)==null?void 0:m.querySelector("#"+t.activeGroup);y&&(y.parentNode.scrollTop=y.offsetTop-y.parentNode.offsetTop)}),{emojis:i,bodyInner:n,EMOJI_REMOTE_SRC:uk,GROUP_NAMES:dk,handleClick:h,handleError:p,handleMouseEnter:u,native:t.options.native,unicodeToEmoji:Cp,EMOJI_RESULT_KEY:Zu,EMOJI_NAME_KEY:bp,hasGroupNames:s,isSticky:a,platform:f,groupNames:l,orderedKeys:d}}}),LK={class:"v3-body"},BK=["id"],RK={class:"v3-emojis"},PK=["onMouseenter","onClick"],FK={key:0},UK=["src","alt","onError"],jK={key:1,class:"v3-no-result"};function $K(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",LK,[c.createElementVNode("div",{ref:"bodyInner",class:c.normalizeClass([t.platform,"v3-body-inner"])},[t.orderedKeys.length?(c.openBlock(!0),c.createElementBlock(c.Fragment,{key:0},c.renderList(t.orderedKeys,s=>(c.openBlock(),c.createElementBlock("div",{id:s,key:s,class:"v3-group"},[t.hasGroupNames?c.withDirectives((c.openBlock(),c.createElementBlock("h5",{key:0,class:c.normalizeClass(t.isSticky?"v3-sticky":"")},c.toDisplayString(t.groupNames[s]),3)),[[c.vShow,t.emojis[s]]]):c.createCommentVNode("",!0),c.withDirectives(c.createElementVNode("div",RK,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(t.emojis[s],a=>(c.openBlock(),c.createElementBlock("button",{key:a.r,type:"button",onMouseenter:l=>t.handleMouseEnter(a),onClick:l=>t.handleClick(a)},[t.native?(c.openBlock(),c.createElementBlock("span",FK,c.toDisplayString(t.unicodeToEmoji(a.r)),1)):(c.openBlock(),c.createElementBlock("img",{key:1,src:t.EMOJI_REMOTE_SRC+`/${a.r}.png`,alt:a.n[0],onError:l=>t.handleError(l,a.r)},null,40,UK))],40,PK))),128))],512),[[c.vShow,t.emojis[s]]])],8,BK))),128)):(c.openBlock(),c.createElementBlock("span",jK," No emoji has been found! "))],2)])}var zK=sd(OK,[["render",$K]]),VK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMi41IDUgQyAxMS40Mjk2ODggNSAxMC41IDUuNjA5Mzc1IDkuOTA2MjUgNi40Mzc1IEMgOS4zMTI1IDcuMjY1NjI1IDkgOC4zMzk4NDQgOSA5LjUgQyA5IDEwLjY2MDE1NiA5LjMxMjUgMTEuNzM0Mzc1IDkuOTA2MjUgMTIuNTYyNSBDIDEwLjUgMTMuMzkwNjI1IDExLjQyOTY4OCAxNCAxMi41IDE0IEMgMTMuNTcwMzEzIDE0IDE0LjUgMTMuMzkwNjI1IDE1LjA5Mzc1IDEyLjU2MjUgQyAxNS42ODc1IDExLjczNDM3NSAxNiAxMC42NjAxNTYgMTYgOS41IEMgMTYgOC4zMzk4NDQgMTUuNjg3NSA3LjI2NTYyNSAxNS4wOTM3NSA2LjQzNzUgQyAxNC41IDUuNjA5Mzc1IDEzLjU3MDMxMyA1IDEyLjUgNSBaIE0gMTYgOS41IEMgMTYgMTAuNjYwMTU2IDE2LjMxMjUgMTEuNzM0Mzc1IDE2LjkwNjI1IDEyLjU2MjUgQyAxNy41IDEzLjM5MDYyNSAxOC40Mjk2ODggMTQgMTkuNSAxNCBDIDIwLjU3MDMxMyAxNCAyMS41IDEzLjM5MDYyNSAyMi4wOTM3NSAxMi41NjI1IEMgMjIuNjg3NSAxMS43MzQzNzUgMjMgMTAuNjYwMTU2IDIzIDkuNSBDIDIzIDguMzM5ODQ0IDIyLjY4NzUgNy4yNjU2MjUgMjIuMDkzNzUgNi40Mzc1IEMgMjEuNSA1LjYwOTM3NSAyMC41NzAzMTMgNSAxOS41IDUgQyAxOC40Mjk2ODggNSAxNy41IDUuNjA5Mzc1IDE2LjkwNjI1IDYuNDM3NSBDIDE2LjMxMjUgNy4yNjU2MjUgMTYgOC4zMzk4NDQgMTYgOS41IFogTSAxMi41IDcgQyAxMi44MTI1IDcgMTMuMTU2MjUgNy4xNTYyNSAxMy40Njg3NSA3LjU5Mzc1IEMgMTMuNzgxMjUgOC4wMzEyNSAxNCA4LjcyNjU2MyAxNCA5LjUgQyAxNCAxMC4yNzM0MzggMTMuNzgxMjUgMTAuOTY4NzUgMTMuNDY4NzUgMTEuNDA2MjUgQyAxMy4xNTYyNSAxMS44NDM3NSAxMi44MTI1IDEyIDEyLjUgMTIgQyAxMi4xODc1IDEyIDExLjg0Mzc1IDExLjg0Mzc1IDExLjUzMTI1IDExLjQwNjI1IEMgMTEuMjE4NzUgMTAuOTY4NzUgMTEgMTAuMjczNDM4IDExIDkuNSBDIDExIDguNzI2NTYzIDExLjIxODc1IDguMDMxMjUgMTEuNTMxMjUgNy41OTM3NSBDIDExLjg0Mzc1IDcuMTU2MjUgMTIuMTg3NSA3IDEyLjUgNyBaIE0gMTkuNSA3IEMgMTkuODEyNSA3IDIwLjE1NjI1IDcuMTU2MjUgMjAuNDY4NzUgNy41OTM3NSBDIDIwLjc4MTI1IDguMDMxMjUgMjEgOC43MjY1NjMgMjEgOS41IEMgMjEgMTAuMjczNDM4IDIwLjc4MTI1IDEwLjk2ODc1IDIwLjQ2ODc1IDExLjQwNjI1IEMgMjAuMTU2MjUgMTEuODQzNzUgMTkuODEyNSAxMiAxOS41IDEyIEMgMTkuMTg3NSAxMiAxOC44NDM3NSAxMS44NDM3NSAxOC41MzEyNSAxMS40MDYyNSBDIDE4LjIxODc1IDEwLjk2ODc1IDE4IDEwLjI3MzQzOCAxOCA5LjUgQyAxOCA4LjcyNjU2MyAxOC4yMTg3NSA4LjAzMTI1IDE4LjUzMTI1IDcuNTkzNzUgQyAxOC44NDM3NSA3LjE1NjI1IDE5LjE4NzUgNyAxOS41IDcgWiBNIDcuNSAxMiBDIDYuNDI5Njg4IDEyIDUuNSAxMi42MDkzNzUgNC45MDYyNSAxMy40Mzc1IEMgNC4zMTI1IDE0LjI2NTYyNSA0IDE1LjMzOTg0NCA0IDE2LjUgQyA0IDE3LjY2MDE1NiA0LjMxMjUgMTguNzM0Mzc1IDQuOTA2MjUgMTkuNTYyNSBDIDUuNSAyMC4zOTA2MjUgNi40Mjk2ODggMjEgNy41IDIxIEMgOC41NzAzMTMgMjEgOS41IDIwLjM5MDYyNSAxMC4wOTM3NSAxOS41NjI1IEMgMTAuNjg3NSAxOC43MzQzNzUgMTEgMTcuNjYwMTU2IDExIDE2LjUgQyAxMSAxNS4zMzk4NDQgMTAuNjg3NSAxNC4yNjU2MjUgMTAuMDkzNzUgMTMuNDM3NSBDIDkuNSAxMi42MDkzNzUgOC41NzAzMTMgMTIgNy41IDEyIFogTSAyNC41IDEyIEMgMjMuNDI5Njg4IDEyIDIyLjUgMTIuNjA5Mzc1IDIxLjkwNjI1IDEzLjQzNzUgQyAyMS4zMTI1IDE0LjI2NTYyNSAyMSAxNS4zMzk4NDQgMjEgMTYuNSBDIDIxIDE3LjY2MDE1NiAyMS4zMTI1IDE4LjczNDM3NSAyMS45MDYyNSAxOS41NjI1IEMgMjIuNSAyMC4zOTA2MjUgMjMuNDI5Njg4IDIxIDI0LjUgMjEgQyAyNS41NzAzMTMgMjEgMjYuNSAyMC4zOTA2MjUgMjcuMDkzNzUgMTkuNTYyNSBDIDI3LjY4NzUgMTguNzM0Mzc1IDI4IDE3LjY2MDE1NiAyOCAxNi41IEMgMjggMTUuMzM5ODQ0IDI3LjY4NzUgMTQuMjY1NjI1IDI3LjA5Mzc1IDEzLjQzNzUgQyAyNi41IDEyLjYwOTM3NSAyNS41NzAzMTMgMTIgMjQuNSAxMiBaIE0gNy41IDE0IEMgNy44MTI1IDE0IDguMTU2MjUgMTQuMTU2MjUgOC40Njg3NSAxNC41OTM3NSBDIDguNzgxMjUgMTUuMDMxMjUgOSAxNS43MjY1NjMgOSAxNi41IEMgOSAxNy4yNzM0MzggOC43ODEyNSAxNy45Njg3NSA4LjQ2ODc1IDE4LjQwNjI1IEMgOC4xNTYyNSAxOC44NDM3NSA3LjgxMjUgMTkgNy41IDE5IEMgNy4xODc1IDE5IDYuODQzNzUgMTguODQzNzUgNi41MzEyNSAxOC40MDYyNSBDIDYuMjE4NzUgMTcuOTY4NzUgNiAxNy4yNzM0MzggNiAxNi41IEMgNiAxNS43MjY1NjMgNi4yMTg3NSAxNS4wMzEyNSA2LjUzMTI1IDE0LjU5Mzc1IEMgNi44NDM3NSAxNC4xNTYyNSA3LjE4NzUgMTQgNy41IDE0IFogTSAyNC41IDE0IEMgMjQuODEyNSAxNCAyNS4xNTYyNSAxNC4xNTYyNSAyNS40Njg3NSAxNC41OTM3NSBDIDI1Ljc4MTI1IDE1LjAzMTI1IDI2IDE1LjcyNjU2MyAyNiAxNi41IEMgMjYgMTcuMjczNDM4IDI1Ljc4MTI1IDE3Ljk2ODc1IDI1LjQ2ODc1IDE4LjQwNjI1IEMgMjUuMTU2MjUgMTguODQzNzUgMjQuODEyNSAxOSAyNC41IDE5IEMgMjQuMTg3NSAxOSAyMy44NDM3NSAxOC44NDM3NSAyMy41MzEyNSAxOC40MDYyNSBDIDIzLjIxODc1IDE3Ljk2ODc1IDIzIDE3LjI3MzQzOCAyMyAxNi41IEMgMjMgMTUuNzI2NTYzIDIzLjIxODc1IDE1LjAzMTI1IDIzLjUzMTI1IDE0LjU5Mzc1IEMgMjMuODQzNzUgMTQuMTU2MjUgMjQuMTg3NSAxNCAyNC41IDE0IFogTSAxNiAxNiBDIDE0LjY2Nzk2OSAxNiAxMy43MzgyODEgMTYuODY3MTg4IDEzLjI4MTI1IDE3LjYyNSBDIDEyLjgyNDIxOSAxOC4zODI4MTMgMTIuNTQ2ODc1IDE5LjAxNTYyNSAxMi4yODEyNSAxOS4yODEyNSBDIDEyLjEyNSAxOS40Mzc1IDExLjE2MDE1NiAxOS44MDA3ODEgMTAuMTU2MjUgMjAuMzEyNSBDIDkuNjUyMzQ0IDIwLjU3MDMxMyA5LjE0NDUzMSAyMC45MTQwNjMgOC43MTg3NSAyMS40Mzc1IEMgOC4yOTI5NjkgMjEuOTYwOTM4IDggMjIuNjg3NSA4IDIzLjUgQyA4IDI1LjQyMTg3NSA5LjU3ODEyNSAyNyAxMS41IDI3IEMgMTIuMzY3MTg4IDI3IDEzLjI2OTUzMSAyNi43MjI2NTYgMTQuMTU2MjUgMjYuNDY4NzUgQyAxNS4wNDI5NjkgMjYuMjE0ODQ0IDE2IDI2IDE2IDI2IEMgMTYgMjYgMTYuOTU3MDMxIDI2LjIxNDg0NCAxNy44NDM3NSAyNi40Njg3NSBDIDE4LjczMDQ2OSAyNi43MjI2NTYgMTkuNjMyODEzIDI3IDIwLjUgMjcgQyAyMi40MjE4NzUgMjcgMjQgMjUuNDIxODc1IDI0IDIzLjUgQyAyNCAyMi43MDcwMzEgMjMuNzA3MDMxIDIxLjk4MDQ2OSAyMy4yODEyNSAyMS40Njg3NSBDIDIyLjg1NTQ2OSAyMC45NTcwMzEgMjIuMzQzNzUgMjAuNjQwNjI1IDIxLjg0Mzc1IDIwLjM3NSBDIDIwLjg0Mzc1IDE5Ljg0Mzc1IDE5Ljg1OTM3NSAxOS40MjE4NzUgMTkuNzE4NzUgMTkuMjgxMjUgQyAxOS40ODA0NjkgMTkuMDQyOTY5IDE5LjIxMDkzOCAxOC4zOTA2MjUgMTguNzUgMTcuNjI1IEMgMTguMjg5MDYzIDE2Ljg1OTM3NSAxNy4zMzk4NDQgMTYgMTYgMTYgWiBNIDE2IDE4IEMgMTYuNjYwMTU2IDE4IDE2LjczNDM3NSAxOC4xNjAxNTYgMTcuMDMxMjUgMTguNjU2MjUgQyAxNy4zMjgxMjUgMTkuMTUyMzQ0IDE3LjU1NDY4OCAxOS45OTIxODggMTguMjgxMjUgMjAuNzE4NzUgQyAxOS4xMDU0NjkgMjEuNTQyOTY5IDIwLjE0ODQzOCAyMS43MjI2NTYgMjAuOTA2MjUgMjIuMTI1IEMgMjEuMjg1MTU2IDIyLjMyODEyNSAyMS41NzgxMjUgMjIuNTQyOTY5IDIxLjc1IDIyLjc1IEMgMjEuOTIxODc1IDIyLjk1NzAzMSAyMiAyMy4xNDg0MzggMjIgMjMuNSBDIDIyIDI0LjMzOTg0NCAyMS4zMzk4NDQgMjUgMjAuNSAyNSBDIDIwLjIxMDkzOCAyNSAxOS4yNzczNDQgMjQuNzc3MzQ0IDE4LjQwNjI1IDI0LjUzMTI1IEMgMTcuNTM1MTU2IDI0LjI4NTE1NiAxNi44MTY0MDYgMjQgMTYgMjQgQyAxNS4xODM1OTQgMjQgMTQuNDY0ODQ0IDI0LjI4NTE1NiAxMy41OTM3NSAyNC41MzEyNSBDIDEyLjcyMjY1NiAyNC43NzczNDQgMTEuNzg5MDYzIDI1IDExLjUgMjUgQyAxMC42NjAxNTYgMjUgMTAgMjQuMzM5ODQ0IDEwIDIzLjUgQyAxMCAyMy4wOTc2NTYgMTAuMDgyMDMxIDIyLjg5MDYyNSAxMC4yNSAyMi42ODc1IEMgMTAuNDE3OTY5IDIyLjQ4NDM3NSAxMC43MjI2NTYgMjIuMjg1MTU2IDExLjA5Mzc1IDIyLjA5Mzc1IEMgMTEuODM5ODQ0IDIxLjcxNDg0NCAxMi44NzUgMjEuNTYyNSAxMy43MTg3NSAyMC43MTg3NSBDIDE0LjQ1MzEyNSAxOS45ODQzNzUgMTQuNjc1NzgxIDE5LjExNzE4OCAxNC45Njg3NSAxOC42MjUgQyAxNS4yNjE3MTkgMTguMTMyODEzIDE1LjMzMjAzMSAxOCAxNiAxOCBaIi8+PC9zdmc+",HK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSAzIEwgMTEgNyBMIDEzIDcgTCAxMyAzIFogTSAxNSA0IEwgMTUgNyBMIDE3IDcgTCAxNyA0IFogTSA0Ljg3NSA4IEwgNSA5LjA5Mzc1IEwgNi44MTI1IDI2LjMxMjUgQyA2Ljk3MjY1NiAyNy44MzIwMzEgOC4yODUxNTYgMjkgOS44MTI1IDI5IEwgMTkuMTg3NSAyOSBDIDIwLjcxNDg0NCAyOSAyMi4wMjczNDQgMjcuODMyMDMxIDIyLjE4NzUgMjYuMzEyNSBMIDIyLjY1NjI1IDIyIEwgMjUgMjIgQyAyNi42NDQ1MzEgMjIgMjggMjAuNjQ0NTMxIDI4IDE5IEwgMjggMTYgQyAyOCAxNC4zNTU0NjkgMjYuNjQ0NTMxIDEzIDI1IDEzIEwgMjMuNTkzNzUgMTMgTCAyNCA5LjA5Mzc1IEwgMjQuMTI1IDggWiBNIDcuMTI1IDEwIEwgMjEuODc1IDEwIEwgMjAuMTg3NSAyNi4wOTM3NSBDIDIwLjEzMjgxMyAyNi42MTMyODEgMTkuNzA3MDMxIDI3IDE5LjE4NzUgMjcgTCA5LjgxMjUgMjcgQyA5LjI5Mjk2OSAyNyA4Ljg2NzE4OCAyNi42MTMyODEgOC44MTI1IDI2LjA5Mzc1IFogTSAyMy4zNzUgMTUgTCAyNSAxNSBDIDI1LjU2NjQwNiAxNSAyNiAxNS40MzM1OTQgMjYgMTYgTCAyNiAxOSBDIDI2IDE5LjU2NjQwNiAyNS41NjY0MDYgMjAgMjUgMjAgTCAyMi44NDM3NSAyMCBaIi8+PC9zdmc+",qK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiAzIEMgOC44MzIwMzEgMyAzIDguODMyMDMxIDMgMTYgQyAzIDIzLjE2Nzk2OSA4LjgzMjAzMSAyOSAxNiAyOSBDIDIzLjE2Nzk2OSAyOSAyOSAyMy4xNjc5NjkgMjkgMTYgQyAyOSA4LjgzMjAzMSAyMy4xNjc5NjkgMyAxNiAzIFogTSAxNiA1IEMgMTYuNjAxNTYzIDUgMTcuMTc1NzgxIDUuMDYyNSAxNy43NSA1LjE1NjI1IEwgMTYgNi40MDYyNSBMIDE0LjI1IDUuMTU2MjUgQyAxNC44MjAzMTMgNS4wNjY0MDYgMTUuNDAyMzQ0IDUgMTYgNSBaIE0gMTEuODEyNSA1Ljg0Mzc1IEwgMTUuNDA2MjUgOC40Njg3NSBMIDE2IDguOTA2MjUgTCAxNi41OTM3NSA4LjQ2ODc1IEwgMjAuMTg3NSA1Ljg0Mzc1IEMgMjEuNzg1MTU2IDYuNTA3ODEzIDIzLjE5NTMxMyA3LjUyMzQzOCAyNC4zMTI1IDguODEyNSBMIDIyLjkzNzUgMTMuMDkzNzUgTCAyMi43MTg3NSAxMy43ODEyNSBMIDIzLjMxMjUgMTQuMTg3NSBMIDI2LjkzNzUgMTYuODQzNzUgQyAyNi44MDQ2ODggMTguNjA1NDY5IDI2LjI2NTYyNSAyMC4yNTc4MTMgMjUuNDA2MjUgMjEuNjg3NSBMIDIwLjEyNSAyMS42ODc1IEwgMTkuOTA2MjUgMjIuMzc1IEwgMTguNSAyNi43MTg3NSBDIDE3LjY5OTIxOSAyNi45MDYyNSAxNi44NTkzNzUgMjcgMTYgMjcgQyAxNS4xMDU0NjkgMjcgMTQuMjM4MjgxIDI2Ljg4NjcxOSAxMy40MDYyNSAyNi42ODc1IEwgMTIuMDMxMjUgMjIuNDA2MjUgTCAxMS44MTI1IDIxLjcxODc1IEwgNi41OTM3NSAyMS43MTg3NSBDIDUuNzE4NzUgMjAuMjgxMjUgNS4xOTkyMTkgMTguNjIxMDk0IDUuMDYyNSAxNi44NDM3NSBMIDguNjU2MjUgMTQuMjE4NzUgTCA5LjI1IDEzLjgxMjUgTCA5LjAzMTI1IDEzLjEyNSBMIDcuNjI1IDguODc1IEMgOC43NSA3LjU1NDY4OCAxMC4xODM1OTQgNi41MTU2MjUgMTEuODEyNSA1Ljg0Mzc1IFogTSAxNiAxMC4wOTM3NSBMIDE1LjQwNjI1IDEwLjUzMTI1IEwgMTAuODQzNzUgMTMuODQzNzUgTCAxMC4yODEyNSAxNC4yODEyNSBMIDEwLjUgMTQuOTY4NzUgTCAxMi4yNSAyMC4zMTI1IEwgMTIuNDY4NzUgMjEgTCAxOS41MzEyNSAyMSBMIDE5Ljc1IDIwLjMxMjUgTCAyMS41IDE0Ljk2ODc1IEwgMjEuNzE4NzUgMTQuMjgxMjUgTCAyMS4xNTYyNSAxMy44NDM3NSBMIDE2LjU5Mzc1IDEwLjUzMTI1IFogTSAyNS43NSAxMC45MDYyNSBDIDI2LjI5Njg3NSAxMS45NTMxMjUgMjYuNjU2MjUgMTMuMTAxNTYzIDI2Ljg0Mzc1IDE0LjMxMjUgTCAyNS4wNjI1IDEzLjAzMTI1IFogTSA2LjIxODc1IDEwLjk2ODc1IEwgNi45MDYyNSAxMy4wMzEyNSBMIDUuMTU2MjUgMTQuMzEyNSBDIDUuMzM5ODQ0IDEzLjEyNSA1LjY4NzUgMTIgNi4yMTg3NSAxMC45Njg3NSBaIE0gMTYgMTIuNTkzNzUgTCAxOS4zNzUgMTUuMDMxMjUgTCAxOC4wOTM3NSAxOSBMIDEzLjkwNjI1IDE5IEwgMTIuNjI1IDE1LjAzMTI1IFogTSAyMS41OTM3NSAyMy42ODc1IEwgMjMuODQzNzUgMjMuNjg3NSBDIDIyLjk5MjE4OCAyNC41NjY0MDYgMjIuMDExNzE5IDI1LjI5Mjk2OSAyMC45MDYyNSAyNS44NDM3NSBaIE0gOC4xNTYyNSAyMy43MTg3NSBMIDEwLjM0Mzc1IDIzLjcxODc1IEwgMTEuMDMxMjUgMjUuODEyNSBDIDkuOTYwOTM4IDI1LjI2OTUzMSA4Ljk4ODI4MSAyNC41NjI1IDguMTU2MjUgMjMuNzE4NzUgWiIvPjwvc3ZnPg==",WK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5LjUgNiBDIDguMTc5Njg4IDYgNy4wMDM5MDYgNi44NTkzNzUgNi42MjUgOC4xMjUgTCA1LjI1IDEyLjcxODc1IEwgMy4zMTI1IDEyLjA2MjUgTCAyLjY4NzUgMTMuOTM3NSBMIDQuNjU2MjUgMTQuNTkzNzUgTCA0LjAzMTI1IDE2LjcxODc1IEMgNC4wMDc4MTMgMTYuODA4NTk0IDMuOTk2MDk0IDE2LjkwNjI1IDQgMTcgTCA0IDI0IEMgNCAyNC4wMzEyNSA0IDI0LjA2MjUgNCAyNC4wOTM3NSBMIDQgMjUgQyA0IDI1LjU1MDc4MSA0LjQ0OTIxOSAyNiA1IDI2IEwgOCAyNiBMIDguMzQzNzUgMjUgTCAyMy42NTYyNSAyNSBMIDI0IDI2IEwgMjcgMjYgQyAyNy41NTA3ODEgMjYgMjggMjUuNTUwNzgxIDI4IDI1IEwgMjggMjQuMTU2MjUgQyAyOC4wMDM5MDYgMjQuMTA1NDY5IDI4LjAwMzkwNiAyNC4wNTA3ODEgMjggMjQgTCAyOCAxNyBDIDI4LjAwMzkwNiAxNi45MDYyNSAyNy45OTIxODggMTYuODA4NTk0IDI3Ljk2ODc1IDE2LjcxODc1IEwgMjcuMzQzNzUgMTQuNTkzNzUgTCAyOS4zMTI1IDEzLjkzNzUgTCAyOC42ODc1IDEyLjA2MjUgTCAyNi43NSAxMi43MTg3NSBMIDI1LjM3NSA4LjEyNSBDIDI0Ljk5NjA5NCA2Ljg1OTM3NSAyMy44MjAzMTMgNiAyMi41IDYgWiBNIDkuNSA4IEwgMjIuNSA4IEMgMjIuOTQ1MzEzIDggMjMuMzM5ODQ0IDguMjkyOTY5IDIzLjQ2ODc1IDguNzE4NzUgTCAyNC43NSAxMyBMIDcuMjUgMTMgTCA4LjUzMTI1IDguNzE4NzUgQyA4LjY2MDE1NiA4LjI4OTA2MyA5LjA1NDY4OCA4IDkuNSA4IFogTSA2LjY1NjI1IDE1IEwgMjUuMzQzNzUgMTUgTCAyNiAxNy4xODc1IEwgMjYgMjMgTCA2IDIzIEwgNiAxNy4xODc1IFogTSA4LjUgMTYgQyA3LjY3MTg3NSAxNiA3IDE2LjY3MTg3NSA3IDE3LjUgQyA3IDE4LjMyODEyNSA3LjY3MTg3NSAxOSA4LjUgMTkgQyA5LjMyODEyNSAxOSAxMCAxOC4zMjgxMjUgMTAgMTcuNSBDIDEwIDE2LjY3MTg3NSA5LjMyODEyNSAxNiA4LjUgMTYgWiBNIDIzLjUgMTYgQyAyMi42NzE4NzUgMTYgMjIgMTYuNjcxODc1IDIyIDE3LjUgQyAyMiAxOC4zMjgxMjUgMjIuNjcxODc1IDE5IDIzLjUgMTkgQyAyNC4zMjgxMjUgMTkgMjUgMTguMzI4MTI1IDI1IDE3LjUgQyAyNSAxNi42NzE4NzUgMjQuMzI4MTI1IDE2IDIzLjUgMTYgWiBNIDEyIDE5IEwgMTAuNzUgMjIgTCAxMi45MDYyNSAyMiBMIDEzLjM0Mzc1IDIxIEwgMTguNjU2MjUgMjEgTCAxOS4wOTM3NSAyMiBMIDIxLjI1IDIyIEwgMjAgMTkgWiIvPjwvc3ZnPg==",GK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuMDQyOTY5IDQgNyA4LjA0Mjk2OSA3IDEzIEMgNyAxNC45MTc5NjkgNy44NDM3NSAxNi45MDYyNSA5IDE4LjY4NzUgQyA5Ljg1OTM3NSAyMC4wMTE3MTkgMTAuODg2NzE5IDIxLjIzMDQ2OSAxMiAyMi4xNTYyNSBMIDEyIDI1IEMgMTIgMjYuMDkzNzUgMTIuOTA2MjUgMjcgMTQgMjcgTCAxNSAyOCBMIDE3IDI4IEwgMTggMjcgQyAxOS4wOTM3NSAyNyAyMCAyNi4wOTM3NSAyMCAyNSBMIDIwIDIyLjE1NjI1IEMgMjEuMTEzMjgxIDIxLjIzMDQ2OSAyMi4xNDA2MjUgMjAuMDExNzE5IDIzIDE4LjY4NzUgQyAyNC4xNTYyNSAxNi45MDYyNSAyNSAxNC45MTc5NjkgMjUgMTMgQyAyNSA4LjA0Mjk2OSAyMC45NTcwMzEgNCAxNiA0IFogTSAxNiA2IEMgMTkuODc4OTA2IDYgMjMgOS4xMjEwOTQgMjMgMTMgQyAyMyAxNC4zMDg1OTQgMjIuMzU1NDY5IDE2LjAzNTE1NiAyMS4zNDM3NSAxNy41OTM3NSBDIDIwLjQ0MTQwNiAxOC45ODQzNzUgMTkuMjUzOTA2IDIwLjIyMjY1NiAxOC4xNTYyNSAyMSBMIDEzLjg0Mzc1IDIxIEMgMTIuNzQ2MDk0IDIwLjIyMjY1NiAxMS41NTg1OTQgMTguOTg0Mzc1IDEwLjY1NjI1IDE3LjU5Mzc1IEMgOS42NDQ1MzEgMTYuMDM1MTU2IDkgMTQuMzA4NTk0IDkgMTMgQyA5IDkuMTIxMDk0IDEyLjEyMTA5NCA2IDE2IDYgWiBNIDE0LjI1IDIzIEwgMTcuNzUgMjMgQyAxNy44MjgxMjUgMjMuMDU0Njg4IDE3LjkxMDE1NiAyMy4wOTM3NSAxOCAyMy4xMjUgTCAxOCAyNSBMIDE0IDI1IEwgMTQgMjMuMTI1IEMgMTQuMDg5ODQ0IDIzLjA5Mzc1IDE0LjE3MTg3NSAyMy4wNTQ2ODggMTQuMjUgMjMgWiIvPjwvc3ZnPg==",QK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSA1IEwgMTEgMTEgTCA1IDExIEwgNSAxMyBMIDExIDEzIEwgMTEgMTkgTCA1IDE5IEwgNSAyMSBMIDExIDIxIEwgMTEgMjcgTCAxMyAyNyBMIDEzIDIxIEwgMTkgMjEgTCAxOSAyNyBMIDIxIDI3IEwgMjEgMjEgTCAyNyAyMSBMIDI3IDE5IEwgMjEgMTkgTCAyMSAxMyBMIDI3IDEzIEwgMjcgMTEgTCAyMSAxMSBMIDIxIDUgTCAxOSA1IEwgMTkgMTEgTCAxMyAxMSBMIDEzIDUgWiBNIDEzIDEzIEwgMTkgMTMgTCAxOSAxOSBMIDEzIDE5IFoiLz48L3N2Zz4=",YK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5IDQgQyA3LjM0NiA0IDYgNS4zNDYgNiA3IEMgNiA4LjMwMTYwOTQgNi44Mzg3NDg2IDkuNDAyMTM5MSA4IDkuODE2NDA2MiBMIDggMTEuMzA0Njg4IEwgOCAyMy4yMDcwMzEgTCA4IDI3LjAyMzQzOCBDIDggMjcuNTYzNDM4IDguNDM2NTYyNSAyOCA4Ljk3NjU2MjUgMjggTCA5LjAyMzQzNzUgMjggQyA5LjU2MzQzNzUgMjggMTAgMjcuNTYzNDM3IDEwIDI3LjAyMzQzOCBMIDEwIDIyLjIyODUxNiBDIDEwLjMzNDcwNyAyMS44Mzk3NTYgMTEuMTM4NDIzIDIxLjA0Njg3NSAxMy40NDUzMTIgMjEuMDQ2ODc1IEMgMTQuNjY5MzEzIDIxLjA0Njg3NSAxNS42NzA0MjIgMjEuNDczNzgxIDE2LjczMjQyMiAyMS45MjU3ODEgQyAxNy43Njk0MjIgMjIuMzY3NzgxIDE4Ljg0MTg5MSAyMi44MjQyMTkgMjAuMDg3ODkxIDIyLjgyNDIxOSBDIDIyLjQ0Njg5MSAyMi44MjQyMTkgMjQuMDQ5Mzc1IDIxLjU4NDY4OCAyNC43MzQzNzUgMjEuMDU0Njg4IEwgMjQuODg2NzE5IDIwLjkzOTQ1MyBDIDI1LjQzNzcxOSAyMC41NDA0NTMgMjYgMTkuOTk2IDI2IDE5IEwgMjYgMTAuNjc1NzgxIEMgMjYgOS43Njc3ODEyIDI1LjIyMTgyOCA5IDI0LjI5ODgyOCA5IEMgMjMuODAzODI4IDkgMjMuNDQwNDA2IDkuMjg2NTkzNyAyMi45NDE0MDYgOS42ODM1OTM4IEMgMjIuMjc5NDA2IDEwLjIwNzU5NCAyMS4yODA4OTEgMTEgMjAuMDg3ODkxIDExIEMgMTkuMjcyODkxIDExIDE4LjQ3NzY4OCAxMC42MTk3MzQgMTcuNTU0Njg4IDEwLjE3NzczNCBDIDE2LjQwMzY4NyA5LjYyNTczNDQgMTUuMDk4MzU5IDkgMTMuNDQzMzU5IDkgQyAxMi4zMDgyNTcgOSAxMS40MjE2ODcgOS4xODgzMzkzIDEwLjcxMjg5MSA5LjQ1NzAzMTIgQyAxMS40ODkwNzEgOC45MTQxODI0IDEyIDguMDE2NzgwMiAxMiA3IEMgMTIgNS4zNDYgMTAuNjU0IDQgOSA0IHogTSA5IDYgQyA5LjU1MiA2IDEwIDYuNDQ5IDEwIDcgQyAxMCA3LjU1MSA5LjU1MiA4IDkgOCBDIDguNDQ4IDggOCA3LjU1MSA4IDcgQyA4IDYuNDQ5IDguNDQ4IDYgOSA2IHogTSAxMy40NDMzNTkgMTEgQyAxNC42NDUzNTkgMTEgMTUuNjM4NDA2IDExLjQ3NjQ2OSAxNi42OTE0MDYgMTEuOTgwNDY5IEMgMTcuNzM2NDA2IDEyLjQ4MjQ2OSAxOC44MTc4OTEgMTMgMjAuMDg3ODkxIDEzIEMgMjEuODQyODkxIDEzIDIzLjE1ODA0NyAxMi4wNTQ0ODQgMjMuOTk4MDQ3IDExLjM5NjQ4NCBMIDIzLjk5ODA0NyAxOS4wNjY0MDYgQyAyMy45OTcwNDcgMTkuMDcwNDA2IDIzLjk1Mjk4NCAxOS4xNDUyNjYgMjMuNzA4OTg0IDE5LjMyMjI2NiBMIDIzLjUwOTc2NiAxOS40NzQ2MDkgQyAyMi45NDI3NjYgMTkuOTEyNjA5IDIxLjc2Mjg5MSAyMC44MjQyMTkgMjAuMDg3ODkxIDIwLjgyNDIxOSBDIDE5LjI0OTg5MSAyMC44MjQyMTkgMTguNDQ2NjI1IDIwLjQ4MjkzNyAxNy41MTU2MjUgMjAuMDg1OTM4IEMgMTYuMzcyNjI1IDE5LjU5NzkzOCAxNS4wNzYzNTkgMTkuMDQ0OTIyIDEzLjQ0MzM1OSAxOS4wNDQ5MjIgQyAxMS44OTEzNTkgMTkuMDQ0OTIyIDEwLjc4NiAxOS4zNTggMTAgMTkuNzUgTCAxMCAxMi4zNjEzMjggQyAxMC4zNDUgMTEuOTA1MzI4IDExLjEzMjM1OSAxMSAxMy40NDMzNTkgMTEgeiIvPjwvc3ZnPg==",KK="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuODMyMDMxIDQgOC4xNTIzNDQgNi4xMTMyODEgNiA5LjM0Mzc1IEwgNiA2IEwgNCA2IEwgNCAxMyBMIDExIDEzIEwgMTEgMTEgTCA3LjM3NSAxMSBDIDkuMTAxNTYzIDguMDE5NTMxIDEyLjI5Njg3NSA2IDE2IDYgQyAyMS41MzUxNTYgNiAyNiAxMC40NjQ4NDQgMjYgMTYgQyAyNiAyMS41MzUxNTYgMjEuNTM1MTU2IDI2IDE2IDI2IEMgMTAuNDY0ODQ0IDI2IDYgMjEuNTM1MTU2IDYgMTYgTCA0IDE2IEMgNCAyMi42MTcxODggOS4zODI4MTMgMjggMTYgMjggQyAyMi42MTcxODggMjggMjggMjIuNjE3MTg4IDI4IDE2IEMgMjggOS4zODI4MTMgMjIuNjE3MTg4IDQgMTYgNCBaIE0gMTUgOCBMIDE1IDE3IEwgMjIgMTcgTCAyMiAxNSBMIDE3IDE1IEwgMTcgOCBaIi8+PC9zdmc+Cg==";const XK=c.defineComponent({name:"Header",setup(t){const{state:e,updateSearch:r,updateActiveGroup:n}=c.inject("store"),i=c.computed(()=>!e.options.hideSearch),o=c.computed(()=>!e.options.hideGroupIcons),s=JSON.parse(JSON.stringify(e.orderedGroupKeys)),a=c.computed(()=>e.options.staticTexts.placeholder||""),l=c.computed({get:()=>e.search,set:u=>r(u)}),d=[...e.groups,...Object.keys(e.options.additionalGroups).map(u=>({key:u,title:e.options.groupNames[u]?e.options.groupNames[u]:Uk(u)}))],f=[];return s.forEach(u=>{const h=d.findIndex(p=>p.key===u);h!==-1&&(f.push(d[h]),d.splice(h,1))}),{orderedGroups:f,orderedKeys:s,searchValue:l,updateActiveGroup:n,hasSearch:i,hasGroupIcons:o,placeholder:a,icons:{smileys_people:Pk,animals_nature:VK,food_drink:HK,activities:qK,travel_places:WK,objects:GK,symbols:QK,flags:YK,...e.options.groupIcons,recent:KK}}}}),ZK={key:0,class:"v3-header"},JK={key:0,class:"v3-groups"},eX=["onClick"],tX=["title"],rX=["src"],nX={key:1,class:"v3-spacing"},iX={key:2,class:"v3-search"},oX=["placeholder"];function sX(t,e,r,n,i,o){return t.hasGroupIcons||t.hasSearch?(c.openBlock(),c.createElementBlock("div",ZK,[t.hasGroupIcons?(c.openBlock(),c.createElementBlock("div",JK,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(t.orderedGroups,s=>(c.openBlock(),c.createElementBlock("button",{key:s.key,type:"button",class:c.normalizeClass(["v3-group",{"v3-is-hidden":!t.icons[s.key]}]),onClick:a=>t.updateActiveGroup(s.key)},[c.createElementVNode("span",{title:s.title,class:"v3-icon"},[c.createElementVNode("img",{src:t.icons[s.key],alt:""},null,8,rX)],8,tX)],10,eX))),128))])):c.createCommentVNode("",!0),t.hasGroupIcons&&t.hasSearch?(c.openBlock(),c.createElementBlock("div",nX)):c.createCommentVNode("",!0),t.hasSearch?(c.openBlock(),c.createElementBlock("div",iX,[c.withDirectives(c.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.searchValue=s),type:"text",placeholder:t.placeholder},null,8,oX),[[c.vModelText,t.searchValue]])])):c.createCommentVNode("",!0)])):c.createCommentVNode("",!0)}var aX=sd(XK,[["render",sX]]);const lX=c.defineComponent({name:"Header",setup(){const{state:t,updateSkinTone:e}=c.inject("store"),r=c.ref(!1),n=c.ref(!1),i=c.computed(()=>t.skinTone),o=c.computed(()=>t.options.staticTexts.skinTone||"Skin tone"),s=c.computed(()=>!t.options.disableSkinTones),a=Fk()?"is-mac":"",l=c.computed(()=>({...t.emoji,src:uk+"/"+t.emoji[Zu]+".png"}));function d(h=!0){r.value=h}function f(){r.value=!r.value}function u(h){e(h),d(!1)}return c.watch(()=>t.emoji,()=>{n.value=!1}),{emoji:l,SKIN_TONES:lY,updateSkinToneState:d,skinTone:r,stateSkinTone:i,selectSkinTone:u,toggleSkinToneState:f,EMOJI_RESULT_KEY:Zu,EMOJI_NAME_KEY:bp,skinToneText:o,hasSkinTones:s,native:t.options.native,unicodeToEmoji:Cp,platform:a,hasError:n}}}),cX={class:"v3-foot-left"},uX={key:0},dX=["alt","src"],fX={class:"v3-text"},hX={class:"v3-text"},pX=["onClick"];function mX(t,e,r,n,i,o){return c.openBlock(),c.createElementBlock("div",{class:"v3-footer",onMouseleave:e[2]||(e[2]=s=>t.updateSkinToneState(!1))},[c.createElementVNode("div",cX,[c.createElementVNode("span",{class:c.normalizeClass([t.platform,"v3-icon"])},[t.native||t.hasError?(c.openBlock(),c.createElementBlock("span",uX,c.toDisplayString(t.unicodeToEmoji(t.emoji.r)),1)):(c.openBlock(),c.createElementBlock("img",{key:1,alt:t.unicodeToEmoji(t.emoji.r),src:t.emoji.src,onError:e[0]||(e[0]=s=>t.hasError=!0)},null,40,dX))],2),c.createElementVNode("span",fX," :"+c.toDisplayString(t.emoji[t.EMOJI_NAME_KEY][1]||t.emoji[t.EMOJI_NAME_KEY][0])+": ",1)]),t.hasSkinTones?(c.openBlock(),c.createElementBlock(c.Fragment,{key:0},[c.createElementVNode("button",{type:"button",class:"v3-tone",onClick:e[1]||(e[1]=(...s)=>t.toggleSkinToneState&&t.toggleSkinToneState(...s))},[c.createElementVNode("span",hX,c.toDisplayString(t.skinToneText),1),c.createElementVNode("span",{class:c.normalizeClass(`v3-icon v3-tone-${t.stateSkinTone}`)},null,2)]),c.createElementVNode("div",{class:c.normalizeClass([t.skinTone?"v3-is-open":"","v3-skin-tones"])},[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(t.SKIN_TONES,s=>(c.openBlock(),c.createElementBlock("button",{key:s,type:"button",class:c.normalizeClass(["v3-skin-tone-"+s,"v3-skin-tone"]),onClick:a=>t.selectSkinTone(s)},null,10,pX))),128))],2)],64)):c.createCommentVNode("",!0)],32)}var gX=sd(lX,[["render",mX]]);const yX=c.defineComponent({name:"PickerRoot",components:{Header:aX,Body:zK,Footer:gX},props:{type:{type:String,default:""},text:{type:String,default:""},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},groupNames:{type:Object,default:()=>({})}},emits:{select:t=>!0,"update:text":t=>!0},setup(t,{emit:e}){const r=c.ref(),n=c.ref(),i=c.ref(),o=c.ref(!1),s=c.ref(t.text),a=t.type==="input"||t.type==="textarea";let l=-1;const{state:d}=c.inject("store"),f=c.computed(()=>d.options.colorTheme);function u(b){if(a){const v=d.options.mode;v==="prepend"?s.value=b.i+s.value:v==="insert"&&l!==-1?(s.value=`${s.value.slice(0,l)}${b.i}${s.value.slice(l)}`,l+=b.i.length):s.value+=b.i,e("update:text",s.value)}e("select",b)}function h(){var b;r.value&&(l=((b=r.value)==null?void 0:b.selectionEnd)||-1)}function p(b){var v;!((v=b.target)!=null&&v.closest(".v3-input-picker-wrap"))&&o.value&&(o.value=!1)}function m(){if(n.value&&i.value&&a){let b=d.options.offset;typeof b!="number"&&(b=6),MK(n.value,i.value,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,b]}}]}),document.body.addEventListener("click",p)}}function y(b){s.value=b.target.value||"",e("update:text",s.value)}return c.onMounted(()=>{m()}),c.onBeforeUnmount(()=>{document.body.removeEventListener("click",p)}),{face:Pk,open:o,onSelect:u,input:s,elem:r,updateCursor:h,button:n,picker:i,isInputType:a,onChangeText:y,colorTheme:f}}}),bX={key:0,class:"v3-input-emoji-picker"},vX={class:"v3-input-picker-root"},_X=["value"],wX=["value"],xX=["src"];function TX(t,e,r,n,i,o){const s=c.resolveComponent("Header"),a=c.resolveComponent("Body"),l=c.resolveComponent("Footer");return t.isInputType?(c.openBlock(),c.createElementBlock("div",bX,[c.createElementVNode("div",vX,[t.type==="input"?(c.openBlock(),c.createElementBlock("input",{key:0,ref:"elem",value:t.input,type:"text",class:"v3-emoji-picker-input",onInput:e[0]||(e[0]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[1]||(e[1]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,_X)):(c.openBlock(),c.createElementBlock("textarea",{key:1,ref:"elem",value:t.input,class:"v3-emoji-picker-textarea",onInput:e[2]||(e[2]=(...d)=>t.onChangeText&&t.onChangeText(...d)),onBlur:e[3]||(e[3]=(...d)=>t.updateCursor&&t.updateCursor(...d))},null,40,wX)),c.createElementVNode("div",{class:c.normalizeClass(["v3-input-picker-wrap",t.open?"v3-picker-is-open":""])},[c.createElementVNode("button",{ref:"button",type:"button",class:"v3-input-picker-icon",onClick:e[4]||(e[4]=d=>t.open=!t.open)},[c.createElementVNode("img",{src:t.face,alt:""},null,8,xX)],512),c.createElementVNode("div",{ref:"picker",class:c.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[c.createVNode(s),c.createVNode(a,{onSelect:t.onSelect},null,8,["onSelect"]),c.createVNode(l)],2)],2)])])):(c.openBlock(),c.createElementBlock("div",{key:1,class:c.normalizeClass(["v3-emoji-picker","v3-color-theme-"+t.colorTheme])},[c.createVNode(s),c.createVNode(a,{onSelect:t.onSelect},null,8,["onSelect"]),c.createVNode(l)],2))}var AX=sd(yX,[["render",TX]]);const CX=c.defineComponent({name:"Picker",components:{PickerRoot:AX},props:{native:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1},hideGroupIcons:{type:Boolean,default:!1},hideGroupNames:{type:Boolean,default:!1},staticTexts:{type:Object,default:()=>({})},disableStickyGroupNames:{type:Boolean,default:!1},disabledGroups:{type:Array,default:()=>[]},groupNames:{type:Object,default:()=>({})},disableSkinTones:{type:Boolean,default:!1},text:{type:String,default:""},mode:{type:String,default:"insert"},offset:{type:Number,default:6},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},pickerType:{type:String,default:""},displayRecent:{type:Boolean,default:!1},theme:{type:String,default:"light"}},emits:{"update:text":t=>!0,select:t=>!0},setup(t,{emit:e}){const r=c.ref(t.text);function n(o){r.value=o||"",e("update:text",r.value)}const i=CY();return i.updateOptions({native:t.native,hideSearch:t.hideSearch,hideGroupIcons:t.hideGroupIcons,hideGroupNames:t.hideGroupNames,staticTexts:{...cY,...t.staticTexts},disableStickyGroupNames:t.disableStickyGroupNames,disabledGroups:t.disabledGroups,groupNames:{...dk,...t.groupNames},disableSkinTones:t.disableSkinTones,displayRecent:t.displayRecent,additionalGroups:t.additionalGroups,mode:t.mode,offset:t.offset,groupOrder:t.groupOrder,groupIcons:t.groupIcons,colorTheme:uY.includes(t.theme)?t.theme:"light"}),c.provide("store",i),{type:t.pickerType,input:r,onChangeText:n}}});function SX(t,e,r,n,i,o){const s=c.resolveComponent("picker-root");return c.openBlock(),c.createBlock(s,{type:t.type,text:t.input,onSelect:e[0]||(e[0]=a=>t.$emit("select",a)),"onUpdate:text":t.onChangeText},null,8,["type","text","onUpdate:text"])}var EX=sd(CX,[["render",SX]]);/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function ad(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(u){s(u)}}function l(f){try{d(n.throw(f))}catch(u){s(u)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((n=n.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class sr{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(r=>{e=r})}dispatch(e){return ad(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(e())}finally{r()}})}}var eb;function kX(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const tb=kX(),rb=(eb=tb.Buffer)!==null&&eb!==void 0?eb:null,IX=tb.TextEncoder?new tb.TextEncoder:null;function jk(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function DX(t,e){const r=e.length>>1;for(let n=0;n<r;n++){const i=n<<1;t[n]=jk(e.charCodeAt(i),e.charCodeAt(i+1))}}function MX(t,e){if(t.length!==e.length*2)return!1;for(let r=0;r<e.length;r++){const n=r<<1;if(e[r]!==jk(t.charCodeAt(n),t.charCodeAt(n+1)))return!1}return!0}const $k=87,zk=48;function Vk(t,e,r){let n=0;for(let i=0;i<r;i++){let o=e[i]>>>4;t[n++]=o>9?o+$k:o+zk,o=e[i]&15,t[n++]=o>9?o+$k:o+zk}return String.fromCharCode.apply(null,t)}const Hk=rb!==null?t=>{if(typeof t=="string"){const e=rb.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(rb.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return IX.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},qk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ld=new Uint8Array(256);for(let t=0;t<qk.length;t++)ld[qk.charCodeAt(t)]=t;function NX(t){let e=Math.floor(t.length*.75);const r=t.length;return t[r-1]==="="&&(e-=1,t[r-2]==="="&&(e-=1)),e}function OX(t){const e=NX(t),r=t.length,n=new Uint8Array(e);let i=0;for(let o=0;o<r;o+=4){const s=ld[t.charCodeAt(o)],a=ld[t.charCodeAt(o+1)],l=ld[t.charCodeAt(o+2)],d=ld[t.charCodeAt(o+3)];n[i]=s<<2|a>>4,i+=1,n[i]=(a&15)<<4|l>>2,i+=1,n[i]=(l&3)<<6|d&63,i+=1}return n}const Sp=16*1024,cd=4,LX=new sr,nb=new Map;function BX(t,e){return ad(this,void 0,void 0,function*(){let r=null,n=null,i=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const o=(T,O=0)=>{n.set(T,O)},s=()=>n,a=()=>r.exports,l=T=>{r.exports.Hash_SetMemorySize(T);const O=r.exports.Hash_GetBuffer(),D=r.exports.memory.buffer;n=new Uint8Array(D,O,T)},d=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),f=LX.dispatch(()=>ad(this,void 0,void 0,function*(){if(!nb.has(t.name)){const O=OX(t.data),D=WebAssembly.compile(O);nb.set(t.name,D)}const T=yield nb.get(t.name);r=yield WebAssembly.instantiate(T,{})})),u=()=>ad(this,void 0,void 0,function*(){r||(yield f);const T=r.exports.Hash_GetBuffer(),O=r.exports.memory.buffer;n=new Uint8Array(O,T,Sp)}),h=(T=null)=>{i=!0,r.exports.Hash_Init(T)},p=T=>{let O=0;for(;O<T.length;){const D=T.subarray(O,O+Sp);O+=D.length,n.set(D),r.exports.Hash_Update(D.length)}},m=T=>{if(!i)throw new Error("update() called before init()");const O=Hk(T);p(O)},y=new Uint8Array(e*2),b=(T,O=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(O),T==="binary"?n.slice(0,e):Vk(y,n,e)},v=()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const T=r.exports.Hash_GetState(),O=d(),D=r.exports.memory.buffer,S=new Uint8Array(D,T,O),R=new Uint8Array(cd+O);return DX(R,t.hash),R.set(S,cd),R},E=T=>{if(!(T instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const O=r.exports.Hash_GetState(),D=d(),S=cd+D,R=r.exports.memory.buffer;if(T.length!==S)throw new Error(`Bad state length (expected ${S} bytes, got ${T.length})`);if(!MX(t.hash,T.subarray(0,cd)))throw new Error("This state was written by an incompatible hash implementation");const z=T.subarray(cd);new Uint8Array(R,O,D).set(z),i=!0},A=T=>typeof T=="string"?T.length<Sp/4:T.byteLength<Sp;let k=A;switch(t.name){case"argon2":case"scrypt":k=()=>!0;break;case"blake2b":case"blake2s":k=(T,O)=>O<=512&&A(T);break;case"blake3":k=(T,O)=>O===0&&A(T);break;case"xxhash64":case"xxhash3":case"xxhash128":k=()=>!1;break}const C=(T,O=null,D=null)=>{if(!k(T,O))return h(O),m(T),b("hex",D);const S=Hk(T);return n.set(S),r.exports.Hash_Calculate(S.length,O,D),Vk(y,n,e)};return yield u(),{getMemory:s,writeMemory:o,getExports:a,setMemorySize:l,init:h,update:m,digest:b,save:v,load:E,calculate:C,hashLength:e}})}function RX(t,e,r){return ad(this,void 0,void 0,function*(){const n=yield t.lock(),i=yield BX(e,r);return n(),i})}new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr;var PX="sha1",FX="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwkIAAECAwECAAEFBAEBAgIGDgJ/AUHgiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUABApIYXNoX0ZpbmFsAAUNSGFzaF9HZXRTdGF0ZQAGDkhhc2hfQ2FsY3VsYXRlAAcKU1RBVEVfU0laRQMBCpoqCAUAQYAJC68iCgF+An8BfgF/AX4DfwF+AX8Bfkd/QQAgACkDECIBQiCIpyICQRh0IAJBgP4DcUEIdHIgAUIoiKdBgP4DcSABQjiIp3JyIgMgACkDCCIEQiCIpyICQRh0IAJBgP4DcUEIdHIgBEIoiKdBgP4DcSAEQjiIp3JyIgVzIAApAygiBkIgiKciAkEYdCACQYD+A3FBCHRyIAZCKIinQYD+A3EgBkI4iKdyciIHcyAEpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciIIIAApAwAiBKciAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCXMgACkDICIKpyICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciILcyAAKQMwIgxCIIinIgJBGHQgAkGA/gNxQQh0ciAMQiiIp0GA/gNxIAxCOIincnIiAnNBAXciDXNBAXciDiAFIARCIIinIg9BGHQgD0GA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiEHMgCkIgiKciD0EYdCAPQYD+A3FBCHRyIApCKIinQYD+A3EgCkI4iKdyciIRcyAAKQM4IgSnIg9BGHQgD0GA/gNxQQh0ciAPQQh2QYD+A3EgD0EYdnJyIg9zQQF3IhJzIAcgEXMgEnMgCyAAKQMYIgqnIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyIhNzIA9zIA5zQQF3IgBzQQF3IhRzIA0gD3MgAHMgAiAHcyAOcyAGpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIWIAtzIA1zIApCIIinIhVBGHQgFUGA/gNxQQh0ciAKQiiIp0GA/gNxIApCOIincnIiFyADcyACcyABpyIVQRh0IBVBgP4DcUEIdHIgFUEIdkGA/gNxIBVBGHZyciIYIAhzIBZzIARCIIinIhVBGHQgFUGA/gNxQQh0ciAEQiiIp0GA/gNxIARCOIincnIiFXNBAXciGXNBAXciGnNBAXciG3NBAXciHHNBAXciHXNBAXciHiASIBVzIBEgF3MgFXMgEyAYcyAMpyIfQRh0IB9BgP4DcUEIdHIgH0EIdkGA/gNxIB9BGHZyciIgcyASc0EBdyIfc0EBdyIhcyAPICBzIB9zIBRzQQF3IiJzQQF3IiNzIBQgIXMgI3MgACAfcyAicyAec0EBdyIkc0EBdyIlcyAdICJzICRzIBwgFHMgHnMgGyAAcyAdcyAaIA5zIBxzIBkgDXMgG3MgFSACcyAacyAgIBZzIBlzICFzQQF3IiZzQQF3IidzQQF3IihzQQF3IilzQQF3IipzQQF3IitzQQF3IixzQQF3Ii0gIyAncyAhIBpzICdzIB8gGXMgJnMgI3NBAXciLnNBAXciL3MgIiAmcyAucyAlc0EBdyIwc0EBdyIxcyAlIC9zIDFzICQgLnMgMHMgLXNBAXciMnNBAXciM3MgLCAwcyAycyArICVzIC1zICogJHMgLHMgKSAecyArcyAoIB1zICpzICcgHHMgKXMgJiAbcyAocyAvc0EBdyI0c0EBdyI1c0EBdyI2c0EBdyI3c0EBdyI4c0EBdyI5c0EBdyI6c0EBdyI7IDEgNXMgLyApcyA1cyAuIChzIDRzIDFzQQF3IjxzQQF3Ij1zIDAgNHMgPHMgM3NBAXciPnNBAXciP3MgMyA9cyA/cyAyIDxzID5zIDtzQQF3IkBzQQF3IkFzIDogPnMgQHMgOSAzcyA7cyA4IDJzIDpzIDcgLXMgOXMgNiAscyA4cyA1ICtzIDdzIDQgKnMgNnMgPXNBAXciQnNBAXciQ3NBAXciRHNBAXciRXNBAXciRnNBAXciR3NBAXciSHNBAXciSSA+IEJzIDwgNnMgQnMgP3NBAXciSnMgQXNBAXciSyA9IDdzIENzIEpzQQF3IkwgRCA5IDIgMSA0ICkgHSAUIB8gFSAWQQAoAoCJASJNQQV3QQAoApCJASJOaiAJakEAKAKMiQEiT0EAKAKIiQEiCXNBACgChIkBIlBxIE9zakGZ84nUBWoiUUEedyJSIANqIFBBHnciAyAFaiBPIAMgCXMgTXEgCXNqIBBqIFFBBXdqQZnzidQFaiIQIFIgTUEedyIFc3EgBXNqIAkgCGogUSADIAVzcSADc2ogEEEFd2pBmfOJ1AVqIlFBBXdqQZnzidQFaiJTIFFBHnciAyAQQR53IghzcSAIc2ogBSAYaiBRIAggUnNxIFJzaiBTQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhhBHnciUmogU0EedyIWIAtqIAggE2ogBSAWIANzcSADc2ogGEEFd2pBmfOJ1AVqIgggUiAFQR53IgtzcSALc2ogAyAXaiAYIAsgFnNxIBZzaiAIQQV3akGZ84nUBWoiBUEFd2pBmfOJ1AVqIhMgBUEedyIWIAhBHnciA3NxIANzaiALIBFqIAUgAyBSc3EgUnNqIBNBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiUkEedyILaiACIBNBHnciFWogByADaiARIBUgFnNxIBZzaiBSQQV3akGZ84nUBWoiByALIBFBHnciAnNxIAJzaiAgIBZqIFIgAiAVc3EgFXNqIAdBBXdqQZnzidQFaiIRQQV3akGZ84nUBWoiFiARQR53IhUgB0EedyIHc3EgB3NqIA8gAmogESAHIAtzcSALc2ogFkEFd2pBmfOJ1AVqIgtBBXdqQZnzidQFaiIRQR53IgJqIBIgFWogESALQR53Ig8gFkEedyISc3EgEnNqIA0gB2ogCyASIBVzcSAVc2ogEUEFd2pBmfOJ1AVqIg1BBXdqQZnzidQFaiIVQR53Ih8gDUEedyIHcyAZIBJqIA0gAiAPc3EgD3NqIBVBBXdqQZnzidQFaiINc2ogDiAPaiAVIAcgAnNxIAJzaiANQQV3akGZ84nUBWoiAkEFd2pBodfn9gZqIg5BHnciD2ogACAfaiACQR53IgAgDUEedyINcyAOc2ogGiAHaiANIB9zIAJzaiAOQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg5BHnciEiACQR53IhRzICEgDWogDyAAcyACc2ogDkEFd2pBodfn9gZqIgJzaiAbIABqIBQgD3MgDnNqIAJBBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyIOaiAcIBJqIABBHnciDyACQR53IgJzIA1zaiAmIBRqIAIgEnMgAHNqIA1BBXdqQaHX5/YGaiIAQQV3akGh1+f2BmoiDUEedyISIABBHnciFHMgIiACaiAOIA9zIABzaiANQQV3akGh1+f2BmoiAHNqICcgD2ogFCAOcyANc2ogAEEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53Ig5qICggEmogAkEedyIPIABBHnciAHMgDXNqICMgFGogACAScyACc2ogDUEFd2pBodfn9gZqIgJBBXdqQaHX5/YGaiINQR53IhIgAkEedyIUcyAeIABqIA4gD3MgAnNqIA1BBXdqQaHX5/YGaiIAc2ogLiAPaiAUIA5zIA1zaiAAQQV3akGh1+f2BmoiAkEFd2pBodfn9gZqIg1BHnciDmogKiAAQR53IgBqIA4gAkEedyIPcyAkIBRqIAAgEnMgAnNqIA1BBXdqQaHX5/YGaiIUc2ogLyASaiAPIABzIA1zaiAUQQV3akGh1+f2BmoiDUEFd2pBodfn9gZqIgAgDUEedyICciAUQR53IhJxIAAgAnFyaiAlIA9qIBIgDnMgDXNqIABBBXdqQaHX5/YGaiINQQV3akHc+e74eGoiDkEedyIPaiA1IABBHnciAGogKyASaiANIAByIAJxIA0gAHFyaiAOQQV3akHc+e74eGoiEiAPciANQR53Ig1xIBIgD3FyaiAwIAJqIA4gDXIgAHEgDiANcXJqIBJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAiAAQR53Ig5yIBJBHnciEnEgAiAOcXJqICwgDWogACASciAPcSAAIBJxcmogAkEFd2pB3Pnu+HhqIgBBBXdqQdz57vh4aiINQR53Ig9qIDwgAkEedyICaiA2IBJqIAAgAnIgDnEgACACcXJqIA1BBXdqQdz57vh4aiISIA9yIABBHnciAHEgEiAPcXJqIC0gDmogDSAAciACcSANIABxcmogEkEFd2pB3Pnu+HhqIgJBBXdqQdz57vh4aiINIAJBHnciDnIgEkEedyIScSANIA5xcmogNyAAaiACIBJyIA9xIAIgEnFyaiANQQV3akHc+e74eGoiAEEFd2pB3Pnu+HhqIgJBHnciD2ogMyANQR53Ig1qID0gEmogACANciAOcSAAIA1xcmogAkEFd2pB3Pnu+HhqIhIgD3IgAEEedyIAcSASIA9xcmogOCAOaiACIAByIA1xIAIgAHFyaiASQQV3akHc+e74eGoiAkEFd2pB3Pnu+HhqIg0gAkEedyIOciASQR53IhJxIA0gDnFyaiBCIABqIAIgEnIgD3EgAiAScXJqIA1BBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyIPaiBDIA5qIAIgAEEedyIUciANQR53Ig1xIAIgFHFyaiA+IBJqIAAgDXIgDnEgACANcXJqIAJBBXdqQdz57vh4aiIAQQV3akHc+e74eGoiAkEedyISIABBHnciDnMgOiANaiAAIA9yIBRxIAAgD3FyaiACQQV3akHc+e74eGoiAHNqID8gFGogAiAOciAPcSACIA5xcmogAEEFd2pB3Pnu+HhqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEogEmogAkEedyIUIABBHnciAHMgDXNqIDsgDmogACAScyACc2ogDUEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig4gAkEedyIScyBFIABqIA8gFHMgAnNqIA1BBXdqQdaDi9N8aiIAc2ogQCAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciD2ogQSAOaiACQR53IhQgAEEedyIAcyANc2ogRiASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzIEIgOHMgRHMgTHNBAXciFSAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEcgFGogEiAPcyANc2ogAEEFd2pB1oOL03xqIgJBBXdqQdaDi9N8aiINQR53Ig9qIEggDmogAkEedyIUIABBHnciAHMgDXNqIEMgOXMgRXMgFXNBAXciGSASaiAAIA5zIAJzaiANQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDiACQR53IhJzID8gQ3MgTHMgS3NBAXciGiAAaiAPIBRzIAJzaiANQQV3akHWg4vTfGoiAHNqIEQgOnMgRnMgGXNBAXciGyAUaiASIA9zIA1zaiAAQQV3akHWg4vTfGoiAkEFd2pB1oOL03xqIg1BHnciDyBOajYCkIkBQQAgTyBKIERzIBVzIBpzQQF3IhQgEmogAEEedyIAIA5zIAJzaiANQQV3akHWg4vTfGoiEkEedyIVajYCjIkBQQAgCSBFIDtzIEdzIBtzQQF3IA5qIAJBHnciAiAAcyANc2ogEkEFd2pB1oOL03xqIg1BHndqNgKIiQFBACBQIEAgSnMgS3MgSXNBAXcgAGogDyACcyASc2ogDUEFd2pB1oOL03xqIgBqNgKEiQFBACBNIEwgRXMgGXMgFHNBAXdqIAJqIBUgD3MgDXNqIABBBXdqQdaDi9N8ajYCgIkBCzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqAMBCH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQBBACgCmIkBIAQgA0lqIAFBHXZqNgKYiQECQCADQQN2QT9xIgUgAWpBwABJDQBBwAAgBWsiAkEDcSEGQQAhAwJAIAVBP3NBA0kNACAFQYCJAWohByACQfwAcSEIQQAhAwNAIAcgA2oiBEEcaiAAIANqIgktAAA6AAAgBEEdaiAJQQFqLQAAOgAAIARBHmogCUECai0AADoAACAEQR9qIAlBA2otAAA6AAAgCCADQQRqIgNHDQALCwJAIAZFDQAgACADaiEEIAMgBWpBnIkBaiEDA0AgAyAELQAAOgAAIARBAWohBCADQQFqIQMgBkF/aiIGDQALC0GciQEQASAFQf8AcyEDQQAhBSADIAFPDQADQCAAIAJqEAEgAkH/AGohAyACQcAAaiIEIQIgAyABSQ0ACyAEIQILAkAgASACRg0AIAEgAmshCSAAIAJqIQIgBUGciQFqIQNBACEEA0AgAyACLQAAOgAAIAJBAWohAiADQQFqIQMgCSAEQQFqIgRB/wFxSw0ACwsLCQBBgAkgABADC6YDAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAggAEEAKAKUiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AAwgAEEHakEBEAMCQEEAKAKUiQFB+ANxQcADRg0AA0AgAEEAOgAHIABBB2pBARADQQAoApSJAUH4A3FBwANHDQALCyAAQQhqQQgQA0EAQQAoAoCJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AoQJQQBBACgCiIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKICUEAQQAoAoyJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2ApAJIABBEGokAAsGAEGAiQELQwBBAEL+uevF6Y6VmRA3AoiJAUEAQoHGlLqW8ermbzcCgIkBQQBC8MPLngw3ApCJAUEAQQA2ApiJAUGACSAAEAMQBQsLCwEAQYAICwRcAAAA",UX="6b530c24",jX={name:PX,data:FX,hash:UX};const $X=new sr;let Ep=null;function ib(t){if(Ep===null)return RX($X,jX,20).then(e=>(Ep=e,Ep.calculate(t)));try{const e=Ep.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr;const ob=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=new Image;i.src=n.result,i.onload=async()=>{e({id:await ib(i.src),width:i.width,height:i.height,thumbnailUrl:i.src,originalUrl:i.src})},i.onerror=()=>r},n.onerror=()=>{r(n.error)},n.readAsDataURL(t)}),zX=t=>new Promise((e,r)=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}const o=document.createElement("video");o.src=URL.createObjectURL(t),o.autoplay=!0,o.onloadedmetadata=()=>{n.width=o.videoWidth,n.height=o.videoHeight},o.onloadeddata=()=>{i.drawImage(o,0,0,n.width,n.height),n.toBlob(async s=>{if(!s){r(new Error("Could not create blob"));return}const a=new File([s],"snapshot.jpg",{type:"image/jpeg"}),l=new FileReader;l.readAsDataURL(s),l.onloadend=async()=>{e({id:await ib(o.src),width:n.width,height:n.height,duration:o.duration,thumbnailUrl:l.result,originalUrl:"",thumbnailFile:{id:await ib(n.toDataURL()),file:a}})}},"image/jpeg")},o.onerror=()=>r}),kp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSElEQVR4nO1azW9bRRBfia8jggKlfPSAACFF4f8AKkQ/0lYFxAFw6lnHeMYNCRdmbJqkEtAol6KKK4iqd+DAAYFEKyq+BEJUcKINLVAqoCQF0jageXYav33P4a3f87Mj/JNWSuzd2R3v7MxvdtaYAQYYYIAB/qew43wHVOVJIJkFlPct8Ukg+dWS/KMNSH4HlG+A5D2LfLBEsqtQ2b/JrCdYO73BEpNF/sQSL68ol7QByhWL8pElea4wceBG068Yxf13WuRDFuVPXyXXaH9YkrlyeWqj6Rcw8/UWWYD4YoaKhhvyBSCeLBQOX9dTZS3Wh4H4y/aL5ctAfMyiTBWrvA0q9aHi5MxNunBt+nfwWZW3aR8gOR6YdHvFT1ji+3uibIlkFyAvtFnYKYsyoWbuK3fseb5LdxNQTrc3c95i8gQgl+McEhD/bKtcUDPP5KhUeK9FORdnOfqdyQMWuRLrXUneROSbM5/PTm8AkrdilF4uoTxtugmo8o7oGeMlS/xM961KRhtzhXe6RPxYNx3UReeXXixVaw+ZnADID+ucjr/4rTxevy/TicbG5m6IemNeylPZFRSrtUfcnQbkz5j52swmAZJazBnquhm3Q+DMogytmonwcpk3R0wZ+Q3TYwDyETdcwT6+PQPB8roberrhjX1RIL4FiH9xdvnlVEL3Vvm2CDeucsH0CYrI4JzlBWVvHQu0KBMug8qCVGTqTB1GBiTFjgVaks/DCstE4rFY2wrEP1rieYu17Qn6b7fEZ7SpJ046j9JQR+HjphMUK3yPG+R9uLFF+SlEBZH3tO/Le4I+q2fxh8TrpJfuDpMhXh4bm7o16firsBV5ynFWx4wHwgpfVXp3tB/vblW22XfeZy4g+bh1fIlqIz7jAwDKYcecp4wHdFJXEUC5pFlWOOOSS9Ef5r+PQCssyozjaw76jA9gUT4IC6ltNZ6ACu+MUwhIHm/y8sh3JeQnvOep8g4nJr/tK8MAyfeh3anUh7yFNE3WVUz/j/sszuSTzVEfdsLTtx0IkVD8TUM24k23val3QkKc43fOW4h1Evy08bdhdm56t2riaeOx42D/8hIwMnL0GndhqRWOPc9N867wzp4qrHDvq9KZdG1kLZPu1Flla9LIp9ar07Ik33kLAeIPexGWtDSTNiwB8jud7Mwh51xM+40PuHEuxAOID4TXKrM+4wPojWAaUm5Rzqaglmf85tIL+tbj14ETLJd5s7M7V/SSPPEigsyns+TBR+HgRsZJHjSPTzo+BIvylWPWkyYhtDqwku75poc+lQWL8kIaSwwBUMadXT7dbxcAQb7dska9BelYYLk8tRFQ/g6dr7xKHAkAyCXHOy9opSKdUJLXHJM5r4He9EPhPVJ34ldSCy6r83ISCa31mB4DiI+GeQJfyOSaVmGRX4zhwKOmR7AktmsX8S23g1875rOktR6TM9SDR2gpyaeZvw6ASn0opgC+mKfSjVAXLqY1XgLxvV2ZsNSggtFyaQ6eW804loYSP5prKLCrIeFIN7y3XrlGHFSTUQHKsyavJw8Q8/hEaz0a+PXMZ+M3uKRhMEbZy7kpu4JGetfmUQvxvNJQvSQ3ntAxDboYZlCtZ7brZtwOJeIHgPiLeKUbCUdwSY4yE+SsWB/WmxOlp9r07+I+fjD48TTFQz6x1rMl9cZdc1BJoeFAnwlq4G+30Azaoj5+6yceb4KnhyRzkTcYKZoeGUB5NTMG1bVCtTo1p96TvPGypngahvqh8O6dbQWxm2TWkrzbfD58XjOwoAUemE/qd9pH+3acvA8wwAADDGDWP/4FAPVu0JK6ZhcAAAAASUVORK5CYII=",VX={key:0,class:"mb-3 flex gap-2 rounded-lg bg-gray-200 p-2 dark:bg-zinc-600"},HX={class:"flex flex-col gap-1"},qX={class:"text-sm font-bold text-gray-600"},WX={class:"multiline-ellipsis text-xs text-gray-500 dark:text-gray-300"},GX={class:"ml-auto flex flex-shrink-0 gap-2"},QX={key:0},YX={key:1},KX={src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"h-[2.8rem] w-[2.8rem] border-0 object-contain"},XX={key:2,class:"h-10 w-10 rounded object-cover"},ZX=pr(c.defineComponent({__name:"ReplyMessagePreview",setup(t){const e=Bt(),r=c.computed(()=>{var f;const{replyId:d}=e.state.imkit;return(f=e.state.imkit.messageMultiList.main)==null?void 0:f.map.get(d)}),n=c.computed(()=>{const d=r.value;if(d)return e.state.imkit.users[d.senderId]}),i=c.computed(()=>{if(r.value.type===Xe.Text)return r.value.text;if(r.value.type===Xe.Image||r.value.type===Xe.Sticker||r.value.type===Xe.Video){const{t:d}=Ai();return{[Xe.Image]:d("image"),[Xe.Video]:d("video"),[Xe.Sticker]:d("sticker")}[r.value.type]}return""}),o=c.computed(()=>{if(r.value.type===Xe.Image)return r.value.images[0]}),s=c.computed(()=>r.value),a=c.computed(()=>r.value),l=()=>{e.commit("imkit/setState",{replyId:""})};return(d,f)=>{var h,p,m;const u=c.resolveDirective("src");return r.value?(c.openBlock(),c.createElementBlock("div",VX,[c.createVNode(qr,{class:"row-span-2 h-6 w-6 flex-shrink-0 rounded-lg bg-gray-300 text-sm",url:((h=n.value)==null?void 0:h.avatarUrl)??"",name:((p=n.value)==null?void 0:p.nickname)??""},null,8,["url","name"]),c.createElementVNode("div",HX,[c.createElementVNode("div",qX,c.toDisplayString((m=n.value)==null?void 0:m.nickname),1),c.createElementVNode("div",WX,c.toDisplayString(i.value),1)]),c.createElementVNode("div",GX,[r.value.type===c.unref(Xe).Sticker?(c.openBlock(),c.createElementBlock("div",QX,[c.createVNode(E_,{class:c.normalizeClass({"h-[2.8rem] w-[2.8rem]":!0}),message:s.value},null,8,["message"])])):c.createCommentVNode("",!0),r.value.type===c.unref(Xe).Video?(c.openBlock(),c.createElementBlock("div",YX,[c.withDirectives(c.createElementVNode("img",KX,null,512),[[u,a.value.video.thumbnailUrl]])])):c.createCommentVNode("",!0),o.value?c.withDirectives((c.openBlock(),c.createElementBlock("img",XX,null,512)),[[u,o.value.thumbnailUrl]]):c.createCommentVNode("",!0),c.createElementVNode("img",{src:kp,class:"h-5 w-5 cursor-pointer text-gray-400",onClick:l})])])):c.createCommentVNode("",!0)}}}),[["__scopeId","data-v-5db3707c"]]),JX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXElEQVR4nO2Zv2sUQRTHH4qKhYWFiljYSqLVFbl9M3aiQbAzWFgGrA0Wlrvz7oKKRLAMWomN9w8o2AdLG7EJgj8awUKy995GRFcWklxiSLxzf8zMMh/49vtlZt/37XcBAoFAIBAIBAL7oyidVsRGGXnUpfQCtBF8kB9TSTaviFcUSb4lwxLF6XloC2gkQuKnSJzuMLpNSPwQfEYvrp1A4gUkfreXyb9OOQHviPMDupddQuJnxTUdy+iW0mnwhW6fz2iSu2j4w2QmN8Ur4DpTcX5YGb6GJAMk/vl/RjeUZPPgKlG8fg4N31ckX0uZHA2rtJje4BLdpfyoNjKHhl8rw7+rMDoaVvIEXEETd5BkWRleq9TkdvW5a9fkve/HNfEtNPK2NpOjYfXewziRMu/vgmdxImVO90exnPgVJ1TmdGXgVZyokorM8EotRjGRG7u+TiwLiT8Wc6N6szS8attcox8KiuSOdXO7xL+inpytxfDF/vC0Mrxq3+QOvYK6p7LeXAvtm82LZ4GmV0UkzqwYNvJt9nF+BJpmZjE9VSwciuRzw+/vEthkqvHr7lCroWu/7o62GjN1XXeXW42qr7uTrcZ+IMmb1rQa44CJ3PS61ZiUznJ+SBn54lerUZJi4fei1aiKKE5PouF1J1uNulDEzyc6XcMvwGc0cWciw73sMvgOjhlRaPjT3CA/CL6DY0YUksTQBjpjRVSNrYaLEYVGXkKbiP4RURHxdWgbaq+IstVq2Isoy61G8xHlUKtRf0Q52mpU/GNu1UoFa4uNsv+27g1nrT1EIBAIBAJghT+Mm9s2KhDbfwAAAABJRU5ErkJggg==",Wk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR4nO1Zu24TQRRdAaGg5FHx+AsQfIgFgj5NZOeeSQGi2Y7QWiQKiCaW0iFCAaHhD1JEAoUPIKQiMRKR7Jld4wy66weOsbUzuzO7RvKRrmTJo/U5O/feOXMdBHPMMUdu6ErlfHt5+Z4ieiqBt5LoqyT6KYE4id7nff6O17SAuzoMzwVloy3ETUn0XBEdKkBbxncJrLaq1RuFEz+pVq8p4JUkijIQPxOy94yNEyGuFkI+Ah5KomZe4hPiOAIeeCOuFxcXFPDaA3F9Johe8m+5Jn9JAh+9k8cwrXb4N12RXyiSvPobn3QYXswtoJC0wdTYyEW+TfSoRPKaIxLifibyv5aWriiio7IFSKJmphbLfb5s8moQROtW5Pl0tDqkhNBxvW5MKFkrhM0uRO1a7ZaxgMQeWJD/vburdberO1tb6eQ3N5O13b09rVZWzEUAq0bk2WSxT7EiP0CKiAH54fI9CxFEh2waUwUkrtIiFUYJDUTEjca/axuNyWvrFqkH3EkVwHbXpsDG3+qknZi2JjZIubFdeGKS/9tWD00R4Yw8kjp4ky4A2Ld98FQRp6e9cEBe9brRF5MdyGyVJ4pwRF71UujIRECuS0oiYvyt93cjF3kkKaRKFdApSEDTZwp1vKcQ/Bdxx3MRbzsh3y9Yk3NCuWyjrg6y0YJ1KOJxqgAeOs2slajVbpuZOaKDrGYu9mXmgG/G0zy2rlnsdOzTThM9MyI/kxcaQLWA64ENeCJgWWD+guhFYAsNXJ6FS70CjjPPTXlWWbaASIhKkAc8qyxRwFqQF3wPlcC7oslL4IMOwwu5BQyHu0Q7hZEneu9suDs2Xi+iM605e/OTwLNKT93pR+6CtZybrvMB4yDXFfd5bttB0eDTMbEdpt5pNIgO2B5Yn7A+wCaLh048t2HPzhcPvtmxHelHUwKf+Tu2xOwqZ+Jv1jnmCP5//AFGuxmMzLZJIgAAAABJRU5ErkJggg==";function ud(t,e,r){var n=r||{},i=n.noTrailing,o=i===void 0?!1:i,s=n.noLeading,a=s===void 0?!1:s,l=n.debounceMode,d=l===void 0?void 0:l,f,u=!1,h=0;function p(){f&&clearTimeout(f)}function m(b){var v=b||{},E=v.upcomingOnly,A=E===void 0?!1:E;p(),u=!A}function y(){for(var b=arguments.length,v=new Array(b),E=0;E<b;E++)v[E]=arguments[E];var A=this,k=Date.now()-h;if(u)return;function C(){h=Date.now(),e.apply(A,v)}function T(){f=void 0}!a&&d&&!f&&C(),p(),d===void 0&&k>t?a?(h=Date.now(),o||(f=setTimeout(d?T:C,t))):C():o!==!0&&(f=setTimeout(d?T:C,d===void 0?t-k:t))}return y.cancel=m,y}function sb(t,e,r){var n=r||{},i=n.atBegin,o=i===void 0?!1:i;return ud(t,e,{debounceMode:o!==!1})}const Gk=t=>(c.pushScopeId("data-v-c9c51bc0"),t=t(),c.popScopeId(),t),eZ={class:"relative flex justify-center"},tZ={key:0,class:"absolute bottom-2 flex items-center gap-1 rounded-full bg-white bg-opacity-85 p-2 text-xs shadow-lg transition duration-150 ease-in-out dark:bg-zinc-800"},rZ=Gk(()=>c.createElementVNode("img",{class:"h-4 w-4",src:Wk},null,-1)),nZ=["disabled"],iZ={key:0,class:"h-10.5 flex w-full items-center justify-center"},oZ=[Gk(()=>c.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-300 text-gray-200",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],sZ={class:"text-base font-semibold"},aZ={class:"text-xs"},lZ=pr(c.defineComponent({__name:"LocationModal",setup(t){class e{constructor(k,C,T=null){Fe(this,"lat");Fe(this,"lng");Fe(this,"address");this.lat=k,this.lng=C,this.address=T}get isValid(){return this.address!==null}}const r=rn(),{t:n}=Ai(),i=Bt(),o=i.state.imkit.config.mapApiKey,s=c.ref(),a=c.ref(new e(21.30895,-157.826182)),l=c.ref({lat:a.value.lat,lng:a.value.lng}),d=c.computed(()=>({position:{lat:a.value.lat,lng:a.value.lng}})),f=c.ref(""),u=c.ref(!1),h=c.ref(10),p=c.ref(!1),m=c.ref(""),y=()=>new Promise((A,k)=>{u.value=!0,navigator.geolocation.getCurrentPosition(C=>{let{latitude:T,longitude:O}=C.coords;m.value="",u.value=!1,A({lat:T,lng:O})},C=>{switch(u.value=!1,C.code){case C.PERMISSION_DENIED:m.value=n("noAccessLocationPermission");break;case C.POSITION_UNAVAILABLE:m.value=n("locationInfoUnavailable");break;case C.TIMEOUT:m.value=n("requestLocationTimeout");break}k(C)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),b=async(A,k)=>{try{const{data:C}=await Kt.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${A},${k}&key=${o}`);if(C.error_message)throw new Error(C.error_message);return C.results[0].formatted_address}catch(C){throw m.value=n("addressUnavailable"),C}},v=ud(700,async A=>{var k,C;try{if(A===0){const D=(k=s.value)==null?void 0:k.map.getCenter();if(D){const{lat:S,lng:R}=D;a.value=new e(S(),R())}}else if(A===1){const{lat:D,lng:S}=await y();a.value=new e(D,S),h.value=17,(C=s.value)==null||C.map.panTo({lat:D,lng:S})}let{lat:T,lng:O}=a.value;O=((O+180)%360+360)%360-180,T=Math.max(Math.min(T,90),-90),f.value=await b(T,O),a.value=new e(T,O,f.value)}catch(T){console.error(T)}},{noLeading:!1,noTrailing:!1}),E=async()=>{p.value=!0;const A={roomId:i.state.imkit.selectedRoomId,messageType:"location",message:f.value,latitude:d.value.position.lat,longitude:d.value.position.lng};r.closeAll(),await i.dispatch("imkit/sendMessage",A),p.value=!1};return v(1),(A,k)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"flex flex-col bg-white dark:bg-zinc-800 rounded-lg overflow-hidden sm:w-[450px] w-[350px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",eZ,[c.createVNode(c.unref(pE),{ref_key:"mapRef",ref:s,"api-key":c.unref(o),center:l.value,zoom:h.value,disableDefaultUi:!0,onCenter_changed:k[0]||(k[0]=C=>c.unref(v)(0)),class:"h-[250px] w-[350px] sm:h-[350px] sm:w-[450px]"},{default:c.withCtx(()=>[c.createVNode(c.unref(yE),{options:d.value},null,8,["options"])]),_:1},8,["api-key","center","zoom"]),c.createElementVNode("button",{class:"absolute right-2 top-2 flex items-center justify-center rounded-full shadow-lg",onClick:k[1]||(k[1]=C=>c.unref(r).closeAll())},[c.createVNode(za,{class:"h-9 w-9"})]),c.createElementVNode("button",{class:"absolute bottom-2 right-2 flex h-9 w-9 items-center justify-center rounded-full bg-white shadow-lg dark:bg-zinc-800",onClick:k[2]||(k[2]=C=>c.unref(v)(1))},[c.createElementVNode("img",{class:c.normalizeClass(["h-5 w-5",{"animate-pulse":u.value}]),src:JX},null,2)]),c.createVNode(c.Transition,null,{default:c.withCtx(()=>[m.value?(c.openBlock(),c.createElementBlock("div",tZ,[rZ,c.createTextVNode(" "+c.toDisplayString(m.value),1)])):c.createCommentVNode("",!0)]),_:1})]),c.createElementVNode("button",{class:"disabled:( cursor-not-allowed) m-2 flex flex-col items-center gap-0.5 rounded-lg bg-blue-400 p-2 text-white",disabled:u.value||p.value||!a.value.isValid,onClick:E},[p.value?(c.openBlock(),c.createElementBlock("div",iZ,oZ)):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[c.createElementVNode("div",sZ,c.toDisplayString(A.$t("sendCurrentLocation")),1),c.createElementVNode("div",aZ,c.toDisplayString(f.value),1)],64))],8,nZ)]),_:1}))}}),[["__scopeId","data-v-c9c51bc0"]]),Qk="1.75.1",cZ=c.defineComponent({__name:"VersionModal",setup(t){const e=rn(),r=()=>{e.closeAll()};return(n,i)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createTextVNode(" IMKIT version: "+c.toDisplayString(c.unref(Qk))+" ",1),c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg bg-blue-400 text-base text-white",onClick:r},c.toDisplayString(n.$t("confirm")),1)]),_:1}))}});var Yk={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(L,I){if(!L)throw"First parameter is required.";I=I||{type:"video"},I=new r(L,I);var V=this;function K(ae){return I.disableLogs||console.log("RecordRTC version: ",V.version),ae&&(I=new r(L,ae)),I.disableLogs||console.log("started recording "+I.type+" stream."),de?(de.clearRecordedData(),de.record(),ve("recording"),V.recordingDuration&&fe(),V):(Y(function(){V.recordingDuration&&fe()}),V)}function Y(ae){ae&&(I.initCallback=function(){ae(),ae=I.initCallback=null});var Te=new n(L,I);de=new Te(L,I),de.record(),ve("recording"),I.disableLogs||console.log("Initialized recorderType:",de.constructor.name,"for output-type:",I.type)}function Q(ae){if(ae=ae||function(){},!de){Me();return}if(V.state==="paused"){V.resumeRecording(),setTimeout(function(){Q(ae)},1);return}V.state!=="recording"&&!I.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',V.state),I.disableLogs||console.log("Stopped recording "+I.type+" stream."),I.type!=="gif"?de.stop(Te):(de.stop(),Te()),ve("stopped");function Te(De){if(!de){typeof ae.call=="function"?ae.call(V,""):ae("");return}Object.keys(de).forEach(function(oe){typeof de[oe]!="function"&&(V[oe]=de[oe])});var U=de.blob;if(!U)if(De)de.blob=U=De;else throw"Recording failed.";if(U&&!I.disableLogs&&console.log(U.type,"->",v(U.size)),ae){var q;try{q=f.createObjectURL(U)}catch{}typeof ae.call=="function"?ae.call(V,q):ae(q)}I.autoWriteToDisk&&he(function(oe){var we={};we[I.type+"Blob"]=oe,$.Store(we)})}}function le(){if(!de){Me();return}if(V.state!=="recording"){I.disableLogs||console.warn("Unable to pause the recording. Recording state: ",V.state);return}ve("paused"),de.pause(),I.disableLogs||console.log("Paused recording.")}function ie(){if(!de){Me();return}if(V.state!=="paused"){I.disableLogs||console.warn("Unable to resume the recording. Recording state: ",V.state);return}ve("recording"),de.resume(),I.disableLogs||console.log("Resumed recording.")}function me(ae){postMessage(new FileReaderSync().readAsDataURL(ae))}function he(ae,Te){if(!ae)throw"Pass a callback function over getDataURL.";var De=Te?Te.blob:(de||{}).blob;if(!De){I.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){he(ae,Te)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var U=oe(me);U.onmessage=function(we){ae(we.data)},U.postMessage(De)}else{var q=new FileReader;q.readAsDataURL(De),q.onload=function(we){ae(we.target.result)}}function oe(we){try{var Oe=f.createObjectURL(new Blob([we.toString(),"this.onmessage =  function (eee) {"+we.name+"(eee.data);}"],{type:"application/javascript"})),Pe=new Worker(Oe);return f.revokeObjectURL(Oe),Pe}catch{}}}function fe(ae){if(ae=ae||0,V.state==="paused"){setTimeout(function(){fe(ae)},1e3);return}if(V.state!=="stopped"){if(ae>=V.recordingDuration){Q(V.onRecordingStopped);return}ae+=1e3,setTimeout(function(){fe(ae)},1e3)}}function ve(ae){V&&(V.state=ae,typeof V.onStateChanged.call=="function"?V.onStateChanged.call(V,ae):V.onStateChanged(ae))}var Se='It seems that recorder is destroyed or "startRecording" is not invoked for '+I.type+" recorder.";function Me(){I.disableLogs!==!0&&console.warn(Se)}var de,pe={startRecording:K,stopRecording:Q,pauseRecording:le,resumeRecording:ie,initRecorder:Y,setRecordingDuration:function(ae,Te){if(typeof ae>"u")throw"recordingDuration is required.";if(typeof ae!="number")throw"recordingDuration must be a number.";return V.recordingDuration=ae,V.onRecordingStopped=Te||function(){},{onRecordingStopped:function(De){V.onRecordingStopped=De}}},clearRecordedData:function(){if(!de){Me();return}de.clearRecordedData(),I.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!de){Me();return}return de.blob},getDataURL:he,toURL:function(){if(!de){Me();return}return f.createObjectURL(de.blob)},getInternalRecorder:function(){return de},save:function(ae){if(!de){Me();return}E(de.blob,ae)},getFromDisk:function(ae){if(!de){Me();return}e.getFromDisk(I.type,ae)},setAdvertisementArray:function(ae){I.advertisement=[];for(var Te=ae.length,De=0;De<Te;De++)I.advertisement.push({duration:De,image:ae[De]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){V.state==="recording"&&!I.disableLogs&&console.warn("Stop an active recorder."),de&&typeof de.clearRecordedData=="function"&&de.clearRecordedData(),de=null,ve("inactive"),V.blob=null},onStateChanged:function(ae){I.disableLogs||console.log("Recorder state changed:",ae)},state:"inactive",getState:function(){return V.state},destroy:function(){var ae=I.disableLogs;I={disableLogs:!0},V.reset(),ve("destroyed"),pe=V=null,O.AudioContextConstructor&&(O.AudioContextConstructor.close(),O.AudioContextConstructor=null),I.disableLogs=ae,I.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return V=pe,pe;for(var ke in pe)this[ke]=pe[ke];return V=this,pe}e.version="5.6.2",t.exports=e,e.getFromDisk=function(L,I){if(!I)throw"callback is mandatory.";console.log("Getting recorded "+(L==="all"?"blobs":L+" blob ")+" from disk!"),$.Fetch(function(V,K){L!=="all"&&K===L+"Blob"&&I&&I(V),L==="all"&&I&&I(V,K.replace("Blob",""))})},e.writeToDisk=function(L){console.log("Writing recorded blob(s) to disk!"),L=L||{},L.audio&&L.video&&L.gif?L.audio.getDataURL(function(I){L.video.getDataURL(function(V){L.gif.getDataURL(function(K){$.Store({audioBlob:I,videoBlob:V,gifBlob:K})})})}):L.audio&&L.video?L.audio.getDataURL(function(I){L.video.getDataURL(function(V){$.Store({audioBlob:I,videoBlob:V})})}):L.audio&&L.gif?L.audio.getDataURL(function(I){L.gif.getDataURL(function(V){$.Store({audioBlob:I,gifBlob:V})})}):L.video&&L.gif?L.video.getDataURL(function(I){L.gif.getDataURL(function(V){$.Store({videoBlob:I,gifBlob:V})})}):L.audio?L.audio.getDataURL(function(I){$.Store({audioBlob:I})}):L.video?L.video.getDataURL(function(I){$.Store({videoBlob:I})}):L.gif&&L.gif.getDataURL(function(I){$.Store({gifBlob:I})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(L,I){return!I.recorderType&&!I.type&&(I.audio&&I.video?I.type="video":I.audio&&!I.video&&(I.type="audio")),I.recorderType&&!I.type&&(I.recorderType===F||I.recorderType===z||typeof H<"u"&&I.recorderType===H?I.type="video":I.recorderType===W?I.type="gif":I.recorderType===R?I.type="audio":I.recorderType===S&&(k(L,"audio").length&&k(L,"video").length||!k(L,"audio").length&&k(L,"video").length?I.type="video":k(L,"audio").length&&!k(L,"video").length&&(I.type="audio"))),typeof S<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(I.mimeType||(I.mimeType="video/webm"),I.type||(I.type=I.mimeType.split("/")[0]),I.bitsPerSecond),I.type||(I.mimeType&&(I.type=I.mimeType.split("/")[0]),I.type||(I.type="audio")),I}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(L,I){var V;return(m||u||h)&&(V=R),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!m&&(V=S),I.type==="video"&&(m||h)&&(V=F,typeof H<"u"&&typeof ReadableStream<"u"&&(V=H)),I.type==="gif"&&(V=W),I.type==="canvas"&&(V=z),D()&&V!==z&&V!==W&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(k(L,"video").length||k(L,"audio").length)&&(I.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(V=S):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(V=S)),L instanceof Array&&L.length&&(V=j),I.recorderType&&(V=I.recorderType),!I.disableLogs&&V&&V.name&&console.log("Using recorderType:",V.name||V.constructor.name),!V&&y&&(V=S),V}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(L){this.addStream=function(I){I&&(L=I)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var I=this.mediaType,V,K=this.mimeType||{audio:null,video:null,gif:null};if(typeof I.audio!="function"&&D()&&!k(L,"audio").length&&(I.audio=!1),typeof I.video!="function"&&D()&&!k(L,"video").length&&(I.video=!1),typeof I.gif!="function"&&D()&&!k(L,"video").length&&(I.gif=!1),!I.audio&&!I.video&&!I.gif)throw"MediaStream must have either audio or video tracks.";if(I.audio&&(V=null,typeof I.audio=="function"&&(V=I.audio),this.audioRecorder=new e(L,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:V,mimeType:K.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),I.video||this.audioRecorder.startRecording()),I.video){V=null,typeof I.video=="function"&&(V=I.video);var Y=L;if(D()&&I.audio&&typeof I.audio=="function"){var Q=k(L,"video")[0];p?(Y=new b,Y.addTrack(Q),V&&V===F&&(V=S)):(Y=new b,Y.addTrack(Q))}this.videoRecorder=new e(Y,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:V,mimeType:K.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),I.audio||this.videoRecorder.startRecording()}if(I.audio&&I.video){var le=this,ie=D()===!0;(I.audio instanceof R&&I.video||I.audio!==!0&&I.video!==!0&&I.audio!==I.video)&&(ie=!1),ie===!0?(le.audioRecorder=null,le.videoRecorder.startRecording()):le.videoRecorder.initRecorder(function(){le.audioRecorder.initRecorder(function(){le.videoRecorder.startRecording(),le.audioRecorder.startRecording()})})}I.gif&&(V=null,typeof I.gif=="function"&&(V=I.gif),this.gifRecorder=new e(L,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:V,mimeType:K.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(I){I=I||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(V){I(V,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(V){I(V,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(V){I(V,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(I){var V={};return this.audioRecorder&&(V.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(V.video=this.videoRecorder.getBlob()),this.gifRecorder&&(V.gif=this.gifRecorder.getBlob()),I&&I(V),V},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(I){this.getBlob(function(Y){Y.audio&&Y.video?V(Y.audio,function(Q){V(Y.video,function(le){I({audio:Q,video:le})})}):Y.audio?V(Y.audio,function(Q){I({audio:Q})}):Y.video&&V(Y.video,function(Q){I({video:Q})})});function V(Y,Q){if(typeof Worker<"u"){var le=K(function(he){postMessage(new FileReaderSync().readAsDataURL(he))});le.onmessage=function(me){Q(me.data)},le.postMessage(Y)}else{var ie=new FileReader;ie.readAsDataURL(Y),ie.onload=function(me){Q(me.target.result)}}}function K(Y){var Q=f.createObjectURL(new Blob([Y.toString(),"this.onmessage =  function (eee) {"+Y.name+"(eee.data);}"],{type:"application/javascript"})),le=new Worker(Q),ie;if(typeof f<"u")ie=f;else if(typeof webkitURL<"u")ie=webkitURL;else throw"Neither URL nor webkitURL detected.";return ie.revokeObjectURL(Q),le}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(I){I=I||{audio:!0,video:!0,gif:!0},I.audio&&this.audioRecorder&&this.audioRecorder.save(typeof I.audio=="string"?I.audio:""),I.video&&this.videoRecorder&&this.videoRecorder.save(typeof I.video=="string"?I.video:""),I.gif&&this.gifRecorder&&this.gifRecorder.save(typeof I.gif=="string"?I.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var o="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(L){L&&(typeof window<"u"||typeof yt>"u"||(yt.navigator={userAgent:o,getUserMedia:function(){}},yt.console||(yt.console={}),(typeof yt.console.log>"u"||typeof yt.console.error>"u")&&(yt.console.error=yt.console.log=yt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(L.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var I={getContext:function(){return I},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return I},L.HTMLVideoElement=function(){}),typeof location>"u"&&(L.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(L.screen={width:0,height:0}),typeof f>"u"&&(L.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),L.window=yt))})(typeof yt<"u"?yt:null);var s=window.requestAnimationFrame;if(typeof s>"u"){if(typeof webkitRequestAnimationFrame<"u")s=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")s=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")s=msRequestAnimationFrame;else if(typeof s>"u"){var a=0;s=function(L,I){var V=new Date().getTime(),K=Math.max(0,16-(V-a)),Y=setTimeout(function(){L(V+K)},K);return a=V+K,Y}}}var l=window.cancelAnimationFrame;typeof l>"u"&&(typeof webkitCancelAnimationFrame<"u"?l=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?l=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?l=msCancelAnimationFrame:typeof l>"u"&&(l=function(L){clearTimeout(L)}));var d=window.AudioContext;typeof d>"u"&&(typeof webkitAudioContext<"u"&&(d=webkitAudioContext),typeof mozAudioContext<"u"&&(d=mozAudioContext));var f=window.URL;typeof f>"u"&&typeof webkitURL<"u"&&(f=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var u=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),h=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!h&&!u&&!!navigator.webkitGetUserMedia||A()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(y=!1,m=!0);var b=window.MediaStream;typeof b>"u"&&typeof webkitMediaStream<"u"&&(b=webkitMediaStream),typeof b<"u"&&typeof b.prototype.stop>"u"&&(b.prototype.stop=function(){this.getTracks().forEach(function(L){L.stop()})});function v(L){var I=1e3,V=["Bytes","KB","MB","GB","TB"];if(L===0)return"0 Bytes";var K=parseInt(Math.floor(Math.log(L)/Math.log(I)),10);return(L/Math.pow(I,K)).toPrecision(3)+" "+V[K]}function E(L,I){if(!L)throw"Blob object is required.";if(!L.type)try{L.type="video/webm"}catch{}var V=(L.type||"video/webm").split("/")[1];if(V.indexOf(";")!==-1&&(V=V.split(";")[0]),I&&I.indexOf(".")!==-1){var K=I.split(".");I=K[0],V=K[1]}var Y=(I||Math.round(Math.random()*9999999999)+888888888)+"."+V;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(L,Y);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(L,Y);var Q=document.createElement("a");Q.href=f.createObjectURL(L),Q.download=Y,Q.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(Q),typeof Q.click=="function"?Q.click():(Q.target="_blank",Q.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(Q.href)}function A(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function k(L,I){return!L||!L.getTracks?[]:L.getTracks().filter(function(V){return V.kind===(I||"audio")})}function C(L,I){"srcObject"in I?I.srcObject=L:"mozSrcObject"in I?I.mozSrcObject=L:I.srcObject=L}function T(L,I){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var V=new EBML.Reader,K=new EBML.Decoder,Y=EBML.tools,Q=new FileReader;Q.onload=function(le){var ie=K.decode(this.result);ie.forEach(function(ve){V.read(ve)}),V.stop();var me=Y.makeMetadataSeekable(V.metadatas,V.duration,V.cues),he=this.result.slice(V.metadataSize),fe=new Blob([me,he],{type:"video/webm"});I(fe)},Q.readAsArrayBuffer(L)}typeof e<"u"&&(e.invokeSaveAsDialog=E,e.getTracks=k,e.getSeekableBlob=T,e.bytesToSize=v,e.isElectron=A);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var O={};typeof d<"u"?O.AudioContext=d:typeof webkitAudioContext<"u"&&(O.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=O);function D(){if(p||y||u)return!0;var L=navigator.userAgent,I=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10),K,Y;return(m||h)&&(K=L.indexOf("Chrome"),I=L.substring(K+7)),(Y=I.indexOf(";"))!==-1&&(I=I.substring(0,Y)),(Y=I.indexOf(" "))!==-1&&(I=I.substring(0,Y)),V=parseInt(""+I,10),isNaN(V)&&(I=""+parseFloat(navigator.appVersion),V=parseInt(navigator.appVersion,10)),V>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function S(L,I){var fe=this;if(typeof L>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(I=I||{mimeType:"video/webm"},I.type==="audio"){if(k(L,"video").length&&k(L,"audio").length){var V;navigator.mozGetUserMedia?(V=new b,V.addTrack(k(L,"audio")[0])):V=new b(k(L,"audio")),L=V}(!I.mimeType||I.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(I.mimeType=m?"audio/webm":"audio/ogg"),I.mimeType&&I.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(I.mimeType="audio/ogg")}var K=[];this.getArrayOfBlobs=function(){return K},this.record=function(){fe.blob=null,fe.clearRecordedData(),fe.timestamps=[],he=[],K=[];var ve=I;I.disableLogs||console.log("Passing following config over MediaRecorder API.",ve),ie&&(ie=null),m&&!D()&&(ve="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&ve.mimeType&&(MediaRecorder.isTypeSupported(ve.mimeType)||(I.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",ve.mimeType),ve.mimeType=I.type==="audio"?"audio/webm":"video/webm"));try{ie=new MediaRecorder(L,ve),I.mimeType=ve.mimeType}catch{ie=new MediaRecorder(L)}ve.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in ie&&ie.canRecordMimeType(ve.mimeType)===!1&&(I.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",ve.mimeType)),ie.ondataavailable=function(Se){if(Se.data&&he.push("ondataavailable: "+v(Se.data.size)),typeof I.timeSlice=="number"){if(Se.data&&Se.data.size&&(K.push(Se.data),Y(),typeof I.ondataavailable=="function")){var Me=I.getNativeBlob?Se.data:new Blob([Se.data],{type:Q(ve)});I.ondataavailable(Me)}return}if(!Se.data||!Se.data.size||Se.data.size<100||fe.blob){fe.recordingCallback&&(fe.recordingCallback(new Blob([],{type:Q(ve)})),fe.recordingCallback=null);return}fe.blob=I.getNativeBlob?Se.data:new Blob([Se.data],{type:Q(ve)}),fe.recordingCallback&&(fe.recordingCallback(fe.blob),fe.recordingCallback=null)},ie.onstart=function(){he.push("started")},ie.onpause=function(){he.push("paused")},ie.onresume=function(){he.push("resumed")},ie.onstop=function(){he.push("stopped")},ie.onerror=function(Se){Se&&(Se.name||(Se.name="UnknownError"),he.push("error: "+Se),I.disableLogs||(Se.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",Se):Se.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",ve.mimeType,") is not supported.",Se):Se.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",Se):Se.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",Se):Se.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",Se):Se.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",Se):Se.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",Se):console.error("MediaRecorder Error",Se)),function(Me){if(!fe.manuallyStopped&&ie&&ie.state==="inactive"){delete I.timeslice,ie.start(10*60*1e3);return}setTimeout(Me,1e3)}(),ie.state!=="inactive"&&ie.state!=="stopped"&&ie.stop())},typeof I.timeSlice=="number"?(Y(),ie.start(I.timeSlice)):ie.start(36e5),I.initCallback&&I.initCallback()},this.timestamps=[];function Y(){fe.timestamps.push(new Date().getTime()),typeof I.onTimeStamp=="function"&&I.onTimeStamp(fe.timestamps[fe.timestamps.length-1],fe.timestamps)}function Q(ve){return ie&&ie.mimeType?ie.mimeType:ve.mimeType||"video/webm"}this.stop=function(ve){ve=ve||function(){},fe.manuallyStopped=!0,ie&&(this.recordingCallback=ve,ie.state==="recording"&&ie.stop(),typeof I.timeSlice=="number"&&setTimeout(function(){fe.blob=new Blob(K,{type:Q(I)}),fe.recordingCallback(fe.blob)},100))},this.pause=function(){ie&&ie.state==="recording"&&ie.pause()},this.resume=function(){ie&&ie.state==="paused"&&ie.resume()},this.clearRecordedData=function(){ie&&ie.state==="recording"&&fe.stop(le),le()};function le(){K=[],ie=null,fe.timestamps=[]}var ie;this.getInternalRecorder=function(){return ie};function me(){if("active"in L){if(!L.active)return!1}else if("ended"in L&&L.ended)return!1;return!0}this.blob=null,this.getState=function(){return ie&&ie.state||"inactive"};var he=[];this.getAllStates=function(){return he},typeof I.checkForInactiveTracks>"u"&&(I.checkForInactiveTracks=!1);var fe=this;(function ve(){if(!(!ie||I.checkForInactiveTracks===!1)){if(me()===!1){I.disableLogs||console.log("MediaStream seems stopped."),fe.stop();return}setTimeout(ve,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=S);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function R(L,I){if(!k(L,"audio").length)throw"Your stream has no audio tracks.";I=I||{};var V=this,K=[],Y=[],Q=!1,le=0,ie,me=2,he=I.desiredSampRate;I.leftChannel===!0&&(me=1),I.numberOfAudioChannels===1&&(me=1),(!me||me<1)&&(me=2),I.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+me),typeof I.checkForInactiveTracks>"u"&&(I.checkForInactiveTracks=!0);function fe(){if(I.checkForInactiveTracks===!1)return!0;if("active"in L){if(!L.active)return!1}else if("ended"in L&&L.ended)return!1;return!0}this.record=function(){if(fe()===!1)throw"Please make sure MediaStream is active.";De(),q=Te=!1,Q=!0,typeof I.timeSlice<"u"&&Oe()};function ve(Pe,Ge){function ge(Qe,ct){var _t=Qe.numberOfAudioChannels,Ke=Qe.leftBuffers.slice(0),Ft=Qe.rightBuffers.slice(0),vt=Qe.sampleRate,ar=Qe.internalInterleavedLength,dr=Qe.desiredSampRate;_t===2&&(Ke=ho(Ke,ar),Ft=ho(Ft,ar),dr&&(Ke=Fi(Ke,dr,vt),Ft=Fi(Ft,dr,vt))),_t===1&&(Ke=ho(Ke,ar),dr&&(Ke=Fi(Ke,dr,vt))),dr&&(vt=dr);function Fi(fr,pn,Pr){var kr=Math.round(fr.length*(pn/Pr)),Dt=[],Yn=Number((fr.length-1)/(kr-1));Dt[0]=fr[0];for(var Kn=1;Kn<kr-1;Kn++){var mi=Kn*Yn,Rn=Number(Math.floor(mi)).toFixed(),ws=Number(Math.ceil(mi)).toFixed(),Ot=mi-Rn;Dt[Kn]=fo(fr[Rn],fr[ws],Ot)}return Dt[kr-1]=fr[fr.length-1],Dt}function fo(fr,pn,Pr){return fr+(pn-fr)*Pr}function ho(fr,pn){for(var Pr=new Float64Array(pn),kr=0,Dt=fr.length,Yn=0;Yn<Dt;Yn++){var Kn=fr[Yn];Pr.set(Kn,kr),kr+=Kn.length}return Pr}function Ui(fr,pn){for(var Pr=fr.length+pn.length,kr=new Float64Array(Pr),Dt=0,Yn=0;Yn<Pr;)kr[Yn++]=fr[Dt],kr[Yn++]=pn[Dt],Dt++;return kr}function po(fr,pn,Pr){for(var kr=Pr.length,Dt=0;Dt<kr;Dt++)fr.setUint8(pn+Dt,Pr.charCodeAt(Dt))}var zr;_t===2&&(zr=Ui(Ke,Ft)),_t===1&&(zr=Ke);var Vr=zr.length,pi=44+Vr*2,Gn=new ArrayBuffer(pi),rr=new DataView(Gn);po(rr,0,"RIFF"),rr.setUint32(4,36+Vr*2,!0),po(rr,8,"WAVE"),po(rr,12,"fmt "),rr.setUint32(16,16,!0),rr.setUint16(20,1,!0),rr.setUint16(22,_t,!0),rr.setUint32(24,vt,!0),rr.setUint32(28,vt*_t*2,!0),rr.setUint16(32,_t*2,!0),rr.setUint16(34,16,!0),po(rr,36,"data"),rr.setUint32(40,Vr*2,!0);for(var Qn=Vr,hn=44,Ea=1,ka=0;ka<Qn;ka++)rr.setInt16(hn,zr[ka]*(32767*Ea),!0),hn+=2;if(ct)return ct({buffer:Gn,view:rr});postMessage({buffer:Gn,view:rr})}if(Pe.noWorker){ge(Pe,function(Qe){Ge(Qe.buffer,Qe.view)});return}var Ee=Se(ge);Ee.onmessage=function(Qe){Ge(Qe.data.buffer,Qe.data.view),f.revokeObjectURL(Ee.workerURL),Ee.terminate()},Ee.postMessage(Pe)}function Se(Pe){var Ge=f.createObjectURL(new Blob([Pe.toString(),";this.onmessage =  function (eee) {"+Pe.name+"(eee.data);}"],{type:"application/javascript"})),ge=new Worker(Ge);return ge.workerURL=Ge,ge}this.stop=function(Pe){Pe=Pe||function(){},Q=!1,ve({desiredSampRate:he,sampleRate:ae,numberOfAudioChannels:me,internalInterleavedLength:le,leftBuffers:K,rightBuffers:me===1?[]:Y,noWorker:I.noWorker},function(Ge,ge){V.blob=new Blob([ge],{type:"audio/wav"}),V.buffer=new ArrayBuffer(ge.buffer.byteLength),V.view=ge,V.sampleRate=he||ae,V.bufferSize=ke,V.length=le,q=!1,Pe&&Pe(V.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var Me=e.Storage.AudioContextConstructor,de=Me.createMediaStreamSource(L),pe=[0,256,512,1024,2048,4096,8192,16384],ke=typeof I.bufferSize>"u"?4096:I.bufferSize;if(pe.indexOf(ke)===-1&&(I.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(pe,null,"	"))),Me.createJavaScriptNode)ie=Me.createJavaScriptNode(ke,me,me);else if(Me.createScriptProcessor)ie=Me.createScriptProcessor(ke,me,me);else throw"WebAudio API has no support on this browser.";de.connect(ie),I.bufferSize||(ke=ie.bufferSize);var ae=typeof I.sampleRate<"u"?I.sampleRate:Me.sampleRate||44100;(ae<22050||ae>96e3)&&(I.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),I.disableLogs||I.desiredSampRate&&console.log("Desired sample-rate: "+I.desiredSampRate);var Te=!1;this.pause=function(){Te=!0},this.resume=function(){if(fe()===!1)throw"Please make sure MediaStream is active.";if(!Q){I.disableLogs||console.log("Seems recording has been restarted."),this.record();return}Te=!1},this.clearRecordedData=function(){I.checkForInactiveTracks=!1,Q&&this.stop(U),U()};function De(){K=[],Y=[],le=0,q=!1,Q=!1,Te=!1,Me=null,V.leftchannel=K,V.rightchannel=Y,V.numberOfAudioChannels=me,V.desiredSampRate=he,V.sampleRate=ae,V.recordingLength=le,we={left:[],right:[],recordingLength:0}}function U(){ie&&(ie.onaudioprocess=null,ie.disconnect(),ie=null),de&&(de.disconnect(),de=null),De()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var q=!1;function oe(Pe){if(!Te){if(fe()===!1&&(I.disableLogs||console.log("MediaStream seems stopped."),ie.disconnect(),Q=!1),!Q){de&&(de.disconnect(),de=null);return}q||(q=!0,I.onAudioProcessStarted&&I.onAudioProcessStarted(),I.initCallback&&I.initCallback());var Ge=Pe.inputBuffer.getChannelData(0),ge=new Float32Array(Ge);if(K.push(ge),me===2){var Ee=Pe.inputBuffer.getChannelData(1),Qe=new Float32Array(Ee);Y.push(Qe)}le+=ke,V.recordingLength=le,typeof I.timeSlice<"u"&&(we.recordingLength+=ke,we.left.push(ge),me===2&&we.right.push(Qe))}}ie.onaudioprocess=oe,Me.createMediaStreamDestination?ie.connect(Me.createMediaStreamDestination()):ie.connect(Me.destination),this.leftchannel=K,this.rightchannel=Y,this.numberOfAudioChannels=me,this.desiredSampRate=he,this.sampleRate=ae,V.recordingLength=le;var we={left:[],right:[],recordingLength:0};function Oe(){!Q||typeof I.ondataavailable!="function"||typeof I.timeSlice>"u"||(we.left.length?(ve({desiredSampRate:he,sampleRate:ae,numberOfAudioChannels:me,internalInterleavedLength:we.recordingLength,leftBuffers:we.left,rightBuffers:me===1?[]:we.right},function(Pe,Ge){var ge=new Blob([Ge],{type:"audio/wav"});I.ondataavailable(ge),setTimeout(Oe,I.timeSlice)}),we={left:[],right:[],recordingLength:0}):setTimeout(Oe,I.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=R);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function z(L,I){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";I=I||{},I.frameInterval||(I.frameInterval=10);var V=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(pe){pe in document.createElement("canvas")&&(V=!0)});var K=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,Y=50,Q=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);K&&Q&&Q[2]&&(Y=parseInt(Q[2],10)),K&&Y<52&&(V=!1),I.useWhammyRecorder&&(V=!1);var le,ie;if(V)if(I.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),L instanceof HTMLCanvasElement)le=L;else if(L instanceof CanvasRenderingContext2D)le=L.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(I.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var me;this.record=function(){if(me=!0,V&&!I.useWhammyRecorder){var pe;"captureStream"in le?pe=le.captureStream(25):"mozCaptureStream"in le?pe=le.mozCaptureStream(25):"webkitCaptureStream"in le&&(pe=le.webkitCaptureStream(25));try{var ke=new b;ke.addTrack(k(pe,"video")[0]),pe=ke}catch{}if(!pe)throw"captureStream API are NOT available.";ie=new S(pe,{mimeType:I.mimeType||"video/webm"}),ie.record()}else de.frames=[],Me=new Date().getTime(),Se();I.initCallback&&I.initCallback()},this.getWebPImages=function(pe){if(L.nodeName.toLowerCase()!=="canvas"){pe();return}var ke=de.frames.length;de.frames.forEach(function(ae,Te){var De=ke-Te;I.disableLogs||console.log(De+"/"+ke+" frames remaining"),I.onEncodingCallback&&I.onEncodingCallback(De,ke);var U=ae.image.toDataURL("image/webp",1);de.frames[Te].image=U}),I.disableLogs||console.log("Generating WebM"),pe()},this.stop=function(pe){me=!1;var ke=this;if(V&&ie){ie.stop(pe);return}this.getWebPImages(function(){de.compile(function(ae){I.disableLogs||console.log("Recording finished!"),ke.blob=ae,ke.blob.forEach&&(ke.blob=new Blob([],{type:"video/webm"})),pe&&pe(ke.blob),de.frames=[]})})};var he=!1;this.pause=function(){if(he=!0,ie instanceof S){ie.pause();return}},this.resume=function(){if(he=!1,ie instanceof S){ie.resume();return}me||this.record()},this.clearRecordedData=function(){me&&this.stop(fe),fe()};function fe(){de.frames=[],me=!1,he=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function ve(){var pe=document.createElement("canvas"),ke=pe.getContext("2d");return pe.width=L.width,pe.height=L.height,ke.drawImage(L,0,0),pe}function Se(){if(he)return Me=new Date().getTime(),setTimeout(Se,500);if(L.nodeName.toLowerCase()==="canvas"){var pe=new Date().getTime()-Me;Me=new Date().getTime(),de.frames.push({image:ve(),duration:pe}),me&&setTimeout(Se,I.frameInterval);return}html2canvas(L,{grabMouse:typeof I.showMousePointer>"u"||I.showMousePointer,onrendered:function(ke){var ae=new Date().getTime()-Me;if(!ae)return setTimeout(Se,I.frameInterval);Me=new Date().getTime(),de.frames.push({image:ke.toDataURL("image/webp",1),duration:ae}),me&&setTimeout(Se,I.frameInterval)}})}var Me=new Date().getTime(),de=new P.Video(100)}typeof e<"u"&&(e.CanvasRecorder=z);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function F(L,I){I=I||{},I.frameInterval||(I.frameInterval=10),I.disableLogs||console.log("Using frames-interval:",I.frameInterval),this.record=function(){I.width||(I.width=320),I.height||(I.height=240),I.video||(I.video={width:I.width,height:I.height}),I.canvas||(I.canvas={width:I.width,height:I.height}),me.width=I.canvas.width||320,me.height=I.canvas.height||240,he=me.getContext("2d"),I.video&&I.video instanceof HTMLVideoElement?(fe=I.video.cloneNode(),I.initCallback&&I.initCallback()):(fe=document.createElement("video"),C(L,fe),fe.onloadedmetadata=function(){I.initCallback&&I.initCallback()},fe.width=I.video.width,fe.height=I.video.height),fe.muted=!0,fe.play(),ve=new Date().getTime(),Se=new P.Video,I.disableLogs||(console.log("canvas resolutions",me.width,"*",me.height),console.log("video width/height",fe.width||me.width,"*",fe.height||me.height)),V(I.frameInterval)};function V(Me){Me=typeof Me<"u"?Me:10;var de=new Date().getTime()-ve;if(!de)return setTimeout(V,Me,Me);if(le)return ve=new Date().getTime(),setTimeout(V,100);ve=new Date().getTime(),fe.paused&&fe.play(),he.drawImage(fe,0,0,me.width,me.height),Se.frames.push({duration:de,image:me.toDataURL("image/webp")}),Q||setTimeout(V,Me,Me)}function K(Me){var de=-1,pe=Me.length;(function ke(){if(de++,de===pe){Me.callback();return}setTimeout(function(){Me.functionToLoop(ke,de)},1)})()}function Y(Me,de,pe,ke,ae){var Te=document.createElement("canvas");Te.width=me.width,Te.height=me.height;var De=Te.getContext("2d"),U=[],q=Me.length,oe={r:0,g:0,b:0},we=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Oe=0,Pe=0,Ge=!1;K({length:q,functionToLoop:function(ge,Ee){var Qe,ct,_t,Ke=function(){!Ge&&_t-Qe<=_t*Pe||(Ge=!0,U.push(Me[Ee])),ge()};if(Ge)Ke();else{var Ft=new Image;Ft.onload=function(){De.drawImage(Ft,0,0,me.width,me.height);var vt=De.getImageData(0,0,me.width,me.height);Qe=0,ct=vt.data.length,_t=vt.data.length/4;for(var ar=0;ar<ct;ar+=4){var dr={r:vt.data[ar],g:vt.data[ar+1],b:vt.data[ar+2]},Fi=Math.sqrt(Math.pow(dr.r-oe.r,2)+Math.pow(dr.g-oe.g,2)+Math.pow(dr.b-oe.b,2));Fi<=we*Oe&&Qe++}Ke()},Ft.src=Me[Ee].image}},callback:function(){U=U.concat(Me.slice(q)),U.length<=0&&U.push(Me[Me.length-1]),ae(U)}})}var Q=!1;this.stop=function(Me){Me=Me||function(){},Q=!0;var de=this;setTimeout(function(){Y(Se.frames,-1,null,null,function(pe){Se.frames=pe,I.advertisement&&I.advertisement.length&&(Se.frames=I.advertisement.concat(Se.frames)),Se.compile(function(ke){de.blob=ke,de.blob.forEach&&(de.blob=new Blob([],{type:"video/webm"})),Me&&Me(de.blob)})})},10)};var le=!1;this.pause=function(){le=!0},this.resume=function(){le=!1,Q&&this.record()},this.clearRecordedData=function(){Q||this.stop(ie),ie()};function ie(){Se.frames=[],Q=!0,le=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var me=document.createElement("canvas"),he=me.getContext("2d"),fe,ve,Se}typeof e<"u"&&(e.WhammyRecorder=F);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var P=function(){function L(K){this.frames=[],this.duration=K||1,this.quality=.8}L.prototype.add=function(K,Y){if("canvas"in K&&(K=K.canvas),"toDataURL"in K&&(K=K.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(K))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:K,duration:Y||this.duration})};function I(K){var Y=f.createObjectURL(new Blob([K.toString(),"this.onmessage =  function (eee) {"+K.name+"(eee.data);}"],{type:"application/javascript"})),Q=new Worker(Y);return f.revokeObjectURL(Y),Q}function V(K){function Y(ae){var Te=le(ae);if(!Te)return[];for(var De=3e4,U=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:pe(Te.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Te.width,id:176},{data:Te.height,id:186}]}]}]}]}],q=0,oe=0;q<ae.length;){var we=[],Oe=0;do we.push(ae[q]),Oe+=ae[q].duration,q++;while(q<ae.length&&Oe<De);var Pe=0,Ge={id:524531317,data:Q(oe,Pe,we)};U[1].data.push(Ge),oe+=Oe}return fe(U)}function Q(ae,Te,De){return[{data:ae,id:231}].concat(De.map(function(U){var q=ve({discardable:0,frame:U.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(Te)});return Te+=U.duration,{data:q,id:163}}))}function le(ae){if(!ae[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var Te=ae[0].width,De=ae[0].height,U=ae[0].duration,q=1;q<ae.length;q++)U+=ae[q].duration;return{duration:U,width:Te,height:De}}function ie(ae){for(var Te=[];ae>0;)Te.push(ae&255),ae=ae>>8;return new Uint8Array(Te.reverse())}function me(ae){return new Uint8Array(ae.split("").map(function(Te){return Te.charCodeAt(0)}))}function he(ae){var Te=[],De=ae.length%8?new Array(9-ae.length%8).join("0"):"";ae=De+ae;for(var U=0;U<ae.length;U+=8)Te.push(parseInt(ae.substr(U,8),2));return new Uint8Array(Te)}function fe(ae){for(var Te=[],De=0;De<ae.length;De++){var U=ae[De].data;typeof U=="object"&&(U=fe(U)),typeof U=="number"&&(U=he(U.toString(2))),typeof U=="string"&&(U=me(U));var q=U.size||U.byteLength||U.length,oe=Math.ceil(Math.ceil(Math.log(q)/Math.log(2))/8),we=q.toString(2),Oe=new Array(oe*7+7+1-we.length).join("0")+we,Pe=new Array(oe).join("0")+"1"+Oe;Te.push(ie(ae[De].id)),Te.push(he(Pe)),Te.push(U)}return new Blob(Te,{type:"video/webm"})}function ve(ae){var Te=0;if(Te|=128,ae.trackNum>127)throw"TrackNumber > 127 not supported";var De=[ae.trackNum|128,ae.timecode>>8,ae.timecode&255,Te].map(function(U){return String.fromCharCode(U)}).join("")+ae.frame;return De}function Se(ae){for(var Te=ae.RIFF[0].WEBP[0],De=Te.indexOf("*"),U=0,q=[];U<4;U++)q[U]=Te.charCodeAt(De+3+U);var oe,we,Oe;return Oe=q[1]<<8|q[0],oe=Oe&16383,Oe=q[3]<<8|q[2],we=Oe&16383,{width:oe,height:we,data:Te,riff:ae}}function Me(ae,Te){return parseInt(ae.substr(Te+4,4).split("").map(function(De){var U=De.charCodeAt(0).toString(2);return new Array(8-U.length+1).join("0")+U}).join(""),2)}function de(ae){for(var Te=0,De={};Te<ae.length;){var U=ae.substr(Te,4),q=Me(ae,Te),oe=ae.substr(Te+4+4,q);Te+=8+q,De[U]=De[U]||[],U==="RIFF"||U==="LIST"?De[U].push(de(oe)):De[U].push(oe)}return De}function pe(ae){return[].slice.call(new Uint8Array(new Float64Array([ae]).buffer),0).map(function(Te){return String.fromCharCode(Te)}).reverse().join("")}var ke=new Y(K.map(function(ae){var Te=Se(de(atob(ae.image.slice(23))));return Te.duration=ae.duration,Te}));postMessage(ke)}return L.prototype.compile=function(K){var Y=I(V);Y.onmessage=function(Q){if(Q.data.error){console.error(Q.data.error);return}K(Q.data)},Y.postMessage(this.frames)},{Video:L}}();typeof e<"u"&&(e.Whammy=P);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var $={init:function(){var L=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var I=1,V=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),K,Y=indexedDB.open(V,I);function Q(ie){ie.createObjectStore(L.dataStoreName)}function le(){var ie=K.transaction([L.dataStoreName],"readwrite");L.videoBlob&&ie.objectStore(L.dataStoreName).put(L.videoBlob,"videoBlob"),L.gifBlob&&ie.objectStore(L.dataStoreName).put(L.gifBlob,"gifBlob"),L.audioBlob&&ie.objectStore(L.dataStoreName).put(L.audioBlob,"audioBlob");function me(he){ie.objectStore(L.dataStoreName).get(he).onsuccess=function(fe){L.callback&&L.callback(fe.target.result,he)}}me("audioBlob"),me("videoBlob"),me("gifBlob")}Y.onerror=L.onError,Y.onsuccess=function(){if(K=Y.result,K.onerror=L.onError,K.setVersion)if(K.version!==I){var ie=K.setVersion(I);ie.onsuccess=function(){Q(K),le()}}else le();else le()},Y.onupgradeneeded=function(ie){Q(ie.target.result)}},Fetch:function(L){return this.callback=L,this.init(),this},Store:function(L){return this.audioBlob=L.audioBlob,this.videoBlob=L.videoBlob,this.gifBlob=L.gifBlob,this.init(),this},onError:function(L){console.error(JSON.stringify(L,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=$);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function W(L,I){if(typeof GIFEncoder>"u"){var V=document.createElement("script");V.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(V)}I=I||{};var K=L instanceof CanvasRenderingContext2D||L instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(Me.record,1e3);return}if(!me){setTimeout(Me.record,1e3);return}K||(I.width||(I.width=he.offsetWidth||320),I.height||(I.height=he.offsetHeight||240),I.video||(I.video={width:I.width,height:I.height}),I.canvas||(I.canvas={width:I.width,height:I.height}),le.width=I.canvas.width||320,le.height=I.canvas.height||240,he.width=I.video.width||320,he.height=I.video.height||240),Se=new GIFEncoder,Se.setRepeat(0),Se.setDelay(I.frameRate||200),Se.setQuality(I.quality||10),Se.start(),typeof I.onGifRecordingStarted=="function"&&I.onGifRecordingStarted();function de(pe){if(Me.clearedRecordedData!==!0){if(Y)return setTimeout(function(){de(pe)},100);fe=s(de),typeof ve===void 0&&(ve=pe),!(pe-ve<90)&&(!K&&he.paused&&he.play(),K||ie.drawImage(he,0,0,le.width,le.height),I.onGifPreview&&I.onGifPreview(le.toDataURL("image/png")),Se.addFrame(ie),ve=pe)}}fe=s(de),I.initCallback&&I.initCallback()},this.stop=function(de){de=de||function(){},fe&&l(fe),this.blob=new Blob([new Uint8Array(Se.stream().bin)],{type:"image/gif"}),de(this.blob),Se.stream().bin=[]};var Y=!1;this.pause=function(){Y=!0},this.resume=function(){Y=!1},this.clearRecordedData=function(){Me.clearedRecordedData=!0,Q()};function Q(){Se&&(Se.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var le=document.createElement("canvas"),ie=le.getContext("2d");K&&(L instanceof CanvasRenderingContext2D?(ie=L,le=ie.canvas):L instanceof HTMLCanvasElement&&(ie=L.getContext("2d"),le=L));var me=!0;if(!K){var he=document.createElement("video");he.muted=!0,he.autoplay=!0,he.playsInline=!0,me=!1,he.onloadedmetadata=function(){me=!0},C(L,he),he.play()}var fe=null,ve,Se,Me=this}typeof e<"u"&&(e.GifRecorder=W);function B(L,I){var V="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(U){typeof e<"u"||U&&(typeof window<"u"||typeof yt>"u"||(yt.navigator={userAgent:V,getUserMedia:function(){}},yt.console||(yt.console={}),(typeof yt.console.log>"u"||typeof yt.console.error>"u")&&(yt.console.error=yt.console.log=yt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(U.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var q={getContext:function(){return q},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return q},U.HTMLVideoElement=function(){}),typeof location>"u"&&(U.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(U.screen={width:0,height:0}),typeof he>"u"&&(U.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),U.window=yt))})(typeof yt<"u"?yt:null),I=I||"multi-streams-mixer";var K=[],Y=!1,Q=document.createElement("canvas"),le=Q.getContext("2d");Q.style.opacity=0,Q.style.position="absolute",Q.style.zIndex=-1,Q.style.top="-1000em",Q.style.left="-1000em",Q.className=I,(document.body||document.documentElement).appendChild(Q),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var ie=this,me=window.AudioContext;typeof me>"u"&&(typeof webkitAudioContext<"u"&&(me=webkitAudioContext),typeof mozAudioContext<"u"&&(me=mozAudioContext));var he=window.URL;typeof he>"u"&&typeof webkitURL<"u"&&(he=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var fe=window.MediaStream;typeof fe>"u"&&typeof webkitMediaStream<"u"&&(fe=webkitMediaStream),typeof fe<"u"&&typeof fe.prototype.stop>"u"&&(fe.prototype.stop=function(){this.getTracks().forEach(function(U){U.stop()})});var ve={};typeof me<"u"?ve.AudioContext=me:typeof webkitAudioContext<"u"&&(ve.AudioContext=webkitAudioContext);function Se(U,q){"srcObject"in q?q.srcObject=U:"mozSrcObject"in q?q.mozSrcObject=U:q.srcObject=U}this.startDrawingFrames=function(){Me()};function Me(){if(!Y){var U=K.length,q=!1,oe=[];if(K.forEach(function(Oe){Oe.stream||(Oe.stream={}),Oe.stream.fullcanvas?q=Oe:oe.push(Oe)}),q)Q.width=q.stream.width,Q.height=q.stream.height;else if(oe.length){Q.width=U>1?oe[0].width*2:oe[0].width;var we=1;(U===3||U===4)&&(we=2),(U===5||U===6)&&(we=3),(U===7||U===8)&&(we=4),(U===9||U===10)&&(we=5),Q.height=oe[0].height*we}else Q.width=ie.width||360,Q.height=ie.height||240;q&&q instanceof HTMLVideoElement&&de(q),oe.forEach(function(Oe,Pe){de(Oe,Pe)}),setTimeout(Me,ie.frameInterval)}}function de(U,q){if(!Y){var oe=0,we=0,Oe=U.width,Pe=U.height;q===1&&(oe=U.width),q===2&&(we=U.height),q===3&&(oe=U.width,we=U.height),q===4&&(we=U.height*2),q===5&&(oe=U.width,we=U.height*2),q===6&&(we=U.height*3),q===7&&(oe=U.width,we=U.height*3),typeof U.stream.left<"u"&&(oe=U.stream.left),typeof U.stream.top<"u"&&(we=U.stream.top),typeof U.stream.width<"u"&&(Oe=U.stream.width),typeof U.stream.height<"u"&&(Pe=U.stream.height),le.drawImage(U,oe,we,Oe,Pe),typeof U.stream.onRender=="function"&&U.stream.onRender(le,oe,we,Oe,Pe,q)}}function pe(){Y=!1;var U=ke(),q=ae();return q&&q.getTracks().filter(function(oe){return oe.kind==="audio"}).forEach(function(oe){U.addTrack(oe)}),L.forEach(function(oe){oe.fullcanvas}),U}function ke(){De();var U;"captureStream"in Q?U=Q.captureStream():"mozCaptureStream"in Q?U=Q.mozCaptureStream():ie.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var q=new fe;return U.getTracks().filter(function(oe){return oe.kind==="video"}).forEach(function(oe){q.addTrack(oe)}),Q.stream=q,q}function ae(){ve.AudioContextConstructor||(ve.AudioContextConstructor=new ve.AudioContext),ie.audioContext=ve.AudioContextConstructor,ie.audioSources=[],ie.useGainNode===!0&&(ie.gainNode=ie.audioContext.createGain(),ie.gainNode.connect(ie.audioContext.destination),ie.gainNode.gain.value=0);var U=0;if(L.forEach(function(q){if(q.getTracks().filter(function(we){return we.kind==="audio"}).length){U++;var oe=ie.audioContext.createMediaStreamSource(q);ie.useGainNode===!0&&oe.connect(ie.gainNode),ie.audioSources.push(oe)}}),!!U)return ie.audioDestination=ie.audioContext.createMediaStreamDestination(),ie.audioSources.forEach(function(q){q.connect(ie.audioDestination)}),ie.audioDestination.stream}function Te(U){var q=document.createElement("video");return Se(U,q),q.className=I,q.muted=!0,q.volume=0,q.width=U.width||ie.width||360,q.height=U.height||ie.height||240,q.play(),q}this.appendStreams=function(U){if(!U)throw"First parameter is required.";U instanceof Array||(U=[U]),U.forEach(function(q){var oe=new fe;if(q.getTracks().filter(function(Pe){return Pe.kind==="video"}).length){var we=Te(q);we.stream=q,K.push(we),oe.addTrack(q.getTracks().filter(function(Pe){return Pe.kind==="video"})[0])}if(q.getTracks().filter(function(Pe){return Pe.kind==="audio"}).length){var Oe=ie.audioContext.createMediaStreamSource(q);ie.audioDestination=ie.audioContext.createMediaStreamDestination(),Oe.connect(ie.audioDestination),oe.addTrack(ie.audioDestination.stream.getTracks().filter(function(Pe){return Pe.kind==="audio"})[0])}L.push(oe)})},this.releaseStreams=function(){K=[],Y=!0,ie.gainNode&&(ie.gainNode.disconnect(),ie.gainNode=null),ie.audioSources.length&&(ie.audioSources.forEach(function(U){U.disconnect()}),ie.audioSources=[]),ie.audioDestination&&(ie.audioDestination.disconnect(),ie.audioDestination=null),ie.audioContext&&ie.audioContext.close(),ie.audioContext=null,le.clearRect(0,0,Q.width,Q.height),Q.stream&&(Q.stream.stop(),Q.stream=null)},this.resetVideoStreams=function(U){U&&!(U instanceof Array)&&(U=[U]),De(U)};function De(U){K=[],U=U||L,U.forEach(function(q){if(q.getTracks().filter(function(we){return we.kind==="video"}).length){var oe=Te(q);oe.stream=q,K.push(oe)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=pe}typeof e>"u"&&(t.exports=B);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function j(L,I){L=L||[];var V=this,K,Y;I=I||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},I.frameInterval||(I.frameInterval=10),I.video||(I.video={}),I.video.width||(I.video.width=360),I.video.height||(I.video.height=240),this.record=function(){K=new B(L,I.elementClass||"multi-streams-mixer"),Q().length&&(K.frameInterval=I.frameInterval||10,K.width=I.video.width||360,K.height=I.video.height||240,K.startDrawingFrames()),I.previewStream&&typeof I.previewStream=="function"&&I.previewStream(K.getMixedStream()),Y=new S(K.getMixedStream(),I),Y.record()};function Q(){var le=[];return L.forEach(function(ie){k(ie,"video").forEach(function(me){le.push(me)})}),le}this.stop=function(le){Y&&Y.stop(function(ie){V.blob=ie,le(ie),V.clearRecordedData()})},this.pause=function(){Y&&Y.pause()},this.resume=function(){Y&&Y.resume()},this.clearRecordedData=function(){Y&&(Y.clearRecordedData(),Y=null),K&&(K.releaseStreams(),K=null)},this.addStreams=function(le){if(!le)throw"First parameter is required.";le instanceof Array||(le=[le]),L.concat(le),!(!Y||!K)&&(K.appendStreams(le),I.previewStream&&typeof I.previewStream=="function"&&I.previewStream(K.getMixedStream()))},this.resetVideoStreams=function(le){K&&(le&&!(le instanceof Array)&&(le=[le]),K.resetVideoStreams(le))},this.getMixer=function(){return K},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=j);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function re(L,I){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof L>"u")throw'First argument "MediaStream" is required.';var V=this;V.recordRTC=new e(L,I),this.startRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.startRecording(),K()}catch(Q){Y(Q)}})},this.stopRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.stopRecording(function(Q){if(V.blob=V.recordRTC.getBlob(),!V.blob||!V.blob.size){Y("Empty blob.",V.blob);return}K(Q)})}catch(Q){Y(Q)}})},this.pauseRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.pauseRecording(),K()}catch(Q){Y(Q)}})},this.resumeRecording=function(){return new Promise(function(K,Y){try{V.recordRTC.resumeRecording(),K()}catch(Q){Y(Q)}})},this.getDataURL=function(K){return new Promise(function(Y,Q){try{V.recordRTC.getDataURL(function(le){Y(le)})}catch(le){Q(le)}})},this.getBlob=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getBlob())}catch(Q){Y(Q)}})},this.getInternalRecorder=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getInternalRecorder())}catch(Q){Y(Q)}})},this.reset=function(){return new Promise(function(K,Y){try{K(V.recordRTC.reset())}catch(Q){Y(Q)}})},this.destroy=function(){return new Promise(function(K,Y){try{K(V.recordRTC.destroy())}catch(Q){Y(Q)}})},this.getState=function(){return new Promise(function(K,Y){try{K(V.recordRTC.getState())}catch(Q){Y(Q)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=re);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function H(L,I){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),I=I||{},I.width=I.width||640,I.height=I.height||480,I.frameRate=I.frameRate||30,I.bitrate=I.bitrate||1200,I.realtime=I.realtime||!0;var V;function K(){return new ReadableStream({start:function(he){var fe=document.createElement("canvas"),ve=document.createElement("video"),Se=!0;ve.srcObject=L,ve.muted=!0,ve.height=I.height,ve.width=I.width,ve.volume=0,ve.onplaying=function(){fe.width=I.width,fe.height=I.height;var Me=fe.getContext("2d"),de=1e3/I.frameRate,pe=setInterval(function(){if(V&&(clearInterval(pe),he.close()),Se&&(Se=!1,I.onVideoProcessStarted&&I.onVideoProcessStarted()),Me.drawImage(ve,0,0),he._controlledReadableStream.state!=="closed")try{he.enqueue(Me.getImageData(0,0,I.width,I.height))}catch{}},de)},ve.play()}})}var Y;function Q(he,fe){if(!I.workerPath&&!fe){V=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(Se){Se.arrayBuffer().then(function(Me){Q(he,Me)})});return}if(!I.workerPath&&fe instanceof ArrayBuffer){var ve=new Blob([fe],{type:"text/javascript"});I.workerPath=f.createObjectURL(ve)}I.workerPath||console.error("workerPath parameter is missing."),Y=new Worker(I.workerPath),Y.postMessage(I.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),Y.addEventListener("message",function(Se){Se.data==="READY"?(Y.postMessage({width:I.width,height:I.height,bitrate:I.bitrate||1200,timebaseDen:I.frameRate||30,realtime:I.realtime}),K().pipeTo(new WritableStream({write:function(Me){if(V){console.error("Got image, but recorder is finished!");return}Y.postMessage(Me.data.buffer,[Me.data.buffer])}}))):Se.data&&(le||me.push(Se.data))})}this.record=function(){me=[],le=!1,this.blob=null,Q(L),typeof I.initCallback=="function"&&I.initCallback()};var le;this.pause=function(){le=!0},this.resume=function(){le=!1};function ie(he){if(!Y){he&&he();return}Y.addEventListener("message",function(fe){fe.data===null&&(Y.terminate(),Y=null,he&&he())}),Y.postMessage(null)}var me=[];this.stop=function(he){V=!0;var fe=this;ie(function(){fe.blob=new Blob(me,{type:"video/webm"}),he(fe.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){me=[],le=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=H)})(Yk);var uZ=Yk.exports,Kk={};function dZ(t){return t&&t.__esModule?t:{default:t}}var fZ=dZ,ab={exports:{}},Xk;function hZ(){return Xk||(Xk=1,function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(H,L,I){H[L]=I.value},s,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function u(H,L,I){return Object.defineProperty(H,L,{value:I,enumerable:!0,configurable:!0,writable:!0}),H[L]}try{u({},"")}catch{u=function(L,I,V){return L[I]=V}}function h(H,L,I,V){var K=L&&L.prototype instanceof A?L:A,Y=Object.create(K.prototype),Q=new B(V||[]);return o(Y,"_invoke",{value:F(H,I,Q)}),Y}r.wrap=h;function p(H,L,I){try{return{type:"normal",arg:H.call(L,I)}}catch(V){return{type:"throw",arg:V}}}var m="suspendedStart",y="suspendedYield",b="executing",v="completed",E={};function A(){}function k(){}function C(){}var T={};u(T,l,function(){return this});var O=Object.getPrototypeOf,D=O&&O(O(j([])));D&&D!==n&&i.call(D,l)&&(T=D);var S=C.prototype=A.prototype=Object.create(T);k.prototype=C,o(S,"constructor",{value:C,configurable:!0}),o(C,"constructor",{value:k,configurable:!0}),k.displayName=u(C,f,"GeneratorFunction");function R(H){["next","throw","return"].forEach(function(L){u(H,L,function(I){return this._invoke(L,I)})})}r.isGeneratorFunction=function(H){var L=typeof H=="function"&&H.constructor;return L?L===k||(L.displayName||L.name)==="GeneratorFunction":!1},r.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,C):(H.__proto__=C,u(H,f,"GeneratorFunction")),H.prototype=Object.create(S),H},r.awrap=function(H){return{__await:H}};function z(H,L){function I(Y,Q,le,ie){var me=p(H[Y],H,Q);if(me.type==="throw")ie(me.arg);else{var he=me.arg,fe=he.value;return fe&&typeof fe=="object"&&i.call(fe,"__await")?L.resolve(fe.__await).then(function(ve){I("next",ve,le,ie)},function(ve){I("throw",ve,le,ie)}):L.resolve(fe).then(function(ve){he.value=ve,le(he)},function(ve){return I("throw",ve,le,ie)})}}var V;function K(Y,Q){function le(){return new L(function(ie,me){I(Y,Q,ie,me)})}return V=V?V.then(le,le):le()}o(this,"_invoke",{value:K})}R(z.prototype),u(z.prototype,d,function(){return this}),r.AsyncIterator=z,r.async=function(H,L,I,V,K){K===void 0&&(K=Promise);var Y=new z(h(H,L,I,V),K);return r.isGeneratorFunction(L)?Y:Y.next().then(function(Q){return Q.done?Q.value:Y.next()})};function F(H,L,I){var V=m;return function(Y,Q){if(V===b)throw new Error("Generator is already running");if(V===v){if(Y==="throw")throw Q;return re()}for(I.method=Y,I.arg=Q;;){var le=I.delegate;if(le){var ie=P(le,I);if(ie){if(ie===E)continue;return ie}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(V===m)throw V=v,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);V=b;var me=p(H,L,I);if(me.type==="normal"){if(V=I.done?v:y,me.arg===E)continue;return{value:me.arg,done:I.done}}else me.type==="throw"&&(V=v,I.method="throw",I.arg=me.arg)}}}function P(H,L){var I=L.method,V=H.iterator[I];if(V===s)return L.delegate=null,I==="throw"&&H.iterator.return&&(L.method="return",L.arg=s,P(H,L),L.method==="throw")||I!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+I+"' method")),E;var K=p(V,H.iterator,L.arg);if(K.type==="throw")return L.method="throw",L.arg=K.arg,L.delegate=null,E;var Y=K.arg;if(!Y)return L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,E;if(Y.done)L[H.resultName]=Y.value,L.next=H.nextLoc,L.method!=="return"&&(L.method="next",L.arg=s);else return Y;return L.delegate=null,E}R(S),u(S,f,"Generator"),u(S,l,function(){return this}),u(S,"toString",function(){return"[object Generator]"});function $(H){var L={tryLoc:H[0]};1 in H&&(L.catchLoc=H[1]),2 in H&&(L.finallyLoc=H[2],L.afterLoc=H[3]),this.tryEntries.push(L)}function W(H){var L=H.completion||{};L.type="normal",delete L.arg,H.completion=L}function B(H){this.tryEntries=[{tryLoc:"root"}],H.forEach($,this),this.reset(!0)}r.keys=function(H){var L=Object(H),I=[];for(var V in L)I.push(V);return I.reverse(),function K(){for(;I.length;){var Y=I.pop();if(Y in L)return K.value=Y,K.done=!1,K}return K.done=!0,K}};function j(H){if(H){var L=H[l];if(L)return L.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var I=-1,V=function K(){for(;++I<H.length;)if(i.call(H,I))return K.value=H[I],K.done=!1,K;return K.value=s,K.done=!0,K};return V.next=V}}return{next:re}}r.values=j;function re(){return{value:s,done:!0}}return B.prototype={constructor:B,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(W),!H)for(var L in this)L.charAt(0)==="t"&&i.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=s)},stop:function(){this.done=!0;var H=this.tryEntries[0],L=H.completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var L=this;function I(ie,me){return Y.type="throw",Y.arg=H,L.next=ie,me&&(L.method="next",L.arg=s),!!me}for(var V=this.tryEntries.length-1;V>=0;--V){var K=this.tryEntries[V],Y=K.completion;if(K.tryLoc==="root")return I("end");if(K.tryLoc<=this.prev){var Q=i.call(K,"catchLoc"),le=i.call(K,"finallyLoc");if(Q&&le){if(this.prev<K.catchLoc)return I(K.catchLoc,!0);if(this.prev<K.finallyLoc)return I(K.finallyLoc)}else if(Q){if(this.prev<K.catchLoc)return I(K.catchLoc,!0)}else if(le){if(this.prev<K.finallyLoc)return I(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,L){for(var I=this.tryEntries.length-1;I>=0;--I){var V=this.tryEntries[I];if(V.tryLoc<=this.prev&&i.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var K=V;break}}K&&(H==="break"||H==="continue")&&K.tryLoc<=L&&L<=K.finallyLoc&&(K=null);var Y=K?K.completion:{};return Y.type=H,Y.arg=L,K?(this.method="next",this.next=K.finallyLoc,E):this.complete(Y)},complete:function(H,L){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&L&&(this.next=L),E},finish:function(H){for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L];if(I.finallyLoc===H)return this.complete(I.completion,I.afterLoc),W(I),E}},catch:function(H){for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L];if(I.tryLoc===H){var V=I.completion;if(V.type==="throw"){var K=V.arg;W(I)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(H,L,I){return this.delegate={iterator:j(H),resultName:L,nextLoc:I},this.method==="next"&&(this.arg=s),E}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(ab)),ab.exports}var lb,Zk;function pZ(){return Zk||(Zk=1,lb=hZ()),lb}var cb,Jk;function mZ(){if(Jk)return cb;Jk=1;function t(r,n,i,o,s,a,l){try{var d=r[a](l),f=d.value}catch(u){i(u);return}d.done?n(f):Promise.resolve(f).then(o,s)}function e(r){return function(){var n=this,i=arguments;return new Promise(function(o,s){var a=r.apply(n,i);function l(f){t(a,o,s,l,d,"next",f)}function d(f){t(a,o,s,l,d,"throw",f)}l(void 0)})}}return cb=e,cb}(function(t){var e=fZ;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=e(pZ()),n=e(mZ());function i(s){return o.apply(this,arguments)}function o(){return(o=(0,n.default)(r.default.mark(function s(a){var l,d;return r.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=document.createElement("video"),d=new Promise(function(u,h){l.addEventListener("loadedmetadata",function(){l.duration===1/0?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,u(l.duration),l.currentTime=0}):u(l.duration)}),l.onerror=function(p){return h(p.target.error)}}),l.src=typeof a=="string"||a instanceof String?a:window.URL.createObjectURL(a),f.abrupt("return",d);case 4:case"end":return f.stop()}},s)}))).apply(this,arguments)}})(Kk);const gZ=vn(Kk),yZ=t=>(c.pushScopeId("data-v-d7ca8ae1"),t=t(),c.popScopeId(),t),bZ={class:"flex grow items-center gap-1"},vZ={class:"relative flex h-12 w-0 min-w-0 grow items-center gap-3 rounded-xl bg-gray-100 px-3 dark:bg-zinc-700"},_Z={key:0,class:"flex items-center gap-1 rounded-xl bg-white p-2 text-xs text-gray-600 transition duration-150 ease-in-out dark:bg-zinc-800"},wZ=yZ(()=>c.createElementVNode("img",{class:"h-4 w-4",src:Wk},null,-1)),xZ={class:"volumes"},TZ={class:"ml-auto rounded-full bg-black bg-opacity-30 px-2 py-1 text-xs font-bold text-white"},AZ={key:1,class:"ml-2 mr-1 h-6 w-6 cursor-not-allowed",src:O2},eI="audio/webm",CZ=180,SZ=pr(c.defineComponent({__name:"AudioInput",setup(t){const{t:e}=Ai(),r=Bt(),n=c.ref(3),i=c.ref(),o=c.ref(),s=c.ref(0),a=c.ref(0),l=c.ref(),d=c.ref(),f=c.reactive([]),u=c.ref(""),h=c.computed(()=>s.value>1),p=async()=>{var y,b;try{switch(n.value){case 3:{n.value=0,f.splice(0),s.value=0,a.value=0,i.value=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),o.value=new uZ.RecordRTCPromisesHandler(i.value,{type:"audio",mimeType:eI});let v=new AudioContext,E=v.createAnalyser();E.fftSize=64,E.smoothingTimeConstant=0,v.createMediaStreamSource(i.value).connect(E),d.value=window.setInterval(()=>{let k=new Uint8Array(E.frequencyBinCount);E.getByteFrequencyData(k);let C=k.reduce((O,D)=>O+D)/k.length;const T=Math.min(1,C/128);f.unshift(T)},100),await o.value.startRecording(),a.value=Date.now(),l.value=window.setInterval(()=>{s.value=(Date.now()-a.value)/1e3,s.value>=CZ&&p()},1e3),n.value=1;break}case 1:n.value=2,await((y=o.value)==null?void 0:y.stopRecording()),(b=i.value)==null||b.getTracks().forEach(v=>v.stop()),clearInterval(l.value),clearInterval(d.value),n.value=3;break;default:break}}catch(v){console.error(v),u.value=e("noAccessMicrophonePermission")}},m=async()=>{var b;n.value!==3&&await p(),f.splice(0),s.value=0,a.value=0;let y=await((b=o.value)==null?void 0:b.getBlob());if(y){const v=await gZ(y),E=new File([y],`${of()}.webm`),A={roomId:r.state.imkit.selectedRoomId,messageType:"audio",file:E,duration:v,originalUrl:"",extra:{mimeType:eI,fileName:E.name.split(".").slice(0,-1).join("."),bytes:E.size,fileExtension:E.name.split(".").pop()}};await r.dispatch("imkit/sendMessage",A)}};return c.onUnmounted(()=>{clearInterval(l.value),clearInterval(d.value)}),(y,b)=>(c.openBlock(),c.createElementBlock("div",bZ,[c.createElementVNode("div",vZ,[c.createElementVNode("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full border-2 border-gray-300",onClick:p},[c.createElementVNode("div",{class:c.normalizeClass(["h-6 w-6 rounded-full bg-red-500 transition-all duration-200 ease-in",{"h-3.5 w-3.5 rounded":n.value==1,"cursor-not-allowed bg-red-300":u.value}])},null,2)]),c.createVNode(c.Transition,null,{default:c.withCtx(()=>[u.value?(c.openBlock(),c.createElementBlock("div",_Z,[wZ,c.createTextVNode(" "+c.toDisplayString(u.value),1)])):c.createCommentVNode("",!0)]),_:1}),c.createElementVNode("div",xZ,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(f,(v,E)=>(c.openBlock(),c.createElementBlock("div",{key:E,class:"!min-h-0.5 w-0.5 flex-shrink-0 rounded bg-gray-400",style:c.normalizeStyle({height:`${v*28}px`})},null,4))),128))]),c.createElementVNode("div",TZ,c.toDisplayString(Math.floor(s.value/60))+":"+c.toDisplayString(`${Math.floor(s.value%60)}`.padStart(2,"0")),1)]),h.value?(c.openBlock(),c.createElementBlock("img",{key:0,class:"ml-2 mr-1 h-6 w-6 cursor-pointer",src:N2,onClick:m})):(c.openBlock(),c.createElementBlock("img",AZ))]))}}),[["__scopeId","data-v-d7ca8ae1"]]),EZ=()=>{const t=window.location.href,e=t.substring(t.indexOf("?"));return new URLSearchParams(e.lastIndexOf("#/")==-1?e:e.substring(0,e.lastIndexOf("#/")))};function dd(t){var e;const r=ks(t);return(e=r==null?void 0:r.$el)!=null?e:r}const tI=pm?window:void 0;function Ip(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=tI):[e,r,n,i]=t,!e)return Fa;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,u,h,p)=>(f.addEventListener(u,h,p),()=>f.removeEventListener(u,h,p)),l=c.watch(()=>[dd(e),ks(i)],([f,u])=>{if(s(),!f)return;const h=l2(u)?{...u}:u;o.push(...r.flatMap(p=>n.map(m=>a(f,p,m,h))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return hm(d),d}let rI=!1;function nI(t,e,r={}){const{window:n=tI,ignore:i=[],capture:o=!0,detectIframe:s=!1}=r;if(!n)return Fa;mm&&!rI&&(rI=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",Fa)),n.document.documentElement.addEventListener("click",Fa));let a=!0;const l=h=>i.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=dd(p);return m&&(h.target===m||h.composedPath().includes(m))}}),f=[Ip(n,"click",h=>{const p=dd(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(a=!l(h)),!a){a=!0;return}e(h)}},{passive:!0,capture:o}),Ip(n,"pointerdown",h=>{const p=dd(t);a=!l(h)&&!!(p&&!h.composedPath().includes(p))},{passive:!0}),s&&Ip(n,"blur",h=>{setTimeout(()=>{var p;const m=dd(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&e(h)},0)})].filter(Boolean);return()=>f.forEach(h=>h())}const fd={[c2.mounted](t,e){const r=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=nI(t,e.value,{capture:r});else{const[n,i]=e.value;t.__onClickOutside_stop=nI(t,n,Object.assign({capture:r},i))}},[c2.unmounted](t){t.__onClickOutside_stop()}};function ub(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function iI(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:iI(r)}}function kZ(t){const e=t||window.event,r=e.target;return iI(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const db=new WeakMap;function IZ(t,e=!1){const r=c.ref(e);let n=null,i="";c.watch(V6(t),a=>{const l=ub(ks(a));if(l){const d=l;if(db.get(d)||db.set(d,d.style.overflow),d.style.overflow!=="hidden"&&(i=d.style.overflow),d.style.overflow==="hidden")return r.value=!0;if(r.value)return d.style.overflow="hidden"}},{immediate:!0});const o=()=>{const a=ub(ks(t));!a||r.value||(mm&&(n=Ip(a,"touchmove",l=>{kZ(l)},{passive:!1})),a.style.overflow="hidden",r.value=!0)},s=()=>{const a=ub(ks(t));!a||!r.value||(mm&&(n==null||n()),a.style.overflow=i,db.delete(a),r.value=!1)};return hm(s),c.computed({get(){return r.value},set(a){a?o():s()}})}function DZ(){let t=!1;const e=c.ref(!1);return(r,n)=>{if(e.value=n.value,t)return;t=!0;const i=IZ(r,n.value);c.watch(e,o=>i.value=o)}}DZ();const MZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UMU7DQBCF4ZEo4Aq0nICCKg03oMJpOIOVN1Nlx4UPAJcDypwgdInoiAJaCB3YG7IQ1nmftJJlWWP9XnlFiIiIiIiIiIhoR8D0DPA71XAbr2XIzJqRalio+uvHCot4Tw4j1t8X4M+q4VIOIVaHGG09sYOKtsTYQUSbNSPAl1+HhZe4voleFneQWffOroDmBgjXHdHl7LQlxH4+W3y0bRFbfLT9ILbYaNshtrhowC96TuNx+qww7jq947t+tyYB4I85YtOiw4PsU9u2JzljE6LXdV0f563YUvzqOWN7ou9l3yYTPwd8tomdm02vcs2Os1T9afMPz+K75L8A/LSqqqPcc+PMODv3XCIiIiIiIiIiIiIi+QNvk5r+mltEG0oAAAAASUVORK5CYII=",NZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR4nO3UMU7DMBiGYUsMcAVWTsDA1IUbdEIsHIlejrKlQ5r8H07SjYqtiCCrRUxNU2ooTt9HsmQp0W+9iWTnAAAAAAAAcKCiqK/MqolZ9Rj2bsikZmTmX6WqDWu9b0buFGL1Hf1Wlv7WnUKshhitHbGDilbP2EFEax273BK2CmvLs2VyF5k6/qyZfy/Llwczf9cRnc6fVo/Yr3eTj9YesclH6wexyUbrgNjkoovC33TdxlJ133dWeLfr9g5n/W5ND5J/jhHbJ1ryU3dMeZ5fxIzdFW3mP7IsO49bsafw1WPGdkf7J3dskq4lP9vENlI9jje7HptVi03sLJzl/ov5fHHZtu1Z7LlhZpgdey4AAAAAAAAAAO4PfAKuTjfhZH9KRQAAAABJRU5ErkJggg==",OZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVR4nO3UMU7DMBTGcSMGOAMbnICBBRZuwES6cIbIn1NFynOG7NwOWOECMBWxgQA91EqA2iRtLCW2vp/k0c/5x5KNISIiIiIiIiIiIiKKz15ZlkdZlu2HHqwzdbaeYabAWn/qnH9yzn8555+LoroKNVtnAfKiswF51LPM2AD/sIz9WYC8AzIbPldmOuvf7HszpqZpDn9/UKjodbHL9Znn+UHYii3pXw8Z3RKr686MDfBngH8NEd0Wq2foWWYKrK3OnZPFhlv5AOqbrhmAXLfEvjknl2ZK7IDo6GKHREcbu0t09LHbRCcTu1IU9UXH673xNda9Jka2/abTuNldo5OI7RudVGxXdJKxK/oY/Y2WRbQPVF9AdQLIra75vD7uvZGIiIiIiIiIiMx632C5/lbO/M2+AAAAAElFTkSuQmCC",LZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO3UMU7DMBTGcVcd4AxscAIGFli4QSfUhRtxO2CLQJHzPp5TOoHYQBiZhEqgNk0To8bR95MiZcmz/7FkY4iIiIiIiIiIiIiIEuO9n1i7PPLeT/9h9rSePTFDAOAU0EfAeRH3DJSzeLPLmYhbhtmAPoS1Ys3uDND7akPVI6LvgJv3n+vm9azVbEDvzD7leX74e0NxotfHfs/9zLLsIG7FjsJfjxm9KbY+4Vuzb9bqmYi+xohuig1rhLXMEADluYi+bNjoR1E8XW+bIaJXDbFvRaGXZkjQIzq52D7RycZ2iU4+dpfo0cT+ABYXTbd3020cvjUpQsNJj+Zku0aPIrZt9Khit0WPMvbPRbaKrt4TvaDasrY8EdGb8Djnjlt/SEREREREREREZr0vWIQ93o81LZQAAAAASUVORK5CYII=",BZ={class:"flex grow items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},RZ={key:0,class:"flex h-6 w-6 items-center justify-center"},PZ=[c.createElementVNode("svg",{class:"h-5 w-5 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1)],FZ={key:1,class:"h-5 w-5 cursor-pointer",src:$d},UZ=["placeholder"],jZ={class:"pb-0.5 text-sm font-medium text-gray-500 dark:text-gray-300"},$Z={key:1,width:"20",height:"20",src:NZ,alt:"collapse-arrow"},zZ={key:3,width:"20",height:"20",src:LZ,alt:"expand-arrow"},VZ=c.defineComponent({__name:"SearchPanel",setup(t){const e=Bt(),r=c.ref(""),n=c.ref(0),i=c.ref([]),o=c.ref(!1),s=c.ref(!1),a=async()=>{var p;if(!o.value&&r.value){s.value=!0;const{data:{result:m}}=await e.state.imkit.axios.post(oo.Search,{type:["messages"],room:e.state.imkit.selectedRoomId,keyword:r.value});i.value=((p=m.messages[0])==null?void 0:p.messages)??[],s.value=!1,i.value.length>0?(n.value=i.value.length,await e.commit("imkit/setState",{messageSearchKeyword:r.value}),await e.dispatch("imkit/navigateToMessage",i.value[n.value-1])):n.value=0}},l=p=>{p>0&&p<=i.value.length&&(n.value=p,e.dispatch("imkit/navigateToMessage",i.value[p-1]))},d=ud(1e3,a),f=sb(500,d,{atBegin:!1}),u=c.computed(()=>e.state.imkit.config.styles);c.watch(r,f);const h=()=>{e.commit("imkit/setState",{isSearchInRoomMode:!1})};return(p,m)=>(c.openBlock(),c.createElementBlock("div",{class:"flex h-[60px] items-center justify-center border-b border-solid p-2 dark:border-zinc-700",style:c.normalizeStyle(u.value.chatRoomHeader)},[c.createElementVNode("div",BZ,[s.value?(c.openBlock(),c.createElementBlock("div",RZ,PZ)):(c.openBlock(),c.createElementBlock("img",FZ)),c.withDirectives(c.createElementVNode("input",{class:"h-5 grow bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[0]||(m[0]=y=>r.value=y),placeholder:p.$t("searchInConversation"),onCompositionstart:m[1]||(m[1]=y=>o.value=!0),onCompositionend:m[2]||(m[2]=y=>o.value=!1)},null,40,UZ),[[c.vModelText,r.value]]),!s.value&&r.value.length>0?(c.openBlock(),c.createElementBlock(c.Fragment,{key:2},[c.createElementVNode("div",jZ,c.toDisplayString(n.value)+"/"+c.toDisplayString(i.value.length),1),n.value>1?(c.openBlock(),c.createElementBlock("img",{key:0,class:"cursor-pointer",width:"20",height:"20",src:MZ,alt:"collapse-arrow",onClick:m[3]||(m[3]=y=>l(n.value-1))})):(c.openBlock(),c.createElementBlock("img",$Z)),n.value<i.value.length?(c.openBlock(),c.createElementBlock("img",{key:2,class:"cursor-pointer",width:"20",height:"20",src:OZ,alt:"expand-arrow",onClick:m[4]||(m[4]=y=>l(n.value+1))})):(c.openBlock(),c.createElementBlock("img",zZ))],64)):c.createCommentVNode("",!0),c.createElementVNode("img",{src:kp,class:"h-5 w-5 cursor-pointer",onClick:m[5]||(m[5]=()=>{c.unref(f).cancel({upcomingOnly:!0}),r.value="",c.unref(d)(),h()})})])],4))}});function Po(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function fb(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}const oI={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},cc="^\\s*",uc="\\s*$",ya="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",ba="([0-9A-Fa-f])",va="([0-9A-Fa-f]{2})",HZ=new RegExp(`${cc}rgb\\s*\\(${ya},${ya},${ya}\\)${uc}`),qZ=new RegExp(`${cc}rgba\\s*\\(${ya},${ya},${ya},${ya}\\)${uc}`),WZ=new RegExp(`${cc}#${ba}${ba}${ba}${uc}`),GZ=new RegExp(`${cc}#${va}${va}${va}${uc}`),QZ=new RegExp(`${cc}#${ba}${ba}${ba}${ba}${uc}`),YZ=new RegExp(`${cc}#${va}${va}${va}${va}${uc}`);function On(t){return parseInt(t,16)}function Fo(t){try{let e;if(e=GZ.exec(t))return[On(e[1]),On(e[2]),On(e[3]),1];if(e=HZ.exec(t))return[Jr(e[1]),Jr(e[5]),Jr(e[9]),1];if(e=qZ.exec(t))return[Jr(e[1]),Jr(e[5]),Jr(e[9]),hd(e[13])];if(e=WZ.exec(t))return[On(e[1]+e[1]),On(e[2]+e[2]),On(e[3]+e[3]),1];if(e=YZ.exec(t))return[On(e[1]),On(e[2]),On(e[3]),hd(On(e[4])/255)];if(e=QZ.exec(t))return[On(e[1]+e[1]),On(e[2]+e[2]),On(e[3]+e[3]),hd(On(e[4]+e[4])/255)];if(t in oI)return Fo(oI[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function KZ(t){return t>1?1:t<0?0:t}function hb(t,e,r,n){return`rgba(${Jr(t)}, ${Jr(e)}, ${Jr(r)}, ${KZ(n)})`}function pb(t,e,r,n,i){return Jr((t*e*(1-n)+r*n)/i)}function nt(t,e){Array.isArray(t)||(t=Fo(t)),Array.isArray(e)||(e=Fo(e));const r=t[3],n=e[3],i=hd(r+n-r*n);return hb(pb(t[0],r,e[0],n,i),pb(t[1],r,e[1],n,i),pb(t[2],r,e[2],n,i),i)}function Ye(t,e){const[r,n,i,o=1]=Array.isArray(t)?t:Fo(t);return e.alpha?hb(r,n,i,e.alpha):hb(r,n,i,o)}function vr(t,e){const[r,n,i,o=1]=Array.isArray(t)?t:Fo(t),{lightness:s=1,alpha:a=1}=e;return XZ([r*s,n*s,i*s,o*a])}function hd(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Jr(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function XZ(t){const[e,r,n]=t;return 3 in t?`rgba(${Jr(e)}, ${Jr(r)}, ${Jr(n)}, ${hd(t[3])})`:`rgba(${Jr(e)}, ${Jr(r)}, ${Jr(n)}, 1)`}function Dp(t,...e){if(Array.isArray(t))t.forEach(r=>Dp(r,...e));else return t(...e)}const sI=new Set;function ZZ(t,e){const r=`[naive/${t}]: ${e}`;sI.has(r)||(sI.add(r),console.error(r))}function JZ(t,e){console.error(`[naive/${t}]: ${e}`)}function aI(t,e){throw new Error(`[naive/${t}]: ${e}`)}function mb(t){return t.some(e=>c.isVNode(e)?!(e.type===c.Comment||e.type===c.Fragment&&!mb(e.children)):!0)?t:null}function _a(t,e){const r=t&&mb(t());return e(r||null)}function gb(t){return!(t&&mb(t()))}const eJ=/^(\d|\.)+$/,lI=/(\d|\.)+/;function tJ(t,{c:e=1,offset:r=0,attachPx:n=!0}={}){if(typeof t=="number"){const i=(t+r)*e;return i===0?"0":`${i}px`}else if(typeof t=="string")if(eJ.test(t)){const i=(Number(t)+r)*e;return n?i===0?"0":`${i}px`:`${i}`}else{const i=lI.exec(t);return i?t.replace(lI,String((Number(i[0])+r)*e)):t}return t}function rJ(t){let e=0;for(let r=0;r<t.length;++r)t[r]==="&"&&++e;return e}const cI=/\s*,(?![^(]*\))\s*/g,nJ=/\s+/g;function iJ(t,e){const r=[];return e.split(cI).forEach(n=>{let i=rJ(n);if(i){if(i===1){t.forEach(s=>{r.push(n.replace("&",s))});return}}else{t.forEach(s=>{r.push((s&&s+" ")+n)});return}let o=[n];for(;i--;){const s=[];o.forEach(a=>{t.forEach(l=>{s.push(a.replace("&",l))})}),o=s}o.forEach(s=>r.push(s))}),r}function oJ(t,e){const r=[];return e.split(cI).forEach(n=>{t.forEach(i=>{r.push((i&&i+" ")+n)})}),r}function sJ(t){let e=[""];return t.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?e=iJ(e,r):e=oJ(e,r))}),e.join(", ").replace(nJ," ")}function uI(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function yb(t){return document.querySelector(`style[cssr-id="${t}"]`)}function aJ(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Mp(t){return t?/^\s*@(s|m)/.test(t):!1}const lJ=/[A-Z]/g;function dI(t){return t.replace(lJ,e=>"-"+e.toLowerCase())}function cJ(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(r=>e+`  ${dI(r[0])}: ${r[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function uJ(t,e,r){return typeof t=="function"?t({context:e.context,props:r}):t}function fI(t,e,r,n){if(!e)return"";const i=uJ(e,r,n);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const o=Object.keys(i);if(o.length===0)return r.config.keepEmptyBlock?t+` {
}`:"";const s=t?[t+" {"]:[];return o.forEach(a=>{const l=i[a];if(a==="raw"){s.push(`
`+l+`
`);return}a=dI(a),l!=null&&s.push(`  ${a}${cJ(l)}`)}),t&&s.push("}"),s.join(`
`)}function bb(t,e,r){t&&t.forEach(n=>{if(Array.isArray(n))bb(n,e,r);else if(typeof n=="function"){const i=n(e);Array.isArray(i)?bb(i,e,r):i&&r(i)}else n&&r(n)})}function hI(t,e,r,n,i,o){const s=t.$;let a="";if(!s||typeof s=="string")Mp(s)?a=s:e.push(s);else if(typeof s=="function"){const f=s({context:n.context,props:i});Mp(f)?a=f:e.push(f)}else if(s.before&&s.before(n.context),!s.$||typeof s.$=="string")Mp(s.$)?a=s.$:e.push(s.$);else if(s.$){const f=s.$({context:n.context,props:i});Mp(f)?a=f:e.push(f)}const l=sJ(e),d=fI(l,t.props,n,i);a?(r.push(`${a} {`),o&&d&&o.insertRule(`${a} {
${d}
}
`)):(o&&d&&o.insertRule(d),!o&&d.length&&r.push(d)),t.children&&bb(t.children,{context:n.context,props:i},f=>{if(typeof f=="string"){const u=fI(l,{raw:f},n,i);o?o.insertRule(u):r.push(u)}else hI(f,e,r,n,i,o)}),e.pop(),a&&r.push("}"),s&&s.after&&s.after(n.context)}function pI(t,e,r,n=!1){const i=[];return hI(t,[],i,e,r,n?t.instance.__styleSheet:void 0),n?"":i.join(`

`)}function vb(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function dJ(t,e,r){const{els:n}=e;if(r===void 0)n.forEach(uI),e.els=[];else{const i=yb(r);i&&n.includes(i)&&(uI(i),e.els=n.filter(o=>o!==i))}}function mI(t,e){t.push(e)}function fJ(t,e,r,n,i,o,s,a,l){if(o&&!l){if(r===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const h=window.__cssrContext;h[r]||(h[r]=!0,pI(e,t,n,o));return}let d;if(r===void 0&&(d=e.render(n),r=vb(d)),l){l.adapter(r,d??e.render(n));return}const f=yb(r);if(f!==null&&!s)return f;const u=f??aJ(r);if(d===void 0&&(d=e.render(n)),u.textContent=d,f!==null)return f;if(a){const h=document.head.querySelector(`meta[name="${a}"]`);if(h)return document.head.insertBefore(u,h),mI(e.els,u),u}return i?document.head.insertBefore(u,document.head.querySelector("style, link")):document.head.appendChild(u),mI(e.els,u),u}function hJ(t){return pI(this,this.instance,t)}function pJ(t={}){const{id:e,ssr:r,props:n,head:i=!1,silent:o=!1,force:s=!1,anchorMetaName:a}=t;return fJ(this.instance,this,e,n,i,o,s,a,r)}function mJ(t={}){const{id:e}=t;dJ(this.instance,this,e)}const Np=function(t,e,r,n){return{instance:t,$:e,props:r,children:n,els:[],render:hJ,mount:pJ,unmount:mJ}},gJ=function(t,e,r,n){return Array.isArray(e)?Np(t,{$:null},null,e):Array.isArray(r)?Np(t,e,null,r):Array.isArray(n)?Np(t,e,r,n):Np(t,e,r,null)};function yJ(t={}){let e=null;const r={c:(...n)=>gJ(r,...n),use:(n,...i)=>n.install(r,...i),find:yb,context:{},config:t,get __styleSheet(){if(!e){const n=document.createElement("style");return document.head.appendChild(n),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return r}function bJ(t){let e=".",r="__",n="--",i;if(t){let f=t.blockPrefix;f&&(e=f),f=t.elementPrefix,f&&(r=f),f=t.modifierPrefix,f&&(n=f)}const o={install(f){i=f.c;const u=f.context;u.bem={},u.bem.b=null,u.bem.els=null}};function s(f){let u,h;return{before(p){u=p.bem.b,h=p.bem.els,p.bem.els=null},after(p){p.bem.b=u,p.bem.els=h},$({context:p,props:m}){return f=typeof f=="string"?f:f({context:p,props:m}),p.bem.b=f,`${(m==null?void 0:m.bPrefix)||e}${p.bem.b}`}}}function a(f){let u;return{before(h){u=h.bem.els},after(h){h.bem.els=u},$({context:h,props:p}){return f=typeof f=="string"?f:f({context:h,props:p}),h.bem.els=f.split(",").map(m=>m.trim()),h.bem.els.map(m=>`${(p==null?void 0:p.bPrefix)||e}${h.bem.b}${r}${m}`).join(", ")}}}function l(f){return{$({context:u,props:h}){f=typeof f=="string"?f:f({context:u,props:h});const p=f.split(",").map(b=>b.trim());function m(b){return p.map(v=>`&${(h==null?void 0:h.bPrefix)||e}${u.bem.b}${b!==void 0?`${r}${b}`:""}${n}${v}`).join(", ")}const y=u.bem.els;if(y!==null){if(process.env.NODE_ENV!=="production"&&y.length>=2)throw Error(`[css-render/plugin-bem]: m(${f}) is invalid, using modifier inside multiple elements is not allowed`);return m(y[0])}else return m()}}}function d(f){return{$({context:u,props:h}){f=typeof f=="string"?f:f({context:u,props:h});const p=u.bem.els;if(process.env.NODE_ENV!=="production"&&p!==null&&p.length>=2)throw Error(`[css-render/plugin-bem]: notM(${f}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(h==null?void 0:h.bPrefix)||e}${u.bem.b}${p!==null&&p.length>0?`${r}${p[0]}`:""}${n}${f})`}}}return Object.assign(o,{cB:(...f)=>i(s(f[0]),f[1],f[2]),cE:(...f)=>i(a(f[0]),f[1],f[2]),cM:(...f)=>i(l(f[0]),f[1],f[2]),cNotM:(...f)=>i(d(f[0]),f[1],f[2])}),o}function _s(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,r=>r.toUpperCase()))}_s("abc","def");const vJ="n",_J=`.${vJ}-`,wJ="__",xJ="--",gI=yJ(),yI=bJ({blockPrefix:_J,elementPrefix:wJ,modifierPrefix:xJ});gI.use(yI);const{c:en,find:ppe}=gI,{cB:Op,cE:xt,cM:Pi,cNotM:bI}=yI;function TJ(t,e){return c.watch(t,r=>{r!==void 0&&(e.value=r)}),c.computed(()=>t.value===void 0?e.value:t.value)}function AJ(){const t=c.ref(!1);return c.onMounted(()=>{t.value=!0}),c.readonly(t)}const vI=Symbol("@css-render/vue3-ssr");function CJ(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function SJ(t,e){const r=c.inject(vI,null);if(r===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:n,ids:i}=r;i.has(t)||n!==null&&(i.add(t),n.push(CJ(t,e)))}const EJ=typeof document<"u";function _b(){if(EJ)return;const t=c.inject(vI,null);if(t!==null)return{adapter:SJ,context:t}}const _I="n-form-item";function kJ(t,{defaultSize:e="medium",mergedSize:r,mergedDisabled:n}={}){const i=c.inject(_I,null);c.provide(_I,null);const o=c.computed(r?()=>r(i):()=>{const{size:l}=t;if(l)return l;if(i){const{mergedSize:d}=i;if(d.value!==void 0)return d.value}return e}),s=c.computed(n?()=>n(i):()=>{const{disabled:l}=t;return l!==void 0?l:i?i.disabled.value:!1}),a=c.computed(()=>{const{status:l}=t;return l||(i==null?void 0:i.mergedValidationStatus.value)});return c.onBeforeUnmount(()=>{i&&i.restoreValidation()}),{mergedSizeRef:o,mergedDisabledRef:s,mergedStatusRef:a,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var IJ=typeof global=="object"&&global&&global.Object===Object&&global;const wI=IJ;var DJ=typeof self=="object"&&self&&self.Object===Object&&self,MJ=wI||DJ||Function("return this")();const dc=MJ;var NJ=dc.Symbol;const Lp=NJ;var xI=Object.prototype,OJ=xI.hasOwnProperty,LJ=xI.toString,pd=Lp?Lp.toStringTag:void 0;function BJ(t){var e=OJ.call(t,pd),r=t[pd];try{t[pd]=void 0;var n=!0}catch{}var i=LJ.call(t);return n&&(e?t[pd]=r:delete t[pd]),i}var RJ=Object.prototype,PJ=RJ.toString;function FJ(t){return PJ.call(t)}var UJ="[object Null]",jJ="[object Undefined]",TI=Lp?Lp.toStringTag:void 0;function Bp(t){return t==null?t===void 0?jJ:UJ:TI&&TI in Object(t)?BJ(t):FJ(t)}function md(t){return t!=null&&typeof t=="object"}var $J=Array.isArray;const wb=$J;function wa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function AI(t){return t}var zJ="[object AsyncFunction]",VJ="[object Function]",HJ="[object GeneratorFunction]",qJ="[object Proxy]";function xb(t){if(!wa(t))return!1;var e=Bp(t);return e==VJ||e==HJ||e==zJ||e==qJ}var WJ=dc["__core-js_shared__"];const Tb=WJ;var CI=function(){var t=/[^.]+$/.exec(Tb&&Tb.keys&&Tb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GJ(t){return!!CI&&CI in t}var QJ=Function.prototype,YJ=QJ.toString;function KJ(t){if(t!=null){try{return YJ.call(t)}catch{}try{return t+""}catch{}}return""}var XJ=/[\\^$.*+?()[\]{}|]/g,ZJ=/^\[object .+?Constructor\]$/,JJ=Function.prototype,eee=Object.prototype,tee=JJ.toString,ree=eee.hasOwnProperty,nee=RegExp("^"+tee.call(ree).replace(XJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iee(t){if(!wa(t)||GJ(t))return!1;var e=xb(t)?nee:ZJ;return e.test(KJ(t))}function oee(t,e){return t==null?void 0:t[e]}function Ab(t,e){var r=oee(t,e);return iee(r)?r:void 0}var SI=Object.create,see=function(){function t(){}return function(e){if(!wa(e))return{};if(SI)return SI(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const aee=see;function lee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function cee(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var uee=800,dee=16,fee=Date.now;function hee(t){var e=0,r=0;return function(){var n=fee(),i=dee-(n-r);if(r=n,i>0){if(++e>=uee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function pee(t){return function(){return t}}var mee=function(){try{var t=Ab(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Rp=mee;var gee=Rp?function(t,e){return Rp(t,"toString",{configurable:!0,enumerable:!1,value:pee(e),writable:!0})}:AI,yee=hee(gee);const bee=yee;var vee=9007199254740991,_ee=/^(?:0|[1-9]\d*)$/;function EI(t,e){var r=typeof t;return e=e??vee,!!e&&(r=="number"||r!="symbol"&&_ee.test(t))&&t>-1&&t%1==0&&t<e}function Cb(t,e,r){e=="__proto__"&&Rp?Rp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Pp(t,e){return t===e||t!==t&&e!==e}var wee=Object.prototype,xee=wee.hasOwnProperty;function Tee(t,e,r){var n=t[e];(!(xee.call(t,e)&&Pp(n,r))||r===void 0&&!(e in t))&&Cb(t,e,r)}function Aee(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?Cb(r,a,l):Tee(r,a,l)}return r}var kI=Math.max;function Cee(t,e,r){return e=kI(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=kI(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),lee(t,this,a)}}function See(t,e){return bee(Cee(t,e,AI),t+"")}var Eee=9007199254740991;function II(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Eee}function Sb(t){return t!=null&&II(t.length)&&!xb(t)}function kee(t,e,r){if(!wa(r))return!1;var n=typeof e;return(n=="number"?Sb(r)&&EI(e,r.length):n=="string"&&e in r)?Pp(r[e],t):!1}function Iee(t){return See(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&kee(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}var Dee=Object.prototype;function DI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Dee;return t===r}function Mee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Nee="[object Arguments]";function MI(t){return md(t)&&Bp(t)==Nee}var NI=Object.prototype,Oee=NI.hasOwnProperty,Lee=NI.propertyIsEnumerable,Bee=MI(function(){return arguments}())?MI:function(t){return md(t)&&Oee.call(t,"callee")&&!Lee.call(t,"callee")};const Eb=Bee;function Ree(){return!1}var OI=typeof lt=="object"&&lt&&!lt.nodeType&&lt,LI=OI&&typeof module=="object"&&module&&!module.nodeType&&module,Pee=LI&&LI.exports===OI,BI=Pee?dc.Buffer:void 0,Fee=BI?BI.isBuffer:void 0,Uee=Fee||Ree;const RI=Uee;var jee="[object Arguments]",$ee="[object Array]",zee="[object Boolean]",Vee="[object Date]",Hee="[object Error]",qee="[object Function]",Wee="[object Map]",Gee="[object Number]",Qee="[object Object]",Yee="[object RegExp]",Kee="[object Set]",Xee="[object String]",Zee="[object WeakMap]",Jee="[object ArrayBuffer]",ete="[object DataView]",tte="[object Float32Array]",rte="[object Float64Array]",nte="[object Int8Array]",ite="[object Int16Array]",ote="[object Int32Array]",ste="[object Uint8Array]",ate="[object Uint8ClampedArray]",lte="[object Uint16Array]",cte="[object Uint32Array]",Zt={};Zt[tte]=Zt[rte]=Zt[nte]=Zt[ite]=Zt[ote]=Zt[ste]=Zt[ate]=Zt[lte]=Zt[cte]=!0,Zt[jee]=Zt[$ee]=Zt[Jee]=Zt[zee]=Zt[ete]=Zt[Vee]=Zt[Hee]=Zt[qee]=Zt[Wee]=Zt[Gee]=Zt[Qee]=Zt[Yee]=Zt[Kee]=Zt[Xee]=Zt[Zee]=!1;function ute(t){return md(t)&&II(t.length)&&!!Zt[Bp(t)]}function dte(t){return function(e){return t(e)}}var PI=typeof lt=="object"&&lt&&!lt.nodeType&&lt,gd=PI&&typeof module=="object"&&module&&!module.nodeType&&module,fte=gd&&gd.exports===PI,kb=fte&&wI.process,hte=function(){try{var t=gd&&gd.require&&gd.require("util").types;return t||kb&&kb.binding&&kb.binding("util")}catch{}}();const FI=hte;var UI=FI&&FI.isTypedArray,pte=UI?dte(UI):ute;const jI=pte;function mte(t,e){var r=wb(t),n=!r&&Eb(t),i=!r&&!n&&RI(t),o=!r&&!n&&!i&&jI(t),s=r||n||i||o,a=s?Mee(t.length,String):[],l=a.length;for(var d in t)!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||EI(d,l)))&&a.push(d);return a}function gte(t,e){return function(r){return t(e(r))}}function yte(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var bte=Object.prototype,vte=bte.hasOwnProperty;function _te(t){if(!wa(t))return yte(t);var e=DI(t),r=[];for(var n in t)n=="constructor"&&(e||!vte.call(t,n))||r.push(n);return r}function $I(t){return Sb(t)?mte(t):_te(t)}var wte=Ab(Object,"create");const yd=wte;function xte(){this.__data__=yd?yd(null):{},this.size=0}function Tte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ate="__lodash_hash_undefined__",Cte=Object.prototype,Ste=Cte.hasOwnProperty;function Ete(t){var e=this.__data__;if(yd){var r=e[t];return r===Ate?void 0:r}return Ste.call(e,t)?e[t]:void 0}var kte=Object.prototype,Ite=kte.hasOwnProperty;function Dte(t){var e=this.__data__;return yd?e[t]!==void 0:Ite.call(e,t)}var Mte="__lodash_hash_undefined__";function Nte(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yd&&e===void 0?Mte:e,this}function xa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xa.prototype.clear=xte,xa.prototype.delete=Tte,xa.prototype.get=Ete,xa.prototype.has=Dte,xa.prototype.set=Nte;function Ote(){this.__data__=[],this.size=0}function Fp(t,e){for(var r=t.length;r--;)if(Pp(t[r][0],e))return r;return-1}var Lte=Array.prototype,Bte=Lte.splice;function Rte(t){var e=this.__data__,r=Fp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Bte.call(e,r,1),--this.size,!0}function Pte(t){var e=this.__data__,r=Fp(e,t);return r<0?void 0:e[r][1]}function Fte(t){return Fp(this.__data__,t)>-1}function Ute(t,e){var r=this.__data__,n=Fp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Uo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Uo.prototype.clear=Ote,Uo.prototype.delete=Rte,Uo.prototype.get=Pte,Uo.prototype.has=Fte,Uo.prototype.set=Ute;var jte=Ab(dc,"Map");const zI=jte;function $te(){this.size=0,this.__data__={hash:new xa,map:new(zI||Uo),string:new xa}}function zte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Up(t,e){var r=t.__data__;return zte(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Vte(t){var e=Up(this,t).delete(t);return this.size-=e?1:0,e}function Hte(t){return Up(this,t).get(t)}function qte(t){return Up(this,t).has(t)}function Wte(t,e){var r=Up(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function fc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fc.prototype.clear=$te,fc.prototype.delete=Vte,fc.prototype.get=Hte,fc.prototype.has=qte,fc.prototype.set=Wte;var Gte=gte(Object.getPrototypeOf,Object);const VI=Gte;var Qte="[object Object]",Yte=Function.prototype,Kte=Object.prototype,HI=Yte.toString,Xte=Kte.hasOwnProperty,Zte=HI.call(Object);function Jte(t){if(!md(t)||Bp(t)!=Qte)return!1;var e=VI(t);if(e===null)return!0;var r=Xte.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&HI.call(r)==Zte}function ere(){this.__data__=new Uo,this.size=0}function tre(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function rre(t){return this.__data__.get(t)}function nre(t){return this.__data__.has(t)}var ire=200;function ore(t,e){var r=this.__data__;if(r instanceof Uo){var n=r.__data__;if(!zI||n.length<ire-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new fc(n)}return r.set(t,e),this.size=r.size,this}function hc(t){var e=this.__data__=new Uo(t);this.size=e.size}hc.prototype.clear=ere,hc.prototype.delete=tre,hc.prototype.get=rre,hc.prototype.has=nre,hc.prototype.set=ore;var qI=typeof lt=="object"&&lt&&!lt.nodeType&&lt,WI=qI&&typeof module=="object"&&module&&!module.nodeType&&module,sre=WI&&WI.exports===qI,GI=sre?dc.Buffer:void 0;GI&&GI.allocUnsafe;function are(t,e){return t.slice()}var lre=dc.Uint8Array;const QI=lre;function cre(t){var e=new t.constructor(t.byteLength);return new QI(e).set(new QI(t)),e}function ure(t,e){var r=cre(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function dre(t){return typeof t.constructor=="function"&&!DI(t)?aee(VI(t)):{}}function fre(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[++i];if(r(o[l],l,o)===!1)break}return e}}var hre=fre();const pre=hre;function Ib(t,e,r){(r!==void 0&&!Pp(t[e],r)||r===void 0&&!(e in t))&&Cb(t,e,r)}function mre(t){return md(t)&&Sb(t)}function Db(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function gre(t){return Aee(t,$I(t))}function yre(t,e,r,n,i,o,s){var a=Db(t,r),l=Db(e,r),d=s.get(l);if(d){Ib(t,r,d);return}var f=o?o(a,l,r+"",t,e,s):void 0,u=f===void 0;if(u){var h=wb(l),p=!h&&RI(l),m=!h&&!p&&jI(l);f=l,h||p||m?wb(a)?f=a:mre(a)?f=cee(a):p?(u=!1,f=are(l)):m?(u=!1,f=ure(l)):f=[]:Jte(l)||Eb(l)?(f=a,Eb(a)?f=gre(a):(!wa(a)||xb(a))&&(f=dre(l))):u=!1}u&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),Ib(t,r,f)}function YI(t,e,r,n,i){t!==e&&pre(e,function(o,s){if(i||(i=new hc),wa(o))yre(t,e,s,r,YI,n,i);else{var a=n?n(Db(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Ib(t,s,a)}},$I)}var bre=Iee(function(t,e,r){YI(t,e,r)});const jp=bre,$p={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:vre,fontFamily:_re,lineHeight:wre}=$p,KI=en("body",`
 margin: 0;
 font-size: ${vre};
 font-family: ${_re};
 line-height: ${wre};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[en("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),zp="n-config-provider",Vp="naive-ui-style";function bd(t,e,r,n,i,o){const s=_b(),a=c.inject(zp,null);if(r){const l=()=>{const d=o==null?void 0:o.value;r.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:Vp,ssr:s}),a!=null&&a.preflightStyleDisabled||KI.mount({id:"n-global",head:!0,anchorMetaName:Vp,ssr:s})};s?l():c.onBeforeMount(l)}return c.computed(()=>{var l;const{theme:{common:d,self:f,peers:u={}}={},themeOverrides:h={},builtinThemeOverrides:p={}}=i,{common:m,peers:y}=h,{common:b=void 0,[t]:{common:v=void 0,self:E=void 0,peers:A={}}={}}=(a==null?void 0:a.mergedThemeRef.value)||{},{common:k=void 0,[t]:C={}}=(a==null?void 0:a.mergedThemeOverridesRef.value)||{},{common:T,peers:O={}}=C,D=jp({},d||v||b||n.common,k,T,m),S=jp((l=f||E||n.self)===null||l===void 0?void 0:l(D),p,C,h);return{common:D,self:S,peers:jp({},n.peers,A,u),peerOverrides:jp({},p.peers,O,y)}})}bd.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const xre="n";function XI(t={},e={defaultBordered:!0}){const r=c.inject(zp,null);return{inlineThemeDisabled:r==null?void 0:r.inlineThemeDisabled,mergedRtlRef:r==null?void 0:r.mergedRtlRef,mergedComponentPropsRef:r==null?void 0:r.mergedComponentPropsRef,mergedBreakpointsRef:r==null?void 0:r.mergedBreakpointsRef,mergedBorderedRef:c.computed(()=>{var n,i;const{bordered:o}=t;return o!==void 0?o:(i=(n=r==null?void 0:r.mergedBorderedRef.value)!==null&&n!==void 0?n:e.defaultBordered)!==null&&i!==void 0?i:!0}),mergedClsPrefixRef:r?r.mergedClsPrefixRef:c.shallowRef(xre),namespaceRef:c.computed(()=>r==null?void 0:r.mergedNamespaceRef.value)}}function Tre(t,e,r){if(!e){process.env.NODE_ENV!=="production"&&aI("use-style","No style is specified.");return}const n=_b(),i=c.inject(zp,null),o=()=>{const s=r.value;e.mount({id:s===void 0?t:s+t,head:!0,anchorMetaName:Vp,props:{bPrefix:s?`.${s}-`:void 0},ssr:n}),i!=null&&i.preflightStyleDisabled||KI.mount({id:"n-global",head:!0,anchorMetaName:Vp,ssr:n})};n?o():c.onBeforeMount(o)}function ZI(t,e,r,n){var i;r||aI("useThemeClass","cssVarsRef is not passed");const o=(i=c.inject(zp,null))===null||i===void 0?void 0:i.mergedThemeHashRef,s=c.ref(""),a=_b();let l;const d=`__${t}`,f=()=>{let u=d;const h=e?e.value:void 0,p=o==null?void 0:o.value;p&&(u+="-"+p),h&&(u+="-"+h);const{themeOverrides:m,builtinThemeOverrides:y}=n;m&&(u+="-"+vb(JSON.stringify(m))),y&&(u+="-"+vb(JSON.stringify(y))),s.value=u,l=()=>{const b=r.value;let v="";for(const E in b)v+=`${E}: ${b[E]};`;en(`.${u}`,v).mount({id:u,ssr:a}),l=void 0}};return c.watchEffect(()=>{f()}),{themeClass:s,onRender:()=>{l==null||l()}}}const JI=c.defineComponent({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const r=AJ();return()=>c.h(c.Transition,{name:"icon-switch-transition",appear:r.value},e)}}),{cubicBezierEaseInOut:Are}=$p;function Hp({originalTransform:t="",left:e=0,top:r=0,transition:n=`all .3s ${Are} !important`}={}){return[en("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:t+" scale(0.75)",left:e,top:r,opacity:0}),en("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:r,opacity:1}),en("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:r,transition:n})]}const Cre=en([en("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),en("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),en("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),en("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),Op("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[xt("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[Hp()]),xt("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[xt("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),xt("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[xt("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[xt("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),xt("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[xt("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),xt("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[xt("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),xt("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Hp({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),Sre={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},Ere=c.defineComponent({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},Sre),setup(t){Tre("-base-loading",Cre,c.toRef(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:r,stroke:n,scale:i}=this,o=e/i;return c.h("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},c.h(JI,null,{default:()=>this.show?c.h("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},c.h("div",{class:`${t}-base-loading__container`},c.h("div",{class:`${t}-base-loading__container-layer`},c.h("div",{class:`${t}-base-loading__container-layer-left`},c.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},c.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),c.h("div",{class:`${t}-base-loading__container-layer-patch`},c.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},c.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e}))),c.h("div",{class:`${t}-base-loading__container-layer-right`},c.h("svg",{class:`${t}-base-loading__svg`,viewBox:`0 0 ${2*o} ${2*o}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},c.h("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:o,cy:o,r:e-r/2,"stroke-dasharray":4.91*e,"stroke-dashoffset":2.46*e})))))):c.h("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),We={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},kre=Fo(We.neutralBase),eD=Fo(We.neutralInvertBase),Ire="rgba("+eD.slice(0,3).join(", ")+", ";function It(t){return Ire+String(t)+")"}function Dre(t){const e=Array.from(eD);return e[3]=Number(t),nt(kre,e)}const Mre=Object.assign(Object.assign({name:"common"},$p),{baseColor:We.neutralBase,primaryColor:We.primaryDefault,primaryColorHover:We.primaryHover,primaryColorPressed:We.primaryActive,primaryColorSuppl:We.primarySuppl,infoColor:We.infoDefault,infoColorHover:We.infoHover,infoColorPressed:We.infoActive,infoColorSuppl:We.infoSuppl,successColor:We.successDefault,successColorHover:We.successHover,successColorPressed:We.successActive,successColorSuppl:We.successSuppl,warningColor:We.warningDefault,warningColorHover:We.warningHover,warningColorPressed:We.warningActive,warningColorSuppl:We.warningSuppl,errorColor:We.errorDefault,errorColorHover:We.errorHover,errorColorPressed:We.errorActive,errorColorSuppl:We.errorSuppl,textColorBase:We.neutralTextBase,textColor1:It(We.alpha1),textColor2:It(We.alpha2),textColor3:It(We.alpha3),textColorDisabled:It(We.alpha4),placeholderColor:It(We.alpha4),placeholderColorDisabled:It(We.alpha5),iconColor:It(We.alpha4),iconColorDisabled:It(We.alpha5),iconColorHover:It(Number(We.alpha4)*1.25),iconColorPressed:It(Number(We.alpha4)*.8),opacity1:We.alpha1,opacity2:We.alpha2,opacity3:We.alpha3,opacity4:We.alpha4,opacity5:We.alpha5,dividerColor:It(We.alphaDivider),borderColor:It(We.alphaBorder),closeIconColorHover:It(Number(We.alphaClose)),closeIconColor:It(Number(We.alphaClose)),closeIconColorPressed:It(Number(We.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:It(We.alpha4),clearColorHover:vr(It(We.alpha4),{alpha:1.25}),clearColorPressed:vr(It(We.alpha4),{alpha:.8}),scrollbarColor:It(We.alphaScrollbar),scrollbarColorHover:It(We.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:It(We.alphaProgressRail),railColor:It(We.alphaRail),popoverColor:We.neutralPopover,tableColor:We.neutralCard,cardColor:We.neutralCard,modalColor:We.neutralModal,bodyColor:We.neutralBody,tagColor:Dre(We.alphaTag),avatarColor:It(We.alphaAvatar),invertedColor:We.neutralBase,inputColor:It(We.alphaInput),codeColor:It(We.alphaCode),tabColor:It(We.alphaTab),actionColor:It(We.alphaAction),tableHeaderColor:It(We.alphaAction),hoverColor:It(We.alphaPending),tableColorHover:It(We.alphaTablePending),tableColorStriped:It(We.alphaTableStriped),pressedColor:It(We.alphaPressed),opacityDisabled:We.alphaDisabled,inputColorDisabled:It(We.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Ue=Mre,tt={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},Nre=Fo(tt.neutralBase),tD=Fo(tt.neutralInvertBase),Ore="rgba("+tD.slice(0,3).join(", ")+", ";function rD(t){return Ore+String(t)+")"}function tn(t){const e=Array.from(tD);return e[3]=Number(t),nt(Nre,e)}const Lre=Object.assign(Object.assign({name:"common"},$p),{baseColor:tt.neutralBase,primaryColor:tt.primaryDefault,primaryColorHover:tt.primaryHover,primaryColorPressed:tt.primaryActive,primaryColorSuppl:tt.primarySuppl,infoColor:tt.infoDefault,infoColorHover:tt.infoHover,infoColorPressed:tt.infoActive,infoColorSuppl:tt.infoSuppl,successColor:tt.successDefault,successColorHover:tt.successHover,successColorPressed:tt.successActive,successColorSuppl:tt.successSuppl,warningColor:tt.warningDefault,warningColorHover:tt.warningHover,warningColorPressed:tt.warningActive,warningColorSuppl:tt.warningSuppl,errorColor:tt.errorDefault,errorColorHover:tt.errorHover,errorColorPressed:tt.errorActive,errorColorSuppl:tt.errorSuppl,textColorBase:tt.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:tn(tt.alpha4),placeholderColor:tn(tt.alpha4),placeholderColorDisabled:tn(tt.alpha5),iconColor:tn(tt.alpha4),iconColorHover:vr(tn(tt.alpha4),{lightness:.75}),iconColorPressed:vr(tn(tt.alpha4),{lightness:.9}),iconColorDisabled:tn(tt.alpha5),opacity1:tt.alpha1,opacity2:tt.alpha2,opacity3:tt.alpha3,opacity4:tt.alpha4,opacity5:tt.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:tn(Number(tt.alphaClose)),closeIconColorHover:tn(Number(tt.alphaClose)),closeIconColorPressed:tn(Number(tt.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:tn(tt.alpha4),clearColorHover:vr(tn(tt.alpha4),{lightness:.75}),clearColorPressed:vr(tn(tt.alpha4),{lightness:.9}),scrollbarColor:rD(tt.alphaScrollbar),scrollbarColorHover:rD(tt.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:tn(tt.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:tt.neutralPopover,tableColor:tt.neutralCard,cardColor:tt.neutralCard,modalColor:tt.neutralModal,bodyColor:tt.neutralBody,tagColor:"#eee",avatarColor:tn(tt.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:tn(tt.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:tt.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Mb=Lre,Bre={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},nD=t=>{const{textColorDisabled:e,iconColor:r,textColor2:n,fontSizeSmall:i,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:a}=t;return Object.assign(Object.assign({},Bre),{fontSizeSmall:i,fontSizeMedium:o,fontSizeLarge:s,fontSizeHuge:a,textColor:e,iconColor:r,extraTextColor:n})},Rre={name:"Empty",common:Mb,self:nD},Pre=Rre,Fre={name:"Empty",common:Ue,self:nD},Ta=Fre,Ure=t=>{const{scrollbarColor:e,scrollbarColorHover:r}=t;return{color:e,colorHover:r}},jre={name:"Scrollbar",common:Ue,self:Ure},Ln=jre,$re={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},zre=t=>{const{borderRadius:e,popoverColor:r,textColor3:n,dividerColor:i,textColor2:o,primaryColorPressed:s,textColorDisabled:a,primaryColor:l,opacityDisabled:d,hoverColor:f,fontSizeSmall:u,fontSizeMedium:h,fontSizeLarge:p,fontSizeHuge:m,heightSmall:y,heightMedium:b,heightLarge:v,heightHuge:E}=t;return Object.assign(Object.assign({},$re),{optionFontSizeSmall:u,optionFontSizeMedium:h,optionFontSizeLarge:p,optionFontSizeHuge:m,optionHeightSmall:y,optionHeightMedium:b,optionHeightLarge:v,optionHeightHuge:E,borderRadius:e,color:r,groupHeaderTextColor:n,actionDividerColor:i,optionTextColor:o,optionTextColorPressed:s,optionTextColorDisabled:a,optionTextColorActive:l,optionOpacityDisabled:d,optionCheckColor:l,optionColorPending:f,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:f,actionTextColor:o,loadingColor:l})},Vre={name:"InternalSelectMenu",common:Ue,peers:{Scrollbar:Ln,Empty:Ta},self:zre},vd=Vre,Hre={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},qre=t=>{const{boxShadow2:e,popoverColor:r,textColor2:n,borderRadius:i,fontSize:o,dividerColor:s}=t;return Object.assign(Object.assign({},Hre),{fontSize:o,borderRadius:i,color:r,dividerColor:s,textColor:n,boxShadow:e})},Wre={name:"Popover",common:Ue,self:qre},Aa=Wre,Gre={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},Qre={name:"Tag",common:Ue,self(t){const{textColor2:e,primaryColorHover:r,primaryColorPressed:n,primaryColor:i,infoColor:o,successColor:s,warningColor:a,errorColor:l,baseColor:d,borderColor:f,tagColor:u,opacityDisabled:h,closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:y,closeColorHover:b,closeColorPressed:v,borderRadiusSmall:E,fontSizeMini:A,fontSizeTiny:k,fontSizeSmall:C,fontSizeMedium:T,heightMini:O,heightTiny:D,heightSmall:S,heightMedium:R,buttonColor2Hover:z,buttonColor2Pressed:F,fontWeightStrong:P}=t;return Object.assign(Object.assign({},Gre),{closeBorderRadius:E,heightTiny:O,heightSmall:D,heightMedium:S,heightLarge:R,borderRadius:E,opacityDisabled:h,fontSizeTiny:A,fontSizeSmall:k,fontSizeMedium:C,fontSizeLarge:T,fontWeightStrong:P,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:d,colorCheckable:"#0000",colorHoverCheckable:z,colorPressedCheckable:F,colorChecked:i,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${f}`,textColor:e,color:u,colorBordered:"#0000",closeIconColor:p,closeIconColorHover:m,closeIconColorPressed:y,closeColorHover:b,closeColorPressed:v,borderPrimary:`1px solid ${Ye(i,{alpha:.3})}`,textColorPrimary:i,colorPrimary:Ye(i,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:vr(i,{lightness:.7}),closeIconColorHoverPrimary:vr(i,{lightness:.7}),closeIconColorPressedPrimary:vr(i,{lightness:.7}),closeColorHoverPrimary:Ye(i,{alpha:.16}),closeColorPressedPrimary:Ye(i,{alpha:.12}),borderInfo:`1px solid ${Ye(o,{alpha:.3})}`,textColorInfo:o,colorInfo:Ye(o,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:vr(o,{alpha:.7}),closeIconColorHoverInfo:vr(o,{alpha:.7}),closeIconColorPressedInfo:vr(o,{alpha:.7}),closeColorHoverInfo:Ye(o,{alpha:.16}),closeColorPressedInfo:Ye(o,{alpha:.12}),borderSuccess:`1px solid ${Ye(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:Ye(s,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:vr(s,{alpha:.7}),closeIconColorHoverSuccess:vr(s,{alpha:.7}),closeIconColorPressedSuccess:vr(s,{alpha:.7}),closeColorHoverSuccess:Ye(s,{alpha:.16}),closeColorPressedSuccess:Ye(s,{alpha:.12}),borderWarning:`1px solid ${Ye(a,{alpha:.3})}`,textColorWarning:a,colorWarning:Ye(a,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:vr(a,{alpha:.7}),closeIconColorHoverWarning:vr(a,{alpha:.7}),closeIconColorPressedWarning:vr(a,{alpha:.7}),closeColorHoverWarning:Ye(a,{alpha:.16}),closeColorPressedWarning:Ye(a,{alpha:.11}),borderError:`1px solid ${Ye(l,{alpha:.3})}`,textColorError:l,colorError:Ye(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:vr(l,{alpha:.7}),closeIconColorHoverError:vr(l,{alpha:.7}),closeIconColorPressedError:vr(l,{alpha:.7}),closeColorHoverError:Ye(l,{alpha:.16}),closeColorPressedError:Ye(l,{alpha:.12})})}},iD=Qre,Yre={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},Kre={name:"InternalSelection",common:Ue,peers:{Popover:Aa},self(t){const{borderRadius:e,textColor2:r,textColorDisabled:n,inputColor:i,inputColorDisabled:o,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:u,iconColor:h,iconColorDisabled:p,clearColor:m,clearColorHover:y,clearColorPressed:b,placeholderColor:v,placeholderColorDisabled:E,fontSizeTiny:A,fontSizeSmall:k,fontSizeMedium:C,fontSizeLarge:T,heightTiny:O,heightSmall:D,heightMedium:S,heightLarge:R}=t;return Object.assign(Object.assign({},Yre),{fontSizeTiny:A,fontSizeSmall:k,fontSizeMedium:C,fontSizeLarge:T,heightTiny:O,heightSmall:D,heightMedium:S,heightLarge:R,borderRadius:e,textColor:r,textColorDisabled:n,placeholderColor:v,placeholderColorDisabled:E,color:i,colorDisabled:o,colorActive:Ye(s,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,caretColor:s,arrowColor:h,arrowColorDisabled:p,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,colorActiveWarning:Ye(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${f}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${Ye(f,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${Ye(f,{alpha:.4})}`,colorActiveError:Ye(f,{alpha:.1}),caretColorError:f,clearColor:m,clearColorHover:y,clearColorPressed:b})}},Nb=Kre,Xre={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},Zre={name:"Alert",common:Ue,self(t){const{lineHeight:e,borderRadius:r,fontWeightStrong:n,dividerColor:i,inputColor:o,textColor1:s,textColor2:a,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,infoColorSuppl:p,successColorSuppl:m,warningColorSuppl:y,errorColorSuppl:b,fontSize:v}=t;return Object.assign(Object.assign({},Xre),{fontSize:v,lineHeight:e,titleFontWeight:n,borderRadius:r,border:`1px solid ${i}`,color:o,titleTextColor:s,iconColor:a,contentTextColor:a,closeBorderRadius:r,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,borderInfo:`1px solid ${Ye(p,{alpha:.35})}`,colorInfo:Ye(p,{alpha:.25}),titleTextColorInfo:s,iconColorInfo:p,contentTextColorInfo:a,closeColorHoverInfo:l,closeColorPressedInfo:d,closeIconColorInfo:f,closeIconColorHoverInfo:u,closeIconColorPressedInfo:h,borderSuccess:`1px solid ${Ye(m,{alpha:.35})}`,colorSuccess:Ye(m,{alpha:.25}),titleTextColorSuccess:s,iconColorSuccess:m,contentTextColorSuccess:a,closeColorHoverSuccess:l,closeColorPressedSuccess:d,closeIconColorSuccess:f,closeIconColorHoverSuccess:u,closeIconColorPressedSuccess:h,borderWarning:`1px solid ${Ye(y,{alpha:.35})}`,colorWarning:Ye(y,{alpha:.25}),titleTextColorWarning:s,iconColorWarning:y,contentTextColorWarning:a,closeColorHoverWarning:l,closeColorPressedWarning:d,closeIconColorWarning:f,closeIconColorHoverWarning:u,closeIconColorPressedWarning:h,borderError:`1px solid ${Ye(b,{alpha:.35})}`,colorError:Ye(b,{alpha:.25}),titleTextColorError:s,iconColorError:b,contentTextColorError:a,closeColorHoverError:l,closeColorPressedError:d,closeIconColorError:f,closeIconColorHoverError:u,closeIconColorPressedError:h})}},Jre=Zre,ene={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},tne=t=>{const{borderRadius:e,railColor:r,primaryColor:n,primaryColorHover:i,primaryColorPressed:o,textColor2:s}=t;return Object.assign(Object.assign({},ene),{borderRadius:e,railColor:r,railColorActive:n,linkColor:Ye(n,{alpha:.15}),linkTextColor:s,linkTextColorHover:i,linkTextColorPressed:o,linkTextColorActive:n})},rne={name:"Anchor",common:Ue,self:tne},nne=rne,ine={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},one={name:"Input",common:Ue,self(t){const{textColor2:e,textColor3:r,textColorDisabled:n,primaryColor:i,primaryColorHover:o,inputColor:s,inputColorDisabled:a,warningColor:l,warningColorHover:d,errorColor:f,errorColorHover:u,borderRadius:h,lineHeight:p,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:v,heightTiny:E,heightSmall:A,heightMedium:k,heightLarge:C,clearColor:T,clearColorHover:O,clearColorPressed:D,placeholderColor:S,placeholderColorDisabled:R,iconColor:z,iconColorDisabled:F,iconColorHover:P,iconColorPressed:$}=t;return Object.assign(Object.assign({},ine),{countTextColorDisabled:n,countTextColor:r,heightTiny:E,heightSmall:A,heightMedium:k,heightLarge:C,fontSizeTiny:m,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:v,lineHeight:p,lineHeightTextarea:p,borderRadius:h,iconSize:"16px",groupLabelColor:s,textColor:e,textColorDisabled:n,textDecorationColor:e,groupLabelTextColor:e,caretColor:i,placeholderColor:S,placeholderColorDisabled:R,color:s,colorDisabled:a,colorFocus:Ye(i,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${o}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${o}`,boxShadowFocus:`0 0 8px 0 ${Ye(i,{alpha:.3})}`,loadingColor:i,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:Ye(l,{alpha:.1}),borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${u}`,colorFocusError:Ye(f,{alpha:.1}),borderFocusError:`1px solid ${u}`,boxShadowFocusError:`0 0 8px 0 ${Ye(f,{alpha:.3})}`,caretColorError:f,clearColor:T,clearColorHover:O,clearColorPressed:D,iconColor:z,iconColorDisabled:F,iconColorHover:P,iconColorPressed:$,suffixTextColor:e})}},fi=one;function sne(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const ane={name:"AutoComplete",common:Ue,peers:{InternalSelectMenu:vd,Input:fi},self:sne},lne=ane,cne=t=>{const{borderRadius:e,avatarColor:r,cardColor:n,fontSize:i,heightTiny:o,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:d,modalColor:f,popoverColor:u}=t;return{borderRadius:e,fontSize:i,border:`2px solid ${n}`,heightTiny:o,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:d,color:nt(n,r),colorModal:nt(f,r),colorPopover:nt(u,r)}},une={name:"Avatar",common:Ue,self:cne},oD=une,dne=()=>({gap:"-12px"}),fne={name:"AvatarGroup",common:Ue,peers:{Avatar:oD},self:dne},hne=fne,pne={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},mne={name:"BackTop",common:Ue,self(t){const{popoverColor:e,textColor2:r,primaryColorHover:n,primaryColorPressed:i}=t;return Object.assign(Object.assign({},pne),{color:e,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:i,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},gne=mne,yne={name:"Badge",common:Ue,self(t){const{errorColorSuppl:e,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:i,fontFamily:o}=t;return{color:e,colorInfo:r,colorSuccess:n,colorError:e,colorWarning:i,fontSize:"12px",fontFamily:o}}},bne=yne,vne={fontWeightActive:"400"},_ne=t=>{const{fontSize:e,textColor3:r,textColor2:n,borderRadius:i,buttonColor2Hover:o,buttonColor2Pressed:s}=t;return Object.assign(Object.assign({},vne),{fontSize:e,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:i,itemColorHover:o,itemColorPressed:s,separatorColor:r})},wne={name:"Breadcrumb",common:Ue,self:_ne},xne=wne,Tne={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},Ane=t=>{const{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadius:o,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,textColor2:u,textColor3:h,primaryColorHover:p,primaryColorPressed:m,borderColor:y,primaryColor:b,baseColor:v,infoColor:E,infoColorHover:A,infoColorPressed:k,successColor:C,successColorHover:T,successColorPressed:O,warningColor:D,warningColorHover:S,warningColorPressed:R,errorColor:z,errorColorHover:F,errorColorPressed:P,fontWeight:$,buttonColor2:W,buttonColor2Hover:B,buttonColor2Pressed:j,fontWeightStrong:re}=t;return Object.assign(Object.assign({},Tne),{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:i,borderRadiusTiny:o,borderRadiusSmall:o,borderRadiusMedium:o,borderRadiusLarge:o,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:d,opacityDisabled:f,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:W,colorSecondaryHover:B,colorSecondaryPressed:j,colorTertiary:W,colorTertiaryHover:B,colorTertiaryPressed:j,colorQuaternary:"#0000",colorQuaternaryHover:B,colorQuaternaryPressed:j,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:u,textColorTertiary:h,textColorHover:p,textColorPressed:m,textColorFocus:p,textColorDisabled:u,textColorText:u,textColorTextHover:p,textColorTextPressed:m,textColorTextFocus:p,textColorTextDisabled:u,textColorGhost:u,textColorGhostHover:p,textColorGhostPressed:m,textColorGhostFocus:p,textColorGhostDisabled:u,border:`1px solid ${y}`,borderHover:`1px solid ${p}`,borderPressed:`1px solid ${m}`,borderFocus:`1px solid ${p}`,borderDisabled:`1px solid ${y}`,rippleColor:b,colorPrimary:b,colorHoverPrimary:p,colorPressedPrimary:m,colorFocusPrimary:p,colorDisabledPrimary:b,textColorPrimary:v,textColorHoverPrimary:v,textColorPressedPrimary:v,textColorFocusPrimary:v,textColorDisabledPrimary:v,textColorTextPrimary:b,textColorTextHoverPrimary:p,textColorTextPressedPrimary:m,textColorTextFocusPrimary:p,textColorTextDisabledPrimary:u,textColorGhostPrimary:b,textColorGhostHoverPrimary:p,textColorGhostPressedPrimary:m,textColorGhostFocusPrimary:p,textColorGhostDisabledPrimary:b,borderPrimary:`1px solid ${b}`,borderHoverPrimary:`1px solid ${p}`,borderPressedPrimary:`1px solid ${m}`,borderFocusPrimary:`1px solid ${p}`,borderDisabledPrimary:`1px solid ${b}`,rippleColorPrimary:b,colorInfo:E,colorHoverInfo:A,colorPressedInfo:k,colorFocusInfo:A,colorDisabledInfo:E,textColorInfo:v,textColorHoverInfo:v,textColorPressedInfo:v,textColorFocusInfo:v,textColorDisabledInfo:v,textColorTextInfo:E,textColorTextHoverInfo:A,textColorTextPressedInfo:k,textColorTextFocusInfo:A,textColorTextDisabledInfo:u,textColorGhostInfo:E,textColorGhostHoverInfo:A,textColorGhostPressedInfo:k,textColorGhostFocusInfo:A,textColorGhostDisabledInfo:E,borderInfo:`1px solid ${E}`,borderHoverInfo:`1px solid ${A}`,borderPressedInfo:`1px solid ${k}`,borderFocusInfo:`1px solid ${A}`,borderDisabledInfo:`1px solid ${E}`,rippleColorInfo:E,colorSuccess:C,colorHoverSuccess:T,colorPressedSuccess:O,colorFocusSuccess:T,colorDisabledSuccess:C,textColorSuccess:v,textColorHoverSuccess:v,textColorPressedSuccess:v,textColorFocusSuccess:v,textColorDisabledSuccess:v,textColorTextSuccess:C,textColorTextHoverSuccess:T,textColorTextPressedSuccess:O,textColorTextFocusSuccess:T,textColorTextDisabledSuccess:u,textColorGhostSuccess:C,textColorGhostHoverSuccess:T,textColorGhostPressedSuccess:O,textColorGhostFocusSuccess:T,textColorGhostDisabledSuccess:C,borderSuccess:`1px solid ${C}`,borderHoverSuccess:`1px solid ${T}`,borderPressedSuccess:`1px solid ${O}`,borderFocusSuccess:`1px solid ${T}`,borderDisabledSuccess:`1px solid ${C}`,rippleColorSuccess:C,colorWarning:D,colorHoverWarning:S,colorPressedWarning:R,colorFocusWarning:S,colorDisabledWarning:D,textColorWarning:v,textColorHoverWarning:v,textColorPressedWarning:v,textColorFocusWarning:v,textColorDisabledWarning:v,textColorTextWarning:D,textColorTextHoverWarning:S,textColorTextPressedWarning:R,textColorTextFocusWarning:S,textColorTextDisabledWarning:u,textColorGhostWarning:D,textColorGhostHoverWarning:S,textColorGhostPressedWarning:R,textColorGhostFocusWarning:S,textColorGhostDisabledWarning:D,borderWarning:`1px solid ${D}`,borderHoverWarning:`1px solid ${S}`,borderPressedWarning:`1px solid ${R}`,borderFocusWarning:`1px solid ${S}`,borderDisabledWarning:`1px solid ${D}`,rippleColorWarning:D,colorError:z,colorHoverError:F,colorPressedError:P,colorFocusError:F,colorDisabledError:z,textColorError:v,textColorHoverError:v,textColorPressedError:v,textColorFocusError:v,textColorDisabledError:v,textColorTextError:z,textColorTextHoverError:F,textColorTextPressedError:P,textColorTextFocusError:F,textColorTextDisabledError:u,textColorGhostError:z,textColorGhostHoverError:F,textColorGhostPressedError:P,textColorGhostFocusError:F,textColorGhostDisabledError:z,borderError:`1px solid ${z}`,borderHoverError:`1px solid ${F}`,borderPressedError:`1px solid ${P}`,borderFocusError:`1px solid ${F}`,borderDisabledError:`1px solid ${z}`,rippleColorError:z,waveOpacity:"0.6",fontWeight:$,fontWeightStrong:re})},Cne={name:"Button",common:Ue,self(t){const e=Ane(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},Bn=Cne,Sne={titleFontSize:"22px"},Ene=t=>{const{borderRadius:e,fontSize:r,lineHeight:n,textColor2:i,textColor1:o,textColorDisabled:s,dividerColor:a,fontWeightStrong:l,primaryColor:d,baseColor:f,hoverColor:u,cardColor:h,modalColor:p,popoverColor:m}=t;return Object.assign(Object.assign({},Sne),{borderRadius:e,borderColor:nt(h,a),borderColorModal:nt(p,a),borderColorPopover:nt(m,a),textColor:i,titleFontWeight:l,titleTextColor:o,dayTextColor:s,fontSize:r,lineHeight:n,dateColorCurrent:d,dateTextColorCurrent:f,cellColorHover:nt(h,u),cellColorHoverModal:nt(p,u),cellColorHoverPopover:nt(m,u),cellColor:h,cellColorModal:p,cellColorPopover:m,barColor:d})},kne={name:"Calendar",common:Ue,peers:{Button:Bn},self:Ene},Ine=kne,Dne=t=>{const{fontSize:e,boxShadow2:r,popoverColor:n,textColor2:i,borderRadius:o,borderColor:s,heightSmall:a,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,dividerColor:p}=t;return{panelFontSize:e,boxShadow:r,color:n,textColor:i,borderRadius:o,border:`1px solid ${s}`,heightSmall:a,heightMedium:l,heightLarge:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,dividerColor:p}},Mne={name:"ColorPicker",common:Ue,peers:{Input:fi,Button:Bn},self:Dne},Nne=Mne,One={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},Lne=t=>{const{primaryColor:e,borderRadius:r,lineHeight:n,fontSize:i,cardColor:o,textColor2:s,textColor1:a,dividerColor:l,fontWeightStrong:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,closeColorHover:p,closeColorPressed:m,modalColor:y,boxShadow1:b,popoverColor:v,actionColor:E}=t;return Object.assign(Object.assign({},One),{lineHeight:n,color:o,colorModal:y,colorPopover:v,colorTarget:e,colorEmbedded:E,colorEmbeddedModal:E,colorEmbeddedPopover:E,textColor:s,titleTextColor:a,borderColor:l,actionColor:E,titleFontWeight:d,closeColorHover:p,closeColorPressed:m,closeBorderRadius:r,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,fontSizeSmall:i,fontSizeMedium:i,fontSizeLarge:i,fontSizeHuge:i,boxShadow:b,borderRadius:r})},Bne={name:"Card",common:Ue,self(t){const e=Lne(t),{cardColor:r,modalColor:n,popoverColor:i}=t;return e.colorEmbedded=r,e.colorEmbeddedModal=n,e.colorEmbeddedPopover=i,e}},sD=Bne,Rne=t=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),Pne={name:"Carousel",common:Ue,self:Rne},Fne=Pne,Une={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},jne=t=>{const{baseColor:e,inputColorDisabled:r,cardColor:n,modalColor:i,popoverColor:o,textColorDisabled:s,borderColor:a,primaryColor:l,textColor2:d,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,borderRadiusSmall:p,lineHeight:m}=t;return Object.assign(Object.assign({},Une),{labelLineHeight:m,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:h,borderRadius:p,color:e,colorChecked:l,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:i,colorTableHeaderPopover:o,checkMarkColor:e,checkMarkColorDisabled:s,checkMarkColorDisabledChecked:s,border:`1px solid ${a}`,borderDisabled:`1px solid ${a}`,borderDisabledChecked:`1px solid ${a}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${Ye(l,{alpha:.3})}`,textColor:d,textColorDisabled:s})},$ne={name:"Checkbox",common:Ue,self(t){const{cardColor:e}=t,r=jne(t);return r.color="#0000",r.checkMarkColor=e,r}},pc=$ne,zne=t=>{const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i,textColor3:o,primaryColor:s,textColorDisabled:a,dividerColor:l,hoverColor:d,fontSizeMedium:f,heightMedium:u}=t;return{menuBorderRadius:e,menuColor:n,menuBoxShadow:r,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:o,optionHeight:u,optionFontSize:f,optionColorHover:d,optionTextColor:i,optionTextColorActive:s,optionTextColorDisabled:a,optionCheckMarkColor:s,loadingColor:s,columnWidth:"180px"}},Vne={name:"Cascader",common:Ue,peers:{InternalSelectMenu:vd,InternalSelection:Nb,Scrollbar:Ln,Checkbox:pc,Empty:Pre},self:zne},Hne=Vne,qne={name:"Code",common:Ue,self(t){const{textColor2:e,fontSize:r,fontWeightStrong:n,textColor3:i}=t;return{textColor:e,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:i}}},aD=qne,Wne=t=>{const{fontWeight:e,textColor1:r,textColor2:n,textColorDisabled:i,dividerColor:o,fontSize:s}=t;return{titleFontSize:s,titleFontWeight:e,dividerColor:o,titleTextColor:r,titleTextColorDisabled:i,fontSize:s,textColor:n,arrowColor:n,arrowColorDisabled:i,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},Gne={name:"Collapse",common:Ue,self:Wne},Qne=Gne,Yne=t=>{const{cubicBezierEaseInOut:e}=t;return{bezier:e}},Kne={name:"CollapseTransition",common:Ue,self:Yne},Xne=Kne,Zne={name:"Popselect",common:Ue,peers:{Popover:Aa,InternalSelectMenu:vd}},lD=Zne;function Jne(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const eie={name:"Select",common:Ue,peers:{InternalSelection:Nb,InternalSelectMenu:vd},self:Jne},cD=eie,tie={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},rie=t=>{const{textColor2:e,primaryColor:r,primaryColorHover:n,primaryColorPressed:i,inputColorDisabled:o,textColorDisabled:s,borderColor:a,borderRadius:l,fontSizeTiny:d,fontSizeSmall:f,fontSizeMedium:u,heightTiny:h,heightSmall:p,heightMedium:m}=t;return Object.assign(Object.assign({},tie),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${a}`,buttonBorderHover:`1px solid ${a}`,buttonBorderPressed:`1px solid ${a}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:n,itemTextColorPressed:i,itemTextColorActive:r,itemTextColorDisabled:s,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:o,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${a}`,itemBorderRadius:l,itemSizeSmall:h,itemSizeMedium:p,itemSizeLarge:m,itemFontSizeSmall:d,itemFontSizeMedium:f,itemFontSizeLarge:u,jumperFontSizeSmall:d,jumperFontSizeMedium:f,jumperFontSizeLarge:u,jumperTextColor:e,jumperTextColorDisabled:s})},nie={name:"Pagination",common:Ue,peers:{Select:cD,Input:fi,Popselect:lD},self(t){const{primaryColor:e,opacity3:r}=t,n=Ye(e,{alpha:Number(r)}),i=rie(t);return i.itemBorderActive=`1px solid ${n}`,i.itemBorderDisabled="1px solid #0000",i}},uD=nie,iie={padding:"8px 14px"},oie={name:"Tooltip",common:Ue,peers:{Popover:Aa},self(t){const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:i}=t;return Object.assign(Object.assign({},iie),{borderRadius:e,boxShadow:r,color:n,textColor:i})}},qp=oie,sie={name:"Ellipsis",common:Ue,peers:{Tooltip:qp}},dD=sie,aie={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},lie={name:"Radio",common:Ue,self(t){const{borderColor:e,primaryColor:r,baseColor:n,textColorDisabled:i,inputColorDisabled:o,textColor2:s,opacityDisabled:a,borderRadius:l,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:u,heightSmall:h,heightMedium:p,heightLarge:m,lineHeight:y}=t;return Object.assign(Object.assign({},aie),{labelLineHeight:y,buttonHeightSmall:h,buttonHeightMedium:p,buttonHeightLarge:m,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ye(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:o,colorActive:"#0000",textColor:s,textColorDisabled:i,dotColorActive:r,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:a,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ye(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},fD=lie,cie={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},uie=t=>{const{primaryColor:e,textColor2:r,dividerColor:n,hoverColor:i,popoverColor:o,invertedColor:s,borderRadius:a,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:u,heightSmall:h,heightMedium:p,heightLarge:m,heightHuge:y,textColor3:b,opacityDisabled:v}=t;return Object.assign(Object.assign({},cie),{optionHeightSmall:h,optionHeightMedium:p,optionHeightLarge:m,optionHeightHuge:y,borderRadius:a,fontSizeSmall:l,fontSizeMedium:d,fontSizeLarge:f,fontSizeHuge:u,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:e,optionTextColorChildActive:e,color:o,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:i,optionColorActive:Ye(e,{alpha:.1}),groupHeaderTextColor:b,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:s,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:v})},die={name:"Dropdown",common:Ue,peers:{Popover:Aa},self(t){const{primaryColorSuppl:e,primaryColor:r,popoverColor:n}=t,i=uie(t);return i.colorInverted=n,i.optionColorActive=Ye(r,{alpha:.15}),i.optionColorActiveInverted=e,i.optionColorHoverInverted=e,i}},Ob=die,fie={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},hie=t=>{const{cardColor:e,modalColor:r,popoverColor:n,textColor2:i,textColor1:o,tableHeaderColor:s,tableColorHover:a,iconColor:l,primaryColor:d,fontWeightStrong:f,borderRadius:u,lineHeight:h,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:y,dividerColor:b,heightSmall:v,opacityDisabled:E,tableColorStriped:A}=t;return Object.assign(Object.assign({},fie),{actionDividerColor:b,lineHeight:h,borderRadius:u,fontSizeSmall:p,fontSizeMedium:m,fontSizeLarge:y,borderColor:nt(e,b),tdColorHover:nt(e,a),tdColorStriped:nt(e,A),thColor:nt(e,s),thColorHover:nt(nt(e,s),a),tdColor:e,tdTextColor:i,thTextColor:o,thFontWeight:f,thButtonColorHover:a,thIconColor:l,thIconColorActive:d,borderColorModal:nt(r,b),tdColorHoverModal:nt(r,a),tdColorStripedModal:nt(r,A),thColorModal:nt(r,s),thColorHoverModal:nt(nt(r,s),a),tdColorModal:r,borderColorPopover:nt(n,b),tdColorHoverPopover:nt(n,a),tdColorStripedPopover:nt(n,A),thColorPopover:nt(n,s),thColorHoverPopover:nt(nt(n,s),a),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:d,loadingSize:v,opacityLoading:E})},pie={name:"DataTable",common:Ue,peers:{Button:Bn,Checkbox:pc,Radio:fD,Pagination:uD,Scrollbar:Ln,Empty:Ta,Popover:Aa,Ellipsis:dD,Dropdown:Ob},self(t){const e=hie(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},mie=pie,hD=t=>{const{textColorBase:e,opacity1:r,opacity2:n,opacity3:i,opacity4:o,opacity5:s}=t;return{color:e,opacity1Depth:r,opacity2Depth:n,opacity3Depth:i,opacity4Depth:o,opacity5Depth:s}},gie={name:"Icon",common:Mb,self:hD},yie=gie,bie={name:"Icon",common:Ue,self:hD},vie=bie,_ie=Op("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[Pi("color-transition",{transition:"color .3s var(--n-bezier)"}),Pi("depth",{color:"var(--n-color)"},[en("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),en("svg",{height:"1em",width:"1em"})]),wie=Object.assign(Object.assign({},bd.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),pD=c.defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:wie,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=XI(t),n=bd("Icon","-icon",_ie,yie,t,e),i=c.computed(()=>{const{depth:s}=t,{common:{cubicBezierEaseInOut:a},self:l}=n.value;if(s!==void 0){const{color:d,[`opacity${s}Depth`]:f}=l;return{"--n-bezier":a,"--n-color":d,"--n-opacity":f}}return{"--n-bezier":a,"--n-color":"","--n-opacity":""}}),o=r?ZI("icon",c.computed(()=>`${t.depth||"d"}`),i,t):void 0;return{mergedClsPrefix:e,mergedStyle:c.computed(()=>{const{size:s,color:a}=t;return{fontSize:tJ(s),color:a}}),cssVars:r?void 0:i,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var t;const{$parent:e,depth:r,mergedClsPrefix:n,component:i,onRender:o,themeClass:s}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&JZ("icon","don't wrap `n-icon` inside `n-icon`"),o==null||o(),c.h("i",c.mergeProps(this.$attrs,{role:"img",class:[`${n}-icon`,s,{[`${n}-icon--depth`]:r,[`${n}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),i?c.h(i):this.$slots)}}),xie={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},Tie=t=>{const{popoverColor:e,textColor2:r,primaryColor:n,hoverColor:i,dividerColor:o,opacityDisabled:s,boxShadow2:a,borderRadius:l,iconColor:d,iconColorDisabled:f}=t;return Object.assign(Object.assign({},xie),{panelColor:e,panelBoxShadow:a,panelDividerColor:o,itemTextColor:r,itemTextColorActive:n,itemColorHover:i,itemOpacityDisabled:s,itemBorderRadius:l,borderRadius:l,iconColor:d,iconColorDisabled:f})},Aie={name:"TimePicker",common:Ue,peers:{Scrollbar:Ln,Button:Bn,Input:fi},self:Tie},mD=Aie,Cie={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},Sie=t=>{const{hoverColor:e,fontSize:r,textColor2:n,textColorDisabled:i,popoverColor:o,primaryColor:s,borderRadiusSmall:a,iconColor:l,iconColorDisabled:d,textColor1:f,dividerColor:u,boxShadow2:h,borderRadius:p,fontWeightStrong:m}=t;return Object.assign(Object.assign({},Cie),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:i,itemTextColorActive:o,itemTextColorCurrent:s,itemColorIncluded:Ye(s,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:s,itemBorderRadius:a,panelColor:o,panelTextColor:n,arrowColor:l,calendarTitleTextColor:f,calendarTitleColorHover:e,calendarDaysTextColor:n,panelHeaderDividerColor:u,calendarDaysDividerColor:u,calendarDividerColor:u,panelActionDividerColor:u,panelBoxShadow:h,panelBorderRadius:p,calendarTitleFontWeight:m,scrollItemBorderRadius:p,iconColor:l,iconColorDisabled:d})},Eie={name:"DatePicker",common:Ue,peers:{Input:fi,Button:Bn,TimePicker:mD,Scrollbar:Ln},self(t){const{popoverColor:e,hoverColor:r,primaryColor:n}=t,i=Sie(t);return i.itemColorDisabled=nt(e,r),i.itemColorIncluded=Ye(n,{alpha:.15}),i.itemColorHover=nt(e,r),i}},kie=Eie,Iie={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},Die=t=>{const{tableHeaderColor:e,textColor2:r,textColor1:n,cardColor:i,modalColor:o,popoverColor:s,dividerColor:a,borderRadius:l,fontWeightStrong:d,lineHeight:f,fontSizeSmall:u,fontSizeMedium:h,fontSizeLarge:p}=t;return Object.assign(Object.assign({},Iie),{lineHeight:f,fontSizeSmall:u,fontSizeMedium:h,fontSizeLarge:p,titleTextColor:n,thColor:nt(i,e),thColorModal:nt(o,e),thColorPopover:nt(s,e),thTextColor:n,thFontWeight:d,tdTextColor:r,tdColor:i,tdColorModal:o,tdColorPopover:s,borderColor:nt(i,a),borderColorModal:nt(o,a),borderColorPopover:nt(s,a),borderRadius:l})},Mie={name:"Descriptions",common:Ue,self:Die},Nie=Mie,Oie={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},Lie=t=>{const{textColor1:e,textColor2:r,modalColor:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,infoColor:d,successColor:f,warningColor:u,errorColor:h,primaryColor:p,dividerColor:m,borderRadius:y,fontWeightStrong:b,lineHeight:v,fontSize:E}=t;return Object.assign(Object.assign({},Oie),{fontSize:E,lineHeight:v,border:`1px solid ${m}`,titleTextColor:e,textColor:r,color:n,closeColorHover:a,closeColorPressed:l,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeBorderRadius:y,iconColor:p,iconColorInfo:d,iconColorSuccess:f,iconColorWarning:u,iconColorError:h,borderRadius:y,titleFontWeight:b})},Bie={name:"Dialog",common:Ue,peers:{Button:Bn},self:Lie},gD=Bie,Rie=t=>{const{modalColor:e,textColor2:r,boxShadow3:n}=t;return{color:e,textColor:r,boxShadow:n}},Pie={name:"Modal",common:Ue,peers:{Scrollbar:Ln,Dialog:gD,Card:sD},self:Rie},Fie=Pie,Uie=t=>{const{textColor1:e,dividerColor:r,fontWeightStrong:n}=t;return{textColor:e,color:r,fontWeight:n}},jie={name:"Divider",common:Ue,self:Uie},$ie=jie,zie=t=>{const{modalColor:e,textColor1:r,textColor2:n,boxShadow3:i,lineHeight:o,fontWeightStrong:s,dividerColor:a,closeColorHover:l,closeColorPressed:d,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,borderRadius:p,primaryColorHover:m}=t;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:s,boxShadow:i,lineHeight:o,headerBorderBottom:`1px solid ${a}`,footerBorderTop:`1px solid ${a}`,closeIconColor:f,closeIconColorHover:u,closeIconColorPressed:h,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:d,closeBorderRadius:p,resizableTriggerColorHover:m}},Vie={name:"Drawer",common:Ue,peers:{Scrollbar:Ln},self:zie},Hie=Vie,qie={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},Wie={name:"DynamicInput",common:Ue,peers:{Input:fi,Button:Bn},self(){return qie}},Gie=Wie,Qie={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},Yie={name:"Space",self(){return Qie}},yD=Yie,Kie={name:"DynamicTags",common:Ue,peers:{Input:fi,Button:Bn,Tag:iD,Space:yD},self(){return{inputWidth:"64px"}}},Xie=Kie,Zie={name:"Element",common:Ue},Jie=Zie,eoe={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},toe=t=>{const{heightSmall:e,heightMedium:r,heightLarge:n,textColor1:i,errorColor:o,warningColor:s,lineHeight:a,textColor3:l}=t;return Object.assign(Object.assign({},eoe),{blankHeightSmall:e,blankHeightMedium:r,blankHeightLarge:n,lineHeight:a,labelTextColor:i,asteriskColor:o,feedbackTextColorError:o,feedbackTextColorWarning:s,feedbackTextColor:l})},roe={name:"Form",common:Ue,self:toe},noe=roe,ioe={name:"GradientText",common:Ue,self(t){const{primaryColor:e,successColor:r,warningColor:n,errorColor:i,infoColor:o,primaryColorSuppl:s,successColorSuppl:a,warningColorSuppl:l,errorColorSuppl:d,infoColorSuppl:f,fontWeightStrong:u}=t;return{fontWeight:u,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:s,colorStartInfo:o,colorEndInfo:f,colorStartWarning:n,colorEndWarning:l,colorStartError:i,colorEndError:d,colorStartSuccess:r,colorEndSuccess:a}}},ooe=ioe,soe=t=>{const{primaryColor:e,baseColor:r}=t;return{color:e,iconColor:r}},aoe={name:"IconWrapper",common:Ue,self:soe},loe=aoe,coe={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},uoe=t=>{const{textColor2:e,successColor:r,infoColor:n,warningColor:i,errorColor:o,popoverColor:s,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:d,closeColorHover:f,closeColorPressed:u,textColor1:h,textColor3:p,borderRadius:m,fontWeightStrong:y,boxShadow2:b,lineHeight:v,fontSize:E}=t;return Object.assign(Object.assign({},coe),{borderRadius:m,lineHeight:v,fontSize:E,headerFontWeight:y,iconColor:e,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:i,iconColorError:o,color:s,textColor:e,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:d,closeBorderRadius:m,closeColorHover:f,closeColorPressed:u,headerTextColor:h,descriptionTextColor:p,actionTextColor:e,boxShadow:b})},doe={name:"Notification",common:Ue,peers:{Scrollbar:Ln},self:uoe},foe=doe,hoe={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},poe=t=>{const{textColor2:e,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,infoColor:o,successColor:s,errorColor:a,warningColor:l,popoverColor:d,boxShadow2:f,primaryColor:u,lineHeight:h,borderRadius:p,closeColorHover:m,closeColorPressed:y}=t;return Object.assign(Object.assign({},hoe),{closeBorderRadius:p,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:d,colorInfo:d,colorSuccess:d,colorError:d,colorWarning:d,colorLoading:d,boxShadow:f,boxShadowInfo:f,boxShadowSuccess:f,boxShadowError:f,boxShadowWarning:f,boxShadowLoading:f,iconColor:e,iconColorInfo:o,iconColorSuccess:s,iconColorWarning:l,iconColorError:a,iconColorLoading:u,closeColorHover:m,closeColorPressed:y,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:i,closeColorHoverInfo:m,closeColorPressedInfo:y,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:i,closeColorHoverSuccess:m,closeColorPressedSuccess:y,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:i,closeColorHoverError:m,closeColorPressedError:y,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:i,closeColorHoverWarning:m,closeColorPressedWarning:y,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:i,closeColorHoverLoading:m,closeColorPressedLoading:y,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:i,loadingColor:u,lineHeight:h,borderRadius:p})},moe={name:"Message",common:Ue,self:poe},goe=moe,yoe={name:"ButtonGroup",common:Ue},boe=yoe,voe={name:"InputNumber",common:Ue,peers:{Button:Bn,Input:fi},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}},_oe=voe,woe={name:"Layout",common:Ue,peers:{Scrollbar:Ln},self(t){const{textColor2:e,bodyColor:r,popoverColor:n,cardColor:i,dividerColor:o,scrollbarColor:s,scrollbarColorHover:a}=t;return{textColor:e,textColorInverted:e,color:r,colorEmbedded:r,headerColor:i,headerColorInverted:i,footerColor:i,footerColorInverted:i,headerBorderColor:o,headerBorderColorInverted:o,footerBorderColor:o,footerBorderColorInverted:o,siderBorderColor:o,siderBorderColorInverted:o,siderColor:i,siderColorInverted:i,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:nt(r,s),siderToggleBarColorHover:nt(r,a),__invertScrollbar:"false"}}},xoe=woe,Toe=t=>{const{textColor2:e,cardColor:r,modalColor:n,popoverColor:i,dividerColor:o,borderRadius:s,fontSize:a,hoverColor:l}=t;return{textColor:e,color:r,colorHover:l,colorModal:n,colorHoverModal:nt(n,l),colorPopover:i,colorHoverPopover:nt(i,l),borderColor:o,borderColorModal:nt(n,o),borderColorPopover:nt(i,o),borderRadius:s,fontSize:a}},Aoe={name:"List",common:Ue,self:Toe},Coe=Aoe,Soe={name:"LoadingBar",common:Ue,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}},Eoe=Soe,koe={name:"Log",common:Ue,peers:{Scrollbar:Ln,Code:aD},self(t){const{textColor2:e,inputColor:r,fontSize:n,primaryColor:i}=t;return{loaderFontSize:n,loaderTextColor:e,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:i}}},Ioe=koe,Doe={name:"Mention",common:Ue,peers:{InternalSelectMenu:vd,Input:fi},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}},Moe=Doe;function Noe(t,e,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:t,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:t,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}const Ooe=t=>{const{borderRadius:e,textColor3:r,primaryColor:n,textColor2:i,textColor1:o,fontSize:s,dividerColor:a,hoverColor:l,primaryColorHover:d}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:r,itemColorHover:l,itemColorActive:Ye(n,{alpha:.1}),itemColorActiveHover:Ye(n,{alpha:.1}),itemColorActiveCollapsed:Ye(n,{alpha:.1}),itemTextColor:i,itemTextColorHover:i,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:i,itemTextColorHoverHorizontal:d,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:o,itemIconColorHover:o,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:o,itemIconColorHorizontal:o,itemIconColorHoverHorizontal:d,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:i,arrowColorHover:i,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:s,dividerColor:a},Noe("#BBB",n,"#FFF","#AAA"))},Loe={name:"Menu",common:Ue,peers:{Tooltip:qp,Dropdown:Ob},self(t){const{primaryColor:e,primaryColorSuppl:r}=t,n=Ooe(t);return n.itemColorActive=Ye(e,{alpha:.15}),n.itemColorActiveHover=Ye(e,{alpha:.15}),n.itemColorActiveCollapsed=Ye(e,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},Boe=Loe,Roe={titleFontSize:"18px",backSize:"22px"};function Poe(t){const{textColor1:e,textColor2:r,textColor3:n,fontSize:i,fontWeightStrong:o,primaryColorHover:s,primaryColorPressed:a}=t;return Object.assign(Object.assign({},Roe),{titleFontWeight:o,fontSize:i,titleTextColor:e,backColor:r,backColorHover:s,backColorPressed:a,subtitleTextColor:n})}const Foe={name:"PageHeader",common:Ue,self:Poe},Uoe={iconSize:"22px"},joe=t=>{const{fontSize:e,warningColor:r}=t;return Object.assign(Object.assign({},Uoe),{fontSize:e,iconColor:r})},$oe={name:"Popconfirm",common:Ue,peers:{Button:Bn,Popover:Aa},self:joe},zoe=$oe,Voe=t=>{const{infoColor:e,successColor:r,warningColor:n,errorColor:i,textColor2:o,progressRailColor:s,fontSize:a,fontWeight:l}=t;return{fontSize:a,fontSizeCircle:"28px",fontWeightCircle:l,railColor:s,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:r,iconColorWarning:n,iconColorError:i,textColorCircle:o,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:o,fillColor:e,fillColorInfo:e,fillColorSuccess:r,fillColorWarning:n,fillColorError:i,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},Hoe={name:"Progress",common:Ue,self(t){const e=Voe(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},bD=Hoe,qoe={name:"Rate",common:Ue,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},Woe=qoe,Goe={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},Qoe=t=>{const{textColor2:e,textColor1:r,errorColor:n,successColor:i,infoColor:o,warningColor:s,lineHeight:a,fontWeightStrong:l}=t;return Object.assign(Object.assign({},Goe),{lineHeight:a,titleFontWeight:l,titleTextColor:r,textColor:e,iconColorError:n,iconColorSuccess:i,iconColorInfo:o,iconColorWarning:s})},Yoe={name:"Result",common:Ue,self:Qoe},Koe=Yoe,Xoe={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},Zoe={name:"Slider",common:Ue,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:i,popoverColor:o,textColor2:s,cardColor:a,borderRadius:l,fontSize:d,opacityDisabled:f}=t;return Object.assign(Object.assign({},Xoe),{fontSize:d,markFontSize:d,railColor:r,railColorHover:r,fillColor:i,fillColorHover:i,opacityDisabled:f,handleColor:"#FFF",dotColor:a,dotColorModal:n,dotColorPopover:o,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:o,indicatorBoxShadow:e,indicatorTextColor:s,indicatorBorderRadius:l,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${i}`,dotBoxShadow:""})}},Joe=Zoe,ese=t=>{const{opacityDisabled:e,heightTiny:r,heightSmall:n,heightMedium:i,heightLarge:o,heightHuge:s,primaryColor:a,fontSize:l}=t;return{fontSize:l,textColor:a,sizeTiny:r,sizeSmall:n,sizeMedium:i,sizeLarge:o,sizeHuge:s,color:a,opacitySpinning:e}},tse={name:"Spin",common:Ue,self:ese},rse=tse,nse=t=>{const{textColor2:e,textColor3:r,fontSize:n,fontWeight:i}=t;return{labelFontSize:n,labelFontWeight:i,valueFontWeight:i,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}},ise={name:"Statistic",common:Ue,self:nse},ose=ise,sse={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},ase=t=>{const{fontWeightStrong:e,baseColor:r,textColorDisabled:n,primaryColor:i,errorColor:o,textColor1:s,textColor2:a}=t;return Object.assign(Object.assign({},sse),{stepHeaderFontWeight:e,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:i,indicatorTextColorError:o,indicatorBorderColorProcess:i,indicatorBorderColorWait:n,indicatorBorderColorFinish:i,indicatorBorderColorError:o,indicatorColorProcess:i,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:i,splitorColorError:n,headerTextColorProcess:s,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:o,descriptionTextColorProcess:a,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:o})},lse={name:"Steps",common:Ue,self:ase},cse=lse,vD={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},use={name:"Switch",common:Ue,self(t){const{primaryColorSuppl:e,opacityDisabled:r,borderRadius:n,primaryColor:i,textColor2:o,baseColor:s}=t;return Object.assign(Object.assign({},vD),{iconColor:s,textColor:o,loadingColor:e,opacityDisabled:r,railColor:"rgba(255, 255, 255, .20)",railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${Ye(i,{alpha:.3})}`})}},dse=use,fse=t=>{const{primaryColor:e,opacityDisabled:r,borderRadius:n,textColor3:i}=t;return Object.assign(Object.assign({},vD),{iconColor:i,textColor:"white",loadingColor:e,opacityDisabled:r,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 0 2px ${Ye(e,{alpha:.2})}`})},hse={name:"Switch",common:Mb,self:fse},pse=hse,mse={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},gse=t=>{const{dividerColor:e,cardColor:r,modalColor:n,popoverColor:i,tableHeaderColor:o,tableColorStriped:s,textColor1:a,textColor2:l,borderRadius:d,fontWeightStrong:f,lineHeight:u,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m}=t;return Object.assign(Object.assign({},mse),{fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,lineHeight:u,borderRadius:d,borderColor:nt(r,e),borderColorModal:nt(n,e),borderColorPopover:nt(i,e),tdColor:r,tdColorModal:n,tdColorPopover:i,tdColorStriped:nt(r,s),tdColorStripedModal:nt(n,s),tdColorStripedPopover:nt(i,s),thColor:nt(r,o),thColorModal:nt(n,o),thColorPopover:nt(i,o),thTextColor:a,tdTextColor:l,thFontWeight:f})},yse={name:"Table",common:Ue,self:gse},bse=yse,vse={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},_se=t=>{const{textColor2:e,primaryColor:r,textColorDisabled:n,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,tabColor:d,baseColor:f,dividerColor:u,fontWeight:h,textColor1:p,borderRadius:m,fontSize:y,fontWeightStrong:b}=t;return Object.assign(Object.assign({},vse),{colorSegment:d,tabFontSizeCard:y,tabTextColorLine:p,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:p,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:n,tabTextColorBar:p,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:p,tabTextColorHoverCard:p,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:i,closeIconColorHover:o,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,closeBorderRadius:m,tabColor:d,tabColorSegment:f,tabBorderColor:u,tabFontWeightActive:h,tabFontWeight:h,tabBorderRadius:m,paneTextColor:e,fontWeightStrong:b})},wse={name:"Tabs",common:Ue,self(t){const e=_se(t),{inputColor:r}=t;return e.colorSegment=r,e.tabColorSegment=r,e}},xse=wse,Tse=t=>{const{textColor1:e,textColor2:r,fontWeightStrong:n,fontSize:i}=t;return{fontSize:i,titleTextColor:e,textColor:r,titleFontWeight:n}},Ase={name:"Thing",common:Ue,self:Tse},Cse=Ase,Sse={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},Ese={name:"Timeline",common:Ue,self(t){const{textColor3:e,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:i,warningColorSuppl:o,textColor1:s,textColor2:a,railColor:l,fontWeightStrong:d,fontSize:f}=t;return Object.assign(Object.assign({},Sse),{contentFontSize:f,titleFontWeight:d,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${i}`,circleBorderWarning:`2px solid ${o}`,iconColor:e,iconColorInfo:r,iconColorError:n,iconColorSuccess:i,iconColorWarning:o,titleTextColor:s,contentTextColor:a,metaTextColor:e,lineColor:l})}},kse=Ese,Ise={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},Dse={name:"Transfer",common:Ue,peers:{Checkbox:pc,Scrollbar:Ln,Input:fi,Empty:Ta,Button:Bn},self(t){const{fontWeight:e,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:i,heightLarge:o,heightMedium:s,borderRadius:a,inputColor:l,tableHeaderColor:d,textColor1:f,textColorDisabled:u,textColor2:h,textColor3:p,hoverColor:m,closeColorHover:y,closeColorPressed:b,closeIconColor:v,closeIconColorHover:E,closeIconColorPressed:A,dividerColor:k}=t;return Object.assign(Object.assign({},Ise),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:o,fontSizeSmall:i,fontSizeMedium:n,fontSizeLarge:r,borderRadius:a,dividerColor:k,borderColor:"#0000",listColor:l,headerColor:d,titleTextColor:f,titleTextColorDisabled:u,extraTextColor:p,extraTextColorDisabled:u,itemTextColor:h,itemTextColorDisabled:u,itemColorPending:m,titleFontWeight:e,closeColorHover:y,closeColorPressed:b,closeIconColor:v,closeIconColorHover:E,closeIconColorPressed:A})}},Mse=Dse,Nse=t=>{const{borderRadiusSmall:e,hoverColor:r,pressedColor:n,primaryColor:i,textColor3:o,textColor2:s,textColorDisabled:a,fontSize:l}=t;return{fontSize:l,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:r,nodeColorPressed:n,nodeColorActive:Ye(i,{alpha:.1}),arrowColor:o,nodeTextColor:s,nodeTextColorDisabled:a,loadingColor:i,dropMarkColor:i}},Ose={name:"Tree",common:Ue,peers:{Checkbox:pc,Scrollbar:Ln,Empty:Ta},self(t){const{primaryColor:e}=t,r=Nse(t);return r.nodeColorActive=Ye(e,{alpha:.15}),r}},_D=Ose,Lse={name:"TreeSelect",common:Ue,peers:{Tree:_D,Empty:Ta,InternalSelection:Nb}},Bse=Lse,Rse={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},Pse=t=>{const{primaryColor:e,textColor2:r,borderColor:n,lineHeight:i,fontSize:o,borderRadiusSmall:s,dividerColor:a,fontWeightStrong:l,textColor1:d,textColor3:f,infoColor:u,warningColor:h,errorColor:p,successColor:m,codeColor:y}=t;return Object.assign(Object.assign({},Rse),{aTextColor:e,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:i,blockquoteFontSize:o,codeBorderRadius:s,liTextColor:r,liLineHeight:i,liFontSize:o,hrColor:a,headerFontWeight:l,headerTextColor:d,pTextColor:r,pTextColor1Depth:d,pTextColor2Depth:r,pTextColor3Depth:f,pLineHeight:i,pFontSize:o,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:u,headerBarColorError:p,headerBarColorWarning:h,headerBarColorSuccess:m,textColor:r,textColor1Depth:d,textColor2Depth:r,textColor3Depth:f,textColorPrimary:e,textColorInfo:u,textColorSuccess:m,textColorWarning:h,textColorError:p,codeTextColor:r,codeColor:y,codeBorder:"1px solid #0000"})},Fse={name:"Typography",common:Ue,self:Pse},Use=Fse,jse=t=>{const{iconColor:e,primaryColor:r,errorColor:n,textColor2:i,successColor:o,opacityDisabled:s,actionColor:a,borderColor:l,hoverColor:d,lineHeight:f,borderRadius:u,fontSize:h}=t;return{fontSize:h,lineHeight:f,borderRadius:u,draggerColor:a,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:d,itemColorHoverError:Ye(n,{alpha:.06}),itemTextColor:i,itemTextColorError:n,itemTextColorSuccess:o,itemIconColor:e,itemDisabledOpacity:s,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}},$se={name:"Upload",common:Ue,peers:{Button:Bn,Progress:bD},self(t){const{errorColor:e}=t,r=jse(t);return r.itemColorHoverError=Ye(e,{alpha:.09}),r}},zse=$se,Vse={name:"Watermark",common:Ue,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},Hse=Vse,qse={name:"Row",common:Ue},Wse=qse,Gse={name:"Image",common:Ue,peers:{Tooltip:qp},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},Qse={extraFontSize:"12px",width:"440px"},Yse={name:"Transfer",common:Ue,peers:{Checkbox:pc,Scrollbar:Ln,Input:fi,Empty:Ta,Button:Bn},self(t){const{iconColorDisabled:e,iconColor:r,fontWeight:n,fontSizeLarge:i,fontSizeMedium:o,fontSizeSmall:s,heightLarge:a,heightMedium:l,heightSmall:d,borderRadius:f,inputColor:u,tableHeaderColor:h,textColor1:p,textColorDisabled:m,textColor2:y,hoverColor:b}=t;return Object.assign(Object.assign({},Qse),{itemHeightSmall:d,itemHeightMedium:l,itemHeightLarge:a,fontSizeSmall:s,fontSizeMedium:o,fontSizeLarge:i,borderRadius:f,borderColor:"#0000",listColor:u,headerColor:h,titleTextColor:p,titleTextColorDisabled:m,extraTextColor:y,filterDividerColor:"#0000",itemTextColor:y,itemTextColorDisabled:m,itemColorPending:b,titleFontWeight:n,iconColor:r,iconColorDisabled:e})}},Kse=Yse,Xse={name:"Skeleton",common:Ue,self(t){const{heightSmall:e,heightMedium:r,heightLarge:n,borderRadius:i}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:i,heightSmall:e,heightMedium:r,heightLarge:n}}},Zse=Op("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[xt("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),xt("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),xt("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),Op("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Hp({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),xt("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),xt("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),xt("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),en("&:focus",[xt("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),Pi("round",[xt("rail","border-radius: calc(var(--n-rail-height) / 2);",[xt("button","border-radius: calc(var(--n-button-height) / 2);")])]),bI("disabled",[bI("icon",[Pi("rubber-band",[Pi("pressed",[xt("rail",[xt("button","max-width: var(--n-button-width-pressed);")])]),xt("rail",[en("&:active",[xt("button","max-width: var(--n-button-width-pressed);")])]),Pi("active",[Pi("pressed",[xt("rail",[xt("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),xt("rail",[en("&:active",[xt("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),Pi("active",[xt("rail",[xt("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),xt("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[xt("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Hp()]),xt("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),Pi("active",[xt("rail","background-color: var(--n-rail-color-active);")]),Pi("loading",[xt("rail",`
 cursor: wait;
 `)]),Pi("disabled",[xt("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),Jse=Object.assign(Object.assign({},bd.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let _d;const eae=c.defineComponent({name:"Switch",props:Jse,setup(t){process.env.NODE_ENV!=="production"&&c.watchEffect(()=>{t.onChange&&ZZ("switch","`on-change` is deprecated, please use `on-update:value` instead.")}),_d===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?_d=CSS.supports("width","max(1px)"):_d=!1:_d=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:r}=XI(t),n=bd("Switch","-switch",Zse,pse,t,e),i=kJ(t),{mergedSizeRef:o,mergedDisabledRef:s}=i,a=c.ref(t.defaultValue),l=c.toRef(t,"value"),d=TJ(l,a),f=c.computed(()=>d.value===t.checkedValue),u=c.ref(!1),h=c.ref(!1),p=c.computed(()=>{const{railStyle:D}=t;if(D)return D({focused:h.value,checked:f.value})});function m(D){const{"onUpdate:value":S,onChange:R,onUpdateValue:z}=t,{nTriggerFormInput:F,nTriggerFormChange:P}=i;S&&Dp(S,D),z&&Dp(z,D),R&&Dp(R,D),a.value=D,F(),P()}function y(){const{nTriggerFormFocus:D}=i;D()}function b(){const{nTriggerFormBlur:D}=i;D()}function v(){t.loading||s.value||(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue))}function E(){h.value=!0,y()}function A(){h.value=!1,b(),u.value=!1}function k(D){t.loading||s.value||D.key===" "&&(d.value!==t.checkedValue?m(t.checkedValue):m(t.uncheckedValue),u.value=!1)}function C(D){t.loading||s.value||D.key===" "&&(D.preventDefault(),u.value=!0)}const T=c.computed(()=>{const{value:D}=o,{self:{opacityDisabled:S,railColor:R,railColorActive:z,buttonBoxShadow:F,buttonColor:P,boxShadowFocus:$,loadingColor:W,textColor:B,iconColor:j,[_s("buttonHeight",D)]:re,[_s("buttonWidth",D)]:H,[_s("buttonWidthPressed",D)]:L,[_s("railHeight",D)]:I,[_s("railWidth",D)]:V,[_s("railBorderRadius",D)]:K,[_s("buttonBorderRadius",D)]:Y},common:{cubicBezierEaseInOut:Q}}=n.value;let le,ie,me;return _d?(le=`calc((${I} - ${re}) / 2)`,ie=`max(${I}, ${re})`,me=`max(${V}, calc(${V} + ${re} - ${I}))`):(le=fb((Po(I)-Po(re))/2),ie=fb(Math.max(Po(I),Po(re))),me=Po(I)>Po(re)?V:fb(Po(V)+Po(re)-Po(I))),{"--n-bezier":Q,"--n-button-border-radius":Y,"--n-button-box-shadow":F,"--n-button-color":P,"--n-button-width":H,"--n-button-width-pressed":L,"--n-button-height":re,"--n-height":ie,"--n-offset":le,"--n-opacity-disabled":S,"--n-rail-border-radius":K,"--n-rail-color":R,"--n-rail-color-active":z,"--n-rail-height":I,"--n-rail-width":V,"--n-width":me,"--n-box-shadow-focus":$,"--n-loading-color":W,"--n-text-color":B,"--n-icon-color":j}}),O=r?ZI("switch",c.computed(()=>o.value[0]),T,t):void 0;return{handleClick:v,handleBlur:A,handleFocus:E,handleKeyup:k,handleKeydown:C,mergedRailStyle:p,pressed:u,mergedClsPrefix:e,mergedValue:d,checked:f,mergedDisabled:s,cssVars:r?void 0:T,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:r,mergedRailStyle:n,onRender:i,$slots:o}=this;i==null||i();const{checked:s,unchecked:a,icon:l,"checked-icon":d,"unchecked-icon":f}=o,u=!(gb(l)&&gb(d)&&gb(f));return c.h("div",{role:"switch","aria-checked":r,class:[`${t}-switch`,this.themeClass,u&&`${t}-switch--icon`,r&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},c.h("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:n},_a(s,h=>_a(a,p=>h||p?c.h("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},c.h("div",{class:`${t}-switch__rail-placeholder`},c.h("div",{class:`${t}-switch__button-placeholder`}),h),c.h("div",{class:`${t}-switch__rail-placeholder`},c.h("div",{class:`${t}-switch__button-placeholder`}),p)):null)),c.h("div",{class:`${t}-switch__button`},_a(l,h=>_a(d,p=>_a(f,m=>c.h(JI,null,{default:()=>this.loading?c.h(Ere,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(p||h)?c.h("div",{class:`${t}-switch__button-icon`,key:p?"checked-icon":"icon"},p||h):!this.checked&&(m||h)?c.h("div",{class:`${t}-switch__button-icon`,key:m?"unchecked-icon":"icon"},m||h):null})))),_a(s,h=>h&&c.h("div",{key:"checked",class:`${t}-switch__checked`},h)),_a(a,h=>h&&c.h("div",{key:"unchecked",class:`${t}-switch__unchecked`},h)))))}}),tae=()=>({}),rae={name:"Equation",common:Ue,self:tae},nae=rae,iae={name:"dark",common:Ue,Alert:Jre,Anchor:nne,AutoComplete:lne,Avatar:oD,AvatarGroup:hne,BackTop:gne,Badge:bne,Breadcrumb:xne,Button:Bn,ButtonGroup:boe,Calendar:Ine,Card:sD,Carousel:Fne,Cascader:Hne,Checkbox:pc,Code:aD,Collapse:Qne,CollapseTransition:Xne,ColorPicker:Nne,DataTable:mie,DatePicker:kie,Descriptions:Nie,Dialog:gD,Divider:$ie,Drawer:Hie,Dropdown:Ob,DynamicInput:Gie,DynamicTags:Xie,Element:Jie,Empty:Ta,Ellipsis:dD,Equation:nae,Form:noe,GradientText:ooe,Icon:vie,IconWrapper:loe,Image:Gse,Input:fi,InputNumber:_oe,LegacyTransfer:Kse,Layout:xoe,List:Coe,LoadingBar:Eoe,Log:Ioe,Menu:Boe,Mention:Moe,Message:goe,Modal:Fie,Notification:foe,PageHeader:Foe,Pagination:uD,Popconfirm:zoe,Popover:Aa,Popselect:lD,Progress:bD,Radio:fD,Rate:Woe,Result:Koe,Row:Wse,Scrollbar:Ln,Select:cD,Skeleton:Xse,Slider:Joe,Space:yD,Spin:rse,Statistic:ose,Steps:cse,Switch:dse,Table:bse,Tabs:xse,Tag:iD,Thing:Cse,TimePicker:mD,Timeline:kse,Tooltip:qp,Transfer:Mse,Tree:_D,TreeSelect:Bse,Typography:Use,Upload:zse,Watermark:Hse};var wD;const xD=typeof window<"u",oae=t=>typeof t=="function",sae=t=>typeof t=="string",aae=()=>{};xD&&(wD=window==null?void 0:window.navigator)!=null&&wD.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function wd(t){return typeof t=="function"?t():c.unref(t)}function lae(t,e){function r(...n){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(o)})}return r}const TD=t=>t();function cae(t=TD){const e=c.ref(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:c.readonly(e),pause:r,resume:n,eventFilter:i}}function uae(t){return t}function AD(t){return c.getCurrentScope()?(c.onScopeDispose(t),!0):!1}function dae(t){return typeof t=="function"?c.computed(t):c.ref(t)}function CD(t,e=!0){c.getCurrentInstance()?c.onMounted(t):e?t():c.nextTick(t)}function fae(t=!1,e={}){const{truthyValue:r=!0,falsyValue:n=!1}=e,i=c.isRef(t),o=c.ref(t);function s(a){if(arguments.length)return o.value=a,o.value;{const l=wd(r);return o.value=o.value===l?wd(n):l,o.value}}return i?s:[o,s]}var SD=Object.getOwnPropertySymbols,hae=Object.prototype.hasOwnProperty,pae=Object.prototype.propertyIsEnumerable,mae=(t,e)=>{var r={};for(var n in t)hae.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&SD)for(var n of SD(t))e.indexOf(n)<0&&pae.call(t,n)&&(r[n]=t[n]);return r};function gae(t,e,r={}){const n=r,{eventFilter:i=TD}=n,o=mae(n,["eventFilter"]);return c.watch(t,lae(i,e),o)}var yae=Object.defineProperty,bae=Object.defineProperties,vae=Object.getOwnPropertyDescriptors,Wp=Object.getOwnPropertySymbols,ED=Object.prototype.hasOwnProperty,kD=Object.prototype.propertyIsEnumerable,ID=(t,e,r)=>e in t?yae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_ae=(t,e)=>{for(var r in e||(e={}))ED.call(e,r)&&ID(t,r,e[r]);if(Wp)for(var r of Wp(e))kD.call(e,r)&&ID(t,r,e[r]);return t},wae=(t,e)=>bae(t,vae(e)),xae=(t,e)=>{var r={};for(var n in t)ED.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Wp)for(var n of Wp(t))e.indexOf(n)<0&&kD.call(t,n)&&(r[n]=t[n]);return r};function Tae(t,e,r={}){const n=r,{eventFilter:i}=n,o=xae(n,["eventFilter"]),{eventFilter:s,pause:a,resume:l,isActive:d}=cae(i);return{stop:gae(t,e,wae(_ae({},o),{eventFilter:s})),pause:a,resume:l,isActive:d}}function Aae(t){var e;const r=wd(t);return(e=r==null?void 0:r.$el)!=null?e:r}const mc=xD?window:void 0;function DD(...t){let e,r,n,i;if(sae(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=mc):[e,r,n,i]=t,!e)return aae;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},a=(f,u,h,p)=>(f.addEventListener(u,h,p),()=>f.removeEventListener(u,h,p)),l=c.watch(()=>[Aae(e),wd(i)],([f,u])=>{s(),f&&o.push(...r.flatMap(h=>n.map(p=>a(f,h,p,u))))},{immediate:!0,flush:"post"}),d=()=>{l(),s()};return AD(d),d}function Cae(t,e=!1){const r=c.ref(),n=()=>r.value=!!t();return n(),CD(n,e),r}function Sae(t,e={}){const{window:r=mc}=e,n=Cae(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const o=c.ref(!1),s=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},a=()=>{n.value&&(s(),i=r.matchMedia(dae(t).value),o.value=i.matches,"addEventListener"in i?i.addEventListener("change",a):i.addListener(a))};return c.watchEffect(a),AD(()=>s()),o}const Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bb="__vueuse_ssr_handlers__";Lb[Bb]=Lb[Bb]||{};const Eae=Lb[Bb];function MD(t,e){return Eae[t]||e}function kae(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var Iae=Object.defineProperty,ND=Object.getOwnPropertySymbols,Dae=Object.prototype.hasOwnProperty,Mae=Object.prototype.propertyIsEnumerable,OD=(t,e,r)=>e in t?Iae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,LD=(t,e)=>{for(var r in e||(e={}))Dae.call(e,r)&&OD(t,r,e[r]);if(ND)for(var r of ND(e))Mae.call(e,r)&&OD(t,r,e[r]);return t};const Nae={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},BD="vueuse-storage";function Oae(t,e,r,n={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:d=!1,shallow:f,window:u=mc,eventFilter:h,onError:p=D=>{console.error(D)}}=n,m=(f?c.shallowRef:c.ref)(e);if(!r)try{r=MD("getDefaultStorage",()=>{var D;return(D=mc)==null?void 0:D.localStorage})()}catch(D){p(D)}if(!r)return m;const y=wd(e),b=kae(y),v=(i=n.serializer)!=null?i:Nae[b],{pause:E,resume:A}=Tae(m,()=>k(m.value),{flush:o,deep:s,eventFilter:h});return u&&a&&(DD(u,"storage",O),DD(u,BD,T)),O(),m;function k(D){try{if(D==null)r.removeItem(t);else{const S=v.write(D),R=r.getItem(t);R!==S&&(r.setItem(t,S),u&&u.dispatchEvent(new CustomEvent(BD,{detail:{key:t,oldValue:R,newValue:S,storageArea:r}})))}}catch(S){p(S)}}function C(D){const S=D?D.newValue:r.getItem(t);if(S==null)return l&&y!==null&&r.setItem(t,v.write(y)),y;if(!D&&d){const R=v.read(S);return oae(d)?d(R,y):b==="object"&&!Array.isArray(R)?LD(LD({},y),R):R}else return typeof S!="string"?S:v.read(S)}function T(D){O(D.detail)}function O(D){if(!(D&&D.storageArea!==r)){if(D&&D.key==null){m.value=y;return}if(!(D&&D.key!==t)){E();try{m.value=C(D)}catch(S){p(S)}finally{D?c.nextTick(A):A()}}}}}function RD(t){return Sae("(prefers-color-scheme: dark)",t)}var Lae=Object.defineProperty,PD=Object.getOwnPropertySymbols,Bae=Object.prototype.hasOwnProperty,Rae=Object.prototype.propertyIsEnumerable,FD=(t,e,r)=>e in t?Lae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pae=(t,e)=>{for(var r in e||(e={}))Bae.call(e,r)&&FD(t,r,e[r]);if(PD)for(var r of PD(e))Rae.call(e,r)&&FD(t,r,e[r]);return t};function Fae(t={}){const{selector:e="html",attribute:r="class",initialValue:n="auto",window:i=mc,storage:o,storageKey:s="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:d}=t,f=Pae({auto:"",light:"light",dark:"dark"},t.modes||{}),u=RD({window:i}),h=c.computed(()=>u.value?"dark":"light"),p=l||(s==null?c.ref(n):Oae(s,n,o,{window:i,listenToStorageChanges:a})),m=c.computed({get(){return p.value==="auto"&&!d?h.value:p.value},set(E){p.value=E}}),y=MD("updateHTMLAttrs",(E,A,k)=>{const C=i==null?void 0:i.document.querySelector(E);if(C)if(A==="class"){const T=k.split(/\s/g);Object.values(f).flatMap(O=>(O||"").split(/\s/g)).filter(Boolean).forEach(O=>{T.includes(O)?C.classList.add(O):C.classList.remove(O)})}else C.setAttribute(A,k)});function b(E){var A;const k=E==="auto"?h.value:E;y(e,r,(A=f[k])!=null?A:k)}function v(E){t.onChanged?t.onChanged(E,b):b(E)}return c.watch(m,v,{flush:"post",immediate:!0}),d&&c.watch(h,()=>v(m.value),{flush:"post"}),CD(()=>v(m.value)),m}var Uae=Object.defineProperty,jae=Object.defineProperties,$ae=Object.getOwnPropertyDescriptors,UD=Object.getOwnPropertySymbols,zae=Object.prototype.hasOwnProperty,Vae=Object.prototype.propertyIsEnumerable,jD=(t,e,r)=>e in t?Uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hae=(t,e)=>{for(var r in e||(e={}))zae.call(e,r)&&jD(t,r,e[r]);if(UD)for(var r of UD(e))Vae.call(e,r)&&jD(t,r,e[r]);return t},qae=(t,e)=>jae(t,$ae(e));function Wae(t={}){const{valueDark:e="dark",valueLight:r="",window:n=mc}=t,i=Fae(qae(Hae({},t),{onChanged:(s,a)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,s==="dark"):a(s)},modes:{dark:e,light:r}})),o=RD({window:n});return c.computed({get(){return i.value==="dark"},set(s){s===o.value?i.value="auto":i.value=s?"dark":"light"}})}var $D;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})($D||($D={}));var Gae=Object.defineProperty,zD=Object.getOwnPropertySymbols,Qae=Object.prototype.hasOwnProperty,Yae=Object.prototype.propertyIsEnumerable,VD=(t,e,r)=>e in t?Gae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kae=(t,e)=>{for(var r in e||(e={}))Qae.call(e,r)&&VD(t,r,e[r]);if(zD)for(var r of zD(e))Yae.call(e,r)&&VD(t,r,e[r]);return t};Kae({linear:uae},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const xd=Wae();fae(xd),c.computed(()=>xd.value?iae:null);const Xae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Zae=c.createElementVNode("path",{d:"M6.76 4.84l-1.8-1.79l-1.41 1.41l1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407l-1.79 1.79l-1.407-1.408zm-1.8 15.115l1.79 1.8l1.41-1.41l-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41l1.79-1.8l-1.41-1.41z",fill:"currentColor"},null,-1),Jae=[Zae],ele=c.defineComponent({name:"WbSunnyOutlined",render:function(t,e){return c.openBlock(),c.createElementBlock("svg",Xae,Jae)}}),tle={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},rle=c.createElementVNode("path",{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4c.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7c0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z",fill:"currentColor"},null,-1),nle=[rle],ile=c.defineComponent({name:"DarkModeOutlined",render:function(t,e){return c.openBlock(),c.createElementBlock("svg",tle,nle)}}),ole=c.defineComponent({__name:"switch",props:{round:{type:Boolean,default:!1},darkBackground:{default:"linear-gradient(135deg,#42e695,#3bb2b8)"},lightBackground:{default:""}},setup(t){const e=t,r=({checked:n})=>({background:n?e.darkBackground:e.lightBackground});return(n,i)=>(c.openBlock(),c.createBlock(c.unref(eae),{round:n.round,"rail-style":r,value:c.unref(xd),"onUpdate:value":i[0]||(i[0]=o=>c.isRef(xd)?xd.value=o:null)},{"checked-icon":c.withCtx(()=>[c.createVNode(c.unref(pD),null,{default:c.withCtx(()=>[c.renderSlot(n.$slots,"dark",{},()=>[c.createVNode(c.unref(ile))])]),_:3})]),"unchecked-icon":c.withCtx(()=>[c.createVNode(c.unref(pD),null,{default:c.withCtx(()=>[c.renderSlot(n.$slots,"light",{},()=>[c.createVNode(c.unref(ele))])]),_:3})]),_:3},8,["round","value"]))}}),sle=["width","height"],ale=[c.createElementVNode("path",{d:"M480 336V160C479.961 126.064 466.463 93.5296 442.467 69.5334C418.47 45.5371 385.936 32.039 352 32H160C126.064 32.039 93.5296 45.5371 69.5334 69.5334C45.5371 93.5296 32.039 126.064 32 160V352C32.039 385.936 45.5371 418.47 69.5334 442.467C93.5296 466.463 126.064 479.961 160 480H320C323.919 480 327.703 478.564 330.634 475.962L474.634 347.962C477.371 345.395 479.105 341.938 479.528 338.21L479.566 338.026C479.756 337.361 479.901 336.684 480 336ZM336 428.07V392C336.014 380.971 340.401 370.398 348.199 362.599C355.998 354.801 366.571 350.414 377.6 350.4H422.304L336 428.07ZM64 352V160C64.028 134.548 74.1512 110.146 92.1486 92.1486C110.146 74.1512 134.548 64.028 160 64H352C377.452 64.028 401.854 74.1512 419.851 92.1486C437.849 110.146 447.972 134.548 448 160V318.4H377.6C358.087 318.422 339.379 326.183 325.581 339.981C311.783 353.779 304.022 372.487 304 392V448H160C134.548 447.972 110.146 437.849 92.1486 419.851C74.1512 401.854 64.028 377.452 64 352Z"},null,-1),c.createElementVNode("path",{d:"M208 176V168C208 157.391 203.786 147.217 196.284 139.716C188.783 132.214 178.609 128 168 128C157.391 128 147.217 132.214 139.716 139.716C132.214 147.217 128 157.391 128 168V176C128 180.243 129.686 184.313 132.686 187.314C135.687 190.314 139.757 192 144 192C148.243 192 152.313 190.314 155.314 187.314C158.314 184.313 160 180.243 160 176V168C160 165.878 160.843 163.843 162.343 162.343C163.843 160.843 165.878 160 168 160C170.122 160 172.157 160.843 173.657 162.343C175.157 163.843 176 165.878 176 168V176C176 180.243 177.686 184.313 180.686 187.314C183.687 190.314 187.757 192 192 192C196.243 192 200.313 190.314 203.314 187.314C206.314 184.313 208 180.243 208 176Z"},null,-1),c.createElementVNode("path",{d:"M320 192C324.243 192 328.313 190.314 331.314 187.314C334.314 184.313 336 180.243 336 176V168C336 165.878 336.843 163.843 338.343 162.343C339.843 160.843 341.878 160 344 160C346.122 160 348.157 160.843 349.657 162.343C351.157 163.843 352 165.878 352 168V176C352 180.243 353.686 184.313 356.686 187.314C359.687 190.314 363.757 192 368 192C372.243 192 376.313 190.314 379.314 187.314C382.314 184.313 384 180.243 384 176V168C384 157.391 379.786 147.217 372.284 139.716C364.783 132.214 354.609 128 344 128C333.391 128 323.217 132.214 315.716 139.716C308.214 147.217 304 157.391 304 168V176C304 180.243 305.686 184.313 308.686 187.314C311.687 190.314 315.757 192 320 192Z"},null,-1),c.createElementVNode("path",{d:"M328 264V240C328 235.757 326.314 231.687 323.314 228.686C320.313 225.686 316.243 224 312 224H200C195.757 224 191.687 225.686 188.686 228.686C185.686 231.687 184 235.757 184 240V264C184 283.096 191.586 301.409 205.088 314.912C218.591 328.414 236.904 336 256 336C275.096 336 293.409 328.414 306.912 314.912C320.414 301.409 328 283.096 328 264ZM216 264V256H296V264C296 274.609 291.786 284.783 284.284 292.284C276.783 299.786 266.609 304 256 304C245.391 304 235.217 299.786 227.716 292.284C220.214 284.783 216 274.609 216 264Z"},null,-1)],lle={__name:"StickerSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},ale,8,sle))}},cle=["width","height"],ule=[c.createElementVNode("path",{d:"M256 32C211.697 32 168.389 45.1374 131.552 69.7508C94.7158 94.3642 66.0051 129.348 49.0511 170.279C32.0971 211.21 27.6611 256.248 36.3042 299.7C44.9473 343.152 66.2812 383.065 97.6082 414.392C128.935 445.719 168.848 467.053 212.3 475.696C255.752 484.339 300.791 479.903 341.721 462.949C382.652 445.995 417.636 417.284 442.249 380.448C466.863 343.611 480 300.303 480 256C479.933 196.612 456.312 139.676 414.318 97.682C372.324 55.6883 315.388 32.0669 256 32ZM256 448C218.026 448 180.905 436.739 149.331 415.642C117.756 394.545 93.1473 364.559 78.6152 329.475C64.0832 294.392 60.281 255.787 67.6893 218.543C75.0977 181.298 93.3839 147.087 120.236 120.235C147.087 93.3838 181.298 75.0976 218.543 67.6892C255.787 60.2809 294.392 64.0831 329.475 78.6151C364.559 93.1472 394.545 117.756 415.642 149.331C436.739 180.905 448 218.026 448 256C447.942 306.904 427.695 355.706 391.701 391.7C355.706 427.695 306.904 447.942 256 448Z"},null,-1),c.createElementVNode("path",{d:"M352 268.531C347.757 268.531 343.687 270.217 340.686 273.218C337.686 276.218 336 280.288 336 284.531C336 314.821 302.984 339.469 262.4 339.469H249.6C209.014 339.469 176 314.829 176 284.531C176 280.288 174.314 276.218 171.314 273.218C168.313 270.217 164.243 268.531 160 268.531C155.757 268.531 151.687 270.217 148.686 273.218C145.686 276.218 144 280.288 144 284.531C144 332.469 191.374 371.469 249.6 371.469H262.4C320.627 371.469 368 332.469 368 284.531C368 280.288 366.314 276.218 363.314 273.218C360.313 270.217 356.243 268.531 352 268.531Z"},null,-1),c.createElementVNode("path",{d:"M176 224C180.243 224 184.313 222.314 187.314 219.314C190.314 216.313 192 212.243 192 208V200C192 197.878 192.843 195.843 194.343 194.343C195.843 192.843 197.878 192 200 192C202.122 192 204.157 192.843 205.657 194.343C207.157 195.843 208 197.878 208 200V208C208 212.243 209.686 216.313 212.686 219.314C215.687 222.314 219.757 224 224 224C228.243 224 232.313 222.314 235.314 219.314C238.314 216.313 240 212.243 240 208V200C240 189.391 235.786 179.217 228.284 171.716C220.783 164.214 210.609 160 200 160C189.391 160 179.217 164.214 171.716 171.716C164.214 179.217 160 189.391 160 200V208C160 212.243 161.686 216.313 164.686 219.314C167.687 222.314 171.757 224 176 224Z"},null,-1),c.createElementVNode("path",{d:"M288 224C292.243 224 296.313 222.314 299.314 219.314C302.314 216.313 304 212.243 304 208V200C304 197.878 304.843 195.843 306.343 194.343C307.843 192.843 309.878 192 312 192C314.122 192 316.157 192.843 317.657 194.343C319.157 195.843 320 197.878 320 200V208C320 212.243 321.686 216.313 324.686 219.314C327.687 222.314 331.757 224 336 224C340.243 224 344.313 222.314 347.314 219.314C350.314 216.313 352 212.243 352 208V200C352 189.391 347.786 179.217 340.284 171.716C332.783 164.214 322.609 160 312 160C301.391 160 291.217 164.214 283.716 171.716C276.214 179.217 272 189.391 272 200V208C272 212.243 273.686 216.313 276.686 219.314C279.687 222.314 283.757 224 288 224Z"},null,-1)],dle={__name:"EmojiSvg",props:{width:{type:[Number,String],default:22},height:{type:[Number,String],default:22}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},ule,8,cle))}},fle=["width","height"],hle=[c.createElementVNode("g",{"clip-path":"url(#clip0_4129_855)"},[c.createElementVNode("path",{d:"M87.6177 316.621L87.6236 316.615L352.802 48.4514C352.803 48.4503 352.804 48.4493 352.805 48.4482C374.902 26.3552 413.467 26.3563 435.561 48.4514L436.622 47.3907L435.561 48.4514C458.376 71.2656 458.376 108.383 435.561 131.197L435.555 131.203L180.985 388.774C180.984 388.775 180.983 388.776 180.982 388.777C173.07 396.686 159.194 396.685 151.282 388.774C143.091 380.584 143.091 367.247 151.282 359.055L151.288 359.049L395.235 112.102C395.236 112.101 395.237 112.1 395.238 112.099C398.132 109.202 399.469 104.729 399.469 100.434C399.469 96.1361 398.131 91.6612 395.235 88.7642L394.174 89.8248L395.235 88.7641C388.788 82.3173 378.343 82.3173 371.896 88.7641L371.89 88.7706L127.944 335.718C127.943 335.719 127.942 335.721 127.94 335.722C106.874 356.793 106.875 391.044 127.944 412.112C148.37 432.538 183.929 432.508 204.324 412.112L204.33 412.106L458.9 154.536C458.901 154.535 458.902 154.534 458.903 154.533C494.311 119.121 494.31 60.5257 458.9 25.1141L457.839 26.1747L458.9 25.1141C441.6 7.81479 418.608 -1.50024 394.175 -1.50024C369.742 -1.50024 346.747 7.81473 329.463 25.1135L329.457 25.119L64.2793 293.284C13.9626 343.601 13.9625 425.447 64.2783 475.762C114.595 526.079 196.455 526.079 246.772 475.762L436.683 285.852C443.129 279.406 443.129 268.961 436.683 262.514C430.236 256.067 419.791 256.067 413.344 262.514L223.435 452.424C223.435 452.424 223.434 452.424 223.434 452.424C187.155 488.674 123.897 488.674 87.6177 452.424C50.1805 414.987 50.1805 354.059 87.6177 316.621Z","stroke-width":"3"})],-1)],ple={__name:"FileSvg",props:{width:{type:[Number,String],default:20},height:{type:[Number,String],default:20}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},hle,8,fle))}},mle=["width","height"],gle=[c.createElementVNode("g",null,[c.createElementVNode("g",null,[c.createElementVNode("path",{d:"m256 439.98c-13.81 0-25-11.19-25-25v-317.96c0-13.81 11.19-25 25-25s25 11.19 25 25v317.96c0 13.81-11.19 25-25 25z"})]),c.createElementVNode("g",null,[c.createElementVNode("path",{d:"m414.98 281h-317.96c-13.81 0-25-11.19-25-25s11.19-25 25-25h317.96c13.81 0 25 11.19 25 25s-11.19 25-25 25z"})])],-1)],yle={__name:"AddSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,"enable-background":"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},gle,8,mle))}},ble=["width","height"],vle=[c.createElementVNode("path",{d:"M255.999 0C153.754 0 70.572 83.182 70.572 185.426C70.572 312.314 236.511 498.593 243.576 506.461C250.212 513.852 261.798 513.839 268.422 506.461C275.487 498.593 441.426 312.314 441.426 185.426C441.424 83.182 358.243 0 255.999 0ZM255.999 469.729C200.152 403.391 103.964 272.512 103.964 185.428C103.964 101.594 172.166 33.392 255.999 33.392C339.832 33.392 408.034 101.594 408.034 185.427C408.033 272.515 311.86 403.37 255.999 469.729Z"},null,-1),c.createElementVNode("path",{d:"M255.999 92.1338C204.557 92.1338 162.707 133.985 162.707 185.427C162.707 236.869 204.558 278.72 255.999 278.72C307.44 278.72 349.29 236.869 349.29 185.427C349.29 133.985 307.44 92.1338 255.999 92.1338ZM255.999 245.328C222.969 245.328 196.099 218.457 196.099 185.427C196.099 152.397 222.97 125.526 255.999 125.526C289.028 125.526 315.899 152.397 315.899 185.427C315.899 218.457 289.028 245.328 255.999 245.328Z"},null,-1)],_le={__name:"LocationSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},vle,8,ble))}},wle=["width","height"],xle=[c.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M223.999 48C188.653 48 159.999 76.6538 159.999 112V192V272C159.999 307.346 188.653 336 223.999 336H255.999H287.999C323.345 336 351.999 307.346 351.999 272V192V112C351.999 76.6538 323.345 48 287.999 48H255.999H223.999ZM191.999 112C191.999 94.3272 206.326 80 223.999 80H255.999H287.999C305.672 80 319.999 94.3272 319.999 112V192V272C319.999 289.673 305.672 304 287.999 304H255.999H223.999C206.326 304 191.999 289.673 191.999 272V192V112ZM127.999 224C127.999 215.163 120.836 208 111.999 208C103.162 208 95.999 215.163 95.999 224V272C95.999 342.693 153.306 400 223.999 400H239.999V464H191.999C183.162 464 175.999 471.163 175.999 480C175.999 488.837 183.162 496 191.999 496H255.999H319.999C328.836 496 335.999 488.837 335.999 480C335.999 471.163 328.836 464 319.999 464H271.999V400H287.999C358.692 400 415.999 342.693 415.999 272V224C415.999 215.163 408.836 208 399.999 208C391.162 208 383.999 215.163 383.999 224V272C383.999 325.019 341.018 368 287.999 368H255.999H223.999C170.98 368 127.999 325.019 127.999 272V224Z"},null,-1)],Tle={__name:"RecordSvg",props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},setup(t){const e=t;return(r,n)=>(c.openBlock(),c.createElementBlock("svg",{width:e.width,height:e.height,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},xle,8,wle))}},HD=t=>(c.pushScopeId("data-v-607e4765"),t=t(),c.popScopeId(),t),Ale={key:1,class:"relative h-10 w-10"},Cle={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100"},Sle=HD(()=>c.createElementVNode("div",{class:"flex-grow"},null,-1)),Ele={key:0,slot:"header",class:"flex h-12 w-full items-center justify-center"},kle=[HD(()=>c.createElementVNode("svg",{class:"h-6 w-6 animate-spin fill-blue-400 text-gray-200 dark:fill-sky-700 dark:text-gray-700",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c.createElementVNode("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),c.createElementVNode("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))],Ile={class:"relative flex items-end justify-center gap-3 p-2 pl-3"},Dle={key:2,class:"absolute bottom-16 left-2 z-10 flex items-stretch gap-1 rounded-lg bg-white p-1.5 text-gray-900 shadow-md dark:bg-zinc-800 dark:text-gray-100"},Mle={class:"text-xs"},Nle={class:"whitespace-nowrap text-xs"},Ole={key:4,class:"relative flex grow flex-col items-stretch rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Lle={key:0,class:"absolute left-[50%] top-[-40px] flex translate-x-[-50%] gap-5"},Ble=["onClick"],Rle={class:"flex items-center gap-3 bg-gray-100 dark:bg-zinc-700"},Ple={class:"flex w-0 min-w-0 grow flex-col items-stretch justify-center gap-3"},Fle=["placeholder"],Ule={key:0,class:"flex gap-3"},jle=["src"],$le=["onClick"],zle=pr(c.defineComponent({__name:"ChatRoom",props:{isTestPreview:{type:Boolean},pinchatLink:{}},emits:["send"],setup(t,{emit:e}){const r=e,n=t,i=Bt(),{open:o}=Vi({component:lZ}),s=c.computed(()=>n.isTestPreview?`Test Bot ${n.pinchatLink.split("_")[0]}`:a.value.displayName),a=c.computed(()=>i.state.imkit.rooms[i.state.imkit.selectedRoomId]),l=c.computed(()=>i.state.imkit.selectedRoomId),d=c.computed(()=>!!i.state.imkit.isRequesting[`/rooms/${i.state.imkit.selectedRoomId}/messages`]),f=c.computed(()=>{var ke;const pe=Object.keys(i.state.imkit.isTyping).map(ae=>new nr({_id:ae,messageType:"typing",sender:{_id:ae}}));return((ke=i.state.imkit.messageMultiList.main)==null?void 0:ke.array().concat(pe))??[]}),u=c.computed(()=>EZ().has("roomId")),h=c.computed(()=>f.value.at(-1)),p=c.computed(()=>i.state.imkit.isRoomInfoVisible),m=c.computed(()=>i.state.imkit.navigationTargetId),y=c.ref(null),b=c.ref(""),v=c.ref(!1),E=c.ref(!1),A=c.ref(!1),k=c.ref(!1),C=c.ref(),T=c.ref([]),O=c.ref([]),D=c.ref(!1),S=c.ref(!1),R=c.ref(),z=c.ref(mr().subtract(5,"second")),F=c.ref(!1),P=c.computed(()=>!0),$=c.computed(()=>{var pe,ke;return(ke=(pe=f.value[f.value.length-1])==null?void 0:pe.template)==null?void 0:ke.quickReply.items}),W=c.computed(()=>i.state.imkit.replyId),B=c.computed(()=>i.state.imkit.config.settings),j=c.computed(()=>i.state.imkit.isSearchInRoomMode),re=c.computed(()=>i.state.imkit.config.styles),H=async()=>{const pe=async()=>{if(b.value){const{replyId:ae}=i.state.imkit,Te={roomId:a.value.id,messageType:"text",message:b.value.trim(),reply:ae||null};b.value="",await c.nextTick(),R.value&&(R.value.style.height="auto",R.value.style.height=Math.min(R.value.scrollHeight,64)+"px"),await i.dispatch("imkit/sendMessage",Te),i.commit("imkit/setState",{replyId:null})}},ke=async()=>{if(T.value.length>0){const ae={roomId:a.value.id,messageType:"image",images:T.value,files:O.value};T.value=[],O.value=[],await i.dispatch("imkit/sendMessage",ae)}};await Promise.all([ke(),pe()]),r("send")},L=async()=>{var ke,ae;if(f.value.length>=i.state.imkit.numberOfTotalMessages)return;const pe=await i.dispatch("imkit/loadMessages",{roomId:a.value.id,beforeMessageId:(ke=f.value[0])==null?void 0:ke.id});pe&&pe.length>0&&((ae=y.value)==null||ae.scrollToIndex(pe.length))},I=async()=>{var pe;S.value=!1,i.state.imkit.messageMultiList.main!=i.state.imkit.messageMultiList.tail&&await i.dispatch("imkit/loadMessages",{roomId:a.value.id,afterMessageId:(pe=f.value[f.value.length-1])==null?void 0:pe.id})},V=pe=>{b.value+=pe.i,A.value=!1},K=()=>{var pe;(pe=C.value)==null||pe.click()},Y=async pe=>{var q;const ae=Array.from(((q=pe==null?void 0:pe.target)==null?void 0:q.files)||[]).filter(oe=>oe.size<2e7);if(ae.length===0||ae.length>10)return;const Te=ae.filter(oe=>oe.type.startsWith("image")),De=ae.filter(oe=>oe.type.startsWith("video")),U=ae.filter(oe=>!oe.type.startsWith("image")&&!oe.type.startsWith("video"));if(Te.length>0){const oe=await Promise.all(Te.map(ob)),we={roomId:a.value.id,messageType:"image",images:oe,files:Array.from(ae)};await i.dispatch("imkit/sendMessage",we)}if(De.length>0)for(const oe of De){const we=await zX(oe),{width:Oe,height:Pe,duration:Ge}=we,ge={roomId:a.value.id,messageType:"video",video:we,file:oe,width:Oe,height:Pe,duration:Ge};await i.dispatch("imkit/sendMessage",ge)}if(U.length>0)for(const oe of U){const we={roomId:a.value.id,messageType:"file",file:oe,originalUrl:"",extra:{mimeType:oe.type,fileName:oe.name.split(".").slice(0,-1).join("."),bytes:oe.size,fileExtension:oe.name.split(".").pop()}};await i.dispatch("imkit/sendMessage",we)}C.value&&(C.value.value="")},Q=async pe=>{const ke=((pe==null?void 0:pe.dataTransfer)||{}).files||[];if(ke.length===0||ke.length>10)return;const ae=await Promise.all(Array.from(ke).map(ob)),Te={roomId:a.value.id,messageType:"image",images:ae,files:Array.from(ke)};await i.dispatch("imkit/sendMessage",Te)},le=pe=>{pe.preventDefault()},ie=async pe=>{const ae=(pe.clipboardData||{}).files;ae.length===0||ae.length>10||(pe.preventDefault(),T.value=T.value.concat(await Promise.all(Array.from(ae).map(ob))),O.value=O.value.concat(Array.from(ae)))},me=()=>{i.commit("imkit/setState",{selectedRoomId:""})},he=pe=>{T.value.splice(pe,1),O.value.splice(pe,1)},fe=()=>{setTimeout(()=>{v.value=!1},0)},ve=pe=>{!v.value&&pe.keyCode==13&&!pe.shiftKey&&!B.value.sendButtonEnabled&&(pe.preventDefault(),H())},Se=()=>{R.value&&(R.value.style.height="auto",R.value.style.height=Math.min(R.value.scrollHeight,64)+"px")},Me=()=>{i.commit("imkit/setState",{isSearchInRoomMode:!0})};c.onMounted(()=>{c.watch(l,async(pe,ke)=>{pe!==ke&&(D.value=!1,i.commit("imkit/clearChatRoom"),Promise.all([i.dispatch("imkit/loadMessages",{roomId:pe}),i.dispatch("imkit/fetchRoom",pe)]).finally(()=>{var ae,Te;(((ae=a.value)==null?void 0:ae.numberOfUnread)??0)>0&&(i.dispatch("imkit/updateLastRead",pe),i.dispatch("imkit/insertUnreadMessage"));for(const De of i.state.imkit.deliveringMessages.values())De.roomId===pe&&i.commit("imkit/pushMessage",De);(Te=y.value)==null||Te.scrollToBottom(),D.value=!0}))},{immediate:!0}),c.watch([()=>f.value.length,()=>h.value],([pe],[ke])=>{var ae,Te,De,U,q,oe;((ae=y.value)==null?void 0:ae.getOffset())!==void 0&&(pe-ke>1||(((Te=y.value)==null?void 0:Te.getOffset())+((De=y.value)==null?void 0:De.getClientSize())==((U=y.value)==null?void 0:U.getScrollSize())||((q=f.value[f.value.length-1])==null?void 0:q.senderId)===i.state.imkit.uid?(S.value=!1,(oe=y.value)==null||oe.scrollToBottom()):S.value=!0))}),c.watch(m,pe=>{var ae;if(!pe)return;const ke=f.value.findIndex(Te=>Te.id===pe);ke!==-1&&((ae=y.value)==null||ae.scrollToIndex(ke)),i.commit("imkit/setState",{navigationTargetId:""})}),c.watch(W,()=>{W.value&&(k.value=!1,setTimeout(()=>{var pe;(pe=R.value)==null||pe.focus()},0))}),c.watch(b,()=>{if(z.value.add(5,"second")>mr())return;z.value=mr();const{socket:pe,selectedRoomId:ke}=i.state.imkit;pe.emit("typing",ke)})});const de=()=>{const{open:pe}=Vi({component:cZ});pe()};return(pe,ke)=>{var Te;const ae=c.resolveDirective("touch");return a.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex h-dvh flex-col bg-white dark:bg-zinc-800",onDrop:c.withModifiers(Q,["prevent"]),onDragenter:le,onDragover:le},[j.value?(c.openBlock(),c.createBlock(VZ,{key:0})):c.withDirectives((c.openBlock(),c.createElementBlock("div",{key:1,class:"flex h-[60px] select-none items-center gap-3 border-b border-solid px-3 py-2.5 dark:border-zinc-700",style:c.normalizeStyle(re.value.chatRoomHeader)},[u.value?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock("img",{key:0,src:M2,class:"flex cursor-pointer sm:!hidden",width:"36",height:"36",onClick:me})),n.isTestPreview?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[a.value.avatars.length===1?(c.openBlock(),c.createBlock(qr,{key:0,url:a.value.avatars[0].url,name:a.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock("div",Ale,[c.createVNode(qr,{url:a.value.avatars[1].url,name:a.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl !text-base"},null,8,["url","name"]),c.createVNode(qr,{url:a.value.avatars[0].url,name:a.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white !text-base group-hover:border-gray-100 dark:border-zinc-800"},null,8,["url","name"])]))],64)),c.createElementVNode("div",Cle,c.toDisplayString(s.value),1),Sle,B.value.showDarkModeSwitch&&!n.isTestPreview?(c.openBlock(),c.createBlock(c.unref(ole),{key:2,round:""})):c.createCommentVNode("",!0),B.value.searchInRoomEnabled&&!n.isTestPreview?(c.openBlock(),c.createElementBlock("img",{key:3,class:"h-6 w-6 cursor-pointer",src:$d,onClick:Me})):c.createCommentVNode("",!0),a.value.type===c.unref(Vh).Group&&B.value.showGroupChatRoomInfoButton||a.value.type===c.unref(Vh).Direct&&B.value.showDirectChatRoomInfoButton&&!n.isTestPreview?(c.openBlock(),c.createElementBlock("img",{key:4,src:J5,class:"h-6 w-6 cursor-pointer",onClick:ke[0]||(ke[0]=De=>c.unref(i).commit("imkit/setState",{isRoomInfoVisible:!p.value}))})):c.createCommentVNode("",!0)],4)),[[ae,de,"longtap"]]),c.createVNode(c.unref(qd),{class:c.normalizeClass(["grow overflow-auto p-2",{"opacity-0":!D.value&&!d.value}]),ref_key:"vl",ref:y,"data-key":"id","data-sources":f.value,"data-component":eY,"wrap-class":"flex flex-col","estimated-size":66,keeps:50,onTotop:L,onTobottom:I},{header:c.withCtx(()=>[d.value?(c.openBlock(),c.createElementBlock("div",Ele,kle)):c.createCommentVNode("",!0)]),_:1},8,["class","data-sources"]),c.createElementVNode("div",Ile,[S.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"absolute -top-10 flex h-10 w-full cursor-pointer items-center bg-gray-200 bg-opacity-90 px-3 dark:bg-zinc-600",onClick:ke[1]||(ke[1]=(...De)=>y.value.scrollToBottom&&y.value.scrollToBottom(...De))},c.toDisplayString((Te=a.value.lastMessage)==null?void 0:Te.string),1)):c.createCommentVNode("",!0),B.value.locationInputEnabled||B.value.audioInputEnabled?(c.openBlock(),c.createBlock(yle,{key:1,class:c.normalizeClass(["h-12 w-5 flex-shrink-0 transform cursor-pointer fill-slate-500 object-contain transition dark:fill-slate-400",{"rotate-45":k.value}]),onClick:ke[2]||(ke[2]=()=>{k.value?k.value=!1:F.value=!0})},null,8,["class"])):c.createCommentVNode("",!0),F.value?c.withDirectives((c.openBlock(),c.createElementBlock("div",Dle,[B.value.locationInputEnabled?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:ke[3]||(ke[3]=(...De)=>c.unref(o)&&c.unref(o)(...De))},[c.createVNode(_le,{class:"fill-slate-500 dark:fill-slate-400"}),c.createElementVNode("div",Mle,c.toDisplayString(pe.$t("location")),1)])):c.createCommentVNode("",!0),B.value.audioInputEnabled?(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex min-w-16 cursor-pointer flex-col items-center justify-center gap-1 p-2",onClick:ke[4]||(ke[4]=()=>{F.value=!1,k.value=!0})},[c.createVNode(Tle,{class:"fill-slate-500 dark:fill-slate-400"}),c.createElementVNode("div",Nle,c.toDisplayString(pe.$t("audio")),1)])):c.createCommentVNode("",!0)])),[[c.unref(fd),()=>{F.value=!1}]]):c.createCommentVNode("",!0),B.value.audioInputEnabled&&k.value?(c.openBlock(),c.createBlock(SZ,{key:3})):(c.openBlock(),c.createElementBlock("div",Ole,[c.createVNode(ZX),P.value?(c.openBlock(),c.createElementBlock("div",Lle,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList($.value,(De,U)=>(c.openBlock(),c.createElementBlock("div",{key:U,class:"cursor-pointer rounded-full bg-gray-100 px-2 py-1 text-center text-xs dark:bg-zinc-700",onClick:q=>c.unref(ao)({type:De.action.type,roomId:l.value,message:De.action.label})},c.toDisplayString(De.action.label),9,Ble))),128))])):c.createCommentVNode("",!0),c.createElementVNode("div",Rle,[c.createElementVNode("div",Ple,[c.withDirectives(c.createElementVNode("textarea",{ref_key:"input",ref:R,type:"text",rows:"1",class:"resize-none bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:pe.$t("TypeMessage"),"onUpdate:modelValue":ke[5]||(ke[5]=De=>b.value=De),onCompositionstart:ke[6]||(ke[6]=De=>v.value=!0),onCompositionend:fe,onKeydown:c.withKeys(ve,["enter"]),onInput:Se,onPaste:ie},null,40,Fle),[[c.vModelText,b.value]]),T.value.length>0?(c.openBlock(),c.createElementBlock("div",Ule,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(T.value,(De,U)=>(c.openBlock(),c.createElementBlock("div",{key:`${De.id}-${U}`,class:"group relative h-12 w-12"},[c.createElementVNode("img",{src:De.thumbnailUrl,class:"absolute bottom-0 left-0 h-full w-full rounded-lg bg-gray-200 object-cover dark:bg-zinc-600"},null,8,jle),c.createElementVNode("img",{src:eM,class:"absolute -right-2 -top-2 hidden h-5 w-5 cursor-pointer group-hover:block",onClick:q=>he(U)},null,8,$le)]))),128))])):c.createCommentVNode("",!0)]),B.value.stickerInputEnabled?(c.openBlock(),c.createElementBlock("button",{key:0,class:"flex-shrink-0",onClick:ke[7]||(ke[7]=De=>E.value=!0)},[c.createVNode(lle,{class:"fill-slate-500 dark:fill-slate-400"})])):c.createCommentVNode("",!0),B.value.emojiInputEnabled?(c.openBlock(),c.createElementBlock("button",{key:1,class:"flex-shrink-0",onClick:ke[8]||(ke[8]=De=>A.value=!0)},[c.createVNode(dle,{class:"fill-slate-500 dark:fill-slate-400"})])):c.createCommentVNode("",!0),B.value.fileInputEnabled?(c.openBlock(),c.createElementBlock("button",{key:2,class:"flex-shrink-0",onClick:K},[c.createVNode(ple,{class:"fill-slate-500 dark:fill-slate-400"}),c.createElementVNode("input",{ref_key:"fileInput",ref:C,type:"file",multiple:"true",onChange:Y,class:"hidden"},null,544)])):c.createCommentVNode("",!0)]),B.value.stickerInputEnabled&&E.value?c.withDirectives((c.openBlock(),c.createBlock(sY,{key:1,onClose:ke[9]||(ke[9]=()=>{E.value=!1})},null,512)),[[c.unref(fd),()=>{E.value=!1}]]):c.createCommentVNode("",!0)])),B.value.emojiInputEnabled&&A.value?c.withDirectives((c.openBlock(),c.createBlock(c.unref(EX),{key:5,class:"absolute bottom-16 right-2.5 overflow-auto",native:!0,onSelect:V},null,512)),[[c.unref(fd),()=>{A.value=!1}]]):c.createCommentVNode("",!0),k.value?c.createCommentVNode("",!0):(c.openBlock(),c.createElementBlock(c.Fragment,{key:6},[b.value.length>0?(c.openBlock(),c.createElementBlock("img",{key:0,class:c.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-pointer",{"sm:hidden":!B.value.sendButtonEnabled}]),src:N2,onClick:H},null,2)):(c.openBlock(),c.createElementBlock("img",{key:1,class:c.normalizeClass(["my-auto ml-0.5 mr-1 h-6 w-6 cursor-not-allowed",{"sm:hidden":!B.value.sendButtonEnabled}]),src:O2},null,2))],64))])],32)):c.createCommentVNode("",!0)}}}),[["__scopeId","data-v-607e4765"]]);var qD={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var s=i.prototype,a=s.format;o.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(u,h){return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,y){var b=y&&y.toUpperCase();return m||h[y]||r[y]||h[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,E,A){return E||A.slice(1)})})}(l,d===void 0?{}:d);return a.call(this,f)}}})})(qD);var Vle=qD.exports;const Rb=vn(Vle),Hle={class:"flex flex-col divide-y bg-white dark:divide-zinc-700 dark:bg-zinc-800"},qle={class:"flex h-[59px] items-center gap-4 px-3"},Wle={key:1,class:"relative h-10 w-10"},Gle={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-200"},Qle={class:"flex flex-col gap-4 overflow-auto p-2"},Yle={class:"mb-2 text-base text-gray-500 dark:text-gray-300"},Kle={class:"flex flex-col gap-3"},Xle={class:"relative h-[50px] w-[50px]"},Zle={class:"flex flex-col overflow-hidden overflow-ellipsis whitespace-nowrap text-base"},Jle={class:"text-base text-gray-900 dark:text-gray-100"},ece={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},tce={class:"text-gray-500 dark:text-gray-300"},rce={class:"text-gray-500 dark:text-gray-300"},nce=["src"],ice=c.defineComponent({__name:"ChatRoomInfo",setup(t){mr.extend(Rb);const e=Bt(),r=c.computed(()=>e.state.imkit.rooms[e.state.imkit.selectedRoomId]),n=c.computed(()=>e.state.imkit.users),i=c.computed(()=>e.state.imkit.uid),o=c.computed(()=>e.state.imkit.config.settings),s=c.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl),a=c.computed(()=>e.state.imkit.config.settings.customRoomInfoIframeUrl+`?roomId=${e.state.imkit.selectedRoomId}`),l=()=>{e.commit("imkit/setState",{isRoomInfoVisible:!1})};return(d,f)=>(c.openBlock(),c.createElementBlock("div",Hle,[c.createElementVNode("div",qle,[c.createElementVNode("img",{src:M2,class:"cursor-pointer sm:hidden",width:"36",height:"36",onClick:l}),r.value.avatars.length===1?(c.openBlock(),c.createBlock(qr,{key:0,url:r.value.avatars[0].url,name:r.value.avatars[0].name,class:"!h-10 !w-10 !text-lg"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock("div",Wle,[c.createVNode(qr,{url:r.value.avatars[1].url,name:r.value.avatars[1].name,class:"absolute right-0 top-0 !h-7 !w-7 rounded-xl !text-base"},null,8,["url","name"]),c.createVNode(qr,{url:r.value.avatars[0].url,name:r.value.avatars[0].name,class:"absolute bottom-0 left-0 !h-[30px] !w-[30px] rounded-xl border-2 border-white !text-base group-hover:border-gray-100 dark:border-zinc-800"},null,8,["url","name"])])),c.createElementVNode("div",Gle,c.toDisplayString(r.value.displayName),1)]),c.createElementVNode("div",Qle,[c.createElementVNode("div",null,[c.createElementVNode("div",Yle,c.toDisplayString(d.$t("members")),1),c.createElementVNode("div",Kle,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(r.value.memberIds,u=>(c.openBlock(),c.createElementBlock("div",{key:u,class:"flex items-center gap-4"},[c.createElementVNode("div",Xle,[c.createVNode(qr,{url:n.value[u].avatarUrl??"",name:n.value[u].nickname,class:"relative h-[50px] w-[50px] text-lg"},null,8,["url","name"])]),c.createElementVNode("div",Zle,[c.createElementVNode("div",Jle,c.toDisplayString(n.value[u].nickname),1),n.value[u].city&&n.value[u].country?(c.openBlock(),c.createElementBlock("div",ece,c.toDisplayString(n.value[u].city)+", "+c.toDisplayString(n.value[u].country),1)):c.createCommentVNode("",!0)])]))),128))])]),c.createElementVNode("div",null,[c.createElementVNode("div",tce,c.toDisplayString(d.$t("createdAt"))+" "+c.toDisplayString(c.unref(mr)(r.value.createdAt).format("lll")),1),c.createElementVNode("div",rce,c.toDisplayString(d.$t("updatedAt"))+" "+c.toDisplayString(c.unref(mr)(r.value.updatedAt).format("lll")),1)]),r.value.type===c.unref(Vh).Group&&o.value.showLeaveRoomButton?(c.openBlock(),c.createElementBlock("button",{key:0,class:"w-full rounded-lg border p-2 text-gray-500 dark:text-gray-300",onClick:f[0]||(f[0]=u=>c.unref(e).dispatch("imkit/removeMembers",{roomId:r.value.id,uids:[i.value]}))},c.toDisplayString(d.$t("leaveGroup")),1)):c.createCommentVNode("",!0),s.value?(c.openBlock(),c.createElementBlock("iframe",{key:1,src:a.value,frameborder:"0"},null,8,nce)):c.createCommentVNode("",!0)])]))}}),oce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAbUExURUdwTP///////////////////////////////xb9HQ4AAAAIdFJOUwCAvz5nE+qvkBVomAAAAT1JREFUWMPtl70LwjAQxatWXP0aHHUQOlZxcFRcHIuIriIOHV0ER6ui+bMl2ErvcmlCEKQxb+tLf5RqLu/V85yc7NKkBRS+3docuB1MrRjUM+JuPUD2CWFntM763G1g9wqpGl5nN25PBTsEWEVYv3O7J9gzBZbQWLOk2CD7V4M8ds3ctgT7WL08ltD3OMxhDvsFZjjdlh54Po0tFZhh4ng4/9iRu1XsPlEsbnH+vdMUp+UQp/AIhHQ3y26Y6AvXcayuaqnW3Yim6KqWzUfMDjRGV7VUU3HrFw5Objz6FCapaqn49U4PSxB2KTcmHuZamBgdVmPjGJ6eoRbmF205ObbB2CPSwZY6Xx105Ctj8WtPM3w3w1/SG0NqH/7ZVjacbksPPL8Qi2WYYeJIqpoq3yRVTZmmkqqmym4np5LrBeYgWB5+6q94AAAAAElFTkSuQmCC",sce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQUlEQVR4nO2bu2sUURSHz4CISlR8pNi4e24S151zx0ez2XMmD1gROxEVEcRHIYJYCPaCna9CBBULK/uUAUX0D1Ax4gpa2EUbg6CkMaiIyjWKSdjsIzs7z/vBVFvsnW9/587cc+8CWCwWi8ViscQL5cpu1PJQaZ5Ad3gk6vHEijwN7VCaZ5WWX+ZCkm/9mg9EPa54UK2uUFqe/5MzT9J3pfkgZB0kvrRYjpX0FyQpzyWlvqBMJ0mp6ipF8rqRnExLUsS3WpGTSUno8R6l5Wc7gjIjqVjkdUg81a6cBZKocgjSCmq+t1w5qZdUcP39ncpJraRcqbwZST4EJSh1khTJeJByUiUJtZzohpxUSCq4I32K+FM3BSVZkjPXwuiunPmSsOSPQlLALpdW/YsnICkMDpbXI/HTMAUh8QNIEoOhSuLZfvKrod6g646sNd29gpbzqPmq0nIbSS6i5tMDJdkVF0mo+VWr4wkCxywKleZHpv3ZJNJTqOUGUjkXjST+gVqueJ63MhQzWPJHkfhZ2wMl+aI0X8uVy2vCkoRa3iqqDIcixoAkZ5p1+JpPklLr18MKGknS8qRDOaZVcrfXq/ZAWKArhwP7ZYmnTTu1G0lCkveo/b0QAU67Xb4m8Z8Z8Hxu2BdqN0kk43nP3wgR4sRREmr+GKdlhBMnSUh8v9kTMpOSUMuMeWhAjHEik0T8eOv2oQIkAAc13wlKkiL+3PTppvmk+V5IEE6YkpKKY9ZggZUb8XRSSihCSfKy0bIkqThBlptZZEIKcYJLEs/mt/lbIG0Ui2O9ZrINJkV8HdIE7hzboLRMBjgXvYO0gAHL+XeZM4qQkq3jWt2b7LTcPDkFaU0OktT+zEkdTdx8AdKYHCSpmc87fgUgvglpTE7uv5yOXgGQ5DJkQM6yJSHxOUhpWS1FW+WGxPsgA8lZVj8JNX8NdXciJnJalpSYvXQMXk5Lksy5RciwnIaSzA5u7LuHfVTZ1OGE3CoLJu65E2HsQ8aT0yBJlbMQZ/rCS85iHLPNDXEmn/dXK80vIpCTDBTJ0aXkmGRB1kHPP27lNKDXq/YokjfzJE3a5NST5FaOocdHzL//uhpZi8VisVgsFosFYs5vllNJQwrDPNkAAAAASUVORK5CYII=",ace="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVR4nO3WPQrCMBiA4W+yh/BcniABFyNIsrsnOPRS/kz1KlJ35SsdOkhtRaGp7wOB0pZ3CGlSEQAAAAAAAAAAJsC5sjA+bU2IZxviXUd77fTZrHrr3WFpQ7zakB6vhvGp0ndm0XOuLPpi3eiQmZx6T3SZvIt1opvce2J9ugwOhnjKvScmxHpEsM69J2OCNsRb7j35uyVtQ3Tf3BSm3pP2QK8GxKrVfr/IvdfQQ7sv+smPwpR7DZ0dXRL6HehG0WwWPh313uCZy6gHAAAAAAAAAID8wBNoenSqsgBAfQAAAABJRU5ErkJggg==",lce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVR4nO2bz2sUSRTHe6K7/jgIiyxozFQFHZ33OojoOO+NUchRA7q7Fw9ehM0ejR7iwt7UgwcNCOqfkL/Do7/BX+BlYTHir+hZYY3rzsjrnsiYVFfPD2e6OtQXGoaZ7p6qT7/36tWr6iDw8vLy8vLy8vLy8vLyck6l0pF1KqydVkB3NfAHjdzo4fhfI73SwHOjY7QnyLtGdta2KeDHPUJJOOizBp4Jcm050C843xwXgjxKIZ8ZAJz8QlJA9wYIqKGQrgTB8TVBXqSB3g8SUBPSkyLQyW0lGnEe1qDh6EEdwB8U8h0FNB2G4Y8eEFosFuhhsTw+7C0IbVZFD7qypMxdAQcY+4BOeUBoAYR8xwNCW+Cm9x4Q2t3MA0IPqNFLoPYWhB5Qw1sQ9i8X8i6GHlDDWxB6F2tkNR/zMQg9oIa3ILSVLHhRA99QQOeL5doxPcaodh/6KZiYWDsyUtsgZVxZi9NAJzTQ1Xidj/5b9S6mgB4qpD8iGJ32MaxuUcB/KeS/Vx0gBfx4tFw9HHwfFVYNIIX0rzz1zFc9HLWaFwq4ErigrGHo5Qfw/WGobg5ckVuWQ3dLJdqU1uZKpfKDgupRDXRNId9WQO8U8Kf4oHfynQaeVbtqB4MgGFodgID+KZUO/Zy20UKX+axA6MBdF+QauTa3gBTSR40H9trbSb8poOc9WOfzUaRf8wroT0sTC7IrRCPXv8N/1SXB7Gi4zxqOBn4qMSURDvBcH/5zrm1IWQMqhvyLpW0X+ma1QOecB6SQniQ9SYk5JreSeCXTjmgPZLqlvGxOUT4afq/bHo4bgICmjW3SE+vNAZluyn7KFohTps7H39HU0nkygZVrDefNp45u2QGiz0kJoQzLpk63wmlp/2QrpObnyeXnCSSjJaVtMM0Q0M3kJHBlniOuYulDBCkJzpIU8KOV9+UFazKZoXtdNHeiejQB6KuUBz1pg9NMF94Y21I+MO4eoJCOG9sDdN1idV/jSqeSWlLifYFnndrEqSMLqu0zd4RvJ1/Di1JF7BSO1JOkfNKpu8cNkpIkDh7Q9rCiEtpjnWelxZm0IG4GT29tgKazALS1Utlobg8vplpfm5DagbN0v8SbyMZGFSVeHlCiiuXx4UFDyo2LLbOkU3Gxqf+BO6mkag3SHcJpH5IlSLsmDTyb2JGQf+/6vkhTXQ3zrkntqh3sU6IokF53nCg6qKGoTLrSJR9lMtVwURp4xhR/4reDupus7hjbXzSmEHl8G7Ikb0EizZuCaQukQrQU3Ua5Q+BopFsG93rWdTE/a0mB3VgwA16MXcUcT5YBfS3nJiSf9W6mLU7JiZKr4ypkXrTPgQqyiSF+F79nOHWNdCl3o1Y7kgK7OXC36VJI87mPOWmKlp6BZ0x5UnKs4QW5JrejVdCdhiT7jacldEsmm9HoFi8JvY1WMIAvNzPkttzpCzIGFAwMLQUoAAAAAElFTkSuQmCC";var WD={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yt,function(){return function(r,n,i){n.prototype.isYesterday=function(){var o="YYYY-MM-DD",s=i().subtract(1,"day");return this.format(o)===s.format(o)}}})})(WD);var cce=WD.exports;const uce=vn(cce),GD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO3UQU7CUBSF4bcQGbsVYeAajO90A9wHa5B32YhO3BEkRgYkxggbgDTRxBGa0Nse5XzJnXXQk79pSiIicsGa6fIW5hsUP5w88037bPrrcqnbH8d+XvtsYpFni0k2X//25fu69p0a83Hng1Hqy9DjTnwZrxp8rsZ8nEtdEdZd5VJvzh4oIv8TCH5U30+DuwaCqiocCQRVVTgSCKqqcCQQVFXhSCCoqsKRQFBVhSOBoKoKRwJBVRWOBIKqKhwJBFVVOBIIqqpwJBBUVeFIIKiqwpFAUFWFI4GgqgpHgvl+6Kpfl80/4geX+kwzuNTH8MH3s8V1Nn8feizM3zB/uEp9uJsuRzB/Qqm7/sfWXVu2t7EiIiKSunIEhOq3p0W+CNEAAAAASUVORK5CYII=",dce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAEGAAABBgHN0zO8AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAoNJREFUOI2tlL9PU1EUxz/n9t1XBQelk7+ipChurp1k15TEmJLwQ9sGEwedjDvhD4AJB4mm5UdqpItC4o4TDO4oGgcjWwlGiLS3fcfh+ZpSCgnGM713bs7nfs+55xxRVf6neUcd5F/XbihmSFQHRDkPoMIWyCoSlAvD/kanOGlXmJ0nEfPctMIYYI64L0BYiHn26csM20cCs2+q103DvAeSQAV0RpEVqdmvAOq7pKBpkCdAQuGLENwujMQ3DwGz8ySM59ZDmLz1rZd7keFnx3IUOSvx+pyqDip80bpNzT2gQmtKMc9NR7Crm969VtijWboezdIV/Rdy7Fz57N0FeSfQZ6ybis4MRA/AGFDxrZebmCBoVVQ749ZqZ9xaq29igoCalwMqKPfHF6v9TaBihsJvnemUpkKvQm+7v5BjR1SfAyYwsaEmUFRvAUggy51qdpxJTFbCS0NG1IeXAGw8fM2hMqe7nVsDLgMIdAPkSy5qke971qaWMvzeD+xXH4dRLjYVhllBbQ85qcLTNoxRCRmRwh/ADfVdEuzHpQy/wd6MgnIl9wugOGJ72oGNmksioLDVVKgiHwCM6uBJFSKaDkGy2gQKwRIQqMjjfJGzh2Lgm8C3dv9oiXMgj4GGBI1yE1gY9jcQFoAEfr04OXlwhv1dm/J3barVNzmJ8anPAT0K86/G4p9CwX9H72GZnrpz6wJ9IrKsVS9byLHTKcvREudCmKaBzZi1qWhJHFgO+VL1mmLeC/QB26I6IzFZ2Q/CdjplXFIbmlaRJ0APsAnBnY7LIbLsPAlj3RTKfY5ZXwpznrXPjl1frTa+WO0Px0kHRLmggipsGWRVgkY5qlm7HQn8V/sDpc0NjXW+Pa0AAAAASUVORK5CYII=",fce={key:0},hce={class:"mb-3 flex items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},pce=c.createElementVNode("div",null,"",-1),mce={class:"mb-1 flex items-center justify-between text-xl text-gray-700 dark:text-gray-300"},gce=["placeholder"],Npe={key:0,class:"mt-1 flex flex-wrap gap-2"},Ope=["onClick"],Lpe={class:"overflow-hidden overflow-ellipsis whitespace-nowrap"},yce={class:"mb-1 mt-3 text-base"},bce={class:"divide-y rounded bg-gray-100 dark:bg-zinc-800"},vce={class:"grid grid-cols-6 gap-3 p-4"},_ce=["onClick"],wce={class:"flex items-center justify-center gap-3 rounded p-3"},xce=["placeholder"],Tce={class:"mt-5 flex gap-3"},Ace=["disabled"],Cce={key:1},Sce={class:"mb-1 mb-5 flex min-w-[380px] items-center justify-between text-xl font-semibold text-gray-700 dark:text-gray-300"},Ece=c.createElementVNode("div",null,"",-1),kce={key:0,class:"mt-1 flex flex-wrap gap-2"},Ice=["onClick"],Dce={class:"flex items-center gap-3"},Mce={class:"w-64 overflow-hidden truncate overflow-ellipsis whitespace-nowrap text-base text-black"},Nce={class:"flex items-center gap-3"},Oce=["onClick"],Lce=["onClick"],Bce={class:"mt-3"},Rce=c.createElementVNode("img",{width:"20",height:"20",src:dce},null,-1),Pce={class:"text-[#60A5FA]"},Fce={key:2},Uce={class:"mb-2 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},jce=c.defineComponent({__name:"TagsModal",props:{roomId:{}},setup(t){const e=rn(),r=t,n=Bt(),i=c.ref([]),o=c.ref({}),s=c.ref([]),a=c.ref({}),l=c.ref(""),d=c.ref("#60a5fa"),f=c.ref(!0),u=c.ref("edit"),h=c.ref(""),p=c.ref(!1),m=["#f43f5e","#f97316","#f59e0b","#84cc16","#10b981","#06b6d4","#0ea5e9","#6366f1","#8b5cf6","#6b7280","#64748B","#78716c"],y=R=>{n.dispatch("imkit/updateRoomPrefs",{roomId:R,prefs:{tags:i.value,tagColors:o.value}})},b=n.state.imkit.rooms[r.roomId];b.pref&&(i.value=[...b.pref.tags],s.value=[...b.pref.tags],o.value={...b.pref.tagColors},a.value={...b.pref.tagColors},i.value.length>0&&(u.value="list",p.value=!1));const v=()=>{l.value&&(i.value.length>=5||(i.value.includes(l.value)||i.value.push(l.value),d.value.startsWith("#")&&(o.value[l.value]=d.value,l.value="")))},E=()=>{i.value=i.value.filter(R=>R!==h.value),delete o.value[h.value]},A=R=>{h.value=R,u.value="confirmDelete"},k=R=>{l.value=R,d.value=o.value[R]},C=()=>{d.value=d.value.replace(/[^#0-9a-fA-F]/g,""),d.value.charAt(0)!=="#"&&(d.value="#"+d.value)},T=()=>{u.value="edit",f.value=!0,l.value="",d.value="#60a5fa"},O=R=>{u.value="edit",f.value=!1,l.value=R,d.value=o.value[R]},D=()=>{u.value="list",p.value=!1},S=()=>{p.value=!0};return(R,z)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 max-w-[420px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[u.value=="edit"?(c.openBlock(),c.createElementBlock("div",fce,[c.createElementVNode("div",hce,[pce,c.createTextVNode(" "+c.toDisplayString(f.value===!0?R.$t("createTag"):R.$t("editTag"))+" ",1),c.createElementVNode("button",{class:"flex items-center justify-center",onClick:z[0]||(z[0]=F=>c.unref(e).closeAll())},[c.createVNode(za,{class:"h-7 w-7"})])]),c.createElementVNode("div",mce,[c.withDirectives(c.createElementVNode("input",{type:"text",class:"w-32 grow rounded-md bg-gray-100 p-2 text-base placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:f.value===!0?R.$t("createTag"):R.$t("editTag"),onInput:z[1]||(z[1]=F=>S()),"onUpdate:modelValue":z[2]||(z[2]=F=>l.value=F)},null,40,gce),[[c.vModelText,l.value]])]),(i.value.length>0,c.createCommentVNode("",!0)),c.createElementVNode("div",null,[c.createElementVNode("div",yce,c.toDisplayString(R.$t("chooseColor")),1),c.createElementVNode("div",bce,[c.createElementVNode("div",vce,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(m,F=>c.createElementVNode("div",{key:F,class:"h-8 w-12 rounded",style:c.normalizeStyle({backgroundColor:F}),onClick:P=>(d.value=F,S())},null,12,_ce)),64))]),c.createElementVNode("div",wce,[c.createElementVNode("div",{class:"h-8 w-12 rounded-md bg-white p-2 text-base",style:c.normalizeStyle({backgroundColor:d.value})},"  ",4),c.withDirectives(c.createElementVNode("input",{type:"text",class:"w-50 h-8 grow rounded-md bg-gray-100 p-2 text-base placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:R.$t("inputTagPlaceholder"),maxlength:"7",pattern:"^#[0-9a-fA-F]{6}$","onUpdate:modelValue":z[4]||(z[4]=F=>d.value=F),onInput:z[5]||(z[5]=F=>(S(),C()))},null,40,xce),[[c.vModelText,d.value]])])])]),c.createElementVNode("div",Tce,[c.createElementVNode("button",{class:"h-10 grow rounded-lg border bg-white text-base text-black dark:bg-transparent dark:text-white",onClick:z[6]||(z[6]=F=>D())},c.toDisplayString(R.$t("cancel")),1),c.createElementVNode("button",{class:"h-10 w-[40%] grow rounded-lg bg-blue-400 text-base text-white disabled:cursor-not-allowed disabled:bg-gray-200 dark:disabled:bg-gray-700 dark:disabled:text-gray-500",disabled:!l.value||!d.value||!p.value,onClick:z[7]||(z[7]=()=>{v(),y(R.roomId),D()})},c.toDisplayString(f.value==!0?R.$t("create"):R.$t("save")),9,Ace)])])):c.createCommentVNode("",!0),u.value=="list"?(c.openBlock(),c.createElementBlock("div",Cce,[c.createElementVNode("div",Sce,[Ece,c.createTextVNode(" "+c.toDisplayString(R.$t("tag"))+" ",1),c.createElementVNode("button",{class:"flex items-center justify-center",onClick:z[8]||(z[8]=F=>c.unref(e).closeAll())},[c.createVNode(za,{class:"h-7 w-7"})])]),i.value.length>0?(c.openBlock(),c.createElementBlock("div",kce,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.value,F=>(c.openBlock(),c.createElementBlock("div",{key:F,class:"flex min-w-[380px] items-center justify-between gap-1 overflow-hidden rounded-md bg-gray-200 p-3 text-base text-white dark:bg-zinc-600",onClick:P=>k(F)},[c.createElementVNode("div",Dce,[c.createElementVNode("div",{class:"circle-shadow h-4 w-4 rounded-full",style:c.normalizeStyle({backgroundColor:o.value[F]})},null,4),c.createElementVNode("div",Mce,c.toDisplayString(F),1)]),c.createElementVNode("div",Nce,[c.createElementVNode("img",{width:"20",height:"20",class:"cursor-pointer",onClick:c.withModifiers(P=>O(F),["stop"]),src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,8,Oce),c.createElementVNode("img",{width:"20",height:"20",src:GD,class:"cursor-pointer",onClick:c.withModifiers(P=>A(F),["stop"])},null,8,Lce)])],8,Ice))),128))])):c.createCommentVNode("",!0),c.createElementVNode("div",Bce,[c.createElementVNode("div",{class:"flex cursor-pointer gap-2",onClick:z[9]||(z[9]=F=>T())},[Rce,c.createElementVNode("div",Pce,c.toDisplayString(R.$t("createTag")),1)])])])):c.createCommentVNode("",!0),u.value=="confirmDelete"?(c.openBlock(),c.createElementBlock("div",Fce,[c.createElementVNode("div",Uce,[c.createTextVNode(c.toDisplayString(R.$t("confirmDeleteTag"))+" ",1),c.createElementVNode("button",{class:"ml-2 flex items-center justify-center",onClick:z[10]||(z[10]=F=>D())},[c.createVNode(za,{class:"h-7 w-7"})])]),c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) mt-3 h-10 w-full grow rounded-lg bg-blue-400 text-base text-white",onClick:z[11]||(z[11]=F=>(E(),y(R.roomId),D()))},c.toDisplayString(R.$t("confirm")),1)])):c.createCommentVNode("",!0)]),_:1}))}}),QD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVR4nO2asUrEQBCGp7PxEbSx8VnEFzG7Bp05sJ05rS18jDsEX8Pn8CxV9ArbkVVEUEJyJrhZ838wXYr92ORLM0QAAAAAGBWVXOwG0evIuo5i3mUC2yqwXYag21SerD12Ff0xrLd1fbVFpRDSzf5W9vO2xZRKIW7wGjcL62t1qntUArGnbPZhXQe2m6OT8/1pCH+JP6UeTUf449NaTkzYXiYlHMUcwgCA/0U1mx9G0fvif0lsq+PZ/KBVOD2Y+7CDDetdq3D2Qw48BOFv5L4R3LDglXZ8w4JoOSrdRO6qotKCSjsqLai0o9JN5K4qKi2otKPSgko7Kt1E7qqi0oJKOyotfSrN/ZdaRjOsz63CaSEk+0GHm0WrcNp+SQshIzhsrwmiD/WZ7tAGq4fLtCNRnuj7mRedZQEAAABAf8UbgvvRyv0JTvIAAAAASUVORK5CYII=",$ce={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},zce=["onClick"],Vce=c.createElementVNode("img",{width:"30",height:"30",src:QD},null,-1),Hce=c.defineComponent({__name:"AddToFolderModal",props:{roomId:{}},setup(t){const e=rn(),r=t,n=Bt(),i=c.computed(()=>n.state.imkit.sortedFolderIds.map(s=>n.state.imkit.folders[s]).filter(s=>s)),o=s=>{r.roomId&&n.dispatch("imkit/addRoomToFolder",{roomId:r.roomId,folderId:s})};return(s,a)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px] relative max-h-80vh overflow-y-auto","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",$ce,[c.createTextVNode(c.toDisplayString(s.$t("addToFolder"))+" ",1),c.createElementVNode("button",{class:"flex items-center justify-center",onClick:a[0]||(a[0]=l=>c.unref(e).closeAll())},[c.createVNode(za,{class:"h-7 w-7"})])]),(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(i.value,l=>(c.openBlock(),c.createElementBlock("div",{key:l.id,class:"group relative flex cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:()=>{o(l.id),c.unref(e).closeAll()}},[Vce,c.createTextVNode(" "+c.toDisplayString(l.name),1)],8,zce))),128))]),_:1}))}}),qce={},Wce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",class:"fill-slate-700 dark:fill-slate-300"},Gce=[c.createElementVNode("path",{d:"M15.478,15.48c-0.976,0.976-1.468,2.25-1.468,3.528c0,1.278,0.492,2.553,1.468,3.528c1.952,1.952,5.106,1.951,7.058-0.001s1.952-5.106,0-7.058C20.586,13.529,17.431,13.529,15.478,15.48z M20.011,17.001v1h1c0.552,0,1,0.448,1,1v0c0,0.552-0.448,1-1,1h-1v1c0,0.552-0.448,1-1,1h0c-0.552,0-1-0.448-1-1v-1h-1c-0.552,0-1-0.448-1-1v0c0-0.552,0.448-1,1-1h1v-1c0-0.552,0.448-1,1-1h0C19.563,16.002,20.011,16.449,20.011,17.001z"},null,-1),c.createElementVNode("path",{d:"M12,19c0-3.866,3.134-7,7-7c1.075,0,2.09,0.25,3,0.683h0V8c0-1.1-0.9-2-2-2h-7.172c-0.53,0-1.039-0.211-1.414-0.586l-0.828-0.828C10.211,4.211,9.702,4,9.172,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h8.08C12.033,19.673,12,19.34,12,19z"},null,-1)];function Qce(t,e){return c.openBlock(),c.createElementBlock("svg",Wce,Gce)}const YD=pr(qce,[["render",Qce]]),Yce={},Kce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},Xce=[c.createElementVNode("path",{id:"XMLID_11_",style:{fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:"M20,4H4"},null,-1),c.createElementVNode("path",{d:"M15,3v1H9V3l0.429-0.429C9.795,2.205,10.29,2,10.807,2h2.386c0.517,0,1.012,0.205,1.377,0.571L15,3z"},null,-1),c.createElementVNode("path",{d:"M4.366,7l1.527,13.264C6.025,21.254,6.877,22,7.875,22h8.249c0.998,0,1.85-0.746,1.983-1.745L19.634,7H4.366z"},null,-1)];function Zce(t,e){return c.openBlock(),c.createElementBlock("svg",Kce,Xce)}const Jce=pr(Yce,[["render",Zce]]),eue={},tue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},rue=[c.createStaticVNode('<g id="Rounded" class="fill-slate-700 dark:fill-slate-300"><g><path d="M10.69,9.313C9.693,9.801,9,10.815,9,12c0,1.657,1.343,3,3,3c1.185,0,2.199-0.693,2.687-1.69L10.69,9.313z"></path></g><g><path d="M16.155,14.779c-1.033,1.542-2.899,2.478-4.956,2.159c-2.098-0.326-3.811-2.039-4.137-4.137C6.743,10.744,7.68,8.878,9.221,7.845L6.732,5.355c-2.905,1.621-4.677,4.296-5.46,5.706c-0.332,0.598-0.321,1.318,0.004,1.92C2.431,15.119,5.751,20,12,20c2.952,0,5.219-1.092,6.91-2.467L16.155,14.779z"></path><path d="M11.278,7.073C11.515,7.038,11.753,7,12,7c2.761,0,5,2.239,5,5c0,0.247-0.038,0.485-0.073,0.722l3.43,3.43c1.074-1.192,1.86-2.401,2.33-3.205c0.354-0.604,0.354-1.345,0.019-1.96C21.537,8.834,18.219,4,12,4c-1.212,0-2.295,0.199-3.284,0.511L11.278,7.073z"></path></g><line class="stroke-slate-700 dark:stroke-slate-300" style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="4" y1="4" x2="20" y2="20"></line></g>',1)];function nue(t,e){return c.openBlock(),c.createElementBlock("svg",tue,rue)}const iue=pr(eue,[["render",nue]]),oue={},sue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 30 30",class:"fill-slate-700 dark:fill-slate-300"},aue=[c.createElementVNode("path",{d:"M29.399,13.199l-4.5-5.999C24.337,6.448,23.439,6,22.5,6H4C2.897,6,2,6.897,2,8v14c0,1.103,0.897,2,2,2h18.5c0.939,0,1.837-0.448,2.399-1.2l4.5-5.999C30.195,15.74,30.195,14.26,29.399,13.199z M25,16.5c-0.828,0-1.5-0.672-1.5-1.5c0-0.828,0.672-1.5,1.5-1.5s1.5,0.672,1.5,1.5C26.5,15.828,25.828,16.5,25,16.5z"},null,-1)];function lue(t,e){return c.openBlock(),c.createElementBlock("svg",sue,aue)}const cue=pr(oue,[["render",lue]]),uue={},due={width:"512",height:"512",viewBox:"0 0 512 512",class:"fill-slate-700 dark:fill-slate-300",xmlns:"http://www.w3.org/2000/svg"},fue=[c.createElementVNode("path",{d:"M138.24 351.289L160.853 373.618L50.9156 483.413C50.9156 483.413 41 494 29.5 483C18 472 28.4445 461.084 28.4445 461.084L138.24 351.289Z"},null,-1),c.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M329.102 372.196C330.43 377.518 330.356 383.094 328.885 388.378C327.414 393.663 324.598 398.476 320.711 402.347L278.044 445.013L66.56 234.667L109.227 191.289C113.128 187.45 117.948 184.677 123.226 183.232C128.505 181.788 134.066 181.722 139.378 183.04L219.022 202.951L299.378 122.738L388.978 212.48L308.764 292.551C308.764 292.551 322.133 344.178 329.102 372.196Z"},null,-1),c.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M483.556 171.947C483.556 171.947 472.32 183.04 461.227 194.276C455.618 199.804 448.183 203.091 440.32 203.52C435.912 203.734 431.509 203.022 427.394 201.43C423.278 199.838 419.542 197.401 416.427 194.276L317.724 95.7156C313.909 91.946 311.133 87.2553 309.662 82.0976C308.192 76.9399 308.079 71.49 309.333 66.2756C310.582 60.4502 313.497 55.1136 317.724 50.9156C328.818 39.68 340.053 28.4445 340.053 28.4445L483.556 171.947Z"},null,-1)];function hue(t,e){return c.openBlock(),c.createElementBlock("svg",due,fue)}const pue=pr(uue,[["render",hue]]),mue={},gue={width:"512",height:"512",viewBox:"0 0 512 512",class:"fill-slate-700 dark:fill-slate-300",xmlns:"http://www.w3.org/2000/svg"},yue=[c.createStaticVNode('<path d="M138.24 351.289L160.854 373.618L50.9156 483.413C50.9156 483.413 41 494 29.5 483C18 472 28.4445 461.084 28.4445 461.084L138.24 351.289Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M329.102 372.196C330.43 377.518 330.356 383.094 328.885 388.378C327.414 393.663 324.598 398.476 320.711 402.347L278.044 445.013L66.56 234.667L109.227 191.289C113.128 187.45 117.948 184.677 123.226 183.232C128.505 181.788 134.066 181.722 139.378 183.04L219.022 202.951L299.378 122.738L388.978 212.48L308.764 292.551C308.764 292.551 322.133 344.178 329.102 372.196Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M483.556 171.947C483.556 171.947 472.32 183.04 461.227 194.276C455.618 199.804 448.183 203.091 440.32 203.52C435.912 203.734 431.509 203.022 427.394 201.43C423.278 199.838 419.542 197.401 416.427 194.276L317.724 95.7156C313.909 91.946 311.133 87.2553 309.662 82.0976C308.192 76.9399 308.079 71.49 309.333 66.2756C310.582 60.4502 313.497 55.1136 317.724 50.9156C328.818 39.68 340.053 28.4445 340.053 28.4445L483.556 171.947Z"></path><g clip-path="url(#clip0_4859_1096)"><path d="M463.188 394.812L378.812 479.188" class="stroke-slate-700 dark:stroke-slate-300" stroke-width="30" stroke-linecap="round" stroke-linejoin="round"></path><path d="M463.188 479.188L378.812 394.812" class="stroke-slate-700 dark:stroke-slate-300" stroke-width="30" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_4859_1096"><rect width="150" height="150" fill="white" transform="translate(346 362)"></rect></clipPath></defs>',5)];function bue(t,e){return c.openBlock(),c.createElementBlock("svg",gue,yue)}const vue=pr(mue,[["render",bue]]),_ue={},wue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},xue=[c.createElementVNode("line",{"stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",x1:"32",y1:"20",x2:"42",y2:"30"},null,-1),c.createElementVNode("line",{"stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",x1:"42",y1:"20",x2:"32",y2:"30"},null,-1),c.createElementVNode("path",{d:"M7.01,31.754V18.247c0-0.658,0.143-1.494,0.477-2.287H3c-1.676,0-3.04,1.364-3.04,3.04v12c0,1.676,1.364,3.04,3.04,3.04h4.481C7.151,33.253,7.01,32.415,7.01,31.754z"},null,-1),c.createElementVNode("path",{d:"M24.16,46.992c1.667,0,2.831-1.514,2.831-3.678V6.327c0-2.278-1.456-3.316-2.808-3.316c-0.91,0-1.838,0.433-2.607,1.213l-11.631,11.6c-0.64,0.566-0.934,1.648-0.934,2.422v13.507c0,0.767,0.293,1.841,0.881,2.358L21.51,45.695C22.565,46.768,23.533,46.992,24.16,46.992z"},null,-1)];function Tue(t,e){return c.openBlock(),c.createElementBlock("svg",wue,xue)}const Aue=pr(_ue,[["render",Tue]]),Cue={},Sue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 stroke-slate-700 dark:fill-slate-300 dark:stroke-slate-300"},Eue=[c.createStaticVNode('<path d="M5,16c-1.654,0-3,1.347-3,3.001V31c0,1.654,1.346,3,3,3h5V16H5z"></path><g><path d="M46,25c0,5.508-2.992,10.318-7.428,12.927l1.124,1.654C44.66,36.609,48,31.194,48,25s-3.34-11.609-8.304-14.581l-1.124,1.654C43.008,14.682,46,19.492,46,25z"></path><path d="M42,25c0-4.135-2.295-7.74-5.676-9.619l-1.13,1.662C38.049,18.554,40,21.552,40,25s-1.951,6.446-4.806,7.957l1.13,1.662C39.705,32.74,42,29.135,42,25z"></path><path d="M31.753,27.893l1.169,1.721C34.727,28.858,36,27.076,36,25s-1.273-3.858-3.078-4.613l-1.169,1.721C33.042,22.444,34,23.607,34,25S33.042,27.556,31.753,27.893z"></path></g><path d="M26.607,2c-0.663,0-1.303,0.279-1.753,0.765L12,16v18l12.854,13.234C25.305,47.721,25.944,48,26.607,48C27.927,48,29,46.927,29,45.607V4.393C29,3.073,27.927,2,26.607,2z"></path>',3)];function kue(t,e){return c.openBlock(),c.createElementBlock("svg",Sue,Eue)}const Iue=pr(Cue,[["render",kue]]),Due={class:"relative flex items-center justify-center gap-1.5"},Mue={class:"relative !h-[50px] !w-[50px] flex-shrink-0"},Nue={key:2,class:"absolute -bottom-1 -right-1 h-5 w-5 rounded-lg bg-slate-200 p-[3px]",src:sce},Oue={class:"flex w-0 min-w-0 grow flex-col text-left"},Lue={class:"flex justify-between gap-2"},Bue={class:"flex items-center justify-center gap-1"},Rue=["innerHTML"],Pue={key:0,width:"14",height:"14",class:"mt-0.5",src:"https://img.icons8.com/ios-filled/50/4b5563/mute--v1.png",alt:"mute--v1"},Fue={class:"whitespace-nowrap text-xs text-gray-500 dark:text-gray-300"},Uue={class:"text-xs text-gray-500"},jue=["innerHTML"],$ue={key:0,class:"mt-1 flex flex-wrap gap-1"},zue=[c.createElementVNode("img",{width:"20",height:"20",src:ace},null,-1)],Vue={key:0,class:"absolute right-3 top-[calc(50%_+_28px)] z-10 flex flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},Hue=c.createElementVNode("img",{width:"24",height:"24",src:lce},null,-1),que=c.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){mr.extend(Rb),mr.extend(uce);const e=t,r=c.computed(()=>i.state.imkit.config.styles),n=c.computed(()=>{let S=mr(e.source.updatedAt);return S.isSame(mr(),"day")?S.format("H:mm"):S.isYesterday()?"Yesterday":S.isSame(mr(),"week")?S.format("dddd"):S.isSame(mr(),"year")?S.format("MMM D"):S.format("ll")}),i=Bt(),o=c.computed(()=>i.state.imkit.rooms[e.source.id]),s=c.computed(()=>i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===oi.RoomName?o.value.displayName.replaceAll(i.state.imkit.searchKeyword,`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`):o.value.displayName),a=c.computed(()=>{var S;return i.state.imkit.searchKeyword.length>0&&i.state.imkit.searchType===oi.RoomMember?[`<span class="text-blue-400">${i.state.imkit.searchKeyword}</span>`,...o.value.memberIds.map(R=>i.state.imkit.users[R]).filter(R=>R).map(R=>R.nickname||R.id).filter(R=>R!==i.state.imkit.searchKeyword)].join(", "):(S=o.value.lastMessage)==null?void 0:S.string}),l=c.computed(()=>i.state.imkit.selectedRoomId===e.source.id),d=c.computed(()=>!!i.state.imkit.roomIdsInFolders[e.source.id]),f=c.computed(()=>i.state.imkit.actionMenuRoomId),u=c.computed(()=>i.state.imkit.searchKeyword),h=c.computed(()=>{var S;return((S=o.value.pref)==null?void 0:S.sticky)??!1}),p=c.computed(()=>i.state.imkit.sortedFolderIds),m=()=>{const{open:S}=Vi({component:jce,attrs:{roomId:e.source.id}});S(),i.commit("imkit/setState",{actionMenuRoomId:""})},y=()=>{f.value===e.source.id?i.commit("imkit/setState",{actionMenuRoomId:""}):i.commit("imkit/setState",{actionMenuRoomId:e.source.id})},b=()=>{i.commit("imkit/setState",{selectedRoomId:e.source.id,actionMenuRoomId:""})},v=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{sticky:!h.value}})},E=async()=>{await i.dispatch("imkit/updateRoomPrefs",{roomId:e.source.id,prefs:{hidden:!0}})},A=async()=>{await i.dispatch("imkit/removeRoom",e.source.id)},k=async()=>{await i.dispatch("imkit/removeRoomFromFolder",e.source.id)},C=async()=>{const{open:S}=Vi({component:Hce,attrs:{roomId:e.source.id}});S()},T=c.ref(null);Q6(T,()=>{y()},{modifiers:{prevent:!0}});const D=c.computed(()=>i.getters["imkit/roomsInSelectedFolder"]);return(S,R)=>{var z,F;return c.openBlock(),c.createElementBlock("div",Due,[d.value&&!u.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["absolute left-2 h-[120%] w-1 flex-shrink-0 rounded-full bg-slate-500",{"mt-4 !h-full":D.value[0].id===e.source.id,"mb-4 !h-full":D.value[D.value.length-1].id===e.source.id}])},null,2)):c.createCommentVNode("",!0),c.createElementVNode("div",{ref_key:"roomCellRef",ref:T,class:c.normalizeClass(["group relative flex min-h-[66px] grow cursor-pointer select-none items-center gap-3 rounded-lg p-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700":l.value,"ml-4":d.value&&!u.value}]),onClick:b},[c.createElementVNode("div",Mue,[o.value.avatars.length===1?(c.openBlock(),c.createBlock(qr,{key:0,url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:"relative"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock(c.Fragment,{key:1},[c.createVNode(qr,{url:o.value.avatars[1].url,name:o.value.avatars[1].name,class:"absolute right-0 top-0 !h-9 !w-9 text-base"},null,8,["url","name"]),c.createVNode(qr,{url:o.value.avatars[0].url,name:o.value.avatars[0].name,class:c.normalizeClass(["absolute bottom-0 left-0 !h-[38px] !w-[38px] border-2 border-white text-base group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":l.value}])},null,8,["url","name","class"])],64)),h.value?(c.openBlock(),c.createElementBlock("img",Nue)):c.createCommentVNode("",!0)]),c.createElementVNode("div",Oue,[c.createElementVNode("div",Lue,[c.createElementVNode("div",Bue,[c.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base text-gray-900 dark:text-gray-100",innerHTML:s.value},null,8,Rue),o.value.muted?(c.openBlock(),c.createElementBlock("img",Pue)):c.createCommentVNode("",!0)]),c.createElementVNode("div",Fue,c.toDisplayString(n.value),1)]),c.createElementVNode("div",Uue,c.toDisplayString(o.value.description),1),c.createElementVNode("div",{class:c.normalizeClass(["flex items-center justify-between pt-1",{"text-gray-800":o.value.numberOfUnread>0}])},[c.createElementVNode("div",{class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",innerHTML:a.value},null,8,jue),o.value.numberOfUnread>0&&!l.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 px-1.5 text-center text-xs font-semibold leading-none text-white",style:c.normalizeStyle(r.value.roomListUnreadBadge)},c.toDisplayString(o.value.numberOfUnread>99?"99+":o.value.numberOfUnread),5)):c.createCommentVNode("",!0)],2),(z=o.value.pref)!=null&&z.tags?(c.openBlock(),c.createElementBlock("div",$ue,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(((F=o.value.pref)==null?void 0:F.tags)??[],P=>{var $;return c.openBlock(),c.createElementBlock("div",{key:P,class:"overflow-hidden overflow-ellipsis whitespace-nowrap rounded-md bg-blue-400 px-1 py-0.5 text-xs text-white",style:c.normalizeStyle({backgroundColor:((($=o.value.pref)==null?void 0:$.tagColors)||{})[P]})},c.toDisplayString(P),5)}),128))])):c.createCommentVNode("",!0)]),c.createElementVNode("div",{class:c.normalizeClass(["absolute right-4 hidden h-8 w-8 items-center justify-center rounded-full bg-white shadow-md hover:scale-110 hover:transform hover:transition dark:bg-zinc-800 sm:group-hover:flex",{"!flex":f.value==S.source.id}]),onClick:c.withModifiers(y,["stop"])},zue,2),f.value==S.source.id?c.withDirectives((c.openBlock(),c.createElementBlock("div",Vue,[c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(m,["stop"])},[c.createVNode(cue,{class:"h-6 w-6"}),c.createTextVNode(" "+c.toDisplayString(S.$t("tag")),1)]),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(v,["stop"])},[h.value?(c.openBlock(),c.createBlock(vue,{key:0,class:"h-6 w-6"})):(c.openBlock(),c.createBlock(pue,{key:1,class:"h-6 w-6"})),c.createTextVNode(" "+c.toDisplayString(h.value?S.$t("unpin"):S.$t("pin")),1)]),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(E,["stop"])},[c.createVNode(iue,{class:"h-6 w-6"}),c.createTextVNode(" "+c.toDisplayString(S.$t("hide")),1)]),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(A,["stop"])},[c.createVNode(Jce,{class:"h-6 w-6"}),c.createTextVNode(" "+c.toDisplayString(S.$t("delete")),1)]),d.value?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(k,["stop"])},[Hue,c.createTextVNode(" "+c.toDisplayString(S.$t("removeFromFolder")),1)])):p.value.length>0?(c.openBlock(),c.createElementBlock("div",{key:1,class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:c.withModifiers(C,["stop"])},[c.createVNode(YD,{class:"h-6 w-6"}),c.createTextVNode(" "+c.toDisplayString(S.$t("addToFolder")),1)])):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex cursor-pointer gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:R[0]||(R[0]=c.withModifiers(()=>{c.unref(i).commit("imkit/setState",{actionMenuRoomId:""}),c.unref(i).dispatch("imkit/toggleNotification",e.source.id)},["stop"]))},[o.value.muted?(c.openBlock(),c.createBlock(Iue,{key:0,class:"h-6 w-6"})):(c.openBlock(),c.createBlock(Aue,{key:1,class:"h-6 w-6"})),c.createTextVNode(" "+c.toDisplayString(o.value.muted?S.$t(""):S.$t("")),1)])])),[[c.unref(fd),()=>{c.unref(i).commit("imkit/setState",{actionMenuRoomId:""})}]]):c.createCommentVNode("",!0)],2)])}}}),Wue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVR4nO2Zzy4EQRCH2wUHJ3F1IeLIwZ9n4B1wE9u9i6rhXLWLo+DGKwiReAESBw/AGxAnJEhcSFZmiUhmd3uYpvVMfcnvXl9qZnp+M0oJgiAIgvAvKeFav0Y6MECPBrmeJhr4SgNvak09KjxZvksrmhBHPq9UdrpUKOh4sz+U/SJNKhTMNy7j1sL0XFqmARUCJqPsnwfoUQMfLSzVhoshjJ/i9/HzpzjC2LiV9gsmzA+FEjbIdRG24XtDsmGUS7ou9zBmeGgJghAWRNRpkHfil2/fZ6izAN1roO3YLSHckPU94C9FI28lhfO02YQw3RZMmO+aCPNhjjd8kBAuAc3mVjjimYQwAPVq4Bffw7kPvc4j9TU9mgzSae62C3zS8iw2SJg74YihpXBlZW3Q94Cus7haG2op/LHlS99DOgvwRVvZhjDwhvdBHUUDrVuFdVSd9D2oq5SBJqzCSqkOg3Tte9jsoZvYJY2w0sB7ORDeTSX7LkzT/gfOlnJUnUotHP/IdvG71GOe5oi61XcIuUw0LQs2Qi4TTcuCjXDLRJuyYCPEMtG2LNgIsUy0LQs2QiwT1rJgwwCf+ZZIHeAzlZVSVB2PzzXvMvY8mWUaUy7QSzRqkI7/5ZfNxkx0XIbaiBNZQRAEQRDUb/EGC4sae12sFiYAAAAASUVORK5CYII=",Gue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO2aS2gTURSG4/sBilZxI1grghtBaF0VxKXgq6uKgiiIpJ17k2bOGUVX/neS4mPhQtSFuhUXxZVEW3HlxlU3uqgKrlTEF/jAR+ujlZvpxFaCySQzmUkyB84mZM78H+e/987cuYlEHHHE0TJxGFicsnIdhpXtikJqLVqT76DCtHsEYUSQmpCspqKUgjEuWQ0bpr2nZlApT68SrO6FDVUxPGGECG3Vw5J6GjaEd2j1uCpo0UCdLZHD3mBNuycComtKT2NasrobtuBaUxDuVASrp/kozsaegRnjABaWBTZMbAhbrF/Zl8H68nY20Rm2UN/SRGf5DlvZrtCF+pSGle2Kgf+NuMMcvjVjS3MLjGHBeG+QvV0SRpseWDDGU6a9Tes7cvzcMsl41dTABuGQq08STjV1hwVh0NWWYrtXMiabFlgwbgKYW+isia2S1VdPzrAaCZgwmkxiqdYkrFy7YLz2WsNoHGC87KPBtcVJitTDauoYDQFM+Jyi7Batpbd3aJ5k3Kq2lhF1YEHqt2TsdbVIVhdrqWcEBSxYffIJOuPqEIRUrfWMIIAF421/JrtJkjrhZcko0d1rfztr7xCkfkYUWB0oCjXR79jSKyxGAMzXNfotbPbLMUZAwB8MRncRmrBfMn5UXgNjmQxW6GuTjNWC8MwP2MCApdOhL9qGbg1B2CkY38peS+qdIGwsbh4yHvgFGyiwdMbghH70c+voh31J+Pgf2O8znDFHEq77CRs4sHTs+Usyjs7aECT1psT/JlOEg0VHsLL9hq0TsCrASMYxt54zg+P57O5CFWFN7Ktldo8AsHIszjjr1hwYwDrJeDL9+5C2cOFejG5t7SBg6w4sncnskvu2029hjWRcdT9g64/Zeg0PCjYUYOnY90YyeWXBzHuk01guGI+ChA0PmAvQeaLzS4ovBIR80LDhAnNhGbqvOytZXa4HbPjAXFirX9QLNhLAss5pxMAlIu4wN7mlZat9EE9ZuY7QhfqUwsq1lwVOpy8smj7ON9XQSep7RYdaCrZmNdz4wMgnKg19qCt0wTWmYdm7El5Cb6y1RHfd0Ac09UHN0MV7TowZJ8+sTFQTRGhrqPFMyFcNOzMkY7c+uxjJ2dvZMbntecxWEnrJ0sf5wj7676bWojVVJD6OOOJINEP8AR99+lKlJ3IWAAAAAElFTkSuQmCC",Que="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2aTU4CQRCFm5W6N7jSiEeAgxjkAO6UmQakaw5QPRCXLlzCRVRAEzd6CfUSSoIrTfET40wbZpA4hdSX1LI7703PvCbhKSUIwtpgzMWW18QDL2iVOEwtaBdI07J95rQJK77Bnm/suwb7wWmmmm60Ccuk9VdOG43zHW3sfdamkg/eVQPML2zWN/iSvYnU87yI6dxqnWz8pFO93tqEFddGvsE3H2xfA3Z9YztZzlgD2D5pcpqefNPJoICKmQV88KC9q5hBmkib43CuE21wjLjpSONXjmZnNBq4Fz1p8lCvX27MXUz3rONp9RRztMFBVHctaBfmL2xi0RECXcUc0hjT3cTi3IX0CyZ+wrajmDMJsu+6vaBVmrtQDIOcMEvklQb5ht1IaIGEFksktEBCy42EFkhosURCCyS03EhogYQWSyS0QELLjYQWSGixREILJLTcSGiBhBZLJLRAQsvN2oWWXrc/xGtBuxAvtNi+Yo5v7G1U9+kZ7q9PqQVwlKjUQoy7i47aEm2sOJoF++joal0l3sQL8OiHlttw0pbhUUybNneGzhJdMzxM8+ByVN9bfiXwj8bgIPWrUg0wT0XNzMWnHN/g0wngdmrDX6ZX6KQNDhY2GymIl6m7yLIgDjiigEr7zSaCriy627Ku/s+GtCS+egRBUP+BT4sLtV3SLOLeAAAAAElFTkSuQmCC",Yue={key:1,class:"relative h-[34px] w-[34px] flex-shrink-0"},Kue={class:"flex w-0 min-w-0 grow flex-col text-left"},Xue={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},Zue={key:2,width:"20",height:"20",src:Gue},Jue={key:3,width:"20",height:"20",src:Que},KD=c.defineComponent({__name:"RoomCell",props:{source:{}},setup(t){mr.extend(Rb);const e=t,r=Bt(),n=c.computed(()=>!!r.state.imkit.selectedRoomIdsForCreateFolder[e.source.id]),i=o=>{const s=new Date;r.commit("imkit/updateField",{key:"selectedRoomIdsForCreateFolder",value:{[e.source.id]:o?s:void 0}})};return(o,s)=>(c.openBlock(),c.createElementBlock("div",{class:c.normalizeClass(["group relative flex min-h-11 w-full cursor-pointer items-center gap-3 rounded-md p-1 px-2 sm:hover:bg-gray-100 sm:hover:dark:bg-zinc-700",{"bg-gray-100 dark:bg-zinc-700 hover:dark:bg-zinc-700":n.value}]),onClick:s[0]||(s[0]=a=>i(!n.value))},[o.source.avatars.length===1?(c.openBlock(),c.createBlock(qr,{key:0,url:o.source.avatars[0].url,name:o.source.avatars[0].name,class:"!h-[34px] !w-[34px] flex-shrink-0 rounded-xl text-base"},null,8,["url","name"])):(c.openBlock(),c.createElementBlock("div",Yue,[c.createVNode(qr,{url:o.source.avatars[1].url,name:o.source.avatars[1].name,class:"rounded-10px absolute right-0 top-0 !h-[26px] !w-[26px] text-base"},null,8,["url","name"]),c.createVNode(qr,{url:o.source.avatars[0].url,name:o.source.avatars[0].name,class:c.normalizeClass(["rounded-10px absolute bottom-0 left-0 !h-7 !w-7 border-2 border-white text-xs group-hover:border-gray-100 dark:border-zinc-800 group-hover:dark:border-zinc-700",{"border-gray-100":n.value}])},null,8,["url","name","class"])])),c.createElementVNode("div",Kue,[c.createElementVNode("div",Xue,c.toDisplayString(o.source.displayName),1)]),n.value?(c.openBlock(),c.createElementBlock("img",Zue)):(c.openBlock(),c.createElementBlock("img",Jue))],2))}}),ede={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},tde=["placeholder"],rde={class:"flex items-center justify-center gap-2"},nde=["disabled"],XD=c.defineComponent({__name:"UpdateFolderModal",props:{folderId:{}},setup(t){const e=rn(),r=t,n=Bt(),i=c.ref(),o=c.ref(""),s=c.computed(()=>i.value?i.value.roomIds.map(d=>n.state.imkit.rooms[d]).concat(n.state.imkit.sortedRooms).sort((d,f)=>{var u,h,p;return((u=d.pref)==null?void 0:u.sticky)===((h=f.pref)==null?void 0:h.sticky)?f.updatedAt-d.updatedAt:(p=d.pref)!=null&&p.sticky?-1:1}):n.state.imkit.sortedRooms),a=c.computed(()=>o.value.length>0&&Object.keys(n.state.imkit.selectedRoomIdsForCreateFolder).length>0),l=()=>{var d;n.dispatch("imkit/updateFolder",{folderKey:((d=i.value)==null?void 0:d.id)||`folder_${Date.now()}`,name:o.value})};return i.value=n.state.imkit.folders[r.folderId],i.value&&(o.value=i.value.name,n.commit("imkit/setState",{selectedRoomIdsForCreateFolder:i.value.roomIds.reduce((d,f)=>(d[f]=!0,d),{})})),(d,f)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",ede,c.toDisplayString(i.value?d.$t("editFolder"):d.$t("createFolder")),1),c.withDirectives(c.createElementVNode("input",{type:"text",class:"grow rounded-md bg-gray-100 p-2 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:d.$t("folderName"),"onUpdate:modelValue":f[0]||(f[0]=u=>o.value=u)},null,8,tde),[[c.vModelText,o.value]]),c.createVNode(c.unref(qd),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":s.value,"data-component":KD,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},null,8,["data-sources"]),c.createElementVNode("div",rde,[c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:f[1]||(f[1]=()=>{c.unref(e).closeAll()})},c.toDisplayString(d.$t("cancel")),1),c.createElementVNode("button",{class:c.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!a.value}]),disabled:!a.value,onClick:f[2]||(f[2]=()=>{l(),c.unref(e).closeAll()})},c.toDisplayString(d.$t("confirm")),11,nde)])]),_:1}))}}),ide={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},ode={class:"flex items-center justify-center gap-2"},sde=c.defineComponent({__name:"DeleteFolderConfirmModal",props:{folder:{}},setup(t){const e=rn(),r=t,n=Bt(),i=o=>{n.dispatch("imkit/removeFolder",o)};return(o,s)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 min-w-[200px] max-w-full rounded-xl p-5 flex flex-col gap-3 max-w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",ide,c.toDisplayString(o.$t("confirmToDeleteFolder")),1),c.createElementVNode("div",ode,[c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 w-[100px] grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:s[0]||(s[0]=()=>{c.unref(e).closeAll()})},c.toDisplayString(o.$t("cancel")),1),c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 w-[100px] grow rounded-lg bg-blue-400 text-base text-white",onClick:s[1]||(s[1]=()=>{i(r.folder.id),c.unref(e).closeAll()})},c.toDisplayString(o.$t("confirm")),1)])]),_:1}))}}),ade={key:0,width:"30",height:"30",src:Wue},lde={key:1,width:"30",height:"30",src:QD},cde={class:"flex flex-col overflow-hidden"},ude=["innerHTML"],dde={class:"overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},fde={key:2,class:"ml-auto flex h-5 min-w-5 items-center justify-center rounded-full bg-blue-400 text-center text-xs font-semibold leading-none text-white"},hde=[c.createElementVNode("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/637289/pencil--v1.png"},null,-1)],pde=[c.createElementVNode("img",{width:"20",height:"20",src:GD},null,-1)],mde=c.defineComponent({__name:"FolderCell",props:{source:{}},setup(t){const e=t,r=Bt(),n=c.computed(()=>r.state.imkit.searchKeyword.length>0&&r.state.imkit.searchType===oi.RoomPrefFolder?e.source.name.replaceAll(r.state.imkit.searchKeyword,`<span class="text-blue-400">${r.state.imkit.searchKeyword}</span>`):e.source.name),i=c.computed(()=>r.state.imkit.selectedFolderId),o=c.computed(()=>e.source.roomIds.filter(u=>r.state.imkit.selectedRoomId!==u).reduce((u,h)=>{const p=r.state.imkit.rooms[h];return p?u+p.numberOfUnread:u},0)),s=c.computed(()=>r.state.imkit.roomTag),a=c.computed(()=>e.source.roomIds.map(u=>r.state.imkit.rooms[u]).filter(u=>s.value?u&&u.roomTags.includes(s.value):u).length),l=()=>{r.state.imkit.selectedFolderId===e.source.id?r.commit("imkit/setState",{selectedFolderId:""}):r.commit("imkit/setState",{selectedFolderId:e.source.id})},d=()=>{const{open:u}=Vi({component:sde,attrs:{folder:e.source}});u()},f=()=>{const{open:u}=Vi({component:XD,attrs:{folderId:e.source.id}});u()};return(u,h)=>(c.openBlock(),c.createElementBlock("div",{class:"group relative flex min-h-[66px] cursor-pointer items-center gap-3 rounded-lg bg-slate-200 p-2 dark:bg-slate-700",onClick:l},[i.value===u.source.id?(c.openBlock(),c.createElementBlock("img",ade)):(c.openBlock(),c.createElementBlock("img",lde)),c.createElementVNode("div",cde,[c.createElementVNode("div",{class:"text-basse overflow-hidden overflow-ellipsis whitespace-nowrap text-gray-900 dark:text-gray-100",innerHTML:n.value},null,8,ude),c.createElementVNode("div",dde,c.toDisplayString(a.value?u.$t("numberOfChatroom",a.value):u.$t("no-chatroom")),1)]),o.value>0?(c.openBlock(),c.createElementBlock("div",fde,c.toDisplayString(o.value),1)):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-14 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:c.withModifiers(f,["stop"])},hde),c.createElementVNode("div",{class:"hover:(scale-110 !flex) absolute right-4 hidden h-8 w-8 transform items-center justify-center rounded-full bg-white shadow-md transition group-hover:flex dark:bg-zinc-800",onClick:c.withModifiers(d,["stop"])},pde)]))}}),gde=c.defineComponent({__name:"RoomListWrapperCell",props:{source:{}},setup(t){return(e,r)=>e.source instanceof c.unref(Fu)?(c.openBlock(),c.createBlock(que,{key:0,source:e.source},null,8,["source"])):(c.openBlock(),c.createBlock(mde,{key:1,source:e.source},null,8,["source"]))}}),Pb=t=>(c.pushScopeId("data-v-4b24a960"),t=t(),c.popScopeId(),t),yde={class:"mb-1 flex items-center justify-between text-xl font-medium text-gray-700 dark:text-gray-300"},bde=["placeholder"],vde={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},_de=Pb(()=>c.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:$d},null,-1)),wde={class:"grow overflow-hidden"},xde=["placeholder"],Tde={key:0,slot:"header",class:"flex flex-col gap-1"},Ade=[Pb(()=>c.createElementVNode("div",{class:"loading h-[34px] w-[34px] rounded-xl"},null,-1)),Pb(()=>c.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[c.createElementVNode("div",{class:"loading h-3 w-full rounded-md"}),c.createElementVNode("div",{class:"loading h-3 w-4/5 rounded-md"})],-1))],Cde={class:"flex items-center justify-center gap-2"},Sde=["disabled"],Ede=pr(c.defineComponent({__name:"MassTextingModal",setup(t){const e=rn(),r=Bt(),n=c.ref(""),i=c.computed(()=>r.state.imkit.searchKeyword?r.state.imkit.searchRooms[oi.RoomName]||[]:Object.values(r.state.imkit.rooms).sort((p,m)=>{const y=!!r.state.imkit.selectedRoomIdsForCreateFolder[p.id],b=!!r.state.imkit.selectedRoomIdsForCreateFolder[m.id];return y&&!b?-1:!y&&b?1:y&&b?r.state.imkit.selectedRoomIdsForCreateFolder[p.id]-r.state.imkit.selectedRoomIdsForCreateFolder[m.id]:0})),o=c.computed(()=>n.value.length>0),s=c.ref(""),a=c.ref(!1),d=ud(1e3,async()=>{s.value!==r.state.imkit.searchKeyword&&(s.value?r.dispatch("imkit/searchRooms",s.value):r.commit("imkit/setState",{searchKeyword:""}))}),f=sb(500,d,{atBegin:!1});c.watch(s,f);const u=c.computed(()=>!!r.state.imkit.isRequesting[oo.Search]),h=async()=>{await r.dispatch("imkit/batchSendMessage",{message:n.value,messageType:"text",paras:Object.keys(r.state.imkit.selectedRoomIdsForCreateFolder).map(p=>({room:p}))}),r.commit("imkit/setState",{selectedRoomIdsForCreateFolder:{},searchKeyword:""})};return(p,m)=>(c.openBlock(),c.createBlock(c.unref(zi),{class:"flex items-center justify-center","content-class":"bg-white dark:bg-zinc-800 rounded-xl p-5 flex flex-col gap-3 w-[360px]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:c.withCtx(()=>[c.createElementVNode("div",yde,c.toDisplayString(p.$t("massTexting")),1),c.withDirectives(c.createElementVNode("textarea",{rows:"3",class:"grow rounded-md bg-gray-100 p-2 placeholder-gray-400 outline-none dark:bg-zinc-700",placeholder:p.$t("inputMessage"),"onUpdate:modelValue":m[0]||(m[0]=y=>n.value=y)},null,8,bde),[[c.vModelText,n.value]]),c.createVNode(c.unref(qd),{class:"h-[50vh] overflow-auto","data-key":"id","data-sources":i.value,"data-component":KD,"wrap-class":"flex flex-col gap-1.5","estimated-size":44},{header:c.withCtx(()=>[c.createElementVNode("div",vde,[_de,c.createElementVNode("div",wde,[c.withDirectives(c.createElementVNode("input",{ref:"searchInput",class:"bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":m[1]||(m[1]=y=>s.value=y),placeholder:p.$t("search"),onCompositionstart:m[2]||(m[2]=y=>a.value=!0),onCompositionend:m[3]||(m[3]=y=>a.value=!1)},null,40,xde),[[c.vModelText,s.value]])]),s.value?(c.openBlock(),c.createElementBlock("img",{key:0,src:kp,class:"h-5 w-5 cursor-pointer",onClick:m[4]||(m[4]=()=>{c.unref(f).cancel({upcomingOnly:!0}),s.value="",c.unref(d)()})})):c.createCommentVNode("",!0)]),u.value?(c.openBlock(),c.createElementBlock("div",Tde,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(10,y=>c.createElementVNode("div",{key:y,class:"flex gap-3 p-2"},Ade)),64))])):c.createCommentVNode("",!0)]),_:1},8,["data-sources"]),c.createElementVNode("div",Cde,[c.createElementVNode("button",{class:"disabled:(bg-blue-200 cursor-not-allowed) h-10 grow rounded-lg border border-blue-400 text-base text-blue-400",onClick:m[5]||(m[5]=()=>{c.unref(e).closeAll()})},c.toDisplayString(p.$t("cancel")),1),c.createElementVNode("button",{class:c.normalizeClass(["h-10 grow rounded-lg bg-blue-400 text-base text-white",{"cursor-not-allowed !bg-gray-400":!o.value}]),disabled:!o.value,onClick:m[6]||(m[6]=()=>{h(),c.unref(e).closeAll()})},c.toDisplayString(p.$t("confirm")),11,Sde)])]),_:1}))}}),[["__scopeId","data-v-4b24a960"]]),kde={},Ide={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",class:"fill-slate-700 dark:fill-slate-300"},Dde=[c.createElementVNode("g",null,[c.createElementVNode("path",{d:"M17.005,15.005H7c-2.754,0-4.995,2.241-4.995,4.995v5c0,2.754,2.241,4.995,4.995,4.995h10.005V15.005z"}),c.createElementVNode("path",{d:"M17.837,40.925c-0.271-0.427-0.704-2.805-0.812-8.93h-0.02H7c-0.123,0-0.243-0.012-0.364-0.018c1.13,3.08,2.197,8.651,2.97,12.7c0.157,0.822,0.635,3.323,3.84,3.323h3.335C19.441,47.999,20,46.368,20,45C20,43.223,19.001,42.08,17.837,40.925z"}),c.createElementVNode("g",null,[c.createElementVNode("path",{d:"M39.852,1.999c-1.485,0-2.395,1.359-3.655,3.241c-2.371,3.542-6.314,9.383-17.202,9.727v15.061c11.029,0.298,14.808,6.388,17.316,10.462C37.564,42.528,38.47,44,40.074,44C41.378,44,43,44,43,23C43,1.999,41.029,1.999,39.852,1.999z"}),c.createElementVNode("path",{d:"M44.977,19.289C44.992,20.467,45,21.699,45,23c0,1.691-0.011,3.263-0.031,4.734c1.752-0.6,2.984-2.2,2.984-4.149C47.954,21.604,46.707,19.928,44.977,19.289z"})])],-1)];function Mde(t,e){return c.openBlock(),c.createElementBlock("svg",Ide,Dde)}const Nde=pr(kde,[["render",Mde]]),Gp=t=>(c.pushScopeId("data-v-13165148"),t=t(),c.popScopeId(),t),Ode={class:"relative overflow-auto"},Lde={class:"mb-2 flex h-12 items-center gap-2 rounded-lg bg-gray-100 p-3 dark:bg-zinc-700"},Bde=Gp(()=>c.createElementVNode("img",{class:"h-6 w-6 cursor-pointer",src:$d},null,-1)),Rde={class:"grow overflow-hidden"},Pde=["placeholder"],Fde={key:0,class:"mb-2 flex items-center gap-2 overflow-auto text-sm text-gray-900 dark:text-gray-200"},Ude=["onClick"],jde={key:1,slot:"header",class:"flex flex-col gap-1"},$de=[Gp(()=>c.createElementVNode("div",{class:"loading h-[50px] w-[50px] rounded-2xl bg-white dark:bg-zinc-800"},null,-1)),Gp(()=>c.createElementVNode("div",{class:"flex grow flex-col justify-center gap-2"},[c.createElementVNode("div",{class:"loading h-5 w-full rounded-md bg-white dark:bg-zinc-800"}),c.createElementVNode("div",{class:"loading h-4 w-4/5 rounded-md bg-white dark:bg-zinc-800"})],-1))],zde={class:"absolute bottom-0 right-0 flex flex-col items-end gap-2 p-3"},Vde={key:0,class:"transform-gpu flex-col items-stretch gap-1 rounded-lg bg-white p-1.5 text-base text-gray-800 shadow-md dark:bg-zinc-800 dark:text-gray-200"},Hde=[Gp(()=>c.createElementVNode("img",{width:"30",height:"30",src:oce},null,-1))],qde=pr(c.defineComponent({__name:"RoomList",setup(t){const e=Bt(),r=c.ref(""),n=rn(),i=c.ref(!1),o=c.ref(),s=c.computed(()=>e.state.imkit.sortedRooms),a=c.computed(()=>e.state.imkit.sortedFolderIds.map(S=>e.state.imkit.folders[S]).filter(S=>S)),l=c.computed(()=>e.state.imkit.folders[e.state.imkit.selectedFolderId]),d=c.computed(()=>e.state.imkit.searchType),f=c.computed(()=>e.state.imkit.searchKeyword?Object.keys(e.state.imkit.searchRooms):[]),u=c.computed(()=>e.state.imkit.roomTag),h=c.computed(()=>e.state.imkit.config.settings),p=c.computed(()=>{if(e.state.imkit.searchKeyword&&n.modals.length===0){if(d.value===oi.RoomPrefFolder&&l.value){const R=[...e.state.imkit.searchRooms[d.value]],z=l.value.roomIds.map(P=>e.state.imkit.rooms[P]).filter(P=>u.value?P&&P.roomTags.includes(u.value):P),F=R.findIndex(P=>P.id===l.value.id);return F>-1&&R.splice(F+1,0,...z),R}return e.state.imkit.searchRooms[d.value]||[]}const S=[...a.value,...s.value];if(l.value){const R=e.getters["imkit/roomsInSelectedFolder"],z=a.value.findIndex(F=>F.id===l.value.id);z>-1&&S.splice(z+1,0,...R)}return S}),m=c.ref(!1),y=c.ref(!1),b=c.computed(()=>n.modals.length===0&&(i.value||m.value||!!e.state.imkit.isRequesting[oo.Search]&&r.value.length>0)),v=()=>{e.dispatch("imkit/fetchRooms")},E=()=>{y.value=!y.value},A=()=>{const{open:S}=Vi({component:XD});S()},k=()=>{const{open:S}=Vi({component:Ede});S()},T=ud(1e3,async()=>{r.value!==e.state.imkit.searchKeyword&&(r.value?e.dispatch("imkit/searchRooms",r.value):(e.commit("imkit/setState",{sortedRooms:[],numberOfFetchedRooms:0,numberOfTotalRooms:0,folders:{},sortedFolderIds:[],roomIdsInFolders:{},searchKeyword:""}),D()))}),O=sb(500,T,{atBegin:!1});c.watch(r,O),c.watch(s,S=>{if(W3.config.settings.autoSelectRoomWhenLoaded&&!e.state.imkit.selectedRoomId&&document.body.clientWidth>640){const R=Object.values(S).find(z=>z.numberOfUnread===0);R&&e.commit("imkit/setState",{selectedRoomId:R.id})}});const D=async()=>{m.value=!0,await e.dispatch("imkit/fetchPrefs"),await e.dispatch("imkit/fetchRooms"),m.value=!1,await e.dispatch("imkit/fetchRoomsInFolders")};return D(),(S,R)=>(c.openBlock(),c.createElementBlock("div",Ode,[c.createVNode(c.unref(qd),{class:"h-full overflow-auto p-2 transition ease-in-out","data-key":"id","data-sources":p.value,"data-component":gde,"wrap-class":"flex flex-col gap-1.5","estimated-size":66,keeps:60,onTobottom:v},{header:c.withCtx(()=>[c.createElementVNode("div",Lde,[Bde,c.createElementVNode("div",Rde,[c.withDirectives(c.createElementVNode("input",{ref_key:"searchInput",ref:o,class:"w-full bg-gray-100 placeholder-gray-400 outline-none dark:bg-zinc-700","onUpdate:modelValue":R[0]||(R[0]=z=>r.value=z),placeholder:S.$t("search"),onCompositionstart:R[1]||(R[1]=z=>i.value=!0),onCompositionend:R[2]||(R[2]=z=>i.value=!1)},null,40,Pde),[[c.vModelText,r.value]])]),r.value?(c.openBlock(),c.createElementBlock("img",{key:0,src:kp,class:"h-5 w-5 cursor-pointer",onClick:R[3]||(R[3]=()=>{c.unref(O).cancel({upcomingOnly:!0}),r.value="",c.unref(T)()})})):c.createCommentVNode("",!0)]),f.value.length>0&&c.unref(n).modals.length===0?(c.openBlock(),c.createElementBlock("div",Fde,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(f.value,z=>(c.openBlock(),c.createElementBlock("div",{key:z,class:c.normalizeClass(["cursor-pointer whitespace-nowrap rounded-lg p-2 hover:bg-gray-100 hover:dark:bg-white hover:dark:text-gray-900",{"bg-gray-100 font-medium text-gray-800":z===d.value}]),onClick:F=>c.unref(e).commit("imkit/setState",{searchType:z})},c.toDisplayString(S.$t(z)),11,Ude))),128))])):c.createCommentVNode("",!0),b.value?(c.openBlock(),c.createElementBlock("div",jde,[(c.openBlock(),c.createElementBlock(c.Fragment,null,c.renderList(20,z=>c.createElementVNode("div",{key:z,class:"flex gap-3 p-2"},$de)),64))])):c.createCommentVNode("",!0)]),_:1},8,["data-sources"]),c.withDirectives((c.openBlock(),c.createElementBlock("div",zde,[c.createVNode(c.Transition,{name:"slide-fade"},{default:c.withCtx(()=>[y.value?(c.openBlock(),c.createElementBlock("div",Vde,[h.value.massTextingEnabled?(c.openBlock(),c.createElementBlock("div",{key:0,class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:k},[c.createVNode(Nde,{class:"h-6 w-6"}),c.createTextVNode(" "+c.toDisplayString(S.$t("massTexting")),1)])):c.createCommentVNode("",!0),c.createElementVNode("div",{class:"flex cursor-pointer items-center justify-start gap-2 rounded p-2 hover:bg-gray-100 hover:dark:bg-zinc-700",onClick:A},[c.createVNode(YD,{class:"h-6 w-6"}),c.createTextVNode(" "+c.toDisplayString(S.$t("createFolder")),1)])])):c.createCommentVNode("",!0)]),_:1}),c.createElementVNode("button",{class:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-slate-500 shadow-md hover:scale-110 hover:transform hover:transition sm:group-hover:flex",onClick:c.withModifiers(E,["stop"])},Hde)])),[[c.unref(fd),()=>{y.value=!1}]])]))}}),[["__scopeId","data-v-13165148"]]);function ZD(t){return t.type.indexOf("mouse")!==-1?t.clientX:t.touches[0].clientX}function JD(t){return t.type.indexOf("mouse")!==-1?t.clientY:t.touches[0].clientY}var Wde=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}(),Gde={install:function(t,e){var r=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100,namespace:"touch"},e);function n(y){var b=this.$$touchObj,v=y.type.indexOf("touch")>=0,E=y.type.indexOf("mouse")>=0,A=this;v&&(b.lastTouchStartTime=y.timeStamp),!(E&&b.lastTouchStartTime&&y.timeStamp-b.lastTouchStartTime<350)&&(b.touchStarted||(u(this),b.touchStarted=!0,b.touchMoved=!1,b.swipeOutBounded=!1,b.startX=ZD(y),b.startY=JD(y),b.currentX=0,b.currentY=0,b.touchStartTime=y.timeStamp,b.hasSwipe=d(this,"swipe")||d(this,"swipe.left")||d(this,"swipe.right")||d(this,"swipe.top")||d(this,"swipe.bottom"),d(this,"hold")&&(b.touchHoldTimer=setTimeout(function(){b.touchHoldTimer=null,f(y,A,"hold")},b.options.touchHoldTolerance)),f(y,this,"press")))}function i(y){var b=this.$$touchObj,v=ZD(y),E=JD(y),A=b.currentX!=v||b.currentY!=E;if(b.currentX=v,b.currentY=E,b.touchMoved){if(b.hasSwipe&&!b.swipeOutBounded){var C=b.options.swipeTolerance;b.swipeOutBounded=Math.abs(b.startX-b.currentX)>C&&Math.abs(b.startY-b.currentY)>C}}else{var k=b.options.tapTolerance;b.touchMoved=Math.abs(b.startX-b.currentX)>k||Math.abs(b.startY-b.currentY)>k,b.touchMoved&&(p(b),f(y,this,"drag.once"))}if(d(this,"rollover")&&A){var T=y.timeStamp,O=b.options.rollOverFrequency;(b.touchRollTime==null||T>b.touchRollTime+O)&&(b.touchRollTime=T,f(y,this,"rollover"))}if(d(this,"drag")&&b.touchStarted&&b.touchMoved&&A){var T=y.timeStamp,O=b.options.dragFrequency;(b.touchDragTime==null||T>b.touchDragTime+O)&&(b.touchDragTime=T,f(y,this,"drag"))}}function o(){var y=this.$$touchObj;p(y),h(this),y.touchStarted=y.touchMoved=!1,y.startX=y.startY=0}function s(y){var b=this.$$touchObj,v=y.type.indexOf("touch")>=0,E=y.type.indexOf("mouse")>=0;v&&(b.lastTouchEndTime=y.timeStamp);var A=v&&!b.touchHoldTimer;if(p(b),b.touchStarted=!1,h(this),!(E&&b.lastTouchEndTime&&y.timeStamp-b.lastTouchEndTime<350))if(f(y,this,"release"),b.touchMoved){if(b.hasSwipe&&!b.swipeOutBounded){var k=b.options.swipeTolerance,C,T=Math.abs(b.startY-b.currentY),O=Math.abs(b.startX-b.currentX);(T>k||O>k)&&(T>O?C=b.startY>b.currentY?"top":"bottom":C=b.startX>b.currentX?"left":"right",d(this,"swipe."+C)?f(y,this,"swipe."+C,C):f(y,this,"swipe",C))}}else if(d(this,"longtap")&&y.timeStamp-b.touchStartTime>b.options.longTapTimeInterval)y.cancelable&&y.preventDefault(),f(y,this,"longtap");else if(d(this,"hold")&&A){y.cancelable&&y.preventDefault();return}else f(y,this,"tap")}function a(){u(this)}function l(){h(this)}function d(y,b){var v=y.$$touchObj.callbacks[b];return v!=null&&v.length>0}function f(y,b,v,E){var A=b.$$touchObj,k=A.callbacks[v];if(k==null||k.length===0)return null;for(var C=0;C<k.length;C++){var T=k[C];T.modifiers.stop&&y.stopPropagation(),T.modifiers.prevent&&y.preventDefault(),!(T.modifiers.self&&y.target!==y.currentTarget)&&typeof T.value=="function"&&(E?T.value(E,y):T.value(y))}}function u(y){var b=y.$$touchObj.options.touchClass;b&&y.classList.add(b)}function h(y){var b=y.$$touchObj.options.touchClass;b&&y.classList.remove(b)}function p(y){y&&y.touchHoldTimer&&(clearTimeout(y.touchHoldTimer),y.touchHoldTimer=null)}function m(y,b){var v=y.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:r};return b&&(v.options=Object.assign({},v.options,b)),y.$$touchObj=v,y.$$touchObj}t.directive(r.namespace,{beforeMount:function(y,b){var v=m(y),E=Wde?{passive:!0}:!1,A=b.arg||"tap";switch(A){case"swipe":var k=b.modifiers;if(k.left||k.right||k.top||k.bottom){for(var C in b.modifiers)if(["left","right","top","bottom"].indexOf(C)>=0){var T="swipe."+C;v.callbacks[T]=v.callbacks[T]||[],v.callbacks[T].push(b)}}else v.callbacks.swipe=v.callbacks.swipe||[],v.callbacks.swipe.push(b);break;case"press":case"drag":b.modifiers.disablePassive&&(E=!1);default:v.callbacks[A]=v.callbacks[A]||[],v.callbacks[A].push(b)}v.hasBindTouchEvents||(y.addEventListener("touchstart",n,E),y.addEventListener("touchmove",i,E),y.addEventListener("touchcancel",o),y.addEventListener("touchend",s),v.options.disableClick||(y.addEventListener("mousedown",n),y.addEventListener("mousemove",i),y.addEventListener("mouseup",s),y.addEventListener("mouseenter",a),y.addEventListener("mouseleave",l)),v.hasBindTouchEvents=!0)},unmounted:function(y){p(y.$$touchObj),y.removeEventListener("touchstart",n),y.removeEventListener("touchmove",i),y.removeEventListener("touchcancel",o),y.removeEventListener("touchend",s),y.$$touchObj&&!y.$$touchObj.options.disableClick&&(y.removeEventListener("mousedown",n),y.removeEventListener("mousemove",i),y.removeEventListener("mouseup",s),y.removeEventListener("mouseenter",a),y.removeEventListener("mouseleave",l)),delete y.$$touchObj}}),t.directive(`${r.namespace}-class`,{beforeMount:function(y,b){m(y,{touchClass:b.value})}}),t.directive(`${r.namespace}-options`,{beforeMount:function(y,b){m(y,b.value)}})}};function Qp(t,e,r){const{url:n}=e,i=n==null?void 0:n.split("?")[0];if(!i)return;const o={};o[i]=t==0?new Date:null,r.commit("imkit/updateField",{key:"isRequesting",value:o})}const Qde=async t=>{localStorage.getItem("imkit-token")&&(localStorage.removeItem("imkit-token"),window.location.reload())};function Yde(t,e){const{domain:r}=t,n=Kt.create({baseURL:r});return n.interceptors.request.use(i=>{Qp(0,i,e);const o=new U3({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return i.headers=o,i},i=>{const{config:o}=i;return Qp(1,o,e),Promise.reject(i)}),n.interceptors.response.use(i=>{const{config:o}=i;return Qp(1,o,e),i},async i=>{const{config:o}=i;if(Qp(1,o,e),i.response.status===401){await Qde();const s=new U3({"IM-Authorization":e.state.imkit.config.token,"IM-Client-Key":e.state.imkit.config.clientKey});return o.headers=s,Kt.request(o)}return Promise.reject(i)}),n}function Kde(t,e){const{domain:r,clientKey:n,token:i}=t,o=Iu(r,{forceBase64:!0,transports:["websocket"]});return o.on("connect",()=>{o.emit("auth2",i,{CLIENT_KEY:n,Authorization:i},s=>{console.log(s)})}),o.on("disconnect",s=>{console.log(s)}),o.on("chat message",s=>{e.dispatch("imkit/handleMessageFromSocket",nr.fromRaw(s))}),o.on("room",s=>{const a=new Fu(s,e.state.uid);if(!a.id)return;const l={};for(const d of s.members)l[d.id]||(l[d.id]=new Wo(d));e.dispatch("imkit/handleRoomFromSocket",a),e.commit("imkit/updateField",{key:"users",value:l})}),o.on("lastRead",s=>{const{roomID:a,memberID:l,messageID:d}=s;e.dispatch("imkit/handleLastReadFromSocket",{roomId:a,uid:l,messageId:d})}),o.on("roomPref",s=>{const{room:a,...l}=s;a&&(e.commit("imkit/updateRoom",{id:a,pref:l}),l.sticky!==void 0&&e.dispatch("imkit/aggregateRoomsAndFolders"))}),o.on("myPrefChange",s=>{e.dispatch("imkit/handlePrefChangeFromSocket",s)}),o.on("myPrefDelete",s=>{e.dispatch("imkit/handlePrefDeleteFromSocket",s)}),o.on("typing",s=>{e.dispatch("imkit/handleTypingFromSocket",s)}),o}const e6={"en-US":{close:"Close",confirm:"Confirm",folderName:"Folder Name",createFolder:"Create Folder",tag:"Tag",inputTag:"Input Tag",inputTagPlaceholder:"Input Tag Color #02B13F",download:"Download",someoneUnsentMessage:"{0} unsent a message",read:"Read",pin:"Pin",unpin:"Unpin",emptyChat:"Empty Chat",members:"Members",createdAt:"Created At",updatedAt:"Updated At",leaveGroup:"Leave Group",text:"Text",image:"Image",video:"Video",sticker:"Sticker",message:"Message",youSent:"{0} sent",someoneSent:"{0} sent a {1}",tapOpen:"Tap here to open the link.",TypeMessage:"Type a message...",isTyping:"{0} is typing...",someoneJoinedTheChat:"{0} joined the chat",someoneLeftTheChat:"{0} left the chat",someoneInvited:"{0} invited {1}",someoneKicked:"{0} kicked {1}",youUnsentMessage:"You unsent a message",fileSize:"File size",file:"File",translation:"Translation",search:"Search",location:"Location",sendCurrentLocation:"Send Current Location",noAccessLocationPermission:"No access location permission.","locationInfoUnavailable.":"Location information is unavailable.",requestLocationTimeout:"The request to get location timed out.",addressUnavailable:"The address is unavailable.",audio:"Audio Message",noAccessMicrophonePermission:"No access microphone permission.",removeFromFolder:"Remove from folder",editFolder:"Edit Folder",addToFolder:"Add to Folder",numberOfChatroom:"{n} Chatrooms","no-chatroom":"No chatroom",roomName:"Room Name",roomMember:"Member",roomPrefTags:"Tag",roomPrefFolder:"Folder",roomTags:"Attribute",massTexting:"Mass Texting",inputMessage:"Input Message",searchInConversation:"Search in Conversation",yesterday:"Yesterday",today:"Today",confirmToDeleteFolder:"Confirm Delete Folder",hide:"Hide",delete:"Delete",cancel:"Cancel",create:"Create",save:"Save",createTag:"Create Tag",confirmDeleteTag:"Confirm Delete Tag?",editTag:"Edit Tag",chooseColor:"Choose Color"},"zh-TW":{close:"",confirm:"",folderName:"",createFolder:"",tag:"",inputTag:"",inputTagPlaceholder:" #02B13F",download:"",someoneUnsentMessage:"{0} ",read:"",pin:"",unpin:"",emptyChat:"",members:"",createdAt:"",updatedAt:"",leaveGroup:"",text:"",image:"",video:"",sticker:"",message:"",youSent:"{0}",someoneSent:"{0}{1}",tapOpen:"",TypeMessage:"...",isTyping:"{0} ...",someoneJoinedTheChat:"{0}",someoneLeftTheChat:"{0}",someoneInvited:"{0}{1}",someoneKicked:"{0}{1}",youUnsentMessage:"",fileSize:"",file:"",translation:"",search:"",location:"",sendCurrentLocation:"",noAccessLocationPermission:"","locationInfoUnavailable.":"",requestLocationTimeout:"",addressUnavailable:"",audio:"",noAccessMicrophonePermission:"",removeFromFolder:"",editFolder:"",addToFolder:"",numberOfChatroom:"{n} ","no-chatroom":"",roomName:"",roomMember:"",roomPrefTags:"",roomPrefFolder:"",roomTags:"",massTexting:"",inputMessage:"",searchInConversation:"",yesterday:"",today:"",confirmToDeleteFolder:"",hide:"",delete:"",cancel:"",create:"",save:"",createTag:"",confirmDeleteTag:"?",editTag:""},"ja-JP":{close:"",confirm:"",folderName:"",createFolder:"",tag:"",inputTag:"",inputTagPlaceholder:"#02B13F",download:"",someoneUnsentMessage:"{0}",read:"",pin:"",unpin:"",emptyChat:"",members:"",createdAt:"",updatedAt:"",leaveGroup:"",text:"",image:"",video:"",sticker:"",message:"",youSent:"{0}",someoneSent:"{0}{1}",tapOpen:"",TypeMessage:"...",isTyping:"{0}...",someoneJoinedTheChat:"{0}",someoneLeftTheChat:"{0}",someoneInvited:"{0}{1}",someoneKicked:"{0}{1}",youUnsentMessage:"",fileSize:"",file:"",translation:"",search:"",location:"",sendCurrentLocation:"",noAccessLocationPermission:"","locationInfoUnavailable.":"",requestLocationTimeout:"",addressUnavailable:"",audio:"",noAccessMicrophonePermission:"",removeFromFolder:"",editFolder:"",addToFolder:"",numberOfChatroom:"{n}","no-chatroom":"",roomName:"",roomMember:"",roomPrefTags:"",roomPrefFolder:"",roomTags:"",massTexting:"",inputMessage:"",searchInConversation:"",yesterday:"",today:"",confirmToDeleteFolder:"",hide:"",delete:"",cancel:"",create:"",save:"",createTag:"",confirmDeleteTag:"",editTag:"",chooseColor:""}},Xde=aO({legacy:!1,locale:navigator.language in e6?navigator.language:"en-US",messages:e6}),Zde={install:async(t,e)=>{console.log("IMKIT version:",Qk);const{store:r,config:n}=e;r.hasModule("imkit")||r.registerModule("imkit",sE);let i="";try{const{id:a,_id:l}=U6(n.token);i=a||l}catch(a){console.log(a)}const o=Yde(n,r),s=Kde(n,r);r.commit("imkit/setState",{config:n,uid:i,axios:o,socket:s}),t.use(Y5()),t.use(Xde),t.use(Gde,{disableClick:!1}),t.directive("src",async(a,l)=>{const{value:d,oldValue:f}=l;if(d.startsWith("data:")){a.src=d;return}const{imageCache:u}=r.state.imkit;if(f===void 0||d!==f){if(u.has(d)){a.src=u.get(d);return}try{a.classList.add("opacity-0");const h=await o.get(d,{responseType:"arraybuffer",onDownloadProgress:y=>{const{total:b}=y;b&&r.commit("imkit/updateField",{key:"downloadProgresses",value:{[d]:y.loaded/b}})}}),p=btoa(new Uint8Array(h.data).reduce((y,b)=>y+String.fromCharCode(b),"")),m=`data:${h.headers["content-type"]};base64,${p}`;u.set(d,m),a.src=m}catch{a.src=d}a.classList.remove("opacity-0")}})}};lt.ChatRoom=zle,lt.ChatRoomInfo=ice,lt.ModalsContainer=Z5,lt.RoomList=qde,lt.default=Zde,Object.defineProperties(lt,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
